function A7e(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Si=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function so(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function R7e(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Ij={exports:{}},e2={},Dj={exports:{}},gr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hae;function I7e(){if(hae)return gr;hae=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),d=Symbol.iterator;function f(L){return L===null||typeof L!="object"?null:(L=d&&L[d]||L["@@iterator"],typeof L=="function"?L:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,m={};function g(L,z,U){this.props=L,this.context=z,this.refs=m,this.updater=U||h}g.prototype.isReactComponent={},g.prototype.setState=function(L,z){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,z,"setState")},g.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function y(){}y.prototype=g.prototype;function v(L,z,U){this.props=L,this.context=z,this.refs=m,this.updater=U||h}var w=v.prototype=new y;w.constructor=v,p(w,g.prototype),w.isPureReactComponent=!0;var _=Array.isArray,C=Object.prototype.hasOwnProperty,S={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function k(L,z,U){var G,Q={},ne=null,ue=null;if(z!=null)for(G in z.ref!==void 0&&(ue=z.ref),z.key!==void 0&&(ne=""+z.key),z)C.call(z,G)&&!T.hasOwnProperty(G)&&(Q[G]=z[G]);var se=arguments.length-2;if(se===1)Q.children=U;else if(1<se){for(var ae=Array(se),he=0;he<se;he++)ae[he]=arguments[he+2];Q.children=ae}if(L&&L.defaultProps)for(G in se=L.defaultProps,se)Q[G]===void 0&&(Q[G]=se[G]);return{$$typeof:e,type:L,key:ne,ref:ue,props:Q,_owner:S.current}}function I(L,z){return{$$typeof:e,type:L.type,key:z,ref:L.ref,props:L.props,_owner:L._owner}}function R(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function P(L){var z={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(U){return z[U]})}var N=/\/+/g;function $(L,z){return typeof L=="object"&&L!==null&&L.key!=null?P(""+L.key):z.toString(36)}function O(L,z,U,G,Q){var ne=typeof L;(ne==="undefined"||ne==="boolean")&&(L=null);var ue=!1;if(L===null)ue=!0;else switch(ne){case"string":case"number":ue=!0;break;case"object":switch(L.$$typeof){case e:case t:ue=!0}}if(ue)return ue=L,Q=Q(ue),L=G===""?"."+$(ue,0):G,_(Q)?(U="",L!=null&&(U=L.replace(N,"$&/")+"/"),O(Q,z,U,"",function(he){return he})):Q!=null&&(R(Q)&&(Q=I(Q,U+(!Q.key||ue&&ue.key===Q.key?"":(""+Q.key).replace(N,"$&/")+"/")+L)),z.push(Q)),1;if(ue=0,G=G===""?".":G+":",_(L))for(var se=0;se<L.length;se++){ne=L[se];var ae=G+$(ne,se);ue+=O(ne,z,U,ae,Q)}else if(ae=f(L),typeof ae=="function")for(L=ae.call(L),se=0;!(ne=L.next()).done;)ne=ne.value,ae=G+$(ne,se++),ue+=O(ne,z,U,ae,Q);else if(ne==="object")throw z=String(L),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return ue}function j(L,z,U){if(L==null)return L;var G=[],Q=0;return O(L,G,"","",function(ne){return z.call(U,ne,Q++)}),G}function B(L){if(L._status===-1){var z=L._result;z=z(),z.then(function(U){(L._status===0||L._status===-1)&&(L._status=1,L._result=U)},function(U){(L._status===0||L._status===-1)&&(L._status=2,L._result=U)}),L._status===-1&&(L._status=0,L._result=z)}if(L._status===1)return L._result.default;throw L._result}var H={current:null},q={transition:null},Y={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:q,ReactCurrentOwner:S};function V(){throw Error("act(...) is not supported in production builds of React.")}return gr.Children={map:j,forEach:function(L,z,U){j(L,function(){z.apply(this,arguments)},U)},count:function(L){var z=0;return j(L,function(){z++}),z},toArray:function(L){return j(L,function(z){return z})||[]},only:function(L){if(!R(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},gr.Component=g,gr.Fragment=n,gr.Profiler=i,gr.PureComponent=v,gr.StrictMode=r,gr.Suspense=l,gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,gr.act=V,gr.cloneElement=function(L,z,U){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var G=p({},L.props),Q=L.key,ne=L.ref,ue=L._owner;if(z!=null){if(z.ref!==void 0&&(ne=z.ref,ue=S.current),z.key!==void 0&&(Q=""+z.key),L.type&&L.type.defaultProps)var se=L.type.defaultProps;for(ae in z)C.call(z,ae)&&!T.hasOwnProperty(ae)&&(G[ae]=z[ae]===void 0&&se!==void 0?se[ae]:z[ae])}var ae=arguments.length-2;if(ae===1)G.children=U;else if(1<ae){se=Array(ae);for(var he=0;he<ae;he++)se[he]=arguments[he+2];G.children=se}return{$$typeof:e,type:L.type,key:Q,ref:ne,props:G,_owner:ue}},gr.createContext=function(L){return L={$$typeof:o,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:s,_context:L},L.Consumer=L},gr.createElement=k,gr.createFactory=function(L){var z=k.bind(null,L);return z.type=L,z},gr.createRef=function(){return{current:null}},gr.forwardRef=function(L){return{$$typeof:a,render:L}},gr.isValidElement=R,gr.lazy=function(L){return{$$typeof:c,_payload:{_status:-1,_result:L},_init:B}},gr.memo=function(L,z){return{$$typeof:u,type:L,compare:z===void 0?null:z}},gr.startTransition=function(L){var z=q.transition;q.transition={};try{L()}finally{q.transition=z}},gr.unstable_act=V,gr.useCallback=function(L,z){return H.current.useCallback(L,z)},gr.useContext=function(L){return H.current.useContext(L)},gr.useDebugValue=function(){},gr.useDeferredValue=function(L){return H.current.useDeferredValue(L)},gr.useEffect=function(L,z){return H.current.useEffect(L,z)},gr.useId=function(){return H.current.useId()},gr.useImperativeHandle=function(L,z,U){return H.current.useImperativeHandle(L,z,U)},gr.useInsertionEffect=function(L,z){return H.current.useInsertionEffect(L,z)},gr.useLayoutEffect=function(L,z){return H.current.useLayoutEffect(L,z)},gr.useMemo=function(L,z){return H.current.useMemo(L,z)},gr.useReducer=function(L,z,U){return H.current.useReducer(L,z,U)},gr.useRef=function(L){return H.current.useRef(L)},gr.useState=function(L){return H.current.useState(L)},gr.useSyncExternalStore=function(L,z,U){return H.current.useSyncExternalStore(L,z,U)},gr.useTransition=function(){return H.current.useTransition()},gr.version="18.3.1",gr}var pae;function x5(){return pae||(pae=1,Dj.exports=I7e()),Dj.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mae;function D7e(){if(mae)return e2;mae=1;var e=x5(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,u){var c,d={},f=null,h=null;u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),l.ref!==void 0&&(h=l.ref);for(c in l)r.call(l,c)&&!s.hasOwnProperty(c)&&(d[c]=l[c]);if(a&&a.defaultProps)for(c in l=a.defaultProps,l)d[c]===void 0&&(d[c]=l[c]);return{$$typeof:t,type:a,key:f,ref:h,props:d,_owner:i.current}}return e2.Fragment=n,e2.jsx=o,e2.jsxs=o,e2}var gae;function P7e(){return gae||(gae=1,Ij.exports=D7e()),Ij.exports}var b=P7e(),A=x5();const mn=so(A),O7e=A7e({__proto__:null,default:mn},[A]);var ZI={},Pj={exports:{}},ru={},Oj={exports:{}},Nj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yae;function N7e(){return yae||(yae=1,(function(e){function t(q,Y){var V=q.length;q.push(Y);e:for(;0<V;){var L=V-1>>>1,z=q[L];if(0<i(z,Y))q[L]=Y,q[V]=z,V=L;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var Y=q[0],V=q.pop();if(V!==Y){q[0]=V;e:for(var L=0,z=q.length,U=z>>>1;L<U;){var G=2*(L+1)-1,Q=q[G],ne=G+1,ue=q[ne];if(0>i(Q,V))ne<z&&0>i(ue,Q)?(q[L]=ue,q[ne]=V,L=ne):(q[L]=Q,q[G]=V,L=G);else if(ne<z&&0>i(ue,V))q[L]=ue,q[ne]=V,L=ne;else break e}}return Y}function i(q,Y){var V=q.sortIndex-Y.sortIndex;return V!==0?V:q.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,h=!1,p=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(q){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=q)r(u),Y.sortIndex=Y.expirationTime,t(l,Y);else break;Y=n(u)}}function _(q){if(m=!1,w(q),!p)if(n(l)!==null)p=!0,B(C);else{var Y=n(u);Y!==null&&H(_,Y.startTime-q)}}function C(q,Y){p=!1,m&&(m=!1,y(k),k=-1),h=!0;var V=f;try{for(w(Y),d=n(l);d!==null&&(!(d.expirationTime>Y)||q&&!P());){var L=d.callback;if(typeof L=="function"){d.callback=null,f=d.priorityLevel;var z=L(d.expirationTime<=Y);Y=e.unstable_now(),typeof z=="function"?d.callback=z:d===n(l)&&r(l),w(Y)}else r(l);d=n(l)}if(d!==null)var U=!0;else{var G=n(u);G!==null&&H(_,G.startTime-Y),U=!1}return U}finally{d=null,f=V,h=!1}}var S=!1,T=null,k=-1,I=5,R=-1;function P(){return!(e.unstable_now()-R<I)}function N(){if(T!==null){var q=e.unstable_now();R=q;var Y=!0;try{Y=T(!0,q)}finally{Y?$():(S=!1,T=null)}}else S=!1}var $;if(typeof v=="function")$=function(){v(N)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,j=O.port2;O.port1.onmessage=N,$=function(){j.postMessage(null)}}else $=function(){g(N,0)};function B(q){T=q,S||(S=!0,$())}function H(q,Y){k=g(function(){q(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,B(C))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(q){switch(f){case 1:case 2:case 3:var Y=3;break;default:Y=f}var V=f;f=Y;try{return q()}finally{f=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,Y){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var V=f;f=q;try{return Y()}finally{f=V}},e.unstable_scheduleCallback=function(q,Y,V){var L=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?L+V:L):V=L,q){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=V+z,q={id:c++,callback:Y,priorityLevel:q,startTime:V,expirationTime:z,sortIndex:-1},V>L?(q.sortIndex=V,t(u,q),n(l)===null&&q===n(u)&&(m?(y(k),k=-1):m=!0,H(_,V-L))):(q.sortIndex=z,t(l,q),p||h||(p=!0,B(C))),q},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(q){var Y=f;return function(){var V=f;f=Y;try{return q.apply(this,arguments)}finally{f=V}}}})(Nj)),Nj}var vae;function $7e(){return vae||(vae=1,Oj.exports=N7e()),Oj.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bae;function M7e(){if(bae)return ru;bae=1;var e=x5(),t=$7e();function n(x){for(var E="https://reactjs.org/docs/error-decoder.html?invariant="+x,D=1;D<arguments.length;D++)E+="&args[]="+encodeURIComponent(arguments[D]);return"Minified React error #"+x+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(x,E){o(x,E),o(x+"Capture",E)}function o(x,E){for(i[x]=E,x=0;x<E.length;x++)r.add(E[x])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c={},d={};function f(x){return l.call(d,x)?!0:l.call(c,x)?!1:u.test(x)?d[x]=!0:(c[x]=!0,!1)}function h(x,E,D,F){if(D!==null&&D.type===0)return!1;switch(typeof E){case"function":case"symbol":return!0;case"boolean":return F?!1:D!==null?!D.acceptsBooleans:(x=x.toLowerCase().slice(0,5),x!=="data-"&&x!=="aria-");default:return!1}}function p(x,E,D,F){if(E===null||typeof E>"u"||h(x,E,D,F))return!0;if(F)return!1;if(D!==null)switch(D.type){case 3:return!E;case 4:return E===!1;case 5:return isNaN(E);case 6:return isNaN(E)||1>E}return!1}function m(x,E,D,F,K,Z,ce){this.acceptsBooleans=E===2||E===3||E===4,this.attributeName=F,this.attributeNamespace=K,this.mustUseProperty=D,this.propertyName=x,this.type=E,this.sanitizeURL=Z,this.removeEmptyString=ce}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(x){g[x]=new m(x,0,!1,x,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(x){var E=x[0];g[E]=new m(E,1,!1,x[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(x){g[x]=new m(x,2,!1,x.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(x){g[x]=new m(x,2,!1,x,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(x){g[x]=new m(x,3,!1,x.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(x){g[x]=new m(x,3,!0,x,null,!1,!1)}),["capture","download"].forEach(function(x){g[x]=new m(x,4,!1,x,null,!1,!1)}),["cols","rows","size","span"].forEach(function(x){g[x]=new m(x,6,!1,x,null,!1,!1)}),["rowSpan","start"].forEach(function(x){g[x]=new m(x,5,!1,x.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(x){return x[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(x){var E=x.replace(y,v);g[E]=new m(E,1,!1,x,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(x){var E=x.replace(y,v);g[E]=new m(E,1,!1,x,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(x){var E=x.replace(y,v);g[E]=new m(E,1,!1,x,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(x){g[x]=new m(x,1,!1,x.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(x){g[x]=new m(x,1,!1,x.toLowerCase(),null,!0,!0)});function w(x,E,D,F){var K=g.hasOwnProperty(E)?g[E]:null;(K!==null?K.type!==0:F||!(2<E.length)||E[0]!=="o"&&E[0]!=="O"||E[1]!=="n"&&E[1]!=="N")&&(p(E,D,K,F)&&(D=null),F||K===null?f(E)&&(D===null?x.removeAttribute(E):x.setAttribute(E,""+D)):K.mustUseProperty?x[K.propertyName]=D===null?K.type===3?!1:"":D:(E=K.attributeName,F=K.attributeNamespace,D===null?x.removeAttribute(E):(K=K.type,D=K===3||K===4&&D===!0?"":""+D,F?x.setAttributeNS(F,E,D):x.setAttribute(E,D))))}var _=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),P=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),q=Symbol.iterator;function Y(x){return x===null||typeof x!="object"?null:(x=q&&x[q]||x["@@iterator"],typeof x=="function"?x:null)}var V=Object.assign,L;function z(x){if(L===void 0)try{throw Error()}catch(D){var E=D.stack.trim().match(/\n( *(at )?)/);L=E&&E[1]||""}return`
`+L+x}var U=!1;function G(x,E){if(!x||U)return"";U=!0;var D=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(E)if(E=function(){throw Error()},Object.defineProperty(E.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(E,[])}catch(Qe){var F=Qe}Reflect.construct(x,[],E)}else{try{E.call()}catch(Qe){F=Qe}x.call(E.prototype)}else{try{throw Error()}catch(Qe){F=Qe}x()}}catch(Qe){if(Qe&&F&&typeof Qe.stack=="string"){for(var K=Qe.stack.split(`
`),Z=F.stack.split(`
`),ce=K.length-1,Ie=Z.length-1;1<=ce&&0<=Ie&&K[ce]!==Z[Ie];)Ie--;for(;1<=ce&&0<=Ie;ce--,Ie--)if(K[ce]!==Z[Ie]){if(ce!==1||Ie!==1)do if(ce--,Ie--,0>Ie||K[ce]!==Z[Ie]){var Fe=`
`+K[ce].replace(" at new "," at ");return x.displayName&&Fe.includes("<anonymous>")&&(Fe=Fe.replace("<anonymous>",x.displayName)),Fe}while(1<=ce&&0<=Ie);break}}}finally{U=!1,Error.prepareStackTrace=D}return(x=x?x.displayName||x.name:"")?z(x):""}function Q(x){switch(x.tag){case 5:return z(x.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return x=G(x.type,!1),x;case 11:return x=G(x.type.render,!1),x;case 1:return x=G(x.type,!0),x;default:return""}}function ne(x){if(x==null)return null;if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x;switch(x){case T:return"Fragment";case S:return"Portal";case I:return"Profiler";case k:return"StrictMode";case $:return"Suspense";case O:return"SuspenseList"}if(typeof x=="object")switch(x.$$typeof){case P:return(x.displayName||"Context")+".Consumer";case R:return(x._context.displayName||"Context")+".Provider";case N:var E=x.render;return x=x.displayName,x||(x=E.displayName||E.name||"",x=x!==""?"ForwardRef("+x+")":"ForwardRef"),x;case j:return E=x.displayName||null,E!==null?E:ne(x.type)||"Memo";case B:E=x._payload,x=x._init;try{return ne(x(E))}catch{}}return null}function ue(x){var E=x.type;switch(x.tag){case 24:return"Cache";case 9:return(E.displayName||"Context")+".Consumer";case 10:return(E._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return x=E.render,x=x.displayName||x.name||"",E.displayName||(x!==""?"ForwardRef("+x+")":"ForwardRef");case 7:return"Fragment";case 5:return E;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ne(E);case 8:return E===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof E=="function")return E.displayName||E.name||null;if(typeof E=="string")return E}return null}function se(x){switch(typeof x){case"boolean":case"number":case"string":case"undefined":return x;case"object":return x;default:return""}}function ae(x){var E=x.type;return(x=x.nodeName)&&x.toLowerCase()==="input"&&(E==="checkbox"||E==="radio")}function he(x){var E=ae(x)?"checked":"value",D=Object.getOwnPropertyDescriptor(x.constructor.prototype,E),F=""+x[E];if(!x.hasOwnProperty(E)&&typeof D<"u"&&typeof D.get=="function"&&typeof D.set=="function"){var K=D.get,Z=D.set;return Object.defineProperty(x,E,{configurable:!0,get:function(){return K.call(this)},set:function(ce){F=""+ce,Z.call(this,ce)}}),Object.defineProperty(x,E,{enumerable:D.enumerable}),{getValue:function(){return F},setValue:function(ce){F=""+ce},stopTracking:function(){x._valueTracker=null,delete x[E]}}}}function ie(x){x._valueTracker||(x._valueTracker=he(x))}function le(x){if(!x)return!1;var E=x._valueTracker;if(!E)return!0;var D=E.getValue(),F="";return x&&(F=ae(x)?x.checked?"true":"false":x.value),x=F,x!==D?(E.setValue(x),!0):!1}function Ee(x){if(x=x||(typeof document<"u"?document:void 0),typeof x>"u")return null;try{return x.activeElement||x.body}catch{return x.body}}function X(x,E){var D=E.checked;return V({},E,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:D??x._wrapperState.initialChecked})}function fe(x,E){var D=E.defaultValue==null?"":E.defaultValue,F=E.checked!=null?E.checked:E.defaultChecked;D=se(E.value!=null?E.value:D),x._wrapperState={initialChecked:F,initialValue:D,controlled:E.type==="checkbox"||E.type==="radio"?E.checked!=null:E.value!=null}}function de(x,E){E=E.checked,E!=null&&w(x,"checked",E,!1)}function te(x,E){de(x,E);var D=se(E.value),F=E.type;if(D!=null)F==="number"?(D===0&&x.value===""||x.value!=D)&&(x.value=""+D):x.value!==""+D&&(x.value=""+D);else if(F==="submit"||F==="reset"){x.removeAttribute("value");return}E.hasOwnProperty("value")?me(x,E.type,D):E.hasOwnProperty("defaultValue")&&me(x,E.type,se(E.defaultValue)),E.checked==null&&E.defaultChecked!=null&&(x.defaultChecked=!!E.defaultChecked)}function ee(x,E,D){if(E.hasOwnProperty("value")||E.hasOwnProperty("defaultValue")){var F=E.type;if(!(F!=="submit"&&F!=="reset"||E.value!==void 0&&E.value!==null))return;E=""+x._wrapperState.initialValue,D||E===x.value||(x.value=E),x.defaultValue=E}D=x.name,D!==""&&(x.name=""),x.defaultChecked=!!x._wrapperState.initialChecked,D!==""&&(x.name=D)}function me(x,E,D){(E!=="number"||Ee(x.ownerDocument)!==x)&&(D==null?x.defaultValue=""+x._wrapperState.initialValue:x.defaultValue!==""+D&&(x.defaultValue=""+D))}var Re=Array.isArray;function Te(x,E,D,F){if(x=x.options,E){E={};for(var K=0;K<D.length;K++)E["$"+D[K]]=!0;for(D=0;D<x.length;D++)K=E.hasOwnProperty("$"+x[D].value),x[D].selected!==K&&(x[D].selected=K),K&&F&&(x[D].defaultSelected=!0)}else{for(D=""+se(D),E=null,K=0;K<x.length;K++){if(x[K].value===D){x[K].selected=!0,F&&(x[K].defaultSelected=!0);return}E!==null||x[K].disabled||(E=x[K])}E!==null&&(E.selected=!0)}}function we(x,E){if(E.dangerouslySetInnerHTML!=null)throw Error(n(91));return V({},E,{value:void 0,defaultValue:void 0,children:""+x._wrapperState.initialValue})}function $e(x,E){var D=E.value;if(D==null){if(D=E.children,E=E.defaultValue,D!=null){if(E!=null)throw Error(n(92));if(Re(D)){if(1<D.length)throw Error(n(93));D=D[0]}E=D}E==null&&(E=""),D=E}x._wrapperState={initialValue:se(D)}}function Ae(x,E){var D=se(E.value),F=se(E.defaultValue);D!=null&&(D=""+D,D!==x.value&&(x.value=D),E.defaultValue==null&&x.defaultValue!==D&&(x.defaultValue=D)),F!=null&&(x.defaultValue=""+F)}function Oe(x){var E=x.textContent;E===x._wrapperState.initialValue&&E!==""&&E!==null&&(x.value=E)}function xe(x){switch(x){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function je(x,E){return x==null||x==="http://www.w3.org/1999/xhtml"?xe(E):x==="http://www.w3.org/2000/svg"&&E==="foreignObject"?"http://www.w3.org/1999/xhtml":x}var Ue,nt=(function(x){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(E,D,F,K){MSApp.execUnsafeLocalFunction(function(){return x(E,D,F,K)})}:x})(function(x,E){if(x.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in x)x.innerHTML=E;else{for(Ue=Ue||document.createElement("div"),Ue.innerHTML="<svg>"+E.valueOf().toString()+"</svg>",E=Ue.firstChild;x.firstChild;)x.removeChild(x.firstChild);for(;E.firstChild;)x.appendChild(E.firstChild)}});function it(x,E){if(E){var D=x.firstChild;if(D&&D===x.lastChild&&D.nodeType===3){D.nodeValue=E;return}}x.textContent=E}var wt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zt=["Webkit","ms","Moz","O"];Object.keys(wt).forEach(function(x){Zt.forEach(function(E){E=E+x.charAt(0).toUpperCase()+x.substring(1),wt[E]=wt[x]})});function Qt(x,E,D){return E==null||typeof E=="boolean"||E===""?"":D||typeof E!="number"||E===0||wt.hasOwnProperty(x)&&wt[x]?(""+E).trim():E+"px"}function Mn(x,E){x=x.style;for(var D in E)if(E.hasOwnProperty(D)){var F=D.indexOf("--")===0,K=Qt(D,E[D],F);D==="float"&&(D="cssFloat"),F?x.setProperty(D,K):x[D]=K}}var jt=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gn(x,E){if(E){if(jt[x]&&(E.children!=null||E.dangerouslySetInnerHTML!=null))throw Error(n(137,x));if(E.dangerouslySetInnerHTML!=null){if(E.children!=null)throw Error(n(60));if(typeof E.dangerouslySetInnerHTML!="object"||!("__html"in E.dangerouslySetInnerHTML))throw Error(n(61))}if(E.style!=null&&typeof E.style!="object")throw Error(n(62))}}function Kn(x,E){if(x.indexOf("-")===-1)return typeof E.is=="string";switch(x){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Un=null;function Dr(x){return x=x.target||x.srcElement||window,x.correspondingUseElement&&(x=x.correspondingUseElement),x.nodeType===3?x.parentNode:x}var Jn=null,br=null,Rn=null;function fn(x){if(x=jE(x)){if(typeof Jn!="function")throw Error(n(280));var E=x.stateNode;E&&(E=pI(E),Jn(x.stateNode,x.type,E))}}function sr(x){br?Rn?Rn.push(x):Rn=[x]:br=x}function ui(){if(br){var x=br,E=Rn;if(Rn=br=null,fn(x),E)for(x=0;x<E.length;x++)fn(E[x])}}function _r(x,E){return x(E)}function In(){}var ht=!1;function pr(x,E,D){if(ht)return x(E,D);ht=!0;try{return _r(x,E,D)}finally{ht=!1,(br!==null||Rn!==null)&&(In(),ui())}}function Yt(x,E){var D=x.stateNode;if(D===null)return null;var F=pI(D);if(F===null)return null;D=F[E];e:switch(E){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(F=!F.disabled)||(x=x.type,F=!(x==="button"||x==="input"||x==="select"||x==="textarea")),x=!F;break e;default:x=!1}if(x)return null;if(D&&typeof D!="function")throw Error(n(231,E,typeof D));return D}var tr=!1;if(a)try{var pn={};Object.defineProperty(pn,"passive",{get:function(){tr=!0}}),window.addEventListener("test",pn,pn),window.removeEventListener("test",pn,pn)}catch{tr=!1}function Qn(x,E,D,F,K,Z,ce,Ie,Fe){var Qe=Array.prototype.slice.call(arguments,3);try{E.apply(D,Qe)}catch(gt){this.onError(gt)}}var Cr=!1,Pr=null,Or=!1,oo=null,ka={onError:function(x){Cr=!0,Pr=x}};function Nu(x,E,D,F,K,Z,ce,Ie,Fe){Cr=!1,Pr=null,Qn.apply(ka,arguments)}function vc(x,E,D,F,K,Z,ce,Ie,Fe){if(Nu.apply(this,arguments),Cr){if(Cr){var Qe=Pr;Cr=!1,Pr=null}else throw Error(n(198));Or||(Or=!0,oo=Qe)}}function Vn(x){var E=x,D=x;if(x.alternate)for(;E.return;)E=E.return;else{x=E;do E=x,(E.flags&4098)!==0&&(D=E.return),x=E.return;while(x)}return E.tag===3?D:null}function Bi(x){if(x.tag===13){var E=x.memoizedState;if(E===null&&(x=x.alternate,x!==null&&(E=x.memoizedState)),E!==null)return E.dehydrated}return null}function ao(x){if(Vn(x)!==x)throw Error(n(188))}function ch(x){var E=x.alternate;if(!E){if(E=Vn(x),E===null)throw Error(n(188));return E!==x?null:x}for(var D=x,F=E;;){var K=D.return;if(K===null)break;var Z=K.alternate;if(Z===null){if(F=K.return,F!==null){D=F;continue}break}if(K.child===Z.child){for(Z=K.child;Z;){if(Z===D)return ao(K),x;if(Z===F)return ao(K),E;Z=Z.sibling}throw Error(n(188))}if(D.return!==F.return)D=K,F=Z;else{for(var ce=!1,Ie=K.child;Ie;){if(Ie===D){ce=!0,D=K,F=Z;break}if(Ie===F){ce=!0,F=K,D=Z;break}Ie=Ie.sibling}if(!ce){for(Ie=Z.child;Ie;){if(Ie===D){ce=!0,D=Z,F=K;break}if(Ie===F){ce=!0,F=Z,D=K;break}Ie=Ie.sibling}if(!ce)throw Error(n(189))}}if(D.alternate!==F)throw Error(n(190))}if(D.tag!==3)throw Error(n(188));return D.stateNode.current===D?x:E}function Id(x){return x=ch(x),x!==null?bc(x):null}function bc(x){if(x.tag===5||x.tag===6)return x;for(x=x.child;x!==null;){var E=bc(x);if(E!==null)return E;x=x.sibling}return null}var wc=t.unstable_scheduleCallback,lo=t.unstable_cancelCallback,dh=t.unstable_shouldYield,$u=t.unstable_requestPaint,mr=t.unstable_now,Dd=t.unstable_getCurrentPriorityLevel,Rs=t.unstable_ImmediatePriority,Io=t.unstable_UserBlockingPriority,Is=t.unstable_NormalPriority,Mu=t.unstable_LowPriority,ta=t.unstable_IdlePriority,Yl=null,Ds=null;function fh(x){if(Ds&&typeof Ds.onCommitFiberRoot=="function")try{Ds.onCommitFiberRoot(Yl,x,void 0,(x.current.flags&128)===128)}catch{}}var Ps=Math.clz32?Math.clz32:_e,ge=Math.log,Ne=Math.LN2;function _e(x){return x>>>=0,x===0?32:31-(ge(x)/Ne|0)|0}var Be=64,Ve=4194304;function Le(x){switch(x&-x){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return x&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return x}}function rt(x,E){var D=x.pendingLanes;if(D===0)return 0;var F=0,K=x.suspendedLanes,Z=x.pingedLanes,ce=D&268435455;if(ce!==0){var Ie=ce&~K;Ie!==0?F=Le(Ie):(Z&=ce,Z!==0&&(F=Le(Z)))}else ce=D&~K,ce!==0?F=Le(ce):Z!==0&&(F=Le(Z));if(F===0)return 0;if(E!==0&&E!==F&&(E&K)===0&&(K=F&-F,Z=E&-E,K>=Z||K===16&&(Z&4194240)!==0))return E;if((F&4)!==0&&(F|=D&16),E=x.entangledLanes,E!==0)for(x=x.entanglements,E&=F;0<E;)D=31-Ps(E),K=1<<D,F|=x[D],E&=~K;return F}function ct(x,E){switch(x){case 1:case 2:case 4:return E+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return E+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pt(x,E){for(var D=x.suspendedLanes,F=x.pingedLanes,K=x.expirationTimes,Z=x.pendingLanes;0<Z;){var ce=31-Ps(Z),Ie=1<<ce,Fe=K[ce];Fe===-1?((Ie&D)===0||(Ie&F)!==0)&&(K[ce]=ct(Ie,E)):Fe<=E&&(x.expiredLanes|=Ie),Z&=~Ie}}function dt(x){return x=x.pendingLanes&-1073741825,x!==0?x:x&1073741824?1073741824:0}function Et(){var x=Be;return Be<<=1,(Be&4194240)===0&&(Be=64),x}function qt(x){for(var E=[],D=0;31>D;D++)E.push(x);return E}function Fn(x,E,D){x.pendingLanes|=E,E!==536870912&&(x.suspendedLanes=0,x.pingedLanes=0),x=x.eventTimes,E=31-Ps(E),x[E]=D}function on(x,E){var D=x.pendingLanes&~E;x.pendingLanes=E,x.suspendedLanes=0,x.pingedLanes=0,x.expiredLanes&=E,x.mutableReadLanes&=E,x.entangledLanes&=E,E=x.entanglements;var F=x.eventTimes;for(x=x.expirationTimes;0<D;){var K=31-Ps(D),Z=1<<K;E[K]=0,F[K]=-1,x[K]=-1,D&=~Z}}function Zn(x,E){var D=x.entangledLanes|=E;for(x=x.entanglements;D;){var F=31-Ps(D),K=1<<F;K&E|x[F]&E&&(x[F]|=E),D&=~K}}var en=0;function ur(x){return x&=-x,1<x?4<x?(x&268435455)!==0?16:536870912:4:1}var Os,Aa,Ns,hh,xc,ph=!1,uo=[],zi=null,Di=null,Do=null,_c=new Map,Xs=new Map,Ra=[],mh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kl(x,E){switch(x){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":Do=null;break;case"pointerover":case"pointerout":_c.delete(E.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xs.delete(E.pointerId)}}function as(x,E,D,F,K,Z){return x===null||x.nativeEvent!==Z?(x={blockedOn:E,domEventName:D,eventSystemFlags:F,nativeEvent:Z,targetContainers:[K]},E!==null&&(E=jE(E),E!==null&&Aa(E)),x):(x.eventSystemFlags|=F,E=x.targetContainers,K!==null&&E.indexOf(K)===-1&&E.push(K),x)}function U0(x,E,D,F,K){switch(E){case"focusin":return zi=as(zi,x,E,D,F,K),!0;case"dragenter":return Di=as(Di,x,E,D,F,K),!0;case"mouseover":return Do=as(Do,x,E,D,F,K),!0;case"pointerover":var Z=K.pointerId;return _c.set(Z,as(_c.get(Z)||null,x,E,D,F,K)),!0;case"gotpointercapture":return Z=K.pointerId,Xs.set(Z,as(Xs.get(Z)||null,x,E,D,F,K)),!0}return!1}function gh(x){var E=vv(x.target);if(E!==null){var D=Vn(E);if(D!==null){if(E=D.tag,E===13){if(E=Bi(D),E!==null){x.blockedOn=E,xc(x.priority,function(){Ns(D)});return}}else if(E===3&&D.stateNode.current.memoizedState.isDehydrated){x.blockedOn=D.tag===3?D.stateNode.containerInfo:null;return}}}x.blockedOn=null}function na(x){if(x.blockedOn!==null)return!1;for(var E=x.targetContainers;0<E.length;){var D=yn(x.domEventName,x.eventSystemFlags,E[0],x.nativeEvent);if(D===null){D=x.nativeEvent;var F=new D.constructor(D.type,D);Un=F,D.target.dispatchEvent(F),Un=null}else return E=jE(D),E!==null&&Aa(E),x.blockedOn=D,!1;E.shift()}return!0}function Fu(x,E,D){na(x)&&D.delete(E)}function V0(){ph=!1,zi!==null&&na(zi)&&(zi=null),Di!==null&&na(Di)&&(Di=null),Do!==null&&na(Do)&&(Do=null),_c.forEach(Fu),Xs.forEach(Fu)}function dl(x,E){x.blockedOn===E&&(x.blockedOn=null,ph||(ph=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,V0)))}function Ia(x){function E(K){return dl(K,x)}if(0<uo.length){dl(uo[0],x);for(var D=1;D<uo.length;D++){var F=uo[D];F.blockedOn===x&&(F.blockedOn=null)}}for(zi!==null&&dl(zi,x),Di!==null&&dl(Di,x),Do!==null&&dl(Do,x),_c.forEach(E),Xs.forEach(E),D=0;D<Ra.length;D++)F=Ra[D],F.blockedOn===x&&(F.blockedOn=null);for(;0<Ra.length&&(D=Ra[0],D.blockedOn===null);)gh(D),D.blockedOn===null&&Ra.shift()}var Se=_.ReactCurrentBatchConfig,oe=!0;function ve(x,E,D,F){var K=en,Z=Se.transition;Se.transition=null;try{en=1,kt(x,E,D,F)}finally{en=K,Se.transition=Z}}function Me(x,E,D,F){var K=en,Z=Se.transition;Se.transition=null;try{en=4,kt(x,E,D,F)}finally{en=K,Se.transition=Z}}function kt(x,E,D,F){if(oe){var K=yn(x,E,D,F);if(K===null)wL(x,E,F,$t,D),Kl(x,F);else if(U0(K,x,E,D,F))F.stopPropagation();else if(Kl(x,F),E&4&&-1<mh.indexOf(x)){for(;K!==null;){var Z=jE(K);if(Z!==null&&Os(Z),Z=yn(x,E,D,F),Z===null&&wL(x,E,F,$t,D),Z===K)break;K=Z}K!==null&&F.stopPropagation()}else wL(x,E,F,null,D)}}var $t=null;function yn(x,E,D,F){if($t=null,x=Dr(F),x=vv(x),x!==null)if(E=Vn(x),E===null)x=null;else if(D=E.tag,D===13){if(x=Bi(E),x!==null)return x;x=null}else if(D===3){if(E.stateNode.current.memoizedState.isDehydrated)return E.tag===3?E.stateNode.containerInfo:null;x=null}else E!==x&&(x=null);return $t=x,null}function jn(x){switch(x){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dd()){case Rs:return 1;case Io:return 4;case Is:case Mu:return 16;case ta:return 536870912;default:return 16}default:return 16}}var rn=null,_n=null,lr=null;function ti(){if(lr)return lr;var x,E=_n,D=E.length,F,K="value"in rn?rn.value:rn.textContent,Z=K.length;for(x=0;x<D&&E[x]===K[x];x++);var ce=D-x;for(F=1;F<=ce&&E[D-F]===K[Z-F];F++);return lr=K.slice(x,1<F?1-F:void 0)}function ci(x){var E=x.keyCode;return"charCode"in x?(x=x.charCode,x===0&&E===13&&(x=13)):x=E,x===10&&(x=13),32<=x||x===13?x:0}function Ei(){return!0}function gs(){return!1}function di(x){function E(D,F,K,Z,ce){this._reactName=D,this._targetInst=K,this.type=F,this.nativeEvent=Z,this.target=ce,this.currentTarget=null;for(var Ie in x)x.hasOwnProperty(Ie)&&(D=x[Ie],this[Ie]=D?D(Z):Z[Ie]);return this.isDefaultPrevented=(Z.defaultPrevented!=null?Z.defaultPrevented:Z.returnValue===!1)?Ei:gs,this.isPropagationStopped=gs,this}return V(E.prototype,{preventDefault:function(){this.defaultPrevented=!0;var D=this.nativeEvent;D&&(D.preventDefault?D.preventDefault():typeof D.returnValue!="unknown"&&(D.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var D=this.nativeEvent;D&&(D.stopPropagation?D.stopPropagation():typeof D.cancelBubble!="unknown"&&(D.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),E}var $s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(x){return x.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xl=di($s),Lu=V({},$s,{view:0,detail:0}),H0=di(Lu),Pd,Gp,q0,yv=V({},Lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:M,button:0,buttons:0,relatedTarget:function(x){return x.relatedTarget===void 0?x.fromElement===x.srcElement?x.toElement:x.fromElement:x.relatedTarget},movementX:function(x){return"movementX"in x?x.movementX:(x!==q0&&(q0&&x.type==="mousemove"?(Pd=x.screenX-q0.screenX,Gp=x.screenY-q0.screenY):Gp=Pd=0,q0=x),Pd)},movementY:function(x){return"movementY"in x?x.movementY:Gp}}),aw=di(yv),RE=V({},yv,{dataTransfer:0}),eI=di(RE),lw=V({},Lu,{relatedTarget:0}),uw=di(lw),tI=V({},$s,{animationName:0,elapsedTime:0,pseudoElement:0}),Yp=di(tI),nI=V({},$s,{clipboardData:function(x){return"clipboardData"in x?x.clipboardData:window.clipboardData}}),rI=di(nI),iI=V({},$s,{data:0}),IE=di(iI),Ql={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W0(x){var E=this.nativeEvent;return E.getModifierState?E.getModifierState(x):(x=oI[x])?!!E[x]:!1}function M(){return W0}var J=V({},Lu,{key:function(x){if(x.key){var E=Ql[x.key]||x.key;if(E!=="Unidentified")return E}return x.type==="keypress"?(x=ci(x),x===13?"Enter":String.fromCharCode(x)):x.type==="keydown"||x.type==="keyup"?sI[x.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:M,charCode:function(x){return x.type==="keypress"?ci(x):0},keyCode:function(x){return x.type==="keydown"||x.type==="keyup"?x.keyCode:0},which:function(x){return x.type==="keypress"?ci(x):x.type==="keydown"||x.type==="keyup"?x.keyCode:0}}),re=di(J),be=V({},yv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),We=di(be),Ze=V({},Lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:M}),Mt=di(Ze),fi=V({},$s,{propertyName:0,elapsedTime:0,pseudoElement:0}),co=di(fi),Nr=V({},yv,{deltaX:function(x){return"deltaX"in x?x.deltaX:"wheelDeltaX"in x?-x.wheelDeltaX:0},deltaY:function(x){return"deltaY"in x?x.deltaY:"wheelDeltaY"in x?-x.wheelDeltaY:"wheelDelta"in x?-x.wheelDelta:0},deltaZ:0,deltaMode:0}),Po=di(Nr),Oo=[9,13,27,32],yh=a&&"CompositionEvent"in window,ra=null;a&&"documentMode"in document&&(ra=document.documentMode);var cw=a&&"TextEvent"in window&&!ra,dw=a&&(!yh||ra&&8<ra&&11>=ra),ose=" ",ase=!1;function lse(x,E){switch(x){case"keyup":return Oo.indexOf(E.keyCode)!==-1;case"keydown":return E.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function use(x){return x=x.detail,typeof x=="object"&&"data"in x?x.data:null}var fw=!1;function SBe(x,E){switch(x){case"compositionend":return use(E);case"keypress":return E.which!==32?null:(ase=!0,ose);case"textInput":return x=E.data,x===ose&&ase?null:x;default:return null}}function TBe(x,E){if(fw)return x==="compositionend"||!yh&&lse(x,E)?(x=ti(),lr=_n=rn=null,fw=!1,x):null;switch(x){case"paste":return null;case"keypress":if(!(E.ctrlKey||E.altKey||E.metaKey)||E.ctrlKey&&E.altKey){if(E.char&&1<E.char.length)return E.char;if(E.which)return String.fromCharCode(E.which)}return null;case"compositionend":return dw&&E.locale!=="ko"?null:E.data;default:return null}}var kBe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cse(x){var E=x&&x.nodeName&&x.nodeName.toLowerCase();return E==="input"?!!kBe[x.type]:E==="textarea"}function dse(x,E,D,F){sr(F),E=dI(E,"onChange"),0<E.length&&(D=new Xl("onChange","change",null,D,F),x.push({event:D,listeners:E}))}var DE=null,PE=null;function ABe(x){Rse(x,0)}function aI(x){var E=yw(x);if(le(E))return x}function RBe(x,E){if(x==="change")return E}var fse=!1;if(a){var dL;if(a){var fL="oninput"in document;if(!fL){var hse=document.createElement("div");hse.setAttribute("oninput","return;"),fL=typeof hse.oninput=="function"}dL=fL}else dL=!1;fse=dL&&(!document.documentMode||9<document.documentMode)}function pse(){DE&&(DE.detachEvent("onpropertychange",mse),PE=DE=null)}function mse(x){if(x.propertyName==="value"&&aI(PE)){var E=[];dse(E,PE,x,Dr(x)),pr(ABe,E)}}function IBe(x,E,D){x==="focusin"?(pse(),DE=E,PE=D,DE.attachEvent("onpropertychange",mse)):x==="focusout"&&pse()}function DBe(x){if(x==="selectionchange"||x==="keyup"||x==="keydown")return aI(PE)}function PBe(x,E){if(x==="click")return aI(E)}function OBe(x,E){if(x==="input"||x==="change")return aI(E)}function NBe(x,E){return x===E&&(x!==0||1/x===1/E)||x!==x&&E!==E}var Od=typeof Object.is=="function"?Object.is:NBe;function OE(x,E){if(Od(x,E))return!0;if(typeof x!="object"||x===null||typeof E!="object"||E===null)return!1;var D=Object.keys(x),F=Object.keys(E);if(D.length!==F.length)return!1;for(F=0;F<D.length;F++){var K=D[F];if(!l.call(E,K)||!Od(x[K],E[K]))return!1}return!0}function gse(x){for(;x&&x.firstChild;)x=x.firstChild;return x}function yse(x,E){var D=gse(x);x=0;for(var F;D;){if(D.nodeType===3){if(F=x+D.textContent.length,x<=E&&F>=E)return{node:D,offset:E-x};x=F}e:{for(;D;){if(D.nextSibling){D=D.nextSibling;break e}D=D.parentNode}D=void 0}D=gse(D)}}function vse(x,E){return x&&E?x===E?!0:x&&x.nodeType===3?!1:E&&E.nodeType===3?vse(x,E.parentNode):"contains"in x?x.contains(E):x.compareDocumentPosition?!!(x.compareDocumentPosition(E)&16):!1:!1}function bse(){for(var x=window,E=Ee();E instanceof x.HTMLIFrameElement;){try{var D=typeof E.contentWindow.location.href=="string"}catch{D=!1}if(D)x=E.contentWindow;else break;E=Ee(x.document)}return E}function hL(x){var E=x&&x.nodeName&&x.nodeName.toLowerCase();return E&&(E==="input"&&(x.type==="text"||x.type==="search"||x.type==="tel"||x.type==="url"||x.type==="password")||E==="textarea"||x.contentEditable==="true")}function $Be(x){var E=bse(),D=x.focusedElem,F=x.selectionRange;if(E!==D&&D&&D.ownerDocument&&vse(D.ownerDocument.documentElement,D)){if(F!==null&&hL(D)){if(E=F.start,x=F.end,x===void 0&&(x=E),"selectionStart"in D)D.selectionStart=E,D.selectionEnd=Math.min(x,D.value.length);else if(x=(E=D.ownerDocument||document)&&E.defaultView||window,x.getSelection){x=x.getSelection();var K=D.textContent.length,Z=Math.min(F.start,K);F=F.end===void 0?Z:Math.min(F.end,K),!x.extend&&Z>F&&(K=F,F=Z,Z=K),K=yse(D,Z);var ce=yse(D,F);K&&ce&&(x.rangeCount!==1||x.anchorNode!==K.node||x.anchorOffset!==K.offset||x.focusNode!==ce.node||x.focusOffset!==ce.offset)&&(E=E.createRange(),E.setStart(K.node,K.offset),x.removeAllRanges(),Z>F?(x.addRange(E),x.extend(ce.node,ce.offset)):(E.setEnd(ce.node,ce.offset),x.addRange(E)))}}for(E=[],x=D;x=x.parentNode;)x.nodeType===1&&E.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<E.length;D++)x=E[D],x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}var MBe=a&&"documentMode"in document&&11>=document.documentMode,hw=null,pL=null,NE=null,mL=!1;function wse(x,E,D){var F=D.window===D?D.document:D.nodeType===9?D:D.ownerDocument;mL||hw==null||hw!==Ee(F)||(F=hw,"selectionStart"in F&&hL(F)?F={start:F.selectionStart,end:F.selectionEnd}:(F=(F.ownerDocument&&F.ownerDocument.defaultView||window).getSelection(),F={anchorNode:F.anchorNode,anchorOffset:F.anchorOffset,focusNode:F.focusNode,focusOffset:F.focusOffset}),NE&&OE(NE,F)||(NE=F,F=dI(pL,"onSelect"),0<F.length&&(E=new Xl("onSelect","select",null,E,D),x.push({event:E,listeners:F}),E.target=hw)))}function lI(x,E){var D={};return D[x.toLowerCase()]=E.toLowerCase(),D["Webkit"+x]="webkit"+E,D["Moz"+x]="moz"+E,D}var pw={animationend:lI("Animation","AnimationEnd"),animationiteration:lI("Animation","AnimationIteration"),animationstart:lI("Animation","AnimationStart"),transitionend:lI("Transition","TransitionEnd")},gL={},xse={};a&&(xse=document.createElement("div").style,"AnimationEvent"in window||(delete pw.animationend.animation,delete pw.animationiteration.animation,delete pw.animationstart.animation),"TransitionEvent"in window||delete pw.transitionend.transition);function uI(x){if(gL[x])return gL[x];if(!pw[x])return x;var E=pw[x],D;for(D in E)if(E.hasOwnProperty(D)&&D in xse)return gL[x]=E[D];return x}var _se=uI("animationend"),Cse=uI("animationiteration"),Ese=uI("animationstart"),Sse=uI("transitionend"),Tse=new Map,kse="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function G0(x,E){Tse.set(x,E),s(E,[x])}for(var yL=0;yL<kse.length;yL++){var vL=kse[yL],FBe=vL.toLowerCase(),LBe=vL[0].toUpperCase()+vL.slice(1);G0(FBe,"on"+LBe)}G0(_se,"onAnimationEnd"),G0(Cse,"onAnimationIteration"),G0(Ese,"onAnimationStart"),G0("dblclick","onDoubleClick"),G0("focusin","onFocus"),G0("focusout","onBlur"),G0(Sse,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $E="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jBe=new Set("cancel close invalid load scroll toggle".split(" ").concat($E));function Ase(x,E,D){var F=x.type||"unknown-event";x.currentTarget=D,vc(F,E,void 0,x),x.currentTarget=null}function Rse(x,E){E=(E&4)!==0;for(var D=0;D<x.length;D++){var F=x[D],K=F.event;F=F.listeners;e:{var Z=void 0;if(E)for(var ce=F.length-1;0<=ce;ce--){var Ie=F[ce],Fe=Ie.instance,Qe=Ie.currentTarget;if(Ie=Ie.listener,Fe!==Z&&K.isPropagationStopped())break e;Ase(K,Ie,Qe),Z=Fe}else for(ce=0;ce<F.length;ce++){if(Ie=F[ce],Fe=Ie.instance,Qe=Ie.currentTarget,Ie=Ie.listener,Fe!==Z&&K.isPropagationStopped())break e;Ase(K,Ie,Qe),Z=Fe}}}if(Or)throw x=oo,Or=!1,oo=null,x}function Ui(x,E){var D=E[TL];D===void 0&&(D=E[TL]=new Set);var F=x+"__bubble";D.has(F)||(Ise(E,x,2,!1),D.add(F))}function bL(x,E,D){var F=0;E&&(F|=4),Ise(D,x,F,E)}var cI="_reactListening"+Math.random().toString(36).slice(2);function ME(x){if(!x[cI]){x[cI]=!0,r.forEach(function(D){D!=="selectionchange"&&(jBe.has(D)||bL(D,!1,x),bL(D,!0,x))});var E=x.nodeType===9?x:x.ownerDocument;E===null||E[cI]||(E[cI]=!0,bL("selectionchange",!1,E))}}function Ise(x,E,D,F){switch(jn(E)){case 1:var K=ve;break;case 4:K=Me;break;default:K=kt}D=K.bind(null,E,D,x),K=void 0,!tr||E!=="touchstart"&&E!=="touchmove"&&E!=="wheel"||(K=!0),F?K!==void 0?x.addEventListener(E,D,{capture:!0,passive:K}):x.addEventListener(E,D,!0):K!==void 0?x.addEventListener(E,D,{passive:K}):x.addEventListener(E,D,!1)}function wL(x,E,D,F,K){var Z=F;if((E&1)===0&&(E&2)===0&&F!==null)e:for(;;){if(F===null)return;var ce=F.tag;if(ce===3||ce===4){var Ie=F.stateNode.containerInfo;if(Ie===K||Ie.nodeType===8&&Ie.parentNode===K)break;if(ce===4)for(ce=F.return;ce!==null;){var Fe=ce.tag;if((Fe===3||Fe===4)&&(Fe=ce.stateNode.containerInfo,Fe===K||Fe.nodeType===8&&Fe.parentNode===K))return;ce=ce.return}for(;Ie!==null;){if(ce=vv(Ie),ce===null)return;if(Fe=ce.tag,Fe===5||Fe===6){F=Z=ce;continue e}Ie=Ie.parentNode}}F=F.return}pr(function(){var Qe=Z,gt=Dr(D),xt=[];e:{var mt=Tse.get(x);if(mt!==void 0){var Xt=Xl,tn=x;switch(x){case"keypress":if(ci(D)===0)break e;case"keydown":case"keyup":Xt=re;break;case"focusin":tn="focus",Xt=uw;break;case"focusout":tn="blur",Xt=uw;break;case"beforeblur":case"afterblur":Xt=uw;break;case"click":if(D.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Xt=aw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Xt=eI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Xt=Mt;break;case _se:case Cse:case Ese:Xt=Yp;break;case Sse:Xt=co;break;case"scroll":Xt=H0;break;case"wheel":Xt=Po;break;case"copy":case"cut":case"paste":Xt=rI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Xt=We}var an=(E&4)!==0,Ms=!an&&x==="scroll",Ge=an?mt!==null?mt+"Capture":null:mt;an=[];for(var ze=Qe,Xe;ze!==null;){Xe=ze;var Pt=Xe.stateNode;if(Xe.tag===5&&Pt!==null&&(Xe=Pt,Ge!==null&&(Pt=Yt(ze,Ge),Pt!=null&&an.push(FE(ze,Pt,Xe)))),Ms)break;ze=ze.return}0<an.length&&(mt=new Xt(mt,tn,null,D,gt),xt.push({event:mt,listeners:an}))}}if((E&7)===0){e:{if(mt=x==="mouseover"||x==="pointerover",Xt=x==="mouseout"||x==="pointerout",mt&&D!==Un&&(tn=D.relatedTarget||D.fromElement)&&(vv(tn)||tn[Kp]))break e;if((Xt||mt)&&(mt=gt.window===gt?gt:(mt=gt.ownerDocument)?mt.defaultView||mt.parentWindow:window,Xt?(tn=D.relatedTarget||D.toElement,Xt=Qe,tn=tn?vv(tn):null,tn!==null&&(Ms=Vn(tn),tn!==Ms||tn.tag!==5&&tn.tag!==6)&&(tn=null)):(Xt=null,tn=Qe),Xt!==tn)){if(an=aw,Pt="onMouseLeave",Ge="onMouseEnter",ze="mouse",(x==="pointerout"||x==="pointerover")&&(an=We,Pt="onPointerLeave",Ge="onPointerEnter",ze="pointer"),Ms=Xt==null?mt:yw(Xt),Xe=tn==null?mt:yw(tn),mt=new an(Pt,ze+"leave",Xt,D,gt),mt.target=Ms,mt.relatedTarget=Xe,Pt=null,vv(gt)===Qe&&(an=new an(Ge,ze+"enter",tn,D,gt),an.target=Xe,an.relatedTarget=Ms,Pt=an),Ms=Pt,Xt&&tn)t:{for(an=Xt,Ge=tn,ze=0,Xe=an;Xe;Xe=mw(Xe))ze++;for(Xe=0,Pt=Ge;Pt;Pt=mw(Pt))Xe++;for(;0<ze-Xe;)an=mw(an),ze--;for(;0<Xe-ze;)Ge=mw(Ge),Xe--;for(;ze--;){if(an===Ge||Ge!==null&&an===Ge.alternate)break t;an=mw(an),Ge=mw(Ge)}an=null}else an=null;Xt!==null&&Dse(xt,mt,Xt,an,!1),tn!==null&&Ms!==null&&Dse(xt,Ms,tn,an,!0)}}e:{if(mt=Qe?yw(Qe):window,Xt=mt.nodeName&&mt.nodeName.toLowerCase(),Xt==="select"||Xt==="input"&&mt.type==="file")var hn=RBe;else if(cse(mt))if(fse)hn=OBe;else{hn=DBe;var Pn=IBe}else(Xt=mt.nodeName)&&Xt.toLowerCase()==="input"&&(mt.type==="checkbox"||mt.type==="radio")&&(hn=PBe);if(hn&&(hn=hn(x,Qe))){dse(xt,hn,D,gt);break e}Pn&&Pn(x,mt,Qe),x==="focusout"&&(Pn=mt._wrapperState)&&Pn.controlled&&mt.type==="number"&&me(mt,"number",mt.value)}switch(Pn=Qe?yw(Qe):window,x){case"focusin":(cse(Pn)||Pn.contentEditable==="true")&&(hw=Pn,pL=Qe,NE=null);break;case"focusout":NE=pL=hw=null;break;case"mousedown":mL=!0;break;case"contextmenu":case"mouseup":case"dragend":mL=!1,wse(xt,D,gt);break;case"selectionchange":if(MBe)break;case"keydown":case"keyup":wse(xt,D,gt)}var On;if(yh)e:{switch(x){case"compositionstart":var qn="onCompositionStart";break e;case"compositionend":qn="onCompositionEnd";break e;case"compositionupdate":qn="onCompositionUpdate";break e}qn=void 0}else fw?lse(x,D)&&(qn="onCompositionEnd"):x==="keydown"&&D.keyCode===229&&(qn="onCompositionStart");qn&&(dw&&D.locale!=="ko"&&(fw||qn!=="onCompositionStart"?qn==="onCompositionEnd"&&fw&&(On=ti()):(rn=gt,_n="value"in rn?rn.value:rn.textContent,fw=!0)),Pn=dI(Qe,qn),0<Pn.length&&(qn=new IE(qn,x,null,D,gt),xt.push({event:qn,listeners:Pn}),On?qn.data=On:(On=use(D),On!==null&&(qn.data=On)))),(On=cw?SBe(x,D):TBe(x,D))&&(Qe=dI(Qe,"onBeforeInput"),0<Qe.length&&(gt=new IE("onBeforeInput","beforeinput",null,D,gt),xt.push({event:gt,listeners:Qe}),gt.data=On))}Rse(xt,E)})}function FE(x,E,D){return{instance:x,listener:E,currentTarget:D}}function dI(x,E){for(var D=E+"Capture",F=[];x!==null;){var K=x,Z=K.stateNode;K.tag===5&&Z!==null&&(K=Z,Z=Yt(x,D),Z!=null&&F.unshift(FE(x,Z,K)),Z=Yt(x,E),Z!=null&&F.push(FE(x,Z,K))),x=x.return}return F}function mw(x){if(x===null)return null;do x=x.return;while(x&&x.tag!==5);return x||null}function Dse(x,E,D,F,K){for(var Z=E._reactName,ce=[];D!==null&&D!==F;){var Ie=D,Fe=Ie.alternate,Qe=Ie.stateNode;if(Fe!==null&&Fe===F)break;Ie.tag===5&&Qe!==null&&(Ie=Qe,K?(Fe=Yt(D,Z),Fe!=null&&ce.unshift(FE(D,Fe,Ie))):K||(Fe=Yt(D,Z),Fe!=null&&ce.push(FE(D,Fe,Ie)))),D=D.return}ce.length!==0&&x.push({event:E,listeners:ce})}var BBe=/\r\n?/g,zBe=/\u0000|\uFFFD/g;function Pse(x){return(typeof x=="string"?x:""+x).replace(BBe,`
`).replace(zBe,"")}function fI(x,E,D){if(E=Pse(E),Pse(x)!==E&&D)throw Error(n(425))}function hI(){}var xL=null,_L=null;function CL(x,E){return x==="textarea"||x==="noscript"||typeof E.children=="string"||typeof E.children=="number"||typeof E.dangerouslySetInnerHTML=="object"&&E.dangerouslySetInnerHTML!==null&&E.dangerouslySetInnerHTML.__html!=null}var EL=typeof setTimeout=="function"?setTimeout:void 0,UBe=typeof clearTimeout=="function"?clearTimeout:void 0,Ose=typeof Promise=="function"?Promise:void 0,VBe=typeof queueMicrotask=="function"?queueMicrotask:typeof Ose<"u"?function(x){return Ose.resolve(null).then(x).catch(HBe)}:EL;function HBe(x){setTimeout(function(){throw x})}function SL(x,E){var D=E,F=0;do{var K=D.nextSibling;if(x.removeChild(D),K&&K.nodeType===8)if(D=K.data,D==="/$"){if(F===0){x.removeChild(K),Ia(E);return}F--}else D!=="$"&&D!=="$?"&&D!=="$!"||F++;D=K}while(D);Ia(E)}function Y0(x){for(;x!=null;x=x.nextSibling){var E=x.nodeType;if(E===1||E===3)break;if(E===8){if(E=x.data,E==="$"||E==="$!"||E==="$?")break;if(E==="/$")return null}}return x}function Nse(x){x=x.previousSibling;for(var E=0;x;){if(x.nodeType===8){var D=x.data;if(D==="$"||D==="$!"||D==="$?"){if(E===0)return x;E--}else D==="/$"&&E++}x=x.previousSibling}return null}var gw=Math.random().toString(36).slice(2),vh="__reactFiber$"+gw,LE="__reactProps$"+gw,Kp="__reactContainer$"+gw,TL="__reactEvents$"+gw,qBe="__reactListeners$"+gw,WBe="__reactHandles$"+gw;function vv(x){var E=x[vh];if(E)return E;for(var D=x.parentNode;D;){if(E=D[Kp]||D[vh]){if(D=E.alternate,E.child!==null||D!==null&&D.child!==null)for(x=Nse(x);x!==null;){if(D=x[vh])return D;x=Nse(x)}return E}x=D,D=x.parentNode}return null}function jE(x){return x=x[vh]||x[Kp],!x||x.tag!==5&&x.tag!==6&&x.tag!==13&&x.tag!==3?null:x}function yw(x){if(x.tag===5||x.tag===6)return x.stateNode;throw Error(n(33))}function pI(x){return x[LE]||null}var kL=[],vw=-1;function K0(x){return{current:x}}function Vi(x){0>vw||(x.current=kL[vw],kL[vw]=null,vw--)}function Pi(x,E){vw++,kL[vw]=x.current,x.current=E}var X0={},Da=K0(X0),Jl=K0(!1),bv=X0;function bw(x,E){var D=x.type.contextTypes;if(!D)return X0;var F=x.stateNode;if(F&&F.__reactInternalMemoizedUnmaskedChildContext===E)return F.__reactInternalMemoizedMaskedChildContext;var K={},Z;for(Z in D)K[Z]=E[Z];return F&&(x=x.stateNode,x.__reactInternalMemoizedUnmaskedChildContext=E,x.__reactInternalMemoizedMaskedChildContext=K),K}function Zl(x){return x=x.childContextTypes,x!=null}function mI(){Vi(Jl),Vi(Da)}function $se(x,E,D){if(Da.current!==X0)throw Error(n(168));Pi(Da,E),Pi(Jl,D)}function Mse(x,E,D){var F=x.stateNode;if(E=E.childContextTypes,typeof F.getChildContext!="function")return D;F=F.getChildContext();for(var K in F)if(!(K in E))throw Error(n(108,ue(x)||"Unknown",K));return V({},D,F)}function gI(x){return x=(x=x.stateNode)&&x.__reactInternalMemoizedMergedChildContext||X0,bv=Da.current,Pi(Da,x),Pi(Jl,Jl.current),!0}function Fse(x,E,D){var F=x.stateNode;if(!F)throw Error(n(169));D?(x=Mse(x,E,bv),F.__reactInternalMemoizedMergedChildContext=x,Vi(Jl),Vi(Da),Pi(Da,x)):Vi(Jl),Pi(Jl,D)}var Xp=null,yI=!1,AL=!1;function Lse(x){Xp===null?Xp=[x]:Xp.push(x)}function GBe(x){yI=!0,Lse(x)}function Q0(){if(!AL&&Xp!==null){AL=!0;var x=0,E=en;try{var D=Xp;for(en=1;x<D.length;x++){var F=D[x];do F=F(!0);while(F!==null)}Xp=null,yI=!1}catch(K){throw Xp!==null&&(Xp=Xp.slice(x+1)),wc(Rs,Q0),K}finally{en=E,AL=!1}}return null}var ww=[],xw=0,vI=null,bI=0,Cc=[],Ec=0,wv=null,Qp=1,Jp="";function xv(x,E){ww[xw++]=bI,ww[xw++]=vI,vI=x,bI=E}function jse(x,E,D){Cc[Ec++]=Qp,Cc[Ec++]=Jp,Cc[Ec++]=wv,wv=x;var F=Qp;x=Jp;var K=32-Ps(F)-1;F&=~(1<<K),D+=1;var Z=32-Ps(E)+K;if(30<Z){var ce=K-K%5;Z=(F&(1<<ce)-1).toString(32),F>>=ce,K-=ce,Qp=1<<32-Ps(E)+K|D<<K|F,Jp=Z+x}else Qp=1<<Z|D<<K|F,Jp=x}function RL(x){x.return!==null&&(xv(x,1),jse(x,1,0))}function IL(x){for(;x===vI;)vI=ww[--xw],ww[xw]=null,bI=ww[--xw],ww[xw]=null;for(;x===wv;)wv=Cc[--Ec],Cc[Ec]=null,Jp=Cc[--Ec],Cc[Ec]=null,Qp=Cc[--Ec],Cc[Ec]=null}var ju=null,Bu=null,Ki=!1,Nd=null;function Bse(x,E){var D=Ac(5,null,null,0);D.elementType="DELETED",D.stateNode=E,D.return=x,E=x.deletions,E===null?(x.deletions=[D],x.flags|=16):E.push(D)}function zse(x,E){switch(x.tag){case 5:var D=x.type;return E=E.nodeType!==1||D.toLowerCase()!==E.nodeName.toLowerCase()?null:E,E!==null?(x.stateNode=E,ju=x,Bu=Y0(E.firstChild),!0):!1;case 6:return E=x.pendingProps===""||E.nodeType!==3?null:E,E!==null?(x.stateNode=E,ju=x,Bu=null,!0):!1;case 13:return E=E.nodeType!==8?null:E,E!==null?(D=wv!==null?{id:Qp,overflow:Jp}:null,x.memoizedState={dehydrated:E,treeContext:D,retryLane:1073741824},D=Ac(18,null,null,0),D.stateNode=E,D.return=x,x.child=D,ju=x,Bu=null,!0):!1;default:return!1}}function DL(x){return(x.mode&1)!==0&&(x.flags&128)===0}function PL(x){if(Ki){var E=Bu;if(E){var D=E;if(!zse(x,E)){if(DL(x))throw Error(n(418));E=Y0(D.nextSibling);var F=ju;E&&zse(x,E)?Bse(F,D):(x.flags=x.flags&-4097|2,Ki=!1,ju=x)}}else{if(DL(x))throw Error(n(418));x.flags=x.flags&-4097|2,Ki=!1,ju=x}}}function Use(x){for(x=x.return;x!==null&&x.tag!==5&&x.tag!==3&&x.tag!==13;)x=x.return;ju=x}function wI(x){if(x!==ju)return!1;if(!Ki)return Use(x),Ki=!0,!1;var E;if((E=x.tag!==3)&&!(E=x.tag!==5)&&(E=x.type,E=E!=="head"&&E!=="body"&&!CL(x.type,x.memoizedProps)),E&&(E=Bu)){if(DL(x))throw Vse(),Error(n(418));for(;E;)Bse(x,E),E=Y0(E.nextSibling)}if(Use(x),x.tag===13){if(x=x.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));e:{for(x=x.nextSibling,E=0;x;){if(x.nodeType===8){var D=x.data;if(D==="/$"){if(E===0){Bu=Y0(x.nextSibling);break e}E--}else D!=="$"&&D!=="$!"&&D!=="$?"||E++}x=x.nextSibling}Bu=null}}else Bu=ju?Y0(x.stateNode.nextSibling):null;return!0}function Vse(){for(var x=Bu;x;)x=Y0(x.nextSibling)}function _w(){Bu=ju=null,Ki=!1}function OL(x){Nd===null?Nd=[x]:Nd.push(x)}var YBe=_.ReactCurrentBatchConfig;function BE(x,E,D){if(x=D.ref,x!==null&&typeof x!="function"&&typeof x!="object"){if(D._owner){if(D=D._owner,D){if(D.tag!==1)throw Error(n(309));var F=D.stateNode}if(!F)throw Error(n(147,x));var K=F,Z=""+x;return E!==null&&E.ref!==null&&typeof E.ref=="function"&&E.ref._stringRef===Z?E.ref:(E=function(ce){var Ie=K.refs;ce===null?delete Ie[Z]:Ie[Z]=ce},E._stringRef=Z,E)}if(typeof x!="string")throw Error(n(284));if(!D._owner)throw Error(n(290,x))}return x}function xI(x,E){throw x=Object.prototype.toString.call(E),Error(n(31,x==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":x))}function Hse(x){var E=x._init;return E(x._payload)}function qse(x){function E(Ge,ze){if(x){var Xe=Ge.deletions;Xe===null?(Ge.deletions=[ze],Ge.flags|=16):Xe.push(ze)}}function D(Ge,ze){if(!x)return null;for(;ze!==null;)E(Ge,ze),ze=ze.sibling;return null}function F(Ge,ze){for(Ge=new Map;ze!==null;)ze.key!==null?Ge.set(ze.key,ze):Ge.set(ze.index,ze),ze=ze.sibling;return Ge}function K(Ge,ze){return Ge=sg(Ge,ze),Ge.index=0,Ge.sibling=null,Ge}function Z(Ge,ze,Xe){return Ge.index=Xe,x?(Xe=Ge.alternate,Xe!==null?(Xe=Xe.index,Xe<ze?(Ge.flags|=2,ze):Xe):(Ge.flags|=2,ze)):(Ge.flags|=1048576,ze)}function ce(Ge){return x&&Ge.alternate===null&&(Ge.flags|=2),Ge}function Ie(Ge,ze,Xe,Pt){return ze===null||ze.tag!==6?(ze=Ej(Xe,Ge.mode,Pt),ze.return=Ge,ze):(ze=K(ze,Xe),ze.return=Ge,ze)}function Fe(Ge,ze,Xe,Pt){var hn=Xe.type;return hn===T?gt(Ge,ze,Xe.props.children,Pt,Xe.key):ze!==null&&(ze.elementType===hn||typeof hn=="object"&&hn!==null&&hn.$$typeof===B&&Hse(hn)===ze.type)?(Pt=K(ze,Xe.props),Pt.ref=BE(Ge,ze,Xe),Pt.return=Ge,Pt):(Pt=qI(Xe.type,Xe.key,Xe.props,null,Ge.mode,Pt),Pt.ref=BE(Ge,ze,Xe),Pt.return=Ge,Pt)}function Qe(Ge,ze,Xe,Pt){return ze===null||ze.tag!==4||ze.stateNode.containerInfo!==Xe.containerInfo||ze.stateNode.implementation!==Xe.implementation?(ze=Sj(Xe,Ge.mode,Pt),ze.return=Ge,ze):(ze=K(ze,Xe.children||[]),ze.return=Ge,ze)}function gt(Ge,ze,Xe,Pt,hn){return ze===null||ze.tag!==7?(ze=Rv(Xe,Ge.mode,Pt,hn),ze.return=Ge,ze):(ze=K(ze,Xe),ze.return=Ge,ze)}function xt(Ge,ze,Xe){if(typeof ze=="string"&&ze!==""||typeof ze=="number")return ze=Ej(""+ze,Ge.mode,Xe),ze.return=Ge,ze;if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case C:return Xe=qI(ze.type,ze.key,ze.props,null,Ge.mode,Xe),Xe.ref=BE(Ge,null,ze),Xe.return=Ge,Xe;case S:return ze=Sj(ze,Ge.mode,Xe),ze.return=Ge,ze;case B:var Pt=ze._init;return xt(Ge,Pt(ze._payload),Xe)}if(Re(ze)||Y(ze))return ze=Rv(ze,Ge.mode,Xe,null),ze.return=Ge,ze;xI(Ge,ze)}return null}function mt(Ge,ze,Xe,Pt){var hn=ze!==null?ze.key:null;if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number")return hn!==null?null:Ie(Ge,ze,""+Xe,Pt);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case C:return Xe.key===hn?Fe(Ge,ze,Xe,Pt):null;case S:return Xe.key===hn?Qe(Ge,ze,Xe,Pt):null;case B:return hn=Xe._init,mt(Ge,ze,hn(Xe._payload),Pt)}if(Re(Xe)||Y(Xe))return hn!==null?null:gt(Ge,ze,Xe,Pt,null);xI(Ge,Xe)}return null}function Xt(Ge,ze,Xe,Pt,hn){if(typeof Pt=="string"&&Pt!==""||typeof Pt=="number")return Ge=Ge.get(Xe)||null,Ie(ze,Ge,""+Pt,hn);if(typeof Pt=="object"&&Pt!==null){switch(Pt.$$typeof){case C:return Ge=Ge.get(Pt.key===null?Xe:Pt.key)||null,Fe(ze,Ge,Pt,hn);case S:return Ge=Ge.get(Pt.key===null?Xe:Pt.key)||null,Qe(ze,Ge,Pt,hn);case B:var Pn=Pt._init;return Xt(Ge,ze,Xe,Pn(Pt._payload),hn)}if(Re(Pt)||Y(Pt))return Ge=Ge.get(Xe)||null,gt(ze,Ge,Pt,hn,null);xI(ze,Pt)}return null}function tn(Ge,ze,Xe,Pt){for(var hn=null,Pn=null,On=ze,qn=ze=0,Mo=null;On!==null&&qn<Xe.length;qn++){On.index>qn?(Mo=On,On=null):Mo=On.sibling;var Wr=mt(Ge,On,Xe[qn],Pt);if(Wr===null){On===null&&(On=Mo);break}x&&On&&Wr.alternate===null&&E(Ge,On),ze=Z(Wr,ze,qn),Pn===null?hn=Wr:Pn.sibling=Wr,Pn=Wr,On=Mo}if(qn===Xe.length)return D(Ge,On),Ki&&xv(Ge,qn),hn;if(On===null){for(;qn<Xe.length;qn++)On=xt(Ge,Xe[qn],Pt),On!==null&&(ze=Z(On,ze,qn),Pn===null?hn=On:Pn.sibling=On,Pn=On);return Ki&&xv(Ge,qn),hn}for(On=F(Ge,On);qn<Xe.length;qn++)Mo=Xt(On,Ge,qn,Xe[qn],Pt),Mo!==null&&(x&&Mo.alternate!==null&&On.delete(Mo.key===null?qn:Mo.key),ze=Z(Mo,ze,qn),Pn===null?hn=Mo:Pn.sibling=Mo,Pn=Mo);return x&&On.forEach(function(og){return E(Ge,og)}),Ki&&xv(Ge,qn),hn}function an(Ge,ze,Xe,Pt){var hn=Y(Xe);if(typeof hn!="function")throw Error(n(150));if(Xe=hn.call(Xe),Xe==null)throw Error(n(151));for(var Pn=hn=null,On=ze,qn=ze=0,Mo=null,Wr=Xe.next();On!==null&&!Wr.done;qn++,Wr=Xe.next()){On.index>qn?(Mo=On,On=null):Mo=On.sibling;var og=mt(Ge,On,Wr.value,Pt);if(og===null){On===null&&(On=Mo);break}x&&On&&og.alternate===null&&E(Ge,On),ze=Z(og,ze,qn),Pn===null?hn=og:Pn.sibling=og,Pn=og,On=Mo}if(Wr.done)return D(Ge,On),Ki&&xv(Ge,qn),hn;if(On===null){for(;!Wr.done;qn++,Wr=Xe.next())Wr=xt(Ge,Wr.value,Pt),Wr!==null&&(ze=Z(Wr,ze,qn),Pn===null?hn=Wr:Pn.sibling=Wr,Pn=Wr);return Ki&&xv(Ge,qn),hn}for(On=F(Ge,On);!Wr.done;qn++,Wr=Xe.next())Wr=Xt(On,Ge,qn,Wr.value,Pt),Wr!==null&&(x&&Wr.alternate!==null&&On.delete(Wr.key===null?qn:Wr.key),ze=Z(Wr,ze,qn),Pn===null?hn=Wr:Pn.sibling=Wr,Pn=Wr);return x&&On.forEach(function(k7e){return E(Ge,k7e)}),Ki&&xv(Ge,qn),hn}function Ms(Ge,ze,Xe,Pt){if(typeof Xe=="object"&&Xe!==null&&Xe.type===T&&Xe.key===null&&(Xe=Xe.props.children),typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case C:e:{for(var hn=Xe.key,Pn=ze;Pn!==null;){if(Pn.key===hn){if(hn=Xe.type,hn===T){if(Pn.tag===7){D(Ge,Pn.sibling),ze=K(Pn,Xe.props.children),ze.return=Ge,Ge=ze;break e}}else if(Pn.elementType===hn||typeof hn=="object"&&hn!==null&&hn.$$typeof===B&&Hse(hn)===Pn.type){D(Ge,Pn.sibling),ze=K(Pn,Xe.props),ze.ref=BE(Ge,Pn,Xe),ze.return=Ge,Ge=ze;break e}D(Ge,Pn);break}else E(Ge,Pn);Pn=Pn.sibling}Xe.type===T?(ze=Rv(Xe.props.children,Ge.mode,Pt,Xe.key),ze.return=Ge,Ge=ze):(Pt=qI(Xe.type,Xe.key,Xe.props,null,Ge.mode,Pt),Pt.ref=BE(Ge,ze,Xe),Pt.return=Ge,Ge=Pt)}return ce(Ge);case S:e:{for(Pn=Xe.key;ze!==null;){if(ze.key===Pn)if(ze.tag===4&&ze.stateNode.containerInfo===Xe.containerInfo&&ze.stateNode.implementation===Xe.implementation){D(Ge,ze.sibling),ze=K(ze,Xe.children||[]),ze.return=Ge,Ge=ze;break e}else{D(Ge,ze);break}else E(Ge,ze);ze=ze.sibling}ze=Sj(Xe,Ge.mode,Pt),ze.return=Ge,Ge=ze}return ce(Ge);case B:return Pn=Xe._init,Ms(Ge,ze,Pn(Xe._payload),Pt)}if(Re(Xe))return tn(Ge,ze,Xe,Pt);if(Y(Xe))return an(Ge,ze,Xe,Pt);xI(Ge,Xe)}return typeof Xe=="string"&&Xe!==""||typeof Xe=="number"?(Xe=""+Xe,ze!==null&&ze.tag===6?(D(Ge,ze.sibling),ze=K(ze,Xe),ze.return=Ge,Ge=ze):(D(Ge,ze),ze=Ej(Xe,Ge.mode,Pt),ze.return=Ge,Ge=ze),ce(Ge)):D(Ge,ze)}return Ms}var Cw=qse(!0),Wse=qse(!1),_I=K0(null),CI=null,Ew=null,NL=null;function $L(){NL=Ew=CI=null}function ML(x){var E=_I.current;Vi(_I),x._currentValue=E}function FL(x,E,D){for(;x!==null;){var F=x.alternate;if((x.childLanes&E)!==E?(x.childLanes|=E,F!==null&&(F.childLanes|=E)):F!==null&&(F.childLanes&E)!==E&&(F.childLanes|=E),x===D)break;x=x.return}}function Sw(x,E){CI=x,NL=Ew=null,x=x.dependencies,x!==null&&x.firstContext!==null&&((x.lanes&E)!==0&&(eu=!0),x.firstContext=null)}function Sc(x){var E=x._currentValue;if(NL!==x)if(x={context:x,memoizedValue:E,next:null},Ew===null){if(CI===null)throw Error(n(308));Ew=x,CI.dependencies={lanes:0,firstContext:x}}else Ew=Ew.next=x;return E}var _v=null;function LL(x){_v===null?_v=[x]:_v.push(x)}function Gse(x,E,D,F){var K=E.interleaved;return K===null?(D.next=D,LL(E)):(D.next=K.next,K.next=D),E.interleaved=D,Zp(x,F)}function Zp(x,E){x.lanes|=E;var D=x.alternate;for(D!==null&&(D.lanes|=E),D=x,x=x.return;x!==null;)x.childLanes|=E,D=x.alternate,D!==null&&(D.childLanes|=E),D=x,x=x.return;return D.tag===3?D.stateNode:null}var J0=!1;function jL(x){x.updateQueue={baseState:x.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yse(x,E){x=x.updateQueue,E.updateQueue===x&&(E.updateQueue={baseState:x.baseState,firstBaseUpdate:x.firstBaseUpdate,lastBaseUpdate:x.lastBaseUpdate,shared:x.shared,effects:x.effects})}function em(x,E){return{eventTime:x,lane:E,tag:0,payload:null,callback:null,next:null}}function Z0(x,E,D){var F=x.updateQueue;if(F===null)return null;if(F=F.shared,(zr&2)!==0){var K=F.pending;return K===null?E.next=E:(E.next=K.next,K.next=E),F.pending=E,Zp(x,D)}return K=F.interleaved,K===null?(E.next=E,LL(F)):(E.next=K.next,K.next=E),F.interleaved=E,Zp(x,D)}function EI(x,E,D){if(E=E.updateQueue,E!==null&&(E=E.shared,(D&4194240)!==0)){var F=E.lanes;F&=x.pendingLanes,D|=F,E.lanes=D,Zn(x,D)}}function Kse(x,E){var D=x.updateQueue,F=x.alternate;if(F!==null&&(F=F.updateQueue,D===F)){var K=null,Z=null;if(D=D.firstBaseUpdate,D!==null){do{var ce={eventTime:D.eventTime,lane:D.lane,tag:D.tag,payload:D.payload,callback:D.callback,next:null};Z===null?K=Z=ce:Z=Z.next=ce,D=D.next}while(D!==null);Z===null?K=Z=E:Z=Z.next=E}else K=Z=E;D={baseState:F.baseState,firstBaseUpdate:K,lastBaseUpdate:Z,shared:F.shared,effects:F.effects},x.updateQueue=D;return}x=D.lastBaseUpdate,x===null?D.firstBaseUpdate=E:x.next=E,D.lastBaseUpdate=E}function SI(x,E,D,F){var K=x.updateQueue;J0=!1;var Z=K.firstBaseUpdate,ce=K.lastBaseUpdate,Ie=K.shared.pending;if(Ie!==null){K.shared.pending=null;var Fe=Ie,Qe=Fe.next;Fe.next=null,ce===null?Z=Qe:ce.next=Qe,ce=Fe;var gt=x.alternate;gt!==null&&(gt=gt.updateQueue,Ie=gt.lastBaseUpdate,Ie!==ce&&(Ie===null?gt.firstBaseUpdate=Qe:Ie.next=Qe,gt.lastBaseUpdate=Fe))}if(Z!==null){var xt=K.baseState;ce=0,gt=Qe=Fe=null,Ie=Z;do{var mt=Ie.lane,Xt=Ie.eventTime;if((F&mt)===mt){gt!==null&&(gt=gt.next={eventTime:Xt,lane:0,tag:Ie.tag,payload:Ie.payload,callback:Ie.callback,next:null});e:{var tn=x,an=Ie;switch(mt=E,Xt=D,an.tag){case 1:if(tn=an.payload,typeof tn=="function"){xt=tn.call(Xt,xt,mt);break e}xt=tn;break e;case 3:tn.flags=tn.flags&-65537|128;case 0:if(tn=an.payload,mt=typeof tn=="function"?tn.call(Xt,xt,mt):tn,mt==null)break e;xt=V({},xt,mt);break e;case 2:J0=!0}}Ie.callback!==null&&Ie.lane!==0&&(x.flags|=64,mt=K.effects,mt===null?K.effects=[Ie]:mt.push(Ie))}else Xt={eventTime:Xt,lane:mt,tag:Ie.tag,payload:Ie.payload,callback:Ie.callback,next:null},gt===null?(Qe=gt=Xt,Fe=xt):gt=gt.next=Xt,ce|=mt;if(Ie=Ie.next,Ie===null){if(Ie=K.shared.pending,Ie===null)break;mt=Ie,Ie=mt.next,mt.next=null,K.lastBaseUpdate=mt,K.shared.pending=null}}while(!0);if(gt===null&&(Fe=xt),K.baseState=Fe,K.firstBaseUpdate=Qe,K.lastBaseUpdate=gt,E=K.shared.interleaved,E!==null){K=E;do ce|=K.lane,K=K.next;while(K!==E)}else Z===null&&(K.shared.lanes=0);Sv|=ce,x.lanes=ce,x.memoizedState=xt}}function Xse(x,E,D){if(x=E.effects,E.effects=null,x!==null)for(E=0;E<x.length;E++){var F=x[E],K=F.callback;if(K!==null){if(F.callback=null,F=D,typeof K!="function")throw Error(n(191,K));K.call(F)}}}var zE={},bh=K0(zE),UE=K0(zE),VE=K0(zE);function Cv(x){if(x===zE)throw Error(n(174));return x}function BL(x,E){switch(Pi(VE,E),Pi(UE,x),Pi(bh,zE),x=E.nodeType,x){case 9:case 11:E=(E=E.documentElement)?E.namespaceURI:je(null,"");break;default:x=x===8?E.parentNode:E,E=x.namespaceURI||null,x=x.tagName,E=je(E,x)}Vi(bh),Pi(bh,E)}function Tw(){Vi(bh),Vi(UE),Vi(VE)}function Qse(x){Cv(VE.current);var E=Cv(bh.current),D=je(E,x.type);E!==D&&(Pi(UE,x),Pi(bh,D))}function zL(x){UE.current===x&&(Vi(bh),Vi(UE))}var ls=K0(0);function TI(x){for(var E=x;E!==null;){if(E.tag===13){var D=E.memoizedState;if(D!==null&&(D=D.dehydrated,D===null||D.data==="$?"||D.data==="$!"))return E}else if(E.tag===19&&E.memoizedProps.revealOrder!==void 0){if((E.flags&128)!==0)return E}else if(E.child!==null){E.child.return=E,E=E.child;continue}if(E===x)break;for(;E.sibling===null;){if(E.return===null||E.return===x)return null;E=E.return}E.sibling.return=E.return,E=E.sibling}return null}var UL=[];function VL(){for(var x=0;x<UL.length;x++)UL[x]._workInProgressVersionPrimary=null;UL.length=0}var kI=_.ReactCurrentDispatcher,HL=_.ReactCurrentBatchConfig,Ev=0,us=null,fo=null,No=null,AI=!1,HE=!1,qE=0,KBe=0;function Pa(){throw Error(n(321))}function qL(x,E){if(E===null)return!1;for(var D=0;D<E.length&&D<x.length;D++)if(!Od(x[D],E[D]))return!1;return!0}function WL(x,E,D,F,K,Z){if(Ev=Z,us=E,E.memoizedState=null,E.updateQueue=null,E.lanes=0,kI.current=x===null||x.memoizedState===null?ZBe:e7e,x=D(F,K),HE){Z=0;do{if(HE=!1,qE=0,25<=Z)throw Error(n(301));Z+=1,No=fo=null,E.updateQueue=null,kI.current=t7e,x=D(F,K)}while(HE)}if(kI.current=DI,E=fo!==null&&fo.next!==null,Ev=0,No=fo=us=null,AI=!1,E)throw Error(n(300));return x}function GL(){var x=qE!==0;return qE=0,x}function wh(){var x={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return No===null?us.memoizedState=No=x:No=No.next=x,No}function Tc(){if(fo===null){var x=us.alternate;x=x!==null?x.memoizedState:null}else x=fo.next;var E=No===null?us.memoizedState:No.next;if(E!==null)No=E,fo=x;else{if(x===null)throw Error(n(310));fo=x,x={memoizedState:fo.memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},No===null?us.memoizedState=No=x:No=No.next=x}return No}function WE(x,E){return typeof E=="function"?E(x):E}function YL(x){var E=Tc(),D=E.queue;if(D===null)throw Error(n(311));D.lastRenderedReducer=x;var F=fo,K=F.baseQueue,Z=D.pending;if(Z!==null){if(K!==null){var ce=K.next;K.next=Z.next,Z.next=ce}F.baseQueue=K=Z,D.pending=null}if(K!==null){Z=K.next,F=F.baseState;var Ie=ce=null,Fe=null,Qe=Z;do{var gt=Qe.lane;if((Ev&gt)===gt)Fe!==null&&(Fe=Fe.next={lane:0,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null}),F=Qe.hasEagerState?Qe.eagerState:x(F,Qe.action);else{var xt={lane:gt,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null};Fe===null?(Ie=Fe=xt,ce=F):Fe=Fe.next=xt,us.lanes|=gt,Sv|=gt}Qe=Qe.next}while(Qe!==null&&Qe!==Z);Fe===null?ce=F:Fe.next=Ie,Od(F,E.memoizedState)||(eu=!0),E.memoizedState=F,E.baseState=ce,E.baseQueue=Fe,D.lastRenderedState=F}if(x=D.interleaved,x!==null){K=x;do Z=K.lane,us.lanes|=Z,Sv|=Z,K=K.next;while(K!==x)}else K===null&&(D.lanes=0);return[E.memoizedState,D.dispatch]}function KL(x){var E=Tc(),D=E.queue;if(D===null)throw Error(n(311));D.lastRenderedReducer=x;var F=D.dispatch,K=D.pending,Z=E.memoizedState;if(K!==null){D.pending=null;var ce=K=K.next;do Z=x(Z,ce.action),ce=ce.next;while(ce!==K);Od(Z,E.memoizedState)||(eu=!0),E.memoizedState=Z,E.baseQueue===null&&(E.baseState=Z),D.lastRenderedState=Z}return[Z,F]}function Jse(){}function Zse(x,E){var D=us,F=Tc(),K=E(),Z=!Od(F.memoizedState,K);if(Z&&(F.memoizedState=K,eu=!0),F=F.queue,XL(noe.bind(null,D,F,x),[x]),F.getSnapshot!==E||Z||No!==null&&No.memoizedState.tag&1){if(D.flags|=2048,GE(9,toe.bind(null,D,F,K,E),void 0,null),$o===null)throw Error(n(349));(Ev&30)!==0||eoe(D,E,K)}return K}function eoe(x,E,D){x.flags|=16384,x={getSnapshot:E,value:D},E=us.updateQueue,E===null?(E={lastEffect:null,stores:null},us.updateQueue=E,E.stores=[x]):(D=E.stores,D===null?E.stores=[x]:D.push(x))}function toe(x,E,D,F){E.value=D,E.getSnapshot=F,roe(E)&&ioe(x)}function noe(x,E,D){return D(function(){roe(E)&&ioe(x)})}function roe(x){var E=x.getSnapshot;x=x.value;try{var D=E();return!Od(x,D)}catch{return!0}}function ioe(x){var E=Zp(x,1);E!==null&&Ld(E,x,1,-1)}function soe(x){var E=wh();return typeof x=="function"&&(x=x()),E.memoizedState=E.baseState=x,x={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:WE,lastRenderedState:x},E.queue=x,x=x.dispatch=JBe.bind(null,us,x),[E.memoizedState,x]}function GE(x,E,D,F){return x={tag:x,create:E,destroy:D,deps:F,next:null},E=us.updateQueue,E===null?(E={lastEffect:null,stores:null},us.updateQueue=E,E.lastEffect=x.next=x):(D=E.lastEffect,D===null?E.lastEffect=x.next=x:(F=D.next,D.next=x,x.next=F,E.lastEffect=x)),x}function ooe(){return Tc().memoizedState}function RI(x,E,D,F){var K=wh();us.flags|=x,K.memoizedState=GE(1|E,D,void 0,F===void 0?null:F)}function II(x,E,D,F){var K=Tc();F=F===void 0?null:F;var Z=void 0;if(fo!==null){var ce=fo.memoizedState;if(Z=ce.destroy,F!==null&&qL(F,ce.deps)){K.memoizedState=GE(E,D,Z,F);return}}us.flags|=x,K.memoizedState=GE(1|E,D,Z,F)}function aoe(x,E){return RI(8390656,8,x,E)}function XL(x,E){return II(2048,8,x,E)}function loe(x,E){return II(4,2,x,E)}function uoe(x,E){return II(4,4,x,E)}function coe(x,E){if(typeof E=="function")return x=x(),E(x),function(){E(null)};if(E!=null)return x=x(),E.current=x,function(){E.current=null}}function doe(x,E,D){return D=D!=null?D.concat([x]):null,II(4,4,coe.bind(null,E,x),D)}function QL(){}function foe(x,E){var D=Tc();E=E===void 0?null:E;var F=D.memoizedState;return F!==null&&E!==null&&qL(E,F[1])?F[0]:(D.memoizedState=[x,E],x)}function hoe(x,E){var D=Tc();E=E===void 0?null:E;var F=D.memoizedState;return F!==null&&E!==null&&qL(E,F[1])?F[0]:(x=x(),D.memoizedState=[x,E],x)}function poe(x,E,D){return(Ev&21)===0?(x.baseState&&(x.baseState=!1,eu=!0),x.memoizedState=D):(Od(D,E)||(D=Et(),us.lanes|=D,Sv|=D,x.baseState=!0),E)}function XBe(x,E){var D=en;en=D!==0&&4>D?D:4,x(!0);var F=HL.transition;HL.transition={};try{x(!1),E()}finally{en=D,HL.transition=F}}function moe(){return Tc().memoizedState}function QBe(x,E,D){var F=rg(x);if(D={lane:F,action:D,hasEagerState:!1,eagerState:null,next:null},goe(x))yoe(E,D);else if(D=Gse(x,E,D,F),D!==null){var K=hl();Ld(D,x,F,K),voe(D,E,F)}}function JBe(x,E,D){var F=rg(x),K={lane:F,action:D,hasEagerState:!1,eagerState:null,next:null};if(goe(x))yoe(E,K);else{var Z=x.alternate;if(x.lanes===0&&(Z===null||Z.lanes===0)&&(Z=E.lastRenderedReducer,Z!==null))try{var ce=E.lastRenderedState,Ie=Z(ce,D);if(K.hasEagerState=!0,K.eagerState=Ie,Od(Ie,ce)){var Fe=E.interleaved;Fe===null?(K.next=K,LL(E)):(K.next=Fe.next,Fe.next=K),E.interleaved=K;return}}catch{}finally{}D=Gse(x,E,K,F),D!==null&&(K=hl(),Ld(D,x,F,K),voe(D,E,F))}}function goe(x){var E=x.alternate;return x===us||E!==null&&E===us}function yoe(x,E){HE=AI=!0;var D=x.pending;D===null?E.next=E:(E.next=D.next,D.next=E),x.pending=E}function voe(x,E,D){if((D&4194240)!==0){var F=E.lanes;F&=x.pendingLanes,D|=F,E.lanes=D,Zn(x,D)}}var DI={readContext:Sc,useCallback:Pa,useContext:Pa,useEffect:Pa,useImperativeHandle:Pa,useInsertionEffect:Pa,useLayoutEffect:Pa,useMemo:Pa,useReducer:Pa,useRef:Pa,useState:Pa,useDebugValue:Pa,useDeferredValue:Pa,useTransition:Pa,useMutableSource:Pa,useSyncExternalStore:Pa,useId:Pa,unstable_isNewReconciler:!1},ZBe={readContext:Sc,useCallback:function(x,E){return wh().memoizedState=[x,E===void 0?null:E],x},useContext:Sc,useEffect:aoe,useImperativeHandle:function(x,E,D){return D=D!=null?D.concat([x]):null,RI(4194308,4,coe.bind(null,E,x),D)},useLayoutEffect:function(x,E){return RI(4194308,4,x,E)},useInsertionEffect:function(x,E){return RI(4,2,x,E)},useMemo:function(x,E){var D=wh();return E=E===void 0?null:E,x=x(),D.memoizedState=[x,E],x},useReducer:function(x,E,D){var F=wh();return E=D!==void 0?D(E):E,F.memoizedState=F.baseState=E,x={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:x,lastRenderedState:E},F.queue=x,x=x.dispatch=QBe.bind(null,us,x),[F.memoizedState,x]},useRef:function(x){var E=wh();return x={current:x},E.memoizedState=x},useState:soe,useDebugValue:QL,useDeferredValue:function(x){return wh().memoizedState=x},useTransition:function(){var x=soe(!1),E=x[0];return x=XBe.bind(null,x[1]),wh().memoizedState=x,[E,x]},useMutableSource:function(){},useSyncExternalStore:function(x,E,D){var F=us,K=wh();if(Ki){if(D===void 0)throw Error(n(407));D=D()}else{if(D=E(),$o===null)throw Error(n(349));(Ev&30)!==0||eoe(F,E,D)}K.memoizedState=D;var Z={value:D,getSnapshot:E};return K.queue=Z,aoe(noe.bind(null,F,Z,x),[x]),F.flags|=2048,GE(9,toe.bind(null,F,Z,D,E),void 0,null),D},useId:function(){var x=wh(),E=$o.identifierPrefix;if(Ki){var D=Jp,F=Qp;D=(F&~(1<<32-Ps(F)-1)).toString(32)+D,E=":"+E+"R"+D,D=qE++,0<D&&(E+="H"+D.toString(32)),E+=":"}else D=KBe++,E=":"+E+"r"+D.toString(32)+":";return x.memoizedState=E},unstable_isNewReconciler:!1},e7e={readContext:Sc,useCallback:foe,useContext:Sc,useEffect:XL,useImperativeHandle:doe,useInsertionEffect:loe,useLayoutEffect:uoe,useMemo:hoe,useReducer:YL,useRef:ooe,useState:function(){return YL(WE)},useDebugValue:QL,useDeferredValue:function(x){var E=Tc();return poe(E,fo.memoizedState,x)},useTransition:function(){var x=YL(WE)[0],E=Tc().memoizedState;return[x,E]},useMutableSource:Jse,useSyncExternalStore:Zse,useId:moe,unstable_isNewReconciler:!1},t7e={readContext:Sc,useCallback:foe,useContext:Sc,useEffect:XL,useImperativeHandle:doe,useInsertionEffect:loe,useLayoutEffect:uoe,useMemo:hoe,useReducer:KL,useRef:ooe,useState:function(){return KL(WE)},useDebugValue:QL,useDeferredValue:function(x){var E=Tc();return fo===null?E.memoizedState=x:poe(E,fo.memoizedState,x)},useTransition:function(){var x=KL(WE)[0],E=Tc().memoizedState;return[x,E]},useMutableSource:Jse,useSyncExternalStore:Zse,useId:moe,unstable_isNewReconciler:!1};function $d(x,E){if(x&&x.defaultProps){E=V({},E),x=x.defaultProps;for(var D in x)E[D]===void 0&&(E[D]=x[D]);return E}return E}function JL(x,E,D,F){E=x.memoizedState,D=D(F,E),D=D==null?E:V({},E,D),x.memoizedState=D,x.lanes===0&&(x.updateQueue.baseState=D)}var PI={isMounted:function(x){return(x=x._reactInternals)?Vn(x)===x:!1},enqueueSetState:function(x,E,D){x=x._reactInternals;var F=hl(),K=rg(x),Z=em(F,K);Z.payload=E,D!=null&&(Z.callback=D),E=Z0(x,Z,K),E!==null&&(Ld(E,x,K,F),EI(E,x,K))},enqueueReplaceState:function(x,E,D){x=x._reactInternals;var F=hl(),K=rg(x),Z=em(F,K);Z.tag=1,Z.payload=E,D!=null&&(Z.callback=D),E=Z0(x,Z,K),E!==null&&(Ld(E,x,K,F),EI(E,x,K))},enqueueForceUpdate:function(x,E){x=x._reactInternals;var D=hl(),F=rg(x),K=em(D,F);K.tag=2,E!=null&&(K.callback=E),E=Z0(x,K,F),E!==null&&(Ld(E,x,F,D),EI(E,x,F))}};function boe(x,E,D,F,K,Z,ce){return x=x.stateNode,typeof x.shouldComponentUpdate=="function"?x.shouldComponentUpdate(F,Z,ce):E.prototype&&E.prototype.isPureReactComponent?!OE(D,F)||!OE(K,Z):!0}function woe(x,E,D){var F=!1,K=X0,Z=E.contextType;return typeof Z=="object"&&Z!==null?Z=Sc(Z):(K=Zl(E)?bv:Da.current,F=E.contextTypes,Z=(F=F!=null)?bw(x,K):X0),E=new E(D,Z),x.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=PI,x.stateNode=E,E._reactInternals=x,F&&(x=x.stateNode,x.__reactInternalMemoizedUnmaskedChildContext=K,x.__reactInternalMemoizedMaskedChildContext=Z),E}function xoe(x,E,D,F){x=E.state,typeof E.componentWillReceiveProps=="function"&&E.componentWillReceiveProps(D,F),typeof E.UNSAFE_componentWillReceiveProps=="function"&&E.UNSAFE_componentWillReceiveProps(D,F),E.state!==x&&PI.enqueueReplaceState(E,E.state,null)}function ZL(x,E,D,F){var K=x.stateNode;K.props=D,K.state=x.memoizedState,K.refs={},jL(x);var Z=E.contextType;typeof Z=="object"&&Z!==null?K.context=Sc(Z):(Z=Zl(E)?bv:Da.current,K.context=bw(x,Z)),K.state=x.memoizedState,Z=E.getDerivedStateFromProps,typeof Z=="function"&&(JL(x,E,Z,D),K.state=x.memoizedState),typeof E.getDerivedStateFromProps=="function"||typeof K.getSnapshotBeforeUpdate=="function"||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(E=K.state,typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount(),E!==K.state&&PI.enqueueReplaceState(K,K.state,null),SI(x,D,K,F),K.state=x.memoizedState),typeof K.componentDidMount=="function"&&(x.flags|=4194308)}function kw(x,E){try{var D="",F=E;do D+=Q(F),F=F.return;while(F);var K=D}catch(Z){K=`
Error generating stack: `+Z.message+`
`+Z.stack}return{value:x,source:E,stack:K,digest:null}}function ej(x,E,D){return{value:x,source:null,stack:D??null,digest:E??null}}function tj(x,E){try{console.error(E.value)}catch(D){setTimeout(function(){throw D})}}var n7e=typeof WeakMap=="function"?WeakMap:Map;function _oe(x,E,D){D=em(-1,D),D.tag=3,D.payload={element:null};var F=E.value;return D.callback=function(){jI||(jI=!0,gj=F),tj(x,E)},D}function Coe(x,E,D){D=em(-1,D),D.tag=3;var F=x.type.getDerivedStateFromError;if(typeof F=="function"){var K=E.value;D.payload=function(){return F(K)},D.callback=function(){tj(x,E)}}var Z=x.stateNode;return Z!==null&&typeof Z.componentDidCatch=="function"&&(D.callback=function(){tj(x,E),typeof F!="function"&&(tg===null?tg=new Set([this]):tg.add(this));var ce=E.stack;this.componentDidCatch(E.value,{componentStack:ce!==null?ce:""})}),D}function Eoe(x,E,D){var F=x.pingCache;if(F===null){F=x.pingCache=new n7e;var K=new Set;F.set(E,K)}else K=F.get(E),K===void 0&&(K=new Set,F.set(E,K));K.has(D)||(K.add(D),x=g7e.bind(null,x,E,D),E.then(x,x))}function Soe(x){do{var E;if((E=x.tag===13)&&(E=x.memoizedState,E=E!==null?E.dehydrated!==null:!0),E)return x;x=x.return}while(x!==null);return null}function Toe(x,E,D,F,K){return(x.mode&1)===0?(x===E?x.flags|=65536:(x.flags|=128,D.flags|=131072,D.flags&=-52805,D.tag===1&&(D.alternate===null?D.tag=17:(E=em(-1,1),E.tag=2,Z0(D,E,1))),D.lanes|=1),x):(x.flags|=65536,x.lanes=K,x)}var r7e=_.ReactCurrentOwner,eu=!1;function fl(x,E,D,F){E.child=x===null?Wse(E,null,D,F):Cw(E,x.child,D,F)}function koe(x,E,D,F,K){D=D.render;var Z=E.ref;return Sw(E,K),F=WL(x,E,D,F,Z,K),D=GL(),x!==null&&!eu?(E.updateQueue=x.updateQueue,E.flags&=-2053,x.lanes&=~K,tm(x,E,K)):(Ki&&D&&RL(E),E.flags|=1,fl(x,E,F,K),E.child)}function Aoe(x,E,D,F,K){if(x===null){var Z=D.type;return typeof Z=="function"&&!Cj(Z)&&Z.defaultProps===void 0&&D.compare===null&&D.defaultProps===void 0?(E.tag=15,E.type=Z,Roe(x,E,Z,F,K)):(x=qI(D.type,null,F,E,E.mode,K),x.ref=E.ref,x.return=E,E.child=x)}if(Z=x.child,(x.lanes&K)===0){var ce=Z.memoizedProps;if(D=D.compare,D=D!==null?D:OE,D(ce,F)&&x.ref===E.ref)return tm(x,E,K)}return E.flags|=1,x=sg(Z,F),x.ref=E.ref,x.return=E,E.child=x}function Roe(x,E,D,F,K){if(x!==null){var Z=x.memoizedProps;if(OE(Z,F)&&x.ref===E.ref)if(eu=!1,E.pendingProps=F=Z,(x.lanes&K)!==0)(x.flags&131072)!==0&&(eu=!0);else return E.lanes=x.lanes,tm(x,E,K)}return nj(x,E,D,F,K)}function Ioe(x,E,D){var F=E.pendingProps,K=F.children,Z=x!==null?x.memoizedState:null;if(F.mode==="hidden")if((E.mode&1)===0)E.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pi(Rw,zu),zu|=D;else{if((D&1073741824)===0)return x=Z!==null?Z.baseLanes|D:D,E.lanes=E.childLanes=1073741824,E.memoizedState={baseLanes:x,cachePool:null,transitions:null},E.updateQueue=null,Pi(Rw,zu),zu|=x,null;E.memoizedState={baseLanes:0,cachePool:null,transitions:null},F=Z!==null?Z.baseLanes:D,Pi(Rw,zu),zu|=F}else Z!==null?(F=Z.baseLanes|D,E.memoizedState=null):F=D,Pi(Rw,zu),zu|=F;return fl(x,E,K,D),E.child}function Doe(x,E){var D=E.ref;(x===null&&D!==null||x!==null&&x.ref!==D)&&(E.flags|=512,E.flags|=2097152)}function nj(x,E,D,F,K){var Z=Zl(D)?bv:Da.current;return Z=bw(E,Z),Sw(E,K),D=WL(x,E,D,F,Z,K),F=GL(),x!==null&&!eu?(E.updateQueue=x.updateQueue,E.flags&=-2053,x.lanes&=~K,tm(x,E,K)):(Ki&&F&&RL(E),E.flags|=1,fl(x,E,D,K),E.child)}function Poe(x,E,D,F,K){if(Zl(D)){var Z=!0;gI(E)}else Z=!1;if(Sw(E,K),E.stateNode===null)NI(x,E),woe(E,D,F),ZL(E,D,F,K),F=!0;else if(x===null){var ce=E.stateNode,Ie=E.memoizedProps;ce.props=Ie;var Fe=ce.context,Qe=D.contextType;typeof Qe=="object"&&Qe!==null?Qe=Sc(Qe):(Qe=Zl(D)?bv:Da.current,Qe=bw(E,Qe));var gt=D.getDerivedStateFromProps,xt=typeof gt=="function"||typeof ce.getSnapshotBeforeUpdate=="function";xt||typeof ce.UNSAFE_componentWillReceiveProps!="function"&&typeof ce.componentWillReceiveProps!="function"||(Ie!==F||Fe!==Qe)&&xoe(E,ce,F,Qe),J0=!1;var mt=E.memoizedState;ce.state=mt,SI(E,F,ce,K),Fe=E.memoizedState,Ie!==F||mt!==Fe||Jl.current||J0?(typeof gt=="function"&&(JL(E,D,gt,F),Fe=E.memoizedState),(Ie=J0||boe(E,D,Ie,F,mt,Fe,Qe))?(xt||typeof ce.UNSAFE_componentWillMount!="function"&&typeof ce.componentWillMount!="function"||(typeof ce.componentWillMount=="function"&&ce.componentWillMount(),typeof ce.UNSAFE_componentWillMount=="function"&&ce.UNSAFE_componentWillMount()),typeof ce.componentDidMount=="function"&&(E.flags|=4194308)):(typeof ce.componentDidMount=="function"&&(E.flags|=4194308),E.memoizedProps=F,E.memoizedState=Fe),ce.props=F,ce.state=Fe,ce.context=Qe,F=Ie):(typeof ce.componentDidMount=="function"&&(E.flags|=4194308),F=!1)}else{ce=E.stateNode,Yse(x,E),Ie=E.memoizedProps,Qe=E.type===E.elementType?Ie:$d(E.type,Ie),ce.props=Qe,xt=E.pendingProps,mt=ce.context,Fe=D.contextType,typeof Fe=="object"&&Fe!==null?Fe=Sc(Fe):(Fe=Zl(D)?bv:Da.current,Fe=bw(E,Fe));var Xt=D.getDerivedStateFromProps;(gt=typeof Xt=="function"||typeof ce.getSnapshotBeforeUpdate=="function")||typeof ce.UNSAFE_componentWillReceiveProps!="function"&&typeof ce.componentWillReceiveProps!="function"||(Ie!==xt||mt!==Fe)&&xoe(E,ce,F,Fe),J0=!1,mt=E.memoizedState,ce.state=mt,SI(E,F,ce,K);var tn=E.memoizedState;Ie!==xt||mt!==tn||Jl.current||J0?(typeof Xt=="function"&&(JL(E,D,Xt,F),tn=E.memoizedState),(Qe=J0||boe(E,D,Qe,F,mt,tn,Fe)||!1)?(gt||typeof ce.UNSAFE_componentWillUpdate!="function"&&typeof ce.componentWillUpdate!="function"||(typeof ce.componentWillUpdate=="function"&&ce.componentWillUpdate(F,tn,Fe),typeof ce.UNSAFE_componentWillUpdate=="function"&&ce.UNSAFE_componentWillUpdate(F,tn,Fe)),typeof ce.componentDidUpdate=="function"&&(E.flags|=4),typeof ce.getSnapshotBeforeUpdate=="function"&&(E.flags|=1024)):(typeof ce.componentDidUpdate!="function"||Ie===x.memoizedProps&&mt===x.memoizedState||(E.flags|=4),typeof ce.getSnapshotBeforeUpdate!="function"||Ie===x.memoizedProps&&mt===x.memoizedState||(E.flags|=1024),E.memoizedProps=F,E.memoizedState=tn),ce.props=F,ce.state=tn,ce.context=Fe,F=Qe):(typeof ce.componentDidUpdate!="function"||Ie===x.memoizedProps&&mt===x.memoizedState||(E.flags|=4),typeof ce.getSnapshotBeforeUpdate!="function"||Ie===x.memoizedProps&&mt===x.memoizedState||(E.flags|=1024),F=!1)}return rj(x,E,D,F,Z,K)}function rj(x,E,D,F,K,Z){Doe(x,E);var ce=(E.flags&128)!==0;if(!F&&!ce)return K&&Fse(E,D,!1),tm(x,E,Z);F=E.stateNode,r7e.current=E;var Ie=ce&&typeof D.getDerivedStateFromError!="function"?null:F.render();return E.flags|=1,x!==null&&ce?(E.child=Cw(E,x.child,null,Z),E.child=Cw(E,null,Ie,Z)):fl(x,E,Ie,Z),E.memoizedState=F.state,K&&Fse(E,D,!0),E.child}function Ooe(x){var E=x.stateNode;E.pendingContext?$se(x,E.pendingContext,E.pendingContext!==E.context):E.context&&$se(x,E.context,!1),BL(x,E.containerInfo)}function Noe(x,E,D,F,K){return _w(),OL(K),E.flags|=256,fl(x,E,D,F),E.child}var ij={dehydrated:null,treeContext:null,retryLane:0};function sj(x){return{baseLanes:x,cachePool:null,transitions:null}}function $oe(x,E,D){var F=E.pendingProps,K=ls.current,Z=!1,ce=(E.flags&128)!==0,Ie;if((Ie=ce)||(Ie=x!==null&&x.memoizedState===null?!1:(K&2)!==0),Ie?(Z=!0,E.flags&=-129):(x===null||x.memoizedState!==null)&&(K|=1),Pi(ls,K&1),x===null)return PL(E),x=E.memoizedState,x!==null&&(x=x.dehydrated,x!==null)?((E.mode&1)===0?E.lanes=1:x.data==="$!"?E.lanes=8:E.lanes=1073741824,null):(ce=F.children,x=F.fallback,Z?(F=E.mode,Z=E.child,ce={mode:"hidden",children:ce},(F&1)===0&&Z!==null?(Z.childLanes=0,Z.pendingProps=ce):Z=WI(ce,F,0,null),x=Rv(x,F,D,null),Z.return=E,x.return=E,Z.sibling=x,E.child=Z,E.child.memoizedState=sj(D),E.memoizedState=ij,x):oj(E,ce));if(K=x.memoizedState,K!==null&&(Ie=K.dehydrated,Ie!==null))return i7e(x,E,ce,F,Ie,K,D);if(Z){Z=F.fallback,ce=E.mode,K=x.child,Ie=K.sibling;var Fe={mode:"hidden",children:F.children};return(ce&1)===0&&E.child!==K?(F=E.child,F.childLanes=0,F.pendingProps=Fe,E.deletions=null):(F=sg(K,Fe),F.subtreeFlags=K.subtreeFlags&14680064),Ie!==null?Z=sg(Ie,Z):(Z=Rv(Z,ce,D,null),Z.flags|=2),Z.return=E,F.return=E,F.sibling=Z,E.child=F,F=Z,Z=E.child,ce=x.child.memoizedState,ce=ce===null?sj(D):{baseLanes:ce.baseLanes|D,cachePool:null,transitions:ce.transitions},Z.memoizedState=ce,Z.childLanes=x.childLanes&~D,E.memoizedState=ij,F}return Z=x.child,x=Z.sibling,F=sg(Z,{mode:"visible",children:F.children}),(E.mode&1)===0&&(F.lanes=D),F.return=E,F.sibling=null,x!==null&&(D=E.deletions,D===null?(E.deletions=[x],E.flags|=16):D.push(x)),E.child=F,E.memoizedState=null,F}function oj(x,E){return E=WI({mode:"visible",children:E},x.mode,0,null),E.return=x,x.child=E}function OI(x,E,D,F){return F!==null&&OL(F),Cw(E,x.child,null,D),x=oj(E,E.pendingProps.children),x.flags|=2,E.memoizedState=null,x}function i7e(x,E,D,F,K,Z,ce){if(D)return E.flags&256?(E.flags&=-257,F=ej(Error(n(422))),OI(x,E,ce,F)):E.memoizedState!==null?(E.child=x.child,E.flags|=128,null):(Z=F.fallback,K=E.mode,F=WI({mode:"visible",children:F.children},K,0,null),Z=Rv(Z,K,ce,null),Z.flags|=2,F.return=E,Z.return=E,F.sibling=Z,E.child=F,(E.mode&1)!==0&&Cw(E,x.child,null,ce),E.child.memoizedState=sj(ce),E.memoizedState=ij,Z);if((E.mode&1)===0)return OI(x,E,ce,null);if(K.data==="$!"){if(F=K.nextSibling&&K.nextSibling.dataset,F)var Ie=F.dgst;return F=Ie,Z=Error(n(419)),F=ej(Z,F,void 0),OI(x,E,ce,F)}if(Ie=(ce&x.childLanes)!==0,eu||Ie){if(F=$o,F!==null){switch(ce&-ce){case 4:K=2;break;case 16:K=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:K=32;break;case 536870912:K=268435456;break;default:K=0}K=(K&(F.suspendedLanes|ce))!==0?0:K,K!==0&&K!==Z.retryLane&&(Z.retryLane=K,Zp(x,K),Ld(F,x,K,-1))}return _j(),F=ej(Error(n(421))),OI(x,E,ce,F)}return K.data==="$?"?(E.flags|=128,E.child=x.child,E=y7e.bind(null,x),K._reactRetry=E,null):(x=Z.treeContext,Bu=Y0(K.nextSibling),ju=E,Ki=!0,Nd=null,x!==null&&(Cc[Ec++]=Qp,Cc[Ec++]=Jp,Cc[Ec++]=wv,Qp=x.id,Jp=x.overflow,wv=E),E=oj(E,F.children),E.flags|=4096,E)}function Moe(x,E,D){x.lanes|=E;var F=x.alternate;F!==null&&(F.lanes|=E),FL(x.return,E,D)}function aj(x,E,D,F,K){var Z=x.memoizedState;Z===null?x.memoizedState={isBackwards:E,rendering:null,renderingStartTime:0,last:F,tail:D,tailMode:K}:(Z.isBackwards=E,Z.rendering=null,Z.renderingStartTime=0,Z.last=F,Z.tail=D,Z.tailMode=K)}function Foe(x,E,D){var F=E.pendingProps,K=F.revealOrder,Z=F.tail;if(fl(x,E,F.children,D),F=ls.current,(F&2)!==0)F=F&1|2,E.flags|=128;else{if(x!==null&&(x.flags&128)!==0)e:for(x=E.child;x!==null;){if(x.tag===13)x.memoizedState!==null&&Moe(x,D,E);else if(x.tag===19)Moe(x,D,E);else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===E)break e;for(;x.sibling===null;){if(x.return===null||x.return===E)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}F&=1}if(Pi(ls,F),(E.mode&1)===0)E.memoizedState=null;else switch(K){case"forwards":for(D=E.child,K=null;D!==null;)x=D.alternate,x!==null&&TI(x)===null&&(K=D),D=D.sibling;D=K,D===null?(K=E.child,E.child=null):(K=D.sibling,D.sibling=null),aj(E,!1,K,D,Z);break;case"backwards":for(D=null,K=E.child,E.child=null;K!==null;){if(x=K.alternate,x!==null&&TI(x)===null){E.child=K;break}x=K.sibling,K.sibling=D,D=K,K=x}aj(E,!0,D,null,Z);break;case"together":aj(E,!1,null,null,void 0);break;default:E.memoizedState=null}return E.child}function NI(x,E){(E.mode&1)===0&&x!==null&&(x.alternate=null,E.alternate=null,E.flags|=2)}function tm(x,E,D){if(x!==null&&(E.dependencies=x.dependencies),Sv|=E.lanes,(D&E.childLanes)===0)return null;if(x!==null&&E.child!==x.child)throw Error(n(153));if(E.child!==null){for(x=E.child,D=sg(x,x.pendingProps),E.child=D,D.return=E;x.sibling!==null;)x=x.sibling,D=D.sibling=sg(x,x.pendingProps),D.return=E;D.sibling=null}return E.child}function s7e(x,E,D){switch(E.tag){case 3:Ooe(E),_w();break;case 5:Qse(E);break;case 1:Zl(E.type)&&gI(E);break;case 4:BL(E,E.stateNode.containerInfo);break;case 10:var F=E.type._context,K=E.memoizedProps.value;Pi(_I,F._currentValue),F._currentValue=K;break;case 13:if(F=E.memoizedState,F!==null)return F.dehydrated!==null?(Pi(ls,ls.current&1),E.flags|=128,null):(D&E.child.childLanes)!==0?$oe(x,E,D):(Pi(ls,ls.current&1),x=tm(x,E,D),x!==null?x.sibling:null);Pi(ls,ls.current&1);break;case 19:if(F=(D&E.childLanes)!==0,(x.flags&128)!==0){if(F)return Foe(x,E,D);E.flags|=128}if(K=E.memoizedState,K!==null&&(K.rendering=null,K.tail=null,K.lastEffect=null),Pi(ls,ls.current),F)break;return null;case 22:case 23:return E.lanes=0,Ioe(x,E,D)}return tm(x,E,D)}var Loe,lj,joe,Boe;Loe=function(x,E){for(var D=E.child;D!==null;){if(D.tag===5||D.tag===6)x.appendChild(D.stateNode);else if(D.tag!==4&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===E)break;for(;D.sibling===null;){if(D.return===null||D.return===E)return;D=D.return}D.sibling.return=D.return,D=D.sibling}},lj=function(){},joe=function(x,E,D,F){var K=x.memoizedProps;if(K!==F){x=E.stateNode,Cv(bh.current);var Z=null;switch(D){case"input":K=X(x,K),F=X(x,F),Z=[];break;case"select":K=V({},K,{value:void 0}),F=V({},F,{value:void 0}),Z=[];break;case"textarea":K=we(x,K),F=we(x,F),Z=[];break;default:typeof K.onClick!="function"&&typeof F.onClick=="function"&&(x.onclick=hI)}gn(D,F);var ce;D=null;for(Qe in K)if(!F.hasOwnProperty(Qe)&&K.hasOwnProperty(Qe)&&K[Qe]!=null)if(Qe==="style"){var Ie=K[Qe];for(ce in Ie)Ie.hasOwnProperty(ce)&&(D||(D={}),D[ce]="")}else Qe!=="dangerouslySetInnerHTML"&&Qe!=="children"&&Qe!=="suppressContentEditableWarning"&&Qe!=="suppressHydrationWarning"&&Qe!=="autoFocus"&&(i.hasOwnProperty(Qe)?Z||(Z=[]):(Z=Z||[]).push(Qe,null));for(Qe in F){var Fe=F[Qe];if(Ie=K?.[Qe],F.hasOwnProperty(Qe)&&Fe!==Ie&&(Fe!=null||Ie!=null))if(Qe==="style")if(Ie){for(ce in Ie)!Ie.hasOwnProperty(ce)||Fe&&Fe.hasOwnProperty(ce)||(D||(D={}),D[ce]="");for(ce in Fe)Fe.hasOwnProperty(ce)&&Ie[ce]!==Fe[ce]&&(D||(D={}),D[ce]=Fe[ce])}else D||(Z||(Z=[]),Z.push(Qe,D)),D=Fe;else Qe==="dangerouslySetInnerHTML"?(Fe=Fe?Fe.__html:void 0,Ie=Ie?Ie.__html:void 0,Fe!=null&&Ie!==Fe&&(Z=Z||[]).push(Qe,Fe)):Qe==="children"?typeof Fe!="string"&&typeof Fe!="number"||(Z=Z||[]).push(Qe,""+Fe):Qe!=="suppressContentEditableWarning"&&Qe!=="suppressHydrationWarning"&&(i.hasOwnProperty(Qe)?(Fe!=null&&Qe==="onScroll"&&Ui("scroll",x),Z||Ie===Fe||(Z=[])):(Z=Z||[]).push(Qe,Fe))}D&&(Z=Z||[]).push("style",D);var Qe=Z;(E.updateQueue=Qe)&&(E.flags|=4)}},Boe=function(x,E,D,F){D!==F&&(E.flags|=4)};function YE(x,E){if(!Ki)switch(x.tailMode){case"hidden":E=x.tail;for(var D=null;E!==null;)E.alternate!==null&&(D=E),E=E.sibling;D===null?x.tail=null:D.sibling=null;break;case"collapsed":D=x.tail;for(var F=null;D!==null;)D.alternate!==null&&(F=D),D=D.sibling;F===null?E||x.tail===null?x.tail=null:x.tail.sibling=null:F.sibling=null}}function Oa(x){var E=x.alternate!==null&&x.alternate.child===x.child,D=0,F=0;if(E)for(var K=x.child;K!==null;)D|=K.lanes|K.childLanes,F|=K.subtreeFlags&14680064,F|=K.flags&14680064,K.return=x,K=K.sibling;else for(K=x.child;K!==null;)D|=K.lanes|K.childLanes,F|=K.subtreeFlags,F|=K.flags,K.return=x,K=K.sibling;return x.subtreeFlags|=F,x.childLanes=D,E}function o7e(x,E,D){var F=E.pendingProps;switch(IL(E),E.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oa(E),null;case 1:return Zl(E.type)&&mI(),Oa(E),null;case 3:return F=E.stateNode,Tw(),Vi(Jl),Vi(Da),VL(),F.pendingContext&&(F.context=F.pendingContext,F.pendingContext=null),(x===null||x.child===null)&&(wI(E)?E.flags|=4:x===null||x.memoizedState.isDehydrated&&(E.flags&256)===0||(E.flags|=1024,Nd!==null&&(bj(Nd),Nd=null))),lj(x,E),Oa(E),null;case 5:zL(E);var K=Cv(VE.current);if(D=E.type,x!==null&&E.stateNode!=null)joe(x,E,D,F,K),x.ref!==E.ref&&(E.flags|=512,E.flags|=2097152);else{if(!F){if(E.stateNode===null)throw Error(n(166));return Oa(E),null}if(x=Cv(bh.current),wI(E)){F=E.stateNode,D=E.type;var Z=E.memoizedProps;switch(F[vh]=E,F[LE]=Z,x=(E.mode&1)!==0,D){case"dialog":Ui("cancel",F),Ui("close",F);break;case"iframe":case"object":case"embed":Ui("load",F);break;case"video":case"audio":for(K=0;K<$E.length;K++)Ui($E[K],F);break;case"source":Ui("error",F);break;case"img":case"image":case"link":Ui("error",F),Ui("load",F);break;case"details":Ui("toggle",F);break;case"input":fe(F,Z),Ui("invalid",F);break;case"select":F._wrapperState={wasMultiple:!!Z.multiple},Ui("invalid",F);break;case"textarea":$e(F,Z),Ui("invalid",F)}gn(D,Z),K=null;for(var ce in Z)if(Z.hasOwnProperty(ce)){var Ie=Z[ce];ce==="children"?typeof Ie=="string"?F.textContent!==Ie&&(Z.suppressHydrationWarning!==!0&&fI(F.textContent,Ie,x),K=["children",Ie]):typeof Ie=="number"&&F.textContent!==""+Ie&&(Z.suppressHydrationWarning!==!0&&fI(F.textContent,Ie,x),K=["children",""+Ie]):i.hasOwnProperty(ce)&&Ie!=null&&ce==="onScroll"&&Ui("scroll",F)}switch(D){case"input":ie(F),ee(F,Z,!0);break;case"textarea":ie(F),Oe(F);break;case"select":case"option":break;default:typeof Z.onClick=="function"&&(F.onclick=hI)}F=K,E.updateQueue=F,F!==null&&(E.flags|=4)}else{ce=K.nodeType===9?K:K.ownerDocument,x==="http://www.w3.org/1999/xhtml"&&(x=xe(D)),x==="http://www.w3.org/1999/xhtml"?D==="script"?(x=ce.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild)):typeof F.is=="string"?x=ce.createElement(D,{is:F.is}):(x=ce.createElement(D),D==="select"&&(ce=x,F.multiple?ce.multiple=!0:F.size&&(ce.size=F.size))):x=ce.createElementNS(x,D),x[vh]=E,x[LE]=F,Loe(x,E,!1,!1),E.stateNode=x;e:{switch(ce=Kn(D,F),D){case"dialog":Ui("cancel",x),Ui("close",x),K=F;break;case"iframe":case"object":case"embed":Ui("load",x),K=F;break;case"video":case"audio":for(K=0;K<$E.length;K++)Ui($E[K],x);K=F;break;case"source":Ui("error",x),K=F;break;case"img":case"image":case"link":Ui("error",x),Ui("load",x),K=F;break;case"details":Ui("toggle",x),K=F;break;case"input":fe(x,F),K=X(x,F),Ui("invalid",x);break;case"option":K=F;break;case"select":x._wrapperState={wasMultiple:!!F.multiple},K=V({},F,{value:void 0}),Ui("invalid",x);break;case"textarea":$e(x,F),K=we(x,F),Ui("invalid",x);break;default:K=F}gn(D,K),Ie=K;for(Z in Ie)if(Ie.hasOwnProperty(Z)){var Fe=Ie[Z];Z==="style"?Mn(x,Fe):Z==="dangerouslySetInnerHTML"?(Fe=Fe?Fe.__html:void 0,Fe!=null&&nt(x,Fe)):Z==="children"?typeof Fe=="string"?(D!=="textarea"||Fe!=="")&&it(x,Fe):typeof Fe=="number"&&it(x,""+Fe):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?Fe!=null&&Z==="onScroll"&&Ui("scroll",x):Fe!=null&&w(x,Z,Fe,ce))}switch(D){case"input":ie(x),ee(x,F,!1);break;case"textarea":ie(x),Oe(x);break;case"option":F.value!=null&&x.setAttribute("value",""+se(F.value));break;case"select":x.multiple=!!F.multiple,Z=F.value,Z!=null?Te(x,!!F.multiple,Z,!1):F.defaultValue!=null&&Te(x,!!F.multiple,F.defaultValue,!0);break;default:typeof K.onClick=="function"&&(x.onclick=hI)}switch(D){case"button":case"input":case"select":case"textarea":F=!!F.autoFocus;break e;case"img":F=!0;break e;default:F=!1}}F&&(E.flags|=4)}E.ref!==null&&(E.flags|=512,E.flags|=2097152)}return Oa(E),null;case 6:if(x&&E.stateNode!=null)Boe(x,E,x.memoizedProps,F);else{if(typeof F!="string"&&E.stateNode===null)throw Error(n(166));if(D=Cv(VE.current),Cv(bh.current),wI(E)){if(F=E.stateNode,D=E.memoizedProps,F[vh]=E,(Z=F.nodeValue!==D)&&(x=ju,x!==null))switch(x.tag){case 3:fI(F.nodeValue,D,(x.mode&1)!==0);break;case 5:x.memoizedProps.suppressHydrationWarning!==!0&&fI(F.nodeValue,D,(x.mode&1)!==0)}Z&&(E.flags|=4)}else F=(D.nodeType===9?D:D.ownerDocument).createTextNode(F),F[vh]=E,E.stateNode=F}return Oa(E),null;case 13:if(Vi(ls),F=E.memoizedState,x===null||x.memoizedState!==null&&x.memoizedState.dehydrated!==null){if(Ki&&Bu!==null&&(E.mode&1)!==0&&(E.flags&128)===0)Vse(),_w(),E.flags|=98560,Z=!1;else if(Z=wI(E),F!==null&&F.dehydrated!==null){if(x===null){if(!Z)throw Error(n(318));if(Z=E.memoizedState,Z=Z!==null?Z.dehydrated:null,!Z)throw Error(n(317));Z[vh]=E}else _w(),(E.flags&128)===0&&(E.memoizedState=null),E.flags|=4;Oa(E),Z=!1}else Nd!==null&&(bj(Nd),Nd=null),Z=!0;if(!Z)return E.flags&65536?E:null}return(E.flags&128)!==0?(E.lanes=D,E):(F=F!==null,F!==(x!==null&&x.memoizedState!==null)&&F&&(E.child.flags|=8192,(E.mode&1)!==0&&(x===null||(ls.current&1)!==0?ho===0&&(ho=3):_j())),E.updateQueue!==null&&(E.flags|=4),Oa(E),null);case 4:return Tw(),lj(x,E),x===null&&ME(E.stateNode.containerInfo),Oa(E),null;case 10:return ML(E.type._context),Oa(E),null;case 17:return Zl(E.type)&&mI(),Oa(E),null;case 19:if(Vi(ls),Z=E.memoizedState,Z===null)return Oa(E),null;if(F=(E.flags&128)!==0,ce=Z.rendering,ce===null)if(F)YE(Z,!1);else{if(ho!==0||x!==null&&(x.flags&128)!==0)for(x=E.child;x!==null;){if(ce=TI(x),ce!==null){for(E.flags|=128,YE(Z,!1),F=ce.updateQueue,F!==null&&(E.updateQueue=F,E.flags|=4),E.subtreeFlags=0,F=D,D=E.child;D!==null;)Z=D,x=F,Z.flags&=14680066,ce=Z.alternate,ce===null?(Z.childLanes=0,Z.lanes=x,Z.child=null,Z.subtreeFlags=0,Z.memoizedProps=null,Z.memoizedState=null,Z.updateQueue=null,Z.dependencies=null,Z.stateNode=null):(Z.childLanes=ce.childLanes,Z.lanes=ce.lanes,Z.child=ce.child,Z.subtreeFlags=0,Z.deletions=null,Z.memoizedProps=ce.memoizedProps,Z.memoizedState=ce.memoizedState,Z.updateQueue=ce.updateQueue,Z.type=ce.type,x=ce.dependencies,Z.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext}),D=D.sibling;return Pi(ls,ls.current&1|2),E.child}x=x.sibling}Z.tail!==null&&mr()>Iw&&(E.flags|=128,F=!0,YE(Z,!1),E.lanes=4194304)}else{if(!F)if(x=TI(ce),x!==null){if(E.flags|=128,F=!0,D=x.updateQueue,D!==null&&(E.updateQueue=D,E.flags|=4),YE(Z,!0),Z.tail===null&&Z.tailMode==="hidden"&&!ce.alternate&&!Ki)return Oa(E),null}else 2*mr()-Z.renderingStartTime>Iw&&D!==1073741824&&(E.flags|=128,F=!0,YE(Z,!1),E.lanes=4194304);Z.isBackwards?(ce.sibling=E.child,E.child=ce):(D=Z.last,D!==null?D.sibling=ce:E.child=ce,Z.last=ce)}return Z.tail!==null?(E=Z.tail,Z.rendering=E,Z.tail=E.sibling,Z.renderingStartTime=mr(),E.sibling=null,D=ls.current,Pi(ls,F?D&1|2:D&1),E):(Oa(E),null);case 22:case 23:return xj(),F=E.memoizedState!==null,x!==null&&x.memoizedState!==null!==F&&(E.flags|=8192),F&&(E.mode&1)!==0?(zu&1073741824)!==0&&(Oa(E),E.subtreeFlags&6&&(E.flags|=8192)):Oa(E),null;case 24:return null;case 25:return null}throw Error(n(156,E.tag))}function a7e(x,E){switch(IL(E),E.tag){case 1:return Zl(E.type)&&mI(),x=E.flags,x&65536?(E.flags=x&-65537|128,E):null;case 3:return Tw(),Vi(Jl),Vi(Da),VL(),x=E.flags,(x&65536)!==0&&(x&128)===0?(E.flags=x&-65537|128,E):null;case 5:return zL(E),null;case 13:if(Vi(ls),x=E.memoizedState,x!==null&&x.dehydrated!==null){if(E.alternate===null)throw Error(n(340));_w()}return x=E.flags,x&65536?(E.flags=x&-65537|128,E):null;case 19:return Vi(ls),null;case 4:return Tw(),null;case 10:return ML(E.type._context),null;case 22:case 23:return xj(),null;case 24:return null;default:return null}}var $I=!1,Na=!1,l7e=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function Aw(x,E){var D=x.ref;if(D!==null)if(typeof D=="function")try{D(null)}catch(F){ys(x,E,F)}else D.current=null}function uj(x,E,D){try{D()}catch(F){ys(x,E,F)}}var zoe=!1;function u7e(x,E){if(xL=oe,x=bse(),hL(x)){if("selectionStart"in x)var D={start:x.selectionStart,end:x.selectionEnd};else e:{D=(D=x.ownerDocument)&&D.defaultView||window;var F=D.getSelection&&D.getSelection();if(F&&F.rangeCount!==0){D=F.anchorNode;var K=F.anchorOffset,Z=F.focusNode;F=F.focusOffset;try{D.nodeType,Z.nodeType}catch{D=null;break e}var ce=0,Ie=-1,Fe=-1,Qe=0,gt=0,xt=x,mt=null;t:for(;;){for(var Xt;xt!==D||K!==0&&xt.nodeType!==3||(Ie=ce+K),xt!==Z||F!==0&&xt.nodeType!==3||(Fe=ce+F),xt.nodeType===3&&(ce+=xt.nodeValue.length),(Xt=xt.firstChild)!==null;)mt=xt,xt=Xt;for(;;){if(xt===x)break t;if(mt===D&&++Qe===K&&(Ie=ce),mt===Z&&++gt===F&&(Fe=ce),(Xt=xt.nextSibling)!==null)break;xt=mt,mt=xt.parentNode}xt=Xt}D=Ie===-1||Fe===-1?null:{start:Ie,end:Fe}}else D=null}D=D||{start:0,end:0}}else D=null;for(_L={focusedElem:x,selectionRange:D},oe=!1,Jt=E;Jt!==null;)if(E=Jt,x=E.child,(E.subtreeFlags&1028)!==0&&x!==null)x.return=E,Jt=x;else for(;Jt!==null;){E=Jt;try{var tn=E.alternate;if((E.flags&1024)!==0)switch(E.tag){case 0:case 11:case 15:break;case 1:if(tn!==null){var an=tn.memoizedProps,Ms=tn.memoizedState,Ge=E.stateNode,ze=Ge.getSnapshotBeforeUpdate(E.elementType===E.type?an:$d(E.type,an),Ms);Ge.__reactInternalSnapshotBeforeUpdate=ze}break;case 3:var Xe=E.stateNode.containerInfo;Xe.nodeType===1?Xe.textContent="":Xe.nodeType===9&&Xe.documentElement&&Xe.removeChild(Xe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Pt){ys(E,E.return,Pt)}if(x=E.sibling,x!==null){x.return=E.return,Jt=x;break}Jt=E.return}return tn=zoe,zoe=!1,tn}function KE(x,E,D){var F=E.updateQueue;if(F=F!==null?F.lastEffect:null,F!==null){var K=F=F.next;do{if((K.tag&x)===x){var Z=K.destroy;K.destroy=void 0,Z!==void 0&&uj(E,D,Z)}K=K.next}while(K!==F)}}function MI(x,E){if(E=E.updateQueue,E=E!==null?E.lastEffect:null,E!==null){var D=E=E.next;do{if((D.tag&x)===x){var F=D.create;D.destroy=F()}D=D.next}while(D!==E)}}function cj(x){var E=x.ref;if(E!==null){var D=x.stateNode;switch(x.tag){case 5:x=D;break;default:x=D}typeof E=="function"?E(x):E.current=x}}function Uoe(x){var E=x.alternate;E!==null&&(x.alternate=null,Uoe(E)),x.child=null,x.deletions=null,x.sibling=null,x.tag===5&&(E=x.stateNode,E!==null&&(delete E[vh],delete E[LE],delete E[TL],delete E[qBe],delete E[WBe])),x.stateNode=null,x.return=null,x.dependencies=null,x.memoizedProps=null,x.memoizedState=null,x.pendingProps=null,x.stateNode=null,x.updateQueue=null}function Voe(x){return x.tag===5||x.tag===3||x.tag===4}function Hoe(x){e:for(;;){for(;x.sibling===null;){if(x.return===null||Voe(x.return))return null;x=x.return}for(x.sibling.return=x.return,x=x.sibling;x.tag!==5&&x.tag!==6&&x.tag!==18;){if(x.flags&2||x.child===null||x.tag===4)continue e;x.child.return=x,x=x.child}if(!(x.flags&2))return x.stateNode}}function dj(x,E,D){var F=x.tag;if(F===5||F===6)x=x.stateNode,E?D.nodeType===8?D.parentNode.insertBefore(x,E):D.insertBefore(x,E):(D.nodeType===8?(E=D.parentNode,E.insertBefore(x,D)):(E=D,E.appendChild(x)),D=D._reactRootContainer,D!=null||E.onclick!==null||(E.onclick=hI));else if(F!==4&&(x=x.child,x!==null))for(dj(x,E,D),x=x.sibling;x!==null;)dj(x,E,D),x=x.sibling}function fj(x,E,D){var F=x.tag;if(F===5||F===6)x=x.stateNode,E?D.insertBefore(x,E):D.appendChild(x);else if(F!==4&&(x=x.child,x!==null))for(fj(x,E,D),x=x.sibling;x!==null;)fj(x,E,D),x=x.sibling}var ia=null,Md=!1;function eg(x,E,D){for(D=D.child;D!==null;)qoe(x,E,D),D=D.sibling}function qoe(x,E,D){if(Ds&&typeof Ds.onCommitFiberUnmount=="function")try{Ds.onCommitFiberUnmount(Yl,D)}catch{}switch(D.tag){case 5:Na||Aw(D,E);case 6:var F=ia,K=Md;ia=null,eg(x,E,D),ia=F,Md=K,ia!==null&&(Md?(x=ia,D=D.stateNode,x.nodeType===8?x.parentNode.removeChild(D):x.removeChild(D)):ia.removeChild(D.stateNode));break;case 18:ia!==null&&(Md?(x=ia,D=D.stateNode,x.nodeType===8?SL(x.parentNode,D):x.nodeType===1&&SL(x,D),Ia(x)):SL(ia,D.stateNode));break;case 4:F=ia,K=Md,ia=D.stateNode.containerInfo,Md=!0,eg(x,E,D),ia=F,Md=K;break;case 0:case 11:case 14:case 15:if(!Na&&(F=D.updateQueue,F!==null&&(F=F.lastEffect,F!==null))){K=F=F.next;do{var Z=K,ce=Z.destroy;Z=Z.tag,ce!==void 0&&((Z&2)!==0||(Z&4)!==0)&&uj(D,E,ce),K=K.next}while(K!==F)}eg(x,E,D);break;case 1:if(!Na&&(Aw(D,E),F=D.stateNode,typeof F.componentWillUnmount=="function"))try{F.props=D.memoizedProps,F.state=D.memoizedState,F.componentWillUnmount()}catch(Ie){ys(D,E,Ie)}eg(x,E,D);break;case 21:eg(x,E,D);break;case 22:D.mode&1?(Na=(F=Na)||D.memoizedState!==null,eg(x,E,D),Na=F):eg(x,E,D);break;default:eg(x,E,D)}}function Woe(x){var E=x.updateQueue;if(E!==null){x.updateQueue=null;var D=x.stateNode;D===null&&(D=x.stateNode=new l7e),E.forEach(function(F){var K=v7e.bind(null,x,F);D.has(F)||(D.add(F),F.then(K,K))})}}function Fd(x,E){var D=E.deletions;if(D!==null)for(var F=0;F<D.length;F++){var K=D[F];try{var Z=x,ce=E,Ie=ce;e:for(;Ie!==null;){switch(Ie.tag){case 5:ia=Ie.stateNode,Md=!1;break e;case 3:ia=Ie.stateNode.containerInfo,Md=!0;break e;case 4:ia=Ie.stateNode.containerInfo,Md=!0;break e}Ie=Ie.return}if(ia===null)throw Error(n(160));qoe(Z,ce,K),ia=null,Md=!1;var Fe=K.alternate;Fe!==null&&(Fe.return=null),K.return=null}catch(Qe){ys(K,E,Qe)}}if(E.subtreeFlags&12854)for(E=E.child;E!==null;)Goe(E,x),E=E.sibling}function Goe(x,E){var D=x.alternate,F=x.flags;switch(x.tag){case 0:case 11:case 14:case 15:if(Fd(E,x),xh(x),F&4){try{KE(3,x,x.return),MI(3,x)}catch(an){ys(x,x.return,an)}try{KE(5,x,x.return)}catch(an){ys(x,x.return,an)}}break;case 1:Fd(E,x),xh(x),F&512&&D!==null&&Aw(D,D.return);break;case 5:if(Fd(E,x),xh(x),F&512&&D!==null&&Aw(D,D.return),x.flags&32){var K=x.stateNode;try{it(K,"")}catch(an){ys(x,x.return,an)}}if(F&4&&(K=x.stateNode,K!=null)){var Z=x.memoizedProps,ce=D!==null?D.memoizedProps:Z,Ie=x.type,Fe=x.updateQueue;if(x.updateQueue=null,Fe!==null)try{Ie==="input"&&Z.type==="radio"&&Z.name!=null&&de(K,Z),Kn(Ie,ce);var Qe=Kn(Ie,Z);for(ce=0;ce<Fe.length;ce+=2){var gt=Fe[ce],xt=Fe[ce+1];gt==="style"?Mn(K,xt):gt==="dangerouslySetInnerHTML"?nt(K,xt):gt==="children"?it(K,xt):w(K,gt,xt,Qe)}switch(Ie){case"input":te(K,Z);break;case"textarea":Ae(K,Z);break;case"select":var mt=K._wrapperState.wasMultiple;K._wrapperState.wasMultiple=!!Z.multiple;var Xt=Z.value;Xt!=null?Te(K,!!Z.multiple,Xt,!1):mt!==!!Z.multiple&&(Z.defaultValue!=null?Te(K,!!Z.multiple,Z.defaultValue,!0):Te(K,!!Z.multiple,Z.multiple?[]:"",!1))}K[LE]=Z}catch(an){ys(x,x.return,an)}}break;case 6:if(Fd(E,x),xh(x),F&4){if(x.stateNode===null)throw Error(n(162));K=x.stateNode,Z=x.memoizedProps;try{K.nodeValue=Z}catch(an){ys(x,x.return,an)}}break;case 3:if(Fd(E,x),xh(x),F&4&&D!==null&&D.memoizedState.isDehydrated)try{Ia(E.containerInfo)}catch(an){ys(x,x.return,an)}break;case 4:Fd(E,x),xh(x);break;case 13:Fd(E,x),xh(x),K=x.child,K.flags&8192&&(Z=K.memoizedState!==null,K.stateNode.isHidden=Z,!Z||K.alternate!==null&&K.alternate.memoizedState!==null||(mj=mr())),F&4&&Woe(x);break;case 22:if(gt=D!==null&&D.memoizedState!==null,x.mode&1?(Na=(Qe=Na)||gt,Fd(E,x),Na=Qe):Fd(E,x),xh(x),F&8192){if(Qe=x.memoizedState!==null,(x.stateNode.isHidden=Qe)&&!gt&&(x.mode&1)!==0)for(Jt=x,gt=x.child;gt!==null;){for(xt=Jt=gt;Jt!==null;){switch(mt=Jt,Xt=mt.child,mt.tag){case 0:case 11:case 14:case 15:KE(4,mt,mt.return);break;case 1:Aw(mt,mt.return);var tn=mt.stateNode;if(typeof tn.componentWillUnmount=="function"){F=mt,D=mt.return;try{E=F,tn.props=E.memoizedProps,tn.state=E.memoizedState,tn.componentWillUnmount()}catch(an){ys(F,D,an)}}break;case 5:Aw(mt,mt.return);break;case 22:if(mt.memoizedState!==null){Xoe(xt);continue}}Xt!==null?(Xt.return=mt,Jt=Xt):Xoe(xt)}gt=gt.sibling}e:for(gt=null,xt=x;;){if(xt.tag===5){if(gt===null){gt=xt;try{K=xt.stateNode,Qe?(Z=K.style,typeof Z.setProperty=="function"?Z.setProperty("display","none","important"):Z.display="none"):(Ie=xt.stateNode,Fe=xt.memoizedProps.style,ce=Fe!=null&&Fe.hasOwnProperty("display")?Fe.display:null,Ie.style.display=Qt("display",ce))}catch(an){ys(x,x.return,an)}}}else if(xt.tag===6){if(gt===null)try{xt.stateNode.nodeValue=Qe?"":xt.memoizedProps}catch(an){ys(x,x.return,an)}}else if((xt.tag!==22&&xt.tag!==23||xt.memoizedState===null||xt===x)&&xt.child!==null){xt.child.return=xt,xt=xt.child;continue}if(xt===x)break e;for(;xt.sibling===null;){if(xt.return===null||xt.return===x)break e;gt===xt&&(gt=null),xt=xt.return}gt===xt&&(gt=null),xt.sibling.return=xt.return,xt=xt.sibling}}break;case 19:Fd(E,x),xh(x),F&4&&Woe(x);break;case 21:break;default:Fd(E,x),xh(x)}}function xh(x){var E=x.flags;if(E&2){try{e:{for(var D=x.return;D!==null;){if(Voe(D)){var F=D;break e}D=D.return}throw Error(n(160))}switch(F.tag){case 5:var K=F.stateNode;F.flags&32&&(it(K,""),F.flags&=-33);var Z=Hoe(x);fj(x,Z,K);break;case 3:case 4:var ce=F.stateNode.containerInfo,Ie=Hoe(x);dj(x,Ie,ce);break;default:throw Error(n(161))}}catch(Fe){ys(x,x.return,Fe)}x.flags&=-3}E&4096&&(x.flags&=-4097)}function c7e(x,E,D){Jt=x,Yoe(x)}function Yoe(x,E,D){for(var F=(x.mode&1)!==0;Jt!==null;){var K=Jt,Z=K.child;if(K.tag===22&&F){var ce=K.memoizedState!==null||$I;if(!ce){var Ie=K.alternate,Fe=Ie!==null&&Ie.memoizedState!==null||Na;Ie=$I;var Qe=Na;if($I=ce,(Na=Fe)&&!Qe)for(Jt=K;Jt!==null;)ce=Jt,Fe=ce.child,ce.tag===22&&ce.memoizedState!==null?Qoe(K):Fe!==null?(Fe.return=ce,Jt=Fe):Qoe(K);for(;Z!==null;)Jt=Z,Yoe(Z),Z=Z.sibling;Jt=K,$I=Ie,Na=Qe}Koe(x)}else(K.subtreeFlags&8772)!==0&&Z!==null?(Z.return=K,Jt=Z):Koe(x)}}function Koe(x){for(;Jt!==null;){var E=Jt;if((E.flags&8772)!==0){var D=E.alternate;try{if((E.flags&8772)!==0)switch(E.tag){case 0:case 11:case 15:Na||MI(5,E);break;case 1:var F=E.stateNode;if(E.flags&4&&!Na)if(D===null)F.componentDidMount();else{var K=E.elementType===E.type?D.memoizedProps:$d(E.type,D.memoizedProps);F.componentDidUpdate(K,D.memoizedState,F.__reactInternalSnapshotBeforeUpdate)}var Z=E.updateQueue;Z!==null&&Xse(E,Z,F);break;case 3:var ce=E.updateQueue;if(ce!==null){if(D=null,E.child!==null)switch(E.child.tag){case 5:D=E.child.stateNode;break;case 1:D=E.child.stateNode}Xse(E,ce,D)}break;case 5:var Ie=E.stateNode;if(D===null&&E.flags&4){D=Ie;var Fe=E.memoizedProps;switch(E.type){case"button":case"input":case"select":case"textarea":Fe.autoFocus&&D.focus();break;case"img":Fe.src&&(D.src=Fe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(E.memoizedState===null){var Qe=E.alternate;if(Qe!==null){var gt=Qe.memoizedState;if(gt!==null){var xt=gt.dehydrated;xt!==null&&Ia(xt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Na||E.flags&512&&cj(E)}catch(mt){ys(E,E.return,mt)}}if(E===x){Jt=null;break}if(D=E.sibling,D!==null){D.return=E.return,Jt=D;break}Jt=E.return}}function Xoe(x){for(;Jt!==null;){var E=Jt;if(E===x){Jt=null;break}var D=E.sibling;if(D!==null){D.return=E.return,Jt=D;break}Jt=E.return}}function Qoe(x){for(;Jt!==null;){var E=Jt;try{switch(E.tag){case 0:case 11:case 15:var D=E.return;try{MI(4,E)}catch(Fe){ys(E,D,Fe)}break;case 1:var F=E.stateNode;if(typeof F.componentDidMount=="function"){var K=E.return;try{F.componentDidMount()}catch(Fe){ys(E,K,Fe)}}var Z=E.return;try{cj(E)}catch(Fe){ys(E,Z,Fe)}break;case 5:var ce=E.return;try{cj(E)}catch(Fe){ys(E,ce,Fe)}}}catch(Fe){ys(E,E.return,Fe)}if(E===x){Jt=null;break}var Ie=E.sibling;if(Ie!==null){Ie.return=E.return,Jt=Ie;break}Jt=E.return}}var d7e=Math.ceil,FI=_.ReactCurrentDispatcher,hj=_.ReactCurrentOwner,kc=_.ReactCurrentBatchConfig,zr=0,$o=null,Qs=null,sa=0,zu=0,Rw=K0(0),ho=0,XE=null,Sv=0,LI=0,pj=0,QE=null,tu=null,mj=0,Iw=1/0,nm=null,jI=!1,gj=null,tg=null,BI=!1,ng=null,zI=0,JE=0,yj=null,UI=-1,VI=0;function hl(){return(zr&6)!==0?mr():UI!==-1?UI:UI=mr()}function rg(x){return(x.mode&1)===0?1:(zr&2)!==0&&sa!==0?sa&-sa:YBe.transition!==null?(VI===0&&(VI=Et()),VI):(x=en,x!==0||(x=window.event,x=x===void 0?16:jn(x.type)),x)}function Ld(x,E,D,F){if(50<JE)throw JE=0,yj=null,Error(n(185));Fn(x,D,F),((zr&2)===0||x!==$o)&&(x===$o&&((zr&2)===0&&(LI|=D),ho===4&&ig(x,sa)),nu(x,F),D===1&&zr===0&&(E.mode&1)===0&&(Iw=mr()+500,yI&&Q0()))}function nu(x,E){var D=x.callbackNode;pt(x,E);var F=rt(x,x===$o?sa:0);if(F===0)D!==null&&lo(D),x.callbackNode=null,x.callbackPriority=0;else if(E=F&-F,x.callbackPriority!==E){if(D!=null&&lo(D),E===1)x.tag===0?GBe(Zoe.bind(null,x)):Lse(Zoe.bind(null,x)),VBe(function(){(zr&6)===0&&Q0()}),D=null;else{switch(ur(F)){case 1:D=Rs;break;case 4:D=Io;break;case 16:D=Is;break;case 536870912:D=ta;break;default:D=Is}D=aae(D,Joe.bind(null,x))}x.callbackPriority=E,x.callbackNode=D}}function Joe(x,E){if(UI=-1,VI=0,(zr&6)!==0)throw Error(n(327));var D=x.callbackNode;if(Dw()&&x.callbackNode!==D)return null;var F=rt(x,x===$o?sa:0);if(F===0)return null;if((F&30)!==0||(F&x.expiredLanes)!==0||E)E=HI(x,F);else{E=F;var K=zr;zr|=2;var Z=tae();($o!==x||sa!==E)&&(nm=null,Iw=mr()+500,kv(x,E));do try{p7e();break}catch(Ie){eae(x,Ie)}while(!0);$L(),FI.current=Z,zr=K,Qs!==null?E=0:($o=null,sa=0,E=ho)}if(E!==0){if(E===2&&(K=dt(x),K!==0&&(F=K,E=vj(x,K))),E===1)throw D=XE,kv(x,0),ig(x,F),nu(x,mr()),D;if(E===6)ig(x,F);else{if(K=x.current.alternate,(F&30)===0&&!f7e(K)&&(E=HI(x,F),E===2&&(Z=dt(x),Z!==0&&(F=Z,E=vj(x,Z))),E===1))throw D=XE,kv(x,0),ig(x,F),nu(x,mr()),D;switch(x.finishedWork=K,x.finishedLanes=F,E){case 0:case 1:throw Error(n(345));case 2:Av(x,tu,nm);break;case 3:if(ig(x,F),(F&130023424)===F&&(E=mj+500-mr(),10<E)){if(rt(x,0)!==0)break;if(K=x.suspendedLanes,(K&F)!==F){hl(),x.pingedLanes|=x.suspendedLanes&K;break}x.timeoutHandle=EL(Av.bind(null,x,tu,nm),E);break}Av(x,tu,nm);break;case 4:if(ig(x,F),(F&4194240)===F)break;for(E=x.eventTimes,K=-1;0<F;){var ce=31-Ps(F);Z=1<<ce,ce=E[ce],ce>K&&(K=ce),F&=~Z}if(F=K,F=mr()-F,F=(120>F?120:480>F?480:1080>F?1080:1920>F?1920:3e3>F?3e3:4320>F?4320:1960*d7e(F/1960))-F,10<F){x.timeoutHandle=EL(Av.bind(null,x,tu,nm),F);break}Av(x,tu,nm);break;case 5:Av(x,tu,nm);break;default:throw Error(n(329))}}}return nu(x,mr()),x.callbackNode===D?Joe.bind(null,x):null}function vj(x,E){var D=QE;return x.current.memoizedState.isDehydrated&&(kv(x,E).flags|=256),x=HI(x,E),x!==2&&(E=tu,tu=D,E!==null&&bj(E)),x}function bj(x){tu===null?tu=x:tu.push.apply(tu,x)}function f7e(x){for(var E=x;;){if(E.flags&16384){var D=E.updateQueue;if(D!==null&&(D=D.stores,D!==null))for(var F=0;F<D.length;F++){var K=D[F],Z=K.getSnapshot;K=K.value;try{if(!Od(Z(),K))return!1}catch{return!1}}}if(D=E.child,E.subtreeFlags&16384&&D!==null)D.return=E,E=D;else{if(E===x)break;for(;E.sibling===null;){if(E.return===null||E.return===x)return!0;E=E.return}E.sibling.return=E.return,E=E.sibling}}return!0}function ig(x,E){for(E&=~pj,E&=~LI,x.suspendedLanes|=E,x.pingedLanes&=~E,x=x.expirationTimes;0<E;){var D=31-Ps(E),F=1<<D;x[D]=-1,E&=~F}}function Zoe(x){if((zr&6)!==0)throw Error(n(327));Dw();var E=rt(x,0);if((E&1)===0)return nu(x,mr()),null;var D=HI(x,E);if(x.tag!==0&&D===2){var F=dt(x);F!==0&&(E=F,D=vj(x,F))}if(D===1)throw D=XE,kv(x,0),ig(x,E),nu(x,mr()),D;if(D===6)throw Error(n(345));return x.finishedWork=x.current.alternate,x.finishedLanes=E,Av(x,tu,nm),nu(x,mr()),null}function wj(x,E){var D=zr;zr|=1;try{return x(E)}finally{zr=D,zr===0&&(Iw=mr()+500,yI&&Q0())}}function Tv(x){ng!==null&&ng.tag===0&&(zr&6)===0&&Dw();var E=zr;zr|=1;var D=kc.transition,F=en;try{if(kc.transition=null,en=1,x)return x()}finally{en=F,kc.transition=D,zr=E,(zr&6)===0&&Q0()}}function xj(){zu=Rw.current,Vi(Rw)}function kv(x,E){x.finishedWork=null,x.finishedLanes=0;var D=x.timeoutHandle;if(D!==-1&&(x.timeoutHandle=-1,UBe(D)),Qs!==null)for(D=Qs.return;D!==null;){var F=D;switch(IL(F),F.tag){case 1:F=F.type.childContextTypes,F!=null&&mI();break;case 3:Tw(),Vi(Jl),Vi(Da),VL();break;case 5:zL(F);break;case 4:Tw();break;case 13:Vi(ls);break;case 19:Vi(ls);break;case 10:ML(F.type._context);break;case 22:case 23:xj()}D=D.return}if($o=x,Qs=x=sg(x.current,null),sa=zu=E,ho=0,XE=null,pj=LI=Sv=0,tu=QE=null,_v!==null){for(E=0;E<_v.length;E++)if(D=_v[E],F=D.interleaved,F!==null){D.interleaved=null;var K=F.next,Z=D.pending;if(Z!==null){var ce=Z.next;Z.next=K,F.next=ce}D.pending=F}_v=null}return x}function eae(x,E){do{var D=Qs;try{if($L(),kI.current=DI,AI){for(var F=us.memoizedState;F!==null;){var K=F.queue;K!==null&&(K.pending=null),F=F.next}AI=!1}if(Ev=0,No=fo=us=null,HE=!1,qE=0,hj.current=null,D===null||D.return===null){ho=1,XE=E,Qs=null;break}e:{var Z=x,ce=D.return,Ie=D,Fe=E;if(E=sa,Ie.flags|=32768,Fe!==null&&typeof Fe=="object"&&typeof Fe.then=="function"){var Qe=Fe,gt=Ie,xt=gt.tag;if((gt.mode&1)===0&&(xt===0||xt===11||xt===15)){var mt=gt.alternate;mt?(gt.updateQueue=mt.updateQueue,gt.memoizedState=mt.memoizedState,gt.lanes=mt.lanes):(gt.updateQueue=null,gt.memoizedState=null)}var Xt=Soe(ce);if(Xt!==null){Xt.flags&=-257,Toe(Xt,ce,Ie,Z,E),Xt.mode&1&&Eoe(Z,Qe,E),E=Xt,Fe=Qe;var tn=E.updateQueue;if(tn===null){var an=new Set;an.add(Fe),E.updateQueue=an}else tn.add(Fe);break e}else{if((E&1)===0){Eoe(Z,Qe,E),_j();break e}Fe=Error(n(426))}}else if(Ki&&Ie.mode&1){var Ms=Soe(ce);if(Ms!==null){(Ms.flags&65536)===0&&(Ms.flags|=256),Toe(Ms,ce,Ie,Z,E),OL(kw(Fe,Ie));break e}}Z=Fe=kw(Fe,Ie),ho!==4&&(ho=2),QE===null?QE=[Z]:QE.push(Z),Z=ce;do{switch(Z.tag){case 3:Z.flags|=65536,E&=-E,Z.lanes|=E;var Ge=_oe(Z,Fe,E);Kse(Z,Ge);break e;case 1:Ie=Fe;var ze=Z.type,Xe=Z.stateNode;if((Z.flags&128)===0&&(typeof ze.getDerivedStateFromError=="function"||Xe!==null&&typeof Xe.componentDidCatch=="function"&&(tg===null||!tg.has(Xe)))){Z.flags|=65536,E&=-E,Z.lanes|=E;var Pt=Coe(Z,Ie,E);Kse(Z,Pt);break e}}Z=Z.return}while(Z!==null)}rae(D)}catch(hn){E=hn,Qs===D&&D!==null&&(Qs=D=D.return);continue}break}while(!0)}function tae(){var x=FI.current;return FI.current=DI,x===null?DI:x}function _j(){(ho===0||ho===3||ho===2)&&(ho=4),$o===null||(Sv&268435455)===0&&(LI&268435455)===0||ig($o,sa)}function HI(x,E){var D=zr;zr|=2;var F=tae();($o!==x||sa!==E)&&(nm=null,kv(x,E));do try{h7e();break}catch(K){eae(x,K)}while(!0);if($L(),zr=D,FI.current=F,Qs!==null)throw Error(n(261));return $o=null,sa=0,ho}function h7e(){for(;Qs!==null;)nae(Qs)}function p7e(){for(;Qs!==null&&!dh();)nae(Qs)}function nae(x){var E=oae(x.alternate,x,zu);x.memoizedProps=x.pendingProps,E===null?rae(x):Qs=E,hj.current=null}function rae(x){var E=x;do{var D=E.alternate;if(x=E.return,(E.flags&32768)===0){if(D=o7e(D,E,zu),D!==null){Qs=D;return}}else{if(D=a7e(D,E),D!==null){D.flags&=32767,Qs=D;return}if(x!==null)x.flags|=32768,x.subtreeFlags=0,x.deletions=null;else{ho=6,Qs=null;return}}if(E=E.sibling,E!==null){Qs=E;return}Qs=E=x}while(E!==null);ho===0&&(ho=5)}function Av(x,E,D){var F=en,K=kc.transition;try{kc.transition=null,en=1,m7e(x,E,D,F)}finally{kc.transition=K,en=F}return null}function m7e(x,E,D,F){do Dw();while(ng!==null);if((zr&6)!==0)throw Error(n(327));D=x.finishedWork;var K=x.finishedLanes;if(D===null)return null;if(x.finishedWork=null,x.finishedLanes=0,D===x.current)throw Error(n(177));x.callbackNode=null,x.callbackPriority=0;var Z=D.lanes|D.childLanes;if(on(x,Z),x===$o&&(Qs=$o=null,sa=0),(D.subtreeFlags&2064)===0&&(D.flags&2064)===0||BI||(BI=!0,aae(Is,function(){return Dw(),null})),Z=(D.flags&15990)!==0,(D.subtreeFlags&15990)!==0||Z){Z=kc.transition,kc.transition=null;var ce=en;en=1;var Ie=zr;zr|=4,hj.current=null,u7e(x,D),Goe(D,x),$Be(_L),oe=!!xL,_L=xL=null,x.current=D,c7e(D),$u(),zr=Ie,en=ce,kc.transition=Z}else x.current=D;if(BI&&(BI=!1,ng=x,zI=K),Z=x.pendingLanes,Z===0&&(tg=null),fh(D.stateNode),nu(x,mr()),E!==null)for(F=x.onRecoverableError,D=0;D<E.length;D++)K=E[D],F(K.value,{componentStack:K.stack,digest:K.digest});if(jI)throw jI=!1,x=gj,gj=null,x;return(zI&1)!==0&&x.tag!==0&&Dw(),Z=x.pendingLanes,(Z&1)!==0?x===yj?JE++:(JE=0,yj=x):JE=0,Q0(),null}function Dw(){if(ng!==null){var x=ur(zI),E=kc.transition,D=en;try{if(kc.transition=null,en=16>x?16:x,ng===null)var F=!1;else{if(x=ng,ng=null,zI=0,(zr&6)!==0)throw Error(n(331));var K=zr;for(zr|=4,Jt=x.current;Jt!==null;){var Z=Jt,ce=Z.child;if((Jt.flags&16)!==0){var Ie=Z.deletions;if(Ie!==null){for(var Fe=0;Fe<Ie.length;Fe++){var Qe=Ie[Fe];for(Jt=Qe;Jt!==null;){var gt=Jt;switch(gt.tag){case 0:case 11:case 15:KE(8,gt,Z)}var xt=gt.child;if(xt!==null)xt.return=gt,Jt=xt;else for(;Jt!==null;){gt=Jt;var mt=gt.sibling,Xt=gt.return;if(Uoe(gt),gt===Qe){Jt=null;break}if(mt!==null){mt.return=Xt,Jt=mt;break}Jt=Xt}}}var tn=Z.alternate;if(tn!==null){var an=tn.child;if(an!==null){tn.child=null;do{var Ms=an.sibling;an.sibling=null,an=Ms}while(an!==null)}}Jt=Z}}if((Z.subtreeFlags&2064)!==0&&ce!==null)ce.return=Z,Jt=ce;else e:for(;Jt!==null;){if(Z=Jt,(Z.flags&2048)!==0)switch(Z.tag){case 0:case 11:case 15:KE(9,Z,Z.return)}var Ge=Z.sibling;if(Ge!==null){Ge.return=Z.return,Jt=Ge;break e}Jt=Z.return}}var ze=x.current;for(Jt=ze;Jt!==null;){ce=Jt;var Xe=ce.child;if((ce.subtreeFlags&2064)!==0&&Xe!==null)Xe.return=ce,Jt=Xe;else e:for(ce=ze;Jt!==null;){if(Ie=Jt,(Ie.flags&2048)!==0)try{switch(Ie.tag){case 0:case 11:case 15:MI(9,Ie)}}catch(hn){ys(Ie,Ie.return,hn)}if(Ie===ce){Jt=null;break e}var Pt=Ie.sibling;if(Pt!==null){Pt.return=Ie.return,Jt=Pt;break e}Jt=Ie.return}}if(zr=K,Q0(),Ds&&typeof Ds.onPostCommitFiberRoot=="function")try{Ds.onPostCommitFiberRoot(Yl,x)}catch{}F=!0}return F}finally{en=D,kc.transition=E}}return!1}function iae(x,E,D){E=kw(D,E),E=_oe(x,E,1),x=Z0(x,E,1),E=hl(),x!==null&&(Fn(x,1,E),nu(x,E))}function ys(x,E,D){if(x.tag===3)iae(x,x,D);else for(;E!==null;){if(E.tag===3){iae(E,x,D);break}else if(E.tag===1){var F=E.stateNode;if(typeof E.type.getDerivedStateFromError=="function"||typeof F.componentDidCatch=="function"&&(tg===null||!tg.has(F))){x=kw(D,x),x=Coe(E,x,1),E=Z0(E,x,1),x=hl(),E!==null&&(Fn(E,1,x),nu(E,x));break}}E=E.return}}function g7e(x,E,D){var F=x.pingCache;F!==null&&F.delete(E),E=hl(),x.pingedLanes|=x.suspendedLanes&D,$o===x&&(sa&D)===D&&(ho===4||ho===3&&(sa&130023424)===sa&&500>mr()-mj?kv(x,0):pj|=D),nu(x,E)}function sae(x,E){E===0&&((x.mode&1)===0?E=1:(E=Ve,Ve<<=1,(Ve&130023424)===0&&(Ve=4194304)));var D=hl();x=Zp(x,E),x!==null&&(Fn(x,E,D),nu(x,D))}function y7e(x){var E=x.memoizedState,D=0;E!==null&&(D=E.retryLane),sae(x,D)}function v7e(x,E){var D=0;switch(x.tag){case 13:var F=x.stateNode,K=x.memoizedState;K!==null&&(D=K.retryLane);break;case 19:F=x.stateNode;break;default:throw Error(n(314))}F!==null&&F.delete(E),sae(x,D)}var oae;oae=function(x,E,D){if(x!==null)if(x.memoizedProps!==E.pendingProps||Jl.current)eu=!0;else{if((x.lanes&D)===0&&(E.flags&128)===0)return eu=!1,s7e(x,E,D);eu=(x.flags&131072)!==0}else eu=!1,Ki&&(E.flags&1048576)!==0&&jse(E,bI,E.index);switch(E.lanes=0,E.tag){case 2:var F=E.type;NI(x,E),x=E.pendingProps;var K=bw(E,Da.current);Sw(E,D),K=WL(null,E,F,x,K,D);var Z=GL();return E.flags|=1,typeof K=="object"&&K!==null&&typeof K.render=="function"&&K.$$typeof===void 0?(E.tag=1,E.memoizedState=null,E.updateQueue=null,Zl(F)?(Z=!0,gI(E)):Z=!1,E.memoizedState=K.state!==null&&K.state!==void 0?K.state:null,jL(E),K.updater=PI,E.stateNode=K,K._reactInternals=E,ZL(E,F,x,D),E=rj(null,E,F,!0,Z,D)):(E.tag=0,Ki&&Z&&RL(E),fl(null,E,K,D),E=E.child),E;case 16:F=E.elementType;e:{switch(NI(x,E),x=E.pendingProps,K=F._init,F=K(F._payload),E.type=F,K=E.tag=w7e(F),x=$d(F,x),K){case 0:E=nj(null,E,F,x,D);break e;case 1:E=Poe(null,E,F,x,D);break e;case 11:E=koe(null,E,F,x,D);break e;case 14:E=Aoe(null,E,F,$d(F.type,x),D);break e}throw Error(n(306,F,""))}return E;case 0:return F=E.type,K=E.pendingProps,K=E.elementType===F?K:$d(F,K),nj(x,E,F,K,D);case 1:return F=E.type,K=E.pendingProps,K=E.elementType===F?K:$d(F,K),Poe(x,E,F,K,D);case 3:e:{if(Ooe(E),x===null)throw Error(n(387));F=E.pendingProps,Z=E.memoizedState,K=Z.element,Yse(x,E),SI(E,F,null,D);var ce=E.memoizedState;if(F=ce.element,Z.isDehydrated)if(Z={element:F,isDehydrated:!1,cache:ce.cache,pendingSuspenseBoundaries:ce.pendingSuspenseBoundaries,transitions:ce.transitions},E.updateQueue.baseState=Z,E.memoizedState=Z,E.flags&256){K=kw(Error(n(423)),E),E=Noe(x,E,F,D,K);break e}else if(F!==K){K=kw(Error(n(424)),E),E=Noe(x,E,F,D,K);break e}else for(Bu=Y0(E.stateNode.containerInfo.firstChild),ju=E,Ki=!0,Nd=null,D=Wse(E,null,F,D),E.child=D;D;)D.flags=D.flags&-3|4096,D=D.sibling;else{if(_w(),F===K){E=tm(x,E,D);break e}fl(x,E,F,D)}E=E.child}return E;case 5:return Qse(E),x===null&&PL(E),F=E.type,K=E.pendingProps,Z=x!==null?x.memoizedProps:null,ce=K.children,CL(F,K)?ce=null:Z!==null&&CL(F,Z)&&(E.flags|=32),Doe(x,E),fl(x,E,ce,D),E.child;case 6:return x===null&&PL(E),null;case 13:return $oe(x,E,D);case 4:return BL(E,E.stateNode.containerInfo),F=E.pendingProps,x===null?E.child=Cw(E,null,F,D):fl(x,E,F,D),E.child;case 11:return F=E.type,K=E.pendingProps,K=E.elementType===F?K:$d(F,K),koe(x,E,F,K,D);case 7:return fl(x,E,E.pendingProps,D),E.child;case 8:return fl(x,E,E.pendingProps.children,D),E.child;case 12:return fl(x,E,E.pendingProps.children,D),E.child;case 10:e:{if(F=E.type._context,K=E.pendingProps,Z=E.memoizedProps,ce=K.value,Pi(_I,F._currentValue),F._currentValue=ce,Z!==null)if(Od(Z.value,ce)){if(Z.children===K.children&&!Jl.current){E=tm(x,E,D);break e}}else for(Z=E.child,Z!==null&&(Z.return=E);Z!==null;){var Ie=Z.dependencies;if(Ie!==null){ce=Z.child;for(var Fe=Ie.firstContext;Fe!==null;){if(Fe.context===F){if(Z.tag===1){Fe=em(-1,D&-D),Fe.tag=2;var Qe=Z.updateQueue;if(Qe!==null){Qe=Qe.shared;var gt=Qe.pending;gt===null?Fe.next=Fe:(Fe.next=gt.next,gt.next=Fe),Qe.pending=Fe}}Z.lanes|=D,Fe=Z.alternate,Fe!==null&&(Fe.lanes|=D),FL(Z.return,D,E),Ie.lanes|=D;break}Fe=Fe.next}}else if(Z.tag===10)ce=Z.type===E.type?null:Z.child;else if(Z.tag===18){if(ce=Z.return,ce===null)throw Error(n(341));ce.lanes|=D,Ie=ce.alternate,Ie!==null&&(Ie.lanes|=D),FL(ce,D,E),ce=Z.sibling}else ce=Z.child;if(ce!==null)ce.return=Z;else for(ce=Z;ce!==null;){if(ce===E){ce=null;break}if(Z=ce.sibling,Z!==null){Z.return=ce.return,ce=Z;break}ce=ce.return}Z=ce}fl(x,E,K.children,D),E=E.child}return E;case 9:return K=E.type,F=E.pendingProps.children,Sw(E,D),K=Sc(K),F=F(K),E.flags|=1,fl(x,E,F,D),E.child;case 14:return F=E.type,K=$d(F,E.pendingProps),K=$d(F.type,K),Aoe(x,E,F,K,D);case 15:return Roe(x,E,E.type,E.pendingProps,D);case 17:return F=E.type,K=E.pendingProps,K=E.elementType===F?K:$d(F,K),NI(x,E),E.tag=1,Zl(F)?(x=!0,gI(E)):x=!1,Sw(E,D),woe(E,F,K),ZL(E,F,K,D),rj(null,E,F,!0,x,D);case 19:return Foe(x,E,D);case 22:return Ioe(x,E,D)}throw Error(n(156,E.tag))};function aae(x,E){return wc(x,E)}function b7e(x,E,D,F){this.tag=x,this.key=D,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=E,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=F,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(x,E,D,F){return new b7e(x,E,D,F)}function Cj(x){return x=x.prototype,!(!x||!x.isReactComponent)}function w7e(x){if(typeof x=="function")return Cj(x)?1:0;if(x!=null){if(x=x.$$typeof,x===N)return 11;if(x===j)return 14}return 2}function sg(x,E){var D=x.alternate;return D===null?(D=Ac(x.tag,E,x.key,x.mode),D.elementType=x.elementType,D.type=x.type,D.stateNode=x.stateNode,D.alternate=x,x.alternate=D):(D.pendingProps=E,D.type=x.type,D.flags=0,D.subtreeFlags=0,D.deletions=null),D.flags=x.flags&14680064,D.childLanes=x.childLanes,D.lanes=x.lanes,D.child=x.child,D.memoizedProps=x.memoizedProps,D.memoizedState=x.memoizedState,D.updateQueue=x.updateQueue,E=x.dependencies,D.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext},D.sibling=x.sibling,D.index=x.index,D.ref=x.ref,D}function qI(x,E,D,F,K,Z){var ce=2;if(F=x,typeof x=="function")Cj(x)&&(ce=1);else if(typeof x=="string")ce=5;else e:switch(x){case T:return Rv(D.children,K,Z,E);case k:ce=8,K|=8;break;case I:return x=Ac(12,D,E,K|2),x.elementType=I,x.lanes=Z,x;case $:return x=Ac(13,D,E,K),x.elementType=$,x.lanes=Z,x;case O:return x=Ac(19,D,E,K),x.elementType=O,x.lanes=Z,x;case H:return WI(D,K,Z,E);default:if(typeof x=="object"&&x!==null)switch(x.$$typeof){case R:ce=10;break e;case P:ce=9;break e;case N:ce=11;break e;case j:ce=14;break e;case B:ce=16,F=null;break e}throw Error(n(130,x==null?x:typeof x,""))}return E=Ac(ce,D,E,K),E.elementType=x,E.type=F,E.lanes=Z,E}function Rv(x,E,D,F){return x=Ac(7,x,F,E),x.lanes=D,x}function WI(x,E,D,F){return x=Ac(22,x,F,E),x.elementType=H,x.lanes=D,x.stateNode={isHidden:!1},x}function Ej(x,E,D){return x=Ac(6,x,null,E),x.lanes=D,x}function Sj(x,E,D){return E=Ac(4,x.children!==null?x.children:[],x.key,E),E.lanes=D,E.stateNode={containerInfo:x.containerInfo,pendingChildren:null,implementation:x.implementation},E}function x7e(x,E,D,F,K){this.tag=E,this.containerInfo=x,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.identifierPrefix=F,this.onRecoverableError=K,this.mutableSourceEagerHydrationData=null}function Tj(x,E,D,F,K,Z,ce,Ie,Fe){return x=new x7e(x,E,D,Ie,Fe),E===1?(E=1,Z===!0&&(E|=8)):E=0,Z=Ac(3,null,null,E),x.current=Z,Z.stateNode=x,Z.memoizedState={element:F,isDehydrated:D,cache:null,transitions:null,pendingSuspenseBoundaries:null},jL(Z),x}function _7e(x,E,D){var F=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:S,key:F==null?null:""+F,children:x,containerInfo:E,implementation:D}}function lae(x){if(!x)return X0;x=x._reactInternals;e:{if(Vn(x)!==x||x.tag!==1)throw Error(n(170));var E=x;do{switch(E.tag){case 3:E=E.stateNode.context;break e;case 1:if(Zl(E.type)){E=E.stateNode.__reactInternalMemoizedMergedChildContext;break e}}E=E.return}while(E!==null);throw Error(n(171))}if(x.tag===1){var D=x.type;if(Zl(D))return Mse(x,D,E)}return E}function uae(x,E,D,F,K,Z,ce,Ie,Fe){return x=Tj(D,F,!0,x,K,Z,ce,Ie,Fe),x.context=lae(null),D=x.current,F=hl(),K=rg(D),Z=em(F,K),Z.callback=E??null,Z0(D,Z,K),x.current.lanes=K,Fn(x,K,F),nu(x,F),x}function GI(x,E,D,F){var K=E.current,Z=hl(),ce=rg(K);return D=lae(D),E.context===null?E.context=D:E.pendingContext=D,E=em(Z,ce),E.payload={element:x},F=F===void 0?null:F,F!==null&&(E.callback=F),x=Z0(K,E,ce),x!==null&&(Ld(x,K,ce,Z),EI(x,K,ce)),ce}function YI(x){if(x=x.current,!x.child)return null;switch(x.child.tag){case 5:return x.child.stateNode;default:return x.child.stateNode}}function cae(x,E){if(x=x.memoizedState,x!==null&&x.dehydrated!==null){var D=x.retryLane;x.retryLane=D!==0&&D<E?D:E}}function kj(x,E){cae(x,E),(x=x.alternate)&&cae(x,E)}function C7e(){return null}var dae=typeof reportError=="function"?reportError:function(x){console.error(x)};function Aj(x){this._internalRoot=x}KI.prototype.render=Aj.prototype.render=function(x){var E=this._internalRoot;if(E===null)throw Error(n(409));GI(x,E,null,null)},KI.prototype.unmount=Aj.prototype.unmount=function(){var x=this._internalRoot;if(x!==null){this._internalRoot=null;var E=x.containerInfo;Tv(function(){GI(null,x,null,null)}),E[Kp]=null}};function KI(x){this._internalRoot=x}KI.prototype.unstable_scheduleHydration=function(x){if(x){var E=hh();x={blockedOn:null,target:x,priority:E};for(var D=0;D<Ra.length&&E!==0&&E<Ra[D].priority;D++);Ra.splice(D,0,x),D===0&&gh(x)}};function Rj(x){return!(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)}function XI(x){return!(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11&&(x.nodeType!==8||x.nodeValue!==" react-mount-point-unstable "))}function fae(){}function E7e(x,E,D,F,K){if(K){if(typeof F=="function"){var Z=F;F=function(){var Qe=YI(ce);Z.call(Qe)}}var ce=uae(E,F,x,0,null,!1,!1,"",fae);return x._reactRootContainer=ce,x[Kp]=ce.current,ME(x.nodeType===8?x.parentNode:x),Tv(),ce}for(;K=x.lastChild;)x.removeChild(K);if(typeof F=="function"){var Ie=F;F=function(){var Qe=YI(Fe);Ie.call(Qe)}}var Fe=Tj(x,0,!1,null,null,!1,!1,"",fae);return x._reactRootContainer=Fe,x[Kp]=Fe.current,ME(x.nodeType===8?x.parentNode:x),Tv(function(){GI(E,Fe,D,F)}),Fe}function QI(x,E,D,F,K){var Z=D._reactRootContainer;if(Z){var ce=Z;if(typeof K=="function"){var Ie=K;K=function(){var Fe=YI(ce);Ie.call(Fe)}}GI(E,ce,x,K)}else ce=E7e(D,E,x,K,F);return YI(ce)}Os=function(x){switch(x.tag){case 3:var E=x.stateNode;if(E.current.memoizedState.isDehydrated){var D=Le(E.pendingLanes);D!==0&&(Zn(E,D|1),nu(E,mr()),(zr&6)===0&&(Iw=mr()+500,Q0()))}break;case 13:Tv(function(){var F=Zp(x,1);if(F!==null){var K=hl();Ld(F,x,1,K)}}),kj(x,1)}},Aa=function(x){if(x.tag===13){var E=Zp(x,134217728);if(E!==null){var D=hl();Ld(E,x,134217728,D)}kj(x,134217728)}},Ns=function(x){if(x.tag===13){var E=rg(x),D=Zp(x,E);if(D!==null){var F=hl();Ld(D,x,E,F)}kj(x,E)}},hh=function(){return en},xc=function(x,E){var D=en;try{return en=x,E()}finally{en=D}},Jn=function(x,E,D){switch(E){case"input":if(te(x,D),E=D.name,D.type==="radio"&&E!=null){for(D=x;D.parentNode;)D=D.parentNode;for(D=D.querySelectorAll("input[name="+JSON.stringify(""+E)+'][type="radio"]'),E=0;E<D.length;E++){var F=D[E];if(F!==x&&F.form===x.form){var K=pI(F);if(!K)throw Error(n(90));le(F),te(F,K)}}}break;case"textarea":Ae(x,D);break;case"select":E=D.value,E!=null&&Te(x,!!D.multiple,E,!1)}},_r=wj,In=Tv;var S7e={usingClientEntryPoint:!1,Events:[jE,yw,pI,sr,ui,wj]},ZE={findFiberByHostInstance:vv,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},T7e={bundleType:ZE.bundleType,version:ZE.version,rendererPackageName:ZE.rendererPackageName,rendererConfig:ZE.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(x){return x=Id(x),x===null?null:x.stateNode},findFiberByHostInstance:ZE.findFiberByHostInstance||C7e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var JI=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!JI.isDisabled&&JI.supportsFiber)try{Yl=JI.inject(T7e),Ds=JI}catch{}}return ru.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S7e,ru.createPortal=function(x,E){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rj(E))throw Error(n(200));return _7e(x,E,null,D)},ru.createRoot=function(x,E){if(!Rj(x))throw Error(n(299));var D=!1,F="",K=dae;return E!=null&&(E.unstable_strictMode===!0&&(D=!0),E.identifierPrefix!==void 0&&(F=E.identifierPrefix),E.onRecoverableError!==void 0&&(K=E.onRecoverableError)),E=Tj(x,1,!1,null,null,D,!1,F,K),x[Kp]=E.current,ME(x.nodeType===8?x.parentNode:x),new Aj(E)},ru.findDOMNode=function(x){if(x==null)return null;if(x.nodeType===1)return x;var E=x._reactInternals;if(E===void 0)throw typeof x.render=="function"?Error(n(188)):(x=Object.keys(x).join(","),Error(n(268,x)));return x=Id(E),x=x===null?null:x.stateNode,x},ru.flushSync=function(x){return Tv(x)},ru.hydrate=function(x,E,D){if(!XI(E))throw Error(n(200));return QI(null,x,E,!0,D)},ru.hydrateRoot=function(x,E,D){if(!Rj(x))throw Error(n(405));var F=D!=null&&D.hydratedSources||null,K=!1,Z="",ce=dae;if(D!=null&&(D.unstable_strictMode===!0&&(K=!0),D.identifierPrefix!==void 0&&(Z=D.identifierPrefix),D.onRecoverableError!==void 0&&(ce=D.onRecoverableError)),E=uae(E,null,x,1,D??null,K,!1,Z,ce),x[Kp]=E.current,ME(x),F)for(x=0;x<F.length;x++)D=F[x],K=D._getVersion,K=K(D._source),E.mutableSourceEagerHydrationData==null?E.mutableSourceEagerHydrationData=[D,K]:E.mutableSourceEagerHydrationData.push(D,K);return new KI(E)},ru.render=function(x,E,D){if(!XI(E))throw Error(n(200));return QI(null,x,E,!1,D)},ru.unmountComponentAtNode=function(x){if(!XI(x))throw Error(n(40));return x._reactRootContainer?(Tv(function(){QI(null,null,x,!1,function(){x._reactRootContainer=null,x[Kp]=null})}),!0):!1},ru.unstable_batchedUpdates=wj,ru.unstable_renderSubtreeIntoContainer=function(x,E,D,F){if(!XI(D))throw Error(n(200));if(x==null||x._reactInternals===void 0)throw Error(n(38));return QI(x,E,D,!1,F)},ru.version="18.3.1-next-f1338f8080-20240426",ru}var wae;function Ywe(){if(wae)return Pj.exports;wae=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Pj.exports=M7e(),Pj.exports}var xae;function F7e(){if(xae)return ZI;xae=1;var e=Ywe();return ZI.createRoot=e.createRoot,ZI.hydrateRoot=e.hydrateRoot,ZI}var L7e=F7e();const j7e=so(L7e);var Lh=function(){return Lh=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Lh.apply(this,arguments)};function _5(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function mN(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}function B7e(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var EP="right-scroll-bar-position",SP="width-before-scroll-bar",z7e="with-scroll-bars-hidden",U7e="--removed-body-scroll-bar-size";function $j(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function V7e(e,t){var n=A.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var H7e=typeof window<"u"?A.useLayoutEffect:A.useEffect,_ae=new WeakMap;function q7e(e,t){var n=V7e(null,function(r){return e.forEach(function(i){return $j(i,r)})});return H7e(function(){var r=_ae.get(n);if(r){var i=new Set(r),s=new Set(e),o=n.current;i.forEach(function(a){s.has(a)||$j(a,null)}),s.forEach(function(a){i.has(a)||$j(a,o)})}_ae.set(n,e)},[e]),n}function W7e(e){return e}function G7e(e,t){t===void 0&&(t=W7e);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var o=t(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var c=o;o=[],c.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(c){o.push(c),u()},filter:function(c){return o=o.filter(c),n}}}};return i}function Y7e(e){e===void 0&&(e={});var t=G7e(null);return t.options=Lh({async:!0,ssr:!1},e),t}var Kwe=function(e){var t=e.sideCar,n=_5(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return A.createElement(r,Lh({},n))};Kwe.isSideCarExport=!0;function K7e(e,t){return e.useMedium(t),Kwe}var Xwe=Y7e(),Mj=function(){},C5=A.forwardRef(function(e,t){var n=A.useRef(null),r=A.useState({onScrollCapture:Mj,onWheelCapture:Mj,onTouchMoveCapture:Mj}),i=r[0],s=r[1],o=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,c=e.enabled,d=e.shards,f=e.sideCar,h=e.noRelative,p=e.noIsolation,m=e.inert,g=e.allowPinchZoom,y=e.as,v=y===void 0?"div":y,w=e.gapMode,_=_5(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,S=q7e([n,t]),T=Lh(Lh({},_),i);return A.createElement(A.Fragment,null,c&&A.createElement(C,{sideCar:Xwe,removeScrollBar:u,shards:d,noRelative:h,noIsolation:p,inert:m,setCallbacks:s,allowPinchZoom:!!g,lockRef:n,gapMode:w}),o?A.cloneElement(A.Children.only(a),Lh(Lh({},T),{ref:S})):A.createElement(v,Lh({},T,{className:l,ref:S}),a))});C5.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};C5.classNames={fullWidth:SP,zeroRight:EP};var X7e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Q7e(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=X7e();return t&&e.setAttribute("nonce",t),e}function J7e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Z7e(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var eze=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Q7e())&&(J7e(t,n),Z7e(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},tze=function(){var e=eze();return function(t,n){A.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Qwe=function(){var e=tze(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},nze={left:0,top:0,right:0,gap:0},Fj=function(e){return parseInt(e||"",10)||0},rze=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Fj(n),Fj(r),Fj(i)]},ize=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return nze;var t=rze(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},sze=Qwe(),Fx="data-scroll-locked",oze=function(e,t,n,r){var i=e.left,s=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(z7e,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Fx,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(EP,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(SP,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(EP," .").concat(EP,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(SP," .").concat(SP,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Fx,`] {
    `).concat(U7e,": ").concat(a,`px;
  }
`)},Cae=function(){var e=parseInt(document.body.getAttribute(Fx)||"0",10);return isFinite(e)?e:0},aze=function(){A.useEffect(function(){return document.body.setAttribute(Fx,(Cae()+1).toString()),function(){var e=Cae()-1;e<=0?document.body.removeAttribute(Fx):document.body.setAttribute(Fx,e.toString())}},[])},lze=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;aze();var s=A.useMemo(function(){return ize(i)},[i]);return A.createElement(sze,{styles:oze(s,!t,i,n?"":"!important")})},uV=!1;if(typeof window<"u")try{var eD=Object.defineProperty({},"passive",{get:function(){return uV=!0,!0}});window.addEventListener("test",eD,eD),window.removeEventListener("test",eD,eD)}catch{uV=!1}var Pw=uV?{passive:!1}:!1,uze=function(e){return e.tagName==="TEXTAREA"},Jwe=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!uze(e)&&n[t]==="visible")},cze=function(e){return Jwe(e,"overflowY")},dze=function(e){return Jwe(e,"overflowX")},Eae=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Zwe(e,r);if(i){var s=exe(e,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},fze=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},hze=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Zwe=function(e,t){return e==="v"?cze(t):dze(t)},exe=function(e,t){return e==="v"?fze(t):hze(t)},pze=function(e,t){return e==="h"&&t==="rtl"?-1:1},mze=function(e,t,n,r,i){var s=pze(e,window.getComputedStyle(t).direction),o=s*r,a=n.target,l=t.contains(a),u=!1,c=o>0,d=0,f=0;do{if(!a)break;var h=exe(e,a),p=h[0],m=h[1],g=h[2],y=m-g-s*p;(p||y)&&Zwe(e,a)&&(d+=y,f+=p);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(c&&Math.abs(d)<1||!c&&Math.abs(f)<1)&&(u=!0),u},tD=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Sae=function(e){return[e.deltaX,e.deltaY]},Tae=function(e){return e&&"current"in e?e.current:e},gze=function(e,t){return e[0]===t[0]&&e[1]===t[1]},yze=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},vze=0,Ow=[];function bze(e){var t=A.useRef([]),n=A.useRef([0,0]),r=A.useRef(),i=A.useState(vze++)[0],s=A.useState(Qwe)[0],o=A.useRef(e);A.useEffect(function(){o.current=e},[e]),A.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=B7e([e.lockRef.current],(e.shards||[]).map(Tae),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=A.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var y=tD(m),v=n.current,w="deltaX"in m?m.deltaX:v[0]-y[0],_="deltaY"in m?m.deltaY:v[1]-y[1],C,S=m.target,T=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in m&&T==="h"&&S.type==="range")return!1;var k=Eae(T,S);if(!k)return!0;if(k?C=T:(C=T==="v"?"h":"v",k=Eae(T,S)),!k)return!1;if(!r.current&&"changedTouches"in m&&(w||_)&&(r.current=C),!C)return!0;var I=r.current||C;return mze(I,g,m,I==="h"?w:_)},[]),l=A.useCallback(function(m){var g=m;if(!(!Ow.length||Ow[Ow.length-1]!==s)){var y="deltaY"in g?Sae(g):tD(g),v=t.current.filter(function(C){return C.name===g.type&&(C.target===g.target||g.target===C.shadowParent)&&gze(C.delta,y)})[0];if(v&&v.should){g.cancelable&&g.preventDefault();return}if(!v){var w=(o.current.shards||[]).map(Tae).filter(Boolean).filter(function(C){return C.contains(g.target)}),_=w.length>0?a(g,w[0]):!o.current.noIsolation;_&&g.cancelable&&g.preventDefault()}}},[]),u=A.useCallback(function(m,g,y,v){var w={name:m,delta:g,target:y,should:v,shadowParent:wze(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),c=A.useCallback(function(m){n.current=tD(m),r.current=void 0},[]),d=A.useCallback(function(m){u(m.type,Sae(m),m.target,a(m,e.lockRef.current))},[]),f=A.useCallback(function(m){u(m.type,tD(m),m.target,a(m,e.lockRef.current))},[]);A.useEffect(function(){return Ow.push(s),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Pw),document.addEventListener("touchmove",l,Pw),document.addEventListener("touchstart",c,Pw),function(){Ow=Ow.filter(function(m){return m!==s}),document.removeEventListener("wheel",l,Pw),document.removeEventListener("touchmove",l,Pw),document.removeEventListener("touchstart",c,Pw)}},[]);var h=e.removeScrollBar,p=e.inert;return A.createElement(A.Fragment,null,p?A.createElement(s,{styles:yze(i)}):null,h?A.createElement(lze,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function wze(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const xze=K7e(Xwe,bze);var d_=A.forwardRef(function(e,t){return A.createElement(C5,Lh({},e,{ref:t,sideCar:xze}))});d_.classNames=C5.classNames;function Ai(e){return Object.keys(e)}function Lj(e){return e&&typeof e=="object"&&!Array.isArray(e)}function uY(e,t){const n={...e},r=t;return Lj(e)&&Lj(t)&&Object.keys(t).forEach(i=>{Lj(r[i])&&i in e?n[i]=uY(n[i],r[i]):n[i]=r[i]}),n}function _ze(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function Cze(e){return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:e.match(/^calc\((.*?)\)$/)?.[1].split("*")[0].trim()}function PT(e){const t=Cze(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function jj(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function txe(e,{shouldScale:t=!1}={}){function n(r){if(r===0||r==="0")return`0${e}`;if(typeof r=="number"){const i=`${r/16}${e}`;return t?jj(i):i}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(s=>n(s)).join(",");if(r.includes(" "))return r.split(" ").map(s=>n(s)).join(" ");if(r.includes(e))return t?jj(r):r;const i=r.replace("px","");if(!Number.isNaN(Number(i))){const s=`${Number(i)/16}${e}`;return t?jj(s):s}}return r}return n}const Ye=txe("rem",{shouldScale:!0}),gN=txe("em");function Fy(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}function nxe(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(r=>t.test(r))}return!1}function b0(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==A.Fragment:!1}function ko(e){const t=A.createContext(null);return[({children:i,value:s})=>b.jsx(t.Provider,{value:s,children:i}),()=>{const i=A.useContext(t);if(i===null)throw new Error(e);return i}]}function w0(e=null){const t=A.createContext(e);return[({children:i,value:s})=>b.jsx(t.Provider,{value:s,children:i}),()=>A.useContext(t)]}function yN(e,t){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(t);return`${e}-${n}`}}function vN(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function Eze(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function Sze(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function Tze(e,t,n){return vN(e,n)===vN(t,n)}function cY({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:s="rtl",orientation:o}){return a=>{n?.(a);const l=Array.from(vN(a.currentTarget,e)?.querySelectorAll(t)||[]).filter(p=>Tze(a.currentTarget,p,e)),u=l.findIndex(p=>a.currentTarget===p),c=Sze(u,l,r),d=Eze(u,l,r),f=s==="rtl"?d:c,h=s==="rtl"?c:d;switch(a.key){case"ArrowRight":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[f].focus(),i&&l[f].click());break}case"ArrowLeft":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[h].focus(),i&&l[h].click());break}case"ArrowUp":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[d].focus(),i&&l[d].click());break}case"ArrowDown":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[c].focus(),i&&l[c].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const p=l.length-1;!l[p].disabled&&l[p].focus();break}}}}const kze={app:100,modal:200,popover:300,overlay:400,max:9999};function Au(e){return kze[e]}const bN=()=>{};function Aze(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||bN:n=>{n.key==="Escape"&&(e(n),t.onTrigger?.())}}function vn(e,t="size",n=!0){if(e!==void 0)return nxe(e)?n?Ye(e):e:`var(--${t}-${e})`}function Mi(e){return vn(e,"mantine-spacing")}function Br(e){return e===void 0?"var(--mantine-radius-default)":vn(e,"mantine-radius")}function ps(e){return vn(e,"mantine-font-size")}function rxe(e){return vn(e,"mantine-line-height",!1)}function dY(e){if(e)return vn(e,"mantine-shadow",!1)}function Vo(e,t){return n=>{e?.(n),t?.(n)}}function fY(e,t){return e in t?PT(t[e]):PT(e)}function OT(e,t){const n=e.map(r=>({value:r,px:fY(r,t)}));return n.sort((r,i)=>r.px-i.px),n}function rf(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function Rze(e,t,n){return n?Array.from(vN(n,t)?.querySelectorAll(e)||[]).findIndex(r=>r===n):null}function Ize(){const[e,t]=A.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function Xc(e,t,n){return t===void 0&&n===void 0?e:t!==void 0&&n===void 0?Math.max(e,t):Math.min(t===void 0&&n!==void 0?e:Math.max(e,t),n)}function Kg(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function Dze(e,t){if(e===t||Number.isNaN(e)&&Number.isNaN(t))return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;const n=Object.keys(e),{length:r}=n;if(r!==Object.keys(t).length)return!1;for(let i=0;i<r;i+=1){const s=n[i];if(!(s in t)||e[s]!==t[s]&&!(Number.isNaN(e[s])&&Number.isNaN(t[s])))return!1}return!0}function Rg(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e}),A.useMemo(()=>(...n)=>t.current?.(...n),[])}function E5(e,t){const n=typeof t=="number"?t:t.delay,r=typeof t=="number"?!1:t.flushOnUnmount,i=Rg(e),s=A.useRef(0),o=A.useRef(()=>{}),a=Object.assign(A.useCallback((...l)=>{window.clearTimeout(s.current);const u=()=>{s.current!==0&&(s.current=0,i(...l))};o.current=u,a.flush=u,s.current=window.setTimeout(u,n)},[i,n]),{flush:o.current});return A.useEffect(()=>()=>{window.clearTimeout(s.current),r&&a.flush()},[a,r]),a}const kae=["mousedown","touchstart"];function ixe(e,t,n){const r=A.useRef(null);return A.useEffect(()=>{const i=s=>{const{target:o}=s??{};if(Array.isArray(n)){const a=o?.hasAttribute("data-ignore-outside-clicks")||!document.body.contains(o)&&o.tagName!=="HTML";n.every(u=>!!u&&!s.composedPath().includes(u))&&!a&&e()}else r.current&&!r.current.contains(o)&&e()};return(t||kae).forEach(s=>document.addEventListener(s,i)),()=>{(t||kae).forEach(s=>document.removeEventListener(s,i))}},[r,e,n]),r}function Pze({timeout:e=2e3}={}){const[t,n]=A.useState(null),[r,i]=A.useState(!1),[s,o]=A.useState(null),a=c=>{window.clearTimeout(s),o(window.setTimeout(()=>i(!1),e)),i(c)};return{copy:c=>{"clipboard"in navigator?navigator.clipboard.writeText(c).then(()=>a(!0)).catch(d=>n(d)):n(new Error("useClipboard: navigator.clipboard is not supported"))},reset:()=>{i(!1),n(null),window.clearTimeout(s)},error:t,copied:r}}function Oze(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function Nze(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function NT(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=A.useState(n?t:Nze(e)),s=A.useRef(null);return A.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(e),i(s.current.matches),Oze(s.current,o=>i(o.matches))},[e]),r}function $ze(e,t){return NT("(prefers-color-scheme: dark)",e==="dark",t)?"dark":"light"}function sxe(e,t,n={leading:!1}){const[r,i]=A.useState(e),s=A.useRef(!1),o=A.useRef(null),a=A.useRef(!1),l=()=>window.clearTimeout(o.current);return A.useEffect(()=>{s.current&&(!a.current&&n.leading?(a.current=!0,i(e)):(l(),o.current=window.setTimeout(()=>{a.current=!1,i(e)},t)))},[e,n.leading,t]),A.useEffect(()=>(s.current=!0,l),[]),[r,l]}const Ly=typeof document<"u"?A.useLayoutEffect:A.useEffect;function Nl(e,t){const n=A.useRef(!1);A.useEffect(()=>()=>{n.current=!1},[]),A.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function oxe({opened:e,shouldReturnFocus:t=!0}){const n=A.useRef(null),r=()=>{n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&n.current?.focus({preventScroll:!0})};return Nl(()=>{let i=-1;const s=o=>{o.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",s),e?n.current=document.activeElement:t&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",s)}},[e,t]),r}const Mze=/input|select|textarea|button|object/,axe="a, input, select, textarea, button, object, [tabindex]";function Fze(e){return e.style.display==="none"}function Lze(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(Fze(n))return!1;n=n.parentNode}return!0}function lxe(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function cV(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(lxe(e));return(Mze.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&Lze(e)}function uxe(e){const t=lxe(e);return(Number.isNaN(t)||t>=0)&&cV(e)}function jze(e){return Array.from(e.querySelectorAll(axe)).filter(uxe)}function Bze(e,t){const n=jze(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],i=e.getRootNode();let s=r===i.activeElement||e===i.activeElement;const o=i.activeElement;if(o.tagName==="INPUT"&&o.getAttribute("type")==="radio"&&(s=n.filter(c=>c.getAttribute("type")==="radio"&&c.getAttribute("name")===o.getAttribute("name")).includes(r)),!s)return;t.preventDefault();const l=n[t.shiftKey?n.length-1:0];l&&l.focus()}function zze(e=!0){const t=A.useRef(null),n=i=>{let s=i.querySelector("[data-autofocus]");if(!s){const o=Array.from(i.querySelectorAll(axe));s=o.find(uxe)||o.find(cV)||null,!s&&cV(i)&&(s=i)}s&&s.focus({preventScroll:!0})},r=A.useCallback(i=>{e&&i!==null&&t.current!==i&&(i?(setTimeout(()=>{i.getRootNode()&&n(i)}),t.current=i):t.current=null)},[e]);return A.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>n(t.current));const i=s=>{s.key==="Tab"&&t.current&&Bze(t.current,s)};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[e]),r}const Uze=e=>(e+1)%1e6;function Vze(){const[,e]=A.useReducer(Uze,0);return e}const Hze=mn.useId||(()=>{});function qze(){const e=Hze();return e?`mantine-${e.replace(/:/g,"")}`:""}function Sa(e){const t=qze(),[n,r]=A.useState(t);return Ly(()=>{r(Kg())},[]),typeof e=="string"?e:typeof window>"u"?t:n}function cxe(e,t,n){A.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function wN(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function dxe(...e){const t=new Map;return n=>{if(e.forEach(r=>{const i=wN(r,n);i&&t.set(r,i)}),t.size>0)return()=>{e.forEach(r=>{const i=t.get(r);i?i():wN(r,null)}),t.clear()}}}function ms(...e){return A.useCallback(dxe(...e),e)}function fxe(e){return{x:Xc(e.x,0,1),y:Xc(e.y,0,1)}}function nA(e,t,n="ltr"){const r=A.useRef(null),i=A.useRef(!1),s=A.useRef(!1),o=A.useRef(0),[a,l]=A.useState(!1);return A.useEffect(()=>{i.current=!0},[]),A.useEffect(()=>{const u=r.current,c=({x:w,y:_})=>{cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(i.current&&u){u.style.userSelect="none";const C=u.getBoundingClientRect();if(C.width&&C.height){const S=Xc((w-C.left)/C.width,0,1);e({x:n==="ltr"?S:1-S,y:Xc((_-C.top)/C.height,0,1)})}}})},d=()=>{document.addEventListener("mousemove",g),document.addEventListener("mouseup",p),document.addEventListener("touchmove",v),document.addEventListener("touchend",p)},f=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",p),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",p)},h=()=>{!s.current&&i.current&&(s.current=!0,typeof t?.onScrubStart=="function"&&t.onScrubStart(),l(!0),d())},p=()=>{s.current&&i.current&&(s.current=!1,l(!1),f(),setTimeout(()=>{typeof t?.onScrubEnd=="function"&&t.onScrubEnd()},0))},m=w=>{h(),w.preventDefault(),g(w)},g=w=>c({x:w.clientX,y:w.clientY}),y=w=>{w.cancelable&&w.preventDefault(),h(),v(w)},v=w=>{w.cancelable&&w.preventDefault(),c({x:w.changedTouches[0].clientX,y:w.changedTouches[0].clientY})};return u?.addEventListener("mousedown",m),u?.addEventListener("touchstart",y,{passive:!1}),()=>{u&&(u.removeEventListener("mousedown",m),u.removeEventListener("touchstart",y))}},[n,e]),{ref:r,active:a}}function Fi({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[i,s]=A.useState(t!==void 0?t:n),o=(a,...l)=>{s(a),r?.(a,...l)};return e!==void 0?[e,r,!0]:[i,o,!1]}function ag(e,t){const n=t-e+1;return Array.from({length:n},(r,i)=>i+e)}const nD="dots";function Wze({total:e,siblings:t=1,boundaries:n=1,page:r,initialPage:i=1,onChange:s}){const o=Math.max(Math.trunc(e),0),[a,l]=Fi({value:r,onChange:s,defaultValue:i,finalValue:i}),u=m=>{m<=0?l(1):m>o?l(o):l(m)},c=()=>u(a+1),d=()=>u(a-1),f=()=>u(1),h=()=>u(o);return{range:A.useMemo(()=>{if(t*2+3+n*2>=o)return ag(1,o);const g=Math.max(a-t,n),y=Math.min(a+t,o-n),v=g>n+2,w=y<o-(n+1);if(!v&&w){const _=t*2+n+2;return[...ag(1,_),nD,...ag(o-(n-1),o)]}if(v&&!w){const _=n+1+2*t;return[...ag(1,n),nD,...ag(o-_,o)]}return[...ag(1,n),nD,...ag(g,y),nD,...ag(o-n+1,o)]},[o,t,a]),active:a,setPage:u,next:c,previous:d,first:f,last:h}}function S5(e,t){return NT("(prefers-reduced-motion: reduce)",e,t)}const Gze={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function mf(e){const t=A.useRef(0),n=A.useRef(null),[r,i]=A.useState(Gze),s=A.useMemo(()=>typeof window<"u"?new ResizeObserver(o=>{const a=o[0];a&&(cancelAnimationFrame(t.current),t.current=requestAnimationFrame(()=>{if(n.current){const l=a.borderBoxSize?.[0]||a.contentBoxSize?.[0];if(l){const u=l.inlineSize,c=l.blockSize;i({width:u,height:c,x:a.contentRect.x,y:a.contentRect.y,top:a.contentRect.top,left:a.contentRect.left,bottom:a.contentRect.bottom,right:a.contentRect.right})}else i(a.contentRect)}}))}):null,[]);return A.useEffect(()=>(n.current&&s?.observe(n.current,e),()=>{s?.disconnect(),t.current&&cancelAnimationFrame(t.current)}),[n.current]),[n,r]}function Yze(e){const[t,{width:n,height:r}]=mf(e);return{ref:t,width:n,height:r}}function Kze(e,t){if(!e||!t)return!1;if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1)if(!Dze(e[n],t[n]))return!1;return!0}function Xze(e){const t=A.useRef([]),n=A.useRef(0);return Kze(t.current,e)||(t.current=e,n.current+=1),[n.current]}function Qze(e,t){A.useEffect(e,Xze(t))}function Jze(){const[e,t]=A.useState(!1),n=A.useRef(null),r=A.useCallback(()=>t(!0),[]),i=A.useCallback(()=>t(!1),[]);return A.useEffect(()=>{const s=n.current;if(s)return s.addEventListener("mouseenter",r),s.addEventListener("mouseleave",i),()=>{s?.removeEventListener("mouseenter",r),s?.removeEventListener("mouseleave",i)}},[n.current]),{ref:n,hovered:e}}function hY(e=!1,t){const{onOpen:n,onClose:r}=t||{},[i,s]=A.useState(e),o=A.useCallback(()=>{s(u=>u||(n?.(),!0))},[n]),a=A.useCallback(()=>{s(u=>u&&(r?.(),!1))},[r]),l=A.useCallback(()=>{i?a():o()},[a,o,i]);return[i,{open:o,close:a,toggle:l}]}function Zze(e,t,n={autoInvoke:!1}){const r=A.useRef(null),i=A.useCallback((...o)=>{r.current||(r.current=window.setTimeout(()=>{e(o),r.current=null},t))},[t]),s=A.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]);return A.useEffect(()=>(n.autoInvoke&&i(),s),[s,i]),{start:i,clear:s}}function eUe(e){const t=A.useRef(void 0);return A.useEffect(()=>{t.current=e},[e]),t.current}function tUe(){return navigator.userAgent.includes("OPR")}function nUe(){const[e,t]=A.useState(!1);Ly(()=>{t(typeof window<"u"&&!tUe()&&"EyeDropper"in window)},[]);const n=A.useCallback((r={})=>e?new window.EyeDropper().open(r):Promise.resolve(void 0),[e]);return{supported:e,open:n}}function rUe(e,t,n){const r=A.useRef(null),i=A.useRef(null);return A.useEffect(()=>{const s=typeof n=="function"?n():n;return(s||i.current)&&(r.current=new MutationObserver(e),r.current.observe(s||i.current,t)),()=>{r.current?.disconnect()}},[e,t]),i}function iUe(){const[e,t]=A.useState(!1);return A.useEffect(()=>t(!0),[]),e}function sUe(e,t){const n=Rg(e),r=A.useRef(null),i=A.useRef(null),s=A.useRef(!0),o=A.useRef(t),a=A.useRef(-1),l=()=>window.clearTimeout(a.current),u=A.useCallback((...f)=>{n(...f),r.current=f,i.current=f,s.current=!1},[n]),c=A.useCallback(()=>{r.current&&r.current!==i.current?(u(...r.current),a.current=window.setTimeout(c,o.current)):s.current=!0},[u]),d=A.useCallback((...f)=>{s.current?(u(...f),a.current=window.setTimeout(c,o.current)):r.current=f},[u,c]);return A.useEffect(()=>{o.current=t},[t]),[d,l]}function oUe(e,t){return sUe(e,t)[0]}function aUe(e,t){window.dispatchEvent(new CustomEvent(e,{detail:t}))}function lUe(e){function t(r){const i=Object.keys(r).reduce((s,o)=>(s[`${e}:${o}`]=a=>r[o](a.detail),s),{});Ly(()=>(Object.keys(i).forEach(s=>{window.removeEventListener(s,i[s]),window.addEventListener(s,i[s])}),()=>Object.keys(i).forEach(s=>{window.removeEventListener(s,i[s])})),[i])}function n(r){return(...i)=>aUe(`${e}:${String(r)}`,i[0])}return[t,n]}var uUe={};function hxe(){return typeof process<"u"&&uUe?"production":"development"}function dV(e,t){return t.length===0?e:t.reduce((n,r)=>Math.abs(r-e)<Math.abs(n-e)?r:n)}function T5(e){const t=mn.version;return typeof mn.version!="string"||t.startsWith("18.")?e?.ref:e?.props?.ref}function pxe(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=pxe(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Lt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=pxe(e))&&(r&&(r+=" "),r+=t);return r}const cUe={};function dUe(e){const t={};return e.forEach(n=>{Object.entries(n).forEach(([r,i])=>{t[r]?t[r]=Lt(t[r],i):t[r]=i})}),t}function k5({theme:e,classNames:t,props:n,stylesCtx:r}){const s=(Array.isArray(t)?t:[t]).map(o=>typeof o=="function"?o(e,n,r):o||cUe);return dUe(s)}function xN({theme:e,styles:t,props:n,stylesCtx:r}){return(Array.isArray(t)?t:[t]).reduce((s,o)=>typeof o=="function"?{...s,...o(e,n,r)}:{...s,...o},{})}const pY=A.createContext(null);function x0(){const e=A.useContext(pY);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function fUe(){return x0().cssVariablesResolver}function hUe(){return x0().classNamesPrefix}function A5(){return x0().getStyleNonce}function pUe(){return x0().withStaticClasses}function mUe(){return x0().headless}function gUe(){return x0().stylesTransform?.sx}function yUe(){return x0().stylesTransform?.styles}function mxe(){return x0().env||"default"}function vUe(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function bUe(e){let t=e.replace("#","");if(t.length===3){const o=t.split("");t=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}if(t.length===8){const o=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:o}}const n=parseInt(t,16),r=n>>16&255,i=n>>8&255,s=n&255;return{r,g:i,b:s,a:1}}function wUe(e){const[t,n,r,i]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:n,b:r,a:i===void 0?1:i}}function xUe(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=e.match(t);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),i=parseInt(n[2],10)/100,s=parseInt(n[3],10)/100,o=n[5]?parseFloat(n[5]):void 0,a=(1-Math.abs(2*s-1))*i,l=r/60,u=a*(1-Math.abs(l%2-1)),c=s-a/2;let d,f,h;return l>=0&&l<1?(d=a,f=u,h=0):l>=1&&l<2?(d=u,f=a,h=0):l>=2&&l<3?(d=0,f=a,h=u):l>=3&&l<4?(d=0,f=u,h=a):l>=4&&l<5?(d=u,f=0,h=a):(d=a,f=0,h=u),{r:Math.round((d+c)*255),g:Math.round((f+c)*255),b:Math.round((h+c)*255),a:o||1}}function R5(e){return vUe(e)?bUe(e):e.startsWith("rgb")?wUe(e):e.startsWith("hsl")?xUe(e):{r:0,g:0,b:0,a:1}}function Z2(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r:n,g:r,b:i,a:s}=R5(e),o=1-t,a=l=>Math.round(l*o);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${s})`}function $T(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function Bj(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function _Ue(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function CUe(e){if(e.startsWith("oklch("))return(_Ue(e)||0)/100;const{r:t,g:n,b:r}=R5(e),i=t/255,s=n/255,o=r/255,a=Bj(i),l=Bj(s),u=Bj(o);return .2126*a+.7152*l+.0722*u}function t2(e,t=.179){return e.startsWith("var(")?!1:CUe(e)>t}function jf({color:e,theme:t,colorScheme:n}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:n==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:t2(n==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:n==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:t2(n==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:t2(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[r,i]=e.split("."),s=i?Number(i):void 0,o=r in t.colors;if(o){const a=s!==void 0?t.colors[r][s]:t.colors[r][$T(t,n||"light")];return{color:r,value:a,shade:s,isThemeColor:o,isLight:t2(a,t.luminanceThreshold),variable:i?`--mantine-color-${r}-${s}`:`--mantine-color-${r}-filled`}}return{color:e,value:e,isThemeColor:o,isLight:t2(e,t.luminanceThreshold),shade:s,variable:void 0}}function Xr(e,t){const n=jf({color:e||t.primaryColor,theme:t});return n.variable?`var(${n.variable})`:e}function fV(e,t){const n={from:e?.from||t.defaultGradient.from,to:e?.to||t.defaultGradient.to,deg:e?.deg??t.defaultGradient.deg??0},r=Xr(n.from,t),i=Xr(n.to,t);return`linear-gradient(${n.deg}deg, ${r} 0%, ${i} 100%)`}function kh(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const s=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${s}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r:n,g:r,b:i}=R5(e);return`rgba(${n}, ${r}, ${i}, ${t})`}const Nw=kh,EUe=({color:e,theme:t,variant:n,gradient:r,autoContrast:i})=>{const s=jf({color:e,theme:t}),o=typeof i=="boolean"?i:t.autoContrast;if(n==="filled"){const a=o&&s.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return s.isThemeColor?s.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:a,border:`${Ye(1)} solid transparent`}:{background:`var(--mantine-color-${s.color}-${s.shade})`,hover:`var(--mantine-color-${s.color}-${s.shade===9?8:s.shade+1})`,color:a,border:`${Ye(1)} solid transparent`}:{background:e,hover:Z2(e,.1),color:a,border:`${Ye(1)} solid transparent`}}if(n==="light"){if(s.isThemeColor){if(s.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${Ye(1)} solid transparent`};const a=t.colors[s.color][s.shade];return{background:kh(a,.1),hover:kh(a,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${Ye(1)} solid transparent`}}return{background:kh(e,.1),hover:kh(e,.12),color:e,border:`${Ye(1)} solid transparent`}}if(n==="outline")return s.isThemeColor?s.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${Ye(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:kh(t.colors[s.color][s.shade],.05),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${Ye(1)} solid var(--mantine-color-${s.color}-${s.shade})`}:{background:"transparent",hover:kh(e,.05),color:e,border:`${Ye(1)} solid ${e}`};if(n==="subtle"){if(s.isThemeColor){if(s.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${Ye(1)} solid transparent`};const a=t.colors[s.color][s.shade];return{background:"transparent",hover:kh(a,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${Ye(1)} solid transparent`}}return{background:"transparent",hover:kh(e,.12),color:e,border:`${Ye(1)} solid transparent`}}return n==="transparent"?s.isThemeColor?s.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${Ye(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${Ye(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${Ye(1)} solid transparent`}:n==="white"?s.isThemeColor?s.shade===void 0?{background:"var(--mantine-color-white)",hover:Z2(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${Ye(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Z2(t.white,.01),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${Ye(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Z2(t.white,.01),color:e,border:`${Ye(1)} solid transparent`}:n==="gradient"?{background:fV(r,t),hover:fV(r,t),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${Ye(1)} solid var(--mantine-color-default-border)`}:{}},SUe={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},Aae="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",mY={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:SUe,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:EUe,autoContrast:!1,luminanceThreshold:.3,fontFamily:Aae,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:Aae,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:Ye(34),lineHeight:"1.3"},h2:{fontSize:Ye(26),lineHeight:"1.35"},h3:{fontSize:Ye(22),lineHeight:"1.4"},h4:{fontSize:Ye(18),lineHeight:"1.45"},h5:{fontSize:Ye(16),lineHeight:"1.5"},h6:{fontSize:Ye(14),lineHeight:"1.5"}}},fontSizes:{xs:Ye(12),sm:Ye(14),md:Ye(16),lg:Ye(18),xl:Ye(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:Ye(2),sm:Ye(4),md:Ye(8),lg:Ye(16),xl:Ye(32)},spacing:{xs:Ye(10),sm:Ye(12),md:Ye(16),lg:Ye(20),xl:Ye(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${Ye(1)} ${Ye(3)} rgba(0, 0, 0, 0.05), 0 ${Ye(1)} ${Ye(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${Ye(1)} ${Ye(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ye(10)} ${Ye(15)} ${Ye(-5)}, rgba(0, 0, 0, 0.04) 0 ${Ye(7)} ${Ye(7)} ${Ye(-5)}`,md:`0 ${Ye(1)} ${Ye(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ye(20)} ${Ye(25)} ${Ye(-5)}, rgba(0, 0, 0, 0.04) 0 ${Ye(10)} ${Ye(10)} ${Ye(-5)}`,lg:`0 ${Ye(1)} ${Ye(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ye(28)} ${Ye(23)} ${Ye(-7)}, rgba(0, 0, 0, 0.04) 0 ${Ye(12)} ${Ye(12)} ${Ye(-7)}`,xl:`0 ${Ye(1)} ${Ye(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ye(36)} ${Ye(28)} ${Ye(-7)}, rgba(0, 0, 0, 0.04) 0 ${Ye(17)} ${Ye(17)} ${Ye(-7)}`},other:{},components:{}};function Rae(e){return e==="auto"||e==="dark"||e==="light"}function TUe({key:e="mantine-color-scheme-value"}={}){let t;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(e);return Rae(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(e,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{t=r=>{r.storageArea===window.localStorage&&r.key===e&&Rae(r.newValue)&&n(r.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const kUe="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",Iae="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function zj(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function Dae(e){if(!(e.primaryColor in e.colors))throw new Error(kUe);if(typeof e.primaryShade=="object"&&(!zj(e.primaryShade.dark)||!zj(e.primaryShade.light)))throw new Error(Iae);if(typeof e.primaryShade=="number"&&!zj(e.primaryShade))throw new Error(Iae)}function AUe(e,t){if(!t)return Dae(e),e;const n=uY(e,t);return t.fontFamily&&!t.headings?.fontFamily&&(n.headings.fontFamily=t.fontFamily),Dae(n),n}const gY=A.createContext(null),RUe=()=>A.useContext(gY)||mY;function os(){const e=A.useContext(gY);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function gxe({theme:e,children:t,inherit:n=!0}){const r=RUe(),i=A.useMemo(()=>AUe(n?r:mY,e),[e,r,n]);return b.jsx(gY.Provider,{value:i,children:t})}gxe.displayName="@mantine/core/MantineThemeProvider";function IUe(){const e=os(),t=A5(),n=Ai(e.breakpoints).reduce((r,i)=>{const s=e.breakpoints[i].includes("px"),o=PT(e.breakpoints[i]),a=s?`${o-.1}px`:gN(o-.1),l=s?`${o}px`:gN(o);return`${r}@media (max-width: ${a}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${l}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return b.jsx("style",{"data-mantine-styles":"classes",nonce:t?.(),dangerouslySetInnerHTML:{__html:n}})}function Uj(e){return Object.entries(e).map(([t,n])=>`${t}: ${n};`).join("")}function n2(e,t){return(Array.isArray(e)?e:[e]).reduce((r,i)=>`${i}{${r}}`,t)}function DUe(e,t){const n=Uj(e.variables),r=n?n2(t,n):"",i=Uj(e.dark),s=Uj(e.light),o=i?n2(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,i):"",a=s?n2(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,s):"";return`${r}${o}${a}`}function Tp({color:e,theme:t,autoContrast:n}){return(typeof n=="boolean"?n:t.autoContrast)&&jf({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function Pae(e,t){return Tp({color:e.colors[e.primaryColor][$T(e,t)],theme:e,autoContrast:null})}function rD({theme:e,color:t,colorScheme:n,name:r=t,withColorValues:i=!0}){if(!e.colors[t])return{};if(n==="light"){const a=$T(e,"light"),l={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${a===9?8:a+1})`,[`--mantine-color-${r}-light`]:Nw(e.colors[t][a],.1),[`--mantine-color-${r}-light-hover`]:Nw(e.colors[t][a],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline-hover`]:Nw(e.colors[t][a],.05)};return i?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...l}:l}const s=$T(e,"dark"),o={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${s})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${s===9?8:s+1})`,[`--mantine-color-${r}-light`]:Nw(e.colors[t][Math.max(0,s-2)],.15),[`--mantine-color-${r}-light-hover`]:Nw(e.colors[t][Math.max(0,s-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(s-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(s-4,0)})`,[`--mantine-color-${r}-outline-hover`]:Nw(e.colors[t][Math.max(s-4,0)],.05)};return i?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...o}:o}function PUe(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function $w(e,t,n){Ai(t).forEach(r=>Object.assign(e,{[`--mantine-${n}-${r}`]:t[r]}))}const yxe=e=>{const t=$T(e,"light"),n=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:Ye(e.defaultRadius),r={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":Pae(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":Pae(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};$w(r.variables,e.breakpoints,"breakpoint"),$w(r.variables,e.spacing,"spacing"),$w(r.variables,e.fontSizes,"font-size"),$w(r.variables,e.lineHeights,"line-height"),$w(r.variables,e.shadows,"shadow"),$w(r.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((s,o)=>{r.variables[`--mantine-primary-color-${o}`]=`var(--mantine-color-${e.primaryColor}-${o})`}),Ai(e.colors).forEach(s=>{const o=e.colors[s];if(PUe(o)){Object.assign(r.light,rD({theme:e,name:o.name,color:o.light,colorScheme:"light",withColorValues:!0})),Object.assign(r.dark,rD({theme:e,name:o.name,color:o.dark,colorScheme:"dark",withColorValues:!0}));return}o.forEach((a,l)=>{r.variables[`--mantine-color-${s}-${l}`]=a}),Object.assign(r.light,rD({theme:e,color:s,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,rD({theme:e,color:s,colorScheme:"dark",withColorValues:!1}))});const i=e.headings.sizes;return Ai(i).forEach(s=>{r.variables[`--mantine-${s}-font-size`]=i[s].fontSize,r.variables[`--mantine-${s}-line-height`]=i[s].lineHeight,r.variables[`--mantine-${s}-font-weight`]=i[s].fontWeight||e.headings.fontWeight}),r};function OUe({theme:e,generator:t}){const n=yxe(e),r=t?.(e);return r?uY(n,r):n}const Vj=yxe(mY);function NUe(e){const t={variables:{},light:{},dark:{}};return Ai(e.variables).forEach(n=>{Vj.variables[n]!==e.variables[n]&&(t.variables[n]=e.variables[n])}),Ai(e.light).forEach(n=>{Vj.light[n]!==e.light[n]&&(t.light[n]=e.light[n])}),Ai(e.dark).forEach(n=>{Vj.dark[n]!==e.dark[n]&&(t.dark[n]=e.dark[n])}),t}function $Ue(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function vxe({cssVariablesSelector:e,deduplicateCssVariables:t}){const n=os(),r=A5(),i=fUe(),s=OUe({theme:n,generator:i}),o=e===":root"&&t,a=o?NUe(s):s,l=DUe(a,e);return l?b.jsx("style",{"data-mantine-styles":!0,nonce:r?.(),dangerouslySetInnerHTML:{__html:`${l}${o?"":$Ue(e)}`}}):null}vxe.displayName="@mantine/CssVariables";function MUe(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function Mw(e,t){const n=typeof window<"u"&&"matchMedia"in window&&window.matchMedia("(prefers-color-scheme: dark)")?.matches,r=e!=="auto"?e:n?"dark":"light";t()?.setAttribute("data-mantine-color-scheme",r)}function FUe({manager:e,defaultColorScheme:t,getRootElement:n,forceColorScheme:r}){const i=A.useRef(null),[s,o]=A.useState(()=>e.get(t)),a=r||s,l=A.useCallback(c=>{r||(Mw(c,n),o(c),e.set(c))},[e.set,a,r]),u=A.useCallback(()=>{o(t),Mw(t,n),e.clear()},[e.clear,t]);return A.useEffect(()=>(e.subscribe(l),e.unsubscribe),[e.subscribe,e.unsubscribe]),Ly(()=>{Mw(e.get(t),n)},[]),A.useEffect(()=>{if(r)return Mw(r,n),()=>{};r===void 0&&Mw(s,n),typeof window<"u"&&"matchMedia"in window&&(i.current=window.matchMedia("(prefers-color-scheme: dark)"));const c=d=>{s==="auto"&&Mw(d.matches?"dark":"light",n)};return i.current?.addEventListener("change",c),()=>i.current?.removeEventListener("change",c)},[s,r]),{colorScheme:a,setColorScheme:l,clearColorScheme:u}}function LUe({respectReducedMotion:e,getRootElement:t}){Ly(()=>{e&&t()?.setAttribute("data-respect-reduced-motion","true")},[e])}MUe();function bxe({theme:e,children:t,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:i=!0,deduplicateCssVariables:s=!0,withCssVariables:o=!0,cssVariablesSelector:a=":root",classNamesPrefix:l="mantine",colorSchemeManager:u=TUe(),defaultColorScheme:c="light",getRootElement:d=()=>document.documentElement,cssVariablesResolver:f,forceColorScheme:h,stylesTransform:p,env:m}){const{colorScheme:g,setColorScheme:y,clearColorScheme:v}=FUe({defaultColorScheme:c,forceColorScheme:h,manager:u,getRootElement:d});return LUe({respectReducedMotion:e?.respectReducedMotion||!1,getRootElement:d}),b.jsx(pY.Provider,{value:{colorScheme:g,setColorScheme:y,clearColorScheme:v,getRootElement:d,classNamesPrefix:l,getStyleNonce:n,cssVariablesResolver:f,cssVariablesSelector:a,withStaticClasses:r,stylesTransform:p,env:m},children:b.jsxs(gxe,{theme:e,children:[o&&b.jsx(vxe,{cssVariablesSelector:a,deduplicateCssVariables:s}),i&&b.jsx(IUe,{}),t]})})}bxe.displayName="@mantine/core/MantineProvider";function Bf({classNames:e,styles:t,props:n,stylesCtx:r}){const i=os();return{resolvedClassNames:k5({theme:i,classNames:e,props:n,stylesCtx:r||void 0}),resolvedStyles:xN({theme:i,styles:t,props:n,stylesCtx:r||void 0})}}const jUe={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function BUe({theme:e,options:t,unstyled:n}){return Lt(t?.focusable&&!n&&(e.focusClassName||jUe[e.focusRing]),t?.active&&!n&&e.activeClassName)}function zUe({selector:e,stylesCtx:t,options:n,props:r,theme:i}){return k5({theme:i,classNames:n?.classNames,props:n?.props||r,stylesCtx:t})[e]}function Oae({selector:e,stylesCtx:t,theme:n,classNames:r,props:i}){return k5({theme:n,classNames:r,props:i,stylesCtx:t})[e]}function UUe({rootSelector:e,selector:t,className:n}){return e===t?n:void 0}function VUe({selector:e,classes:t,unstyled:n}){return n?void 0:t[e]}function HUe({themeName:e,classNamesPrefix:t,selector:n,withStaticClass:r}){return r===!1?[]:e.map(i=>`${t}-${i}-${n}`)}function qUe({themeName:e,theme:t,selector:n,props:r,stylesCtx:i}){return e.map(s=>k5({theme:t,classNames:t.components[s]?.classNames,props:r,stylesCtx:i})?.[n])}function WUe({options:e,classes:t,selector:n,unstyled:r}){return e?.variant&&!r?t[`${n}--${e.variant}`]:void 0}function GUe({theme:e,options:t,themeName:n,selector:r,classNamesPrefix:i,classNames:s,classes:o,unstyled:a,className:l,rootSelector:u,props:c,stylesCtx:d,withStaticClasses:f,headless:h,transformedStyles:p}){return Lt(BUe({theme:e,options:t,unstyled:a||h}),qUe({theme:e,themeName:n,selector:r,props:c,stylesCtx:d}),WUe({options:t,classes:o,selector:r,unstyled:a}),Oae({selector:r,stylesCtx:d,theme:e,classNames:s,props:c}),Oae({selector:r,stylesCtx:d,theme:e,classNames:p,props:c}),zUe({selector:r,stylesCtx:d,options:t,props:c,theme:e}),UUe({rootSelector:u,selector:r,className:l}),VUe({selector:r,classes:o,unstyled:a||h}),f&&!h&&HUe({themeName:n,classNamesPrefix:i,selector:r,withStaticClass:t?.withStaticClass}),t?.className)}function YUe({theme:e,themeName:t,props:n,stylesCtx:r,selector:i}){return t.map(s=>xN({theme:e,styles:e.components[s]?.styles,props:n,stylesCtx:r})[i]).reduce((s,o)=>({...s,...o}),{})}function hV({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...hV({style:r,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function KUe(e){return e.reduce((t,n)=>(n&&Object.keys(n).forEach(r=>{t[r]={...t[r],...Fy(n[r])}}),t),{})}function XUe({vars:e,varsResolver:t,theme:n,props:r,stylesCtx:i,selector:s,themeName:o,headless:a}){return KUe([a?{}:t?.(n,r,i),...o.map(l=>n.components?.[l]?.vars?.(n,r,i)),e?.(n,r,i)])?.[s]}function QUe({theme:e,themeName:t,selector:n,options:r,props:i,stylesCtx:s,rootSelector:o,styles:a,style:l,vars:u,varsResolver:c,headless:d,withStylesTransform:f}){return{...!f&&YUe({theme:e,themeName:t,props:i,stylesCtx:s,selector:n}),...!f&&xN({theme:e,styles:a,props:i,stylesCtx:s})[n],...!f&&xN({theme:e,styles:r?.styles,props:r?.props||i,stylesCtx:s})[n],...XUe({theme:e,props:i,stylesCtx:s,vars:u,varsResolver:c,selector:n,themeName:t,headless:d}),...o===n?hV({style:l,theme:e}):null,...hV({style:r?.style,theme:e})}}function JUe({props:e,stylesCtx:t,themeName:n}){const r=os(),i=yUe()?.();return{getTransformedStyles:o=>i?[...o.map(l=>i(l,{props:e,theme:r,ctx:t})),...n.map(l=>i(r.components[l]?.styles,{props:e,theme:r,ctx:t}))].filter(Boolean):[],withStylesTransform:!!i}}function Ot({name:e,classes:t,props:n,stylesCtx:r,className:i,style:s,rootSelector:o="root",unstyled:a,classNames:l,styles:u,vars:c,varsResolver:d}){const f=os(),h=hUe(),p=pUe(),m=mUe(),g=(Array.isArray(e)?e:[e]).filter(w=>w),{withStylesTransform:y,getTransformedStyles:v}=JUe({props:n,stylesCtx:r,themeName:g});return(w,_)=>({className:GUe({theme:f,options:_,themeName:g,selector:w,classNamesPrefix:h,classNames:l,classes:t,unstyled:a,className:i,rootSelector:o,props:n,stylesCtx:r,withStaticClasses:p,headless:m,transformedStyles:v([_?.styles,u])}),style:QUe({theme:f,themeName:g,selector:w,options:_,props:n,stylesCtx:r,rootSelector:o,styles:u,style:s,vars:c,varsResolver:d,headless:m,withStylesTransform:y})})}function ZUe(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, white ${t*100}%)`;const{r:n,g:r,b:i,a:s}=R5(e),o=a=>Math.round(a+(255-a)*t);return`rgba(${o(n)}, ${o(r)}, ${o(i)}, ${s})`}function jy(e,t){return typeof e=="boolean"?e:t.autoContrast}function Nae(e){const t=document.createElement("style");return t.setAttribute("data-mantine-styles","inline"),t.innerHTML="*, *::before, *::after {transition: none !important;}",t.setAttribute("data-mantine-disable-transition","true"),e&&t.setAttribute("nonce",e),document.head.appendChild(t),()=>document.querySelectorAll("[data-mantine-disable-transition]").forEach(r=>r.remove())}function eVe({keepTransitions:e}={}){const t=A.useRef(bN),n=A.useRef(-1),r=A.useContext(pY),i=A5(),s=A.useRef(i?.());if(!r)throw new Error("[@mantine/core] MantineProvider was not found in tree");const o=d=>{r.setColorScheme(d),t.current=e?()=>{}:Nae(s.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{t.current?.()},10)},a=()=>{r.clearColorScheme(),t.current=e?()=>{}:Nae(s.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{t.current?.()},10)},l=$ze("light",{getInitialValueInEffect:!1}),u=r.colorScheme==="auto"?l:r.colorScheme,c=A.useCallback(()=>o(u==="light"?"dark":"light"),[o,u]);return A.useEffect(()=>()=>{t.current?.(),window.clearTimeout(n.current)},[]),{colorScheme:r.colorScheme,setColorScheme:o,clearColorScheme:a,toggleColorScheme:c}}function qe(e,t,n){const r=os(),i=r.components[e]?.defaultProps,s=typeof i=="function"?i(r):i;return{...t,...s,...Fy(n)}}function Hj(e){return Ai(e).reduce((t,n)=>e[n]!==void 0?`${t}${_ze(n)}:${e[n]};`:t,"").trim()}function tVe({selector:e,styles:t,media:n,container:r}){const i=t?Hj(t):"",s=Array.isArray(n)?n.map(a=>`@media${a.query}{${e}{${Hj(a.styles)}}}`):[],o=Array.isArray(r)?r.map(a=>`@container ${a.query}{${e}{${Hj(a.styles)}}}`):[];return`${i?`${e}{${i}}`:""}${s.join("")}${o.join("")}`.trim()}function Cb(e){const t=A5();return b.jsx("style",{"data-mantine-styles":"inline",nonce:t?.(),dangerouslySetInnerHTML:{__html:tVe(e)}})}function Eb(e){const{m:t,mx:n,my:r,mt:i,mb:s,ml:o,mr:a,me:l,ms:u,p:c,px:d,py:f,pt:h,pb:p,pl:m,pr:g,pe:y,ps:v,bd:w,bg:_,c:C,opacity:S,ff:T,fz:k,fw:I,lts:R,ta:P,lh:N,fs:$,tt:O,td:j,w:B,miw:H,maw:q,h:Y,mih:V,mah:L,bgsz:z,bgp:U,bgr:G,bga:Q,pos:ne,top:ue,left:se,bottom:ae,right:he,inset:ie,display:le,flex:Ee,hiddenFrom:X,visibleFrom:fe,lightHidden:de,darkHidden:te,sx:ee,...me}=e;return{styleProps:Fy({m:t,mx:n,my:r,mt:i,mb:s,ml:o,mr:a,me:l,ms:u,p:c,px:d,py:f,pt:h,pb:p,pl:m,pr:g,pe:y,ps:v,bd:w,bg:_,c:C,opacity:S,ff:T,fz:k,fw:I,lts:R,ta:P,lh:N,fs:$,tt:O,td:j,w:B,miw:H,maw:q,h:Y,mih:V,mah:L,bgsz:z,bgp:U,bgr:G,bga:Q,pos:ne,top:ue,left:se,bottom:ae,right:he,inset:ie,display:le,flex:Ee,hiddenFrom:X,visibleFrom:fe,lightHidden:de,darkHidden:te,sx:ee}),rest:me}}const nVe={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function yY(e,t){const n=jf({color:e,theme:t});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function rVe(e,t){const n=jf({color:e,theme:t});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:yY(e,t)}function iVe(e,t){if(typeof e=="number")return Ye(e);if(typeof e=="string"){const[n,r,...i]=e.split(" ").filter(o=>o.trim()!=="");let s=`${Ye(n)}`;return r&&(s+=` ${r}`),i.length>0&&(s+=` ${yY(i.join(" "),t)}`),s.trim()}return e}const $ae={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function sVe(e){return typeof e=="string"&&e in $ae?$ae[e]:e}const oVe=["h1","h2","h3","h4","h5","h6"];function aVe(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&oVe.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?Ye(e):e}function lVe(e){return e}const uVe=["h1","h2","h3","h4","h5","h6"];function cVe(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&uVe.includes(e)?`var(--mantine-${e}-line-height)`:e}function dVe(e){return typeof e=="number"?Ye(e):e}function fVe(e,t){if(typeof e=="number")return Ye(e);if(typeof e=="string"){const n=e.replace("-","");if(!(n in t.spacing))return Ye(e);const r=`--mantine-spacing-${n}`;return e.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return e}const qj={color:yY,textColor:rVe,fontSize:aVe,spacing:fVe,identity:lVe,size:dVe,lineHeight:cVe,fontFamily:sVe,border:iVe};function Mae(e){return e.replace("(min-width: ","").replace("em)","")}function hVe({media:e,...t}){const r=Object.keys(e).sort((i,s)=>Number(Mae(i))-Number(Mae(s))).map(i=>({query:i,styles:e[i]}));return{...t,media:r}}function pVe(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function mVe(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function gVe(e){return typeof e=="object"&&e!==null?Ai(e).filter(t=>t!=="base"):[]}function yVe(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function wxe({styleProps:e,data:t,theme:n}){return hVe(Ai(e).reduce((r,i)=>{if(i==="hiddenFrom"||i==="visibleFrom"||i==="sx")return r;const s=t[i],o=Array.isArray(s.property)?s.property:[s.property],a=mVe(e[i]);if(!pVe(e[i]))return o.forEach(u=>{r.inlineStyles[u]=qj[s.type](a,n)}),r;r.hasResponsiveStyles=!0;const l=gVe(e[i]);return o.forEach(u=>{a&&(r.styles[u]=qj[s.type](a,n)),l.forEach(c=>{const d=`(min-width: ${n.breakpoints[c]})`;r.media[d]={...r.media[d],[u]:qj[s.type](yVe(e[i],c),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function rA(){return`__m__-${A.useId().replace(/:/g,"")}`}function vY(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...vY(r,t)}),{}):typeof e=="function"?e(t):e??{}}function xxe(e){return e.startsWith("data-")?e:`data-${e}`}function vVe(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return r===void 0||r===""||r===!1||r===null||(t[xxe(n)]=e[n]),t},{})}function _xe(e){return e?typeof e=="string"?{[xxe(e)]:!0}:Array.isArray(e)?[...e].reduce((t,n)=>({...t,..._xe(n)}),{}):vVe(e):null}function pV(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...pV(r,t)}),{}):typeof e=="function"?e(t):e??{}}function bVe({theme:e,style:t,vars:n,styleProps:r}){const i=pV(t,e),s=pV(n,e);return{...i,...s,...r}}const Cxe=A.forwardRef(({component:e,style:t,__vars:n,className:r,variant:i,mod:s,size:o,hiddenFrom:a,visibleFrom:l,lightHidden:u,darkHidden:c,renderRoot:d,__size:f,...h},p)=>{const m=os(),g=e||"div",{styleProps:y,rest:v}=Eb(h),_=gUe()?.()?.(y.sx),C=rA(),S=wxe({styleProps:y,theme:m,data:nVe}),T={ref:p,style:bVe({theme:m,style:t,vars:n,styleProps:S.inlineStyles}),className:Lt(r,_,{[C]:S.hasResponsiveStyles,"mantine-light-hidden":u,"mantine-dark-hidden":c,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${l}`]:l}),"data-variant":i,"data-size":nxe(o)?void 0:o||void 0,size:f,..._xe(s),...v};return b.jsxs(b.Fragment,{children:[S.hasResponsiveStyles&&b.jsx(Cb,{selector:`.${C}`,styles:S.styles,media:S.media}),typeof d=="function"?d(T):b.jsx(g,{...T})]})});Cxe.displayName="@mantine/core/Box";const De=Cxe;function Exe(e){return e}function Sxe(e){const t=e;return n=>{const r=A.forwardRef((i,s)=>b.jsx(t,{...n,...i,ref:s}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r}}function tt(e){const t=A.forwardRef(e);return t.extend=Exe,t.withProps=n=>{const r=A.forwardRef((i,s)=>b.jsx(t,{...n,...i,ref:s}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t}function Ws(e){const t=A.forwardRef(e);return t.withProps=n=>{const r=A.forwardRef((i,s)=>b.jsx(t,{...n,...i,ref:s}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t.extend=Exe,t}const wVe=A.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function Ru(){return A.useContext(wVe)}var Hh=Ywe();const eS=so(Hh);function xVe(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function Wj(e){return e?.current?e.current.scrollHeight:"auto"}const r2=typeof window<"u"&&window.requestAnimationFrame;function _Ve({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:n=()=>{},opened:r}){const i=A.useRef(null),s=0,o={height:0,overflow:"hidden"},[a,l]=A.useState(r?{}:o),u=p=>{Hh.flushSync(()=>l(p))},c=p=>{u(m=>({...m,...p}))};function d(p){const m=e||xVe(p);return{transition:`height ${m}ms ${t}, opacity ${m}ms ${t}`}}Nl(()=>{typeof r2=="function"&&r2(r?()=>{c({willChange:"height",display:"block",overflow:"hidden"}),r2(()=>{const p=Wj(i);c({...d(p),height:p})})}:()=>{const p=Wj(i);c({...d(p),willChange:"height",height:p}),r2(()=>c({height:s,overflow:"hidden"}))})},[r]);const f=p=>{if(!(p.target!==i.current||p.propertyName!=="height"))if(r){const m=Wj(i);m===a.height?u({}):c({height:m}),n()}else a.height===s&&(u(o),n())};function h({style:p={},refKey:m="ref",...g}={}){const y=g[m],v={"aria-hidden":!r,...g,[m]:dxe(i,y),onTransitionEnd:f,style:{boxSizing:"border-box",...p,...a}};return mn.version.startsWith("18")?r||(v.inert=""):v.inert=!r,v}return h}const CVe={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},kp=tt((e,t)=>{const{children:n,in:r,transitionDuration:i,transitionTimingFunction:s,style:o,onTransitionEnd:a,animateOpacity:l,...u}=qe("Collapse",CVe,e),c=os(),d=S5(),h=(c.respectReducedMotion?d:!1)?0:i,p=_Ve({opened:r,transitionDuration:h,transitionTimingFunction:s,onTransitionEnd:a});return h===0?r?b.jsx(De,{...u,children:n}):null:b.jsx(De,{...p({style:{opacity:r||!l?1:0,transition:l?`opacity ${h}ms ${s}`:"none",...vY(o,c)},ref:t,...u}),children:n})});kp.displayName="@mantine/core/Collapse";function I5(){return typeof window<"u"}function hC(e){return Txe(e)?(e.nodeName||"").toLowerCase():"#document"}function gu(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ap(e){var t;return(t=(Txe(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Txe(e){return I5()?e instanceof Node||e instanceof gu(e).Node:!1}function Hi(e){return I5()?e instanceof Element||e instanceof gu(e).Element:!1}function rc(e){return I5()?e instanceof HTMLElement||e instanceof gu(e).HTMLElement:!1}function mV(e){return!I5()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof gu(e).ShadowRoot}const EVe=new Set(["inline","contents"]);function iA(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=rd(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!EVe.has(i)}const SVe=new Set(["table","td","th"]);function TVe(e){return SVe.has(hC(e))}const kVe=[":popover-open",":modal"];function D5(e){return kVe.some(t=>{try{return e.matches(t)}catch{return!1}})}const AVe=["transform","translate","scale","rotate","perspective"],RVe=["transform","translate","scale","rotate","perspective","filter"],IVe=["paint","layout","strict","content"];function bY(e){const t=P5(),n=Hi(e)?rd(e):e;return AVe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||RVe.some(r=>(n.willChange||"").includes(r))||IVe.some(r=>(n.contain||"").includes(r))}function DVe(e){let t=Wm(e);for(;rc(t)&&!cy(t);){if(bY(t))return t;if(D5(t))return null;t=Wm(t)}return null}function P5(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const PVe=new Set(["html","body","#document"]);function cy(e){return PVe.has(hC(e))}function rd(e){return gu(e).getComputedStyle(e)}function O5(e){return Hi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Wm(e){if(hC(e)==="html")return e;const t=e.assignedSlot||e.parentNode||mV(e)&&e.host||Ap(e);return mV(t)?t.host:t}function kxe(e){const t=Wm(e);return cy(t)?e.ownerDocument?e.ownerDocument.body:e.body:rc(t)&&iA(t)?t:kxe(t)}function Om(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=kxe(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=gu(i);if(s){const a=gV(o);return t.concat(o,o.visualViewport||[],iA(i)?i:[],a&&n?Om(a):[])}return t.concat(i,Om(i,[],n))}function gV(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Fae(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function MT(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&mV(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function Axe(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function Rxe(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function OVe(e){return MVe()?!1:!Lae()&&e.width===0&&e.height===0||Lae()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function NVe(){return/apple/i.test(navigator.vendor)}function Lae(){const e=/android/i;return e.test(Axe())||e.test(Rxe())}function $Ve(){return Axe().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function MVe(){return Rxe().includes("jsdom/")}function yV(e,t){const n=["mouse","pen"];return n.push("",void 0),n.includes(e)}function FVe(e){return"nativeEvent"in e}function LVe(e){return e.matches("html,body")}function f1(e){return e?.ownerDocument||document}function Gj(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function hx(e){return"composedPath"in e?e.composedPath()[0]:e.target}const jVe="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function BVe(e){return rc(e)&&e.matches(jVe)}const Tf=Math.min,qa=Math.max,_N=Math.round,iD=Math.floor,Xh=e=>({x:e,y:e}),zVe={left:"right",right:"left",bottom:"top",top:"bottom"},UVe={start:"end",end:"start"};function vV(e,t,n){return qa(e,Tf(t,n))}function Gm(e,t){return typeof e=="function"?e(t):e}function kf(e){return e.split("-")[0]}function pC(e){return e.split("-")[1]}function wY(e){return e==="x"?"y":"x"}function xY(e){return e==="y"?"height":"width"}const VVe=new Set(["top","bottom"]);function sf(e){return VVe.has(kf(e))?"y":"x"}function _Y(e){return wY(sf(e))}function HVe(e,t,n){n===void 0&&(n=!1);const r=pC(e),i=_Y(e),s=xY(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=CN(o)),[o,CN(o)]}function qVe(e){const t=CN(e);return[bV(e),t,bV(t)]}function bV(e){return e.replace(/start|end/g,t=>UVe[t])}const jae=["left","right"],Bae=["right","left"],WVe=["top","bottom"],GVe=["bottom","top"];function YVe(e,t,n){switch(e){case"top":case"bottom":return n?t?Bae:jae:t?jae:Bae;case"left":case"right":return t?WVe:GVe;default:return[]}}function KVe(e,t,n,r){const i=pC(e);let s=YVe(kf(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(bV)))),s}function CN(e){return e.replace(/left|right|bottom|top/g,t=>zVe[t])}function XVe(e){return{top:0,right:0,bottom:0,left:0,...e}}function CY(e){return typeof e!="number"?XVe(e):{top:e,right:e,bottom:e,left:e}}function f_(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function zae(e,t,n){let{reference:r,floating:i}=e;const s=sf(t),o=_Y(t),a=xY(o),l=kf(t),u=s==="y",c=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:c,y:r.y-i.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(pC(t)){case"start":h[o]-=f*(n&&u?-1:1);break;case"end":h[o]+=f*(n&&u?-1:1);break}return h}const QVe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:d}=zae(u,r,l),f=r,h={},p=0;for(let m=0;m<a.length;m++){const{name:g,fn:y}=a[m],{x:v,y:w,data:_,reset:C}=await y({x:c,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:u,platform:o,elements:{reference:e,floating:t}});c=v??c,d=w??d,h={...h,[g]:{...h[g],..._}},C&&p<=50&&(p++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(u=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):C.rects),{x:c,y:d}=zae(u,f,l)),m=-1)}return{x:c,y:d,placement:f,strategy:i,middlewareData:h}};async function EY(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=Gm(t,e),p=CY(h),g=a[f?d==="floating"?"reference":"floating":d],y=f_(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(g)))==null||n?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),v=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),_=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},C=f_(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:w,strategy:l}):v);return{top:(y.top-C.top+p.top)/_.y,bottom:(C.bottom-y.bottom+p.bottom)/_.y,left:(y.left-C.left+p.left)/_.x,right:(C.right-y.right+p.right)/_.x}}const JVe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=t,{element:u,padding:c=0}=Gm(e,t)||{};if(u==null)return{};const d=CY(c),f={x:n,y:r},h=_Y(i),p=xY(h),m=await o.getDimensions(u),g=h==="y",y=g?"top":"left",v=g?"bottom":"right",w=g?"clientHeight":"clientWidth",_=s.reference[p]+s.reference[h]-f[h]-s.floating[p],C=f[h]-s.reference[h],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let T=S?S[w]:0;(!T||!await(o.isElement==null?void 0:o.isElement(S)))&&(T=a.floating[w]||s.floating[p]);const k=_/2-C/2,I=T/2-m[p]/2-1,R=Tf(d[y],I),P=Tf(d[v],I),N=R,$=T-m[p]-P,O=T/2-m[p]/2+k,j=vV(N,O,$),B=!l.arrow&&pC(i)!=null&&O!==j&&s.reference[p]/2-(O<N?R:P)-m[p]/2<0,H=B?O<N?O-N:O-$:0;return{[h]:f[h]+H,data:{[h]:j,centerOffset:O-j-H,...B&&{alignmentOffset:H}},reset:B}}}),ZVe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=Gm(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=kf(i),v=sf(a),w=kf(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(u.floating)),C=f||(w||!m?[CN(a)]:qVe(a)),S=p!=="none";!f&&S&&C.push(...KVe(a,m,p,_));const T=[a,...C],k=await EY(t,g),I=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(c&&I.push(k[y]),d){const O=HVe(i,o,_);I.push(k[O[0]],k[O[1]])}if(R=[...R,{placement:i,overflows:I}],!I.every(O=>O<=0)){var P,N;const O=(((P=s.flip)==null?void 0:P.index)||0)+1,j=T[O];if(j&&(!(d==="alignment"?v!==sf(j):!1)||R.every(q=>sf(q.placement)===v?q.overflows[0]>0:!0)))return{data:{index:O,overflows:R},reset:{placement:j}};let B=(N=R.filter(H=>H.overflows[0]<=0).sort((H,q)=>H.overflows[1]-q.overflows[1])[0])==null?void 0:N.placement;if(!B)switch(h){case"bestFit":{var $;const H=($=R.filter(q=>{if(S){const Y=sf(q.placement);return Y===v||Y==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(Y=>Y>0).reduce((Y,V)=>Y+V,0)]).sort((q,Y)=>q[1]-Y[1])[0])==null?void 0:$[0];H&&(B=H);break}case"initialPlacement":B=a;break}if(i!==B)return{reset:{placement:B}}}return{}}}};function Ixe(e){const t=Tf(...e.map(s=>s.left)),n=Tf(...e.map(s=>s.top)),r=qa(...e.map(s=>s.right)),i=qa(...e.map(s=>s.bottom));return{x:t,y:n,width:r-t,height:i-n}}function eHe(e){const t=e.slice().sort((i,s)=>i.y-s.y),n=[];let r=null;for(let i=0;i<t.length;i++){const s=t[i];!r||s.y-r.y>r.height/2?n.push([s]):n[n.length-1].push(s),r=s}return n.map(i=>f_(Ixe(i)))}const tHe=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:i,platform:s,strategy:o}=t,{padding:a=2,x:l,y:u}=Gm(e,t),c=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(r.reference))||[]),d=eHe(c),f=f_(Ixe(c)),h=CY(a);function p(){if(d.length===2&&d[0].left>d[1].right&&l!=null&&u!=null)return d.find(g=>l>g.left-h.left&&l<g.right+h.right&&u>g.top-h.top&&u<g.bottom+h.bottom)||f;if(d.length>=2){if(sf(n)==="y"){const R=d[0],P=d[d.length-1],N=kf(n)==="top",$=R.top,O=P.bottom,j=N?R.left:P.left,B=N?R.right:P.right,H=B-j,q=O-$;return{top:$,bottom:O,left:j,right:B,width:H,height:q,x:j,y:$}}const g=kf(n)==="left",y=qa(...d.map(R=>R.right)),v=Tf(...d.map(R=>R.left)),w=d.filter(R=>g?R.left===v:R.right===y),_=w[0].top,C=w[w.length-1].bottom,S=v,T=y,k=T-S,I=C-_;return{top:_,bottom:C,left:S,right:T,width:k,height:I,x:S,y:_}}return f}const m=await s.getElementRects({reference:{getBoundingClientRect:p},floating:r.floating,strategy:o});return i.reference.x!==m.reference.x||i.reference.y!==m.reference.y||i.reference.width!==m.reference.width||i.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}},Dxe=new Set(["left","top"]);async function nHe(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=kf(n),a=pC(n),l=sf(n)==="y",u=Dxe.has(o)?-1:1,c=s&&l?-1:1,d=Gm(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),l?{x:h*c,y:f*u}:{x:f*u,y:h*c}}const rHe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,l=await nHe(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},iHe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:g=>{let{x:y,y:v}=g;return{x:y,y:v}}},...l}=Gm(e,t),u={x:n,y:r},c=await EY(t,l),d=sf(kf(i)),f=wY(d);let h=u[f],p=u[d];if(s){const g=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=h+c[g],w=h-c[y];h=vV(v,h,w)}if(o){const g=d==="y"?"top":"left",y=d==="y"?"bottom":"right",v=p+c[g],w=p-c[y];p=vV(v,p,w)}const m=a.fn({...t,[f]:h,[d]:p});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:s,[d]:o}}}}}},sHe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Gm(e,t),c={x:n,y:r},d=sf(i),f=wY(d);let h=c[f],p=c[d];const m=Gm(a,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const w=f==="y"?"height":"width",_=s.reference[f]-s.floating[w]+g.mainAxis,C=s.reference[f]+s.reference[w]-g.mainAxis;h<_?h=_:h>C&&(h=C)}if(u){var y,v;const w=f==="y"?"width":"height",_=Dxe.has(kf(i)),C=s.reference[d]-s.floating[w]+(_&&((y=o.offset)==null?void 0:y[d])||0)+(_?0:g.crossAxis),S=s.reference[d]+s.reference[w]+(_?0:((v=o.offset)==null?void 0:v[d])||0)-(_?g.crossAxis:0);p<C?p=C:p>S&&(p=S)}return{[f]:h,[d]:p}}}},oHe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:o,elements:a}=t,{apply:l=()=>{},...u}=Gm(e,t),c=await EY(t,u),d=kf(i),f=pC(i),h=sf(i)==="y",{width:p,height:m}=s.floating;let g,y;d==="top"||d==="bottom"?(g=d,y=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=d,g=f==="end"?"top":"bottom");const v=m-c.top-c.bottom,w=p-c.left-c.right,_=Tf(m-c[g],v),C=Tf(p-c[y],w),S=!t.middlewareData.shift;let T=_,k=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=v),S&&!f){const R=qa(c.left,0),P=qa(c.right,0),N=qa(c.top,0),$=qa(c.bottom,0);h?k=p-2*(R!==0||P!==0?R+P:qa(c.left,c.right)):T=m-2*(N!==0||$!==0?N+$:qa(c.top,c.bottom))}await l({...t,availableWidth:k,availableHeight:T});const I=await o.getDimensions(a.floating);return p!==I.width||m!==I.height?{reset:{rects:!0}}:{}}}};function Pxe(e){const t=rd(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=rc(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=_N(n)!==s||_N(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function SY(e){return Hi(e)?e:e.contextElement}function Lx(e){const t=SY(e);if(!rc(t))return Xh(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=Pxe(t);let o=(s?_N(n.width):n.width)/r,a=(s?_N(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const aHe=Xh(0);function Oxe(e){const t=gu(e);return!P5()||!t.visualViewport?aHe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function lHe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==gu(e)?!1:t}function U1(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=SY(e);let o=Xh(1);t&&(r?Hi(r)&&(o=Lx(r)):o=Lx(e));const a=lHe(s,n,r)?Oxe(s):Xh(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,c=i.width/o.x,d=i.height/o.y;if(s){const f=gu(s),h=r&&Hi(r)?gu(r):r;let p=f,m=gV(p);for(;m&&r&&h!==p;){const g=Lx(m),y=m.getBoundingClientRect(),v=rd(m),w=y.left+(m.clientLeft+parseFloat(v.paddingLeft))*g.x,_=y.top+(m.clientTop+parseFloat(v.paddingTop))*g.y;l*=g.x,u*=g.y,c*=g.x,d*=g.y,l+=w,u+=_,p=gu(m),m=gV(p)}}return f_({width:c,height:d,x:l,y:u})}function N5(e,t){const n=O5(e).scrollLeft;return t?t.left+n:U1(Ap(e)).left+n}function Nxe(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-N5(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function uHe(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=Ap(r),a=t?D5(t.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=Xh(1);const c=Xh(0),d=rc(r);if((d||!d&&!s)&&((hC(r)!=="body"||iA(o))&&(l=O5(r)),rc(r))){const h=U1(r);u=Lx(r),c.x=h.x+r.clientLeft,c.y=h.y+r.clientTop}const f=o&&!d&&!s?Nxe(o,l):Xh(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+f.x,y:n.y*u.y-l.scrollTop*u.y+c.y+f.y}}function cHe(e){return Array.from(e.getClientRects())}function dHe(e){const t=Ap(e),n=O5(e),r=e.ownerDocument.body,i=qa(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=qa(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+N5(e);const a=-n.scrollTop;return rd(r).direction==="rtl"&&(o+=qa(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}const Uae=25;function fHe(e,t){const n=gu(e),r=Ap(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=P5();(!c||c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const u=N5(r);if(u<=0){const c=r.ownerDocument,d=c.body,f=getComputedStyle(d),h=c.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,p=Math.abs(r.clientWidth-d.clientWidth-h);p<=Uae&&(s-=p)}else u<=Uae&&(s+=u);return{width:s,height:o,x:a,y:l}}const hHe=new Set(["absolute","fixed"]);function pHe(e,t){const n=U1(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=rc(e)?Lx(e):Xh(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function Vae(e,t,n){let r;if(t==="viewport")r=fHe(e,n);else if(t==="document")r=dHe(Ap(e));else if(Hi(t))r=pHe(t,n);else{const i=Oxe(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return f_(r)}function $xe(e,t){const n=Wm(e);return n===t||!Hi(n)||cy(n)?!1:rd(n).position==="fixed"||$xe(n,t)}function mHe(e,t){const n=t.get(e);if(n)return n;let r=Om(e,[],!1).filter(a=>Hi(a)&&hC(a)!=="body"),i=null;const s=rd(e).position==="fixed";let o=s?Wm(e):e;for(;Hi(o)&&!cy(o);){const a=rd(o),l=bY(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&hHe.has(i.position)||iA(o)&&!l&&$xe(e,o))?r=r.filter(c=>c!==o):i=a,o=Wm(o)}return t.set(e,r),r}function gHe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?D5(t)?[]:mHe(t,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,c)=>{const d=Vae(t,c,i);return u.top=qa(d.top,u.top),u.right=Tf(d.right,u.right),u.bottom=Tf(d.bottom,u.bottom),u.left=qa(d.left,u.left),u},Vae(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function yHe(e){const{width:t,height:n}=Pxe(e);return{width:t,height:n}}function vHe(e,t,n){const r=rc(t),i=Ap(t),s=n==="fixed",o=U1(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=Xh(0);function u(){l.x=N5(i)}if(r||!r&&!s)if((hC(t)!=="body"||iA(i))&&(a=O5(t)),r){const h=U1(t,!0,s,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&u();s&&!r&&i&&u();const c=i&&!r&&!s?Nxe(i,a):Xh(0),d=o.left+a.scrollLeft-l.x-c.x,f=o.top+a.scrollTop-l.y-c.y;return{x:d,y:f,width:o.width,height:o.height}}function Yj(e){return rd(e).position==="static"}function Hae(e,t){if(!rc(e)||rd(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ap(e)===n&&(n=n.ownerDocument.body),n}function Mxe(e,t){const n=gu(e);if(D5(e))return n;if(!rc(e)){let i=Wm(e);for(;i&&!cy(i);){if(Hi(i)&&!Yj(i))return i;i=Wm(i)}return n}let r=Hae(e,t);for(;r&&TVe(r)&&Yj(r);)r=Hae(r,t);return r&&cy(r)&&Yj(r)&&!bY(r)?n:r||DVe(e)||n}const bHe=async function(e){const t=this.getOffsetParent||Mxe,n=this.getDimensions,r=await n(e.floating);return{reference:vHe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function wHe(e){return rd(e).direction==="rtl"}const xHe={convertOffsetParentRelativeRectToViewportRelativeRect:uHe,getDocumentElement:Ap,getClippingRect:gHe,getOffsetParent:Mxe,getElementRects:bHe,getClientRects:cHe,getDimensions:yHe,getScale:Lx,isElement:Hi,isRTL:wHe};function Fxe(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function _He(e,t){let n=null,r;const i=Ap(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=e.getBoundingClientRect(),{left:c,top:d,width:f,height:h}=u;if(a||t(),!f||!h)return;const p=iD(d),m=iD(i.clientWidth-(c+f)),g=iD(i.clientHeight-(d+h)),y=iD(c),w={rootMargin:-p+"px "+-m+"px "+-g+"px "+-y+"px",threshold:qa(0,Tf(1,l))||1};let _=!0;function C(S){const T=S[0].intersectionRatio;if(T!==l){if(!_)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!Fxe(u,e.getBoundingClientRect())&&o(),_=!1}try{n=new IntersectionObserver(C,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,w)}n.observe(e)}return o(!0),s}function CHe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=SY(e),c=i||s?[...u?Om(u):[],...Om(t)]:[];c.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const d=u&&a?_He(u,n):null;let f=-1,h=null;o&&(h=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let p,m=l?U1(e):null;l&&g();function g(){const y=U1(e);m&&!Fxe(m,y)&&n(),m=y,p=requestAnimationFrame(g)}return n(),()=>{var y;c.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),d?.(),(y=h)==null||y.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const EHe=rHe,SHe=iHe,THe=ZVe,kHe=oHe,qae=JVe,AHe=tHe,RHe=sHe,IHe=(e,t,n)=>{const r=new Map,i={platform:xHe,...n},s={...i.platform,_c:r};return QVe(e,t,{...i,platform:s})};var DHe=typeof document<"u",PHe=function(){},TP=DHe?A.useLayoutEffect:PHe;function EN(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!EN(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!EN(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Lxe(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Wae(e,t){const n=Lxe(e);return Math.round(t*n)/n}function Kj(e){const t=A.useRef(e);return TP(()=>{t.current=e}),t}function OHe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[c,d]=A.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=A.useState(r);EN(f,r)||h(r);const[p,m]=A.useState(null),[g,y]=A.useState(null),v=A.useCallback(q=>{q!==S.current&&(S.current=q,m(q))},[]),w=A.useCallback(q=>{q!==T.current&&(T.current=q,y(q))},[]),_=s||p,C=o||g,S=A.useRef(null),T=A.useRef(null),k=A.useRef(c),I=l!=null,R=Kj(l),P=Kj(i),N=Kj(u),$=A.useCallback(()=>{if(!S.current||!T.current)return;const q={placement:t,strategy:n,middleware:f};P.current&&(q.platform=P.current),IHe(S.current,T.current,q).then(Y=>{const V={...Y,isPositioned:N.current!==!1};O.current&&!EN(k.current,V)&&(k.current=V,Hh.flushSync(()=>{d(V)}))})},[f,t,n,P,N]);TP(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,d(q=>({...q,isPositioned:!1})))},[u]);const O=A.useRef(!1);TP(()=>(O.current=!0,()=>{O.current=!1}),[]),TP(()=>{if(_&&(S.current=_),C&&(T.current=C),_&&C){if(R.current)return R.current(_,C,$);$()}},[_,C,$,R,I]);const j=A.useMemo(()=>({reference:S,floating:T,setReference:v,setFloating:w}),[v,w]),B=A.useMemo(()=>({reference:_,floating:C}),[_,C]),H=A.useMemo(()=>{const q={position:n,left:0,top:0};if(!B.floating)return q;const Y=Wae(B.floating,c.x),V=Wae(B.floating,c.y);return a?{...q,transform:"translate("+Y+"px, "+V+"px)",...Lxe(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Y,top:V}},[n,a,B.floating,c.x,c.y]);return A.useMemo(()=>({...c,update:$,refs:j,elements:B,floatingStyles:H}),[c,$,j,B,H])}const NHe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?qae({element:r.current,padding:i}).fn(n):{}:r?qae({element:r,padding:i}).fn(n):{}}}},jxe=(e,t)=>({...EHe(e),options:[e,t]}),TY=(e,t)=>({...SHe(e),options:[e,t]}),Gae=(e,t)=>({...RHe(e),options:[e,t]}),SN=(e,t)=>({...THe(e),options:[e,t]}),$He=(e,t)=>({...kHe(e),options:[e,t]}),VS=(e,t)=>({...AHe(e),options:[e,t]}),Bxe=(e,t)=>({...NHe(e),options:[e,t]});function MHe(e){return A.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const zxe={...O7e},FHe=zxe.useInsertionEffect,LHe=FHe||(e=>e());function vm(e){const t=A.useRef(()=>{});return LHe(()=>{t.current=e}),A.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var Qh=typeof document<"u"?A.useLayoutEffect:A.useEffect;let Yae=!1,jHe=0;const Kae=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+jHe++;function BHe(){const[e,t]=A.useState(()=>Yae?Kae():void 0);return Qh(()=>{e==null&&t(Kae())},[]),A.useEffect(()=>{Yae=!0},[]),e}const zHe=zxe.useId,Uxe=zHe||BHe;function UHe(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const VHe=A.createContext(null),HHe=A.createContext(null),kY=()=>{var e;return((e=A.useContext(VHe))==null?void 0:e.id)||null},AY=()=>A.useContext(HHe);function RY(e){return"data-floating-ui-"+e}function Xj(e){const t=A.useRef(e);return Qh(()=>{t.current=e}),t}const Xae=RY("safe-polygon");function kP(e,t,n){return n&&!yV(n)?0:typeof e=="number"?e:e?.[t]}function qHe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:i,events:s,elements:o}=e,{enabled:a=!0,delay:l=0,handleClose:u=null,mouseOnly:c=!1,restMs:d=0,move:f=!0}=t,h=AY(),p=kY(),m=Xj(u),g=Xj(l),y=Xj(n),v=A.useRef(),w=A.useRef(-1),_=A.useRef(),C=A.useRef(-1),S=A.useRef(!0),T=A.useRef(!1),k=A.useRef(()=>{}),I=A.useRef(!1),R=A.useCallback(()=>{var H;const q=(H=i.current.openEvent)==null?void 0:H.type;return q?.includes("mouse")&&q!=="mousedown"},[i]);A.useEffect(()=>{if(!a)return;function H(q){let{open:Y}=q;Y||(clearTimeout(w.current),clearTimeout(C.current),S.current=!0,I.current=!1)}return s.on("openchange",H),()=>{s.off("openchange",H)}},[a,s]),A.useEffect(()=>{if(!a||!m.current||!n)return;function H(Y){R()&&r(!1,Y,"hover")}const q=f1(o.floating).documentElement;return q.addEventListener("mouseleave",H),()=>{q.removeEventListener("mouseleave",H)}},[o.floating,n,r,a,m,R]);const P=A.useCallback(function(H,q,Y){q===void 0&&(q=!0),Y===void 0&&(Y="hover");const V=kP(g.current,"close",v.current);V&&!_.current?(clearTimeout(w.current),w.current=window.setTimeout(()=>r(!1,H,Y),V)):q&&(clearTimeout(w.current),r(!1,H,Y))},[g,r]),N=vm(()=>{k.current(),_.current=void 0}),$=vm(()=>{if(T.current){const H=f1(o.floating).body;H.style.pointerEvents="",H.removeAttribute(Xae),T.current=!1}}),O=vm(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);A.useEffect(()=>{if(!a)return;function H(L){if(clearTimeout(w.current),S.current=!1,c&&!yV(v.current)||d>0&&!kP(g.current,"open"))return;const z=kP(g.current,"open",v.current);z?w.current=window.setTimeout(()=>{y.current||r(!0,L,"hover")},z):n||r(!0,L,"hover")}function q(L){if(O())return;k.current();const z=f1(o.floating);if(clearTimeout(C.current),I.current=!1,m.current&&i.current.floatingContext){n||clearTimeout(w.current),_.current=m.current({...i.current.floatingContext,tree:h,x:L.clientX,y:L.clientY,onClose(){$(),N(),O()||P(L,!0,"safe-polygon")}});const G=_.current;z.addEventListener("mousemove",G),k.current=()=>{z.removeEventListener("mousemove",G)};return}(v.current==="touch"?!MT(o.floating,L.relatedTarget):!0)&&P(L)}function Y(L){O()||i.current.floatingContext&&(m.current==null||m.current({...i.current.floatingContext,tree:h,x:L.clientX,y:L.clientY,onClose(){$(),N(),O()||P(L)}})(L))}if(Hi(o.domReference)){var V;const L=o.domReference;return n&&L.addEventListener("mouseleave",Y),(V=o.floating)==null||V.addEventListener("mouseleave",Y),f&&L.addEventListener("mousemove",H,{once:!0}),L.addEventListener("mouseenter",H),L.addEventListener("mouseleave",q),()=>{var z;n&&L.removeEventListener("mouseleave",Y),(z=o.floating)==null||z.removeEventListener("mouseleave",Y),f&&L.removeEventListener("mousemove",H),L.removeEventListener("mouseenter",H),L.removeEventListener("mouseleave",q)}}},[o,a,e,c,d,f,P,N,$,r,n,y,h,g,m,i,O]),Qh(()=>{var H;if(a&&n&&(H=m.current)!=null&&H.__options.blockPointerEvents&&R()){T.current=!0;const Y=o.floating;if(Hi(o.domReference)&&Y){var q;const V=f1(o.floating).body;V.setAttribute(Xae,"");const L=o.domReference,z=h==null||(q=h.nodesRef.current.find(U=>U.id===p))==null||(q=q.context)==null?void 0:q.elements.floating;return z&&(z.style.pointerEvents=""),V.style.pointerEvents="none",L.style.pointerEvents="auto",Y.style.pointerEvents="auto",()=>{V.style.pointerEvents="",L.style.pointerEvents="",Y.style.pointerEvents=""}}}},[a,n,p,o,h,m,R]),Qh(()=>{n||(v.current=void 0,I.current=!1,N(),$())},[n,N,$]),A.useEffect(()=>()=>{N(),clearTimeout(w.current),clearTimeout(C.current),$()},[a,o.domReference,N,$]);const j=A.useMemo(()=>{function H(q){v.current=q.pointerType}return{onPointerDown:H,onPointerEnter:H,onMouseMove(q){const{nativeEvent:Y}=q;function V(){!S.current&&!y.current&&r(!0,Y,"hover")}c&&!yV(v.current)||n||d===0||I.current&&q.movementX**2+q.movementY**2<2||(clearTimeout(C.current),v.current==="touch"?V():(I.current=!0,C.current=window.setTimeout(V,d)))}}},[c,r,n,y,d]),B=A.useMemo(()=>({onMouseEnter(){clearTimeout(w.current)},onMouseLeave(H){O()||P(H.nativeEvent,!1)}}),[P,O]);return A.useMemo(()=>a?{reference:j,floating:B}:{},[a,j,B])}const wV=()=>{},Vxe=A.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:wV,setState:wV,isInstantPhase:!1}),WHe=()=>A.useContext(Vxe);function GHe(e){const{children:t,delay:n,timeoutMs:r=0}=e,[i,s]=A.useReducer((l,u)=>({...l,...u}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),o=A.useRef(null),a=A.useCallback(l=>{s({currentId:l})},[]);return Qh(()=>{i.currentId?o.current===null?o.current=i.currentId:i.isInstantPhase||s({isInstantPhase:!0}):(i.isInstantPhase&&s({isInstantPhase:!1}),o.current=null)},[i.currentId,i.isInstantPhase]),A.createElement(Vxe.Provider,{value:A.useMemo(()=>({...i,setState:s,setCurrentId:a}),[i,a])},t)}function YHe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,floatingId:i}=e,{id:s,enabled:o=!0}=t,a=s??i,l=WHe(),{currentId:u,setCurrentId:c,initialDelay:d,setState:f,timeoutMs:h}=l;return Qh(()=>{o&&u&&(f({delay:{open:1,close:kP(d,"close")}}),u!==a&&r(!1))},[o,a,r,f,u,d]),Qh(()=>{function p(){r(!1),f({delay:d,currentId:null})}if(o&&u&&!n&&u===a){if(h){const m=window.setTimeout(p,h);return()=>{clearTimeout(m)}}p()}},[o,n,f,u,a,r,d,h]),Qh(()=>{o&&(c===wV||!n||c(a))},[o,n,c,a]),l}function Qj(e,t){let n=e.filter(i=>{var s;return i.parentId===t&&((s=i.context)==null?void 0:s.open)}),r=n;for(;r.length;)r=e.filter(i=>{var s;return(s=r)==null?void 0:s.some(o=>{var a;return i.parentId===o.id&&((a=i.context)==null?void 0:a.open)})}),n=n.concat(r);return n}const KHe="data-floating-ui-focusable",XHe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},QHe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Qae=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e?.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e?.outsidePress)!=null?n:!0}};function JHe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:i,dataRef:s}=e,{enabled:o=!0,escapeKey:a=!0,outsidePress:l=!0,outsidePressEvent:u="pointerdown",referencePress:c=!1,referencePressEvent:d="pointerdown",ancestorScroll:f=!1,bubbles:h,capture:p}=t,m=AY(),g=vm(typeof l=="function"?l:()=>!1),y=typeof l=="function"?g:l,v=A.useRef(!1),w=A.useRef(!1),{escapeKey:_,outsidePress:C}=Qae(h),{escapeKey:S,outsidePress:T}=Qae(p),k=A.useRef(!1),I=vm(j=>{var B;if(!n||!o||!a||j.key!=="Escape"||k.current)return;const H=(B=s.current.floatingContext)==null?void 0:B.nodeId,q=m?Qj(m.nodesRef.current,H):[];if(!_&&(j.stopPropagation(),q.length>0)){let Y=!0;if(q.forEach(V=>{var L;if((L=V.context)!=null&&L.open&&!V.context.dataRef.current.__escapeKeyBubbles){Y=!1;return}}),!Y)return}r(!1,FVe(j)?j.nativeEvent:j,"escape-key")}),R=vm(j=>{var B;const H=()=>{var q;I(j),(q=hx(j))==null||q.removeEventListener("keydown",H)};(B=hx(j))==null||B.addEventListener("keydown",H)}),P=vm(j=>{var B;const H=v.current;v.current=!1;const q=w.current;if(w.current=!1,u==="click"&&q||H||typeof y=="function"&&!y(j))return;const Y=hx(j),V="["+RY("inert")+"]",L=f1(i.floating).querySelectorAll(V);let z=Hi(Y)?Y:null;for(;z&&!cy(z);){const ne=Wm(z);if(cy(ne)||!Hi(ne))break;z=ne}if(L.length&&Hi(Y)&&!LVe(Y)&&!MT(Y,i.floating)&&Array.from(L).every(ne=>!MT(z,ne)))return;if(rc(Y)&&O){const ne=Y.clientWidth>0&&Y.scrollWidth>Y.clientWidth,ue=Y.clientHeight>0&&Y.scrollHeight>Y.clientHeight;let se=ue&&j.offsetX>Y.clientWidth;if(ue&&rd(Y).direction==="rtl"&&(se=j.offsetX<=Y.offsetWidth-Y.clientWidth),se||ne&&j.offsetY>Y.clientHeight)return}const U=(B=s.current.floatingContext)==null?void 0:B.nodeId,G=m&&Qj(m.nodesRef.current,U).some(ne=>{var ue;return Gj(j,(ue=ne.context)==null?void 0:ue.elements.floating)});if(Gj(j,i.floating)||Gj(j,i.domReference)||G)return;const Q=m?Qj(m.nodesRef.current,U):[];if(Q.length>0){let ne=!0;if(Q.forEach(ue=>{var se;if((se=ue.context)!=null&&se.open&&!ue.context.dataRef.current.__outsidePressBubbles){ne=!1;return}}),!ne)return}r(!1,j,"outside-press")}),N=vm(j=>{var B;const H=()=>{var q;P(j),(q=hx(j))==null||q.removeEventListener(u,H)};(B=hx(j))==null||B.addEventListener(u,H)});A.useEffect(()=>{if(!n||!o)return;s.current.__escapeKeyBubbles=_,s.current.__outsidePressBubbles=C;let j=-1;function B(L){r(!1,L,"ancestor-scroll")}function H(){window.clearTimeout(j),k.current=!0}function q(){j=window.setTimeout(()=>{k.current=!1},P5()?5:0)}const Y=f1(i.floating);a&&(Y.addEventListener("keydown",S?R:I,S),Y.addEventListener("compositionstart",H),Y.addEventListener("compositionend",q)),y&&Y.addEventListener(u,T?N:P,T);let V=[];return f&&(Hi(i.domReference)&&(V=Om(i.domReference)),Hi(i.floating)&&(V=V.concat(Om(i.floating))),!Hi(i.reference)&&i.reference&&i.reference.contextElement&&(V=V.concat(Om(i.reference.contextElement)))),V=V.filter(L=>{var z;return L!==((z=Y.defaultView)==null?void 0:z.visualViewport)}),V.forEach(L=>{L.addEventListener("scroll",B,{passive:!0})}),()=>{a&&(Y.removeEventListener("keydown",S?R:I,S),Y.removeEventListener("compositionstart",H),Y.removeEventListener("compositionend",q)),y&&Y.removeEventListener(u,T?N:P,T),V.forEach(L=>{L.removeEventListener("scroll",B)}),window.clearTimeout(j)}},[s,i,a,y,u,n,r,f,o,_,C,I,S,R,P,T,N]),A.useEffect(()=>{v.current=!1},[y,u]);const $=A.useMemo(()=>({onKeyDown:I,[XHe[d]]:j=>{c&&r(!1,j.nativeEvent,"reference-press")}}),[I,r,c,d]),O=A.useMemo(()=>({onKeyDown:I,onMouseDown(){w.current=!0},onMouseUp(){w.current=!0},[QHe[u]]:()=>{v.current=!0}}),[I,u]);return A.useMemo(()=>o?{reference:$,floating:O}:{},[o,$,O])}function ZHe(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=Uxe(),s=A.useRef({}),[o]=A.useState(()=>UHe()),a=kY()!=null,[l,u]=A.useState(r.reference),c=vm((h,p,m)=>{s.current.openEvent=h?p:void 0,o.emit("openchange",{open:h,event:p,reason:m,nested:a}),n?.(h,p,m)}),d=A.useMemo(()=>({setPositionReference:u}),[]),f=A.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return A.useMemo(()=>({dataRef:s,open:t,onOpenChange:c,elements:f,events:o,floatingId:i,refs:d}),[t,c,f,o,i,d])}function IY(e){e===void 0&&(e={});const{nodeId:t}=e,n=ZHe({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[s,o]=A.useState(null),[a,l]=A.useState(null),c=i?.domReference||s,d=A.useRef(null),f=AY();Qh(()=>{c&&(d.current=c)},[c]);const h=OHe({...e,elements:{...i,...a&&{reference:a}}}),p=A.useCallback(w=>{const _=Hi(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;l(_),h.refs.setReference(_)},[h.refs]),m=A.useCallback(w=>{(Hi(w)||w===null)&&(d.current=w,o(w)),(Hi(h.refs.reference.current)||h.refs.reference.current===null||w!==null&&!Hi(w))&&h.refs.setReference(w)},[h.refs]),g=A.useMemo(()=>({...h.refs,setReference:m,setPositionReference:p,domReference:d}),[h.refs,m,p]),y=A.useMemo(()=>({...h.elements,domReference:c}),[h.elements,c]),v=A.useMemo(()=>({...h,...r,refs:g,elements:y,nodeId:t}),[h,g,y,t,r]);return Qh(()=>{r.dataRef.current.floatingContext=v;const w=f?.nodesRef.current.find(_=>_.id===t);w&&(w.context=v)}),A.useMemo(()=>({...h,context:v,refs:g,elements:y}),[h,g,y,v])}function eqe(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:i,dataRef:s,elements:o}=e,{enabled:a=!0,visibleOnly:l=!0}=t,u=A.useRef(!1),c=A.useRef(),d=A.useRef(!0);A.useEffect(()=>{if(!a)return;const h=gu(o.domReference);function p(){!n&&rc(o.domReference)&&o.domReference===Fae(f1(o.domReference))&&(u.current=!0)}function m(){d.current=!0}return h.addEventListener("blur",p),h.addEventListener("keydown",m,!0),()=>{h.removeEventListener("blur",p),h.removeEventListener("keydown",m,!0)}},[o.domReference,n,a]),A.useEffect(()=>{if(!a)return;function h(p){let{reason:m}=p;(m==="reference-press"||m==="escape-key")&&(u.current=!0)}return i.on("openchange",h),()=>{i.off("openchange",h)}},[i,a]),A.useEffect(()=>()=>{clearTimeout(c.current)},[]);const f=A.useMemo(()=>({onPointerDown(h){OVe(h.nativeEvent)||(d.current=!1)},onMouseLeave(){u.current=!1},onFocus(h){if(u.current)return;const p=hx(h.nativeEvent);if(l&&Hi(p))try{if(NVe()&&$Ve())throw Error();if(!p.matches(":focus-visible"))return}catch{if(!d.current&&!BVe(p))return}r(!0,h.nativeEvent,"focus")},onBlur(h){u.current=!1;const p=h.relatedTarget,m=h.nativeEvent,g=Hi(p)&&p.hasAttribute(RY("focus-guard"))&&p.getAttribute("data-type")==="outside";c.current=window.setTimeout(()=>{var y;const v=Fae(o.domReference?o.domReference.ownerDocument:document);!p&&v===o.domReference||MT((y=s.current.floatingContext)==null?void 0:y.refs.floating.current,v)||MT(o.domReference,v)||g||r(!1,m,"focus")})}}),[s,o.domReference,r,l]);return A.useMemo(()=>a?{reference:f}:{},[a,f])}const Jae="active",Zae="selected";function Jj(e,t,n){const r=new Map,i=n==="item";let s=e;if(i&&e){const{[Jae]:o,[Zae]:a,...l}=e;s=l}return{...n==="floating"&&{tabIndex:-1,[KHe]:""},...s,...t.map(o=>{const a=o?o[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((o,a)=>(a&&Object.entries(a).forEach(l=>{let[u,c]=l;if(!(i&&[Jae,Zae].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof c=="function"){var d;(d=r.get(u))==null||d.push(c),o[u]=function(){for(var f,h=arguments.length,p=new Array(h),m=0;m<h;m++)p[m]=arguments[m];return(f=r.get(u))==null?void 0:f.map(g=>g(...p)).find(g=>g!==void 0)}}}else o[u]=c}),o),{})}}function tqe(e){e===void 0&&(e=[]);const t=e.map(a=>a?.reference),n=e.map(a=>a?.floating),r=e.map(a=>a?.item),i=A.useCallback(a=>Jj(a,e,"reference"),t),s=A.useCallback(a=>Jj(a,e,"floating"),n),o=A.useCallback(a=>Jj(a,e,"item"),r);return A.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}const nqe=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function rqe(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:i}=e,{enabled:s=!0,role:o="dialog"}=t,a=(n=nqe.get(o))!=null?n:o,l=Uxe(),c=kY()!=null,d=A.useMemo(()=>a==="tooltip"||o==="label"?{["aria-"+(o==="label"?"labelledby":"describedby")]:r?i:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":a==="alertdialog"?"dialog":a,"aria-controls":r?i:void 0,...a==="listbox"&&{role:"combobox"},...a==="menu"&&{id:l},...a==="menu"&&c&&{role:"menuitem"},...o==="select"&&{"aria-autocomplete":"none"},...o==="combobox"&&{"aria-autocomplete":"list"}},[a,i,c,r,l,o]),f=A.useMemo(()=>{const p={id:i,...a&&{role:a}};return a==="tooltip"||o==="label"?p:{...p,...a==="menu"&&{"aria-labelledby":l}}},[a,i,l,o]),h=A.useCallback(p=>{let{active:m,selected:g}=p;const y={role:"option",...m&&{id:i+"-option"}};switch(o){case"select":return{...y,"aria-selected":m&&g};case"combobox":return{...y,...m&&{"aria-selected":!0}}}return{}},[i,o]);return A.useMemo(()=>s?{reference:d,floating:f,item:h}:{},[s,d,f,h])}const[iqe,yd]=ko("ScrollArea.Root component was not found in tree");function h_(e,t){const n=Rg(t);Ly(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const sqe=A.forwardRef((e,t)=>{const{style:n,...r}=e,i=yd(),[s,o]=A.useState(0),[a,l]=A.useState(0),u=!!(s&&a);return h_(i.scrollbarX,()=>{const c=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(c),l(c)}),h_(i.scrollbarY,()=>{const c=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(c),o(c)}),u?b.jsx("div",{...r,ref:t,style:{...n,width:s,height:a}}):null}),oqe=A.forwardRef((e,t)=>{const n=yd(),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?b.jsx(sqe,{...e,ref:t}):null}),aqe={scrollHideDelay:1e3,type:"hover"},Hxe=A.forwardRef((e,t)=>{const n=qe("ScrollAreaRoot",aqe,e),{type:r,scrollHideDelay:i,scrollbars:s,...o}=n,[a,l]=A.useState(null),[u,c]=A.useState(null),[d,f]=A.useState(null),[h,p]=A.useState(null),[m,g]=A.useState(null),[y,v]=A.useState(0),[w,_]=A.useState(0),[C,S]=A.useState(!1),[T,k]=A.useState(!1),I=ms(t,R=>l(R));return b.jsx(iqe,{value:{type:r,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:c,content:d,onContentChange:f,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:C,onScrollbarXEnabledChange:S,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:T,onScrollbarYEnabledChange:k,onCornerWidthChange:v,onCornerHeightChange:_},children:b.jsx(De,{...o,ref:I,__vars:{"--sa-corner-width":s!=="xy"?"0px":`${y}px`,"--sa-corner-height":s!=="xy"?"0px":`${w}px`}})})});Hxe.displayName="@mantine/core/ScrollAreaRoot";function qxe(e,t){const n=e/t;return Number.isNaN(n)?0:n}function $5(e){const t=qxe(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Wxe(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function lqe(e,[t,n]){return Math.min(n,Math.max(t,e))}function ele(e,t,n="ltr"){const r=$5(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,o=t.content-t.viewport,a=s-r,l=n==="ltr"?[0,o]:[o*-1,0],u=lqe(e,l);return Wxe([0,o],[0,a])(u)}function uqe(e,t,n,r="ltr"){const i=$5(n),s=i/2,o=t||s,a=i-o,l=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,d=r==="ltr"?[0,c]:[c*-1,0];return Wxe([l,u],d)(e)}function Gxe(e,t){return e>0&&e<t}function Mg(e){return e?parseInt(e,10):0}function k1(e,t,{checkForDefaultPrevented:n=!0}={}){return r=>{e?.(r),(n===!1||!r.defaultPrevented)&&t?.(r)}}const[cqe,Yxe]=ko("ScrollAreaScrollbar was not found in tree"),Kxe=A.forwardRef((e,t)=>{const{sizes:n,hasThumb:r,onThumbChange:i,onThumbPointerUp:s,onThumbPointerDown:o,onThumbPositionChange:a,onDragScroll:l,onWheelScroll:u,onResize:c,...d}=e,f=yd(),[h,p]=A.useState(null),m=ms(t,k=>p(k)),g=A.useRef(null),y=A.useRef(""),{viewport:v}=f,w=n.content-n.viewport,_=Rg(u),C=Rg(a),S=E5(c,10),T=k=>{if(g.current){const I=k.clientX-g.current.left,R=k.clientY-g.current.top;l({x:I,y:R})}};return A.useEffect(()=>{const k=I=>{const R=I.target;h?.contains(R)&&_(I,w)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[v,h,w,_]),A.useEffect(C,[n,C]),h_(h,S),h_(f.content,S),b.jsx(cqe,{value:{scrollbar:h,hasThumb:r,onThumbChange:Rg(i),onThumbPointerUp:Rg(s),onThumbPositionChange:C,onThumbPointerDown:Rg(o)},children:b.jsx("div",{...d,ref:m,"data-mantine-scrollbar":!0,style:{position:"absolute",...d.style},onPointerDown:k1(e.onPointerDown,k=>{k.preventDefault(),k.button===0&&(k.target.setPointerCapture(k.pointerId),g.current=h.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",T(k))}),onPointerMove:k1(e.onPointerMove,T),onPointerUp:k1(e.onPointerUp,k=>{const I=k.target;I.hasPointerCapture(k.pointerId)&&(k.preventDefault(),I.releasePointerCapture(k.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=y.current,g.current=null}})})}),Xxe=A.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:i,...s}=e,o=yd(),[a,l]=A.useState(),u=A.useRef(null),c=ms(t,u,o.onScrollbarXChange);return A.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),b.jsx(Kxe,{"data-orientation":"horizontal",...s,ref:c,sizes:n,style:{...i,"--sa-thumb-width":`${$5(n)}px`},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),Gxe(h,f)&&d.preventDefault()}},onResize:()=>{u.current&&o.viewport&&a&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:Mg(a.paddingLeft),paddingEnd:Mg(a.paddingRight)}})}})});Xxe.displayName="@mantine/core/ScrollAreaScrollbarX";const Qxe=A.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:i,...s}=e,o=yd(),[a,l]=A.useState(),u=A.useRef(null),c=ms(t,u,o.onScrollbarYChange);return A.useEffect(()=>{u.current&&l(window.getComputedStyle(u.current))},[]),b.jsx(Kxe,{...s,"data-orientation":"vertical",ref:c,sizes:n,style:{"--sa-thumb-height":`${$5(n)}px`,...i},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),Gxe(h,f)&&d.preventDefault()}},onResize:()=>{u.current&&o.viewport&&a&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:Mg(a.paddingTop),paddingEnd:Mg(a.paddingBottom)}})}})});Qxe.displayName="@mantine/core/ScrollAreaScrollbarY";const M5=A.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,{dir:i}=Ru(),s=yd(),o=A.useRef(null),a=A.useRef(0),[l,u]=A.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=qxe(l.viewport,l.content),d={...r,sizes:l,onSizesChange:u,hasThumb:c>0&&c<1,onThumbChange:h=>{o.current=h},onThumbPointerUp:()=>{a.current=0},onThumbPointerDown:h=>{a.current=h}},f=(h,p)=>uqe(h,a.current,l,p);return n==="horizontal"?b.jsx(Xxe,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollLeft,p=ele(h,l,i);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,i))}}):n==="vertical"?b.jsx(Qxe,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollTop,p=ele(h,l);l.scrollbar.size===0?o.current.style.setProperty("--thumb-opacity","0"):o.current.style.setProperty("--thumb-opacity","1"),o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null});M5.displayName="@mantine/core/ScrollAreaScrollbarVisible";const DY=A.forwardRef((e,t)=>{const n=yd(),{forceMount:r,...i}=e,[s,o]=A.useState(!1),a=e.orientation==="horizontal",l=E5(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?u:c)}},10);return h_(n.viewport,l),h_(n.content,l),r||s?b.jsx(M5,{"data-state":s?"visible":"hidden",...i,ref:t}):null});DY.displayName="@mantine/core/ScrollAreaScrollbarAuto";const Jxe=A.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=yd(),[s,o]=A.useState(!1);return A.useEffect(()=>{const{scrollArea:a}=i;let l=0;if(a){const u=()=>{window.clearTimeout(l),o(!0)},c=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),n||s?b.jsx(DY,{"data-state":s?"visible":"hidden",...r,ref:t}):null});Jxe.displayName="@mantine/core/ScrollAreaScrollbarHover";const dqe=A.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=yd(),s=e.orientation==="horizontal",[o,a]=A.useState("hidden"),l=E5(()=>a("idle"),100);return A.useEffect(()=>{if(o==="idle"){const u=window.setTimeout(()=>a("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[o,i.scrollHideDelay]),A.useEffect(()=>{const{viewport:u}=i,c=s?"scrollLeft":"scrollTop";if(u){let d=u[c];const f=()=>{const h=u[c];d!==h&&(a("scrolling"),l()),d=h};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[i.viewport,s,l]),n||o!=="hidden"?b.jsx(M5,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:k1(e.onPointerEnter,()=>a("interacting")),onPointerLeave:k1(e.onPointerLeave,()=>a("idle"))}):null}),xV=A.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=yd(),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=e.orientation==="horizontal";return A.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?b.jsx(Jxe,{...r,ref:t,forceMount:n}):i.type==="scroll"?b.jsx(dqe,{...r,ref:t,forceMount:n}):i.type==="auto"?b.jsx(DY,{...r,ref:t,forceMount:n}):i.type==="always"?b.jsx(M5,{...r,ref:t}):null});xV.displayName="@mantine/core/ScrollAreaScrollbar";function fqe(e,t=()=>{}){let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function i(){const s={left:e.scrollLeft,top:e.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&t(),n=s,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)}const Zxe=A.forwardRef((e,t)=>{const{style:n,...r}=e,i=yd(),s=Yxe(),{onThumbPositionChange:o}=s,a=ms(t,c=>s.onThumbChange(c)),l=A.useRef(void 0),u=E5(()=>{l.current&&(l.current(),l.current=void 0)},100);return A.useEffect(()=>{const{viewport:c}=i;if(c){const d=()=>{if(u(),!l.current){const f=fqe(c,o);l.current=f,o()}};return o(),c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[i.viewport,u,o]),b.jsx("div",{"data-state":s.hasThumb?"visible":"hidden",...r,ref:a,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:k1(e.onPointerDownCapture,c=>{const f=c.target.getBoundingClientRect(),h=c.clientX-f.left,p=c.clientY-f.top;s.onThumbPointerDown({x:h,y:p})}),onPointerUp:k1(e.onPointerUp,s.onThumbPointerUp)})});Zxe.displayName="@mantine/core/ScrollAreaThumb";const _V=A.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Yxe();return n||i.hasThumb?b.jsx(Zxe,{ref:t,...r}):null});_V.displayName="@mantine/core/ScrollAreaThumb";const e_e=A.forwardRef(({children:e,style:t,...n},r)=>{const i=yd(),s=ms(r,i.onViewportChange);return b.jsx(De,{...n,ref:s,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t},children:b.jsx("div",{style:{minWidth:"100%"},ref:i.onContentChange,children:e})})});e_e.displayName="@mantine/core/ScrollAreaViewport";var PY={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const t_e={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},hqe=(e,{scrollbarSize:t,overscrollBehavior:n})=>({root:{"--scrollarea-scrollbar-size":Ye(t),"--scrollarea-over-scroll-behavior":n}}),lp=tt((e,t)=>{const n=qe("ScrollArea",t_e,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,scrollbarSize:l,vars:u,type:c,scrollHideDelay:d,viewportProps:f,viewportRef:h,onScrollPositionChange:p,children:m,offsetScrollbars:g,scrollbars:y,onBottomReached:v,onTopReached:w,overscrollBehavior:_,...C}=n,[S,T]=A.useState(!1),[k,I]=A.useState(!1),[R,P]=A.useState(!1),N=Ot({name:"ScrollArea",props:n,classes:PY,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:hqe}),$=A.useRef(null),O=MHe([h,$]);return A.useEffect(()=>{if(!$.current||g!=="present")return;const j=$.current,B=new ResizeObserver(()=>{const{scrollHeight:H,clientHeight:q,scrollWidth:Y,clientWidth:V}=j;I(H>q),P(Y>V)});return B.observe(j),()=>B.disconnect()},[$,g]),b.jsxs(Hxe,{type:c==="never"?"always":c,scrollHideDelay:d,ref:t,scrollbars:y,...N("root"),...C,children:[b.jsx(e_e,{...f,...N("viewport",{style:f?.style}),ref:O,"data-offset-scrollbars":g===!0?"xy":g||void 0,"data-scrollbars":y||void 0,"data-horizontal-hidden":g==="present"&&!R?"true":void 0,"data-vertical-hidden":g==="present"&&!k?"true":void 0,onScroll:j=>{f?.onScroll?.(j),p?.({x:j.currentTarget.scrollLeft,y:j.currentTarget.scrollTop});const{scrollTop:B,scrollHeight:H,clientHeight:q}=j.currentTarget;B-(H-q)>=-.6&&v?.(),B===0&&w?.()},children:m}),(y==="xy"||y==="x")&&b.jsx(xV,{...N("scrollbar"),orientation:"horizontal","data-hidden":c==="never"||g==="present"&&!R?!0:void 0,forceMount:!0,onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),children:b.jsx(_V,{...N("thumb")})}),(y==="xy"||y==="y")&&b.jsx(xV,{...N("scrollbar"),orientation:"vertical","data-hidden":c==="never"||g==="present"&&!k?!0:void 0,forceMount:!0,onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),children:b.jsx(_V,{...N("thumb")})}),b.jsx(oqe,{...N("corner"),"data-hovered":S||void 0,"data-hidden":c==="never"||void 0})]})});lp.displayName="@mantine/core/ScrollArea";const OY=tt((e,t)=>{const{children:n,classNames:r,styles:i,scrollbarSize:s,scrollHideDelay:o,type:a,dir:l,offsetScrollbars:u,viewportRef:c,onScrollPositionChange:d,unstyled:f,variant:h,viewportProps:p,scrollbars:m,style:g,vars:y,onBottomReached:v,onTopReached:w,..._}=qe("ScrollAreaAutosize",t_e,e);return b.jsx(De,{..._,ref:t,style:[{display:"flex",overflow:"auto"},g],children:b.jsx(De,{style:{display:"flex",flexDirection:"column",flex:1},children:b.jsx(lp,{classNames:r,styles:i,scrollHideDelay:o,scrollbarSize:s,type:a,dir:l,offsetScrollbars:u,viewportRef:c,onScrollPositionChange:d,unstyled:f,variant:h,viewportProps:p,vars:y,scrollbars:m,onBottomReached:v,onTopReached:w,children:n})})})});lp.classes=PY;OY.displayName="@mantine/core/ScrollAreaAutosize";OY.classes=PY;lp.Autosize=OY;var n_e={root:"m_87cf2631"};const pqe={__staticSelector:"UnstyledButton"},no=Ws((e,t)=>{const n=qe("UnstyledButton",pqe,e),{className:r,component:i="button",__staticSelector:s,unstyled:o,classNames:a,styles:l,style:u,...c}=n,d=Ot({name:s,props:n,classes:n_e,className:r,style:u,classNames:a,styles:l,unstyled:o});return b.jsx(De,{...d("root",{focusable:!0}),component:i,ref:t,type:i==="button"?"button":void 0,...c})});no.classes=n_e;no.displayName="@mantine/core/UnstyledButton";var r_e={root:"m_515a97f8"};const mqe={},NY=tt((e,t)=>{const n=qe("VisuallyHidden",mqe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,...u}=n,c=Ot({name:"VisuallyHidden",classes:r_e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a});return b.jsx(De,{component:"span",ref:t,...c("root"),...u})});NY.classes=r_e;NY.displayName="@mantine/core/VisuallyHidden";var i_e={root:"m_1b7284a3"};const gqe={},yqe=(e,{radius:t,shadow:n})=>({root:{"--paper-radius":t===void 0?void 0:Br(t),"--paper-shadow":dY(n)}}),vd=Ws((e,t)=>{const n=qe("Paper",gqe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,withBorder:l,vars:u,radius:c,shadow:d,variant:f,mod:h,...p}=n,m=Ot({name:"Paper",props:n,classes:i_e,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:yqe});return b.jsx(De,{ref:t,mod:[{"data-with-border":l},h],...m("root"),variant:f,...p})});vd.classes=i_e;vd.displayName="@mantine/core/Paper";function s_e(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return t}function tle(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function nle(e,t,n,r,i){return e==="center"||r==="center"?{left:t}:e==="end"?{[i==="ltr"?"right":"left"]:n}:e==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const vqe={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function bqe({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,arrowX:s,arrowY:o,dir:a}){const[l,u="center"]=e.split("-"),c={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[vqe[l]]:r},d=-t/2;return l==="left"?{...c,...tle(u,o,n,i),right:d,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:l==="right"?{...c,...tle(u,o,n,i),left:d,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:l==="top"?{...c,...nle(u,s,n,i,a),bottom:d,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:l==="bottom"?{...c,...nle(u,s,n,i,a),top:d,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const $Y=A.forwardRef(({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,visible:s,arrowX:o,arrowY:a,style:l,...u},c)=>{const{dir:d}=Ru();return s?b.jsx("div",{...u,ref:c,style:{...l,...bqe({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,dir:d,arrowX:o,arrowY:a})}}):null});$Y.displayName="@mantine/core/FloatingArrow";var o_e={root:"m_9814e45f"};const wqe={zIndex:Au("modal")},xqe=(e,{gradient:t,color:n,backgroundOpacity:r,blur:i,radius:s,zIndex:o})=>({root:{"--overlay-bg":t||(n!==void 0||r!==void 0)&&kh(n||"#000",r??.6)||void 0,"--overlay-filter":i?`blur(${Ye(i)})`:void 0,"--overlay-radius":s===void 0?void 0:Br(s),"--overlay-z-index":o?.toString()}}),p_=Ws((e,t)=>{const n=qe("Overlay",wqe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,fixed:u,center:c,children:d,radius:f,zIndex:h,gradient:p,blur:m,color:g,backgroundOpacity:y,mod:v,...w}=n,_=Ot({name:"Overlay",props:n,classes:o_e,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:xqe});return b.jsx(De,{ref:t,..._("root"),mod:[{center:c,fixed:u},v],...w,children:d})});p_.classes=o_e;p_.displayName="@mantine/core/Overlay";function Zj(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}function _qe({target:e,reuseTargetNode:t,...n}){if(e)return typeof e=="string"?document.querySelector(e)||Zj(n):e;if(t){const r=document.querySelector("[data-mantine-shared-portal-node]");if(r)return r;const i=Zj(n);return i.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(i),i}return Zj(n)}const Cqe={},a_e=tt((e,t)=>{const{children:n,target:r,reuseTargetNode:i,...s}=qe("Portal",Cqe,e),[o,a]=A.useState(!1),l=A.useRef(null);return Ly(()=>(a(!0),l.current=_qe({target:r,reuseTargetNode:i,...s}),wN(t,l.current),!r&&!i&&l.current&&document.body.appendChild(l.current),()=>{!r&&!i&&l.current&&document.body.removeChild(l.current)}),[r]),!o||!l.current?null:Hh.createPortal(b.jsx(b.Fragment,{children:n}),l.current)});a_e.displayName="@mantine/core/Portal";const By=tt(({withinPortal:e=!0,children:t,...n},r)=>mxe()==="test"||!e?b.jsx(b.Fragment,{children:t}):b.jsx(a_e,{ref:r,...n,children:t}));By.displayName="@mantine/core/OptionalPortal";const i2=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),sD={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...i2("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...i2("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...i2("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...i2("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...i2("top"),common:{transformOrigin:"top right"}}},rle={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function Eqe({transition:e,state:t,duration:n,timingFunction:r}){const i={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in sD?{transitionProperty:sD[e].transitionProperty,...i,...sD[e].common,...sD[e][rle[t]]}:{}:{transitionProperty:e.transitionProperty,...i,...e.common,...e[rle[t]]}}function Sqe({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:i,onExit:s,onEntered:o,onExited:a,enterDelay:l,exitDelay:u}){const c=os(),d=S5(),f=c.respectReducedMotion?d:!1,[h,p]=A.useState(f?0:e),[m,g]=A.useState(r?"entered":"exited"),y=A.useRef(-1),v=A.useRef(-1),w=A.useRef(-1);function _(){window.clearTimeout(y.current),window.clearTimeout(v.current),cancelAnimationFrame(w.current)}const C=T=>{_();const k=T?i:s,I=T?o:a,R=f?0:T?e:t;p(R),R===0?(typeof k=="function"&&k(),typeof I=="function"&&I(),g(T?"entered":"exited")):w.current=requestAnimationFrame(()=>{eS.flushSync(()=>{g(T?"pre-entering":"pre-exiting")}),w.current=requestAnimationFrame(()=>{typeof k=="function"&&k(),g(T?"entering":"exiting"),y.current=window.setTimeout(()=>{typeof I=="function"&&I(),g(T?"entered":"exited")},R)})})},S=T=>{if(_(),typeof(T?l:u)!="number"){C(T);return}v.current=window.setTimeout(()=>{C(T)},T?l:u)};return Nl(()=>{S(r)},[r]),A.useEffect(()=>()=>{_()},[]),{transitionDuration:h,transitionStatus:m,transitionTimingFunction:n||"ease"}}function bd({keepMounted:e,transition:t="fade",duration:n=250,exitDuration:r=n,mounted:i,children:s,timingFunction:o="ease",onExit:a,onEntered:l,onEnter:u,onExited:c,enterDelay:d,exitDelay:f}){const h=mxe(),{transitionDuration:p,transitionStatus:m,transitionTimingFunction:g}=Sqe({mounted:i,exitDuration:r,duration:n,timingFunction:o,onExit:a,onEntered:l,onEnter:u,onExited:c,enterDelay:d,exitDelay:f});return p===0||h==="test"?i?b.jsx(b.Fragment,{children:s({})}):e?s({display:"none"}):null:m==="exited"?e?s({display:"none"}):null:b.jsx(b.Fragment,{children:s(Eqe({transition:t,duration:p,state:m,timingFunction:g}))})}bd.displayName="@mantine/core/Transition";const[Tqe,l_e]=ko("Popover component was not found in the tree");function sA({children:e,active:t=!0,refProp:n="ref",innerRef:r}){const i=zze(t),s=ms(i,r);return b0(e)?A.cloneElement(e,{[n]:s}):e}function u_e(e){return b.jsx(NY,{tabIndex:-1,"data-autofocus":!0,...e})}sA.displayName="@mantine/core/FocusTrap";u_e.displayName="@mantine/core/FocusTrapInitialFocus";sA.InitialFocus=u_e;var c_e={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const kqe={},MY=tt((e,t)=>{const n=qe("PopoverDropdown",kqe,e),{className:r,style:i,vars:s,children:o,onKeyDownCapture:a,variant:l,classNames:u,styles:c,...d}=n,f=l_e(),h=oxe({opened:f.opened,shouldReturnFocus:f.returnFocus}),p=f.withRoles?{"aria-labelledby":f.getTargetId(),id:f.getDropdownId(),role:"dialog",tabIndex:-1}:{},m=ms(t,f.floating);return f.disabled?null:b.jsx(By,{...f.portalProps,withinPortal:f.withinPortal,children:b.jsx(bd,{mounted:f.opened,...f.transitionProps,transition:f.transitionProps?.transition||"fade",duration:f.transitionProps?.duration??150,keepMounted:f.keepMounted,exitDuration:typeof f.transitionProps?.exitDuration=="number"?f.transitionProps.exitDuration:f.transitionProps?.duration,children:g=>b.jsx(sA,{active:f.trapFocus&&f.opened,innerRef:m,children:b.jsxs(De,{...p,...d,variant:l,onKeyDownCapture:Aze(()=>{f.onClose?.(),f.onDismiss?.()},{active:f.closeOnEscape,onTrigger:h,onKeyDown:a}),"data-position":f.placement,"data-fixed":f.floatingStrategy==="fixed"||void 0,...f.getStyles("dropdown",{className:r,props:n,classNames:u,styles:c,style:[{...g,zIndex:f.zIndex,top:f.y??0,left:f.x??0,width:f.width==="target"?void 0:Ye(f.width)},f.resolvedStyles.dropdown,c?.dropdown,i]}),children:[o,b.jsx($Y,{ref:f.arrowRef,arrowX:f.arrowX,arrowY:f.arrowY,visible:f.withArrow,position:f.placement,arrowSize:f.arrowSize,arrowRadius:f.arrowRadius,arrowOffset:f.arrowOffset,arrowPosition:f.arrowPosition,...f.getStyles("arrow",{props:n,classNames:u,styles:c})})]})})})})});MY.classes=c_e;MY.displayName="@mantine/core/PopoverDropdown";const Aqe={refProp:"ref",popupType:"dialog"},d_e=tt((e,t)=>{const{children:n,refProp:r,popupType:i,...s}=qe("PopoverTarget",Aqe,e);if(!b0(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=s,a=l_e(),l=ms(a.reference,T5(n),t),u=a.withRoles?{"aria-haspopup":i,"aria-expanded":a.opened,"aria-controls":a.getDropdownId(),id:a.getTargetId()}:{};return A.cloneElement(n,{...o,...u,...a.targetProps,className:Lt(a.targetProps.className,o.className,n.props.className),[r]:l,...a.controlled?null:{onClick:a.onToggle}})});d_e.displayName="@mantine/core/PopoverTarget";function f_e({opened:e,floating:t,position:n,positionDependencies:r}){const[i,s]=A.useState(0);A.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current&&e)return CHe(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,i,n]),Nl(()=>{t.update()},r),Nl(()=>{s(o=>o+1)},[e])}function Rqe(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function Iqe(e,t){const n=Rqe(e.middlewares),r=[jxe(e.offset)];return n.shift&&r.push(TY(typeof n.shift=="boolean"?{limiter:Gae(),padding:5}:{limiter:Gae(),padding:5,...n.shift})),n.flip&&r.push(typeof n.flip=="boolean"?SN():SN(n.flip)),n.inline&&r.push(typeof n.inline=="boolean"?VS():VS(n.inline)),r.push(Bxe({element:e.arrowRef,padding:e.arrowOffset})),(n.size||e.width==="target")&&r.push($He({...typeof n.size=="boolean"?{}:n.size,apply({rects:i,availableWidth:s,availableHeight:o,...a}){const u=t().refs.floating.current?.style??{};n.size&&(typeof n.size=="object"&&n.size.apply?n.size.apply({rects:i,availableWidth:s,availableHeight:o,...a}):Object.assign(u,{maxWidth:`${s}px`,maxHeight:`${o}px`})),e.width==="target"&&Object.assign(u,{width:`${i.reference.width}px`})}})),r}function Dqe(e){const[t,n]=Fi({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=A.useRef(t),i=()=>{t&&!e.disabled&&n(!1)},s=()=>!e.disabled&&n(!t),o=IY({strategy:e.strategy,placement:e.position,middleware:Iqe(e,()=>o)});return f_e({opened:t,position:e.position,positionDependencies:e.positionDependencies||[],floating:o}),Nl(()=>{e.onPositionChange?.(o.placement)},[o.placement]),Nl(()=>{t!==r.current&&(t?e.onOpen?.():e.onClose?.()),r.current=t},[t,e.onClose,e.onOpen]),{floating:o,controlled:typeof e.opened=="boolean",opened:t,onClose:i,onToggle:s}}const Pqe={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Au("popover"),__staticSelector:"Popover",width:"max-content"},Oqe=(e,{radius:t,shadow:n})=>({dropdown:{"--popover-radius":t===void 0?void 0:Br(t),"--popover-shadow":dY(n)}});function kr(e){const t=qe("Popover",Pqe,e),{children:n,position:r,offset:i,onPositionChange:s,positionDependencies:o,opened:a,transitionProps:l,onExitTransitionEnd:u,onEnterTransitionEnd:c,width:d,middlewares:f,withArrow:h,arrowSize:p,arrowOffset:m,arrowRadius:g,arrowPosition:y,unstyled:v,classNames:w,styles:_,closeOnClickOutside:C,withinPortal:S,portalProps:T,closeOnEscape:k,clickOutsideEvents:I,trapFocus:R,onClose:P,onDismiss:N,onOpen:$,onChange:O,zIndex:j,radius:B,shadow:H,id:q,defaultOpened:Y,__staticSelector:V,withRoles:L,disabled:z,returnFocus:U,variant:G,keepMounted:Q,vars:ne,floatingStrategy:ue,withOverlay:se,overlayProps:ae,...he}=t,ie=Ot({name:V,props:t,classes:c_e,classNames:w,styles:_,unstyled:v,rootSelector:"dropdown",vars:ne,varsResolver:Oqe}),{resolvedStyles:le}=Bf({classNames:w,styles:_,props:t}),Ee=A.useRef(null),[X,fe]=A.useState(null),[de,te]=A.useState(null),{dir:ee}=Ru(),me=Sa(q),Re=Dqe({middlewares:f,width:d,position:s_e(ee,r),offset:typeof i=="number"?i+(h?p/2:0):i,arrowRef:Ee,arrowOffset:m,onPositionChange:s,positionDependencies:o,opened:a,defaultOpened:Y,onChange:O,onOpen:$,onClose:P,onDismiss:N,strategy:ue,disabled:z});ixe(()=>{C&&(Re.onClose(),N?.())},I,[X,de]);const Te=A.useCallback(Oe=>{fe(Oe),Re.floating.refs.setReference(Oe)},[Re.floating.refs.setReference]),we=A.useCallback(Oe=>{te(Oe),Re.floating.refs.setFloating(Oe)},[Re.floating.refs.setFloating]),$e=A.useCallback(()=>{l?.onExited?.(),u?.()},[l?.onExited,u]),Ae=A.useCallback(()=>{l?.onEntered?.(),c?.()},[l?.onEntered,c]);return b.jsxs(Tqe,{value:{returnFocus:U,disabled:z,controlled:Re.controlled,reference:Te,floating:we,x:Re.floating.x,y:Re.floating.y,arrowX:Re.floating?.middlewareData?.arrow?.x,arrowY:Re.floating?.middlewareData?.arrow?.y,opened:Re.opened,arrowRef:Ee,transitionProps:{...l,onExited:$e,onEntered:Ae},width:d,withArrow:h,arrowSize:p,arrowOffset:m,arrowRadius:g,arrowPosition:y,placement:Re.floating.placement,trapFocus:R,withinPortal:S,portalProps:T,zIndex:j,radius:B,shadow:H,closeOnEscape:k,onDismiss:N,onClose:Re.onClose,onToggle:Re.onToggle,getTargetId:()=>`${me}-target`,getDropdownId:()=>`${me}-dropdown`,withRoles:L,targetProps:he,__staticSelector:V,classNames:w,styles:_,unstyled:v,variant:G,keepMounted:Q,getStyles:ie,resolvedStyles:le,floatingStrategy:ue},children:[n,se&&b.jsx(bd,{transition:"fade",mounted:Re.opened,duration:l?.duration||250,exitDuration:l?.exitDuration||250,children:Oe=>b.jsx(By,{withinPortal:S,children:b.jsx(p_,{...ae,...ie("overlay",{className:ae?.className,style:[Oe,ae?.style]})})})})]})}kr.Target=d_e;kr.Dropdown=MY;kr.displayName="@mantine/core/Popover";kr.extend=e=>e;var of={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const h_e=A.forwardRef(({className:e,...t},n)=>b.jsxs(De,{component:"span",className:Lt(of.barsLoader,e),...t,ref:n,children:[b.jsx("span",{className:of.bar}),b.jsx("span",{className:of.bar}),b.jsx("span",{className:of.bar})]}));h_e.displayName="@mantine/core/Bars";const p_e=A.forwardRef(({className:e,...t},n)=>b.jsxs(De,{component:"span",className:Lt(of.dotsLoader,e),...t,ref:n,children:[b.jsx("span",{className:of.dot}),b.jsx("span",{className:of.dot}),b.jsx("span",{className:of.dot})]}));p_e.displayName="@mantine/core/Dots";const m_e=A.forwardRef(({className:e,...t},n)=>b.jsx(De,{component:"span",className:Lt(of.ovalLoader,e),...t,ref:n}));m_e.displayName="@mantine/core/Oval";const g_e={bars:h_e,oval:m_e,dots:p_e},Nqe={loaders:g_e,type:"oval"},$qe=(e,{size:t,color:n})=>({root:{"--loader-size":vn(t,"loader-size"),"--loader-color":n?Xr(n,e):void 0}}),pc=tt((e,t)=>{const n=qe("Loader",Nqe,e),{size:r,color:i,type:s,vars:o,className:a,style:l,classNames:u,styles:c,unstyled:d,loaders:f,variant:h,children:p,...m}=n,g=Ot({name:"Loader",props:n,classes:of,className:a,style:l,classNames:u,styles:c,unstyled:d,vars:o,varsResolver:$qe});return p?b.jsx(De,{...g("root"),ref:t,...m,children:p}):b.jsx(De,{...g("root"),ref:t,component:f[s],variant:h,size:r,...m})});pc.defaultLoaders=g_e;pc.classes=of;pc.displayName="@mantine/core/Loader";var mC={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const ile={orientation:"horizontal"},Mqe=(e,{borderWidth:t})=>({group:{"--ai-border-width":Ye(t)}}),FY=tt((e,t)=>{const n=qe("ActionIconGroup",ile,e),{className:r,style:i,classNames:s,styles:o,unstyled:a,orientation:l,vars:u,borderWidth:c,variant:d,mod:f,...h}=qe("ActionIconGroup",ile,e),p=Ot({name:"ActionIconGroup",props:n,classes:mC,className:r,style:i,classNames:s,styles:o,unstyled:a,vars:u,varsResolver:Mqe,rootSelector:"group"});return b.jsx(De,{...p("group"),ref:t,variant:d,mod:[{"data-orientation":l},f],role:"group",...h})});FY.classes=mC;FY.displayName="@mantine/core/ActionIconGroup";const sle={},Fqe=(e,{radius:t,color:n,gradient:r,variant:i,autoContrast:s,size:o})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:s});return{groupSection:{"--section-height":vn(o,"section-height"),"--section-padding-x":vn(o,"section-padding-x"),"--section-fz":ps(o),"--section-radius":t===void 0?void 0:Br(t),"--section-bg":n||i?a.background:void 0,"--section-color":a.color,"--section-bd":n||i?a.border:void 0}}},LY=tt((e,t)=>{const n=qe("ActionIconGroupSection",sle,e),{className:r,style:i,classNames:s,styles:o,unstyled:a,vars:l,variant:u,gradient:c,radius:d,autoContrast:f,...h}=qe("ActionIconGroupSection",sle,e),p=Ot({name:"ActionIconGroupSection",props:n,classes:mC,className:r,style:i,classNames:s,styles:o,unstyled:a,vars:l,varsResolver:Fqe,rootSelector:"groupSection"});return b.jsx(De,{...p("groupSection"),ref:t,variant:u,...h})});LY.classes=mC;LY.displayName="@mantine/core/ActionIconGroupSection";const Lqe={},jqe=(e,{size:t,radius:n,variant:r,gradient:i,color:s,autoContrast:o})=>{const a=e.variantColorResolver({color:s||e.primaryColor,theme:e,gradient:i,variant:r||"filled",autoContrast:o});return{root:{"--ai-size":vn(t,"ai-size"),"--ai-radius":n===void 0?void 0:Br(n),"--ai-bg":s||r?a.background:void 0,"--ai-hover":s||r?a.hover:void 0,"--ai-hover-color":s||r?a.hoverColor:void 0,"--ai-color":a.color,"--ai-bd":s||r?a.border:void 0}}},Tn=Ws((e,t)=>{const n=qe("ActionIcon",Lqe,e),{className:r,unstyled:i,variant:s,classNames:o,styles:a,style:l,loading:u,loaderProps:c,size:d,color:f,radius:h,__staticSelector:p,gradient:m,vars:g,children:y,disabled:v,"data-disabled":w,autoContrast:_,mod:C,...S}=n,T=Ot({name:["ActionIcon",p],props:n,className:r,style:l,classes:mC,classNames:o,styles:a,unstyled:i,vars:g,varsResolver:jqe});return b.jsxs(no,{...T("root",{active:!v&&!u&&!w}),...S,unstyled:i,variant:s,size:d,disabled:v||u,ref:t,mod:[{loading:u,disabled:v||w},C],children:[b.jsx(bd,{mounted:!!u,transition:"slide-down",duration:150,children:k=>b.jsx(De,{component:"span",...T("loader",{style:k}),"aria-hidden":!0,children:b.jsx(pc,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...c})})}),b.jsx(De,{component:"span",mod:{loading:u},...T("icon"),children:y})]})});Tn.classes=mC;Tn.displayName="@mantine/core/ActionIcon";Tn.Group=FY;Tn.GroupSection=LY;const y_e=A.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...n},r)=>b.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:r,...n,children:b.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));y_e.displayName="@mantine/core/CloseIcon";var v_e={root:"m_86a44da5","root--subtle":"m_220c80f2"};const Bqe={variant:"subtle"},zqe=(e,{size:t,radius:n,iconSize:r})=>({root:{"--cb-size":vn(t,"cb-size"),"--cb-radius":n===void 0?void 0:Br(n),"--cb-icon-size":Ye(r)}}),up=Ws((e,t)=>{const n=qe("CloseButton",Bqe,e),{iconSize:r,children:i,vars:s,radius:o,className:a,classNames:l,style:u,styles:c,unstyled:d,"data-disabled":f,disabled:h,variant:p,icon:m,mod:g,__staticSelector:y,...v}=n,w=Ot({name:y||"CloseButton",props:n,className:a,style:u,classes:v_e,classNames:l,styles:c,unstyled:d,vars:s,varsResolver:zqe});return b.jsxs(no,{ref:t,...v,unstyled:d,variant:p,disabled:h,mod:[{disabled:h||f},g],...w("root",{variant:p,active:!h&&!f}),children:[m||b.jsx(y_e,{}),i]})});up.classes=v_e;up.displayName="@mantine/core/CloseButton";function Uqe(e){return A.Children.toArray(e).filter(Boolean)}var b_e={root:"m_4081bf90"};const Vqe={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},Hqe=(e,{grow:t,preventGrowOverflow:n,gap:r,align:i,justify:s,wrap:o},{childWidth:a})=>({root:{"--group-child-width":t&&n?a:void 0,"--group-gap":Mi(r),"--group-align":i,"--group-justify":s,"--group-wrap":o}}),An=tt((e,t)=>{const n=qe("Group",Vqe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,children:l,gap:u,align:c,justify:d,wrap:f,grow:h,preventGrowOverflow:p,vars:m,variant:g,__size:y,mod:v,...w}=n,_=Uqe(l),C=_.length,S=Mi(u??"md"),k={childWidth:`calc(${100/C}% - (${S} - ${S} / ${C}))`},I=Ot({name:"Group",props:n,stylesCtx:k,className:i,style:s,classes:b_e,classNames:r,styles:o,unstyled:a,vars:m,varsResolver:Hqe});return b.jsx(De,{...I("root"),ref:t,variant:g,mod:[{grow:h},v],size:y,...w,children:_})});An.classes=b_e;An.displayName="@mantine/core/Group";const[qqe,_0]=ko("ModalBase component was not found in tree");function Wqe({opened:e,transitionDuration:t}){const[n,r]=A.useState(e),i=A.useRef(-1),o=S5()?0:t;return A.useEffect(()=>(e?(r(!0),window.clearTimeout(i.current)):o===0?r(!1):i.current=window.setTimeout(()=>r(!1),o),()=>window.clearTimeout(i.current)),[e,o]),n}function Gqe({id:e,transitionProps:t,opened:n,trapFocus:r,closeOnEscape:i,onClose:s,returnFocus:o}){const a=Sa(e),[l,u]=A.useState(!1),[c,d]=A.useState(!1),f=typeof t?.duration=="number"?t?.duration:200,h=Wqe({opened:n,transitionDuration:f});return cxe("keydown",p=>{p.key==="Escape"&&i&&!p.isComposing&&n&&p.target?.getAttribute("data-mantine-stop-propagation")!=="true"&&s()},{capture:!0}),oxe({opened:n,shouldReturnFocus:r&&o}),{_id:a,titleMounted:l,bodyMounted:c,shouldLockScroll:h,setTitleMounted:u,setBodyMounted:d}}const w_e=A.forwardRef(({keepMounted:e,opened:t,onClose:n,id:r,transitionProps:i,onExitTransitionEnd:s,onEnterTransitionEnd:o,trapFocus:a,closeOnEscape:l,returnFocus:u,closeOnClickOutside:c,withinPortal:d,portalProps:f,lockScroll:h,children:p,zIndex:m,shadow:g,padding:y,__vars:v,unstyled:w,removeScrollProps:_,...C},S)=>{const{_id:T,titleMounted:k,bodyMounted:I,shouldLockScroll:R,setTitleMounted:P,setBodyMounted:N}=Gqe({id:r,transitionProps:i,opened:t,trapFocus:a,closeOnEscape:l,onClose:n,returnFocus:u}),{key:$,...O}=_||{};return b.jsx(By,{...f,withinPortal:d,children:b.jsx(qqe,{value:{opened:t,onClose:n,closeOnClickOutside:c,onExitTransitionEnd:s,onEnterTransitionEnd:o,transitionProps:{...i,keepMounted:e},getTitleId:()=>`${T}-title`,getBodyId:()=>`${T}-body`,titleMounted:k,bodyMounted:I,setTitleMounted:P,setBodyMounted:N,trapFocus:a,closeOnEscape:l,zIndex:m,unstyled:w},children:b.jsx(d_,{enabled:R&&h,...O,children:b.jsx(De,{ref:S,...C,__vars:{...v,"--mb-z-index":(m||Au("modal")).toString(),"--mb-shadow":dY(g),"--mb-padding":Mi(y)},children:p})},$)})})});w_e.displayName="@mantine/core/ModalBase";function Yqe(){const e=_0();return A.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var m_={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const x_e=A.forwardRef(({className:e,...t},n)=>{const r=Yqe(),i=_0();return b.jsx(De,{ref:n,...t,id:r,className:Lt({[m_.body]:!i.unstyled},e)})});x_e.displayName="@mantine/core/ModalBaseBody";const __e=A.forwardRef(({className:e,onClick:t,...n},r)=>{const i=_0();return b.jsx(up,{ref:r,...n,onClick:s=>{i.onClose(),t?.(s)},className:Lt({[m_.close]:!i.unstyled},e),unstyled:i.unstyled})});__e.displayName="@mantine/core/ModalBaseCloseButton";const C_e=A.forwardRef(({transitionProps:e,className:t,innerProps:n,onKeyDown:r,style:i,...s},o)=>{const a=_0();return b.jsx(bd,{mounted:a.opened,transition:"pop",...a.transitionProps,onExited:()=>{a.onExitTransitionEnd?.(),a.transitionProps?.onExited?.()},onEntered:()=>{a.onEnterTransitionEnd?.(),a.transitionProps?.onEntered?.()},...e,children:l=>b.jsx("div",{...n,className:Lt({[m_.inner]:!a.unstyled},n.className),children:b.jsx(sA,{active:a.opened&&a.trapFocus,innerRef:o,children:b.jsx(vd,{...s,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":a.bodyMounted?a.getBodyId():void 0,"aria-labelledby":a.titleMounted?a.getTitleId():void 0,style:[i,l],className:Lt({[m_.content]:!a.unstyled},t),unstyled:a.unstyled,children:s.children})})})})});C_e.displayName="@mantine/core/ModalBaseContent";const E_e=A.forwardRef(({className:e,...t},n)=>{const r=_0();return b.jsx(De,{component:"header",ref:n,className:Lt({[m_.header]:!r.unstyled},e),...t})});E_e.displayName="@mantine/core/ModalBaseHeader";const Kqe={duration:200,timingFunction:"ease",transition:"fade"};function Xqe(e){const t=_0();return{...Kqe,...t.transitionProps,...e}}const S_e=A.forwardRef(({onClick:e,transitionProps:t,style:n,visible:r,...i},s)=>{const o=_0(),a=Xqe(t);return b.jsx(bd,{mounted:r!==void 0?r:o.opened,...a,transition:"fade",children:l=>b.jsx(p_,{ref:s,fixed:!0,style:[n,l],zIndex:o.zIndex,unstyled:o.unstyled,onClick:u=>{e?.(u),o.closeOnClickOutside&&o.onClose()},...i})})});S_e.displayName="@mantine/core/ModalBaseOverlay";function Qqe(){const e=_0();return A.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const T_e=A.forwardRef(({className:e,...t},n)=>{const r=Qqe(),i=_0();return b.jsx(De,{component:"h2",ref:n,className:Lt({[m_.title]:!i.unstyled},e),...t,id:r})});T_e.displayName="@mantine/core/ModalBaseTitle";function Jqe({children:e}){return b.jsx(b.Fragment,{children:e})}const[Zqe,eWe]=w0({size:"sm"}),tWe={},k_e=tt((e,t)=>{const n=qe("InputClearButton",tWe,e),{size:r,variant:i,vars:s,classNames:o,styles:a,...l}=n,u=eWe(),{resolvedClassNames:c,resolvedStyles:d}=Bf({classNames:o,styles:a,props:n});return b.jsx(up,{variant:i||"transparent",ref:t,size:r||u?.size||"sm",classNames:c,styles:d,__staticSelector:"InputClearButton",...l})});k_e.displayName="@mantine/core/InputClearButton";const[nWe,gC]=w0({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var wd={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const ole={},rWe=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${ps(t)} - ${Ye(2)})`}}),F5=tt((e,t)=>{const n=qe("InputDescription",ole,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,size:u,__staticSelector:c,__inheritStyles:d=!0,variant:f,...h}=qe("InputDescription",ole,n),p=gC(),m=Ot({name:["InputWrapper",c],props:n,classes:wd,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"description",vars:l,varsResolver:rWe}),g=d&&p?.getStyles||m;return b.jsx(De,{component:"p",ref:t,variant:f,size:u,...g("description",p?.getStyles?{className:i,style:s}:void 0),...h})});F5.classes=wd;F5.displayName="@mantine/core/InputDescription";const iWe={},sWe=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${ps(t)} - ${Ye(2)})`}}),L5=tt((e,t)=>{const n=qe("InputError",iWe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,size:u,__staticSelector:c,__inheritStyles:d=!0,variant:f,...h}=n,p=Ot({name:["InputWrapper",c],props:n,classes:wd,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"error",vars:l,varsResolver:sWe}),m=gC(),g=d&&m?.getStyles||p;return b.jsx(De,{component:"p",ref:t,variant:f,size:u,...g("error",m?.getStyles?{className:i,style:s}:void 0),...h})});L5.classes=wd;L5.displayName="@mantine/core/InputError";const ale={labelElement:"label"},oWe=(e,{size:t})=>({label:{"--input-label-size":ps(t),"--input-asterisk-color":void 0}}),j5=tt((e,t)=>{const n=qe("InputLabel",ale,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,labelElement:u,size:c,required:d,htmlFor:f,onMouseDown:h,children:p,__staticSelector:m,variant:g,mod:y,...v}=qe("InputLabel",ale,n),w=Ot({name:["InputWrapper",m],props:n,classes:wd,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"label",vars:l,varsResolver:oWe}),_=gC(),C=_?.getStyles||w;return b.jsxs(De,{...C("label",_?.getStyles?{className:i,style:s}:void 0),component:u,variant:g,size:c,ref:t,htmlFor:u==="label"?f:void 0,mod:[{required:d},y],onMouseDown:S=>{h?.(S),!S.defaultPrevented&&S.detail>1&&S.preventDefault()},...v,children:[p,d&&b.jsx("span",{...C("required"),"aria-hidden":!0,children:" *"})]})});j5.classes=wd;j5.displayName="@mantine/core/InputLabel";const lle={},jY=tt((e,t)=>{const n=qe("InputPlaceholder",lle,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,__staticSelector:u,variant:c,error:d,mod:f,...h}=qe("InputPlaceholder",lle,n),p=Ot({name:["InputPlaceholder",u],props:n,classes:wd,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"placeholder"});return b.jsx(De,{...p("placeholder"),mod:[{error:!!d},f],component:"span",variant:c,ref:t,...h})});jY.classes=wd;jY.displayName="@mantine/core/InputPlaceholder";function aWe(e,{hasDescription:t,hasError:n}){const r=e.findIndex(l=>l==="input"),i=e.slice(0,r),s=e.slice(r+1),o=t&&i.includes("description")||n&&i.includes("error");return{offsetBottom:t&&s.includes("description")||n&&s.includes("error"),offsetTop:o}}const lWe={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},uWe=(e,{size:t})=>({label:{"--input-label-size":ps(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${ps(t)} - ${Ye(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${ps(t)} - ${Ye(2)})`}}),BY=tt((e,t)=>{const n=qe("InputWrapper",lWe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,size:u,variant:c,__staticSelector:d,inputContainer:f,inputWrapperOrder:h,label:p,error:m,description:g,labelProps:y,descriptionProps:v,errorProps:w,labelElement:_,children:C,withAsterisk:S,id:T,required:k,__stylesApiProps:I,mod:R,...P}=n,N=Ot({name:["InputWrapper",d],props:I||n,classes:wd,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:uWe}),$={size:u,variant:c,__staticSelector:d},O=Sa(T),j=typeof S=="boolean"?S:k,B=w?.id||`${O}-error`,H=v?.id||`${O}-description`,q=O,Y=!!m&&typeof m!="boolean",V=!!g,L=`${Y?B:""} ${V?H:""}`,z=L.trim().length>0?L.trim():void 0,U=y?.id||`${O}-label`,G=p&&b.jsx(j5,{labelElement:_,id:U,htmlFor:q,required:j,...$,...y,children:p},"label"),Q=V&&b.jsx(F5,{...v,...$,size:v?.size||$.size,id:v?.id||H,children:g},"description"),ne=b.jsx(A.Fragment,{children:f(C)},"input"),ue=Y&&A.createElement(L5,{...w,...$,size:w?.size||$.size,key:"error",id:w?.id||B},m),se=h.map(ae=>{switch(ae){case"label":return G;case"input":return ne;case"description":return Q;case"error":return ue;default:return null}});return b.jsx(nWe,{value:{getStyles:N,describedBy:z,inputId:q,labelId:U,...aWe(h,{hasDescription:V,hasError:Y})},children:b.jsx(De,{ref:t,variant:c,size:u,mod:[{error:!!m},R],...N("root"),...P,children:se})})});BY.classes=wd;BY.displayName="@mantine/core/InputWrapper";const cWe={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},dWe=(e,t,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":vn(t.size,"input-height"),"--input-fz":ps(t.size),"--input-radius":t.radius===void 0?void 0:Br(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?Ye(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?Ye(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?vn(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),jr=Ws((e,t)=>{const n=qe("Input",cWe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,required:l,__staticSelector:u,__stylesApiProps:c,size:d,wrapperProps:f,error:h,disabled:p,leftSection:m,leftSectionProps:g,leftSectionWidth:y,rightSection:v,rightSectionProps:w,rightSectionWidth:_,rightSectionPointerEvents:C,leftSectionPointerEvents:S,variant:T,vars:k,pointer:I,multiline:R,radius:P,id:N,withAria:$,withErrorStyles:O,mod:j,inputSize:B,__clearSection:H,__clearable:q,__defaultRightSection:Y,...V}=n,{styleProps:L,rest:z}=Eb(V),U=gC(),G={offsetBottom:U?.offsetBottom,offsetTop:U?.offsetTop},Q=Ot({name:["Input",u],props:c||n,classes:wd,className:i,style:s,classNames:r,styles:o,unstyled:a,stylesCtx:G,rootSelector:"wrapper",vars:k,varsResolver:dWe}),ne=$?{required:l,disabled:p,"aria-invalid":!!h,"aria-describedby":U?.describedBy,id:U?.inputId||N}:{},ue=v||q&&H||Y;return b.jsx(Zqe,{value:{size:d||"sm"},children:b.jsxs(De,{...Q("wrapper"),...L,...f,mod:[{error:!!h&&O,pointer:I,disabled:p,multiline:R,"data-with-right-section":!!ue,"data-with-left-section":!!m},j],variant:T,size:d,children:[m&&b.jsx("div",{...g,"data-position":"left",...Q("section",{className:g?.className,style:g?.style}),children:m}),b.jsx(De,{component:"input",...z,...ne,ref:t,required:l,mod:{disabled:p,error:!!h&&O},variant:T,__size:B,...Q("input")}),ue&&b.jsx("div",{...w,"data-position":"right",...Q("section",{className:w?.className,style:w?.style}),children:ue})]})})});jr.classes=wd;jr.Wrapper=BY;jr.Label=j5;jr.Error=L5;jr.Description=F5;jr.Placeholder=jY;jr.ClearButton=k_e;jr.displayName="@mantine/core/Input";function zY(e,t,n){const r=qe(e,t,n),{label:i,description:s,error:o,required:a,classNames:l,styles:u,className:c,unstyled:d,__staticSelector:f,__stylesApiProps:h,errorProps:p,labelProps:m,descriptionProps:g,wrapperProps:y,id:v,size:w,style:_,inputContainer:C,inputWrapperOrder:S,withAsterisk:T,variant:k,vars:I,mod:R,...P}=r,{styleProps:N,rest:$}=Eb(P),O={label:i,description:s,error:o,required:a,classNames:l,className:c,__staticSelector:f,__stylesApiProps:h||r,errorProps:p,labelProps:m,descriptionProps:g,unstyled:d,styles:u,size:w,style:_,inputContainer:C,inputWrapperOrder:S,withAsterisk:T,variant:k,id:v,mod:R,...y};return{...$,classNames:l,styles:u,unstyled:d,wrapperProps:{...O,...N},inputProps:{required:a,classNames:l,styles:u,unstyled:d,size:w,__staticSelector:f,__stylesApiProps:h||r,error:o,variant:k,id:v}}}const fWe={__staticSelector:"InputBase",withAria:!0},zl=Ws((e,t)=>{const{inputProps:n,wrapperProps:r,...i}=zY("InputBase",fWe,e);return b.jsx(jr.Wrapper,{...r,children:b.jsx(jr,{...n,...i,ref:t})})});zl.classes={...jr.classes,...jr.Wrapper.classes};zl.displayName="@mantine/core/InputBase";const hWe={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var A_e={root:"m_8bffd616"};const pWe={},At=Ws((e,t)=>{const n=qe("Flex",pWe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,gap:u,rowGap:c,columnGap:d,align:f,justify:h,wrap:p,direction:m,...g}=n,y=Ot({name:"Flex",classes:A_e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l}),v=os(),w=rA(),_=wxe({styleProps:{gap:u,rowGap:c,columnGap:d,align:f,justify:h,wrap:p,direction:m},theme:v,data:hWe});return b.jsxs(b.Fragment,{children:[_.hasResponsiveStyles&&b.jsx(Cb,{selector:`.${w}`,styles:_.styles,media:_.media}),b.jsx(De,{ref:t,...y("root",{className:w,style:Fy(_.inlineStyles)}),...g})]})});At.classes=A_e;At.displayName="@mantine/core/Flex";function mWe(e,t){if(!t||!e)return!1;let n=t.parentNode;for(;n!=null;){if(n===e)return!0;n=n.parentNode}return!1}function gWe({target:e,parent:t,ref:n,displayAfterTransitionEnd:r}){const i=A.useRef(-1),[s,o]=A.useState(!1),[a,l]=A.useState(typeof r=="boolean"?r:!1),u=()=>{if(!e||!t||!n.current)return;const h=e.getBoundingClientRect(),p=t.getBoundingClientRect(),m=window.getComputedStyle(e),g=window.getComputedStyle(t),y=Mg(m.borderTopWidth)+Mg(g.borderTopWidth),v=Mg(m.borderLeftWidth)+Mg(g.borderLeftWidth),w={top:h.top-p.top-y,left:h.left-p.left-v,width:h.width,height:h.height};n.current.style.transform=`translateY(${w.top}px) translateX(${w.left}px)`,n.current.style.width=`${w.width}px`,n.current.style.height=`${w.height}px`},c=()=>{window.clearTimeout(i.current),n.current&&(n.current.style.transitionDuration="0ms"),u(),i.current=window.setTimeout(()=>{n.current&&(n.current.style.transitionDuration="")},30)},d=A.useRef(null),f=A.useRef(null);return A.useEffect(()=>{if(u(),e)return d.current=new ResizeObserver(c),d.current.observe(e),t&&(f.current=new ResizeObserver(c),f.current.observe(t)),()=>{d.current?.disconnect(),f.current?.disconnect()}},[t,e]),A.useEffect(()=>{if(t){const h=p=>{mWe(p.target,t)&&(c(),l(!1))};return t.addEventListener("transitionend",h),()=>{t.removeEventListener("transitionend",h)}}},[t]),Zze(()=>{hxe()!=="test"&&o(!0)},20,{autoInvoke:!0}),rUe(h=>{h.forEach(p=>{p.type==="attributes"&&p.attributeName==="dir"&&c()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:s,hidden:a}}var R_e={root:"m_96b553a6"};const yWe={},vWe=(e,{transitionDuration:t})=>({root:{"--transition-duration":typeof t=="number"?`${t}ms`:t}}),UY=tt((e,t)=>{const n=qe("FloatingIndicator",yWe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,target:u,parent:c,transitionDuration:d,mod:f,displayAfterTransitionEnd:h,...p}=n,m=Ot({name:"FloatingIndicator",classes:R_e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:vWe}),g=A.useRef(null),{initialized:y,hidden:v}=gWe({target:u,parent:c,ref:g,displayAfterTransitionEnd:h}),w=ms(t,g);return!u||!c?null:b.jsx(De,{ref:w,mod:[{initialized:y,hidden:v},f],...m("root"),...p})});UY.displayName="@mantine/core/FloatingIndicator";UY.classes=R_e;const[bWe,VY]=ko("Accordion component was not found in the tree");function g_({style:e,size:t=16,...n}){return b.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:Ye(t),height:Ye(t),display:"block"},...n,children:b.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}g_.displayName="@mantine/core/AccordionChevron";const[wWe,I_e]=ko("Accordion.Item component was not found in the tree");var oA={root:"m_9bdbb667",panel:"m_df78851f",content:"m_4ba554d4",itemTitle:"m_8fa820a0",control:"m_4ba585b8","control--default":"m_6939a5e9","control--contained":"m_4271d21b",label:"m_df3ffa0f",chevron:"m_3f35ae96",icon:"m_9bd771fe",item:"m_9bd7b098","item--default":"m_fe19b709","item--contained":"m_1f921b3b","item--filled":"m_2cdf939a","item--separated":"m_9f59b069"};const xWe={},HY=tt((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,chevron:a,icon:l,onClick:u,onKeyDown:c,children:d,disabled:f,mod:h,...p}=qe("AccordionControl",xWe,e),{value:m}=I_e(),g=VY(),y=g.isItemActive(m),v=typeof g.order=="number",w=`h${g.order}`,_=b.jsxs(no,{...p,...g.getStyles("control",{className:r,classNames:n,style:i,styles:s,variant:g.variant}),unstyled:g.unstyled,mod:["accordion-control",{active:y,"chevron-position":g.chevronPosition,disabled:f},h],ref:t,onClick:C=>{u?.(C),g.onChange(m)},type:"button",disabled:f,"aria-expanded":y,"aria-controls":g.getRegionId(m),id:g.getControlId(m),onKeyDown:cY({siblingSelector:"[data-accordion-control]",parentSelector:"[data-accordion]",activateOnFocus:!1,loop:g.loop,orientation:"vertical",onKeyDown:c}),children:[b.jsx(De,{component:"span",mod:{rotate:!g.disableChevronRotation&&y,position:g.chevronPosition},...g.getStyles("chevron",{classNames:n,styles:s}),children:a||g.chevron}),b.jsx("span",{...g.getStyles("label",{classNames:n,styles:s}),children:d}),l&&b.jsx(De,{component:"span",mod:{"chevron-position":g.chevronPosition},...g.getStyles("icon",{classNames:n,styles:s}),children:l})]});return v?b.jsx(w,{...g.getStyles("itemTitle",{classNames:n,styles:s}),children:_}):_});HY.displayName="@mantine/core/AccordionControl";HY.classes=oA;const _We={},qY=tt((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,value:a,mod:l,...u}=qe("AccordionItem",_We,e),c=VY();return b.jsx(wWe,{value:{value:a},children:b.jsx(De,{ref:t,mod:[{active:c.isItemActive(a)},l],...c.getStyles("item",{className:r,classNames:n,styles:s,style:i,variant:c.variant}),...u})})});qY.displayName="@mantine/core/AccordionItem";qY.classes=oA;const CWe={},WY=tt((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,children:a,...l}=qe("AccordionPanel",CWe,e),{value:u}=I_e(),c=VY();return b.jsx(kp,{ref:t,...c.getStyles("panel",{className:r,classNames:n,style:i,styles:s}),...l,in:c.isItemActive(u),transitionDuration:c.transitionDuration??200,role:"region",id:c.getRegionId(u),"aria-labelledby":c.getControlId(u),children:b.jsx("div",{...c.getStyles("content",{classNames:n,styles:s}),children:a})})});WY.displayName="@mantine/core/AccordionPanel";WY.classes=oA;const EWe={multiple:!1,disableChevronRotation:!1,chevronPosition:"right",variant:"default",chevron:b.jsx(g_,{})},SWe=(e,{transitionDuration:t,chevronSize:n,radius:r})=>({root:{"--accordion-transition-duration":t===void 0?void 0:`${t}ms`,"--accordion-chevron-size":n===void 0?void 0:Ye(n),"--accordion-radius":r===void 0?void 0:Br(r)}});function go(e){const t=qe("Accordion",EWe,e),{classNames:n,className:r,style:i,styles:s,unstyled:o,vars:a,children:l,multiple:u,value:c,defaultValue:d,onChange:f,id:h,loop:p,transitionDuration:m,disableChevronRotation:g,chevronPosition:y,chevronSize:v,order:w,chevron:_,variant:C,radius:S,...T}=t,k=Sa(h),[I,R]=Fi({value:c,defaultValue:d,finalValue:u?[]:null,onChange:f}),P=O=>Array.isArray(I)?I.includes(O):O===I,N=O=>{const j=Array.isArray(I)?I.includes(O)?I.filter(B=>B!==O):[...I,O]:O===I?null:O;R(j)},$=Ot({name:"Accordion",classes:oA,props:t,className:r,style:i,classNames:n,styles:s,unstyled:o,vars:a,varsResolver:SWe});return b.jsx(bWe,{value:{isItemActive:P,onChange:N,getControlId:yN(`${k}-control`,"Accordion.Item component was rendered with invalid value or without value"),getRegionId:yN(`${k}-panel`,"Accordion.Item component was rendered with invalid value or without value"),transitionDuration:m,disableChevronRotation:g,chevronPosition:y,order:w,chevron:_,loop:p,getStyles:$,variant:C,unstyled:o},children:b.jsx(De,{...$("root"),id:k,...T,variant:C,"data-accordion":!0,children:l})})}const TWe=e=>e;go.extend=TWe;go.withProps=Sxe(go);go.classes=oA;go.displayName="@mantine/core/Accordion";go.Item=qY;go.Panel=WY;go.Control=HY;go.Chevron=g_;var D_e={root:"m_7f854edf"};const kWe={position:{bottom:0,right:0},zIndex:Au("modal"),withinPortal:!0},AWe=(e,{zIndex:t,position:n})=>({root:{"--affix-z-index":t?.toString(),"--affix-top":Mi(n?.top),"--affix-left":Mi(n?.left),"--affix-bottom":Mi(n?.bottom),"--affix-right":Mi(n?.right)}}),GY=tt((e,t)=>{const n=qe("Affix",kWe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,portalProps:u,zIndex:c,withinPortal:d,position:f,...h}=n,p=Ot({name:"Affix",classes:D_e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:AWe});return b.jsx(By,{...u,withinPortal:d,children:b.jsx(De,{ref:t,...p("root"),...h})})});GY.classes=D_e;GY.displayName="@mantine/core/Affix";var P_e={root:"m_66836ed3",wrapper:"m_a5d60502",body:"m_667c2793",title:"m_6a03f287",label:"m_698f4f23",icon:"m_667f2a6a",message:"m_7fa78076",closeButton:"m_87f54839"};const RWe={},IWe=(e,{radius:t,color:n,variant:r,autoContrast:i})=>{const s=e.variantColorResolver({color:n||e.primaryColor,theme:e,variant:r||"light",autoContrast:i});return{root:{"--alert-radius":t===void 0?void 0:Br(t),"--alert-bg":n||r?s.background:void 0,"--alert-color":s.color,"--alert-bd":n||r?s.border:void 0}}},Qc=tt((e,t)=>{const n=qe("Alert",RWe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,radius:u,color:c,title:d,children:f,id:h,icon:p,withCloseButton:m,onClose:g,closeButtonLabel:y,variant:v,autoContrast:w,..._}=n,C=Ot({name:"Alert",classes:P_e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:IWe}),S=Sa(h),T=d&&`${S}-title`||void 0,k=`${S}-body`;return b.jsx(De,{id:S,...C("root",{variant:v}),variant:v,ref:t,..._,role:"alert","aria-describedby":k,"aria-labelledby":T,children:b.jsxs("div",{...C("wrapper"),children:[p&&b.jsx("div",{...C("icon"),children:p}),b.jsxs("div",{...C("body"),children:[d&&b.jsx("div",{...C("title"),"data-with-close-button":m||void 0,children:b.jsx("span",{id:T,...C("label"),children:d})}),f&&b.jsx("div",{id:k,...C("message"),"data-variant":v,children:f})]}),m&&b.jsx(up,{...C("closeButton"),onClick:g,variant:"transparent",size:16,iconSize:16,"aria-label":y,unstyled:a})]})})});Qc.classes=P_e;Qc.displayName="@mantine/core/Alert";var O_e={root:"m_b6d8b162"};function DWe(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const PWe={inherit:!1},OWe=(e,{variant:t,lineClamp:n,gradient:r,size:i,color:s})=>({root:{"--text-fz":ps(i),"--text-lh":rxe(i),"--text-gradient":t==="gradient"?fV(r,e):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":s?Xr(s,e):void 0}}),He=Ws((e,t)=>{const n=qe("Text",PWe,e),{lineClamp:r,truncate:i,inline:s,inherit:o,gradient:a,span:l,__staticSelector:u,vars:c,className:d,style:f,classNames:h,styles:p,unstyled:m,variant:g,mod:y,size:v,...w}=n,_=Ot({name:["Text",u],props:n,classes:O_e,className:d,style:f,classNames:h,styles:p,unstyled:m,vars:c,varsResolver:OWe});return b.jsx(De,{..._("root",{focusable:!0}),ref:t,component:l?"span":"p",variant:g,mod:[{"data-truncate":DWe(i),"data-line-clamp":typeof r=="number","data-inline":s,"data-inherit":o},y],size:v,...w})});He.classes=O_e;He.displayName="@mantine/core/Text";var N_e={root:"m_849cf0da"};const NWe={underline:"hover"},Sb=Ws((e,t)=>{const{underline:n,className:r,unstyled:i,mod:s,...o}=qe("Anchor",NWe,e);return b.jsx(He,{component:"a",ref:t,className:Lt({[N_e.root]:!i},r),...o,mod:[{underline:n},s],__staticSelector:"Anchor",unstyled:i})});Sb.classes=N_e;Sb.displayName="@mantine/core/Anchor";const[$We,yC]=ko("AppShell was not found in tree");var zy={root:"m_89ab340",navbar:"m_45252eee",aside:"m_9cdde9a",header:"m_3b16f56b",main:"m_8983817",footer:"m_3840c879",section:"m_6dcfc7c7"};const MWe={},YY=tt((e,t)=>{const n=qe("AppShellAside",MWe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...f}=n,h=yC();return h.disabled?null:b.jsx(De,{component:"aside",ref:t,mod:[{"with-border":u??h.withBorder},d],...h.getStyles("aside",{className:i,classNames:r,styles:o,style:s}),...f,__vars:{"--app-shell-aside-z-index":`calc(${c??h.zIndex} + 1)`}})});YY.classes=zy;YY.displayName="@mantine/core/AppShellAside";const FWe={},KY=tt((e,t)=>{const n=qe("AppShellFooter",FWe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...f}=n,h=yC();return h.disabled?null:b.jsx(De,{component:"footer",ref:t,mod:[{"with-border":u??h.withBorder},d],...h.getStyles("footer",{className:Lt({[d_.classNames.zeroRight]:h.offsetScrollbars},i),classNames:r,styles:o,style:s}),...f,__vars:{"--app-shell-footer-z-index":(c??h.zIndex)?.toString()}})});KY.classes=zy;KY.displayName="@mantine/core/AppShellFooter";const LWe={},XY=tt((e,t)=>{const n=qe("AppShellHeader",LWe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...f}=n,h=yC();return h.disabled?null:b.jsx(De,{component:"header",ref:t,mod:[{"with-border":u??h.withBorder},d],...h.getStyles("header",{className:Lt({[d_.classNames.zeroRight]:h.offsetScrollbars},i),classNames:r,styles:o,style:s}),...f,__vars:{"--app-shell-header-z-index":(c??h.zIndex)?.toString()}})});XY.classes=zy;XY.displayName="@mantine/core/AppShellHeader";const jWe={},QY=tt((e,t)=>{const n=qe("AppShellMain",jWe,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=yC();return b.jsx(De,{component:"main",ref:t,...u.getStyles("main",{className:i,style:s,classNames:r,styles:o}),...l})});QY.classes=zy;QY.displayName="@mantine/core/AppShellMain";function aA(e){return typeof e=="object"?e.base:e}function lA(e){const t=typeof e=="object"&&e!==null&&typeof e.base<"u"&&Object.keys(e).length===1;return typeof e=="number"||typeof e=="string"||t}function uA(e){return!(typeof e!="object"||e===null||Object.keys(e).length===1&&"base"in e)}function BWe({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,aside:r,theme:i}){const s=r?.width,o="translateX(var(--app-shell-aside-width))",a="translateX(calc(var(--app-shell-aside-width) * -1))";if(r?.breakpoint&&!r?.collapsed?.mobile&&(n[r?.breakpoint]=n[r?.breakpoint]||{},n[r?.breakpoint]["--app-shell-aside-width"]="100%",n[r?.breakpoint]["--app-shell-aside-offset"]="0px"),lA(s)){const l=Ye(aA(s));e["--app-shell-aside-width"]=l,e["--app-shell-aside-offset"]=l}if(uA(s)&&(typeof s.base<"u"&&(e["--app-shell-aside-width"]=Ye(s.base),e["--app-shell-aside-offset"]=Ye(s.base)),Ai(s).forEach(l=>{l!=="base"&&(t[l]=t[l]||{},t[l]["--app-shell-aside-width"]=Ye(s[l]),t[l]["--app-shell-aside-offset"]=Ye(s[l]))})),r?.collapsed?.desktop){const l=r.breakpoint;t[l]=t[l]||{},t[l]["--app-shell-aside-transform"]=o,t[l]["--app-shell-aside-transform-rtl"]=a,t[l]["--app-shell-aside-offset"]="0px !important"}if(r?.collapsed?.mobile){const l=fY(r.breakpoint,i.breakpoints)-.1;n[l]=n[l]||{},n[l]["--app-shell-aside-width"]="100%",n[l]["--app-shell-aside-offset"]="0px",n[l]["--app-shell-aside-transform"]=o,n[l]["--app-shell-aside-transform-rtl"]=a}}function zWe({baseStyles:e,minMediaStyles:t,footer:n}){const r=n?.height,i="translateY(var(--app-shell-footer-height))",s=n?.offset??!0;if(lA(r)){const o=Ye(aA(r));e["--app-shell-footer-height"]=o,s&&(e["--app-shell-footer-offset"]=o)}uA(r)&&(typeof r.base<"u"&&(e["--app-shell-footer-height"]=Ye(r.base),s&&(e["--app-shell-footer-offset"]=Ye(r.base))),Ai(r).forEach(o=>{o!=="base"&&(t[o]=t[o]||{},t[o]["--app-shell-footer-height"]=Ye(r[o]),s&&(t[o]["--app-shell-footer-offset"]=Ye(r[o])))})),n?.collapsed&&(e["--app-shell-footer-transform"]=i,e["--app-shell-footer-offset"]="0px !important")}function UWe({baseStyles:e,minMediaStyles:t,header:n}){const r=n?.height,i="translateY(calc(var(--app-shell-header-height) * -1))",s=n?.offset??!0;if(lA(r)){const o=Ye(aA(r));e["--app-shell-header-height"]=o,s&&(e["--app-shell-header-offset"]=o)}uA(r)&&(typeof r.base<"u"&&(e["--app-shell-header-height"]=Ye(r.base),s&&(e["--app-shell-header-offset"]=Ye(r.base))),Ai(r).forEach(o=>{o!=="base"&&(t[o]=t[o]||{},t[o]["--app-shell-header-height"]=Ye(r[o]),s&&(t[o]["--app-shell-header-offset"]=Ye(r[o])))})),n?.collapsed&&(e["--app-shell-header-transform"]=i,e["--app-shell-header-offset"]="0px !important")}function VWe({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,navbar:r,theme:i}){const s=r?.width,o="translateX(calc(var(--app-shell-navbar-width) * -1))",a="translateX(var(--app-shell-navbar-width))";if(r?.breakpoint&&!r?.collapsed?.mobile&&(n[r?.breakpoint]=n[r?.breakpoint]||{},n[r?.breakpoint]["--app-shell-navbar-width"]="100%",n[r?.breakpoint]["--app-shell-navbar-offset"]="0px"),lA(s)){const l=Ye(aA(s));e["--app-shell-navbar-width"]=l,e["--app-shell-navbar-offset"]=l}if(uA(s)&&(typeof s.base<"u"&&(e["--app-shell-navbar-width"]=Ye(s.base),e["--app-shell-navbar-offset"]=Ye(s.base)),Ai(s).forEach(l=>{l!=="base"&&(t[l]=t[l]||{},t[l]["--app-shell-navbar-width"]=Ye(s[l]),t[l]["--app-shell-navbar-offset"]=Ye(s[l]))})),r?.collapsed?.desktop){const l=r.breakpoint;t[l]=t[l]||{},t[l]["--app-shell-navbar-transform"]=o,t[l]["--app-shell-navbar-transform-rtl"]=a,t[l]["--app-shell-navbar-offset"]="0px !important"}if(r?.collapsed?.mobile){const l=fY(r.breakpoint,i.breakpoints)-.1;n[l]=n[l]||{},n[l]["--app-shell-navbar-width"]="100%",n[l]["--app-shell-navbar-offset"]="0px",n[l]["--app-shell-navbar-transform"]=o,n[l]["--app-shell-navbar-transform-rtl"]=a}}function e9(e){return Number(e)===0?"0px":Mi(e)}function HWe({padding:e,baseStyles:t,minMediaStyles:n}){lA(e)&&(t["--app-shell-padding"]=e9(aA(e))),uA(e)&&(e.base&&(t["--app-shell-padding"]=e9(e.base)),Ai(e).forEach(r=>{r!=="base"&&(n[r]=n[r]||{},n[r]["--app-shell-padding"]=e9(e[r]))}))}function qWe({navbar:e,header:t,footer:n,aside:r,padding:i,theme:s}){const o={},a={},l={};VWe({baseStyles:l,minMediaStyles:o,maxMediaStyles:a,navbar:e,theme:s}),BWe({baseStyles:l,minMediaStyles:o,maxMediaStyles:a,aside:r,theme:s}),UWe({baseStyles:l,minMediaStyles:o,header:t}),zWe({baseStyles:l,minMediaStyles:o,footer:n}),HWe({baseStyles:l,minMediaStyles:o,padding:i});const u=OT(Ai(o),s.breakpoints).map(f=>({query:`(min-width: ${gN(f.px)})`,styles:o[f.value]})),c=OT(Ai(a),s.breakpoints).map(f=>({query:`(max-width: ${gN(f.px)})`,styles:a[f.value]})),d=[...u,...c];return{baseStyles:l,media:d}}function WWe({navbar:e,header:t,aside:n,footer:r,padding:i}){const s=os(),o=x0(),{media:a,baseStyles:l}=qWe({navbar:e,header:t,footer:r,aside:n,padding:i,theme:s});return b.jsx(Cb,{media:a,styles:l,selector:o.cssVariablesSelector})}const GWe={},JY=tt((e,t)=>{const n=qe("AppShellNavbar",GWe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...f}=n,h=yC();return h.disabled?null:b.jsx(De,{component:"nav",ref:t,mod:[{"with-border":u??h.withBorder},d],...h.getStyles("navbar",{className:i,classNames:r,styles:o,style:s}),...f,__vars:{"--app-shell-navbar-z-index":`calc(${c??h.zIndex} + 1)`}})});JY.classes=zy;JY.displayName="@mantine/core/AppShellNavbar";const YWe={},ZY=Ws((e,t)=>{const n=qe("AppShellSection",YWe,e),{classNames:r,className:i,style:s,styles:o,vars:a,grow:l,mod:u,...c}=n,d=yC();return b.jsx(De,{ref:t,mod:[{grow:l},u],...d.getStyles("section",{className:i,style:s,classNames:r,styles:o}),...c})});ZY.classes=zy;ZY.displayName="@mantine/core/AppShellSection";function KWe({transitionDuration:e,disabled:t}){const[n,r]=A.useState(!0),i=A.useRef(-1),s=A.useRef(-1);return cxe("resize",()=>{r(!0),clearTimeout(i.current),i.current=window.setTimeout(()=>A.startTransition(()=>{r(!1)}),200)}),Ly(()=>{r(!0),clearTimeout(s.current),s.current=window.setTimeout(()=>A.startTransition(()=>{r(!1)}),e||0)},[t,e]),n}const XWe={withBorder:!0,padding:0,transitionDuration:200,transitionTimingFunction:"ease",zIndex:Au("app")},QWe=(e,{transitionDuration:t,transitionTimingFunction:n})=>({root:{"--app-shell-transition-duration":`${t}ms`,"--app-shell-transition-timing-function":n}}),es=tt((e,t)=>{const n=qe("AppShell",XWe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,navbar:u,withBorder:c,padding:d,transitionDuration:f,transitionTimingFunction:h,header:p,zIndex:m,layout:g,disabled:y,aside:v,footer:w,offsetScrollbars:_=g!=="alt",mod:C,...S}=n,T=Ot({name:"AppShell",classes:zy,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:QWe}),k=KWe({disabled:y,transitionDuration:f});return b.jsxs($We,{value:{getStyles:T,withBorder:c,zIndex:m,disabled:y,offsetScrollbars:_},children:[b.jsx(WWe,{navbar:u,header:p,aside:v,footer:w,padding:d}),b.jsx(De,{ref:t,...T("root"),mod:[{resizing:k,layout:g,disabled:y},C],...S})]})});es.classes=zy;es.displayName="@mantine/core/AppShell";es.Navbar=JY;es.Header=XY;es.Main=QY;es.Aside=YY;es.Footer=KY;es.Section=ZY;function $_e(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>$_e(t))}:e}function eK(e){return e?e.map(t=>$_e(t)):[]}function B5(e){return e.reduce((t,n)=>"group"in n?{...t,...B5(n.items)}:(t[n.value]=n,t),{})}var bu={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const JWe={error:null},ZWe=(e,{size:t,color:n})=>({chevron:{"--combobox-chevron-size":vn(t,"combobox-chevron-size"),"--combobox-chevron-color":n?Xr(n,e):void 0}}),tK=tt((e,t)=>{const n=qe("ComboboxChevron",JWe,e),{size:r,error:i,style:s,className:o,classNames:a,styles:l,unstyled:u,vars:c,mod:d,...f}=n,h=Ot({name:"ComboboxChevron",classes:bu,props:n,style:s,className:o,classNames:a,styles:l,unstyled:u,vars:c,varsResolver:ZWe,rootSelector:"chevron"});return b.jsx(De,{component:"svg",...f,...h("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:i},d],ref:t,children:b.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});tK.classes=bu;tK.displayName="@mantine/core/ComboboxChevron";const[eGe,xd]=ko("Combobox component was not found in tree"),M_e=A.forwardRef(({size:e,onMouseDown:t,onClick:n,onClear:r,...i},s)=>b.jsx(jr.ClearButton,{ref:s,tabIndex:-1,"aria-hidden":!0,...i,onMouseDown:o=>{o.preventDefault(),t?.(o)},onClick:o=>{r(),n?.(o)}}));M_e.displayName="@mantine/core/ComboboxClearButton";const tGe={},nK=tt((e,t)=>{const{classNames:n,styles:r,className:i,style:s,hidden:o,...a}=qe("ComboboxDropdown",tGe,e),l=xd();return b.jsx(kr.Dropdown,{...a,ref:t,role:"presentation","data-hidden":o||void 0,...l.getStyles("dropdown",{className:i,style:s,classNames:n,styles:r})})});nK.classes=bu;nK.displayName="@mantine/core/ComboboxDropdown";const nGe={refProp:"ref"},F_e=tt((e,t)=>{const{children:n,refProp:r}=qe("ComboboxDropdownTarget",nGe,e);if(xd(),!b0(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return b.jsx(kr.Target,{ref:t,refProp:r,children:n})});F_e.displayName="@mantine/core/ComboboxDropdownTarget";const rGe={},rK=tt((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=qe("ComboboxEmpty",rGe,e),l=xd();return b.jsx(De,{ref:t,...l.getStyles("empty",{className:r,classNames:n,styles:s,style:i}),...a})});rK.classes=bu;rK.displayName="@mantine/core/ComboboxEmpty";function iK({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:n,withExpandedAttribute:r,targetType:i,autoComplete:s}){const o=xd(),[a,l]=A.useState(null),u=d=>{if(e?.(d),!o.readOnly&&t){if(d.nativeEvent.isComposing)return;if(d.nativeEvent.code==="ArrowDown"&&(d.preventDefault(),o.store.dropdownOpened?l(o.store.selectNextOption()):(o.store.openDropdown("keyboard"),l(o.store.selectActiveOption()),o.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),d.nativeEvent.code==="ArrowUp"&&(d.preventDefault(),o.store.dropdownOpened?l(o.store.selectPreviousOption()):(o.store.openDropdown("keyboard"),l(o.store.selectActiveOption()),o.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),d.nativeEvent.code==="Enter"||d.nativeEvent.code==="NumpadEnter"){if(d.nativeEvent.keyCode===229)return;const f=o.store.getSelectedOptionIndex();o.store.dropdownOpened&&f!==-1?(d.preventDefault(),o.store.clickSelectedOption()):i==="button"&&(d.preventDefault(),o.store.openDropdown("keyboard"))}d.key==="Escape"&&o.store.closeDropdown("keyboard"),d.nativeEvent.code==="Space"&&i==="button"&&(d.preventDefault(),o.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":r&&!!(o.store.listId&&o.store.dropdownOpened)||void 0,"aria-controls":o.store.dropdownOpened?o.store.listId:void 0,"aria-activedescendant":o.store.dropdownOpened&&a||void 0,autoComplete:s,"data-expanded":o.store.dropdownOpened||void 0,"data-mantine-stop-propagation":o.store.dropdownOpened||void 0}:{},onKeyDown:u}}const iGe={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},L_e=tt((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:s,withExpandedAttribute:o,targetType:a,autoComplete:l,...u}=qe("ComboboxEventsTarget",iGe,e);if(!b0(n))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=xd(),d=iK({targetType:a,withAriaAttributes:s,withKeyboardNavigation:i,withExpandedAttribute:o,onKeyDown:n.props.onKeyDown,autoComplete:l});return A.cloneElement(n,{...d,...u,[r]:ms(t,c.store.targetRef,T5(n))})});L_e.displayName="@mantine/core/ComboboxEventsTarget";const sGe={},sK=tt((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=qe("ComboboxFooter",sGe,e),l=xd();return b.jsx(De,{ref:t,...l.getStyles("footer",{className:r,classNames:n,style:i,styles:s}),...a,onMouseDown:u=>{u.preventDefault()}})});sK.classes=bu;sK.displayName="@mantine/core/ComboboxFooter";const oGe={},oK=tt((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,children:a,label:l,...u}=qe("ComboboxGroup",oGe,e),c=xd();return b.jsxs(De,{ref:t,...c.getStyles("group",{className:r,classNames:n,style:i,styles:s}),...u,children:[l&&b.jsx("div",{...c.getStyles("groupLabel",{classNames:n,styles:s}),children:l}),a]})});oK.classes=bu;oK.displayName="@mantine/core/ComboboxGroup";const aGe={},aK=tt((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=qe("ComboboxHeader",aGe,e),l=xd();return b.jsx(De,{ref:t,...l.getStyles("header",{className:r,classNames:n,style:i,styles:s}),...a,onMouseDown:u=>{u.preventDefault()}})});aK.classes=bu;aK.displayName="@mantine/core/ComboboxHeader";function j_e({value:e,valuesDivider:t=",",...n}){return b.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...n})}j_e.displayName="@mantine/core/ComboboxHiddenInput";const lGe={},lK=tt((e,t)=>{const n=qe("ComboboxOption",lGe,e),{classNames:r,className:i,style:s,styles:o,vars:a,onClick:l,id:u,active:c,onMouseDown:d,onMouseOver:f,disabled:h,selected:p,mod:m,...g}=n,y=xd(),v=A.useId(),w=u||v;return b.jsx(De,{...y.getStyles("option",{className:i,classNames:r,styles:o,style:s}),...g,ref:t,id:w,mod:["combobox-option",{"combobox-active":c,"combobox-disabled":h,"combobox-selected":p},m],role:"option",onClick:_=>{h?_.preventDefault():(y.onOptionSubmit?.(n.value,n),l?.(_))},onMouseDown:_=>{_.preventDefault(),d?.(_)},onMouseOver:_=>{y.resetSelectionOnOptionHover&&y.store.resetSelectedOption(),f?.(_)}})});lK.classes=bu;lK.displayName="@mantine/core/ComboboxOption";const uGe={},uK=tt((e,t)=>{const n=qe("ComboboxOptions",uGe,e),{classNames:r,className:i,style:s,styles:o,id:a,onMouseDown:l,labelledBy:u,...c}=n,d=xd(),f=Sa(a);return A.useEffect(()=>{d.store.setListId(f)},[f]),b.jsx(De,{ref:t,...d.getStyles("options",{className:i,style:s,classNames:r,styles:o}),...c,id:f,role:"listbox","aria-labelledby":u,onMouseDown:h=>{h.preventDefault(),l?.(h)}})});uK.classes=bu;uK.displayName="@mantine/core/ComboboxOptions";const cGe={withAriaAttributes:!0,withKeyboardNavigation:!0},cK=tt((e,t)=>{const n=qe("ComboboxSearch",cGe,e),{classNames:r,styles:i,unstyled:s,vars:o,withAriaAttributes:a,onKeyDown:l,withKeyboardNavigation:u,size:c,...d}=n,f=xd(),h=f.getStyles("search"),p=iK({targetType:"input",withAriaAttributes:a,withKeyboardNavigation:u,withExpandedAttribute:!1,onKeyDown:l,autoComplete:"off"});return b.jsx(jr,{ref:ms(t,f.store.searchRef),classNames:[{input:h.className},r],styles:[{input:h.style},i],size:c||f.size,...p,...d,__staticSelector:"Combobox"})});cK.classes=bu;cK.displayName="@mantine/core/ComboboxSearch";const dGe={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},B_e=tt((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:s,withExpandedAttribute:o,targetType:a,autoComplete:l,...u}=qe("ComboboxTarget",dGe,e);if(!b0(n))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=xd(),d=iK({targetType:a,withAriaAttributes:s,withKeyboardNavigation:i,withExpandedAttribute:o,onKeyDown:n.props.onKeyDown,autoComplete:l}),f=A.cloneElement(n,{...d,...u});return b.jsx(kr.Target,{ref:ms(t,c.store.targetRef),children:f})});B_e.displayName="@mantine/core/ComboboxTarget";function fGe(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function hGe(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function pGe(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function cA({defaultOpened:e,opened:t,onOpenedChange:n,onDropdownClose:r,onDropdownOpen:i,loop:s=!0,scrollBehavior:o="instant"}={}){const[a,l]=Fi({value:t,defaultValue:e,finalValue:!1,onChange:n}),u=A.useRef(null),c=A.useRef(-1),d=A.useRef(null),f=A.useRef(null),h=A.useRef(-1),p=A.useRef(-1),m=A.useRef(-1),g=A.useCallback((B="unknown")=>{a||(l(!0),i?.(B))},[l,i,a]),y=A.useCallback((B="unknown")=>{a&&(l(!1),r?.(B))},[l,r,a]),v=A.useCallback((B="unknown")=>{a?y(B):g(B)},[y,g,a]),w=A.useCallback(()=>{const B=document.querySelector(`#${u.current} [data-combobox-selected]`);B?.removeAttribute("data-combobox-selected"),B?.removeAttribute("aria-selected")},[]),_=A.useCallback(B=>{const q=document.getElementById(u.current)?.querySelectorAll("[data-combobox-option]");if(!q)return null;const Y=B>=q.length?0:B<0?q.length-1:B;return c.current=Y,q?.[Y]&&!q[Y].hasAttribute("data-combobox-disabled")?(w(),q[Y].setAttribute("data-combobox-selected","true"),q[Y].setAttribute("aria-selected","true"),q[Y].scrollIntoView({block:"nearest",behavior:o}),q[Y].id):null},[o,w]),C=A.useCallback(()=>{const B=document.querySelector(`#${u.current} [data-combobox-active]`);if(B){const H=document.querySelectorAll(`#${u.current} [data-combobox-option]`),q=Array.from(H).findIndex(Y=>Y===B);return _(q)}return _(0)},[_]),S=A.useCallback(()=>_(hGe(c.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),s)),[_,s]),T=A.useCallback(()=>_(fGe(c.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),s)),[_,s]),k=A.useCallback(()=>_(pGe(document.querySelectorAll(`#${u.current} [data-combobox-option]`))),[_]),I=A.useCallback((B="selected",H)=>{m.current=window.setTimeout(()=>{const q=document.querySelectorAll(`#${u.current} [data-combobox-option]`),Y=Array.from(q).findIndex(V=>V.hasAttribute(`data-combobox-${B}`));c.current=Y,H?.scrollIntoView&&q[Y]?.scrollIntoView({block:"nearest",behavior:o})},0)},[]),R=A.useCallback(()=>{c.current=-1,w()},[w]),P=A.useCallback(()=>{document.querySelectorAll(`#${u.current} [data-combobox-option]`)?.[c.current]?.click()},[]),N=A.useCallback(B=>{u.current=B},[]),$=A.useCallback(()=>{h.current=window.setTimeout(()=>d.current.focus(),0)},[]),O=A.useCallback(()=>{p.current=window.setTimeout(()=>f.current.focus(),0)},[]),j=A.useCallback(()=>c.current,[]);return A.useEffect(()=>()=>{window.clearTimeout(h.current),window.clearTimeout(p.current),window.clearTimeout(m.current)},[]),{dropdownOpened:a,openDropdown:g,closeDropdown:y,toggleDropdown:v,selectedOptionIndex:c.current,getSelectedOptionIndex:j,selectOption:_,selectFirstOption:k,selectActiveOption:C,selectNextOption:S,selectPreviousOption:T,resetSelectedOption:R,updateSelectedOptionIndex:I,listId:u.current,setListId:N,clickSelectedOption:P,searchRef:d,focusSearchInput:$,targetRef:f,focusTarget:O}}const mGe={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},gGe=(e,{size:t,dropdownPadding:n})=>({options:{"--combobox-option-fz":ps(t),"--combobox-option-padding":vn(t,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:Ye(n),"--combobox-option-fz":ps(t),"--combobox-option-padding":vn(t,"combobox-option-padding")}});function Wn(e){const t=qe("Combobox",mGe,e),{classNames:n,styles:r,unstyled:i,children:s,store:o,vars:a,onOptionSubmit:l,onClose:u,size:c,dropdownPadding:d,resetSelectionOnOptionHover:f,__staticSelector:h,readOnly:p,...m}=t,g=cA(),y=o||g,v=Ot({name:h||"Combobox",classes:bu,props:t,classNames:n,styles:r,unstyled:i,vars:a,varsResolver:gGe}),w=()=>{u?.(),y.closeDropdown()};return b.jsx(eGe,{value:{getStyles:v,store:y,onOptionSubmit:l,size:c,resetSelectionOnOptionHover:f,readOnly:p},children:b.jsx(kr,{opened:y.dropdownOpened,...m,onChange:_=>!_&&w(),withRoles:!1,unstyled:i,children:s})})}const yGe=e=>e;Wn.extend=yGe;Wn.classes=bu;Wn.displayName="@mantine/core/Combobox";Wn.Target=B_e;Wn.Dropdown=nK;Wn.Options=uK;Wn.Option=lK;Wn.Search=cK;Wn.Empty=rK;Wn.Chevron=tK;Wn.Footer=sK;Wn.Header=aK;Wn.EventsTarget=L_e;Wn.DropdownTarget=F_e;Wn.Group=oK;Wn.ClearButton=M_e;Wn.HiddenInput=j_e;var z_e={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const U_e=z_e,z5=A.forwardRef(({__staticSelector:e,__stylesApiProps:t,className:n,classNames:r,styles:i,unstyled:s,children:o,label:a,description:l,id:u,disabled:c,error:d,size:f,labelPosition:h="left",bodyElement:p="div",labelElement:m="label",variant:g,style:y,vars:v,mod:w,..._},C)=>{const S=Ot({name:e,props:t,className:n,style:y,classes:z_e,classNames:r,styles:i,unstyled:s});return b.jsx(De,{...S("root"),ref:C,__vars:{"--label-fz":ps(f),"--label-lh":vn(f,"label-lh")},mod:[{"label-position":h},w],variant:g,size:f,..._,children:b.jsxs(De,{component:p,htmlFor:p==="label"?u:void 0,...S("body"),children:[o,b.jsxs("div",{...S("labelWrapper"),"data-disabled":c||void 0,children:[a&&b.jsx(De,{component:m,htmlFor:m==="label"?u:void 0,...S("label"),"data-disabled":c||void 0,children:a}),l&&b.jsx(jr.Description,{size:f,__inheritStyles:!1,...S("description"),children:l}),d&&typeof d!="boolean"&&b.jsx(jr.Error,{size:f,__inheritStyles:!1,...S("error"),children:d})]})]})})});z5.displayName="@mantine/core/InlineInput";const V_e=A.createContext(null),vGe=V_e.Provider,H_e=()=>A.useContext(V_e),[bGe,wGe]=w0();var q_e={card:"m_26775b0a"};const xGe={withBorder:!0},_Ge=(e,{radius:t})=>({card:{"--card-radius":Br(t)}}),dK=tt((e,t)=>{const n=qe("CheckboxCard",xGe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,checked:u,mod:c,withBorder:d,value:f,onClick:h,defaultChecked:p,onChange:m,...g}=n,y=Ot({name:"CheckboxCard",classes:q_e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:_Ge,rootSelector:"card"}),v=H_e(),w=typeof u=="boolean"?u:v?v.value.includes(f||""):void 0,[_,C]=Fi({value:w,defaultValue:p,finalValue:!1,onChange:m});return b.jsx(bGe,{value:{checked:_},children:b.jsx(no,{ref:t,mod:[{"with-border":d,checked:_},c],...y("card"),...g,role:"checkbox","aria-checked":_,onClick:S=>{h?.(S),v?.onChange(f||""),C(!_)}})})});dK.displayName="@mantine/core/CheckboxCard";dK.classes=q_e;function fK({children:e,role:t}){const n=gC();return n?b.jsx("div",{role:t,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy,children:e}):b.jsx(b.Fragment,{children:e})}const CGe={},hK=tt((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:s,wrapperProps:o,children:a,readOnly:l,...u}=qe("CheckboxGroup",CGe,e),[c,d]=Fi({value:n,defaultValue:r,finalValue:[],onChange:i}),f=h=>{const p=typeof h=="string"?h:h.currentTarget.value;!l&&d(c.includes(p)?c.filter(m=>m!==p):[...c,p])};return b.jsx(vGe,{value:{value:c,onChange:f,size:s},children:b.jsx(jr.Wrapper,{size:s,ref:t,...o,...u,labelElement:"div",__staticSelector:"CheckboxGroup",children:b.jsx(fK,{role:"group",children:a})})})});hK.classes=jr.Wrapper.classes;hK.displayName="@mantine/core/CheckboxGroup";function pK({size:e,style:t,...n}){const r=e!==void 0?{width:Ye(e),height:Ye(e),...t}:t;return b.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n,children:b.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function W_e({indeterminate:e,...t}){return e?b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...t,children:b.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):b.jsx(pK,{...t})}var G_e={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const EGe={icon:W_e},SGe=(e,{radius:t,color:n,size:r,iconColor:i,variant:s,autoContrast:o})=>{const a=jf({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--checkbox-size":vn(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:Br(t),"--checkbox-color":s==="outline"?l:Xr(n,e),"--checkbox-icon-color":i?Xr(i,e):jy(o,e)?Tp({color:n,theme:e,autoContrast:o}):void 0}}},mK=tt((e,t)=>{const n=qe("CheckboxIndicator",EGe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,icon:u,indeterminate:c,radius:d,color:f,iconColor:h,autoContrast:p,checked:m,mod:g,variant:y,disabled:v,...w}=n,_=u,C=Ot({name:"CheckboxIndicator",classes:G_e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:SGe,rootSelector:"indicator"}),S=wGe(),T=typeof m=="boolean"||typeof c=="boolean"?m||c:S?.checked||!1;return b.jsx(De,{ref:t,...C("indicator",{variant:y}),variant:y,mod:[{checked:T,disabled:v},g],...w,children:b.jsx(_,{indeterminate:c,...C("icon")})})});mK.displayName="@mantine/core/CheckboxIndicator";mK.classes=G_e;var Y_e={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const TGe={labelPosition:"right",icon:W_e},kGe=(e,{radius:t,color:n,size:r,iconColor:i,variant:s,autoContrast:o})=>{const a=jf({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--checkbox-size":vn(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:Br(t),"--checkbox-color":s==="outline"?l:Xr(n,e),"--checkbox-icon-color":i?Xr(i,e):jy(o,e)?Tp({color:n,theme:e,autoContrast:o}):void 0}}},Ka=tt((e,t)=>{const n=qe("Checkbox",TGe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,color:u,label:c,id:d,size:f,radius:h,wrapperProps:p,checked:m,labelPosition:g,description:y,error:v,disabled:w,variant:_,indeterminate:C,icon:S,rootRef:T,iconColor:k,onChange:I,autoContrast:R,mod:P,...N}=n,$=H_e(),O=f||$?.size,j=S,B=Ot({name:"Checkbox",props:n,classes:Y_e,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:kGe}),{styleProps:H,rest:q}=Eb(N),Y=Sa(d),V=$?{checked:$.value.includes(q.value),onChange:U=>{$.onChange(U),I?.(U)}}:{},L=A.useRef(null),z=t||L;return A.useEffect(()=>{z&&"current"in z&&z.current&&(z.current.indeterminate=C||!1)},[C,z]),b.jsx(z5,{...B("root"),__staticSelector:"Checkbox",__stylesApiProps:n,id:Y,size:O,labelPosition:g,label:c,description:y,error:v,disabled:w,classNames:r,styles:o,unstyled:a,"data-checked":V.checked||m||void 0,variant:_,ref:T,mod:P,...H,...p,children:b.jsxs(De,{...B("inner"),mod:{"data-label-position":g},children:[b.jsx(De,{component:"input",id:Y,ref:z,checked:m,disabled:w,mod:{error:!!v,indeterminate:C},...B("input",{focusable:!0,variant:_}),onChange:I,...q,...V,type:"checkbox"}),b.jsx(j,{indeterminate:C,...B("icon")})]})})});Ka.classes={...Y_e,...U_e};Ka.displayName="@mantine/core/Checkbox";Ka.Group=hK;Ka.Indicator=mK;Ka.Card=dK;function y_(e){return"group"in e}function K_e({options:e,search:t,limit:n}){const r=t.trim().toLowerCase(),i=[];for(let s=0;s<e.length;s+=1){const o=e[s];if(i.length===n)return i;y_(o)&&i.push({group:o.group,items:K_e({options:o.items,search:t,limit:n-i.length})}),y_(o)||o.label.toLowerCase().includes(r)&&i.push(o)}return i}function AGe(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function X_e(e,t=new Set){if(Array.isArray(e))for(const n of e)if(y_(n))X_e(n.items,t);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(t.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);t.add(n.value)}}function RGe(e,t){return Array.isArray(e)?e.includes(t):e===t}function Q_e({data:e,withCheckIcon:t,value:n,checkIconPosition:r,unstyled:i,renderOption:s}){if(!y_(e)){const a=RGe(n,e.value),l=t&&a&&b.jsx(pK,{className:bu.optionsDropdownCheckIcon}),u=b.jsxs(b.Fragment,{children:[r==="left"&&l,b.jsx("span",{children:e.label}),r==="right"&&l]});return b.jsx(Wn.Option,{value:e.value,disabled:e.disabled,className:Lt({[bu.optionsDropdownOption]:!i}),"data-reverse":r==="right"||void 0,"data-checked":a||void 0,"aria-selected":a,active:a,children:typeof s=="function"?s({option:e,checked:a}):u})}const o=e.items.map(a=>b.jsx(Q_e,{data:a,value:n,unstyled:i,withCheckIcon:t,checkIconPosition:r,renderOption:s},a.value));return b.jsx(Wn.Group,{label:e.group,children:o})}function gK({data:e,hidden:t,hiddenWhenEmpty:n,filter:r,search:i,limit:s,maxDropdownHeight:o,withScrollArea:a=!0,filterOptions:l=!0,withCheckIcon:u=!1,value:c,checkIconPosition:d,nothingFoundMessage:f,unstyled:h,labelId:p,renderOption:m,scrollAreaProps:g,"aria-label":y}){X_e(e);const w=typeof i=="string"?(r||K_e)({options:e,search:l?i:"",limit:s??1/0}):e,_=AGe(w),C=w.map(S=>b.jsx(Q_e,{data:S,withCheckIcon:u,value:c,checkIconPosition:d,unstyled:h,renderOption:m},y_(S)?S.group:S.value));return b.jsx(Wn.Dropdown,{hidden:t||n&&_,"data-composed":!0,children:b.jsxs(Wn.Options,{labelledBy:p,"aria-label":y,children:[a?b.jsx(lp.Autosize,{mah:o??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...g,children:C}):C,_&&f&&b.jsx(Wn.Empty,{children:f})]})})}const IGe={},yK=tt((e,t)=>{const n=qe("Autocomplete",IGe,e),{classNames:r,styles:i,unstyled:s,vars:o,dropdownOpened:a,defaultDropdownOpened:l,onDropdownClose:u,onDropdownOpen:c,onFocus:d,onBlur:f,onClick:h,onChange:p,data:m,value:g,defaultValue:y,selectFirstOptionOnChange:v,onOptionSubmit:w,comboboxProps:_,readOnly:C,disabled:S,filter:T,limit:k,withScrollArea:I,maxDropdownHeight:R,size:P,id:N,renderOption:$,autoComplete:O,scrollAreaProps:j,onClear:B,clearButtonProps:H,error:q,clearable:Y,rightSection:V,...L}=n,z=Sa(N),U=eK(m),G=B5(U),[Q,ne]=Fi({value:g,defaultValue:y,finalValue:"",onChange:p}),ue=cA({opened:a,defaultOpened:l,onDropdownOpen:c,onDropdownClose:()=>{u?.(),ue.resetSelectedOption()}}),se=le=>{ne(le),ue.resetSelectedOption()},{resolvedClassNames:ae,resolvedStyles:he}=Bf({props:n,styles:i,classNames:r});A.useEffect(()=>{v&&ue.selectFirstOption()},[v,Q]);const ie=b.jsx(Wn.ClearButton,{...H,onClear:()=>{se(""),B?.()}});return b.jsxs(Wn,{store:ue,__staticSelector:"Autocomplete",classNames:ae,styles:he,unstyled:s,readOnly:C,onOptionSubmit:le=>{w?.(le),se(G[le].label),ue.closeDropdown()},size:P,..._,children:[b.jsx(Wn.Target,{autoComplete:O,children:b.jsx(zl,{ref:t,...L,size:P,__staticSelector:"Autocomplete",__clearSection:ie,__clearable:Y&&!!Q&&!S&&!C,rightSection:V,disabled:S,readOnly:C,value:Q,error:q,onChange:le=>{se(le.currentTarget.value),ue.openDropdown(),v&&ue.selectFirstOption()},onFocus:le=>{ue.openDropdown(),d?.(le)},onBlur:le=>{ue.closeDropdown(),f?.(le)},onClick:le=>{ue.openDropdown(),h?.(le)},classNames:ae,styles:he,unstyled:s,id:z})}),b.jsx(gK,{data:U,hidden:C||S,filter:T,search:Q,limit:k,hiddenWhenEmpty:!0,withScrollArea:I,maxDropdownHeight:R,unstyled:s,labelId:L.label?`${z}-label`:void 0,"aria-label":L.label?void 0:L["aria-label"],renderOption:$,scrollAreaProps:j})]})});yK.classes={...zl.classes,...Wn.classes};yK.displayName="@mantine/core/Autocomplete";var J_e={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const DGe={},PGe=(e,{radius:t,color:n,gradient:r,variant:i,size:s,autoContrast:o})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:o});return{root:{"--badge-height":vn(s,"badge-height"),"--badge-padding-x":vn(s,"badge-padding-x"),"--badge-fz":vn(s,"badge-fz"),"--badge-radius":t===void 0?void 0:Br(t),"--badge-bg":n||i?a.background:void 0,"--badge-color":n||i?a.color:void 0,"--badge-bd":n||i?a.border:void 0,"--badge-dot-color":i==="dot"?Xr(n,e):void 0}}},eo=Ws((e,t)=>{const n=qe("Badge",DGe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,radius:u,color:c,gradient:d,leftSection:f,rightSection:h,children:p,variant:m,fullWidth:g,autoContrast:y,circle:v,mod:w,..._}=n,C=Ot({name:"Badge",props:n,classes:J_e,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:PGe});return b.jsxs(De,{variant:m,mod:[{block:g,circle:v,"with-right-section":!!h,"with-left-section":!!f},w],...C("root",{variant:m}),ref:t,..._,children:[f&&b.jsx("span",{...C("section"),"data-position":"left",children:f}),b.jsx("span",{...C("label"),children:p}),h&&b.jsx("span",{...C("section"),"data-position":"right",children:h})]})});eo.classes=J_e;eo.displayName="@mantine/core/Badge";var vC={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const ule={orientation:"horizontal"},OGe=(e,{borderWidth:t})=>({group:{"--button-border-width":Ye(t)}}),vK=tt((e,t)=>{const n=qe("ButtonGroup",ule,e),{className:r,style:i,classNames:s,styles:o,unstyled:a,orientation:l,vars:u,borderWidth:c,variant:d,mod:f,...h}=qe("ButtonGroup",ule,e),p=Ot({name:"ButtonGroup",props:n,classes:vC,className:r,style:i,classNames:s,styles:o,unstyled:a,vars:u,varsResolver:OGe,rootSelector:"group"});return b.jsx(De,{...p("group"),ref:t,variant:d,mod:[{"data-orientation":l},f],role:"group",...h})});vK.classes=vC;vK.displayName="@mantine/core/ButtonGroup";const cle={},NGe=(e,{radius:t,color:n,gradient:r,variant:i,autoContrast:s,size:o})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:s});return{groupSection:{"--section-height":vn(o,"section-height"),"--section-padding-x":vn(o,"section-padding-x"),"--section-fz":o?.includes("compact")?ps(o.replace("compact-","")):ps(o),"--section-radius":t===void 0?void 0:Br(t),"--section-bg":n||i?a.background:void 0,"--section-color":a.color,"--section-bd":n||i?a.border:void 0}}},bK=tt((e,t)=>{const n=qe("ButtonGroupSection",cle,e),{className:r,style:i,classNames:s,styles:o,unstyled:a,vars:l,variant:u,gradient:c,radius:d,autoContrast:f,...h}=qe("ButtonGroupSection",cle,e),p=Ot({name:"ButtonGroupSection",props:n,classes:vC,className:r,style:i,classNames:s,styles:o,unstyled:a,vars:l,varsResolver:NGe,rootSelector:"groupSection"});return b.jsx(De,{...p("groupSection"),ref:t,variant:u,...h})});bK.classes=vC;bK.displayName="@mantine/core/ButtonGroupSection";const $Ge={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${Ye(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},MGe={},FGe=(e,{radius:t,color:n,gradient:r,variant:i,size:s,justify:o,autoContrast:a})=>{const l=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:a});return{root:{"--button-justify":o,"--button-height":vn(s,"button-height"),"--button-padding-x":vn(s,"button-padding-x"),"--button-fz":s?.includes("compact")?ps(s.replace("compact-","")):ps(s),"--button-radius":t===void 0?void 0:Br(t),"--button-bg":n||i?l.background:void 0,"--button-hover":n||i?l.hover:void 0,"--button-color":l.color,"--button-bd":n||i?l.border:void 0,"--button-hover-color":n||i?l.hoverColor:void 0}}},Wt=Ws((e,t)=>{const n=qe("Button",MGe,e),{style:r,vars:i,className:s,color:o,disabled:a,children:l,leftSection:u,rightSection:c,fullWidth:d,variant:f,radius:h,loading:p,loaderProps:m,gradient:g,classNames:y,styles:v,unstyled:w,"data-disabled":_,autoContrast:C,mod:S,...T}=n,k=Ot({name:"Button",props:n,classes:vC,className:s,style:r,classNames:y,styles:v,unstyled:w,vars:i,varsResolver:FGe}),I=!!u,R=!!c;return b.jsxs(no,{ref:t,...k("root",{active:!a&&!p&&!_}),unstyled:w,variant:f,disabled:a||p,mod:[{disabled:a||_,loading:p,block:d,"with-left-section":I,"with-right-section":R},S],...T,children:[b.jsx(bd,{mounted:!!p,transition:$Ge,duration:150,children:P=>b.jsx(De,{component:"span",...k("loader",{style:P}),"aria-hidden":!0,children:b.jsx(pc,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...m})})}),b.jsxs("span",{...k("inner"),children:[u&&b.jsx(De,{component:"span",...k("section"),mod:{position:"left"},children:u}),b.jsx(De,{component:"span",mod:{loading:p},...k("label"),children:l}),c&&b.jsx(De,{component:"span",...k("section"),mod:{position:"right"},children:c})]})]})});Wt.classes=vC;Wt.displayName="@mantine/core/Button";Wt.Group=vK;Wt.GroupSection=bK;const[LGe,jGe]=ko("Card component was not found in tree");var wK={root:"m_e615b15f",section:"m_599a2148"};const BGe={},U5=Ws((e,t)=>{const n=qe("CardSection",BGe,e),{classNames:r,className:i,style:s,styles:o,vars:a,withBorder:l,inheritPadding:u,mod:c,...d}=n,f=jGe();return b.jsx(De,{ref:t,mod:[{"with-border":l,"inherit-padding":u},c],...f.getStyles("section",{className:i,style:s,styles:o,classNames:r}),...d})});U5.classes=wK;U5.displayName="@mantine/core/CardSection";const zGe={},UGe=(e,{padding:t})=>({root:{"--card-padding":Mi(t)}}),Uy=Ws((e,t)=>{const n=qe("Card",zGe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,children:u,padding:c,...d}=n,f=Ot({name:"Card",props:n,classes:wK,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:UGe}),h=A.Children.toArray(u),p=h.map((m,g)=>typeof m=="object"&&m&&"type"in m&&m.type===U5?A.cloneElement(m,{"data-first-section":g===0||void 0,"data-last-section":g===h.length-1||void 0}):m);return b.jsx(LGe,{value:{getStyles:f},children:b.jsx(vd,{ref:t,unstyled:a,...f("root"),...d,children:p})})});Uy.classes=wK;Uy.displayName="@mantine/core/Card";Uy.Section=U5;var Z_e={root:"m_4451eb3a"};const VGe={},So=Ws((e,t)=>{const n=qe("Center",VGe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,inline:u,mod:c,...d}=n,f=Ot({name:"Center",props:n,classes:Z_e,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l});return b.jsx(De,{ref:t,mod:[{inline:u},c],...f("root"),...d})});So.classes=Z_e;So.displayName="@mantine/core/Center";var eCe={root:"m_b183c0a2"};const HGe={},qGe=(e,{color:t})=>({root:{"--code-bg":t?Xr(t,e):void 0}}),jh=tt((e,t)=>{const n=qe("Code",HGe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,color:u,block:c,variant:d,mod:f,...h}=n,p=Ot({name:"Code",props:n,classes:eCe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:qGe});return b.jsx(De,{component:c?"pre":"code",variant:d,ref:t,mod:[{block:c},f],...p("root"),...h,dir:"ltr"})});jh.classes=eCe;jh.displayName="@mantine/core/Code";var tCe={root:"m_de3d2490",colorOverlay:"m_862f3d1b",shadowOverlay:"m_98ae7f22",alphaOverlay:"m_95709ac0",childrenOverlay:"m_93e74e3"};const dle={withShadow:!0},WGe=(e,{radius:t,size:n})=>({root:{"--cs-radius":t===void 0?void 0:Br(t),"--cs-size":Ye(n)}}),Ym=Ws((e,t)=>{const n=qe("ColorSwatch",dle,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,color:u,size:c,radius:d,withShadow:f,children:h,variant:p,...m}=qe("ColorSwatch",dle,n),g=Ot({name:"ColorSwatch",props:n,classes:tCe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:WGe});return b.jsxs(De,{ref:t,variant:p,size:c,...g("root",{focusable:!0}),...m,children:[b.jsx("span",{...g("alphaOverlay")}),f&&b.jsx("span",{...g("shadowOverlay")}),b.jsx("span",{...g("colorOverlay",{style:{backgroundColor:u}})}),b.jsx("span",{...g("childrenOverlay"),children:h})]})});Ym.classes=tCe;Ym.displayName="@mantine/core/ColorSwatch";const[GGe,xK]=w0(null),_K=A.forwardRef(({position:e,...t},n)=>b.jsx(De,{ref:n,__vars:{"--thumb-y-offset":`${e.y*100}%`,"--thumb-x-offset":`${e.x*100}%`},...t}));_K.displayName="@mantine/core/ColorPickerThumb";var CK={wrapper:"m_fee9c77",preview:"m_9dddfbac",body:"m_bffecc3e",sliders:"m_3283bb96",thumb:"m_40d572ba",swatch:"m_d8ee6fd8",swatches:"m_5711e686",saturation:"m_202a296e",saturationOverlay:"m_11b3db02",slider:"m_d856d47d",sliderOverlay:"m_8f327113"};const YGe={},EK=tt((e,t)=>{const n=qe("ColorSlider",YGe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,onChange:u,onChangeEnd:c,maxValue:d,round:f,size:h="md",focusable:p=!0,value:m,overlays:g,thumbColor:y="transparent",onScrubStart:v,onScrubEnd:w,__staticSelector:_="ColorPicker",...C}=n,S=Ot({name:_,classes:CK,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a}),k=xK()?.getStyles||S,I=os(),[R,P]=A.useState({y:0,x:m/d}),N=A.useRef(R),$=q=>f?Math.round(q*d):q*d,{ref:O}=nA(({x:q,y:Y})=>{N.current={x:q,y:Y},u?.($(q))},{onScrubEnd:()=>{const{x:q}=N.current;c?.($(q)),w?.()},onScrubStart:v});Nl(()=>{P({y:0,x:m/d})},[m]);const j=(q,Y)=>{q.preventDefault();const V=fxe(Y);u?.($(V.x)),c?.($(V.x))},B=q=>{switch(q.key){case"ArrowRight":{j(q,{x:R.x+.05,y:R.y});break}case"ArrowLeft":{j(q,{x:R.x-.05,y:R.y});break}}},H=g.map((q,Y)=>A.createElement("div",{...k("sliderOverlay"),style:q,key:Y}));return b.jsxs(De,{...C,ref:ms(O,t),...k("slider"),role:"slider","aria-valuenow":m,"aria-valuemax":d,"aria-valuemin":0,tabIndex:p?0:-1,onKeyDown:B,"data-focus-ring":I.focusRing,__vars:{"--cp-thumb-size":`var(--cp-thumb-size-${h})`},children:[H,b.jsx(_K,{position:R,...k("thumb",{style:{top:Ye(1),background:y}})})]})});EK.displayName="@mantine/core/ColorSlider";function qc(e,t=0,n=10**t){return Math.round(n*e)/n}function KGe({h:e,s:t,l:n,a:r}){const i=t*((n<50?n:100-n)/100);return{h:e,s:i>0?2*i/(n+i)*100:0,v:n+i,a:r}}const XGe={grad:360/400,turn:360,rad:360/(Math.PI*2)};function QGe(e,t="deg"){return Number(e)*(XGe[t]||1)}const JGe=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function fle(e){const t=JGe.exec(e);return t?KGe({h:QGe(t[1],t[2]),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)}):{h:0,s:0,v:0,a:1}}function CV({r:e,g:t,b:n,a:r}){const i=Math.max(e,t,n),s=i-Math.min(e,t,n),o=s?i===e?(t-n)/s:i===t?2+(n-e)/s:4+(e-t)/s:0;return{h:qc(60*(o<0?o+6:o),3),s:qc(i?s/i*100:0,3),v:qc(i/255*100,3),a:r}}function EV(e){const t=e[0]==="#"?e.slice(1):e;return t.length===3?CV({r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:1}):CV({r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:1})}function ZGe(e){const t=e[0]==="#"?e.slice(1):e,n=o=>qc(parseInt(o,16)/255,3);if(t.length===4){const o=t.slice(0,3),a=n(t[3]+t[3]);return{...EV(o),a}}const r=t.slice(0,6),i=n(t.slice(6,8));return{...EV(r),a:i}}const eYe=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function hle(e){const t=eYe.exec(e);return t?CV({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):{h:0,s:0,v:0,a:1}}const nCe={hex:/^#?([0-9A-F]{3}){1,2}$/i,hexa:/^#?([0-9A-F]{4}){1,2}$/i,rgb:/^rgb\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,rgba:/^rgba\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,hsl:/hsl\(\s*(\d+)\s*,\s*(\d+(?:\.\d+)?%)\s*,\s*(\d+(?:\.\d+)?%)\)/i,hsla:/^hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*(\d*(?:\.\d+)?)\)$/i},tYe={hex:EV,hexa:ZGe,rgb:hle,rgba:hle,hsl:fle,hsla:fle};function tS(e){for(const[,t]of Object.entries(nCe))if(t.test(e))return!0;return!1}function h1(e){if(typeof e!="string")return{h:0,s:0,v:0,a:1};if(e==="transparent")return{h:0,s:0,v:0,a:0};const t=e.trim();for(const[n,r]of Object.entries(nCe))if(r.test(t))return tYe[n](t);return{h:0,s:0,v:0,a:1}}const nYe={},rCe=A.forwardRef((e,t)=>{const{value:n,onChange:r,onChangeEnd:i,color:s,...o}=qe("AlphaSlider",nYe,e);return b.jsx(EK,{...o,ref:t,value:n,onChange:a=>r?.(qc(a,2)),onChangeEnd:a=>i?.(qc(a,2)),maxValue:1,round:!1,"data-alpha":!0,overlays:[{backgroundImage:"linear-gradient(45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(-45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(45deg, transparent 75%, var(--slider-checkers) 75%), linear-gradient(-45deg, var(--mantine-color-body) 75%, var(--slider-checkers) 75%)",backgroundSize:`${Ye(8)} ${Ye(8)}`,backgroundPosition:`0 0, 0 ${Ye(4)}, ${Ye(4)} ${Ye(-4)}, ${Ye(-4)} 0`},{backgroundImage:`linear-gradient(90deg, transparent, ${s})`},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${Ye(1)} inset, rgb(0, 0, 0, .15) 0 0 ${Ye(4)} inset`}]})});rCe.displayName="@mantine/core/AlphaSlider";function iCe({h:e,s:t,v:n,a:r}){const i=e/360*6,s=t/100,o=n/100,a=Math.floor(i),l=o*(1-s),u=o*(1-(i-a)*s),c=o*(1-(1-i+a)*s),d=a%6;return{r:qc([o,u,l,l,c,o][d]*255),g:qc([c,o,o,u,l,l][d]*255),b:qc([l,l,c,o,o,u][d]*255),a:qc(r,2)}}function ple(e,t){const{r:n,g:r,b:i,a:s}=iCe(e);return t?`rgba(${n}, ${r}, ${i}, ${qc(s,2)})`:`rgb(${n}, ${r}, ${i})`}function mle({h:e,s:t,v:n,a:r},i){const s=(200-t)*n/100,o={h:Math.round(e),s:Math.round(s>0&&s<200?t*n/100/(s<=100?s:200-s)*100:0),l:Math.round(s/2)};return i?`hsla(${o.h}, ${o.s}%, ${o.l}%, ${qc(r,2)})`:`hsl(${o.h}, ${o.s}%, ${o.l}%)`}function AP(e){const t=e.toString(16);return t.length<2?`0${t}`:t}function sCe(e){const{r:t,g:n,b:r}=iCe(e);return`#${AP(t)}${AP(n)}${AP(r)}`}function rYe(e){const t=Math.round(e.a*255);return`${sCe(e)}${AP(t)}`}const t9={hex:sCe,hexa:e=>rYe(e),rgb:e=>ple(e,!1),rgba:e=>ple(e,!0),hsl:e=>mle(e,!1),hsla:e=>mle(e,!0)};function Wd(e,t){return t?e in t9?t9[e](t):t9.hex(t):"#000000"}const oCe=A.forwardRef((e,t)=>{const{value:n,onChange:r,onChangeEnd:i,color:s,...o}=qe("HueSlider",{},e);return b.jsx(EK,{...o,ref:t,value:n,onChange:r,onChangeEnd:i,maxValue:360,thumbColor:`hsl(${n}, 100%, 50%)`,round:!0,"data-hue":!0,overlays:[{backgroundImage:"linear-gradient(to right,hsl(0,100%,50%),hsl(60,100%,50%),hsl(120,100%,50%),hsl(170,100%,50%),hsl(240,100%,50%),hsl(300,100%,50%),hsl(360,100%,50%))"},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${Ye(1)} inset, rgb(0, 0, 0, .15) 0 0 ${Ye(4)} inset`}]})});oCe.displayName="@mantine/core/HueSlider";function aCe({className:e,onChange:t,onChangeEnd:n,value:r,saturationLabel:i,focusable:s=!0,size:o,color:a,onScrubStart:l,onScrubEnd:u,...c}){const{getStyles:d}=xK(),[f,h]=A.useState({x:r.s/100,y:1-r.v/100}),p=A.useRef(f),{ref:m}=nA(({x:v,y:w})=>{p.current={x:v,y:w},t({s:Math.round(v*100),v:Math.round((1-w)*100)})},{onScrubEnd:()=>{const{x:v,y:w}=p.current;n({s:Math.round(v*100),v:Math.round((1-w)*100)}),u?.()},onScrubStart:l});A.useEffect(()=>{h({x:r.s/100,y:1-r.v/100})},[r.s,r.v]);const g=(v,w)=>{v.preventDefault();const _=fxe(w);t({s:Math.round(_.x*100),v:Math.round((1-_.y)*100)}),n({s:Math.round(_.x*100),v:Math.round((1-_.y)*100)})},y=v=>{switch(v.key){case"ArrowUp":{g(v,{y:f.y-.05,x:f.x});break}case"ArrowDown":{g(v,{y:f.y+.05,x:f.x});break}case"ArrowRight":{g(v,{x:f.x+.05,y:f.y});break}case"ArrowLeft":{g(v,{x:f.x-.05,y:f.y});break}}};return b.jsxs(De,{...d("saturation"),ref:m,...c,role:"slider","aria-label":i,"aria-valuenow":f.x,"aria-valuetext":Wd("rgba",r),tabIndex:s?0:-1,onKeyDown:y,children:[b.jsx("div",{...d("saturationOverlay",{style:{backgroundColor:`hsl(${r.h}, 100%, 50%)`}})}),b.jsx("div",{...d("saturationOverlay",{style:{backgroundImage:"linear-gradient(90deg, #fff, transparent)"}})}),b.jsx("div",{...d("saturationOverlay",{style:{backgroundImage:"linear-gradient(0deg, #000, transparent)"}})}),b.jsx(_K,{position:f,...d("thumb",{style:{backgroundColor:a}})})]})}aCe.displayName="@mantine/core/Saturation";const lCe=A.forwardRef(({className:e,datatype:t,setValue:n,onChangeEnd:r,size:i,focusable:s,data:o,swatchesPerRow:a,...l},u)=>{const c=xK(),d=o.map((f,h)=>A.createElement(Ym,{...c.getStyles("swatch"),unstyled:c.unstyled,component:"button",type:"button",color:f,key:h,radius:"sm",onClick:()=>{n(f),r?.(f)},"aria-label":f,tabIndex:s?0:-1,"data-swatch":!0}));return b.jsx(De,{...c.getStyles("swatches"),ref:u,...l,children:d})});lCe.displayName="@mantine/core/Swatches";const iYe={swatchesPerRow:7,withPicker:!0,focusable:!0,size:"md",__staticSelector:"ColorPicker"},sYe=(e,{size:t,swatchesPerRow:n})=>({wrapper:{"--cp-preview-size":vn(t,"cp-preview-size"),"--cp-width":vn(t,"cp-width"),"--cp-body-spacing":Mi(t),"--cp-swatch-size":`${100/n}%`,"--cp-thumb-size":vn(t,"cp-thumb-size"),"--cp-saturation-height":vn(t,"cp-saturation-height")}}),V5=tt((e,t)=>{const n=qe("ColorPicker",iYe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,format:u,value:c,defaultValue:d,onChange:f,onChangeEnd:h,withPicker:p,size:m,saturationLabel:g,hueLabel:y,alphaLabel:v,focusable:w,swatches:_,swatchesPerRow:C,fullWidth:S,onColorSwatchClick:T,__staticSelector:k,mod:I,...R}=n,P=Ot({name:k,props:n,classes:CK,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"wrapper",vars:l,varsResolver:sYe}),N=A.useRef(u),$=A.useRef(""),O=A.useRef(-1),j=A.useRef(!1),B=u==="hexa"||u==="rgba"||u==="hsla",[H,q,Y]=Fi({value:c,defaultValue:d,finalValue:"#FFFFFF",onChange:f}),[V,L]=A.useState(h1(H)),z=()=>{window.clearTimeout(O.current),j.current=!0},U=()=>{window.clearTimeout(O.current),O.current=window.setTimeout(()=>{j.current=!1},200)},G=Q=>{L(ne=>{const ue={...ne,...Q};return $.current=Wd(N.current,ue),ue}),q($.current)};return Nl(()=>{tS(c)&&!j.current&&L(h1(c))},[c]),Nl(()=>{N.current=u,q(Wd(u,V))},[u]),b.jsx(GGe,{value:{getStyles:P,unstyled:a},children:b.jsxs(De,{ref:t,...P("wrapper"),size:m,mod:[{"full-width":S},I],...R,children:[p&&b.jsxs(b.Fragment,{children:[b.jsx(aCe,{value:V,onChange:G,onChangeEnd:({s:Q,v:ne})=>h?.(Wd(N.current,{...V,s:Q,v:ne})),color:H,size:m,focusable:w,saturationLabel:g,onScrubStart:z,onScrubEnd:U}),b.jsxs("div",{...P("body"),children:[b.jsxs("div",{...P("sliders"),children:[b.jsx(oCe,{value:V.h,onChange:Q=>G({h:Q}),onChangeEnd:Q=>h?.(Wd(N.current,{...V,h:Q})),size:m,focusable:w,"aria-label":y,onScrubStart:z,onScrubEnd:U}),B&&b.jsx(rCe,{value:V.a,onChange:Q=>G({a:Q}),onChangeEnd:Q=>{h?.(Wd(N.current,{...V,a:Q}))},size:m,color:Wd("hex",V),focusable:w,"aria-label":v,onScrubStart:z,onScrubEnd:U})]}),B&&b.jsx(Ym,{color:H,radius:"sm",size:"var(--cp-preview-size)",...P("preview")})]})]}),Array.isArray(_)&&b.jsx(lCe,{data:_,swatchesPerRow:C,focusable:w,setValue:q,onChangeEnd:Q=>{const ne=Wd(u,h1(Q));T?.(ne),h?.(ne),Y||L(h1(Q))}})]})})});V5.classes=CK;V5.displayName="@mantine/core/ColorPicker";function oYe({style:e,...t}){return b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--ci-eye-dropper-icon-size)",height:"var(--ci-eye-dropper-icon-size)",...e},viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M11 7l6 6"}),b.jsx("path",{d:"M4 16l11.7 -11.7a1 1 0 0 1 1.4 0l2.6 2.6a1 1 0 0 1 0 1.4l-11.7 11.7h-4v-4z"})]})}var gle={eyeDropperIcon:"m_b077c2bc",colorPreview:"m_c5ccdcab",dropdown:"m_5ece2cd7"};const yle={format:"hex",fixOnBlur:!0,withPreview:!0,swatchesPerRow:7,withPicker:!0,popoverProps:{transitionProps:{transition:"fade",duration:0}},withEyeDropper:!0},aYe=(e,{size:t})=>({eyeDropperIcon:{"--ci-eye-dropper-icon-size":vn(t,"ci-eye-dropper-icon-size")},colorPreview:{"--ci-preview-size":vn(t,"ci-preview-size")}}),TN=tt((e,t)=>{const n=qe("ColorInput",yle,e),{classNames:r,styles:i,unstyled:s,disallowInput:o,fixOnBlur:a,popoverProps:l,withPreview:u,withEyeDropper:c,eyeDropperIcon:d,closeOnColorSwatchClick:f,eyeDropperButtonProps:h,value:p,defaultValue:m,onChange:g,onChangeEnd:y,onClick:v,onFocus:w,onBlur:_,inputProps:C,format:S,wrapperProps:T,readOnly:k,withPicker:I,swatches:R,disabled:P,leftSection:N,rightSection:$,swatchesPerRow:O,...j}=zY("ColorInput",yle,e),B=Ot({name:"ColorInput",props:n,classes:gle,classNames:r,styles:i,unstyled:s,rootSelector:"wrapper",vars:n.vars,varsResolver:aYe}),{resolvedClassNames:H,resolvedStyles:q}=Bf({classNames:r,styles:i,props:n}),[Y,V]=A.useState(!1),[L,z]=A.useState(""),[U,G]=Fi({value:p,defaultValue:m,finalValue:"",onChange:g}),{supported:Q,open:ne}=nUe(),ue=b.jsx(Tn,{...h,...B("eyeDropperButton",{className:h?.className,style:h?.style}),variant:"subtle",color:"gray",size:C.size,unstyled:s,onClick:()=>ne().then(ie=>{if(ie?.sRGBHex){const le=Wd(S,h1(ie.sRGBHex));G(le),y?.(le)}}).catch(()=>{}),children:d||b.jsx(oYe,{...B("eyeDropperIcon")})}),se=ie=>{w?.(ie),V(!0)},ae=ie=>{a&&G(L),_?.(ie),V(!1)},he=ie=>{v?.(ie),V(!0)};return A.useEffect(()=>{(tS(U)||U.trim()==="")&&z(U)},[U]),Nl(()=>{tS(U)&&G(Wd(S,h1(U)))},[S]),b.jsx(jr.Wrapper,{...T,classNames:H,styles:q,__staticSelector:"ColorInput",children:b.jsxs(kr,{__staticSelector:"ColorInput",position:"bottom-start",offset:5,opened:Y,...l,classNames:H,styles:q,unstyled:s,withRoles:!1,disabled:k||I===!1&&(!Array.isArray(R)||R.length===0),children:[b.jsx(kr.Target,{children:b.jsx(jr,{autoComplete:"off",...j,...C,classNames:H,styles:q,disabled:P,ref:t,__staticSelector:"ColorInput",onFocus:se,onBlur:ae,onClick:he,spellCheck:!1,value:U,onChange:ie=>{const le=ie.currentTarget.value;G(le),tS(le)&&y?.(Wd(S,h1(le)))},leftSection:N||(u?b.jsx(Ym,{color:tS(U)?U:"#fff",size:"var(--ci-preview-size)",...B("colorPreview")}):null),readOnly:o||k,pointer:o,unstyled:s,rightSection:$||(c&&!P&&!k&&Q?ue:null)})}),b.jsx(kr.Dropdown,{onMouseDown:ie=>ie.preventDefault(),className:gle.dropdown,children:b.jsx(V5,{__staticSelector:"ColorInput",value:U,onChange:G,onChangeEnd:y,format:S,swatches:R,swatchesPerRow:O,withPicker:I,size:C.size,focusable:!1,unstyled:s,styles:q,classNames:H,onColorSwatchClick:()=>f&&V(!1)})})]})})});TN.classes=zl.classes;TN.displayName="@mantine/core/ColorInput";var uCe={root:"m_7485cace"};const lYe={},uYe=(e,{size:t,fluid:n})=>({root:{"--container-size":n?void 0:vn(t,"container-size")}}),C0=tt((e,t)=>{const n=qe("Container",lYe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,fluid:u,mod:c,...d}=n,f=Ot({name:"Container",classes:uCe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:uYe});return b.jsx(De,{ref:t,mod:[{fluid:u},c],...f("root"),...d})});C0.classes=uCe;C0.displayName="@mantine/core/Container";const cYe={timeout:1e3};function cCe(e){const{children:t,timeout:n,value:r,...i}=qe("CopyButton",cYe,e),s=Pze({timeout:n}),o=()=>s.copy(r);return b.jsx(b.Fragment,{children:t({copy:o,copied:s.copied,...i})})}cCe.displayName="@mantine/core/CopyButton";var dCe={root:"m_3eebeb36",label:"m_9e365f20"};const dYe={orientation:"horizontal"},fYe=(e,{color:t,variant:n,size:r})=>({root:{"--divider-color":t?Xr(t,e):void 0,"--divider-border-style":n,"--divider-size":vn(r,"divider-size")}}),bC=tt((e,t)=>{const n=qe("Divider",dYe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,color:u,orientation:c,label:d,labelPosition:f,mod:h,...p}=n,m=Ot({name:"Divider",classes:dCe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:fYe});return b.jsx(De,{ref:t,mod:[{orientation:c,"with-label":!!d},h],...m("root"),...p,role:"separator",children:d&&b.jsx(De,{component:"span",mod:{position:f},...m("label"),children:d})})});bC.classes=dCe;bC.displayName="@mantine/core/Divider";function fCe({open:e,close:t,openDelay:n,closeDelay:r}){const i=A.useRef(-1),s=A.useRef(-1),o=()=>{window.clearTimeout(i.current),window.clearTimeout(s.current)},a=()=>{o(),n===0||n===void 0?e():i.current=window.setTimeout(e,n)},l=()=>{o(),r===0||r===void 0?t():s.current=window.setTimeout(t,r)};return A.useEffect(()=>o,[]),{openDropdown:a,closeDropdown:l}}const[vle,hCe]=ko("Grid component was not found in tree"),SV=(e,t)=>e==="content"?"auto":e==="auto"?"0rem":e?`${100/(t/e)}%`:void 0,ble=(e,t,n)=>n||e==="auto"?"100%":e==="content"?"unset":SV(e,t),wle=(e,t)=>{if(e)return e==="auto"||t?"1":"auto"},xle=(e,t)=>e===0?"0":e?`${100/(t/e)}%`:void 0;function hYe({span:e,order:t,offset:n,selector:r}){const i=os(),s=hCe(),o=s.breakpoints||i.breakpoints,l=rf(e)===void 0?12:rf(e),u=Fy({"--col-order":rf(t)?.toString(),"--col-flex-grow":wle(l,s.grow),"--col-flex-basis":SV(l,s.columns),"--col-width":l==="content"?"auto":void 0,"--col-max-width":ble(l,s.columns,s.grow),"--col-offset":xle(rf(n),s.columns)}),c=Ai(o).reduce((h,p)=>(h[p]||(h[p]={}),typeof t=="object"&&t[p]!==void 0&&(h[p]["--col-order"]=t[p]?.toString()),typeof e=="object"&&e[p]!==void 0&&(h[p]["--col-flex-grow"]=wle(e[p],s.grow),h[p]["--col-flex-basis"]=SV(e[p],s.columns),h[p]["--col-width"]=e[p]==="content"?"auto":void 0,h[p]["--col-max-width"]=ble(e[p],s.columns,s.grow)),typeof n=="object"&&n[p]!==void 0&&(h[p]["--col-offset"]=xle(n[p],s.columns)),h),{}),f=OT(Ai(c),o).filter(h=>Ai(c[h.value]).length>0).map(h=>({query:s.type==="container"?`mantine-grid (min-width: ${o[h.value]})`:`(min-width: ${o[h.value]})`,styles:c[h.value]}));return b.jsx(Cb,{styles:u,media:s.type==="container"?void 0:f,container:s.type==="container"?f:void 0,selector:r})}var SK={container:"m_8478a6da",root:"m_410352e9",inner:"m_dee7bd2f",col:"m_96bdd299"};const pYe={span:12},TK=tt((e,t)=>{const n=qe("GridCol",pYe,e),{classNames:r,className:i,style:s,styles:o,vars:a,span:l,order:u,offset:c,...d}=n,f=hCe(),h=rA();return b.jsxs(b.Fragment,{children:[b.jsx(hYe,{selector:`.${h}`,span:l,order:u,offset:c}),b.jsx(De,{ref:t,...f.getStyles("col",{className:Lt(i,h),style:s,classNames:r,styles:o}),...d})]})});TK.classes=SK;TK.displayName="@mantine/core/GridCol";function _le({gutter:e,selector:t,breakpoints:n,type:r}){const i=os(),s=n||i.breakpoints,o=Fy({"--grid-gutter":Mi(rf(e))}),a=Ai(s).reduce((c,d)=>(c[d]||(c[d]={}),typeof e=="object"&&e[d]!==void 0&&(c[d]["--grid-gutter"]=Mi(e[d])),c),{}),u=OT(Ai(a),s).filter(c=>Ai(a[c.value]).length>0).map(c=>({query:r==="container"?`mantine-grid (min-width: ${s[c.value]})`:`(min-width: ${s[c.value]})`,styles:a[c.value]}));return b.jsx(Cb,{styles:o,media:r==="container"?void 0:u,container:r==="container"?u:void 0,selector:t})}const mYe={gutter:"md",grow:!1,columns:12},gYe=(e,{justify:t,align:n,overflow:r})=>({root:{"--grid-justify":t,"--grid-align":n,"--grid-overflow":r}}),fs=tt((e,t)=>{const n=qe("Grid",mYe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,grow:u,gutter:c,columns:d,align:f,justify:h,children:p,breakpoints:m,type:g,...y}=n,v=Ot({name:"Grid",classes:SK,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:gYe}),w=rA();return g==="container"&&m?b.jsxs(vle,{value:{getStyles:v,grow:u,columns:d||12,breakpoints:m,type:g},children:[b.jsx(_le,{selector:`.${w}`,...n}),b.jsx("div",{...v("container"),children:b.jsx(De,{ref:t,...v("root",{className:w}),...y,children:b.jsx("div",{...v("inner"),children:p})})})]}):b.jsxs(vle,{value:{getStyles:v,grow:u,columns:d||12,breakpoints:m,type:g},children:[b.jsx(_le,{selector:`.${w}`,...n}),b.jsx(De,{ref:t,...v("root",{className:w}),...y,children:b.jsx("div",{...v("inner"),children:p})})]})});fs.classes=SK;fs.displayName="@mantine/core/Grid";fs.Col=TK;function Cle({color:e,theme:t,defaultShade:n}){const r=jf({color:e,theme:t});return r.isThemeColor?r.shade===void 0?`var(--mantine-color-${r.color}-${n})`:`var(${r.variable})`:e}var pCe={root:"m_bcb3f3c2"};const yYe={color:"yellow"},vYe=(e,{color:t})=>({root:{"--mark-bg-dark":Cle({color:t,theme:e,defaultShade:5}),"--mark-bg-light":Cle({color:t,theme:e,defaultShade:2})}}),kK=tt((e,t)=>{const n=qe("Mark",yYe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,color:u,variant:c,...d}=n,f=Ot({name:"Mark",props:n,className:i,style:s,classes:pCe,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:vYe});return b.jsx(De,{component:"mark",ref:t,variant:c,...f("root"),...d})});kK.classes=pCe;kK.displayName="@mantine/core/Mark";function Ele(e){return e.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&")}function bYe(e,t){if(t==null)return[{chunk:e,highlighted:!1}];const n=Array.isArray(t)?t.map(Ele):Ele(t);if(!(Array.isArray(n)?n.filter(a=>a.trim().length>0).length>0:n.trim()!==""))return[{chunk:e,highlighted:!1}];const i=typeof n=="string"?n.trim():n.filter(a=>a.trim().length!==0).map(a=>a.trim()).sort((a,l)=>l.length-a.length).join("|"),s=new RegExp(`(${i})`,"gi");return e.split(s).map(a=>({chunk:a,highlighted:s.test(a)})).filter(({chunk:a})=>a)}const wYe={},AK=Ws((e,t)=>{const{unstyled:n,children:r,highlight:i,highlightStyles:s,color:o,...a}=qe("Highlight",wYe,e),l=bYe(r,i);return b.jsx(He,{unstyled:n,ref:t,...a,__staticSelector:"Highlight",children:l.map(({chunk:u,highlighted:c},d)=>c?b.jsx(kK,{unstyled:n,color:o,style:s,"data-highlight":u,children:u},d):b.jsx("span",{children:u},d))})});AK.classes=He.classes;AK.displayName="@mantine/core/Highlight";const[xYe,mCe]=ko("HoverCard component was not found in the tree"),_Ye={};function gCe(e){const{children:t,onMouseEnter:n,onMouseLeave:r,...i}=qe("HoverCardDropdown",_Ye,e),s=mCe(),o=Vo(n,s.openDropdown),a=Vo(r,s.closeDropdown);return b.jsx(kr.Dropdown,{onMouseEnter:o,onMouseLeave:a,...i,children:t})}gCe.displayName="@mantine/core/HoverCardDropdown";const CYe={refProp:"ref"},yCe=A.forwardRef((e,t)=>{const{children:n,refProp:r,eventPropsWrapperName:i,...s}=qe("HoverCardTarget",CYe,e);if(!b0(n))throw new Error("HoverCard.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=mCe(),a=Vo(n.props.onMouseEnter,o.openDropdown),l=Vo(n.props.onMouseLeave,o.closeDropdown),u={onMouseEnter:a,onMouseLeave:l};return b.jsx(kr.Target,{refProp:r,ref:t,...s,children:A.cloneElement(n,i?{[i]:u}:u)})});yCe.displayName="@mantine/core/HoverCardTarget";const EYe={openDelay:0,closeDelay:150,initiallyOpened:!1};function A1(e){const{children:t,onOpen:n,onClose:r,openDelay:i,closeDelay:s,initiallyOpened:o,...a}=qe("HoverCard",EYe,e),[l,{open:u,close:c}]=hY(o,{onClose:r,onOpen:n}),{openDropdown:d,closeDropdown:f}=fCe({open:u,close:c,openDelay:i,closeDelay:s});return b.jsx(xYe,{value:{openDropdown:d,closeDropdown:f},children:b.jsx(kr,{...a,opened:l,__staticSelector:"HoverCard",children:t})})}A1.displayName="@mantine/core/HoverCard";A1.Target=yCe;A1.Dropdown=gCe;A1.extend=e=>e;var vCe={root:"m_9e117634"};const SYe={},TYe=(e,{radius:t,fit:n})=>({root:{"--image-radius":t===void 0?void 0:Br(t),"--image-object-fit":n}}),E0=Ws((e,t)=>{const n=qe("Image",SYe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,onError:u,src:c,radius:d,fit:f,fallbackSrc:h,mod:p,...m}=n,[g,y]=A.useState(!c);A.useEffect(()=>y(!c),[c]);const v=Ot({name:"Image",classes:vCe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:TYe});return g&&h?b.jsx(De,{component:"img",ref:t,src:h,...v("root"),onError:u,mod:["fallback",p],...m}):b.jsx(De,{component:"img",ref:t,...v("root"),src:c,onError:w=>{u?.(w),y(!0)},mod:p,...m})});E0.classes=vCe;E0.displayName="@mantine/core/Image";function kYe(e="top-end",t=0){const n={"--indicator-top":void 0,"--indicator-bottom":void 0,"--indicator-left":void 0,"--indicator-right":void 0,"--indicator-translate-x":void 0,"--indicator-translate-y":void 0},r=Ye(t),[i,s]=e.split("-");return i==="top"&&(n["--indicator-top"]=r,n["--indicator-translate-y"]="-50%"),i==="middle"&&(n["--indicator-top"]="50%",n["--indicator-translate-y"]="-50%"),i==="bottom"&&(n["--indicator-bottom"]=r,n["--indicator-translate-y"]="50%"),s==="start"&&(n["--indicator-left"]=r,n["--indicator-translate-x"]="-50%"),s==="center"&&(n["--indicator-left"]="50%",n["--indicator-translate-x"]="-50%"),s==="end"&&(n["--indicator-right"]=r,n["--indicator-translate-x"]="50%"),n}var bCe={root:"m_e5262200",indicator:"m_760d1fb1",processing:"m_885901b1"};const AYe={position:"top-end",offset:0,inline:!1,withBorder:!1,disabled:!1,processing:!1},RYe=(e,{color:t,position:n,offset:r,size:i,radius:s,zIndex:o,autoContrast:a})=>({root:{"--indicator-color":t?Xr(t,e):void 0,"--indicator-text-color":jy(a,e)?Tp({color:t,theme:e,autoContrast:a}):void 0,"--indicator-size":Ye(i),"--indicator-radius":s===void 0?void 0:Br(s),"--indicator-z-index":o?.toString(),...kYe(n,r)}}),H5=tt((e,t)=>{const n=qe("Indicator",AYe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,children:u,position:c,offset:d,inline:f,label:h,radius:p,color:m,withBorder:g,disabled:y,processing:v,zIndex:w,autoContrast:_,mod:C,...S}=n,T=Ot({name:"Indicator",classes:bCe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:RYe});return b.jsxs(De,{ref:t,...T("root"),mod:[{inline:f},C],...S,children:[!y&&b.jsx(De,{mod:{"with-label":!!h,"with-border":g,processing:v},...T("indicator"),children:h}),u]})});H5.classes=bCe;H5.displayName="@mantine/core/Indicator";function kN(){return kN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kN.apply(null,arguments)}function RK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var IYe=A.useLayoutEffect,DYe=function(t){var n=mn.useRef(t);return IYe(function(){n.current=t}),n},Sle=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},PYe=function(t,n){var r=mn.useRef();return mn.useCallback(function(i){t.current=i,r.current&&Sle(r.current,null),r.current=n,n&&Sle(n,i)},[n])},Tle={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},OYe=function(t){Object.keys(Tle).forEach(function(n){t.style.setProperty(n,Tle[n],"important")})},kle=OYe,pl=null,Ale=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function NYe(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),pl||(pl=document.createElement("textarea"),pl.setAttribute("tabindex","-1"),pl.setAttribute("aria-hidden","true"),kle(pl)),pl.parentNode===null&&document.body.appendChild(pl);var i=e.paddingSize,s=e.borderSize,o=e.sizingStyle,a=o.boxSizing;Object.keys(o).forEach(function(f){var h=f;pl.style[h]=o[h]}),kle(pl),pl.value=t;var l=Ale(pl,e);pl.value=t,l=Ale(pl,e),pl.value="x";var u=pl.scrollHeight-i,c=u*n;a==="border-box"&&(c=c+i+s),l=Math.max(c,l);var d=u*r;return a==="border-box"&&(d=d+i+s),l=Math.min(d,l),[l,u]}var Rle=function(){},$Ye=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},MYe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],FYe=!!document.documentElement.currentStyle,LYe=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=$Ye(MYe,n),i=r.boxSizing;if(i==="")return null;FYe&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var s=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),o=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:s,borderSize:o}},jYe=LYe;function IK(e,t,n){var r=DYe(n);A.useLayoutEffect(function(){var i=function(o){return r.current(o)};if(e)return e.addEventListener(t,i),function(){return e.removeEventListener(t,i)}},[])}var BYe=function(t,n){IK(document.body,"reset",function(r){t.current.form===r.target&&n(r)})},zYe=function(t){IK(window,"resize",t)},UYe=function(t){IK(document.fonts,"loadingdone",t)},VYe=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],HYe=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,s=t.minRows,o=t.onChange,a=o===void 0?Rle:o,l=t.onHeightChange,u=l===void 0?Rle:l,c=RK(t,VYe),d=c.value!==void 0,f=A.useRef(null),h=PYe(f,n),p=A.useRef(0),m=A.useRef(),g=function(){var w=f.current,_=r&&m.current?m.current:jYe(w);if(_){m.current=_;var C=NYe(_,w.value||w.placeholder||"x",s,i),S=C[0],T=C[1];p.current!==S&&(p.current=S,w.style.setProperty("height",S+"px","important"),u(S,{rowHeight:T}))}},y=function(w){d||g(),a(w)};return A.useLayoutEffect(g),BYe(f,function(){if(!d){var v=f.current.value;requestAnimationFrame(function(){var w=f.current;w&&v!==w.value&&g()})}}),zYe(g),UYe(g),A.createElement("textarea",kN({},c,{onChange:y,ref:h}))},qYe=A.forwardRef(HYe);const WYe={},FT=tt((e,t)=>{const{autosize:n,maxRows:r,minRows:i,__staticSelector:s,resize:o,...a}=qe("Textarea",WYe,e),l=n&&hxe()!=="test",u=l?{maxRows:r,minRows:i}:{};return b.jsx(zl,{component:l?qYe:"textarea",ref:t,...a,__staticSelector:s||"Textarea",multiline:!0,"data-no-overflow":n&&r===void 0||void 0,__vars:{"--input-resize":o},...u})});FT.classes=zl.classes;FT.displayName="@mantine/core/Textarea";const[GYe,YYe]=ko("List component was not found in tree");var DK={root:"m_abbac491",item:"m_abb6bec2",itemWrapper:"m_75cd9f71",itemIcon:"m_60f83e5b"};const KYe={},PK=tt((e,t)=>{const n=qe("ListItem",KYe,e),{classNames:r,className:i,style:s,styles:o,vars:a,icon:l,children:u,mod:c,...d}=n,f=YYe(),h=l||f.icon,p={classNames:r,styles:o};return b.jsx(De,{...f.getStyles("item",{...p,className:i,style:s}),component:"li",mod:[{"with-icon":!!h,centered:f.center},c],ref:t,...d,children:b.jsxs("div",{...f.getStyles("itemWrapper",p),children:[h&&b.jsx("span",{...f.getStyles("itemIcon",p),children:h}),b.jsx("span",{...f.getStyles("itemLabel",p),children:u})]})})});PK.classes=DK;PK.displayName="@mantine/core/ListItem";const XYe={type:"unordered"},QYe=(e,{size:t,spacing:n})=>({root:{"--list-fz":ps(t),"--list-lh":rxe(t),"--list-spacing":Mi(n)}}),Ga=tt((e,t)=>{const n=qe("List",XYe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,children:u,type:c,withPadding:d,icon:f,spacing:h,center:p,listStyleType:m,mod:g,...y}=n,v=Ot({name:"List",classes:DK,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:QYe});return b.jsx(GYe,{value:{center:p,icon:f,getStyles:v},children:b.jsx(De,{...v("root",{style:{listStyleType:m}}),component:c==="unordered"?"ul":"ol",mod:[{"with-padding":d},g],ref:t,...y,children:u})})});Ga.classes=DK;Ga.displayName="@mantine/core/List";Ga.Item=PK;var wCe={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const Ile={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:Au("overlay")},JYe=(e,{zIndex:t})=>({root:{"--lo-z-index":t?.toString()}}),$l=tt((e,t)=>{const n=qe("LoadingOverlay",Ile,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,transitionProps:u,loaderProps:c,overlayProps:d,visible:f,zIndex:h,...p}=n,m=os(),g=Ot({name:"LoadingOverlay",classes:wCe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:JYe}),y={...Ile.overlayProps,...d};return b.jsx(bd,{transition:"fade",...u,mounted:!!f,children:v=>b.jsxs(De,{...g("root",{style:v}),ref:t,...p,children:[b.jsx(pc,{...g("loader"),unstyled:a,...c}),b.jsx(p_,{...y,...g("overlay"),darkHidden:!0,unstyled:a,color:d?.color||m.white}),b.jsx(p_,{...y,...g("overlay"),lightHidden:!0,unstyled:a,color:d?.color||m.colors.dark[5]})]})})});$l.classes=wCe;$l.displayName="@mantine/core/LoadingOverlay";const[ZYe,dA]=ko("Menu component was not found in the tree");var wC={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const eKe={},OK=tt((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=qe("MenuDivider",eKe,e),l=dA();return b.jsx(De,{ref:t,...l.getStyles("divider",{className:r,style:i,styles:s,classNames:n}),...a})});OK.classes=wC;OK.displayName="@mantine/core/MenuDivider";const tKe={},NK=tt((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,onMouseEnter:a,onMouseLeave:l,onKeyDown:u,children:c,...d}=qe("MenuDropdown",tKe,e),f=A.useRef(null),h=dA(),p=Vo(u,y=>{(y.key==="ArrowUp"||y.key==="ArrowDown")&&(y.preventDefault(),f.current?.querySelectorAll("[data-menu-item]:not(:disabled)")[0]?.focus())}),m=Vo(a,()=>(h.trigger==="hover"||h.trigger==="click-hover")&&h.openDropdown()),g=Vo(l,()=>(h.trigger==="hover"||h.trigger==="click-hover")&&h.closeDropdown());return b.jsxs(kr.Dropdown,{...d,onMouseEnter:m,onMouseLeave:g,role:"menu","aria-orientation":"vertical",ref:ms(t,f),...h.getStyles("dropdown",{className:r,style:i,styles:s,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:p,children:[h.withInitialFocusPlaceholder&&b.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),c]})});NK.classes=wC;NK.displayName="@mantine/core/MenuDropdown";const nKe={},$K=Ws((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,color:a,closeMenuOnClick:l,leftSection:u,rightSection:c,children:d,disabled:f,"data-disabled":h,...p}=qe("MenuItem",nKe,e),m=dA(),g=os(),{dir:y}=Ru(),v=A.useRef(null),w=m.getItemIndex(v.current),_=p,C=Vo(_.onMouseLeave,()=>m.setHovered(-1)),S=Vo(_.onMouseEnter,()=>m.setHovered(m.getItemIndex(v.current))),T=Vo(_.onClick,()=>{h||(typeof l=="boolean"?l&&m.closeDropdownImmediately():m.closeOnItemClick&&m.closeDropdownImmediately())}),k=Vo(_.onFocus,()=>m.setHovered(m.getItemIndex(v.current))),I=a?g.variantColorResolver({color:a,theme:g,variant:"light"}):void 0,R=a?jf({color:a,theme:g}):null;return b.jsxs(no,{...p,unstyled:m.unstyled,tabIndex:m.menuItemTabIndex,onFocus:k,...m.getStyles("item",{className:r,style:i,styles:s,classNames:n}),ref:ms(v,t),role:"menuitem",disabled:f,"data-menu-item":!0,"data-disabled":f||h||void 0,"data-hovered":m.hovered===w?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:S,onMouseLeave:C,onClick:T,onKeyDown:cY({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:m.loop,dir:y,orientation:"vertical",onKeyDown:_.onKeyDown}),__vars:{"--menu-item-color":R?.isThemeColor&&R?.shade===void 0?`var(--mantine-color-${R.color}-6)`:I?.color,"--menu-item-hover":I?.hover},children:[u&&b.jsx("div",{...m.getStyles("itemSection",{styles:s,classNames:n}),"data-position":"left",children:u}),d&&b.jsx("div",{...m.getStyles("itemLabel",{styles:s,classNames:n}),children:d}),c&&b.jsx("div",{...m.getStyles("itemSection",{styles:s,classNames:n}),"data-position":"right",children:c})]})});$K.classes=wC;$K.displayName="@mantine/core/MenuItem";const rKe={},MK=tt((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=qe("MenuLabel",rKe,e),l=dA();return b.jsx(De,{ref:t,...l.getStyles("label",{className:r,style:i,styles:s,classNames:n}),...a})});MK.classes=wC;MK.displayName="@mantine/core/MenuLabel";const iKe={refProp:"ref"},xCe=A.forwardRef((e,t)=>{const{children:n,refProp:r,...i}=qe("MenuTarget",iKe,e);if(!b0(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=dA(),o=n.props,a=Vo(o.onClick,()=>{s.trigger==="click"?s.toggleDropdown():s.trigger==="click-hover"&&(s.setOpenedViaClick(!0),s.opened||s.openDropdown())}),l=Vo(o.onMouseEnter,()=>(s.trigger==="hover"||s.trigger==="click-hover")&&s.openDropdown()),u=Vo(o.onMouseLeave,()=>{(s.trigger==="hover"||s.trigger==="click-hover"&&!s.openedViaClick)&&s.closeDropdown()});return b.jsx(kr.Target,{refProp:r,popupType:"menu",ref:t,...i,children:A.cloneElement(n,{onClick:a,onMouseEnter:l,onMouseLeave:u,"data-expanded":s.opened?!0:void 0})})});xCe.displayName="@mantine/core/MenuTarget";const sKe={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function Nn(e){const t=qe("Menu",sKe,e),{children:n,onOpen:r,onClose:i,opened:s,defaultOpened:o,trapFocus:a,onChange:l,closeOnItemClick:u,loop:c,closeOnEscape:d,trigger:f,openDelay:h,closeDelay:p,classNames:m,styles:g,unstyled:y,variant:v,vars:w,menuItemTabIndex:_,keepMounted:C,withInitialFocusPlaceholder:S,...T}=t,k=Ot({name:"Menu",classes:wC,props:t,classNames:m,styles:g,unstyled:y}),[I,{setHovered:R,resetHovered:P}]=Ize(),[N,$]=Fi({value:s,defaultValue:o,finalValue:!1,onChange:l}),[O,j]=A.useState(!1),B=()=>{$(!1),j(!1),N&&i?.()},H=()=>{$(!0),!N&&r?.()},q=()=>{N?B():H()},{openDropdown:Y,closeDropdown:V}=fCe({open:H,close:B,closeDelay:p,openDelay:h}),L=G=>Rze("[data-menu-item]","[data-menu-dropdown]",G),{resolvedClassNames:z,resolvedStyles:U}=Bf({classNames:m,styles:g,props:t});return Nl(()=>{P()},[N]),b.jsx(ZYe,{value:{getStyles:k,opened:N,toggleDropdown:q,getItemIndex:L,hovered:I,setHovered:R,openedViaClick:O,setOpenedViaClick:j,closeOnItemClick:u,closeDropdown:f==="click"?B:V,openDropdown:f==="click"?H:Y,closeDropdownImmediately:B,loop:c,trigger:f,unstyled:y,menuItemTabIndex:_,withInitialFocusPlaceholder:S},children:b.jsx(kr,{...T,opened:N,onChange:q,defaultOpened:o,trapFocus:C?!1:a,closeOnEscape:d,__staticSelector:"Menu",classNames:z,styles:U,unstyled:y,variant:v,keepMounted:C,children:n})})}Nn.extend=e=>e;Nn.withProps=Sxe(Nn);Nn.classes=wC;Nn.displayName="@mantine/core/Menu";Nn.Item=$K;Nn.Label=MK;Nn.Dropdown=NK;Nn.Target=xCe;Nn.Divider=OK;const[oKe,xC]=ko("Modal component was not found in tree");var S0={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const aKe={},q5=tt((e,t)=>{const n=qe("ModalBody",aKe,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=xC();return b.jsx(x_e,{ref:t,...u.getStyles("body",{classNames:r,style:s,styles:o,className:i}),...l})});q5.classes=S0;q5.displayName="@mantine/core/ModalBody";const lKe={},W5=tt((e,t)=>{const n=qe("ModalCloseButton",lKe,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=xC();return b.jsx(__e,{ref:t,...u.getStyles("close",{classNames:r,style:s,styles:o,className:i}),...l})});W5.classes=S0;W5.displayName="@mantine/core/ModalCloseButton";const uKe={},G5=tt((e,t)=>{const n=qe("ModalContent",uKe,e),{classNames:r,className:i,style:s,styles:o,vars:a,children:l,__hidden:u,...c}=n,d=xC(),f=d.scrollAreaComponent||Jqe;return b.jsx(C_e,{...d.getStyles("content",{className:i,style:s,styles:o,classNames:r}),innerProps:d.getStyles("inner",{className:i,style:s,styles:o,classNames:r}),"data-full-screen":d.fullScreen||void 0,"data-modal-content":!0,"data-hidden":u||void 0,ref:t,...c,children:b.jsx(f,{style:{maxHeight:d.fullScreen?"100dvh":`calc(100dvh - (${Ye(d.yOffset)} * 2))`},children:l})})});G5.classes=S0;G5.displayName="@mantine/core/ModalContent";const cKe={},Y5=tt((e,t)=>{const n=qe("ModalHeader",cKe,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=xC();return b.jsx(E_e,{ref:t,...u.getStyles("header",{classNames:r,style:s,styles:o,className:i}),...l})});Y5.classes=S0;Y5.displayName="@mantine/core/ModalHeader";const dKe={},K5=tt((e,t)=>{const n=qe("ModalOverlay",dKe,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=xC();return b.jsx(S_e,{ref:t,...u.getStyles("overlay",{classNames:r,style:s,styles:o,className:i}),...l})});K5.classes=S0;K5.displayName="@mantine/core/ModalOverlay";const fKe={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Au("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},hKe=(e,{radius:t,size:n,yOffset:r,xOffset:i})=>({root:{"--modal-radius":t===void 0?void 0:Br(t),"--modal-size":vn(n,"modal-size"),"--modal-y-offset":Ye(r),"--modal-x-offset":Ye(i)}}),X5=tt((e,t)=>{const n=qe("ModalRoot",fKe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,yOffset:u,scrollAreaComponent:c,radius:d,fullScreen:f,centered:h,xOffset:p,__staticSelector:m,...g}=n,y=Ot({name:m,classes:S0,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:hKe});return b.jsx(oKe,{value:{yOffset:u,scrollAreaComponent:c,getStyles:y,fullScreen:f},children:b.jsx(w_e,{ref:t,...y("root"),"data-full-screen":f||void 0,"data-centered":h||void 0,"data-offset-scrollbars":c===lp.Autosize||void 0,unstyled:a,...g})})});X5.classes=S0;X5.displayName="@mantine/core/ModalRoot";const[pKe,mKe]=w0();function _Ce({children:e}){const[t,n]=A.useState([]),[r,i]=A.useState(Au("modal"));return b.jsx(pKe,{value:{stack:t,addModal:(s,o)=>{n(a=>[...new Set([...a,s])]),i(a=>typeof o=="number"&&typeof a=="number"?Math.max(a,o):a)},removeModal:s=>n(o=>o.filter(a=>a!==s)),getZIndex:s=>`calc(${r} + ${t.indexOf(s)} + 1)`,currentId:t[t.length-1],maxZIndex:r},children:e})}_Ce.displayName="@mantine/core/ModalStack";const gKe={},Q5=tt((e,t)=>{const n=qe("ModalTitle",gKe,e),{classNames:r,className:i,style:s,styles:o,vars:a,...l}=n,u=xC();return b.jsx(T_e,{ref:t,...u.getStyles("title",{classNames:r,style:s,styles:o,className:i}),...l})});Q5.classes=S0;Q5.displayName="@mantine/core/ModalTitle";const yKe={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Au("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},Ti=tt((e,t)=>{const{title:n,withOverlay:r,overlayProps:i,withCloseButton:s,closeButtonProps:o,children:a,radius:l,opened:u,stackId:c,zIndex:d,...f}=qe("Modal",yKe,e),h=mKe(),p=!!n||s,m=h&&c?{closeOnEscape:h.currentId===c,trapFocus:h.currentId===c,zIndex:h.getZIndex(c)}:{},g=r===!1?!1:c&&h?h.currentId===c:u;return A.useEffect(()=>{h&&c&&(u?h.addModal(c,d||Au("modal")):h.removeModal(c))},[u,c,d]),b.jsxs(X5,{ref:t,radius:l,opened:u,zIndex:h&&c?h.getZIndex(c):d,...f,...m,children:[r&&b.jsx(K5,{visible:g,transitionProps:h&&c?{duration:0}:void 0,...i}),b.jsxs(G5,{radius:l,__hidden:h&&c&&u?c!==h.currentId:!1,children:[p&&b.jsxs(Y5,{children:[n&&b.jsx(Q5,{children:n}),s&&b.jsx(W5,{...o})]}),b.jsx(q5,{children:a})]})]})});Ti.classes=S0;Ti.displayName="@mantine/core/Modal";Ti.Root=X5;Ti.Overlay=K5;Ti.Content=G5;Ti.Body=q5;Ti.Header=Y5;Ti.Title=Q5;Ti.CloseButton=W5;Ti.Stack=_Ce;const[vKe,FK]=w0(),[bKe,wKe]=w0();var J5={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const xKe={},_Ke=(e,{gap:t},{size:n})=>({group:{"--pg-gap":t!==void 0?vn(t):vn(n,"pg-gap")}}),LK=tt((e,t)=>{const n=qe("PillGroup",xKe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,size:u,disabled:c,...d}=n,h=FK()?.size||u||void 0,p=Ot({name:"PillGroup",classes:J5,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:_Ke,stylesCtx:{size:h},rootSelector:"group"});return b.jsx(bKe,{value:{size:h,disabled:c},children:b.jsx(De,{ref:t,size:h,...p("group"),...d})})});LK.classes=J5;LK.displayName="@mantine/core/PillGroup";const CKe={variant:"default"},EKe=(e,{radius:t},{size:n})=>({root:{"--pill-fz":vn(n,"pill-fz"),"--pill-height":vn(n,"pill-height"),"--pill-radius":t===void 0?void 0:Br(t)}}),V1=tt((e,t)=>{const n=qe("Pill",CKe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,variant:u,children:c,withRemoveButton:d,onRemove:f,removeButtonProps:h,radius:p,size:m,disabled:g,mod:y,...v}=n,w=wKe(),_=FK(),C=m||w?.size||void 0,S=_?.variant==="filled"?"contrast":u||"default",T=Ot({name:"Pill",classes:J5,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:EKe,stylesCtx:{size:C}});return b.jsxs(De,{component:"span",ref:t,variant:S,size:C,...T("root",{variant:S}),mod:[{"with-remove":d&&!g,disabled:g||w?.disabled},y],...v,children:[b.jsx("span",{...T("label"),children:c}),d&&b.jsx(up,{variant:"transparent",radius:p,tabIndex:-1,"aria-hidden":!0,unstyled:a,...h,...T("remove",{className:h?.className,style:h?.style}),onMouseDown:k=>{k.preventDefault(),k.stopPropagation(),h?.onMouseDown?.(k)},onClick:k=>{k.stopPropagation(),f?.(),h?.onClick?.(k)}})]})});V1.classes=J5;V1.displayName="@mantine/core/Pill";V1.Group=LK;var CCe={field:"m_45c4369d"};const SKe={type:"visible"},jK=tt((e,t)=>{const n=qe("PillsInputField",SKe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,type:u,disabled:c,id:d,pointer:f,mod:h,...p}=n,m=FK(),g=gC(),y=Ot({name:"PillsInputField",classes:CCe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,rootSelector:"field"}),v=c||m?.disabled;return b.jsx(De,{component:"input",ref:ms(t,m?.fieldRef),"data-type":u,disabled:v,mod:[{disabled:v,pointer:f},h],...y("field"),...p,id:g?.inputId||d,"aria-invalid":m?.hasError,"aria-describedby":g?.describedBy,type:"text",onMouseDown:w=>!f&&w.stopPropagation()})});jK.classes=CCe;jK.displayName="@mantine/core/PillsInputField";const TKe={},v_=tt((e,t)=>{const n=qe("PillsInput",TKe,e),{children:r,onMouseDown:i,onClick:s,size:o,disabled:a,__staticSelector:l,error:u,variant:c,...d}=n,f=A.useRef(null);return b.jsx(vKe,{value:{fieldRef:f,size:o,disabled:a,hasError:!!u,variant:c},children:b.jsx(zl,{size:o,error:u,variant:c,component:"div",ref:t,onMouseDown:h=>{h.preventDefault(),i?.(h),f.current?.focus()},onClick:h=>{h.preventDefault(),h.currentTarget.closest("fieldset")?.disabled||(f.current?.focus(),s?.(h))},...d,multiline:!0,disabled:a,__staticSelector:l||"PillsInput",withAria:!1,children:r})})});v_.displayName="@mantine/core/PillsInput";v_.Field=jK;function kKe({data:e,value:t}){const n=t.map(i=>i.trim().toLowerCase());return e.reduce((i,s)=>(y_(s)?i.push({group:s.group,items:s.items.filter(o=>n.indexOf(o.value.toLowerCase().trim())===-1)}):n.indexOf(s.value.toLowerCase().trim())===-1&&i.push(s),i),[])}const AKe={maxValues:1/0,withCheckIcon:!0,checkIconPosition:"left",hiddenInputValuesDivider:","},_C=tt((e,t)=>{const n=qe("MultiSelect",AKe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,size:u,value:c,defaultValue:d,onChange:f,onKeyDown:h,variant:p,data:m,dropdownOpened:g,defaultDropdownOpened:y,onDropdownOpen:v,onDropdownClose:w,selectFirstOptionOnChange:_,onOptionSubmit:C,comboboxProps:S,filter:T,limit:k,withScrollArea:I,maxDropdownHeight:R,searchValue:P,defaultSearchValue:N,onSearchChange:$,readOnly:O,disabled:j,onFocus:B,onBlur:H,radius:q,rightSection:Y,rightSectionWidth:V,rightSectionPointerEvents:L,rightSectionProps:z,leftSection:U,leftSectionWidth:G,leftSectionPointerEvents:Q,leftSectionProps:ne,inputContainer:ue,inputWrapperOrder:se,withAsterisk:ae,labelProps:he,descriptionProps:ie,errorProps:le,wrapperProps:Ee,description:X,label:fe,error:de,maxValues:te,searchable:ee,nothingFoundMessage:me,withCheckIcon:Re,checkIconPosition:Te,hidePickedOptions:we,withErrorStyles:$e,name:Ae,form:Oe,id:xe,clearable:je,clearButtonProps:Ue,hiddenInputProps:nt,placeholder:it,hiddenInputValuesDivider:wt,required:Zt,mod:Qt,renderOption:Mn,onRemove:jt,onClear:gn,scrollAreaProps:Kn,chevronColor:Un,...Dr}=n,Jn=Sa(xe),br=eK(m),Rn=B5(br),fn=cA({opened:g,defaultOpened:y,onDropdownOpen:v,onDropdownClose:()=>{w?.(),fn.resetSelectedOption()}}),{styleProps:sr,rest:{type:ui,autoComplete:_r,...In}}=Eb(Dr),[ht,pr]=Fi({value:c,defaultValue:d,finalValue:[],onChange:f}),[Yt,tr]=Fi({value:P,defaultValue:N,finalValue:"",onChange:$}),pn=Vn=>{tr(Vn),fn.resetSelectedOption()},Qn=Ot({name:"MultiSelect",classes:{},props:n,classNames:r,styles:o,unstyled:a}),{resolvedClassNames:Cr,resolvedStyles:Pr}=Bf({props:n,styles:o,classNames:r}),Or=Vn=>{h?.(Vn),Vn.key===" "&&!ee&&(Vn.preventDefault(),fn.toggleDropdown()),Vn.key==="Backspace"&&Yt.length===0&&ht.length>0&&(jt?.(ht[ht.length-1]),pr(ht.slice(0,ht.length-1)))},oo=ht.map((Vn,Bi)=>b.jsx(V1,{withRemoveButton:!O&&!Rn[Vn]?.disabled,onRemove:()=>{pr(ht.filter(ao=>Vn!==ao)),jt?.(Vn)},unstyled:a,disabled:j,...Qn("pill"),children:Rn[Vn]?.label||Vn},`${Vn}-${Bi}`));A.useEffect(()=>{_&&fn.selectFirstOption()},[_,Yt]);const ka=b.jsx(Wn.ClearButton,{...Ue,onClear:()=>{gn?.(),pr([]),pn("")}}),Nu=kKe({data:br,value:ht}),vc=je&&ht.length>0&&!j&&!O;return b.jsxs(b.Fragment,{children:[b.jsxs(Wn,{store:fn,classNames:Cr,styles:Pr,unstyled:a,size:u,readOnly:O,__staticSelector:"MultiSelect",onOptionSubmit:Vn=>{C?.(Vn),pn(""),fn.updateSelectedOptionIndex("selected"),ht.includes(Rn[Vn].value)?(pr(ht.filter(Bi=>Bi!==Rn[Vn].value)),jt?.(Rn[Vn].value)):ht.length<te&&pr([...ht,Rn[Vn].value])},...S,children:[b.jsx(Wn.DropdownTarget,{children:b.jsx(v_,{...sr,__staticSelector:"MultiSelect",classNames:Cr,styles:Pr,unstyled:a,size:u,className:i,style:s,variant:p,disabled:j,radius:q,__defaultRightSection:b.jsx(Wn.Chevron,{size:u,error:de,unstyled:a,color:Un}),__clearSection:ka,__clearable:vc,rightSection:Y,rightSectionPointerEvents:L||(ka?"all":"none"),rightSectionWidth:V,rightSectionProps:z,leftSection:U,leftSectionWidth:G,leftSectionPointerEvents:Q,leftSectionProps:ne,inputContainer:ue,inputWrapperOrder:se,withAsterisk:ae,labelProps:he,descriptionProps:ie,errorProps:le,wrapperProps:Ee,description:X,label:fe,error:de,withErrorStyles:$e,__stylesApiProps:{...n,rightSectionPointerEvents:L||(vc?"all":"none"),multiline:!0},pointer:!ee,onClick:()=>ee?fn.openDropdown():fn.toggleDropdown(),"data-expanded":fn.dropdownOpened||void 0,id:Jn,required:Zt,mod:Qt,children:b.jsxs(V1.Group,{disabled:j,unstyled:a,...Qn("pillsList"),children:[oo,b.jsx(Wn.EventsTarget,{autoComplete:_r,children:b.jsx(v_.Field,{...In,ref:t,id:Jn,placeholder:it,type:!ee&&!it?"hidden":"visible",...Qn("inputField"),unstyled:a,onFocus:Vn=>{B?.(Vn),ee&&fn.openDropdown()},onBlur:Vn=>{H?.(Vn),fn.closeDropdown(),pn("")},onKeyDown:Or,value:Yt,onChange:Vn=>{pn(Vn.currentTarget.value),ee&&fn.openDropdown(),_&&fn.selectFirstOption()},disabled:j,readOnly:O||!ee,pointer:!ee})})]})})}),b.jsx(gK,{data:we?Nu:br,hidden:O||j,filter:T,search:Yt,limit:k,hiddenWhenEmpty:!me,withScrollArea:I,maxDropdownHeight:R,filterOptions:ee,value:ht,checkIconPosition:Te,withCheckIcon:Re,nothingFoundMessage:me,unstyled:a,labelId:fe?`${Jn}-label`:void 0,"aria-label":fe?void 0:Dr["aria-label"],renderOption:Mn,scrollAreaProps:Kn})]}),b.jsx(Wn.HiddenInput,{name:Ae,valuesDivider:wt,value:ht,form:Oe,disabled:j,...nt})]})});_C.classes={...zl.classes,...Wn.classes};_C.displayName="@mantine/core/MultiSelect";var ECe={root:"m_f0824112",description:"m_57492dcc",section:"m_690090b5",label:"m_1f6ac4c4",body:"m_f07af9d2",children:"m_e17b862f",chevron:"m_1fd8a00b"};const RKe={},IKe=(e,{variant:t,color:n,childrenOffset:r,autoContrast:i})=>{const s=e.variantColorResolver({color:n||e.primaryColor,theme:e,variant:t||"light",autoContrast:i});return{root:{"--nl-bg":n||t?s.background:void 0,"--nl-hover":n||t?s.hover:void 0,"--nl-color":n||t?s.color:void 0},children:{"--nl-offset":Mi(r)}}},Z5=Ws((e,t)=>{const n=qe("NavLink",RKe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,opened:u,defaultOpened:c,onChange:d,children:f,onClick:h,active:p,disabled:m,leftSection:g,rightSection:y,label:v,description:w,disableRightSectionRotation:_,noWrap:C,childrenOffset:S,onKeyDown:T,autoContrast:k,mod:I,...R}=n,P=Ot({name:"NavLink",props:n,classes:ECe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:IKe}),[N,$]=Fi({value:u,defaultValue:c,finalValue:!1,onChange:d}),O=!!f,j=B=>{h?.(B),O&&(B.preventDefault(),$(!N))};return b.jsxs(b.Fragment,{children:[b.jsxs(no,{...P("root"),component:"a",ref:t,onClick:j,onKeyDown:B=>{T?.(B),B.nativeEvent.code==="Space"&&O&&(B.preventDefault(),$(!N))},unstyled:a,mod:[{disabled:m,active:p,expanded:N},I],...R,children:[g&&b.jsx(De,{component:"span",...P("section"),mod:{position:"left"},children:g}),b.jsxs(De,{...P("body"),mod:{"no-wrap":C},children:[b.jsx(De,{component:"span",...P("label"),children:v}),b.jsx(De,{component:"span",mod:{active:p},...P("description"),children:w})]}),(O||y!==void 0)&&b.jsx(De,{...P("section"),component:"span",mod:{rotate:N&&!_,position:"right"},children:O?y!==void 0?y:b.jsx(g_,{...P("chevron")}):y})]}),O&&b.jsx(kp,{in:N,...P("collapse"),children:b.jsx("div",{...P("children"),children:f})})]})});Z5.classes=ECe;Z5.displayName="@mantine/core/NavLink";var SCe={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const DKe={withCloseButton:!0},PKe=(e,{radius:t,color:n})=>({root:{"--notification-radius":t===void 0?void 0:Br(t),"--notification-color":n?Xr(n,e):void 0}}),BK=tt((e,t)=>{const n=qe("Notification",DKe,e),{className:r,color:i,radius:s,loading:o,withCloseButton:a,withBorder:l,title:u,icon:c,children:d,onClose:f,closeButtonProps:h,classNames:p,style:m,styles:g,unstyled:y,variant:v,vars:w,mod:_,loaderProps:C,role:S,...T}=n,k=Ot({name:"Notification",classes:SCe,props:n,className:r,style:m,classNames:p,styles:g,unstyled:y,vars:w,varsResolver:PKe});return b.jsxs(De,{...k("root"),mod:[{"data-with-icon":!!c||o,"data-with-border":l},_],ref:t,variant:v,role:S||"alert",...T,children:[c&&!o&&b.jsx("div",{...k("icon"),children:c}),o&&b.jsx(pc,{size:28,color:i,...C,...k("loader")}),b.jsxs("div",{...k("body"),children:[u&&b.jsx("div",{...k("title"),children:u}),b.jsx(De,{...k("description"),mod:{"data-with-title":!!u},children:d})]}),a&&b.jsx(up,{iconSize:16,color:"gray",...h,unstyled:y,onClick:f,...k("closeButton")})]})});BK.classes=SCe;BK.displayName="@mantine/core/Notification";function TCe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var LT;(function(e){e.event="event",e.props="prop"})(LT||(LT={}));function Ig(){}function OKe(e){var t,n=void 0;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return t&&r.length===t.length&&r.every(function(s,o){return s===t[o]})||(t=r,n=e.apply(void 0,r)),n}}function jT(e){return!!(e||"").match(/\d/)}function jx(e){return e==null}function NKe(e){return typeof e=="number"&&isNaN(e)}function kCe(e){return jx(e)||NKe(e)||typeof e=="number"&&!isFinite(e)}function ACe(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function $Ke(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function MKe(e,t,n){var r=$Ke(n),i=e.search(/[1-9]/);return i=i===-1?e.length:i,e.substring(0,i)+e.substring(i,e.length).replace(r,"$1"+t)}function FKe(e){var t=A.useRef(e);t.current=e;var n=A.useRef(function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return t.current.apply(t,r)});return n.current}function zK(e,t){t===void 0&&(t=!0);var n=e[0]==="-",r=n&&t;e=e.replace("-","");var i=e.split("."),s=i[0],o=i[1]||"";return{beforeDecimal:s,afterDecimal:o,hasNegation:n,addNegation:r}}function LKe(e){if(!e)return e;var t=e[0]==="-";t&&(e=e.substring(1,e.length));var n=e.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(t?"-":"")+r+(i?"."+i:"")}function RCe(e,t,n){for(var r="",i=n?"0":"",s=0;s<=t-1;s++)r+=e[s]||i;return r}function Dle(e,t){return Array(t+1).join(e)}function ICe(e){var t=e+"",n=t[0]==="-"?"-":"";n&&(t=t.substring(1));var r=t.split(/[eE]/g),i=r[0],s=r[1];if(s=Number(s),!s)return n+i;i=i.replace(".","");var o=1+s,a=i.length;return o<0?i="0."+Dle("0",Math.abs(o))+i:o>=a?i=i+Dle("0",o-a):i=(i.substring(0,o)||"0")+"."+i.substring(o),n+i}function Ple(e,t,n){if(["","-"].indexOf(e)!==-1)return e;var r=(e.indexOf(".")!==-1||n)&&t,i=zK(e),s=i.beforeDecimal,o=i.afterDecimal,a=i.hasNegation,l=parseFloat("0."+(o||"0")),u=o.length<=t?"0."+o:l.toFixed(t),c=u.split("."),d=s;s&&Number(c[0])&&(d=s.split("").reverse().reduce(function(m,g,y){return m.length>y?(Number(m[0])+Number(g)).toString()+m.substring(1,m.length):g+m},c[0]));var f=RCe(c[1]||"",t,n),h=a?"-":"",p=r?".":"";return""+h+d+p+f}function r1(e,t){if(e.value=e.value,e!==null){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}var DCe=OKe(function(e,t){for(var n=0,r=0,i=e.length,s=t.length;e[n]===t[n]&&n<i;)n++;for(;e[i-1-r]===t[s-1-r]&&s-r>n&&i-r>n;)r++;return{from:{start:n,end:i-r},to:{start:n,end:s-r}}}),jKe=function(e,t){var n=Math.min(e.selectionStart,t);return{from:{start:n,end:e.selectionEnd},to:{start:n,end:t}}};function BKe(e,t,n){return Math.min(Math.max(e,t),n)}function n9(e){return Math.max(e.selectionStart,e.selectionEnd)}function zKe(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function UKe(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function VKe(e){var t=e.currentValue,n=e.formattedValue,r=e.currentValueIndex,i=e.formattedValueIndex;return t[r]===n[i]}function HKe(e,t,n,r,i,s,o){o===void 0&&(o=VKe);var a=i.findIndex(function(_){return _}),l=e.slice(0,a);!t&&!n.startsWith(l)&&(t=l,n=l+n,r=r+l.length);for(var u=n.length,c=e.length,d={},f=new Array(u),h=0;h<u;h++){f[h]=-1;for(var p=0,m=c;p<m;p++){var g=o({currentValue:n,lastValue:t,formattedValue:e,currentValueIndex:h,formattedValueIndex:p});if(g&&d[p]!==!0){f[h]=p,d[p]=!0;break}}}for(var y=r;y<u&&(f[y]===-1||!s(n[y]));)y++;var v=y===u||f[y]===-1?c:f[y];for(y=r-1;y>0&&f[y]===-1;)y--;var w=y===-1||f[y]===-1?0:f[y]+1;return w>v?v:r-w<v-r?w:v}function Ole(e,t,n,r){var i=e.length;if(t=BKe(t,0,i),r==="left"){for(;t>=0&&!n[t];)t--;t===-1&&(t=n.indexOf(!0))}else{for(;t<=i&&!n[t];)t++;t>i&&(t=n.lastIndexOf(!0))}return t===-1&&(t=i),t}function qKe(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),n=0,r=t.length;n<r;n++)t[n]=!!(jT(e[n])||jT(e[n-1]));return t}function PCe(e,t,n,r,i,s){s===void 0&&(s=Ig);var o=FKe(function(p,m){var g,y;return kCe(p)?(y="",g=""):typeof p=="number"||m?(y=typeof p=="number"?ICe(p):p,g=r(y)):(y=i(p,void 0),g=r(y)),{formattedValue:g,numAsString:y}}),a=A.useState(function(){return o(jx(e)?t:e,n)}),l=a[0],u=a[1],c=function(p,m){p.formattedValue!==l.formattedValue&&u({formattedValue:p.formattedValue,numAsString:p.value}),s(p,m)},d=e,f=n;jx(e)&&(d=l.numAsString,f=!0);var h=o(d,f);return A.useMemo(function(){u(h)},[h.formattedValue]),[l,c]}function WKe(e){return e.replace(/[^0-9]/g,"")}function GKe(e){return e}function YKe(e){var t=e.type;t===void 0&&(t="text");var n=e.displayType;n===void 0&&(n="input");var r=e.customInput,i=e.renderText,s=e.getInputRef,o=e.format;o===void 0&&(o=GKe);var a=e.removeFormatting;a===void 0&&(a=WKe);var l=e.defaultValue,u=e.valueIsNumericString,c=e.onValueChange,d=e.isAllowed,f=e.onChange;f===void 0&&(f=Ig);var h=e.onKeyDown;h===void 0&&(h=Ig);var p=e.onMouseUp;p===void 0&&(p=Ig);var m=e.onFocus;m===void 0&&(m=Ig);var g=e.onBlur;g===void 0&&(g=Ig);var y=e.value,v=e.getCaretBoundary;v===void 0&&(v=qKe);var w=e.isValidInputCharacter;w===void 0&&(w=jT);var _=e.isCharacterSame,C=TCe(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),S=PCe(y,l,!!u,o,a,c),T=S[0],k=T.formattedValue,I=T.numAsString,R=S[1],P=A.useRef(),N=A.useRef({formattedValue:k,numAsString:I}),$=function(te,ee){N.current={formattedValue:te.formattedValue,numAsString:te.value},R(te,ee)},O=A.useState(!1),j=O[0],B=O[1],H=A.useRef(null),q=A.useRef({setCaretTimeout:null,focusTimeout:null});A.useEffect(function(){return B(!0),function(){clearTimeout(q.current.setCaretTimeout),clearTimeout(q.current.focusTimeout)}},[]);var Y=o,V=function(te,ee){var me=parseFloat(ee);return{formattedValue:te,value:ee,floatValue:isNaN(me)?void 0:me}},L=function(te,ee,me){te.selectionStart===0&&te.selectionEnd===te.value.length||(r1(te,ee),q.current.setCaretTimeout=setTimeout(function(){te.value===me&&te.selectionStart!==ee&&r1(te,ee)},0))},z=function(te,ee,me){return Ole(te,ee,v(te),me)},U=function(te,ee,me){var Re=v(ee),Te=HKe(ee,k,te,me,Re,w,_);return Te=Ole(ee,Te,Re),Te},G=function(te){var ee=te.formattedValue;ee===void 0&&(ee="");var me=te.input,Re=te.source,Te=te.event,we=te.numAsString,$e;if(me){var Ae=te.inputValue||me.value,Oe=n9(me);me.value=ee,$e=U(Ae,ee,Oe),$e!==void 0&&L(me,$e,ee)}ee!==k&&$(V(ee,we),{event:Te,source:Re})};A.useEffect(function(){var te=N.current,ee=te.formattedValue,me=te.numAsString;(k!==ee||I!==me)&&$(V(k,I),{event:void 0,source:LT.props})},[k,I]);var Q=H.current?n9(H.current):void 0,ne=typeof window<"u"?A.useLayoutEffect:A.useEffect;ne(function(){var te=H.current;if(k!==N.current.formattedValue&&te){var ee=U(N.current.formattedValue,k,Q);te.value=k,L(te,ee,k)}},[k]);var ue=function(te,ee,me){var Re=ee.target,Te=P.current?jKe(P.current,Re.selectionEnd):DCe(k,te),we=Object.assign(Object.assign({},Te),{lastValue:k}),$e=a(te,we),Ae=Y($e);if($e=a(Ae,void 0),d&&!d(V(Ae,$e))){var Oe=ee.target,xe=n9(Oe),je=U(te,k,xe);return Oe.value=k,L(Oe,je,k),!1}return G({formattedValue:Ae,numAsString:$e,inputValue:te,event:ee,source:me,input:ee.target}),!0},se=function(te,ee){ee===void 0&&(ee=0);var me=te.selectionStart,Re=te.selectionEnd;P.current={selectionStart:me,selectionEnd:Re+ee}},ae=function(te){var ee=te.target,me=ee.value,Re=ue(me,te,LT.event);Re&&f(te),P.current=void 0},he=function(te){var ee=te.target,me=te.key,Re=ee.selectionStart,Te=ee.selectionEnd,we=ee.value;we===void 0&&(we="");var $e;me==="ArrowLeft"||me==="Backspace"?$e=Math.max(Re-1,0):me==="ArrowRight"?$e=Math.min(Re+1,we.length):me==="Delete"&&($e=Re);var Ae=0;me==="Delete"&&Re===Te&&(Ae=1);var Oe=me==="ArrowLeft"||me==="ArrowRight";if($e===void 0||Re!==Te&&!Oe){h(te),se(ee,Ae);return}var xe=$e;if(Oe){var je=me==="ArrowLeft"?"left":"right";xe=z(we,$e,je),xe!==$e&&te.preventDefault()}else me==="Delete"&&!w(we[$e])?xe=z(we,$e,"right"):me==="Backspace"&&!w(we[$e])&&(xe=z(we,$e,"left"));xe!==$e&&L(ee,xe,we),h(te),se(ee,Ae)},ie=function(te){var ee=te.target,me=function(){var Re=ee.selectionStart,Te=ee.selectionEnd,we=ee.value;if(we===void 0&&(we=""),Re===Te){var $e=z(we,Re);$e!==Re&&L(ee,$e,we)}};me(),requestAnimationFrame(function(){me()}),p(te),se(ee)},le=function(te){te.persist&&te.persist();var ee=te.target,me=te.currentTarget;H.current=ee,q.current.focusTimeout=setTimeout(function(){var Re=ee.selectionStart,Te=ee.selectionEnd,we=ee.value;we===void 0&&(we="");var $e=z(we,Re);$e!==Re&&!(Re===0&&Te===we.length)&&L(ee,$e,we),m(Object.assign(Object.assign({},te),{currentTarget:me}))},0)},Ee=function(te){H.current=null,clearTimeout(q.current.focusTimeout),clearTimeout(q.current.setCaretTimeout),g(te)},X=j&&zKe()?"numeric":void 0,fe=Object.assign({inputMode:X},C,{type:t,value:k,onChange:ae,onKeyDown:he,onMouseUp:ie,onFocus:le,onBlur:Ee});if(n==="text")return i?mn.createElement(mn.Fragment,null,i(k,C)||null):mn.createElement("span",Object.assign({},C,{ref:s}),k);if(r){var de=r;return mn.createElement(de,Object.assign({},fe,{ref:s}))}return mn.createElement("input",Object.assign({},fe,{ref:s}))}function Nle(e,t){var n=t.decimalScale,r=t.fixedDecimalScale,i=t.prefix;i===void 0&&(i="");var s=t.suffix;s===void 0&&(s="");var o=t.allowNegative,a=t.thousandsGroupStyle;if(a===void 0&&(a="thousand"),e===""||e==="-")return e;var l=e$(t),u=l.thousandSeparator,c=l.decimalSeparator,d=n!==0&&e.indexOf(".")!==-1||n&&r,f=zK(e,o),h=f.beforeDecimal,p=f.afterDecimal,m=f.addNegation;return n!==void 0&&(p=RCe(p,n,!!r)),u&&(h=MKe(h,u,a)),i&&(h=i+h),s&&(p=p+s),m&&(h="-"+h),e=h+(d&&c||"")+p,e}function e$(e){var t=e.decimalSeparator;t===void 0&&(t=".");var n=e.thousandSeparator,r=e.allowedDecimalSeparators;return n===!0&&(n=","),r||(r=[t,"."]),{decimalSeparator:t,thousandSeparator:n,allowedDecimalSeparators:r}}function KKe(e,t){e===void 0&&(e="");var n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(e),s=r.test(e);return e=e.replace(/-/g,""),i&&!s&&t&&(e="-"+e),e}function XKe(e,t){return new RegExp("(^-)|[0-9]|"+ACe(e),"g")}function QKe(e,t,n){return e===""?!0:!t?.match(/\d/)&&!n?.match(/\d/)&&typeof e=="string"&&!isNaN(Number(e))}function JKe(e,t,n){var r;t===void 0&&(t=UKe(e));var i=n.allowNegative,s=n.prefix;s===void 0&&(s="");var o=n.suffix;o===void 0&&(o="");var a=n.decimalScale,l=t.from,u=t.to,c=u.start,d=u.end,f=e$(n),h=f.allowedDecimalSeparators,p=f.decimalSeparator,m=e[d]===p;if(jT(e)&&(e===s||e===o)&&t.lastValue==="")return e;if(d-c===1&&h.indexOf(e[c])!==-1){var g=a===0?"":p;e=e.substring(0,c)+g+e.substring(c+1,e.length)}var y=function(H,q,Y){var V=!1,L=!1;s.startsWith("-")?V=!1:H.startsWith("--")?(V=!1,L=!0):o.startsWith("-")&&H.length===o.length?V=!1:H[0]==="-"&&(V=!0);var z=V?1:0;return L&&(z=2),z&&(H=H.substring(z),q-=z,Y-=z),{value:H,start:q,end:Y,hasNegation:V}},v=y(e,c,d),w=v.hasNegation;r=v,e=r.value,c=r.start,d=r.end;var _=y(t.lastValue,l.start,l.end),C=_.start,S=_.end,T=_.value,k=e.substring(c,d);e.length&&T.length&&(C>T.length-o.length||S<s.length)&&!(k&&o.startsWith(k))&&(e=T);var I=0;e.startsWith(s)?I+=s.length:c<s.length&&(I=c),e=e.substring(I),d-=I;var R=e.length,P=e.length-o.length;e.endsWith(o)?R=P:(d>P||d>e.length-o.length)&&(R=d),e=e.substring(0,R),e=KKe(w?"-"+e:e,i),e=(e.match(XKe(p))||[]).join("");var N=e.indexOf(p);e=e.replace(new RegExp(ACe(p),"g"),function(H,q){return q===N?".":""});var $=zK(e,i),O=$.beforeDecimal,j=$.afterDecimal,B=$.addNegation;return u.end-u.start<l.end-l.start&&O===""&&m&&!parseFloat(j)&&(e=B?"-":""),e}function ZKe(e,t){var n=t.prefix;n===void 0&&(n="");var r=t.suffix;r===void 0&&(r="");var i=Array.from({length:e.length+1}).map(function(){return!0}),s=e[0]==="-";i.fill(!1,0,n.length+(s?1:0));var o=e.length;return i.fill(!1,o-r.length+1,o+1),i}function eXe(e){var t=e$(e),n=t.thousandSeparator,r=t.decimalSeparator,i=e.prefix;i===void 0&&(i="");var s=e.allowNegative;if(s===void 0&&(s=!0),n===r)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+n+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+r+` (default value for decimalSeparator is .)
     `);return i.startsWith("-")&&s&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+i+`
      allowNegative: `+s+`
    `),s=!1),Object.assign(Object.assign({},e),{allowNegative:s})}function tXe(e){e=eXe(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var t=e.suffix,n=e.allowNegative,r=e.allowLeadingZeros,i=e.onKeyDown;i===void 0&&(i=Ig);var s=e.onBlur;s===void 0&&(s=Ig);var o=e.thousandSeparator,a=e.decimalScale,l=e.fixedDecimalScale,u=e.prefix;u===void 0&&(u="");var c=e.defaultValue,d=e.value,f=e.valueIsNumericString,h=e.onValueChange,p=TCe(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),m=e$(e),g=m.decimalSeparator,y=m.allowedDecimalSeparators,v=function(B){return Nle(B,e)},w=function(B,H){return JKe(B,H,e)},_=jx(d)?c:d,C=f??QKe(_,u,t);jx(d)?jx(c)||(C=C||typeof c=="number"):C=C||typeof d=="number";var S=function(B){return kCe(B)?B:(typeof B=="number"&&(B=ICe(B)),C&&typeof a=="number"?Ple(B,a,!!l):B)},T=PCe(S(d),S(c),!!C,v,w,h),k=T[0],I=k.numAsString,R=k.formattedValue,P=T[1],N=function(B){var H=B.target,q=B.key,Y=H.selectionStart,V=H.selectionEnd,L=H.value;if(L===void 0&&(L=""),(q==="Backspace"||q==="Delete")&&V<u.length){B.preventDefault();return}if(Y!==V){i(B);return}q==="Backspace"&&L[0]==="-"&&Y===u.length+1&&n&&r1(H,1),a&&l&&(q==="Backspace"&&L[Y-1]===g?(r1(H,Y-1),B.preventDefault()):q==="Delete"&&L[Y]===g&&B.preventDefault()),y?.includes(q)&&L[Y]===g&&r1(H,Y+1);var z=o===!0?",":o;q==="Backspace"&&L[Y-1]===z&&r1(H,Y-1),q==="Delete"&&L[Y]===z&&r1(H,Y+1),i(B)},$=function(B){var H=I;if(H.match(/\d/g)||(H=""),r||(H=LKe(H)),l&&a&&(H=Ple(H,a,l)),H!==I){var q=Nle(H,e);P({formattedValue:q,value:H,floatValue:parseFloat(H)},{event:B,source:LT.event})}s(B)},O=function(B){return B===g?!0:jT(B)},j=function(B){var H=B.currentValue,q=B.lastValue,Y=B.formattedValue,V=B.currentValueIndex,L=B.formattedValueIndex,z=H[V],U=Y[L],G=DCe(q,H),Q=G.to,ne=function(ue){return w(ue).indexOf(".")+u.length};return d===0&&l&&a&&H[Q.start]===g&&ne(H)<V&&ne(Y)>L?!1:V>=Q.start&&V<Q.end&&y&&y.includes(z)&&U===g?!0:z===U};return Object.assign(Object.assign({},p),{value:R,valueIsNumericString:!1,isValidInputCharacter:O,isCharacterSame:j,onValueChange:P,format:v,removeFormatting:w,getCaretBoundary:function(B){return ZKe(B,e)},onKeyDown:N,onBlur:$})}function nXe(e){var t=tXe(e);return mn.createElement(YKe,Object.assign({},t))}function $le({direction:e,style:t,...n}){return b.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:e==="up"?"rotate(180deg)":void 0,...t},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:b.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var TV={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const rXe=/^(0\.0*|-0(\.0*)?)$/,iXe=/^-?0\d+(\.\d+)?\.?$/;function kV(e){return typeof e=="string"&&e!==""&&!Number.isNaN(Number(e))}function r9(e){return typeof e=="number"?e<Number.MAX_SAFE_INTEGER:e===""||kV(e)&&Number(e)<Number.MAX_SAFE_INTEGER}function sXe(e){return e.toString().replace(".","").length}function oXe(e,t){return(typeof e=="number"?e<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(e)))&&!Number.isNaN(e)&&sXe(t)<14&&t!==""}function Mle(e,t,n){if(e===void 0)return!0;const r=t===void 0||e>=t,i=n===void 0||e<=n;return r&&i}const aXe={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},lXe=(e,{size:t})=>({controls:{"--ni-chevron-size":vn(t,"ni-chevron-size")}});function uXe(e,t,n){const r=e.toString().replace(/^0+/,""),i=parseFloat(r);return Number.isNaN(i)?r:i>Number.MAX_SAFE_INTEGER?t!==void 0?String(t):r:Xc(i,n,t)}const UK=tt((e,t)=>{const n=qe("NumberInput",aXe,e),{className:r,classNames:i,styles:s,unstyled:o,vars:a,onChange:l,onValueChange:u,value:c,defaultValue:d,max:f,min:h,step:p,hideControls:m,rightSection:g,isAllowed:y,clampBehavior:v,onBlur:w,allowDecimal:_,decimalScale:C,onKeyDown:S,onKeyDownCapture:T,handlersRef:k,startValue:I,disabled:R,rightSectionPointerEvents:P,allowNegative:N,readOnly:$,size:O,rightSectionWidth:j,stepHoldInterval:B,stepHoldDelay:H,allowLeadingZeros:q,withKeyboardEvents:Y,trimLeadingZeroesOnBlur:V,...L}=n,z=Ot({name:"NumberInput",classes:TV,props:n,classNames:i,styles:s,unstyled:o,vars:a,varsResolver:lXe}),{resolvedClassNames:U,resolvedStyles:G}=Bf({classNames:i,styles:s,props:n}),[Q,ne]=Fi({value:c,defaultValue:d,finalValue:"",onChange:l}),ue=H!==void 0&&B!==void 0,se=A.useRef(null),ae=A.useRef(null),he=A.useRef(0),ie=(Ae,Oe)=>{Oe.source==="event"&&ne(oXe(Ae.floatValue,Ae.value)&&!rXe.test(Ae.value)&&!(q&&iXe.test(Ae.value))?Ae.floatValue:Ae.value),u?.(Ae,Oe)},le=Ae=>{const Oe=String(Ae).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return Oe?Math.max(0,(Oe[1]?Oe[1].length:0)-(Oe[2]?+Oe[2]:0)):0},Ee=Ae=>{se.current&&typeof Ae<"u"&&se.current.setSelectionRange(Ae,Ae)},X=A.useRef(bN);X.current=()=>{if(!r9(Q))return;let Ae;const Oe=le(Q),xe=le(p),je=Math.max(Oe,xe),Ue=10**je;if(!kV(Q)&&(typeof Q!="number"||Number.isNaN(Q)))Ae=Xc(I,h,f);else if(f!==void 0){const it=(Math.round(Number(Q)*Ue)+Math.round(p*Ue))/Ue;Ae=it<=f?it:f}else Ae=(Math.round(Number(Q)*Ue)+Math.round(p*Ue))/Ue;const nt=Ae.toFixed(je);ne(parseFloat(nt)),u?.({floatValue:parseFloat(nt),formattedValue:nt,value:nt},{source:"increment"}),setTimeout(()=>Ee(se.current?.value.length),0)};const fe=A.useRef(bN);fe.current=()=>{if(!r9(Q))return;let Ae;const Oe=h!==void 0?h:N?Number.MIN_SAFE_INTEGER:0,xe=le(Q),je=le(p),Ue=Math.max(xe,je),nt=10**Ue;if(!kV(Q)&&typeof Q!="number"||Number.isNaN(Q))Ae=Xc(I,Oe,f);else{const wt=(Math.round(Number(Q)*nt)-Math.round(p*nt))/nt;Ae=Oe!==void 0&&wt<Oe?Oe:wt}const it=Ae.toFixed(Ue);ne(parseFloat(it)),u?.({floatValue:parseFloat(it),formattedValue:it,value:it},{source:"decrement"}),setTimeout(()=>Ee(se.current?.value.length),0)};const de=Ae=>{S?.(Ae),!($||!Y)&&(Ae.key==="ArrowUp"&&(Ae.preventDefault(),X.current()),Ae.key==="ArrowDown"&&(Ae.preventDefault(),fe.current()))},te=Ae=>{if(T?.(Ae),Ae.key==="Backspace"){const Oe=se.current;Oe.selectionStart===0&&Oe.selectionStart===Oe.selectionEnd&&(Ae.preventDefault(),window.setTimeout(()=>Ee(0),0))}},ee=Ae=>{let Oe=Q;v==="blur"&&typeof Oe=="number"&&(Oe=Xc(Oe,h,f)),V&&typeof Oe=="string"&&le(Oe)<15&&(Oe=uXe(Oe,f,h)),Q!==Oe&&ne(Oe),w?.(Ae)};wN(k,{increment:X.current,decrement:fe.current});const me=Ae=>{Ae?X.current():fe.current(),he.current+=1},Re=Ae=>{if(me(Ae),ue){const Oe=typeof B=="number"?B:B(he.current);ae.current=window.setTimeout(()=>Re(Ae),Oe)}},Te=(Ae,Oe)=>{Ae.preventDefault(),se.current?.focus(),me(Oe),ue&&(ae.current=window.setTimeout(()=>Re(Oe),H))},we=()=>{ae.current&&window.clearTimeout(ae.current),ae.current=null,he.current=0},$e=b.jsxs("div",{...z("controls"),children:[b.jsx(no,{...z("control"),tabIndex:-1,"aria-hidden":!0,disabled:R||typeof Q=="number"&&f!==void 0&&Q>=f,mod:{direction:"up"},onMouseDown:Ae=>Ae.preventDefault(),onPointerDown:Ae=>{Te(Ae,!0)},onPointerUp:we,onPointerLeave:we,children:b.jsx($le,{direction:"up"})}),b.jsx(no,{...z("control"),tabIndex:-1,"aria-hidden":!0,disabled:R||typeof Q=="number"&&h!==void 0&&Q<=h,mod:{direction:"down"},onMouseDown:Ae=>Ae.preventDefault(),onPointerDown:Ae=>{Te(Ae,!1)},onPointerUp:we,onPointerLeave:we,children:b.jsx($le,{direction:"down"})})]});return b.jsx(zl,{component:nXe,allowNegative:N,className:Lt(TV.root,r),size:O,...L,readOnly:$,disabled:R,value:Q,getInputRef:ms(t,se),onValueChange:ie,rightSection:m||$||!r9(Q)?g:g||$e,classNames:U,styles:G,unstyled:o,__staticSelector:"NumberInput",decimalScale:_?C:0,onKeyDown:de,onKeyDownCapture:te,rightSectionPointerEvents:P??(R?"none":void 0),rightSectionWidth:j??`var(--ni-right-section-width-${O||"sm"})`,allowLeadingZeros:q,onBlur:ee,isAllowed:Ae=>v==="strict"?y?y(Ae)&&Mle(Ae.floatValue,h,f):Mle(Ae.floatValue,h,f):y?y(Ae):!0})});UK.classes={...zl.classes,...TV};UK.displayName="@mantine/core/NumberInput";const[cXe,t$]=ko("Pagination.Root component was not found in tree");var fA={root:"m_4addd315",control:"m_326d024a",dots:"m_4ad7767d"};const dXe={withPadding:!0},hA=tt((e,t)=>{const n=qe("PaginationControl",dXe,e),{classNames:r,className:i,style:s,styles:o,vars:a,active:l,disabled:u,withPadding:c,mod:d,...f}=n,h=t$(),p=u||h.disabled;return b.jsx(no,{ref:t,disabled:p,mod:[{active:l,disabled:p,"with-padding":c},d],...h.getStyles("control",{className:i,style:s,classNames:r,styles:o,active:!p}),...f})});hA.classes=fA;hA.displayName="@mantine/core/PaginationControl";function pA({style:e,children:t,path:n,...r}){return b.jsx("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)",...e},...r,children:b.jsx("path",{d:n,fill:"currentColor"})})}const fXe=e=>b.jsx(pA,{...e,path:"M8.781 8l-3.3-3.3.943-.943L10.667 8l-4.243 4.243-.943-.943 3.3-3.3z"}),hXe=e=>b.jsx(pA,{...e,path:"M7.219 8l3.3 3.3-.943.943L5.333 8l4.243-4.243.943.943-3.3 3.3z"}),pXe=e=>b.jsx(pA,{...e,path:"M6.85355 3.85355C7.04882 3.65829 7.04882 3.34171 6.85355 3.14645C6.65829 2.95118 6.34171 2.95118 6.14645 3.14645L2.14645 7.14645C1.95118 7.34171 1.95118 7.65829 2.14645 7.85355L6.14645 11.8536C6.34171 12.0488 6.65829 12.0488 6.85355 11.8536C7.04882 11.6583 7.04882 11.3417 6.85355 11.1464L3.20711 7.5L6.85355 3.85355ZM12.8536 3.85355C13.0488 3.65829 13.0488 3.34171 12.8536 3.14645C12.6583 2.95118 12.3417 2.95118 12.1464 3.14645L8.14645 7.14645C7.95118 7.34171 7.95118 7.65829 8.14645 7.85355L12.1464 11.8536C12.3417 12.0488 12.6583 12.0488 12.8536 11.8536C13.0488 11.6583 13.0488 11.3417 12.8536 11.1464L9.20711 7.5L12.8536 3.85355Z"}),mXe=e=>b.jsx(pA,{...e,path:"M2.14645 11.1464C1.95118 11.3417 1.95118 11.6583 2.14645 11.8536C2.34171 12.0488 2.65829 12.0488 2.85355 11.8536L6.85355 7.85355C7.04882 7.65829 7.04882 7.34171 6.85355 7.14645L2.85355 3.14645C2.65829 2.95118 2.34171 2.95118 2.14645 3.14645C1.95118 3.34171 1.95118 3.65829 2.14645 3.85355L5.79289 7.5L2.14645 11.1464ZM8.14645 11.1464C7.95118 11.3417 7.95118 11.6583 8.14645 11.8536C8.34171 12.0488 8.65829 12.0488 8.85355 11.8536L12.8536 7.85355C13.0488 7.65829 13.0488 7.34171 12.8536 7.14645L8.85355 3.14645C8.65829 2.95118 8.34171 2.95118 8.14645 3.14645C7.95118 3.34171 7.95118 3.65829 8.14645 3.85355L11.7929 7.5L8.14645 11.1464Z"}),gXe=e=>b.jsx(pA,{...e,path:"M2 8c0-.733.6-1.333 1.333-1.333.734 0 1.334.6 1.334 1.333s-.6 1.333-1.334 1.333C2.6 9.333 2 8.733 2 8zm9.333 0c0-.733.6-1.333 1.334-1.333C13.4 6.667 14 7.267 14 8s-.6 1.333-1.333 1.333c-.734 0-1.334-.6-1.334-1.333zM6.667 8c0-.733.6-1.333 1.333-1.333s1.333.6 1.333 1.333S8.733 9.333 8 9.333 6.667 8.733 6.667 8z"}),yXe={icon:gXe},n$=tt((e,t)=>{const n=qe("PaginationDots",yXe,e),{classNames:r,className:i,style:s,styles:o,vars:a,icon:l,...u}=n,c=t$(),d=l;return b.jsx(De,{ref:t,...c.getStyles("dots",{className:i,style:s,styles:o,classNames:r}),...u,children:b.jsx(d,{style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});n$.classes=fA;n$.displayName="@mantine/core/PaginationDots";function r$({icon:e,name:t,action:n,type:r}){const i={icon:e},s=A.forwardRef((o,a)=>{const{icon:l,...u}=qe(t,i,o),c=l,d=t$(),f=r==="next"?d.active===d.total:d.active===1;return b.jsx(hA,{disabled:d.disabled||f,ref:a,onClick:d[n],withPadding:!1,...u,children:b.jsx(c,{className:"mantine-rotate-rtl",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});return s.displayName=`@mantine/core/${t}`,s}const OCe=r$({icon:fXe,name:"PaginationNext",action:"onNext",type:"next"}),NCe=r$({icon:hXe,name:"PaginationPrevious",action:"onPrevious",type:"previous"}),$Ce=r$({icon:pXe,name:"PaginationFirst",action:"onFirst",type:"previous"}),MCe=r$({icon:mXe,name:"PaginationLast",action:"onLast",type:"next"});function VK({dotsIcon:e}){const t=t$(),n=t.range.map((r,i)=>r==="dots"?b.jsx(n$,{icon:e},i):b.jsx(hA,{active:r===t.active,"aria-current":r===t.active?"page":void 0,onClick:()=>t.onChange(r),disabled:t.disabled,...t.getItemProps?.(r),children:t.getItemProps?.(r)?.children??r},i));return b.jsx(b.Fragment,{children:n})}VK.displayName="@mantine/core/PaginationItems";const vXe={siblings:1,boundaries:1},bXe=(e,{size:t,radius:n,color:r,autoContrast:i})=>({root:{"--pagination-control-radius":n===void 0?void 0:Br(n),"--pagination-control-size":vn(t,"pagination-control-size"),"--pagination-control-fz":ps(t),"--pagination-active-bg":r?Xr(r,e):void 0,"--pagination-active-color":jy(i,e)?Tp({color:r,theme:e,autoContrast:i}):void 0}}),i$=tt((e,t)=>{const n=qe("PaginationRoot",vXe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,total:u,value:c,defaultValue:d,onChange:f,disabled:h,siblings:p,boundaries:m,color:g,radius:y,onNextPage:v,onPreviousPage:w,onFirstPage:_,onLastPage:C,getItemProps:S,autoContrast:T,...k}=n,I=Ot({name:"Pagination",classes:fA,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:bXe}),{range:R,setPage:P,next:N,previous:$,active:O,first:j,last:B}=Wze({page:c,initialPage:d,onChange:f,total:u,siblings:p,boundaries:m}),H=Vo(v,N),q=Vo(w,$),Y=Vo(_,j),V=Vo(C,B);return b.jsx(cXe,{value:{total:u,range:R,active:O,disabled:h,getItemProps:S,onChange:P,onNext:H,onPrevious:q,onFirst:Y,onLast:V,getStyles:I},children:b.jsx(De,{ref:t,...I("root"),...k})})});i$.classes=fA;i$.displayName="@mantine/core/PaginationRoot";const wXe={withControls:!0,withPages:!0,siblings:1,boundaries:1,gap:8},zf=tt((e,t)=>{const n=qe("Pagination",wXe,e),{withEdges:r,withControls:i,getControlProps:s,nextIcon:o,previousIcon:a,lastIcon:l,firstIcon:u,dotsIcon:c,total:d,gap:f,hideWithOnePage:h,withPages:p,...m}=n;return d<=0||h&&d===1?null:b.jsx(i$,{ref:t,total:d,...m,children:b.jsxs(An,{gap:f,children:[r&&b.jsx($Ce,{icon:u,...s?.("first")}),i&&b.jsx(NCe,{icon:a,...s?.("previous")}),p&&b.jsx(VK,{dotsIcon:c}),i&&b.jsx(OCe,{icon:o,...s?.("next")}),r&&b.jsx(MCe,{icon:l,...s?.("last")})]})})});zf.classes=fA;zf.displayName="@mantine/core/Pagination";zf.Root=i$;zf.Control=hA;zf.Dots=n$;zf.First=$Ce;zf.Last=MCe;zf.Next=OCe;zf.Previous=NCe;zf.Items=VK;const[xXe,FCe]=ko("Progress.Root component was not found in tree");var mA={root:"m_db6d6462",section:"m_2242eb65","stripes-animation":"m_81a374bd",label:"m_91e40b74"};const _Xe={},HK=tt((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=qe("ProgressLabel",_Xe,e),l=FCe();return b.jsx(De,{ref:t,...l.getStyles("label",{className:r,style:i,classNames:n,styles:s}),...a})});HK.classes=mA;HK.displayName="@mantine/core/ProgressLabel";const CXe={},EXe=(e,{size:t,radius:n,transitionDuration:r})=>({root:{"--progress-size":vn(t,"progress-size"),"--progress-radius":n===void 0?void 0:Br(n),"--progress-transition-duration":typeof r=="number"?`${r}ms`:void 0}}),s$=tt((e,t)=>{const n=qe("ProgressRoot",CXe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,autoContrast:u,transitionDuration:c,...d}=n,f=Ot({name:"Progress",classes:mA,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:EXe});return b.jsx(xXe,{value:{getStyles:f,autoContrast:u},children:b.jsx(De,{ref:t,...f("root"),...d})})});s$.classes=mA;s$.displayName="@mantine/core/ProgressRoot";const SXe={withAria:!0},o$=tt((e,t)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,value:a,withAria:l,color:u,striped:c,animated:d,mod:f,...h}=qe("ProgressSection",SXe,e),p=FCe(),m=os(),g=l?{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":a,"aria-valuetext":`${a}%`}:{};return b.jsx(De,{ref:t,...p.getStyles("section",{className:r,classNames:n,styles:s,style:i}),...h,...g,mod:[{striped:c||d,animated:d},f],__vars:{"--progress-section-width":`${a}%`,"--progress-section-color":Xr(u,m),"--progress-label-color":jy(p.autoContrast,m)?Tp({color:u,theme:m,autoContrast:p.autoContrast}):void 0}})});o$.classes=mA;o$.displayName="@mantine/core/ProgressSection";const TXe={},Tb=tt((e,t)=>{const n=qe("Progress",TXe,e),{value:r,classNames:i,styles:s,vars:o,color:a,striped:l,animated:u,"aria-label":c,...d}=n,{resolvedClassNames:f,resolvedStyles:h}=Bf({classNames:i,styles:s,props:n});return b.jsx(s$,{ref:t,classNames:f,styles:h,vars:o,...d,children:b.jsx(o$,{value:r,color:a,striped:l,animated:u,"aria-label":c})})});Tb.classes=mA;Tb.displayName="@mantine/core/Progress";Tb.Section=o$;Tb.Root=s$;Tb.Label=HK;const[kXe,LCe]=w0(),[AXe,RXe]=w0();var jCe={card:"m_9dc8ae12"};const IXe={withBorder:!0},DXe=(e,{radius:t})=>({card:{"--card-radius":Br(t)}}),qK=tt((e,t)=>{const n=qe("RadioCard",IXe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,checked:u,mod:c,withBorder:d,value:f,onClick:h,name:p,onKeyDown:m,...g}=n,y=Ot({name:"RadioCard",classes:jCe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:DXe,rootSelector:"card"}),{dir:v}=Ru(),w=LCe(),_=typeof u=="boolean"?u:w?.value===f||!1,C=p||w?.name,S=T=>{if(m?.(T),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(T.nativeEvent.code)){T.preventDefault();const k=Array.from(document.querySelectorAll(`[role="radio"][name="${C||"__mantine"}"]`)),I=k.findIndex(N=>N===T.target),R=I+1>=k.length?0:I+1,P=I-1<0?k.length-1:I-1;T.nativeEvent.code==="ArrowDown"&&(k[R].focus(),k[R].click()),T.nativeEvent.code==="ArrowUp"&&(k[P].focus(),k[P].click()),T.nativeEvent.code==="ArrowLeft"&&(k[v==="ltr"?P:R].focus(),k[v==="ltr"?P:R].click()),T.nativeEvent.code==="ArrowRight"&&(k[v==="ltr"?R:P].focus(),k[v==="ltr"?R:P].click())}};return b.jsx(AXe,{value:{checked:_},children:b.jsx(no,{ref:t,mod:[{"with-border":d,checked:_},c],...y("card"),...g,role:"radio","aria-checked":_,name:C,onClick:T=>{h?.(T),w?.onChange(f||"")},onKeyDown:S})})});qK.displayName="@mantine/core/RadioCard";qK.classes=jCe;const PXe={},WK=tt((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:s,wrapperProps:o,children:a,name:l,readOnly:u,...c}=qe("RadioGroup",PXe,e),d=Sa(l),[f,h]=Fi({value:n,defaultValue:r,finalValue:"",onChange:i}),p=m=>!u&&h(typeof m=="string"?m:m.currentTarget.value);return b.jsx(kXe,{value:{value:f,onChange:p,size:s,name:d},children:b.jsx(jr.Wrapper,{size:s,ref:t,...o,...c,labelElement:"div",__staticSelector:"RadioGroup",children:b.jsx(fK,{role:"radiogroup",children:a})})})});WK.classes=jr.Wrapper.classes;WK.displayName="@mantine/core/RadioGroup";function BCe({size:e,style:t,...n}){return b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5",style:{width:Ye(e),height:Ye(e),...t},"aria-hidden":!0,...n,children:b.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:"currentColor"})})}var zCe={indicator:"m_717d7ff6",icon:"m_3e4da632","indicator--outline":"m_2980836c"};const OXe={icon:BCe},NXe=(e,{radius:t,color:n,size:r,iconColor:i,variant:s,autoContrast:o})=>{const a=jf({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--radio-size":vn(r,"radio-size"),"--radio-radius":t===void 0?void 0:Br(t),"--radio-color":s==="outline"?l:Xr(n,e),"--radio-icon-size":vn(r,"radio-icon-size"),"--radio-icon-color":i?Xr(i,e):jy(o,e)?Tp({color:n,theme:e,autoContrast:o}):void 0}}},GK=tt((e,t)=>{const n=qe("RadioIndicator",OXe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,icon:u,radius:c,color:d,iconColor:f,autoContrast:h,checked:p,mod:m,variant:g,disabled:y,...v}=n,w=u,_=Ot({name:"RadioIndicator",classes:zCe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:NXe,rootSelector:"indicator"}),C=RXe(),S=typeof p=="boolean"?p:C?.checked||!1;return b.jsx(De,{ref:t,..._("indicator",{variant:g}),variant:g,mod:[{checked:S,disabled:y},m],...v,children:b.jsx(w,{..._("icon")})})});GK.displayName="@mantine/core/RadioIndicator";GK.classes=zCe;var UCe={root:"m_f3f1af94",inner:"m_89c4f5e4",icon:"m_f3ed6b2b",radio:"m_8a3dbb89","radio--outline":"m_1bfe9d39"};const $Xe={labelPosition:"right"},MXe=(e,{size:t,radius:n,color:r,iconColor:i,variant:s,autoContrast:o})=>{const a=jf({color:r||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--radio-size":vn(t,"radio-size"),"--radio-radius":n===void 0?void 0:Br(n),"--radio-color":s==="outline"?l:Xr(r,e),"--radio-icon-color":i?Xr(i,e):jy(o,e)?Tp({color:r,theme:e,autoContrast:o}):void 0,"--radio-icon-size":vn(t,"radio-icon-size")}}},Za=tt((e,t)=>{const n=qe("Radio",$Xe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,id:u,size:c,label:d,labelPosition:f,description:h,error:p,radius:m,color:g,variant:y,disabled:v,wrapperProps:w,icon:_=BCe,rootRef:C,iconColor:S,onChange:T,mod:k,...I}=n,R=Ot({name:"Radio",classes:UCe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:MXe}),P=LCe(),N=P?.size??c,$=n.size?c:N,{styleProps:O,rest:j}=Eb(I),B=Sa(u),H=P?{checked:P.value===j.value,name:j.name??P.name,onChange:q=>{P.onChange(q),T?.(q)}}:{};return b.jsx(z5,{...R("root"),__staticSelector:"Radio",__stylesApiProps:n,id:B,size:$,labelPosition:f,label:d,description:h,error:p,disabled:v,classNames:r,styles:o,unstyled:a,"data-checked":H.checked||void 0,variant:y,ref:C,mod:k,...O,...w,children:b.jsxs(De,{...R("inner"),mod:{"label-position":f},children:[b.jsx(De,{...R("radio",{focusable:!0,variant:y}),onChange:T,...j,...H,component:"input",mod:{error:!!p},ref:t,id:B,disabled:v,type:"radio"}),b.jsx(_,{...R("icon"),"aria-hidden":!0})]})})});Za.classes=UCe;Za.displayName="@mantine/core/Radio";Za.Group=WK;Za.Card=qK;Za.Indicator=GK;const FXe={duration:100,transition:"fade"};function LXe(e,t){return{...FXe,...t,...e}}function jXe({offset:e,position:t,defaultOpened:n}){const[r,i]=A.useState(n),s=A.useRef(null),{x:o,y:a,elements:l,refs:u,update:c,placement:d}=IY({placement:t,middleware:[TY({crossAxis:!0,padding:5,rootBoundary:"document"})]}),f=d.includes("right")?e:t.includes("left")?e*-1:0,h=d.includes("bottom")?e:t.includes("top")?e*-1:0,p=A.useCallback(({clientX:m,clientY:g})=>{u.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:m,y:g,left:m+f,top:g+h,right:m,bottom:g}}})},[l.reference]);return A.useEffect(()=>{if(u.floating.current){const m=s.current;m.addEventListener("mousemove",p);const g=Om(u.floating.current);return g.forEach(y=>{y.addEventListener("scroll",c)}),()=>{m.removeEventListener("mousemove",p),g.forEach(y=>{y.removeEventListener("scroll",c)})}}},[l.reference,u.floating.current,c,p,r]),{handleMouseMove:p,x:o,y:a,opened:r,setOpened:i,boundaryRef:s,floating:u.setFloating}}var a$={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const BXe={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:Au("popover")},zXe=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:Br(t),"--tooltip-bg":n?Xr(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),YK=tt((e,t)=>{const n=qe("TooltipFloating",BXe,e),{children:r,refProp:i,withinPortal:s,style:o,className:a,classNames:l,styles:u,unstyled:c,radius:d,color:f,label:h,offset:p,position:m,multiline:g,zIndex:y,disabled:v,defaultOpened:w,variant:_,vars:C,portalProps:S,...T}=n,k=os(),I=Ot({name:"TooltipFloating",props:n,classes:a$,className:a,style:o,classNames:l,styles:u,unstyled:c,rootSelector:"tooltip",vars:C,varsResolver:zXe}),{handleMouseMove:R,x:P,y:N,opened:$,boundaryRef:O,floating:j,setOpened:B}=jXe({offset:p,position:m,defaultOpened:w});if(!b0(r))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const H=ms(O,T5(r),t),q=r.props,Y=L=>{q.onMouseEnter?.(L),R(L),B(!0)},V=L=>{q.onMouseLeave?.(L),B(!1)};return b.jsxs(b.Fragment,{children:[b.jsx(By,{...S,withinPortal:s,children:b.jsx(De,{...T,...I("tooltip",{style:{...vY(o,k),zIndex:y,display:!v&&$?"block":"none",top:(N&&Math.round(N))??"",left:(P&&Math.round(P))??""}}),variant:_,ref:j,mod:{multiline:g},children:h})}),A.cloneElement(r,{...q,[i]:H,onMouseEnter:Y,onMouseLeave:V})]})});YK.classes=a$;YK.displayName="@mantine/core/TooltipFloating";const VCe=A.createContext(!1),UXe=VCe.Provider,VXe=()=>A.useContext(VCe),HXe={openDelay:0,closeDelay:0};function KK(e){const{openDelay:t,closeDelay:n,children:r}=qe("TooltipGroup",HXe,e);return b.jsx(UXe,{value:!0,children:b.jsx(GHe,{delay:{open:t,close:n},children:r})})}KK.displayName="@mantine/core/TooltipGroup";KK.extend=e=>e;function qXe(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function WXe(e){const t=qXe(e.middlewares),n=[jxe(e.offset)];return t.shift&&n.push(TY(typeof t.shift=="boolean"?{padding:8}:{padding:8,...t.shift})),t.flip&&n.push(typeof t.flip=="boolean"?SN():SN(t.flip)),n.push(Bxe({element:e.arrowRef,padding:e.arrowOffset})),t.inline?n.push(typeof t.inline=="boolean"?VS():VS(t.inline)):e.inline&&n.push(VS()),n}function GXe(e){const[t,n]=A.useState(e.defaultOpened),i=typeof e.opened=="boolean"?e.opened:t,s=VXe(),o=Sa(),a=A.useCallback(S=>{n(S),S&&v(o)},[o]),{x:l,y:u,context:c,refs:d,update:f,placement:h,middlewareData:{arrow:{x:p,y:m}={}}}=IY({strategy:e.strategy,placement:e.position,open:i,onOpenChange:a,middleware:WXe(e)}),{delay:g,currentId:y,setCurrentId:v}=YHe(c,{id:o}),{getReferenceProps:w,getFloatingProps:_}=tqe([qHe(c,{enabled:e.events?.hover,delay:s?g:{open:e.openDelay,close:e.closeDelay},mouseOnly:!e.events?.touch}),eqe(c,{enabled:e.events?.focus,visibleOnly:!0}),rqe(c,{role:"tooltip"}),JHe(c,{enabled:typeof e.opened>"u"})]);f_e({opened:i,position:e.position,positionDependencies:e.positionDependencies,floating:{refs:d,update:f}}),Nl(()=>{e.onPositionChange?.(h)},[h]);const C=i&&y&&y!==o;return{x:l,y:u,arrowX:p,arrowY:m,reference:d.setReference,floating:d.setFloating,getFloatingProps:_,getReferenceProps:w,isGroupPhase:C,opened:i,placement:h}}const Fle={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:Au("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},YXe=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:Br(t),"--tooltip-bg":n?Xr(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),yt=tt((e,t)=>{const n=qe("Tooltip",Fle,e),{children:r,position:i,refProp:s,label:o,openDelay:a,closeDelay:l,onPositionChange:u,opened:c,defaultOpened:d,withinPortal:f,radius:h,color:p,classNames:m,styles:g,unstyled:y,style:v,className:w,withArrow:_,arrowSize:C,arrowOffset:S,arrowRadius:T,arrowPosition:k,offset:I,transitionProps:R,multiline:P,events:N,zIndex:$,disabled:O,positionDependencies:j,onClick:B,onMouseEnter:H,onMouseLeave:q,inline:Y,variant:V,keepMounted:L,vars:z,portalProps:U,mod:G,floatingStrategy:Q,middlewares:ne,...ue}=qe("Tooltip",Fle,n),{dir:se}=Ru(),ae=A.useRef(null),he=GXe({position:s_e(se,i),closeDelay:l,openDelay:a,onPositionChange:u,opened:c,defaultOpened:d,events:N,arrowRef:ae,arrowOffset:S,offset:typeof I=="number"?I+(_?C/2:0):I,positionDependencies:[...j,r],inline:Y,strategy:Q,middlewares:ne}),ie=Ot({name:"Tooltip",props:n,classes:a$,className:w,style:v,classNames:m,styles:g,unstyled:y,rootSelector:"tooltip",vars:z,varsResolver:YXe});if(!b0(r))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const le=ms(he.reference,T5(r),t),Ee=LXe(R,{duration:100,transition:"fade"}),X=r.props;return b.jsxs(b.Fragment,{children:[b.jsx(By,{...U,withinPortal:f,children:b.jsx(bd,{...Ee,keepMounted:L,mounted:!O&&!!he.opened,duration:he.isGroupPhase?10:Ee.duration,children:fe=>b.jsxs(De,{...ue,"data-fixed":Q==="fixed"||void 0,variant:V,mod:[{multiline:P},G],...he.getFloatingProps({ref:he.floating,className:ie("tooltip").className,style:{...ie("tooltip").style,...fe,zIndex:$,top:he.y??0,left:he.x??0}}),children:[o,b.jsx($Y,{ref:ae,arrowX:he.arrowX,arrowY:he.arrowY,visible:_,position:he.placement,arrowSize:C,arrowOffset:S,arrowRadius:T,arrowPosition:k,...ie("arrow")})]})})}),A.cloneElement(r,he.getReferenceProps({onClick:B,onMouseEnter:H,onMouseLeave:q,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,className:Lt(w,X.className),...X,[s]:le}))]})});yt.classes=a$;yt.displayName="@mantine/core/Tooltip";yt.Floating=YK;yt.Group=KK;function KXe({size:e,thickness:t,sum:n,value:r,root:i,offset:s}){const o=(e*.9-t*2)/2,a=Math.PI*o*2/100,l=i||r===void 0?`${(100-n)*a}, ${n*a}`:`${r*a}, ${(100-r)*a}`;return{strokeWidth:Number.isNaN(t)?12:t,cx:e/2||0,cy:e/2||0,r:o||0,transform:i?`scale(1, -1) translate(0, -${e})`:void 0,strokeDasharray:l,strokeDashoffset:i?0:s||0}}function HCe({size:e,value:t,offset:n,sum:r,thickness:i,root:s,color:o,lineRoundCaps:a,tooltip:l,getStyles:u,display:c,...d}){const f=os();return b.jsx(yt.Floating,{disabled:!l,label:l,children:b.jsx(De,{component:"circle",...d,...u("curve"),__vars:{"--curve-color":o?Xr(o,f):void 0},fill:"none",strokeLinecap:a?"round":"butt",...KXe({sum:r,size:e,thickness:i,value:t,offset:n,root:s})})})}HCe.displayName="@mantine/core/Curve";function XXe({size:e,thickness:t,sections:n,renderRoundedLineCaps:r,rootColor:i}){const s=n.reduce((c,d)=>c+d.value,0),o=Math.PI*((e*.9-t*2)/2)*2;let a=o;const l=[],u=[];for(let c=0;c<n.length;c+=1)l.push({sum:s,offset:a,data:n[c],root:!1}),a-=n[c].value/100*o;if(l.push({sum:s,offset:a,data:{color:i},root:!0}),u.push({...l[l.length-1],lineRoundCaps:!1}),l.length>2){u.push({...l[0],lineRoundCaps:r}),u.push({...l[l.length-2],lineRoundCaps:r});for(let c=1;c<=l.length-3;c+=1)u.push({...l[c],lineRoundCaps:!1})}else u.push({...l[0],lineRoundCaps:r});return u}var qCe={root:"m_b32e4812",svg:"m_d43b5134",curve:"m_b1ca1fbf",label:"m_b23f9dc4"};function QXe(e,t){return Math.min(e||12,(t||120)/4)}const JXe={size:120,thickness:12},ZXe=(e,{size:t,thickness:n,transitionDuration:r})=>({root:{"--rp-size":Ye(t),"--rp-label-offset":Ye(n*2),"--rp-transition-duration":r?`${r}ms`:void 0}}),l$=tt((e,t)=>{const n=qe("RingProgress",JXe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,label:u,sections:c,size:d,thickness:f,roundCaps:h,rootColor:p,transitionDuration:m,...g}=n,y=Ot({name:"RingProgress",classes:qCe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:ZXe}),v=QXe(f,d),w=XXe({size:d,thickness:v,sections:c,renderRoundedLineCaps:h,rootColor:p}).map(({data:_,sum:C,root:S,lineRoundCaps:T,offset:k},I)=>A.createElement(HCe,{..._,key:I,size:d,thickness:v,sum:C,offset:k,color:_?.color,root:S,lineRoundCaps:T,getStyles:y}));return b.jsxs(De,{...y("root"),size:d,ref:t,...g,children:[b.jsx("svg",{...y("svg"),children:w}),u&&b.jsx("div",{...y("label"),children:u})]})});l$.classes=qCe;l$.displayName="@mantine/core/RingProgress";var WCe={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const eQe={withItemsBorders:!0},tQe=(e,{radius:t,color:n,transitionDuration:r,size:i,transitionTimingFunction:s})=>({root:{"--sc-radius":t===void 0?void 0:Br(t),"--sc-color":n?Xr(n,e):void 0,"--sc-shadow":n?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":r===void 0?void 0:`${r}ms`,"--sc-transition-timing-function":s,"--sc-padding":vn(i,"sc-padding"),"--sc-font-size":ps(i)}}),u$=tt((e,t)=>{const n=qe("SegmentedControl",eQe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,data:u,value:c,defaultValue:d,onChange:f,size:h,name:p,disabled:m,readOnly:g,fullWidth:y,orientation:v,radius:w,color:_,transitionDuration:C,transitionTimingFunction:S,variant:T,autoContrast:k,withItemsBorders:I,mod:R,...P}=n,N=Ot({name:"SegmentedControl",props:n,classes:WCe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:tQe}),$=os(),O=u.map(se=>typeof se=="string"?{label:se,value:se}:se),j=iUe(),[B,H]=A.useState(Kg()),[q,Y]=A.useState(null),[V,L]=A.useState({}),z=(se,ae)=>{V[ae]=se,L(V)},[U,G]=Fi({value:c,defaultValue:d,finalValue:Array.isArray(u)?O.find(se=>!se.disabled)?.value??u[0]?.value??null:null,onChange:f}),Q=Sa(p),ne=O.map(se=>A.createElement(De,{...N("control"),mod:{active:U===se.value,orientation:v},key:se.value},A.createElement("input",{...N("input"),disabled:m||se.disabled,type:"radio",name:Q,value:se.value,id:`${Q}-${se.value}`,checked:U===se.value,onChange:()=>!g&&G(se.value),"data-focus-ring":$.focusRing,key:`${se.value}-input`}),A.createElement(De,{component:"label",...N("label"),mod:{active:U===se.value&&!(m||se.disabled),disabled:m||se.disabled,"read-only":g},htmlFor:`${Q}-${se.value}`,ref:ae=>z(ae,se.value),__vars:{"--sc-label-color":_!==void 0?Tp({color:_,theme:$,autoContrast:k}):void 0},key:`${se.value}-label`},b.jsx("span",{...N("innerLabel"),children:se.label})))),ue=ms(t,se=>Y(se));return Qze(()=>{H(Kg())},[u.length]),u.length===0?null:b.jsxs(De,{...N("root"),variant:T,size:h,ref:ue,mod:[{"full-width":y,orientation:v,initialized:j,"with-items-borders":I},R],...P,role:"radiogroup","data-disabled":m,children:[typeof U=="string"&&b.jsx(UY,{target:V[U],parent:q,component:"span",transitionDuration:"var(--sc-transition-duration)",...N("indicator")},B),ne]})});u$.classes=WCe;u$.displayName="@mantine/core/SegmentedControl";const nQe={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},Km=tt((e,t)=>{const n=qe("Select",nQe,e),{classNames:r,styles:i,unstyled:s,vars:o,dropdownOpened:a,defaultDropdownOpened:l,onDropdownClose:u,onDropdownOpen:c,onFocus:d,onBlur:f,onClick:h,onChange:p,data:m,value:g,defaultValue:y,selectFirstOptionOnChange:v,onOptionSubmit:w,comboboxProps:_,readOnly:C,disabled:S,filter:T,limit:k,withScrollArea:I,maxDropdownHeight:R,size:P,searchable:N,rightSection:$,checkIconPosition:O,withCheckIcon:j,nothingFoundMessage:B,name:H,form:q,searchValue:Y,defaultSearchValue:V,onSearchChange:L,allowDeselect:z,error:U,rightSectionPointerEvents:G,id:Q,clearable:ne,clearButtonProps:ue,hiddenInputProps:se,renderOption:ae,onClear:he,autoComplete:ie,scrollAreaProps:le,__defaultRightSection:Ee,__clearSection:X,__clearable:fe,chevronColor:de,...te}=n,ee=A.useMemo(()=>eK(m),[m]),me=A.useMemo(()=>B5(ee),[ee]),Re=Sa(Q),[Te,we,$e]=Fi({value:g,defaultValue:y,finalValue:null,onChange:p}),Ae=typeof Te=="string"?me[Te]:void 0,Oe=eUe(Ae),[xe,je,Ue]=Fi({value:Y,defaultValue:V,finalValue:Ae?Ae.label:"",onChange:L}),nt=cA({opened:a,defaultOpened:l,onDropdownOpen:()=>{c?.(),nt.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{u?.(),nt.resetSelectedOption()}}),it=jt=>{je(jt),nt.resetSelectedOption()},{resolvedClassNames:wt,resolvedStyles:Zt}=Bf({props:n,styles:i,classNames:r});A.useEffect(()=>{v&&nt.selectFirstOption()},[v,xe]),A.useEffect(()=>{g===null&&it(""),typeof g=="string"&&Ae&&(Oe?.value!==Ae.value||Oe?.label!==Ae.label)&&it(Ae.label)},[g,Ae]),A.useEffect(()=>{!$e&&!Ue&&it(typeof Te=="string"&&me[Te]?.label||"")},[m,Te]);const Qt=b.jsx(Wn.ClearButton,{...ue,onClear:()=>{we(null,null),it(""),he?.()}}),Mn=ne&&!!Te&&!S&&!C;return b.jsxs(b.Fragment,{children:[b.jsxs(Wn,{store:nt,__staticSelector:"Select",classNames:wt,styles:Zt,unstyled:s,readOnly:C,onOptionSubmit:jt=>{w?.(jt);const gn=z&&me[jt].value===Te?null:me[jt],Kn=gn?gn.value:null;Kn!==Te&&we(Kn,gn),!$e&&it(typeof Kn=="string"&&gn?.label||""),nt.closeDropdown()},size:P,..._,children:[b.jsx(Wn.Target,{targetType:N?"input":"button",autoComplete:ie,children:b.jsx(zl,{id:Re,ref:t,__defaultRightSection:b.jsx(Wn.Chevron,{size:P,error:U,unstyled:s,color:de}),__clearSection:Qt,__clearable:Mn,rightSection:$,rightSectionPointerEvents:G||(Mn?"all":"none"),...te,size:P,__staticSelector:"Select",disabled:S,readOnly:C||!N,value:xe,onChange:jt=>{it(jt.currentTarget.value),nt.openDropdown(),v&&nt.selectFirstOption()},onFocus:jt=>{N&&nt.openDropdown(),d?.(jt)},onBlur:jt=>{N&&nt.closeDropdown(),it(Te!=null&&me[Te]?.label||""),f?.(jt)},onClick:jt=>{N?nt.openDropdown():nt.toggleDropdown(),h?.(jt)},classNames:wt,styles:Zt,unstyled:s,pointer:!N,error:U})}),b.jsx(gK,{data:ee,hidden:C||S,filter:T,search:xe,limit:k,hiddenWhenEmpty:!B,withScrollArea:I,maxDropdownHeight:R,filterOptions:N&&Ae?.label!==xe,value:Te,checkIconPosition:O,withCheckIcon:j,nothingFoundMessage:B,unstyled:s,labelId:te.label?`${Re}-label`:void 0,"aria-label":te.label?void 0:te["aria-label"],renderOption:ae,scrollAreaProps:le})]}),b.jsx(Wn.HiddenInput,{value:Te,name:H,form:q,disabled:S,...se})]})});Km.classes={...zl.classes,...Wn.classes};Km.displayName="@mantine/core/Select";function rQe({spacing:e,verticalSpacing:t,cols:n,selector:r}){const i=os(),s=t===void 0?e:t,o=Fy({"--sg-spacing-x":Mi(rf(e)),"--sg-spacing-y":Mi(rf(s)),"--sg-cols":rf(n)?.toString()}),a=Ai(i.breakpoints).reduce((c,d)=>(c[d]||(c[d]={}),typeof e=="object"&&e[d]!==void 0&&(c[d]["--sg-spacing-x"]=Mi(e[d])),typeof s=="object"&&s[d]!==void 0&&(c[d]["--sg-spacing-y"]=Mi(s[d])),typeof n=="object"&&n[d]!==void 0&&(c[d]["--sg-cols"]=n[d]),c),{}),u=OT(Ai(a),i.breakpoints).filter(c=>Ai(a[c.value]).length>0).map(c=>({query:`(min-width: ${i.breakpoints[c.value]})`,styles:a[c.value]}));return b.jsx(Cb,{styles:o,media:u,selector:r})}function i9(e){return typeof e=="object"&&e!==null?Ai(e):[]}function iQe(e){return e.sort((t,n)=>PT(t)-PT(n))}function sQe({spacing:e,verticalSpacing:t,cols:n}){const r=Array.from(new Set([...i9(e),...i9(t),...i9(n)]));return iQe(r)}function oQe({spacing:e,verticalSpacing:t,cols:n,selector:r}){const i=t===void 0?e:t,s=Fy({"--sg-spacing-x":Mi(rf(e)),"--sg-spacing-y":Mi(rf(i)),"--sg-cols":rf(n)?.toString()}),o=sQe({spacing:e,verticalSpacing:t,cols:n}),a=o.reduce((u,c)=>(u[c]||(u[c]={}),typeof e=="object"&&e[c]!==void 0&&(u[c]["--sg-spacing-x"]=Mi(e[c])),typeof i=="object"&&i[c]!==void 0&&(u[c]["--sg-spacing-y"]=Mi(i[c])),typeof n=="object"&&n[c]!==void 0&&(u[c]["--sg-cols"]=n[c]),u),{}),l=o.map(u=>({query:`simple-grid (min-width: ${u})`,styles:a[u]}));return b.jsx(Cb,{styles:s,container:l,selector:r})}var GCe={container:"m_925c2d2c",root:"m_2415a157"};const aQe={cols:1,spacing:"md",type:"media"},XK=tt((e,t)=>{const n=qe("SimpleGrid",aQe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,cols:u,verticalSpacing:c,spacing:d,type:f,...h}=n,p=Ot({name:"SimpleGrid",classes:GCe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l}),m=rA();return f==="container"?b.jsxs(b.Fragment,{children:[b.jsx(oQe,{...n,selector:`.${m}`}),b.jsx("div",{...p("container"),children:b.jsx(De,{ref:t,...p("root",{className:m}),...h})})]}):b.jsxs(b.Fragment,{children:[b.jsx(rQe,{...n,selector:`.${m}`}),b.jsx(De,{ref:t,...p("root",{className:m}),...h})]})});XK.classes=GCe;XK.displayName="@mantine/core/SimpleGrid";var YCe={root:"m_18320242","skeleton-fade":"m_299c329c"};const lQe={visible:!0,animate:!0},uQe=(e,{width:t,height:n,radius:r,circle:i})=>({root:{"--skeleton-height":Ye(n),"--skeleton-width":Ye(i?n:t),"--skeleton-radius":i?"1000px":r===void 0?void 0:Br(r)}}),QK=tt((e,t)=>{const n=qe("Skeleton",lQe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,width:u,height:c,circle:d,visible:f,radius:h,animate:p,mod:m,...g}=n,y=Ot({name:"Skeleton",classes:YCe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:uQe});return b.jsx(De,{ref:t,...y("root"),mod:[{visible:f,animate:p},m],...g})});QK.classes=YCe;QK.displayName="@mantine/core/Skeleton";const[KCe,c$]=ko("SliderProvider was not found in tree"),JK=A.forwardRef(({size:e,disabled:t,variant:n,color:r,thumbSize:i,radius:s,...o},a)=>{const{getStyles:l}=c$();return b.jsx(De,{tabIndex:-1,variant:n,size:e,ref:a,...l("root"),...o})});JK.displayName="@mantine/core/SliderRoot";const AN=A.forwardRef(({max:e,min:t,value:n,position:r,label:i,dragging:s,onMouseDown:o,onKeyDownCapture:a,labelTransitionProps:l,labelAlwaysOn:u,thumbLabel:c,onFocus:d,onBlur:f,showLabelOnHover:h,isHovered:p,children:m=null,disabled:g},y)=>{const{getStyles:v}=c$(),[w,_]=A.useState(!1),C=u||s||w||h&&p;return b.jsxs(De,{tabIndex:0,role:"slider","aria-label":c,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:y,__vars:{"--slider-thumb-offset":`${r}%`},...v("thumb",{focusable:!0}),mod:{dragging:s,disabled:g},onFocus:S=>{_(!0),typeof d=="function"&&d(S)},onBlur:S=>{_(!1),typeof f=="function"&&f(S)},onTouchStart:o,onMouseDown:o,onKeyDownCapture:a,onClick:S=>S.stopPropagation(),children:[m,b.jsx(bd,{mounted:i!=null&&!!C,transition:"fade",duration:0,...l,children:S=>b.jsx("div",{...v("label",{style:S}),children:i})})]})});AN.displayName="@mantine/core/SliderThumb";function RN({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function cQe({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}function XCe({marks:e,min:t,max:n,disabled:r,value:i,offset:s,inverted:o}){const{getStyles:a}=c$();if(!e)return null;const l=e.map((u,c)=>A.createElement(De,{...a("markWrapper"),__vars:{"--mark-offset":`${RN({value:u.value,min:t,max:n})}%`},key:c},b.jsx(De,{...a("mark"),mod:{filled:cQe({mark:u,value:i,offset:s,inverted:o}),disabled:r}}),u.label&&b.jsx("div",{...a("markLabel"),children:u.label})));return b.jsx("div",{children:l})}XCe.displayName="@mantine/core/SliderMarks";function ZK({filled:e,children:t,offset:n,disabled:r,marksOffset:i,inverted:s,containerProps:o,...a}){const{getStyles:l}=c$();return b.jsx(De,{...l("trackContainer"),mod:{disabled:r},...o,children:b.jsxs(De,{...l("track"),mod:{inverted:s,disabled:r},children:[b.jsx(De,{mod:{inverted:s,disabled:r},__vars:{"--slider-bar-width":`calc(${e}% + var(--slider-size))`,"--slider-bar-offset":`calc(${n}% - var(--slider-size))`},...l("bar")}),t,b.jsx(XCe,{...a,offset:i,disabled:r,inverted:s})]})})}ZK.displayName="@mantine/core/SliderTrack";function AV({value:e,containerWidth:t,min:n,max:r,step:i,precision:s}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),l=(a!==0?Math.round(a/i)*i:0)+n,u=Math.max(l,n);return s!==void 0?Number(u.toFixed(s)):u}function $c(e,t){return parseFloat(e.toFixed(t))}function QCe(e){if(!e)return 0;const t=e.toString().split(".");return t.length>1?t[1].length:0}function p1(e,t){const r=[...t].sort((i,s)=>i.value-s.value).find(i=>i.value>e);return r?r.value:e}function m1(e,t){const r=[...t].sort((i,s)=>s.value-i.value).find(i=>i.value<e);return r?r.value:e}function RV(e){const t=[...e].sort((n,r)=>n.value-r.value);return t.length>0?t[0].value:0}function IV(e){const t=[...e].sort((n,r)=>n.value-r.value);return t.length>0?t[t.length-1].value:100}var d$={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const dQe={radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},fQe=(e,{size:t,color:n,thumbSize:r,radius:i})=>({root:{"--slider-size":vn(t,"slider-size"),"--slider-color":n?Xr(n,e):void 0,"--slider-radius":i===void 0?void 0:Br(i),"--slider-thumb-size":r!==void 0?Ye(r):"calc(var(--slider-size) * 2)"}}),f$=tt((e,t)=>{const n=qe("Slider",dQe,e),{classNames:r,styles:i,value:s,onChange:o,onChangeEnd:a,size:l,min:u,max:c,step:d,precision:f,defaultValue:h,name:p,marks:m,label:g,labelTransitionProps:y,labelAlwaysOn:v,thumbLabel:w,showLabelOnHover:_,thumbChildren:C,disabled:S,unstyled:T,scale:k,inverted:I,className:R,style:P,vars:N,hiddenInputProps:$,restrictToMarks:O,thumbProps:j,...B}=n,H=Ot({name:"Slider",props:n,classes:d$,classNames:r,className:R,styles:i,style:P,vars:N,varsResolver:fQe,unstyled:T}),{dir:q}=Ru(),[Y,V]=A.useState(!1),[L,z]=Fi({value:typeof s=="number"?Xc(s,u,c):s,defaultValue:typeof h=="number"?Xc(h,u,c):h,finalValue:Xc(0,u,c),onChange:o}),U=A.useRef(L),G=A.useRef(a);A.useEffect(()=>{G.current=a},[a]);const Q=A.useRef(null),ne=A.useRef(null),ue=RN({value:L,min:u,max:c}),se=k(L),ae=typeof g=="function"?g(se):g,he=f??QCe(d),ie=A.useCallback(({x:te})=>{if(!S){const ee=AV({value:te,min:u,max:c,step:d,precision:he});z(O&&m?.length?dV(ee,m.map(me=>me.value)):ee),U.current=ee}},[S,u,c,d,he,z,m,O]),le=A.useCallback(()=>{if(!S&&G.current){const te=O&&m?.length?dV(U.current,m.map(ee=>ee.value)):U.current;G.current(te)}},[S,m,O]),{ref:Ee,active:X}=nA(ie,{onScrubEnd:le},q),fe=A.useCallback(te=>{!S&&G.current&&G.current(te)},[S]),de=te=>{if(!S)switch(te.key){case"ArrowUp":{if(te.preventDefault(),ne.current?.focus(),O&&m){const me=p1(L,m);z(me),fe(me);break}const ee=$c(Math.min(Math.max(L+d,u),c),he);z(ee),fe(ee);break}case"ArrowRight":{if(te.preventDefault(),ne.current?.focus(),O&&m){const me=q==="rtl"?m1(L,m):p1(L,m);z(me),fe(me);break}const ee=$c(Math.min(Math.max(q==="rtl"?L-d:L+d,u),c),he);z(ee),fe(ee);break}case"ArrowDown":{if(te.preventDefault(),ne.current?.focus(),O&&m){const me=m1(L,m);z(me),fe(me);break}const ee=$c(Math.min(Math.max(L-d,u),c),he);z(ee),fe(ee);break}case"ArrowLeft":{if(te.preventDefault(),ne.current?.focus(),O&&m){const me=q==="rtl"?p1(L,m):m1(L,m);z(me),fe(me);break}const ee=$c(Math.min(Math.max(q==="rtl"?L+d:L-d,u),c),he);z(ee),fe(ee);break}case"Home":{if(te.preventDefault(),ne.current?.focus(),O&&m){z(RV(m)),fe(RV(m));break}z(u),fe(u);break}case"End":{if(te.preventDefault(),ne.current?.focus(),O&&m){z(IV(m)),fe(IV(m));break}z(c),fe(c);break}}};return b.jsx(KCe,{value:{getStyles:H},children:b.jsxs(JK,{...B,ref:ms(t,Q),onKeyDownCapture:de,onMouseDownCapture:()=>Q.current?.focus(),size:l,disabled:S,children:[b.jsx(ZK,{inverted:I,offset:0,filled:ue,marks:m,min:u,max:c,value:se,disabled:S,containerProps:{ref:Ee,onMouseEnter:_?()=>V(!0):void 0,onMouseLeave:_?()=>V(!1):void 0},children:b.jsx(AN,{max:c,min:u,value:se,position:ue,dragging:X,label:ae,ref:ne,labelTransitionProps:y,labelAlwaysOn:v,thumbLabel:w,showLabelOnHover:_,isHovered:Y,disabled:S,...j,children:C})}),b.jsx("input",{type:"hidden",name:p,value:se,...$})]})})});f$.classes=d$;f$.displayName="@mantine/core/Slider";function hQe(e){return"TouchEvent"in window&&e instanceof window.TouchEvent?e.touches[0].clientX:e.clientX}const pQe=(e,{size:t,color:n,thumbSize:r,radius:i})=>({root:{"--slider-size":vn(t,"slider-size"),"--slider-color":n?Xr(n,e):void 0,"--slider-radius":i===void 0?void 0:Br(i),"--slider-thumb-size":r!==void 0?Ye(r):"calc(var(--slider-size) * 2)"}}),mQe={min:0,max:100,minRange:10,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,showLabelOnHover:!0,disabled:!1,scale:e=>e},BT=tt((e,t)=>{const n=qe("RangeSlider",mQe,e),{classNames:r,styles:i,value:s,onChange:o,onChangeEnd:a,size:l,min:u,max:c,minRange:d,maxRange:f,step:h,precision:p,defaultValue:m,name:g,marks:y,label:v,labelTransitionProps:w,labelAlwaysOn:_,thumbFromLabel:C,thumbToLabel:S,showLabelOnHover:T,thumbChildren:k,disabled:I,unstyled:R,scale:P,inverted:N,className:$,style:O,vars:j,hiddenInputProps:B,restrictToMarks:H,thumbProps:q,...Y}=n,V=Ot({name:"Slider",props:n,classes:d$,classNames:r,className:$,styles:i,style:O,vars:j,varsResolver:pQe,unstyled:R}),{dir:L}=Ru(),[z,U]=A.useState(-1),[G,Q]=A.useState(!1),[ne,ue]=Fi({value:s,defaultValue:m,finalValue:[u,c],onChange:o}),se=A.useRef(ne),ae=A.useRef([]),he=A.useRef(null),ie=A.useRef(void 0),le=[RN({value:ne[0],min:u,max:c}),RN({value:ne[1],min:u,max:c})],Ee=p??QCe(h),X=Oe=>{ue(Oe),se.current=Oe};A.useEffect(()=>{Array.isArray(s)&&(se.current=s)},Array.isArray(s)?[s[0],s[1]]:[null,null]);const fe=(Oe,xe,je)=>{if(xe===-1)return;const Ue=[...se.current];if(H&&y){const nt=dV(Oe,y.map(Mn=>Mn.value)),it=Ue[xe];Ue[xe]=nt;const wt=xe===0?1:0,Zt=IV(y),Qt=RV(y);nt===Zt&&Ue[wt]===Zt||nt===Qt&&Ue[wt]===Qt?Ue[xe]=it:nt===Ue[wt]&&(it>Ue[wt]?Ue[wt]=m1(nt,y):Ue[wt]=p1(nt,y))}else Ue[xe]=Oe,xe===0&&(Oe>Ue[1]-(d-1e-9)&&(Ue[1]=Math.min(Oe+d,c)),Oe>(c-(d-1e-9)||u)&&(Ue[xe]=se.current[xe]),Ue[1]-Oe>f&&(Ue[1]=Oe+f)),xe===1&&(Oe<Ue[0]+d&&(Ue[0]=Math.max(Oe-d,u)),Oe<Ue[0]+d&&(Ue[xe]=se.current[xe]),Oe-Ue[0]>f&&(Ue[0]=Oe-f));if(Ue[0]=$c(Ue[0],Ee),Ue[1]=$c(Ue[1],Ee),Ue[0]>Ue[1]){const nt=Ue[0];Ue[0]=Ue[1],Ue[1]=nt}X(Ue),je&&a?.(se.current)},de=Oe=>{if(!I){const xe=AV({value:Oe,min:u,max:c,step:h,precision:Ee});fe(xe,ie.current,!1)}},{ref:te,active:ee}=nA(({x:Oe})=>de(Oe),{onScrubEnd:()=>!I&&a?.(se.current)},L);function me(Oe){ie.current=Oe}const Re=Oe=>{te.current.focus();const xe=te.current.getBoundingClientRect(),je=hQe(Oe.nativeEvent),Ue=AV({value:je-xe.left,max:c,min:u,step:h,containerWidth:xe.width}),nt=Math.abs(ne[0]-Ue)>Math.abs(ne[1]-Ue)?1:0,it=L==="ltr"?nt:nt===1?0:1;ie.current=it},Te=()=>z!==1&&z!==0?(U(0),0):z,we=Oe=>{if(!I)switch(Oe.key){case"ArrowUp":{Oe.preventDefault();const xe=Te();ae.current[xe].focus();const je=H&&y?p1(se.current[xe],y):Math.min(Math.max(se.current[xe]+h,u),c);fe($c(je,Ee),xe,!0);break}case"ArrowRight":{Oe.preventDefault();const xe=Te();ae.current[xe].focus();const je=H&&y?(L==="rtl"?m1:p1)(se.current[xe],y):Math.min(Math.max(L==="rtl"?se.current[xe]-h:se.current[xe]+h,u),c);fe($c(je,Ee),xe,!0);break}case"ArrowDown":{Oe.preventDefault();const xe=Te();ae.current[xe].focus();const je=H&&y?m1(se.current[xe],y):Math.min(Math.max(se.current[xe]-h,u),c);fe($c(je,Ee),xe,!0);break}case"ArrowLeft":{Oe.preventDefault();const xe=Te();ae.current[xe].focus();const je=H&&y?(L==="rtl"?p1:m1)(se.current[xe],y):Math.min(Math.max(L==="rtl"?se.current[xe]+h:se.current[xe]-h,u),c);fe($c(je,Ee),xe,!0);break}}},$e={max:c,min:u,size:l,labelTransitionProps:w,labelAlwaysOn:_,onBlur:()=>U(-1)},Ae=Array.isArray(k);return b.jsx(KCe,{value:{getStyles:V},children:b.jsxs(JK,{...Y,size:l,ref:ms(t,he),disabled:I,onMouseDownCapture:()=>he.current?.focus(),onKeyDownCapture:()=>{ae.current[0]?.parentElement?.contains(document.activeElement)||ae.current[0]?.focus()},children:[b.jsxs(ZK,{offset:le[0],marksOffset:ne[0],filled:le[1]-le[0],marks:y,inverted:N,min:u,max:c,value:ne[1],disabled:I,containerProps:{ref:te,onMouseEnter:T?()=>Q(!0):void 0,onMouseLeave:T?()=>Q(!1):void 0,onTouchStartCapture:Re,onTouchEndCapture:()=>{ie.current=-1},onMouseDownCapture:Re,onMouseUpCapture:()=>{ie.current=-1},onKeyDownCapture:we},children:[b.jsx(AN,{...$e,value:P(ne[0]),position:le[0],dragging:ee,label:typeof v=="function"?v($c(P(ne[0]),Ee)):v,ref:Oe=>{ae.current[0]=Oe},thumbLabel:C,onMouseDown:()=>me(0),onFocus:()=>U(0),showLabelOnHover:T,isHovered:G,disabled:I,...q?.(0),children:Ae?k[0]:k}),b.jsx(AN,{...$e,thumbLabel:S,value:P(ne[1]),position:le[1],dragging:ee,label:typeof v=="function"?v($c(P(ne[1]),Ee)):v,ref:Oe=>{ae.current[1]=Oe},onMouseDown:()=>me(1),onFocus:()=>U(1),showLabelOnHover:T,isHovered:G,disabled:I,...q?.(1),children:Ae?k[1]:k})]}),b.jsx("input",{type:"hidden",name:`${g}_from`,value:ne[0],...B}),b.jsx("input",{type:"hidden",name:`${g}_to`,value:ne[1],...B})]})})});BT.classes=d$;BT.displayName="@mantine/core/RangeSlider";const gQe={},Jc=tt((e,t)=>{const{w:n,h:r,miw:i,mih:s,...o}=qe("Space",gQe,e);return b.jsx(De,{ref:t,...o,w:n,miw:i??n,h:r,mih:s??r})});Jc.displayName="@mantine/core/Space";var JCe={root:"m_559cce2d",content:"m_b912df4e",control:"m_b9131032"};const yQe={maxHeight:100,initialState:!1},vQe=(e,{transitionDuration:t})=>({root:{"--spoiler-transition-duration":t!==void 0?`${t}ms`:void 0}}),eX=tt((e,t)=>{const n=qe("Spoiler",yQe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,initialState:u,maxHeight:c,hideLabel:d,showLabel:f,children:h,controlRef:p,transitionDuration:m,id:g,expanded:y,onExpandedChange:v,...w}=n,_=Ot({name:"Spoiler",classes:JCe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:vQe}),C=Sa(g),S=`${C}-region`,[T,k]=Fi({value:y,defaultValue:u,finalValue:!1,onChange:v}),{ref:I,height:R}=Yze(),P=T?d:f,N=P!==null&&c<R;return b.jsxs(De,{..._("root"),id:C,ref:t,"data-has-spoiler":N||void 0,...w,children:[N&&b.jsx(Sb,{component:"button",type:"button",ref:p,onClick:()=>k(!T),"aria-expanded":T,"aria-controls":S,..._("control"),children:P}),b.jsx("div",{..._("content",{style:{maxHeight:T?R?Ye(R):void 0:Ye(c)}}),"data-reduce-motion":!0,role:"region",id:S,children:b.jsx("div",{ref:I,children:h})})]})});eX.classes=JCe;eX.displayName="@mantine/core/Spoiler";var ZCe={root:"m_6d731127"};const bQe={gap:"md",align:"stretch",justify:"flex-start"},wQe=(e,{gap:t,align:n,justify:r})=>({root:{"--stack-gap":Mi(t),"--stack-align":n,"--stack-justify":r}}),zn=tt((e,t)=>{const n=qe("Stack",bQe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,align:u,justify:c,gap:d,variant:f,...h}=n,p=Ot({name:"Stack",props:n,classes:ZCe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:wQe});return b.jsx(De,{ref:t,...p("root"),variant:f,...h})});zn.classes=ZCe;zn.displayName="@mantine/core/Stack";const eEe=A.createContext(null),xQe=eEe.Provider,_Qe=()=>A.useContext(eEe),CQe={},tX=tt((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:s,wrapperProps:o,children:a,readOnly:l,...u}=qe("SwitchGroup",CQe,e),[c,d]=Fi({value:n,defaultValue:r,finalValue:[],onChange:i}),f=h=>{const p=h.currentTarget.value;!l&&d(c.includes(p)?c.filter(m=>m!==p):[...c,p])};return b.jsx(xQe,{value:{value:c,onChange:f,size:s},children:b.jsx(jr.Wrapper,{size:s,ref:t,...o,...u,labelElement:"div",__staticSelector:"SwitchGroup",children:b.jsx(fK,{role:"group",children:a})})})});tX.classes=jr.Wrapper.classes;tX.displayName="@mantine/core/SwitchGroup";var tEe={root:"m_5f93f3bb",input:"m_926b4011",track:"m_9307d992",thumb:"m_93039a1d",trackLabel:"m_8277e082"};const EQe={labelPosition:"right"},SQe=(e,{radius:t,color:n,size:r})=>({root:{"--switch-radius":t===void 0?void 0:Br(t),"--switch-height":vn(r,"switch-height"),"--switch-width":vn(r,"switch-width"),"--switch-thumb-size":vn(r,"switch-thumb-size"),"--switch-label-font-size":vn(r,"switch-label-font-size"),"--switch-track-label-padding":vn(r,"switch-track-label-padding"),"--switch-color":n?Xr(n,e):void 0}}),Xg=tt((e,t)=>{const n=qe("Switch",EQe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,color:u,label:c,offLabel:d,onLabel:f,id:h,size:p,radius:m,wrapperProps:g,thumbIcon:y,checked:v,defaultChecked:w,onChange:_,labelPosition:C,description:S,error:T,disabled:k,variant:I,rootRef:R,mod:P,...N}=n,$=_Qe(),O=p||$?.size,j=Ot({name:"Switch",props:n,classes:tEe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:SQe}),{styleProps:B,rest:H}=Eb(N),q=Sa(h),Y=$?{checked:$.value.includes(H.value),onChange:$.onChange}:{},[V,L]=Fi({value:Y.checked??v,defaultValue:w,finalValue:!1});return b.jsxs(z5,{...j("root"),__staticSelector:"Switch",__stylesApiProps:n,id:q,size:O,labelPosition:C,label:c,description:S,error:T,disabled:k,bodyElement:"label",labelElement:"span",classNames:r,styles:o,unstyled:a,"data-checked":Y.checked||v||void 0,variant:I,ref:R,mod:P,...B,...g,children:[b.jsx("input",{...H,disabled:k,checked:V,"data-checked":Y.checked||v||void 0,onChange:z=>{$?Y.onChange?.(z):_?.(z),L(z.currentTarget.checked)},id:q,ref:t,type:"checkbox",role:"switch",...j("input")}),b.jsxs(De,{"aria-hidden":"true",component:"span",mod:{error:T,"label-position":C,"without-labels":!f&&!d},...j("track"),children:[b.jsx(De,{component:"span",mod:"reduce-motion",...j("thumb"),children:y}),b.jsx("span",{...j("trackLabel"),children:V?f:d})]})]})});Xg.classes={...tEe,...U_e};Xg.displayName="@mantine/core/Switch";Xg.Group=tX;const[TQe,kQe]=ko("Table component was not found in the tree");var gA={table:"m_b23fa0ef",th:"m_4e7aa4f3",tr:"m_4e7aa4fd",td:"m_4e7aa4ef",tbody:"m_b2404537",thead:"m_b242d975",caption:"m_9e5a3ac7",scrollContainer:"m_a100c15",scrollContainerInner:"m_62259741"};function AQe(e,t){if(!t)return;const n={};return t.columnBorder&&e.withColumnBorders&&(n["data-with-column-border"]=!0),t.rowBorder&&e.withRowBorders&&(n["data-with-row-border"]=!0),t.striped&&e.striped&&(n["data-striped"]=e.striped),t.highlightOnHover&&e.highlightOnHover&&(n["data-hover"]=!0),t.captionSide&&e.captionSide&&(n["data-side"]=e.captionSide),t.stickyHeader&&e.stickyHeader&&(n["data-sticky"]=!0),n}function kb(e,t){const n=`Table${e.charAt(0).toUpperCase()}${e.slice(1)}`,r=tt((i,s)=>{const o=qe(n,{},i),{classNames:a,className:l,style:u,styles:c,...d}=o,f=kQe();return b.jsx(De,{component:e,ref:s,...AQe(f,t),...f.getStyles(e,{className:l,classNames:a,style:u,styles:c,props:o}),...d})});return r.displayName=`@mantine/core/${n}`,r.classes=gA,r}const b_=kb("th",{columnBorder:!0}),yA=kb("td",{columnBorder:!0}),Nm=kb("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),nX=kb("thead",{stickyHeader:!0}),HS=kb("tbody"),rX=kb("tfoot"),nEe=kb("caption",{captionSide:!0});function iX({data:e}){return b.jsxs(b.Fragment,{children:[e.caption&&b.jsx(nEe,{children:e.caption}),e.head&&b.jsx(nX,{children:b.jsx(Nm,{children:e.head.map((t,n)=>b.jsx(b_,{children:t},n))})}),e.body&&b.jsx(HS,{children:e.body.map((t,n)=>b.jsx(Nm,{children:t.map((r,i)=>b.jsx(yA,{children:r},i))},n))}),e.foot&&b.jsx(rX,{children:b.jsx(Nm,{children:e.foot.map((t,n)=>b.jsx(b_,{children:t},n))})})]})}iX.displayName="@mantine/core/TableDataRenderer";const RQe={type:"scrollarea"},IQe=(e,{minWidth:t,maxHeight:n,type:r})=>({scrollContainer:{"--table-min-width":Ye(t),"--table-max-height":Ye(n),"--table-overflow":r==="native"?"auto":void 0}}),sX=tt((e,t)=>{const n=qe("TableScrollContainer",RQe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,children:u,minWidth:c,maxHeight:d,type:f,scrollAreaProps:h,...p}=n,m=Ot({name:"TableScrollContainer",classes:gA,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:IQe,rootSelector:"scrollContainer"});return b.jsx(De,{component:f==="scrollarea"?lp:"div",...f==="scrollarea"?d?{offsetScrollbars:"xy",...h}:{offsetScrollbars:"x",...h}:{},ref:t,...m("scrollContainer"),...p,children:b.jsx("div",{...m("scrollContainerInner"),children:u})})});sX.classes=gA;sX.displayName="@mantine/core/TableScrollContainer";const DQe={withRowBorders:!0,verticalSpacing:7},PQe=(e,{layout:t,captionSide:n,horizontalSpacing:r,verticalSpacing:i,borderColor:s,stripedColor:o,highlightOnHoverColor:a,striped:l,highlightOnHover:u,stickyHeaderOffset:c,stickyHeader:d})=>({table:{"--table-layout":t,"--table-caption-side":n,"--table-horizontal-spacing":Mi(r),"--table-vertical-spacing":Mi(i),"--table-border-color":s?Xr(s,e):void 0,"--table-striped-color":l&&o?Xr(o,e):void 0,"--table-highlight-on-hover-color":u&&a?Xr(a,e):void 0,"--table-sticky-header-offset":d?Ye(c):void 0}}),Sn=tt((e,t)=>{const n=qe("Table",DQe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,horizontalSpacing:u,verticalSpacing:c,captionSide:d,stripedColor:f,highlightOnHoverColor:h,striped:p,highlightOnHover:m,withColumnBorders:g,withRowBorders:y,withTableBorder:v,borderColor:w,layout:_,variant:C,data:S,children:T,stickyHeader:k,stickyHeaderOffset:I,mod:R,tabularNums:P,...N}=n,$=Ot({name:"Table",props:n,className:i,style:s,classes:gA,classNames:r,styles:o,unstyled:a,rootSelector:"table",vars:l,varsResolver:PQe});return b.jsx(TQe,{value:{getStyles:$,stickyHeader:k,striped:p===!0?"odd":p||void 0,highlightOnHover:m,withColumnBorders:g,withRowBorders:y,captionSide:d||"bottom"},children:b.jsx(De,{component:"table",variant:C,ref:t,mod:[{"data-with-table-border":v,"data-tabular-nums":P},R],...$("table"),...N,children:T||!!S&&b.jsx(iX,{data:S})})})});Sn.classes=gA;Sn.displayName="@mantine/core/Table";Sn.Td=yA;Sn.Th=b_;Sn.Tr=Nm;Sn.Thead=nX;Sn.Tbody=HS;Sn.Tfoot=rX;Sn.Caption=nEe;Sn.ScrollContainer=sX;Sn.DataRenderer=iX;const[OQe,oX]=ko("Tabs component was not found in the tree");var vA={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const NQe={},aX=tt((e,t)=>{const n=qe("TabsList",NQe,e),{children:r,className:i,grow:s,justify:o,classNames:a,styles:l,style:u,mod:c,...d}=n,f=oX();return b.jsx(De,{...d,...f.getStyles("list",{className:i,style:u,classNames:a,styles:l,props:n,variant:f.variant}),ref:t,role:"tablist",variant:f.variant,mod:[{grow:s,orientation:f.orientation,placement:f.orientation==="vertical"&&f.placement,inverted:f.inverted},c],"aria-orientation":f.orientation,__vars:{"--tabs-justify":o},children:r})});aX.classes=vA;aX.displayName="@mantine/core/TabsList";const $Qe={},lX=tt((e,t)=>{const n=qe("TabsPanel",$Qe,e),{children:r,className:i,value:s,classNames:o,styles:a,style:l,mod:u,keepMounted:c,...d}=n,f=oX(),h=f.value===s,p=f.keepMounted||c||h?r:null;return b.jsx(De,{...d,...f.getStyles("panel",{className:i,classNames:o,styles:a,style:[l,h?void 0:{display:"none"}],props:n}),ref:t,mod:[{orientation:f.orientation},u],role:"tabpanel",id:f.getPanelId(s),"aria-labelledby":f.getTabId(s),children:p})});lX.classes=vA;lX.displayName="@mantine/core/TabsPanel";const MQe={},uX=tt((e,t)=>{const n=qe("TabsTab",MQe,e),{className:r,children:i,rightSection:s,leftSection:o,value:a,onClick:l,onKeyDown:u,disabled:c,color:d,style:f,classNames:h,styles:p,vars:m,mod:g,tabIndex:y,...v}=n,w=os(),{dir:_}=Ru(),C=oX(),S=a===C.value,T=I=>{C.onChange(C.allowTabDeactivation&&a===C.value?null:a),l?.(I)},k={classNames:h,styles:p,props:n};return b.jsxs(no,{...v,...C.getStyles("tab",{className:r,style:f,variant:C.variant,...k}),disabled:c,unstyled:C.unstyled,variant:C.variant,mod:[{active:S,disabled:c,orientation:C.orientation,inverted:C.inverted,placement:C.orientation==="vertical"&&C.placement},g],ref:t,role:"tab",id:C.getTabId(a),"aria-selected":S,tabIndex:y!==void 0?y:S||C.value===null?0:-1,"aria-controls":C.getPanelId(a),onClick:T,__vars:{"--tabs-color":d?Xr(d,w):void 0},onKeyDown:cY({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:C.activateTabWithKeyboard,loop:C.loop,orientation:C.orientation||"horizontal",dir:_,onKeyDown:u}),children:[o&&b.jsx("span",{...C.getStyles("tabSection",k),"data-position":"left",children:o}),i&&b.jsx("span",{...C.getStyles("tabLabel",k),children:i}),s&&b.jsx("span",{...C.getStyles("tabSection",k),"data-position":"right",children:s})]})});uX.classes=vA;uX.displayName="@mantine/core/TabsTab";const Lle="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",FQe={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},LQe=(e,{radius:t,color:n,autoContrast:r})=>({root:{"--tabs-radius":Br(t),"--tabs-color":Xr(n,e),"--tabs-text-color":jy(r,e)?Tp({color:n,theme:e,autoContrast:r}):void 0}}),dr=tt((e,t)=>{const n=qe("Tabs",FQe,e),{defaultValue:r,value:i,onChange:s,orientation:o,children:a,loop:l,id:u,activateTabWithKeyboard:c,allowTabDeactivation:d,variant:f,color:h,radius:p,inverted:m,placement:g,keepMounted:y,classNames:v,styles:w,unstyled:_,className:C,style:S,vars:T,autoContrast:k,mod:I,...R}=n,P=Sa(u),[N,$]=Fi({value:i,defaultValue:r,finalValue:null,onChange:s}),O=Ot({name:"Tabs",props:n,classes:vA,className:C,style:S,classNames:v,styles:w,unstyled:_,vars:T,varsResolver:LQe});return b.jsx(OQe,{value:{placement:g,value:N,orientation:o,id:P,loop:l,activateTabWithKeyboard:c,getTabId:yN(`${P}-tab`,Lle),getPanelId:yN(`${P}-panel`,Lle),onChange:$,allowTabDeactivation:d,variant:f,color:h,radius:p,inverted:m,keepMounted:y,unstyled:_,getStyles:O},children:b.jsx(De,{ref:t,id:P,variant:f,mod:[{orientation:o,inverted:o==="horizontal"&&m,placement:o==="vertical"&&g},I],...O("root"),...R,children:a})})});dr.classes=vA;dr.displayName="@mantine/core/Tabs";dr.Tab=uX;dr.Panel=lX;dr.List=aX;const jQe={},kl=tt((e,t)=>{const n=qe("TextInput",jQe,e);return b.jsx(zl,{component:"input",ref:t,...n,__staticSelector:"TextInput"})});kl.classes=zl.classes;kl.displayName="@mantine/core/TextInput";const BQe=["h1","h2","h3","h4","h5","h6"],zQe=["xs","sm","md","lg","xl"];function UQe(e,t){const n=t!==void 0?t:`h${e}`;return BQe.includes(n)?{fontSize:`var(--mantine-${n}-font-size)`,fontWeight:`var(--mantine-${n}-font-weight)`,lineHeight:`var(--mantine-${n}-line-height)`}:zQe.includes(n)?{fontSize:`var(--mantine-font-size-${n})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:Ye(n),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var rEe={root:"m_8a5d1357"};const VQe={order:1},HQe=(e,{order:t,size:n,lineClamp:r,textWrap:i})=>{const s=UQe(t,n);return{root:{"--title-fw":s.fontWeight,"--title-lh":s.lineHeight,"--title-fz":s.fontSize,"--title-line-clamp":typeof r=="number"?r.toString():void 0,"--title-text-wrap":i}}},qr=tt((e,t)=>{const n=qe("Title",VQe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,order:l,vars:u,size:c,variant:d,lineClamp:f,textWrap:h,mod:p,...m}=n,g=Ot({name:"Title",props:n,classes:rEe,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:u,varsResolver:HQe});return[1,2,3,4,5,6].includes(l)?b.jsx(De,{...g("root"),component:`h${l}`,variant:d,ref:t,mod:[{order:l,"data-line-clamp":typeof f=="number"},p],size:c,...m}):null});qr.classes=rEe;qr.displayName="@mantine/core/Title";function qQe(e){let t=e,n=!1;const r=new Set;return{getState(){return t},updateState(i){t=typeof i=="function"?i(t):i},setState(i){this.updateState(i),r.forEach(s=>s(t))},initialize(i){n||(t=i,n=!0)},subscribe(i){return r.add(i),()=>r.delete(i)}}}function WQe(e){return A.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function GQe(e,t,n){const r=[],i=[],s={};for(const o of e){const a=o.position||t;s[a]=s[a]||0,s[a]+=1,s[a]<=n?i.push(o):r.push(o)}return{notifications:i,queue:r}}const YQe=()=>qQe({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),Ab=YQe(),KQe=(e=Ab)=>WQe(e);function CC(e,t){const n=e.getState(),r=t([...n.notifications,...n.queue]),i=GQe(r,n.defaultPosition,n.limit);e.setState({notifications:i.notifications,queue:i.queue,limit:n.limit,defaultPosition:n.defaultPosition})}function XQe(e,t=Ab){const n=e.id||Kg();return CC(t,r=>e.id&&r.some(i=>i.id===e.id)?r:[...r,{...e,id:n}]),n}function iEe(e,t=Ab){return CC(t,n=>n.filter(r=>r.id===e?(r.onClose?.(r),!1):!0)),e}function QQe(e,t=Ab){return CC(t,n=>n.map(r=>r.id===e.id?{...r,...e}:r)),e.id}function JQe(e=Ab){CC(e,()=>[])}function ZQe(e=Ab){CC(e,t=>t.slice(0,e.getState().limit))}const Rb={show:XQe,hide:iEe,update:QQe,clean:JQe,cleanQueue:ZQe,updateState:CC};function DV(e,t){return DV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},DV(e,t)}function sEe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,DV(e,t)}var s9={exports:{}},o9,jle;function eJe(){if(jle)return o9;jle=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return o9=e,o9}var a9,Ble;function tJe(){if(Ble)return a9;Ble=1;var e=eJe();function t(){}function n(){}return n.resetWarningCache=t,a9=function(){function r(o,a,l,u,c,d){if(d!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},a9}var zle;function nJe(){return zle||(zle=1,s9.exports=tJe()()),s9.exports}var rJe=nJe();const IN=so(rJe),Ule={disabled:!1},DN=mn.createContext(null);var iJe=function(t){return t.scrollTop},nS="unmounted",Wv="exited",Gv="entering",px="entered",PV="exiting",T0=(function(e){sEe(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Wv,s.appearStatus=Gv):l=px:r.unmountOnExit||r.mountOnEnter?l=nS:l=Wv,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===nS?{status:Wv}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Gv&&o!==px&&(s=Gv):(o===Gv||o===px)&&(s=PV)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Gv){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:eS.findDOMNode(this);o&&iJe(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Wv&&this.setState({status:nS})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[eS.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!o||Ule.disabled){this.safeSetState({status:px},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Gv},function(){s.props.onEntering(u,c),s.onTransitionEnd(f,function(){s.safeSetState({status:px},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:eS.findDOMNode(this);if(!s||Ule.disabled){this.safeSetState({status:Wv},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:PV},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Wv},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:eS.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===nS)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=RK(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return mn.createElement(DN.Provider,{value:null},typeof o=="function"?o(i,a):mn.cloneElement(mn.Children.only(o),a))},t})(mn.Component);T0.contextType=DN;T0.propTypes={};function Fw(){}T0.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Fw,onEntering:Fw,onEntered:Fw,onExit:Fw,onExiting:Fw,onExited:Fw};T0.UNMOUNTED=nS;T0.EXITED=Wv;T0.ENTERING=Gv;T0.ENTERED=px;T0.EXITING=PV;function sJe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cX(e,t){var n=function(s){return t&&A.isValidElement(s)?t(s):s},r=Object.create(null);return e&&A.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function oJe(e,t){e=e||{},t=t||{};function n(c){return c in t?t[c]:e[c]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in t){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=n(u)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function g1(e,t,n){return n[t]!=null?n[t]:e.props[t]}function aJe(e,t){return cX(e.children,function(n){return A.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:g1(n,"appear",e),enter:g1(n,"enter",e),exit:g1(n,"exit",e)})})}function lJe(e,t,n){var r=cX(e.children),i=oJe(t,r);return Object.keys(i).forEach(function(s){var o=i[s];if(A.isValidElement(o)){var a=s in t,l=s in r,u=t[s],c=A.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[s]=A.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:g1(o,"exit",e),enter:g1(o,"enter",e)}):!l&&a&&!c?i[s]=A.cloneElement(o,{in:!1}):l&&a&&A.isValidElement(u)&&(i[s]=A.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:g1(o,"exit",e),enter:g1(o,"enter",e)}))}}),i}var uJe=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},cJe={component:"div",childFactory:function(t){return t}},wg=(function(e){sEe(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=s.handleExited.bind(sJe(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?aJe(i,a):lJe(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=cX(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=kN({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=RK(i,["component","childFactory"]),l=this.state.contextValue,u=uJe(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?mn.createElement(DN.Provider,{value:l},u):mn.createElement(DN.Provider,{value:l},mn.createElement(s,a,u))},t})(mn.Component);wg.propTypes={};wg.defaultProps=cJe;const oEe=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function dJe(e,t){return e.reduce((n,r)=>(n[r.position||t].push(r),n),oEe.reduce((n,r)=>(n[r]=[],n),{}))}const Vle={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},fJe={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function hJe({state:e,maxHeight:t,position:n,transitionDuration:r}){const[i,s]=n.split("-"),o=s==="center"?`${i}-center`:s,a={opacity:0,maxHeight:t,transform:Vle[o],transitionDuration:`${r}ms, ${r}ms, ${r}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},l={opacity:1,transform:fJe[o]},u={opacity:0,maxHeight:0,transform:Vle[o]};return{...a,...{entering:l,entered:l,exiting:u,exited:u}[e]}}function pJe(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const aEe=A.forwardRef(({data:e,onHide:t,autoClose:n,...r},i)=>{const{autoClose:s,message:o,...a}=e,l=pJe(n,e.autoClose),u=A.useRef(-1),c=()=>window.clearTimeout(u.current),d=()=>{t(e.id),c()},f=()=>{typeof l=="number"&&(u.current=window.setTimeout(d,l))};return A.useEffect(()=>{e.onOpen?.(e)},[]),A.useEffect(()=>(f(),c),[l]),b.jsx(BK,{...r,...a,onClose:d,ref:i,onMouseEnter:c,onMouseLeave:f,children:o})});aEe.displayName="@mantine/notifications/NotificationContainer";var lEe={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const mJe=T0,gJe={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:Au("overlay"),store:Ab,withinPortal:!0},yJe=(e,{zIndex:t,containerWidth:n})=>({root:{"--notifications-z-index":t?.toString(),"--notifications-container-width":Ye(n)}}),k0=tt((e,t)=>{const n=qe("Notifications",gJe,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,position:u,autoClose:c,transitionDuration:d,containerWidth:f,notificationMaxHeight:h,limit:p,zIndex:m,store:g,portalProps:y,withinPortal:v,...w}=n,_=os(),C=KQe(g),S=Vze(),T=S5(),k=A.useRef({}),I=A.useRef(0),P=(_.respectReducedMotion?T:!1)?1:d,N=Ot({name:"Notifications",classes:lEe,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:yJe});A.useEffect(()=>{g?.updateState(j=>({...j,limit:p||5,defaultPosition:u}))},[p,u]),Nl(()=>{C.notifications.length>I.current&&setTimeout(()=>S(),0),I.current=C.notifications.length},[C.notifications]);const $=dJe(C.notifications,u),O=oEe.reduce((j,B)=>(j[B]=$[B].map(({style:H,...q})=>b.jsx(mJe,{timeout:P,onEnter:()=>k.current[q.id].offsetHeight,nodeRef:{current:k.current[q.id]},children:Y=>b.jsx(aEe,{ref:V=>{k.current[q.id]=V},data:q,onHide:V=>iEe(V,g),autoClose:c,...N("notification",{style:{...hJe({state:Y,position:B,transitionDuration:P,maxHeight:h}),...H}})})},q.id)),j),{});return b.jsxs(By,{withinPortal:v,...y,children:[b.jsx(De,{...N("root"),"data-position":"top-center",ref:t,...w,children:b.jsx(wg,{children:O["top-center"]})}),b.jsx(De,{...N("root"),"data-position":"top-left",...w,children:b.jsx(wg,{children:O["top-left"]})}),b.jsx(De,{...N("root",{className:d_.classNames.fullWidth}),"data-position":"top-right",...w,children:b.jsx(wg,{children:O["top-right"]})}),b.jsx(De,{...N("root",{className:d_.classNames.fullWidth}),"data-position":"bottom-right",...w,children:b.jsx(wg,{children:O["bottom-right"]})}),b.jsx(De,{...N("root"),"data-position":"bottom-left",...w,children:b.jsx(wg,{children:O["bottom-left"]})}),b.jsx(De,{...N("root"),"data-position":"bottom-center",...w,children:b.jsx(wg,{children:O["bottom-center"]})})]})});k0.classes=lEe;k0.displayName="@mantine/notifications/Notifications";k0.show=Rb.show;k0.hide=Rb.hide;k0.update=Rb.update;k0.clean=Rb.clean;k0.cleanQueue=Rb.cleanQueue;k0.updateState=Rb.updateState;const uEe=A.createContext({storageEngine:void 0,setStorageEngine:()=>{}}),Ii=()=>A.useContext(uEe);function vJe({children:e}){const[t,n]=A.useState(void 0),r=A.useMemo(()=>({storageEngine:t,setStorageEngine:n}),[t]);return b.jsx(uEe.Provider,{value:r,children:e})}/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Hle="popstate";function bJe(e={}){function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return OV("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:zT(i)}return xJe(t,n,null,e)}function rs(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function id(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wJe(){return Math.random().toString(36).substring(2,10)}function qle(e,t){return{usr:e.state,key:e.key,idx:t}}function OV(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?EC(t):t,state:n,key:t&&t.key||r||wJe()}}function zT({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function EC(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function xJe(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=c();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function c(){return(o.state||{idx:null}).idx}function d(){a="POP";let g=c(),y=g==null?null:g-u;u=g,l&&l({action:a,location:m.location,delta:y})}function f(g,y){a="PUSH";let v=OV(m.location,g,y);u=c()+1;let w=qle(v,u),_=m.createHref(v);try{o.pushState(w,"",_)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(_)}s&&l&&l({action:a,location:m.location,delta:1})}function h(g,y){a="REPLACE";let v=OV(m.location,g,y);u=c();let w=qle(v,u),_=m.createHref(v);o.replaceState(w,"",_),s&&l&&l({action:a,location:m.location,delta:0})}function p(g){return _Je(g)}let m={get action(){return a},get location(){return e(i,o)},listen(g){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Hle,d),l=g,()=>{i.removeEventListener(Hle,d),l=null}},createHref(g){return t(i,g)},createURL:p,encodeLocation(g){let y=p(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:h,go(g){return o.go(g)}};return m}function _Je(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),rs(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:zT(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function cEe(e,t,n="/"){return CJe(e,t,n,!1)}function CJe(e,t,n,r){let i=typeof t=="string"?EC(t):t,s=Xm(i.pathname||"/",n);if(s==null)return null;let o=dEe(e);EJe(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=$Je(s);a=OJe(o[l],u,r)}return a}function dEe(e,t=[],n=[],r="",i=!1){let s=(o,a,l=i,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&l)return;rs(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let d=$m([r,c.relativePath]),f=n.concat(c);o.children&&o.children.length>0&&(rs(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),dEe(o.children,t,f,d,l)),!(o.path==null&&!o.index)&&t.push({path:d,score:DJe(d,o.index),routesMeta:f})};return e.forEach((o,a)=>{if(o.path===""||!o.path?.includes("?"))s(o,a);else for(let l of fEe(o.path))s(o,a,!0,l)}),t}function fEe(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=fEe(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function EJe(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:PJe(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var SJe=/^:[\w-]+$/,TJe=3,kJe=2,AJe=1,RJe=10,IJe=-2,Wle=e=>e==="*";function DJe(e,t){let n=e.split("/"),r=n.length;return n.some(Wle)&&(r+=IJe),t&&(r+=kJe),n.filter(i=>!Wle(i)).reduce((i,s)=>i+(SJe.test(s)?TJe:s===""?AJe:RJe),r)}function PJe(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function OJe(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?t:t.slice(s.length)||"/",d=PN({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=PN({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:$m([s,d.pathname]),pathnameBase:jJe($m([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=$m([s,d.pathnameBase]))}return o}function PN(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=NJe(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:d},f)=>{if(c==="*"){let p=a[f]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const h=a[f];return d&&!h?u[c]=void 0:u[c]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function NJe(e,t=!1,n=!0){id(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function $Je(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return id(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Xm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function MJe(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?EC(e):e;return{pathname:n?n.startsWith("/")?n:FJe(n,t):t,search:BJe(r),hash:zJe(i)}}function FJe(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function l9(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function LJe(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function dX(e){let t=LJe(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function fX(e,t,n,r=!1){let i;typeof e=="string"?i=EC(e):(i={...e},rs(!i.pathname||!i.pathname.includes("?"),l9("?","pathname","search",i)),rs(!i.pathname||!i.pathname.includes("#"),l9("#","pathname","hash",i)),rs(!i.search||!i.search.includes("#"),l9("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=MJe(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var $m=e=>e.join("/").replace(/\/\/+/g,"/"),jJe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),BJe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,zJe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function UJe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var hEe=["POST","PUT","PATCH","DELETE"];new Set(hEe);var VJe=["GET",...hEe];new Set(VJe);var SC=A.createContext(null);SC.displayName="DataRouter";var h$=A.createContext(null);h$.displayName="DataRouterState";A.createContext(!1);var pEe=A.createContext({isTransitioning:!1});pEe.displayName="ViewTransition";var HJe=A.createContext(new Map);HJe.displayName="Fetchers";var qJe=A.createContext(null);qJe.displayName="Await";var Uf=A.createContext(null);Uf.displayName="Navigation";var bA=A.createContext(null);bA.displayName="Location";var _d=A.createContext({outlet:null,matches:[],isDataRoute:!1});_d.displayName="Route";var hX=A.createContext(null);hX.displayName="RouteError";function ON(e,{relative:t}={}){rs(TC(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=A.useContext(Uf),{hash:i,pathname:s,search:o}=wA(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:$m([n,s])),r.createHref({pathname:a,search:o,hash:i})}function TC(){return A.useContext(bA)!=null}function Cd(){return rs(TC(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(bA).location}var mEe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gEe(e){A.useContext(Uf).static||A.useLayoutEffect(e)}function ll(){let{isDataRoute:e}=A.useContext(_d);return e?sZe():WJe()}function WJe(){rs(TC(),"useNavigate() may be used only in the context of a <Router> component.");let e=A.useContext(SC),{basename:t,navigator:n}=A.useContext(Uf),{matches:r}=A.useContext(_d),{pathname:i}=Cd(),s=JSON.stringify(dX(r)),o=A.useRef(!1);return gEe(()=>{o.current=!0}),A.useCallback((l,u={})=>{if(id(o.current,mEe),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=fX(l,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:$m([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,s,i,e])}var GJe=A.createContext(null);function YJe(e){let t=A.useContext(_d).outlet;return A.useMemo(()=>t&&A.createElement(GJe.Provider,{value:e},t),[t,e])}function ro(){let{matches:e}=A.useContext(_d),t=e[e.length-1];return t?t.params:{}}function wA(e,{relative:t}={}){let{matches:n}=A.useContext(_d),{pathname:r}=Cd(),i=JSON.stringify(dX(n));return A.useMemo(()=>fX(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function yEe(e,t){return vEe(e,t)}function vEe(e,t,n,r,i){rs(TC(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=A.useContext(Uf),{matches:o}=A.useContext(_d),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",c=a?a.pathnameBase:"/",d=a&&a.route;{let v=d&&d.path||"";bEe(u,!d||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let f=Cd(),h;if(t){let v=typeof t=="string"?EC(t):t;rs(c==="/"||v.pathname?.startsWith(c),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${v.pathname}" was given in the \`location\` prop.`),h=v}else h=f;let p=h.pathname||"/",m=p;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=cEe(e,{pathname:m});id(d||g!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),id(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=ZJe(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:$m([c,s.encodeLocation?s.encodeLocation(v.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:$m([c,s.encodeLocation?s.encodeLocation(v.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:v.pathnameBase])})),o,n,r,i);return t&&y?A.createElement(bA.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},y):y}function KJe(){let e=iZe(),t=UJe(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:s},"ErrorBoundary")," or"," ",A.createElement("code",{style:s},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),n?A.createElement("pre",{style:i},n):null,o)}var XJe=A.createElement(KJe,null),QJe=class extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?A.createElement(_d.Provider,{value:this.props.routeContext},A.createElement(hX.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JJe({routeContext:e,match:t,children:n}){let r=A.useContext(SC);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),A.createElement(_d.Provider,{value:e},n)}function ZJe(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,o=n?.errors;if(o!=null){let u=s.findIndex(c=>c.route.id&&o?.[c.route.id]!==void 0);rs(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let a=!1,l=-1;if(n)for(let u=0;u<s.length;u++){let c=s[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=u),c.route.id){let{loaderData:d,errors:f}=n,h=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!f||f[c.route.id]===void 0);if(c.route.lazy||h){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((u,c,d)=>{let f,h=!1,p=null,m=null;n&&(f=o&&c.route.id?o[c.route.id]:void 0,p=c.route.errorElement||XJe,a&&(l<0&&d===0?(bEe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,m=null):l===d&&(h=!0,m=c.route.hydrateFallbackElement||null)));let g=t.concat(s.slice(0,d+1)),y=()=>{let v;return f?v=p:h?v=m:c.route.Component?v=A.createElement(c.route.Component,null):c.route.element?v=c.route.element:v=u,A.createElement(JJe,{match:c,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:v})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?A.createElement(QJe,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0},unstable_onError:r}):y()},null)}function pX(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eZe(e){let t=A.useContext(SC);return rs(t,pX(e)),t}function tZe(e){let t=A.useContext(h$);return rs(t,pX(e)),t}function nZe(e){let t=A.useContext(_d);return rs(t,pX(e)),t}function mX(e){let t=nZe(e),n=t.matches[t.matches.length-1];return rs(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function rZe(){return mX("useRouteId")}function iZe(){let e=A.useContext(hX),t=tZe("useRouteError"),n=mX("useRouteError");return e!==void 0?e:t.errors?.[n]}function sZe(){let{router:e}=eZe("useNavigate"),t=mX("useNavigate"),n=A.useRef(!1);return gEe(()=>{n.current=!0}),A.useCallback(async(i,s={})=>{id(n.current,mEe),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var Gle={};function bEe(e,t,n){!t&&!Gle[e]&&(Gle[e]=!0,id(!1,n))}A.memo(oZe);function oZe({routes:e,future:t,state:n,unstable_onError:r}){return vEe(e,void 0,n,r,t)}function gX({to:e,replace:t,state:n,relative:r}){rs(TC(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=A.useContext(Uf);id(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=A.useContext(_d),{pathname:o}=Cd(),a=ll(),l=fX(e,dX(s),o,r==="path"),u=JSON.stringify(l);return A.useEffect(()=>{a(JSON.parse(u),{replace:t,state:n,relative:r})},[a,u,r,t,n]),null}function aZe(e){return YJe(e.context)}function Yv(e){rs(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lZe({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){rs(!TC(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=A.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=EC(n));let{pathname:l="/",search:u="",hash:c="",state:d=null,key:f="default"}=n,h=A.useMemo(()=>{let p=Xm(l,o);return p==null?null:{location:{pathname:p,search:u,hash:c,state:d,key:f},navigationType:r}},[o,l,u,c,d,f,r]);return id(h!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:A.createElement(Uf.Provider,{value:a},A.createElement(bA.Provider,{children:t,value:h}))}function uZe({children:e,location:t}){return yEe(NV(e),t)}function NV(e,t=[]){let n=[];return A.Children.forEach(e,(r,i)=>{if(!A.isValidElement(r))return;let s=[...t,i];if(r.type===A.Fragment){n.push.apply(n,NV(r.props.children,s));return}rs(r.type===Yv,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rs(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=NV(r.props.children,s)),n.push(o)}),n}var RP="get",IP="application/x-www-form-urlencoded";function p$(e){return e!=null&&typeof e.tagName=="string"}function cZe(e){return p$(e)&&e.tagName.toLowerCase()==="button"}function dZe(e){return p$(e)&&e.tagName.toLowerCase()==="form"}function fZe(e){return p$(e)&&e.tagName.toLowerCase()==="input"}function hZe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function pZe(e,t){return e.button===0&&(!t||t==="_self")&&!hZe(e)}function $V(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function mZe(e,t){let n=$V(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}var oD=null;function gZe(){if(oD===null)try{new FormData(document.createElement("form"),0),oD=!1}catch{oD=!0}return oD}var yZe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function u9(e){return e!=null&&!yZe.has(e)?(id(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${IP}"`),null):e}function vZe(e,t){let n,r,i,s,o;if(dZe(e)){let a=e.getAttribute("action");r=a?Xm(a,t):null,n=e.getAttribute("method")||RP,i=u9(e.getAttribute("enctype"))||IP,s=new FormData(e)}else if(cZe(e)||fZe(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?Xm(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||RP,i=u9(e.getAttribute("formenctype"))||u9(a.getAttribute("enctype"))||IP,s=new FormData(a,e),!gZe()){let{name:u,type:c,value:d}=e;if(c==="image"){let f=u?`${u}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else u&&s.append(u,d)}}else{if(p$(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=RP,r=null,i=IP,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yX(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function bZe(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Xm(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function wZe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xZe(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function _Ze(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await wZe(s,n);return o.links?o.links():[]}return[]}));return TZe(r.flat(1).filter(xZe).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Yle(e,t,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>n[u].pathname!==l.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==l.params["*"];return s==="assets"?t.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?t.filter((l,u)=>{let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let d=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function CZe(e,t,{includeHydrateFallback:n}={}){return EZe(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function EZe(e){return[...new Set(e)]}function SZe(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function TZe(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(SZe(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function wEe(){let e=A.useContext(SC);return yX(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function kZe(){let e=A.useContext(h$);return yX(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var vX=A.createContext(void 0);vX.displayName="FrameworkContext";function xEe(){let e=A.useContext(vX);return yX(e,"You must render this element inside a <HydratedRouter> element"),e}function AZe(e,t){let n=A.useContext(vX),[r,i]=A.useState(!1),[s,o]=A.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=t,f=A.useRef(null);A.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let m=y=>{y.forEach(v=>{o(v.isIntersecting)})},g=new IntersectionObserver(m,{threshold:.5});return f.current&&g.observe(f.current),()=>{g.disconnect()}}},[e]),A.useEffect(()=>{if(r){let m=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(m)}}},[r]);let h=()=>{i(!0)},p=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,f,{}]:[s,f,{onFocus:s2(a,h),onBlur:s2(l,p),onMouseEnter:s2(u,h),onMouseLeave:s2(c,p),onTouchStart:s2(d,h)}]:[!1,f,{}]}function s2(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function RZe({page:e,...t}){let{router:n}=wEe(),r=A.useMemo(()=>cEe(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?A.createElement(DZe,{page:e,matches:r,...t}):null}function IZe(e){let{manifest:t,routeModules:n}=xEe(),[r,i]=A.useState([]);return A.useEffect(()=>{let s=!1;return _Ze(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function DZe({page:e,matches:t,...n}){let r=Cd(),{manifest:i,routeModules:s}=xEe(),{basename:o}=wEe(),{loaderData:a,matches:l}=kZe(),u=A.useMemo(()=>Yle(e,t,l,i,r,"data"),[e,t,l,i,r]),c=A.useMemo(()=>Yle(e,t,l,i,r,"assets"),[e,t,l,i,r]),d=A.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let p=new Set,m=!1;if(t.forEach(y=>{let v=i.routes[y.route.id];!v||!v.hasLoader||(!u.some(w=>w.route.id===y.route.id)&&y.route.id in a&&s[y.route.id]?.shouldRevalidate||v.hasClientLoader?m=!0:p.add(y.route.id))}),p.size===0)return[];let g=bZe(e,o,"data");return m&&p.size>0&&g.searchParams.set("_routes",t.filter(y=>p.has(y.route.id)).map(y=>y.route.id).join(",")),[g.pathname+g.search]},[o,a,r,i,u,t,e,s]),f=A.useMemo(()=>CZe(c,i),[c,i]),h=IZe(c);return A.createElement(A.Fragment,null,d.map(p=>A.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),f.map(p=>A.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),h.map(({key:p,link:m})=>A.createElement("link",{key:p,nonce:n.nonce,...m})))}function PZe(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var _Ee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_Ee&&(window.__reactRouterVersion="7.9.4")}catch{}function OZe({basename:e,children:t,window:n}){let r=A.useRef();r.current==null&&(r.current=bJe({window:n,v5Compat:!0}));let i=r.current,[s,o]=A.useState({action:i.action,location:i.location}),a=A.useCallback(l=>{A.startTransition(()=>o(l))},[o]);return A.useLayoutEffect(()=>i.listen(a),[i,a]),A.createElement(lZe,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var CEe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,EEe=A.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d,...f},h){let{basename:p}=A.useContext(Uf),m=typeof u=="string"&&CEe.test(u),g,y=!1;if(typeof u=="string"&&m&&(g=u,_Ee))try{let I=new URL(window.location.href),R=u.startsWith("//")?new URL(I.protocol+u):new URL(u),P=Xm(R.pathname,p);R.origin===I.origin&&P!=null?u=P+R.search+R.hash:y=!0}catch{id(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=ON(u,{relative:i}),[w,_,C]=AZe(r,f),S=FZe(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d});function T(I){t&&t(I),I.defaultPrevented||S(I)}let k=A.createElement("a",{...f,...C,href:g||v,onClick:y||s?t:T,ref:PZe(h,_),target:l,"data-discover":!m&&n==="render"?"true":void 0});return w&&!m?A.createElement(A.Fragment,null,k,A.createElement(RZe,{page:v})):k});EEe.displayName="Link";var NZe=A.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},c){let d=wA(o,{relative:u.relative}),f=Cd(),h=A.useContext(h$),{navigator:p,basename:m}=A.useContext(Uf),g=h!=null&&UZe(d)&&a===!0,y=p.encodeLocation?p.encodeLocation(d).pathname:d.pathname,v=f.pathname,w=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;n||(v=v.toLowerCase(),w=w?w.toLowerCase():null,y=y.toLowerCase()),w&&m&&(w=Xm(w,m)||w);const _=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let C=v===y||!i&&v.startsWith(y)&&v.charAt(_)==="/",S=w!=null&&(w===y||!i&&w.startsWith(y)&&w.charAt(y.length)==="/"),T={isActive:C,isPending:S,isTransitioning:g},k=C?t:void 0,I;typeof r=="function"?I=r(T):I=[r,C?"active":null,S?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(T):s;return A.createElement(EEe,{...u,"aria-current":k,className:I,ref:c,style:R,to:o,viewTransition:a},typeof l=="function"?l(T):l)});NZe.displayName="NavLink";var $Ze=A.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=RP,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:d,...f},h)=>{let p=BZe(),m=zZe(a,{relative:u}),g=o.toLowerCase()==="get"?"get":"post",y=typeof a=="string"&&CEe.test(a),v=w=>{if(l&&l(w),w.defaultPrevented)return;w.preventDefault();let _=w.nativeEvent.submitter,C=_?.getAttribute("formmethod")||o;p(_||w.currentTarget,{fetcherKey:t,method:C,navigate:n,replace:i,state:s,relative:u,preventScrollReset:c,viewTransition:d})};return A.createElement("form",{ref:h,method:g,action:m,onSubmit:r?l:v,...f,"data-discover":!y&&e==="render"?"true":void 0})});$Ze.displayName="Form";function MZe(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SEe(e){let t=A.useContext(SC);return rs(t,MZe(e)),t}function FZe(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=ll(),l=Cd(),u=wA(e,{relative:s});return A.useCallback(c=>{if(pZe(c,t)){c.preventDefault();let d=n!==void 0?n:zT(l)===zT(u);a(e,{replace:d,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,n,r,t,e,i,s,o])}function mc(e){id(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=A.useRef($V(e)),n=A.useRef(!1),r=Cd(),i=A.useMemo(()=>mZe(r.search,n.current?null:t.current),[r.search]),s=ll(),o=A.useCallback((a,l)=>{const u=$V(typeof a=="function"?a(new URLSearchParams(i)):a);n.current=!0,s("?"+u,l)},[s,i]);return[i,o]}var LZe=0,jZe=()=>`__${String(++LZe)}__`;function BZe(){let{router:e}=SEe("useSubmit"),{basename:t}=A.useContext(Uf),n=rZe();return A.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=vZe(r,t);if(i.navigate===!1){let c=i.fetcherKey||jZe();await e.fetch(c,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function zZe(e,{relative:t}={}){let{basename:n}=A.useContext(Uf),r=A.useContext(_d);rs(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...wA(e||".",{relative:t})},o=Cd();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let c=a.toString();s.search=c?`?${c}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:$m([n,s.pathname])),zT(s)}function UZe(e,{relative:t}={}){let n=A.useContext(pEe);rs(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=SEe("useViewTransitionState"),i=wA(e,{relative:t});if(!n.isTransitioning)return!1;let s=Xm(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Xm(n.nextLocation.pathname,r)||n.nextLocation.pathname;return PN(i.pathname,o)!=null||PN(i.pathname,s)!=null}const bX=A.createContext(null);bX.displayName="@mantine/modals/ModalsContext";function VZe(){const e=A.useContext(bX);if(!e)throw new Error("[@mantine/modals] useModals hook was called outside of context, wrap your app with ModalsProvider component");return e}function HZe({id:e,cancelProps:t,confirmProps:n,labels:r={cancel:"",confirm:""},closeOnConfirm:i=!0,closeOnCancel:s=!0,groupProps:o,onCancel:a,onConfirm:l,children:u}){const{cancel:c,confirm:d}=r,f=VZe(),h=m=>{typeof t?.onClick=="function"&&t?.onClick(m),typeof a=="function"&&a(),s&&f.closeModal(e)},p=m=>{typeof n?.onClick=="function"&&n?.onClick(m),typeof l=="function"&&l(),i&&f.closeModal(e)};return b.jsxs(b.Fragment,{children:[u&&b.jsx(De,{mb:"md",children:u}),b.jsxs(An,{mt:u?0:"md",justify:"flex-end",...o,children:[b.jsx(Wt,{variant:"default",...t,onClick:h,children:t?.children||c}),b.jsx(Wt,{...n,onClick:p,children:n?.children||d})]})]})}const[qZe,wX]=lUe("mantine-modals"),Kle=e=>{const t=e.modalId||Kg();return wX("openConfirmModal")({...e,modalId:t}),t};wX("closeModal");wX("closeAllModals");function Xle(e,t){t&&e.type==="confirm"&&e.props.onCancel?.(),e.props.onClose?.()}function WZe(e,t){switch(t.type){case"OPEN":return{current:t.modal,modals:[...e.modals,t.modal]};case"CLOSE":{const n=e.modals.find(i=>i.id===t.modalId);if(!n)return e;Xle(n,t.canceled);const r=e.modals.filter(i=>i.id!==t.modalId);return{current:r[r.length-1]||e.current,modals:r}}case"CLOSE_ALL":return e.modals.length?(e.modals.concat().reverse().forEach(n=>{Xle(n,t.canceled)}),{current:e.current,modals:[]}):e;case"UPDATE":{const{modalId:n,newProps:r}=t,i=e.modals.map(o=>o.id!==n?o:o.type==="content"||o.type==="confirm"?{...o,props:{...o.props,...r}}:o.type==="context"?{...o,props:{...o.props,...r,innerProps:{...o.props.innerProps,...r.innerProps}}}:o),s=e.current?.id===n&&i.find(o=>o.id===n)||e.current;return{...e,modals:i,current:s}}default:return e}}function GZe(e){if(!e)return{confirmProps:{},modalProps:{}};const{id:t,children:n,onCancel:r,onConfirm:i,closeOnConfirm:s,closeOnCancel:o,cancelProps:a,confirmProps:l,groupProps:u,labels:c,...d}=e;return{confirmProps:{id:t,children:n,onCancel:r,onConfirm:i,closeOnConfirm:s,closeOnCancel:o,cancelProps:a,confirmProps:l,groupProps:u,labels:c},modalProps:{id:t,...d}}}function YZe({children:e,modalProps:t,labels:n,modals:r}){const[i,s]=A.useReducer(WZe,{modals:[],current:null}),o=A.useRef(i);o.current=i;const a=A.useCallback(v=>{s({type:"CLOSE_ALL",canceled:v})},[o,s]),l=A.useCallback(({modalId:v,...w})=>{const _=v||Kg();return s({type:"OPEN",modal:{id:_,type:"content",props:w}}),_},[s]),u=A.useCallback(({modalId:v,...w})=>{const _=v||Kg();return s({type:"OPEN",modal:{id:_,type:"confirm",props:w}}),_},[s]),c=A.useCallback((v,{modalId:w,..._})=>{const C=w||Kg();return s({type:"OPEN",modal:{id:C,type:"context",props:_,ctx:v}}),C},[s]),d=A.useCallback((v,w)=>{s({type:"CLOSE",modalId:v,canceled:w})},[o,s]),f=A.useCallback(({modalId:v,...w})=>{s({type:"UPDATE",modalId:v,newProps:w})},[s]),h=A.useCallback(({modalId:v,...w})=>{s({type:"UPDATE",modalId:v,newProps:w})},[s]);qZe({openModal:l,openConfirmModal:u,openContextModal:({modal:v,...w})=>c(v,w),closeModal:d,closeContextModal:d,closeAllModals:a,updateModal:f,updateContextModal:h});const p={modalProps:t||{},modals:i.modals,openModal:l,openConfirmModal:u,openContextModal:c,closeModal:d,closeContextModal:d,closeAll:a,updateModal:f,updateContextModal:h},m=()=>{const v=o.current.current;switch(v?.type){case"context":{const{innerProps:w,..._}=v.props,C=r[v.ctx];return{modalProps:_,content:b.jsx(C,{innerProps:w,context:p,id:v.id})}}case"confirm":{const{modalProps:w,confirmProps:_}=GZe(v.props);return{modalProps:w,content:b.jsx(HZe,{..._,id:v.id,labels:v.props.labels||n})}}case"content":{const{children:w,..._}=v.props;return{modalProps:_,content:w}}default:return{modalProps:{},content:null}}},{modalProps:g,content:y}=m();return b.jsxs(bX.Provider,{value:p,children:[b.jsx(Ti,{zIndex:Au("modal")+1,...t,...g,opened:i.modals.length>0,onClose:()=>d(i.current?.id),children:y}),e]})}/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var KZe={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=(e,t,n,r)=>{const i=A.forwardRef(({color:s="currentColor",size:o=24,stroke:a=2,title:l,className:u,children:c,...d},f)=>A.createElement("svg",{ref:f,...KZe[e],width:o,height:o,className:["tabler-icon",`tabler-icon-${t}`,u].join(" "),...e==="filled"?{fill:s}:{strokeWidth:a,stroke:s},...d},[l&&A.createElement("title",{key:"svg-title"},l),...r.map(([h,p])=>A.createElement(h,p)),...Array.isArray(c)?c:[c]]));return i.displayName=`${n}`,i};/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const XZe=[["path",{d:"M14 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M4 6l8 0",key:"svg-1"}],["path",{d:"M16 6l4 0",key:"svg-2"}],["path",{d:"M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-3"}],["path",{d:"M4 12l2 0",key:"svg-4"}],["path",{d:"M10 12l10 0",key:"svg-5"}],["path",{d:"M17 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-6"}],["path",{d:"M4 18l11 0",key:"svg-7"}],["path",{d:"M19 18l1 0",key:"svg-8"}]],QZe=St("outline","adjustments-horizontal","AdjustmentsHorizontal",XZe);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const JZe=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],ZZe=St("outline","alert-circle","AlertCircle",JZe);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const eet=[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],Zc=St("outline","alert-triangle","AlertTriangle",eet);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const tet=[["path",{d:"M6 4l-3 3l3 3",key:"svg-0"}],["path",{d:"M18 4l3 3l-3 3",key:"svg-1"}],["path",{d:"M4 14m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-2"}],["path",{d:"M10 7h-7",key:"svg-3"}],["path",{d:"M21 7h-7",key:"svg-4"}]],net=St("outline","arrow-autofit-content","ArrowAutofitContent",tet);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ret=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]],MV=St("outline","arrow-left","ArrowLeft",ret);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const iet=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]],Qle=St("outline","arrow-right","ArrowRight",iet);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const set=[["path",{d:"M18 4l3 3l-3 3",key:"svg-0"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5",key:"svg-2"}],["path",{d:"M21 7h-5a4.978 4.978 0 0 0 -3 1m-4 8a4.984 4.984 0 0 1 -3 1h-3",key:"svg-3"}]],oet=St("outline","arrows-shuffle","ArrowsShuffle",set);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const aet=[["path",{d:"M3 9l4 -4l4 4m-4 -4v14",key:"svg-0"}],["path",{d:"M21 15l-4 4l-4 -4m4 4v-14",key:"svg-1"}]],uet=St("outline","arrows-sort","ArrowsSort",aet);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const cet=[["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M16 12v1.5a2.5 2.5 0 0 0 5 0v-1.5a9 9 0 1 0 -5.5 8.28",key:"svg-1"}]],det=St("outline","at","At",cet);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const fet=[["path",{d:"M4 4h16",key:"svg-0"}],["path",{d:"M4 20h16",key:"svg-1"}]],het=St("outline","baseline-density-large","BaselineDensityLarge",fet);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const pet=[["path",{d:"M4 20h16",key:"svg-0"}],["path",{d:"M4 12h16",key:"svg-1"}],["path",{d:"M4 4h16",key:"svg-2"}]],met=St("outline","baseline-density-medium","BaselineDensityMedium",pet);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const get=[["path",{d:"M4 3h16",key:"svg-0"}],["path",{d:"M4 9h16",key:"svg-1"}],["path",{d:"M4 15h16",key:"svg-2"}],["path",{d:"M4 21h16",key:"svg-3"}]],yet=St("outline","baseline-density-small","BaselineDensitySmall",get);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const vet=[["path",{d:"M7 3m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M17 17v2a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h2",key:"svg-1"}]],bet=St("outline","box-multiple","BoxMultiple",vet);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const wet=[["path",{d:"M15.5 13a3.5 3.5 0 0 0 -3.5 3.5v1a3.5 3.5 0 0 0 7 0v-1.8",key:"svg-0"}],["path",{d:"M8.5 13a3.5 3.5 0 0 1 3.5 3.5v1a3.5 3.5 0 0 1 -7 0v-1.8",key:"svg-1"}],["path",{d:"M17.5 16a3.5 3.5 0 0 0 0 -7h-.5",key:"svg-2"}],["path",{d:"M19 9.3v-2.8a3.5 3.5 0 0 0 -7 0",key:"svg-3"}],["path",{d:"M6.5 16a3.5 3.5 0 0 1 0 -7h.5",key:"svg-4"}],["path",{d:"M5 9.3v-2.8a3.5 3.5 0 0 1 7 0v10",key:"svg-5"}]],xet=St("outline","brain","Brain",wet);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const _et=[["path",{d:"M4.53 17.05l6.15 -11.72h-.02c.38 -.74 1.28 -1.02 2.01 -.63c.26 .14 .48 .36 .62 .62l1.06 2.01",key:"svg-0"}],["path",{d:"M15.47 6.45c.58 -.59 1.53 -.59 2.11 -.01c.22 .22 .36 .5 .41 .81l1.5 9.11c.1 .62 -.2 1.24 -.76 1.54l-6.07 2.9c-.46 .25 -1.01 .26 -1.46 0l-6.02 -2.92c-.55 -.31 -.85 -.92 -.75 -1.54l1.96 -12.04c.12 -.82 .89 -1.38 1.7 -1.25c.46 .07 .87 .36 1.09 .77l1.24 1.76",key:"svg-1"}],["path",{d:"M4.57 17.18l10.93 -10.68",key:"svg-2"}]],TEe=St("outline","brand-firebase","BrandFirebase",_et);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cet=[["path",{d:"M12 9h-7a2 2 0 0 0 -2 2v4a2 2 0 0 0 2 2h3",key:"svg-0"}],["path",{d:"M12 15h7a2 2 0 0 0 2 -2v-4a2 2 0 0 0 -2 -2h-3",key:"svg-1"}],["path",{d:"M8 9v-4a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v5a2 2 0 0 1 -2 2h-4a2 2 0 0 0 -2 2v5a2 2 0 0 0 2 2h4a2 2 0 0 0 2 -2v-4",key:"svg-2"}],["path",{d:"M11 6l0 .01",key:"svg-3"}],["path",{d:"M13 18l0 .01",key:"svg-4"}]],Eet=St("outline","brand-python","BrandPython",Cet);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tet=[["path",{d:"M4 14h8v7l8 -11h-8v-7z",key:"svg-0"}]],xX=St("outline","brand-supabase","BrandSupabase",Tet);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ket=[["path",{d:"M7 10h10",key:"svg-0"}],["path",{d:"M9 14h5",key:"svg-1"}],["path",{d:"M12.4 3a5.34 5.34 0 0 1 4.906 3.239a5.333 5.333 0 0 1 -1.195 10.6a4.26 4.26 0 0 1 -5.28 1.863l-3.831 2.298v-3.134a2.668 2.668 0 0 1 -1.795 -3.773a4.8 4.8 0 0 1 2.908 -8.933a5.33 5.33 0 0 1 4.287 -2.16",key:"svg-2"}]],Aet=St("outline","bubble-text","BubbleText",ket);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ret=[["path",{d:"M12 3v5m4 4h5",key:"svg-0"}],["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-1"}],["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-2"}]],Iet=St("outline","chart-donut-2","ChartDonut2",Ret);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Det=[["path",{d:"M18 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M6 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M6 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-2"}],["path",{d:"M18 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-3"}],["path",{d:"M8 18h8",key:"svg-4"}],["path",{d:"M18 20v1",key:"svg-5"}],["path",{d:"M18 3v1",key:"svg-6"}],["path",{d:"M6 20v1",key:"svg-7"}],["path",{d:"M6 10v-7",key:"svg-8"}],["path",{d:"M12 3v18",key:"svg-9"}],["path",{d:"M18 8v8",key:"svg-10"}],["path",{d:"M8 12h13",key:"svg-11"}],["path",{d:"M21 6h-1",key:"svg-12"}],["path",{d:"M16 6h-13",key:"svg-13"}],["path",{d:"M3 12h1",key:"svg-14"}],["path",{d:"M20 18h1",key:"svg-15"}],["path",{d:"M3 18h1",key:"svg-16"}],["path",{d:"M6 14v2",key:"svg-17"}]],Pet=St("outline","chart-grid-dots","ChartGridDots",Det);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oet=[["path",{d:"M3 3v18h18",key:"svg-0"}],["path",{d:"M20 18v3",key:"svg-1"}],["path",{d:"M16 16v5",key:"svg-2"}],["path",{d:"M12 13v8",key:"svg-3"}],["path",{d:"M8 16v5",key:"svg-4"}],["path",{d:"M3 11c6 0 5 -5 9 -5s3 5 9 5",key:"svg-5"}]],kEe=St("outline","chart-histogram","ChartHistogram",Oet);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Net=[["path",{d:"M10 3.2a9 9 0 1 0 10.8 10.8a1 1 0 0 0 -1 -1h-6.8a2 2 0 0 1 -2 -2v-7a.9 .9 0 0 0 -1 -.8",key:"svg-0"}],["path",{d:"M15 3.5a9 9 0 0 1 5.5 5.5h-4.5a1 1 0 0 1 -1 -1v-4.5",key:"svg-1"}]],$et=St("outline","chart-pie","ChartPie",Net);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Met=[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]],dy=St("outline","check","Check",Met);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fet=[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]],_X=St("outline","chevron-down","ChevronDown",Fet);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Let=[["path",{d:"M7 6v12",key:"svg-0"}],["path",{d:"M18 6l-6 6l6 6",key:"svg-1"}]],jet=St("outline","chevron-left-pipe","ChevronLeftPipe",Let);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bet=[["path",{d:"M15 6l-6 6l6 6",key:"svg-0"}]],zet=St("outline","chevron-left","ChevronLeft",Bet);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uet=[["path",{d:"M6 6l6 6l-6 6",key:"svg-0"}],["path",{d:"M17 5v13",key:"svg-1"}]],Vet=St("outline","chevron-right-pipe","ChevronRightPipe",Uet);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Het=[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]],AEe=St("outline","chevron-right","ChevronRight",Het);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const qet=[["path",{d:"M7 7l5 5l5 -5",key:"svg-0"}],["path",{d:"M7 13l5 5l5 -5",key:"svg-1"}]],Wet=St("outline","chevrons-down","ChevronsDown",qet);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Get=[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M10 10l4 4m0 -4l-4 4",key:"svg-1"}]],Yet=St("outline","circle-x","CircleX",Get);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ket=[["path",{d:"M8 6h12",key:"svg-0"}],["path",{d:"M6 12h12",key:"svg-1"}],["path",{d:"M4 18h12",key:"svg-2"}]],Xet=St("outline","clear-all","ClearAll",Ket);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qet=[["path",{d:"M9 12h6",key:"svg-0"}],["path",{d:"M12 9v6",key:"svg-1"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-2"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-3"}]],Jet=St("outline","code-plus","CodePlus",Qet);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zet=[["path",{d:"M4 6l5.5 0",key:"svg-0"}],["path",{d:"M4 10l5.5 0",key:"svg-1"}],["path",{d:"M4 14l5.5 0",key:"svg-2"}],["path",{d:"M4 18l5.5 0",key:"svg-3"}],["path",{d:"M14.5 6l5.5 0",key:"svg-4"}],["path",{d:"M14.5 10l5.5 0",key:"svg-5"}],["path",{d:"M14.5 14l5.5 0",key:"svg-6"}],["path",{d:"M14.5 18l5.5 0",key:"svg-7"}]],ett=St("outline","columns","Columns",Zet);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ttt=[["path",{d:"M7 9.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-1"}],["path",{d:"M4.012 16.737a2 2 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-2"}],["path",{d:"M11 14l2 2l4 -4",key:"svg-3"}]],ntt=St("outline","copy-check","CopyCheck",ttt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const rtt=[["path",{d:"M12 13m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M13.45 11.55l2.05 -2.05",key:"svg-1"}],["path",{d:"M6.4 20a9 9 0 1 1 11.2 0z",key:"svg-2"}]],itt=St("outline","dashboard","Dashboard",rtt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const stt=[["path",{d:"M4 6c0 1.657 3.582 3 8 3s8 -1.343 8 -3s-3.582 -3 -8 -3s-8 1.343 -8 3",key:"svg-0"}],["path",{d:"M4 6v6c0 1.657 3.582 3 8 3c1.118 0 2.183 -.086 3.15 -.241",key:"svg-1"}],["path",{d:"M20 12v-6",key:"svg-2"}],["path",{d:"M4 12v6c0 1.657 3.582 3 8 3c.157 0 .312 -.002 .466 -.005",key:"svg-3"}],["path",{d:"M16 19h6",key:"svg-4"}],["path",{d:"M19 16l3 3l-3 3",key:"svg-5"}]],ott=St("outline","database-export","DatabaseExport",stt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const att=[["path",{d:"M12 6m-8 0a8 3 0 1 0 16 0a8 3 0 1 0 -16 0",key:"svg-0"}],["path",{d:"M4 6v6a8 3 0 0 0 16 0v-6",key:"svg-1"}],["path",{d:"M4 12v6a8 3 0 0 0 16 0v-6",key:"svg-2"}]],NN=St("outline","database","Database",att);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ltt=[["path",{d:"M13.5 16h-9.5a1 1 0 0 1 -1 -1v-10a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v7.5",key:"svg-0"}],["path",{d:"M7 20h5",key:"svg-1"}],["path",{d:"M9 16v4",key:"svg-2"}],["path",{d:"M19 16v6",key:"svg-3"}],["path",{d:"M22 19l-3 3l-3 -3",key:"svg-4"}]],REe=St("outline","device-desktop-down","DeviceDesktopDown",ltt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const utt=[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]],ctt=St("outline","device-floppy","DeviceFloppy",utt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const dtt=[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["circle",{cx:"8.5",cy:"8.5",r:".5",fill:"currentColor",key:"svg-1"}],["circle",{cx:"15.5",cy:"15.5",r:".5",fill:"currentColor",key:"svg-2"}],["circle",{cx:"12",cy:"12",r:".5",fill:"currentColor",key:"svg-3"}]],ftt=St("outline","dice-3","Dice3",dtt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const htt=[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["circle",{cx:"8.5",cy:"8.5",r:".5",fill:"currentColor",key:"svg-1"}],["circle",{cx:"15.5",cy:"8.5",r:".5",fill:"currentColor",key:"svg-2"}],["circle",{cx:"15.5",cy:"15.5",r:".5",fill:"currentColor",key:"svg-3"}],["circle",{cx:"8.5",cy:"15.5",r:".5",fill:"currentColor",key:"svg-4"}],["circle",{cx:"12",cy:"12",r:".5",fill:"currentColor",key:"svg-5"}]],ptt=St("outline","dice-5","Dice5",htt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const mtt=[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]],IEe=St("outline","dots-vertical","DotsVertical",mtt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const gtt=[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]],DEe=St("outline","dots","Dots",gtt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ytt=[["path",{d:"M19 11v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2",key:"svg-0"}],["path",{d:"M13 13l9 3l-4 2l-2 4l-3 -9",key:"svg-1"}],["path",{d:"M3 3l0 .01",key:"svg-2"}],["path",{d:"M7 3l0 .01",key:"svg-3"}],["path",{d:"M11 3l0 .01",key:"svg-4"}],["path",{d:"M15 3l0 .01",key:"svg-5"}],["path",{d:"M3 7l0 .01",key:"svg-6"}],["path",{d:"M3 11l0 .01",key:"svg-7"}],["path",{d:"M3 15l0 .01",key:"svg-8"}]],vtt=St("outline","drag-drop","DragDrop",ytt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const btt=[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]],$N=St("outline","edit","Edit",btt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const wtt=[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]],xtt=St("outline","external-link","ExternalLink",wtt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const _tt=[["path",{d:"M10.585 10.587a2 2 0 0 0 2.829 2.828",key:"svg-0"}],["path",{d:"M16.681 16.673a8.717 8.717 0 0 1 -4.681 1.327c-3.6 0 -6.6 -2 -9 -6c1.272 -2.12 2.712 -3.678 4.32 -4.674m2.86 -1.146a9.055 9.055 0 0 1 1.82 -.18c3.6 0 6.6 2 9 6c-.666 1.11 -1.379 2.067 -2.138 2.87",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]],Ctt=St("outline","eye-off","EyeOff",_tt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ett=[["path",{d:"M12 20l-3 1v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v1.5",key:"svg-0"}],["path",{d:"M19.001 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M19.001 15.5v1.5",key:"svg-2"}],["path",{d:"M19.001 21v1.5",key:"svg-3"}],["path",{d:"M22.032 17.25l-1.299 .75",key:"svg-4"}],["path",{d:"M17.27 20l-1.3 .75",key:"svg-5"}],["path",{d:"M15.97 17.25l1.3 .75",key:"svg-6"}],["path",{d:"M20.733 20l1.3 .75",key:"svg-7"}]],Stt=St("outline","filter-cog","FilterCog",Ett);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ttt=[["path",{d:"M8 4h12v2.172a2 2 0 0 1 -.586 1.414l-3.914 3.914m-.5 3.5v4l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]],ktt=St("outline","filter-off","FilterOff",Ttt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Att=[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z",key:"svg-0"}]],Rtt=St("outline","filter","Filter",Att);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Itt=[["path",{d:"M8 4h10a2 2 0 0 1 2 2v10m-.586 3.414a2 2 0 0 1 -1.414 .586h-12a2 2 0 0 1 -2 -2v-12c0 -.547 .22 -1.043 .576 -1.405",key:"svg-0"}],["path",{d:"M7 14l3 -3l2 2l.5 -.5m2 -2l.5 -.5l2 2",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]],PEe=St("outline","graph-off","GraphOff",Itt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dtt=[["path",{d:"M4 18v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M7 14l3 -3l2 2l3 -3l2 2",key:"svg-1"}]],OEe=St("outline","graph","Graph",Dtt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ptt=[["path",{d:"M5 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-4"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-5"}],["path",{d:"M5 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-6"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-7"}],["path",{d:"M19 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-8"}]],Ott=St("outline","grid-dots","GridDots",Ptt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ntt=[["path",{d:"M5 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M5 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M12 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}],["path",{d:"M19 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-4"}],["path",{d:"M19 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-5"}]],$tt=St("outline","grip-horizontal","GripHorizontal",Ntt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mtt=[["path",{d:"M6 20v-2a6 6 0 1 1 12 0v2a1 1 0 0 1 -1 1h-10a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M6 4v2a6 6 0 1 0 12 0v-2a1 1 0 0 0 -1 -1h-10a1 1 0 0 0 -1 1z",key:"svg-1"}]],Ftt=St("outline","hourglass-empty","HourglassEmpty",Mtt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ltt=[["path",{d:"M13 16v-8l2 5l2 -5v8",key:"svg-0"}],["path",{d:"M1 16v-8",key:"svg-1"}],["path",{d:"M5 8v8",key:"svg-2"}],["path",{d:"M1 12h4",key:"svg-3"}],["path",{d:"M7 8h4",key:"svg-4"}],["path",{d:"M9 8v8",key:"svg-5"}],["path",{d:"M20 8v8h3",key:"svg-6"}]],jtt=St("outline","html","Html",Ltt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Btt=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]],Qm=St("outline","info-circle","InfoCircle",Btt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ztt=[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M12 4l0 16",key:"svg-1"}]],Utt=St("outline","layout-columns","LayoutColumns",ztt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vtt=[["path",{d:"M17.5 15.5m-3.5 0a3.5 3.5 0 1 0 7 0a3.5 3.5 0 1 0 -7 0",key:"svg-0"}],["path",{d:"M3 19v-10.5a3.5 3.5 0 0 1 7 0v10.5",key:"svg-1"}],["path",{d:"M3 13h7",key:"svg-2"}],["path",{d:"M21 12v7",key:"svg-3"}]],Htt=St("outline","letter-case","LetterCase",Vtt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const qtt=[["path",{d:"M3.5 5.5l1.5 1.5l2.5 -2.5",key:"svg-0"}],["path",{d:"M3.5 11.5l1.5 1.5l2.5 -2.5",key:"svg-1"}],["path",{d:"M3.5 17.5l1.5 1.5l2.5 -2.5",key:"svg-2"}],["path",{d:"M11 6l9 0",key:"svg-3"}],["path",{d:"M11 12l9 0",key:"svg-4"}],["path",{d:"M11 18l9 0",key:"svg-5"}]],NEe=St("outline","list-check","ListCheck",qtt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wtt=[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]],Gtt=St("outline","mail","Mail",Wtt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ytt=[["path",{d:"M4 8v-2a2 2 0 0 1 2 -2h2",key:"svg-0"}],["path",{d:"M4 16v2a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v2",key:"svg-2"}],["path",{d:"M16 20h2a2 2 0 0 0 2 -2v-2",key:"svg-3"}]],Ktt=St("outline","maximize","Maximize",Ytt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xtt=[["path",{d:"M15 19v-2a2 2 0 0 1 2 -2h2",key:"svg-0"}],["path",{d:"M15 5v2a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M5 15h2a2 2 0 0 1 2 2v2",key:"svg-2"}],["path",{d:"M5 9h2a2 2 0 0 0 2 -2v-2",key:"svg-3"}]],Qtt=St("outline","minimize","Minimize",Xtt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jtt=[["path",{d:"M3 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-0"}],["path",{d:"M9 17v-13h10v8",key:"svg-1"}],["path",{d:"M9 8h10",key:"svg-2"}],["path",{d:"M19 16v6",key:"svg-3"}],["path",{d:"M22 19l-3 3l-3 -3",key:"svg-4"}]],$Ee=St("outline","music-down","MusicDown",Jtt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ztt=[["path",{d:"M3 10l2 -2v8",key:"svg-0"}],["path",{d:"M9 8h3a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 0 -1 1v2a1 1 0 0 0 1 1h3",key:"svg-1"}],["path",{d:"M17 8h2.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-1.5h1.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-2.5",key:"svg-2"}]],ent=St("outline","number-123","Number123",Ztt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const tnt=[["path",{d:"M12 21l-8 -4.5v-9l8 -4.5l8 4.5v4.5",key:"svg-0"}],["path",{d:"M12 12l8 -4.5",key:"svg-1"}],["path",{d:"M12 12v9",key:"svg-2"}],["path",{d:"M12 12l-8 -4.5",key:"svg-3"}],["path",{d:"M22 18h-7",key:"svg-4"}],["path",{d:"M18 15l-3 3l3 3",key:"svg-5"}]],nnt=St("outline","package-import","PackageImport",tnt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const rnt=[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]],int=St("outline","pencil","Pencil",rnt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const snt=[["path",{d:"M3 3l18 18",key:"svg-0"}],["path",{d:"M15 4.5l-3.249 3.249m-2.57 1.433l-2.181 .818l-1.5 1.5l7 7l1.5 -1.5l.82 -2.186m1.43 -2.563l3.25 -3.251",key:"svg-1"}],["path",{d:"M9 15l-4.5 4.5",key:"svg-2"}],["path",{d:"M14.5 4l5.5 5.5",key:"svg-3"}]],ont=St("outline","pinned-off","PinnedOff",snt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ant=[["path",{d:"M9 4v6l-2 4v2h10v-2l-2 -4v-6",key:"svg-0"}],["path",{d:"M12 16l0 5",key:"svg-1"}],["path",{d:"M8 4l8 0",key:"svg-2"}]],lnt=St("outline","pinned","Pinned",ant);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const unt=[["path",{d:"M20 16l-4 4",key:"svg-0"}],["path",{d:"M7 12l5 5l-1.5 1.5a3.536 3.536 0 1 1 -5 -5l1.5 -1.5z",key:"svg-1"}],["path",{d:"M17 12l-5 -5l1.5 -1.5a3.536 3.536 0 1 1 5 5l-1.5 1.5z",key:"svg-2"}],["path",{d:"M3 21l2.5 -2.5",key:"svg-3"}],["path",{d:"M18.5 5.5l2.5 -2.5",key:"svg-4"}],["path",{d:"M10 11l-2 2",key:"svg-5"}],["path",{d:"M13 14l-2 2",key:"svg-6"}],["path",{d:"M16 16l4 4",key:"svg-7"}]],cnt=St("outline","plug-connected-x","PlugConnectedX",unt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const dnt=[["path",{d:"M10 20.777a8.942 8.942 0 0 1 -2.48 -.969",key:"svg-0"}],["path",{d:"M14 3.223a9.003 9.003 0 0 1 0 17.554",key:"svg-1"}],["path",{d:"M4.579 17.093a8.961 8.961 0 0 1 -1.227 -2.592",key:"svg-2"}],["path",{d:"M3.124 10.5c.16 -.95 .468 -1.85 .9 -2.675l.169 -.305",key:"svg-3"}],["path",{d:"M6.907 4.579a8.954 8.954 0 0 1 3.093 -1.356",key:"svg-4"}]],MEe=St("outline","progress","Progress",dnt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const fnt=[["path",{d:"M14 3l-9.371 3.749a1 1 0 0 0 -.629 .928v11.323a1 1 0 0 0 1 1h14a1 1 0 0 0 1 -1v-11a1 1 0 0 0 -1 -1h-14.5",key:"svg-0"}],["path",{d:"M4 12h16",key:"svg-1"}],["path",{d:"M7 12v-2",key:"svg-2"}],["path",{d:"M17 16v.01",key:"svg-3"}],["path",{d:"M13 16v.01",key:"svg-4"}]],hnt=St("outline","radio","Radio",fnt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const pnt=[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]],FEe=St("outline","refresh","Refresh",pnt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const mnt=[["path",{d:"M6 2h4v4m-4 0h-1v-1",key:"svg-0"}],["path",{d:"M15 11v-1h5v4h-2",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h2",key:"svg-4"}],["path",{d:"M7.5 7.5v2.5",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}],["path",{d:"M3 3l18 18",key:"svg-7"}]],gnt=St("outline","schema-off","SchemaOff",mnt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ynt=[["path",{d:"M5 2h5v4h-5z",key:"svg-0"}],["path",{d:"M15 10h5v4h-5z",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h5",key:"svg-4"}],["path",{d:"M7.5 6v4",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}]],LEe=St("outline","schema","Schema",ynt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const vnt=[["path",{d:"M5.039 5.062a7 7 0 0 0 9.91 9.89m1.584 -2.434a7 7 0 0 0 -9.038 -9.057",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]],bnt=St("outline","search-off","SearchOff",vnt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const wnt=[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]],jEe=St("outline","search","Search",wnt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const xnt=[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 11l3 3l3 -3",key:"svg-1"}]],_nt=St("outline","select","Select",xnt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cnt=[["path",{d:"M12.004 21c-.732 .002 -1.466 -.437 -1.679 -1.317a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.306 .317 1.64 1.78 1.004 2.684",key:"svg-0"}],["path",{d:"M12 15a3 3 0 1 0 0 -6a3 3 0 0 0 0 6z",key:"svg-1"}],["path",{d:"M16 22l5 -5",key:"svg-2"}],["path",{d:"M21 21.5v-4.5h-4.5",key:"svg-3"}]],Ent=St("outline","settings-share","SettingsShare",Cnt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Snt=[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]],BEe=St("outline","settings","Settings",Snt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tnt=[["path",{d:"M4 6l7 0",key:"svg-0"}],["path",{d:"M4 12l7 0",key:"svg-1"}],["path",{d:"M4 18l9 0",key:"svg-2"}],["path",{d:"M15 9l3 -3l3 3",key:"svg-3"}],["path",{d:"M18 6l0 12",key:"svg-4"}]],knt=St("outline","sort-ascending","SortAscending",Tnt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ant=[["path",{d:"M4 6l9 0",key:"svg-0"}],["path",{d:"M4 12l7 0",key:"svg-1"}],["path",{d:"M4 18l7 0",key:"svg-2"}],["path",{d:"M15 15l3 3l3 -3",key:"svg-3"}],["path",{d:"M18 6l0 12",key:"svg-4"}]],Rnt=St("outline","sort-descending","SortDescending",Ant);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Int=[["path",{d:"M8 10a2 2 0 0 1 2 -2h9a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-9a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M16 8v-3a2 2 0 0 0 -2 -2h-9a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h3",key:"svg-1"}]],Dnt=St("outline","squares","Squares",Int);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pnt=[["path",{d:"M12.5 21h-7.5a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v7.5",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}],["path",{d:"M16 19h6",key:"svg-3"}],["path",{d:"M19 16l3 3l-3 3",key:"svg-4"}]],zEe=St("outline","table-export","TableExport",Pnt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ont=[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]],Nnt=St("outline","table","Table",Ont);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const $nt=[["path",{d:"M3 8v4.172a2 2 0 0 0 .586 1.414l5.71 5.71a2.41 2.41 0 0 0 3.408 0l3.592 -3.592a2.41 2.41 0 0 0 0 -3.408l-5.71 -5.71a2 2 0 0 0 -1.414 -.586h-4.172a2 2 0 0 0 -2 2z",key:"svg-0"}],["path",{d:"M18 19l1.592 -1.592a4.82 4.82 0 0 0 0 -6.816l-4.592 -4.592",key:"svg-1"}],["path",{d:"M7 10h-.01",key:"svg-2"}]],Mnt=St("outline","tags","Tags",$nt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fnt=[["path",{d:"M4 7h16",key:"svg-0"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-1"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-2"}],["path",{d:"M10 12l4 4m0 -4l-4 4",key:"svg-3"}]],UEe=St("outline","trash-x","TrashX",Fnt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lnt=[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-3"}]],CX=St("outline","user-plus","UserPlus",Lnt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const jnt=[["path",{d:"M12 18l.01 0",key:"svg-0"}],["path",{d:"M9.172 15.172a4 4 0 0 1 5.656 0",key:"svg-1"}],["path",{d:"M6.343 12.343a7.963 7.963 0 0 1 3.864 -2.14m4.163 .155a7.965 7.965 0 0 1 3.287 2",key:"svg-2"}],["path",{d:"M3.515 9.515a12 12 0 0 1 3.544 -2.455m3.101 -.92a12 12 0 0 1 10.325 3.374",key:"svg-3"}],["path",{d:"M3 3l18 18",key:"svg-4"}]],Bnt=St("outline","wifi-off","WifiOff",jnt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const znt=[["path",{d:"M12 18l.01 0",key:"svg-0"}],["path",{d:"M9.172 15.172a4 4 0 0 1 5.656 0",key:"svg-1"}],["path",{d:"M6.343 12.343a8 8 0 0 1 11.314 0",key:"svg-2"}],["path",{d:"M3.515 9.515c4.686 -4.687 12.284 -4.687 17 0",key:"svg-3"}]],Unt=St("outline","wifi","Wifi",znt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vnt=[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]],Jm=St("outline","x","X",Vnt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hnt=[["path",{d:"M12 2a9.96 9.96 0 0 1 6.29 2.226a1 1 0 0 1 .04 1.52l-1.51 1.362a1 1 0 0 1 -1.265 .06a6 6 0 1 0 2.103 6.836l.001 -.004h-3.66a1 1 0 0 1 -.992 -.883l-.007 -.117v-2a1 1 0 0 1 1 -1h6.945a1 1 0 0 1 .994 .89c.04 .367 .061 .737 .061 1.11c0 5.523 -4.477 10 -10 10s-10 -4.477 -10 -10s4.477 -10 10 -10z",key:"svg-0"}]],qnt=St("filled","brand-google-filled","BrandGoogleFilled",Hnt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wnt=[["path",{d:"M9 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z",key:"svg-0"}],["path",{d:"M17 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z",key:"svg-1"}]],Gnt=St("filled","player-pause-filled","PlayerPauseFilled",Wnt);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ynt=[["path",{d:"M6 4v16a1 1 0 0 0 1.524 .852l13 -8a1 1 0 0 0 0 -1.704l-13 -8a1 1 0 0 0 -1.524 .852z",key:"svg-0"}]],Knt=St("filled","player-play-filled","PlayerPlayFilled",Ynt);function VEe(e){const t=e.split("/")||[];return t[t.length-1].replace(/\.[^\.]+$/,"").replace(".","_").replace(" ","_").replace("/","_")}const Yi="/study/";function Jle(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const o=n.slice(i,r).trim();(o||!s)&&t.push(o),i=r+1,r=n.indexOf(",",i)}return t}function HEe(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Xnt=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Qnt=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Jnt={};function Zle(e,t){return(Jnt.jsx?Qnt:Xnt).test(e)}const Znt=/[ \t\n\f\r]/g;function ert(e){return typeof e=="object"?e.type==="text"?eue(e.value):!1:eue(e)}function eue(e){return e.replace(Znt,"")===""}let xA=class{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}};xA.prototype.normal={};xA.prototype.property={};xA.prototype.space=void 0;function qEe(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new xA(n,r,t)}function FV(e){return e.toLowerCase()}let Iu=class{constructor(t,n){this.attribute=n,this.property=t}};Iu.prototype.attribute="";Iu.prototype.booleanish=!1;Iu.prototype.boolean=!1;Iu.prototype.commaOrSpaceSeparated=!1;Iu.prototype.commaSeparated=!1;Iu.prototype.defined=!1;Iu.prototype.mustUseProperty=!1;Iu.prototype.number=!1;Iu.prototype.overloadedBoolean=!1;Iu.prototype.property="";Iu.prototype.spaceSeparated=!1;Iu.prototype.space=void 0;let trt=0;const or=Ib(),Js=Ib(),LV=Ib(),Rt=Ib(),Ni=Ib(),Bx=Ib(),Vu=Ib();function Ib(){return 2**++trt}const jV=Object.freeze(Object.defineProperty({__proto__:null,boolean:or,booleanish:Js,commaOrSpaceSeparated:Vu,commaSeparated:Bx,number:Rt,overloadedBoolean:LV,spaceSeparated:Ni},Symbol.toStringTag,{value:"Module"})),c9=Object.keys(jV);let EX=class extends Iu{constructor(t,n,r,i){let s=-1;if(super(t,n),tue(this,"space",i),typeof r=="number")for(;++s<c9.length;){const o=c9[s];tue(this,c9[s],(r&jV[o])===jV[o])}}};EX.prototype.defined=!0;function tue(e,t,n){n&&(e[t]=n)}function kC(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new EX(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[FV(r)]=r,n[FV(s.attribute)]=r}return new xA(t,n,e.space)}const WEe=kC({properties:{ariaActiveDescendant:null,ariaAtomic:Js,ariaAutoComplete:null,ariaBusy:Js,ariaChecked:Js,ariaColCount:Rt,ariaColIndex:Rt,ariaColSpan:Rt,ariaControls:Ni,ariaCurrent:null,ariaDescribedBy:Ni,ariaDetails:null,ariaDisabled:Js,ariaDropEffect:Ni,ariaErrorMessage:null,ariaExpanded:Js,ariaFlowTo:Ni,ariaGrabbed:Js,ariaHasPopup:null,ariaHidden:Js,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ni,ariaLevel:Rt,ariaLive:null,ariaModal:Js,ariaMultiLine:Js,ariaMultiSelectable:Js,ariaOrientation:null,ariaOwns:Ni,ariaPlaceholder:null,ariaPosInSet:Rt,ariaPressed:Js,ariaReadOnly:Js,ariaRelevant:null,ariaRequired:Js,ariaRoleDescription:Ni,ariaRowCount:Rt,ariaRowIndex:Rt,ariaRowSpan:Rt,ariaSelected:Js,ariaSetSize:Rt,ariaSort:null,ariaValueMax:Rt,ariaValueMin:Rt,ariaValueNow:Rt,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function GEe(e,t){return t in e?e[t]:t}function YEe(e,t){return GEe(e,t.toLowerCase())}const nrt=kC({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Bx,acceptCharset:Ni,accessKey:Ni,action:null,allow:null,allowFullScreen:or,allowPaymentRequest:or,allowUserMedia:or,alt:null,as:null,async:or,autoCapitalize:null,autoComplete:Ni,autoFocus:or,autoPlay:or,blocking:Ni,capture:null,charSet:null,checked:or,cite:null,className:Ni,cols:Rt,colSpan:null,content:null,contentEditable:Js,controls:or,controlsList:Ni,coords:Rt|Bx,crossOrigin:null,data:null,dateTime:null,decoding:null,default:or,defer:or,dir:null,dirName:null,disabled:or,download:LV,draggable:Js,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:or,formTarget:null,headers:Ni,height:Rt,hidden:LV,high:Rt,href:null,hrefLang:null,htmlFor:Ni,httpEquiv:Ni,id:null,imageSizes:null,imageSrcSet:null,inert:or,inputMode:null,integrity:null,is:null,isMap:or,itemId:null,itemProp:Ni,itemRef:Ni,itemScope:or,itemType:Ni,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:or,low:Rt,manifest:null,max:null,maxLength:Rt,media:null,method:null,min:null,minLength:Rt,multiple:or,muted:or,name:null,nonce:null,noModule:or,noValidate:or,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:or,optimum:Rt,pattern:null,ping:Ni,placeholder:null,playsInline:or,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:or,referrerPolicy:null,rel:Ni,required:or,reversed:or,rows:Rt,rowSpan:Rt,sandbox:Ni,scope:null,scoped:or,seamless:or,selected:or,shadowRootClonable:or,shadowRootDelegatesFocus:or,shadowRootMode:null,shape:null,size:Rt,sizes:null,slot:null,span:Rt,spellCheck:Js,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Rt,step:null,style:null,tabIndex:Rt,target:null,title:null,translate:null,type:null,typeMustMatch:or,useMap:null,value:Js,width:Rt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ni,axis:null,background:null,bgColor:null,border:Rt,borderColor:null,bottomMargin:Rt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:or,declare:or,event:null,face:null,frame:null,frameBorder:null,hSpace:Rt,leftMargin:Rt,link:null,longDesc:null,lowSrc:null,marginHeight:Rt,marginWidth:Rt,noResize:or,noHref:or,noShade:or,noWrap:or,object:null,profile:null,prompt:null,rev:null,rightMargin:Rt,rules:null,scheme:null,scrolling:Js,standby:null,summary:null,text:null,topMargin:Rt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Rt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:or,disableRemotePlayback:or,prefix:null,property:null,results:Rt,security:null,unselectable:null},space:"html",transform:YEe}),rrt=kC({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Vu,accentHeight:Rt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Rt,amplitude:Rt,arabicForm:null,ascent:Rt,attributeName:null,attributeType:null,azimuth:Rt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Rt,by:null,calcMode:null,capHeight:Rt,className:Ni,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Rt,diffuseConstant:Rt,direction:null,display:null,dur:null,divisor:Rt,dominantBaseline:null,download:or,dx:null,dy:null,edgeMode:null,editable:null,elevation:Rt,enableBackground:null,end:null,event:null,exponent:Rt,externalResourcesRequired:null,fill:null,fillOpacity:Rt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Bx,g2:Bx,glyphName:Bx,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Rt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Rt,horizOriginX:Rt,horizOriginY:Rt,id:null,ideographic:Rt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Rt,k:Rt,k1:Rt,k2:Rt,k3:Rt,k4:Rt,kernelMatrix:Vu,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Rt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Rt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Rt,overlineThickness:Rt,paintOrder:null,panose1:null,path:null,pathLength:Rt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ni,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Rt,pointsAtY:Rt,pointsAtZ:Rt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Vu,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Vu,rev:Vu,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Vu,requiredFeatures:Vu,requiredFonts:Vu,requiredFormats:Vu,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Rt,specularExponent:Rt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Rt,strikethroughThickness:Rt,string:null,stroke:null,strokeDashArray:Vu,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Rt,strokeOpacity:Rt,strokeWidth:null,style:null,surfaceScale:Rt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Vu,tabIndex:Rt,tableValues:null,target:null,targetX:Rt,targetY:Rt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Vu,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Rt,underlineThickness:Rt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Rt,values:null,vAlphabetic:Rt,vMathematical:Rt,vectorEffect:null,vHanging:Rt,vIdeographic:Rt,version:null,vertAdvY:Rt,vertOriginX:Rt,vertOriginY:Rt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Rt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:GEe}),KEe=kC({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),XEe=kC({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:YEe}),QEe=kC({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),irt={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},srt=/[A-Z]/g,nue=/-[a-z]/g,ort=/^data[-\w.:]+$/i;function art(e,t){const n=FV(t);let r=t,i=Iu;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&ort.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(nue,urt);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!nue.test(s)){let o=s.replace(srt,lrt);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=EX}return new i(r,t)}function lrt(e){return"-"+e.toLowerCase()}function urt(e){return e.charAt(1).toUpperCase()}const crt=qEe([WEe,nrt,KEe,XEe,QEe],"html"),SX=qEe([WEe,rrt,KEe,XEe,QEe],"svg");function rue(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function JEe(e){return e.join(" ").trim()}var Lw={},d9,iue;function drt(){if(iue)return d9;iue=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,u="/",c="*",d="",f="comment",h="declaration";d9=function(m,g){if(typeof m!="string")throw new TypeError("First argument must be a string");if(!m)return[];g=g||{};var y=1,v=1;function w($){var O=$.match(t);O&&(y+=O.length);var j=$.lastIndexOf(l);v=~j?$.length-j:v+$.length}function _(){var $={line:y,column:v};return function(O){return O.position=new C($),k(),O}}function C($){this.start=$,this.end={line:y,column:v},this.source=g.source}C.prototype.content=m;function S($){var O=new Error(g.source+":"+y+":"+v+": "+$);if(O.reason=$,O.filename=g.source,O.line=y,O.column=v,O.source=m,!g.silent)throw O}function T($){var O=$.exec(m);if(O){var j=O[0];return w(j),m=m.slice(j.length),O}}function k(){T(n)}function I($){var O;for($=$||[];O=R();)O!==!1&&$.push(O);return $}function R(){var $=_();if(!(u!=m.charAt(0)||c!=m.charAt(1))){for(var O=2;d!=m.charAt(O)&&(c!=m.charAt(O)||u!=m.charAt(O+1));)++O;if(O+=2,d===m.charAt(O-1))return S("End of comment missing");var j=m.slice(2,O-2);return v+=2,w(j),m=m.slice(O),v+=2,$({type:f,comment:j})}}function P(){var $=_(),O=T(r);if(O){if(R(),!T(i))return S("property missing ':'");var j=T(s),B=$({type:h,property:p(O[0].replace(e,d)),value:j?p(j[0].replace(e,d)):d});return T(o),B}}function N(){var $=[];I($);for(var O;O=P();)O!==!1&&($.push(O),I($));return $}return k(),N()};function p(m){return m?m.replace(a,d):d}return d9}var sue;function frt(){if(sue)return Lw;sue=1;var e=Lw&&Lw.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Lw,"__esModule",{value:!0}),Lw.default=n;var t=e(drt());function n(r,i){var s=null;if(!r||typeof r!="string")return s;var o=(0,t.default)(r),a=typeof i=="function";return o.forEach(function(l){if(l.type==="declaration"){var u=l.property,c=l.value;a?i(u,c,l):c&&(s=s||{},s[u]=c)}}),s}return Lw}var o2={},oue;function hrt(){if(oue)return o2;oue=1,Object.defineProperty(o2,"__esModule",{value:!0}),o2.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(u){return!u||n.test(u)||e.test(u)},o=function(u,c){return c.toUpperCase()},a=function(u,c){return"".concat(c,"-")},l=function(u,c){return c===void 0&&(c={}),s(u)?u:(u=u.toLowerCase(),c.reactCompat?u=u.replace(i,a):u=u.replace(r,a),u.replace(t,o))};return o2.camelCase=l,o2}var a2,aue;function prt(){if(aue)return a2;aue=1;var e=a2&&a2.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(frt()),n=hrt();function r(i,s){var o={};return!i||typeof i!="string"||(0,t.default)(i,function(a,l){a&&l&&(o[(0,n.camelCase)(a,s)]=l)}),o}return r.default=r,a2=r,a2}var mrt=prt();const grt=so(mrt),m$=ZEe("end"),Rp=ZEe("start");function ZEe(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function yrt(e){const t=Rp(e),n=m$(e);if(t&&n)return{start:t,end:n}}function qS(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?lue(e.position):"start"in e||"end"in e?lue(e):"line"in e||"column"in e?BV(e):""}function BV(e){return uue(e&&e.line)+":"+uue(e&&e.column)}function lue(e){return BV(e&&e.start)+"-"+BV(e&&e.end)}function uue(e){return e&&typeof e=="number"?e:1}class ul extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=qS(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ul.prototype.file="";ul.prototype.name="";ul.prototype.reason="";ul.prototype.message="";ul.prototype.stack="";ul.prototype.column=void 0;ul.prototype.line=void 0;ul.prototype.ancestors=void 0;ul.prototype.cause=void 0;ul.prototype.fatal=void 0;ul.prototype.place=void 0;ul.prototype.ruleId=void 0;ul.prototype.source=void 0;const TX={}.hasOwnProperty,vrt=new Map,brt=/[A-Z]/g,wrt=new Set(["table","tbody","thead","tfoot","tr"]),xrt=new Set(["td","th"]),e2e="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function _rt(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Irt(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Rrt(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?SX:crt,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=t2e(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function t2e(e,t,n){if(t.type==="element")return Crt(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Ert(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Trt(e,t,n);if(t.type==="mdxjsEsm")return Srt(e,t);if(t.type==="root")return krt(e,t,n);if(t.type==="text")return Art(e,t)}function Crt(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=SX,e.schema=i),e.ancestors.push(t);const s=r2e(e,t.tagName,!1),o=Drt(e,t);let a=AX(e,t);return wrt.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!ert(l):!0})),n2e(e,o,s,t),kX(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function Ert(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}UT(e,t.position)}function Srt(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);UT(e,t.position)}function Trt(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=SX,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:r2e(e,t.name,!0),o=Prt(e,t),a=AX(e,t);return n2e(e,o,s,t),kX(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function krt(e,t,n){const r={};return kX(r,AX(e,t)),e.create(t,e.Fragment,r,n)}function Art(e,t){return t.value}function n2e(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function kX(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Rrt(e,t,n){return r;function r(i,s,o,a){const u=Array.isArray(o.children)?n:t;return a?u(s,o,a):u(s,o)}}function Irt(e,t){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=Rp(r);return t(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function Drt(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&TX.call(t.properties,i)){const s=Ort(e,i,t.properties[i]);if(s){const[o,a]=s;e.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&xrt.has(t.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Prt(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else UT(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,s=e.evaluater.evaluateExpression(a.expression)}else UT(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function AX(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:vrt;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const u=i.get(l)||0;o=l+"-"+u,i.set(l,u+1)}}const a=t2e(e,s,o);a!==void 0&&n.push(a)}return n}function Ort(e,t,n){const r=art(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?HEe(n):JEe(n)),r.property==="style"){let i=typeof n=="object"?n:Nrt(e,String(n));return e.stylePropertyNameCase==="css"&&(i=$rt(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?irt[r.property]||r.property:r.attribute,n]}}function Nrt(e,t){try{return grt(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new ul("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=e2e+"#cannot-parse-style-attribute",i}}function r2e(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const a=Zle(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=Zle(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return TX.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);UT(e)}function UT(e,t){const n=new ul("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=e2e+"#cannot-handle-mdx-estrees-without-createevaluater",n}function $rt(e){const t={};let n;for(n in e)TX.call(e,n)&&(t[Mrt(n)]=e[n]);return t}function Mrt(e){let t=e.replace(brt,Frt);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Frt(e){return"-"+e.toLowerCase()}const f9={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Lrt={};function RX(e,t){const n=Lrt,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return i2e(e,r,i)}function i2e(e,t,n){if(jrt(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return cue(e.children,t,n)}return Array.isArray(e)?cue(e,t,n):""}function cue(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=i2e(e[i],t,n);return r.join("")}function jrt(e){return!!(e&&typeof e=="object")}const due=document.createElement("i");function IX(e){const t="&"+e+";";due.innerHTML=t;const n=due.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Zu(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function Lc(e,t){return e.length>0?(Zu(e,e.length,0,t),e):t}const fue={}.hasOwnProperty;function s2e(e){const t={};let n=-1;for(;++n<e.length;)Brt(t,e[n]);return t}function Brt(e,t){let n;for(n in t){const i=(fue.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){fue.call(i,o)||(i[o]=[]);const a=s[o];zrt(i[o],Array.isArray(a)?a:a?[a]:[])}}}function zrt(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Zu(e,0,0,r)}function o2e(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function gf(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Sl=Vy(/[A-Za-z]/),Xa=Vy(/[\dA-Za-z]/),Urt=Vy(/[#-'*+\--9=?A-Z^-~]/);function MN(e){return e!==null&&(e<32||e===127)}const zV=Vy(/\d/),Vrt=Vy(/[\dA-Fa-f]/),Hrt=Vy(/[!-/:-@[-`{-~]/);function $n(e){return e!==null&&e<-2}function Ri(e){return e!==null&&(e<0||e===32)}function wr(e){return e===-2||e===-1||e===32}const g$=Vy(new RegExp("\\p{P}|\\p{S}","u")),H1=Vy(/\s/);function Vy(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function AC(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&Xa(e.charCodeAt(n+1))&&Xa(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Lr(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return wr(l)?(e.enter(n),a(l)):t(l)}function a(l){return wr(l)&&s++<i?(e.consume(l),a):(e.exit(n),t(l))}}const qrt={tokenize:Wrt};function Wrt(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Lr(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return $n(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const Grt={tokenize:Yrt},hue={tokenize:Krt};function Yrt(e){const t=this,n=[];let r=0,i,s,o;return a;function a(w){if(r<n.length){const _=n[r];return t.containerState=_[1],e.attempt(_[0].continuation,l,u)(w)}return u(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&v();const _=t.events.length;let C=_,S;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){S=t.events[C][1].end;break}y(r);let T=_;for(;T<t.events.length;)t.events[T][1].end={...S},T++;return Zu(t.events,C+1,0,t.events.slice(_)),t.events.length=T,u(w)}return a(w)}function u(w){if(r===n.length){if(!i)return f(w);if(i.currentConstruct&&i.currentConstruct.concrete)return p(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(hue,c,d)(w)}function c(w){return i&&v(),y(r),f(w)}function d(w){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,p(w)}function f(w){return t.containerState={},e.attempt(hue,h,p)(w)}function h(w){return r++,n.push([t.currentConstruct,t.containerState]),f(w)}function p(w){if(w===null){i&&v(),y(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),m(w)}function m(w){if(w===null){g(e.exit("chunkFlow"),!0),y(0),e.consume(w);return}return $n(w)?(e.consume(w),g(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(w),m)}function g(w,_){const C=t.sliceStream(w);if(_&&C.push(null),w.previous=s,s&&(s.next=w),s=w,i.defineSkip(w.start),i.write(C),t.parser.lazy[w.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<o&&(!i.events[S][1].end||i.events[S][1].end.offset>o))return;const T=t.events.length;let k=T,I,R;for(;k--;)if(t.events[k][0]==="exit"&&t.events[k][1].type==="chunkFlow"){if(I){R=t.events[k][1].end;break}I=!0}for(y(r),S=T;S<t.events.length;)t.events[S][1].end={...R},S++;Zu(t.events,k+1,0,t.events.slice(T)),t.events.length=S}}function y(w){let _=n.length;for(;_-- >w;){const C=n[_];t.containerState=C[1],C[0].exit.call(t,e)}n.length=w}function v(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Krt(e,t,n){return Lr(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function w_(e){if(e===null||Ri(e)||H1(e))return 1;if(g$(e))return 2}function y$(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const UV={name:"attention",resolveAll:Xrt,tokenize:Qrt};function Xrt(e,t){let n=-1,r,i,s,o,a,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[r][1].end},f={...e[n][1].start};pue(d,-l),pue(f,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...e[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:f},s={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[r][1].end={...o.start},e[n][1].start={...a.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Lc(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Lc(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),u=Lc(u,y$(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Lc(u,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=Lc(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,Zu(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Qrt(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=w_(r);let s;return o;function o(l){return s=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===s)return e.consume(l),a;const u=e.exit("attentionSequence"),c=w_(l),d=!c||c===2&&i||n.includes(l),f=!i||i===2&&c||n.includes(r);return u._open=!!(s===42?d:d&&(i||!f)),u._close=!!(s===42?f:f&&(c||!d)),t(l)}}function pue(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Jrt={name:"autolink",tokenize:Zrt};function Zrt(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(h){return Sl(h)?(e.consume(h),o):h===64?n(h):u(h)}function o(h){return h===43||h===45||h===46||Xa(h)?(r=1,a(h)):u(h)}function a(h){return h===58?(e.consume(h),r=0,l):(h===43||h===45||h===46||Xa(h))&&r++<32?(e.consume(h),a):(r=0,u(h))}function l(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||MN(h)?n(h):(e.consume(h),l)}function u(h){return h===64?(e.consume(h),c):Urt(h)?(e.consume(h),u):n(h)}function c(h){return Xa(h)?d(h):n(h)}function d(h){return h===46?(e.consume(h),r=0,c):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):f(h)}function f(h){if((h===45||Xa(h))&&r++<63){const p=h===45?f:d;return e.consume(h),p}return n(h)}}const _A={partial:!0,tokenize:eit};function eit(e,t,n){return r;function r(s){return wr(s)?Lr(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||$n(s)?t(s):n(s)}}const a2e={continuation:{tokenize:nit},exit:rit,name:"blockQuote",tokenize:tit};function tit(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return wr(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function nit(e,t,n){const r=this;return i;function i(o){return wr(o)?Lr(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(a2e,t,n)(o)}}function rit(e){e.exit("blockQuote")}const l2e={name:"characterEscape",tokenize:iit};function iit(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return Hrt(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const u2e={name:"characterReference",tokenize:sit};function sit(e,t,n){const r=this;let i=0,s,o;return a;function a(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),l}function l(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,o=Xa,c(d))}function u(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=Vrt,c):(e.enter("characterReferenceValue"),s=7,o=zV,c(d))}function c(d){if(d===59&&i){const f=e.exit("characterReferenceValue");return o===Xa&&!IX(r.sliceSerialize(f))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(d)&&i++<s?(e.consume(d),c):n(d)}}const mue={partial:!0,tokenize:ait},gue={concrete:!0,name:"codeFenced",tokenize:oit};function oit(e,t,n){const r=this,i={partial:!0,tokenize:C};let s=0,o=0,a;return l;function l(S){return u(S)}function u(S){const T=r.events[r.events.length-1];return s=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,a=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(S)}function c(S){return S===a?(o++,e.consume(S),c):o<3?n(S):(e.exit("codeFencedFenceSequence"),wr(S)?Lr(e,d,"whitespace")(S):d(S))}function d(S){return S===null||$n(S)?(e.exit("codeFencedFence"),r.interrupt?t(S):e.check(mue,m,_)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(S))}function f(S){return S===null||$n(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(S)):wr(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Lr(e,h,"whitespace")(S)):S===96&&S===a?n(S):(e.consume(S),f)}function h(S){return S===null||$n(S)?d(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(S))}function p(S){return S===null||$n(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(S)):S===96&&S===a?n(S):(e.consume(S),p)}function m(S){return e.attempt(i,_,g)(S)}function g(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),y}function y(S){return s>0&&wr(S)?Lr(e,v,"linePrefix",s+1)(S):v(S)}function v(S){return S===null||$n(S)?e.check(mue,m,_)(S):(e.enter("codeFlowValue"),w(S))}function w(S){return S===null||$n(S)?(e.exit("codeFlowValue"),v(S)):(e.consume(S),w)}function _(S){return e.exit("codeFenced"),t(S)}function C(S,T,k){let I=0;return R;function R(j){return S.enter("lineEnding"),S.consume(j),S.exit("lineEnding"),P}function P(j){return S.enter("codeFencedFence"),wr(j)?Lr(S,N,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):N(j)}function N(j){return j===a?(S.enter("codeFencedFenceSequence"),$(j)):k(j)}function $(j){return j===a?(I++,S.consume(j),$):I>=o?(S.exit("codeFencedFenceSequence"),wr(j)?Lr(S,O,"whitespace")(j):O(j)):k(j)}function O(j){return j===null||$n(j)?(S.exit("codeFencedFence"),T(j)):k(j)}}}function ait(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const h9={name:"codeIndented",tokenize:uit},lit={partial:!0,tokenize:cit};function uit(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),Lr(e,s,"linePrefix",5)(u)}function s(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):$n(u)?e.attempt(lit,o,l)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||$n(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),a)}function l(u){return e.exit("codeIndented"),t(u)}}function cit(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):$n(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Lr(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):$n(o)?i(o):n(o)}}const dit={name:"codeText",previous:hit,resolve:fit,tokenize:pit};function fit(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function hit(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function pit(e,t,n){let r=0,i,s;return o;function o(d){return e.enter("codeText"),e.enter("codeTextSequence"),a(d)}function a(d){return d===96?(e.consume(d),r++,a):(e.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),l):d===96?(s=e.enter("codeTextSequence"),i=0,c(d)):$n(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||$n(d)?(e.exit("codeTextData"),l(d)):(e.consume(d),u)}function c(d){return d===96?(e.consume(d),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(s.type="codeTextData",u(d))}}class mit{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&l2(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),l2(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),l2(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);l2(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);l2(this.left,n.reverse())}}}function l2(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function c2e(e){const t={};let n=-1,r,i,s,o,a,l,u;const c=new mit(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,git(c,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=c.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return Zu(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function git(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],u={};let c,d,f=-1,h=n,p=0,m=0;const g=[m];for(;h;){for(;e.get(++i)[1]!==h;);s.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),d&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(m=f+1,g.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):g.pop(),f=g.length;f--;){const y=a.slice(g[f],g[f+1]),v=s.pop();l.push([v,v+y.length-1]),e.splice(v,2,y)}for(l.reverse(),f=-1;++f<l.length;)u[p+l[f][0]]=p+l[f][1],p+=l[f][1]-l[f][0]-1;return u}const yit={resolve:bit,tokenize:wit},vit={partial:!0,tokenize:xit};function bit(e){return c2e(e),e}function wit(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):$n(a)?e.check(vit,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function xit(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Lr(e,s,"linePrefix")}function s(o){if(o===null||$n(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function d2e(e,t,n,r,i,s,o,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return d;function d(y){return y===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(y),e.exit(s),f):y===null||y===32||y===41||MN(y)?n(y):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),m(y))}function f(y){return y===62?(e.enter(s),e.consume(y),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===62?(e.exit("chunkString"),e.exit(a),f(y)):y===null||y===60||$n(y)?n(y):(e.consume(y),y===92?p:h)}function p(y){return y===60||y===62||y===92?(e.consume(y),h):h(y)}function m(y){return!c&&(y===null||y===41||Ri(y))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(y)):c<u&&y===40?(e.consume(y),c++,m):y===41?(e.consume(y),c--,m):y===null||y===32||y===40||MN(y)?n(y):(e.consume(y),y===92?g:m)}function g(y){return y===40||y===41||y===92?(e.consume(y),m):m(y)}}function f2e(e,t,n,r,i,s){const o=this;let a=0,l;return u;function u(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(s),c}function c(h){return a>999||h===null||h===91||h===93&&!l||h===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(h):h===93?(e.exit(s),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):$n(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===null||h===91||h===93||$n(h)||a++>999?(e.exit("chunkString"),c(h)):(e.consume(h),l||(l=!wr(h)),h===92?f:d)}function f(h){return h===91||h===92||h===93?(e.consume(h),a++,d):d(h)}}function h2e(e,t,n,r,i,s){let o;return a;function a(f){return f===34||f===39||f===40?(e.enter(r),e.enter(i),e.consume(f),e.exit(i),o=f===40?41:f,l):n(f)}function l(f){return f===o?(e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):(e.enter(s),u(f))}function u(f){return f===o?(e.exit(s),l(o)):f===null?n(f):$n(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),Lr(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===o||f===null||$n(f)?(e.exit("chunkString"),u(f)):(e.consume(f),f===92?d:c)}function d(f){return f===o||f===92?(e.consume(f),c):c(f)}}function WS(e,t){let n;return r;function r(i){return $n(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):wr(i)?Lr(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const _it={name:"definition",tokenize:Eit},Cit={partial:!0,tokenize:Sit};function Eit(e,t,n){const r=this;let i;return s;function s(h){return e.enter("definition"),o(h)}function o(h){return f2e.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function a(h){return i=gf(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),l):n(h)}function l(h){return Ri(h)?WS(e,u)(h):u(h)}function u(h){return d2e(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return e.attempt(Cit,d,d)(h)}function d(h){return wr(h)?Lr(e,f,"whitespace")(h):f(h)}function f(h){return h===null||$n(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function Sit(e,t,n){return r;function r(a){return Ri(a)?WS(e,i)(a):n(a)}function i(a){return h2e(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return wr(a)?Lr(e,o,"whitespace")(a):o(a)}function o(a){return a===null||$n(a)?t(a):n(a)}}const Tit={name:"hardBreakEscape",tokenize:kit};function kit(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return $n(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const Ait={name:"headingAtx",resolve:Rit,tokenize:Iit};function Rit(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Zu(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function Iit(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),s(c)}function s(c){return e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(e.consume(c),o):c===null||Ri(c)?(e.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||$n(c)?(e.exit("atxHeading"),t(c)):wr(c)?Lr(e,a,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||Ri(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),u)}}const Dit=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],yue=["pre","script","style","textarea"],Pit={concrete:!0,name:"htmlFlow",resolveTo:$it,tokenize:Mit},Oit={partial:!0,tokenize:Lit},Nit={partial:!0,tokenize:Fit};function $it(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Mit(e,t,n){const r=this;let i,s,o,a,l;return u;function u(U){return c(U)}function c(U){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(U),d}function d(U){return U===33?(e.consume(U),f):U===47?(e.consume(U),s=!0,m):U===63?(e.consume(U),i=3,r.interrupt?t:V):Sl(U)?(e.consume(U),o=String.fromCharCode(U),g):n(U)}function f(U){return U===45?(e.consume(U),i=2,h):U===91?(e.consume(U),i=5,a=0,p):Sl(U)?(e.consume(U),i=4,r.interrupt?t:V):n(U)}function h(U){return U===45?(e.consume(U),r.interrupt?t:V):n(U)}function p(U){const G="CDATA[";return U===G.charCodeAt(a++)?(e.consume(U),a===G.length?r.interrupt?t:N:p):n(U)}function m(U){return Sl(U)?(e.consume(U),o=String.fromCharCode(U),g):n(U)}function g(U){if(U===null||U===47||U===62||Ri(U)){const G=U===47,Q=o.toLowerCase();return!G&&!s&&yue.includes(Q)?(i=1,r.interrupt?t(U):N(U)):Dit.includes(o.toLowerCase())?(i=6,G?(e.consume(U),y):r.interrupt?t(U):N(U)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(U):s?v(U):w(U))}return U===45||Xa(U)?(e.consume(U),o+=String.fromCharCode(U),g):n(U)}function y(U){return U===62?(e.consume(U),r.interrupt?t:N):n(U)}function v(U){return wr(U)?(e.consume(U),v):R(U)}function w(U){return U===47?(e.consume(U),R):U===58||U===95||Sl(U)?(e.consume(U),_):wr(U)?(e.consume(U),w):R(U)}function _(U){return U===45||U===46||U===58||U===95||Xa(U)?(e.consume(U),_):C(U)}function C(U){return U===61?(e.consume(U),S):wr(U)?(e.consume(U),C):w(U)}function S(U){return U===null||U===60||U===61||U===62||U===96?n(U):U===34||U===39?(e.consume(U),l=U,T):wr(U)?(e.consume(U),S):k(U)}function T(U){return U===l?(e.consume(U),l=null,I):U===null||$n(U)?n(U):(e.consume(U),T)}function k(U){return U===null||U===34||U===39||U===47||U===60||U===61||U===62||U===96||Ri(U)?C(U):(e.consume(U),k)}function I(U){return U===47||U===62||wr(U)?w(U):n(U)}function R(U){return U===62?(e.consume(U),P):n(U)}function P(U){return U===null||$n(U)?N(U):wr(U)?(e.consume(U),P):n(U)}function N(U){return U===45&&i===2?(e.consume(U),B):U===60&&i===1?(e.consume(U),H):U===62&&i===4?(e.consume(U),L):U===63&&i===3?(e.consume(U),V):U===93&&i===5?(e.consume(U),Y):$n(U)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Oit,z,$)(U)):U===null||$n(U)?(e.exit("htmlFlowData"),$(U)):(e.consume(U),N)}function $(U){return e.check(Nit,O,z)(U)}function O(U){return e.enter("lineEnding"),e.consume(U),e.exit("lineEnding"),j}function j(U){return U===null||$n(U)?$(U):(e.enter("htmlFlowData"),N(U))}function B(U){return U===45?(e.consume(U),V):N(U)}function H(U){return U===47?(e.consume(U),o="",q):N(U)}function q(U){if(U===62){const G=o.toLowerCase();return yue.includes(G)?(e.consume(U),L):N(U)}return Sl(U)&&o.length<8?(e.consume(U),o+=String.fromCharCode(U),q):N(U)}function Y(U){return U===93?(e.consume(U),V):N(U)}function V(U){return U===62?(e.consume(U),L):U===45&&i===2?(e.consume(U),V):N(U)}function L(U){return U===null||$n(U)?(e.exit("htmlFlowData"),z(U)):(e.consume(U),L)}function z(U){return e.exit("htmlFlow"),t(U)}}function Fit(e,t,n){const r=this;return i;function i(o){return $n(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function Lit(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(_A,t,n)}}const jit={name:"htmlText",tokenize:Bit};function Bit(e,t,n){const r=this;let i,s,o;return a;function a(V){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(V),l}function l(V){return V===33?(e.consume(V),u):V===47?(e.consume(V),C):V===63?(e.consume(V),w):Sl(V)?(e.consume(V),k):n(V)}function u(V){return V===45?(e.consume(V),c):V===91?(e.consume(V),s=0,p):Sl(V)?(e.consume(V),v):n(V)}function c(V){return V===45?(e.consume(V),h):n(V)}function d(V){return V===null?n(V):V===45?(e.consume(V),f):$n(V)?(o=d,H(V)):(e.consume(V),d)}function f(V){return V===45?(e.consume(V),h):d(V)}function h(V){return V===62?B(V):V===45?f(V):d(V)}function p(V){const L="CDATA[";return V===L.charCodeAt(s++)?(e.consume(V),s===L.length?m:p):n(V)}function m(V){return V===null?n(V):V===93?(e.consume(V),g):$n(V)?(o=m,H(V)):(e.consume(V),m)}function g(V){return V===93?(e.consume(V),y):m(V)}function y(V){return V===62?B(V):V===93?(e.consume(V),y):m(V)}function v(V){return V===null||V===62?B(V):$n(V)?(o=v,H(V)):(e.consume(V),v)}function w(V){return V===null?n(V):V===63?(e.consume(V),_):$n(V)?(o=w,H(V)):(e.consume(V),w)}function _(V){return V===62?B(V):w(V)}function C(V){return Sl(V)?(e.consume(V),S):n(V)}function S(V){return V===45||Xa(V)?(e.consume(V),S):T(V)}function T(V){return $n(V)?(o=T,H(V)):wr(V)?(e.consume(V),T):B(V)}function k(V){return V===45||Xa(V)?(e.consume(V),k):V===47||V===62||Ri(V)?I(V):n(V)}function I(V){return V===47?(e.consume(V),B):V===58||V===95||Sl(V)?(e.consume(V),R):$n(V)?(o=I,H(V)):wr(V)?(e.consume(V),I):B(V)}function R(V){return V===45||V===46||V===58||V===95||Xa(V)?(e.consume(V),R):P(V)}function P(V){return V===61?(e.consume(V),N):$n(V)?(o=P,H(V)):wr(V)?(e.consume(V),P):I(V)}function N(V){return V===null||V===60||V===61||V===62||V===96?n(V):V===34||V===39?(e.consume(V),i=V,$):$n(V)?(o=N,H(V)):wr(V)?(e.consume(V),N):(e.consume(V),O)}function $(V){return V===i?(e.consume(V),i=void 0,j):V===null?n(V):$n(V)?(o=$,H(V)):(e.consume(V),$)}function O(V){return V===null||V===34||V===39||V===60||V===61||V===96?n(V):V===47||V===62||Ri(V)?I(V):(e.consume(V),O)}function j(V){return V===47||V===62||Ri(V)?I(V):n(V)}function B(V){return V===62?(e.consume(V),e.exit("htmlTextData"),e.exit("htmlText"),t):n(V)}function H(V){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(V),e.exit("lineEnding"),q}function q(V){return wr(V)?Lr(e,Y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(V):Y(V)}function Y(V){return e.enter("htmlTextData"),o(V)}}const DX={name:"labelEnd",resolveAll:Hit,resolveTo:qit,tokenize:Wit},zit={tokenize:Git},Uit={tokenize:Yit},Vit={tokenize:Kit};function Hit(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Zu(e,0,e.length,n),e}function qit(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[s][1].start},end:{...e[o][1].end}},c={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[o-2][1].start}};return a=[["enter",l,t],["enter",u,t]],a=Lc(a,e.slice(s+1,s+r+3)),a=Lc(a,[["enter",c,t]]),a=Lc(a,y$(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=Lc(a,[["exit",c,t],e[o-2],e[o-1],["exit",u,t]]),a=Lc(a,e.slice(o+1)),a=Lc(a,[["exit",l,t]]),Zu(e,s,e.length,a),e}function Wit(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(f){return s?s._inactive?d(f):(o=r.parser.defined.includes(gf(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),l):n(f)}function l(f){return f===40?e.attempt(zit,c,o?c:d)(f):f===91?e.attempt(Uit,c,o?u:d)(f):o?c(f):d(f)}function u(f){return e.attempt(Vit,c,d)(f)}function c(f){return t(f)}function d(f){return s._balanced=!0,n(f)}}function Git(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return Ri(d)?WS(e,s)(d):s(d)}function s(d){return d===41?c(d):d2e(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return Ri(d)?WS(e,l)(d):c(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?h2e(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function u(d){return Ri(d)?WS(e,c)(d):c(d)}function c(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function Yit(e,t,n){const r=this;return i;function i(a){return f2e.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(gf(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function Kit(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const Xit={name:"labelStartImage",resolveAll:DX.resolveAll,tokenize:Qit};function Qit(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Jit={name:"labelStartLink",resolveAll:DX.resolveAll,tokenize:Zit};function Zit(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const p9={name:"lineEnding",tokenize:est};function est(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Lr(e,t,"linePrefix")}}const DP={name:"thematicBreak",tokenize:tst};function tst(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),o(u)}function o(u){return i=u,a(u)}function a(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||$n(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),wr(u)?Lr(e,a,"whitespace")(u):a(u))}}const ou={continuation:{tokenize:sst},exit:ast,name:"list",tokenize:ist},nst={partial:!0,tokenize:lst},rst={partial:!0,tokenize:ost};function ist(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:zV(h)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(DP,n,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return n(h)}function l(h){return zV(h)&&++o<10?(e.consume(h),l):(!r.interrupt||o<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(_A,r.interrupt?n:c,e.attempt(nst,f,d))}function c(h){return r.containerState.initialBlankLine=!0,s++,f(h)}function d(h){return wr(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),f):n(h)}function f(h){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function sst(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(_A,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Lr(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!wr(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(rst,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Lr(e,e.attempt(ou,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function ost(e,t,n){const r=this;return Lr(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function ast(e){e.exit(this.containerState.type)}function lst(e,t,n){const r=this;return Lr(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!wr(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const vue={name:"setextUnderline",resolveTo:ust,tokenize:cst};function ust(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function cst(e,t,n){const r=this;let i;return s;function s(u){let c=r.events.length,d;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){d=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),wr(u)?Lr(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||$n(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const dst={tokenize:fst};function fst(e){const t=this,n=e.attempt(_A,r,e.attempt(this.parser.constructs.flowInitial,i,Lr(e,e.attempt(this.parser.constructs.flow,i,e.attempt(yit,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const hst={resolveAll:m2e()},pst=p2e("string"),mst=p2e("text");function p2e(e){return{resolveAll:m2e(e==="text"?gst:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(c){return u(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),s(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const d=i[c];let f=-1;if(d)for(;++f<d.length;){const h=d[f];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function m2e(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function gst(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const u={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const yst={42:ou,43:ou,45:ou,48:ou,49:ou,50:ou,51:ou,52:ou,53:ou,54:ou,55:ou,56:ou,57:ou,62:a2e},vst={91:_it},bst={[-2]:h9,[-1]:h9,32:h9},wst={35:Ait,42:DP,45:[vue,DP],60:Pit,61:vue,95:DP,96:gue,126:gue},xst={38:u2e,92:l2e},_st={[-5]:p9,[-4]:p9,[-3]:p9,33:Xit,38:u2e,42:UV,60:[Jrt,jit],91:Jit,92:[Tit,l2e],93:DX,95:UV,96:dit},Cst={null:[UV,hst]},Est={null:[42,95]},Sst={null:[]},Tst=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Est,contentInitial:vst,disable:Sst,document:yst,flow:wst,flowInitial:bst,insideSpan:Cst,string:xst,text:_st},Symbol.toStringTag,{value:"Module"}));function kst(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:T(C),check:T(S),consume:v,enter:w,exit:_,interrupt:T(S,{interrupt:!0})},u={code:null,containerState:{},defineSkip:m,events:[],now:p,parser:e,previous:null,sliceSerialize:f,sliceStream:h,write:d};let c=t.tokenize.call(u,l);return t.resolveAll&&s.push(t),u;function d(P){return o=Lc(o,P),g(),o[o.length-1]!==null?[]:(k(t,0),u.events=y$(s,u.events,u),u.events)}function f(P,N){return Rst(h(P),N)}function h(P){return Ast(o,P)}function p(){const{_bufferIndex:P,_index:N,line:$,column:O,offset:j}=r;return{_bufferIndex:P,_index:N,line:$,column:O,offset:j}}function m(P){i[P.line]=P.column,R()}function g(){let P;for(;r._index<o.length;){const N=o[r._index];if(typeof N=="string")for(P=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===P&&r._bufferIndex<N.length;)y(N.charCodeAt(r._bufferIndex));else y(N)}}function y(P){c=c(P)}function v(P){$n(P)?(r.line++,r.column=1,r.offset+=P===-3?2:1,R()):P!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=P}function w(P,N){const $=N||{};return $.type=P,$.start=p(),u.events.push(["enter",$,u]),a.push($),$}function _(P){const N=a.pop();return N.end=p(),u.events.push(["exit",N,u]),N}function C(P,N){k(P,N.from)}function S(P,N){N.restore()}function T(P,N){return $;function $(O,j,B){let H,q,Y,V;return Array.isArray(O)?z(O):"tokenize"in O?z([O]):L(O);function L(ne){return ue;function ue(se){const ae=se!==null&&ne[se],he=se!==null&&ne.null,ie=[...Array.isArray(ae)?ae:ae?[ae]:[],...Array.isArray(he)?he:he?[he]:[]];return z(ie)(se)}}function z(ne){return H=ne,q=0,ne.length===0?B:U(ne[q])}function U(ne){return ue;function ue(se){return V=I(),Y=ne,ne.partial||(u.currentConstruct=ne),ne.name&&u.parser.constructs.disable.null.includes(ne.name)?Q():ne.tokenize.call(N?Object.assign(Object.create(u),N):u,l,G,Q)(se)}}function G(ne){return P(Y,V),j}function Q(ne){return V.restore(),++q<H.length?U(H[q]):B}}}function k(P,N){P.resolveAll&&!s.includes(P)&&s.push(P),P.resolve&&Zu(u.events,N,u.events.length-N,P.resolve(u.events.slice(N),u)),P.resolveTo&&(u.events=P.resolveTo(u.events,u))}function I(){const P=p(),N=u.previous,$=u.currentConstruct,O=u.events.length,j=Array.from(a);return{from:O,restore:B};function B(){r=P,u.previous=N,u.currentConstruct=$,u.events.length=O,a=j,R()}}function R(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Ast(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function Rst(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function Ist(e){const r={constructs:s2e([Tst,...(e||{}).extensions||[]]),content:i(qrt),defined:[],document:i(Grt),flow:i(dst),lazy:{},string:i(pst),text:i(mst)};return r;function i(s){return o;function o(a){return kst(r,s,a)}}}function Dst(e){for(;!c2e(e););return e}const bue=/[\0\t\n\r]/g;function Pst(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const l=[];let u,c,d,f,h;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),d=0,t="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(bue.lastIndex=d,u=bue.exec(s),f=u&&u.index!==void 0?u.index:s.length,h=s.charCodeAt(f),!u){t=s.slice(d);break}if(h===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(s.slice(d,f)),e+=f-d),h){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}d=f+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const Ost=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Nst(e){return e.replace(Ost,$st)}function $st(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return o2e(n.slice(s?2:1),s?16:10)}return IX(n)||e}const g2e={}.hasOwnProperty;function Mst(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Fst(n)(Dst(Ist(n).document().write(Pst()(e,t,!0))))}function Fst(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(me),autolinkProtocol:I,autolinkEmail:I,atxHeading:s(fe),blockQuote:s(he),characterEscape:I,characterReference:I,codeFenced:s(ie),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(ie,o),codeText:s(le,o),codeTextData:I,data:I,codeFlowValue:I,definition:s(Ee),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(X),hardBreakEscape:s(de),hardBreakTrailing:s(de),htmlFlow:s(te,o),htmlFlowData:I,htmlText:s(te,o),htmlTextData:I,image:s(ee),label:o,link:s(me),listItem:s(Te),listItemValue:f,listOrdered:s(Re,d),listUnordered:s(Re),paragraph:s(we),reference:U,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(fe),strong:s($e),thematicBreak:s(Oe)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:ae,autolinkProtocol:se,blockQuote:l(),characterEscapeValue:R,characterReferenceMarkerHexadecimal:Q,characterReferenceMarkerNumeric:Q,characterReferenceValue:ne,characterReference:ue,codeFenced:l(g),codeFencedFence:m,codeFencedFenceInfo:h,codeFencedFenceMeta:p,codeFlowValue:R,codeIndented:l(y),codeText:l(j),codeTextData:R,data:R,definition:l(),definitionDestinationString:_,definitionLabelString:v,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(N),hardBreakTrailing:l(N),htmlFlow:l($),htmlFlowData:R,htmlText:l(O),htmlTextData:R,image:l(H),label:Y,labelText:q,lineEnding:P,link:l(B),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:G,resourceDestinationString:V,resourceTitleString:L,resource:z,setextHeading:l(k),setextHeadingLineSequence:T,setextHeadingText:S,strong:l(),thematicBreak:l()}};y2e(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(xe){let je={type:"root",children:[]};const Ue={stack:[je],tokenStack:[],config:t,enter:a,exit:u,buffer:o,resume:c,data:n},nt=[];let it=-1;for(;++it<xe.length;)if(xe[it][1].type==="listOrdered"||xe[it][1].type==="listUnordered")if(xe[it][0]==="enter")nt.push(it);else{const wt=nt.pop();it=i(xe,wt,it)}for(it=-1;++it<xe.length;){const wt=t[xe[it][0]];g2e.call(wt,xe[it][1].type)&&wt[xe[it][1].type].call(Object.assign({sliceSerialize:xe[it][2].sliceSerialize},Ue),xe[it][1])}if(Ue.tokenStack.length>0){const wt=Ue.tokenStack[Ue.tokenStack.length-1];(wt[1]||wue).call(Ue,void 0,wt[0])}for(je.position={start:lg(xe.length>0?xe[0][1].start:{line:1,column:1,offset:0}),end:lg(xe.length>0?xe[xe.length-2][1].end:{line:1,column:1,offset:0})},it=-1;++it<t.transforms.length;)je=t.transforms[it](je)||je;return je}function i(xe,je,Ue){let nt=je-1,it=-1,wt=!1,Zt,Qt,Mn,jt;for(;++nt<=Ue;){const gn=xe[nt];switch(gn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{gn[0]==="enter"?it++:it--,jt=void 0;break}case"lineEndingBlank":{gn[0]==="enter"&&(Zt&&!jt&&!it&&!Mn&&(Mn=nt),jt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:jt=void 0}if(!it&&gn[0]==="enter"&&gn[1].type==="listItemPrefix"||it===-1&&gn[0]==="exit"&&(gn[1].type==="listUnordered"||gn[1].type==="listOrdered")){if(Zt){let Kn=nt;for(Qt=void 0;Kn--;){const Un=xe[Kn];if(Un[1].type==="lineEnding"||Un[1].type==="lineEndingBlank"){if(Un[0]==="exit")continue;Qt&&(xe[Qt][1].type="lineEndingBlank",wt=!0),Un[1].type="lineEnding",Qt=Kn}else if(!(Un[1].type==="linePrefix"||Un[1].type==="blockQuotePrefix"||Un[1].type==="blockQuotePrefixWhitespace"||Un[1].type==="blockQuoteMarker"||Un[1].type==="listItemIndent"))break}Mn&&(!Qt||Mn<Qt)&&(Zt._spread=!0),Zt.end=Object.assign({},Qt?xe[Qt][1].start:gn[1].end),xe.splice(Qt||nt,0,["exit",Zt,gn[2]]),nt++,Ue++}if(gn[1].type==="listItemPrefix"){const Kn={type:"listItem",_spread:!1,start:Object.assign({},gn[1].start),end:void 0};Zt=Kn,xe.splice(nt,0,["enter",Kn,gn[2]]),nt++,Ue++,Mn=void 0,jt=!0}}}return xe[je][1]._spread=wt,Ue}function s(xe,je){return Ue;function Ue(nt){a.call(this,xe(nt),nt),je&&je.call(this,nt)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(xe,je,Ue){this.stack[this.stack.length-1].children.push(xe),this.stack.push(xe),this.tokenStack.push([je,Ue||void 0]),xe.position={start:lg(je.start),end:void 0}}function l(xe){return je;function je(Ue){xe&&xe.call(this,Ue),u.call(this,Ue)}}function u(xe,je){const Ue=this.stack.pop(),nt=this.tokenStack.pop();if(nt)nt[0].type!==xe.type&&(je?je.call(this,xe,nt[0]):(nt[1]||wue).call(this,xe,nt[0]));else throw new Error("Cannot close `"+xe.type+"` ("+qS({start:xe.start,end:xe.end})+"): its not open");Ue.position.end=lg(xe.end)}function c(){return RX(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(xe){if(this.data.expectingFirstListItemValue){const je=this.stack[this.stack.length-2];je.start=Number.parseInt(this.sliceSerialize(xe),10),this.data.expectingFirstListItemValue=void 0}}function h(){const xe=this.resume(),je=this.stack[this.stack.length-1];je.lang=xe}function p(){const xe=this.resume(),je=this.stack[this.stack.length-1];je.meta=xe}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const xe=this.resume(),je=this.stack[this.stack.length-1];je.value=xe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const xe=this.resume(),je=this.stack[this.stack.length-1];je.value=xe.replace(/(\r?\n|\r)$/g,"")}function v(xe){const je=this.resume(),Ue=this.stack[this.stack.length-1];Ue.label=je,Ue.identifier=gf(this.sliceSerialize(xe)).toLowerCase()}function w(){const xe=this.resume(),je=this.stack[this.stack.length-1];je.title=xe}function _(){const xe=this.resume(),je=this.stack[this.stack.length-1];je.url=xe}function C(xe){const je=this.stack[this.stack.length-1];if(!je.depth){const Ue=this.sliceSerialize(xe).length;je.depth=Ue}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function T(xe){const je=this.stack[this.stack.length-1];je.depth=this.sliceSerialize(xe).codePointAt(0)===61?1:2}function k(){this.data.setextHeadingSlurpLineEnding=void 0}function I(xe){const Ue=this.stack[this.stack.length-1].children;let nt=Ue[Ue.length-1];(!nt||nt.type!=="text")&&(nt=Ae(),nt.position={start:lg(xe.start),end:void 0},Ue.push(nt)),this.stack.push(nt)}function R(xe){const je=this.stack.pop();je.value+=this.sliceSerialize(xe),je.position.end=lg(xe.end)}function P(xe){const je=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ue=je.children[je.children.length-1];Ue.position.end=lg(xe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(je.type)&&(I.call(this,xe),R.call(this,xe))}function N(){this.data.atHardBreak=!0}function $(){const xe=this.resume(),je=this.stack[this.stack.length-1];je.value=xe}function O(){const xe=this.resume(),je=this.stack[this.stack.length-1];je.value=xe}function j(){const xe=this.resume(),je=this.stack[this.stack.length-1];je.value=xe}function B(){const xe=this.stack[this.stack.length-1];if(this.data.inReference){const je=this.data.referenceType||"shortcut";xe.type+="Reference",xe.referenceType=je,delete xe.url,delete xe.title}else delete xe.identifier,delete xe.label;this.data.referenceType=void 0}function H(){const xe=this.stack[this.stack.length-1];if(this.data.inReference){const je=this.data.referenceType||"shortcut";xe.type+="Reference",xe.referenceType=je,delete xe.url,delete xe.title}else delete xe.identifier,delete xe.label;this.data.referenceType=void 0}function q(xe){const je=this.sliceSerialize(xe),Ue=this.stack[this.stack.length-2];Ue.label=Nst(je),Ue.identifier=gf(je).toLowerCase()}function Y(){const xe=this.stack[this.stack.length-1],je=this.resume(),Ue=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ue.type==="link"){const nt=xe.children;Ue.children=nt}else Ue.alt=je}function V(){const xe=this.resume(),je=this.stack[this.stack.length-1];je.url=xe}function L(){const xe=this.resume(),je=this.stack[this.stack.length-1];je.title=xe}function z(){this.data.inReference=void 0}function U(){this.data.referenceType="collapsed"}function G(xe){const je=this.resume(),Ue=this.stack[this.stack.length-1];Ue.label=je,Ue.identifier=gf(this.sliceSerialize(xe)).toLowerCase(),this.data.referenceType="full"}function Q(xe){this.data.characterReferenceType=xe.type}function ne(xe){const je=this.sliceSerialize(xe),Ue=this.data.characterReferenceType;let nt;Ue?(nt=o2e(je,Ue==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):nt=IX(je);const it=this.stack[this.stack.length-1];it.value+=nt}function ue(xe){const je=this.stack.pop();je.position.end=lg(xe.end)}function se(xe){R.call(this,xe);const je=this.stack[this.stack.length-1];je.url=this.sliceSerialize(xe)}function ae(xe){R.call(this,xe);const je=this.stack[this.stack.length-1];je.url="mailto:"+this.sliceSerialize(xe)}function he(){return{type:"blockquote",children:[]}}function ie(){return{type:"code",lang:null,meta:null,value:""}}function le(){return{type:"inlineCode",value:""}}function Ee(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function X(){return{type:"emphasis",children:[]}}function fe(){return{type:"heading",depth:0,children:[]}}function de(){return{type:"break"}}function te(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function me(){return{type:"link",title:null,url:"",children:[]}}function Re(xe){return{type:"list",ordered:xe.type==="listOrdered",start:null,spread:xe._spread,children:[]}}function Te(xe){return{type:"listItem",spread:xe._spread,checked:null,children:[]}}function we(){return{type:"paragraph",children:[]}}function $e(){return{type:"strong",children:[]}}function Ae(){return{type:"text",value:""}}function Oe(){return{type:"thematicBreak"}}}function lg(e){return{line:e.line,column:e.column,offset:e.offset}}function y2e(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?y2e(e,r):Lst(e,r)}}function Lst(e,t){let n;for(n in t)if(g2e.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function wue(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+qS({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+qS({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+qS({start:t.start,end:t.end})+") is still open")}function jst(e){const t=this;t.parser=n;function n(r){return Mst(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Bst(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function zst(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function Ust(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function Vst(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Hst(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function qst(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=AC(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function Wst(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Gst(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function v2e(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function Yst(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return v2e(e,t);const i={src:AC(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function Kst(e,t){const n={src:AC(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Xst(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Qst(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return v2e(e,t);const i={href:AC(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function Jst(e,t){const n={href:AC(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Zst(e,t,n){const r=e.all(t),i=n?eot(n):b2e(t),s={},o=[];if(typeof t.checked=="boolean"){const c=r[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,u),e.applyData(t,u)}function eot(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=b2e(n[r])}return t}function b2e(e){const t=e.spread;return t??e.children.length>1}function tot(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function not(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function rot(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function iot(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function sot(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=Rp(t.children[1]),l=m$(t.children[t.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function oot(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let l=-1;const u=[];for(;++l<a;){const d=t.children[l],f={},h=o?o[l]:void 0;h&&(f.align=h);let p={type:"element",tagName:s,properties:f,children:[]};d&&(p.children=e.all(d),e.patch(d,p),p=e.applyData(d,p)),u.push(p)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function aot(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const xue=9,_ue=32;function lot(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(Cue(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(Cue(t.slice(i),i>0,!1)),s.join("")}function Cue(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===xue||s===_ue;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===xue||s===_ue;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function uot(e,t){const n={type:"text",value:lot(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function cot(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const dot={blockquote:Bst,break:zst,code:Ust,delete:Vst,emphasis:Hst,footnoteReference:qst,heading:Wst,html:Gst,imageReference:Yst,image:Kst,inlineCode:Xst,linkReference:Qst,link:Jst,listItem:Zst,list:tot,paragraph:not,root:rot,strong:iot,table:sot,tableCell:aot,tableRow:oot,text:uot,thematicBreak:cot,toml:aD,yaml:aD,definition:aD,footnoteDefinition:aD};function aD(){}const w2e=-1,v$=0,GS=1,FN=2,PX=3,OX=4,NX=5,$X=6,x2e=7,_2e=8,Eue=typeof self=="object"?self:globalThis,fot=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case v$:case w2e:return n(o,i);case GS:{const a=n([],i);for(const l of o)a.push(r(l));return a}case FN:{const a=n({},i);for(const[l,u]of o)a[r(l)]=r(u);return a}case PX:return n(new Date(o),i);case OX:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case NX:{const a=n(new Map,i);for(const[l,u]of o)a.set(r(l),r(u));return a}case $X:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case x2e:{const{name:a,message:l}=o;return n(new Eue[a](l),i)}case _2e:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new Eue[s](o),i)};return r},Sue=e=>fot(new Map,e)(0),jw="",{toString:hot}={},{keys:pot}=Object,u2=e=>{const t=typeof e;if(t!=="object"||!e)return[v$,t];const n=hot.call(e).slice(8,-1);switch(n){case"Array":return[GS,jw];case"Object":return[FN,jw];case"Date":return[PX,jw];case"RegExp":return[OX,jw];case"Map":return[NX,jw];case"Set":return[$X,jw];case"DataView":return[GS,n]}return n.includes("Array")?[GS,n]:n.includes("Error")?[x2e,n]:[FN,n]},lD=([e,t])=>e===v$&&(t==="function"||t==="symbol"),mot=(e,t,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=u2(o);switch(a){case v$:{let c=o;switch(l){case"bigint":a=_2e,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([w2e],o)}return i([a,c],o)}case GS:{if(l){let f=o;return l==="DataView"?f=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(f=new Uint8Array(o)),i([l,[...f]],o)}const c=[],d=i([a,c],o);for(const f of o)c.push(s(f));return d}case FN:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const c=[],d=i([a,c],o);for(const f of pot(o))(e||!lD(u2(o[f])))&&c.push([s(f),s(o[f])]);return d}case PX:return i([a,o.toISOString()],o);case OX:{const{source:c,flags:d}=o;return i([a,{source:c,flags:d}],o)}case NX:{const c=[],d=i([a,c],o);for(const[f,h]of o)(e||!(lD(u2(f))||lD(u2(h))))&&c.push([s(f),s(h)]);return d}case $X:{const c=[],d=i([a,c],o);for(const f of o)(e||!lD(u2(f)))&&c.push(s(f));return d}}const{message:u}=o;return i([a,{name:l,message:u}],o)};return s},Tue=(e,{json:t,lossy:n}={})=>{const r=[];return mot(!(t||n),!!t,new Map,r)(e),r},x_=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Sue(Tue(e,t)):structuredClone(e):(e,t)=>Sue(Tue(e,t));function got(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function yot(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function vot(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||got,r=e.options.footnoteBackLabel||yot,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const c=e.all(u),d=String(u.identifier).toUpperCase(),f=AC(d.toLowerCase());let h=0;const p=[],m=e.footnoteCounts.get(d);for(;m!==void 0&&++h<=m;){p.length>0&&p.push({type:"text",value:" "});let v=typeof n=="string"?n:n(l,h);typeof v=="string"&&(v={type:"text",value:v}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,h),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const g=c[c.length-1];if(g&&g.type==="element"&&g.tagName==="p"){const v=g.children[g.children.length-1];v&&v.type==="text"?v.value+=" ":g.children.push({type:"text",value:" "}),g.children.push(...p)}else c.push(...p);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(c,!0)};e.patch(u,y),a.push(y)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...x_(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const b$=(function(e){if(e==null)return _ot;if(typeof e=="function")return w$(e);if(typeof e=="object")return Array.isArray(e)?bot(e):wot(e);if(typeof e=="string")return xot(e);throw new Error("Expected function, string, or object as test")});function bot(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=b$(e[n]);return w$(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function wot(e){const t=e;return w$(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function xot(e){return w$(t);function t(n){return n&&n.type===e}}function w$(e){return t;function t(n,r,i){return!!(Cot(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function _ot(){return!0}function Cot(e){return e!==null&&typeof e=="object"&&"type"in e}const C2e=[],Eot=!0,VV=!1,Sot="skip";function E2e(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=b$(i),o=r?-1:1;a(e,void 0,[])();function a(l,u,c){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const h=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return f;function f(){let h=C2e,p,m,g;if((!t||s(l,u,c[c.length-1]||void 0))&&(h=Tot(n(l,c)),h[0]===VV))return h;if("children"in l&&l.children){const y=l;if(y.children&&h[0]!==Sot)for(m=(r?y.children.length:-1)+o,g=c.concat(y);m>-1&&m<y.children.length;){const v=y.children[m];if(p=a(v,m,g)(),p[0]===VV)return p;m=typeof p[1]=="number"?p[1]:m+o}}return h}}}function Tot(e){return Array.isArray(e)?e:typeof e=="number"?[Eot,e]:e==null?C2e:[e]}function CA(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),E2e(e,s,a,i);function a(l,u){const c=u[u.length-1],d=c?c.children.indexOf(l):void 0;return o(l,d,c)}}const HV={}.hasOwnProperty,kot={};function Aot(e,t){const n=t||kot,r=new Map,i=new Map,s=new Map,o={...dot,...n.handlers},a={all:u,applyData:Iot,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:Rot,wrap:Pot};return CA(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?r:i,f=String(c.identifier).toUpperCase();d.has(f)||d.set(f,c)}}),a;function l(c,d){const f=c.type,h=a.handlers[f];if(HV.call(a.handlers,f)&&h)return h(a,c,d);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in c){const{children:m,...g}=c,y=x_(g);return y.children=a.all(c),y}return x_(c)}return(a.options.unknownHandler||Dot)(a,c,d)}function u(c){const d=[];if("children"in c){const f=c.children;let h=-1;for(;++h<f.length;){const p=a.one(f[h],c);if(p){if(h&&f[h-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=kue(p.value)),!Array.isArray(p)&&p.type==="element")){const m=p.children[0];m&&m.type==="text"&&(m.value=kue(m.value))}Array.isArray(p)?d.push(...p):d.push(p)}}}return d}}function Rot(e,t){e.position&&(t.position=yrt(e))}function Iot(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,x_(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Dot(e,t){const n=t.data||{},r="value"in t&&!(HV.call(n,"hProperties")||HV.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Pot(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function kue(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Aue(e,t){const n=Aot(e,t),r=n.one(e,void 0),i=vot(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function Oot(e,t){return e&&"run"in e?async function(n,r){const i=Aue(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Aue(n,{file:r,...e||t})}}function Rue(e){if(e)throw e}var m9,Iue;function Not(){if(Iue)return m9;Iue=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):t.call(u)==="[object Array]"},s=function(u){if(!u||t.call(u)!=="[object Object]")return!1;var c=e.call(u,"constructor"),d=u.constructor&&u.constructor.prototype&&e.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!c&&!d)return!1;var f;for(f in u);return typeof f>"u"||e.call(u,f)},o=function(u,c){n&&c.name==="__proto__"?n(u,c.name,{enumerable:!0,configurable:!0,value:c.newValue,writable:!0}):u[c.name]=c.newValue},a=function(u,c){if(c==="__proto__")if(e.call(u,c)){if(r)return r(u,c).value}else return;return u[c]};return m9=function l(){var u,c,d,f,h,p,m=arguments[0],g=1,y=arguments.length,v=!1;for(typeof m=="boolean"&&(v=m,m=arguments[1]||{},g=2),(m==null||typeof m!="object"&&typeof m!="function")&&(m={});g<y;++g)if(u=arguments[g],u!=null)for(c in u)d=a(m,c),f=a(u,c),m!==f&&(v&&f&&(s(f)||(h=i(f)))?(h?(h=!1,p=d&&i(d)?d:[]):p=d&&s(d)?d:{},o(m,{name:c,newValue:l(v,p,f)})):typeof f<"u"&&o(m,{name:c,newValue:f}));return m},m9}var $ot=Not();const g9=so($ot);function qV(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Mot(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...u){const c=e[++s];let d=-1;if(l){o(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,c?Fot(c,a)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Fot(e,t){let n;return r;function r(...o){const a=e.length>o.length;let l;a&&o.push(i);try{l=e.apply(this,o)}catch(u){const c=u;if(a&&n)throw c;return i(c)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}const Ah={basename:Lot,dirname:jot,extname:Bot,join:zot,sep:"/"};function Lot(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');EA(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function jot(e){if(EA(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Bot(e){EA(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function zot(...e){let t=-1,n;for(;++t<e.length;)EA(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Uot(n)}function Uot(e){EA(e);const t=e.codePointAt(0)===47;let n=Vot(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Vot(e,t){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function EA(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Hot={cwd:qot};function qot(){return"/"}function WV(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Wot(e){if(typeof e=="string")e=new URL(e);else if(!WV(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Got(e)}function Got(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const y9=["history","path","basename","stem","extname","dirname"];class S2e{constructor(t){let n;t?WV(t)?n={path:t}:typeof t=="string"||Yot(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Hot.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<y9.length;){const s=y9[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)y9.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Ah.basename(this.path):void 0}set basename(t){b9(t,"basename"),v9(t,"basename"),this.path=Ah.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ah.dirname(this.path):void 0}set dirname(t){Due(this.basename,"dirname"),this.path=Ah.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ah.extname(this.path):void 0}set extname(t){if(v9(t,"extname"),Due(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ah.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){WV(t)&&(t=Wot(t)),b9(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ah.basename(this.path,this.extname):void 0}set stem(t){b9(t,"stem"),v9(t,"stem"),this.path=Ah.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new ul(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function v9(e,t){if(e&&e.includes(Ah.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ah.sep+"`")}function b9(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Due(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Yot(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Kot=(function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s}),Xot={}.hasOwnProperty;class MX extends Kot{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Mot()}copy(){const t=new MX;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(g9(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(_9("data",this.frozen),this.namespace[t]=n,this):Xot.call(this.namespace,t)&&this.namespace[t]||void 0:t?(_9("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=uD(t),r=this.parser||this.Parser;return w9("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),w9("process",this.parser||this.Parser),x9("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=uD(t),l=r.parse(a);r.run(l,a,function(c,d,f){if(c||!d||!f)return u(c);const h=d,p=r.stringify(h,f);Zot(p)?f.value=p:f.result=p,u(c,f)});function u(c,d){c||!d?o(c):s?s(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),w9("processSync",this.parser||this.Parser),x9("processSync",this.compiler||this.Compiler),this.process(t,i),Oue("processSync","process",n),r;function i(s,o){n=!0,Rue(s),r=o}}run(t,n,r){Pue(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=uD(n);i.run(t,l,u);function u(c,d,f){const h=d||t;c?a(c):o?o(h):r(void 0,h,f)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),Oue("runSync","run",r),i;function s(o,a){Rue(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=uD(n),i=this.compiler||this.Compiler;return x9("stringify",i),Pue(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(_9("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...d]=u;l(c,d)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=g9(!0,i.settings,u.settings))}function a(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const d=u[c];s(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===u){f=d;break}if(f===-1)r.push([u,...c]);else if(c.length>0){let[h,...p]=c;const m=r[f][1];qV(m)&&qV(h)&&(h=g9(!0,m,h)),r[f]=[u,h,...p]}}}}const Qot=new MX().freeze();function w9(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function x9(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function _9(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Pue(e){if(!qV(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Oue(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function uD(e){return Jot(e)?e:new S2e(e)}function Jot(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Zot(e){return typeof e=="string"||eat(e)}function eat(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const tat="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Nue=[],$ue={allowDangerousHtml:!0},nat=/^(https?|ircs?|mailto|xmpp)$/i,rat=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function iat(e){const t=sat(e),n=oat(e);return aat(t.runSync(t.parse(n),n),e)}function sat(e){const t=e.rehypePlugins||Nue,n=e.remarkPlugins||Nue,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...$ue}:$ue;return Qot().use(jst).use(n).use(Oot,r).use(t)}function oat(e){const t=e.children||"",n=new S2e;return typeof t=="string"&&(n.value=t),n}function aat(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,o=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||lat;for(const c of rat)Object.hasOwn(t,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+tat+c.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),CA(e,u),_rt(e,{Fragment:b.Fragment,components:i,ignoreInvalidStyle:!0,jsx:b.jsx,jsxs:b.jsxs,passKeys:!0,passNode:!0});function u(c,d,f){if(c.type==="raw"&&f&&typeof d=="number")return o?f.children.splice(d,1):f.children[d]={type:"text",value:c.value},d;if(c.type==="element"){let h;for(h in f9)if(Object.hasOwn(f9,h)&&Object.hasOwn(c.properties,h)){const p=c.properties[h],m=f9[h];(m===null||m.includes(c.tagName))&&(c.properties[h]=l(String(p||""),h,c))}}if(c.type==="element"){let h=n?!n.includes(c.tagName):s?s.includes(c.tagName):!1;if(!h&&r&&typeof d=="number"&&(h=!r(c,d,f)),h&&f&&typeof d=="number")return a&&c.children?f.children.splice(d,1,...c.children):f.children.splice(d,1),d}}}function lat(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||nat.test(e.slice(0,t))?e:""}let SA=class{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}};SA.prototype.property={};SA.prototype.normal={};SA.prototype.space=null;function T2e(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new SA(n,r,t)}function VT(e){return e.toLowerCase()}let Ed=class{constructor(t,n){this.property=t,this.attribute=n}};Ed.prototype.space=null;Ed.prototype.boolean=!1;Ed.prototype.booleanish=!1;Ed.prototype.overloadedBoolean=!1;Ed.prototype.number=!1;Ed.prototype.commaSeparated=!1;Ed.prototype.spaceSeparated=!1;Ed.prototype.commaOrSpaceSeparated=!1;Ed.prototype.mustUseProperty=!1;Ed.prototype.defined=!1;let uat=0;const nr=Db(),Zs=Db(),k2e=Db(),It=Db(),$i=Db(),zx=Db(),Hu=Db();function Db(){return 2**++uat}const GV=Object.freeze(Object.defineProperty({__proto__:null,boolean:nr,booleanish:Zs,commaOrSpaceSeparated:Hu,commaSeparated:zx,number:It,overloadedBoolean:k2e,spaceSeparated:$i},Symbol.toStringTag,{value:"Module"})),C9=Object.keys(GV);class FX extends Ed{constructor(t,n,r,i){let s=-1;if(super(t,n),Mue(this,"space",i),typeof r=="number")for(;++s<C9.length;){const o=C9[s];Mue(this,C9[s],(r&GV[o])===GV[o])}}}FX.prototype.defined=!0;function Mue(e,t,n){n&&(e[t]=n)}const cat={}.hasOwnProperty;function RC(e){const t={},n={};let r;for(r in e.properties)if(cat.call(e.properties,r)){const i=e.properties[r],s=new FX(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[VT(r)]=r,n[VT(s.attribute)]=r}return new SA(t,n,e.space)}const A2e=RC({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),R2e=RC({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function I2e(e,t){return t in e?e[t]:t}function D2e(e,t){return I2e(e,t.toLowerCase())}const P2e=RC({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:D2e,properties:{xmlns:null,xmlnsXLink:null}}),O2e=RC({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Zs,ariaAutoComplete:null,ariaBusy:Zs,ariaChecked:Zs,ariaColCount:It,ariaColIndex:It,ariaColSpan:It,ariaControls:$i,ariaCurrent:null,ariaDescribedBy:$i,ariaDetails:null,ariaDisabled:Zs,ariaDropEffect:$i,ariaErrorMessage:null,ariaExpanded:Zs,ariaFlowTo:$i,ariaGrabbed:Zs,ariaHasPopup:null,ariaHidden:Zs,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:$i,ariaLevel:It,ariaLive:null,ariaModal:Zs,ariaMultiLine:Zs,ariaMultiSelectable:Zs,ariaOrientation:null,ariaOwns:$i,ariaPlaceholder:null,ariaPosInSet:It,ariaPressed:Zs,ariaReadOnly:Zs,ariaRelevant:null,ariaRequired:Zs,ariaRoleDescription:$i,ariaRowCount:It,ariaRowIndex:It,ariaRowSpan:It,ariaSelected:Zs,ariaSetSize:It,ariaSort:null,ariaValueMax:It,ariaValueMin:It,ariaValueNow:It,ariaValueText:null,role:null}}),dat=RC({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:D2e,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:zx,acceptCharset:$i,accessKey:$i,action:null,allow:null,allowFullScreen:nr,allowPaymentRequest:nr,allowUserMedia:nr,alt:null,as:null,async:nr,autoCapitalize:null,autoComplete:$i,autoFocus:nr,autoPlay:nr,blocking:$i,capture:null,charSet:null,checked:nr,cite:null,className:$i,cols:It,colSpan:null,content:null,contentEditable:Zs,controls:nr,controlsList:$i,coords:It|zx,crossOrigin:null,data:null,dateTime:null,decoding:null,default:nr,defer:nr,dir:null,dirName:null,disabled:nr,download:k2e,draggable:Zs,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:nr,formTarget:null,headers:$i,height:It,hidden:nr,high:It,href:null,hrefLang:null,htmlFor:$i,httpEquiv:$i,id:null,imageSizes:null,imageSrcSet:null,inert:nr,inputMode:null,integrity:null,is:null,isMap:nr,itemId:null,itemProp:$i,itemRef:$i,itemScope:nr,itemType:$i,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:nr,low:It,manifest:null,max:null,maxLength:It,media:null,method:null,min:null,minLength:It,multiple:nr,muted:nr,name:null,nonce:null,noModule:nr,noValidate:nr,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:nr,optimum:It,pattern:null,ping:$i,placeholder:null,playsInline:nr,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:nr,referrerPolicy:null,rel:$i,required:nr,reversed:nr,rows:It,rowSpan:It,sandbox:$i,scope:null,scoped:nr,seamless:nr,selected:nr,shadowRootClonable:nr,shadowRootDelegatesFocus:nr,shadowRootMode:null,shape:null,size:It,sizes:null,slot:null,span:It,spellCheck:Zs,src:null,srcDoc:null,srcLang:null,srcSet:null,start:It,step:null,style:null,tabIndex:It,target:null,title:null,translate:null,type:null,typeMustMatch:nr,useMap:null,value:Zs,width:It,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:$i,axis:null,background:null,bgColor:null,border:It,borderColor:null,bottomMargin:It,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:nr,declare:nr,event:null,face:null,frame:null,frameBorder:null,hSpace:It,leftMargin:It,link:null,longDesc:null,lowSrc:null,marginHeight:It,marginWidth:It,noResize:nr,noHref:nr,noShade:nr,noWrap:nr,object:null,profile:null,prompt:null,rev:null,rightMargin:It,rules:null,scheme:null,scrolling:Zs,standby:null,summary:null,text:null,topMargin:It,valueType:null,version:null,vAlign:null,vLink:null,vSpace:It,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:nr,disableRemotePlayback:nr,prefix:null,property:null,results:It,security:null,unselectable:null}}),fat=RC({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:I2e,properties:{about:Hu,accentHeight:It,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:It,amplitude:It,arabicForm:null,ascent:It,attributeName:null,attributeType:null,azimuth:It,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:It,by:null,calcMode:null,capHeight:It,className:$i,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:It,diffuseConstant:It,direction:null,display:null,dur:null,divisor:It,dominantBaseline:null,download:nr,dx:null,dy:null,edgeMode:null,editable:null,elevation:It,enableBackground:null,end:null,event:null,exponent:It,externalResourcesRequired:null,fill:null,fillOpacity:It,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:zx,g2:zx,glyphName:zx,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:It,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:It,horizOriginX:It,horizOriginY:It,id:null,ideographic:It,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:It,k:It,k1:It,k2:It,k3:It,k4:It,kernelMatrix:Hu,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:It,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:It,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:It,overlineThickness:It,paintOrder:null,panose1:null,path:null,pathLength:It,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:$i,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:It,pointsAtY:It,pointsAtZ:It,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Hu,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Hu,rev:Hu,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Hu,requiredFeatures:Hu,requiredFonts:Hu,requiredFormats:Hu,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:It,specularExponent:It,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:It,strikethroughThickness:It,string:null,stroke:null,strokeDashArray:Hu,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:It,strokeOpacity:It,strokeWidth:null,style:null,surfaceScale:It,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Hu,tabIndex:It,tableValues:null,target:null,targetX:It,targetY:It,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Hu,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:It,underlineThickness:It,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:It,values:null,vAlphabetic:It,vMathematical:It,vectorEffect:null,vHanging:It,vIdeographic:It,version:null,vertAdvY:It,vertOriginX:It,vertOriginY:It,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:It,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),hat=/^data[-\w.:]+$/i,Fue=/-[a-z]/g,pat=/[A-Z]/g;function LX(e,t){const n=VT(t);let r=t,i=Ed;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&hat.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(Fue,gat);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!Fue.test(s)){let o=s.replace(pat,mat);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=FX}return new i(r,t)}function mat(e){return"-"+e.toLowerCase()}function gat(e){return e.charAt(1).toUpperCase()}const x$=T2e([R2e,A2e,P2e,O2e,dat],"html"),TA=T2e([R2e,A2e,P2e,O2e,fat],"svg"),Lue=/[#.]/g;function yat(e,t){const n=e||"",r={};let i=0,s,o;for(;i<n.length;){Lue.lastIndex=i;const a=Lue.exec(n),l=n.slice(i,a?a.index:n.length);l&&(s?s==="#"?r.id=l:Array.isArray(r.className)?r.className.push(l):r.className=[l]:o=l,i+=l.length),a&&(s=a[0],i++)}return{type:"element",tagName:o||t||"div",properties:r,children:[]}}const vat=new Set(["button","menu","reset","submit"]),YV={}.hasOwnProperty;function N2e(e,t,n){const r=n&&_at(n);function i(s,o,...a){let l=-1,u;if(s==null){u={type:"root",children:[]};const c=o;a.unshift(c)}else if(u=yat(s,t),u.tagName=u.tagName.toLowerCase(),r&&YV.call(r,u.tagName)&&(u.tagName=r[u.tagName]),bat(o,u.tagName)){let c;for(c in o)YV.call(o,c)&&wat(e,u.properties,c,o[c])}else a.unshift(o);for(;++l<a.length;)KV(u.children,a[l]);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u}return i}function bat(e,t){return e==null||typeof e!="object"||Array.isArray(e)?!1:t==="input"||!e.type||typeof e.type!="string"?!0:"children"in e&&Array.isArray(e.children)?!1:t==="button"?vat.has(e.type.toLowerCase()):!("value"in e)}function wat(e,t,n,r){const i=LX(e,n);let s=-1,o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=rue(r):i.commaSeparated?o=Jle(r):i.commaOrSpaceSeparated?o=rue(Jle(r).join(" ")):o=jue(i,i.property,r):Array.isArray(r)?o=r.concat():o=i.property==="style"?xat(r):String(r);if(Array.isArray(o)){const a=[];for(;++s<o.length;){const l=jue(i,i.property,o[s]);a[s]=l}o=a}if(i.property==="className"&&Array.isArray(t.className)){const a=o;o=t.className.concat(a)}t[i.property]=o}}function KV(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)KV(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?KV(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function jue(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||VT(n)===VT(t)))return!0}return n}function xat(e){const t=[];let n;for(n in e)YV.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}function _at(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}const Cat=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Eat=N2e(x$,"div"),Sat=N2e(TA,"g",Cat),E9=/\r?\n|\r/g;function Tat(e){const t=String(e),n=[];for(E9.lastIndex=0;E9.test(t);)n.push(E9.lastIndex);return n.push(t.length+1),{toPoint:r,toOffset:i};function r(s){let o=-1;if(typeof s=="number"&&s>-1&&s<n[n.length-1]){for(;++o<n.length;)if(n[o]>s)return{line:o+1,column:s-(o>0?n[o-1]:0)+1,offset:s}}}function i(s){const o=s&&s.line,a=s&&s.column;if(typeof o=="number"&&typeof a=="number"&&!Number.isNaN(o)&&!Number.isNaN(a)&&o-1 in n){const l=(n[o-2]||0)+a-1||0;if(l>-1&&l<n[n.length-1])return l}}}const y1={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},$2e={}.hasOwnProperty,kat=Object.prototype;function Aat(e,t){const n=t||{};return jX({file:n.file||void 0,location:!1,schema:n.space==="svg"?TA:x$,verbose:n.verbose||!1},e)}function jX(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},PP(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:M2e(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),o=Tat(s),a=o.toPoint(0),l=o.toPoint(s.length);n.position={start:a,end:l}}return n}case"#documentType":{const r=t;return n={type:"doctype"},PP(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},PP(e,r,n),n}default:return n=Rat(e,t),n}}function M2e(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=jX(e,t[n]);r.push(i)}return r}function Rat(e,t){const n=e.schema;e.schema=t.namespaceURI===y1.svg?TA:x$;let r=-1;const i={};for(;++r<t.attrs.length;){const a=t.attrs[r],l=(a.prefix?a.prefix+":":"")+a.name;$2e.call(kat,l)||(i[l]=a.value)}const o=(e.schema.space==="svg"?Sat:Eat)(t.tagName,i,M2e(e,t.childNodes));if(PP(e,t,o),o.tagName==="template"){const a=t,l=a.sourceCodeLocation,u=l&&l.startTag&&xx(l.startTag),c=l&&l.endTag&&xx(l.endTag),d=jX(e,a.content);u&&c&&e.file&&(d.position={start:u.end,end:c.start}),o.content=d}return e.schema=n,o}function PP(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=Iat(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function Iat(e,t,n){const r=xx(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const s={};let o;if(n.attrs)for(o in n.attrs)$2e.call(n.attrs,o)&&(s[LX(e.schema,o).property]=xx(n.attrs[o]));n.startTag;const a=xx(n.startTag),l=n.endTag?xx(n.endTag):void 0,u={opening:a};l&&(u.closing=l),u.properties=s,t.data={position:u}}}return r}function xx(e){const t=Bue({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=Bue({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function Bue(e){return e.line&&e.column?e:void 0}const zue={}.hasOwnProperty;function F2e(e,t){const n=t||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&zue.call(i,e)){const l=String(i[e]);o=zue.call(a,l)?a[l]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const Dat={},Pat={}.hasOwnProperty,L2e=F2e("type",{handlers:{root:Nat,element:jat,text:Fat,comment:Lat,doctype:Mat}});function Oat(e,t){const r=(t||Dat).space;return L2e(e,r==="svg"?TA:x$)}function Nat(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=BX(e.children,n,t),IC(e,n),n}function $at(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=BX(e.children,n,t),IC(e,n),n}function Mat(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return IC(e,t),t}function Fat(e){const t={nodeName:"#text",value:e.value,parentNode:null};return IC(e,t),t}function Lat(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return IC(e,t),t}function jat(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=TA);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&Pat.call(e.properties,s)){const l=Bat(r,s,e.properties[s]);l&&i.push(l)}}const o=r.space,a={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:y1[o],childNodes:[],parentNode:null};return a.childNodes=BX(e.children,a,r),IC(e,a),e.tagName==="template"&&e.content&&(a.content=$at(e.content,r)),a}function Bat(e,t,n){const r=LX(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?HEe(n):JEe(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=r.attribute.slice(0,s)),i.namespace=y1[r.space]}return i}function BX(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const s=L2e(e[r],n);s.parentNode=t,i.push(s)}return i}function IC(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const zat=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],Uat=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Qi="";var ye;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.NUMBER_SIGN=35]="NUMBER_SIGN",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",e[e.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_F=102]="LATIN_SMALL_F",e[e.LATIN_SMALL_X=120]="LATIN_SMALL_X",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",e[e.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})(ye=ye||(ye={}));const iu={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function j2e(e){return e>=55296&&e<=57343}function Vat(e){return e>=56320&&e<=57343}function Hat(e,t){return(e-55296)*1024+9216+t}function B2e(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function z2e(e){return e>=64976&&e<=65007||Uat.has(e)}var Je;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(Je=Je||(Je={}));const qat=65536;class Wat{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=qat,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t){const{line:n,col:r,offset:i}=this;return{code:t,startLine:n,endLine:n,startCol:r,endCol:r,startOffset:i,endOffset:i}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(Vat(n))return this.pos++,this._addGap(),Hat(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,ye.EOF;return this._err(Je.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,ye.EOF;const r=this.html.charCodeAt(n);return r===ye.CARRIAGE_RETURN?ye.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,ye.EOF;let t=this.html.charCodeAt(this.pos);return t===ye.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,ye.LINE_FEED):t===ye.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,j2e(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===ye.LINE_FEED||t===ye.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){B2e(t)?this._err(Je.controlCharacterInInputStream):z2e(t)&&this._err(Je.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var fr;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(fr=fr||(fr={}));function U2e(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const mg=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),Gat=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var S9;const Yat=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Kat=(S9=String.fromCodePoint)!==null&&S9!==void 0?S9:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function Xat(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=Yat.get(e))!==null&&t!==void 0?t:e}var Uo;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Uo||(Uo={}));const Qat=32;var qh;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(qh||(qh={}));function XV(e){return e>=Uo.ZERO&&e<=Uo.NINE}function Jat(e){return e>=Uo.UPPER_A&&e<=Uo.UPPER_F||e>=Uo.LOWER_A&&e<=Uo.LOWER_F}function Zat(e){return e>=Uo.UPPER_A&&e<=Uo.UPPER_Z||e>=Uo.LOWER_A&&e<=Uo.LOWER_Z||XV(e)}function elt(e){return e===Uo.EQUALS||Zat(e)}var Fo;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Fo||(Fo={}));var i1;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(i1||(i1={}));class tlt{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=Fo.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=i1.Strict}startEntity(t){this.decodeMode=t,this.state=Fo.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case Fo.EntityStart:return t.charCodeAt(n)===Uo.NUM?(this.state=Fo.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Fo.NamedEntity,this.stateNamedEntity(t,n));case Fo.NumericStart:return this.stateNumericStart(t,n);case Fo.NumericDecimal:return this.stateNumericDecimal(t,n);case Fo.NumericHex:return this.stateNumericHex(t,n);case Fo.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|Qat)===Uo.LOWER_X?(this.state=Fo.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Fo.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(t.substr(n,s),i),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(XV(i)||Jat(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(XV(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Uo.SEMI)this.consumed+=1;else if(this.decodeMode===i1.Strict)return 0;return this.emitCodePoint(Xat(this.result),this.consumed),this.errors&&(t!==Uo.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&qh.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=H2e(r,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===i1.Attribute&&(s===0||elt(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&qh.VALUE_LENGTH)>>14,s!==0){if(o===Uo.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==i1.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&qh.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~qh.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case Fo.NamedEntity:return this.result!==0&&(this.decodeMode!==i1.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Fo.NumericDecimal:return this.emitNumericEntity(0,2);case Fo.NumericHex:return this.emitNumericEntity(0,3);case Fo.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Fo.EntityStart:return 0}}}function V2e(e){let t="";const n=new tlt(e,r=>t+=Kat(r));return function(i,s){let o=0,a=0;for(;(a=i.indexOf("&",a))>=0;){t+=i.slice(o,a),n.startEntity(s);const u=n.write(i,a+1);if(u<0){o=a+n.end();break}o=a+u,a=u===0?o+1:o}const l=t+i.slice(o);return t="",l}}function H2e(e,t,n,r){const i=(t&qh.BRANCH_LENGTH)>>7,s=t&qh.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const l=r-s;return l<0||l>=i?-1:e[n+l]-1}let o=n,a=o+i-1;for(;o<=a;){const l=o+a>>>1,u=e[l];if(u<r)o=l+1;else if(u>r)a=l-1;else return e[l+i]}return-1}V2e(mg);V2e(Gat);var lt;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(lt=lt||(lt={}));var Qg;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Qg=Qg||(Qg={}));var Yu;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Yu=Yu||(Yu={}));var Ke;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(Ke=Ke||(Ke={}));var W;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SECTION=94]="SECTION",e[e.SELECT=95]="SELECT",e[e.SOURCE=96]="SOURCE",e[e.SMALL=97]="SMALL",e[e.SPAN=98]="SPAN",e[e.STRIKE=99]="STRIKE",e[e.STRONG=100]="STRONG",e[e.STYLE=101]="STYLE",e[e.SUB=102]="SUB",e[e.SUMMARY=103]="SUMMARY",e[e.SUP=104]="SUP",e[e.TABLE=105]="TABLE",e[e.TBODY=106]="TBODY",e[e.TEMPLATE=107]="TEMPLATE",e[e.TEXTAREA=108]="TEXTAREA",e[e.TFOOT=109]="TFOOT",e[e.TD=110]="TD",e[e.TH=111]="TH",e[e.THEAD=112]="THEAD",e[e.TITLE=113]="TITLE",e[e.TR=114]="TR",e[e.TRACK=115]="TRACK",e[e.TT=116]="TT",e[e.U=117]="U",e[e.UL=118]="UL",e[e.SVG=119]="SVG",e[e.VAR=120]="VAR",e[e.WBR=121]="WBR",e[e.XMP=122]="XMP"})(W=W||(W={}));const nlt=new Map([[Ke.A,W.A],[Ke.ADDRESS,W.ADDRESS],[Ke.ANNOTATION_XML,W.ANNOTATION_XML],[Ke.APPLET,W.APPLET],[Ke.AREA,W.AREA],[Ke.ARTICLE,W.ARTICLE],[Ke.ASIDE,W.ASIDE],[Ke.B,W.B],[Ke.BASE,W.BASE],[Ke.BASEFONT,W.BASEFONT],[Ke.BGSOUND,W.BGSOUND],[Ke.BIG,W.BIG],[Ke.BLOCKQUOTE,W.BLOCKQUOTE],[Ke.BODY,W.BODY],[Ke.BR,W.BR],[Ke.BUTTON,W.BUTTON],[Ke.CAPTION,W.CAPTION],[Ke.CENTER,W.CENTER],[Ke.CODE,W.CODE],[Ke.COL,W.COL],[Ke.COLGROUP,W.COLGROUP],[Ke.DD,W.DD],[Ke.DESC,W.DESC],[Ke.DETAILS,W.DETAILS],[Ke.DIALOG,W.DIALOG],[Ke.DIR,W.DIR],[Ke.DIV,W.DIV],[Ke.DL,W.DL],[Ke.DT,W.DT],[Ke.EM,W.EM],[Ke.EMBED,W.EMBED],[Ke.FIELDSET,W.FIELDSET],[Ke.FIGCAPTION,W.FIGCAPTION],[Ke.FIGURE,W.FIGURE],[Ke.FONT,W.FONT],[Ke.FOOTER,W.FOOTER],[Ke.FOREIGN_OBJECT,W.FOREIGN_OBJECT],[Ke.FORM,W.FORM],[Ke.FRAME,W.FRAME],[Ke.FRAMESET,W.FRAMESET],[Ke.H1,W.H1],[Ke.H2,W.H2],[Ke.H3,W.H3],[Ke.H4,W.H4],[Ke.H5,W.H5],[Ke.H6,W.H6],[Ke.HEAD,W.HEAD],[Ke.HEADER,W.HEADER],[Ke.HGROUP,W.HGROUP],[Ke.HR,W.HR],[Ke.HTML,W.HTML],[Ke.I,W.I],[Ke.IMG,W.IMG],[Ke.IMAGE,W.IMAGE],[Ke.INPUT,W.INPUT],[Ke.IFRAME,W.IFRAME],[Ke.KEYGEN,W.KEYGEN],[Ke.LABEL,W.LABEL],[Ke.LI,W.LI],[Ke.LINK,W.LINK],[Ke.LISTING,W.LISTING],[Ke.MAIN,W.MAIN],[Ke.MALIGNMARK,W.MALIGNMARK],[Ke.MARQUEE,W.MARQUEE],[Ke.MATH,W.MATH],[Ke.MENU,W.MENU],[Ke.META,W.META],[Ke.MGLYPH,W.MGLYPH],[Ke.MI,W.MI],[Ke.MO,W.MO],[Ke.MN,W.MN],[Ke.MS,W.MS],[Ke.MTEXT,W.MTEXT],[Ke.NAV,W.NAV],[Ke.NOBR,W.NOBR],[Ke.NOFRAMES,W.NOFRAMES],[Ke.NOEMBED,W.NOEMBED],[Ke.NOSCRIPT,W.NOSCRIPT],[Ke.OBJECT,W.OBJECT],[Ke.OL,W.OL],[Ke.OPTGROUP,W.OPTGROUP],[Ke.OPTION,W.OPTION],[Ke.P,W.P],[Ke.PARAM,W.PARAM],[Ke.PLAINTEXT,W.PLAINTEXT],[Ke.PRE,W.PRE],[Ke.RB,W.RB],[Ke.RP,W.RP],[Ke.RT,W.RT],[Ke.RTC,W.RTC],[Ke.RUBY,W.RUBY],[Ke.S,W.S],[Ke.SCRIPT,W.SCRIPT],[Ke.SECTION,W.SECTION],[Ke.SELECT,W.SELECT],[Ke.SOURCE,W.SOURCE],[Ke.SMALL,W.SMALL],[Ke.SPAN,W.SPAN],[Ke.STRIKE,W.STRIKE],[Ke.STRONG,W.STRONG],[Ke.STYLE,W.STYLE],[Ke.SUB,W.SUB],[Ke.SUMMARY,W.SUMMARY],[Ke.SUP,W.SUP],[Ke.TABLE,W.TABLE],[Ke.TBODY,W.TBODY],[Ke.TEMPLATE,W.TEMPLATE],[Ke.TEXTAREA,W.TEXTAREA],[Ke.TFOOT,W.TFOOT],[Ke.TD,W.TD],[Ke.TH,W.TH],[Ke.THEAD,W.THEAD],[Ke.TITLE,W.TITLE],[Ke.TR,W.TR],[Ke.TRACK,W.TRACK],[Ke.TT,W.TT],[Ke.U,W.U],[Ke.UL,W.UL],[Ke.SVG,W.SVG],[Ke.VAR,W.VAR],[Ke.WBR,W.WBR],[Ke.XMP,W.XMP]]);function DC(e){var t;return(t=nlt.get(e))!==null&&t!==void 0?t:W.UNKNOWN}const _t=W,rlt={[lt.HTML]:new Set([_t.ADDRESS,_t.APPLET,_t.AREA,_t.ARTICLE,_t.ASIDE,_t.BASE,_t.BASEFONT,_t.BGSOUND,_t.BLOCKQUOTE,_t.BODY,_t.BR,_t.BUTTON,_t.CAPTION,_t.CENTER,_t.COL,_t.COLGROUP,_t.DD,_t.DETAILS,_t.DIR,_t.DIV,_t.DL,_t.DT,_t.EMBED,_t.FIELDSET,_t.FIGCAPTION,_t.FIGURE,_t.FOOTER,_t.FORM,_t.FRAME,_t.FRAMESET,_t.H1,_t.H2,_t.H3,_t.H4,_t.H5,_t.H6,_t.HEAD,_t.HEADER,_t.HGROUP,_t.HR,_t.HTML,_t.IFRAME,_t.IMG,_t.INPUT,_t.LI,_t.LINK,_t.LISTING,_t.MAIN,_t.MARQUEE,_t.MENU,_t.META,_t.NAV,_t.NOEMBED,_t.NOFRAMES,_t.NOSCRIPT,_t.OBJECT,_t.OL,_t.P,_t.PARAM,_t.PLAINTEXT,_t.PRE,_t.SCRIPT,_t.SECTION,_t.SELECT,_t.SOURCE,_t.STYLE,_t.SUMMARY,_t.TABLE,_t.TBODY,_t.TD,_t.TEMPLATE,_t.TEXTAREA,_t.TFOOT,_t.TH,_t.THEAD,_t.TITLE,_t.TR,_t.TRACK,_t.UL,_t.WBR,_t.XMP]),[lt.MATHML]:new Set([_t.MI,_t.MO,_t.MN,_t.MS,_t.MTEXT,_t.ANNOTATION_XML]),[lt.SVG]:new Set([_t.TITLE,_t.FOREIGN_OBJECT,_t.DESC]),[lt.XLINK]:new Set,[lt.XML]:new Set,[lt.XMLNS]:new Set};function q2e(e){return e===_t.H1||e===_t.H2||e===_t.H3||e===_t.H4||e===_t.H5||e===_t.H6}Ke.STYLE,Ke.SCRIPT,Ke.XMP,Ke.IFRAME,Ke.NOEMBED,Ke.NOFRAMES,Ke.PLAINTEXT;const ilt=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var Ce;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(Ce||(Ce={}));const Bs={DATA:Ce.DATA,RCDATA:Ce.RCDATA,RAWTEXT:Ce.RAWTEXT,SCRIPT_DATA:Ce.SCRIPT_DATA,PLAINTEXT:Ce.PLAINTEXT,CDATA_SECTION:Ce.CDATA_SECTION};function YS(e){return e>=ye.DIGIT_0&&e<=ye.DIGIT_9}function rS(e){return e>=ye.LATIN_CAPITAL_A&&e<=ye.LATIN_CAPITAL_Z}function slt(e){return e>=ye.LATIN_SMALL_A&&e<=ye.LATIN_SMALL_Z}function gg(e){return slt(e)||rS(e)}function QV(e){return gg(e)||YS(e)}function W2e(e){return e>=ye.LATIN_CAPITAL_A&&e<=ye.LATIN_CAPITAL_F}function G2e(e){return e>=ye.LATIN_SMALL_A&&e<=ye.LATIN_SMALL_F}function olt(e){return YS(e)||W2e(e)||G2e(e)}function cD(e){return e+32}function Y2e(e){return e===ye.SPACE||e===ye.LINE_FEED||e===ye.TABULATION||e===ye.FORM_FEED}function alt(e){return e===ye.EQUALS_SIGN||QV(e)}function Uue(e){return Y2e(e)||e===ye.SOLIDUS||e===ye.GREATER_THAN_SIGN}class llt{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=Ce.DATA,this.returnState=Ce.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Wat(n),this.currentLocation=this.getCurrentLocation(-1)}_err(t){var n,r;(r=(n=this.handler).onParseError)===null||r===void 0||r.call(n,this.preprocessor.getError(t))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(t){this.consumedAfterSnapshot-=t,this.preprocessor.retreat(t)}_reconsumeInState(t,n){this.state=t,this._callState(n)}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:fr.START_TAG,tagName:"",tagID:W.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:fr.END_TAG,tagName:"",tagID:W.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:fr.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:fr.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(U2e(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(Je.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=DC(t.tagName),t.type===fr.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(Je.endTagWithAttributes),t.selfClosing&&this._err(Je.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case fr.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case fr.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case fr.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:fr.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==t)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=n;return}this._createCharacterToken(t,n)}_emitCodePoint(t){const n=Y2e(t)?fr.WHITESPACE_CHARACTER:t===ye.NULL?fr.NULL_CHARACTER:fr.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(fr.CHARACTER,t)}_matchNamedCharacterReference(t){let n=null,r=0,i=!1;for(let s=0,o=mg[0];s>=0&&(s=H2e(mg,o,s+1,t),!(s<0));t=this._consume()){r+=1,o=mg[s];const a=o&qh.VALUE_LENGTH;if(a){const l=(a>>14)-1;if(t!==ye.SEMICOLON&&this._isCharacterReferenceInAttribute()&&alt(this.preprocessor.peek(1))?(n=[ye.AMPERSAND],s+=l):(n=l===0?[mg[s]&~qh.VALUE_LENGTH]:l===1?[mg[++s]]:[mg[++s],mg[++s]],r=0,i=t!==ye.SEMICOLON),l===0){this._consume();break}}}return this._unconsume(r),i&&!this.preprocessor.endOfChunkHit&&this._err(Je.missingSemicolonAfterCharacterReference),this._unconsume(1),n}_isCharacterReferenceInAttribute(){return this.returnState===Ce.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===Ce.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===Ce.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case Ce.DATA:{this._stateData(t);break}case Ce.RCDATA:{this._stateRcdata(t);break}case Ce.RAWTEXT:{this._stateRawtext(t);break}case Ce.SCRIPT_DATA:{this._stateScriptData(t);break}case Ce.PLAINTEXT:{this._statePlaintext(t);break}case Ce.TAG_OPEN:{this._stateTagOpen(t);break}case Ce.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case Ce.TAG_NAME:{this._stateTagName(t);break}case Ce.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case Ce.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case Ce.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case Ce.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case Ce.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case Ce.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case Ce.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case Ce.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case Ce.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case Ce.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case Ce.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case Ce.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case Ce.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case Ce.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case Ce.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case Ce.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case Ce.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case Ce.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case Ce.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case Ce.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case Ce.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case Ce.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case Ce.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case Ce.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case Ce.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case Ce.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case Ce.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case Ce.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case Ce.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case Ce.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case Ce.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case Ce.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case Ce.BOGUS_COMMENT:{this._stateBogusComment(t);break}case Ce.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case Ce.COMMENT_START:{this._stateCommentStart(t);break}case Ce.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case Ce.COMMENT:{this._stateComment(t);break}case Ce.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case Ce.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case Ce.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case Ce.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case Ce.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case Ce.COMMENT_END:{this._stateCommentEnd(t);break}case Ce.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case Ce.DOCTYPE:{this._stateDoctype(t);break}case Ce.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case Ce.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case Ce.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case Ce.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case Ce.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case Ce.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case Ce.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case Ce.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case Ce.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case Ce.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case Ce.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case Ce.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case Ce.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case Ce.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case Ce.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case Ce.CDATA_SECTION:{this._stateCdataSection(t);break}case Ce.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case Ce.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case Ce.CHARACTER_REFERENCE:{this._stateCharacterReference(t);break}case Ce.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(t);break}case Ce.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}case Ce.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(t);break}case Ce.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(t);break}case Ce.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(t);break}case Ce.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(t);break}case Ce.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case ye.LESS_THAN_SIGN:{this.state=Ce.TAG_OPEN;break}case ye.AMPERSAND:{this.returnState=Ce.DATA,this.state=Ce.CHARACTER_REFERENCE;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this._emitCodePoint(t);break}case ye.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case ye.AMPERSAND:{this.returnState=Ce.RCDATA,this.state=Ce.CHARACTER_REFERENCE;break}case ye.LESS_THAN_SIGN:{this.state=Ce.RCDATA_LESS_THAN_SIGN;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this._emitChars(Qi);break}case ye.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case ye.LESS_THAN_SIGN:{this.state=Ce.RAWTEXT_LESS_THAN_SIGN;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this._emitChars(Qi);break}case ye.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case ye.LESS_THAN_SIGN:{this.state=Ce.SCRIPT_DATA_LESS_THAN_SIGN;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this._emitChars(Qi);break}case ye.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case ye.NULL:{this._err(Je.unexpectedNullCharacter),this._emitChars(Qi);break}case ye.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(gg(t))this._createStartTagToken(),this.state=Ce.TAG_NAME,this._stateTagName(t);else switch(t){case ye.EXCLAMATION_MARK:{this.state=Ce.MARKUP_DECLARATION_OPEN;break}case ye.SOLIDUS:{this.state=Ce.END_TAG_OPEN;break}case ye.QUESTION_MARK:{this._err(Je.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=Ce.BOGUS_COMMENT,this._stateBogusComment(t);break}case ye.EOF:{this._err(Je.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(Je.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=Ce.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(gg(t))this._createEndTagToken(),this.state=Ce.TAG_NAME,this._stateTagName(t);else switch(t){case ye.GREATER_THAN_SIGN:{this._err(Je.missingEndTagName),this.state=Ce.DATA;break}case ye.EOF:{this._err(Je.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(Je.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=Ce.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:{this.state=Ce.BEFORE_ATTRIBUTE_NAME;break}case ye.SOLIDUS:{this.state=Ce.SELF_CLOSING_START_TAG;break}case ye.GREATER_THAN_SIGN:{this.state=Ce.DATA,this.emitCurrentTagToken();break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),n.tagName+=Qi;break}case ye.EOF:{this._err(Je.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(rS(t)?cD(t):t)}}_stateRcdataLessThanSign(t){t===ye.SOLIDUS?this.state=Ce.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=Ce.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){gg(t)?(this.state=Ce.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=Ce.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=Ce.BEFORE_ATTRIBUTE_NAME,!1;case ye.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=Ce.SELF_CLOSING_START_TAG,!1;case ye.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=Ce.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=Ce.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===ye.SOLIDUS?this.state=Ce.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=Ce.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){gg(t)?(this.state=Ce.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=Ce.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=Ce.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case ye.SOLIDUS:{this.state=Ce.SCRIPT_DATA_END_TAG_OPEN;break}case ye.EXCLAMATION_MARK:{this.state=Ce.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=Ce.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){gg(t)?(this.state=Ce.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=Ce.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=Ce.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===ye.HYPHEN_MINUS?(this.state=Ce.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=Ce.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===ye.HYPHEN_MINUS?(this.state=Ce.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=Ce.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case ye.HYPHEN_MINUS:{this.state=Ce.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case ye.LESS_THAN_SIGN:{this.state=Ce.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this._emitChars(Qi);break}case ye.EOF:{this._err(Je.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case ye.HYPHEN_MINUS:{this.state=Ce.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case ye.LESS_THAN_SIGN:{this.state=Ce.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this.state=Ce.SCRIPT_DATA_ESCAPED,this._emitChars(Qi);break}case ye.EOF:{this._err(Je.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=Ce.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case ye.HYPHEN_MINUS:{this._emitChars("-");break}case ye.LESS_THAN_SIGN:{this.state=Ce.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ye.GREATER_THAN_SIGN:{this.state=Ce.SCRIPT_DATA,this._emitChars(">");break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this.state=Ce.SCRIPT_DATA_ESCAPED,this._emitChars(Qi);break}case ye.EOF:{this._err(Je.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=Ce.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===ye.SOLIDUS?this.state=Ce.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:gg(t)?(this._emitChars("<"),this.state=Ce.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=Ce.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){gg(t)?(this.state=Ce.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=Ce.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=Ce.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(iu.SCRIPT,!1)&&Uue(this.preprocessor.peek(iu.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<iu.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=Ce.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=Ce.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case ye.HYPHEN_MINUS:{this.state=Ce.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case ye.LESS_THAN_SIGN:{this.state=Ce.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this._emitChars(Qi);break}case ye.EOF:{this._err(Je.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case ye.HYPHEN_MINUS:{this.state=Ce.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case ye.LESS_THAN_SIGN:{this.state=Ce.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this.state=Ce.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Qi);break}case ye.EOF:{this._err(Je.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=Ce.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case ye.HYPHEN_MINUS:{this._emitChars("-");break}case ye.LESS_THAN_SIGN:{this.state=Ce.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ye.GREATER_THAN_SIGN:{this.state=Ce.SCRIPT_DATA,this._emitChars(">");break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this.state=Ce.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Qi);break}case ye.EOF:{this._err(Je.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=Ce.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===ye.SOLIDUS?(this.state=Ce.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=Ce.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(iu.SCRIPT,!1)&&Uue(this.preprocessor.peek(iu.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<iu.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=Ce.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=Ce.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:break;case ye.SOLIDUS:case ye.GREATER_THAN_SIGN:case ye.EOF:{this.state=Ce.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case ye.EQUALS_SIGN:{this._err(Je.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=Ce.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=Ce.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:case ye.SOLIDUS:case ye.GREATER_THAN_SIGN:case ye.EOF:{this._leaveAttrName(),this.state=Ce.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case ye.EQUALS_SIGN:{this._leaveAttrName(),this.state=Ce.BEFORE_ATTRIBUTE_VALUE;break}case ye.QUOTATION_MARK:case ye.APOSTROPHE:case ye.LESS_THAN_SIGN:{this._err(Je.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this.currentAttr.name+=Qi;break}default:this.currentAttr.name+=String.fromCodePoint(rS(t)?cD(t):t)}}_stateAfterAttributeName(t){switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:break;case ye.SOLIDUS:{this.state=Ce.SELF_CLOSING_START_TAG;break}case ye.EQUALS_SIGN:{this.state=Ce.BEFORE_ATTRIBUTE_VALUE;break}case ye.GREATER_THAN_SIGN:{this.state=Ce.DATA,this.emitCurrentTagToken();break}case ye.EOF:{this._err(Je.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=Ce.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:break;case ye.QUOTATION_MARK:{this.state=Ce.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case ye.APOSTROPHE:{this.state=Ce.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case ye.GREATER_THAN_SIGN:{this._err(Je.missingAttributeValue),this.state=Ce.DATA,this.emitCurrentTagToken();break}default:this.state=Ce.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case ye.QUOTATION_MARK:{this.state=Ce.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case ye.AMPERSAND:{this.returnState=Ce.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=Ce.CHARACTER_REFERENCE;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this.currentAttr.value+=Qi;break}case ye.EOF:{this._err(Je.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case ye.APOSTROPHE:{this.state=Ce.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case ye.AMPERSAND:{this.returnState=Ce.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=Ce.CHARACTER_REFERENCE;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this.currentAttr.value+=Qi;break}case ye.EOF:{this._err(Je.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:{this._leaveAttrValue(),this.state=Ce.BEFORE_ATTRIBUTE_NAME;break}case ye.AMPERSAND:{this.returnState=Ce.ATTRIBUTE_VALUE_UNQUOTED,this.state=Ce.CHARACTER_REFERENCE;break}case ye.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=Ce.DATA,this.emitCurrentTagToken();break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this.currentAttr.value+=Qi;break}case ye.QUOTATION_MARK:case ye.APOSTROPHE:case ye.LESS_THAN_SIGN:case ye.EQUALS_SIGN:case ye.GRAVE_ACCENT:{this._err(Je.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case ye.EOF:{this._err(Je.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:{this._leaveAttrValue(),this.state=Ce.BEFORE_ATTRIBUTE_NAME;break}case ye.SOLIDUS:{this._leaveAttrValue(),this.state=Ce.SELF_CLOSING_START_TAG;break}case ye.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=Ce.DATA,this.emitCurrentTagToken();break}case ye.EOF:{this._err(Je.eofInTag),this._emitEOFToken();break}default:this._err(Je.missingWhitespaceBetweenAttributes),this.state=Ce.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case ye.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=Ce.DATA,this.emitCurrentTagToken();break}case ye.EOF:{this._err(Je.eofInTag),this._emitEOFToken();break}default:this._err(Je.unexpectedSolidusInTag),this.state=Ce.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case ye.GREATER_THAN_SIGN:{this.state=Ce.DATA,this.emitCurrentComment(n);break}case ye.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),n.data+=Qi;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(iu.DASH_DASH,!0)?(this._createCommentToken(iu.DASH_DASH.length+1),this.state=Ce.COMMENT_START):this._consumeSequenceIfMatch(iu.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(iu.DOCTYPE.length+1),this.state=Ce.DOCTYPE):this._consumeSequenceIfMatch(iu.CDATA_START,!0)?this.inForeignNode?this.state=Ce.CDATA_SECTION:(this._err(Je.cdataInHtmlContent),this._createCommentToken(iu.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=Ce.BOGUS_COMMENT):this._ensureHibernation()||(this._err(Je.incorrectlyOpenedComment),this._createCommentToken(2),this.state=Ce.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case ye.HYPHEN_MINUS:{this.state=Ce.COMMENT_START_DASH;break}case ye.GREATER_THAN_SIGN:{this._err(Je.abruptClosingOfEmptyComment),this.state=Ce.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=Ce.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case ye.HYPHEN_MINUS:{this.state=Ce.COMMENT_END;break}case ye.GREATER_THAN_SIGN:{this._err(Je.abruptClosingOfEmptyComment),this.state=Ce.DATA,this.emitCurrentComment(n);break}case ye.EOF:{this._err(Je.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=Ce.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case ye.HYPHEN_MINUS:{this.state=Ce.COMMENT_END_DASH;break}case ye.LESS_THAN_SIGN:{n.data+="<",this.state=Ce.COMMENT_LESS_THAN_SIGN;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),n.data+=Qi;break}case ye.EOF:{this._err(Je.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case ye.EXCLAMATION_MARK:{n.data+="!",this.state=Ce.COMMENT_LESS_THAN_SIGN_BANG;break}case ye.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=Ce.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===ye.HYPHEN_MINUS?this.state=Ce.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=Ce.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===ye.HYPHEN_MINUS?this.state=Ce.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=Ce.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==ye.GREATER_THAN_SIGN&&t!==ye.EOF&&this._err(Je.nestedComment),this.state=Ce.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case ye.HYPHEN_MINUS:{this.state=Ce.COMMENT_END;break}case ye.EOF:{this._err(Je.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=Ce.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case ye.GREATER_THAN_SIGN:{this.state=Ce.DATA,this.emitCurrentComment(n);break}case ye.EXCLAMATION_MARK:{this.state=Ce.COMMENT_END_BANG;break}case ye.HYPHEN_MINUS:{n.data+="-";break}case ye.EOF:{this._err(Je.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=Ce.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case ye.HYPHEN_MINUS:{n.data+="--!",this.state=Ce.COMMENT_END_DASH;break}case ye.GREATER_THAN_SIGN:{this._err(Je.incorrectlyClosedComment),this.state=Ce.DATA,this.emitCurrentComment(n);break}case ye.EOF:{this._err(Je.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=Ce.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:{this.state=Ce.BEFORE_DOCTYPE_NAME;break}case ye.GREATER_THAN_SIGN:{this.state=Ce.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case ye.EOF:{this._err(Je.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Je.missingWhitespaceBeforeDoctypeName),this.state=Ce.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(rS(t))this._createDoctypeToken(String.fromCharCode(cD(t))),this.state=Ce.DOCTYPE_NAME;else switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:break;case ye.NULL:{this._err(Je.unexpectedNullCharacter),this._createDoctypeToken(Qi),this.state=Ce.DOCTYPE_NAME;break}case ye.GREATER_THAN_SIGN:{this._err(Je.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=Ce.DATA;break}case ye.EOF:{this._err(Je.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=Ce.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:{this.state=Ce.AFTER_DOCTYPE_NAME;break}case ye.GREATER_THAN_SIGN:{this.state=Ce.DATA,this.emitCurrentDoctype(n);break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),n.name+=Qi;break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(rS(t)?cD(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:break;case ye.GREATER_THAN_SIGN:{this.state=Ce.DATA,this.emitCurrentDoctype(n);break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(iu.PUBLIC,!1)?this.state=Ce.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(iu.SYSTEM,!1)?this.state=Ce.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(Je.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=Ce.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:{this.state=Ce.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case ye.QUOTATION_MARK:{this._err(Je.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=Ce.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case ye.APOSTROPHE:{this._err(Je.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=Ce.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case ye.GREATER_THAN_SIGN:{this._err(Je.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=Ce.DATA,this.emitCurrentDoctype(n);break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Je.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=Ce.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:break;case ye.QUOTATION_MARK:{n.publicId="",this.state=Ce.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case ye.APOSTROPHE:{n.publicId="",this.state=Ce.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case ye.GREATER_THAN_SIGN:{this._err(Je.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=Ce.DATA,this.emitCurrentDoctype(n);break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Je.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=Ce.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case ye.QUOTATION_MARK:{this.state=Ce.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),n.publicId+=Qi;break}case ye.GREATER_THAN_SIGN:{this._err(Je.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=Ce.DATA;break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case ye.APOSTROPHE:{this.state=Ce.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),n.publicId+=Qi;break}case ye.GREATER_THAN_SIGN:{this._err(Je.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=Ce.DATA;break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:{this.state=Ce.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case ye.GREATER_THAN_SIGN:{this.state=Ce.DATA,this.emitCurrentDoctype(n);break}case ye.QUOTATION_MARK:{this._err(Je.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=Ce.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ye.APOSTROPHE:{this._err(Je.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=Ce.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Je.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=Ce.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:break;case ye.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=Ce.DATA;break}case ye.QUOTATION_MARK:{n.systemId="",this.state=Ce.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ye.APOSTROPHE:{n.systemId="",this.state=Ce.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Je.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=Ce.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:{this.state=Ce.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case ye.QUOTATION_MARK:{this._err(Je.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=Ce.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ye.APOSTROPHE:{this._err(Je.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=Ce.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ye.GREATER_THAN_SIGN:{this._err(Je.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=Ce.DATA,this.emitCurrentDoctype(n);break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Je.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=Ce.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:break;case ye.QUOTATION_MARK:{n.systemId="",this.state=Ce.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ye.APOSTROPHE:{n.systemId="",this.state=Ce.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ye.GREATER_THAN_SIGN:{this._err(Je.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=Ce.DATA,this.emitCurrentDoctype(n);break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Je.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=Ce.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case ye.QUOTATION_MARK:{this.state=Ce.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),n.systemId+=Qi;break}case ye.GREATER_THAN_SIGN:{this._err(Je.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=Ce.DATA;break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case ye.APOSTROPHE:{this.state=Ce.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),n.systemId+=Qi;break}case ye.GREATER_THAN_SIGN:{this._err(Je.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=Ce.DATA;break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:break;case ye.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=Ce.DATA;break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Je.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=Ce.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case ye.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=Ce.DATA;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter);break}case ye.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case ye.RIGHT_SQUARE_BRACKET:{this.state=Ce.CDATA_SECTION_BRACKET;break}case ye.EOF:{this._err(Je.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===ye.RIGHT_SQUARE_BRACKET?this.state=Ce.CDATA_SECTION_END:(this._emitChars("]"),this.state=Ce.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case ye.GREATER_THAN_SIGN:{this.state=Ce.DATA;break}case ye.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=Ce.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(t){t===ye.NUMBER_SIGN?this.state=Ce.NUMERIC_CHARACTER_REFERENCE:QV(t)?(this.state=Ce.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(t)):(this._flushCodePointConsumedAsCharacterReference(ye.AMPERSAND),this._reconsumeInState(this.returnState,t))}_stateNamedCharacterReference(t){const n=this._matchNamedCharacterReference(t);if(!this._ensureHibernation())if(n){for(let r=0;r<n.length;r++)this._flushCodePointConsumedAsCharacterReference(n[r]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(ye.AMPERSAND),this.state=Ce.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(t){QV(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===ye.SEMICOLON&&this._err(Je.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,t))}_stateNumericCharacterReference(t){this.charRefCode=0,t===ye.LATIN_SMALL_X||t===ye.LATIN_CAPITAL_X?this.state=Ce.HEXADEMICAL_CHARACTER_REFERENCE_START:YS(t)?(this.state=Ce.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(t)):(this._err(Je.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(ye.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(ye.NUMBER_SIGN),this._reconsumeInState(this.returnState,t))}_stateHexademicalCharacterReferenceStart(t){olt(t)?(this.state=Ce.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(t)):(this._err(Je.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(ye.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(ye.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(t){W2e(t)?this.charRefCode=this.charRefCode*16+t-55:G2e(t)?this.charRefCode=this.charRefCode*16+t-87:YS(t)?this.charRefCode=this.charRefCode*16+t-48:t===ye.SEMICOLON?this.state=Ce.NUMERIC_CHARACTER_REFERENCE_END:(this._err(Je.missingSemicolonAfterCharacterReference),this.state=Ce.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateDecimalCharacterReference(t){YS(t)?this.charRefCode=this.charRefCode*10+t-48:t===ye.SEMICOLON?this.state=Ce.NUMERIC_CHARACTER_REFERENCE_END:(this._err(Je.missingSemicolonAfterCharacterReference),this.state=Ce.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateNumericCharacterReferenceEnd(t){if(this.charRefCode===ye.NULL)this._err(Je.nullCharacterReference),this.charRefCode=ye.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(Je.characterReferenceOutsideUnicodeRange),this.charRefCode=ye.REPLACEMENT_CHARACTER;else if(j2e(this.charRefCode))this._err(Je.surrogateCharacterReference),this.charRefCode=ye.REPLACEMENT_CHARACTER;else if(z2e(this.charRefCode))this._err(Je.noncharacterCharacterReference);else if(B2e(this.charRefCode)||this.charRefCode===ye.CARRIAGE_RETURN){this._err(Je.controlCharacterReference);const n=ilt.get(this.charRefCode);n!==void 0&&(this.charRefCode=n)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,t)}}const K2e=new Set([W.DD,W.DT,W.LI,W.OPTGROUP,W.OPTION,W.P,W.RB,W.RP,W.RT,W.RTC]),Vue=new Set([...K2e,W.CAPTION,W.COLGROUP,W.TBODY,W.TD,W.TFOOT,W.TH,W.THEAD,W.TR]),dD=new Map([[W.APPLET,lt.HTML],[W.CAPTION,lt.HTML],[W.HTML,lt.HTML],[W.MARQUEE,lt.HTML],[W.OBJECT,lt.HTML],[W.TABLE,lt.HTML],[W.TD,lt.HTML],[W.TEMPLATE,lt.HTML],[W.TH,lt.HTML],[W.ANNOTATION_XML,lt.MATHML],[W.MI,lt.MATHML],[W.MN,lt.MATHML],[W.MO,lt.MATHML],[W.MS,lt.MATHML],[W.MTEXT,lt.MATHML],[W.DESC,lt.SVG],[W.FOREIGN_OBJECT,lt.SVG],[W.TITLE,lt.SVG]]),ult=[W.H1,W.H2,W.H3,W.H4,W.H5,W.H6],clt=[W.TR,W.TEMPLATE,W.HTML],dlt=[W.TBODY,W.TFOOT,W.THEAD,W.TEMPLATE,W.HTML],flt=[W.TABLE,W.TEMPLATE,W.HTML],hlt=[W.TD,W.TH];class plt{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=W.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===W.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===lt.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==lt.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(ult,lt.HTML)}popUntilTableCellPopped(){this.popUntilPopped(hlt,lt.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.includes(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(flt,lt.HTML)}clearBackToTableBodyContext(){this.clearBackTo(dlt,lt.HTML)}clearBackToTableRowContext(){this.clearBackTo(clt,lt.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===W.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===W.HTML}hasInScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===lt.HTML)return!0;if(dD.get(r)===i)return!1}return!0}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(q2e(n)&&r===lt.HTML)return!0;if(dD.get(n)===r)return!1}return!0}hasInListItemScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===lt.HTML)return!0;if((r===W.UL||r===W.OL)&&i===lt.HTML||dD.get(r)===i)return!1}return!0}hasInButtonScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===lt.HTML)return!0;if(r===W.BUTTON&&i===lt.HTML||dD.get(r)===i)return!1}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===lt.HTML){if(r===t)return!0;if(r===W.TABLE||r===W.TEMPLATE||r===W.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===lt.HTML){if(n===W.TBODY||n===W.THEAD||n===W.TFOOT)return!0;if(n===W.TABLE||n===W.HTML)return!1}}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===lt.HTML){if(r===t)return!0;if(r!==W.OPTION&&r!==W.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;K2e.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;Vue.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&Vue.has(this.currentTagId);)this.pop()}}const T9=3;var Kd;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(Kd=Kd||(Kd={}));const Hue={type:Kd.Marker};class mlt{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const l=this.entries[a];if(l.type===Kd.Marker)break;const{element:u}=l;if(this.treeAdapter.getTagName(u)===s&&this.treeAdapter.getNamespaceURI(u)===o){const c=this.treeAdapter.getAttrList(u);c.length===i&&r.push({idx:a,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<T9)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<T9)return;const i=new Map(n.map(o=>[o.name,o.value]));let s=0;for(let o=0;o<r.length;o++){const a=r[o];a.attrs.every(l=>i.get(l.name)===l.value)&&(s+=1,s>=T9&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(Hue)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:Kd.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:Kd.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(Hue);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===Kd.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===Kd.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===Kd.Element&&n.element===t)}}function que(e){return{nodeName:"#text",value:e,parentNode:null}}const mx={createDocument(){return{nodeName:"#document",mode:Yu.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};mx.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(mx.isTextNode(n)){n.value+=t;return}}mx.appendChild(e,que(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&mx.isTextNode(r)?r.value+=t:mx.insertBefore(e,que(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},X2e="html",glt="about:legacy-compat",ylt="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",Q2e=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],vlt=[...Q2e,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],blt=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),J2e=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],wlt=[...J2e,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Wue(e,t){return t.some(n=>e.startsWith(n))}function xlt(e){return e.name===X2e&&e.publicId===null&&(e.systemId===null||e.systemId===glt)}function _lt(e){if(e.name!==X2e)return Yu.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===ylt)return Yu.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),blt.has(n))return Yu.QUIRKS;let r=t===null?vlt:Q2e;if(Wue(n,r))return Yu.QUIRKS;if(r=t===null?J2e:wlt,Wue(n,r))return Yu.LIMITED_QUIRKS}return Yu.NO_QUIRKS}const Gue={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},Clt="definitionurl",Elt="definitionURL",Slt=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),Tlt=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:lt.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:lt.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:lt.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:lt.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:lt.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:lt.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:lt.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:lt.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:lt.XML}],["xml:space",{prefix:"xml",name:"space",namespace:lt.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:lt.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:lt.XMLNS}]]),klt=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),Alt=new Set([W.B,W.BIG,W.BLOCKQUOTE,W.BODY,W.BR,W.CENTER,W.CODE,W.DD,W.DIV,W.DL,W.DT,W.EM,W.EMBED,W.H1,W.H2,W.H3,W.H4,W.H5,W.H6,W.HEAD,W.HR,W.I,W.IMG,W.LI,W.LISTING,W.MENU,W.META,W.NOBR,W.OL,W.P,W.PRE,W.RUBY,W.S,W.SMALL,W.SPAN,W.STRONG,W.STRIKE,W.SUB,W.SUP,W.TABLE,W.TT,W.U,W.UL,W.VAR]);function Rlt(e){const t=e.tagID;return t===W.FONT&&e.attrs.some(({name:r})=>r===Qg.COLOR||r===Qg.SIZE||r===Qg.FACE)||Alt.has(t)}function Z2e(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===Clt){e.attrs[t].name=Elt;break}}function eSe(e){for(let t=0;t<e.attrs.length;t++){const n=Slt.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function zX(e){for(let t=0;t<e.attrs.length;t++){const n=Tlt.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function Ilt(e){const t=klt.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=DC(e.tagName))}function Dlt(e,t){return t===lt.MATHML&&(e===W.MI||e===W.MO||e===W.MN||e===W.MS||e===W.MTEXT)}function Plt(e,t,n){if(t===lt.MATHML&&e===W.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Qg.ENCODING){const i=n[r].value.toLowerCase();return i===Gue.TEXT_HTML||i===Gue.APPLICATION_XML}}return t===lt.SVG&&(e===W.FOREIGN_OBJECT||e===W.DESC||e===W.TITLE)}function Olt(e,t,n,r){return(!r||r===lt.HTML)&&Plt(e,t,n)||(!r||r===lt.MATHML)&&Dlt(e,t)}const Nlt="hidden",$lt=8,Mlt=3;var Pe;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(Pe||(Pe={}));const Flt={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},tSe=new Set([W.TABLE,W.TBODY,W.TFOOT,W.THEAD,W.TR]),Yue={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:mx,onParseError:null};let Kue=class{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=Pe.INITIAL,this.originalInsertionMode=Pe.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...Yue,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new llt(this.options,this),this.activeFormattingElements=new mlt(this.treeAdapter),this.fragmentContextID=r?DC(this.treeAdapter.getTagName(r)):W.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new plt(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...Yue,...n};t??(t=r.treeAdapter.createElement(Ke.TEMPLATE,lt.HTML,[]));const i=r.treeAdapter.createElement("documentmock",lt.HTML,[]),s=new this(r,i,t);return s.fragmentContextID===W.TEMPLATE&&s.tmplInsertionModeStack.unshift(Pe.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:Flt,o={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(o)}onItemPush(t,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let s,o;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,o=this.fragmentContextID):{current:s,currentTagId:o}=this.openElements,this._setContextModes(s,o)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===lt.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,lt.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=Pe.TEXT}switchToPlaintextParsing(){this.insertionMode=Pe.TEXT,this.originalInsertionMode=Pe.IN_BODY,this.tokenizer.state=Bs.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===Ke.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==lt.HTML))switch(this.fragmentContextID){case W.TITLE:case W.TEXTAREA:{this.tokenizer.state=Bs.RCDATA;break}case W.STYLE:case W.XMP:case W.IFRAME:case W.NOEMBED:case W.NOFRAMES:case W.NOSCRIPT:{this.tokenizer.state=Bs.RAWTEXT;break}case W.SCRIPT:{this.tokenizer.state=Bs.SCRIPT_DATA;break}case W.PLAINTEXT:{this.tokenizer.state=Bs.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,lt.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,lt.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(Ke.HTML,lt.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,W.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,o=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:l,endCol:u,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:l,endCol:u,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),s=n.type===fr.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===W.SVG&&this.treeAdapter.getTagName(n)===Ke.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===lt.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===W.MGLYPH||t.tagID===W.MALIGNMARK)&&!this._isIntegrationPoint(r,n,lt.HTML)}_processToken(t){switch(t.type){case fr.CHARACTER:{this.onCharacter(t);break}case fr.NULL_CHARACTER:{this.onNullCharacter(t);break}case fr.COMMENT:{this.onComment(t);break}case fr.DOCTYPE:{this.onDoctype(t);break}case fr.START_TAG:{this._processStartTag(t);break}case fr.END_TAG:{this.onEndTag(t);break}case fr.EOF:{this.onEof(t);break}case fr.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return Olt(t,i,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===Kd.Marker||this.openElements.contains(i.element)),r=n<0?t-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=Pe.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(W.P),this.openElements.popUntilTagNamePopped(W.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case W.TR:{this.insertionMode=Pe.IN_ROW;return}case W.TBODY:case W.THEAD:case W.TFOOT:{this.insertionMode=Pe.IN_TABLE_BODY;return}case W.CAPTION:{this.insertionMode=Pe.IN_CAPTION;return}case W.COLGROUP:{this.insertionMode=Pe.IN_COLUMN_GROUP;return}case W.TABLE:{this.insertionMode=Pe.IN_TABLE;return}case W.BODY:{this.insertionMode=Pe.IN_BODY;return}case W.FRAMESET:{this.insertionMode=Pe.IN_FRAMESET;return}case W.SELECT:{this._resetInsertionModeForSelect(t);return}case W.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case W.HTML:{this.insertionMode=this.headElement?Pe.AFTER_HEAD:Pe.BEFORE_HEAD;return}case W.TD:case W.TH:{if(t>0){this.insertionMode=Pe.IN_CELL;return}break}case W.HEAD:{if(t>0){this.insertionMode=Pe.IN_HEAD;return}break}}this.insertionMode=Pe.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===W.TEMPLATE)break;if(r===W.TABLE){this.insertionMode=Pe.IN_SELECT_IN_TABLE;return}}this.insertionMode=Pe.IN_SELECT}_isElementCausesFosterParenting(t){return tSe.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case W.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===lt.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case W.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return rlt[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){hct(this,t);return}switch(this.insertionMode){case Pe.INITIAL:{c2(this,t);break}case Pe.BEFORE_HTML:{KS(this,t);break}case Pe.BEFORE_HEAD:{XS(this,t);break}case Pe.IN_HEAD:{QS(this,t);break}case Pe.IN_HEAD_NO_SCRIPT:{JS(this,t);break}case Pe.AFTER_HEAD:{ZS(this,t);break}case Pe.IN_BODY:case Pe.IN_CAPTION:case Pe.IN_CELL:case Pe.IN_TEMPLATE:{rSe(this,t);break}case Pe.TEXT:case Pe.IN_SELECT:case Pe.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case Pe.IN_TABLE:case Pe.IN_TABLE_BODY:case Pe.IN_ROW:{k9(this,t);break}case Pe.IN_TABLE_TEXT:{uSe(this,t);break}case Pe.IN_COLUMN_GROUP:{LN(this,t);break}case Pe.AFTER_BODY:{jN(this,t);break}case Pe.AFTER_AFTER_BODY:{OP(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){fct(this,t);return}switch(this.insertionMode){case Pe.INITIAL:{c2(this,t);break}case Pe.BEFORE_HTML:{KS(this,t);break}case Pe.BEFORE_HEAD:{XS(this,t);break}case Pe.IN_HEAD:{QS(this,t);break}case Pe.IN_HEAD_NO_SCRIPT:{JS(this,t);break}case Pe.AFTER_HEAD:{ZS(this,t);break}case Pe.TEXT:{this._insertCharacters(t);break}case Pe.IN_TABLE:case Pe.IN_TABLE_BODY:case Pe.IN_ROW:{k9(this,t);break}case Pe.IN_COLUMN_GROUP:{LN(this,t);break}case Pe.AFTER_BODY:{jN(this,t);break}case Pe.AFTER_AFTER_BODY:{OP(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){JV(this,t);return}switch(this.insertionMode){case Pe.INITIAL:case Pe.BEFORE_HTML:case Pe.BEFORE_HEAD:case Pe.IN_HEAD:case Pe.IN_HEAD_NO_SCRIPT:case Pe.AFTER_HEAD:case Pe.IN_BODY:case Pe.IN_TABLE:case Pe.IN_CAPTION:case Pe.IN_COLUMN_GROUP:case Pe.IN_TABLE_BODY:case Pe.IN_ROW:case Pe.IN_CELL:case Pe.IN_SELECT:case Pe.IN_SELECT_IN_TABLE:case Pe.IN_TEMPLATE:case Pe.IN_FRAMESET:case Pe.AFTER_FRAMESET:{JV(this,t);break}case Pe.IN_TABLE_TEXT:{d2(this,t);break}case Pe.AFTER_BODY:{Hlt(this,t);break}case Pe.AFTER_AFTER_BODY:case Pe.AFTER_AFTER_FRAMESET:{qlt(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case Pe.INITIAL:{Wlt(this,t);break}case Pe.BEFORE_HEAD:case Pe.IN_HEAD:case Pe.IN_HEAD_NO_SCRIPT:case Pe.AFTER_HEAD:{this._err(t,Je.misplacedDoctype);break}case Pe.IN_TABLE_TEXT:{d2(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,Je.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?pct(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case Pe.INITIAL:{c2(this,t);break}case Pe.BEFORE_HTML:{Glt(this,t);break}case Pe.BEFORE_HEAD:{Klt(this,t);break}case Pe.IN_HEAD:{Vf(this,t);break}case Pe.IN_HEAD_NO_SCRIPT:{Jlt(this,t);break}case Pe.AFTER_HEAD:{eut(this,t);break}case Pe.IN_BODY:{cl(this,t);break}case Pe.IN_TABLE:{__(this,t);break}case Pe.IN_TABLE_TEXT:{d2(this,t);break}case Pe.IN_CAPTION:{Xut(this,t);break}case Pe.IN_COLUMN_GROUP:{HX(this,t);break}case Pe.IN_TABLE_BODY:{E$(this,t);break}case Pe.IN_ROW:{S$(this,t);break}case Pe.IN_CELL:{Zut(this,t);break}case Pe.IN_SELECT:{fSe(this,t);break}case Pe.IN_SELECT_IN_TABLE:{tct(this,t);break}case Pe.IN_TEMPLATE:{rct(this,t);break}case Pe.AFTER_BODY:{sct(this,t);break}case Pe.IN_FRAMESET:{oct(this,t);break}case Pe.AFTER_FRAMESET:{lct(this,t);break}case Pe.AFTER_AFTER_BODY:{cct(this,t);break}case Pe.AFTER_AFTER_FRAMESET:{dct(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?mct(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case Pe.INITIAL:{c2(this,t);break}case Pe.BEFORE_HTML:{Ylt(this,t);break}case Pe.BEFORE_HEAD:{Xlt(this,t);break}case Pe.IN_HEAD:{Qlt(this,t);break}case Pe.IN_HEAD_NO_SCRIPT:{Zlt(this,t);break}case Pe.AFTER_HEAD:{tut(this,t);break}case Pe.IN_BODY:{C$(this,t);break}case Pe.TEXT:{But(this,t);break}case Pe.IN_TABLE:{HT(this,t);break}case Pe.IN_TABLE_TEXT:{d2(this,t);break}case Pe.IN_CAPTION:{Qut(this,t);break}case Pe.IN_COLUMN_GROUP:{Jut(this,t);break}case Pe.IN_TABLE_BODY:{ZV(this,t);break}case Pe.IN_ROW:{dSe(this,t);break}case Pe.IN_CELL:{ect(this,t);break}case Pe.IN_SELECT:{hSe(this,t);break}case Pe.IN_SELECT_IN_TABLE:{nct(this,t);break}case Pe.IN_TEMPLATE:{ict(this,t);break}case Pe.AFTER_BODY:{mSe(this,t);break}case Pe.IN_FRAMESET:{act(this,t);break}case Pe.AFTER_FRAMESET:{uct(this,t);break}case Pe.AFTER_AFTER_BODY:{OP(this,t);break}}}onEof(t){switch(this.insertionMode){case Pe.INITIAL:{c2(this,t);break}case Pe.BEFORE_HTML:{KS(this,t);break}case Pe.BEFORE_HEAD:{XS(this,t);break}case Pe.IN_HEAD:{QS(this,t);break}case Pe.IN_HEAD_NO_SCRIPT:{JS(this,t);break}case Pe.AFTER_HEAD:{ZS(this,t);break}case Pe.IN_BODY:case Pe.IN_TABLE:case Pe.IN_CAPTION:case Pe.IN_COLUMN_GROUP:case Pe.IN_TABLE_BODY:case Pe.IN_ROW:case Pe.IN_CELL:case Pe.IN_SELECT:case Pe.IN_SELECT_IN_TABLE:{aSe(this,t);break}case Pe.TEXT:{zut(this,t);break}case Pe.IN_TABLE_TEXT:{d2(this,t);break}case Pe.IN_TEMPLATE:{pSe(this,t);break}case Pe.AFTER_BODY:case Pe.IN_FRAMESET:case Pe.AFTER_FRAMESET:case Pe.AFTER_AFTER_BODY:case Pe.AFTER_AFTER_FRAMESET:{VX(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===ye.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case Pe.IN_HEAD:case Pe.IN_HEAD_NO_SCRIPT:case Pe.AFTER_HEAD:case Pe.TEXT:case Pe.IN_COLUMN_GROUP:case Pe.IN_SELECT:case Pe.IN_SELECT_IN_TABLE:case Pe.IN_FRAMESET:case Pe.AFTER_FRAMESET:{this._insertCharacters(t);break}case Pe.IN_BODY:case Pe.IN_CAPTION:case Pe.IN_CELL:case Pe.IN_TEMPLATE:case Pe.AFTER_BODY:case Pe.AFTER_AFTER_BODY:case Pe.AFTER_AFTER_FRAMESET:{nSe(this,t);break}case Pe.IN_TABLE:case Pe.IN_TABLE_BODY:case Pe.IN_ROW:{k9(this,t);break}case Pe.IN_TABLE_TEXT:{lSe(this,t);break}}}};function Llt(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):oSe(e,t),n}function jlt(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function Blt(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,o=i;o!==n;s++,o=i){i=e.openElements.getCommonAncestor(o);const a=e.activeFormattingElements.getElementEntry(o),l=a&&s>=Mlt;!a||l?(l&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(o)):(o=zlt(e,a),r===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(o,r),r=o)}return r}function zlt(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function Ult(e,t,n){const r=e.treeAdapter.getTagName(t),i=DC(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);i===W.TEMPLATE&&s===lt.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function Vlt(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function UX(e,t){for(let n=0;n<$lt;n++){const r=Llt(e,t);if(!r)break;const i=jlt(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const s=Blt(e,i,r.element),o=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),o&&Ult(e,o,s),Vlt(e,i,r)}}function JV(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function Hlt(e,t){e._appendCommentNode(t,e.openElements.items[0])}function qlt(e,t){e._appendCommentNode(t,e.document)}function VX(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(s);o&&!o.endTag&&e._setEndLocation(s,t)}}}}function Wlt(e,t){e._setDocumentType(t);const n=t.forceQuirks?Yu.QUIRKS:_lt(t);xlt(t)||e._err(t,Je.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=Pe.BEFORE_HTML}function c2(e,t){e._err(t,Je.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Yu.QUIRKS),e.insertionMode=Pe.BEFORE_HTML,e._processToken(t)}function Glt(e,t){t.tagID===W.HTML?(e._insertElement(t,lt.HTML),e.insertionMode=Pe.BEFORE_HEAD):KS(e,t)}function Ylt(e,t){const n=t.tagID;(n===W.HTML||n===W.HEAD||n===W.BODY||n===W.BR)&&KS(e,t)}function KS(e,t){e._insertFakeRootElement(),e.insertionMode=Pe.BEFORE_HEAD,e._processToken(t)}function Klt(e,t){switch(t.tagID){case W.HTML:{cl(e,t);break}case W.HEAD:{e._insertElement(t,lt.HTML),e.headElement=e.openElements.current,e.insertionMode=Pe.IN_HEAD;break}default:XS(e,t)}}function Xlt(e,t){const n=t.tagID;n===W.HEAD||n===W.BODY||n===W.HTML||n===W.BR?XS(e,t):e._err(t,Je.endTagWithoutMatchingOpenElement)}function XS(e,t){e._insertFakeElement(Ke.HEAD,W.HEAD),e.headElement=e.openElements.current,e.insertionMode=Pe.IN_HEAD,e._processToken(t)}function Vf(e,t){switch(t.tagID){case W.HTML:{cl(e,t);break}case W.BASE:case W.BASEFONT:case W.BGSOUND:case W.LINK:case W.META:{e._appendElement(t,lt.HTML),t.ackSelfClosing=!0;break}case W.TITLE:{e._switchToTextParsing(t,Bs.RCDATA);break}case W.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Bs.RAWTEXT):(e._insertElement(t,lt.HTML),e.insertionMode=Pe.IN_HEAD_NO_SCRIPT);break}case W.NOFRAMES:case W.STYLE:{e._switchToTextParsing(t,Bs.RAWTEXT);break}case W.SCRIPT:{e._switchToTextParsing(t,Bs.SCRIPT_DATA);break}case W.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=Pe.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(Pe.IN_TEMPLATE);break}case W.HEAD:{e._err(t,Je.misplacedStartTagForHeadElement);break}default:QS(e,t)}}function Qlt(e,t){switch(t.tagID){case W.HEAD:{e.openElements.pop(),e.insertionMode=Pe.AFTER_HEAD;break}case W.BODY:case W.BR:case W.HTML:{QS(e,t);break}case W.TEMPLATE:{Pb(e,t);break}default:e._err(t,Je.endTagWithoutMatchingOpenElement)}}function Pb(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==W.TEMPLATE&&e._err(t,Je.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(W.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,Je.endTagWithoutMatchingOpenElement)}function QS(e,t){e.openElements.pop(),e.insertionMode=Pe.AFTER_HEAD,e._processToken(t)}function Jlt(e,t){switch(t.tagID){case W.HTML:{cl(e,t);break}case W.BASEFONT:case W.BGSOUND:case W.HEAD:case W.LINK:case W.META:case W.NOFRAMES:case W.STYLE:{Vf(e,t);break}case W.NOSCRIPT:{e._err(t,Je.nestedNoscriptInHead);break}default:JS(e,t)}}function Zlt(e,t){switch(t.tagID){case W.NOSCRIPT:{e.openElements.pop(),e.insertionMode=Pe.IN_HEAD;break}case W.BR:{JS(e,t);break}default:e._err(t,Je.endTagWithoutMatchingOpenElement)}}function JS(e,t){const n=t.type===fr.EOF?Je.openElementsLeftAfterEof:Je.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=Pe.IN_HEAD,e._processToken(t)}function eut(e,t){switch(t.tagID){case W.HTML:{cl(e,t);break}case W.BODY:{e._insertElement(t,lt.HTML),e.framesetOk=!1,e.insertionMode=Pe.IN_BODY;break}case W.FRAMESET:{e._insertElement(t,lt.HTML),e.insertionMode=Pe.IN_FRAMESET;break}case W.BASE:case W.BASEFONT:case W.BGSOUND:case W.LINK:case W.META:case W.NOFRAMES:case W.SCRIPT:case W.STYLE:case W.TEMPLATE:case W.TITLE:{e._err(t,Je.abandonedHeadElementChild),e.openElements.push(e.headElement,W.HEAD),Vf(e,t),e.openElements.remove(e.headElement);break}case W.HEAD:{e._err(t,Je.misplacedStartTagForHeadElement);break}default:ZS(e,t)}}function tut(e,t){switch(t.tagID){case W.BODY:case W.HTML:case W.BR:{ZS(e,t);break}case W.TEMPLATE:{Pb(e,t);break}default:e._err(t,Je.endTagWithoutMatchingOpenElement)}}function ZS(e,t){e._insertFakeElement(Ke.BODY,W.BODY),e.insertionMode=Pe.IN_BODY,_$(e,t)}function _$(e,t){switch(t.type){case fr.CHARACTER:{rSe(e,t);break}case fr.WHITESPACE_CHARACTER:{nSe(e,t);break}case fr.COMMENT:{JV(e,t);break}case fr.START_TAG:{cl(e,t);break}case fr.END_TAG:{C$(e,t);break}case fr.EOF:{aSe(e,t);break}}}function nSe(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function rSe(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function nut(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function rut(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function iut(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,lt.HTML),e.insertionMode=Pe.IN_FRAMESET)}function sut(e,t){e.openElements.hasInButtonScope(W.P)&&e._closePElement(),e._insertElement(t,lt.HTML)}function out(e,t){e.openElements.hasInButtonScope(W.P)&&e._closePElement(),q2e(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,lt.HTML)}function aut(e,t){e.openElements.hasInButtonScope(W.P)&&e._closePElement(),e._insertElement(t,lt.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function lut(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(W.P)&&e._closePElement(),e._insertElement(t,lt.HTML),n||(e.formElement=e.openElements.current))}function uut(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===W.LI&&i===W.LI||(n===W.DD||n===W.DT)&&(i===W.DD||i===W.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==W.ADDRESS&&i!==W.DIV&&i!==W.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(W.P)&&e._closePElement(),e._insertElement(t,lt.HTML)}function cut(e,t){e.openElements.hasInButtonScope(W.P)&&e._closePElement(),e._insertElement(t,lt.HTML),e.tokenizer.state=Bs.PLAINTEXT}function dut(e,t){e.openElements.hasInScope(W.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(W.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,lt.HTML),e.framesetOk=!1}function fut(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(Ke.A);n&&(UX(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,lt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function hut(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,lt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function put(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(W.NOBR)&&(UX(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,lt.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function mut(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,lt.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function gut(e,t){e.treeAdapter.getDocumentMode(e.document)!==Yu.QUIRKS&&e.openElements.hasInButtonScope(W.P)&&e._closePElement(),e._insertElement(t,lt.HTML),e.framesetOk=!1,e.insertionMode=Pe.IN_TABLE}function iSe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,lt.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function sSe(e){const t=U2e(e,Qg.TYPE);return t!=null&&t.toLowerCase()===Nlt}function yut(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,lt.HTML),sSe(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function vut(e,t){e._appendElement(t,lt.HTML),t.ackSelfClosing=!0}function but(e,t){e.openElements.hasInButtonScope(W.P)&&e._closePElement(),e._appendElement(t,lt.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function wut(e,t){t.tagName=Ke.IMG,t.tagID=W.IMG,iSe(e,t)}function xut(e,t){e._insertElement(t,lt.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Bs.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=Pe.TEXT}function _ut(e,t){e.openElements.hasInButtonScope(W.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Bs.RAWTEXT)}function Cut(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Bs.RAWTEXT)}function Xue(e,t){e._switchToTextParsing(t,Bs.RAWTEXT)}function Eut(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,lt.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===Pe.IN_TABLE||e.insertionMode===Pe.IN_CAPTION||e.insertionMode===Pe.IN_TABLE_BODY||e.insertionMode===Pe.IN_ROW||e.insertionMode===Pe.IN_CELL?Pe.IN_SELECT_IN_TABLE:Pe.IN_SELECT}function Sut(e,t){e.openElements.currentTagId===W.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,lt.HTML)}function Tut(e,t){e.openElements.hasInScope(W.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,lt.HTML)}function kut(e,t){e.openElements.hasInScope(W.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(W.RTC),e._insertElement(t,lt.HTML)}function Aut(e,t){e._reconstructActiveFormattingElements(),Z2e(t),zX(t),t.selfClosing?e._appendElement(t,lt.MATHML):e._insertElement(t,lt.MATHML),t.ackSelfClosing=!0}function Rut(e,t){e._reconstructActiveFormattingElements(),eSe(t),zX(t),t.selfClosing?e._appendElement(t,lt.SVG):e._insertElement(t,lt.SVG),t.ackSelfClosing=!0}function Que(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,lt.HTML)}function cl(e,t){switch(t.tagID){case W.I:case W.S:case W.B:case W.U:case W.EM:case W.TT:case W.BIG:case W.CODE:case W.FONT:case W.SMALL:case W.STRIKE:case W.STRONG:{hut(e,t);break}case W.A:{fut(e,t);break}case W.H1:case W.H2:case W.H3:case W.H4:case W.H5:case W.H6:{out(e,t);break}case W.P:case W.DL:case W.OL:case W.UL:case W.DIV:case W.DIR:case W.NAV:case W.MAIN:case W.MENU:case W.ASIDE:case W.CENTER:case W.FIGURE:case W.FOOTER:case W.HEADER:case W.HGROUP:case W.DIALOG:case W.DETAILS:case W.ADDRESS:case W.ARTICLE:case W.SECTION:case W.SUMMARY:case W.FIELDSET:case W.BLOCKQUOTE:case W.FIGCAPTION:{sut(e,t);break}case W.LI:case W.DD:case W.DT:{uut(e,t);break}case W.BR:case W.IMG:case W.WBR:case W.AREA:case W.EMBED:case W.KEYGEN:{iSe(e,t);break}case W.HR:{but(e,t);break}case W.RB:case W.RTC:{Tut(e,t);break}case W.RT:case W.RP:{kut(e,t);break}case W.PRE:case W.LISTING:{aut(e,t);break}case W.XMP:{_ut(e,t);break}case W.SVG:{Rut(e,t);break}case W.HTML:{nut(e,t);break}case W.BASE:case W.LINK:case W.META:case W.STYLE:case W.TITLE:case W.SCRIPT:case W.BGSOUND:case W.BASEFONT:case W.TEMPLATE:{Vf(e,t);break}case W.BODY:{rut(e,t);break}case W.FORM:{lut(e,t);break}case W.NOBR:{put(e,t);break}case W.MATH:{Aut(e,t);break}case W.TABLE:{gut(e,t);break}case W.INPUT:{yut(e,t);break}case W.PARAM:case W.TRACK:case W.SOURCE:{vut(e,t);break}case W.IMAGE:{wut(e,t);break}case W.BUTTON:{dut(e,t);break}case W.APPLET:case W.OBJECT:case W.MARQUEE:{mut(e,t);break}case W.IFRAME:{Cut(e,t);break}case W.SELECT:{Eut(e,t);break}case W.OPTION:case W.OPTGROUP:{Sut(e,t);break}case W.NOEMBED:{Xue(e,t);break}case W.FRAMESET:{iut(e,t);break}case W.TEXTAREA:{xut(e,t);break}case W.NOSCRIPT:{e.options.scriptingEnabled?Xue(e,t):Que(e,t);break}case W.PLAINTEXT:{cut(e,t);break}case W.COL:case W.TH:case W.TD:case W.TR:case W.HEAD:case W.FRAME:case W.TBODY:case W.TFOOT:case W.THEAD:case W.CAPTION:case W.COLGROUP:break;default:Que(e,t)}}function Iut(e,t){if(e.openElements.hasInScope(W.BODY)&&(e.insertionMode=Pe.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function Dut(e,t){e.openElements.hasInScope(W.BODY)&&(e.insertionMode=Pe.AFTER_BODY,mSe(e,t))}function Put(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function Out(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(W.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(W.FORM):n&&e.openElements.remove(n))}function Nut(e){e.openElements.hasInButtonScope(W.P)||e._insertFakeElement(Ke.P,W.P),e._closePElement()}function $ut(e){e.openElements.hasInListItemScope(W.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(W.LI),e.openElements.popUntilTagNamePopped(W.LI))}function Mut(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function Fut(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function Lut(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function jut(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(Ke.BR,W.BR),e.openElements.pop(),e.framesetOk=!1}function oSe(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],o=e.openElements.tagIDs[i];if(r===o&&(r!==W.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,o))break}}function C$(e,t){switch(t.tagID){case W.A:case W.B:case W.I:case W.S:case W.U:case W.EM:case W.TT:case W.BIG:case W.CODE:case W.FONT:case W.NOBR:case W.SMALL:case W.STRIKE:case W.STRONG:{UX(e,t);break}case W.P:{Nut(e);break}case W.DL:case W.UL:case W.OL:case W.DIR:case W.DIV:case W.NAV:case W.PRE:case W.MAIN:case W.MENU:case W.ASIDE:case W.BUTTON:case W.CENTER:case W.FIGURE:case W.FOOTER:case W.HEADER:case W.HGROUP:case W.DIALOG:case W.ADDRESS:case W.ARTICLE:case W.DETAILS:case W.SECTION:case W.SUMMARY:case W.LISTING:case W.FIELDSET:case W.BLOCKQUOTE:case W.FIGCAPTION:{Put(e,t);break}case W.LI:{$ut(e);break}case W.DD:case W.DT:{Mut(e,t);break}case W.H1:case W.H2:case W.H3:case W.H4:case W.H5:case W.H6:{Fut(e);break}case W.BR:{jut(e);break}case W.BODY:{Iut(e,t);break}case W.HTML:{Dut(e,t);break}case W.FORM:{Out(e);break}case W.APPLET:case W.OBJECT:case W.MARQUEE:{Lut(e,t);break}case W.TEMPLATE:{Pb(e,t);break}default:oSe(e,t)}}function aSe(e,t){e.tmplInsertionModeStack.length>0?pSe(e,t):VX(e,t)}function But(e,t){var n;t.tagID===W.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function zut(e,t){e._err(t,Je.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function k9(e,t){if(tSe.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=Pe.IN_TABLE_TEXT,t.type){case fr.CHARACTER:{uSe(e,t);break}case fr.WHITESPACE_CHARACTER:{lSe(e,t);break}}else kA(e,t)}function Uut(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,lt.HTML),e.insertionMode=Pe.IN_CAPTION}function Vut(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,lt.HTML),e.insertionMode=Pe.IN_COLUMN_GROUP}function Hut(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Ke.COLGROUP,W.COLGROUP),e.insertionMode=Pe.IN_COLUMN_GROUP,HX(e,t)}function qut(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,lt.HTML),e.insertionMode=Pe.IN_TABLE_BODY}function Wut(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Ke.TBODY,W.TBODY),e.insertionMode=Pe.IN_TABLE_BODY,E$(e,t)}function Gut(e,t){e.openElements.hasInTableScope(W.TABLE)&&(e.openElements.popUntilTagNamePopped(W.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function Yut(e,t){sSe(t)?e._appendElement(t,lt.HTML):kA(e,t),t.ackSelfClosing=!0}function Kut(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,lt.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function __(e,t){switch(t.tagID){case W.TD:case W.TH:case W.TR:{Wut(e,t);break}case W.STYLE:case W.SCRIPT:case W.TEMPLATE:{Vf(e,t);break}case W.COL:{Hut(e,t);break}case W.FORM:{Kut(e,t);break}case W.TABLE:{Gut(e,t);break}case W.TBODY:case W.TFOOT:case W.THEAD:{qut(e,t);break}case W.INPUT:{Yut(e,t);break}case W.CAPTION:{Uut(e,t);break}case W.COLGROUP:{Vut(e,t);break}default:kA(e,t)}}function HT(e,t){switch(t.tagID){case W.TABLE:{e.openElements.hasInTableScope(W.TABLE)&&(e.openElements.popUntilTagNamePopped(W.TABLE),e._resetInsertionMode());break}case W.TEMPLATE:{Pb(e,t);break}case W.BODY:case W.CAPTION:case W.COL:case W.COLGROUP:case W.HTML:case W.TBODY:case W.TD:case W.TFOOT:case W.TH:case W.THEAD:case W.TR:break;default:kA(e,t)}}function kA(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,_$(e,t),e.fosterParentingEnabled=n}function lSe(e,t){e.pendingCharacterTokens.push(t)}function uSe(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function d2(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)kA(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const cSe=new Set([W.CAPTION,W.COL,W.COLGROUP,W.TBODY,W.TD,W.TFOOT,W.TH,W.THEAD,W.TR]);function Xut(e,t){const n=t.tagID;cSe.has(n)?e.openElements.hasInTableScope(W.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(W.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Pe.IN_TABLE,__(e,t)):cl(e,t)}function Qut(e,t){const n=t.tagID;switch(n){case W.CAPTION:case W.TABLE:{e.openElements.hasInTableScope(W.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(W.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Pe.IN_TABLE,n===W.TABLE&&HT(e,t));break}case W.BODY:case W.COL:case W.COLGROUP:case W.HTML:case W.TBODY:case W.TD:case W.TFOOT:case W.TH:case W.THEAD:case W.TR:break;default:C$(e,t)}}function HX(e,t){switch(t.tagID){case W.HTML:{cl(e,t);break}case W.COL:{e._appendElement(t,lt.HTML),t.ackSelfClosing=!0;break}case W.TEMPLATE:{Vf(e,t);break}default:LN(e,t)}}function Jut(e,t){switch(t.tagID){case W.COLGROUP:{e.openElements.currentTagId===W.COLGROUP&&(e.openElements.pop(),e.insertionMode=Pe.IN_TABLE);break}case W.TEMPLATE:{Pb(e,t);break}case W.COL:break;default:LN(e,t)}}function LN(e,t){e.openElements.currentTagId===W.COLGROUP&&(e.openElements.pop(),e.insertionMode=Pe.IN_TABLE,e._processToken(t))}function E$(e,t){switch(t.tagID){case W.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,lt.HTML),e.insertionMode=Pe.IN_ROW;break}case W.TH:case W.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(Ke.TR,W.TR),e.insertionMode=Pe.IN_ROW,S$(e,t);break}case W.CAPTION:case W.COL:case W.COLGROUP:case W.TBODY:case W.TFOOT:case W.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Pe.IN_TABLE,__(e,t));break}default:__(e,t)}}function ZV(e,t){const n=t.tagID;switch(t.tagID){case W.TBODY:case W.TFOOT:case W.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Pe.IN_TABLE);break}case W.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Pe.IN_TABLE,HT(e,t));break}case W.BODY:case W.CAPTION:case W.COL:case W.COLGROUP:case W.HTML:case W.TD:case W.TH:case W.TR:break;default:HT(e,t)}}function S$(e,t){switch(t.tagID){case W.TH:case W.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,lt.HTML),e.insertionMode=Pe.IN_CELL,e.activeFormattingElements.insertMarker();break}case W.CAPTION:case W.COL:case W.COLGROUP:case W.TBODY:case W.TFOOT:case W.THEAD:case W.TR:{e.openElements.hasInTableScope(W.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Pe.IN_TABLE_BODY,E$(e,t));break}default:__(e,t)}}function dSe(e,t){switch(t.tagID){case W.TR:{e.openElements.hasInTableScope(W.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Pe.IN_TABLE_BODY);break}case W.TABLE:{e.openElements.hasInTableScope(W.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Pe.IN_TABLE_BODY,ZV(e,t));break}case W.TBODY:case W.TFOOT:case W.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(W.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Pe.IN_TABLE_BODY,ZV(e,t));break}case W.BODY:case W.CAPTION:case W.COL:case W.COLGROUP:case W.HTML:case W.TD:case W.TH:break;default:HT(e,t)}}function Zut(e,t){const n=t.tagID;cSe.has(n)?(e.openElements.hasInTableScope(W.TD)||e.openElements.hasInTableScope(W.TH))&&(e._closeTableCell(),S$(e,t)):cl(e,t)}function ect(e,t){const n=t.tagID;switch(n){case W.TD:case W.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Pe.IN_ROW);break}case W.TABLE:case W.TBODY:case W.TFOOT:case W.THEAD:case W.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),dSe(e,t));break}case W.BODY:case W.CAPTION:case W.COL:case W.COLGROUP:case W.HTML:break;default:C$(e,t)}}function fSe(e,t){switch(t.tagID){case W.HTML:{cl(e,t);break}case W.OPTION:{e.openElements.currentTagId===W.OPTION&&e.openElements.pop(),e._insertElement(t,lt.HTML);break}case W.OPTGROUP:{e.openElements.currentTagId===W.OPTION&&e.openElements.pop(),e.openElements.currentTagId===W.OPTGROUP&&e.openElements.pop(),e._insertElement(t,lt.HTML);break}case W.INPUT:case W.KEYGEN:case W.TEXTAREA:case W.SELECT:{e.openElements.hasInSelectScope(W.SELECT)&&(e.openElements.popUntilTagNamePopped(W.SELECT),e._resetInsertionMode(),t.tagID!==W.SELECT&&e._processStartTag(t));break}case W.SCRIPT:case W.TEMPLATE:{Vf(e,t);break}}}function hSe(e,t){switch(t.tagID){case W.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===W.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===W.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===W.OPTGROUP&&e.openElements.pop();break}case W.OPTION:{e.openElements.currentTagId===W.OPTION&&e.openElements.pop();break}case W.SELECT:{e.openElements.hasInSelectScope(W.SELECT)&&(e.openElements.popUntilTagNamePopped(W.SELECT),e._resetInsertionMode());break}case W.TEMPLATE:{Pb(e,t);break}}}function tct(e,t){const n=t.tagID;n===W.CAPTION||n===W.TABLE||n===W.TBODY||n===W.TFOOT||n===W.THEAD||n===W.TR||n===W.TD||n===W.TH?(e.openElements.popUntilTagNamePopped(W.SELECT),e._resetInsertionMode(),e._processStartTag(t)):fSe(e,t)}function nct(e,t){const n=t.tagID;n===W.CAPTION||n===W.TABLE||n===W.TBODY||n===W.TFOOT||n===W.THEAD||n===W.TR||n===W.TD||n===W.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(W.SELECT),e._resetInsertionMode(),e.onEndTag(t)):hSe(e,t)}function rct(e,t){switch(t.tagID){case W.BASE:case W.BASEFONT:case W.BGSOUND:case W.LINK:case W.META:case W.NOFRAMES:case W.SCRIPT:case W.STYLE:case W.TEMPLATE:case W.TITLE:{Vf(e,t);break}case W.CAPTION:case W.COLGROUP:case W.TBODY:case W.TFOOT:case W.THEAD:{e.tmplInsertionModeStack[0]=Pe.IN_TABLE,e.insertionMode=Pe.IN_TABLE,__(e,t);break}case W.COL:{e.tmplInsertionModeStack[0]=Pe.IN_COLUMN_GROUP,e.insertionMode=Pe.IN_COLUMN_GROUP,HX(e,t);break}case W.TR:{e.tmplInsertionModeStack[0]=Pe.IN_TABLE_BODY,e.insertionMode=Pe.IN_TABLE_BODY,E$(e,t);break}case W.TD:case W.TH:{e.tmplInsertionModeStack[0]=Pe.IN_ROW,e.insertionMode=Pe.IN_ROW,S$(e,t);break}default:e.tmplInsertionModeStack[0]=Pe.IN_BODY,e.insertionMode=Pe.IN_BODY,cl(e,t)}}function ict(e,t){t.tagID===W.TEMPLATE&&Pb(e,t)}function pSe(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(W.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):VX(e,t)}function sct(e,t){t.tagID===W.HTML?cl(e,t):jN(e,t)}function mSe(e,t){var n;if(t.tagID===W.HTML){if(e.fragmentContext||(e.insertionMode=Pe.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===W.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else jN(e,t)}function jN(e,t){e.insertionMode=Pe.IN_BODY,_$(e,t)}function oct(e,t){switch(t.tagID){case W.HTML:{cl(e,t);break}case W.FRAMESET:{e._insertElement(t,lt.HTML);break}case W.FRAME:{e._appendElement(t,lt.HTML),t.ackSelfClosing=!0;break}case W.NOFRAMES:{Vf(e,t);break}}}function act(e,t){t.tagID===W.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==W.FRAMESET&&(e.insertionMode=Pe.AFTER_FRAMESET))}function lct(e,t){switch(t.tagID){case W.HTML:{cl(e,t);break}case W.NOFRAMES:{Vf(e,t);break}}}function uct(e,t){t.tagID===W.HTML&&(e.insertionMode=Pe.AFTER_AFTER_FRAMESET)}function cct(e,t){t.tagID===W.HTML?cl(e,t):OP(e,t)}function OP(e,t){e.insertionMode=Pe.IN_BODY,_$(e,t)}function dct(e,t){switch(t.tagID){case W.HTML:{cl(e,t);break}case W.NOFRAMES:{Vf(e,t);break}}}function fct(e,t){t.chars=Qi,e._insertCharacters(t)}function hct(e,t){e._insertCharacters(t),e.framesetOk=!1}function gSe(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==lt.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function pct(e,t){if(Rlt(t))gSe(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===lt.MATHML?Z2e(t):r===lt.SVG&&(Ilt(t),eSe(t)),zX(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function mct(e,t){if(t.tagID===W.P||t.tagID===W.BR){gSe(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===lt.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}Ke.AREA,Ke.BASE,Ke.BASEFONT,Ke.BGSOUND,Ke.BR,Ke.COL,Ke.EMBED,Ke.FRAME,Ke.HR,Ke.IMG,Ke.INPUT,Ke.KEYGEN,Ke.LINK,Ke.META,Ke.PARAM,Ke.SOURCE,Ke.TRACK,Ke.WBR;const gct=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),Jue={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function ySe(e,t){const n=Tct(e),r=F2e("type",{handlers:{root:yct,element:vct,text:bct,comment:bSe,doctype:wct,raw:_ct},unknown:Cct}),i={parser:n?new Kue(Jue):Kue.getFragmentParser(void 0,Jue),handle(a){r(a,i)},stitches:!1,options:t||{}};r(e,i),PC(i,Rp());const s=n?i.parser.document:i.parser.getFragment(),o=Aat(s,{file:i.options.file});return i.stitches&&CA(o,"comment",function(a,l,u){const c=a;if(c.value.stitch&&u&&l!==void 0){const d=u.children;return d[l]=c.value.stitch,l}}),o.type==="root"&&o.children.length===1&&o.children[0].type===e.type?o.children[0]:o}function vSe(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function yct(e,t){vSe(e.children,t)}function vct(e,t){Ect(e,t),vSe(e.children,t),Sct(e,t)}function bct(e,t){const n={type:fr.CHARACTER,chars:e.value,location:AA(e)};PC(t,Rp(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function wct(e,t){const n={type:fr.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:AA(e)};PC(t,Rp(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function xct(e,t){t.stitches=!0;const n=kct(e);if("children"in e&&"children"in n){const r=ySe({type:"root",children:e.children},t.options);n.children=r.children}bSe({type:"comment",value:{stitch:n}},t)}function bSe(e,t){const n=e.value,r={type:fr.COMMENT,data:n,location:AA(e)};PC(t,Rp(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function _ct(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,wSe(t,Rp(e)),t.parser.tokenizer.write(e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function Cct(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))xct(n,t);else{let r="";throw gct.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function PC(e,t){wSe(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Bs.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function wSe(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function Ect(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===Bs.PLAINTEXT)return;PC(t,Rp(e));const r=t.parser.openElements.current;let i="namespaceURI"in r?r.namespaceURI:y1.html;i===y1.html&&n==="svg"&&(i=y1.svg);const s=Oat({...e,children:[]},{space:i===y1.svg?"svg":"html"}),o={type:fr.START_TAG,tagName:n,tagID:DC(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in s?s.attrs:[],location:AA(e)};t.parser.currentToken=o,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function Sct(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&zat.includes(n)||t.parser.tokenizer.state===Bs.PLAINTEXT)return;PC(t,m$(e));const r={type:fr.END_TAG,tagName:n,tagID:DC(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:AA(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Bs.RCDATA||t.parser.tokenizer.state===Bs.RAWTEXT||t.parser.tokenizer.state===Bs.SCRIPT_DATA)&&(t.parser.tokenizer.state=Bs.DATA)}function Tct(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function AA(e){const t=Rp(e)||{line:void 0,column:void 0,offset:void 0},n=m$(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function kct(e){return"children"in e?x_({...e,children:[]}):x_(e)}function Act(e){return function(t,n){return ySe(t,{...e,file:n})}}function Zue(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function Rct(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Ict(e,t,n){const i=b$((n||{}).ignore||[]),s=Dct(t);let o=-1;for(;++o<s.length;)E2e(e,"text",a);function a(u,c){let d=-1,f;for(;++d<c.length;){const h=c[d],p=f?f.children:void 0;if(i(h,p?p.indexOf(h):void 0,f))return;f=h}if(f)return l(u,c)}function l(u,c){const d=c[c.length-1],f=s[o][0],h=s[o][1];let p=0;const g=d.children.indexOf(u);let y=!1,v=[];f.lastIndex=0;let w=f.exec(u.value);for(;w;){const _=w.index,C={index:w.index,input:w.input,stack:[...c,u]};let S=h(...w,C);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?f.lastIndex=_+1:(p!==_&&v.push({type:"text",value:u.value.slice(p,_)}),Array.isArray(S)?v.push(...S):S&&v.push(S),p=_+w[0].length,y=!0),!f.global)break;w=f.exec(u.value)}return y?(p<u.value.length&&v.push({type:"text",value:u.value.slice(p)}),d.children.splice(g,1,...v)):v=[u],g+v.length}}function Dct(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([Pct(i[0]),Oct(i[1])])}return t}function Pct(e){return typeof e=="string"?new RegExp(Rct(e),"g"):e}function Oct(e){return typeof e=="function"?e:function(){return e}}const A9="phrasing",R9=["autolink","link","image","label"];function Nct(){return{transforms:[zct],enter:{literalAutolink:Mct,literalAutolinkEmail:I9,literalAutolinkHttp:I9,literalAutolinkWww:I9},exit:{literalAutolink:Bct,literalAutolinkEmail:jct,literalAutolinkHttp:Fct,literalAutolinkWww:Lct}}}function $ct(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:A9,notInConstruct:R9},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:A9,notInConstruct:R9},{character:":",before:"[ps]",after:"\\/",inConstruct:A9,notInConstruct:R9}]}}function Mct(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function I9(e){this.config.enter.autolinkProtocol.call(this,e)}function Fct(e){this.config.exit.autolinkProtocol.call(this,e)}function Lct(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function jct(e){this.config.exit.autolinkEmail.call(this,e)}function Bct(e){this.exit(e)}function zct(e){Ict(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Uct],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Vct]],{ignore:["link","linkReference"]})}function Uct(e,t,n,r,i){let s="";if(!xSe(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!Hct(n)))return!1;const o=qct(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function Vct(e,t,n,r){return!xSe(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Hct(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function qct(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=Zue(e,"(");let s=Zue(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function xSe(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||H1(n)||g$(n))&&(!t||n!==47)}_Se.peek=edt;function Wct(){this.buffer()}function Gct(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Yct(){this.buffer()}function Kct(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Xct(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=gf(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Qct(e){this.exit(e)}function Jct(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=gf(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Zct(e){this.exit(e)}function edt(){return"["}function _Se(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function tdt(){return{enter:{gfmFootnoteCallString:Wct,gfmFootnoteCall:Gct,gfmFootnoteDefinitionLabelString:Yct,gfmFootnoteDefinition:Kct},exit:{gfmFootnoteCallString:Xct,gfmFootnoteCall:Qct,gfmFootnoteDefinitionLabelString:Jct,gfmFootnoteDefinition:Zct}}}function ndt(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:_Se},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let l=a.move("[^");const u=s.enter("footnoteDefinition"),c=s.enter("label");return l+=a.move(s.safe(s.associationId(r),{before:l,after:"]"})),c(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),t?CSe:rdt))),u(),l}}function rdt(e,t,n){return t===0?e:CSe(e,t,n)}function CSe(e,t,n){return(n?"":"    ")+e}const idt=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];ESe.peek=udt;function sdt(){return{canContainEols:["delete"],enter:{strikethrough:adt},exit:{strikethrough:ldt}}}function odt(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:idt}],handlers:{delete:ESe}}}function adt(e){this.enter({type:"delete",children:[]},e)}function ldt(e){this.exit(e)}function ESe(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function udt(){return"~"}function cdt(e){return e.length}function ddt(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||cdt,s=[],o=[],a=[],l=[];let u=0,c=-1;for(;++c<e.length;){const m=[],g=[];let y=-1;for(e[c].length>u&&(u=e[c].length);++y<e[c].length;){const v=fdt(e[c][y]);if(n.alignDelimiters!==!1){const w=i(v);g[y]=w,(l[y]===void 0||w>l[y])&&(l[y]=w)}m.push(v)}o[c]=m,a[c]=g}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<u;)s[d]=ece(r[d]);else{const m=ece(r);for(;++d<u;)s[d]=m}d=-1;const f=[],h=[];for(;++d<u;){const m=s[d];let g="",y="";m===99?(g=":",y=":"):m===108?g=":":m===114&&(y=":");let v=n.alignDelimiters===!1?1:Math.max(1,l[d]-g.length-y.length);const w=g+"-".repeat(v)+y;n.alignDelimiters!==!1&&(v=g.length+v+y.length,v>l[d]&&(l[d]=v),h[d]=v),f[d]=w}o.splice(1,0,f),a.splice(1,0,h),c=-1;const p=[];for(;++c<o.length;){const m=o[c],g=a[c];d=-1;const y=[];for(;++d<u;){const v=m[d]||"";let w="",_="";if(n.alignDelimiters!==!1){const C=l[d]-(g[d]||0),S=s[d];S===114?w=" ".repeat(C):S===99?C%2?(w=" ".repeat(C/2+.5),_=" ".repeat(C/2-.5)):(w=" ".repeat(C/2),_=w):_=" ".repeat(C)}n.delimiterStart!==!1&&!d&&y.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&v==="")&&(n.delimiterStart!==!1||d)&&y.push(" "),n.alignDelimiters!==!1&&y.push(w),y.push(v),n.alignDelimiters!==!1&&y.push(_),n.padding!==!1&&y.push(" "),(n.delimiterEnd!==!1||d!==u-1)&&y.push("|")}p.push(n.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return p.join(`
`)}function fdt(e){return e==null?"":String(e)}function ece(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function hdt(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(e,s.current()),pdt);return i(),o}function pdt(e,t,n){return">"+(n?"":" ")+e}function mdt(e,t){return tce(e,t.inConstruct,!0)&&!tce(e,t.notInConstruct,!1)}function tce(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function nce(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&mdt(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function gdt(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+t.length,r=n.indexOf(t,i);return o}function ydt(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function vdt(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function bdt(e,t,n,r){const i=vdt(n),s=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(ydt(e,n)){const d=n.enter("codeIndented"),f=n.indentLines(s,wdt);return d(),f}const a=n.createTracker(r),l=i.repeat(Math.max(gdt(s,i)+1,3)),u=n.enter("codeFenced");let c=a.move(l);if(e.lang){const d=n.enter(`codeFencedLang${o}`);c+=a.move(n.safe(e.lang,{before:c,after:" ",encode:["`"],...a.current()})),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${o}`);c+=a.move(" "),c+=a.move(n.safe(e.meta,{before:c,after:`
`,encode:["`"],...a.current()})),d()}return c+=a.move(`
`),s&&(c+=a.move(s+`
`)),c+=a.move(l),u(),c}function wdt(e,t,n){return(n?"":"    ")+e}function qX(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function xdt(e,t,n,r){const i=qX(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),a(),e.title&&(a=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),o(),u}function _dt(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function qT(e){return"&#x"+e.toString(16).toUpperCase()+";"}function BN(e,t,n){const r=w_(e),i=w_(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}SSe.peek=Cdt;function SSe(e,t,n,r){const i=_dt(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let l=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const u=l.charCodeAt(0),c=BN(r.before.charCodeAt(r.before.length-1),u,i);c.inside&&(l=qT(u)+l.slice(1));const d=l.charCodeAt(l.length-1),f=BN(r.after.charCodeAt(0),d,i);f.inside&&(l=l.slice(0,-1)+qT(d));const h=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:c.outside},a+l+h}function Cdt(e,t,n){return n.options.emphasis||"*"}function Edt(e,t){let n=!1;return CA(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,VV}),!!((!e.depth||e.depth<3)&&RX(e)&&(t.options.setext||n))}function Sdt(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(Edt(e,n)){const c=n.enter("headingSetext"),d=n.enter("phrasing"),f=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return d(),c(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=qT(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),l(),a(),u}TSe.peek=Tdt;function TSe(e){return e.value||""}function Tdt(){return"<"}kSe.peek=kdt;function kSe(e,t,n,r){const i=qX(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),a(),e.title&&(a=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),u+=l.move(")"),o(),u}function kdt(){return"!"}ASe.peek=Adt;function ASe(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const u=n.safe(e.alt,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const c=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return o(),n.stack=c,s(),i==="full"||!u||u!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function Adt(){return"!"}RSe.peek=Rdt;function RSe(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function Rdt(){return"`"}function ISe(e,t){const n=RX(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}DSe.peek=Idt;function DSe(e,t,n,r){const i=qX(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(ISe(e,n)){const c=n.stack;n.stack=[],a=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(e,{before:d,after:">",...o.current()})),d+=o.move(">"),a(),n.stack=c,d}a=n.enter("link"),l=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(e,{before:u,after:"](",...o.current()})),u+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(e.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(l=n.enter("destinationRaw"),u+=o.move(n.safe(e.url,{before:u,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${s}`),u+=o.move(" "+i),u+=o.move(n.safe(e.title,{before:u,after:i,...o.current()})),u+=o.move(i),l()),u+=o.move(")"),a(),u}function Idt(e,t,n){return ISe(e,n)?"<":"["}PSe.peek=Ddt;function PSe(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const c=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return o(),n.stack=c,s(),i==="full"||!u||u!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function Ddt(){return"["}function WX(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Pdt(e){const t=WX(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Odt(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function OSe(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Ndt(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=e.ordered?Odt(n):WX(n);const a=e.ordered?o==="."?")":".":Pdt(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const c=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&c&&(!c.children||!c.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),OSe(n)===o&&c){let d=-1;for(;++d<e.children.length;){const f=e.children[d];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const u=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),u}function $dt(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Mdt(e,t,n,r){const i=$dt(n);let s=n.bulletCurrent||WX(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,a.current()),c);return l(),u;function c(d,f,h){return f?(h?"":" ".repeat(o))+d:(h?s:s+" ".repeat(o-s.length))+d}}function Fdt(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(e,r);return s(),i(),o}const Ldt=b$(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function jdt(e,t,n,r){return(e.children.some(function(o){return Ldt(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Bdt(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}NSe.peek=zdt;function NSe(e,t,n,r){const i=Bdt(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let l=o.move(n.containerPhrasing(e,{after:i,before:a,...o.current()}));const u=l.charCodeAt(0),c=BN(r.before.charCodeAt(r.before.length-1),u,i);c.inside&&(l=qT(u)+l.slice(1));const d=l.charCodeAt(l.length-1),f=BN(r.after.charCodeAt(0),d,i);f.inside&&(l=l.slice(0,-1)+qT(d));const h=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:c.outside},a+l+h}function zdt(e,t,n){return n.options.strong||"*"}function Udt(e,t,n,r){return n.safe(e.value,r)}function Vdt(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Hdt(e,t,n){const r=(OSe(n)+(n.options.ruleSpaces?" ":"")).repeat(Vdt(n));return n.options.ruleSpaces?r.slice(0,-1):r}const $Se={blockquote:hdt,break:nce,code:bdt,definition:xdt,emphasis:SSe,hardBreak:nce,heading:Sdt,html:TSe,image:kSe,imageReference:ASe,inlineCode:RSe,link:DSe,linkReference:PSe,list:Ndt,listItem:Mdt,paragraph:Fdt,root:jdt,strong:NSe,text:Udt,thematicBreak:Hdt};function qdt(){return{enter:{table:Wdt,tableData:rce,tableHeader:rce,tableRow:Ydt},exit:{codeText:Kdt,table:Gdt,tableData:D9,tableHeader:D9,tableRow:D9}}}function Wdt(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function Gdt(e){this.exit(e),this.data.inTable=void 0}function Ydt(e){this.enter({type:"tableRow",children:[]},e)}function D9(e){this.exit(e)}function rce(e){this.enter({type:"tableCell",children:[]},e)}function Kdt(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Xdt));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Xdt(e,t){return t==="|"?t:e}function Qdt(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:o,tableCell:l,tableRow:a}};function o(h,p,m,g){return u(c(h,m,g),h.align)}function a(h,p,m,g){const y=d(h,m,g),v=u([y]);return v.slice(0,v.indexOf(`
`))}function l(h,p,m,g){const y=m.enter("tableCell"),v=m.enter("phrasing"),w=m.containerPhrasing(h,{...g,before:s,after:s});return v(),y(),w}function u(h,p){return ddt(h,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function c(h,p,m){const g=h.children;let y=-1;const v=[],w=p.enter("table");for(;++y<g.length;)v[y]=d(g[y],p,m);return w(),v}function d(h,p,m){const g=h.children;let y=-1;const v=[],w=p.enter("tableRow");for(;++y<g.length;)v[y]=l(g[y],h,p,m);return w(),v}function f(h,p,m){let g=$Se.inlineCode(h,p,m);return m.stack.includes("tableCell")&&(g=g.replace(/\|/g,"\\$&")),g}}function Jdt(){return{exit:{taskListCheckValueChecked:ice,taskListCheckValueUnchecked:ice,paragraph:eft}}}function Zdt(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:tft}}}function ice(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function eft(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function tft(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let l=$Se.listItem(e,t,n,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(c){return c+o}}function nft(){return[Nct(),tdt(),sdt(),qdt(),Jdt()]}function rft(e){return{extensions:[$ct(),ndt(e),odt(),Qdt(e),Zdt()]}}const ift={tokenize:cft,partial:!0},MSe={tokenize:dft,partial:!0},FSe={tokenize:fft,partial:!0},LSe={tokenize:hft,partial:!0},sft={tokenize:pft,partial:!0},jSe={name:"wwwAutolink",tokenize:lft,previous:zSe},BSe={name:"protocolAutolink",tokenize:uft,previous:USe},A0={name:"emailAutolink",tokenize:aft,previous:VSe},Ip={};function oft(){return{text:Ip}}let Iv=48;for(;Iv<123;)Ip[Iv]=A0,Iv++,Iv===58?Iv=65:Iv===91&&(Iv=97);Ip[43]=A0;Ip[45]=A0;Ip[46]=A0;Ip[95]=A0;Ip[72]=[A0,BSe];Ip[104]=[A0,BSe];Ip[87]=[A0,jSe];Ip[119]=[A0,jSe];function aft(e,t,n){const r=this;let i,s;return o;function o(d){return!eH(d)||!VSe.call(r,r.previous)||GX(r.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(d))}function a(d){return eH(d)?(e.consume(d),a):d===64?(e.consume(d),l):n(d)}function l(d){return d===46?e.check(sft,c,u)(d):d===45||d===95||Xa(d)?(s=!0,e.consume(d),l):c(d)}function u(d){return e.consume(d),i=!0,l}function c(d){return s&&i&&Sl(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function lft(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!zSe.call(r,r.previous)||GX(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(ift,e.attempt(MSe,e.attempt(FSe,s),n),n)(o))}function s(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function uft(e,t,n){const r=this;let i="",s=!1;return o;function o(d){return(d===72||d===104)&&USe.call(r,r.previous)&&!GX(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),e.consume(d),a):n(d)}function a(d){if(Sl(d)&&i.length<5)return i+=String.fromCodePoint(d),e.consume(d),a;if(d===58){const f=i.toLowerCase();if(f==="http"||f==="https")return e.consume(d),l}return n(d)}function l(d){return d===47?(e.consume(d),s?u:(s=!0,l)):n(d)}function u(d){return d===null||MN(d)||Ri(d)||H1(d)||g$(d)?n(d):e.attempt(MSe,e.attempt(FSe,c),n)(d)}function c(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function cft(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),s):n(o)}function s(o){return o===null?n(o):t(o)}}function dft(e,t,n){let r,i,s;return o;function o(u){return u===46||u===95?e.check(LSe,l,a)(u):u===null||Ri(u)||H1(u)||u!==45&&g$(u)?l(u):(s=!0,e.consume(u),o)}function a(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),o}function l(u){return i||r||!s?n(u):t(u)}}function fft(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(LSe,t,s)(o):o===null||Ri(o)||H1(o)?t(o):(e.consume(o),i)}function s(o){return o===41&&r++,e.consume(o),i}}function hft(e,t,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(e.consume(a),r):a===38?(e.consume(a),s):a===93?(e.consume(a),i):a===60||a===null||Ri(a)||H1(a)?t(a):n(a)}function i(a){return a===null||a===40||a===91||Ri(a)||H1(a)?t(a):r(a)}function s(a){return Sl(a)?o(a):n(a)}function o(a){return a===59?(e.consume(a),r):Sl(a)?(e.consume(a),o):n(a)}}function pft(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return Xa(s)?n(s):t(s)}}function zSe(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Ri(e)}function USe(e){return!Sl(e)}function VSe(e){return!(e===47||eH(e))}function eH(e){return e===43||e===45||e===46||e===95||Xa(e)}function GX(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const mft={tokenize:Cft,partial:!0};function gft(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:wft,continuation:{tokenize:xft},exit:_ft}},text:{91:{name:"gfmFootnoteCall",tokenize:bft},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:yft,resolveTo:vft}}}}function yft(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const u=gf(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function vft(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...a),e}function bft(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(d){if(s>999||d===93&&!o||d===null||d===91||Ri(d))return n(d);if(d===93){e.exit("chunkString");const f=e.exit("gfmFootnoteCallString");return i.includes(gf(r.sliceSerialize(f)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(d)}return Ri(d)||(o=!0),s++,e.consume(d),d===92?c:u}function c(d){return d===91||d===92||d===93?(e.consume(d),s++,u):u(d)}}function wft(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(p)}function c(p){if(o>999||p===93&&!a||p===null||p===91||Ri(p))return n(p);if(p===93){e.exit("chunkString");const m=e.exit("gfmFootnoteDefinitionLabelString");return s=gf(r.sliceSerialize(m)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return Ri(p)||(a=!0),o++,e.consume(p),p===92?d:c}function d(p){return p===91||p===92||p===93?(e.consume(p),o++,c):c(p)}function f(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(s)||i.push(s),Lr(e,h,"gfmFootnoteDefinitionWhitespace")):n(p)}function h(p){return t(p)}}function xft(e,t,n){return e.check(_A,t,e.attempt(mft,t,n))}function _ft(e){e.exit("gfmFootnoteDefinition")}function Cft(e,t,n){const r=this;return Lr(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(s):n(s)}}function Eft(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let u=l;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[l][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[l][1].end)},d={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[l][1].start)},f=[["enter",c,a],["enter",o[u][1],a],["exit",o[u][1],a],["enter",d,a]],h=a.parser.constructs.insideSpan.null;h&&Zu(f,f.length,0,y$(h,o.slice(u+1,l),a)),Zu(f,f.length,0,[["exit",d,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",c,a]]),Zu(o,u-1,l-u+3,f),l=u+f.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const u=this.previous,c=this.events;let d=0;return f;function f(p){return u===126&&c[c.length-1][1].type!=="characterEscape"?l(p):(o.enter("strikethroughSequenceTemporary"),h(p))}function h(p){const m=w_(u);if(p===126)return d>1?l(p):(o.consume(p),d++,h);if(d<2&&!n)return l(p);const g=o.exit("strikethroughSequenceTemporary"),y=w_(p);return g._open=!y||y===2&&!!m,g._close=!m||m===2&&!!y,a(p)}}}class Sft{constructor(){this.map=[]}add(t,n,r){Tft(this,t,n,r)}consume(t){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function Tft(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function kft(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Aft(){return{flow:{null:{name:"table",tokenize:Rft,resolveAll:Ift}}}}function Rft(e,t,n){const r=this;let i=0,s=0,o;return a;function a(R){let P=r.events.length-1;for(;P>-1;){const O=r.events[P][1].type;if(O==="lineEnding"||O==="linePrefix")P--;else break}const N=P>-1?r.events[P][1].type:null,$=N==="tableHead"||N==="tableRow"?S:l;return $===S&&r.parser.lazy[r.now().line]?n(R):$(R)}function l(R){return e.enter("tableHead"),e.enter("tableRow"),u(R)}function u(R){return R===124||(o=!0,s+=1),c(R)}function c(R){return R===null?n(R):$n(R)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),h):n(R):wr(R)?Lr(e,c,"whitespace")(R):(s+=1,o&&(o=!1,i+=1),R===124?(e.enter("tableCellDivider"),e.consume(R),e.exit("tableCellDivider"),o=!0,c):(e.enter("data"),d(R)))}function d(R){return R===null||R===124||Ri(R)?(e.exit("data"),c(R)):(e.consume(R),R===92?f:d)}function f(R){return R===92||R===124?(e.consume(R),d):d(R)}function h(R){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(R):(e.enter("tableDelimiterRow"),o=!1,wr(R)?Lr(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):p(R))}function p(R){return R===45||R===58?g(R):R===124?(o=!0,e.enter("tableCellDivider"),e.consume(R),e.exit("tableCellDivider"),m):C(R)}function m(R){return wr(R)?Lr(e,g,"whitespace")(R):g(R)}function g(R){return R===58?(s+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(R),e.exit("tableDelimiterMarker"),y):R===45?(s+=1,y(R)):R===null||$n(R)?_(R):C(R)}function y(R){return R===45?(e.enter("tableDelimiterFiller"),v(R)):C(R)}function v(R){return R===45?(e.consume(R),v):R===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(R),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(R))}function w(R){return wr(R)?Lr(e,_,"whitespace")(R):_(R)}function _(R){return R===124?p(R):R===null||$n(R)?!o||i!==s?C(R):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(R)):C(R)}function C(R){return n(R)}function S(R){return e.enter("tableRow"),T(R)}function T(R){return R===124?(e.enter("tableCellDivider"),e.consume(R),e.exit("tableCellDivider"),T):R===null||$n(R)?(e.exit("tableRow"),t(R)):wr(R)?Lr(e,T,"whitespace")(R):(e.enter("data"),k(R))}function k(R){return R===null||R===124||Ri(R)?(e.exit("data"),T(R)):(e.consume(R),R===92?I:k)}function I(R){return R===92||R===124?(e.consume(R),k):k(R)}}function Ift(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,u,c,d;const f=new Sft;for(;++n<e.length;){const h=e[n],p=h[1];h[0]==="enter"?p.type==="tableHead"?(a=!1,l!==0&&(sce(f,t,l,u,c),c=void 0,l=0),u={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},f.add(n,0,[["enter",u,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,d=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,c={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},f.add(n,0,[["enter",c,t]])),i=p.type==="tableDelimiterRow"?2:c?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],d=fD(f,t,s,i,void 0,d),s=[0,0,0,0]),o[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],d=fD(f,t,s,i,void 0,d)),s=o,o=[s[1],n,0,0])):p.type==="tableHead"?(a=!0,l=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=n,s[1]!==0?(o[0]=o[1],d=fD(f,t,s,i,n,d)):o[1]!==0&&(d=fD(f,t,o,i,n,d)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&sce(f,t,l,u,c),f.consume(t.events),n=-1;++n<t.events.length;){const h=t.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=kft(t.events,n))}return e}function fD(e,t,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},gx(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const l=gx(t.events,n[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const u=gx(t.events,n[2]),c=gx(t.events,n[3]),d={type:a,start:Object.assign({},u),end:Object.assign({},c)};if(e.add(n[2],0,[["enter",d,t]]),r!==2){const f=t.events[n[2]],h=t.events[n[3]];if(f[1].end=Object.assign({},h[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,m=n[3]-n[2]-1;e.add(p,m,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return i!==void 0&&(s.end=Object.assign({},gx(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function sce(e,t,n,r,i){const s=[],o=gx(t.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,t])),r.end=Object.assign({},o),s.push(["exit",r,t]),e.add(n+1,0,s)}function gx(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Dft={name:"tasklistCheck",tokenize:Oft};function Pft(){return{text:{91:Dft}}}function Oft(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),s)}function s(l){return Ri(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(l)}function a(l){return $n(l)?t(l):wr(l)?e.check({tokenize:Nft},t,n)(l):n(l)}}function Nft(e,t,n){return Lr(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function $ft(e){return s2e([oft(),gft(),Eft(e),Aft(),Pft()])}const Mft={};function Fft(e){const t=this,n=e||Mft,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push($ft(n)),s.push(nft()),o.push(rft(n))}function Lft(e){return!!e&&typeof e=="object"&&e.type==="text"}function jft(e){return!!e&&typeof e=="object"&&e.type==="element"}const Bft={p({node:e,...t}){return b.jsx(He,{...t,pb:8,fw:"inherit",ref:void 0})},h1({node:e,...t}){return b.jsx(qr,{...t,order:1,pb:12})},h2({node:e,...t}){return b.jsx(qr,{...t,order:2,pb:12})},h3({node:e,...t}){return b.jsx(qr,{...t,order:3,pb:12})},h4({node:e,...t}){return b.jsx(qr,{...t,order:4,pb:12})},h5({node:e,...t}){return b.jsx(qr,{...t,order:5,pb:12})},h6({node:e,...t}){return b.jsx(qr,{...t,order:6,pb:12})},a({node:e,...t}){return b.jsx(Sb,{...t,ref:void 0})},ul({node:e,...t}){return b.jsx(Ga,{withPadding:!0,...t,pb:8})},ol({node:e,type:t,...n}){return b.jsx(Ga,{...n,type:"ordered",withPadding:!0,pb:8})},table({node:e,...t}){return b.jsx(Sn,{...t,mb:12,borderColor:"grey"})},thead({node:e,...t}){return b.jsx(Sn.Thead,{...t})},tbody({node:e,...t}){return b.jsx(Sn.Tbody,{...t})},tr({node:e,...t}){return b.jsx(Sn.Tr,{...t})},th({node:e,...t}){return b.jsx(Sn.Th,{...t})},td({node:e,...t}){return b.jsx(Sn.Td,{...t})},img({node:e,width:t,height:n,src:r,...i}){return b.jsx(E0,{...i,h:n,w:t,src:r?.startsWith("http")?r:`${Yi}${r}`})}};function cp({text:e,required:t}){const n=A.useCallback(()=>r=>{if(!t||!r)return;let i=null,s=null;CA(r,(l,u,c)=>{jft(l)&&(i=l,s=c)});const o=i,a=s;if(o!==null){const l={type:"element",tagName:"span",properties:{style:"color: #fa5252; margin-left: 4px"},children:[{type:"text",value:"*"}]};if(Lft(o.children.at(-1))){const c=o.children.at(-1).value.split(" "),d=c.pop(),f=c.join(" "),h={type:"element",tagName:"span",properties:{},children:[{type:"text",value:f?`${f} `:""},{type:"element",tagName:"span",properties:{style:"white-space: nowrap"},children:[{type:"text",value:`${d}`}]},l]};o.children.splice(o.children.length-1,1,h)}else{const u={type:"element",tagName:"span",properties:{style:"white-space: nowrap; display: inline-flex;"},children:[o,l]};if(a){const c=a.children.indexOf(o);c!==-1&&a.children.splice(c,1,u)}}}},[t]);return e.length>0&&b.jsx(iat,{components:Bft,rehypePlugins:[Act,n],remarkPlugins:[Fft],children:e})}function NP({issues:e,type:t}){const n=`
    ${t==="error"?"There was an issue loading the study config. Please check the following issues:":"There were some warnings while loading the study config. Please check the following warnings:"}

    ${e.map(r=>`- You have ${t==="error"?"an error":"a warning"} at ${r.instancePath||"root"}: ${r.message} - ${JSON.stringify(r.params)}  `).join(`
`)}
  `.replace(/\n\s+/g,`
`);return b.jsx(cp,{text:n})}const Bw=14;function zft({completed:e,inProgress:t,rejected:n}){return b.jsxs(At,{ml:4,gap:4,children:[b.jsx(yt,{label:"Completed",children:b.jsx(eo,{variant:"light",color:"green",leftSection:b.jsx(dy,{width:Bw,height:Bw,style:{paddingTop:1}}),pb:1,children:e})}),b.jsx(yt,{label:"In Progress",children:b.jsx(eo,{variant:"light",color:"orange",leftSection:b.jsx(MEe,{width:Bw,height:Bw,style:{paddingTop:1}}),pb:1,children:t})}),b.jsx(yt,{label:"Rejected",children:b.jsx(eo,{variant:"light",color:"red",leftSection:b.jsx(Jm,{width:Bw,height:Bw,style:{paddingTop:1}}),pb:1,children:n})})]})}async function tH(e){const t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}function f2(e){const t=e;return typeof t=="object"&&t&&t.participantId!==void 0}function jc(e){return!!e&&e.isCloudEngine()}function Uft(e,t,n,r,i){const s=Object.values(e).filter(l=>l.endTime>-1).map(l=>l.componentName),o=i!==void 0;return{total:t.map(l=>n.components[l]?1:Object.entries(e).filter(([u,c])=>u.includes(`${l}_`)).length).reduce((l,u)=>l+u,0),answered:s,isDynamic:o}}const HSe=A.createContext({user:{user:null,determiningStatus:!1,isAdmin:!1,adminVerification:!1},logout:async()=>{},triggerAuth:()=>{},verifyAdminStatus:()=>Promise.resolve(!1)}),Hy=()=>A.useContext(HSe);function Vft({children:e}){const t={user:null,determiningStatus:!0,isAdmin:!1,adminVerification:!1},n={user:null,determiningStatus:!1,isAdmin:!1,adminVerification:!1},r={user:{email:"fakeEmail@fake.com",uid:"fakeUid"},determiningStatus:!1,isAdmin:!0,adminVerification:!0},[i,s]=A.useState(t),[o,a]=A.useState(!1),{storageEngine:l}=Ii(),u=async()=>{if(l&&jc(l))try{await l.logout()}catch(h){console.error(`There was an issue signing-out the user: ${h.message}`)}finally{s(n)}},c=A.useCallback(()=>{a(!0)},[]);A.useEffect(()=>{(async()=>{if(l?.getEngine()==="supabase")try{await l.getSession()}catch(p){console.error("Supabase session check failed",p)}})()},[l,c]);const d=async h=>l&&jc(l)?await l.validateUser(h,!0):!1;A.useEffect(()=>{s(t);const h=async g=>{if(s(y=>({user:y.user,isAdmin:y.isAdmin,determiningStatus:!0,adminVerification:!1})),g){const y={user:g,determiningStatus:!1,isAdmin:!1,adminVerification:!0},v=await d(y);y.isAdmin=!!v,s(y)}else u()},m=(async()=>(l&&jc(l)?((await l?.getUserManagementData("authentication"))?.isEnabled&&l?.unsubscribe(h),s(r)):l&&s(r),()=>{}))();return()=>{m.then(g=>g())}},[l,o]);const f=A.useMemo(()=>({user:i,triggerAuth:c,logout:u,verifyAdminStatus:d}),[i]);return b.jsx(HSe.Provider,{value:f,children:i.determiningStatus?b.jsx($l,{visible:!0}):e})}function Hft({configName:e,config:t,url:n}){const{storageEngine:r}=Ii(),[i,s]=A.useState(null);A.useEffect(()=>{r&&r.getParticipantsStatusCounts(e).then(d=>{s(d)})},[e,r]);const{minTime:o,maxTime:a}=A.useMemo(()=>{if(!i)return{minTime:null,maxTime:null};if(!i.minTime||!i.maxTime)return{minTime:null,maxTime:null};const d=typeof i.minTime=="number"?new Date(i.minTime):i.minTime.toDate(),f=typeof i.maxTime=="number"?new Date(i.maxTime):i.maxTime.toDate();return{minTime:d.toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"long",day:"numeric"}),maxTime:f.toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"long",day:"numeric"})}},[i]),[l,u]=A.useState(null);A.useEffect(()=>{r&&r.getModes(e).then(d=>{u(d)})},[e,r]);const c=A.useMemo(()=>l?l.dataCollectionEnabled?i&&(i.inProgress>0||i.completed>0)?"Collecting Data":"Ready to Collect Data":"Data Collection Disabled":"Unknown",[l,i]);return b.jsx(Uy,{shadow:"sm",radius:"md",my:"sm",withBorder:!0,children:t.errors.length>0?b.jsxs(b.Fragment,{children:[b.jsx(He,{fw:"bold",children:e}),b.jsxs(At,{align:"center",direction:"row",children:[b.jsx(Zc,{color:"red"}),b.jsx(He,{fw:"bold",ml:8,color:"red",children:"Errors"})]}),b.jsx(NP,{issues:t.errors,type:"error"}),t.warnings.length>0&&b.jsxs(b.Fragment,{children:[b.jsxs(At,{align:"center",direction:"row",children:[b.jsx(Zc,{color:"orange"}),b.jsx(He,{fw:"bold",ml:8,color:"orange",children:"Warnings"})]}),b.jsx(NP,{issues:t.warnings,type:"warning"})]})]}):b.jsxs(b.Fragment,{children:[b.jsx(At,{direction:"row",justify:"space-between",children:b.jsx(He,{fw:"bold",children:t.studyMetadata.title})}),b.jsxs(He,{c:"dimmed",children:[b.jsx(He,{span:!0,fw:500,children:"Authors: "}),t.studyMetadata.authors.join(", ")]}),b.jsx(He,{c:"dimmed",children:t.studyMetadata.description}),b.jsx(He,{c:"dimmed",ta:"right",style:{paddingRight:5},children:b.jsxs(Sb,{target:"_blank",onClick:d=>d.stopPropagation(),href:`https://github.com/revisit-studies/study/tree/main/public/${n}`,children:["View source:"," ",n,b.jsx(xtt,{style:{width:Ye(18),height:Ye(18),marginLeft:Ye(2),marginBottom:Ye(-3)}})]})}),t.warnings.length>0&&b.jsxs(b.Fragment,{children:[b.jsxs(At,{align:"center",direction:"row",children:[b.jsx(Zc,{color:"orange"}),b.jsx(He,{fw:"bold",ml:8,color:"orange",children:"Warnings"})]}),b.jsx(NP,{issues:t.warnings,type:"warning"})]}),b.jsx(bC,{my:"md"}),b.jsxs(At,{direction:"row",gap:"sm",children:[b.jsxs(He,{fw:"bold",size:"sm",opacity:.7,children:["Study Status:"," ",c]}),i&&b.jsx(zft,{completed:i.completed,inProgress:i.inProgress,rejected:i.rejected}),b.jsxs(At,{ml:"auto",gap:"sm",opacity:.7,children:[l?.studyNavigatorEnabled?b.jsx(yt,{label:"Study navigator enabled",withinPortal:!0,children:b.jsx(LEe,{size:16,color:"green"})}):b.jsx(yt,{label:"Study navigator disabled",withinPortal:!0,children:b.jsx(gnt,{size:16,color:"red"})}),l?.analyticsInterfacePubliclyAccessible?b.jsx(yt,{label:"Analytics interface publicly accessible",withinPortal:!0,children:b.jsx(OEe,{size:16,color:"green"})}):b.jsx(yt,{label:"Analytics interface not publicly accessible",withinPortal:!0,children:b.jsx(PEe,{size:16,color:"red"})}),r?.getEngine()==="localStorage"?b.jsx(yt,{label:"Local storage enabled",withinPortal:!0,position:"bottom",children:b.jsx(NN,{size:16,color:"green"})}):r?.getEngine()==="firebase"?b.jsx(yt,{label:"Firebase enabled",withinPortal:!0,position:"bottom",children:b.jsx(TEe,{size:16,color:"green"})}):r?.getEngine()==="supabase"?b.jsx(yt,{label:"Supabase enabled",withinPortal:!0,position:"bottom",children:b.jsx(xX,{size:16,color:"green"})}):b.jsx(yt,{label:"Unknown storage engine enabled",withinPortal:!0,position:"bottom",children:b.jsx(NN,{size:16,color:"red"})})]})]}),o&&a&&b.jsxs(He,{c:"dimmed",mt:4,children:["Activity:"," ",o," ",""," ",a]}),b.jsxs(At,{direction:"row",align:"end",gap:"sm",mt:"md",children:[b.jsx(Wt,{leftSection:b.jsx(kEe,{}),style:{marginLeft:"auto"},variant:"default",component:"a",href:`${Yi}analysis/stats/${n}`,children:"Analyze & Manage Study"}),b.jsx(Wt,{leftSection:b.jsx(NEe,{}),component:"a",href:`${Yi}${n}`,children:"Go to Study"})]})]})},e)}function zw({configNames:e,studyConfigs:t}){return e.map(n=>{const r=t[n];if(!r)return null;const i=VEe(n);return b.jsx(Hft,{configName:n,config:r,url:i},n)})}function qft({globalConfig:e,studyConfigs:t}){const{storageEngine:n}=Ii(),{configsList:r}=e,[i,s]=A.useState({});A.useEffect(()=>{async function y(){const v={};await Promise.all(r.map(async w=>{if(n&&jc(n)){const _=await n.getModes(w);v[w]=_.analyticsInterfacePubliclyAccessible}})),s(v)}y()},[r,n]);const{user:o}=Hy(),a=A.useMemo(()=>r.filter(y=>i[y]||o.isAdmin),[r,i,o]),l=A.useMemo(()=>a.filter(y=>y.startsWith("demo-")),[a]),u=A.useMemo(()=>a.filter(y=>y.startsWith("tutorial")),[a]),c=A.useMemo(()=>a.filter(y=>y.startsWith("example-")),[a]),d=A.useMemo(()=>a.filter(y=>y.startsWith("test-")),[a]),f=A.useMemo(()=>a.filter(y=>y.startsWith("library-")),[a]),h=A.useMemo(()=>a.filter(y=>!y.startsWith("demo-")&&!y.startsWith("tutorial")&&!y.startsWith("example-")&&!y.startsWith("test-")&&!y.startsWith("library-")),[a]),[p]=mc(),m=A.useMemo(()=>p.get("tab")||(h.length>0?"Others":"Demos"),[h.length,p]),g=ll();return b.jsx(es.Main,{children:b.jsxs(C0,{size:"sm",px:0,children:[b.jsx(E0,{maw:150,mx:"auto",mb:"xl",radius:"md",src:`${Yi}revisitAssets/revisitLogoSquare.svg`,alt:"reVISit"}),b.jsxs(dr,{variant:"outline",defaultValue:h.length>0?"Others":"Demos",value:m,onChange:y=>g(`/?tab=${y}`),children:[b.jsxs(dr.List,{children:[h.length>0&&b.jsx(dr.Tab,{value:"Others",children:"Your Studies"}),b.jsx(dr.Tab,{value:"Demos",children:"Demo Studies"}),b.jsx(dr.Tab,{value:"Examples",children:"Example Studies"}),b.jsx(dr.Tab,{value:"Tutorials",children:"Tutorials"}),b.jsx(dr.Tab,{value:"Tests",children:"Tests"}),b.jsx(dr.Tab,{value:"Libraries",children:"Libraries"})]}),h.length>0&&b.jsx(dr.Panel,{value:"Others",children:b.jsx(zw,{configNames:h,studyConfigs:t})}),b.jsxs(dr.Panel,{value:"Demos",children:[b.jsx(He,{c:"dimmed",mt:"sm",children:"These studies show off individual features of the reVISit platform."}),b.jsx(zw,{configNames:l,studyConfigs:t})]}),b.jsxs(dr.Panel,{value:"Examples",children:[b.jsx(He,{c:"dimmed",mt:"sm",children:"These are full studies that demonstrate the capabilities of the reVISit platform."}),b.jsx(zw,{configNames:c,studyConfigs:t})]}),b.jsxs(dr.Panel,{value:"Tutorials",children:[b.jsx(He,{c:"dimmed",mt:"sm",children:"These studies are designed to help you learn how to use the reVISit platform."}),b.jsx(zw,{configNames:u,studyConfigs:t})]}),b.jsxs(dr.Panel,{value:"Tests",children:[b.jsx(He,{c:"dimmed",mt:"sm",children:"These studies exist for testing purposes."}),b.jsx(zw,{configNames:d,studyConfigs:t})]}),b.jsxs(dr.Panel,{value:"Libraries",children:[b.jsx(He,{c:"dimmed",mt:"sm",children:"Here you can see an example of every library that we publish."}),b.jsx(zw,{configNames:f,studyConfigs:t})]})]})]})})}var P9={exports:{}},O9={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oce;function Wft(){if(oce)return O9;oce=1;var e=x5();function t(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,o=e.useMemo,a=e.useDebugValue;return O9.useSyncExternalStoreWithSelector=function(l,u,c,d,f){var h=i(null);if(h.current===null){var p={hasValue:!1,value:null};h.current=p}else p=h.current;h=o(function(){function g(C){if(!y){if(y=!0,v=C,C=d(C),f!==void 0&&p.hasValue){var S=p.value;if(f(S,C))return w=S}return w=C}if(S=w,n(v,C))return S;var T=d(C);return f!==void 0&&f(S,T)?(v=C,S):(v=C,w=T)}var y=!1,v,w,_=c===void 0?null:c;return[function(){return g(u())},_===null?void 0:function(){return g(_())}]},[u,c,d,f]);var m=r(l,h[0],h[1]);return s(function(){p.hasValue=!0,p.value=m},[m]),a(m),m},O9}var ace;function Gft(){return ace||(ace=1,P9.exports=Wft()),P9.exports}var Yft=Gft();function Kft(e){e()}function Xft(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Kft(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var lce={notify(){},get:()=>[]};function Qft(e,t){let n,r=lce,i=0,s=!1;function o(m){c();const g=r.subscribe(m);let y=!1;return()=>{y||(y=!0,g(),d())}}function a(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function u(){return s}function c(){i++,n||(n=e.subscribe(l),r=Xft())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=lce)}function f(){s||(s=!0,c())}function h(){s&&(s=!1,d())}const p={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>r};return p}var Jft=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zft=Jft(),eht=()=>typeof navigator<"u"&&navigator.product==="ReactNative",tht=eht(),nht=()=>Zft||tht?A.useLayoutEffect:A.useEffect,rht=nht(),iht=Symbol.for("react-redux-context"),sht=typeof globalThis<"u"?globalThis:{};function oht(){if(!A.createContext)return{};const e=sht[iht]??=new Map;let t=e.get(A.createContext);return t||(t=A.createContext(null),e.set(A.createContext,t)),t}var fy=oht();function aht(e){const{children:t,context:n,serverState:r,store:i}=e,s=A.useMemo(()=>{const l=Qft(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),o=A.useMemo(()=>i.getState(),[i]);rht(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,o]);const a=n||fy;return A.createElement(a.Provider,{value:s},t)}var lht=aht;function YX(e=fy){return function(){return A.useContext(e)}}var qSe=YX();function WSe(e=fy){const t=e===fy?qSe:YX(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var uht=WSe();function cht(e=fy){const t=e===fy?uht:WSe(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var GSe=cht(),dht=(e,t)=>e===t;function fht(e=fy){const t=e===fy?qSe:YX(e),n=(r,i={})=>{const{equalityFn:s=dht}=typeof i=="function"?{equalityFn:i}:i,o=t(),{store:a,subscription:l,getServerState:u}=o;A.useRef(!0);const c=A.useCallback({[r.name](f){return r(f)}}[r.name],[r]),d=Yft.useSyncExternalStoreWithSelector(l.addNestedSub,a.getState,u||a.getState,c,s);return A.useDebugValue(d),d};return Object.assign(n,{withTypes:()=>n}),n}var hht=fht();const pht="/study/assets/VLAT1-vnvZ7yRm.png",mht=Object.freeze(Object.defineProperty({__proto__:null,default:pht},Symbol.toStringTag,{value:"Module"})),ght="/study/assets/VLAT10-BMGl61Mu.png",yht=Object.freeze(Object.defineProperty({__proto__:null,default:ght},Symbol.toStringTag,{value:"Module"})),vht="/study/assets/VLAT11-Bxb0LCYD.png",bht=Object.freeze(Object.defineProperty({__proto__:null,default:vht},Symbol.toStringTag,{value:"Module"})),wht="/study/assets/VLAT12-Ch9t16aS.png",xht=Object.freeze(Object.defineProperty({__proto__:null,default:wht},Symbol.toStringTag,{value:"Module"})),_ht="/study/assets/VLAT2-Ck6767Xc.png",Cht=Object.freeze(Object.defineProperty({__proto__:null,default:_ht},Symbol.toStringTag,{value:"Module"})),Eht="/study/assets/VLAT3-Cwe4YjoY.png",Sht=Object.freeze(Object.defineProperty({__proto__:null,default:Eht},Symbol.toStringTag,{value:"Module"})),Tht="/study/assets/VLAT4-CZ1oExNp.png",kht=Object.freeze(Object.defineProperty({__proto__:null,default:Tht},Symbol.toStringTag,{value:"Module"})),Aht="/study/assets/VLAT5-C6h4Z1Dz.png",Rht=Object.freeze(Object.defineProperty({__proto__:null,default:Aht},Symbol.toStringTag,{value:"Module"})),Iht="/study/assets/VLAT6-BSRlVaih.png",Dht=Object.freeze(Object.defineProperty({__proto__:null,default:Iht},Symbol.toStringTag,{value:"Module"})),Pht="/study/assets/VLAT7-BF4fuAsD.png",Oht=Object.freeze(Object.defineProperty({__proto__:null,default:Pht},Symbol.toStringTag,{value:"Module"})),Nht="/study/assets/VLAT8-Cf_OYzE7.png",$ht=Object.freeze(Object.defineProperty({__proto__:null,default:Nht},Symbol.toStringTag,{value:"Module"})),Mht="/study/assets/VLAT9-CkTk-Ex0.png",Fht=Object.freeze(Object.defineProperty({__proto__:null,default:Mht},Symbol.toStringTag,{value:"Module"})),KX=[{question:"What was the price of a barrel of oil in February 2015?",img:"VLAT1",name:"0",options:["$57.36","$47.82","$50.24","$39.72","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"line",originID:1,task:"Retrieve Value",CVR:1,P:.95,D:.07},{question:"In which month was the price of a barrel of oil the lowest in 2015?",img:"VLAT1",name:"1",options:["March","May","July","December","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"line",originID:2,task:"Find Extremum",CVR:1,P:.97,D:.06},{question:"What was the price range of a barrel of oil in 2015?",img:"VLAT1",name:"2",options:["$35 - $65","$48.36 - $60.95","$37.04 - $48.36","$37.04 - $60.95","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"line",originID:3,task:"Determine Range",CVR:1,P:.56,D:.66},{question:"Over the course of the second half of 2015, the price of a barrel of oil was",img:"VLAT1",name:"3",options:["Rising","Falling","Staying","Skip"],trueAnswer:1,answer:"",required:!0,chartType:"line",originID:4,task:"Find Correlations/Trends",CVR:1,P:.98,D:.03},{question:"About how much did the price of a barrel of oil fall from April to September in 2015?",img:"VLAT1",name:"4",options:["$4","$15","$17","$45","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"line",originID:5,task:"Make Comparisons",CVR:.2,P:.77,D:.44},{question:"What is the average internet speed in Japan?",img:"VLAT2",name:"5",options:["10 Mbps","14 Mbps","15 Mbps","16 Mbps","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"bar",originID:6,task:"Retrieve Value",CVR:1,P:.88,D:.21},{question:"In which country is the average internet speed the fastest in Asia?",img:"VLAT2",name:"6",options:["China","Hong Kong","South Korea","Vietnam","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"bar",originID:7,task:"Find Extremum",CVR:1,P:.98,D:.05},{question:"What is the range of the average internet speed in Asia?",img:"VLAT2",name:"7",options:["0 - 22 Mbps"," 2 - 20.5 Mbps","3 - 20 Mbps","3.4 - 7.8 Mbps","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"bar",originID:8,task:"Determine Range",CVR:.6,P:.54,D:.61},{question:"How many countries in Asia have an average internet speed that is slower than that of Thailand?",img:"VLAT2",name:"8",options:["5 Countries"," 6 Countries","7 Countries","8 Countries","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"bar",originID:9,task:"Make Comparisons",CVR:.2,P:.4,D:.23},{question:"What is the cost of peanuts in Las Vegas?",img:"VLAT3",name:"9",options:["$12"," $16.7","$23.4","$35.4","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"stackbar",originID:10,task:"Retrieve Value (Absolute Value)",CVR:.2,P:.38,D:.66},{question:"About what is the ratio of the cost of a sandwich to the total cost of room service in Seattle?",img:"VLAT3",name:"10",options:["1 to 10","2 to 10","4 to 10","6 to 10","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"stackbar",originID:11,task:"Retrieve Value (Relative Value)",CVR:.2,P:.36,D:.48},{question:"In which city is the cost of soda the highest?",img:"VLAT3",name:"11",options:["New York City","Las Vegas","Atlanta","Washington D.C.","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"stackbar",originID:12,task:"Find Extremum",CVR:.2,P:.69,D:.45},{question:"The cost of vodka in Atlanta is higher than that of Honolulu.",img:"VLAT3",name:"13",options:["True","False","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"stackbar",originID:14,task:"Make Comparisons (Absolute Value)",CVR:.2,P:.59,D:.52},{question:"The ratio of the cost of Soda to the cost of Water in Orlando is higher than in that of Washington D.C.",img:"VLAT3",name:"14",options:["True","False","Skip"],trueAnswer:1,answer:"",required:!0,chartType:"stackbar",originID:15,task:"Make Comparisons (Relative Value)",CVR:.2,P:.47,D:.32},{question:"What is the approval rating of Republicans among the people who have the education level of Postgraduate Study?",img:"VLAT4",name:"15",options:["38%","47%","53%","62%","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"100% stackbar",originID:16,task:"Retrieve Value (Relative Value)",CVR:1,P:.49,D:.57},{question:"What is the education level of people in which the Democrats have the lowest approval rating?",img:"VLAT4",name:"16",options:["High School Graduate or Less","Some College Degree","College Graduate","Postgraduate study","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"100% stackbar",originID:17,task:"Find Extremum (Relative Value)",CVR:.6,P:.9,D:.21},{question:"The approval rating of Republicans for the people who have the education level of Some College Degree is lower than that for the people who have the education level of Postgraduate Study.",img:"VLAT4",name:"17",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"100% stackbar",originID:18,task:"Make Comparisons (Relative Value)",CVR:1,P:.54,D:.54},{question:"About what is the global smartphone market share of Samsung?",img:"VLAT5",name:"18",options:["15%","25%","33%","50%","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"pie",originID:19,task:"Retrieve Value (Relative Value)",CVR:.6,P:.72,D:.34},{question:"In which company is the global smartphone market share the smallest?",img:"VLAT5",name:"19",options:["Apple","Xiaomi","Lenovo","Others","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"pie",originID:20,task:"Find Extremum (Relative Value)",CVR:.6,P:.98,D:.03},{question:"The global smartphone market share of Apple is larger than that of Huawei.",img:"VLAT5",name:"20",options:["True","False","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"pie",originID:21,task:"Make Comparisons (Relative Value)",CVR:.6,P:1,D:0},{question:"How many people have rated the taxi between 4.0 and 4.2?",img:"VLAT6",name:"21",options:["145","153","200","240","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"histogram",originID:22,task:"Retrieve Value (Derived Value)",CVR:1,P:.84,D:.26},{question:"What is the rating that the people have rated the taxi the most?",img:"VLAT6",name:"22",options:["4.2-4.4","4.4-4.6","4.6-4.8","4.8-5.0","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"histogram",originID:23,task:"Find Extremum (Derived Value)",CVR:1,P:.94,D:.06},{question:"More people have rated the taxi between 4.6 and 4.8 than between 4.2 and 4.4.",img:"VLAT6",name:"24",options:["True","False","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"histogram",originID:25,task:"Make Comparisons (Derived Value)",CVR:1,P:.86,D:.18},{question:"What is the weight for the person who is 165.1 cm tall?",img:"VLAT7",name:"26",options:["53.9kg","67.7kg","70.5kg","82.7kg","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"scatterplot",originID:27,task:"Retrieve Value",CVR:1,P:.85,D:.27},{question:"What is the height for the tallest person among the 85 males?",img:"VLAT7",name:"27",options:["175.3cm","192cm","197.1cm","200cm","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"scatterplot",originID:28,task:"Find Extremum",CVR:1,P:.76,D:.39},{question:"What is the range in weight for the 85 males?",img:"VLAT7",name:"28",options:["40 - 130kg","62.3 - 90.9kg","53.9 - 102.3kg","53.9 - 123.6kg","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"scatterplot",originID:29,task:"Determine Range",CVR:.6,P:.53,D:.49},{question:"What is the height for a person who lies outside the others the most?",img:"VLAT7",name:"30",options:["167.4cm","175.3cm","193cm","197.1cm","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"scatterplot",originID:31,task:"Find Anomalies",CVR:.6,P:.42,D:.29},{question:"A group of males are gathered around the height of 176 cm and the weight of 70 kg.",img:"VLAT7",name:"31",options:["True","False","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"scatterplot",originID:32,task:"Find Clusters",CVR:.2,P:.9,D:.23},{question:"There is a negative linear relationship between the height and the weight of the 85 males.",img:"VLAT7",name:"32",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"scatterplot",originID:33,task:"Find Correlations/Trends",CVR:1,P:.52,D:.66},{question:"The weights for males with the height of 188 cm are all the same.",img:"VLAT7",name:"33",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"scatterplot",originID:34,task:"Make Comparisons",CVR:.6,P:.79,D:.2},{question:"What was the average price of a pound of coffee beans in September 2013?",img:"VLAT8",name:"34",options:["$4.9","$5.0","$5.1","$5.2","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"area",originID:35,task:"Retrieve Value",CVR:1,P:.75,D:.34},{question:"When was the average price of a pound of coffee beans at minimum?",img:"VLAT8",name:"35",options:["April 2013","September 2013","June 2014","December 2014","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"area",originID:36,task:"Find Extremum",CVR:1,P:.44,D:.33},{question:"What was the range of the average price of a pound of coffee beans between January 2013 and December 2014?",img:"VLAT8",name:"36",options:["$4.4 - $6.2","$4.6 - $5.9","$4.6 - $6.0","$4.6 - $6.1","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"area",originID:37,task:"Determine Range",CVR:.6,P:.38,D:.31},{question:"Over the course of 2013, the average price of a pound of coffee beans was",img:"VLAT8",name:"37",options:["Rising","Falling","Staying","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"area",originID:38,task:"Find Correlations/Trends",CVR:1,P:.94,D:.14},{question:"What was the number of girls named 'Amelia' in 2010 in the UK?",img:"VLAT9",name:"39",options:["1500","3800","4200","8000","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"stackarea",originID:40,task:"Retrieve Value (Absolute Value)",CVR:.2,P:.15,D:.29},{question:"About what was the ratio of the number of girls named 'Olivia' to those named 'Isla' in 2014 in the UK?",img:"VLAT9",name:"40",options:["1 to 1","1 to 2","1 to 3","1 to 4","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"stackarea",originID:41,task:"Retrieve Value (Relative Value)",CVR:.6,P:.25,D:.29},{question:"Over the course of years between 2009 and 2014, when was the number of girls named 'Amelia' at the maximum?",img:"VLAT9",name:"41",options:["2009","2011","2012","2014","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"stackarea",originID:42,task:"Find Extremum",CVR:.6,P:.97,D:.04},{question:"The number of girls named 'Isla' was __________ from 2009 to 2012.",img:"VLAT9",name:"43",options:["Rising","Falling","Staying","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"stackarea",originID:44,task:"Find Correlations/Trends",CVR:1,P:.96,D:.09},{question:"In the UK, the number of girls named 'Amelia' in 2014 was more than it was in 2013.",img:"VLAT9",name:"44",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"stackarea",originID:45,task:"Make Comparisons (Absolute Value)",CVR:.6,P:.2,D:.17},{question:"Over the course of years between 2009 and 2014, the number of girls named 'Isla' was always more than 'Olivia'.",img:"VLAT9",name:"45",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"stackarea",originID:46,task:"Make Comparisons (Relative Value)",CVR:.2,P:.24,D:.2},{question:"What is the total length of the metro system in Beijing?",img:"VLAT10",name:"47",options:["330km","400km","530km","560km","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"bubble",originID:47,task:"Retrieve Value",CVR:1,P:.41,D:.46},{question:"Which city's metro system has the largest number of stations?",img:"VLAT10",name:"48",options:["Seoul","Beijing","New York City","Shanghai","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"bubble",originID:48,task:"Find Extremum",CVR:1,P:.69,D:.41},{question:"What is the range of the total length of the metro systems?",img:"VLAT10",name:"49",options:["150 - 600 km","240 - 380 km","240 - 560 km","180 - 560 km","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"bubble",originID:49,task:"Determine Range",CVR:.6,P:.29,D:.46},{question:"Which city's metro system does lie outside the relationship between the total system length and the number of stations most?",img:"VLAT10",name:"51",options:["Tokyo","New York City","Beijing","London","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"bubble",originID:51,task:"Find Anomalies",CVR:.2,P:.53,D:.32},{question:"A group of the metro systems of the world has approximately 300 stations and around a 200 km system length.",img:"VLAT10",name:"52",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"bubble",originID:52,task:"Find Clusters",CVR:.2,P:.59,D:.5},{question:"In general, the ridership of the metro system increases as the number of stations increases.",img:"VLAT10",name:"53",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"bubble",originID:53,task:"Find Correlations/Trends",CVR:.2,P:.26,D:.09},{question:"The metro system in Shanghai has more ridership than the metro system in Beijing.",img:"VLAT10",name:"54",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"bubble",originID:54,task:"Make Comparisons",CVR:1,P:.8,D:.33},{question:"What was the unemployment rate for Indiana (IN) in 2015?",img:"VLAT11",name:"55",options:["1.1 - 2.3%","2.3 - 3.4%","3.4 - 4.6%","4.6 - 5.7%","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"map",originID:55,task:"Retrieve Value (Approximate Value)",CVR:.6,P:.24,D:.01},{question:"In which state was the unemployment rate the highest in 2015?",img:"VLAT11",name:"56",options:["Alaska (AK)","New Mexico (NM)","Florida (FL)","New York (NY)","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"map",originID:56,task:"Find Extremum (Approximate Value)",CVR:.6,P:.97,D:.06},{question:"In 2015, the unemployment rate for Washington (WA) was higher than that of Wisconsin (WI).",img:"VLAT11",name:"57",options:["True","False","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"map",originID:57,task:"Make Comparisons (Approximate Value)",CVR:.6,P:.92,D:.15},{question:"For which website was the number of unique visitors the largest in 2010?",img:"VLAT12",name:"58",options:["Facebook","Amazon","Bing","Google","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"treemap",originID:59,task:"Find Extremum (Relative Value)",CVR:.6,P:.68,D:.37},{question:"The number of unique visitors for Amazon was more than that of Yahoo in 2010.",img:"VLAT12",name:"59",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"treemap",originID:60,task:"Make Comparisons (Relative Value)",CVR:.2,P:.42,D:.38},{question:"Samsung is nested in the Financial category.",img:"VLAT12",name:"60",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"treemap",originID:61,task:"Identify the Hierarchical Structure",CVR:1,P:.92,D:.13}],YSe=Object.freeze(Object.defineProperty({__proto__:null,VLATQuestions:KX},Symbol.toStringTag,{value:"Module"}));function Lht({parameters:e,setAnswer:t,answers:n}){const r="vlatResp",i=`dynamicBlock_1_VlatTrial_${e.qidx}`,s=n[i]?.answer?.[r],[o,a]=A.useState(s||""),[l,u]=A.useState(!1);A.useEffect(()=>{const h=Object.keys(n[i]?.incorrectAnswers||{}).length>0;u(h)},[n,i]),A.useEffect(()=>{t({status:!0,answers:{[r]:o,score:e.score}})},[o,e.score,t]);const c=KX.filter(h=>h.originID===e.activeQuestionIdx)[0],d=Object.assign({"./vlatImg/VLAT1.png":mht,"./vlatImg/VLAT10.png":yht,"./vlatImg/VLAT11.png":bht,"./vlatImg/VLAT12.png":xht,"./vlatImg/VLAT2.png":Cht,"./vlatImg/VLAT3.png":Sht,"./vlatImg/VLAT4.png":kht,"./vlatImg/VLAT5.png":Rht,"./vlatImg/VLAT6.png":Dht,"./vlatImg/VLAT7.png":Oht,"./vlatImg/VLAT8.png":$ht,"./vlatImg/VLAT9.png":Fht}),f={};if(!c)return b.jsx(De,{children:"Loading question..."});for(const h in d)if(h){const p=h.split("/").pop()?.replace(".png","")||"",m=d[h];f[p]=m.default}return b.jsx(De,{children:b.jsxs(fs,{children:[b.jsx(fs.Col,{span:8,children:b.jsx(E0,{radius:"sm",src:f[c.img]||"",alt:"VIS",w:"100%",maw:900})}),b.jsx(fs.Col,{span:4,pt:20,children:b.jsx(Za.Group,{name:"question",label:c.question,value:`${o}`,size:"md",children:b.jsx(zn,{mt:30,children:c.options.map((h,p)=>b.jsx(Za,{disabled:s!==void 0&&s!==""||l,value:`${String.fromCharCode(65+p)}`,label:`${String.fromCharCode(65+p)}. ${h}`,onClick:()=>a(String.fromCharCode(65+p))},`op${p}`))})})})]})})}const KSe=Object.freeze(Object.defineProperty({__proto__:null,default:Lht},Symbol.toStringTag,{value:"Module"}));function jht(e,t,n){const r=Math.sqrt(2*Math.PI);return e.map(i=>{const s=-((i-t)**2)/(2*n**2);return 1/(r*n)*Math.exp(s)})}function XX(e,t,n){return 1/(1+Math.exp(-e*(n+t)))}function Bht(e,t,n){return 1-XX(e,t,n)}function zht(e,t,n){const r=XX(e,t,n);return e**2*r*(1-r)}function Uht(e){const t={},n=new Set;for(const[r,i,s,o,a]of e)t[r]=[i,s,o,a],n.add(o),n.add(a);return[t,n]}function Vht(e,t,n){const r=(t-e)/(n-1);return Array.from({length:n},(i,s)=>e+s*r)}function Hht(e){const t=[[1,2.8483115,1.27221185,"Line","RV"],[2,3.040871,1.499349129,"Line","FE"],[3,.25584395,1.374537045,"Line","DR"],[4,3.4258115,1.468088919,"Line","FCT"],[5,1.3189766,1.137137131,"Line","MC"],[6,2.2163635,1.087065104,"Bar","RV"],[7,3.3441315,1.370983684,"Bar","FE"],[8,.1907385,1.072558537,"Bar","DR"],[9,-.766119,.565435838,"Bar","MC"],[10,-.483896,1.308078217,"Stacked","RV"],[11,-.878004,.748876272,"Stacked","RV"],[12,1.011948,.892274374,"Stacked","FE"],[14,.498654,.864483077,"Stacked","MC"],[15,-.2163795,.63115109,"Stacked","MC"],[16,-.021748,1.061661146,"100%","RV"],[17,2.1735685,1.260906618,"100%","FE"],[18,.1964695,1.006552927,"100%","MC"],[19,1.1781005,.952170323,"Pie","RV"],[20,3.4990835,1.266495326,"Pie","FE"],[21,4.577599,1.955349598,"Pie","MC"],[22,1.8068275,1.103396903,"Histogram","RV"],[23,2.825006,1.162700946,"Histogram","FE"],[25,2.1723395,.945254699,"Histogram","MC"],[27,1.85473395,1.128140859,"Scatterplot","RV"],[28,1.226966,1.183203925,"Scatterplot","FE"],[29,.184373,.910403565,"Scatterplot","DR"],[31,-.568358,.598194995,"Scatterplot","FA"],[32,2.1477415,1.293432284,"Scatterplot","FC"],[33,.093807,1.159459154,"Scatterplot","FCT"],[34,1.818106,.805688047,"Scatterplot","MC"],[35,1.3666385,.964108248,"Area","RV"],[36,-.4578085,.596634966,"Area","FE"],[37,-.945452,.576156905,"Area","DR"],[38,2.5183945,1.352297435,"Area","FCT"],[40,-2.567331,.727247878,"Stacked Area","RV"],[41,-1.6333105,.721289353,"Stacked Area","RV"],[42,3.0243125,1.39970206,"Stacked Area","FE"],[44,2.808996,1.391714903,"Stacked Area","FCT"],[45,-2.898462,.485882721,"Stacked Area","MC"],[46,-2.1752885,.564928587,"Stacked Area","MC"],[47,-.5241995,.741666943,"Bubble","RV"],[48,1.0380654,.89755236,"Bubble","FE"],[49,-1.1506875,.851390316,"Bubble","DR"],[51,.210506,.576817469,"Bubble","FA"],[52,.455853,.993160348,"Bubble","FC"],[53,-2.5113305,.431845454,"Bubble","FCT"],[54,1.4998025,1.154025598,"Bubble","MC"],[55,-3.2260095,.367490725,"Map","RV"],[56,3.1477645,1.401881342,"Map","FE"],[57,2.6187185,1.101469613,"Map","MC"],[59,.9082805,.949041643,"Tree","FE"],[60,-.5345505,.671887408,"Tree","MC"],[61,2.5394745,1.109762274,"Tree","ID"]],[n,r]=Uht(t),i=new Set,s=[[2.98530963],[2.26547287],[.47080041],[.96055864],[.97129651],[.85147839],[.49167494],[.32598163],[.23617328],[.75140709],[.4379747],[.89021346],[1.95678745],[.46671114],[.43121635],[.48382087],[.7061291],[.25740084],[.57526741],[.41269657],[.44926689],[.34097188],[.6853534],[2.06499294],[.35356854],[.5014103],[.60471721],[.35648783],[.55006742],[.7328309],[.58740872],[.07316467],[.37773089],[.25774662],[1.67778516],[.37425087],[.00468991],[.09117124],[-.072024],[.27787841],[.50850991],[.26712845],[.23313045],[.17836876],[-.06713018],[2.52157004],[.2163555],[.19764337],[.16053735],[.01037715],[.49067257],[.37890493],[.14471502],[-.15786205],[.37664253],[-.12646154],[1.48456846],[.11995221],[.45500459],[.06510908],[.30381369],[.23628236],[-.0132403],[.12346196],[-.16156058],[-.11441727],[-.09874702],[2.06170801],[.03819284],[-.33842136],[-.299268],[-.18361791],[-.27032307],[-.36719226],[-.63351759],[-.13235381],[-.32526859],[-.75094893],[2.00068807],[-.21555599],[-.29719866],[-.73570516],[-.96429984],[-.62994905],[-.5959251],[-.75414598],[-.91139529],[-.23647941],[-1.15477916],[2.13079529],[-1.19334718],[-1.17815316],[-.3703066],[-.86774687],[-.62753559],[-1.24836742],[-.73756034],[-.57090316],[-1.36838053],[-1.10974556],[1.79120327],[-.99938515],[-1.8725358],[2.81432538],[1.95511785],[1.82598207],[1.91495919],[1.64615882],[1.73761896],[1.74653664],[1.51736399],[1.48752685],[1.97221306],[1.19522668],[2.34740724],[1.54242075],[1.95637583],[1.65824094],[1.68725777],[1.97725808],[1.58887618],[1.51179316],[1.44743075],[1.63524539],[1.34980521],[2.94575102],[1.50590524],[1.58325844],[1.33751502],[.97699839],[1.17390674],[1.45071628],[.89705259],[1.26159178],[1.28050271],[1.2415599],[2.4859962],[1.52956813],[.9266179],[1.55897714],[1.66185973],[1.39525797],[1.02554983],[1.56911437],[1.08589595],[1.2344817],[1.0596063],[2.3289334],[.9177088],[.91794547],[1.03755144],[1.35990785],[1.13449186],[.97657427],[.61813711],[.94747231],[.83248912],[1.15351712],[2.19894252],[1.29781779],[1.0320319],[.95034002],[1.17618522],[.97588753],[.87400339],[1.08163796],[.94947705],[1.11457895],[.63173389],[2.29482725],[.90212167],[.87044902],[.22467558],[.79733281],[.31442579],[.38325478],[.70994584],[1.06667696],[.89253087],[.34143484],[2.14695731],[.84056897],[.88750332],[1.08639498],[.88874537],[.7858341],[.7279417],[.12745017],[.29013591],[.4602226],[.74735825]],o=s.reduce((g,y)=>g+y[0],0)/s.length,a=s.reduce((g,y)=>g+(y[0]-o)**2,0)/s.length,l=Math.sqrt(a),u=Vht(-5,5,200);let c=jht(u,o,l),d=o;if(Object.keys(e).length>0){for(const[g,y]of Object.entries(e)){const v=parseInt(g,10),[w,_,C,S]=n[v];r.delete(C),r.delete(S),i.add(`${C}::${S}`);const T=u.map(P=>y===0?Bht(_,w,P):XX(_,w,P)),k=c.map((P,N)=>P*T[N]),I=k.reduce((P,N)=>P+N,0);c=k.map(P=>P/I)}d=u.reduce((g,y,v)=>g+y*c[v],0)}const f={},h=27-Object.keys(e).length,p=(g,y)=>i.has(`${g}::${y}`);for(const[g,y]of Object.entries(n)){const v=parseInt(g,10),[w,_,C,S]=y,T=r.has(C)||r.has(S);Object.hasOwn(e,v)||(r.size===0||h>r.size&&!p(C,S)||h<=r.size&&T)&&(f[v]=zht(_,w,d))}const m=Object.entries(f).reduce((g,y)=>y[1]>g[1]?y:g)[0];return[parseInt(m,10),d]}function XSe(e,t){const n={};for(let s=0;s<e.length;s+=1)n[parseInt(e[s],10)]=t[s];const[r,i]=Hht(n);return[r,i]}const QSe=Object.freeze(Object.defineProperty({__proto__:null,getVLATnextqid:XSe},Symbol.toStringTag,{value:"Module"}));function qht({answers:e,currentStep:t,currentBlock:n}){const r="vlatResp",i=Object.entries(e).filter(([c,d])=>c.startsWith(`${n}_${t}`)&&d.endTime>-1),s=[],o=[];i.forEach(c=>{const d=c[1].parameters.activeQuestionIdx,f=c[1].answer[r]===c[1].correctAnswer[0].answer;s.push(d),o.push(f?1:0)});const[a,l]=XSe(s,o),u=+KX.filter(c=>c.originID===a)[0].trueAnswer;return i.length===27?{component:null}:{component:"$adaptive-vlat.components.VlatTrial",parameters:{activeQuestionIdx:a,qidx:s.length,score:l},correctAnswer:[{id:r,answer:String.fromCharCode(65+u)}]}}const JSe=Object.freeze(Object.defineProperty({__proto__:null,default:qht},Symbol.toStringTag,{value:"Module"}));function Wht({answers:e,currentStep:t,currentBlock:n}){const r=Object.entries(e).filter(([i,s])=>i.startsWith(`${n}_${t}`)&&s.endTime>-1);return r.length===0?{component:"$berlin-num.components.q1-choir-probability"}:r.length===1?{component:r[0][1]?.answer?.["q1-choir-probability"]===25?"$berlin-num.components.q2b-loaded-dice":"$berlin-num.components.q2a-dice-odd-numbers"}:r.length===2&&r[0][1]?.answer?.["q1-choir-probability"]===25?{component:r[1][1]?.answer?.["q2b-loaded-dice"]===20?null:"$berlin-num.components.q3-poisonous-mushrooms"}:{component:null}}const ZSe=Object.freeze(Object.defineProperty({__proto__:null,default:Wht},Symbol.toStringTag,{value:"Module"}));function QX({width:e=60,height:t=36,fps:n=30,fftSize:r=256,barColor:i="#FA5252",barWidth:s=2}){const o=A.useRef(null),a=A.useRef(null),l=A.useRef(null),u=A.useRef(null),c=A.useRef(0),d=A.useRef(null),[f,h]=A.useState(null);return A.useEffect(()=>{let p=0;const m=1e3/n,g=v=>{if(c.current=requestAnimationFrame(g),v-p<m)return;p=v;const w=o.current,_=l.current;if(!w||!_)return;const C=w.getContext("2d");if(!C)return;const S=_.fftSize,T=new Uint8Array(S);_.getByteTimeDomainData(T);const k=Math.max(...T)/128-1,I=C.getImageData(s/2,0,w.width-s/2,w.height);C.putImageData(I,0,0),C.clearRect(w.width-s,0,s,w.height);const R=(1-k)*(w.height/2);C.beginPath(),C.moveTo(w.width-s-10,w.height/2),C.lineTo(w.width-s,w.height/2),C.moveTo(w.width-s,w.height-R),C.lineTo(w.width-s,R),C.strokeStyle=i,C.lineWidth=s,C.stroke()};return(async()=>{const v=o.current;if(!v||!v.getContext("2d"))return;const _=window.devicePixelRatio||1;v.width=e*_,v.height=t*_,v.style.width=`${e}px`,v.style.height=`${t}px`;try{const C=await navigator.mediaDevices.getUserMedia({audio:!0});d.current=C;const S=new window.AudioContext;a.current=S;const T=S.createMediaStreamSource(C);u.current=T;const k=S.createAnalyser();l.current=k,k.fftSize=r,T.connect(k),c.current=requestAnimationFrame(g)}catch(C){console.error("Error accessing microphone:",C),C instanceof Error?h(`Error accessing microphone: ${C.message}. Please grant permission.`):h("An unknown error occurred while accessing the microphone.")}})(),()=>{cancelAnimationFrame(c.current),l.current&&l.current.disconnect(),u.current&&u.current.disconnect(),d.current&&d.current.getTracks().forEach(v=>v.stop()),a.current&&a.current.state!=="closed"&&a.current.close()}},[e,t,n,r,i,s]),b.jsxs(At,{children:[f&&b.jsx("p",{style:{color:"red",maxWidth:`${e}px`},children:f}),b.jsx("canvas",{ref:o})]})}function uce({setAnswer:e}){return A.useEffect(()=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(n=>{new MediaRecorder(n).start();const i=new AudioContext,s=i.createMediaStreamSource(n),o=i.createAnalyser();o.minDecibels=-45,s.connect(o);const a=o.frequencyBinCount,l=new Uint8Array(a);let u=!1;const c=()=>{if(!u){o.getByteFrequencyData(l);for(let d=0;d<a;d+=1)l[d]>0&&(u=!0,e({status:!0,provenanceGraph:void 0,answers:{audioTest:!0}}));window.requestAnimationFrame(c)}};window.requestAnimationFrame(c)})},[e]),b.jsx(So,{style:{height:"70%",width:"100%"},children:b.jsxs(zn,{children:[b.jsx(He,{ta:"center",children:"Please allow us to access your microphone. There may be a popup in your browser window asking for access, click accept."}),b.jsx(He,{ta:"center",children:"Once we can confirm that your microphone is on and we hear you say something, the continue button will become available."}),b.jsx(He,{ta:"center",style:{fontWeight:700},children:"If you are not comfortable or able to speak English during this study, please return the study."}),b.jsx(So,{children:b.jsx(QX,{height:200,width:400})})]})})}const eTe=Object.freeze(Object.defineProperty({__proto__:null,AudioTest:uce,default:uce},Symbol.toStringTag,{value:"Module"}));function da(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Ght=typeof Symbol=="function"&&Symbol.observable||"@@observable",cce=Ght,N9=()=>Math.random().toString(36).substring(7).split("").join("."),Yht={INIT:`@@redux/INIT${N9()}`,REPLACE:`@@redux/REPLACE${N9()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${N9()}`},zN=Yht;function JX(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function tTe(e,t,n){if(typeof e!="function")throw new Error(da(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(da(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(da(1));return n(tTe)(e,t)}let r=e,i=t,s=new Map,o=s,a=0,l=!1;function u(){o===s&&(o=new Map,s.forEach((g,y)=>{o.set(y,g)}))}function c(){if(l)throw new Error(da(3));return i}function d(g){if(typeof g!="function")throw new Error(da(4));if(l)throw new Error(da(5));let y=!0;u();const v=a++;return o.set(v,g),function(){if(y){if(l)throw new Error(da(6));y=!1,u(),o.delete(v),s=null}}}function f(g){if(!JX(g))throw new Error(da(7));if(typeof g.type>"u")throw new Error(da(8));if(typeof g.type!="string")throw new Error(da(17));if(l)throw new Error(da(9));try{l=!0,i=r(i,g)}finally{l=!1}return(s=o).forEach(v=>{v()}),g}function h(g){if(typeof g!="function")throw new Error(da(10));r=g,f({type:zN.REPLACE})}function p(){const g=d;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(da(11));function v(){const _=y;_.next&&_.next(c())}return v(),{unsubscribe:g(v)}},[cce](){return this}}}return f({type:zN.INIT}),{dispatch:f,subscribe:d,getState:c,replaceReducer:h,[cce]:p}}function Kht(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:zN.INIT})>"u")throw new Error(da(12));if(typeof n(void 0,{type:zN.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(da(13))})}function Xht(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{Kht(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const d=r[c],f=n[d],h=o[d],p=f(h,a);if(typeof p>"u")throw a&&a.type,new Error(da(14));u[d]=p,l=l||p!==h}return l=l||r.length!==Object.keys(o).length,l?u:o}}function UN(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Qht(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(da(15))};const o={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},a=e.map(l=>l(o));return s=UN(...a)(i.dispatch),{...i,dispatch:s}}}function Jht(e){return JX(e)&&"type"in e&&typeof e.type=="string"}var nTe=Symbol.for("immer-nothing"),dce=Symbol.for("immer-draftable"),ic=Symbol.for("immer-state");function Zd(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var C_=Object.getPrototypeOf;function q1(e){return!!e&&!!e[ic]}function Zm(e){return e?rTe(e)||Array.isArray(e)||!!e[dce]||!!e.constructor?.[dce]||RA(e)||k$(e):!1}var Zht=Object.prototype.constructor.toString();function rTe(e){if(!e||typeof e!="object")return!1;const t=C_(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Zht}function VN(e,t){T$(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function T$(e){const t=e[ic];return t?t.type_:Array.isArray(e)?1:RA(e)?2:k$(e)?3:0}function nH(e,t){return T$(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function iTe(e,t,n){const r=T$(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function ept(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function RA(e){return e instanceof Map}function k$(e){return e instanceof Set}function Kv(e){return e.copy_||e.base_}function rH(e,t){if(RA(e))return new Map(e);if(k$(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=rTe(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[ic];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(C_(e),r)}else{const r=C_(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function ZX(e,t=!1){return A$(e)||q1(e)||!Zm(e)||(T$(e)>1&&Object.defineProperties(e,{set:{value:hD},add:{value:hD},clear:{value:hD},delete:{value:hD}}),Object.freeze(e),t&&Object.values(e).forEach(n=>ZX(n,!0))),e}function hD(){Zd(2)}function A$(e){return Object.isFrozen(e)}var tpt={};function W1(e){const t=tpt[e];return t||Zd(0,e),t}var WT;function sTe(){return WT}function npt(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function fce(e,t){t&&(W1("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function iH(e){sH(e),e.drafts_.forEach(rpt),e.drafts_=null}function sH(e){e===WT&&(WT=e.parent_)}function hce(e){return WT=npt(WT,e)}function rpt(e){const t=e[ic];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function pce(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[ic].modified_&&(iH(t),Zd(4)),Zm(e)&&(e=HN(t,e),t.parent_||qN(t,e)),t.patches_&&W1("Patches").generateReplacementPatches_(n[ic].base_,e,t.patches_,t.inversePatches_)):e=HN(t,n,[]),iH(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==nTe?e:void 0}function HN(e,t,n){if(A$(t))return t;const r=t[ic];if(!r)return VN(t,(i,s)=>mce(e,r,t,i,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return qN(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),VN(s,(a,l)=>mce(e,r,i,a,l,n,o)),qN(e,i,!1),n&&e.patches_&&W1("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function mce(e,t,n,r,i,s,o){if(q1(i)){const a=s&&t&&t.type_!==3&&!nH(t.assigned_,r)?s.concat(r):void 0,l=HN(e,i,a);if(iTe(n,r,l),q1(l))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Zm(i)&&!A$(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;HN(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(RA(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&qN(e,i)}}function qN(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ZX(t,n)}function ipt(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:sTe(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=eQ;n&&(i=[r],s=GT);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var eQ={get(e,t){if(t===ic)return e;const n=Kv(e);if(!nH(n,t))return spt(e,n,t);const r=n[t];return e.finalized_||!Zm(r)?r:r===$9(e.base_,t)?(M9(e),e.copy_[t]=aH(r,e)):r},has(e,t){return t in Kv(e)},ownKeys(e){return Reflect.ownKeys(Kv(e))},set(e,t,n){const r=oTe(Kv(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=$9(Kv(e),t),s=i?.[ic];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(ept(n,i)&&(n!==void 0||nH(e.base_,t)))return!0;M9(e),oH(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return $9(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,M9(e),oH(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Kv(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Zd(11)},getPrototypeOf(e){return C_(e.base_)},setPrototypeOf(){Zd(12)}},GT={};VN(eQ,(e,t)=>{GT[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});GT.deleteProperty=function(e,t){return GT.set.call(this,e,t,void 0)};GT.set=function(e,t,n){return eQ.set.call(this,e[0],t,n,e[0])};function $9(e,t){const n=e[ic];return(n?Kv(n):e)[t]}function spt(e,t,n){const r=oTe(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function oTe(e,t){if(!(t in e))return;let n=C_(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=C_(n)}}function oH(e){e.modified_||(e.modified_=!0,e.parent_&&oH(e.parent_))}function M9(e){e.copy_||(e.copy_=rH(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var opt=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const o=this;return function(l=s,...u){return o.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&Zd(6),r!==void 0&&typeof r!="function"&&Zd(7);let i;if(Zm(t)){const s=hce(this),o=aH(t,void 0);let a=!0;try{i=n(o),a=!1}finally{a?iH(s):sH(s)}return fce(s,r),pce(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===nTe&&(i=void 0),this.autoFreeze_&&ZX(i,!0),r){const s=[],o=[];W1("Patches").generateReplacementPatches_(t,i,s,o),r(s,o)}return i}else Zd(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,l=>t(l,...a));let r,i;return[this.produce(t,n,(o,a)=>{r=o,i=a}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Zm(e)||Zd(8),q1(e)&&(e=apt(e));const t=hce(this),n=aH(e,void 0);return n[ic].isManual_=!0,sH(t),n}finishDraft(e,t){const n=e&&e[ic];(!n||!n.isManual_)&&Zd(9);const{scope_:r}=n;return fce(r,t),pce(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=W1("Patches").applyPatches_;return q1(e)?r(e,t):this.produce(e,i=>r(i,t))}};function aH(e,t){const n=RA(e)?W1("MapSet").proxyMap_(e,t):k$(e)?W1("MapSet").proxySet_(e,t):ipt(e,t);return(t?t.scope_:sTe()).drafts_.push(n),n}function apt(e){return q1(e)||Zd(10,e),aTe(e)}function aTe(e){if(!Zm(e)||A$(e))return e;const t=e[ic];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=rH(e,t.scope_.immer_.useStrictShallowCopy_)}else n=rH(e,!0);return VN(n,(r,i)=>{iTe(n,r,aTe(i))}),t&&(t.finalized_=!1),n}var lpt=new opt,lTe=lpt.produce;function upt(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function cpt(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function dpt(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var gce=e=>Array.isArray(e)?e:[e];function fpt(e){const t=Array.isArray(e[0])?e[0]:e;return dpt(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function hpt(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var ppt=class{constructor(e){this.value=e}deref(){return this.value}},mpt=typeof WeakRef<"u"?WeakRef:ppt,gpt=0,yce=1;function pD(){return{s:gpt,v:void 0,o:null,p:null}}function uTe(e,t={}){let n=pD();const{resultEqualityCheck:r}=t;let i,s=0;function o(){let a=n;const{length:l}=arguments;for(let d=0,f=l;d<f;d++){const h=arguments[d];if(typeof h=="function"||typeof h=="object"&&h!==null){let p=a.o;p===null&&(a.o=p=new WeakMap);const m=p.get(h);m===void 0?(a=pD(),p.set(h,a)):a=m}else{let p=a.p;p===null&&(a.p=p=new Map);const m=p.get(h);m===void 0?(a=pD(),p.set(h,a)):a=m}}const u=a;let c;if(a.s===yce)c=a.v;else if(c=e.apply(null,arguments),s++,r){const d=i?.deref?.()??i;d!=null&&r(d,c)&&(c=d,s!==0&&s--),i=typeof c=="object"&&c!==null||typeof c=="function"?new mpt(c):c}return u.s=yce,u.v=c,c}return o.clearCache=()=>{n=pD(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function ypt(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let s=0,o=0,a,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),upt(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:d,memoizeOptions:f=[],argsMemoize:h=uTe,argsMemoizeOptions:p=[]}=c,m=gce(f),g=gce(p),y=fpt(i),v=d(function(){return s++,u.apply(null,arguments)},...m),w=h(function(){o++;const C=hpt(y,arguments);return a=v.apply(null,C),a},...g);return Object.assign(w,{resultFunc:u,memoizedResultFunc:v,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:h})};return Object.assign(r,{withTypes:()=>r}),r}var cTe=ypt(uTe),vpt=Object.assign((e,t=cTe)=>{cpt(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((o,a,l)=>(o[n[l]]=a,o),{}))},{withTypes:()=>vpt});function dTe(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var bpt=dTe(),wpt=dTe,xpt=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?UN:UN.apply(null,arguments)};function vce(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Mm(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>Jht(r)&&r.type===e,n}var fTe=class iS extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,iS.prototype)}static get[Symbol.species](){return iS}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new iS(...t[0].concat(this)):new iS(...t.concat(this))}};function bce(e){return Zm(e)?lTe(e,()=>{}):e}function mD(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function _pt(e){return typeof e=="boolean"}var Cpt=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let o=new fTe;return n&&(_pt(n)?o.push(bpt):o.push(wpt(n.extraArgument))),o},Ept="RTK_autoBatch",wce=e=>t=>{setTimeout(t,e)},Spt=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,o=!1;const a=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:wce(10):e.type==="callback"?e.queueNotification:wce(e.timeout),u=()=>{o=!1,s&&(s=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const d=()=>i&&c(),f=r.subscribe(d);return a.add(c),()=>{f(),a.delete(c)}},dispatch(c){try{return i=!c?.meta?.[Ept],s=!i,s&&(o||(o=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},Tpt=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new fTe(e);return r&&i.push(Spt(typeof r=="object"?r:void 0)),i};function kpt(e){const t=Cpt(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let a;if(typeof n=="function")a=n;else if(JX(n))a=Xht(n);else throw new Error(Mm(1));let l;typeof r=="function"?l=r(t):l=t();let u=UN;i&&(u=xpt({trace:!1,...typeof i=="object"&&i}));const c=Qht(...l),d=Tpt(c);let f=typeof o=="function"?o(d):d();const h=u(...f);return tTe(a,s,h)}function hTe(e){const t={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(Mm(28));if(a in t)throw new Error(Mm(29));return t[a]=o,i},addAsyncThunk(s,o){return o.pending&&(t[s.pending.type]=o.pending),o.rejected&&(t[s.rejected.type]=o.rejected),o.fulfilled&&(t[s.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:s.settled,reducer:o.settled}),i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}function Apt(e){return typeof e=="function"}function Rpt(e,t){let[n,r,i]=hTe(t),s;if(Apt(e))s=()=>bce(e());else{const a=bce(e);s=()=>a}function o(a=s(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(q1(c)){const h=d(c,l);return h===void 0?c:h}else{if(Zm(c))return lTe(c,f=>d(f,l));{const f=d(c,l);if(f===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return c},a)}return o.getInitialState=s,o}var Ipt=Symbol.for("rtk-slice-createasyncthunk");function Dpt(e,t){return`${e}/${t}`}function Ppt({creators:e}={}){const t=e?.asyncThunk?.[Ipt];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(Mm(11));const o=(typeof r.reducers=="function"?r.reducers($pt()):r.reducers)||{},a=Object.keys(o),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(w,_){const C=typeof w=="string"?w:w.type;if(!C)throw new Error(Mm(12));if(C in l.sliceCaseReducersByType)throw new Error(Mm(13));return l.sliceCaseReducersByType[C]=_,u},addMatcher(w,_){return l.sliceMatchers.push({matcher:w,reducer:_}),u},exposeAction(w,_){return l.actionCreators[w]=_,u},exposeCaseReducer(w,_){return l.sliceCaseReducersByName[w]=_,u}};a.forEach(w=>{const _=o[w],C={reducerName:w,type:Dpt(i,w),createNotation:typeof r.reducers=="function"};Fpt(_)?jpt(C,_,u,t):Mpt(C,_,u)});function c(){const[w={},_=[],C=void 0]=typeof r.extraReducers=="function"?hTe(r.extraReducers):[r.extraReducers],S={...w,...l.sliceCaseReducersByType};return Rpt(r.initialState,T=>{for(let k in S)T.addCase(k,S[k]);for(let k of l.sliceMatchers)T.addMatcher(k.matcher,k.reducer);for(let k of _)T.addMatcher(k.matcher,k.reducer);C&&T.addDefaultCase(C)})}const d=w=>w,f=new Map,h=new WeakMap;let p;function m(w,_){return p||(p=c()),p(w,_)}function g(){return p||(p=c()),p.getInitialState()}function y(w,_=!1){function C(T){let k=T[w];return typeof k>"u"&&_&&(k=mD(h,C,g)),k}function S(T=d){const k=mD(f,_,()=>new WeakMap);return mD(k,T,()=>{const I={};for(const[R,P]of Object.entries(r.selectors??{}))I[R]=Opt(P,T,()=>mD(h,T,g),_);return I})}return{reducerPath:w,getSelectors:S,get selectors(){return S(C)},selectSlice:C}}const v={name:i,reducer:m,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:g,...y(s),injectInto(w,{reducerPath:_,...C}={}){const S=_??s;return w.inject({reducerPath:S,reducer:m},C),{...v,...y(S,!0)}}};return v}}function Opt(e,t,n,r){function i(s,...o){let a=t(s);return typeof a>"u"&&r&&(a=n()),e(a,...o)}return i.unwrapped=e,i}var Npt=Ppt();function $pt(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Mpt({type:e,reducerName:t,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!Lpt(r))throw new Error(Mm(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?vce(e,o):vce(e))}function Fpt(e){return e._reducerDefinitionType==="asyncThunk"}function Lpt(e){return e._reducerDefinitionType==="reducerWithPrepare"}function jpt({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Mm(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:u,options:c}=n,d=i(e,s,c);r.exposeAction(t,d),o&&r.addCase(d.fulfilled,o),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(t,{fulfilled:o||gD,pending:a||gD,rejected:l||gD,settled:u||gD})}function gD(){}function Mm(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}function R$(e){return e.baseComponent!==void 0}function sd(e){return e.order==="dynamic"}function od(e){return sd(e)?[e.id]:e.components.flatMap(t=>typeof t=="string"?t:od(t))}function pTe(e){return sd(e)?[e]:e.components.flatMap(t=>typeof t=="string"?[]:pTe(t))}function lH(e,t){return pTe(t).find(r=>r.id===e)}function mTe(e){return sd(e)?[]:[...e.components.flatMap(t=>typeof t=="string"?t:sd(t)?[]:mTe(t)),...e.interruptions?.flatMap(t=>t.components)||[]]}function gTe(e,t,n){let r=0;for(let i=0;i<e.components.length;i+=1){const s=e.components[i];if(typeof s=="string"){if(typeof t=="number"&&t===n+r)return[{currentBlock:e,firstIndex:n,lastIndex:n+od(e).length-1}];if(typeof t=="string"&&e.orderPath===t)return[{currentBlock:e,firstIndex:n,lastIndex:n+od(e).length-1}];r+=1}else{const o=gTe(s,t,n+r);if(typeof o=="number")r+=o;else{const a={currentBlock:e,firstIndex:n,lastIndex:o[0].lastIndex};return[...o,a]}}}return r}function yTe(e,t){const n=gTe(e,t,0);return typeof n=="number"?null:n}function vTe(e,t,n){if(e.id===t)return{found:!0,distance:n};let r=0;for(let i=0;i<e.components.length;i+=1){const s=e.components[i];if(typeof s=="string")r+=1;else{const o=vTe(s,t,n+r);if(o.found)return o;r+=o.distance}}return{found:!1,distance:r}}function Bpt(e,t){const n=vTe(e,t,0);return n.found?n.distance:-1}function tQ(e,t){return typeof e=="string"?e:sd(e)?{...e,orderPath:t,components:[]}:{...e,orderPath:t,order:e.order,components:e.components.map((n,r)=>tQ(n,`${t}-${r}`))}}var sS={exports:{}};sS.exports;var xce;function zpt(){return xce||(xce=1,(function(e,t){var n=200,r="__lodash_hash_undefined__",i=800,s=16,o=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Function]",p="[object GeneratorFunction]",m="[object Map]",g="[object Number]",y="[object Null]",v="[object Object]",w="[object Proxy]",_="[object RegExp]",C="[object Set]",S="[object String]",T="[object Undefined]",k="[object WeakMap]",I="[object ArrayBuffer]",R="[object DataView]",P="[object Float32Array]",N="[object Float64Array]",$="[object Int8Array]",O="[object Int16Array]",j="[object Int32Array]",B="[object Uint8Array]",H="[object Uint8ClampedArray]",q="[object Uint16Array]",Y="[object Uint32Array]",V=/[\\^$.*+?()[\]{}|]/g,L=/^\[object .+?Constructor\]$/,z=/^(?:0|[1-9]\d*)$/,U={};U[P]=U[N]=U[$]=U[O]=U[j]=U[B]=U[H]=U[q]=U[Y]=!0,U[a]=U[l]=U[I]=U[c]=U[R]=U[d]=U[f]=U[h]=U[m]=U[g]=U[v]=U[_]=U[C]=U[S]=U[k]=!1;var G=typeof Si=="object"&&Si&&Si.Object===Object&&Si,Q=typeof self=="object"&&self&&self.Object===Object&&self,ne=G||Q||Function("return this")(),ue=t&&!t.nodeType&&t,se=ue&&!0&&e&&!e.nodeType&&e,ae=se&&se.exports===ue,he=ae&&G.process,ie=(function(){try{var oe=se&&se.require&&se.require("util").types;return oe||he&&he.binding&&he.binding("util")}catch{}})(),le=ie&&ie.isTypedArray;function Ee(oe,ve,Me){switch(Me.length){case 0:return oe.call(ve);case 1:return oe.call(ve,Me[0]);case 2:return oe.call(ve,Me[0],Me[1]);case 3:return oe.call(ve,Me[0],Me[1],Me[2])}return oe.apply(ve,Me)}function X(oe,ve){for(var Me=-1,kt=Array(oe);++Me<oe;)kt[Me]=ve(Me);return kt}function fe(oe){return function(ve){return oe(ve)}}function de(oe,ve){return oe?.[ve]}function te(oe,ve){return function(Me){return oe(ve(Me))}}var ee=Array.prototype,me=Function.prototype,Re=Object.prototype,Te=ne["__core-js_shared__"],we=me.toString,$e=Re.hasOwnProperty,Ae=(function(){var oe=/[^.]+$/.exec(Te&&Te.keys&&Te.keys.IE_PROTO||"");return oe?"Symbol(src)_1."+oe:""})(),Oe=Re.toString,xe=we.call(Object),je=RegExp("^"+we.call($e).replace(V,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ue=ae?ne.Buffer:void 0,nt=ne.Symbol,it=ne.Uint8Array;Ue&&Ue.allocUnsafe;var wt=te(Object.getPrototypeOf,Object),Zt=Object.create,Qt=Re.propertyIsEnumerable,Mn=ee.splice,jt=nt?nt.toStringTag:void 0,gn=(function(){try{var oe=pt(Object,"defineProperty");return oe({},"",{}),oe}catch{}})(),Kn=Ue?Ue.isBuffer:void 0,Un=Math.max,Dr=Date.now,Jn=pt(ne,"Map"),br=pt(Object,"create"),Rn=(function(){function oe(){}return function(ve){if(!Kl(ve))return{};if(Zt)return Zt(ve);oe.prototype=ve;var Me=new oe;return oe.prototype=void 0,Me}})();function fn(oe){var ve=-1,Me=oe==null?0:oe.length;for(this.clear();++ve<Me;){var kt=oe[ve];this.set(kt[0],kt[1])}}function sr(){this.__data__=br?br(null):{},this.size=0}function ui(oe){var ve=this.has(oe)&&delete this.__data__[oe];return this.size-=ve?1:0,ve}function _r(oe){var ve=this.__data__;if(br){var Me=ve[oe];return Me===r?void 0:Me}return $e.call(ve,oe)?ve[oe]:void 0}function In(oe){var ve=this.__data__;return br?ve[oe]!==void 0:$e.call(ve,oe)}function ht(oe,ve){var Me=this.__data__;return this.size+=this.has(oe)?0:1,Me[oe]=br&&ve===void 0?r:ve,this}fn.prototype.clear=sr,fn.prototype.delete=ui,fn.prototype.get=_r,fn.prototype.has=In,fn.prototype.set=ht;function pr(oe){var ve=-1,Me=oe==null?0:oe.length;for(this.clear();++ve<Me;){var kt=oe[ve];this.set(kt[0],kt[1])}}function Yt(){this.__data__=[],this.size=0}function tr(oe){var ve=this.__data__,Me=$u(ve,oe);if(Me<0)return!1;var kt=ve.length-1;return Me==kt?ve.pop():Mn.call(ve,Me,1),--this.size,!0}function pn(oe){var ve=this.__data__,Me=$u(ve,oe);return Me<0?void 0:ve[Me][1]}function Qn(oe){return $u(this.__data__,oe)>-1}function Cr(oe,ve){var Me=this.__data__,kt=$u(Me,oe);return kt<0?(++this.size,Me.push([oe,ve])):Me[kt][1]=ve,this}pr.prototype.clear=Yt,pr.prototype.delete=tr,pr.prototype.get=pn,pr.prototype.has=Qn,pr.prototype.set=Cr;function Pr(oe){var ve=-1,Me=oe==null?0:oe.length;for(this.clear();++ve<Me;){var kt=oe[ve];this.set(kt[0],kt[1])}}function Or(){this.size=0,this.__data__={hash:new fn,map:new(Jn||pr),string:new fn}}function oo(oe){var ve=ct(this,oe).delete(oe);return this.size-=ve?1:0,ve}function ka(oe){return ct(this,oe).get(oe)}function Nu(oe){return ct(this,oe).has(oe)}function vc(oe,ve){var Me=ct(this,oe),kt=Me.size;return Me.set(oe,ve),this.size+=Me.size==kt?0:1,this}Pr.prototype.clear=Or,Pr.prototype.delete=oo,Pr.prototype.get=ka,Pr.prototype.has=Nu,Pr.prototype.set=vc;function Vn(oe){var ve=this.__data__=new pr(oe);this.size=ve.size}function Bi(){this.__data__=new pr,this.size=0}function ao(oe){var ve=this.__data__,Me=ve.delete(oe);return this.size=ve.size,Me}function ch(oe){return this.__data__.get(oe)}function Id(oe){return this.__data__.has(oe)}function bc(oe,ve){var Me=this.__data__;if(Me instanceof pr){var kt=Me.__data__;if(!Jn||kt.length<n-1)return kt.push([oe,ve]),this.size=++Me.size,this;Me=this.__data__=new Pr(kt)}return Me.set(oe,ve),this.size=Me.size,this}Vn.prototype.clear=Bi,Vn.prototype.delete=ao,Vn.prototype.get=ch,Vn.prototype.has=Id,Vn.prototype.set=bc;function wc(oe,ve){var Me=Di(oe),kt=!Me&&zi(oe),$t=!Me&&!kt&&Xs(oe),yn=!Me&&!kt&&!$t&&gh(oe),jn=Me||kt||$t||yn,rn=jn?X(oe.length,String):[],_n=rn.length;for(var lr in oe)jn&&(lr=="length"||$t&&(lr=="offset"||lr=="parent")||yn&&(lr=="buffer"||lr=="byteLength"||lr=="byteOffset")||qt(lr,_n))||rn.push(lr);return rn}function lo(oe,ve,Me){(Me!==void 0&&!uo(oe[ve],Me)||Me===void 0&&!(ve in oe))&&mr(oe,ve,Me)}function dh(oe,ve,Me){var kt=oe[ve];(!($e.call(oe,ve)&&uo(kt,Me))||Me===void 0&&!(ve in oe))&&mr(oe,ve,Me)}function $u(oe,ve){for(var Me=oe.length;Me--;)if(uo(oe[Me][0],ve))return Me;return-1}function mr(oe,ve,Me){ve=="__proto__"&&gn?gn(oe,ve,{configurable:!0,enumerable:!0,value:Me,writable:!0}):oe[ve]=Me}var Dd=rt();function Rs(oe){return oe==null?oe===void 0?T:y:jt&&jt in Object(oe)?dt(oe):Os(oe)}function Io(oe){return as(oe)&&Rs(oe)==a}function Is(oe){if(!Kl(oe)||Zn(oe))return!1;var ve=Ra(oe)?je:L;return ve.test(ph(oe))}function Mu(oe){return as(oe)&&mh(oe.length)&&!!U[Rs(oe)]}function ta(oe){if(!Kl(oe))return ur(oe);var ve=en(oe),Me=[];for(var kt in oe)kt=="constructor"&&(ve||!$e.call(oe,kt))||Me.push(kt);return Me}function Yl(oe,ve,Me,kt,$t){oe!==ve&&Dd(ve,function(yn,jn){if($t||($t=new Vn),Kl(yn))Ds(oe,ve,jn,Me,Yl,kt,$t);else{var rn=kt?kt(Ns(oe,jn),yn,jn+"",oe,ve,$t):void 0;rn===void 0&&(rn=yn),lo(oe,jn,rn)}},Fu)}function Ds(oe,ve,Me,kt,$t,yn,jn){var rn=Ns(oe,Me),_n=Ns(ve,Me),lr=jn.get(_n);if(lr){lo(oe,Me,lr);return}var ti=yn?yn(rn,_n,Me+"",oe,ve,jn):void 0,ci=ti===void 0;if(ci){var Ei=Di(_n),gs=!Ei&&Xs(_n),di=!Ei&&!gs&&gh(_n);ti=_n,Ei||gs||di?Di(rn)?ti=rn:_c(rn)?ti=Be(rn):gs?(ci=!1,ti=ge(_n)):di?(ci=!1,ti=_e(_n)):ti=[]:U0(_n)||zi(_n)?(ti=rn,zi(rn)?ti=na(rn):(!Kl(rn)||Ra(rn))&&(ti=Et(_n))):ci=!1}ci&&(jn.set(_n,ti),$t(ti,_n,kt,yn,jn),jn.delete(_n)),lo(oe,Me,ti)}function fh(oe,ve){return hh(Aa(oe,ve,Ia),oe+"")}var Ps=gn?function(oe,ve){return gn(oe,"toString",{configurable:!0,enumerable:!1,value:dl(ve),writable:!0})}:Ia;function ge(oe,ve){return oe.slice()}function Ne(oe){var ve=new oe.constructor(oe.byteLength);return new it(ve).set(new it(oe)),ve}function _e(oe,ve){var Me=Ne(oe.buffer);return new oe.constructor(Me,oe.byteOffset,oe.length)}function Be(oe,ve){var Me=-1,kt=oe.length;for(ve||(ve=Array(kt));++Me<kt;)ve[Me]=oe[Me];return ve}function Ve(oe,ve,Me,kt){var $t=!Me;Me||(Me={});for(var yn=-1,jn=ve.length;++yn<jn;){var rn=ve[yn],_n=void 0;_n===void 0&&(_n=oe[rn]),$t?mr(Me,rn,_n):dh(Me,rn,_n)}return Me}function Le(oe){return fh(function(ve,Me){var kt=-1,$t=Me.length,yn=$t>1?Me[$t-1]:void 0,jn=$t>2?Me[2]:void 0;for(yn=oe.length>3&&typeof yn=="function"?($t--,yn):void 0,jn&&Fn(Me[0],Me[1],jn)&&(yn=$t<3?void 0:yn,$t=1),ve=Object(ve);++kt<$t;){var rn=Me[kt];rn&&oe(ve,rn,kt,yn)}return ve})}function rt(oe){return function(ve,Me,kt){for(var $t=-1,yn=Object(ve),jn=kt(ve),rn=jn.length;rn--;){var _n=jn[++$t];if(Me(yn[_n],_n,yn)===!1)break}return ve}}function ct(oe,ve){var Me=oe.__data__;return on(ve)?Me[typeof ve=="string"?"string":"hash"]:Me.map}function pt(oe,ve){var Me=de(oe,ve);return Is(Me)?Me:void 0}function dt(oe){var ve=$e.call(oe,jt),Me=oe[jt];try{oe[jt]=void 0;var kt=!0}catch{}var $t=Oe.call(oe);return kt&&(ve?oe[jt]=Me:delete oe[jt]),$t}function Et(oe){return typeof oe.constructor=="function"&&!en(oe)?Rn(wt(oe)):{}}function qt(oe,ve){var Me=typeof oe;return ve=ve??o,!!ve&&(Me=="number"||Me!="symbol"&&z.test(oe))&&oe>-1&&oe%1==0&&oe<ve}function Fn(oe,ve,Me){if(!Kl(Me))return!1;var kt=typeof ve;return(kt=="number"?Do(Me)&&qt(ve,Me.length):kt=="string"&&ve in Me)?uo(Me[ve],oe):!1}function on(oe){var ve=typeof oe;return ve=="string"||ve=="number"||ve=="symbol"||ve=="boolean"?oe!=="__proto__":oe===null}function Zn(oe){return!!Ae&&Ae in oe}function en(oe){var ve=oe&&oe.constructor,Me=typeof ve=="function"&&ve.prototype||Re;return oe===Me}function ur(oe){var ve=[];if(oe!=null)for(var Me in Object(oe))ve.push(Me);return ve}function Os(oe){return Oe.call(oe)}function Aa(oe,ve,Me){return ve=Un(ve===void 0?oe.length-1:ve,0),function(){for(var kt=arguments,$t=-1,yn=Un(kt.length-ve,0),jn=Array(yn);++$t<yn;)jn[$t]=kt[ve+$t];$t=-1;for(var rn=Array(ve+1);++$t<ve;)rn[$t]=kt[$t];return rn[ve]=Me(jn),Ee(oe,this,rn)}}function Ns(oe,ve){if(!(ve==="constructor"&&typeof oe[ve]=="function")&&ve!="__proto__")return oe[ve]}var hh=xc(Ps);function xc(oe){var ve=0,Me=0;return function(){var kt=Dr(),$t=s-(kt-Me);if(Me=kt,$t>0){if(++ve>=i)return arguments[0]}else ve=0;return oe.apply(void 0,arguments)}}function ph(oe){if(oe!=null){try{return we.call(oe)}catch{}try{return oe+""}catch{}}return""}function uo(oe,ve){return oe===ve||oe!==oe&&ve!==ve}var zi=Io((function(){return arguments})())?Io:function(oe){return as(oe)&&$e.call(oe,"callee")&&!Qt.call(oe,"callee")},Di=Array.isArray;function Do(oe){return oe!=null&&mh(oe.length)&&!Ra(oe)}function _c(oe){return as(oe)&&Do(oe)}var Xs=Kn||Se;function Ra(oe){if(!Kl(oe))return!1;var ve=Rs(oe);return ve==h||ve==p||ve==u||ve==w}function mh(oe){return typeof oe=="number"&&oe>-1&&oe%1==0&&oe<=o}function Kl(oe){var ve=typeof oe;return oe!=null&&(ve=="object"||ve=="function")}function as(oe){return oe!=null&&typeof oe=="object"}function U0(oe){if(!as(oe)||Rs(oe)!=v)return!1;var ve=wt(oe);if(ve===null)return!0;var Me=$e.call(ve,"constructor")&&ve.constructor;return typeof Me=="function"&&Me instanceof Me&&we.call(Me)==xe}var gh=le?fe(le):Mu;function na(oe){return Ve(oe,Fu(oe))}function Fu(oe){return Do(oe)?wc(oe):ta(oe)}var V0=Le(function(oe,ve,Me){Yl(oe,ve,Me)});function dl(oe){return function(){return oe}}function Ia(oe){return oe}function Se(){return!1}e.exports=V0})(sS,sS.exports)),sS.exports}var Upt=zpt();const bTe=so(Upt);function Il(e,t){return R$(e)&&t.baseComponents?bTe({},t.baseComponents?.[e.baseComponent],e):e}function _ce(e,t){return t.components[e]===void 0?null:Il(t.components[e],t)}function Cce(e){const t=e.response.map(n=>n.id);return e.responseOrder==="random"?{response:[...t].map(n=>({value:n,sort:Math.random()})).sort((n,r)=>n.sort-r.sort).map(({value:n})=>n)}:{response:t}}function Ece(e){return e.response.reduce((t,n)=>{if(n.type==="radio"||n.type==="checkbox"||n.type==="buttons")if(n.optionOrder==="random"){const i=[...n.options.map(s=>typeof s=="string"?{value:s,label:s}:s)].map(s=>({value:s,sort:Math.random()})).sort((s,o)=>s.sort-o.sort).map(({value:s})=>s);t[n.id]=i}else t[n.id]=n.options.map(r=>typeof r=="string"?{value:r,label:r}:r);return t},{})}function Sce(e){return e.response.reduce((t,n)=>{if(n.type==="matrix-radio"||n.type==="matrix-checkbox")if(n.questionOrder==="random"){const i=[...n.questionOptions].map(s=>({value:s,sort:Math.random()})).sort((s,o)=>s.sort-o.sort).map(({value:s})=>s);t[n.id]=i}else t[n.id]=n.questionOptions;return t},{})}async function Tce(e,t,n,r,i,s,o,a,l){const u=od(n),c=Object.fromEntries(u.filter(g=>g!=="end").map((g,y)=>{const v=Il(t.components[g]||{},t);return t.components[g]?[`${g}_${y}`,{answer:{},identifier:`${g}_${y}`,trialOrder:`${y}`,componentName:g,incorrectAnswers:{},startTime:0,endTime:-1,provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0},windowEvents:[],timedOut:!1,helpButtonClickedCount:0,parameters:Object.hasOwn(v,"parameters")?v.parameters:{},correctAnswer:Object.hasOwn(v,"correctAnswer")?v.correctAnswer:[],optionOrders:Ece(v),questionOrders:Sce(v),formOrder:Cce(v)}]:null}).filter(g=>g!==null)),d=Object.assign({},...u.map((g,y)=>{const v=Il(t.components[g]||{response:[]},t);return{[`${g}_${y}`]:{aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}},stimulus:{valid:!v.response.some(w=>w.type==="reactive"&&w.required!==!1),values:{}},provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0}}}})),f=Object.assign({},...u.map((g,y)=>({[`${g}_${y}`]:{aboveStimulus:!0,belowStimulus:!0,sidebar:!0,stimulus:!0,provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0}}}))),h={studyId:e,isRecording:!1,answers:Object.keys(i).length>0?i:c,sequence:n,config:t,showStudyBrowser:!0,showHelpText:!1,alertModal:{show:!1,message:""},trialValidation:Object.keys(i).length>0?f:d,reactiveAnswers:{},metadata:r,analysisProvState:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0},analysisIsPlaying:!1,analysisHasAudio:!1,analysisHasScreenRecording:!1,analysisCanPlayScreenRecording:!0,analysisHasProvenance:!1,provenanceJumpTime:0,modes:s,matrixAnswers:{},rankingAnswers:{},participantId:o,funcSequence:{},completed:a,clickedPrevious:!1,storageEngineFailedToConnect:l},p=Npt({name:"storeSlice",initialState:h,reducers:{setConfig(g,{payload:y}){g.config=y},setIsRecording(g,{payload:y}){g.isRecording=y},pushToFuncSequence(g,{payload:y}){if(g.funcSequence[y.funcName]||(g.funcSequence[y.funcName]=[]),g.funcSequence[y.funcName].length>y.funcIndex)return;const v=Il(g.config.components[y.component]||{response:[]},t),w=`${y.funcName}_${y.index}_${y.component}_${y.funcIndex}`;g.funcSequence[y.funcName].push(y.component),g.answers[w]={answer:{},identifier:w,incorrectAnswers:{},componentName:y.component,trialOrder:`${y.index}_${y.funcIndex}`,startTime:0,endTime:-1,provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0},windowEvents:[],timedOut:!1,helpButtonClickedCount:0,parameters:y.parameters||("parameters"in v?v.parameters:{})||{},correctAnswer:y.correctAnswer||v.correctAnswer||[],optionOrders:Ece(v),questionOrders:Sce(v),formOrder:Cce(v)},g.trialValidation[w]={aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},stimulus:{valid:v.response.every(_=>_.type!=="reactive"),values:{}},sidebar:{valid:!1,values:{}},provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0}}},toggleStudyBrowser:g=>{g.showStudyBrowser=!g.showStudyBrowser},toggleShowHelpText:g=>{g.showHelpText=!g.showHelpText},setAlertModal:(g,y)=>{g.alertModal=y.payload},setReactiveAnswers:(g,y)=>{g.reactiveAnswers=y.payload},saveAnalysisState(g,{payload:y}){g.analysisProvState[y.location]=y.prov},setAnalysisIsPlaying(g,{payload:y}){g.analysisIsPlaying=y},setAnalysisHasAudio(g,{payload:y}){g.analysisHasAudio=y},setAnalysisHasScreenRecording(g,{payload:y}){g.analysisHasScreenRecording=y},setAnalysisCanPlayScreenRecording(g,{payload:y}){g.analysisCanPlayScreenRecording=y},setAnalysisHasProvenance(g,{payload:y}){g.analysisHasProvenance=y},setProvenanceJumpTime(g,{payload:y}){g.provenanceJumpTime=y},setMatrixAnswersRadio:(g,y)=>{if(y.payload){const{responseId:v,questionKey:w,val:_}=y.payload;g.matrixAnswers={...g.matrixAnswers,[v]:{...g.matrixAnswers[v],[w]:_}}}else g.matrixAnswers={}},setMatrixAnswersCheckbox:(g,y)=>{if(y.payload){const{responseId:v,questionKey:w,value:_,isChecked:C,choiceOptions:S}=y.payload,T=g.matrixAnswers[v]?.[w]??"";let k="";C?T.length>0?k=[...T.split("|"),_].sort((I,R)=>S.map(P=>P.value).indexOf(I)-S.map(P=>P.value).indexOf(R)).join("|"):k=`${_}`:k=T.split("|").filter(I=>I!==_).join("|"),g.matrixAnswers={...g.matrixAnswers,[v]:{...g.matrixAnswers[v],[w]:k}}}else g.matrixAnswers={}},setRankingAnswers:(g,y)=>{if(y.payload){const{responseId:v,values:w}=y.payload;g.rankingAnswers={...g.rankingAnswers,[v]:{...w}}}else g.rankingAnswers={}},updateResponseBlockValidation:(g,{payload:y})=>{if(!g.trialValidation[y.identifier])return;const v=g.trialValidation[y.identifier]?.[y.location]?.values;Object.keys(y.values).length>0?g.trialValidation[y.identifier][y.location]={valid:y.status,values:{...v,...y.values}}:g.trialValidation[y.identifier][y.location]={valid:y.status,values:v||{}},y.provenanceGraph&&(g.trialValidation[y.identifier].provenanceGraph[y.location]=y.provenanceGraph)},saveTrialAnswer(g,{payload:y}){g.answers[y.identifier]={...y}},incrementHelpCounter(g,{payload:y}){g.answers[y.identifier].helpButtonClickedCount+=1},saveIncorrectAnswer(g,{payload:y}){const{identifier:v,answer:w,question:_}=y;g.answers[_].incorrectAnswers||(g.answers[_].incorrectAnswers={}),g.answers[_].incorrectAnswers[v]||(g.answers[_].incorrectAnswers[v]={id:v,value:[]}),g.answers[_].incorrectAnswers[v].value.push(w)},deleteDynamicBlockAnswers(g,{payload:y}){const{currentStep:v,funcIndex:w,funcName:_}=y,C=new RegExp(`.*_${v}_.*_${w}`);Object.keys(g.answers).forEach(S=>{S.match(C)&&delete g.answers[S]}),g.funcSequence[_]&&(g.funcSequence[_]=g.funcSequence[y.funcName].filter((S,T)=>T!==w)),g.funcSequence[_]?.length===0&&delete g.funcSequence[_]},setParticipantCompleted(g,{payload:y}){g.completed=y},setClickedPrevious(g,{payload:y}){g.clickedPrevious=y}}});return{store:kpt({reducer:p.reducer,preloadedState:h}),actions:p.actions}}const wTe=A.createContext(null);function is(){return A.useContext(wTe).actions}const As=GSe,ar=hht;function Vpt(e){return ar(t=>{if(e.includes("reviewer-"))return!0;const n=t.trialValidation[e]?Object.values(t.trialValidation[e]).every(r=>typeof r=="object"&&"valid"in r?r.valid:!0):!0;return n?Object.values(n).every(r=>r):!1})}const Hpt=cTe(e=>e.sequence,e=>od(e));function qy(){return ar(Hpt)}function Du(){return ar(e=>e.config)}function nQ(){const e=Du(),t=qy(),n=Xf(),r=e.components[n],{recordScreen:i,recordAudio:s}=e.uiConfig,o=A.useMemo(()=>i||t.some(c=>e.components[c]?.recordScreen),[t,e,i]),a=A.useMemo(()=>s||t.some(c=>e.components[c]?.recordAudio),[t,e,s]),l=A.useMemo(()=>r?.recordScreen??!!i,[i,r]),u=A.useMemo(()=>r?.recordAudio??!!s,[s,r]);return{studyHasAudioRecording:a,studyHasScreenRecording:o,currentComponentHasAudioRecording:u,currentComponentHasScreenRecording:l}}function qpt(){const e=Du(),{recordScreenFPS:t,recordAudio:n}=e.uiConfig,r=A.useRef(null),[i,s]=A.useState(null),[o,a]=A.useState(!1),[l,u]=A.useState(!1),[c,d]=A.useState(!1),[f,h]=A.useState(!1),[p,m]=A.useState(!1),[g,y]=A.useState(!1),[v,w]=A.useState(!1),[_,C]=A.useState(!1),S=A.useRef(null),T=A.useRef(null),k=A.useRef(null),I=A.useRef(null),R=A.useRef(null),{storageEngine:P}=Ii(),N=Xf(),[$]=A.useState(document.title),{studyHasScreenRecording:O,studyHasAudioRecording:j,currentComponentHasAudioRecording:B,currentComponentHasScreenRecording:H}=nQ(),q=A.useCallback(()=>{r.current&&(r.current.srcObject=null),m(!1),y(!1),w(!1),a(!1),u(!1),d(!1),k.current&&(k.current.getTracks().forEach(z=>{z.stop(),k.current?.removeTrack(z)}),k.current=null),R.current&&(R.current.getTracks().forEach(z=>{z.stop(),R.current?.removeTrack(z)}),R.current=null),T.current&&(T.current.stream.getTracks().forEach(z=>{z.stop(),T.current?.stream.removeTrack(z)}),T.current.stream.getVideoTracks().forEach(z=>{z.stop(),T.current?.stream.removeTrack(z)}),T.current.stream.getAudioTracks().forEach(z=>{z.stop(),T.current?.stream.removeTrack(z)}),T.current.stop(),T.current=null)},[]),Y=A.useCallback(z=>{if(!(B||H)||!R.current)return;S.current=new MediaStream([...(H?R.current?.getVideoTracks():[])??[],...(B?k.current?.getAudioTracks():[])??[]]);const U=S.current,G=new MediaRecorder(U);T.current=G;const Q=B&&k.current?new MediaRecorder(k.current):null;I.current=Q;let ne=[];G.addEventListener("dataavailable",se=>{se.data&&se.data.size>0&&ne.push(se.data)});let ue=[];Q?.addEventListener("dataavailable",se=>{se.data&&se.data.size>0&&ue.push(se.data)}),G.addEventListener("start",()=>{ne=[]}),Q?.addEventListener("start",()=>{ue=[]}),H?(G.addEventListener("stop",()=>{const{mimeType:se}=G,ae=new Blob(ne,{type:se});P?.saveScreenRecording(ae,z)}),Q?.addEventListener("stop",()=>{const{mimeType:se}=Q,ae=new Blob(ue,{type:se});P?.saveAudioRecording(ae,z)})):G.addEventListener("stop",()=>{const{mimeType:se}=G,ae=new Blob(ne,{type:se});P?.saveAudioRecording(ae,z)}),m(!0),h(!0),d(B),s(null),u(B),a(H),G.start(1e3),Q?.start(1e3)},[B,H,P]),V=A.useCallback(()=>{a(!1),d(!1),T.current?.stop()},[]);A.useEffect(()=>{N!=="$screen-recording.co.screenRecordingPermission"&&N!=="end"&&f&&!p&&C(!0)},[N,p,f]);const L=A.useCallback(()=>{(async()=>{document.title=`RECORD THIS TAB: ${$}`;try{const U=O?await navigator.mediaDevices.getDisplayMedia({video:{displaySurface:"browser",...t?{frameRate:{ideal:t}}:{}},audio:!1,selfBrowserSurface:"include",preferCurrentTab:!0}):null;R.current=U;const G=j?await navigator.mediaDevices.getUserMedia({audio:!0,video:!1}):null;k.current=G;const Q=new MediaStream([...U?.getVideoTracks()||[],...G?.getAudioTracks()??[]]);S.current=Q,r.current&&(r.current.srcObject=Q,r.current.play()),Q.getTracks().forEach(ne=>{ne.addEventListener("ended",()=>{q()})}),m(U!==null),y(G!==null),w(U!==null||G!==null),h(!0),d(!!n),s(null)}catch(U){console.error("Error accessing screen:",U),s("Recording permission denied or not supported.")}finally{document.title=$}})()},[$,n,t,q,j,O]);return{recordVideoRef:r,studyHasScreenRecording:O,recordAudio:n,startScreenCapture:L,stopScreenCapture:q,startScreenRecording:Y,stopScreenRecording:V,screenRecordingError:i,isScreenRecording:o,isAudioRecording:l,isScreenCapturing:p,isAudioCapturing:g,isMediaCapturing:v,combinedMediaRecorder:T,audioMediaStream:k,screenWithAudioRecording:c,isRejected:_}}const xTe=A.createContext(void 0);function rQ(){const e=A.useContext(xTe);if(!e)throw new Error("useScreenRecordingContext must be used within a ScreenRecordingProvider");return e}function Wpt({setAnswer:e}){const{recordAudio:t,recordVideoRef:n,startScreenCapture:r,stopScreenCapture:i,isScreenCapturing:s,screenRecordingError:o,audioMediaStream:a}=rQ(),[l,u]=A.useState(!1);return A.useEffect(()=>{e({status:s&&(t?l:!0),provenanceGraph:void 0,answers:{screenRecordingPermission:s}})},[s,l,e,t]),A.useEffect(()=>{if(!s)return;const c=a.current;if(!c)return;new MediaRecorder(c).start();const f=new AudioContext,h=f.createMediaStreamSource(c),p=f.createAnalyser();p.minDecibels=-45,h.connect(p);const m=p.frequencyBinCount,g=new Uint8Array(m);let y=!1;const v=()=>{if(!y){p.getByteFrequencyData(g);for(let w=0;w<m;w+=1)g[w]>0&&(y=!0,u(!0));window.requestAnimationFrame(v)}};window.requestAnimationFrame(v)},[a,s,e]),b.jsxs(De,{p:"md",children:[b.jsxs(qr,{order:1,size:"h2",children:["Screen",t&&" and Audio"," ","Recording Permission"]}),t?b.jsxs(b.Fragment,{children:[b.jsxs("p",{children:["This study requires recording of your"," ",b.jsx("strong",{children:"screen"})," ","and"," ",b.jsx("strong",{children:"audio"}),". If you're not comfortable, you may exit and return the study."]}),b.jsx("p",{children:"Follow the steps below to grant screen and audio recording permissions."}),b.jsxs("ol",{children:[b.jsxs("li",{children:[b.jsx("strong",{children:"Click the button below"})," ","to enable screen and audio recording.",b.jsx(Wt,{type:"button",onClick:s?i:r,display:"block",mt:"sm",children:s?"Stop Recording":"Start Recording"}),b.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,muted:!0,style:{width:"400px",border:"1px solid #ccc",marginTop:"1rem"}}),o&&b.jsx("p",{style:{color:"red"},children:o}),b.jsx("p",{children:b.jsx("i",{children:"Note: Please make sure you are recording the correct tab or window. Otherwise, stop and re-share the correct one."})})]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Speak"})," ","into your microphone to check if audio is working.",t&&s?b.jsx(De,{h:200,w:400,bd:"1px solid #ccc",children:b.jsx(QX,{height:200,width:400})}):b.jsx(De,{h:200,w:400,bd:"1px solid #ccc"})]})]}),b.jsx("strong",{children:"Note:"}),b.jsxs("ul",{children:[b.jsxs("li",{children:["After we hear you say something, the"," ",b.jsx("b",{children:"Continue"})," ","button will be enabled."]}),b.jsx("li",{children:"Please do not close the window or screen recording until the entire study is completed."})]})]}):b.jsxs(b.Fragment,{children:[b.jsxs("p",{children:["This study requires recording of your"," ",b.jsx("strong",{children:"screen"}),". If you're not comfortable, you may exit and return the study."]}),b.jsx("strong",{children:"Click the button below"})," ","to enable screen recording.",b.jsx(Wt,{type:"button",onClick:s?i:r,display:"block",mt:"sm",children:s?"Stop Recording":"Start Recording"}),b.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,muted:!0,style:{width:"400px",border:"1px solid #ccc",marginTop:"1rem"}}),o&&b.jsx("p",{style:{color:"red"},children:o}),b.jsx("p",{children:b.jsx("i",{children:"Note: Please make sure you are recording the correct tab or window. Otherwise, stop and re-share the correct one."})}),b.jsx("strong",{children:"Note:"}),b.jsx("ul",{children:b.jsx("li",{children:"Please do not close the window or screen recording until the entire study is completed."})})]})]})}const _Te=Object.freeze(Object.defineProperty({__proto__:null,default:Wpt},Symbol.toStringTag,{value:"Module"}));function Gpt(){return b.jsx("div",{children:"test react file"})}const CTe=Object.freeze(Object.defineProperty({__proto__:null,default:Gpt},Symbol.toStringTag,{value:"Module"})),Ypt=e=>e*Math.PI/180;function Kpt({parameters:e,setAnswer:t}){const n=A.useRef(null),r=A.useRef(null),i=A.useRef(null),{blindspotAngle:s}=e,o=ar(C=>C.answers),a=Object.values(o).find(C=>C.componentName==="$virtual-chinrest.components.card-size"),l=Number(a?.answer?.pixelsPerMM),[u,c]=A.useState([]),[d,f]=A.useState(!1),[h,p]=A.useState(null),[m,g]=A.useState(5),y=A.useCallback(C=>{if(!C.length||!l||!r.current)return;const S=C.reduce((P,N)=>P+N,0)/C.length,k=r.current.getBoundingClientRect().left,R=Math.abs(S-k)/l/Math.tan(Ypt(s));p(R),f(!1)},[s,l]),v=()=>{n.current&&(n.current.style.left="740px")},w=A.useCallback(()=>{if(!n.current||!r.current||!l||u.length>=5)return;f(!0);let C=!1,S=0;const T=1e3,k=I=>{if(!n.current)return;if(C){I-S>=T&&(C=!1,n.current.style.left="740px"),i.current=requestAnimationFrame(k);return}const P=parseInt(n.current.style.left||"740",10)-2;P<=0?(C=!0,S=I):n.current.style.left=`${P}px`,i.current=requestAnimationFrame(k)};i.current=requestAnimationFrame(k)},[u,l]),_=()=>{i.current&&cancelAnimationFrame(i.current),f(!1)};return A.useEffect(()=>{h!==null&&u.length===5&&t({status:!0,answers:{"dist-calibration-MM":h,"dist-calibration-CM":h/10,"ball-positions":JSON.stringify(u),"square-position":r.current?.getBoundingClientRect().left??0}})},[h,u,t]),A.useEffect(()=>{const C=S=>{if(S.code==="Space"){if(S.preventDefault(),!d)w();else if(n.current){_();const k=n.current.getBoundingClientRect().left;c(I=>{const R=[...I,k];return R.length>=5&&y(R),R}),g(I=>I-1),v()}}};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[d,w,y]),A.useEffect(()=>(p(null),f(!1),c([]),g(5),v(),()=>{p(null),f(!1),c([]),g(5)}),[]),A.useEffect(()=>()=>{i.current&&cancelAnimationFrame(i.current)},[]),l?b.jsx(C0,{size:"md",children:b.jsxs(zn,{gap:"md",children:[b.jsx(He,{children:"Now we will quickly measure how far away you are sitting. "}),b.jsxs(zn,{gap:"xs",children:[b.jsxs(Ga,{children:[b.jsxs(Ga.Item,{children:["Put your left hand on the",b.jsx("b",{children:"space bar"}),"."]}),b.jsx(Ga.Item,{children:"Cover your right eye with your right hand."}),b.jsx(Ga.Item,{children:"Using your left eye, focus on the black square. Keep your focus on the black square."}),b.jsxs(Ga.Item,{children:["The",b.jsx("span",{style:{color:"red",fontWeight:"bold"},children:"red ball"})," ","will disappear as it moves from right to left. Press the space bar as soon as the ball disappears."]})]}),b.jsx(He,{ta:"center",children:u.length>=5?"All measurements completed!":"Press the space bar when you are ready to begin."})]}),b.jsxs("div",{style:{position:"relative",width:"900px",height:"100px",backgroundColor:"#ffffff"},children:[b.jsx("div",{ref:n,style:{position:"absolute",width:"30px",height:"30px",backgroundColor:"rgb(255, 0, 0)",borderRadius:"30px",left:"740px"}}),b.jsx("div",{ref:r,style:{position:"absolute",width:"30px",height:"30px",backgroundColor:"rgb(0, 0, 0)",left:"870px"}})]}),b.jsxs(He,{ta:"center",children:["Remaining measurements:"," ",5-u.length]}),h&&b.jsxs(zn,{gap:"xs",children:[b.jsx(He,{fw:700,size:"lg",children:"Viewing Distance Results"}),b.jsxs(He,{children:["Estimated Viewing Distance:",(h/10).toFixed(1)," ","cm"]}),b.jsxs(He,{children:["Number of measurements:",u.length]})]})]})}):b.jsx("div",{children:"Please complete card calibration first."})}const ETe=Object.freeze(Object.defineProperty({__proto__:null,default:Kpt},Symbol.toStringTag,{value:"Module"})),Xpt="/study/assets/costco_card-B3j7PHjO.png";function Qpt({parameters:e,setAnswer:t,itemWidthMM:n=85.6,itemHeightMM:r=53.98,fixedCorner:i="top-left"}){const[s,o]=A.useState(300),[a,l]=A.useState(null),[u,c]=A.useState(!1),[d,f]=A.useState({min:100,max:500}),{taskid:h}=e,p=A.useRef(null),m=A.useRef(null),g=r/n;A.useEffect(()=>{const S=()=>{const T=window.innerWidth;f({min:Math.round(T*.1),max:Math.round(T*.8)})};return S(),window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]);const y=S=>Math.round(S*g),v=S=>S/n,w=S=>{o(S)},_=()=>{if(!p.current)return;const S=v(s);l(S),t({status:!0,answers:{[h]:S}}),c(!0)},C=()=>({position:"relative",width:"100%",display:"flex",justifyContent:i.includes("right")?"flex-end":"flex-start",alignItems:i.includes("bottom")?"flex-end":"flex-start"});return b.jsxs(zn,{gap:"lg",children:[b.jsx(He,{size:"md",children:" Drag the slider until the image is the same size as a credit card held up to the screen."}),b.jsx(He,{size:"md",children:" You can use any card this is the same size as a credit card, like a membership card or driver's license."}),b.jsx(He,{size:"md",children:" If you do not have access to a real card, you can use a ruler to measure the image width to 3.37 inches or 85.6mm. "}),b.jsx(He,{size:"md",children:" Once you are finished, click 'Confirm Size' and then 'Next'. "}),b.jsx(Wt,{onClick:_,size:"lg",variant:"transparent",children:"Confirm Size"}),b.jsx(f$,{min:d.min,max:d.max,value:s,label:null,onChange:w,styles:{root:{width:"100%"},track:{cursor:"pointer"},thumb:{cursor:"grab"},bar:{cursor:"pointer"}}}),b.jsx("div",{ref:m,style:C(),children:b.jsx("div",{ref:p,style:{width:`${s}px`,height:`${y(s)}px`,overflow:"hidden"},children:b.jsx("img",{src:Xpt,alt:"Credit Card",style:{width:"100%",height:"100%",objectFit:"contain"}})})}),u&&b.jsxs("div",{style:{textAlign:"center",color:"green"},children:["Calibration Complete - Pixels per MM:"," ",a?.toFixed(2)]})]})}const STe=Object.freeze(Object.defineProperty({__proto__:null,default:Qpt},Symbol.toStringTag,{value:"Module"})),yD=2147483648,Jpt=4294967295;class TTe{constructor(t){this._size=t,this._bits=new Uint32Array(Math.ceil(t/32))}get length(){return this._size}count(){const t=this._bits.length;let n=0;for(let r=0;r<t;++r)for(let i=this._bits[r];i;++n)i&=i-1;return n}get(t){return this._bits[t>>5]&yD>>>t}set(t){this._bits[t>>5]|=yD>>>t}clear(t){this._bits[t>>5]&=~(yD>>>t)}scan(t){for(let n=this.next(0);n>=0;n=this.next(n+1))t(n)}next(t){const n=this._bits,r=n.length;let i=t>>5,s=n[i]&Jpt>>>t;for(;i<r;s=n[++i])if(s!==0)return(i<<5)+Math.clz32(s);return-1}nth(t){let n=this.next(0);for(;t--&&n>=0;)n=this.next(n+1);return n}not(){const t=this._bits,n=t.length;for(let i=0;i<n;++i)t[i]=~t[i];const r=this._size%32;return r&&(t[n-1]&=yD>>r-1),this}and(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]&=r[s]}return this}or(t){if(t){const n=this._bits,r=t._bits,i=n.length;for(let s=0;s<i;++s)n[s]|=r[s]}return this}}function Zpt(e,t,n,r,i){return e==null?null:e<t?-1/0:e>n?1/0:(e=Math.max(t,Math.min(e,n)),t+r*Math.floor(1e-14+(e-t)/r+(i||0)))}function hy(e){return e instanceof Date}function WN(e){return e instanceof RegExp}function py(e){return e===Object(e)}function iQ(e,t){return e==null||t==null||e!==e||t!==t?!1:e===t?!0:hy(e)||hy(t)?+e==+t:WN(e)&&WN(t)?e+""==t+"":py(e)&&py(t)?emt(e,t):!1}function emt(e,t){if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;if(e.length||t.length)return kce(e,t);const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length||(n.sort(),r.sort(),!kce(n,r,(s,o)=>s===o)))return!1;const i=n.length;for(let s=0;s<i;++s){const o=n[s];if(!iQ(e[o],t[o]))return!1}return!0}function kce(e,t,n=iQ){const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;++i)if(!n(e[i],t[i]))return!1;return!0}function tmt(e,t,n){if(t instanceof Map){if(t.has(e))return t.get(e)}else{const r=`${e}`;if(Object.hasOwn(t,r))return t[r]}return n!==void 0?n:e}function nmt(e,t,n){let r=arguments.length;e=+e,t=+t,n=r<2?(t=e,e=0,1):r<3?1:+n,r=Math.max(0,Math.ceil((t-e)/n))|0;const i=new Array(r);for(let s=0;s<r;++s)i[s]=e+s*n;return i}const Hr=void 0;function Ul(e){return Array.isArray(e)}const rmt=Object.getPrototypeOf(Int8Array);function I$(e){return e instanceof rmt}function Wy(e){return Ul(e)||I$(e)}function Hf(e){return typeof e=="string"}function af(e){return e!=null&&e===e}const IA=e=>Wy(e)||Hf(e);function imt(e){return Wy(e)?e.filter(t=>af(t)):e}function smt(...e){return[].concat(...e)}function omt(e,t,n){return IA(e)?e.includes(t,n):!1}function amt(e,t){return IA(e)?e.indexOf(t):-1}function lmt(e,t){return Wy(e)?e.join(t):Hr}function umt(e,t){return IA(e)?e.lastIndexOf(t):-1}function cmt(e){return IA(e)?e.length:0}function dmt(e,t){return Wy(e)?e.map(n=>af(n)?n[t]:Hr):Hr}function fmt(e){return Wy(e)?e.slice().reverse():Hf(e)?e.split("").reverse().join(""):Hr}function hmt(e,t,n){return IA(e)?e.slice(t,n):Hr}const pmt=Object.freeze(Object.defineProperty({__proto__:null,compact:imt,concat:smt,includes:omt,indexof:amt,join:lmt,lastindexof:umt,length:cmt,pluck:dmt,reverse:fmt,slice:hmt},Symbol.toStringTag,{value:"Module"}));function $P(e,t,n="0"){const r=e+"",i=r.length;return i<t?Array(t-i+1).join(n)+r:r}const _h=e=>(e<10?"0":"")+e,mmt=e=>e<0?"-"+$P(-e,6):e>9999?"+"+$P(e,6):$P(e,4);function kTe(e,t,n,r,i,s,o,a,l){const u=a?"Z":"";return mmt(e)+"-"+_h(t+1)+"-"+_h(n)+(!l||o?"T"+_h(r)+":"+_h(i)+":"+_h(s)+"."+$P(o,3)+u:s?"T"+_h(r)+":"+_h(i)+":"+_h(s)+u:i||r||!a?"T"+_h(r)+":"+_h(i)+u:"")}function ATe(e,t){return isNaN(e)?"Invalid Date":kTe(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds(),!1,t)}function D$(e,t){return isNaN(e)?"Invalid Date":kTe(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds(),!0,t)}const gmt=/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/;function ymt(e){return e.match(gmt)&&!isNaN(Date.parse(e))}function vmt(e,t=Date.parse){return ymt(e)?t(e):e}const RTe=6e4,ITe=864e5,DTe=6048e5,xs=new Date,_s=new Date,Gs=e=>(xs.setTime(typeof e=="string"?vmt(e):e),xs);function bmt(e,t){return ATe(Gs(e),!t)}function wmt(e,t){return D$(Gs(e),!t)}function xmt(){return Date.now()}function _mt(e){return+Gs(e)}function Cmt(e,t,n,r,i,s,o){return arguments.length?new Date(e,t||0,n??1,r||0,i||0,s||0,o||0):new Date(Date.now())}function Emt(e){return Gs(e).getFullYear()}function Smt(e){return Math.floor(Gs(e).getMonth()/3)}function Tmt(e){return Gs(e).getMonth()}function kmt(e,t){const n=t||0;_s.setTime(+e),_s.setDate(_s.getDate()-(_s.getDay()+7-n)%7),_s.setHours(0,0,0,0),xs.setTime(+e),xs.setMonth(0),xs.setDate(1),xs.setDate(1-(xs.getDay()+7-n)%7),xs.setHours(0,0,0,0);const r=(_s.getTimezoneOffset()-xs.getTimezoneOffset())*RTe;return Math.floor((1+(+_s-+xs)-r)/DTe)}function Amt(e){return Gs(e).getDate()}function Rmt(e){_s.setTime(+e),_s.setHours(0,0,0,0),xs.setTime(+_s),xs.setMonth(0),xs.setDate(1);const t=(_s.getTimezoneOffset()-xs.getTimezoneOffset())*RTe;return Math.floor(1+(+_s-+xs-t)/ITe)}function Imt(e){return Gs(e).getDay()}function Dmt(e){return Gs(e).getHours()}function Pmt(e){return Gs(e).getMinutes()}function Omt(e){return Gs(e).getSeconds()}function Nmt(e){return Gs(e).getMilliseconds()}function $mt(e,t,n,r,i,s,o){return arguments.length?new Date(Date.UTC(e,t||0,n??1,r||0,i||0,s||0,o||0)):new Date(Date.now())}function Mmt(e){return Gs(e).getUTCFullYear()}function Fmt(e){return Math.floor(Gs(e).getUTCMonth()/3)}function Lmt(e){return Gs(e).getUTCMonth()}function jmt(e,t){const n=t||0;return _s.setTime(+e),_s.setUTCDate(_s.getUTCDate()-(_s.getUTCDay()+7-n)%7),_s.setUTCHours(0,0,0,0),xs.setTime(+e),xs.setUTCMonth(0),xs.setUTCDate(1),xs.setUTCDate(1-(xs.getUTCDay()+7-n)%7),xs.setUTCHours(0,0,0,0),Math.floor((1+(+_s-+xs))/DTe)}function Bmt(e){return Gs(e).getUTCDate()}function zmt(e){_s.setTime(+e),_s.setUTCHours(0,0,0,0);const t=Date.UTC(_s.getUTCFullYear(),0,1);return Math.floor(1+(+_s-t)/ITe)}function Umt(e){return Gs(e).getUTCDay()}function Vmt(e){return Gs(e).getUTCHours()}function Hmt(e){return Gs(e).getUTCMinutes()}function qmt(e){return Gs(e).getUTCSeconds()}function Wmt(e){return Gs(e).getUTCMilliseconds()}const Gmt=Object.freeze(Object.defineProperty({__proto__:null,date:Amt,datetime:Cmt,dayofweek:Imt,dayofyear:Rmt,format_date:bmt,format_utcdate:wmt,hours:Dmt,milliseconds:Nmt,minutes:Pmt,month:Tmt,now:xmt,quarter:Smt,seconds:Omt,timestamp:_mt,utcdate:Bmt,utcdatetime:$mt,utcdayofweek:Umt,utcdayofyear:zmt,utchours:Vmt,utcmilliseconds:Wmt,utcminutes:Hmt,utcmonth:Lmt,utcquarter:Fmt,utcseconds:qmt,utcweek:jmt,utcyear:Mmt,week:kmt,year:Emt},Symbol.toStringTag,{value:"Module"}));function Ymt(e){return JSON.parse(e)}function Kmt(e){return JSON.stringify(e)}const Xmt=Object.freeze(Object.defineProperty({__proto__:null,parse_json:Ymt,to_json:Kmt},Symbol.toStringTag,{value:"Module"}));let Qmt=Math.random;function OC(){return Qmt()}function Jmt(){return OC()}function Zmt(e){return Number.isNaN(e)}function e0t(e){return Number.isFinite(e)}function t0t(e){return Math.abs(e)}function n0t(e){return Math.cbrt(e)}function r0t(e){return Math.ceil(e)}function i0t(e){return Math.clz32(e)}function s0t(e){return Math.exp(e)}function o0t(e){return Math.expm1(e)}function a0t(e){return Math.floor(e)}function l0t(e){return Math.fround(e)}function u0t(...e){return Math.max(...e)}function c0t(...e){return Math.min(...e)}function d0t(e){return Math.log(e)}function f0t(e){return Math.log10(e)}function h0t(e){return Math.log1p(e)}function p0t(e){return Math.log2(e)}function m0t(e,t){return Math.pow(e,t)}function g0t(e){return Math.round(e)}function y0t(e){return Math.sign(e)}function v0t(e){return Math.sqrt(e)}function b0t(e){return Math.trunc(e)}function w0t(e){return 180*e/Math.PI}function x0t(e){return Math.PI*e/180}function _0t(e){return Math.acos(e)}function C0t(e){return Math.acosh(e)}function E0t(e){return Math.asin(e)}function S0t(e){return Math.asinh(e)}function T0t(e){return Math.atan(e)}function k0t(e,t){return Math.atan2(e,t)}function A0t(e){return Math.atanh(e)}function R0t(e){return Math.cos(e)}function I0t(e){return Math.cosh(e)}function D0t(e){return Math.sin(e)}function P0t(e){return Math.sinh(e)}function O0t(e){return Math.tan(e)}function N0t(e){return Math.tanh(e)}const $0t=Object.freeze(Object.defineProperty({__proto__:null,abs:t0t,acos:_0t,acosh:C0t,asin:E0t,asinh:S0t,atan:T0t,atan2:k0t,atanh:A0t,cbrt:n0t,ceil:r0t,clz32:i0t,cos:R0t,cosh:I0t,degrees:w0t,exp:s0t,expm1:o0t,floor:a0t,fround:l0t,greatest:u0t,is_finite:e0t,is_nan:Zmt,least:c0t,log:d0t,log10:f0t,log1p:h0t,log2:p0t,pow:m0t,radians:x0t,random:Jmt,round:g0t,sign:y0t,sin:D0t,sinh:P0t,sqrt:v0t,tan:O0t,tanh:N0t,trunc:b0t},Symbol.toStringTag,{value:"Module"}));function sQ(e){return e instanceof Map}function M0t(e){return e instanceof Set}function P$(e){return sQ(e)||M0t(e)}function oQ(e){return Array.from(e)}function F0t(e,t){return P$(e)?e.has(t):e!=null?Object.hasOwn(e,`${t}`):!1}function L0t(e){return sQ(e)?oQ(e.keys()):e!=null?Object.keys(e):[]}function j0t(e){return P$(e)?oQ(e.values()):e!=null?Object.values(e):[]}function B0t(e){return P$(e)?oQ(e.entries()):e!=null?Object.entries(e):[]}function z0t(e){return e?Object.fromEntries(e):Hr}const U0t=Object.freeze(Object.defineProperty({__proto__:null,entries:B0t,has:F0t,keys:L0t,object:z0t,values:j0t},Symbol.toStringTag,{value:"Module"}));function V0t(e){return e==null?e:new Date(e)}function H0t(e){return e==null?e:Number.parseFloat(e)}function q0t(e,t){return e==null?e:Number.parseInt(e,t)}function W0t(e,t,n){return e==null?!1:String(e).endsWith(t,n)}function G0t(e,t,n){const r=e==null?e:String(e).match(t);return n==null||r==null?r:typeof n=="number"?r[n]:r.groups?r.groups[n]:null}function Y0t(e,t){return e==null?e:String(e).normalize(t)}function K0t(e,t,n){return e==null?e:String(e).padEnd(t,n)}function X0t(e,t,n){return e==null?e:String(e).padStart(t,n)}function Q0t(e){return e==null?e:String(e).toUpperCase()}function J0t(e){return e==null?e:String(e).toLowerCase()}function Z0t(e,t){return e==null?e:String(e).repeat(t)}function egt(e,t,n){return e==null?e:String(e).replace(t,String(n))}function tgt(e,t,n){return e==null?[]:String(e).split(t,n)}function ngt(e,t,n){return e==null?!1:String(e).startsWith(t,n)}function rgt(e,t,n){return e==null?e:String(e).substring(t,n)}function igt(e){return e==null?e:String(e).trim()}const sgt=Object.freeze(Object.defineProperty({__proto__:null,endswith:W0t,lower:J0t,match:G0t,normalize:Y0t,padend:K0t,padstart:X0t,parse_date:V0t,parse_float:H0t,parse_int:q0t,repeat:Z0t,replace:egt,split:tgt,startswith:ngt,substring:rgt,trim:igt,upper:Q0t},Symbol.toStringTag,{value:"Module"})),_x={bin:Zpt,equal:iQ,recode:tmt,sequence:nmt,...pmt,...Gmt,...Xmt,...$0t,...U0t,...sgt};function dp(e){return e!=null?Ul(e)?e:[e]:[]}function YT(e){return typeof e=="bigint"}function e0(e){return e===void 0?e+"":YT(e)?e+"n":JSON.stringify(e)}let ogt=class{constructor(t,n,r){this.name=t,this.fields=n,this.params=r}toString(){const t=[...this.fields.map(n=>`d[${e0(n)}]`),...this.params.map(e0)];return`d => op.${this.name}(${t})`}toObject(){return{expr:this.toString(),func:!0}}};function Ob(e,t=[],n=[]){return new ogt(e,dp(t),dp(n))}const agt=e=>Ob("any",e),lgt=()=>Ob("count"),ugt=e=>Ob("array_agg",e),cgt=e=>Ob("array_agg_distinct",e),dgt=(e,t)=>Ob("map_agg",[e,t]),fgt=(e,t)=>Ob("object_agg",[e,t]),hgt=(e,t)=>Ob("entries_agg",[e,t]);({..._x});function ks(e,t){throw Error(e,{cause:t})}function pgt(e,t){e=P$(e)?e:new Set(e);let n=t,r=0;for(;e.has(n);)n=t+ ++r;return n}function Ml(e){return typeof e=="function"}function O$(e,t){const n=Array(e);if(Ml(t))for(let r=0;r<e;++r)n[r]=t(r);else n.fill(t);return n}function mgt(e,t,n=15,r=!0,i=0,s){const a=Math.LN10;if(s==null){const l=Math.ceil(Math.log(n)/a),u=t-e||Math.abs(e)||1,c=[5,2];for(s=Math.max(i,Math.pow(10,Math.round(Math.log(u)/a)-l));Math.ceil(u/s)>n;)s*=10;const d=c.length;for(let f=0;f<d;++f){const h=s/c[f];h>=i&&u/h<=n&&(s=h)}}if(r){let l=Math.log(s);const u=l>=0?0:~~(-l/a)+1,c=Math.pow(10,-u-1);l=Math.floor(e/s+c)*s,e=e<l?l-s:l,t=Math.ceil(t/s)*s}return[e,t===e?e+s:t,s]}function E_(e){const t=typeof e;return t==="string"?`"${e}"`:t!=="object"||!e?e:hy(e)?+e:Ul(e)||I$(e)?`[${e.map(E_)}]`:WN(e)?e+"":ggt(e)}function ggt(e){let t="{",n=-1;for(const r in e)++n>0&&(t+=","),t+=`"${r}":${E_(e[r])}`;return t+="}",t}function GN(e,t){const n=e.length;return n===1?(r,i)=>E_(e[0](r,i)):(r,i)=>{let s="";for(let o=0;o<n;++o){o>0&&(s+="|");const a=e[o](r,i);if(t&&(a==null||a!==a))return null;s+=E_(a)}return s}}function ygt(){const e=new Map;return{count(){return e.size},values(){return Array.from(e.values(),t=>t.v)},increment(t){const n=E_(t),r=e.get(n);r?++r.n:e.set(n,{v:t,n:1})},decrement(t){const n=E_(t),r=e.get(n);r.n===1?e.delete(n):--r.n},forEach(t){e.forEach(({v:n,n:r})=>t(n,r))}}}function pm(){}function vgt(e,t=0,n=e.length){let r=e[t++];for(let i=t;i<n;++i)r*=e[i];return r}function po(e){return e.init=e.init||pm,e.add=e.add||pm,e.rem=e.rem||pm,e}function Ace(e,t){return e.product_v=!1,e.product=t}const PTe={count:{create:()=>po({value:e=>e.count}),param:[]},array_agg:{create:()=>po({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[1]},object_agg:{create:()=>po({init:e=>e.values=!0,value:e=>Object.fromEntries(e.list.values())}),param:[2]},map_agg:{create:()=>po({init:e=>e.values=!0,value:e=>new Map(e.list.values())}),param:[2]},entries_agg:{create:()=>po({init:e=>e.values=!0,value:e=>e.list.values(e.stream)}),param:[2]},any:{create:()=>po({add:(e,t)=>{e.any==null&&(e.any=t)},value:e=>e.valid?e.any:Hr}),param:[1]},valid:{create:()=>po({value:e=>e.valid}),param:[1]},invalid:{create:()=>po({value:e=>e.count-e.valid}),param:[1]},distinct:{create:()=>({init:e=>e.distinct=ygt(),value:e=>e.distinct.count()+(e.valid===e.count?0:1),add:(e,t)=>e.distinct.increment(t),rem:(e,t)=>e.distinct.decrement(t)}),param:[1]},array_agg_distinct:{create:()=>po({value:e=>e.distinct.values()}),param:[1],req:["distinct"]},mode:{create:()=>po({value:e=>{let t=Hr,n=0;return e.distinct.forEach((r,i)=>{i>n&&(n=i,t=r)}),t}}),param:[1],req:["distinct"]},sum:{create:()=>({init:e=>e.sum=0,value:e=>e.valid?e.sum:Hr,add:(e,t)=>YT(t)?e.sum===0?e.sum=t:e.sum+=t:e.sum+=+t,rem:(e,t)=>e.sum-=t}),param:[1]},product:{create:()=>({init:e=>Ace(e,1),value:e=>e.valid?e.product_v?Ace(e,vgt(e.list.values())):e.product:void 0,add:(e,t)=>YT(t)&&e.product===1?e.product=t:e.product*=t,rem:(e,t)=>t==0||t===1/0||t===-1/0?e.product_v=!0:e.product/=t}),param:[1],stream:["array_agg"]},mean:{create:()=>({init:e=>e.mean=0,value:e=>e.valid?e.mean:Hr,add:(e,t)=>{e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid},rem:(e,t)=>{e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean}}),param:[1]},average:{create:()=>po({value:e=>e.valid?e.mean:Hr}),param:[1],req:["mean"]},variance:{create:()=>({init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):Hr,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean)}),param:[1],req:["mean"]},variancep:{create:()=>po({value:e=>e.valid>1?e.dev/e.valid:Hr}),param:[1],req:["variance"]},stdev:{create:()=>po({value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):Hr}),param:[1],req:["variance"]},stdevp:{create:()=>po({value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):Hr}),param:[1],req:["variance"]},min:{create:()=>({init:e=>e.min=Hr,value:e=>e.min=Number.isNaN(e.min)?e.list.min():e.min,add:(e,t)=>{(t<e.min||e.min===Hr)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)}}),param:[1],stream:["array_agg"]},max:{create:()=>({init:e=>e.max=Hr,value:e=>e.max=Number.isNaN(e.max)?e.list.max():e.max,add:(e,t)=>{(t>e.max||e.max===Hr)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)}}),param:[1],stream:["array_agg"]},quantile:{create:e=>po({value:t=>t.list.quantile(e)}),param:[1,1],req:["array_agg"]},median:{create:()=>po({value:e=>e.list.quantile(.5)}),param:[1],req:["array_agg"]},covariance:{create:()=>({init:e=>{e.cov=e.mean_x=e.mean_y=e.dev_x=e.dev_y=0},value:e=>e.valid>1?e.cov/(e.valid-1):Hr,add:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x+=r/e.valid,e.mean_y+=i/e.valid;const s=n-e.mean_y;e.dev_x+=r*(t-e.mean_x),e.dev_y+=i*s,e.cov+=r*s},rem:(e,t,n)=>{const r=t-e.mean_x,i=n-e.mean_y;e.mean_x-=e.valid?r/e.valid:e.mean_x,e.mean_y-=e.valid?i/e.valid:e.mean_y;const s=n-e.mean_y;e.dev_x-=r*(t-e.mean_x),e.dev_y-=i*s,e.cov-=r*s}}),param:[2]},covariancep:{create:()=>po({value:e=>e.valid>1?e.cov/e.valid:Hr}),param:[2],req:["covariance"]},corr:{create:()=>po({value:e=>e.valid>1?e.cov/(Math.sqrt(e.dev_x)*Math.sqrt(e.dev_y)):Hr}),param:[2],req:["covariance"]},bins:{create:(e,t,n,r)=>po({value:i=>mgt(i.min,i.max,e,t,n,r)}),param:[1,4],req:["min","max"]}},Rce={create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?e=n+1:e}}},param:[]},Ice={create(){let e;return{init:()=>e=0,value:t=>{const{index:n,peer:r,size:i}=t;let s=n;if(e<s){for(;s+1<i&&r(s+1);)++s;e=s}return(1+e)/i}}},param:[]},OTe={row_number:{create(){return{init:pm,value:e=>e.index+1}},param:[]},rank:Rce,avg_rank:{create(){let e,t;return{init:()=>(e=-1,t=1),value:n=>{const r=n.index;if(r>=e){for(t=e=r+1;n.peer(e);t+=++e);t/=e-r}return t}}},param:[]},dense_rank:{create(){let e;return{init:()=>e=1,value:t=>{const n=t.index;return n&&!t.peer(n)?++e:e}}},param:[]},percent_rank:{create(){const{init:e,value:t}=Rce.create();return{init:e,value:n=>(t(n)-1)/(n.size-1)}},param:[]},cume_dist:Ice,ntile:{create(e){e=+e,e>0||ks("ntile num must be greater than zero.");const{init:t,value:n}=Ice.create();return{init:t,value:r=>Math.ceil(e*n(r))}},param:[0,1]},lag:{create(e,t=Hr){return e=+e||1,{init:pm,value:(n,r)=>{const i=n.index-e;return i>=0?n.value(i,r):t}}},param:[1,2]},lead:{create(e,t=Hr){return e=+e||1,{init:pm,value:(n,r)=>{const i=n.index+e;return i<n.size?n.value(i,r):t}}},param:[1,2]},first_value:{create(){return{init:pm,value:(e,t)=>e.value(e.i0,t)}},param:[1]},last_value:{create(){return{init:pm,value:(e,t)=>e.value(e.i1-1,t)}},param:[1]},nth_value:{create(e){return e=+e,e>0||ks("nth_value nth must be greater than zero."),{init:pm,value:(t,n)=>{const r=t.i0+(e-1);return r<t.i1?t.value(r,n):Hr}}},param:[1,1]},fill_down:{create(e=Hr){let t;return{init:()=>t=e,value:(n,r)=>{const i=n.value(n.index,r);return af(i)?t=i:t}}},param:[1,1]},fill_up:{create(e=Hr){let t,n;return{init:()=>(t=e,n=-1),value:(r,i)=>r.index<=n?t:(n=bgt(r,i,r.index))>=0?t=r.value(n,i):(n=r.size,t=e)}},param:[1,1]}};function bgt(e,t,n){for(const r=e.size;n<r;++n)if(af(e.value(n,t)))return n;return-1}function aQ(e){return Object.hasOwn(PTe,e)}function lQ(e){return Object.hasOwn(OTe,e)}function NTe(e){return Object.hasOwn(_x,e)||e==="row_object"}function $Te(e){return aQ(e)&&PTe[e]}function MTe(e){return lQ(e)&&OTe[e]}function DA(e,t=((r,i)=>r),n=""){const r=e.length;if(!r)return"";let i=t(e[0],0);for(let s=1;s<r;++s)i+=n+t(e[s],s);return i}function NC(e,t,...n){const r=["_","$"],i=r.slice(0,n.length);return i.push('"use strict"; const '+n.map((s,o)=>s.map((a,l)=>`${r[o]}${l} = ${r[o]}[${l}]`).join(", ")).join(", ")+`; return (${e}) => ${t};`),Function(...i)(...n)}function uQ(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function wgt(e,t=0,n=e.length){let r=n?e[t++]:Hr;for(let i=t;i<n;++i)r<e[i]&&(r=e[i]);return r}function xgt(e,t=0,n=e.length){let r=n?e[t++]:Hr;for(let i=t;i<n;++i)r>e[i]&&(r=e[i]);return r}function vD(e){return YT(e)?e:+e}function _gt(e,t){const n=e.length;if(!n)return Hr;if((t=+t)<=0||n<2)return vD(e[0]);if(t>=1)return vD(e[n-1]);const r=(n-1)*t,i=Math.floor(r),s=vD(e[i]);return YT(s)?s:s+(vD(e[i+1])-s)*(r-i)}class Cgt{constructor(t){this._values=t||[],this._sorted=null,this._start=0}values(t){return this._start&&(this._values=this._values.slice(this._start),this._start=0),t?this._values.slice():this._values}add(t){this._values.push(t),this._sorted=null}rem(){this._start+=1,this._sorted=null}min(){return this._sorted&&this._sorted.length?this._sorted[0]:xgt(this._values,this._start)}max(){return this._sorted&&this._sorted.length?this._sorted[this._sorted.length-1]:wgt(this._values,this._start)}quantile(t){return this._sorted||(this._sorted=this.values(!0),this._sorted.sort(uQ)),_gt(this._sorted,t)}}class Egt{constructor(t){this._outputs=t}size(){return this._outputs.length}outputs(){return this._outputs}init(t){return{}}add(t,n,r){}rem(t,n,r){}write(t,n,r){}}const YN=(e,t,n)=>NC(t,"{"+DA(e,(r,i)=>`_${i}.${n}(${t});`)+"}",e);function Sgt(e,t){const{ops:n,output:r}=Tgt(e,t),i=e[0].fields,s=i.length,o=s===0?cQ:s===1?kgt:s===2?Agt:ks("Unsupported field count: "+s);return new o(i,n,r,t)}function Tgt(e,t){const n={},r=[];function i(o,a=[]){const l=o+":"+a;if(n[l])return n[l];const u=$Te(o),c=u.create(...a);return t<0&&u.stream&&u.stream.forEach(d=>i(d,[])),u.req&&u.req.forEach(d=>i(d,[])),n[l]=c,r.push(c),c}const s=e.map(o=>{const a=i(o.name,o.params);return a.output=o.id,a});return{ops:r,output:s}}class cQ extends Egt{constructor(t,n,r,i){super(r),this._op=n,this._fields=t,this._stream=!!i}init(){const t={count:0,valid:0,stream:this._stream};return this._op.forEach(n=>n.init(t)),t.values&&(t.list=new Cgt),t}write(t,n,r){const i=this._outputs,s=i.length;for(let o=0;o<s;++o)n[i[o].output][r]=i[o].value(t);return 1}_add(){}_rem(){}add(t){++t.count}rem(t){--t.count}}class kgt extends cQ{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=YN(n,s,"add"),this._rem=YN(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r);++t.count,af(i)&&(++t.valid,t.list&&t.list.add(i),this._add(t,i))}rem(t,n,r){const i=this._fields[0](n,r);--t.count,af(i)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i))}}class Agt extends cQ{constructor(t,n,r,i){super(t,n,r,i);const s=["state","v1","v2"];this._add=YN(n,s,"add"),this._rem=YN(n,s,"rem")}add(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);++t.count,af(i)&&af(s)&&(++t.valid,t.list&&t.list.add([i,s]),this._add(t,i,s))}rem(t,n,r){const i=this._fields[0](n,r),s=this._fields[1](n,r);--t.count,af(i)&&af(s)&&(--t.valid,t.list&&t.list.rem(),this._rem(t,i,s))}}function Nb(e,t,n){if(t.length){const r=e.data(),{keys:i}=e.groups()||{},s=$C(e,t),o=i?(a,l)=>s[a][i[l]]:a=>s[a][0];n=n.map(a=>l=>a(l,r,o))}return n}function $C(e,t,n){if(!t.length)return n;const r=FTe(t),i=e.groups(),s=i?i.size:1;return n=n||O$(t.length,()=>Array(s)),s>1?r.forEach(o=>{const a=jTe(e,o,i);for(let l=0;l<s;++l)o.write(a[l],n,l)}):r.forEach(o=>{const a=LTe(e,o);o.write(a,n,0)}),n}function FTe(e,t){const n=[],r={};for(const i of e){const s=i.fields.map(o=>o+"").join(",");(r[s]||(r[s]=[])).push(i)}for(const i in r)n.push(Sgt(r[i],t));return n}function LTe(e,t){const n=t.init(),r=e.data(),i=e.mask();if(e.isOrdered()){const s=e.indices(),o=s.length;for(let a=0;a<o;++a)t.add(n,s[a],r)}else if(i)for(let s=i.next(0);s>=0;s=i.next(s+1))t.add(n,s,r);else{const s=e.totalRows();for(let o=0;o<s;++o)t.add(n,o,r)}return n}function jTe(e,t,n){const{keys:r,size:i}=n,s=O$(i,()=>t.init()),o=e.data();if(e.isOrdered()){const a=e.indices(),l=a.length;for(let u=0;u<l;++u){const c=a[u];t.add(s[r[c]],c,o)}}else if(e.isFiltered()){const a=e.mask();for(let l=a.next(0);l>=0;l=a.next(l+1))t.add(s[r[l]],l,o)}else{const a=e.totalRows();for(let l=0;l<a;++l)t.add(s[r[l]],l,o)}return s}function BTe(e,t){const{get:n,names:r,rows:i,size:s}=t,o=r.length;for(let a=0;a<o;++a){const l=e.add(r[a],Array(s)),u=n[a];for(let c=0;c<s;++c)l[c]=u(i[c])}}function dQ(e){return Ul(e)?e:sQ(e)?e.entries():e?Object.entries(e):[]}const Rgt="ArrayPattern",Igt="ArrowFunctionExpression",Dgt="FunctionExpression",Jg="Identifier",MC="Literal",zTe="MemberExpression",Pgt="ObjectExpression",UTe="ObjectPattern",VTe="Property",HTe="Column",Ogt="Constant",Ngt="Dictionary",$gt="Function",Mgt="Parameter",qTe="Op";function Mr(e,t,n,r){const i=n[e.type]||n.Default;if(i&&i(e,t,r)===!1)return;const s=Fgt[e.type];s&&s(e,t,n)}const bD=(e,t,n)=>{Mr(e.argument,t,n,e)},F9=(e,t,n)=>{Mr(e.left,t,n,e),Mr(e.right,t,n,e)},Dce=(e,t,n)=>{Mr(e.test,t,n,e),Mr(e.consequent,t,n,e),e.alternate&&Mr(e.alternate,t,n,e)},L9=(e,t,n)=>{Rh(e.params,t,n,e),Mr(e.body,t,n,e)},Pce=(e,t,n)=>{Mr(e.callee,t,n,e),Rh(e.arguments,t,n,e)},Rh=(e,t,n,r)=>{e.forEach(i=>Mr(i,t,n,r))},Fgt={TemplateLiteral:(e,t,n)=>{Rh(e.expressions,t,n,e),Rh(e.quasis,t,n,e)},MemberExpression:(e,t,n)=>{Mr(e.object,t,n,e),Mr(e.property,t,n,e)},CallExpression:Pce,NewExpression:Pce,ArrayExpression:(e,t,n)=>{Rh(e.elements,t,n,e)},AssignmentExpression:F9,AwaitExpression:bD,BinaryExpression:F9,LogicalExpression:F9,UnaryExpression:bD,UpdateExpression:bD,ConditionalExpression:Dce,ObjectExpression:(e,t,n)=>{Rh(e.properties,t,n,e)},Property:(e,t,n)=>{Mr(e.key,t,n,e),Mr(e.value,t,n,e)},ArrowFunctionExpression:L9,FunctionExpression:L9,FunctionDeclaration:L9,VariableDeclaration:(e,t,n)=>{Rh(e.declarations,t,n,e)},VariableDeclarator:(e,t,n)=>{Mr(e.id,t,n,e),Mr(e.init,t,n,e)},SpreadElement:(e,t,n)=>{Mr(e.argument,t,n,e)},BlockStatement:(e,t,n)=>{Rh(e.body,t,n,e)},ExpressionStatement:(e,t,n)=>{Mr(e.expression,t,n,e)},IfStatement:Dce,ForStatement:(e,t,n)=>{Mr(e.init,t,n,e),Mr(e.test,t,n,e),Mr(e.update,t,n,e),Mr(e.body,t,n,e)},WhileStatement:(e,t,n)=>{Mr(e.test,t,n,e),Mr(e.body,t,n,e)},DoWhileStatement:(e,t,n)=>{Mr(e.body,t,n,e),Mr(e.test,t,n,e)},SwitchStatement:(e,t,n)=>{Mr(e.discriminant,t,n,e),Rh(e.cases,t,n,e)},SwitchCase:(e,t,n)=>{e.test&&Mr(e.test,t,n,e),Rh(e.consequent,t,n,e)},ReturnStatement:bD,Program:(e,t,n)=>{Mr(e.body[0],t,n,e)}};function WTe(e){delete e.start,delete e.end,delete e.optional}function Oce(e){WTe(e),delete e.object,delete e.property,delete e.computed,e.table||delete e.table}function Lgt(e){return Mr(e,null,{Column:Oce,Constant:Oce,Default:WTe}),e}function wo(e,t){return t&&t.type===e}function jgt(e){return wo(Dgt,e)||wo(Igt,e)}const Oi=(e,t)=>{const n=zgt[e.type];return n?n(e,t):ks(`Unsupported expression construct: ${e.type}`)},j9=(e,t)=>"("+Oi(e.left,t)+" "+e.operator+" "+Oi(e.right,t)+")",B9=(e,t)=>"("+Ih(e.params,t)+")=>"+Oi(e.body,t),Nce=(e,t)=>Oi(e.callee,t)+"("+Ih(e.arguments,t)+")",Ih=(e,t,n=",")=>e.map(r=>Oi(r,t)).join(n),fQ=e=>e.computed?`[${e0(e.name)}]`:`.${e.name}`,$ce=(e,t,n)=>{const r=e.table||"";return`data${r}${fQ(e)}.${n}(${t.index}${r})`},Bgt=(e,t)=>{const n=e.table||"";return`data${n}${fQ(e)}[${t.index}${n}]`},zgt={Constant:e=>e.raw,Column:(e,t)=>e.array?Bgt(e,t):$ce(e,t,"at"),Dictionary:(e,t)=>$ce(e,t,"key"),Function:e=>`fn.${e.name}`,Parameter:e=>`$${fQ(e)}`,Op:(e,t)=>`op(${e0(e.name)},${t.op||t.index})`,Literal:e=>e.raw,Identifier:e=>e.name,TemplateLiteral:(e,t)=>{const{quasis:n,expressions:r}=e,i=r.length;let s=n[0].value.raw;for(let o=0;o<i;)s+="${"+Oi(r[o],t)+"}"+n[++o].value.raw;return"`"+s+"`"},MemberExpression:(e,t)=>{const n=!e.computed,r=Oi(e.object,t),i=Oi(e.property,t);return r+(n?"."+i:"["+i+"]")},CallExpression:Nce,NewExpression:(e,t)=>"new "+Nce(e,t),ArrayExpression:(e,t)=>"["+Ih(e.elements,t)+"]",AssignmentExpression:j9,BinaryExpression:j9,LogicalExpression:j9,UnaryExpression:(e,t)=>"("+e.operator+Oi(e.argument,t)+")",ConditionalExpression:(e,t)=>"("+Oi(e.test,t)+"?"+Oi(e.consequent,t)+":"+Oi(e.alternate,t)+")",ObjectExpression:(e,t)=>"({"+Ih(e.properties,t)+"})",Property:(e,t)=>{const n=Oi(e.key,t);return(e.computed?`[${n}]`:n)+":"+Oi(e.value,t)},ArrowFunctionExpression:B9,FunctionExpression:B9,FunctionDeclaration:B9,ArrayPattern:(e,t)=>"["+Ih(e.elements,t)+"]",ObjectPattern:(e,t)=>"{"+Ih(e.properties,t)+"}",VariableDeclaration:(e,t)=>e.kind+" "+Ih(e.declarations,t,","),VariableDeclarator:(e,t)=>Oi(e.id,t)+"="+Oi(e.init,t),SpreadElement:(e,t)=>"..."+Oi(e.argument,t),BlockStatement:(e,t)=>"{"+Ih(e.body,t,";")+";}",BreakStatement:()=>"break",ExpressionStatement:(e,t)=>Oi(e.expression,t),IfStatement:(e,t)=>"if ("+Oi(e.test,t)+")"+Oi(e.consequent,t)+(e.alternate?" else "+Oi(e.alternate,t):""),SwitchStatement:(e,t)=>"switch ("+Oi(e.discriminant,t)+") {"+Ih(e.cases,t,"")+"}",SwitchCase:(e,t)=>(e.test?"case "+Oi(e.test,t):"default")+": "+Ih(e.consequent,t,";")+";",ReturnStatement:(e,t)=>"return "+Oi(e.argument,t),Program:(e,t)=>Oi(e.body[0],t)};function KN(e,t={index:"row"}){return Oi(e,t)}function h2(e,t,n){return e=`"use strict"; return ${e};`,Function("fn","$",e)(t,n)}const hQ={escape:(e,t,n)=>h2(e,t,n),expr:(e,t)=>h2(`(row,data,op)=>${e}`,_x,t),expr2:(e,t)=>h2(`(row0,data0,row,data)=>${e}`,_x,t),join:(e,t)=>h2(`(row1,data1,row2,data2)=>${e}`,_x,t),param:(e,t)=>h2(e,_x,t)},Ugt={"==":1,"!=":1,"===":1,"!==":1};function GTe(e,t,n=0,r=void 0,i=void 0){if(e.type=HTe,e.name=t,e.table=n,Wy(r)&&(e.array=!0),i&&r&&Ml(r.keyFor)){const s=Ugt[i.operator]?i.left===e?i.right:i.left:i.callee&&i.callee.name==="equal"?i.arguments[i.arguments[0]===e?1:0]:null;s&&s.type===MC&&Vgt(i,e,s,r.keyFor(s.value))}return e}function Vgt(e,t,n,r){return r<0?(e.type=MC,e.value=!1,e.raw="false"):(t.type=Ngt,n.value=r,n.raw=r+""),!0}const YTe="row_object";function KTe(e,t,n=t.columnNames()){e.type=Pgt;const r=e.properties=[];for(const i of dQ(n)){const[s,o]=Ul(i)?i:[i,i];r.push({type:VTe,key:{type:MC,raw:e0(o)},value:GTe({computed:!0},s,0,t.column(s))})}return e}function XTe(e,t){return KN(KTe({},e,t))}function QTe(e,t){return hQ.expr(XTe(e,t))}function Hgt(e){return Ml(e)?e:()=>e}const qgt="Escaped functions are not valid as rollup or pivot values.";function Wgt(e,t,n){e.aggronly&&ks(qgt);const r=`(row,data)=>fn(${XTe(e.table)},$)`;return{escape:hQ.escape(r,Hgt(t.expr),n)}}var Ggt=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],JTe=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],Ygt="-----------------------------------------------------------------------------------------------------------------------------------------------------",ZTe="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",z9={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},U9="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",Kgt={5:U9,"5module":U9+" export import",6:U9+" const class extends export import super"},Xgt=/^in(stanceof)?$/,Qgt=new RegExp("["+ZTe+"]"),Jgt=new RegExp("["+ZTe+Ygt+"]");function uH(e,t){for(var n=65536,r=0;r<t.length;r+=2){if(n+=t[r],n>e)return!1;if(n+=t[r+1],n>=e)return!0}return!1}function fp(e,t){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&Qgt.test(String.fromCharCode(e)):t===!1?!1:uH(e,JTe)}function my(e,t){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&Jgt.test(String.fromCharCode(e)):t===!1?!1:uH(e,JTe)||uH(e,Ggt)}var Ur=function(t,n){n===void 0&&(n={}),this.label=t,this.keyword=n.keyword,this.beforeExpr=!!n.beforeExpr,this.startsExpr=!!n.startsExpr,this.isLoop=!!n.isLoop,this.isAssign=!!n.isAssign,this.prefix=!!n.prefix,this.postfix=!!n.postfix,this.binop=n.binop||null,this.updateContext=null};function Rc(e,t){return new Ur(e,{beforeExpr:!0,binop:t})}var Ic={beforeExpr:!0},su={startsExpr:!0},pQ={};function Tr(e,t){return t===void 0&&(t={}),t.keyword=e,pQ[e]=new Ur(e,t)}var pe={num:new Ur("num",su),regexp:new Ur("regexp",su),string:new Ur("string",su),name:new Ur("name",su),privateId:new Ur("privateId",su),eof:new Ur("eof"),bracketL:new Ur("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new Ur("]"),braceL:new Ur("{",{beforeExpr:!0,startsExpr:!0}),braceR:new Ur("}"),parenL:new Ur("(",{beforeExpr:!0,startsExpr:!0}),parenR:new Ur(")"),comma:new Ur(",",Ic),semi:new Ur(";",Ic),colon:new Ur(":",Ic),dot:new Ur("."),question:new Ur("?",Ic),questionDot:new Ur("?."),arrow:new Ur("=>",Ic),template:new Ur("template"),invalidTemplate:new Ur("invalidTemplate"),ellipsis:new Ur("...",Ic),backQuote:new Ur("`",su),dollarBraceL:new Ur("${",{beforeExpr:!0,startsExpr:!0}),eq:new Ur("=",{beforeExpr:!0,isAssign:!0}),assign:new Ur("_=",{beforeExpr:!0,isAssign:!0}),incDec:new Ur("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new Ur("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:Rc("||",1),logicalAND:Rc("&&",2),bitwiseOR:Rc("|",3),bitwiseXOR:Rc("^",4),bitwiseAND:Rc("&",5),equality:Rc("==/!=/===/!==",6),relational:Rc("</>/<=/>=",7),bitShift:Rc("<</>>/>>>",8),plusMin:new Ur("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:Rc("%",10),star:Rc("*",10),slash:Rc("/",10),starstar:new Ur("**",{beforeExpr:!0}),coalesce:Rc("??",1),_break:Tr("break"),_case:Tr("case",Ic),_catch:Tr("catch"),_continue:Tr("continue"),_debugger:Tr("debugger"),_default:Tr("default",Ic),_do:Tr("do",{isLoop:!0,beforeExpr:!0}),_else:Tr("else",Ic),_finally:Tr("finally"),_for:Tr("for",{isLoop:!0}),_function:Tr("function",su),_if:Tr("if"),_return:Tr("return",Ic),_switch:Tr("switch"),_throw:Tr("throw",Ic),_try:Tr("try"),_var:Tr("var"),_const:Tr("const"),_while:Tr("while",{isLoop:!0}),_with:Tr("with"),_new:Tr("new",{beforeExpr:!0,startsExpr:!0}),_this:Tr("this",su),_super:Tr("super",su),_class:Tr("class",su),_extends:Tr("extends",Ic),_export:Tr("export"),_import:Tr("import",su),_null:Tr("null",su),_true:Tr("true",su),_false:Tr("false",su),_in:Tr("in",{beforeExpr:!0,binop:7}),_instanceof:Tr("instanceof",{beforeExpr:!0,binop:7}),_typeof:Tr("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Tr("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Tr("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},wu=/\r\n?|\n|\u2028|\u2029/,Zgt=new RegExp(wu.source,"g");function FC(e){return e===10||e===13||e===8232||e===8233}function eke(e,t,n){n===void 0&&(n=e.length);for(var r=t;r<n;r++){var i=e.charCodeAt(r);if(FC(i))return r<n-1&&i===13&&e.charCodeAt(r+1)===10?r+2:r+1}return-1}var tke=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Wa=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,nke=Object.prototype,eyt=nke.hasOwnProperty,tyt=nke.toString,LC=Object.hasOwn||(function(e,t){return eyt.call(e,t)}),Mce=Array.isArray||(function(e){return tyt.call(e)==="[object Array]"}),Fce=Object.create(null);function Fg(e){return Fce[e]||(Fce[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function t0(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}var nyt=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,KT=function(t,n){this.line=t,this.column=n};KT.prototype.offset=function(t){return new KT(this.line,this.column+t)};var N$=function(t,n,r){this.start=n,this.end=r,t.sourceFile!==null&&(this.source=t.sourceFile)};function rke(e,t){for(var n=1,r=0;;){var i=eke(e,r,t);if(i<0)return new KT(n,t-r);++n,r=i}}var cH={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Lce=!1;function ryt(e){var t={};for(var n in cH)t[n]=e&&LC(e,n)?e[n]:cH[n];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!Lce&&typeof console=="object"&&console.warn&&(Lce=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),(!e||e.allowHashBang==null)&&(t.allowHashBang=t.ecmaVersion>=14),Mce(t.onToken)){var r=t.onToken;t.onToken=function(i){return r.push(i)}}return Mce(t.onComment)&&(t.onComment=iyt(t,t.onComment)),t}function iyt(e,t){return function(n,r,i,s,o,a){var l={type:n?"Block":"Line",value:r,start:i,end:s};e.locations&&(l.loc=new N$(this,o,a)),e.ranges&&(l.range=[i,s]),t.push(l)}}var XT=1,jC=2,mQ=4,ike=8,gQ=16,ske=32,$$=64,oke=128,$b=256,PA=512,M$=XT|jC|$b;function yQ(e,t){return jC|(e?mQ:0)|(t?ike:0)}var XN=0,vQ=1,R0=2,ake=3,lke=4,uke=5,To=function(t,n,r){this.options=t=ryt(t),this.sourceFile=t.sourceFile,this.keywords=Fg(Kgt[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var i="";t.allowReserved!==!0&&(i=z9[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(i+=" await")),this.reservedWords=Fg(i);var s=(i?i+" ":"")+z9.strict;this.reservedWordsStrict=Fg(s),this.reservedWordsStrictBind=Fg(s+" "+z9.strictBind),this.input=String(n),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf(`
`,r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(wu).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=pe.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(XT),this.regexpState=null,this.privateNameStack=[]},Dp={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};To.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};Dp.inFunction.get=function(){return(this.currentVarScope().flags&jC)>0};Dp.inGenerator.get=function(){return(this.currentVarScope().flags&ike)>0};Dp.inAsync.get=function(){return(this.currentVarScope().flags&mQ)>0};Dp.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e],n=t.flags;if(n&($b|PA))return!1;if(n&jC)return(n&mQ)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Dp.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags;return(t&$$)>0||this.options.allowSuperOutsideMethod};Dp.allowDirectSuper.get=function(){return(this.currentThisScope().flags&oke)>0};Dp.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Dp.allowNewDotTarget.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e],n=t.flags;if(n&($b|PA)||n&jC&&!(n&gQ))return!0}return!1};Dp.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&$b)>0};To.extend=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];for(var r=this,i=0;i<t.length;i++)r=t[i](r);return r};To.parse=function(t,n){return new this(n,t).parse()};To.parseExpressionAt=function(t,n,r){var i=new this(r,t,n);return i.nextToken(),i.parseExpression()};To.tokenizer=function(t,n){return new this(n,t)};Object.defineProperties(To.prototype,Dp);var Vl=To.prototype,syt=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;Vl.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){Wa.lastIndex=e,e+=Wa.exec(this.input)[0].length;var t=syt.exec(this.input.slice(e));if(!t)return!1;if((t[1]||t[2])==="use strict"){Wa.lastIndex=e+t[0].length;var n=Wa.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return i===";"||i==="}"||wu.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||i==="!"&&this.input.charAt(r+1)==="=")}e+=t[0].length,Wa.lastIndex=e,e+=Wa.exec(this.input)[0].length,this.input[e]===";"&&e++}};Vl.eat=function(e){return this.type===e?(this.next(),!0):!1};Vl.isContextual=function(e){return this.type===pe.name&&this.value===e&&!this.containsEsc};Vl.eatContextual=function(e){return this.isContextual(e)?(this.next(),!0):!1};Vl.expectContextual=function(e){this.eatContextual(e)||this.unexpected()};Vl.canInsertSemicolon=function(){return this.type===pe.eof||this.type===pe.braceR||wu.test(this.input.slice(this.lastTokEnd,this.start))};Vl.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Vl.semicolon=function(){!this.eat(pe.semi)&&!this.insertSemicolon()&&this.unexpected()};Vl.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0};Vl.expect=function(e){this.eat(e)||this.unexpected()};Vl.unexpected=function(e){this.raise(e??this.start,"Unexpected token")};var F$=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};Vl.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,t?"Assigning to rvalue":"Parenthesized pattern")}};Vl.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")};Vl.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};Vl.isSimpleAssignTarget=function(e){return e.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(e.expression):e.type==="Identifier"||e.type==="MemberExpression"};var sn=To.prototype;sn.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==pe.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var s=i[r];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var bQ={kind:"loop"},oyt={kind:"switch"};sn.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Wa.lastIndex=this.pos;var t=Wa.exec(this.input),n=this.pos+t[0].length,r=this.input.charCodeAt(n);if(r===91||r===92)return!0;if(e)return!1;if(r===123||r>55295&&r<56320)return!0;if(fp(r,!0)){for(var i=n+1;my(r=this.input.charCodeAt(i),!0);)++i;if(r===92||r>55295&&r<56320)return!0;var s=this.input.slice(n,i);if(!Xgt.test(s))return!0}return!1};sn.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Wa.lastIndex=this.pos;var e=Wa.exec(this.input),t=this.pos+e[0].length,n;return!wu.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(my(n=this.input.charCodeAt(t+8))||n>55295&&n<56320))};sn.isUsingKeyword=function(e,t){if(this.options.ecmaVersion<17||!this.isContextual(e?"await":"using"))return!1;Wa.lastIndex=this.pos;var n=Wa.exec(this.input),r=this.pos+n[0].length;if(wu.test(this.input.slice(this.pos,r)))return!1;if(e){var i=r+5,s;if(this.input.slice(r,i)!=="using"||i===this.input.length||my(s=this.input.charCodeAt(i))||s>55295&&s<56320)return!1;Wa.lastIndex=i;var o=Wa.exec(this.input);if(o&&wu.test(this.input.slice(i,i+o[0].length)))return!1}if(t){var a=r+2,l;if(this.input.slice(r,a)==="of"&&(a===this.input.length||!my(l=this.input.charCodeAt(a))&&!(l>55295&&l<56320)))return!1}var u=this.input.charCodeAt(r);return fp(u,!0)||u===92};sn.isAwaitUsing=function(e){return this.isUsingKeyword(!0,e)};sn.isUsing=function(e){return this.isUsingKeyword(!1,e)};sn.parseStatement=function(e,t,n){var r=this.type,i=this.startNode(),s;switch(this.isLet(e)&&(r=pe._var,s="let"),r){case pe._break:case pe._continue:return this.parseBreakContinueStatement(i,r.keyword);case pe._debugger:return this.parseDebuggerStatement(i);case pe._do:return this.parseDoStatement(i);case pe._for:return this.parseForStatement(i);case pe._function:return e&&(this.strict||e!=="if"&&e!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(i,!1,!e);case pe._class:return e&&this.unexpected(),this.parseClass(i,!0);case pe._if:return this.parseIfStatement(i);case pe._return:return this.parseReturnStatement(i);case pe._switch:return this.parseSwitchStatement(i);case pe._throw:return this.parseThrowStatement(i);case pe._try:return this.parseTryStatement(i);case pe._const:case pe._var:return s=s||this.value,e&&s!=="var"&&this.unexpected(),this.parseVarStatement(i,s);case pe._while:return this.parseWhileStatement(i);case pe._with:return this.parseWithStatement(i);case pe.braceL:return this.parseBlock(!0,i);case pe.semi:return this.parseEmptyStatement(i);case pe._export:case pe._import:if(this.options.ecmaVersion>10&&r===pe._import){Wa.lastIndex=this.pos;var o=Wa.exec(this.input),a=this.pos+o[0].length,l=this.input.charCodeAt(a);if(l===40||l===46)return this.parseExpressionStatement(i,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===pe._import?this.parseImport(i):this.parseExport(i,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(i,!0,!e);var u=this.isAwaitUsing(!1)?"await using":this.isUsing(!1)?"using":null;if(u)return t&&this.options.sourceType==="script"&&this.raise(this.start,"Using declaration cannot appear in the top level when source type is `script`"),u==="await using"&&(this.canAwait||this.raise(this.start,"Await using cannot appear outside of async function"),this.next()),this.next(),this.parseVar(i,!1,u),this.semicolon(),this.finishNode(i,"VariableDeclaration");var c=this.value,d=this.parseExpression();return r===pe.name&&d.type==="Identifier"&&this.eat(pe.colon)?this.parseLabeledStatement(i,c,d,e):this.parseExpressionStatement(i,d)}};sn.parseBreakContinueStatement=function(e,t){var n=t==="break";this.next(),this.eat(pe.semi)||this.insertSemicolon()?e.label=null:this.type!==pe.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if((e.label==null||i.name===e.label.name)&&(i.kind!=null&&(n||i.kind==="loop")||e.label&&n))break}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")};sn.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")};sn.parseDoStatement=function(e){return this.next(),this.labels.push(bQ),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(pe._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(pe.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")};sn.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(bQ),this.enterScope(0),this.expect(pe.parenL),this.type===pe.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===pe._var||this.type===pe._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),this.parseForAfterInit(e,r,t)}var s=this.isContextual("let"),o=!1,a=this.isUsing(!0)?"using":this.isAwaitUsing(!0)?"await using":null;if(a){var l=this.startNode();return this.next(),a==="await using"&&this.next(),this.parseVar(l,!0,a),this.finishNode(l,"VariableDeclaration"),this.parseForAfterInit(e,l,t)}var u=this.containsEsc,c=new F$,d=this.start,f=t>-1?this.parseExprSubscripts(c,"await"):this.parseExpression(!0,c);return this.type===pe._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(t>-1?(this.type===pe._in&&this.unexpected(t),e.await=!0):o&&this.options.ecmaVersion>=8&&(f.start===d&&!u&&f.type==="Identifier"&&f.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(e.await=!1)),s&&o&&this.raise(f.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(f,!1,c),this.checkLValPattern(f),this.parseForIn(e,f)):(this.checkExpressionErrors(c,!0),t>-1&&this.unexpected(t),this.parseFor(e,f))};sn.parseForAfterInit=function(e,t,n){return(this.type===pe._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&t.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===pe._in?n>-1&&this.unexpected(n):e.await=n>-1),this.parseForIn(e,t)):(n>-1&&this.unexpected(n),this.parseFor(e,t))};sn.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,eT|(n?0:dH),!1,t)};sn.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(pe._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")};sn.parseReturnStatement=function(e){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(pe.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")};sn.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(pe.braceL),this.labels.push(oyt),this.enterScope(0);for(var t,n=!1;this.type!==pe.braceR;)if(this.type===pe._case||this.type===pe._default){var r=this.type===pe._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(pe.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")};sn.parseThrowStatement=function(e){return this.next(),wu.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var ayt=[];sn.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t=e.type==="Identifier";return this.enterScope(t?ske:0),this.checkLValPattern(e,t?lke:R0),this.expect(pe.parenR),e};sn.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===pe._catch){var t=this.startNode();this.next(),this.eat(pe.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(pe._finally)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")};sn.parseVarStatement=function(e,t,n){return this.next(),this.parseVar(e,!1,t,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")};sn.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(bQ),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")};sn.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")};sn.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")};sn.parseLabeledStatement=function(e,t,n,r){for(var i=0,s=this.labels;i<s.length;i+=1){var o=s[i];o.name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===pe._switch?"switch":null,l=this.labels.length-1;l>=0;l--){var u=this.labels[l];if(u.statementStart===e.start)u.statementStart=this.start,u.kind=a;else break}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(r?r.indexOf("label")===-1?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")};sn.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")};sn.parseBlock=function(e,t,n){for(e===void 0&&(e=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(pe.braceL),e&&this.enterScope(0);this.type!==pe.braceR;){var r=this.parseStatement(null);t.body.push(r)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")};sn.parseFor=function(e,t){return e.init=t,this.expect(pe.semi),e.test=this.type===pe.semi?null:this.parseExpression(),this.expect(pe.semi),e.update=this.type===pe.parenR?null:this.parseExpression(),this.expect(pe.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")};sn.parseForIn=function(e,t){var n=this.type===pe._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!n||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(pe.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")};sn.parseVar=function(e,t,n,r){for(e.declarations=[],e.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(pe.eq)?i.init=this.parseMaybeAssign(t):!r&&n==="const"&&!(this.type===pe._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!r&&(n==="using"||n==="await using")&&this.options.ecmaVersion>=17&&this.type!==pe._in&&!this.isContextual("of")?this.raise(this.lastTokEnd,"Missing initializer in "+n+" declaration"):!r&&i.id.type!=="Identifier"&&!(t&&(this.type===pe._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):i.init=null,e.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(pe.comma))break}return e};sn.parseVarId=function(e,t){e.id=t==="using"||t==="await using"?this.parseIdent():this.parseBindingAtom(),this.checkLValPattern(e.id,t==="var"?vQ:R0,!1)};var eT=1,dH=2,cke=4;sn.parseFunction=function(e,t,n,r,i){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===pe.star&&t&dH&&this.unexpected(),e.generator=this.eat(pe.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&eT&&(e.id=t&cke&&this.type!==pe.name?null:this.parseIdent(),e.id&&!(t&dH)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?vQ:R0:ake));var s=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(yQ(e.async,e.generator)),t&eT||(e.id=this.type===pe.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1,i),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(e,t&eT?"FunctionDeclaration":"FunctionExpression")};sn.parseFunctionParams=function(e){this.expect(pe.parenL),e.params=this.parseBindingList(pe.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};sn.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.enterClassBody(),i=this.startNode(),s=!1;for(i.body=[],this.expect(pe.braceL);this.type!==pe.braceR;){var o=this.parseClassElement(e.superClass!==null);o&&(i.body.push(o),o.type==="MethodDefinition"&&o.kind==="constructor"?(s&&this.raiseRecoverable(o.start,"Duplicate constructor in the same class"),s=!0):o.key&&o.key.type==="PrivateIdentifier"&&lyt(r,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")};sn.parseClassElement=function(e){if(this.eat(pe.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),r="",i=!1,s=!1,o="method",a=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(pe.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===pe.star?a=!0:r="static"}if(n.static=a,!r&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===pe.star)&&!this.canInsertSemicolon()?s=!0:r="async"),!r&&(t>=9||!s)&&this.eat(pe.star)&&(i=!0),!r&&!s&&!i){var l=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=l:r=l)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===pe.parenL||o!=="method"||i||s){var u=!n.static&&QN(n,"constructor"),c=u&&e;u&&o!=="method"&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=u?"constructor":o,this.parseClassMethod(n,i,s,c)}else this.parseClassField(n);return n};sn.isClassElementNameStart=function(){return this.type===pe.name||this.type===pe.privateId||this.type===pe.num||this.type===pe.string||this.type===pe.bracketL||this.type.keyword};sn.parseClassElementName=function(e){this.type===pe.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)};sn.parseClassMethod=function(e,t,n,r){var i=e.key;e.kind==="constructor"?(t&&this.raise(i.start,"Constructor can't be a generator"),n&&this.raise(i.start,"Constructor can't be an async method")):e.static&&QN(e,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var s=e.value=this.parseMethod(t,n,r);return e.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),e.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),e.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")};sn.parseClassField=function(e){return QN(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&QN(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(pe.eq)?(this.enterScope(PA|$$),e.value=this.parseMaybeAssign(),this.exitScope()):e.value=null,this.semicolon(),this.finishNode(e,"PropertyDefinition")};sn.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope($b|$$);this.type!==pe.braceR;){var n=this.parseStatement(null);e.body.push(n)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")};sn.parseClassId=function(e,t){this.type===pe.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,R0,!1)):(t===!0&&this.unexpected(),e.id=null)};sn.parseClassSuper=function(e){e.superClass=this.eat(pe._extends)?this.parseExprSubscripts(null,!1):null};sn.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared};sn.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,n=e.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,i=r===0?null:this.privateNameStack[r-1],s=0;s<n.length;++s){var o=n[s];LC(t,o.name)||(i?i.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}};function lyt(e,t){var n=t.key.name,r=e[n],i="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(i=(t.static?"s":"i")+t.kind),r==="iget"&&i==="iset"||r==="iset"&&i==="iget"||r==="sget"&&i==="sset"||r==="sset"&&i==="sget"?(e[n]="true",!1):r?!0:(e[n]=i,!1)}function QN(e,t){var n=e.computed,r=e.key;return!n&&(r.type==="Identifier"&&r.name===t||r.type==="Literal"&&r.value===t)}sn.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==pe.string&&this.unexpected(),e.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")};sn.parseExport=function(e,t){if(this.next(),this.eat(pe.star))return this.parseExportAllDeclaration(e,t);if(this.eat(pe._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),e.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null,this.options.ecmaVersion>=16&&(e.attributes=[]);else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==pe.string&&this.unexpected(),e.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause());else{for(var n=0,r=e.specifiers;n<r.length;n+=1){var i=r[n];this.checkUnreserved(i.local),this.checkLocalExport(i.local),i.local.type==="Literal"&&this.raise(i.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null,this.options.ecmaVersion>=16&&(e.attributes=[])}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")};sn.parseExportDeclaration=function(e){return this.parseStatement(null)};sn.parseExportDefaultDeclaration=function(){var e;if(this.type===pe._function||(e=this.isAsyncFunction())){var t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,eT|cke,!1,e)}else if(this.type===pe._class){var n=this.startNode();return this.parseClass(n,"nullableID")}else{var r=this.parseMaybeAssign();return this.semicolon(),r}};sn.checkExport=function(e,t,n){e&&(typeof t!="string"&&(t=t.type==="Identifier"?t.name:t.value),LC(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)};sn.checkPatternExport=function(e,t){var n=t.type;if(n==="Identifier")this.checkExport(e,t,t.start);else if(n==="ObjectPattern")for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.checkPatternExport(e,s)}else if(n==="ArrayPattern")for(var o=0,a=t.elements;o<a.length;o+=1){var l=a[o];l&&this.checkPatternExport(e,l)}else n==="Property"?this.checkPatternExport(e,t.value):n==="AssignmentPattern"?this.checkPatternExport(e,t.left):n==="RestElement"&&this.checkPatternExport(e,t.argument)};sn.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.checkPatternExport(e,i.id)}};sn.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};sn.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")};sn.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(pe.braceL);!this.eat(pe.braceR);){if(n)n=!1;else if(this.expect(pe.comma),this.afterTrailingComma(pe.braceR))break;t.push(this.parseExportSpecifier(e))}return t};sn.parseImport=function(e){return this.next(),this.type===pe.string?(e.specifiers=ayt,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===pe.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(e,"ImportDeclaration")};sn.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,R0),this.finishNode(e,"ImportSpecifier")};sn.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,R0),this.finishNode(e,"ImportDefaultSpecifier")};sn.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,R0),this.finishNode(e,"ImportNamespaceSpecifier")};sn.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===pe.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(pe.comma)))return e;if(this.type===pe.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(pe.braceL);!this.eat(pe.braceR);){if(t)t=!1;else if(this.expect(pe.comma),this.afterTrailingComma(pe.braceR))break;e.push(this.parseImportSpecifier())}return e};sn.parseWithClause=function(){var e=[];if(!this.eat(pe._with))return e;this.expect(pe.braceL);for(var t={},n=!0;!this.eat(pe.braceR);){if(n)n=!1;else if(this.expect(pe.comma),this.afterTrailingComma(pe.braceR))break;var r=this.parseImportAttribute(),i=r.key.type==="Identifier"?r.key.name:r.key.value;LC(t,i)&&this.raiseRecoverable(r.key.start,"Duplicate attribute key '"+i+"'"),t[i]=!0,e.push(r)}return e};sn.parseImportAttribute=function(){var e=this.startNode();return e.key=this.type===pe.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never"),this.expect(pe.colon),this.type!==pe.string&&this.unexpected(),e.value=this.parseExprAtom(),this.finishNode(e,"ImportAttribute")};sn.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===pe.string){var e=this.parseLiteral(this.value);return nyt.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)};sn.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)};sn.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&(this.input[e.start]==='"'||this.input[e.start]==="'")};var Sd=To.prototype;Sd.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&e.name==="await"&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.toAssignable(s,t),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":e.kind!=="init"&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),e.argument.type==="AssignmentPattern"&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":e.operator!=="="&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e};Sd.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var s=e[n-1];this.options.ecmaVersion===6&&t&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return e};Sd.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")};Sd.parseRestBinding=function(){var e=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==pe.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")};Sd.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case pe.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(pe.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case pe.braceL:return this.parseObj(!0)}return this.parseIdent()};Sd.parseBindingList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);)if(s?s=!1:this.expect(pe.comma),t&&this.type===pe.comma)i.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===pe.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),i.push(o),this.type===pe.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else i.push(this.parseAssignableListItem(r))}return i};Sd.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t};Sd.parseBindingListItem=function(e){return e};Sd.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(pe.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")};Sd.checkLValSimple=function(e,t,n){t===void 0&&(t=XN);var r=t!==XN;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(r?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&(t===R0&&e.name==="let"&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&(LC(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),t!==uke&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(r?"Binding":"Assigning to")+" rvalue")}};Sd.checkLValPattern=function(e,t,n){switch(t===void 0&&(t=XN),e.type){case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,t,n)}break;case"ArrayPattern":for(var o=0,a=e.elements;o<a.length;o+=1){var l=a[o];l&&this.checkLValInnerPattern(l,t,n)}break;default:this.checkLValSimple(e,t,n)}};Sd.checkLValInnerPattern=function(e,t,n){switch(t===void 0&&(t=XN),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var Ud=function(t,n,r,i,s){this.token=t,this.isExpr=!!n,this.preserveSpace=!!r,this.override=i,this.generator=!!s},ts={b_stat:new Ud("{",!1),b_expr:new Ud("{",!0),b_tmpl:new Ud("${",!1),p_stat:new Ud("(",!1),p_expr:new Ud("(",!0),q_tmpl:new Ud("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new Ud("function",!1),f_expr:new Ud("function",!0),f_expr_gen:new Ud("function",!0,!1,null,!0),f_gen:new Ud("function",!1,!1,null,!0)},BC=To.prototype;BC.initialContext=function(){return[ts.b_stat]};BC.curContext=function(){return this.context[this.context.length-1]};BC.braceIsBlock=function(e){var t=this.curContext();return t===ts.f_expr||t===ts.f_stat?!0:e===pe.colon&&(t===ts.b_stat||t===ts.b_expr)?!t.isExpr:e===pe._return||e===pe.name&&this.exprAllowed?wu.test(this.input.slice(this.lastTokEnd,this.start)):e===pe._else||e===pe.semi||e===pe.eof||e===pe.parenR||e===pe.arrow?!0:e===pe.braceL?t===ts.b_stat:e===pe._var||e===pe._const||e===pe.name?!1:!this.exprAllowed};BC.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if(t.token==="function")return t.generator}return!1};BC.updateContext=function(e){var t,n=this.type;n.keyword&&e===pe.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr};BC.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)};pe.parenR.updateContext=pe.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var e=this.context.pop();e===ts.b_stat&&this.curContext().token==="function"&&(e=this.context.pop()),this.exprAllowed=!e.isExpr};pe.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?ts.b_stat:ts.b_expr),this.exprAllowed=!0};pe.dollarBraceL.updateContext=function(){this.context.push(ts.b_tmpl),this.exprAllowed=!0};pe.parenL.updateContext=function(e){var t=e===pe._if||e===pe._for||e===pe._with||e===pe._while;this.context.push(t?ts.p_stat:ts.p_expr),this.exprAllowed=!0};pe.incDec.updateContext=function(){};pe._function.updateContext=pe._class.updateContext=function(e){e.beforeExpr&&e!==pe._else&&!(e===pe.semi&&this.curContext()!==ts.p_stat)&&!(e===pe._return&&wu.test(this.input.slice(this.lastTokEnd,this.start)))&&!((e===pe.colon||e===pe.braceL)&&this.curContext()===ts.b_stat)?this.context.push(ts.f_expr):this.context.push(ts.f_stat),this.exprAllowed=!1};pe.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};pe.backQuote.updateContext=function(){this.curContext()===ts.q_tmpl?this.context.pop():this.context.push(ts.q_tmpl),this.exprAllowed=!1};pe.star.updateContext=function(e){if(e===pe._function){var t=this.context.length-1;this.context[t]===ts.f_expr?this.context[t]=ts.f_expr_gen:this.context[t]=ts.f_gen}this.exprAllowed=!0};pe.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==pe.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var Yn=To.prototype;Yn.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&e.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r=e.key,i;switch(r.type){case"Identifier":i=r.name;break;case"Literal":i=String(r.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6){i==="__proto__"&&s==="init"&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),t.proto=!0);return}i="$"+i;var o=t[i];if(o){var a;s==="init"?a=this.strict&&o.init||o.get||o.set:a=o.init||o[s],a&&this.raiseRecoverable(r.start,"Redefinition of property")}else o=t[i]={init:!1,get:!1,set:!1};o[s]=!0}};Yn.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===pe.comma){var s=this.startNodeAt(n,r);for(s.expressions=[i];this.eat(pe.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return i};Yn.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,i=-1,s=-1,o=-1;t?(i=t.parenthesizedAssign,s=t.trailingComma,o=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new F$,r=!0);var a=this.start,l=this.startLoc;(this.type===pe.parenL||this.type===pe.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=e==="await");var u=this.parseMaybeConditional(e,t);if(n&&(u=n.call(this,u,a,l)),this.type.isAssign){var c=this.startNodeAt(a,l);return c.operator=this.value,this.type===pe.eq&&(u=this.toAssignable(u,!1,t)),r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=u.start&&(t.shorthandAssign=-1),this.type===pe.eq?this.checkLValPattern(u):this.checkLValSimple(u),c.left=u,this.next(),c.right=this.parseMaybeAssign(e),o>-1&&(t.doubleProto=o),this.finishNode(c,"AssignmentExpression")}else r&&this.checkExpressionErrors(t,!0);return i>-1&&(t.parenthesizedAssign=i),s>-1&&(t.trailingComma=s),u};Yn.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(pe.question)){var s=this.startNodeAt(n,r);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(pe.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return i};Yn.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||i.start===n&&i.type==="ArrowFunctionExpression"?i:this.parseExprOp(i,n,r,-1,e)};Yn.parseExprOp=function(e,t,n,r,i){var s=this.type.binop;if(s!=null&&(!i||this.type!==pe._in)&&s>r){var o=this.type===pe.logicalOR||this.type===pe.logicalAND,a=this.type===pe.coalesce;a&&(s=pe.logicalAND.binop);var l=this.value;this.next();var u=this.start,c=this.startLoc,d=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,i),u,c,s,i),f=this.buildBinary(t,n,e,d,l,o||a);return(o&&this.type===pe.coalesce||a&&(this.type===pe.logicalOR||this.type===pe.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(f,t,n,r,i)}return e};Yn.buildBinary=function(e,t,n,r,i,s){r.type==="PrivateIdentifier"&&this.raise(r.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(e,t);return o.left=n,o.operator=i,o.right=r,this.finishNode(o,s?"LogicalExpression":"BinaryExpression")};Yn.parseMaybeUnary=function(e,t,n,r){var i=this.start,s=this.startLoc,o;if(this.isContextual("await")&&this.canAwait)o=this.parseAwait(r),t=!0;else if(this.type.prefix){var a=this.startNode(),l=this.type===pe.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,l,r),this.checkExpressionErrors(e,!0),l?this.checkLValSimple(a.argument):this.strict&&a.operator==="delete"&&dke(a.argument)?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):a.operator==="delete"&&fH(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):t=!0,o=this.finishNode(a,l?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===pe.privateId)(r||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),o=this.parsePrivateIdent(),this.type!==pe._in&&this.unexpected();else{if(o=this.parseExprSubscripts(e,r),this.checkExpressionErrors(e))return o;for(;this.type.postfix&&!this.canInsertSemicolon();){var u=this.startNodeAt(i,s);u.operator=this.value,u.prefix=!1,u.argument=o,this.checkLValSimple(o),this.next(),o=this.finishNode(u,"UpdateExpression")}}if(!n&&this.eat(pe.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(i,s,o,this.parseMaybeUnary(null,!1,!1,r),"**",!1);else return o};function dke(e){return e.type==="Identifier"||e.type==="ParenthesizedExpression"&&dke(e.expression)}function fH(e){return e.type==="MemberExpression"&&e.property.type==="PrivateIdentifier"||e.type==="ChainExpression"&&fH(e.expression)||e.type==="ParenthesizedExpression"&&fH(e.expression)}Yn.parseExprSubscripts=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprAtom(e,t);if(i.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return i;var s=this.parseSubscripts(i,n,r,!1,t);return e&&s.type==="MemberExpression"&&(e.parenthesizedAssign>=s.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=s.start&&(e.parenthesizedBind=-1),e.trailingComma>=s.start&&(e.trailingComma=-1)),s};Yn.parseSubscripts=function(e,t,n,r,i){for(var s=this.options.ecmaVersion>=8&&e.type==="Identifier"&&e.name==="async"&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,o=!1;;){var a=this.parseSubscript(e,t,n,r,s,o,i);if(a.optional&&(o=!0),a===e||a.type==="ArrowFunctionExpression"){if(o){var l=this.startNodeAt(t,n);l.expression=a,a=this.finishNode(l,"ChainExpression")}return a}e=a}};Yn.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(pe.arrow)};Yn.parseSubscriptAsyncArrow=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!0,r)};Yn.parseSubscript=function(e,t,n,r,i,s,o){var a=this.options.ecmaVersion>=11,l=a&&this.eat(pe.questionDot);r&&l&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var u=this.eat(pe.bracketL);if(u||l&&this.type!==pe.parenL&&this.type!==pe.backQuote||this.eat(pe.dot)){var c=this.startNodeAt(t,n);c.object=e,u?(c.property=this.parseExpression(),this.expect(pe.bracketR)):this.type===pe.privateId&&e.type!=="Super"?c.property=this.parsePrivateIdent():c.property=this.parseIdent(this.options.allowReserved!=="never"),c.computed=!!u,a&&(c.optional=l),e=this.finishNode(c,"MemberExpression")}else if(!r&&this.eat(pe.parenL)){var d=new F$,f=this.yieldPos,h=this.awaitPos,p=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var m=this.parseExprList(pe.parenR,this.options.ecmaVersion>=8,!1,d);if(i&&!l&&this.shouldParseAsyncArrow())return this.checkPatternErrors(d,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=f,this.awaitPos=h,this.awaitIdentPos=p,this.parseSubscriptAsyncArrow(t,n,m,o);this.checkExpressionErrors(d,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=h||this.awaitPos,this.awaitIdentPos=p||this.awaitIdentPos;var g=this.startNodeAt(t,n);g.callee=e,g.arguments=m,a&&(g.optional=l),e=this.finishNode(g,"CallExpression")}else if(this.type===pe.backQuote){(l||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var y=this.startNodeAt(t,n);y.tag=e,y.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(y,"TaggedTemplateExpression")}return e};Yn.parseExprAtom=function(e,t,n){this.type===pe.slash&&this.readRegexp();var r,i=this.potentialArrowAt===this.start;switch(this.type){case pe._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===pe.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==pe.dot&&this.type!==pe.bracketL&&this.type!==pe.parenL&&this.unexpected(),this.finishNode(r,"Super");case pe._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case pe.name:var s=this.start,o=this.startLoc,a=this.containsEsc,l=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&l.name==="async"&&!this.canInsertSemicolon()&&this.eat(pe._function))return this.overrideContext(ts.f_expr),this.parseFunction(this.startNodeAt(s,o),0,!1,!0,t);if(i&&!this.canInsertSemicolon()){if(this.eat(pe.arrow))return this.parseArrowExpression(this.startNodeAt(s,o),[l],!1,t);if(this.options.ecmaVersion>=8&&l.name==="async"&&this.type===pe.name&&!a&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return l=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(pe.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,o),[l],!0,t)}return l;case pe.regexp:var u=this.value;return r=this.parseLiteral(u.value),r.regex={pattern:u.pattern,flags:u.flags},r;case pe.num:case pe.string:return this.parseLiteral(this.value);case pe._null:case pe._true:case pe._false:return r=this.startNode(),r.value=this.type===pe._null?null:this.type===pe._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case pe.parenL:var c=this.start,d=this.parseParenAndDistinguishExpression(i,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(d)&&(e.parenthesizedAssign=c),e.parenthesizedBind<0&&(e.parenthesizedBind=c)),d;case pe.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(pe.bracketR,!0,!0,e),this.finishNode(r,"ArrayExpression");case pe.braceL:return this.overrideContext(ts.b_expr),this.parseObj(!1,e);case pe._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case pe._class:return this.parseClass(this.startNode(),!1);case pe._new:return this.parseNew();case pe.backQuote:return this.parseTemplate();case pe._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}};Yn.parseExprAtomDefault=function(){this.unexpected()};Yn.parseExprImport=function(e){var t=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===pe.parenL&&!e)return this.parseDynamicImport(t);if(this.type===pe.dot){var n=this.startNodeAt(t.start,t.loc&&t.loc.start);return n.name="import",t.meta=this.finishNode(n,"Identifier"),this.parseImportMeta(t)}else this.unexpected()};Yn.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(pe.parenR)?e.options=null:(this.expect(pe.comma),this.afterTrailingComma(pe.parenR)?e.options=null:(e.options=this.parseMaybeAssign(),this.eat(pe.parenR)||(this.expect(pe.comma),this.afterTrailingComma(pe.parenR)||this.unexpected())));else if(!this.eat(pe.parenR)){var t=this.start;this.eat(pe.comma)&&this.eat(pe.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")};Yn.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="meta"&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")};Yn.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.value!=null?t.value.toString():t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")};Yn.parseParenExpression=function(){this.expect(pe.parenL);var e=this.parseExpression();return this.expect(pe.parenR),e};Yn.shouldParseArrow=function(e){return!this.canInsertSemicolon()};Yn.parseParenAndDistinguishExpression=function(e,t){var n=this.start,r=this.startLoc,i,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o=this.start,a=this.startLoc,l=[],u=!0,c=!1,d=new F$,f=this.yieldPos,h=this.awaitPos,p;for(this.yieldPos=0,this.awaitPos=0;this.type!==pe.parenR;)if(u?u=!1:this.expect(pe.comma),s&&this.afterTrailingComma(pe.parenR,!0)){c=!0;break}else if(this.type===pe.ellipsis){p=this.start,l.push(this.parseParenItem(this.parseRestBinding())),this.type===pe.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else l.push(this.parseMaybeAssign(!1,d,this.parseParenItem));var m=this.lastTokEnd,g=this.lastTokEndLoc;if(this.expect(pe.parenR),e&&this.shouldParseArrow(l)&&this.eat(pe.arrow))return this.checkPatternErrors(d,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=f,this.awaitPos=h,this.parseParenArrowList(n,r,l,t);(!l.length||c)&&this.unexpected(this.lastTokStart),p&&this.unexpected(p),this.checkExpressionErrors(d,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=h||this.awaitPos,l.length>1?(i=this.startNodeAt(o,a),i.expressions=l,this.finishNodeAt(i,"SequenceExpression",m,g)):i=l[0]}else i=this.parseParenExpression();if(this.options.preserveParens){var y=this.startNodeAt(n,r);return y.expression=i,this.finishNode(y,"ParenthesizedExpression")}else return i};Yn.parseParenItem=function(e){return e};Yn.parseParenArrowList=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!1,r)};var uyt=[];Yn.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===pe.dot){var t=this.startNodeAt(e.start,e.loc&&e.loc.start);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var n=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="target"&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,i,!0,!1),this.eat(pe.parenL)?e.arguments=this.parseExprList(pe.parenR,this.options.ecmaVersion>=8,!1):e.arguments=uyt,this.finishNode(e,"NewExpression")};Yn.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===pe.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),n.tail=this.type===pe.backQuote,this.finishNode(n,"TemplateElement")};Yn.parseTemplate=function(e){e===void 0&&(e={});var t=e.isTagged;t===void 0&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(n.quasis=[r];!r.tail;)this.type===pe.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(pe.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(pe.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")};Yn.isAsyncProp=function(e){return!e.computed&&e.key.type==="Identifier"&&e.key.name==="async"&&(this.type===pe.name||this.type===pe.num||this.type===pe.string||this.type===pe.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===pe.star)&&!wu.test(this.input.slice(this.lastTokEnd,this.start))};Yn.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(pe.braceR);){if(r)r=!1;else if(this.expect(pe.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(pe.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,i,t),n.properties.push(s)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")};Yn.parseProperty=function(e,t){var n=this.startNode(),r,i,s,o;if(this.options.ecmaVersion>=9&&this.eat(pe.ellipsis))return e?(n.argument=this.parseIdent(!1),this.type===pe.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(n,"RestElement")):(n.argument=this.parseMaybeAssign(!1,t),this.type===pe.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(n,"SpreadElement"));this.options.ecmaVersion>=6&&(n.method=!1,n.shorthand=!1,(e||t)&&(s=this.start,o=this.startLoc),e||(r=this.eat(pe.star)));var a=this.containsEsc;return this.parsePropertyName(n),!e&&!a&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(n)?(i=!0,r=this.options.ecmaVersion>=9&&this.eat(pe.star),this.parsePropertyName(n)):i=!1,this.parsePropertyValue(n,e,r,i,s,o,t,a),this.finishNode(n,"Property")};Yn.parseGetterSetter=function(e){var t=e.key.name;this.parsePropertyName(e),e.value=this.parseMethod(!1),e.kind=t;var n=e.kind==="get"?0:1;if(e.value.params.length!==n){var r=e.value.start;e.kind==="get"?this.raiseRecoverable(r,"getter should have no params"):this.raiseRecoverable(r,"setter should have exactly one param")}else e.kind==="set"&&e.value.params[0].type==="RestElement"&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")};Yn.parsePropertyValue=function(e,t,n,r,i,s,o,a){(n||r)&&this.type===pe.colon&&this.unexpected(),this.eat(pe.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),e.kind="init"):this.options.ecmaVersion>=6&&this.type===pe.parenL?(t&&this.unexpected(),e.method=!0,e.value=this.parseMethod(n,r),e.kind="init"):!t&&!a&&this.options.ecmaVersion>=5&&!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.type!==pe.comma&&this.type!==pe.braceR&&this.type!==pe.eq?((n||r)&&this.unexpected(),this.parseGetterSetter(e)):this.options.ecmaVersion>=6&&!e.computed&&e.key.type==="Identifier"?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),e.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i),t?e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key)):this.type===pe.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.kind="init",e.shorthand=!0):this.unexpected()};Yn.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(pe.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(pe.bracketR),e.key;e.computed=!1}return e.key=this.type===pe.num||this.type===pe.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};Yn.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)};Yn.parseMethod=function(e,t,n){var r=this.startNode(),i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(yQ(t,r.generator)|$$|(n?oke:0)),this.expect(pe.parenL),r.params=this.parseBindingList(pe.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(r,"FunctionExpression")};Yn.parseArrowExpression=function(e,t,n,r){var i=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(yQ(n,!1)|gQ),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,r),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(e,"ArrowFunctionExpression")};Yn.parseFunctionBody=function(e,t,n,r){var i=t&&this.type!==pe.braceL,s=this.strict,o=!1;if(i)e.body=this.parseMaybeAssign(r),e.expression=!0,this.checkParams(e,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!s||a)&&(o=this.strictDirective(this.end),o&&a&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var l=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(e,!s&&!o&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,uke),e.body=this.parseBlock(!1,void 0,o&&!s),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=l}this.exitScope()};Yn.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(r.type!=="Identifier")return!1}return!0};Yn.checkParams=function(e,t){for(var n=Object.create(null),r=0,i=e.params;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,vQ,t?null:n)}};Yn.parseExprList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(pe.comma),t&&this.afterTrailingComma(e))break;var o=void 0;n&&this.type===pe.comma?o=null:this.type===pe.ellipsis?(o=this.parseSpread(r),r&&this.type===pe.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):o=this.parseMaybeAssign(!1,r),i.push(o)}return i};Yn.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;if(this.inGenerator&&r==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),!(this.currentThisScope().flags&M$)&&r==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(r==="arguments"||r==="await")&&this.raise(t,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,n).indexOf("\\")!==-1)){var i=this.strict?this.reservedWordsStrict:this.reservedWords;i.test(r)&&(!this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))}};Yn.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=t.start)),t};Yn.parseIdentNode=function(){var e=this.startNode();return this.type===pe.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,(e.name==="class"||e.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=pe.name):this.unexpected(),e};Yn.parsePrivateIdent=function(){var e=this.startNode();return this.type===pe.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e};Yn.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===pe.semi||this.canInsertSemicolon()||this.type!==pe.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(pe.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")};Yn.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var JN=To.prototype;JN.raise=function(e,t){var n=rke(this.input,e);t+=" ("+n.line+":"+n.column+")",this.sourceFile&&(t+=" in "+this.sourceFile);var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r};JN.raiseRecoverable=JN.raise;JN.curPosition=function(){if(this.options.locations)return new KT(this.curLine,this.pos-this.lineStart)};var Gy=To.prototype,cyt=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[]};Gy.enterScope=function(e){this.scopeStack.push(new cyt(e))};Gy.exitScope=function(){this.scopeStack.pop()};Gy.treatFunctionsAsVarInScope=function(e){return e.flags&jC||!this.inModule&&e.flags&XT};Gy.declareName=function(e,t,n){var r=!1;if(t===R0){var i=this.currentScope();r=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i.var.indexOf(e)>-1,i.lexical.push(e),this.inModule&&i.flags&XT&&delete this.undefinedExports[e]}else if(t===lke){var s=this.currentScope();s.lexical.push(e)}else if(t===ake){var o=this.currentScope();this.treatFunctionsAsVar?r=o.lexical.indexOf(e)>-1:r=o.lexical.indexOf(e)>-1||o.var.indexOf(e)>-1,o.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var l=this.scopeStack[a];if(l.lexical.indexOf(e)>-1&&!(l.flags&ske&&l.lexical[0]===e)||!this.treatFunctionsAsVarInScope(l)&&l.functions.indexOf(e)>-1){r=!0;break}if(l.var.push(e),this.inModule&&l.flags&XT&&delete this.undefinedExports[e],l.flags&M$)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")};Gy.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0].var.indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)};Gy.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Gy.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&(M$|PA|$b))return t}};Gy.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&(M$|PA|$b)&&!(t.flags&gQ))return t}};var L$=function(t,n,r){this.type="",this.start=n,this.end=0,t.options.locations&&(this.loc=new N$(t,r)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[n,0])},OA=To.prototype;OA.startNode=function(){return new L$(this,this.start,this.startLoc)};OA.startNodeAt=function(e,t){return new L$(this,e,t)};function fke(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}OA.finishNode=function(e,t){return fke.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)};OA.finishNodeAt=function(e,t,n,r){return fke.call(this,e,t,n,r)};OA.copyNode=function(e){var t=new L$(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};var dyt="Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz",hke="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",pke=hke+" Extended_Pictographic",mke=pke,gke=mke+" EBase EComp EMod EPres ExtPict",yke=gke,fyt=yke,hyt={9:hke,10:pke,11:mke,12:gke,13:yke,14:fyt},pyt="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",myt={9:"",10:"",11:"",12:"",13:"",14:pyt},jce="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",vke="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",bke=vke+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",wke=bke+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",xke=wke+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",_ke=xke+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",gyt=_ke+" "+dyt,yyt={9:vke,10:bke,11:wke,12:xke,13:_ke,14:gyt},Cke={};function vyt(e){var t=Cke[e]={binary:Fg(hyt[e]+" "+jce),binaryOfStrings:Fg(myt[e]),nonBinary:{General_Category:Fg(jce),Script:Fg(yyt[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var V9=0,Bce=[9,10,11,12,13,14];V9<Bce.length;V9+=1){var byt=Bce[V9];vyt(byt)}var nn=To.prototype,ZN=function(t,n){this.parent=t,this.base=n||this};ZN.prototype.separatedFrom=function(t){for(var n=this;n;n=n.parent)for(var r=t;r;r=r.parent)if(n.base===r.base&&n!==r)return!0;return!1};ZN.prototype.sibling=function(){return new ZN(this.parent,this.base)};var Pp=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Cke[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};Pp.prototype.reset=function(t,n,r){var i=r.indexOf("v")!==-1,s=r.indexOf("u")!==-1;this.start=t|0,this.source=n+"",this.flags=r,i&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)};Pp.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};Pp.prototype.at=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return-1;var s=r.charCodeAt(t);if(!(n||this.switchU)||s<=55295||s>=57344||t+1>=i)return s;var o=r.charCodeAt(t+1);return o>=56320&&o<=57343?(s<<10)+o-56613888:s};Pp.prototype.nextIndex=function(t,n){n===void 0&&(n=!1);var r=this.source,i=r.length;if(t>=i)return i;var s=r.charCodeAt(t),o;return!(n||this.switchU)||s<=55295||s>=57344||t+1>=i||(o=r.charCodeAt(t+1))<56320||o>57343?t+1:t+2};Pp.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)};Pp.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};Pp.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};Pp.prototype.eat=function(t,n){return n===void 0&&(n=!1),this.current(n)===t?(this.advance(n),!0):!1};Pp.prototype.eatChars=function(t,n){n===void 0&&(n=!1);for(var r=this.pos,i=0,s=t;i<s.length;i+=1){var o=s[i],a=this.at(r,n);if(a===-1||a!==o)return!1;r=this.nextIndex(r,n)}return this.pos=r,!0};nn.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=!1,i=!1,s=0;s<n.length;s++){var o=n.charAt(s);t.indexOf(o)===-1&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(o,s+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),o==="u"&&(r=!0),o==="v"&&(i=!0)}this.options.ecmaVersion>=15&&r&&i&&this.raise(e.start,"Invalid regular expression flag")};function wyt(e){for(var t in e)return!0;return!1}nn.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&wyt(e.groupNames)&&(e.switchN=!0,this.regexp_pattern(e))};nn.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames=Object.create(null),e.backReferenceNames.length=0,e.branchID=null,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var r=n[t];e.groupNames[r]||e.raise("Invalid named capture referenced")}};nn.regexp_disjunction=function(e){var t=this.options.ecmaVersion>=16;for(t&&(e.branchID=new ZN(e.branchID,null)),this.regexp_alternative(e);e.eat(124);)t&&(e.branchID=e.branchID.sibling()),this.regexp_alternative(e);t&&(e.branchID=e.branchID.parent),this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")};nn.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););};nn.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))?(this.regexp_eatQuantifier(e),!0):!1};nn.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1};nn.regexp_eatQuantifier=function(e,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(e,t)?(e.eat(63),!0):!1};nn.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)};nn.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return i!==-1&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1};nn.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)};nn.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1};nn.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)){if(this.options.ecmaVersion>=16){var n=this.regexp_eatModifiers(e),r=e.eat(45);if(n||r){for(var i=0;i<n.length;i++){var s=n.charAt(i);n.indexOf(s,i+1)>-1&&e.raise("Duplicate regular expression modifiers")}if(r){var o=this.regexp_eatModifiers(e);!n&&!o&&e.current()===58&&e.raise("Invalid regular expression modifiers");for(var a=0;a<o.length;a++){var l=o.charAt(a);(o.indexOf(l,a+1)>-1||n.indexOf(l)>-1)&&e.raise("Duplicate regular expression modifiers")}}}}if(e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}}e.pos=t}return!1};nn.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):e.current()===63&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1};nn.regexp_eatModifiers=function(e){for(var t="",n=0;(n=e.current())!==-1&&xyt(n);)t+=t0(n),e.advance();return t};function xyt(e){return e===105||e===109||e===115}nn.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)};nn.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1};nn.regexp_eatSyntaxCharacter=function(e){var t=e.current();return Eke(t)?(e.lastIntValue=t,e.advance(),!0):!1};function Eke(e){return e===36||e>=40&&e<=43||e===46||e===63||e>=91&&e<=94||e>=123&&e<=125}nn.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;(n=e.current())!==-1&&!Eke(n);)e.advance();return e.pos!==t};nn.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(e.advance(),!0):!1};nn.regexp_groupSpecifier=function(e){if(e.eat(63)){this.regexp_eatGroupName(e)||e.raise("Invalid group");var t=this.options.ecmaVersion>=16,n=e.groupNames[e.lastStringValue];if(n)if(t)for(var r=0,i=n;r<i.length;r+=1){var s=i[r];s.separatedFrom(e.branchID)||e.raise("Duplicate capture group name")}else e.raise("Duplicate capture group name");t?(n||(e.groupNames[e.lastStringValue]=[])).push(e.branchID):e.groupNames[e.lastStringValue]=!0}};nn.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1};nn.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=t0(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=t0(e.lastIntValue);return!0}return!1};nn.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),_yt(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function _yt(e){return fp(e,!0)||e===36||e===95}nn.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),Cyt(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};function Cyt(e){return my(e,!0)||e===36||e===95||e===8204||e===8205}nn.regexp_eatAtomEscape=function(e){return this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e)?!0:(e.switchU&&(e.current()===99&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)};nn.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1};nn.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1};nn.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)};nn.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1};nn.regexp_eatZero=function(e){return e.current()===48&&!j$(e.lookahead())?(e.lastIntValue=0,e.advance(),!0):!1};nn.regexp_eatControlEscape=function(e){var t=e.current();return t===116?(e.lastIntValue=9,e.advance(),!0):t===110?(e.lastIntValue=10,e.advance(),!0):t===118?(e.lastIntValue=11,e.advance(),!0):t===102?(e.lastIntValue=12,e.advance(),!0):t===114?(e.lastIntValue=13,e.advance(),!0):!1};nn.regexp_eatControlLetter=function(e){var t=e.current();return Ske(t)?(e.lastIntValue=t%32,e.advance(),!0):!1};function Ske(e){return e>=65&&e<=90||e>=97&&e<=122}nn.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){t===void 0&&(t=!1);var n=e.pos,r=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(r&&i>=55296&&i<=56319){var s=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var o=e.lastIntValue;if(o>=56320&&o<=57343)return e.lastIntValue=(i-55296)*1024+(o-56320)+65536,!0}e.pos=s,e.lastIntValue=i}return!0}if(r&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&Eyt(e.lastIntValue))return!0;r&&e.raise("Invalid unicode escape"),e.pos=n}return!1};function Eyt(e){return e>=0&&e<=1114111}nn.regexp_eatIdentityEscape=function(e){if(e.switchU)return this.regexp_eatSyntaxCharacter(e)?!0:e.eat(47)?(e.lastIntValue=47,!0):!1;var t=e.current();return t!==99&&(!e.switchN||t!==107)?(e.lastIntValue=t,e.advance(),!0):!1};nn.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1};var Tke=0,n0=1,Uc=2;nn.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(Syt(t))return e.lastIntValue=-1,e.advance(),n0;var n=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((n=t===80)||t===112)){e.lastIntValue=-1,e.advance();var r;if(e.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return n&&r===Uc&&e.raise("Invalid property name"),r;e.raise("Invalid property name")}return Tke};function Syt(e){return e===100||e===68||e===115||e===83||e===119||e===87}nn.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,r),n0}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,i)}return Tke};nn.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){LC(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")};nn.regexp_validateUnicodePropertyNameOrValue=function(e,t){if(e.unicodeProperties.binary.test(t))return n0;if(e.switchV&&e.unicodeProperties.binaryOfStrings.test(t))return Uc;e.raise("Invalid property name")};nn.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";kke(t=e.current());)e.lastStringValue+=t0(t),e.advance();return e.lastStringValue!==""};function kke(e){return Ske(e)||e===95}nn.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";Tyt(t=e.current());)e.lastStringValue+=t0(t),e.advance();return e.lastStringValue!==""};function Tyt(e){return kke(e)||j$(e)}nn.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)};nn.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),n=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&n===Uc&&e.raise("Negated character class may contain strings"),!0}return!1};nn.regexp_classContents=function(e){return e.current()===93?n0:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),n0)};nn.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;e.switchU&&(t===-1||n===-1)&&e.raise("Invalid character class"),t!==-1&&n!==-1&&t>n&&e.raise("Range out of order in character class")}}};nn.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(n===99||Ike(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return r!==93?(e.lastIntValue=r,e.advance(),!0):!1};nn.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)};nn.regexp_classSetExpression=function(e){var t=n0,n;if(!this.regexp_eatClassSetRange(e))if(n=this.regexp_eatClassSetOperand(e)){n===Uc&&(t=Uc);for(var r=e.pos;e.eatChars([38,38]);){if(e.current()!==38&&(n=this.regexp_eatClassSetOperand(e))){n!==Uc&&(t=n0);continue}e.raise("Invalid character in character class")}if(r!==e.pos)return t;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(r!==e.pos)return t}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(n=this.regexp_eatClassSetOperand(e),!n)return t;n===Uc&&(t=Uc)}};nn.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var r=e.lastIntValue;return n!==-1&&r!==-1&&n>r&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1};nn.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?n0:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)};nn.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var n=e.eat(94),r=this.regexp_classContents(e);if(e.eat(93))return n&&r===Uc&&e.raise("Negated character class may contain strings"),r;e.pos=t}if(e.eat(92)){var i=this.regexp_eatCharacterClassEscape(e);if(i)return i;e.pos=t}return null};nn.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var n=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return n}else e.raise("Invalid escape");e.pos=t}return null};nn.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)this.regexp_classString(e)===Uc&&(t=Uc);return t};nn.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return t===1?n0:Uc};nn.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e)?!0:e.eat(98)?(e.lastIntValue=8,!0):(e.pos=t,!1);var n=e.current();return n<0||n===e.lookahead()&&kyt(n)||Ayt(n)?!1:(e.advance(),e.lastIntValue=n,!0)};function kyt(e){return e===33||e>=35&&e<=38||e>=42&&e<=44||e===46||e>=58&&e<=64||e===94||e===96||e===126}function Ayt(e){return e===40||e===41||e===45||e===47||e>=91&&e<=93||e>=123&&e<=125}nn.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return Ryt(t)?(e.lastIntValue=t,e.advance(),!0):!1};function Ryt(e){return e===33||e===35||e===37||e===38||e===44||e===45||e>=58&&e<=62||e===64||e===96||e===126}nn.regexp_eatClassControlLetter=function(e){var t=e.current();return j$(t)||t===95?(e.lastIntValue=t%32,e.advance(),!0):!1};nn.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1};nn.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;j$(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t};function j$(e){return e>=48&&e<=57}nn.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;Ake(n=e.current());)e.lastIntValue=16*e.lastIntValue+Rke(n),e.advance();return e.pos!==t};function Ake(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function Rke(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}nn.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=t*64+n*8+e.lastIntValue:e.lastIntValue=t*8+n}else e.lastIntValue=t;return!0}return!1};nn.regexp_eatOctalDigit=function(e){var t=e.current();return Ike(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)};function Ike(e){return e>=48&&e<=55}nn.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var i=e.current();if(!Ake(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+Rke(i),e.advance()}return!0};var wQ=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new N$(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},Sr=To.prototype;Sr.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new wQ(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};Sr.getToken=function(){return this.next(),new wQ(this)};typeof Symbol<"u"&&(Sr[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===pe.eof,value:t}}}});Sr.nextToken=function(){var e=this.curContext();if((!e||!e.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(pe.eof);if(e.override)return e.override(this);this.readToken(this.fullCharCodeAtPos())};Sr.readToken=function(e){return fp(e,this.options.ecmaVersion>=6)||e===92?this.readWord():this.getTokenFromCode(e)};Sr.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888};Sr.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var r=void 0,i=t;(r=eke(this.input,i,this.pos))>-1;)++this.curLine,i=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())};Sr.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!FC(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())};Sr.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&tke.test(String.fromCharCode(e)))++this.pos;else break e}}};Sr.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)};Sr.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&e===46&&t===46?(this.pos+=3,this.finishToken(pe.ellipsis)):(++this.pos,this.finishToken(pe.dot))};Sr.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):e===61?this.finishOp(pe.assign,2):this.finishOp(pe.slash,1)};Sr.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=e===42?pe.star:pe.modulo;return this.options.ecmaVersion>=7&&e===42&&t===42&&(++n,r=pe.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(pe.assign,n+1):this.finishOp(r,n)};Sr.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(pe.assign,3)}return this.finishOp(e===124?pe.logicalOR:pe.logicalAND,2)}return t===61?this.finishOp(pe.assign,2):this.finishOp(e===124?pe.bitwiseOR:pe.bitwiseAND,1)};Sr.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(pe.assign,2):this.finishOp(pe.bitwiseXOR,1)};Sr.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||wu.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(pe.incDec,2):t===61?this.finishOp(pe.assign,2):this.finishOp(pe.plusMin,1)};Sr.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=e===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+n)===61?this.finishOp(pe.assign,n+1):this.finishOp(pe.bitShift,n)):t===33&&e===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(n=2),this.finishOp(pe.relational,n))};Sr.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(pe.equality,this.input.charCodeAt(this.pos+2)===61?3:2):e===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(pe.arrow)):this.finishOp(e===61?pe.eq:pe.prefix,1)};Sr.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(pe.questionDot,2)}if(t===63){if(e>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(pe.assign,3)}return this.finishOp(pe.coalesce,2)}}return this.finishOp(pe.question,1)};Sr.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,t=this.fullCharCodeAtPos(),fp(t,!0)||t===92))return this.finishToken(pe.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+t0(t)+"'")};Sr.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(pe.parenL);case 41:return++this.pos,this.finishToken(pe.parenR);case 59:return++this.pos,this.finishToken(pe.semi);case 44:return++this.pos,this.finishToken(pe.comma);case 91:return++this.pos,this.finishToken(pe.bracketL);case 93:return++this.pos,this.finishToken(pe.bracketR);case 123:return++this.pos,this.finishToken(pe.braceL);case 125:return++this.pos,this.finishToken(pe.braceR);case 58:return++this.pos,this.finishToken(pe.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(pe.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(pe.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+t0(e)+"'")};Sr.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)};Sr.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(wu.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if(r==="[")t=!0;else if(r==="]"&&t)t=!1;else if(r==="/"&&!t)break;e=r==="\\"}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var s=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(s);var a=this.regexpState||(this.regexpState=new Pp(this));a.reset(n,i,o),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var l=null;try{l=new RegExp(i,o)}catch{}return this.finishToken(pe.regexp,{pattern:i,flags:o,value:l})};Sr.readInt=function(e,t,n){for(var r=this.options.ecmaVersion>=12&&t===void 0,i=n&&this.input.charCodeAt(this.pos)===48,s=this.pos,o=0,a=0,l=0,u=t??1/0;l<u;++l,++this.pos){var c=this.input.charCodeAt(this.pos),d=void 0;if(r&&c===95){i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),a===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),l===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=c;continue}if(c>=97?d=c-97+10:c>=65?d=c-65+10:c>=48&&c<=57?d=c-48:d=1/0,d>=e)break;a=c,o=o*e+d}return r&&a===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||t!=null&&this.pos-s!==t?null:o};function Iyt(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function Dke(e){return typeof BigInt!="function"?null:BigInt(e.replace(/_/g,""))}Sr.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return n==null&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(n=Dke(this.input.slice(t,this.pos)),++this.pos):fp(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(pe.num,n)};Sr.readNumber=function(e){var t=this.pos;!e&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var n=this.pos-t>=2&&this.input.charCodeAt(t)===48;n&&this.strict&&this.raise(t,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&r===110){var i=Dke(this.input.slice(t,this.pos));return++this.pos,fp(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(pe.num,i)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),r===46&&!n&&(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),(r===69||r===101)&&!n&&(r=this.input.charCodeAt(++this.pos),(r===43||r===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),fp(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=Iyt(this.input.slice(t,this.pos),n);return this.finishToken(pe.num,s)};Sr.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),t;if(e===123){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else t=this.readHexChar(4);return t};Sr.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;r===92?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):r===8232||r===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(FC(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(pe.string,t)};var Pke={};Sr.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===Pke)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1};Sr.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Pke;this.raise(e,t)};Sr.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(n===96||n===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===pe.template||this.type===pe.invalidTemplate)?n===36?(this.pos+=2,this.finishToken(pe.dollarBraceL)):(++this.pos,this.finishToken(pe.backQuote)):(e+=this.input.slice(t,this.pos),this.finishToken(pe.template,e));if(n===92)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(FC(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:e+=`
`;break;default:e+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}};Sr.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(pe.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};Sr.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return t0(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,t=this.input.charCodeAt(this.pos),(r!=="0"||t===56||t===57)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-r.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return FC(t)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(t)}};Sr.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return n===null&&this.invalidStringToken(t,"Bad character escape sequence"),n};Sr.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(my(i,r))this.pos+=i<=65535?1:2;else if(i===92){this.containsEsc=!0,e+=this.input.slice(n,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(t?fp:my)(o,r)||this.invalidStringToken(s,"Invalid Unicode escape"),e+=t0(o),n=this.pos}else break;t=!1}return e+this.input.slice(n,this.pos)};Sr.readWord=function(){var e=this.readWord1(),t=pe.name;return this.keywords.test(e)&&(t=pQ[e]),this.finishToken(t,e)};var Dyt="8.15.0";To.acorn={Parser:To,version:Dyt,defaultOptions:cH,Position:KT,SourceLocation:N$,getLineInfo:rke,Node:L$,TokenType:Ur,tokTypes:pe,keywordTypes:pQ,TokContext:Ud,tokContexts:ts,isIdentifierChar:my,isIdentifierStart:fp,Token:wQ,isNewLine:FC,lineBreak:wu,lineBreakG:Zgt,nonASCIIwhitespace:tke};function Pyt(e,t){return To.parse(e,t)}const xQ={undefined:"void(0)",Infinity:"Number.POSITIVE_INFINITY",NaN:"Number.NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"};function Yy(e){return typeof e=="number"}const Oyt={ecmaVersion:11},zce="$",Nyt="d",$yt="d1",Myt="d2",fa=e=>(t,n)=>n.error(t,e+" not allowed"),Fyt=fa("Aggregate function"),Lyt=fa("Window function"),jyt="Invalid argument",_Q="Invalid column reference",Byt=_Q+" (must be input to an aggregate function)",Oke="Invalid function call",zyt="Invalid member expression",Uyt="Invalid operator parameter",Vyt="Invalid param reference",Hyt="Invalid variable reference",qyt="Variable not accessible in operator call",Wyt="Unsupported variable declaration",Gyt="Unsupported destructuring pattern",Nke="Table expressions do not support closures",$ke="Use aq.escape(fn) to use a function as-is (including closures)",Yyt="use table.params({ name: value }) to define dynamic parameters",Kyt="use aq.addFunction(name, fn) to add new op functions",Xyt=`
Note: ${Nke}. ${$ke}, or ${Yyt}.`,Mke=`
Note: ${Nke}. ${$ke}, or ${Kyt}.`,Qyt=`The ${YTe} method is not valid in multi-table expressions.`;function Jyt(e,t){const n=Zyt(t);let r=e.root=n;return e.spec=t,e.tuple=null,e.tuple1=null,e.tuple2=null,e.$param=null,e.$op=0,e.scope=new Set,e.paramsRef=new Map,e.columnRef=new Map,jgt(r)?(tvt(r,e),r=r.body):e.join?(e.scope.add(e.tuple1=$yt),e.scope.add(e.tuple2=Myt),e.scope.add(e.$param=zce)):(e.scope.add(e.tuple=Nyt),e.scope.add(e.$param=zce)),Mr(r,e,CQ),e.root}function Zyt(e){try{const t=e.field?evt(e):Ul(e)?e0(e):e;return Pyt(`expr=(${t})`,Oyt).body[0].expression.right}catch{ks(`Expression parse error: ${e+""}`)}}function evt(e){const t=JSON.stringify(e+"");return e.table?`(a,b)=>b[${t}]`:`d=>d[${t}]`}const CQ={FunctionDeclaration:fa("Function definitions"),ForStatement:fa("For loops"),ForOfStatement:fa("For-of loops"),ForInStatement:fa("For-in loops"),WhileStatement:fa("While loops"),DoWhileStatement:fa("Do-while loops"),AwaitExpression:fa("Await expressions"),ArrowFunctionExpression:fa("Function definitions"),AssignmentExpression:fa("Assignments"),FunctionExpression:fa("Function definitions"),NewExpression:fa('Use of "new"'),UpdateExpression:fa("Update expressions"),VariableDeclarator(e,t){mH(e.id,t)},Identifier(e,t,n){jke(e,t,n)&&!t.scope.has(e.name)&&t.error(e,Hyt,Xyt)},CallExpression(e,t){const n=Fke(e.callee),r=$Te(n)||MTe(n);if(r){if((t.join||t.aggregate===!1)&&aQ(n)&&Fyt(e,t),(t.join||t.window===!1)&&lQ(n)&&Lyt(e,t),t.$op=1,t.ast)pH(e,n,t),e.arguments.forEach(i=>Mr(i,t,hH));else{const i=t.op(nvt(t,r,n,e.arguments));Object.assign(e,{type:qTe,name:i.id})}return t.$op=0,!1}else NTe(n)?pH(e,n,t):t.error(e,Oke,Mke)},MemberExpression(e,t,n){const{object:r,property:i}=e;if(!wo(Jg,r))return;const{name:s}=r;if(Lke(e)&&wo(Jg,i)&&Object.hasOwn(xQ,i.name)){Uke(e,i.name);return}const o=s===t.tuple?0:s===t.tuple1?1:s===t.tuple2?2:-1;if(o>=0)return Uce(e,o,t,Bke,n);if(s===t.$param)return Uce(e,o,t,ivt);t.paramsRef.has(s)?QT(e,t.paramsRef.get(s)):t.columnRef.has(s)?zke(r,s,t,e):Object.hasOwn(t.params,s)&&QT(r,s)}};function Uce(e,t,n,r,i){const{property:s,computed:o}=e;let a;if(!o)a=s.name;else if(wo(MC,s))a=s.value;else try{Mr(s,n,CQ,e),a=n.param(s)}catch{n.error(e,zyt)}return r(e,a,t,n,i),!1}const hH={...CQ,VariableDeclarator:fa("Variable declaration in operator call"),Identifier(e,t,n){jke(e,t,n)&&t.error(e,qyt)},CallExpression(e,t){const n=Fke(e.callee);NTe(n)?pH(e,n,t):t.error(e,Oke,Mke)}};function tvt(e,t){e.generator&&fa("Generator functions")(e,t),e.async&&fa("Async functions")(e,t);const{params:n}=e,r=n.length,i=o=>(a,l)=>t.columnRef.set(a,[l,o]),s=(o,a)=>t.paramsRef.set(o,a);r&&(t.join?(p2(t,n[0],"tuple1",i(1)),r>1&&p2(t,n[1],"tuple2",i(2)),r>2&&p2(t,n[2],"$param",s)):(p2(t,n[0],"tuple",i(0)),r>1&&p2(t,n[1],"$param",s))),t.root=e.body}function p2(e,t,n,r){wo(Jg,t)?(e.scope.add(t.name),e[n]=t.name):wo(UTe,t)&&t.properties.forEach(i=>{const s=wo(Jg,i.key)?i.key.name:wo(MC,i.key)?i.key.value:e.error(i,jyt);wo(Jg,i.value)||e.error(i.value,Gyt),r(i.value.name,s)})}function nvt(e,t,n,r){const i=[],s=[],o=t.param[0]||0,a=o+(t.param[1]||0);return r.forEach((l,u)=>{u<o?(Mr(l,e,hH),i.push(e.field(l))):u<a?(Mr(l,e,hH),s.push(e.param(l))):e.error(l,Uyt)}),{name:n,fields:i,params:s,...e.spec.window||{}}}function Fke(e){return wo(Jg,e)?e.name:wo(zTe,e)?Lke(e)?rvt(e.property.name):e.property.name:null}function Lke(e){return wo(Jg,e.object)&&e.object.name==="Math"}function rvt(e){return e==="max"?"greatest":e==="min"?"least":e}function jke(e,t,n){const{name:r}=e;if(!(wo(zTe,n)&&n.property===e)){if(!(wo(VTe,n)&&n.key===e))if(t.paramsRef.has(r))QT(e,t.paramsRef.get(r));else if(t.columnRef.has(r))zke(e,r,t,n);else if(Object.hasOwn(t.params,r))QT(e,r);else if(Object.hasOwn(xQ,r))Uke(e,r);else return!0}}function Bke(e,t,n,r,i){const s=n===0?r.table:n>0?r.join[n-1]:null,o=s&&s.column(t);s&&!o&&r.error(e,_Q),r.aggronly&&!r.$op&&r.error(e,Byt),GTe(e,t,n,o,i)}function zke(e,t,n,r){const[i,s]=n.columnRef.get(t);Bke(e,i,s,n,r)}function ivt(e,t,n,r){r.params&&!Object.hasOwn(r.params,t)&&r.error(e,Vyt),QT(e,t)}function QT(e,t){e.type=Mgt,e.name=t}function Uke(e,t){e.type=Ogt,e.name=t,e.raw=xQ[t]}function pH(e,t,n){if(t===YTe){const r=n.table;r||n.error(e,Qyt),KTe(e,r,e.arguments.length?e.arguments.map(i=>{const s=n.param(i),o=Yy(s)?r.columnName(s):s;return r.column(o)||n.error(i,_Q),o}):r.columnNames())}else e.callee={type:$gt,name:t}}function mH(e,t){wo(Jg,e)?t.scope.add(e.name):wo(Rgt,e)?e.elements.forEach(n=>mH(n,t)):wo(UTe,e)?e.properties.forEach(n=>mH(n.value,t)):t.error(e.id,Wyt)}const svt={[HTe]:1,[qTe]:1};function sc(e,t={}){const n=t.generate||KN,r=t.compiler||hQ,i=avt(t),s={},o={},a=[],l=[];let u=0,c=-1;const d=t.join?r.join:t.index==1?r.expr2:r.expr,f={op(m){const g=ovt(m);return o[g]||(m.id=++c,o[g]=m)},field(m){const g=n(m);return s[g]||(s[g]=++u)},param(m){return wo(MC,m)?m.value:r.param(n(m),i)},value(m,g){a.push(m);const y=g.escape||(t.ast?Lgt(g):d(n(g),i));l.push(y),svt[g.type]&&y!==g&&py(y)&&(y.field=g.name)},error(m,g,y=""){const v=m.start-6,w=m.end-6,_=String(f.spec).slice(v,w);ks(`${g}: "${_}"${y}`)}};Object.assign(f,t,{params:i});for(const[m,g]of dQ(e))f.value(m+"",g.escape?Wgt(f,g,i):Jyt(f,g));if(t.ast)return{names:a,exprs:l};const h=[];for(const m in s)h[s[m]]=r.expr(m,i);const p=Object.values(o);return p.forEach(m=>m.fields=m.fields.map(g=>h[g])),{names:a,exprs:l,ops:p}}function ovt(e){let t=`${e.name}(${e.fields.concat(e.params).join(",")})`;if(e.frame){const n=e.frame.map(r=>Number.isFinite(r)?Math.abs(r):-1);t+=`[${n},${!!e.peers}]`}return t}function avt(e){return(e.table?H9(e.table):e.join?{...H9(e.join[1]),...H9(e.join[0])}:{})||{}}function H9(e){return e&&Ml(e.params)?e.params():{}}function Vke(e,t){return e&&e.expr?new Vce({...e,...t}):new Vce(t,e)}class Vce{constructor(t,n){this.expr=n,Object.assign(this,t)}toString(){return String(this.expr)}toObject(){return{...this,expr:this.toString(),...Ml(this.expr)?{func:!0}:{}}}}function e4(e,t,n=0){const r=n?{field:!0,table:n}:{field:!0};return Vke(e,t?{expr:t,...r}:r)}function Hke(e,t){for(const[n,r]of dQ(t))e.set(n,r);return e}function r0(e,t,n=new Map){return t=Yy(t)?e.columnName(t):t,Hf(t)?n.set(t,t):Ul(t)?t.forEach(r=>r0(e,r,n)):Ml(t)?r0(e,t(e),n):py(t)?Hke(n,t):ks(`Invalid column selection: ${e0(t)}`),n}function qke(e,t){return e.toObject=t,e}function Wke(e){return Ul(e)?e.map(Wke):e&&e.toObject?e.toObject():e}function JT(){return qke(e=>e.columnNames(),()=>({all:[]}))}function Gke(...e){return e=e.flat(),qke(t=>{const n=r0(t,e);return t.columnNames(r=>!n.has(r))},()=>({not:Wke(e)}))}function Af(e,t,n,r={window:!1}){const i=new Map,s=o=>{o=Yy(o)?t.columnName(o):o,Hf(o)?i.set(o,e4(o)):Ml(o)?r0(t,o).forEach(s):py(o)?Hke(i,o):ks(`Invalid ${e} value: ${o+""}`)};return dp(n).forEach(s),r.preparse&&r.preparse(i),sc(i,{table:t,...r})}function EQ(e,...t){return lvt(e,Af("groupby",e,t.flat()))}function lvt(e,t){return e.create({groups:uvt(e,t)})}function uvt(e,{names:t=[],exprs:n=[],ops:r=[]}){const i=t.length;if(i===0)return null;if(i===1&&!e.isFiltered()&&n[0].field){const h=e.column(n[0].field);if(h.groups)return h.groups(t)}let s=Nb(e,r,n);const o=GN(s),a=e.totalRows(),l=new Uint32Array(a),u={},c=[],d=e.data(),f=e.mask();if(f)for(let h=f.next(0);h>=0;h=f.next(h+1)){const p=o(h,d)+"";l[h]=u[p]??=c.push(h)-1}else for(let h=0;h<a;++h){const p=o(h,d)+"";l[h]=u[p]??=c.push(h)-1}return r.length||(s=s.map(h=>p=>h(p,d))),{keys:l,get:s,names:t,rows:c,size:c.length}}function gc(e){return e?new Hce({...e.data()},e.columnNames()):new Hce}class Hce{constructor(t,n){this.data=t||{},this.names=n||[]}add(t,n){return this.has(t)||this.names.push(t+""),this.data[t]=n}has(t){return Object.hasOwn(this.data,t)}groupby(t){return this.groups=t,this}new(t){const{data:n,names:r,groups:i=null}=this;return t.create({data:n,names:r,groups:i,filter:null,order:null})}derive(t){return t.create(this)}}function t4(e,t){return SQ(e,sc(t,{table:e,aggronly:!0,window:!1}))}function SQ(e,{names:t,exprs:n,ops:r=[]}){const i=gc(),s=e.groups();return s&&BTe(i,s),cvt(t,n,s,$C(e,r),i),i.new(e)}function cvt(e,t,n,r=[],i){if(!t.length)return;const s=n?n.size:1,o=(l,u)=>r[l][u],a=e.length;for(let l=0;l<a;++l){const u=t[l];if(u.field!=null)i.add(e[l],r[u.field]);else if(s>1){const c=i.add(e[l],Array(s));for(let d=0;d<s;++d)c[d]=u(d,null,o)}else i.add(e[l],[u(0,null,o)])}}function Yke(e,...t){return TQ(e,r0(e,t.flat()))}function TQ(e,t){const n=gc();return t.forEach((r,i)=>{const s=Hf(r)?r:i;if(s){const o=e.column(i)||ks(`Unrecognized column: ${i}`);n.add(s,o)}}),n.derive(e)}function dvt(e,t){if(!e||!t)return e;const{keys:n,rows:r,size:i}=e,s=new Uint32Array(i);t.scan(c=>s[n[c]]=1);const o=s.reduce((c,d)=>c+d,0);if(o===i)return e;const a=Array(o);let l=0;for(let c=0;c<i;++c)s[c]&&(a[s[c]=l++]=r[c]);const u=new Uint32Array(n.length);return t.scan(c=>u[c]=s[n[c]]),{...e,keys:u,rows:a,size:l}}function fvt(e,t,n,r){const{keys:i,rows:s,size:o}=e;let a=s,l=o,u=null;if(n){u=new Int32Array(o),t(p=>u[i[p]]=1);const h=u.reduce((p,m)=>p+m,0);if(h!==o){a=Array(h),l=0;for(let p=0;p<o;++p)u[p]&&(a[u[p]=l++]=s[p])}}let c=-1;const d=new Uint32Array(r);return t(l!==o?h=>d[++c]=u[i[h]]:h=>d[++c]=i[h]),{...e,keys:d,rows:a,size:l}}function hvt(e,t,n,r){const i=r==="map"||r===!0?dgt:r==="entries"?hgt:r==="object"?fgt:ks('groups option must be "map", "entries", or "object".'),{names:s}=e.groups(),o=pgt(e.columnNames(),"_");let a=Yke(e,{}).reify(t).create({data:{[o]:n}});a=t4(a,{[o]:ugt(o)});for(let l=s.length;--l>=0;)a=t4(EQ(a,s.slice(0,l)),{[o]:i(s[l],o)});return a.get(o)}function pvt(e){return I$(e)?e.constructor:Array}let gH=class{constructor(t,n,r,i,s,o){const a=Object.freeze({...t});n=n?.slice()??Object.keys(a);const l=n.length?a[n[0]].length:0;this._names=Object.freeze(n),this._data=a,this._total=l,this._nrows=r?.count()??l,this._mask=r??null,this._group=i??null,this._order=s??null,this._params=o,this._index=null,this._partitions=null}create({data:t=void 0,names:n=void 0,filter:r=void 0,groups:i=void 0,order:s=void 0}={}){const o=r!==void 0?r:this.mask();return new this.constructor(t||this._data,n||(t?null:this._names),o,i!==void 0?i:dvt(this._group,r&&o),s!==void 0?s:this._order,this._params)}params(t){return arguments.length?(t&&(this._params={...this._params,...t}),this):this._params}get[Symbol.toStringTag](){if(!this._names)return"Object";const t=this.numRows(),n=this.numCols(),r=i=>i!==1?"s":"";return`Table: ${n} col${r(n)} x ${t} row${r(t)}`+(this.isFiltered()?` (${this.totalRows()} backing)`:"")+(this.isGrouped()?`, ${this._group.size} groups`:"")+(this.isOrdered()?", ordered":"")}isFiltered(){return!!this._mask}isGrouped(){return!!this._group}isOrdered(){return!!this._order}data(){return this._data}mask(){return this._mask}groups(){return this._group}comparator(){return this._order}totalRows(){return this._total}numRows(){return this._nrows}get size(){return this._nrows}numCols(){return this._names.length}columnNames(t){return t?this._names.filter(t):this._names.slice()}columnName(t){return this._names[t]}columnIndex(t){return this._names.indexOf(t)}column(t){return this._data[t]}columnAt(t){return this._data[this._names[t]]}array(t,n=Array){const r=this.column(t),i=new n(this.numRows());let s=-1;return this.scan(o=>i[++s]=r.at(o),!0),i}get(t,n=0){const r=this.column(t);return this.isFiltered()||this.isOrdered()?r.at(this.indices()[n]):r.at(n)}getter(t){const n=this.column(t),r=this.isFiltered()||this.isOrdered()?this.indices():null;if(r)return i=>n.at(r[i]);if(n)return i=>n.at(i);ks(`Unrecognized column: ${t}`)}object(t=0){return qce(this)(t)}objects(t={}){const{grouped:n,limit:r,offset:i}=t,s=r0(this,t.columns||JT()),o=QTe(this,s),a=[];if(this.scan((l,u)=>a.push(o(l,u)),!0,r,i),n&&this.isGrouped()){const l=[];return this.scan(u=>l.push(u),!0,r,i),hvt(this,l,a,n)}return a}*[Symbol.iterator](){const t=qce(this),n=this.numRows();for(let r=0;r<n;++r)yield t(r)}*values(t){const n=this.getter(t),r=this.numRows();for(let i=0;i<r;++i)yield n(i)}print(t={}){const n=Yy(t)?{limit:+t}:{...t,limit:10},r=this.objects({...n,grouped:!1}),i=`${this[Symbol.toStringTag]}. Showing ${r.length} rows.`;return console.log(i),console.table(r),this}indices(t=!0){if(this._index)return this._index;const n=this.numRows(),r=new Uint32Array(n),i=this.isOrdered(),s=this.mask();let o=-1;if(s)for(let a=s.next(0);a>=0;a=s.next(a+1))r[++o]=a;else for(let a=0;a<n;++a)r[++o]=a;if(t&&i){const{_order:a,_data:l}=this;r.sort((u,c)=>a(u,c,l))}return(t||!i)&&(this._index=r),r}partitions(t=!0){if(this._partitions)return this._partitions;if(!this.isGrouped())return[this.indices(t)];const{keys:n,size:r}=this._group,i=O$(r,()=>[]),s=this._index,o=this.mask(),a=this.numRows();if(s&&this.isOrdered())for(let l=0,u;l<a;++l)u=s[l],i[n[u]].push(u);else if(o)for(let l=o.next(0);l>=0;l=o.next(l+1))i[n[l]].push(l);else for(let l=0;l<a;++l)i[n[l]].push(l);if(t&&!s&&this.isOrdered()){const l=this._order,u=this._data;for(let c=0;c<r;++c)i[c].sort((d,f)=>l(d,f,u))}return(t||!this.isOrdered())&&(this._partitions=i),i}reify(t){const n=t?t.length:this.numRows(),r=this._names;let i,s;if(!t&&!this.isOrdered())if(this.isFiltered())n===this.totalRows()&&(i=this.data());else return this;if(!i){const o=t?l=>t.forEach(l):l=>this.scan(l,!0),a=r.length;i={};for(let l=0;l<a;++l){const u=r[l],c=this.column(u),d=i[u]=new(pvt(c))(n);let f=-1;Wy(c)?o(h=>d[++f]=c[h]):o(h=>d[++f]=c.at(h))}this.isGrouped()&&(s=fvt(this.groups(),o,!!t,n))}return this.create({data:i,names:r,groups:s,filter:null,order:null})}scan(t,n,r=1/0,i=0){const s=this._mask,o=this._nrows,a=this._data;let l=i||0;if(l>o)return;const u=Math.min(o,l+r),c=()=>l=this._total;if(n&&this.isOrdered()||s&&this._index){const d=this.indices(),f=this._data;for(;l<u;++l)t(d[l],f,c)}else if(s){let d=u-l+1;for(l=s.nth(l);--d&&l>-1;l=s.next(l+1))t(l,a,c)}else for(;l<u;++l)t(l,a,c)}};function qce(e){let t=e._builder;if(!t){const n=QTe(e),r=e.data();if(e.isOrdered()||e.isFiltered()){const i=e.indices();t=s=>n(i[s],r)}else t=i=>n(i,r);e._builder=t}return t}function mvt(e,...t){t=t.flat();const n=e.numRows(),r=e.reify(),i=gc(r).groupby(r.groups());return t.forEach(s=>{s=s instanceof gH?s:new gH(s),s.numRows()!==n&&ks("Assign row counts do not match"),s=s.reify(),s.columnNames(o=>i.add(o,s.column(o)))}),i.new(e)}function Kke(e,...t){t=t.flat();const n=e.numRows(),r=n+t.reduce((o,a)=>o+a.numRows(),0);if(n===r)return e;const i=[e,...t],s=gc();return e.columnNames().forEach(o=>{const a=Array(r);let l=0;i.forEach(u=>{const c=u.column(o)||{at:()=>Hr};u.scan(d=>a[l++]=c.at(d))}),s.add(o,a)}),s.new(e)}function Xke(e,t,{before:n=void 0,after:r=void 0}={}){const i=n!=null,s=r!=null;i||s||ks("relocate requires a before or after option."),i&&s&&ks("relocate accepts only one of the before or after options."),t=r0(e,t);const o=[...r0(e,i?n:r).keys()],a=i?o[0]:o.pop(),l=new Map;return e.columnNames().forEach(u=>{const c=!t.has(u);if(u===a){s&&c&&l.set(u,u);for(const[d,f]of t)l.set(d,f);if(s)return}c&&l.set(u,u)}),TQ(e,l)}function Qke(e){return{left(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)<0?r=s+1:i=s}return r},right(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){const s=r+i>>>1;e(t[s],n)>0?i=s:r=s+1}return r}}}const Wce=Qke(uQ);function gvt(e,t,n,r,i){let s,o,a,l,u;const c=m=>o[m-1]===o[m],d=r.length,f=i.length,h=r.length?NC(["w","r","k"],"{"+DA(r,(m,g)=>`r[_${g}.id][k]=_${g}.value(w,_${g}.get);`)+"}",r):()=>{},p={i0:0,i1:0,index:0,size:0,peer:c,init(m,g,y,v){p.index=p.i0=p.i1=0,p.size=g.length,s=m,o=g,l=y,u=v,a=i?i.map(w=>w.init()):null;for(let w=0;w<d;++w)r[w].init();return p},value(m,g){return g(s[m],e)},step(m){const[g,y]=t,v=p.size,w=p.i0,_=p.i1;p.i0=g!=null?Math.max(0,m-Math.abs(g)):0,p.i1=y!=null?Math.min(v,m+Math.abs(y)+1):v,p.index=m,n&&(p.i0>0&&c(p.i0)&&(p.i0=Wce.left(o,o[p.i0])),p.i1<v&&c(p.i1)&&(p.i1=Wce.right(o,o[p.i1-1])));for(let C=0;C<f;++C){const S=i[C],T=a[C];for(let k=w;k<p.i0;++k)S.rem(T,s[k],e);for(let k=_;k<p.i1;++k)S.add(T,s[k],e);S.write(T,l,u)}return h(p,l,u),l}};return p}const yvt=e=>(e.frame||[null,null]).map(t=>Number.isFinite(t)?Math.abs(t):null),vvt=e=>!!e.peers;function bvt(e){const{id:t,name:n,fields:r=[],params:i=[]}=e;return{...MTe(n).create(...i),get:r.length?r[0]:null,id:t}}function wvt(e,t,n,r={},i){const s=e.data(),o=xvt(i,s),a=o.length,l=NC(["r","d","op"],"{"+DA(t,(u,c)=>`_${c}[r] = $${c}(r, d, op);`)+"}",t,n);e.partitions().forEach((u,c)=>{const d=u.length,f=_vt(e,u);for(let p=0;p<a;++p)o[p].init(u,f,r,c);const h=p=>r[p][c];for(let p=0;p<d;++p){for(let m=0;m<a;++m)o[m].step(p);l(u[p],s,h)}})}function xvt(e,t){const n={};return e.forEach(r=>{const i=yvt(r),s=vvt(r),o=`${i},${s}`,{aggOps:a,winOps:l}=n[o]||(n[o]={frame:i,peers:s,aggOps:[],winOps:[]});aQ(r.name)?a.push(r):l.push(bvt(r))}),Object.values(n).map(r=>gvt(t,r.frame,r.peers,r.winOps,FTe(r.aggOps,r.frame[0]!=null?-1:1)))}function _vt(e,t){if(e.isOrdered()){const n=e.comparator(),r=e.data(),i=t.length,s=new Uint32Array(i);for(let o=1,a=0;o<i;++o)s[o]=n(t[o-1],t[o],r)?++a:a;return s}else return t}function Cvt(e){return lQ(e.name)||e.frame&&(Number.isFinite(e.frame[0])||Number.isFinite(e.frame[1]))}function Evt(e,t,n={}){const r=kQ(e,sc(t,{table:e}),n);return n.drop||n.before==null&&n.after==null?r:Xke(r,Object.keys(t).filter(i=>!e.column(i)),n)}function kQ(e,{names:t,exprs:n,ops:r=[]},i={}){const s=e.totalRows(),o=gc(i.drop?null:e),a=t.map(f=>o.add(f,Array(s))),[l,u]=Svt(r),c=e.isGrouped()?e.groups().size:1,d=$C(e,l,O$(r.length,()=>Array(c)));return u.length?wvt(e,a,n,d,u):Tvt(e,a,n,d),o.derive(e)}function Svt(e){const t=[],n=[],r=e.length;for(let i=0;i<r;++i){const s=e[i];s.id=i,(Cvt(s)?n:t).push(s)}return[t,n]}function Tvt(e,t,n,r){const i=e.mask(),s=e.data(),{keys:o}=e.groups()||{},a=o?(u,c)=>r[u][o[c]]:u=>r[u][0],l=t.length;for(let u=0;u<l;++u){const c=n[u],d=t[u];if(i)for(let f=i.next(0);f>=0;f=i.next(f+1))d[f]=c(f,s,a);else{const f=e.totalRows();for(let h=0;h<f;++h)d[h]=c(h,s,a)}}}function AQ(e,t){const n=sc({p:t},{table:e});let r=n.exprs[0];if(n.ops.length){const i=kQ(e,n,{drop:!0}).column("p");r=s=>i.at(s)}return kvt(e,r)}function kvt(e,t){const n=e.totalRows(),r=e.mask(),i=e.data(),s=new TTe(n);if(r)for(let o=r.next(0);o>=0;o=r.next(o+1))t(o,i)&&s.set(o);else for(let o=0;o<n;++o)t(o,i)&&s.set(o);return e.create({filter:s})}function B$(e,...t){t=t.flat();const n=EQ(e,t.length?t:e.columnNames());return AQ(n,"row_number() === 1").ungroup().reify()}function Jke(e,t){const n=new Map;return e.scan((r,i)=>{const s=t(r,i);s!=null&&s===s&&n.set(s,r)}),n}function Avt(e,t,n){const r=new Map,i=e.length;for(let s=0;s<i;++s){const o=e[s],a=n(o,t);a!=null&&a===a&&(r.has(a)?r.get(a).push(s):r.set(a,[s]))}return r}function Rvt(e,t){const n=new Set(t);return e.filter(r=>n.has(r))}function n4(e,t,n){const r=new Map;dp(n).forEach((s,o)=>{s=Yy(s)?t.columnName(s):s,Hf(s)?r.set(o,e4(s)):Ml(s)||py(s)&&s.expr?r.set(o,s):ks(`Invalid ${e} key value: ${s+""}`)});const i=sc(r,{table:t,aggregate:!1,window:!1});return GN(i.exprs,!0)}function RQ(e,t,n){if(n)Hf(n)?n=[n,n]:Ul(n)&&n.length===1&&(n=[n[0],n[0]]);else{const r=Rvt(e.columnNames(),t.columnNames());r.length||ks("Natural join requires shared column names."),n=[r,r]}return n}function Zke(e,t,n,r){return n.length!==r.length&&ks("Mismatched number of join keys"),[n4("join",e,n),n4("join",t,r)]}function eAe(e,t,n){return nAe(e,t,n,{anti:!1})}function tAe(e,t,n){return nAe(e,t,n,{anti:!0})}function nAe(e,t,n,r){n=RQ(e,t,n);const i=Ul(n)?Zke(e,t,...n.map(dp)):sc({on:n},{join:[e,t]}).exprs[0];return Ivt(e,t,i,r)}function Ivt(e,t,n,r={}){const i=new TTe(e.totalRows());return(Ul(n)?Dvt:Pvt)(i,e,t,n),r.anti&&i.not().and(e.mask()),e.create({filter:i})}function Dvt(e,t,n,[r,i]){const s=Jke(n,i);t.scan((o,a)=>{s.get(r(o,a))>=0&&e.set(o)})}function Pvt(e,t,n,r){const i=t.numRows(),s=n.numRows(),o=t.data(),a=n.data();if(t.isFiltered()||n.isFiltered()){const l=t.indices(!1),u=n.indices(!1);for(let c=0;c<i;++c){const d=l[c];for(let f=0;f<s;++f)if(r(d,o,u[f],a)){e.set(d);break}}}else for(let l=0;l<i;++l)for(let u=0;u<s;++u)if(r(l,o,u,a)){e.set(l);break}}function Ovt(e,...t){if(t=t.flat(),t.length===0)return e;const n=e.columnNames();return B$(t.reduce((r,i)=>tAe(r,i.select(n)),e))}function Nvt(e,t,n){return rAe(e,Af("unroll",e,t),n&&n.drop?{...n,drop:Af("unroll",e,n.drop).names}:n)}function rAe(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(!t.length)return e;const s=i.limit>0?+i.limit:1/0,o=i.index?i.index===!0?"index":i.index+"":null,a=new Set(i.drop),l=Nb(e,r,n),u=gc(),c=new Set(t),d=[],f=[],h=[];e.columnNames().forEach(_=>{if(!a.has(_)){const C=u.add(_,[]);c.has(_)||(d.push(e.column(_)),f.push(C))}}),t.forEach(_=>{a.has(_)||(u.has(_)||u.add(_,[]),h.push(u.data[_]))});const p=o?u.add(o,[]):null;let m=0;const g=d.length,y=h.length,v=(_,C)=>{for(let S=0;S<g;++S)f[S].length=m+C,f[S].fill(d[S].at(_),m,m+C)},w=p?(_,C)=>{for(let S=0;S<C;++S)p[_+S]=S}:()=>{};if(y===1){const _=l[0],C=h[0];e.scan((S,T)=>{const k=dp(_(S,T)),I=Math.min(k.length,s);v(S,I);for(let R=0;R<I;++R)C[m+R]=k[R];w(m,I),m+=I})}else e.scan((_,C)=>{let S=0;const T=l.map(k=>{const I=dp(k(_,C));return S=Math.min(Math.max(S,I.length),s),I});v(_,S);for(let k=0;k<y;++k){const I=h[k],R=T[k];for(let P=0;P<S;++P)I[m+P]=R[P]}w(m,S),m+=S});return u.new(e)}function $vt(e,t,n){return Mvt(e,Af("fold",e,t),n)}function Mvt(e,{names:t=[],exprs:n=[],ops:r=[]},i={}){if(t.length===0)return e;const[s="key",o="value"]=i.as||[],a=Nb(e,r,n);return rAe(e,{names:[s,o],exprs:[()=>t,(l,u)=>a.map(c=>c(l,u))]},{...i,drop:t})}function IQ(e){return e.isGrouped()?e.create({groups:null}):e}function Fvt(e,t,n={}){if(t=sc(t,{table:e}),t.names.forEach(r=>e.column(r)?0:ks(`Invalid impute column ${e0(r)}`)),n.expand){const r={preparse:Lvt,window:!1,aggronly:!0},i=Af("impute",e,n.expand,r),s=SQ(IQ(e),i);return Gce(e,t,i.names,i.names.map(o=>s.get(o,0)))}else return Gce(e,t)}function Lvt(e){e.forEach((t,n)=>t.field?e.set(n,cgt(t+"")):0)}function Gce(e,t,n,r){const i=n&&n.length;e=i?jvt(e,n,r):e;const{names:s,exprs:o,ops:a}=t,l=Nb(e,a,o),u=i?null:gc(e),c=e.totalRows();return s.forEach((d,f)=>{const h=e.column(d),p=i?h:u.add(d,Array(c)),m=l[f];e.scan(g=>{const y=h.at(g);p[g]=af(y)?y:m(g)})}),i?e:e.create(u)}function jvt(e,t,n){const r=e.groups(),i=e.data(),s=(r?r.names:[]).concat(t),o=(r?r.get:[]).concat(t.map(p=>e.getter(p))),a=new Set,l=GN(o);e.scan((p,m)=>a.add(l(p,m)));const u=e.columnNames(),c=gc(),d=u.map(p=>c.add(p,[]));u.forEach((p,m)=>{const g=i[p],y=d[m];e.scan(v=>y.push(g.at(v)))});const f=GN(o.map((p,m)=>g=>g[m])),h=NC("v","{"+d.map((p,m)=>`_${m}.push(v[$${m}]);`).join("")+"}",d,u.map(p=>s.indexOf(p)));if(r){let p=r.keys.length;const m=n.reduce((y,v)=>y*v.length,r.size),g=new Uint32Array(m+(p-a.size));g.set(r.keys),Yce(r,n,(y,v)=>{a.has(f(y))||(h(y),g[p++]=v[0])}),c.groupby({...r,keys:g})}else Yce(r,n,p=>{a.has(f(p))||h(p)});return c.new(e)}function Yce(e,t,n){const r=e?e.get.length:0,i=e?1:0,s=i+t.length,o=new Int32Array(s),a=new Int32Array(s),l=[];if(e){const{get:c,rows:d,size:f}=e;o[0]=f,l.push((h,p)=>{const m=d[p];for(let g=0;g<r;++g)h[g]=c[g](m)})}t.forEach((c,d)=>{const f=d+r;o[d+i]=c.length,l.push((h,p)=>h[f]=c[p])});const u=Array(r+t.length);for(let c=0;c<s;++c)l[c](u,0);n(u,a);for(let c=s-1;c>=0;){const d=++a[c];d<o[c]?(l[c](u,d),n(u,a),c=s-1):(a[c]=0,l[c](u,0),--c)}}function Bvt(e,...t){t=t.flat();const n=e.columnNames();return t.length?B$(t.reduce((r,i)=>eAe(r,i.select(n)),e)):e.reify([])}const zvt={aggregate:!1,window:!1},Uvt={...zvt,index:1},Kce=-1/0;function Vvt(e,t,n,r){return oS(e,t,()=>!0,n,{...r,left:!0,right:!0})}function oS(e,t,n,r,i={}){n=RQ(e,t,n);const s={join:[e,t]};let o;if(Ul(n)){const[a,l]=n.map(dp);o=Zke(e,t,a,l),r||(r=Hvt(e,a,l,i))}else o=sc({on:n},s).exprs[0],r||(r=[JT(),JT()]);return Gvt(e,t,o,qvt(e,t,r,s,i&&i.suffix),i)}function Hvt(e,t,n,r){const i=[];t.forEach((o,a)=>Hf(o)&&o===n[a]?i.push(o):0);const s=Gke(i);if(r.left&&r.right){const o=new Set(i);return[e.columnNames().map(a=>{const l=`[${e0(a)}]`;return o.has(a)?{[a]:`(a, b) => a${l} == null ? b${l} : a${l}`}:a}),s]}return r.right?[s,JT()]:[JT(),s]}function qvt(e,t,n,r,i=[]){if(Ul(n)){let s,o,a,l=n.length;s=o=a={names:[],exprs:[]},l--&&(s=Af("join",e,n[0],r)),l--&&(o=Af("join",t,n[1],Uvt)),l--&&(a=sc(n[2],r));const u=new Set,c=new Set(s.names);return o.names.forEach(d=>{c.has(d)&&u.add(d)}),u.size&&(i[0]!==""&&Xce(s.names,u,i[0]||"_1"),i[1]!==""&&Xce(o.names,u,i[1]||"_2")),{names:s.names.concat(o.names,a.names),exprs:s.exprs.concat(o.exprs,a.exprs)}}else return sc(n,r)}function Xce(e,t,n){e.forEach((r,i)=>t.has(r)?e[i]=r+n:0)}function Wvt(e,t){const n=["i","a","j","b"];return NC(n,"{"+DA(e,(r,i)=>`_${i}.push($${i}(${n}));`)+"}",e,t)}function Gvt(e,t,n,{names:r,exprs:i},s={}){const o=e.data(),a=e.indices(!1),l=a.length,u=new Int32Array(l),c=t.data(),d=t.indices(!1),f=d.length,h=new Int32Array(f),p=r.length,m=gc(),g=Array(p),y=Array(p);for(let _=0;_<r.length;++_)g[_]=m.add(r[_],[]),y[_]=i[_];const v=Wvt(g,y);if((Ul(n)?Kvt:Yvt)(v,n,o,c,a,d,u,h,l,f),s.left)for(let _=0;_<l;++_)u[_]||v(a[_],o,Kce,c);if(s.right)for(let _=0;_<f;++_)h[_]||v(Kce,o,d[_],c);return m.new(e)}function Yvt(e,t,n,r,i,s,o,a,l,u){for(let c=0;c<l;++c){const d=i[c];for(let f=0;f<u;++f){const h=s[f];t(d,n,h,r)&&(e(d,n,h,r),o[c]=1,a[f]=1)}}}function Kvt(e,[t,n],r,i,s,o,a,l,u,c){let d,f,h,p,m,g,y,v,w=e;u>=c?(d=r,f=t,h=a,p=s,m=i,g=n,y=l,v=o):(d=i,f=n,h=l,p=o,m=r,g=t,y=a,v=s,w=(S,T,k,I)=>e(k,I,S,T));const _=Avt(v,m,g),C=p.length;for(let S=0;S<C;++S){const T=p[S],k=_.get(f(T,d));if(k){const I=k.length;for(let R=0;R<I;++R){const P=k[R];w(T,d,v[P],m),y[P]=1}h[S]=1}}}function Xvt(e,t,n,...r){return n=RQ(e,t,n),r=r.length===0?[Gke(e.columnNames())]:r.flat(),Qvt(e,t,[n4("lookup",e,n[0]),n4("lookup",t,n[1])],Af("lookup",t,r))}function Qvt(e,t,[n,r],{names:i,exprs:s,ops:o=[]}){const a=gc(e),l=e.totalRows();i.forEach(f=>a.add(f,Array(l).fill(Hr)));const u=Jke(t,r),c=NC(["lr","rr","data"],"{"+DA(i,(f,h)=>`_[${h}][lr] = $[${h}](rr, data);`)+"}",i.map(f=>a.data[f]),Nb(t,o,s)),d=t.data();return e.scan((f,h)=>{const p=u.get(n(f,h));p>=0&&c(f,p,d)}),a.derive(e)}const Jvt=(e,t,n,r)=>`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n} : (u > v || v == null) && u != null ? ${r} : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n} : v !== v && u === u ? ${r} : `,Zvt=(e,t,n,r,i)=>`(v = ${t}, (u = ${e}) == null && v == null) ? 0 : v == null ? ${r} : u == null ? ${n} : (u = ${i}(u,v)) ? u : `;function e1t(e,t){const n=[],r=[],i=[];let s=null,o="0",a="0";e.isGrouped()&&(s=e.groups().keys,o="ka",a="kb");const{ops:l}=sc(t,{table:e,value:(h,p)=>{if(n.push(h),p.escape){const m=g=>`fn[${i.length}](${g}, data)`;r.push([m("a"),m("b")]),i.push(p.escape)}else r.push([KN(p,{index:"a",op:o}),KN(p,{index:"b",op:a})])},window:!1}),u=$C(e,l),c=(h,p)=>u[h][p],d=n.length;let f="return (a, b) => {"+(c&&e.isGrouped()?"const ka = keys[a], kb = keys[b];":"")+"let u, v; return ";for(let h=0;h<d;++h){const p=t.get(n[h]),m=p.desc?-1:1,[g,y]=r[h];p.collate?(f+=Zvt(g,y,-m,m,`${m<0?"-":""}fn[${i.length}]`),i.push(p.collate)):f+=Jvt(g,y,-m,m)}return f+="0;};",Function("op","keys","fn","data",f)(c,s,i,e.data())}function t1t(e,...t){return r1t(e,n1t(e,t.flat()))}function n1t(e,t){let n=-1;const r=new Map,i=s=>r.set(++n+"",s);return t.forEach(s=>{const o=s.expr!=null?s.expr:s;if(py(o)&&!Ml(o))for(const a in o)i(o[a]);else i(Yy(o)?e4(s,e.columnName(o)):Hf(o)?e4(s):Ml(o)?s:ks(`Invalid orderby field: ${s+""}`))}),e1t(e,r)}function r1t(e,t){return e.create({order:t})}function i1t(e,t,n,r){return o1t(e,Af("fold",e,t),Af("fold",e,n,{preparse:s1t,window:!1,aggronly:!0}),r)}function s1t(e){e.forEach((t,n)=>t.field?e.set(n,agt(t+"")):0)}const yH=(e,t)=>e??t;function o1t(e,t,n,r={}){const{keys:i,keyColumn:s}=a1t(e,t,r),o=yH(r.valueSeparator,"_"),a=n.names.length>1?(u,c)=>c+o+i[u]:u=>i[u],l=i.map(u=>$C(e,n.ops.map(c=>{if(c.name==="count"){const f=h=>u===s[h]?1:NaN;return f.toString=()=>u+":1",{...c,name:"sum",fields:[f]}}const d=c.fields.map(f=>{const h=(p,m)=>u===s[p]?f(p,m):NaN;return h.toString=()=>u+":"+f,h});return{...c,fields:d}})));return l1t(n,a,e.groups(),l).new(e)}function a1t(e,t,n){const r=n.limit>0?+n.limit:1/0,i=yH(n.sort,!0),s=yH(n.keySeparator,"_"),o=Nb(e,t.ops,t.exprs),a=o.length===1?o[0]:(d,f)=>o.map(h=>h(d,f)).join(s),l=Array(e.totalRows());e.scan((d,f)=>l[d]=a(d,f));const u=$C(IQ(e),[{id:0,name:"array_agg_distinct",fields:[(d=>l[d])],params:[]}])[0][0],c=i?u.sort():u;return{keys:Number.isFinite(r)?c.slice(0,r):c,keyColumn:l}}function l1t({names:e,exprs:t},n,r,i){const s=r?r.size:1,o=gc(),a=i.length,l=e.length;let u;const c=(d,f)=>u[d][f];r&&BTe(o,r);for(let d=0;d<l;++d){const f=t[d];if(f.field!=null)for(let h=0;h<a;++h)o.add(n(h,e[d]),i[h][f.field]);else if(s>1)for(let h=0;h<a;++h){u=i[h];const p=o.add(n(h,e[d]),Array(s));for(let m=0;m<s;++m)p[m]=f(m,null,c)}else for(let h=0;h<a;++h)u=i[h],o.add(n(h,e[d]),[f(0,null,c)])}return o}function u1t(e,t){const n=gc(),r=e.groups(),{get:i,names:s=[],rows:o,size:a=1}=r||{},l=new Uint32Array(a+1);s.forEach(f=>n.add(f,null));const u=r?jTe(e,t,r):[LTe(e,t)];t.outputs().map(f=>n.add(f,[]));const c=l.length-1;let d=0;for(let f=0;f<c;++f)d+=l[f+1]=t.write(u[f],n.data,l[f]);if(r){const f=e.data();s.forEach((h,p)=>{const m=n.data[h]=Array(d),g=i[p];for(let y=0,v=0;y<a;++y)m.fill(g(o[y],f),v,v+=l[y+1])})}return n.new(e)}function c1t(e,...t){const n=new Map;return e.columnNames(r=>(n.set(r,r),0)),TQ(e,r0(e,t.flat(),n))}function d1t(e,t,n,r){return(t?r?h1t:f1t:r?m1t:p1t)(e.length,e,n,r)}function f1t(e,t,n){const r=n.length;for(let i=0;i<e;++i)t[i]=n[r*OC()|0];return t}function h1t(e,t,n,r){const i=n.length,s=new Float64Array(i);let o=0;for(let l=0;l<i;++l)s[l]=o+=r(n[l]);const a=Qke(uQ).right;for(let l=0;l<e;++l)t[l]=n[a(s,o*OC())];return t}function p1t(e,t,n){const r=n.length;if(e>=r)return n;for(let i=0;i<e;++i)t[i]=n[i];for(let i=e;i<r;++i){const s=i*OC();s<e&&(t[s|0]=n[i])}return t}function m1t(e,t,n,r){const i=n.length;if(e>=i)return n;const s=new Float32Array(i),o=new Uint32Array(i);for(let a=0;a<i;++a)o[a]=a,s[a]=-Math.log(OC())/r(n[a]);o.sort((a,l)=>s[a]-s[l]);for(let a=0;a<e;++a)t[a]=n[o[a]];return t}function g1t(e,t=0,n=e.length){let r=n-(t=+t);for(;r;){const i=OC()*r--|0,s=e[r+t];e[r+t]=e[i+t],e[i+t]=s}return e}function y1t(e,t,n={}){return w1t(e,v1t(e,t),b1t(e,n.weight),n)}const iAe=e=>t=>e.at(t)||0;function v1t(e,t){return Yy(t)?()=>t:iAe(SQ(e,sc({size:t},{table:e,window:!1})).column("size"))}function b1t(e,t){return t==null?null:(t=Yy(t)?e.columnName(t):t,iAe(Hf(t)?e.column(t):kQ(e,sc({w:t},{table:e}),{drop:!0}).column("w")))}function w1t(e,t,n,r={}){const{replace:i,shuffle:s}=r,o=e.partitions(!1);let a=0;t=o.map((c,d)=>{let f=t(d);return a+=f=i?f:Math.min(c.length,f),f});const l=new Uint32Array(a);let u=0;return o.forEach((c,d)=>{const f=t[d],h=l.subarray(u,u+=f);!i&&f===c.length?h.set(c):d1t(h,i,c,n)}),s!==!1&&(o.length>1||!i)&&g1t(l),e.reify(l)}function x1t(e=0,t=1/0){return`${Qce(e)} < row_number() && row_number() <= ${Qce(t)}`}function Qce(e){return e<0?`count() + ${e}`:e}function _1t(e,t=0,n=1/0){if(e.isGrouped())return AQ(e,x1t(t,n)).reify();const r=[],i=e.numRows();return t=Math.max(0,t+(t<0?i:0)),n=Math.min(i,Math.max(0,n+(n<0?i:0))),e.scan(s=>r.push(s),!0,n-t,t),e.reify(r)}function C1t(e,t,n){return E1t(e,Af("spread",e,t),n)}function E1t(e,{names:t,exprs:n,ops:r=[]},i={}){if(t.length===0)return e;const s=t.length===1&&i.as||[],o=i.drop==null?!0:!!i.drop,a=i.limit==null?s.length||1/0:Math.max(1,+i.limit||1),l=Nb(e,r,n),u=gc(),c=t.reduce((f,h,p)=>f.set(h,p),new Map),d=(f,h)=>{const p=S1t(e,l[f],a),m=p.length;for(let g=0;g<m;++g)u.add(s[g]||`${h}_${g+1}`,p[g])};return e.columnNames().forEach(f=>{c.has(f)?(o||u.add(f,e.column(f)),d(c.get(f),f),c.delete(f)):u.add(f,e.column(f))}),c.forEach(d),u.derive(e)}function S1t(e,t,n){const r=e.totalRows(),i=[];return e.scan((s,o)=>{const a=dp(t(s,o)),l=Math.min(a.length,n);for(;i.length<l;)i.push(Array(r).fill(Hr));for(let u=0;u<l;++u)i[u][s]=a[u]}),i}function T1t(e,...t){return B$(Kke(e,t.flat()))}function k1t(e){return e.isOrdered()?e.create({order:null}):e}const sAe=Uint8Array.of(65,82,82,79,87,49),A1t=Uint8Array.of(255,255,255,255,0,0,0,0),ZT={V1:0,V5:4},R1t={Little:0},MP={NONE:0,Schema:1,DictionaryBatch:2,RecordBatch:3},ft={Dictionary:-1,NONE:0,Null:1,Int:2,Float:3,Binary:4,Utf8:5,Bool:6,Decimal:7,Date:8,Time:9,Timestamp:10,Interval:11,List:12,Struct:13,Union:14,FixedSizeBinary:15,FixedSizeList:16,Map:17,Duration:18,LargeBinary:19,LargeUtf8:20,LargeList:21,RunEndEncoded:22,BinaryView:23,Utf8View:24,ListView:25,LargeListView:26},z$={HALF:0,SINGLE:1,DOUBLE:2},ek={DAY:0,MILLISECOND:1},yf={SECOND:0,MILLISECOND:1,MICROSECOND:2,NANOSECOND:3},tk={YEAR_MONTH:0,DAY_TIME:1,MONTH_DAY_NANO:2},oAe={Sparse:0,Dense:1},zC=Uint8Array,DQ=Uint16Array,PQ=Uint32Array,OQ=BigUint64Array,NQ=Int8Array,aAe=Int16Array,UC=Int32Array,VC=BigInt64Array,lAe=Float32Array,NA=Float64Array;function I1t(e,t){const n=Math.log2(e)-3;return(t?[NQ,aAe,UC,VC]:[zC,DQ,PQ,OQ])[n]}const D1t=Object.getPrototypeOf(Int8Array);function uAe(e){return e instanceof D1t}function cAe(e){return Array.isArray(e)||uAe(e)}function $Q(e){return e===VC||e===OQ}function MQ(e,t){let n=0,r=e.length;if(r<=2147483648)do{const i=n+r>>>1;e[i]<=t?n=i+1:r=i}while(n<r);else do{const i=Math.trunc((n+r)/2);e[i]<=t?n=i+1:r=i}while(n<r);return n}function P1t(e,t=1){return(e*t+7&-8)/t}function O1t(e,t=e.length){const n=P1t(t,e.BYTES_PER_ELEMENT);return e.length>n?e.subarray(0,n):e.length<n?dAe(e,n):e}function dAe(e,t,n=0){const r=new e.constructor(t);return r.set(e,n),r}function fAe(e,t,n){for(;e.length<=t;)e=dAe(e,e.length<<1,n?e.length:0);return e}function N1t(e){return e instanceof Date}function $1t(e){return typeof e[Symbol.iterator]=="function"}function hAe(e,t,n){if(t(e))return e;throw new Error(n(e))}function $A(e,t,n){return t=Array.isArray(t)?t:Object.values(t),hAe(e,r=>t.includes(r),n??(()=>`${e} must be one of ${t}`))}function M1t(e,t){for(const[n,r]of Object.entries(e))if(r===t)return n;return"<Unknown>"}const U$=e=>`Unsupported data type: "${M1t(ft,e)}" (id ${e})`,V$=(e,t,n=!0,r=null)=>({name:e,type:t,nullable:n,metadata:r});function pAe(e){return Object.hasOwn(e,"name")&&mAe(e.type)}function mAe(e){return typeof e?.typeId=="number"}function gAe(e,t="",n=!0){return pAe(e)?e:V$(t,hAe(e,mAe,()=>"Data type expected."),n)}const yAe=e=>({typeId:e}),F1t=(e,t,n=!1,r=-1)=>({typeId:ft.Dictionary,id:r,dictionary:e,indices:t||FQ(),ordered:n}),L1t=()=>yAe(ft.Null),Ky=(e=32,t=!0)=>({typeId:ft.Int,bitWidth:$A(e,[8,16,32,64]),signed:t,values:I1t(e,t)}),vAe=()=>Ky(8),bAe=()=>Ky(16),FQ=()=>Ky(32),wAe=()=>Ky(64),j1t=()=>Ky(8,!1),B1t=()=>Ky(16,!1),z1t=()=>Ky(32,!1),U1t=()=>Ky(64,!1),xAe=(e=2)=>({typeId:ft.Float,precision:$A(e,z$),values:[DQ,lAe,NA][e]}),V1t=()=>xAe(z$.SINGLE),LQ=()=>xAe(z$.DOUBLE),H1t=()=>({typeId:ft.Utf8,offsets:UC}),q1t=()=>yAe(ft.Bool),W1t=e=>({typeId:ft.Date,unit:$A(e,ek),values:e===ek.DAY?UC:VC}),G1t=()=>W1t(ek.DAY),Y1t=(e=yf.MILLISECOND,t=null)=>({typeId:ft.Timestamp,unit:$A(e,yf),timezone:t,values:VC}),K1t=e=>({typeId:ft.List,children:[gAe(e)],offsets:UC}),X1t=e=>({typeId:ft.Struct,children:Array.isArray(e)&&pAe(e[0])?e:Object.entries(e).map(([t,n])=>V$(t,n))}),Q1t=(e,t)=>({typeId:ft.FixedSizeList,stride:t,children:[gAe(e)]}),_Ae=new NA(2),H$=_Ae.buffer,J1t=new VC(H$),Uw=new PQ(H$),Jce=new UC(H$),Z1t=new zC(H$);function ebt(e){return e}function Cm(e){return BigInt(e)}function CAe(e){return $Q(e)?Cm:ebt}function tbt(e){return e/864e5|0}function nbt(e){return e===yf.SECOND?t=>Cm(t/1e3):e===yf.MILLISECOND?Cm:e===yf.MICROSECOND?t=>Cm(t*1e3):t=>Cm(t*1e6)}function rbt([e,t,n]){return Jce[0]=e,Jce[1]=t,J1t[1]=Cm(n),Z1t}function gy(e){if(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)throw Error(`BigInt exceeds integer number representation: ${e}`);return Number(e)}function jQ(e,t){return Number(e/t)+Number(e%t)/Number(t)}function ibt(e){return t=>typeof t=="bigint"?Number(t):Math.trunc(t*e)}function sbt(e,t,n,r,i){const s=typeof e=="bigint"?e:Cm(Math.trunc(e*i));t[n]=s,r>1&&(t[n+1]=s>>64n,r>2&&(t[n+2]=s>>128n,t[n+3]=s>>192n))}const Cx=e=>BigInt.asUintN(64,e);function obt(e,t){return BigInt.asIntN(64,e[t])}function abt(e,t){const n=t<<1;let r;return BigInt.asIntN(64,e[n+1])<0?(r=Cx(~e[n])|Cx(~e[n+1])<<64n,r=-(r+1n)):r=e[n]|e[n+1]<<64n,r}function lbt(e,t){const n=t<<2;let r;return BigInt.asIntN(64,e[n+3])<0?(r=Cx(~e[n])|Cx(~e[n+1])<<64n|Cx(~e[n+2])<<128n|Cx(~e[n+3])<<192n,r=-(r+1n)):r=e[n]|e[n+1]<<64n|e[n+2]<<128n|e[n+3]<<192n,r}function ubt(e){if(e!==e)return 32256;_Ae[0]=e;const t=(Uw[1]&2147483648)>>16&65535;let n=Uw[1]&2146435072,r=0;return n>=1089470464?Uw[0]>0?n=31744:(n=(n&2080374784)>>16,r=(Uw[1]&1048575)>>10):n<=1056964608?(r=1048576+(Uw[1]&1048575),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=(Uw[1]&1048575)+512>>10),t|n|r&65535}const cbt=new TextDecoder("utf-8"),dbt=new TextEncoder;function BQ(e){return cbt.decode(e)}function EAe(e){return dbt.encode(e)}function q$(e){return`${typeof e!="object"||!e?e??null:N1t(e)?+e:cAe(e)?`[${e.map(q$)}]`:fbt(e)}`}function fbt(e){let t="",n=-1;for(const r in e)++n>0&&(t+=","),t+=`"${r}":${q$(e[r])}`;return`{${t}}`}const yx=4,q9=2;function SAe(e,t){return(e[t>>3]&1<<t%8)!==0}function W9(e,t){return hbt(e,t)<<16>>16}function hbt(e,t){return e[t]|e[t+1]<<8}function Ux(e,t){return e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24}function Zce(e,t){return Ux(e,t)>>>0}function pbt(e,t){return gy(BigInt.asIntN(64,BigInt(Zce(e,t))+(BigInt(Zce(e,t+yx))<<32n)))}const G9=Symbol("rowIndex");function vH(e,t){class n{constructor(s){this[G9]=s}toJSON(){return kAe(e,t,this[G9])}}const r=n.prototype;for(let i=0;i<e.length;++i){if(Object.hasOwn(r,e[i]))continue;const s=t[i];Object.defineProperty(r,e[i],{get(){return s.at(this[G9])},enumerable:!0})}return i=>new n(i)}function TAe(e,t){return n=>kAe(e,t,n)}function kAe(e,t,n){const r={};for(let i=0;i<e.length;++i)r[e[i]]=t[i].at(n);return r}function mbt(e){return e instanceof Ex}class W${static ArrayType=null;constructor({length:t,nullCount:n,type:r,validity:i,values:s,offsets:o,sizes:a,children:l}){this.length=t,this.nullCount=n,this.type=r,this.validity=i,this.values=s,this.offsets=o,this.sizes=a,this.children=l,(!n||!this.validity)&&(this.at=u=>this.value(u))}get[Symbol.toStringTag](){return"Batch"}at(t){return this.isValid(t)?this.value(t):null}isValid(t){return SAe(this.validity,t)}value(t){return this.values[t]}slice(t,n){const r=n-t,i=Array(r);for(let s=0;s<r;++s)i[s]=this.at(t+s);return i}*[Symbol.iterator](){for(let t=0;t<this.length;++t)yield this.at(t)}}class Ex extends W${constructor(t){super(t);const{length:n,values:r}=this;this.values=r.subarray(0,n)}slice(t,n){return this.nullCount?super.slice(t,n):this.values.subarray(t,n)}[Symbol.iterator](){return this.nullCount?super[Symbol.iterator]():this.values[Symbol.iterator]()}}class G$ extends W${static ArrayType=NA}class Ys extends W${static ArrayType=Array}class AAe extends Ys{value(t){return null}}class Mb extends G${value(t){return gy(this.values[t])}}class gbt extends G${value(t){const n=this.values[t],r=(n&31744)>>10,i=(n&1023)/1024,s=(-1)**((n&32768)>>15);switch(r){case 31:return s*(i?Number.NaN:1/0);case 0:return s*(i?6103515625e-14*i:0)}return s*2**(r-15)*(1+i)}}class ybt extends Ys{value(t){return SAe(this.values,t)}}class vbt extends G${constructor(t){super(t);const{scale:n}=this.type;this.scale=10**n}value(t){return this.values[t]/this.scale}}class RAe extends W${constructor(t){super(t);const{bitWidth:n,scale:r}=this.type;this.decimal=n===64?obt:n===128?abt:lbt,this.scale=10n**BigInt(r)}}class bbt extends RAe{static ArrayType=NA;value(t){return jQ(this.decimal(this.values,t),this.scale)}}class wbt extends RAe{static ArrayType=Array;value(t){return this.decimal(this.values,t)}}class ede extends Ys{constructor(t){super(t),this.source=t}value(t){return new Date(this.source.value(t))}}class xbt extends G${value(t){return 864e5*this.values[t]}}const _bt=Mb;class Cbt extends Mb{value(t){return super.value(t)*1e3}}const Ebt=Mb;class Sbt extends Mb{value(t){return jQ(this.values[t],1000n)}}class Tbt extends Mb{value(t){return jQ(this.values[t],1000000n)}}class kbt extends Ys{value(t){return this.values.subarray(t<<1,t+1<<1)}}class Abt extends Ys{value(t){const n=this.values,r=t<<4;return Float64Array.of(Ux(n,r),Ux(n,r+4),pbt(n,r+8))}}const IAe=({values:e,offsets:t},n)=>e.subarray(t[n],t[n+1]),DAe=({values:e,offsets:t},n)=>e.subarray(gy(t[n]),gy(t[n+1]));class Rbt extends Ys{value(t){return IAe(this,t)}}class Ibt extends Ys{value(t){return DAe(this,t)}}class Dbt extends Ys{value(t){return BQ(IAe(this,t))}}class Pbt extends Ys{value(t){return BQ(DAe(this,t))}}class Obt extends Ys{value(t){const n=this.offsets;return this.children[0].slice(n[t],n[t+1])}}class Nbt extends Ys{value(t){const n=this.offsets;return this.children[0].slice(gy(n[t]),gy(n[t+1]))}}class $bt extends Ys{value(t){const n=this.offsets[t],r=n+this.sizes[t];return this.children[0].slice(n,r)}}class Mbt extends Ys{value(t){const n=this.offsets[t],r=n+this.sizes[t];return this.children[0].slice(gy(n),gy(r))}}class PAe extends Ys{constructor(t){super(t),this.stride=this.type.stride}}class Fbt extends PAe{value(t){const{stride:n,values:r}=this;return r.subarray(t*n,(t+1)*n)}}class Lbt extends PAe{value(t){const{children:n,stride:r}=this;return n[0].slice(t*r,(t+1)*r)}}function OAe({children:e,offsets:t},n){const[r,i]=e[0].children,s=t[n],o=t[n+1],a=[];for(let l=s;l<o;++l)a.push([r.at(l),i.at(l)]);return a}class jbt extends Ys{value(t){return OAe(this,t)}}class Bbt extends Ys{value(t){return new Map(OAe(this,t))}}class NAe extends Ys{constructor({typeIds:t,...n}){super(n),this.typeIds=t,this.typeMap=this.type.typeMap}value(t,n=t){const{typeIds:r,children:i,typeMap:s}=this;return i[s[r[t]]].at(n)}}class zbt extends NAe{value(t){return super.value(t,this.offsets[t])}}class $Ae extends Ys{constructor(t,n=TAe){super(t),this.names=this.type.children.map(r=>r.name),this.factory=n(this.names,this.children)}value(t){return this.factory(t)}}class Ubt extends $Ae{constructor(t){super(t,vH)}}class Vbt extends Ys{value(t){const[{values:n},r]=this.children;return r.at(MQ(n,t))}}class Hbt extends Ys{setDictionary(t){return this.dictionary=t,this.cache=t.cache(),this}value(t){return this.cache[this.key(t)]}key(t){return this.values[t]}}class MAe extends Ys{constructor({data:t,...n}){super(n),this.data=t}view(t){const{values:n,data:r}=this,i=t<<4;let s=i+4,o=n;const a=Ux(o,i);return a>12&&(s=Ux(o,i+12),o=r[Ux(o,i+8)]),o.subarray(s,s+a)}}class qbt extends MAe{value(t){return this.view(t)}}class Wbt extends MAe{value(t){return BQ(this.view(t))}}let zQ=class{constructor(t,n=t[0]?.type){this.type=n,this.length=t.reduce((s,o)=>s+o.length,0),this.nullCount=t.reduce((s,o)=>s+o.nullCount,0),this.data=t;const r=t.length,i=new Int32Array(r+1);if(r===1){const[s]=t;i[1]=s.length,this.at=o=>s.at(o)}else for(let s=0,o=0;s<r;++s)i[s+1]=o+=t[s].length;this.offsets=i}get[Symbol.toStringTag](){return"Column"}[Symbol.iterator](){const t=this.data;return t.length===1?t[0][Symbol.iterator]():Gbt(t)}at(t){const{data:n,offsets:r}=this,i=MQ(r,t)-1;return n[i]?.at(t-r[i])}get(t){return this.at(t)}toArray(){const{length:t,nullCount:n,data:r}=this,i=!n&&mbt(r[0]),s=r.length;if(i&&s===1)return r[0].values;const o=!s||n>0?Array:r[0].constructor.ArrayType??r[0].values.constructor,a=new o(t);return i?Ybt(a,r):Kbt(a,r)}cache(){return this._cache??(this._cache=this.toArray())}};function*Gbt(e){for(let t=0;t<e.length;++t){const n=e[t][Symbol.iterator]();for(let r=n.next();!r.done;r=n.next())yield r.value}}function Ybt(e,t){for(let n=0,r=0;n<t.length;++n){const{values:i}=t[n];e.set(i,r),r+=i.length}return e}function Kbt(e,t){let n=-1;for(let r=0;r<t.length;++r){const i=t[r];for(let s=0;s<i.length;++s)e[++n]=i.at(s)}return e}class UQ{constructor(t,n,r=!1){const i=t.fields.map(o=>o.name);this.schema=t,this.names=i,this.children=n,this.factory=r?vH:TAe;const s=[];this.getFactory=o=>s[o]??(s[o]=this.factory(i,n.map(a=>a.data[o])))}get[Symbol.toStringTag](){return"Table"}get numCols(){return this.names.length}get numRows(){return this.children[0]?.length??0}getChildAt(t){return this.children[t]}getChild(t){const n=this.names.findIndex(r=>r===t);return n>-1?this.children[n]:void 0}selectAt(t,n=[]){const{children:r,factory:i,schema:s}=this,{fields:o}=s;return new UQ({...s,fields:t.map((a,l)=>Xbt(o[a],n[l]))},t.map(a=>r[a]),i===vH)}select(t,n){const r=this.names,i=t.map(s=>r.indexOf(s));return this.selectAt(i,n)}toColumns(){const{children:t,names:n}=this,r={};return n.forEach((i,s)=>r[i]=t[s]?.toArray()??[]),r}toArray(){const{children:t,getFactory:n,numRows:r}=this,i=t[0]?.data??[],s=Array(r);for(let o=0,a=-1;o<i.length;++o){const l=n(o);for(let u=0;u<i[o].length;++u)s[++a]=l(u)}return s}*[Symbol.iterator](){const{children:t,getFactory:n}=this,r=t[0]?.data??[];for(let i=0;i<r.length;++i){const s=n(i);for(let o=0;o<r[i].length;++o)yield s(o)}}at(t){const{children:n,getFactory:r,numRows:i}=this;if(t<0||t>=i)return null;const[{offsets:s}]=n,o=MQ(s,t)-1;return r(o)(t-s[o])}get(t){return this.at(t)}}function Xbt(e,t){return t!=null&&t!==e.name?{...e,name:t}:e}function FAe(e,t={}){const{typeId:n,bitWidth:r,mode:i,precision:s,unit:o}=e,{useBigInt:a,useDate:l,useDecimalInt:u,useMap:c,useProxy:d}=t;switch(n){case ft.Null:return AAe;case ft.Bool:return ybt;case ft.Int:case ft.Time:case ft.Duration:return a||r<64?Ex:Mb;case ft.Float:return s?Ex:gbt;case ft.Date:return tde(o===ek.DAY?xbt:_bt,l&&ede);case ft.Timestamp:return tde(o===yf.SECOND?Cbt:o===yf.MILLISECOND?Ebt:o===yf.MICROSECOND?Sbt:Tbt,l&&ede);case ft.Decimal:return r===32?u?Ex:vbt:u?wbt:bbt;case ft.Interval:return o===tk.DAY_TIME?kbt:o===tk.YEAR_MONTH?Ex:Abt;case ft.FixedSizeBinary:return Fbt;case ft.Utf8:return Dbt;case ft.LargeUtf8:return Pbt;case ft.Binary:return Rbt;case ft.LargeBinary:return Ibt;case ft.BinaryView:return qbt;case ft.Utf8View:return Wbt;case ft.List:return Obt;case ft.LargeList:return Nbt;case ft.Map:return c?Bbt:jbt;case ft.ListView:return $bt;case ft.LargeListView:return Mbt;case ft.FixedSizeList:return Lbt;case ft.Struct:return d?Ubt:$Ae;case ft.RunEndEncoded:return Vbt;case ft.Dictionary:return Hbt;case ft.Union:return i?zbt:NAe}throw new Error(U$(n))}function tde(e,t){return t?class extends t{constructor(r){super(new e(r))}}:e}function bH(e,t,n){e[t]=n,e[t+1]=n>>8,e[t+2]=n>>16,e[t+3]=n>>24}const wD=1024;class Qbt{constructor(t){this.sink=t,this.minalign=1,this.buf=new Uint8Array(wD),this.space=wD,this.vtables=[],this.outputBytes=0}offset(){return this.buf.length-this.space}writeInt8(t){this.buf[this.space-=1]=t}writeInt16(t){this.buf[this.space-=2]=t,this.buf[this.space+1]=t>>8}writeInt32(t){bH(this.buf,this.space-=4,t)}writeInt64(t){const n=BigInt(t);this.writeInt32(Number(BigInt.asIntN(32,n>>BigInt(32)))),this.writeInt32(Number(BigInt.asIntN(32,n)))}addInt8(t){rm(this,1,0),this.writeInt8(t)}addInt16(t){rm(this,2,0),this.writeInt16(t)}addInt32(t){rm(this,4,0),this.writeInt32(t)}addInt64(t){rm(this,8,0),this.writeInt64(t)}addOffset(t){rm(this,yx,0),this.writeInt32(this.offset()-t+yx)}addObject(t,n){const r=Jbt(this,t);return n?.(r),r.finish()}addVector(t,n,r,i){const s=t?.length;if(!s)return 0;rm(this,yx,n*s),rm(this,r,n*s);for(let o=s;--o>=0;)i(this,t[o]);return this.writeInt32(s),this.offset()}addOffsetVector(t){return this.addVector(t,4,4,(n,r)=>n.addOffset(r))}addString(t){if(t==null)return 0;const n=EAe(t),r=n.length;return this.addInt8(0),rm(this,yx,r),this.buf.set(n,this.space-=r),this.writeInt32(r),this.offset()}finish(t){rm(this,this.minalign,yx),this.addOffset(t)}flush(){const{buf:t,sink:n}=this,r=t.subarray(this.space,t.length);n.write(r),this.outputBytes+=r.byteLength,this.minalign=1,this.vtables=[],this.buf=new Uint8Array(wD),this.space=wD}addBuffer(t){const n=t.byteLength;if(!n)return 0;this.sink.write(t),this.outputBytes+=n;const r=(n+7&-8)-n;return this.addPadding(r),n+r}addPadding(t){t>0&&(this.sink.write(new Uint8Array(t)),this.outputBytes+=t)}}function rm(e,t,n){let{buf:r,space:i,minalign:s}=e;t>s&&(e.minalign=t);const o=r.length,a=o-i+n,l=~a+1&t-1;r=fAe(r,a+l+t-1,!0),i+=r.length-o;for(let u=0;u<l;++u)r[--i]=0;e.buf=r,e.space=i}function Jbt(e,t){const n=Array(t).fill(0),r=e.offset();function i(s){n[s]=e.offset()}return{addInt8(s,o,a){o!=a&&(e.addInt8(o),i(s))},addInt16(s,o,a){o!=a&&(e.addInt16(o),i(s))},addInt32(s,o,a){o!=a&&(e.addInt32(o),i(s))},addInt64(s,o,a){o!=a&&(e.addInt64(o),i(s))},addOffset(s,o,a){o!=a&&(e.addOffset(o),i(s))},finish(){e.addInt32(0);const s=e.offset();let o=t;for(;--o>=0&&n[o]===0;);const a=o+1;for(;o>=0;--o)e.addInt16(n[o]?s-n[o]:0);const l=2;e.addInt16(s-r);const u=(a+l)*q9;e.addInt16(u);let c=0;const{buf:d,vtables:f,space:h}=e;e:for(o=0;o<f.length;++o){const p=d.length-f[o];if(u==W9(d,p)){for(let m=q9;m<u;m+=q9)if(W9(d,h+m)!=W9(d,p+m))continue e;c=f[o];break}}if(c)e.space=d.length-s,bH(d,e.space,c-s);else{const p=e.offset();f.push(p),bH(d,d.length-s,p-s)}return s}}}function LAe(e,t){const{nodes:n,regions:r,variadic:i}=t,s=e.addVector(n,16,8,(l,u)=>(l.writeInt64(u.nullCount),l.writeInt64(u.length),l.offset())),o=e.addVector(r,16,8,(l,u)=>(l.writeInt64(u.length),l.writeInt64(u.offset),l.offset())),a=e.addVector(i,8,8,(l,u)=>l.addInt64(u));return e.addObject(5,l=>{l.addInt64(0,n[0].length,0),l.addOffset(1,s,0),l.addOffset(2,o,0),l.addOffset(4,a,0)})}function Zbt(e,t){const n=LAe(e,t.data);return e.addObject(3,r=>{r.addInt64(0,t.id,0),r.addOffset(1,n,0),r.addInt8(2,+t.isDelta,0)})}function VQ(e,t){return t?.size>0?e.addOffsetVector(Array.from(t,([n,r])=>{const i=e.addString(`${n}`),s=e.addString(`${r}`);return e.addObject(2,o=>{o.addOffset(0,i,0),o.addOffset(1,s,0)})})):0}function FP(e,t){switch($A(t.typeId,ft,U$)){case ft.Dictionary:return dwt(e,t);case ft.Int:return swt(e,t);case ft.Float:return iwt(e,t);case ft.Decimal:return twt(e,t);case ft.Date:return ewt(e,t);case ft.Time:return lwt(e,t);case ft.Timestamp:return uwt(e,t);case ft.Interval:return owt(e,t);case ft.Duration:return nwt(e,t);case ft.FixedSizeBinary:case ft.FixedSizeList:return rwt(e,t);case ft.Map:return awt(e,t);case ft.Union:return cwt(e,t)}return e.addObject(0)}function ewt(e,t){return e.addObject(1,n=>{n.addInt16(0,t.unit,ek.MILLISECOND)})}function twt(e,t){return e.addObject(3,n=>{n.addInt32(0,t.precision,0),n.addInt32(1,t.scale,0),n.addInt32(2,t.bitWidth,128)})}function nwt(e,t){return e.addObject(1,n=>{n.addInt16(0,t.unit,yf.MILLISECOND)})}function rwt(e,t){return e.addObject(1,n=>{n.addInt32(0,t.stride,0)})}function iwt(e,t){return e.addObject(1,n=>{n.addInt16(0,t.precision,z$.HALF)})}function swt(e,t){return e.addObject(2,n=>{n.addInt32(0,t.bitWidth,0),n.addInt8(1,+t.signed,0)})}function owt(e,t){return e.addObject(1,n=>{n.addInt16(0,t.unit,tk.YEAR_MONTH)})}function awt(e,t){return e.addObject(1,n=>{n.addInt8(0,+t.keysSorted,0)})}function lwt(e,t){return e.addObject(2,n=>{n.addInt16(0,t.unit,yf.MILLISECOND),n.addInt32(1,t.bitWidth,32)})}function uwt(e,t){const n=e.addString(t.timezone);return e.addObject(2,r=>{r.addInt16(0,t.unit,yf.SECOND),r.addOffset(1,n,0)})}function cwt(e,t){const n=e.addVector(t.typeIds,4,4,(r,i)=>r.addInt32(i));return e.addObject(2,r=>{r.addInt16(0,t.mode,oAe.Sparse),r.addOffset(1,n,0)})}function dwt(e,t){return e.addObject(4,n=>{n.addInt64(0,t.id,0),n.addOffset(1,FP(e,t.indices),0),n.addInt8(2,+t.ordered,0)})}const fwt=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;function jAe(e,t){const{fields:n,metadata:r}=t,i=n.map(a=>BAe(e,a)),s=e.addOffsetVector(i),o=VQ(e,r);return e.addObject(4,a=>{a.addInt16(0,+!fwt,0),a.addOffset(1,s,0),a.addOffset(2,o,0)})}function BAe(e,t){const{name:n,nullable:r,type:i,metadata:s}=t;let{typeId:o}=i,a=0,l=0;if(o!==ft.Dictionary)a=FP(e,i);else{const h=i.dictionary;o=h.typeId,l=FP(e,i),a=FP(e,h)}const u=(i.children||[]).map(h=>BAe(e,h)),c=e.addOffsetVector(u),d=VQ(e,s),f=e.addString(n);return e.addObject(7,h=>{h.addOffset(0,f,0),h.addInt8(1,+r,0),h.addInt8(2,o,ft.NONE),h.addOffset(3,a,0),h.addOffset(4,l,0),h.addOffset(5,c,0),h.addOffset(6,d,0)})}function hwt(e,t,n,r,i){const s=VQ(e,i),o=e.addVector(r,24,8,nde),a=e.addVector(n,24,8,nde),l=jAe(e,t);e.finish(e.addObject(5,c=>{c.addInt16(0,ZT.V5,ZT.V1),c.addOffset(1,l,0),c.addOffset(2,a,0),c.addOffset(3,o,0),c.addOffset(4,s,0)}));const u=e.offset();e.addInt32(0),e.addInt32(-1),e.flush(),e.sink.write(new Uint8Array(Int32Array.of(u).buffer)),e.sink.write(sAe)}function nde(e,{offset:t,metadataLength:n,bodyLength:r}){return e.writeInt64(r),e.writeInt32(0),e.writeInt32(n),e.writeInt64(t),e.offset()}function Y9(e,t,n,r,i){e.finish(e.addObject(5,l=>{l.addInt16(0,ZT.V5,ZT.V1),l.addInt8(1,t,MP.NONE),l.addOffset(2,n,0),l.addInt64(3,r,0)}));const s=8,o=e.offset(),a=o+s+7&-8;i?.push({offset:e.outputBytes,metadataLength:a,bodyLength:r}),e.addInt32(a-s),e.addInt32(-1),e.flush(),e.addPadding(a-o-s)}class pwt{write(t){}pad(t){this.write(new Uint8Array(t))}finish(){return null}}class mwt extends pwt{constructor(){super(),this.buffers=[]}write(t){this.buffers.push(t)}finish(){const t=this.buffers,n=t.reduce((i,s)=>i+s.byteLength,0),r=new Uint8Array(n);for(let i=0,s=0;i<t.length;++i)r.set(t[i],s),s+=t[i].byteLength;return r}}const rde="stream",ide="file";function gwt(e,{sink:t,format:n=rde}={}){if(n!==rde&&n!==ide)throw new Error(`Unrecognized Arrow IPC format: ${n}`);const{schema:r,dictionaries:i=[],records:s=[],metadata:o}=e,a=new Qbt(t||new mwt),l=n===ide,u=[],c=[];l&&a.addBuffer(sAe),r&&Y9(a,MP.Schema,jAe(a,r),0);for(const d of i){const{data:f}=d;Y9(a,MP.DictionaryBatch,Zbt(a,d),f.byteLength,u),sde(a,f.buffers)}for(const d of s)Y9(a,MP.RecordBatch,LAe(a,d),d.byteLength,c),sde(a,d.buffers);return a.addBuffer(A1t),l&&hwt(a,r,u,c,o),a.sink}function sde(e,t){for(let n=0;n<t.length;++n)e.addBuffer(t[n])}function ywt(e,t){typeof t=="string"&&(t={format:t});const n=e.children;vwt(n);const{dictionaries:r,idMap:i}=wwt(n),s=_wt(n),a={schema:xwt(e.schema,i),dictionaries:r,records:s};return gwt(a,t).finish()}function vwt(e){const t=e[0]?.data.map(n=>n.length);e.forEach(({data:n})=>{if(n.length!==t.length||n.some((r,i)=>r.length!==t[i]))throw new Error("Columns have inconsistent batch sizes.")})}function bwt(){let e=0;const t=[],n=[],r=[],i=[];return{node(s,o){t.push({length:s,nullCount:o})},buffer(s){const o=s.byteLength,a=o+7&-8;n.push({offset:e,length:a}),e+=a,r.push(new Uint8Array(s.buffer,s.byteOffset,o))},variadic(s){i.push(s)},children(s,o){s.children.forEach((a,l)=>{UAe(a.type,o.children[l],this)})},done(){return{byteLength:e,nodes:t,regions:n,variadic:i,buffers:r}}}}function wwt(e){const t=[],n=new Map,r=new Map;let i=-1;const s=o=>{if(n.has(o))r.set(o.type,n.get(o));else{n.set(o,++i);for(let a=0;a<o.data.length;++a)t.push({id:i,isDelta:a>0,data:zAe([o],a)});r.set(o.type,i)}};return e.forEach(o=>wH(o.data[0],s)),{dictionaries:t,idMap:r}}function wH(e,t){if(e?.type.typeId===ft.Dictionary){const n=e.dictionary;t(n),wH(n.data[0],t)}e?.children?.forEach(n=>wH(n,t))}function xwt(e,t){if(!t.size)return e;const n=s=>{s.typeId===ft.Dictionary&&(s.id=t.get(s.dictionary),i(s)),s.children&&(s.children=s.children.slice()).forEach(r)},r=(s,o,a)=>{const l={...s.type};a[o]={...s,type:l},n(l)},i=s=>{const o={...s.dictionary};s.dictionary=o,n(o)};return e={...e,fields:e.fields.slice()},e.fields.forEach(r),e}function _wt(e){return(e[0]?.data||[]).map((t,n)=>zAe(e,n))}function zAe(e,t=0){const n=bwt();return e.forEach(r=>{UAe(r.type,r.data[t],n)}),n.done()}function UAe(e,t,n){const{typeId:r}=e;if(n.node(t.length,t.nullCount),r!==ft.Null)switch(r){case ft.Bool:case ft.Int:case ft.Time:case ft.Duration:case ft.Float:case ft.Date:case ft.Timestamp:case ft.Decimal:case ft.Interval:case ft.FixedSizeBinary:case ft.Dictionary:n.buffer(t.validity),n.buffer(t.values);return;case ft.Utf8:case ft.LargeUtf8:case ft.Binary:case ft.LargeBinary:n.buffer(t.validity),n.buffer(t.offsets),n.buffer(t.values);return;case ft.BinaryView:case ft.Utf8View:n.buffer(t.validity),n.buffer(t.values),n.variadic(t.data.length),t.data.forEach(i=>n.buffer(i));return;case ft.List:case ft.LargeList:case ft.Map:n.buffer(t.validity),n.buffer(t.offsets),n.children(e,t);return;case ft.ListView:case ft.LargeListView:n.buffer(t.validity),n.buffer(t.offsets),n.buffer(t.sizes),n.children(e,t);return;case ft.FixedSizeList:case ft.Struct:n.buffer(t.validity),n.children(e,t);return;case ft.RunEndEncoded:n.children(e,t);return;case ft.Union:{n.buffer(t.typeIds),e.mode===oAe.Dense&&n.buffer(t.offsets),n.children(e,t);return}default:throw new Error(U$(r))}}function ad(e){return new VAe(e)}let VAe=class{constructor(t=zC){this.buf=new t(512)}array(t){return O1t(this.buf,t)}prep(t){t>=this.buf.length&&(this.buf=fAe(this.buf,t))}get(t){return this.buf[t]}set(t,n){this.prep(n),this.buf[n]=t}write(t,n){this.prep(n+t.length),this.buf.set(t,n)}};function HAe(){return new Cwt}let Cwt=class extends VAe{set(t){const n=t>>3;this.prep(n),this.buf[n]|=1<<t%8}};class HQ{constructor(t,n){this.type=t,this.ctx=n,this.batchClass=n.batchType(t)}init(){return this.index=-1,this}set(t,n){return this.index=n,!1}done(){return null}batch(){const t=new this.batchClass(this.done());return this.init(),t}}class qf extends HQ{constructor(t,n){super(t,n)}init(){return this.nullCount=0,this.validity=HAe(),super.init()}set(t,n){this.index=n;const r=t!=null;return r?this.validity.set(n):this.nullCount++,r}done(){const{index:t,nullCount:n,type:r,validity:i}=this;return{length:t+1,nullCount:n,type:r,validity:n?i.array((t>>3)+1):new zC(0)}}}function Ewt(){const e=new Map,t=new Set;return{get(n,r){const i=n.id;if(i>=0&&e.has(i))return e.get(i);{const s=Swt(n,r);return i>=0&&e.set(i,s),t.add(s),s}},finish(n){t.forEach(r=>r.finish(n))}}}function Swt(e,t){const n=Object.create(null),r=t.builder(e.dictionary),i=[];r.init();let s=-1;return{type:e,values:r,add(o){return i.push(o),o},key(o){const a=q$(o);let l=n[a];return l===void 0&&(n[a]=l=++s,r.set(o,l)),l},finish(o){const a=e.dictionary,l=new(FAe(a,o))(r.done()),u=new zQ([l]);i.forEach(c=>c.setDictionary(u))}}}class Twt extends qf{constructor(t,n){super(t,n),this.dict=n.dictionary(t)}init(){return this.values=ad(this.type.indices.values),super.init()}set(t,n){super.set(t,n)&&this.values.set(this.dict.key(t),n)}done(){return{...super.done(),values:this.values.array(this.index+1)}}batch(){return this.dict.add(super.batch())}}function kwt(e){const t=xH();return e(n=>t.add(n)),t.type()}function xH(){let e=0,t=0,n=0,r=0,i=0,s=0,o=0,a=0,l=0,u=0,c=0,d=1/0,f=-1/0,h=1/0,p=-1/0,m,g,y,v={};return{add(w){if(e++,w==null){t++;return}switch(typeof w){case"string":l++;break;case"number":r++,w<d&&(d=w),w>f&&(f=w),Number.isInteger(w)&&i++;break;case"bigint":s++,m===void 0?m=g=w:(w<m&&(m=w),w>g&&(g=w));break;case"boolean":n++;break;case"object":if(w instanceof Date)o++,+w%864e5===0&&a++;else if(cAe(w)){u++;const _=w.length;_<h&&(h=_),_>p&&(p=_),y??=xH(),w.forEach(y.add)}else{c++;for(const _ in w)(v[_]??(v[_]=xH())).add(w[_])}}},type(){const w=e-t;return w===0?L1t():i===w?Rwt(d,f):r===w?LQ():s===w?Iwt(m,g):n===w?q1t():a===w?G1t():o===w?Y1t():l===w?F1t(H1t()):u===w?Awt(y.type(),h,p):c===w?X1t(Object.entries(v).map(_=>V$(_[0],_[1].type()))):Dwt()}}}function Awt(e,t,n){return n===t?Q1t(e,t):K1t(e)}function Rwt(e,t){const n=Math.max(Math.abs(e)-1,t);return n<128?vAe():n<32768?bAe():n<2**31?FQ():LQ()}function Iwt(e,t){const n=-e>t?-e-1n:t;if(n>=2**63)throw new Error(`BigInt exceeds 64 bits: ${n}`);return wAe()}function Dwt(){throw new Error("Mixed types detected, please define a union type.")}class qAe extends qf{constructor(t,n){super(t,n),this.toOffset=CAe(t.offsets)}init(){return this.offsets=ad(this.type.offsets),this.values=ad(),this.pos=0,super.init()}set(t,n){const{offsets:r,values:i,toOffset:s}=this;super.set(t,n)&&(i.write(t,this.pos),this.pos+=t.length),r.set(s(this.pos),n+1)}done(){return{...super.done(),offsets:this.offsets.array(this.index+2),values:this.values.array(this.pos+1)}}}class Pwt extends qf{constructor(t,n){super(t,n)}init(){return this.values=HAe(),super.init()}set(t,n){super.set(t,n),t&&this.values.set(n)}done(){return{...super.done(),values:this.values.array((this.index>>3)+1)}}}class Owt extends qf{constructor(t,n){super(t,n),this.scale=10**t.scale,this.stride=t.bitWidth>>6}init(){return this.values=ad(this.type.values),super.init()}set(t,n){const{scale:r,stride:i,values:s}=this;super.set(t,n)&&(s.prep((n+1)*i),sbt(t,s.buf,n*i,i,r))}done(){const{index:t,stride:n,values:r}=this;return{...super.done(),values:r.array((t+1)*n)}}}class Nwt extends qf{constructor(t,n){super(t,n),this.stride=t.stride}init(){return this.values=ad(),super.init()}set(t,n){super.set(t,n)&&this.values.write(t,n*this.stride)}done(){const{stride:t,values:n}=this;return{...super.done(),values:n.array(t*(this.index+1))}}}class $wt extends qf{constructor(t,n){super(t,n),this.child=n.builder(this.type.children[0].type),this.stride=t.stride}init(){return this.child.init(),super.init()}set(t,n){const{child:r,stride:i}=this,s=n*i;if(super.set(t,n))for(let o=0;o<i;++o)r.set(t[o],s+o);else r.index=s+i}done(){const{child:t}=this;return{...super.done(),children:[t.batch()]}}}class Mwt extends qf{init(){return this.values=ad(this.type.values),super.init()}set(t,n){if(super.set(t,n)){const r=n<<1;this.values.set(t[0],r),this.values.set(t[1],r+1)}}done(){return{...super.done(),values:this.values.array(this.index+1<<1)}}}class Fwt extends qf{init(){return this.values=ad(),super.init()}set(t,n){super.set(t,n)&&this.values.write(rbt(t),n<<4)}done(){return{...super.done(),values:this.values.array(this.index+1<<4)}}}class WAe extends qf{constructor(t,n,r){super(t,n),this.child=r}init(){this.child.init();const t=this.type.offsets;return this.offsets=ad(t),this.toOffset=CAe(t),this.pos=0,super.init()}done(){return{...super.done(),offsets:this.offsets.array(this.index+2),children:[this.child.batch()]}}}class Lwt extends WAe{constructor(t,n){super(t,n,n.builder(t.children[0].type))}set(t,n){const{child:r,offsets:i,toOffset:s}=this;super.set(t,n)&&t.forEach(o=>r.set(o,this.pos++)),i.set(s(this.pos),n+1)}}class GAe extends qf{constructor(t,n){super(t,n),this.children=t.children.map(r=>n.builder(r.type))}init(){return this.children.forEach(t=>t.init()),super.init()}done(){const{children:t}=this;return t.forEach(n=>n.index=this.index),{...super.done(),children:t.map(n=>n.batch())}}}class jwt extends GAe{constructor(t,n){super(t,n),this.setters=this.children.map((r,i)=>{const s=t.children[i].name;return(o,a)=>r.set(o?.[s],a)})}set(t,n){super.set(t,n);const r=this.setters;for(let i=0;i<r.length;++i)r[i](t,n)}}class Bwt extends WAe{constructor(t,n){super(t,n,new zwt(t.children[0].type,n))}set(t,n){const{child:r,offsets:i,toOffset:s}=this;if(super.set(t,n))for(const o of t)r.set(o,this.pos++);i.set(s(this.pos),n+1)}}class zwt extends GAe{set(t,n){super.set(t,n);const[r,i]=this.children;r.set(t[0],n),i.set(t[1],n)}}const Uwt={};class Vwt extends HQ{constructor(t,n){super(t,n),this.children=t.children.map(r=>n.builder(r.type))}init(){return this.pos=0,this.key=null,this.value=Uwt,this.children.forEach(t=>t.init()),super.init()}next(){const[t,n]=this.children;t.set(this.index+1,this.pos),n.set(this.value,this.pos++)}set(t,n){if(t!==this.value){const r=q$(t);r!==this.key&&(this.key&&this.next(),this.key=r,this.value=t)}this.index=n}done(){this.next();const{children:t,index:n,type:r}=this;return{length:n+1,nullCount:0,type:r,children:t.map(i=>i.batch())}}}class YAe extends HQ{constructor(t,n){super(t,n),this.children=t.children.map(r=>n.builder(r.type)),this.typeMap=t.typeMap,this.lookup=t.typeIdForValue}init(){return this.nullCount=0,this.typeIds=ad(NQ),this.children.forEach(t=>t.init()),super.init()}set(t,n){const{children:r,lookup:i,typeMap:s,typeIds:o}=this;this.index=n;const a=i(t,n),l=r[s[a]];o.set(a,n),t==null&&++this.nullCount,this.update(t,n,l)}done(){const{children:t,nullCount:n,type:r,typeIds:i}=this,s=this.index+1;return{length:s,nullCount:n,type:r,typeIds:i.array(s),children:t.map(o=>o.batch())}}}class Hwt extends YAe{update(t,n,r){r.set(t,n),this.children.forEach(i=>{i!==r&&i.set(null,n)})}}class qwt extends YAe{init(){return this.offsets=ad(this.type.offsets),super.init()}update(t,n,r){const i=r.index+1;r.set(t,i),this.offsets.set(i,n)}done(){return{...super.done(),offsets:this.offsets.array(this.index+1)}}}class Wwt extends qAe{set(t,n){super.set(t&&EAe(t),n)}}class tT extends qf{constructor(t,n){super(t,n),this.values=ad(t.values)}init(){return this.values=ad(this.type.values),super.init()}set(t,n){super.set(t,n)&&this.values.set(t,n)}done(){return{...super.done(),values:this.values.array(this.index+1)}}}class Gwt extends tT{set(t,n){super.set(t==null?t:Cm(t),n)}}class xD extends tT{constructor(t,n,r){super(t,n),this.transform=r}set(t,n){super.set(t==null?t:this.transform(t),n)}}function KAe(e={},t=Ewt()){return{batchType:n=>FAe(n,e),builder(n){return XAe(n,this)},dictionary(n){return t.get(n,this)},finish:()=>t.finish(e)}}function XAe(e,t=KAe()){const{typeId:n}=e;switch(n){case ft.Int:case ft.Time:case ft.Duration:return $Q(e.values)?new Gwt(e,t):new tT(e,t);case ft.Float:return e.precision?new tT(e,t):new xD(e,t,ubt);case ft.Binary:case ft.LargeBinary:return new qAe(e,t);case ft.Utf8:case ft.LargeUtf8:return new Wwt(e,t);case ft.Bool:return new Pwt(e,t);case ft.Decimal:return e.bitWidth===32?new xD(e,t,ibt(e.scale)):new Owt(e,t);case ft.Date:return new xD(e,t,e.unit?Cm:tbt);case ft.Timestamp:return new xD(e,t,nbt(e.unit));case ft.Interval:switch(e.unit){case tk.DAY_TIME:return new Mwt(e,t);case tk.MONTH_DAY_NANO:return new Fwt(e,t)}return new tT(e,t);case ft.List:case ft.LargeList:return new Lwt(e,t);case ft.Struct:return new jwt(e,t);case ft.Union:return e.mode?new qwt(e,t):new Hwt(e,t);case ft.FixedSizeBinary:return new Nwt(e,t);case ft.FixedSizeList:return new $wt(e,t);case ft.Map:return new Bwt(e,t);case ft.RunEndEncoded:return new Vwt(e,t);case ft.Dictionary:return new Twt(e,t)}throw new Error(U$(n))}function QAe(e,t,n={},r){const i=$1t(e)?l=>{for(const u of e)l(u)}:e;t??=kwt(i);const{maxBatchRows:s=1/0,...o}=n;let a;if(t.typeId===ft.Null){let l=0;i(()=>++l),a=Ywt(t,l,s)}else{const l=KAe(o,r),u=XAe(t,l).init(),c=f=>a.push(f.batch());a=[];let d=0;i(f=>{u.set(f,d++),d>=s&&(c(u),d=0)}),d&&c(u),l.finish()}return new zQ(a,t)}function Ywt(e,t,n){const r=[],i=a=>new AAe({length:a,nullCount:a,type:e}),s=Math.floor(t/n);for(let a=0;a<s;++a)r.push(i(n));const o=t%n;return o&&r.push(i(o)),r}function Kwt(e,t,n={},r){return!t&&uAe(e)?Xwt(e,n):QAe(i=>e.forEach(i),t,n,r)}function Xwt(e,{maxBatchRows:t,useBigInt:n}){const r=e.constructor,i=Qwt(r),s=e.length,o=Math.min(t||1/0,s),a=Math.floor(s/o),l=[],u=$Q(r)&&!n?Mb:Ex,c=(f,h)=>l.push(new u({length:h-f,nullCount:0,type:i,validity:new zC(0),values:e.subarray(f,h)}));let d=0;for(let f=0;f<a;++f)c(d,d+=o);return d<s&&c(d,s),new zQ(l)}function Qwt(e){switch(e){case lAe:return V1t();case NA:return LQ();case NQ:return vAe();case aAe:return bAe();case UC:return FQ();case VC:return wAe();case zC:return j1t();case DQ:return B1t();case PQ:return z1t();case OQ:return U1t()}}function Jwt(e,t){const n=[],r=Array.isArray(e)?e:Object.entries(e),i=r[0]?.[1].length,s=r.map(([a,l])=>{if(l.length!==i)throw new Error("All columns must have the same length.");return n.push(V$(a,l.type)),l}),o={version:ZT.V5,endianness:R1t.Little,fields:n,metadata:null};return new UQ(o,s,t)}function MA(e,t){return Ml(t)?t(e):t||e.columnNames()}function JAe(e,t={}){const{columns:n,limit:r=1/0,offset:i=0,types:s={},...o}=t,a=MA(e,n),l=e.data(),u=i===0&&e.numRows()<=r&&!e.isFiltered()&&!e.isOrdered();return Jwt(a.map(c=>{const d=l[c],f=s[c],h=Wy(d);let p;if(u&&(h||Ml(d.toArray)))p=Kwt(h?d:d.toArray(),f,o);else{const m=h?g=>d[g]:g=>d.at(g);p=QAe(g=>e.scan(y=>g(m(y)),!0,r,i),f,o)}return[c,p]}))}function Zwt(e,t={}){const{format:n="stream",...r}=t;return ywt(JAe(e,r),{format:n})}function _H(e){return e}function qQ(e,t,n=100,r,i){const{start:s=_H,cell:o,end:a=_H}=i,l=e.data(),u=t.length;e.scan(c=>{s(c);for(let d=0;d<u;++d){const f=t[d];o(l[f].at(c),f,d)}a(c)},!0,n,r)}function ext(e,t={}){const n=MA(e,t.columns),r=t.format||{},i=t.delimiter||",",s=t.header??!0,o=new RegExp(`["${i}
\r]`),a=c=>c==null?"":hy(c)?D$(c,!0):o.test(c+="")?'"'+c.replace(/"/g,'""')+'"':c,l=n.map(a);let u=s?l.join(i)+`
`:"";return qQ(e,n,t.limit||1/0,t.offset,{cell(c,d,f){l[f]=a(r[d]?r[d](c):c)},end(){u+=l.join(i)+`
`}}),u}function txt(e,t,n={}){for(const r in e)n[r]=t(e[r],r);return n}function nxt(e){return e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0&&e.getUTCMilliseconds()===0}function rxt(e,t={}){let n=0,r=0,i=0,s=0,o=0,a=0;return e(l=>{if(++n,l==null){++r;return}const u=typeof l;if(u==="object"&&hy(l))++i,nxt(l)&&++s;else if(u==="number"&&(++o,l===l&&(l|0)!==l)){const c=l+"",d=c.indexOf(".");if(d>=0){const f=c.indexOf("e"),h=f>0?f:c.length;a=Math.max(a,h-d-1)}}}),{align:(r+o+i)/n>.5?"r":"l",format:{utc:i===s,digits:Math.min(a,t.maxdigits||6)}}}function ZAe(e,t,n){const r=n.format||{},i=n.align||{},s={},o={};return t.forEach(a=>{const l=rxt(ixt(e,a),n);o[a]=i[a]||l.align,s[a]=r[a]||l.format}),{align:o,format:s}}function ixt(e,t){const n=e.column(t);return r=>e.scan(i=>r(n.at(i)))}function eRe(e,t={}){if(Ml(t))return t(e)+"";const n=typeof e;if(n==="object"){if(hy(e))return t.utc?D$(e):ATe(e);{const r=JSON.stringify(e,(s,o)=>I$(o)?Array.from(o):o),i=t.maxlen||30;return r.length>i?r.slice(0,28)+""+(r[0]==="["?"]":"}"):r}}else if(n==="number"){const r=t.digits||0;let i;return e!==0&&((i=Math.abs(e))>=1e18||i<Math.pow(10,-r))?e.toExponential(r):e.toFixed(r)}else return e+""}function sxt(e,t={}){const n=MA(e,t.columns),{align:r,format:i}=ZAe(e,n,t),s=oxt(t),o=t.null,a=m=>m==="c"?"center":m==="r"?"right":"left",l=m=>m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),u=(m,g)=>l(eRe(m,g)),c=o?(m,g)=>m==null?o(m):u(m,g):u;let d=-1,f=-1;const h=(m,g,y)=>{const v=y?a(r[g]):"",w=s[m]&&s[m](g,f,d)||"",_=(v?`text-align: ${v};`+(w?" ":""):"")+w;return`<${m}${_?` style="${_}"`:""}>`};let p=h("table")+h("thead")+h("tr",d)+n.map(m=>`${h("th",m,1)}${m}</th>`).join("")+"</tr></thead>"+h("tbody");return qQ(e,n,t.limit,t.offset,{start(m){d=m,++f,p+=h("tr")},cell(m,g){p+=h("td",g,1)+c(m,i[g])+"</td>"},end(){p+="</tr>"}}),p+"</tbody></table>"}function oxt(e){return txt(e.style,t=>Ml(t)?t:()=>t)}const axt="columns",lxt="ndjson",uxt=e=>hy(e)?D$(e,!0):e;function cxt(e,{type:t,columns:n,format:r={},limit:i,offset:s}={}){const o=MA(e,n),a=o.map(u=>r[u]||uxt),l=u=>e.scan(u,!0,i,s);return t===axt?dxt(e,o,a,l):fxt(e,o,a,l,t===lxt)}function dxt(e,t,n,r){let i="{";return t.forEach((s,o)=>{i+=(o?",":"")+JSON.stringify(s)+":[";const a=e.column(s),l=n[o];let u=-1;r(c=>{const d=a.at(c);i+=(++u?",":"")+JSON.stringify(l(d))}),i+="]"}),i+"}"}function fxt(e,t,n,r,i=!1){const s=t.length,o=t.map(f=>`"${f}":`),a=t.map(f=>e.column(f)),l=i?f=>f.replaceAll(`
`,""):_H,u=i?`
`:",";let c=i?"":"[",d=-1;return r(f=>{const h=[];for(let p=0;p<s;++p)h.push(o[p]+JSON.stringify(n[p](a[p].at(f))));c+=(++d?u:"")+l(`{${h.join(",")}}`)}),c+(i?"":"]")}function hxt(e,t={}){const n=MA(e,t.columns),{align:r,format:i}=ZAe(e,n,t),s=l=>l==="c"?":-:":l==="r"?"-:":":-",o=l=>l.replace(/\|/g,"\\|");let a="|"+n.map(o).join("|")+`|
|`+n.map(l=>s(r[l])).join("|")+`|
`;return qQ(e,n,t.limit,t.offset,{start(){a+="|"},cell(l,u){a+=o(eRe(l,i[u]))+"|"},end(){a+=`
`}}),a}class pxt extends gH{assign(...t){return mvt(this,...t)}count(t={}){const{as:n="count"}=t;return t4(this,{[n]:lgt()})}derive(t,n){return Evt(this,t,n)}filter(t){return AQ(this,t)}slice(t,n){return _1t(this,t,n)}groupby(...t){return EQ(this,...t)}orderby(...t){return t1t(this,...t)}relocate(t,n){return Xke(this,dp(t),n)}rename(...t){return c1t(this,...t)}reduce(t){return u1t(this,t)}rollup(t){return t4(this,t)}sample(t,n){return y1t(this,t,n)}select(...t){return Yke(this,...t)}ungroup(){return IQ(this)}unorder(){return k1t(this)}dedupe(...t){return B$(this,...t)}impute(t,n){return Fvt(this,t,n)}fold(t,n){return $vt(this,t,n)}pivot(t,n,r){return i1t(this,t,n,r)}spread(t,n){return C1t(this,t,n)}unroll(t,n){return Nvt(this,t,n)}lookup(t,n,...r){return Xvt(this,t,n,...r)}join(t,n,r,i){return oS(this,t,n,r,i)}join_left(t,n,r,i){const s={...i,left:!0,right:!1};return oS(this,t,n,r,s)}join_right(t,n,r,i){const s={...i,left:!1,right:!0};return oS(this,t,n,r,s)}join_full(t,n,r,i){const s={...i,left:!0,right:!0};return oS(this,t,n,r,s)}cross(t,n,r){return Vvt(this,t,n,r)}semijoin(t,n){return eAe(this,t,n)}antijoin(t,n){return tAe(this,t,n)}concat(...t){return Kke(this,...t)}union(...t){return T1t(this,...t)}intersect(...t){return Bvt(this,...t)}except(...t){return Ovt(this,...t)}toArrow(t){return JAe(this,t)}toArrowIPC(t){return Zwt(this,t)}toCSV(t){return ext(this,t)}toHTML(t){return sxt(this,t)}toJSON(t){return cxt(this,t)}toMarkdown(t){return hxt(this,t)}}function K9(e){return Vke(e,{escape:!0,toString(){ks("Escaped values can not be serialized.")}})}function mxt(e,t){const n=r=>(ks(`Illegal argument type: ${r||typeof e}`),{});return e instanceof Map?ode(e.entries(),t):hy(e)?n("Date"):WN(e)?n("RegExp"):Hf(e)?n():Ul(e)?gxt(e,t):Ml(e[Symbol.iterator])?yxt(e,t):py(e)?ode(Object.entries(e),t):n()}function ode(e,t=["key","value"]){const n=[],r=[];for(const[s,o]of e)n.push(s),r.push(o);const i={};return t[0]&&(i[t[0]]=n),t[1]&&(i[t[1]]=r),i}function gxt(e,t){const n=e.length,r={},i=s=>r[s]=Array(n);if(n){t=t||Object.keys(e[0]);const s=t.map(i),o=s.length;for(let a=0;a<n;++a){const l=e[a];for(let u=0;u<o;++u)s[u][a]=l[t[u]]}}else t&&t.forEach(i);return r}function yxt(e,t){const n={},r=o=>n[o]=[];let i,s;for(const o of e){i||(t=t||Object.keys(o),i=t.map(r),s=i.length);for(let a=0;a<s;++a)i[a].push(o[t[a]])}return!i&&t&&t.forEach(r),n}function vxt(e,t){return new pxt(mxt(e,t),t)}function ef(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(i){return"'"+i+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function yy(e){return!!e&&!!e[Zi]}function i0(e){var t;return!!e&&((function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===kxt})(e)||Array.isArray(e)||!!e[hde]||!!(!((t=e.constructor)===null||t===void 0)&&t[hde])||WQ(e)||GQ(e))}function G1(e,t,n){n===void 0&&(n=!1),HC(e)===0?(n?Object.keys:Hx)(e).forEach((function(r){n&&typeof r=="symbol"||t(r,e[r],e)})):e.forEach((function(r,i){return t(i,r,e)}))}function HC(e){var t=e[Zi];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:WQ(e)?2:GQ(e)?3:0}function Vx(e,t){return HC(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function bxt(e,t){return HC(e)===2?e.get(t):e[t]}function tRe(e,t,n){var r=HC(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function nRe(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function WQ(e){return Sxt&&e instanceof Map}function GQ(e){return Txt&&e instanceof Set}function Xv(e){return e.o||e.t}function YQ(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=iRe(e);delete t[Zi];for(var n=Hx(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function KQ(e,t){return t===void 0&&(t=!1),XQ(e)||yy(e)||!i0(e)||(HC(e)>1&&(e.set=e.add=e.clear=e.delete=wxt),Object.freeze(e),t&&G1(e,(function(n,r){return KQ(r,!0)}),!0)),e}function wxt(){ef(2)}function XQ(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Jh(e){var t=TH[e];return t||ef(18,e),t}function xxt(e,t){TH[e]||(TH[e]=t)}function CH(){return nk}function X9(e,t){t&&(Jh("Patches"),e.u=[],e.s=[],e.v=t)}function r4(e){EH(e),e.p.forEach(_xt),e.p=null}function EH(e){e===nk&&(nk=e.l)}function ade(e){return nk={p:[],l:nk,h:e,m:!0,_:0}}function _xt(e){var t=e[Zi];t.i===0||t.i===1?t.j():t.g=!0}function Q9(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||Jh("ES5").S(t,e,r),r?(n[Zi].P&&(r4(t),ef(4)),i0(e)&&(e=i4(t,e),t.l||s4(t,e)),t.u&&Jh("Patches").M(n[Zi].t,e,t.u,t.s)):e=i4(t,n,[]),r4(t),t.u&&t.v(t.u,t.s),e!==rRe?e:void 0}function i4(e,t,n){if(XQ(t))return t;var r=t[Zi];if(!r)return G1(t,(function(a,l){return lde(e,r,t,a,l,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return s4(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=YQ(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),G1(s,(function(a,l){return lde(e,r,i,a,l,n,o)})),s4(e,i,!1),n&&e.u&&Jh("Patches").N(r,n,e.u,e.s)}return r.o}function lde(e,t,n,r,i,s,o){if(yy(i)){var a=i4(e,i,s&&t&&t.i!==3&&!Vx(t.R,r)?s.concat(r):void 0);if(tRe(n,r,a),!yy(a))return;e.m=!1}else o&&n.add(i);if(i0(i)&&!XQ(i)){if(!e.h.D&&e._<1)return;i4(e,i),t&&t.A.l||s4(e,i)}}function s4(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&KQ(t,n)}function J9(e,t){var n=e[Zi];return(n?Xv(n):e)[t]}function ude(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Dg(e){e.P||(e.P=!0,e.l&&Dg(e.l))}function Z9(e){e.o||(e.o=YQ(e.t))}function SH(e,t,n){var r=WQ(t)?Jh("MapSet").F(t,n):GQ(t)?Jh("MapSet").T(t,n):e.O?(function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:CH(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=rk;o&&(l=[a],u=aS);var c=Proxy.revocable(l,u),d=c.revoke,f=c.proxy;return a.k=f,a.j=d,f})(t,n):Jh("ES5").J(t,n);return(n?n.A:CH()).p.push(r),r}function Cxt(e){return yy(e)||ef(22,e),(function t(n){if(!i0(n))return n;var r,i=n[Zi],s=HC(n);if(i){if(!i.P&&(i.i<4||!Jh("ES5").K(i)))return i.t;i.I=!0,r=cde(n,s),i.I=!1}else r=cde(n,s);return G1(r,(function(o,a){i&&bxt(i.t,o)===a||tRe(r,o,t(a))})),s===3?new Set(r):r})(e)}function cde(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return YQ(e)}function Ext(){function e(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[Zi];return rk.get(l,s)},set:function(l){var u=this[Zi];rk.set(u,s,l)}},a}function t(s){for(var o=s.length-1;o>=0;o--){var a=s[o][Zi];if(!a.P)switch(a.i){case 5:r(a)&&Dg(a);break;case 4:n(a)&&Dg(a)}}}function n(s){for(var o=s.t,a=s.k,l=Hx(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==Zi){var d=o[c];if(d===void 0&&!Vx(o,c))return!0;var f=a[c],h=f&&f[Zi];if(h?h.t!==d:!nRe(f,d))return!0}}var p=!!o[Zi];return l.length!==Hx(o).length+(p?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};xxt("ES5",{J:function(s,o){var a=Array.isArray(s),l=(function(c,d){if(c){for(var f=Array(d.length),h=0;h<d.length;h++)Object.defineProperty(f,""+h,e(h,!0));return f}var p=iRe(d);delete p[Zi];for(var m=Hx(p),g=0;g<m.length;g++){var y=m[g];p[y]=e(y,c||!!p[y].enumerable)}return Object.create(Object.getPrototypeOf(d),p)})(a,s),u={i:a?5:4,A:o?o.A:CH(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,Zi,{value:u,writable:!0}),l},S:function(s,o,a){a?yy(o)&&o[Zi].A===s&&t(s.p):(s.u&&(function l(u){if(u&&typeof u=="object"){var c=u[Zi];if(c){var d=c.t,f=c.k,h=c.R,p=c.i;if(p===4)G1(f,(function(w){w!==Zi&&(d[w]!==void 0||Vx(d,w)?h[w]||l(f[w]):(h[w]=!0,Dg(c)))})),G1(d,(function(w){f[w]!==void 0||Vx(f,w)||(h[w]=!1,Dg(c))}));else if(p===5){if(r(c)&&(Dg(c),h.length=!0),f.length<d.length)for(var m=f.length;m<d.length;m++)h[m]=!1;else for(var g=d.length;g<f.length;g++)h[g]=!0;for(var y=Math.min(f.length,d.length),v=0;v<y;v++)f.hasOwnProperty(v)||(h[v]=!0),h[v]===void 0&&l(f[v])}}}})(s.p[0]),t(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var dde,nk,QQ=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Sxt=typeof Map<"u",Txt=typeof Set<"u",fde=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",rRe=QQ?Symbol.for("immer-nothing"):((dde={})["immer-nothing"]=!0,dde),hde=QQ?Symbol.for("immer-draftable"):"__$immer_draftable",Zi=QQ?Symbol.for("immer-state"):"__$immer_state",kxt=""+Object.prototype.constructor,Hx=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,iRe=Object.getOwnPropertyDescriptors||function(e){var t={};return Hx(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},TH={},rk={get:function(e,t){if(t===Zi)return e;var n=Xv(e);if(!Vx(n,t))return(function(i,s,o){var a,l=ude(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0})(e,n,t);var r=n[t];return e.I||!i0(r)?r:r===J9(e.t,t)?(Z9(e),e.o[t]=SH(e.A.h,r,e)):r},has:function(e,t){return t in Xv(e)},ownKeys:function(e){return Reflect.ownKeys(Xv(e))},set:function(e,t,n){var r=ude(Xv(e),t);if(r?.set)return r.set.call(e.k,n),!0;if(!e.P){var i=J9(Xv(e),t),s=i?.[Zi];if(s&&s.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(nRe(n,i)&&(n!==void 0||Vx(e.t,t)))return!0;Z9(e),Dg(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return J9(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,Z9(e),Dg(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Xv(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){ef(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){ef(12)}},aS={};G1(rk,(function(e,t){aS[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),aS.deleteProperty=function(e,t){return aS.set.call(this,e,t,void 0)},aS.set=function(e,t,n){return rk.set.call(this,e[0],t,n,e[0])};var Axt=(function(){function e(n){var r=this;this.O=fde,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(m){var g=this;m===void 0&&(m=a);for(var y=arguments.length,v=Array(y>1?y-1:0),w=1;w<y;w++)v[w-1]=arguments[w];return l.produce(m,(function(_){var C;return(C=s).call.apply(C,[g,_].concat(v))}))}}var u;if(typeof s!="function"&&ef(6),o!==void 0&&typeof o!="function"&&ef(7),i0(i)){var c=ade(r),d=SH(r,i,void 0),f=!0;try{u=s(d),f=!1}finally{f?r4(c):EH(c)}return typeof Promise<"u"&&u instanceof Promise?u.then((function(m){return X9(c,o),Q9(m,c)}),(function(m){throw r4(c),m})):(X9(c,o),Q9(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===rRe&&(u=void 0),r.D&&KQ(u,!0),o){var h=[],p=[];Jh("Patches").M(i,u,h,p),o(h,p)}return u}ef(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return r.produceWithPatches(u,(function(h){return i.apply(void 0,[h].concat(d))}))};var o,a,l=r.produce(i,s,(function(u,c){o=u,a=c}));return typeof Promise<"u"&&l instanceof Promise?l.then((function(u){return[u,o,a]})):[l,o,a]},typeof n?.useProxies=="boolean"&&this.setUseProxies(n.useProxies),typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){i0(n)||ef(8),yy(n)&&(n=Cxt(n));var r=ade(this),i=SH(this,n,void 0);return i[Zi].C=!0,EH(r),i},t.finishDraft=function(n,r){var i=n&&n[Zi],s=i.A;return X9(s,r),Q9(void 0,s)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!fde&&ef(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Jh("Patches").$;return yy(n)?o(n,r):this.produce(n,(function(a){return o(a,r)}))},e})(),oc=new Axt,sRe=oc.produce;oc.produceWithPatches.bind(oc);oc.setAutoFreeze.bind(oc);oc.setUseProxies.bind(oc);oc.applyPatches.bind(oc);oc.createDraft.bind(oc);oc.finishDraft.bind(oc);function ik(e){"@babel/helpers - typeof";return ik=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ik(e)}function Rxt(e,t){if(ik(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ik(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ixt(e){var t=Rxt(e,"string");return ik(t)=="symbol"?t:t+""}function Dxt(e,t,n){return(t=Ixt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pde(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mde(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pde(Object(n),!0).forEach(function(r){Dxt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pde(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Va(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var gde=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),eB=function(){return Math.random().toString(36).substring(7).split("").join(".")},o4={INIT:"@@redux/INIT"+eB(),REPLACE:"@@redux/REPLACE"+eB(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+eB()}};function Pxt(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function oRe(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Va(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Va(1));return n(oRe)(e,t)}if(typeof e!="function")throw new Error(Va(2));var i=e,s=t,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(Va(3));return s}function d(m){if(typeof m!="function")throw new Error(Va(4));if(l)throw new Error(Va(5));var g=!0;return u(),a.push(m),function(){if(g){if(l)throw new Error(Va(6));g=!1,u();var v=a.indexOf(m);a.splice(v,1),o=null}}}function f(m){if(!Pxt(m))throw new Error(Va(7));if(typeof m.type>"u")throw new Error(Va(8));if(l)throw new Error(Va(9));try{l=!0,s=i(s,m)}finally{l=!1}for(var g=o=a,y=0;y<g.length;y++){var v=g[y];v()}return m}function h(m){if(typeof m!="function")throw new Error(Va(10));i=m,f({type:o4.REPLACE})}function p(){var m,g=d;return m={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(Va(11));function w(){v.next&&v.next(c())}w();var _=g(w);return{unsubscribe:_}}},m[gde]=function(){return this},m}return f({type:o4.INIT}),r={dispatch:f,subscribe:d,getState:c,replaceReducer:h},r[gde]=p,r}function Oxt(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:o4.INIT});if(typeof r>"u")throw new Error(Va(12));if(typeof n(void 0,{type:o4.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Va(13))})}function Nxt(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var s=Object.keys(n),o;try{Oxt(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,d={},f=0;f<s.length;f++){var h=s[f],p=n[h],m=l[h],g=p(m,u);if(typeof g>"u")throw u&&u.type,new Error(Va(14));d[h]=g,c=c||g!==m}return c=c||s.length!==Object.keys(l).length,c?d:l}}function a4(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function $xt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Va(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=t.map(function(l){return l(o)});return s=a4.apply(void 0,a)(i.dispatch),mde(mde({},i),{},{dispatch:s})}}}function aRe(e){var t=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,e):o(a)}}};return t}var kH=aRe();kH.withExtraArgument=aRe;var lRe=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),FA=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Y1=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Mxt=Object.defineProperty,Fxt=Object.defineProperties,Lxt=Object.getOwnPropertyDescriptors,yde=Object.getOwnPropertySymbols,jxt=Object.prototype.hasOwnProperty,Bxt=Object.prototype.propertyIsEnumerable,vde=function(e,t,n){return t in e?Mxt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Zg=function(e,t){for(var n in t||(t={}))jxt.call(t,n)&&vde(e,n,t[n]);if(yde)for(var r=0,i=yde(t);r<i.length;r++){var n=i[r];Bxt.call(t,n)&&vde(e,n,t[n])}return e},tB=function(e,t){return Fxt(e,Lxt(t))},LA=function(e,t,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(u){i(u)}},o=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(e,t)).next())})},zxt=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?a4:a4.apply(null,arguments)};function uRe(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var Uxt=function(e){return e&&typeof e.match=="function"};function Zh(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var s=t.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Zg(Zg({type:e,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function Vxt(e){return uRe(e)&&"type"in e}var Hxt=(function(e){lRe(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Y1([void 0],n[0].concat(this)))):new(t.bind.apply(t,Y1([void 0],n.concat(this))))},t})(Array),qxt=(function(e){lRe(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Y1([void 0],n[0].concat(this)))):new(t.bind.apply(t,Y1([void 0],n.concat(this))))},t})(Array);function AH(e){return i0(e)?sRe(e,function(){}):e}function Wxt(e){return typeof e=="boolean"}function Gxt(){return function(t){return Yxt(t)}}function Yxt(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var r=new Hxt;return n&&(Wxt(n)?r.push(kH):r.push(kH.withExtraArgument(n.extraArgument))),r}function Kxt(e){var t=Gxt(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?t():s,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,d=n.enhancers,f=d===void 0?void 0:d,h;if(typeof i=="function")h=i;else if(uRe(i))h=Nxt(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=o;typeof p=="function"&&(p=p(t));var m=$xt.apply(void 0,p),g=a4;l&&(g=zxt(Zg({trace:!1},typeof l=="object"&&l)));var y=new qxt(m),v=y;Array.isArray(f)?v=Y1([m],f):typeof f=="function"&&(v=f(y));var w=g.apply(void 0,v);return oRe(h,c,w)}function cRe(e){var t={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return e(i),[t,n,r]}function Xxt(e){return typeof e=="function"}function Qxt(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?cRe(t):[t,n,r],s=i[0],o=i[1],a=i[2],l;if(Xxt(e))l=function(){return AH(e())};else{var u=AH(e);l=function(){return u}}function c(d,f){d===void 0&&(d=l());var h=Y1([s[f.type]],o.filter(function(p){var m=p.matcher;return m(f)}).map(function(p){var m=p.reducer;return m}));return h.filter(function(p){return!!p}).length===0&&(h=[a]),h.reduce(function(p,m){if(m)if(yy(p)){var g=p,y=m(g,f);return y===void 0?p:y}else{if(i0(p))return sRe(p,function(v){return m(v,f)});var y=m(p,f);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}return p},d)}return c.getInitialState=l,c}function Jxt(e,t){return e+"/"+t}function Zxt(e){var t=e.name,n=typeof e.initialState=="function"?e.initialState:AH(e.initialState),r=e.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var d=r[c],f=Jxt(t,c),h,p;"reducer"in d?(h=d.reducer,p=d.prepare):h=d,s[c]=h,o[f]=h,a[c]=p?Zh(f,p):Zh(f)});function l(){var c=typeof e.extraReducers=="function"?cRe(e.extraReducers):[e.extraReducers],d=c[0],f=d===void 0?{}:d,h=c[1],p=h===void 0?[]:h,m=c[2],g=m===void 0?void 0:m,y=Zg(Zg({},f),o);return Qxt(n,function(v){for(var w in y)v.addCase(w,y[w]);for(var _=0,C=p;_<C.length;_++){var S=C[_];v.addMatcher(S.matcher,S.reducer)}g&&v.addDefaultCase(g)})}var u;return{name:t,reducer:function(c,d){return u||(u=l()),u(c,d)},actions:a,caseReducers:s,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var e_t="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",dRe=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=e_t[Math.random()*64|0];return t},t_t=["name","message","stack","code"],nB=(function(){function e(t,n){this.payload=t,this.meta=n}return e})(),bde=(function(){function e(t,n){this.payload=t,this.meta=n}return e})(),n_t=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=t_t;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=Zh(t+"/fulfilled",function(u,c,d,f){return{payload:u,meta:tB(Zg({},f||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),s=Zh(t+"/pending",function(u,c,d){return{payload:void 0,meta:tB(Zg({},d||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),o=Zh(t+"/rejected",function(u,c,d,f,h){return{payload:f,error:(r&&r.serializeError||n_t)(u||"Rejected"),meta:tB(Zg({},h||{}),{arg:d,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:u?.name==="AbortError",condition:u?.name==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:(function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u})();function l(u){return function(c,d,f){var h=r?.idGenerator?r.idGenerator(u):dRe(),p=new a,m;function g(v){m=v,p.abort()}var y=(function(){return LA(this,null,function(){var v,w,_,C,S,T,k;return FA(this,function(I){switch(I.label){case 0:return I.trys.push([0,4,,5]),C=(v=r?.condition)==null?void 0:v.call(r,u,{getState:d,extra:f}),i_t(C)?[4,C]:[3,2];case 1:C=I.sent(),I.label=2;case 2:if(C===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return S=new Promise(function(R,P){return p.signal.addEventListener("abort",function(){return P({name:"AbortError",message:m||"Aborted"})})}),c(s(h,u,(w=r?.getPendingMeta)==null?void 0:w.call(r,{requestId:h,arg:u},{getState:d,extra:f}))),[4,Promise.race([S,Promise.resolve(n(u,{dispatch:c,getState:d,extra:f,requestId:h,signal:p.signal,abort:g,rejectWithValue:function(R,P){return new nB(R,P)},fulfillWithValue:function(R,P){return new bde(R,P)}})).then(function(R){if(R instanceof nB)throw R;return R instanceof bde?i(R.payload,h,u,R.meta):i(R,h,u)})])];case 3:return _=I.sent(),[3,5];case 4:return T=I.sent(),_=T instanceof nB?o(null,h,u,T.payload,T.meta):o(T,h,u),[3,5];case 5:return k=r&&!r.dispatchConditionRejection&&o.match(_)&&_.meta.condition,k||c(_),[2,_]}})})})();return Object.assign(y,{abort:g,requestId:h,arg:u,unwrap:function(){return y.then(r_t)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function r_t(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function i_t(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var s_t=function(e,t){return Uxt(e)?e.match(t):e(t)};function wde(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.some(function(r){return s_t(r,n)})}}var JQ=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},RH=function(){},fRe=function(e,t){return t===void 0&&(t=RH),e.catch(t),e},hRe=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},qx=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},o_t="task",pRe="listener",mRe="completed",ZQ="cancelled",a_t="task-"+ZQ,l_t="task-"+mRe,gRe=pRe+"-"+ZQ,u_t=pRe+"-"+mRe,Y$=(function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=o_t+" "+ZQ+" (reason: "+t+")"}return e})(),Wx=function(e){if(e.aborted)throw new Y$(e.reason)};function yRe(e,t){var n=RH;return new Promise(function(r,i){var s=function(){return i(new Y$(e.reason))};if(e.aborted){s();return}n=hRe(e,s),t.finally(function(){return n()}).then(r,i)}).finally(function(){n=RH})}var c_t=function(e,t){return LA(void 0,null,function(){var n,r;return FA(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return n=i.sent(),[2,{status:"ok",value:n}];case 3:return r=i.sent(),[2,{status:r instanceof Y$?"cancelled":"rejected",error:r}];case 4:return t?.(),[7];case 5:return[2]}})})},l4=function(e){return function(t){return fRe(yRe(e,t).then(function(n){return Wx(e),n}))}},vRe=function(e){var t=l4(e);return function(n){return t(new Promise(function(r){return setTimeout(r,n)}))}},d_t=Object.assign,xde={},jA="listenerMiddleware",f_t=function(e,t){var n=function(r){return hRe(e,function(){return qx(r,e.reason)})};return function(r,i){JQ(r,"taskExecutor");var s=new AbortController;n(s);var o=c_t(function(){return LA(void 0,null,function(){var a;return FA(this,function(l){switch(l.label){case 0:return Wx(e),Wx(s.signal),[4,r({pause:l4(s.signal),delay:vRe(s.signal),signal:s.signal})];case 1:return a=l.sent(),Wx(s.signal),[2,a]}})})},function(){return qx(s,l_t)});return i?.autoJoin&&t.push(o),{result:l4(e)(o),cancel:function(){qx(s,a_t)}}}},h_t=function(e,t){var n=function(r,i){return LA(void 0,null,function(){var s,o,a,l;return FA(this,function(u){switch(u.label){case 0:Wx(t),s=function(){},o=new Promise(function(c,d){var f=e({predicate:r,effect:function(h,p){p.unsubscribe(),c([h,p.getState(),p.getOriginalState()])}});s=function(){f(),d()}}),a=[o],i!=null&&a.push(new Promise(function(c){return setTimeout(c,i,null)})),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,yRe(t,Promise.race(a))];case 2:return l=u.sent(),Wx(t),[2,l];case 3:return s(),[7];case 4:return[2]}})})};return function(r,i){return fRe(n(r,i))}},bRe=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,s=e.effect;if(t)i=Zh(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return JQ(s,"options.listener"),{predicate:i,type:t,effect:s}},p_t=function(e){var t=bRe(e),n=t.type,r=t.predicate,i=t.effect,s=dRe(),o={id:s,effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return o},IH=function(e){e.pending.forEach(function(t){qx(t,gRe)})},m_t=function(e){return function(){e.forEach(IH),e.clear()}},_de=function(e,t,n){try{e(t,n)}catch(r){setTimeout(function(){throw r},0)}},g_t=Zh(jA+"/add"),y_t=Zh(jA+"/removeAll"),v_t=Zh(jA+"/remove"),b_t=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,Y1([jA+"/error"],e))};function w_t(e){var t=this;e===void 0&&(e={});var n=new Map,r=e.extra,i=e.onError,s=i===void 0?b_t:i;JQ(s,"onError");var o=function(h){return h.unsubscribe=function(){return n.delete(h.id)},n.set(h.id,h),function(p){h.unsubscribe(),p?.cancelActive&&IH(h)}},a=function(h){for(var p=0,m=Array.from(n.values());p<m.length;p++){var g=m[p];if(h(g))return g}},l=function(h){var p=a(function(m){return m.effect===h.effect});return p||(p=p_t(h)),o(p)},u=function(h){var p=bRe(h),m=p.type,g=p.effect,y=p.predicate,v=a(function(w){var _=typeof m=="string"?w.type===m:w.predicate===y;return _&&w.effect===g});return v&&(v.unsubscribe(),h.cancelActive&&IH(v)),!!v},c=function(h,p,m,g){return LA(t,null,function(){var y,v,w,_;return FA(this,function(C){switch(C.label){case 0:y=new AbortController,v=h_t(l,y.signal),w=[],C.label=1;case 1:return C.trys.push([1,3,4,6]),h.pending.add(y),[4,Promise.resolve(h.effect(p,d_t({},m,{getOriginalState:g,condition:function(S,T){return v(S,T).then(Boolean)},take:v,delay:vRe(y.signal),pause:l4(y.signal),extra:r,signal:y.signal,fork:f_t(y.signal,w),unsubscribe:h.unsubscribe,subscribe:function(){n.set(h.id,h)},cancelActiveListeners:function(){h.pending.forEach(function(S,T,k){S!==y&&(qx(S,gRe),k.delete(S))})}})))];case 2:return C.sent(),[3,6];case 3:return _=C.sent(),_ instanceof Y$||_de(s,_,{raisedBy:"effect"}),[3,6];case 4:return[4,Promise.allSettled(w)];case 5:return C.sent(),qx(y,u_t),h.pending.delete(y),[7];case 6:return[2]}})})},d=m_t(n),f=function(h){return function(p){return function(m){if(!Vxt(m))return p(m);if(g_t.match(m))return l(m.payload);if(y_t.match(m)){d();return}if(v_t.match(m))return u(m.payload);var g=h.getState(),y=function(){if(g===xde)throw new Error(jA+": getOriginalState can only be called synchronously");return g},v;try{if(v=p(m),n.size>0)for(var w=h.getState(),_=Array.from(n.values()),C=0,S=_;C<S.length;C++){var T=S[C],k=!1;try{k=T.predicate(m,w,g)}catch(I){k=!1,_de(s,I,{raisedBy:"predicate"})}k&&c(T,m,h,y)}}finally{g=xde}return v}}};return{middleware:f,startListening:l,stopListening:u,clearListeners:d}}var Cde;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);Ext();function x_t(){const e=new Map;return{listen(t,n){return e.has(t)||e.set(t,[]),e.get(t).push(n),()=>{e.set(t,(e.get(t)||[]).filter(r=>r!==n))}},fire(t,n){const r=e.get(t);r&&r.forEach(i=>i(n))}}}let _D;const __t=new Uint8Array(16);function C_t(){if(!_D&&(_D=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!_D))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _D(__t)}const ua=[];for(let e=0;e<256;++e)ua.push((e+256).toString(16).slice(1));function E_t(e,t=0){return(ua[e[t+0]]+ua[e[t+1]]+ua[e[t+2]]+ua[e[t+3]]+"-"+ua[e[t+4]]+ua[e[t+5]]+"-"+ua[e[t+6]]+ua[e[t+7]]+"-"+ua[e[t+8]]+ua[e[t+9]]+"-"+ua[e[t+10]]+ua[e[t+11]]+ua[e[t+12]]+ua[e[t+13]]+ua[e[t+14]]+ua[e[t+15]]).toLowerCase()}const S_t=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ede={randomUUID:S_t};function Sde(e,t,n){if(Ede.randomUUID&&!t&&!e)return Ede.randomUUID();e=e||{};const r=e.random||(e.rng||C_t)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,E_t(r)}let ep=class{static get(){let t=Sde();for(;this.ids.has(t);)t=Sde();return this.ids.set(t,!0),t}};ep.ids=new Map;function vf(e){return"parent"in e}function wRe(e){return!vf(e)}function T_t(e){const{label:t=void 0,state:n,initialArtifact:r,initialMetadata:i}=e,s={annotation:[],bookmark:[]},o=Object.keys(i||{}).reduce((l,u)=>(l[u]=[],i&&i[u]&&l[u].push({type:u,id:ep.get(),val:i[u],createdOn:Date.now()}),l),s),a=r?[{id:ep.get(),createdOn:Date.now(),val:r}]:[];return{id:ep.get(),label:t||"Root",event:"Root",children:[],level:0,createdOn:Date.now(),meta:o,artifacts:a,state:{type:"checkpoint",val:n}}}function k_t({parent:e,state:t,label:n,sideEffects:r={do:[],undo:[]},initialMetadata:i,initialArtifact:s,event:o}){const a={annotation:[],bookmark:[]},l=Object.keys(i||{}).reduce((c,d)=>(c[d]=[],i&&i[d]&&c[d].push({type:d,id:ep.get(),val:i[d],createdOn:Date.now()}),c),a),u=s?[{id:ep.get(),createdOn:Date.now(),val:s}]:[];return{id:ep.get(),label:n,event:o,children:[],parent:e.id,createdOn:Date.now(),meta:l,artifacts:u,sideEffects:r,state:t,level:e.level+1}}function Cs(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if({}.NODE_ENV!=="production"){var i=M_t[e],s=i?typeof i=="function"?i.apply(null,n):i:"unknown error nr: "+e;throw Error("[Immer] "+s)}throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function K1(e){return!!e&&!!e[ac]}function vy(e){var t;return!!e&&((function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===F_t})(e)||Array.isArray(e)||!!e[nT]||!!(!((t=e.constructor)===null||t===void 0)&&t[nT])||K$(e)||X$(e))}function S_(e,t,n){n===void 0&&(n=!1),by(e)===0?(n?Object.keys:sJ)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function by(e){var t=e[ac];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:K$(e)?2:X$(e)?3:0}function sk(e,t){return by(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function LP(e,t){return by(e)===2?e.get(t):e[t]}function xRe(e,t,n){var r=by(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function A_t(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function K$(e){return N_t&&e instanceof Map}function X$(e){return $_t&&e instanceof Set}function Qv(e){return e.o||e.t}function eJ(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=L_t(e);delete t[ac];for(var n=sJ(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function tJ(e,t){return t===void 0&&(t=!1),nJ(e)||K1(e)||!vy(e)||(by(e)>1&&(e.set=e.add=e.clear=e.delete=R_t),Object.freeze(e),t&&S_(e,function(n,r){return tJ(r,!0)},!0)),e}function R_t(){Cs(2)}function nJ(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function tp(e){var t=NH[e];return t||Cs(18,e),t}function I_t(e,t){NH[e]||(NH[e]=t)}function Tde(){return{}.NODE_ENV==="production"||T_||Cs(0),T_}function rB(e,t){t&&(tp("Patches"),e.u=[],e.s=[],e.v=t)}function u4(e){DH(e),e.p.forEach(D_t),e.p=null}function DH(e){e===T_&&(T_=e.l)}function kde(e){return T_={p:[],l:T_,h:e,m:!0,_:0}}function D_t(e){var t=e[ac];t.i===0||t.i===1?t.j():t.O=!0}function iB(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||tp("ES5").S(t,e,r),r?(n[ac].P&&(u4(t),Cs(4)),vy(e)&&(e=c4(t,e),t.l||d4(t,e)),t.u&&tp("Patches").M(n[ac].t,e,t.u,t.s)):e=c4(t,n,[]),u4(t),t.u&&t.v(t.u,t.s),e!==iJ?e:void 0}function c4(e,t,n){if(nJ(t))return t;var r=t[ac];if(!r)return S_(t,function(s,o){return Ade(e,r,t,s,o,n)},!0),t;if(r.A!==e)return t;if(!r.P)return d4(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=eJ(r.k):r.o;S_(r.i===3?new Set(i):i,function(s,o){return Ade(e,r,i,s,o,n)}),d4(e,i,!1),n&&e.u&&tp("Patches").R(r,n,e.u,e.s)}return r.o}function Ade(e,t,n,r,i,s){if({}.NODE_ENV!=="production"&&i===n&&Cs(5),K1(i)){var o=c4(e,i,s&&t&&t.i!==3&&!sk(t.D,r)?s.concat(r):void 0);if(xRe(n,r,o),!K1(o))return;e.m=!1}if(vy(i)&&!nJ(i)){if(!e.h.F&&e._<1)return;c4(e,i),t&&t.A.l||d4(e,i)}}function d4(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&tJ(t,n)}function sB(e,t){var n=e[ac];return(n?Qv(n):e)[t]}function Rde(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function PH(e){e.P||(e.P=!0,e.l&&PH(e.l))}function oB(e){e.o||(e.o=eJ(e.t))}function OH(e,t,n){var r=K$(t)?tp("MapSet").N(t,n):X$(t)?tp("MapSet").T(t,n):e.g?(function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:Tde(),P:!1,I:!1,D:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=$H;o&&(l=[a],u=lS);var c=Proxy.revocable(l,u),d=c.revoke,f=c.proxy;return a.k=f,a.j=d,f})(t,n):tp("ES5").J(t,n);return(n?n.A:Tde()).p.push(r),r}function P_t(e){return K1(e)||Cs(22,e),(function t(n){if(!vy(n))return n;var r,i=n[ac],s=by(n);if(i){if(!i.P&&(i.i<4||!tp("ES5").K(i)))return i.t;i.I=!0,r=Ide(n,s),i.I=!1}else r=Ide(n,s);return S_(r,function(o,a){i&&LP(i.t,o)===a||xRe(r,o,t(a))}),s===3?new Set(r):r})(e)}function Ide(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return eJ(e)}function O_t(){function e(r){if(!vy(r))return r;if(Array.isArray(r))return r.map(e);if(K$(r))return new Map(Array.from(r.entries()).map(function(o){return[o[0],e(o[1])]}));if(X$(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var s in r)i[s]=e(r[s]);return sk(r,nT)&&(i[nT]=r[nT]),i}function t(r){return K1(r)?e(r):r}var n="add";I_t("Patches",{$:function(r,i){return i.forEach(function(s){for(var o=s.path,a=s.op,l=r,u=0;u<o.length-1;u++){var c=by(l),d=""+o[u];c!==0&&c!==1||d!=="__proto__"&&d!=="constructor"||Cs(24),typeof l=="function"&&d==="prototype"&&Cs(24),typeof(l=LP(l,d))!="object"&&Cs(15,o.join("/"))}var f=by(l),h=e(s.value),p=o[o.length-1];switch(a){case"replace":switch(f){case 2:return l.set(p,h);case 3:Cs(16);default:return l[p]=h}case n:switch(f){case 1:return p==="-"?l.push(h):l.splice(p,0,h);case 2:return l.set(p,h);case 3:return l.add(h);default:return l[p]=h}case"remove":switch(f){case 1:return l.splice(p,1);case 2:return l.delete(p);case 3:return l.delete(s.value);default:return delete l[p]}default:Cs(17,a)}}),r},R:function(r,i,s,o){switch(r.i){case 0:case 4:case 2:return(function(a,l,u,c){var d=a.t,f=a.o;S_(a.D,function(h,p){var m=LP(d,h),g=LP(f,h),y=p?sk(d,h)?"replace":n:"remove";if(m!==g||y!=="replace"){var v=l.concat(h);u.push(y==="remove"?{op:y,path:v}:{op:y,path:v,value:g}),c.push(y===n?{op:"remove",path:v}:y==="remove"?{op:n,path:v,value:t(m)}:{op:"replace",path:v,value:t(m)})}})})(r,i,s,o);case 5:case 1:return(function(a,l,u,c){var d=a.t,f=a.D,h=a.o;if(h.length<d.length){var p=[h,d];d=p[0],h=p[1];var m=[c,u];u=m[0],c=m[1]}for(var g=0;g<d.length;g++)if(f[g]&&h[g]!==d[g]){var y=l.concat([g]);u.push({op:"replace",path:y,value:t(h[g])}),c.push({op:"replace",path:y,value:t(d[g])})}for(var v=d.length;v<h.length;v++){var w=l.concat([v]);u.push({op:n,path:w,value:t(h[v])})}d.length<h.length&&c.push({op:"replace",path:l.concat(["length"]),value:d.length})})(r,i,s,o);case 3:return(function(a,l,u,c){var d=a.t,f=a.o,h=0;d.forEach(function(p){if(!f.has(p)){var m=l.concat([h]);u.push({op:"remove",path:m,value:p}),c.unshift({op:n,path:m,value:p})}h++}),h=0,f.forEach(function(p){if(!d.has(p)){var m=l.concat([h]);u.push({op:n,path:m,value:p}),c.unshift({op:"remove",path:m,value:p})}h++})})(r,i,s,o)}},M:function(r,i,s,o){s.push({op:"replace",path:[],value:i===iJ?void 0:i}),o.push({op:"replace",path:[],value:r})}})}var Dde,T_,rJ=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",N_t=typeof Map<"u",$_t=typeof Set<"u",Pde=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",iJ=rJ?Symbol.for("immer-nothing"):((Dde={})["immer-nothing"]=!0,Dde),nT=rJ?Symbol.for("immer-draftable"):"__$immer_draftable",ac=rJ?Symbol.for("immer-state"):"__$immer_state",M_t={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},F_t=""+Object.prototype.constructor,sJ=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,L_t=Object.getOwnPropertyDescriptors||function(e){var t={};return sJ(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},NH={},$H={get:function(e,t){if(t===ac)return e;var n=Qv(e);if(!sk(n,t))return(function(i,s,o){var a,l=Rde(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0})(e,n,t);var r=n[t];return e.I||!vy(r)?r:r===sB(e.t,t)?(oB(e),e.o[t]=OH(e.A.h,r,e)):r},has:function(e,t){return t in Qv(e)},ownKeys:function(e){return Reflect.ownKeys(Qv(e))},set:function(e,t,n){var r=Rde(Qv(e),t);if(r?.set)return r.set.call(e.k,n),!0;if(!e.P){var i=sB(Qv(e),t),s=i?.[ac];if(s&&s.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(A_t(n,i)&&(n!==void 0||sk(e.t,t)))return!0;oB(e),PH(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return sB(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,oB(e),PH(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Qv(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Cs(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Cs(12)}},lS={};S_($H,function(e,t){lS[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),lS.deleteProperty=function(e,t){return{}.NODE_ENV!=="production"&&isNaN(parseInt(t))&&Cs(13),lS.set.call(this,e,t,void 0)},lS.set=function(e,t,n){return{}.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&Cs(14),$H.set.call(this,e[0],t,n,e[0])};var j_t=(function(){function e(n){var r=this;this.g=Pde,this.F=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(m){var g=this;m===void 0&&(m=a);for(var y=arguments.length,v=Array(y>1?y-1:0),w=1;w<y;w++)v[w-1]=arguments[w];return l.produce(m,function(_){var C;return(C=s).call.apply(C,[g,_].concat(v))})}}var u;if(typeof s!="function"&&Cs(6),o!==void 0&&typeof o!="function"&&Cs(7),vy(i)){var c=kde(r),d=OH(r,i,void 0),f=!0;try{u=s(d),f=!1}finally{f?u4(c):DH(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(m){return rB(c,o),iB(m,c)},function(m){throw u4(c),m}):(rB(c,o),iB(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===iJ&&(u=void 0),r.F&&tJ(u,!0),o){var h=[],p=[];tp("Patches").M(i,u,h,p),o(h,p)}return u}Cs(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return r.produceWithPatches(u,function(h){return i.apply(void 0,[h].concat(d))})};var o,a,l=r.produce(i,s,function(u,c){o=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof n?.useProxies=="boolean"&&this.setUseProxies(n.useProxies),typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){vy(n)||Cs(8),K1(n)&&(n=P_t(n));var r=kde(this),i=OH(this,n,void 0);return i[ac].C=!0,DH(r),i},t.finishDraft=function(n,r){var i=n&&n[ac];({}).NODE_ENV!=="production"&&(i&&i.C||Cs(9),i.I&&Cs(10));var s=i.A;return rB(s,r),iB(void 0,s)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!Pde&&Cs(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=tp("Patches").$;return K1(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},e})(),lc=new j_t,B_t=lc.produce;lc.produceWithPatches.bind(lc);lc.setAutoFreeze.bind(lc);lc.setUseProxies.bind(lc);lc.applyPatches.bind(lc);lc.createDraft.bind(lc);lc.finishDraft.bind(lc);function z_t(e,t={}){const{artifact:n=void 0,metadata:r=void 0,rootLabel:i="Root"}=t,s=T_t({state:e,label:i,initialArtifact:n,initialMetadata:r}),o={nodes:{[s.id]:s},root:s.id,current:s.id};return Zxt({name:"provenance-graph",initialState:o,reducers:{addMetadata(a,l){const{id:u,meta:c}=l.payload,d=a.nodes[u].meta,f=Object.keys(c).reduce((h,p)=>(h[p]||(h[p]=[]),h[p].push({type:p,id:ep.get(),val:c[p],createdOn:Date.now()}),h),d);a.nodes[l.payload.id].meta=f},addArtifact(a,l){a.nodes[l.payload.id].artifacts.push({id:ep.get(),createdOn:Date.now(),val:l.payload.artifact})},changeCurrent(a,l){a.current=l.payload},addNode(a,{payload:l}){a.nodes[l.id]=l,a.nodes[l.parent].children.push(l.id),a.current=l.id},load(a,{payload:l}){return l}}})}function U_t(e){const t=new Map,{reducer:n,actions:r,getInitialState:i}=z_t(e),s=w_t();s.startListening({matcher:wde(r.changeCurrent,r.addNode),effect:(a,l)=>{l.cancelActiveListeners(),t.forEach(u=>{const c=wde(r.addNode)(a),{skipOnNew:d}=u.config;d&&c||u.func(c?"new":"traversal")})}});const o=Kxt({reducer:n,middleware:a=>a().prepend(s.middleware)});return{initialState:i(),get backend(){return o.getState()},get current(){return o.getState().nodes[o.getState().current]},get root(){return o.getState().nodes[o.getState().root]},currentChange(a,l){const u={id:ep.get(),func:a,config:l};return t.set(u.id,u),()=>t.delete(u.id)},update:o.dispatch,...r}}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var V_t=globalThis&&globalThis.__extends||(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),H_t=Object.prototype.hasOwnProperty;function MH(e,t){return H_t.call(e,t)}function FH(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)MH(e,i)&&r.push(i);return r}function hu(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function LH(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function Jv(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function _Re(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function jH(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(jH(e[t]))return!0}else if(typeof e=="object"){for(var r=FH(e),i=r.length,s=0;s<i;s++)if(jH(e[r[s]]))return!0}}return!1}function Ode(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var CRe=(function(e){V_t(t,e);function t(n,r,i,s,o){var a=this.constructor,l=e.call(this,Ode(n,{name:r,index:i,operation:s,tree:o}))||this;return l.name=r,l.index=i,l.operation=s,l.tree=o,Object.setPrototypeOf(l,a.prototype),l.message=Ode(n,{name:r,index:i,operation:s,tree:o}),l}return t})(Error),bs=CRe,q_t=hu,Sx={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=f4(n,this.path);r&&(r=hu(r));var i=R1(n,{op:"remove",path:this.from}).removed;return R1(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=f4(n,this.from);return R1(n,{op:"add",path:this.path,value:hu(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:ok(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},W_t={add:function(e,t,n){return LH(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Sx.move,copy:Sx.copy,test:Sx.test,_get:Sx._get};function f4(e,t){if(t=="")return e;var n={op:"_get",path:t};return R1(e,n),n.value}function R1(e,t,n,r,i,s){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=0),n&&(typeof n=="function"?n(t,0,e,t.path):h4(t,0)),t.path===""){var o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=f4(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=ok(e,t.value),o.test===!1)throw new bs("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(n)throw new bs("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return o}}else{r||(e=hu(e));var a=t.path||"",l=a.split("/"),u=e,c=1,d=l.length,f=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=h4;;){if(h=l[c],h&&h.indexOf("~")!=-1&&(h=_Re(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&f===void 0&&(u[h]===void 0?f=l.slice(0,c).join("/"):c==d-1&&(f=t.path),f!==void 0&&p(t,0,e,f)),c++,Array.isArray(u)){if(h==="-")h=u.length;else{if(n&&!LH(h))throw new bs("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);LH(h)&&(h=~~h)}if(c>=d){if(n&&t.op==="add"&&h>u.length)throw new bs("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);var o=W_t[t.op].call(t,u,h,e);if(o.test===!1)throw new bs("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}}else if(c>=d){var o=Sx[t.op].call(t,u,h,e);if(o.test===!1)throw new bs("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}if(u=u[h],n&&c<d&&(!u||typeof u!="object"))throw new bs("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}}function Q$(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new bs("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=hu(e));for(var s=new Array(t.length),o=0,a=t.length;o<a;o++)s[o]=R1(e,t[o],n,!0,i,o),e=s[o].newDocument;return s.newDocument=e,s}function G_t(e,t,n){var r=R1(e,t);if(r.test===!1)throw new bs("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function h4(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new bs("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Sx[e.op]){if(typeof e.path!="string")throw new bs("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new bs('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new bs("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new bs("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&jH(e.value))throw new bs("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new bs("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new bs("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},a=ERe([o],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new bs("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new bs("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function ERe(e,t,n){try{if(!Array.isArray(e))throw new bs("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)Q$(hu(t),hu(e),n||!0);else{n=n||h4;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof bs)return i;throw i}}function ok(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,s,o;if(n&&r){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!ok(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(s=a.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=s;i--!==0;)if(o=a[i],!ok(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}const Y_t=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:bs,_areEquals:ok,applyOperation:R1,applyPatch:Q$,applyReducer:G_t,deepClone:q_t,getValueByPointer:f4,validate:ERe,validator:h4},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var oJ=new WeakMap,K_t=(function(){function e(t){this.observers=new Map,this.obj=t}return e})(),X_t=(function(){function e(t,n){this.callback=t,this.observer=n}return e})();function Q_t(e){return oJ.get(e)}function J_t(e,t){return e.observers.get(t)}function Z_t(e,t){e.observers.delete(t.callback)}function eCt(e,t){t.unobserve()}function tCt(e,t){var n=[],r,i=Q_t(e);if(!i)i=new K_t(e),oJ.set(e,i);else{var s=J_t(i,t);r=s&&s.observer}if(r)return r;if(r={},i.value=hu(e),t){r.callback=t,r.next=null;var o=function(){BH(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){BH(r),clearTimeout(r.next),Z_t(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new X_t(t,r)),r}function BH(e,t){t===void 0&&(t=!1);var n=oJ.get(e.object);aJ(n.value,e.object,e.patches,"",t),e.patches.length&&Q$(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function aJ(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var s=FH(t),o=FH(e),a=!1,l=o.length-1;l>=0;l--){var u=o[l],c=e[u];if(MH(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var d=t[u];typeof c=="object"&&c!=null&&typeof d=="object"&&d!=null&&Array.isArray(c)===Array.isArray(d)?aJ(c,d,n,r+"/"+Jv(u),i):c!==d&&(i&&n.push({op:"test",path:r+"/"+Jv(u),value:hu(c)}),n.push({op:"replace",path:r+"/"+Jv(u),value:hu(d)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+Jv(u),value:hu(c)}),n.push({op:"remove",path:r+"/"+Jv(u)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&s.length==o.length))for(var l=0;l<s.length;l++){var u=s[l];!MH(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+Jv(u),value:hu(t[u])})}}}function SRe(e,t,n){n===void 0&&(n=!1);var r=[];return aJ(e,t,r,"",n),r}const nCt=Object.freeze(Object.defineProperty({__proto__:null,compare:SRe,generate:BH,observe:tCt,unobserve:eCt},Symbol.toStringTag,{value:"Module"}));Object.assign({},Y_t,nCt,{JsonPatchError:CRe,deepClone:hu,escapePathComponent:Jv,unescapePathComponent:_Re});var uS=(e=>(e.TRAVERSAL_START="Traversal_Start",e.TRAVERSAL_END="Traversal_End",e))(uS||{});function jP(e,t){const n=e.state;if(n.type==="checkpoint")return n.val;const{checkpointRef:r}=n,i=t[r],s=TRe(i,e,t);s.shift();const o=s.map(l=>t[l]).map(l=>l.state.val).reduce((l,u)=>[...l,...u],[]),a=jP(i,t);return Q$(a,hu(o),!0,!1).newDocument}function rCt(e,t){const n=Object.keys(e).length;return new Set(t.map(r=>r.path.split("/")[0])).size<n/2?"patch":"checkpoint"}function qC({registry:e,initialState:t}){let n=!1;const r=x_t(),i=U_t(t);function s(c){return i.backend.nodes[c]}r.listen(uS.TRAVERSAL_START,()=>{n=!0}),r.listen(uS.TRAVERSAL_END,()=>{n=!1});const o={add(c,d=i.current.id){i.update(i.addMetadata({id:d,meta:c}))},latestOfType(c,d=i.current.id){return i.backend.nodes[d].meta[c]?.at(-1)},allOfType(c,d=i.current.id){return i.backend.nodes[d].meta[c]},latest(c=i.current.id){const d=i.backend.nodes[c].meta,f=Object.keys(d).reduce((h,p)=>{const m=d[p].at(-1);return m&&(h[p]=m),h},{});return Object.keys(f).length>0?f:void 0},all(c=i.current.id){return i.backend.nodes[c].meta},types(c=i.current.id){return Object.keys(i.backend.nodes[c].meta)}},a={add(c,d=i.current.id){i.update(i.addArtifact({id:d,artifact:c}))},latest(c=i.current.id){return i.backend.nodes[c].artifacts.at(-1)},all(c=i.current.id){return i.backend.nodes[c].artifacts}},l={add(c,d=i.current.id){o.add({annotation:c},d)},latest(c=i.current.id){return o.latestOfType("annotation",c)?.val},all(c=i.current.id){return o.allOfType("annotation",c)?.map(d=>d.val)}},u={add(c=i.current.id){o.add({bookmark:!0},c)},remove(c=i.current.id){o.add({bookmark:!1},c)},is(c=i.current.id){return!!o.latestOfType("bookmark",c)?.val},toggle(c=i.current.id){u.is(c)?u.remove(c):u.add(c)}};return{registry:e,get isTraversing(){return n},getState(c=i.current){return jP(c,i.backend.nodes)},graph:i,get current(){return i.current},get root(){return i.root},record({label:c,state:d,sideEffects:f,eventType:h,onlySideEffects:p=!1}){let m=null,g=null;const y=jP(this.current,this.graph.backend.nodes);if(p)g={type:"checkpoint",val:d};else{const v=SRe(y,d);if(rCt(d,v)==="checkpoint")g={type:"checkpoint",val:d};else{const w=this.current.state.type==="checkpoint"?this.current.id:this.current.state.checkpointRef;g={type:"patch",val:v,checkpointRef:w}}}if(!g)throw new Error(`Could not calculate new state. Previous state is: ${JSON.stringify(this.current.state,null,2)}`);if(m=k_t({label:c,state:g,parent:this.current,sideEffects:f,event:h}),!m)throw new Error("State Node creation failed!");i.update(i.addNode(m))},async apply(c,d){const f=e.get(d.type),h=jP(this.current,this.graph.backend.nodes);if(f.config.hasSideEffects){const{do:p=d,undo:m}=f.func(d.payload);this.record({label:c,state:h,sideEffects:{do:[p],undo:[m]},eventType:f.config.eventType})}else{const p=f.func(h,d.payload);this.record({label:c,state:p,sideEffects:{do:[],undo:[]},eventType:f.config.eventType})}},async to(c){r.fire(uS.TRAVERSAL_START);const d=TRe(i.current,i.backend.nodes[c],i.backend.nodes),f=[];for(let h=0;h<d.length-1;++h){const p=s(d[h]),m=s(d[h+1]);sCt(p,m)?vf(p)&&f.push(...p.sideEffects.undo):vf(m)&&f.push(...m.sideEffects.do)}for(const h of f){const p=e.get(h.type).func;await p(h.payload)}i.update(i.changeCurrent(c)),r.fire(uS.TRAVERSAL_END)},undo(){const{current:c}=i;return vf(c)?this.to(c.parent):Promise.resolve(console.warn("Already at root!"))},redo(c="latest"){const{current:d}=i;return d.children.length>0?this.to(d.children[c==="oldest"?0:d.children.length-1]):Promise.resolve(console.warn("Already at latest in this branch!"))},currentChange(c,d=!1){return i.currentChange(c,{skipOnNew:d})},done(){console.log("Setup later for URL sharing.")},tree(){return kRe(i.root,i.backend.nodes)},on(c,d){r.listen(c,d)},export(){return JSON.stringify(i.backend)},exportObject(){return JSON.parse(JSON.stringify(i.backend))},import(c){const d=JSON.parse(c),f=d.current;d.current=d.root,i.update(i.load(d)),this.to(f)},importObject(c){const d=c.current;c.current=c.root,i.update(i.load(c)),this.to(d)},metadata:o,artifact:a,annotations:l,bookmarks:u}}function iCt(e,t,n){let[r,i]=[e,t];r.level>i.level&&([r,i]=[i,r]);let s=i.level-r.level;for(;vf(i)&&s!==0;)i=n[i.parent],s-=1;if(r.id===i.id)return r.id;for(;r.id!==i.id;)vf(r)&&(r=n[r.parent]),vf(i)&&(i=n[i.parent]);return r.id}function TRe(e,t,n){const r=iCt(e,t,n),i=n[r],s=[],o=[];let[a,l]=[e,t];for(;a.id!==i.id;)s.push(a),vf(a)&&(a=n[a.parent]);for(s.push(a);l.id!==i.id;)o.push(l),vf(l)&&(l=n[l.parent]);const u=o.reverse();return[...s,...u].map(c=>c.id)}function sCt(e,t){if(vf(e)&&e.parent===t.id)return!0;if(vf(t)&&t.parent===e.id)return!1;throw new Error("Incorrect use of function. Nodes are not connected to each other.")}function kRe(e,t){return{...e,children:e.children.map(n=>kRe(t[n],t)),name:`${e.label}`}}O_t();function oCt(e){return e.length===2?B_t(e):e}class Xy{static create(){return new Xy}constructor(){this.registry=new Map}has(t){return this.registry.has(t)}register(t,n,r){const i=n.length===2;if(n.length>2)throw new Error("Incorrect action function signature. Action function can only have two arguments at most!");if(this.has(t))throw new Error(`Already registered: ${t}`);const{label:s=t,eventType:o=t}=r||{};return this.registry.set(t,{func:oCt(n),config:{hasSideEffects:!i,label:typeof s=="string"?()=>s:s,eventType:o}}),Zh(t)}get(t){const n=this.registry.get(t);if(!n)throw new Error(`Not registered: ${t}`);return n}}function Fm(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function aCt(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function WC(e){let t,n,r;e.length!==2?(t=Fm,n=(a,l)=>Fm(e(a),l),r=(a,l)=>e(a)-l):(t=e===Fm||e===aCt?e:lCt,n=e,r=e);function i(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<0?u=d+1:c=d}while(u<c)}return u}function s(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function o(a,l,u=0,c=a.length){const d=i(a,l,u,c-1);return d>u&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:o,right:s}}function lCt(){return 0}function ARe(e){return e===null?NaN:+e}function*uCt(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const RRe=WC(Fm),wy=RRe.right,cCt=RRe.left;WC(ARe).center;function dCt(e,t){let n=0,r,i=0,s=0;if(t===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,s+=r*(o-i));else{let o=-1;for(let a of e)(a=t(a,++o,e))!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,s+=r*(a-i))}if(n>1)return s/(n-1)}function fCt(e,t){const n=dCt(e,t);return n&&Math.sqrt(n)}function p4(e,t){let n,r;for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));return[n,r]}class Dl{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const s=n[i],o=t+s,a=Math.abs(t)<Math.abs(s)?t-(o-s):s-(o-t);a&&(n[r++]=a),t=o}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,s,o=0;if(n>0){for(o=t[--n];n>0&&(r=o,i=t[--n],o=r+i,s=i-(o-r),!s););n>0&&(s<0&&t[n-1]<0||s>0&&t[n-1]>0)&&(i=s*2,r=o+i,i==r-o&&(o=r))}return o}}class Nde extends Map{constructor(t,n=PRe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(zH(this,t))}has(t){return super.has(zH(this,t))}set(t,n){return super.set(IRe(this,t),n)}delete(t){return super.delete(DRe(this,t))}}class m4 extends Set{constructor(t,n=PRe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(zH(this,t))}add(t){return super.add(IRe(this,t))}delete(t){return super.delete(DRe(this,t))}}function zH({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function IRe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function DRe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function PRe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function hCt(e,t){return Array.from(t,n=>e[n])}function pCt(e=Fm){if(e===Fm)return ORe;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function ORe(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const mCt=Math.sqrt(50),gCt=Math.sqrt(10),yCt=Math.sqrt(2);function g4(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=mCt?10:s>=gCt?5:s>=yCt?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/o,a=Math.round(e*u),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*o,a=Math.round(e/u),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=n&&n<2?g4(e,t,n*2):[a,l,u]}function UH(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?g4(t,e,n):g4(e,t,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let u=0;u<a;++u)l[u]=(s-u)/-o;else for(let u=0;u<a;++u)l[u]=(s-u)*o;else if(o<0)for(let u=0;u<a;++u)l[u]=(i+u)/-o;else for(let u=0;u<a;++u)l[u]=(i+u)*o;return l}function VH(e,t,n){return t=+t,e=+e,n=+n,g4(e,t,n)[2]}function xy(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?VH(t,e,n):VH(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function ey(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function HH(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function NRe(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?ORe:pCt(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),h=Math.max(n,Math.floor(t-u*d/l+f)),p=Math.min(r,Math.floor(t+(l-u)*d/l+f));NRe(e,t,h,p,i)}const s=e[t];let o=n,a=r;for(m2(e,n,t),i(e[r],s)>0&&m2(e,n,r);o<a;){for(m2(e,o,a),++o,--a;i(e[o],s)<0;)++o;for(;i(e[a],s)>0;)--a}i(e[n],s)===0?m2(e,n,a):(++a,m2(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function m2(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function qH(e,t,n){if(e=Float64Array.from(uCt(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return HH(e);if(t>=1)return ey(e);var r,i=(r-1)*t,s=Math.floor(i),o=ey(NRe(e,s).subarray(0,s+1)),a=HH(e.subarray(s+1));return o+(a-o)*(i-s)}}function $Re(e,t,n=ARe){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),o=+n(e[s],s,e),a=+n(e[s+1],s+1,e);return o+(a-o)*(i-s)}}function vCt(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(s=+s)>=s&&(++n,r+=s)}if(n)return r/n}function MRe(e,t){return qH(e,.5,t)}function*bCt(e){for(const t of e)yield*t}function FRe(e){return Array.from(bCt(e))}function pu(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function LRe(e,t){let n=0;for(let r of e)(r=+r)&&(n+=r);return n}function wCt(e,...t){e=new m4(e),t=t.map(xCt);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function xCt(e){return e instanceof m4?e:new m4(e)}function _Ct(...e){const t=new m4;for(const n of e)for(const r of n)t.add(r);return t}function CCt(e){return e}var aB=1,lB=2,WH=3,cS=4,$de=1e-6;function ECt(e){return"translate("+e+",0)"}function SCt(e){return"translate(0,"+e+")"}function TCt(e){return t=>+e(t)}function kCt(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function ACt(){return!this.__axis}function jRe(e,t){var n=[],r=null,i=null,s=6,o=6,a=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=e===aB||e===cS?-1:1,c=e===cS||e===lB?"x":"y",d=e===aB||e===WH?ECt:SCt;function f(h){var p=r??(t.ticks?t.ticks.apply(t,n):t.domain()),m=i??(t.tickFormat?t.tickFormat.apply(t,n):CCt),g=Math.max(s,0)+a,y=t.range(),v=+y[0]+l,w=+y[y.length-1]+l,_=(t.bandwidth?kCt:TCt)(t.copy(),l),C=h.selection?h.selection():h,S=C.selectAll(".domain").data([null]),T=C.selectAll(".tick").data(p,t).order(),k=T.exit(),I=T.enter().append("g").attr("class","tick"),R=T.select("line"),P=T.select("text");S=S.merge(S.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),T=T.merge(I),R=R.merge(I.append("line").attr("stroke","currentColor").attr(c+"2",u*s)),P=P.merge(I.append("text").attr("fill","currentColor").attr(c,u*g).attr("dy",e===aB?"0em":e===WH?"0.71em":"0.32em")),h!==C&&(S=S.transition(h),T=T.transition(h),R=R.transition(h),P=P.transition(h),k=k.transition(h).attr("opacity",$de).attr("transform",function(N){return isFinite(N=_(N))?d(N+l):this.getAttribute("transform")}),I.attr("opacity",$de).attr("transform",function(N){var $=this.parentNode.__axis;return d(($&&isFinite($=$(N))?$:_(N))+l)})),k.remove(),S.attr("d",e===cS||e===lB?o?"M"+u*o+","+v+"H"+l+"V"+w+"H"+u*o:"M"+l+","+v+"V"+w:o?"M"+v+","+u*o+"V"+l+"H"+w+"V"+u*o:"M"+v+","+l+"H"+w),T.attr("opacity",1).attr("transform",function(N){return d(_(N)+l)}),R.attr(c+"2",u*s),P.attr(c,u*g).text(m),C.filter(ACt).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===lB?"start":e===cS?"end":"middle"),C.each(function(){this.__axis=_})}return f.scale=function(h){return arguments.length?(t=h,f):t},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),f):n.slice()},f.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),f):r&&r.slice()},f.tickFormat=function(h){return arguments.length?(i=h,f):i},f.tickSize=function(h){return arguments.length?(s=o=+h,f):s},f.tickSizeInner=function(h){return arguments.length?(s=+h,f):s},f.tickSizeOuter=function(h){return arguments.length?(o=+h,f):o},f.tickPadding=function(h){return arguments.length?(a=+h,f):a},f.offset=function(h){return arguments.length?(l=+h,f):l},f}function BRe(e){return jRe(WH,e)}function zRe(e){return jRe(cS,e)}var RCt={value:()=>{}};function J$(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new BP(n)}function BP(e){this._=e}function ICt(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}BP.prototype=J$.prototype={constructor:BP,on:function(e,t){var n=this._,r=ICt(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=DCt(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=Mde(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Mde(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new BP(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function DCt(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Mde(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=RCt,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var GH="http://www.w3.org/1999/xhtml";const Fde={svg:"http://www.w3.org/2000/svg",xhtml:GH,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Z$(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Fde.hasOwnProperty(t)?{space:Fde[t],local:e}:e}function PCt(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===GH&&t.documentElement.namespaceURI===GH?t.createElement(e):t.createElementNS(n,e)}}function OCt(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function URe(e){var t=Z$(e);return(t.local?OCt:PCt)(t)}function NCt(){}function lJ(e){return e==null?NCt:function(){return this.querySelector(e)}}function $Ct(e){typeof e!="function"&&(e=lJ(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=new Array(o),l,u,c=0;c<o;++c)(l=s[c])&&(u=e.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new Fl(r,this._parents)}function VRe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function MCt(){return[]}function HRe(e){return e==null?MCt:function(){return this.querySelectorAll(e)}}function FCt(e){return function(){return VRe(e.apply(this,arguments))}}function LCt(e){typeof e=="function"?e=FCt(e):e=HRe(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(r.push(e.call(l,l.__data__,u,o)),i.push(l));return new Fl(r,i)}function qRe(e){return function(){return this.matches(e)}}function WRe(e){return function(t){return t.matches(e)}}var jCt=Array.prototype.find;function BCt(e){return function(){return jCt.call(this.children,e)}}function zCt(){return this.firstElementChild}function UCt(e){return this.select(e==null?zCt:BCt(typeof e=="function"?e:WRe(e)))}var VCt=Array.prototype.filter;function HCt(){return Array.from(this.children)}function qCt(e){return function(){return VCt.call(this.children,e)}}function WCt(e){return this.selectAll(e==null?HCt:qCt(typeof e=="function"?e:WRe(e)))}function GCt(e){typeof e!="function"&&(e=qRe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new Fl(r,this._parents)}function GRe(e){return new Array(e.length)}function YCt(){return new Fl(this._enter||this._groups.map(GRe),this._parents)}function y4(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}y4.prototype={constructor:y4,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function KCt(e){return function(){return e}}function XCt(e,t,n,r,i,s){for(var o=0,a,l=t.length,u=s.length;o<u;++o)(a=t[o])?(a.__data__=s[o],r[o]=a):n[o]=new y4(e,s[o]);for(;o<l;++o)(a=t[o])&&(i[o]=a)}function QCt(e,t,n,r,i,s,o){var a,l,u=new Map,c=t.length,d=s.length,f=new Array(c),h;for(a=0;a<c;++a)(l=t[a])&&(f[a]=h=o.call(l,l.__data__,a,t)+"",u.has(h)?i[a]=l:u.set(h,l));for(a=0;a<d;++a)h=o.call(e,s[a],a,s)+"",(l=u.get(h))?(r[a]=l,l.__data__=s[a],u.delete(h)):n[a]=new y4(e,s[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(f[a])===l&&(i[a]=l)}function JCt(e){return e.__data__}function ZCt(e,t){if(!arguments.length)return Array.from(this,JCt);var n=t?QCt:XCt,r=this._parents,i=this._groups;typeof e!="function"&&(e=KCt(e));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=r[u],d=i[u],f=d.length,h=eEt(e.call(c,c&&c.__data__,u,r)),p=h.length,m=a[u]=new Array(p),g=o[u]=new Array(p),y=l[u]=new Array(f);n(c,d,m,g,y,h,t);for(var v=0,w=0,_,C;v<p;++v)if(_=m[v]){for(v>=w&&(w=v+1);!(C=g[w])&&++w<p;);_._next=C||null}}return o=new Fl(o,r),o._enter=a,o._exit=l,o}function eEt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tEt(){return new Fl(this._exit||this._groups.map(GRe),this._parents)}function nEt(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function rEt(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var u=n[l],c=r[l],d=u.length,f=a[l]=new Array(d),h,p=0;p<d;++p)(h=u[p]||c[p])&&(f[p]=h);for(;l<i;++l)a[l]=n[l];return new Fl(a,this._parents)}function iEt(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function sEt(e){e||(e=oEt);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),u,c=0;c<a;++c)(u=o[c])&&(l[c]=u);l.sort(t)}return new Fl(i,this._parents).order()}function oEt(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function aEt(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function lEt(){return Array.from(this)}function uEt(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function cEt(){let e=0;for(const t of this)++e;return e}function dEt(){return!this.node()}function fEt(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function hEt(e){return function(){this.removeAttribute(e)}}function pEt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function mEt(e,t){return function(){this.setAttribute(e,t)}}function gEt(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function yEt(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function vEt(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function bEt(e,t){var n=Z$(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?pEt:hEt:typeof t=="function"?n.local?vEt:yEt:n.local?gEt:mEt)(n,t))}function YRe(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function wEt(e){return function(){this.style.removeProperty(e)}}function xEt(e,t,n){return function(){this.style.setProperty(e,t,n)}}function _Et(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function CEt(e,t,n){return arguments.length>1?this.each((t==null?wEt:typeof t=="function"?_Et:xEt)(e,t,n??"")):k_(this.node(),e)}function k_(e,t){return e.style.getPropertyValue(t)||YRe(e).getComputedStyle(e,null).getPropertyValue(t)}function EEt(e){return function(){delete this[e]}}function SEt(e,t){return function(){this[e]=t}}function TEt(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function kEt(e,t){return arguments.length>1?this.each((t==null?EEt:typeof t=="function"?TEt:SEt)(e,t)):this.node()[e]}function KRe(e){return e.trim().split(/^|\s+/)}function uJ(e){return e.classList||new XRe(e)}function XRe(e){this._node=e,this._names=KRe(e.getAttribute("class")||"")}XRe.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function QRe(e,t){for(var n=uJ(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function JRe(e,t){for(var n=uJ(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function AEt(e){return function(){QRe(this,e)}}function REt(e){return function(){JRe(this,e)}}function IEt(e,t){return function(){(t.apply(this,arguments)?QRe:JRe)(this,e)}}function DEt(e,t){var n=KRe(e+"");if(arguments.length<2){for(var r=uJ(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?IEt:t?AEt:REt)(n,t))}function PEt(){this.textContent=""}function OEt(e){return function(){this.textContent=e}}function NEt(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function $Et(e){return arguments.length?this.each(e==null?PEt:(typeof e=="function"?NEt:OEt)(e)):this.node().textContent}function MEt(){this.innerHTML=""}function FEt(e){return function(){this.innerHTML=e}}function LEt(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function jEt(e){return arguments.length?this.each(e==null?MEt:(typeof e=="function"?LEt:FEt)(e)):this.node().innerHTML}function BEt(){this.nextSibling&&this.parentNode.appendChild(this)}function zEt(){return this.each(BEt)}function UEt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function VEt(){return this.each(UEt)}function HEt(e){var t=typeof e=="function"?e:URe(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function qEt(){return null}function WEt(e,t){var n=typeof e=="function"?e:URe(e),r=t==null?qEt:typeof t=="function"?t:lJ(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function GEt(){var e=this.parentNode;e&&e.removeChild(this)}function YEt(){return this.each(GEt)}function KEt(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function XEt(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function QEt(e){return this.select(e?XEt:KEt)}function JEt(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ZEt(e){return function(t){e.call(this,t,this.__data__)}}function e2t(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function t2t(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function n2t(e,t,n){return function(){var r=this.__on,i,s=ZEt(t);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function r2t(e,t,n){var r=e2t(e+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=t?n2t:t2t,i=0;i<s;++i)this.each(a(r[i],t,n));return this}function ZRe(e,t,n){var r=YRe(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function i2t(e,t){return function(){return ZRe(this,e,t)}}function s2t(e,t){return function(){return ZRe(this,e,t.apply(this,arguments))}}function o2t(e,t){return this.each((typeof t=="function"?s2t:i2t)(e,t))}function*a2t(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var cJ=[null];function Fl(e,t){this._groups=e,this._parents=t}function BA(){return new Fl([[document.documentElement]],cJ)}function l2t(){return this}Fl.prototype=BA.prototype={constructor:Fl,select:$Ct,selectAll:LCt,selectChild:UCt,selectChildren:WCt,filter:GCt,data:ZCt,enter:YCt,exit:tEt,join:nEt,merge:rEt,selection:l2t,order:iEt,sort:sEt,call:aEt,nodes:lEt,node:uEt,size:cEt,empty:dEt,each:fEt,attr:bEt,style:CEt,property:kEt,classed:DEt,text:$Et,html:jEt,raise:zEt,lower:VEt,append:HEt,insert:WEt,remove:YEt,clone:QEt,datum:JEt,on:r2t,dispatch:o2t,[Symbol.iterator]:a2t};function yo(e){return typeof e=="string"?new Fl([[document.querySelector(e)]],[document.documentElement]):new Fl([[e]],cJ)}function u2t(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Lde(e,t){if(e=u2t(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function c2t(e){return typeof e=="string"?new Fl([document.querySelectorAll(e)],[document.documentElement]):new Fl([VRe(e)],cJ)}const YH={capture:!0,passive:!1};function KH(e){e.preventDefault(),e.stopImmediatePropagation()}function d2t(e){var t=e.document.documentElement,n=yo(e).on("dragstart.drag",KH,YH);"onselectstart"in t?n.on("selectstart.drag",KH,YH):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function f2t(e,t){var n=e.document.documentElement,r=yo(e).on("dragstart.drag",null);t&&(r.on("click.drag",KH,YH),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function GC(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function zA(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Qy(){}var X1=.7,A_=1/X1,Gx="\\s*([+-]?\\d+)\\s*",ak="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",np="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",h2t=/^#([0-9a-f]{3,8})$/,p2t=new RegExp(`^rgb\\(${Gx},${Gx},${Gx}\\)$`),m2t=new RegExp(`^rgb\\(${np},${np},${np}\\)$`),g2t=new RegExp(`^rgba\\(${Gx},${Gx},${Gx},${ak}\\)$`),y2t=new RegExp(`^rgba\\(${np},${np},${np},${ak}\\)$`),v2t=new RegExp(`^hsl\\(${ak},${np},${np}\\)$`),b2t=new RegExp(`^hsla\\(${ak},${np},${np},${ak}\\)$`),jde={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};GC(Qy,Q1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Bde,formatHex:Bde,formatHex8:w2t,formatHsl:x2t,formatRgb:zde,toString:zde});function Bde(){return this.rgb().formatHex()}function w2t(){return this.rgb().formatHex8()}function x2t(){return eIe(this).formatHsl()}function zde(){return this.rgb().formatRgb()}function Q1(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=h2t.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Ude(t):n===3?new Ho(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?CD(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?CD(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=p2t.exec(e))?new Ho(t[1],t[2],t[3],1):(t=m2t.exec(e))?new Ho(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=g2t.exec(e))?CD(t[1],t[2],t[3],t[4]):(t=y2t.exec(e))?CD(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=v2t.exec(e))?qde(t[1],t[2]/100,t[3]/100,1):(t=b2t.exec(e))?qde(t[1],t[2]/100,t[3]/100,t[4]):jde.hasOwnProperty(e)?Ude(jde[e]):e==="transparent"?new Ho(NaN,NaN,NaN,0):null}function Ude(e){return new Ho(e>>16&255,e>>8&255,e&255,1)}function CD(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ho(e,t,n,r)}function dJ(e){return e instanceof Qy||(e=Q1(e)),e?(e=e.rgb(),new Ho(e.r,e.g,e.b,e.opacity)):new Ho}function _y(e,t,n,r){return arguments.length===1?dJ(e):new Ho(e,t,n,r??1)}function Ho(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}GC(Ho,_y,zA(Qy,{brighter(e){return e=e==null?A_:Math.pow(A_,e),new Ho(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?X1:Math.pow(X1,e),new Ho(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ho(I1(this.r),I1(this.g),I1(this.b),v4(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vde,formatHex:Vde,formatHex8:_2t,formatRgb:Hde,toString:Hde}));function Vde(){return`#${v1(this.r)}${v1(this.g)}${v1(this.b)}`}function _2t(){return`#${v1(this.r)}${v1(this.g)}${v1(this.b)}${v1((isNaN(this.opacity)?1:this.opacity)*255)}`}function Hde(){const e=v4(this.opacity);return`${e===1?"rgb(":"rgba("}${I1(this.r)}, ${I1(this.g)}, ${I1(this.b)}${e===1?")":`, ${e})`}`}function v4(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function I1(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function v1(e){return e=I1(e),(e<16?"0":"")+e.toString(16)}function qde(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new tf(e,t,n,r)}function eIe(e){if(e instanceof tf)return new tf(e.h,e.s,e.l,e.opacity);if(e instanceof Qy||(e=Q1(e)),!e)return new tf;if(e instanceof tf)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new tf(o,a,l,e.opacity)}function lk(e,t,n,r){return arguments.length===1?eIe(e):new tf(e,t,n,r??1)}function tf(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}GC(tf,lk,zA(Qy,{brighter(e){return e=e==null?A_:Math.pow(A_,e),new tf(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?X1:Math.pow(X1,e),new tf(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ho(uB(e>=240?e-240:e+120,i,r),uB(e,i,r),uB(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new tf(Wde(this.h),ED(this.s),ED(this.l),v4(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=v4(this.opacity);return`${e===1?"hsl(":"hsla("}${Wde(this.h)}, ${ED(this.s)*100}%, ${ED(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Wde(e){return e=(e||0)%360,e<0?e+360:e}function ED(e){return Math.max(0,Math.min(1,e||0))}function uB(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const tIe=Math.PI/180,nIe=180/Math.PI,b4=18,rIe=.96422,iIe=1,sIe=.82521,oIe=4/29,Yx=6/29,aIe=3*Yx*Yx,C2t=Yx*Yx*Yx;function lIe(e){if(e instanceof rp)return new rp(e.l,e.a,e.b,e.opacity);if(e instanceof Em)return uIe(e);e instanceof Ho||(e=dJ(e));var t=hB(e.r),n=hB(e.g),r=hB(e.b),i=cB((.2225045*t+.7168786*n+.0606169*r)/iIe),s,o;return t===n&&n===r?s=o=i:(s=cB((.4360747*t+.3850649*n+.1430804*r)/rIe),o=cB((.0139322*t+.0971045*n+.7141733*r)/sIe)),new rp(116*i-16,500*(s-i),200*(i-o),e.opacity)}function w4(e,t,n,r){return arguments.length===1?lIe(e):new rp(e,t,n,r??1)}function rp(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}GC(rp,w4,zA(Qy,{brighter(e){return new rp(this.l+b4*(e??1),this.a,this.b,this.opacity)},darker(e){return new rp(this.l-b4*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=rIe*dB(t),e=iIe*dB(e),n=sIe*dB(n),new Ho(fB(3.1338561*t-1.6168667*e-.4906146*n),fB(-.9787684*t+1.9161415*e+.033454*n),fB(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function cB(e){return e>C2t?Math.pow(e,1/3):e/aIe+oIe}function dB(e){return e>Yx?e*e*e:aIe*(e-oIe)}function fB(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function hB(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function E2t(e){if(e instanceof Em)return new Em(e.h,e.c,e.l,e.opacity);if(e instanceof rp||(e=lIe(e)),e.a===0&&e.b===0)return new Em(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*nIe;return new Em(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function x4(e,t,n,r){return arguments.length===1?E2t(e):new Em(e,t,n,r??1)}function Em(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function uIe(e){if(isNaN(e.h))return new rp(e.l,0,0,e.opacity);var t=e.h*tIe;return new rp(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}GC(Em,x4,zA(Qy,{brighter(e){return new Em(this.h,this.c,this.l+b4*(e??1),this.opacity)},darker(e){return new Em(this.h,this.c,this.l-b4*(e??1),this.opacity)},rgb(){return uIe(this).rgb()}}));var cIe=-.14861,fJ=1.78277,hJ=-.29227,eM=-.90649,uk=1.97294,Gde=uk*eM,Yde=uk*fJ,Kde=fJ*hJ-eM*cIe;function S2t(e){if(e instanceof D1)return new D1(e.h,e.s,e.l,e.opacity);e instanceof Ho||(e=dJ(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Kde*r+Gde*t-Yde*n)/(Kde+Gde-Yde),s=r-i,o=(uk*(n-i)-hJ*s)/eM,a=Math.sqrt(o*o+s*s)/(uk*i*(1-i)),l=a?Math.atan2(o,s)*nIe-120:NaN;return new D1(l<0?l+360:l,a,i,e.opacity)}function XH(e,t,n,r){return arguments.length===1?S2t(e):new D1(e,t,n,r??1)}function D1(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}GC(D1,XH,zA(Qy,{brighter(e){return e=e==null?A_:Math.pow(A_,e),new D1(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?X1:Math.pow(X1,e),new D1(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*tIe,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Ho(255*(t+n*(cIe*r+fJ*i)),255*(t+n*(hJ*r+eM*i)),255*(t+n*(uk*r)),this.opacity)}}));function dIe(e,t,n,r,i){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*n+(1+3*e+3*s-3*o)*r+o*i)/6}function fIe(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],s=e[r+1],o=r>0?e[r-1]:2*i-s,a=r<t-1?e[r+2]:2*s-i;return dIe((n-r/t)*t,o,i,s,a)}}function hIe(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],s=e[r%t],o=e[(r+1)%t],a=e[(r+2)%t];return dIe((n-r/t)*t,i,s,o,a)}}const tM=e=>()=>e;function pIe(e,t){return function(n){return e+n*t}}function T2t(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function nM(e,t){var n=t-e;return n?pIe(e,n>180||n<-180?n-360*Math.round(n/360):n):tM(isNaN(e)?t:e)}function k2t(e){return(e=+e)==1?qo:function(t,n){return n-t?T2t(t,n,e):tM(isNaN(t)?n:t)}}function qo(e,t){var n=t-e;return n?pIe(e,n):tM(isNaN(e)?t:e)}const ck=(function e(t){var n=k2t(t);function r(i,s){var o=n((i=_y(i)).r,(s=_y(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),u=qo(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r})(1);function mIe(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),s=new Array(n),o,a;for(o=0;o<n;++o)a=_y(t[o]),r[o]=a.r||0,i[o]=a.g||0,s[o]=a.b||0;return r=e(r),i=e(i),s=e(s),a.opacity=1,function(l){return a.r=r(l),a.g=i(l),a.b=s(l),a+""}}}var A2t=mIe(fIe),R2t=mIe(hIe);function pJ(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function gIe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function I2t(e,t){return(gIe(t)?pJ:yIe)(e,t)}function yIe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=I0(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function vIe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Bc(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function bIe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=I0(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var QH=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pB=new RegExp(QH.source,"g");function D2t(e){return function(){return e}}function P2t(e){return function(t){return e(t)+""}}function mJ(e,t){var n=QH.lastIndex=pB.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(e=e+"",t=t+"";(r=QH.exec(e))&&(i=pB.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Bc(r,i)})),n=pB.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?P2t(l[0].x):D2t(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}function I0(e,t){var n=typeof t,r;return t==null||n==="boolean"?tM(t):(n==="number"?Bc:n==="string"?(r=Q1(t))?(t=r,ck):mJ:t instanceof Q1?ck:t instanceof Date?vIe:gIe(t)?pJ:Array.isArray(t)?yIe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?bIe:Bc)(e,t)}function O2t(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function N2t(e,t){var n=nM(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function UA(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Xde=180/Math.PI,JH={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function wIe(e,t,n,r,i,s){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*Xde,skewX:Math.atan(l)*Xde,scaleX:o,scaleY:a}}var SD;function $2t(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?JH:wIe(t.a,t.b,t.c,t.d,t.e,t.f)}function M2t(e){return e==null||(SD||(SD=document.createElementNS("http://www.w3.org/2000/svg","g")),SD.setAttribute("transform",e),!(e=SD.transform.baseVal.consolidate()))?JH:(e=e.matrix,wIe(e.a,e.b,e.c,e.d,e.e,e.f))}function xIe(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function s(u,c,d,f,h,p){if(u!==d||c!==f){var m=h.push("translate(",null,t,null,n);p.push({i:m-4,x:Bc(u,d)},{i:m-2,x:Bc(c,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function o(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Bc(u,c)})):c&&d.push(i(d)+"rotate("+c+r)}function a(u,c,d,f){u!==c?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Bc(u,c)}):c&&d.push(i(d)+"skewX("+c+r)}function l(u,c,d,f,h,p){if(u!==d||c!==f){var m=h.push(i(h)+"scale(",null,",",null,")");p.push({i:m-4,x:Bc(u,d)},{i:m-2,x:Bc(c,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=e(u),c=e(c),s(u.translateX,u.translateY,c.translateX,c.translateY,d,f),o(u.rotate,c.rotate,d,f),a(u.skewX,c.skewX,d,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(h){for(var p=-1,m=f.length,g;++p<m;)d[(g=f[p]).i]=g.x(h);return d.join("")}}}var _Ie=xIe($2t,"px, ","px)","deg)"),CIe=xIe(M2t,", ",")",")"),F2t=1e-12;function Qde(e){return((e=Math.exp(e))+1/e)/2}function L2t(e){return((e=Math.exp(e))-1/e)/2}function j2t(e){return((e=Math.exp(2*e))-1)/(e+1)}const B2t=(function e(t,n,r){function i(s,o){var a=s[0],l=s[1],u=s[2],c=o[0],d=o[1],f=o[2],h=c-a,p=d-l,m=h*h+p*p,g,y;if(m<F2t)y=Math.log(f/u)/t,g=function(T){return[a+T*h,l+T*p,u*Math.exp(t*T*y)]};else{var v=Math.sqrt(m),w=(f*f-u*u+r*m)/(2*u*n*v),_=(f*f-u*u-r*m)/(2*f*n*v),C=Math.log(Math.sqrt(w*w+1)-w),S=Math.log(Math.sqrt(_*_+1)-_);y=(S-C)/t,g=function(T){var k=T*y,I=Qde(C),R=u/(n*v)*(I*j2t(t*k+C)-L2t(C));return[a+R*h,l+R*p,u*I/Qde(t*k+C)]}}return g.duration=y*1e3*t/Math.SQRT2,g}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return e(o,a,l)},i})(Math.SQRT2,2,4);function EIe(e){return function(t,n){var r=e((t=lk(t)).h,(n=lk(n)).h),i=qo(t.s,n.s),s=qo(t.l,n.l),o=qo(t.opacity,n.opacity);return function(a){return t.h=r(a),t.s=i(a),t.l=s(a),t.opacity=o(a),t+""}}}const z2t=EIe(nM);var U2t=EIe(qo);function V2t(e,t){var n=qo((e=w4(e)).l,(t=w4(t)).l),r=qo(e.a,t.a),i=qo(e.b,t.b),s=qo(e.opacity,t.opacity);return function(o){return e.l=n(o),e.a=r(o),e.b=i(o),e.opacity=s(o),e+""}}function SIe(e){return function(t,n){var r=e((t=x4(t)).h,(n=x4(n)).h),i=qo(t.c,n.c),s=qo(t.l,n.l),o=qo(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=i(a),t.l=s(a),t.opacity=o(a),t+""}}}const H2t=SIe(nM);var q2t=SIe(qo);function TIe(e){return(function t(n){n=+n;function r(i,s){var o=e((i=XH(i)).h,(s=XH(s)).h),a=qo(i.s,s.s),l=qo(i.l,s.l),u=qo(i.opacity,s.opacity);return function(c){return i.h=o(c),i.s=a(c),i.l=l(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=t,r})(1)}const W2t=TIe(nM);var G2t=TIe(qo);function gJ(e,t){t===void 0&&(t=e,e=I0);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function Y2t(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const K2t=Object.freeze(Object.defineProperty({__proto__:null,interpolate:I0,interpolateArray:I2t,interpolateBasis:fIe,interpolateBasisClosed:hIe,interpolateCubehelix:W2t,interpolateCubehelixLong:G2t,interpolateDate:vIe,interpolateDiscrete:O2t,interpolateHcl:H2t,interpolateHclLong:q2t,interpolateHsl:z2t,interpolateHslLong:U2t,interpolateHue:N2t,interpolateLab:V2t,interpolateNumber:Bc,interpolateNumberArray:pJ,interpolateObject:bIe,interpolateRgb:ck,interpolateRgbBasis:A2t,interpolateRgbBasisClosed:R2t,interpolateRound:UA,interpolateString:mJ,interpolateTransformCss:_Ie,interpolateTransformSvg:CIe,interpolateZoom:B2t,piecewise:gJ,quantize:Y2t},Symbol.toStringTag,{value:"Module"}));var R_=0,dS=0,g2=0,kIe=1e3,_4,fS,C4=0,J1=0,rM=0,dk=typeof performance=="object"&&performance.now?performance:Date,AIe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function iM(){return J1||(AIe(X2t),J1=dk.now()+rM)}function X2t(){J1=0}function fk(){this._call=this._time=this._next=null}fk.prototype=yJ.prototype={constructor:fk,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?iM():+n)+(t==null?0:+t),!this._next&&fS!==this&&(fS?fS._next=this:_4=this,fS=this),this._call=e,this._time=n,ZH()},stop:function(){this._call&&(this._call=null,this._time=1/0,ZH())}};function yJ(e,t,n){var r=new fk;return r.restart(e,t,n),r}function Q2t(){iM(),++R_;for(var e=_4,t;e;)(t=J1-e._time)>=0&&e._call.call(void 0,t),e=e._next;--R_}function Jde(){J1=(C4=dk.now())+rM,R_=dS=0;try{Q2t()}finally{R_=0,Z2t(),J1=0}}function J2t(){var e=dk.now(),t=e-C4;t>kIe&&(rM-=t,C4=e)}function Z2t(){for(var e,t=_4,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:_4=n);fS=e,ZH(r)}function ZH(e){if(!R_){dS&&(dS=clearTimeout(dS));var t=e-J1;t>24?(e<1/0&&(dS=setTimeout(Jde,e-dk.now()-rM)),g2&&(g2=clearInterval(g2))):(g2||(C4=dk.now(),g2=setInterval(J2t,kIe)),R_=1,AIe(Jde))}}function Zde(e,t,n){var r=new fk;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}function eSt(e,t,n){var r=new fk,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(s,o,a){o=+o,a=a==null?iM():+a,r._restart(function l(u){u+=i,r._restart(l,i+=o,a),s(u)},o,a)},r.restart(e,t,n),r)}var tSt=J$("start","end","cancel","interrupt"),nSt=[],RIe=0,efe=1,eq=2,zP=3,tfe=4,tq=5,UP=6;function sM(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;rSt(e,n,{name:t,index:r,group:i,on:tSt,tween:nSt,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:RIe})}function vJ(e,t){var n=Wf(e,t);if(n.state>RIe)throw new Error("too late; already scheduled");return n}function Op(e,t){var n=Wf(e,t);if(n.state>zP)throw new Error("too late; already running");return n}function Wf(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function rSt(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=yJ(s,0,n.time);function s(u){n.state=efe,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var c,d,f,h;if(n.state!==efe)return l();for(c in r)if(h=r[c],h.name===n.name){if(h.state===zP)return Zde(o);h.state===tfe?(h.state=UP,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=UP,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(Zde(function(){n.state===zP&&(n.state=tfe,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=eq,n.on.call("start",e,e.__data__,n.index,n.group),n.state===eq){for(n.state=zP,i=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=tq,1),d=-1,f=i.length;++d<f;)i[d].call(e,c);n.state===tq&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=UP,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function nq(e,t){var n=e.__transition,r,i,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>eq&&r.state<tq,r.state=UP,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function iSt(e){return this.each(function(){nq(this,e)})}function sSt(e,t){var n,r;return function(){var i=Op(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function oSt(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Op(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=a;break}l===u&&i.push(a)}s.tween=i}}function aSt(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Wf(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?sSt:oSt)(n,e,t))}function bJ(e,t,n){var r=e._id;return e.each(function(){var i=Op(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Wf(i,r).value[t]}}function IIe(e,t){var n;return(typeof t=="number"?Bc:t instanceof Q1?ck:(n=Q1(t))?(t=n,ck):mJ)(e,t)}function lSt(e){return function(){this.removeAttribute(e)}}function uSt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function cSt(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function dSt(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function fSt(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function hSt(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function pSt(e,t){var n=Z$(e),r=n==="transform"?CIe:IIe;return this.attrTween(e,typeof t=="function"?(n.local?hSt:fSt)(n,r,bJ(this,"attr."+e,t)):t==null?(n.local?uSt:lSt)(n):(n.local?dSt:cSt)(n,r,t))}function mSt(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function gSt(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function ySt(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&gSt(e,s)),n}return i._value=t,i}function vSt(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&mSt(e,s)),n}return i._value=t,i}function bSt(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Z$(e);return this.tween(n,(r.local?ySt:vSt)(r,t))}function wSt(e,t){return function(){vJ(this,e).delay=+t.apply(this,arguments)}}function xSt(e,t){return t=+t,function(){vJ(this,e).delay=t}}function _St(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?wSt:xSt)(t,e)):Wf(this.node(),t).delay}function CSt(e,t){return function(){Op(this,e).duration=+t.apply(this,arguments)}}function ESt(e,t){return t=+t,function(){Op(this,e).duration=t}}function SSt(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?CSt:ESt)(t,e)):Wf(this.node(),t).duration}function TSt(e,t){if(typeof t!="function")throw new Error;return function(){Op(this,e).ease=t}}function kSt(e){var t=this._id;return arguments.length?this.each(TSt(t,e)):Wf(this.node(),t).ease}function ASt(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Op(this,e).ease=n}}function RSt(e){if(typeof e!="function")throw new Error;return this.each(ASt(this._id,e))}function ISt(e){typeof e!="function"&&(e=qRe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new s0(r,this._parents,this._name,this._id)}function DSt(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=t[a],u=n[a],c=l.length,d=o[a]=new Array(c),f,h=0;h<c;++h)(f=l[h]||u[h])&&(d[h]=f);for(;a<r;++a)o[a]=t[a];return new s0(o,this._parents,this._name,this._id)}function PSt(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function OSt(e,t,n){var r,i,s=PSt(t)?vJ:Op;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}function NSt(e,t){var n=this._id;return arguments.length<2?Wf(this.node(),n).on.on(e):this.each(OSt(n,e,t))}function $St(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function MSt(){return this.on("end.remove",$St(this._id))}function FSt(e){var t=this._name,n=this._id;typeof e!="function"&&(e=lJ(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,u=s[o]=new Array(l),c,d,f=0;f<l;++f)(c=a[f])&&(d=e.call(c,c.__data__,f,a))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,sM(u[f],t,n,f,u,Wf(c,n)));return new s0(s,this._parents,t,n)}function LSt(e){var t=this._name,n=this._id;typeof e!="function"&&(e=HRe(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var f=e.call(c,c.__data__,d,l),h,p=Wf(c,n),m=0,g=f.length;m<g;++m)(h=f[m])&&sM(h,t,n,m,f,p);s.push(f),o.push(c)}return new s0(s,o,t,n)}var jSt=BA.prototype.constructor;function BSt(){return new jSt(this._groups,this._parents)}function zSt(e,t){var n,r,i;return function(){var s=k_(this,e),o=(this.style.removeProperty(e),k_(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function DIe(e){return function(){this.style.removeProperty(e)}}function USt(e,t,n){var r,i=n+"",s;return function(){var o=k_(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function VSt(e,t,n){var r,i,s;return function(){var o=k_(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),k_(this,e))),o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a))}}function HSt(e,t){var n,r,i,s="style."+t,o="end."+s,a;return function(){var l=Op(this,e),u=l.on,c=l.value[s]==null?a||(a=DIe(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(o,i=c),l.on=r}}function qSt(e,t,n){var r=(e+="")=="transform"?_Ie:IIe;return t==null?this.styleTween(e,zSt(e,r)).on("end.style."+e,DIe(e)):typeof t=="function"?this.styleTween(e,VSt(e,r,bJ(this,"style."+e,t))).each(HSt(this._id,e)):this.styleTween(e,USt(e,r,t),n).on("end.style."+e,null)}function WSt(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function GSt(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&WSt(e,o,n)),r}return s._value=t,s}function YSt(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,GSt(e,t,n??""))}function KSt(e){return function(){this.textContent=e}}function XSt(e){return function(){var t=e(this);this.textContent=t??""}}function QSt(e){return this.tween("text",typeof e=="function"?XSt(bJ(this,"text",e)):KSt(e==null?"":e+""))}function JSt(e){return function(t){this.textContent=e.call(this,t)}}function ZSt(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&JSt(i)),t}return r._value=e,r}function eTt(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,ZSt(e))}function tTt(){for(var e=this._name,t=this._id,n=PIe(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var c=Wf(l,t);sM(l,e,n,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new s0(r,this._parents,e,n)}function nTt(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var u=Op(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),i===0&&s()})}var rTt=0;function s0(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function PIe(){return++rTt}var im=BA.prototype;s0.prototype={constructor:s0,select:FSt,selectAll:LSt,selectChild:im.selectChild,selectChildren:im.selectChildren,filter:ISt,merge:DSt,selection:BSt,transition:tTt,call:im.call,nodes:im.nodes,node:im.node,size:im.size,empty:im.empty,each:im.each,on:NSt,attr:pSt,attrTween:bSt,style:qSt,styleTween:YSt,text:QSt,textTween:eTt,remove:MSt,tween:aSt,delay:_St,duration:SSt,ease:kSt,easeVarying:RSt,end:nTt,[Symbol.iterator]:im[Symbol.iterator]};function iTt(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var sTt={time:null,delay:0,duration:250,ease:iTt};function oTt(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function aTt(e){var t,n;e instanceof s0?(t=e._id,e=e._name):(t=PIe(),(n=sTt).time=iM(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&sM(l,e,t,u,o,n||oTt(l,t));return new s0(r,this._parents,e,t)}BA.prototype.interrupt=iSt;BA.prototype.transition=aTt;const mB=e=>()=>e;function lTt(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function uTt(e){e.stopImmediatePropagation()}function gB(e){e.preventDefault(),e.stopImmediatePropagation()}var nfe={name:"drag"},yB={name:"space"},Vw={name:"handle"},Hw={name:"center"};const{abs:rfe,max:$a,min:Ma}=Math;function ife(e){return[+e[0],+e[1]]}function rq(e){return[ife(e[0]),ife(e[1])]}var VP={name:"x",handles:["w","e"].map(hk),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},HP={name:"y",handles:["n","s"].map(hk),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},cTt={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(hk),input:function(e){return e==null?null:rq(e)},output:function(e){return e}},sm={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},sfe={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},ofe={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},dTt={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},fTt={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function hk(e){return{type:e}}function hTt(e){return!e.ctrlKey&&!e.button}function pTt(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function mTt(){return navigator.maxTouchPoints||"ontouchstart"in this}function vB(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function gTt(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function yTt(){return wJ(VP)}function vTt(){return wJ(HP)}function bTt(){return wJ(cTt)}function wJ(e){var t=pTt,n=hTt,r=mTt,i=!0,s=J$("start","brush","end"),o=6,a;function l(g){var y=g.property("__brush",m).selectAll(".overlay").data([hk("overlay")]);y.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",sm.overlay).merge(y).each(function(){var w=vB(this).extent;yo(this).attr("x",w[0][0]).attr("y",w[0][1]).attr("width",w[1][0]-w[0][0]).attr("height",w[1][1]-w[0][1])}),g.selectAll(".selection").data([hk("selection")]).enter().append("rect").attr("class","selection").attr("cursor",sm.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var v=g.selectAll(".handle").data(e.handles,function(w){return w.type});v.exit().remove(),v.enter().append("rect").attr("class",function(w){return"handle handle--"+w.type}).attr("cursor",function(w){return sm[w.type]}),g.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(r).on("touchstart.brush",f).on("touchmove.brush",h).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(g,y,v){g.tween?g.on("start.brush",function(w){c(this,arguments).beforestart().start(w)}).on("interrupt.brush end.brush",function(w){c(this,arguments).end(w)}).tween("brush",function(){var w=this,_=w.__brush,C=c(w,arguments),S=_.selection,T=e.input(typeof y=="function"?y.apply(this,arguments):y,_.extent),k=I0(S,T);function I(R){_.selection=R===1&&T===null?null:k(R),u.call(w),C.brush()}return S!==null&&T!==null?I:I(1)}):g.each(function(){var w=this,_=arguments,C=w.__brush,S=e.input(typeof y=="function"?y.apply(w,_):y,C.extent),T=c(w,_).beforestart();nq(w),C.selection=S===null?null:S,u.call(w),T.start(v).brush(v).end(v)})},l.clear=function(g,y){l.move(g,null,y)};function u(){var g=yo(this),y=vB(this).selection;y?(g.selectAll(".selection").style("display",null).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1]),g.selectAll(".handle").style("display",null).attr("x",function(v){return v.type[v.type.length-1]==="e"?y[1][0]-o/2:y[0][0]-o/2}).attr("y",function(v){return v.type[0]==="s"?y[1][1]-o/2:y[0][1]-o/2}).attr("width",function(v){return v.type==="n"||v.type==="s"?y[1][0]-y[0][0]+o:o}).attr("height",function(v){return v.type==="e"||v.type==="w"?y[1][1]-y[0][1]+o:o})):g.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(g,y,v){var w=g.__brush.emitter;return w&&(!v||!w.clean)?w:new d(g,y,v)}function d(g,y,v){this.that=g,this.args=y,this.state=g.__brush,this.active=0,this.clean=v}d.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(g,y){return this.starting?(this.starting=!1,this.emit("start",g,y)):this.emit("brush",g),this},brush:function(g,y){return this.emit("brush",g,y),this},end:function(g,y){return--this.active===0&&(delete this.state.emitter,this.emit("end",g,y)),this},emit:function(g,y,v){var w=yo(this.that).datum();s.call(g,this.that,new lTt(g,{sourceEvent:y,target:l,selection:e.output(this.state.selection),mode:v,dispatch:s}),w)}};function f(g){if(a&&!g.touches||!n.apply(this,arguments))return;var y=this,v=g.target.__data__.type,w=(i&&g.metaKey?v="overlay":v)==="selection"?nfe:i&&g.altKey?Hw:Vw,_=e===HP?null:dTt[v],C=e===VP?null:fTt[v],S=vB(y),T=S.extent,k=S.selection,I=T[0][0],R,P,N=T[0][1],$,O,j=T[1][0],B,H,q=T[1][1],Y,V,L=0,z=0,U,G=_&&C&&i&&g.shiftKey,Q,ne,ue=Array.from(g.touches||[g],te=>{const ee=te.identifier;return te=Lde(te,y),te.point0=te.slice(),te.identifier=ee,te});nq(y);var se=c(y,arguments,!0).beforestart();if(v==="overlay"){k&&(U=!0);const te=[ue[0],ue[1]||ue[0]];S.selection=k=[[R=e===HP?I:Ma(te[0][0],te[1][0]),$=e===VP?N:Ma(te[0][1],te[1][1])],[B=e===HP?j:$a(te[0][0],te[1][0]),Y=e===VP?q:$a(te[0][1],te[1][1])]],ue.length>1&&Ee(g)}else R=k[0][0],$=k[0][1],B=k[1][0],Y=k[1][1];P=R,O=$,H=B,V=Y;var ae=yo(y).attr("pointer-events","none"),he=ae.selectAll(".overlay").attr("cursor",sm[v]);if(g.touches)se.moved=le,se.ended=X;else{var ie=yo(g.view).on("mousemove.brush",le,!0).on("mouseup.brush",X,!0);i&&ie.on("keydown.brush",fe,!0).on("keyup.brush",de,!0),d2t(g.view)}u.call(y),se.start(g,w.name);function le(te){for(const ee of te.changedTouches||[te])for(const me of ue)me.identifier===ee.identifier&&(me.cur=Lde(ee,y));if(G&&!Q&&!ne&&ue.length===1){const ee=ue[0];rfe(ee.cur[0]-ee[0])>rfe(ee.cur[1]-ee[1])?ne=!0:Q=!0}for(const ee of ue)ee.cur&&(ee[0]=ee.cur[0],ee[1]=ee.cur[1]);U=!0,gB(te),Ee(te)}function Ee(te){const ee=ue[0],me=ee.point0;var Re;switch(L=ee[0]-me[0],z=ee[1]-me[1],w){case yB:case nfe:{_&&(L=$a(I-R,Ma(j-B,L)),P=R+L,H=B+L),C&&(z=$a(N-$,Ma(q-Y,z)),O=$+z,V=Y+z);break}case Vw:{ue[1]?(_&&(P=$a(I,Ma(j,ue[0][0])),H=$a(I,Ma(j,ue[1][0])),_=1),C&&(O=$a(N,Ma(q,ue[0][1])),V=$a(N,Ma(q,ue[1][1])),C=1)):(_<0?(L=$a(I-R,Ma(j-R,L)),P=R+L,H=B):_>0&&(L=$a(I-B,Ma(j-B,L)),P=R,H=B+L),C<0?(z=$a(N-$,Ma(q-$,z)),O=$+z,V=Y):C>0&&(z=$a(N-Y,Ma(q-Y,z)),O=$,V=Y+z));break}case Hw:{_&&(P=$a(I,Ma(j,R-L*_)),H=$a(I,Ma(j,B+L*_))),C&&(O=$a(N,Ma(q,$-z*C)),V=$a(N,Ma(q,Y+z*C)));break}}H<P&&(_*=-1,Re=R,R=B,B=Re,Re=P,P=H,H=Re,v in sfe&&he.attr("cursor",sm[v=sfe[v]])),V<O&&(C*=-1,Re=$,$=Y,Y=Re,Re=O,O=V,V=Re,v in ofe&&he.attr("cursor",sm[v=ofe[v]])),S.selection&&(k=S.selection),Q&&(P=k[0][0],H=k[1][0]),ne&&(O=k[0][1],V=k[1][1]),(k[0][0]!==P||k[0][1]!==O||k[1][0]!==H||k[1][1]!==V)&&(S.selection=[[P,O],[H,V]],u.call(y),se.brush(te,w.name))}function X(te){if(uTt(te),te.touches){if(te.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500)}else f2t(te.view,U),ie.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);ae.attr("pointer-events","all"),he.attr("cursor",sm.overlay),S.selection&&(k=S.selection),gTt(k)&&(S.selection=null,u.call(y)),se.end(te,w.name)}function fe(te){switch(te.keyCode){case 16:{G=_&&C;break}case 18:{w===Vw&&(_&&(B=H-L*_,R=P+L*_),C&&(Y=V-z*C,$=O+z*C),w=Hw,Ee(te));break}case 32:{(w===Vw||w===Hw)&&(_<0?B=H-L:_>0&&(R=P-L),C<0?Y=V-z:C>0&&($=O-z),w=yB,he.attr("cursor",sm.selection),Ee(te));break}default:return}gB(te)}function de(te){switch(te.keyCode){case 16:{G&&(Q=ne=G=!1,Ee(te));break}case 18:{w===Hw&&(_<0?B=H:_>0&&(R=P),C<0?Y=V:C>0&&($=O),w=Vw,Ee(te));break}case 32:{w===yB&&(te.altKey?(_&&(B=H-L*_,R=P+L*_),C&&(Y=V-z*C,$=O+z*C),w=Hw):(_<0?B=H:_>0&&(R=P),C<0?Y=V:C>0&&($=O),w=Vw),he.attr("cursor",sm[v]),Ee(te));break}default:return}gB(te)}}function h(g){c(this,arguments).moved(g)}function p(g){c(this,arguments).ended(g)}function m(){var g=this.__brush||{selection:null};return g.extent=rq(t.apply(this,arguments)),g.dim=e,g}return l.extent=function(g){return arguments.length?(t=typeof g=="function"?g:mB(rq(g)),l):t},l.filter=function(g){return arguments.length?(n=typeof g=="function"?g:mB(!!g),l):n},l.touchable=function(g){return arguments.length?(r=typeof g=="function"?g:mB(!!g),l):r},l.handleSize=function(g){return arguments.length?(o=+g,l):o},l.keyModifiers=function(g){return arguments.length?(i=!!g,l):i},l.on=function(){var g=s.on.apply(s,arguments);return g===s?l:g},l}const iq=Math.PI,sq=2*iq,Zv=1e-6,wTt=sq-Zv;function OIe(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function xTt(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return OIe;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let xJ=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?OIe:xTt(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-t,u=i-n,c=o-t,d=a-n,f=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>Zv)if(!(Math.abs(d*l-u*c)>Zv)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,p=i-a,m=l*l+u*u,g=h*h+p*p,y=Math.sqrt(m),v=Math.sqrt(f),w=s*Math.tan((iq-Math.acos((m+f-g)/(2*y*v)))/2),_=w/v,C=w/y;Math.abs(_-1)>Zv&&this._append`L${t+_*c},${n+_*d}`,this._append`A${s},${s},0,0,${+(d*h>c*p)},${this._x1=t+C*l},${this._y1=n+C*u}`}}arc(t,n,r,i,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=t+a,c=n+l,d=1^o,f=o?i-s:s-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Zv||Math.abs(this._y1-c)>Zv)&&this._append`L${u},${c}`,r&&(f<0&&(f=f%sq+sq),f>wTt?this._append`A${r},${r},0,1,${d},${t-a},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:f>Zv&&this._append`A${r},${r},0,${+(f>=iq)},${d},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function oM(){return new xJ}oM.prototype=xJ.prototype;const Lm=11102230246251565e-32,Fa=134217729,_Tt=(3+8*Lm)*Lm;function bB(e,t,n,r,i){let s,o,a,l,u=t[0],c=r[0],d=0,f=0;c>u==c>-u?(s=u,u=t[++d]):(s=c,c=r[++f]);let h=0;if(d<e&&f<n)for(c>u==c>-u?(o=u+s,a=s-(o-u),u=t[++d]):(o=c+s,a=s-(o-c),c=r[++f]),s=o,a!==0&&(i[h++]=a);d<e&&f<n;)c>u==c>-u?(o=s+u,l=o-s,a=s-(o-l)+(u-l),u=t[++d]):(o=s+c,l=o-s,a=s-(o-l)+(c-l),c=r[++f]),s=o,a!==0&&(i[h++]=a);for(;d<e;)o=s+u,l=o-s,a=s-(o-l)+(u-l),u=t[++d],s=o,a!==0&&(i[h++]=a);for(;f<n;)o=s+c,l=o-s,a=s-(o-l)+(c-l),c=r[++f],s=o,a!==0&&(i[h++]=a);return(s!==0||h===0)&&(i[h++]=s),h}function CTt(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function VA(e){return new Float64Array(e)}const ETt=(3+16*Lm)*Lm,STt=(2+12*Lm)*Lm,TTt=(9+64*Lm)*Lm*Lm,qw=VA(4),afe=VA(8),lfe=VA(12),ufe=VA(16),ml=VA(4);function kTt(e,t,n,r,i,s,o){let a,l,u,c,d,f,h,p,m,g,y,v,w,_,C,S,T,k;const I=e-i,R=n-i,P=t-s,N=r-s;_=I*N,f=Fa*I,h=f-(f-I),p=I-h,f=Fa*N,m=f-(f-N),g=N-m,C=p*g-(_-h*m-p*m-h*g),S=P*R,f=Fa*P,h=f-(f-P),p=P-h,f=Fa*R,m=f-(f-R),g=R-m,T=p*g-(S-h*m-p*m-h*g),y=C-T,d=C-y,qw[0]=C-(y+d)+(d-T),v=_+y,d=v-_,w=_-(v-d)+(y-d),y=w-S,d=w-y,qw[1]=w-(y+d)+(d-S),k=v+y,d=k-v,qw[2]=v-(k-d)+(y-d),qw[3]=k;let $=CTt(4,qw),O=STt*o;if($>=O||-$>=O||(d=e-I,a=e-(I+d)+(d-i),d=n-R,u=n-(R+d)+(d-i),d=t-P,l=t-(P+d)+(d-s),d=r-N,c=r-(N+d)+(d-s),a===0&&l===0&&u===0&&c===0)||(O=TTt*o+_Tt*Math.abs($),$+=I*c+N*a-(P*u+R*l),$>=O||-$>=O))return $;_=a*N,f=Fa*a,h=f-(f-a),p=a-h,f=Fa*N,m=f-(f-N),g=N-m,C=p*g-(_-h*m-p*m-h*g),S=l*R,f=Fa*l,h=f-(f-l),p=l-h,f=Fa*R,m=f-(f-R),g=R-m,T=p*g-(S-h*m-p*m-h*g),y=C-T,d=C-y,ml[0]=C-(y+d)+(d-T),v=_+y,d=v-_,w=_-(v-d)+(y-d),y=w-S,d=w-y,ml[1]=w-(y+d)+(d-S),k=v+y,d=k-v,ml[2]=v-(k-d)+(y-d),ml[3]=k;const j=bB(4,qw,4,ml,afe);_=I*c,f=Fa*I,h=f-(f-I),p=I-h,f=Fa*c,m=f-(f-c),g=c-m,C=p*g-(_-h*m-p*m-h*g),S=P*u,f=Fa*P,h=f-(f-P),p=P-h,f=Fa*u,m=f-(f-u),g=u-m,T=p*g-(S-h*m-p*m-h*g),y=C-T,d=C-y,ml[0]=C-(y+d)+(d-T),v=_+y,d=v-_,w=_-(v-d)+(y-d),y=w-S,d=w-y,ml[1]=w-(y+d)+(d-S),k=v+y,d=k-v,ml[2]=v-(k-d)+(y-d),ml[3]=k;const B=bB(j,afe,4,ml,lfe);_=a*c,f=Fa*a,h=f-(f-a),p=a-h,f=Fa*c,m=f-(f-c),g=c-m,C=p*g-(_-h*m-p*m-h*g),S=l*u,f=Fa*l,h=f-(f-l),p=l-h,f=Fa*u,m=f-(f-u),g=u-m,T=p*g-(S-h*m-p*m-h*g),y=C-T,d=C-y,ml[0]=C-(y+d)+(d-T),v=_+y,d=v-_,w=_-(v-d)+(y-d),y=w-S,d=w-y,ml[1]=w-(y+d)+(d-S),k=v+y,d=k-v,ml[2]=v-(k-d)+(y-d),ml[3]=k;const H=bB(B,lfe,4,ml,ufe);return ufe[H-1]}function TD(e,t,n,r,i,s){const o=(t-s)*(n-i),a=(e-i)*(r-s),l=o-a,u=Math.abs(o+a);return Math.abs(l)>=ETt*u?l:-kTt(e,t,n,r,i,s,u)}const cfe=Math.pow(2,-52),kD=new Uint32Array(512);class E4{static from(t,n=PTt,r=OTt){const i=t.length,s=new Float64Array(i*2);for(let o=0;o<i;o++){const a=t[o];s[2*o]=n(a),s[2*o+1]=r(a)}return new E4(s)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:s}=this,o=t.length>>1;let a=1/0,l=1/0,u=-1/0,c=-1/0;for(let I=0;I<o;I++){const R=t[2*I],P=t[2*I+1];R<a&&(a=R),P<l&&(l=P),R>u&&(u=R),P>c&&(c=P),this._ids[I]=I}const d=(a+u)/2,f=(l+c)/2;let h,p,m;for(let I=0,R=1/0;I<o;I++){const P=wB(d,f,t[2*I],t[2*I+1]);P<R&&(h=I,R=P)}const g=t[2*h],y=t[2*h+1];for(let I=0,R=1/0;I<o;I++){if(I===h)continue;const P=wB(g,y,t[2*I],t[2*I+1]);P<R&&P>0&&(p=I,R=P)}let v=t[2*p],w=t[2*p+1],_=1/0;for(let I=0;I<o;I++){if(I===h||I===p)continue;const R=ITt(g,y,v,w,t[2*I],t[2*I+1]);R<_&&(m=I,_=R)}let C=t[2*m],S=t[2*m+1];if(_===1/0){for(let P=0;P<o;P++)this._dists[P]=t[2*P]-t[0]||t[2*P+1]-t[1];Tx(this._ids,this._dists,0,o-1);const I=new Uint32Array(o);let R=0;for(let P=0,N=-1/0;P<o;P++){const $=this._ids[P],O=this._dists[$];O>N&&(I[R++]=$,N=O)}this.hull=I.subarray(0,R),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(TD(g,y,v,w,C,S)<0){const I=p,R=v,P=w;p=m,v=C,w=S,m=I,C=R,S=P}const T=DTt(g,y,v,w,C,S);this._cx=T.x,this._cy=T.y;for(let I=0;I<o;I++)this._dists[I]=wB(t[2*I],t[2*I+1],T.x,T.y);Tx(this._ids,this._dists,0,o-1),this._hullStart=h;let k=3;r[h]=n[m]=p,r[p]=n[h]=m,r[m]=n[p]=h,i[h]=0,i[p]=1,i[m]=2,s.fill(-1),s[this._hashKey(g,y)]=h,s[this._hashKey(v,w)]=p,s[this._hashKey(C,S)]=m,this.trianglesLen=0,this._addTriangle(h,p,m,-1,-1,-1);for(let I=0,R,P;I<this._ids.length;I++){const N=this._ids[I],$=t[2*N],O=t[2*N+1];if(I>0&&Math.abs($-R)<=cfe&&Math.abs(O-P)<=cfe||(R=$,P=O,N===h||N===p||N===m))continue;let j=0;for(let V=0,L=this._hashKey($,O);V<this._hashSize&&(j=s[(L+V)%this._hashSize],!(j!==-1&&j!==r[j]));V++);j=n[j];let B=j,H;for(;H=r[B],TD($,O,t[2*B],t[2*B+1],t[2*H],t[2*H+1])>=0;)if(B=H,B===j){B=-1;break}if(B===-1)continue;let q=this._addTriangle(B,N,r[B],-1,-1,i[B]);i[N]=this._legalize(q+2),i[B]=q,k++;let Y=r[B];for(;H=r[Y],TD($,O,t[2*Y],t[2*Y+1],t[2*H],t[2*H+1])<0;)q=this._addTriangle(Y,N,H,i[N],-1,i[Y]),i[N]=this._legalize(q+2),r[Y]=Y,k--,Y=H;if(B===j)for(;H=n[B],TD($,O,t[2*H],t[2*H+1],t[2*B],t[2*B+1])<0;)q=this._addTriangle(H,N,B,-1,i[B],i[H]),this._legalize(q+2),i[H]=q,r[B]=B,k--,B=H;this._hullStart=n[N]=B,r[B]=n[Y]=N,r[N]=Y,s[this._hashKey($,O)]=N,s[this._hashKey(t[2*B],t[2*B+1])]=B}this.hull=new Uint32Array(k);for(let I=0,R=this._hullStart;I<k;I++)this.hull[I]=R,R=r[R];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(ATt(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let s=0,o=0;for(;;){const a=r[t],l=t-t%3;if(o=l+(t+2)%3,a===-1){if(s===0)break;t=kD[--s];continue}const u=a-a%3,c=l+(t+1)%3,d=u+(a+2)%3,f=n[o],h=n[t],p=n[c],m=n[d];if(RTt(i[2*f],i[2*f+1],i[2*h],i[2*h+1],i[2*p],i[2*p+1],i[2*m],i[2*m+1])){n[t]=m,n[a]=f;const y=r[d];if(y===-1){let w=this._hullStart;do{if(this._hullTri[w]===d){this._hullTri[w]=t;break}w=this._hullPrev[w]}while(w!==this._hullStart)}this._link(t,y),this._link(a,r[o]),this._link(o,d);const v=u+(a+1)%3;s<kD.length&&(kD[s++]=v)}else{if(s===0)break;t=kD[--s]}}return o}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,s,o){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=r,this._link(a,i),this._link(a+1,s),this._link(a+2,o),this.trianglesLen+=3,a}}function ATt(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function wB(e,t,n,r){const i=e-n,s=t-r;return i*i+s*s}function RTt(e,t,n,r,i,s,o,a){const l=e-o,u=t-a,c=n-o,d=r-a,f=i-o,h=s-a,p=l*l+u*u,m=c*c+d*d,g=f*f+h*h;return l*(d*g-m*h)-u*(c*g-m*f)+p*(c*h-d*f)<0}function ITt(e,t,n,r,i,s){const o=n-e,a=r-t,l=i-e,u=s-t,c=o*o+a*a,d=l*l+u*u,f=.5/(o*u-a*l),h=(u*c-a*d)*f,p=(o*d-l*c)*f;return h*h+p*p}function DTt(e,t,n,r,i,s){const o=n-e,a=r-t,l=i-e,u=s-t,c=o*o+a*a,d=l*l+u*u,f=.5/(o*u-a*l),h=e+(u*c-a*d)*f,p=t+(o*d-l*c)*f;return{x:h,y:p}}function Tx(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const s=e[i],o=t[s];let a=i-1;for(;a>=n&&t[e[a]]>o;)e[a+1]=e[a--];e[a+1]=s}else{const i=n+r>>1;let s=n+1,o=r;y2(e,i,s),t[e[n]]>t[e[r]]&&y2(e,n,r),t[e[s]]>t[e[r]]&&y2(e,s,r),t[e[n]]>t[e[s]]&&y2(e,n,s);const a=e[s],l=t[a];for(;;){do s++;while(t[e[s]]<l);do o--;while(t[e[o]]>l);if(o<s)break;y2(e,s,o)}e[n+1]=e[o],e[o]=a,r-s+1>=o-n?(Tx(e,t,s,r),Tx(e,t,n,o-1)):(Tx(e,t,n,o-1),Tx(e,t,s,r))}}function y2(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function PTt(e){return e[0]}function OTt(e){return e[1]}const dfe=1e-6;class b1{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,s=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${s}`:(Math.abs(this._x1-i)>dfe||Math.abs(this._y1-s)>dfe)&&(this._+="L"+i+","+s),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=s}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class oq{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let NTt=class{constructor(t,[n,r,i,s]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((s=+s)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=s,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let s,o;const a=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let m=0,g=0,y=r.length,v,w;m<y;m+=3,g+=2){const _=r[m]*2,C=r[m+1]*2,S=r[m+2]*2,T=t[_],k=t[_+1],I=t[C],R=t[C+1],P=t[S],N=t[S+1],$=I-T,O=R-k,j=P-T,B=N-k,H=($*B-O*j)*2;if(Math.abs(H)<1e-9){if(s===void 0){s=o=0;for(const Y of n)s+=t[Y*2],o+=t[Y*2+1];s/=n.length,o/=n.length}const q=1e9*Math.sign((s-T)*B-(o-k)*j);v=(T+P)/2-q*B,w=(k+N)/2+q*j}else{const q=1/H,Y=$*$+O*O,V=j*j+B*B;v=T+(B*Y-O*V)*q,w=k+($*V-j*Y)*q}a[g]=v,a[g+1]=w}let l=n[n.length-1],u,c=l*4,d,f=t[2*l],h,p=t[2*l+1];i.fill(0);for(let m=0;m<n.length;++m)l=n[m],u=c,d=f,h=p,c=l*4,f=t[2*l],p=t[2*l+1],i[u+2]=i[c]=h-p,i[u+3]=i[c+1]=f-d}render(t){const n=t==null?t=new b1:void 0,{delaunay:{halfedges:r,inedges:i,hull:s},circumcenters:o,vectors:a}=this;if(s.length<=1)return null;for(let c=0,d=r.length;c<d;++c){const f=r[c];if(f<c)continue;const h=Math.floor(c/3)*2,p=Math.floor(f/3)*2,m=o[h],g=o[h+1],y=o[p],v=o[p+1];this._renderSegment(m,g,y,v,t)}let l,u=s[s.length-1];for(let c=0;c<s.length;++c){l=u,u=s[c];const d=Math.floor(i[u]/3)*2,f=o[d],h=o[d+1],p=l*4,m=this._project(f,h,a[p+2],a[p+3]);m&&this._renderSegment(f,h,m[0],m[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new b1:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new b1:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let s=i.length;for(;i[0]===i[s-2]&&i[1]===i[s-1]&&s>1;)s-=2;for(let o=2;o<s;o+=2)(i[o]!==i[o-2]||i[o+1]!==i[o-1])&&n.lineTo(i[o],i[o+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new oq;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,s){let o;const a=this._regioncode(t,n),l=this._regioncode(r,i);a===0&&l===0?(s.moveTo(t,n),s.lineTo(r,i)):(o=this._clipSegment(t,n,r,i,a,l))&&(s.moveTo(o[0],o[1]),s.lineTo(o[2],o[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let s=0,o=n.length;s<o;s+=2)for(let a=0,l=i.length;a<l;a+=2)if(n[s]===i[a]&&n[s+1]===i[a+1]&&n[(s+2)%o]===i[(a+l-2)%l]&&n[(s+3)%o]===i[(a+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:s}}=this,o=r[t];if(o===-1)return null;const a=[];let l=o;do{const u=Math.floor(l/3);if(a.push(n[u*2],n[u*2+1]),l=l%3===2?l-2:l+1,s[l]!==t)break;l=i[l]}while(l!==o&&l!==-1);return a}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,s,o,a=n[r-2],l=n[r-1],u,c=this._regioncode(a,l),d,f=0;for(let h=0;h<r;h+=2)if(s=a,o=l,a=n[h],l=n[h+1],u=c,c=this._regioncode(a,l),u===0&&c===0)d=f,f=0,i?i.push(a,l):i=[a,l];else{let p,m,g,y,v;if(u===0){if((p=this._clipSegment(s,o,a,l,u,c))===null)continue;[m,g,y,v]=p}else{if((p=this._clipSegment(a,l,s,o,c,u))===null)continue;[y,v,m,g]=p,d=f,f=this._edgecode(m,g),d&&f&&this._edge(t,d,f,i,i.length),i?i.push(m,g):i=[m,g]}d=f,f=this._edgecode(y,v),d&&f&&this._edge(t,d,f,i,i.length),i?i.push(y,v):i=[y,v]}if(i)d=f,f=this._edgecode(i[0],i[1]),d&&f&&this._edge(t,d,f,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,s,o){const a=s<o;for(a&&([t,n,r,i,s,o]=[r,i,t,n,o,s]);;){if(s===0&&o===0)return a?[r,i,t,n]:[t,n,r,i];if(s&o)return null;let l,u,c=s||o;c&8?(l=t+(r-t)*(this.ymax-n)/(i-n),u=this.ymax):c&4?(l=t+(r-t)*(this.ymin-n)/(i-n),u=this.ymin):c&2?(u=n+(i-n)*(this.xmax-t)/(r-t),l=this.xmax):(u=n+(i-n)*(this.xmin-t)/(r-t),l=this.xmin),s?(t=l,n=u,s=this._regioncode(t,n)):(r=l,i=u,o=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,s,o){let a=Array.from(n),l;if((l=this._project(a[0],a[1],r,i))&&a.unshift(l[0],l[1]),(l=this._project(a[a.length-2],a[a.length-1],s,o))&&a.push(l[0],l[1]),a=this._clipFinite(t,a))for(let u=0,c=a.length,d,f=this._edgecode(a[c-2],a[c-1]);u<c;u+=2)d=f,f=this._edgecode(a[u],a[u+1]),d&&f&&(u=this._edge(t,d,f,a,u),c=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,n,r,i,s){for(;n!==r;){let o,a;switch(n){case 5:n=4;continue;case 4:n=6,o=this.xmax,a=this.ymin;break;case 6:n=2;continue;case 2:n=10,o=this.xmax,a=this.ymax;break;case 10:n=8;continue;case 8:n=9,o=this.xmin,a=this.ymax;break;case 9:n=1;continue;case 1:n=5,o=this.xmin,a=this.ymin;break}(i[s]!==o||i[s+1]!==a)&&this.contains(t,o,a)&&(i.splice(s,0,o,a),s+=2)}return s}_project(t,n,r,i){let s=1/0,o,a,l;if(i<0){if(n<=this.ymin)return null;(o=(this.ymin-n)/i)<s&&(l=this.ymin,a=t+(s=o)*r)}else if(i>0){if(n>=this.ymax)return null;(o=(this.ymax-n)/i)<s&&(l=this.ymax,a=t+(s=o)*r)}if(r>0){if(t>=this.xmax)return null;(o=(this.xmax-t)/r)<s&&(a=this.xmax,l=n+(s=o)*i)}else if(r<0){if(t<=this.xmin)return null;(o=(this.xmin-t)/r)<s&&(a=this.xmin,l=n+(s=o)*i)}return[a,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}};const $Tt=2*Math.PI,Ww=Math.pow;function MTt(e){return e[0]}function FTt(e){return e[1]}function LTt(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],s=2*t[r+1],o=2*t[r+2];if((n[o]-n[i])*(n[s+1]-n[i+1])-(n[s]-n[i])*(n[o+1]-n[i+1])>1e-10)return!1}return!0}function jTt(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class _J{static from(t,n=MTt,r=FTt,i){return new _J("length"in t?BTt(t,n,r,i):Float64Array.from(zTt(t,n,r,i)))}constructor(t){this._delaunator=new E4(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&LTt(t)){this.collinear=Int32Array.from({length:n.length/2},(f,h)=>h).sort((f,h)=>n[2*f]-n[2*h]||n[2*f+1]-n[2*h+1]);const l=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[n[2*l],n[2*l+1],n[2*u],n[2*u+1]],d=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let f=0,h=n.length/2;f<h;++f){const p=jTt(n[2*f],n[2*f+1],d);n[2*f]=p[0],n[2*f+1]=p[1]}this._delaunator=new E4(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,s=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let l=0,u=r.length;l<u;++l){const c=s[l%3===2?l-2:l+1];(r[l]===-1||o[c]===-1)&&(o[c]=l)}for(let l=0,u=i.length;l<u;++l)a[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],o[i[0]]=1,i.length===2&&(o[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new NTt(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:s,triangles:o,collinear:a}=this;if(a){const d=a.indexOf(t);d>0&&(yield a[d-1]),d<a.length-1&&(yield a[d+1]);return}const l=n[t];if(l===-1)return;let u=l,c=-1;do{if(yield c=o[u],u=u%3===2?u-2:u+1,o[u]!==t)return;if(u=s[u],u===-1){const d=r[(i[t]+1)%r.length];d!==c&&(yield d);return}}while(u!==l)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let s;for(;(s=this._step(r,t,n))>=0&&s!==r&&s!==i;)r=s;return s}_step(t,n,r){const{inedges:i,hull:s,_hullIndex:o,halfedges:a,triangles:l,points:u}=this;if(i[t]===-1||!u.length)return(t+1)%(u.length>>1);let c=t,d=Ww(n-u[t*2],2)+Ww(r-u[t*2+1],2);const f=i[t];let h=f;do{let p=l[h];const m=Ww(n-u[p*2],2)+Ww(r-u[p*2+1],2);if(m<d&&(d=m,c=p),h=h%3===2?h-2:h+1,l[h]!==t)break;if(h=a[h],h===-1){if(h=s[(o[t]+1)%s.length],h!==p&&Ww(n-u[h*2],2)+Ww(r-u[h*2+1],2)<d)return h;break}}while(h!==f);return c}render(t){const n=t==null?t=new b1:void 0,{points:r,halfedges:i,triangles:s}=this;for(let o=0,a=i.length;o<a;++o){const l=i[o];if(l<o)continue;const u=s[o]*2,c=s[l]*2;t.moveTo(r[u],r[u+1]),t.lineTo(r[c],r[c+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new b1:void 0,{points:i}=this;for(let s=0,o=i.length;s<o;s+=2){const a=i[s],l=i[s+1];t.moveTo(a+n,l),t.arc(a,l,n,0,$Tt)}return r&&r.value()}renderHull(t){const n=t==null?t=new b1:void 0,{hull:r,points:i}=this,s=r[0]*2,o=r.length;t.moveTo(i[s],i[s+1]);for(let a=1;a<o;++a){const l=2*r[a];t.lineTo(i[l],i[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new oq;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new b1:void 0,{points:i,triangles:s}=this,o=s[t*=3]*2,a=s[t+1]*2,l=s[t+2]*2;return n.moveTo(i[o],i[o+1]),n.lineTo(i[a],i[a+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new oq;return this.renderTriangle(t,n),n.value()}}function BTt(e,t,n,r){const i=e.length,s=new Float64Array(i*2);for(let o=0;o<i;++o){const a=e[o];s[o*2]=t.call(r,a,o,e),s[o*2+1]=n.call(r,a,o,e)}return s}function*zTt(e,t,n,r){let i=0;for(const s of e)yield t.call(r,s,i,e),yield n.call(r,s,i,e),++i}var ffe={},xB={},_B=34,v2=10,CB=13;function NIe(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function UTt(e,t){var n=NIe(e);return function(r,i){return t(n(r),i,e)}}function hfe(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function au(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function VTt(e){return e<0?"-"+au(-e,6):e>9999?"+"+au(e,6):au(e,4)}function HTt(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":VTt(e.getUTCFullYear())+"-"+au(e.getUTCMonth()+1,2)+"-"+au(e.getUTCDate(),2)+(i?"T"+au(t,2)+":"+au(n,2)+":"+au(r,2)+"."+au(i,3)+"Z":r?"T"+au(t,2)+":"+au(n,2)+":"+au(r,2)+"Z":n||t?"T"+au(t,2)+":"+au(n,2)+"Z":"")}function $Ie(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(d,f){var h,p,m=i(d,function(g,y){if(h)return h(g,y-1);p=g,h=f?UTt(g,f):NIe(g)});return m.columns=p||[],m}function i(d,f){var h=[],p=d.length,m=0,g=0,y,v=p<=0,w=!1;d.charCodeAt(p-1)===v2&&--p,d.charCodeAt(p-1)===CB&&--p;function _(){if(v)return xB;if(w)return w=!1,ffe;var S,T=m,k;if(d.charCodeAt(T)===_B){for(;m++<p&&d.charCodeAt(m)!==_B||d.charCodeAt(++m)===_B;);return(S=m)>=p?v=!0:(k=d.charCodeAt(m++))===v2?w=!0:k===CB&&(w=!0,d.charCodeAt(m)===v2&&++m),d.slice(T+1,S-1).replace(/""/g,'"')}for(;m<p;){if((k=d.charCodeAt(S=m++))===v2)w=!0;else if(k===CB)w=!0,d.charCodeAt(m)===v2&&++m;else if(k!==n)continue;return d.slice(T,S)}return v=!0,d.slice(T,p)}for(;(y=_())!==xB;){for(var C=[];y!==ffe&&y!==xB;)C.push(y),y=_();f&&(C=f(C,g++))==null||h.push(C)}return h}function s(d,f){return d.map(function(h){return f.map(function(p){return c(h[p])}).join(e)})}function o(d,f){return f==null&&(f=hfe(d)),[f.map(c).join(e)].concat(s(d,f)).join(`
`)}function a(d,f){return f==null&&(f=hfe(d)),s(d,f).join(`
`)}function l(d){return d.map(u).join(`
`)}function u(d){return d.map(c).join(e)}function c(d){return d==null?"":d instanceof Date?HTt(d):t.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:r,parseRows:i,format:o,formatBody:a,formatRows:l,formatRow:u,formatValue:c}}var qTt=$Ie(","),WTt=qTt.parse;function GTt(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function YTt(e,t){return fetch(e,t).then(GTt)}function KTt(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),YTt(t,n).then(function(i){return e(i,r)})}}var XTt=KTt(WTt);function QTt(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var s,o=n.length,a,l=0,u=0;for(s=0;s<o;++s)a=n[s],l+=a.x,u+=a.y;for(l=(l/o-e)*r,u=(u/o-t)*r,s=0;s<o;++s)a=n[s],a.x-=l,a.y-=u}return i.initialize=function(s){n=s},i.x=function(s){return arguments.length?(e=+s,i):e},i.y=function(s){return arguments.length?(t=+s,i):t},i.strength=function(s){return arguments.length?(r=+s,i):r},i}function JTt(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return MIe(this.cover(t,n),t,n,e)}function MIe(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,s=e._root,o={data:r},a=e._x0,l=e._y0,u=e._x1,c=e._y1,d,f,h,p,m,g,y,v;if(!s)return e._root=o,e;for(;s.length;)if((m=t>=(d=(a+u)/2))?a=d:u=d,(g=n>=(f=(l+c)/2))?l=f:c=f,i=s,!(s=s[y=g<<1|m]))return i[y]=o,e;if(h=+e._x.call(null,s.data),p=+e._y.call(null,s.data),t===h&&n===p)return o.next=s,i?i[y]=o:e._root=o,e;do i=i?i[y]=new Array(4):e._root=new Array(4),(m=t>=(d=(a+u)/2))?a=d:u=d,(g=n>=(f=(l+c)/2))?l=f:c=f;while((y=g<<1|m)===(v=(p>=f)<<1|h>=d));return i[v]=s,i[y]=o,e}function ZTt(e){var t,n,r=e.length,i,s,o=new Array(r),a=new Array(r),l=1/0,u=1/0,c=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(s=+this._y.call(null,t))||(o[n]=i,a[n]=s,i<l&&(l=i),i>c&&(c=i),s<u&&(u=s),s>d&&(d=s));if(l>c||u>d)return this;for(this.cover(l,u).cover(c,d),n=0;n<r;++n)MIe(this,o[n],a[n],e[n]);return this}function ekt(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,s=(r=Math.floor(t))+1;else{for(var o=i-n||1,a=this._root,l,u;n>e||e>=i||r>t||t>=s;)switch(u=(t<r)<<1|e<n,l=new Array(4),l[u]=a,a=l,o*=2,u){case 0:i=n+o,s=r+o;break;case 1:n=i-o,s=r+o;break;case 2:i=n+o,r=s-o;break;case 3:n=i-o,r=s-o;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this}function tkt(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function nkt(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Tl(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function rkt(e,t,n){var r,i=this._x0,s=this._y0,o,a,l,u,c=this._x1,d=this._y1,f=[],h=this._root,p,m;for(h&&f.push(new Tl(h,i,s,c,d)),n==null?n=1/0:(i=e-n,s=t-n,c=e+n,d=t+n,n*=n);p=f.pop();)if(!(!(h=p.node)||(o=p.x0)>c||(a=p.y0)>d||(l=p.x1)<i||(u=p.y1)<s))if(h.length){var g=(o+l)/2,y=(a+u)/2;f.push(new Tl(h[3],g,y,l,u),new Tl(h[2],o,y,g,u),new Tl(h[1],g,a,l,y),new Tl(h[0],o,a,g,y)),(m=(t>=y)<<1|e>=g)&&(p=f[f.length-1],f[f.length-1]=f[f.length-1-m],f[f.length-1-m]=p)}else{var v=e-+this._x.call(null,h.data),w=t-+this._y.call(null,h.data),_=v*v+w*w;if(_<n){var C=Math.sqrt(n=_);i=e-C,s=t-C,c=e+C,d=t+C,r=h.data}}return r}function ikt(e){if(isNaN(c=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e)))return this;var t,n=this._root,r,i,s,o=this._x0,a=this._y0,l=this._x1,u=this._y1,c,d,f,h,p,m,g,y;if(!n)return this;if(n.length)for(;;){if((p=c>=(f=(o+l)/2))?o=f:l=f,(m=d>=(h=(a+u)/2))?a=h:u=h,t=n,!(n=n[g=m<<1|p]))return this;if(!n.length)break;(t[g+1&3]||t[g+2&3]||t[g+3&3])&&(r=t,y=g)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,i?(s?i.next=s:delete i.next,this):t?(s?t[g]=s:delete t[g],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=s,this)}function skt(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function okt(){return this._root}function akt(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function lkt(e){var t=[],n,r=this._root,i,s,o,a,l;for(r&&t.push(new Tl(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,s=n.x0,o=n.y0,a=n.x1,l=n.y1)&&r.length){var u=(s+a)/2,c=(o+l)/2;(i=r[3])&&t.push(new Tl(i,u,c,a,l)),(i=r[2])&&t.push(new Tl(i,s,c,u,l)),(i=r[1])&&t.push(new Tl(i,u,o,a,c)),(i=r[0])&&t.push(new Tl(i,s,o,u,c))}return this}function ukt(e){var t=[],n=[],r;for(this._root&&t.push(new Tl(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var s,o=r.x0,a=r.y0,l=r.x1,u=r.y1,c=(o+l)/2,d=(a+u)/2;(s=i[0])&&t.push(new Tl(s,o,a,c,d)),(s=i[1])&&t.push(new Tl(s,c,a,l,d)),(s=i[2])&&t.push(new Tl(s,o,d,c,u)),(s=i[3])&&t.push(new Tl(s,c,d,l,u))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function ckt(e){return e[0]}function dkt(e){return arguments.length?(this._x=e,this):this._x}function fkt(e){return e[1]}function hkt(e){return arguments.length?(this._y=e,this):this._y}function CJ(e,t,n){var r=new EJ(t??ckt,n??fkt,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function EJ(e,t,n,r,i,s){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function pfe(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Hl=CJ.prototype=EJ.prototype;Hl.copy=function(){var e=new EJ(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=pfe(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=pfe(r));return e};Hl.add=JTt;Hl.addAll=ZTt;Hl.cover=ekt;Hl.data=tkt;Hl.extent=nkt;Hl.find=rkt;Hl.remove=ikt;Hl.removeAll=skt;Hl.root=okt;Hl.size=akt;Hl.visit=lkt;Hl.visitAfter=ukt;Hl.x=dkt;Hl.y=hkt;function Al(e){return function(){return e}}function Lg(e){return(e()-.5)*1e-6}function pkt(e){return e.x+e.vx}function mkt(e){return e.y+e.vy}function gkt(e){var t,n,r,i=1,s=1;typeof e!="function"&&(e=Al(e==null?1:+e));function o(){for(var u,c=t.length,d,f,h,p,m,g,y=0;y<s;++y)for(d=CJ(t,pkt,mkt).visitAfter(a),u=0;u<c;++u)f=t[u],m=n[f.index],g=m*m,h=f.x+f.vx,p=f.y+f.vy,d.visit(v);function v(w,_,C,S,T){var k=w.data,I=w.r,R=m+I;if(k){if(k.index>f.index){var P=h-k.x-k.vx,N=p-k.y-k.vy,$=P*P+N*N;$<R*R&&(P===0&&(P=Lg(r),$+=P*P),N===0&&(N=Lg(r),$+=N*N),$=(R-($=Math.sqrt($)))/$*i,f.vx+=(P*=$)*(R=(I*=I)/(g+I)),f.vy+=(N*=$)*R,k.vx-=P*(R=1-R),k.vy-=N*R)}return}return _>h+R||S<h-R||C>p+R||T<p-R}}function a(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(t){var u,c=t.length,d;for(n=new Array(c),u=0;u<c;++u)d=t[u],n[d.index]=+e(d,u,t)}}return o.initialize=function(u,c){t=u,r=c,l()},o.iterations=function(u){return arguments.length?(s=+u,o):s},o.strength=function(u){return arguments.length?(i=+u,o):i},o.radius=function(u){return arguments.length?(e=typeof u=="function"?u:Al(+u),l(),o):e},o}function ykt(e){return e.index}function mfe(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function vkt(e){var t=ykt,n=d,r,i=Al(30),s,o,a,l,u,c=1;e==null&&(e=[]);function d(g){return 1/Math.min(a[g.source.index],a[g.target.index])}function f(g){for(var y=0,v=e.length;y<c;++y)for(var w=0,_,C,S,T,k,I,R;w<v;++w)_=e[w],C=_.source,S=_.target,T=S.x+S.vx-C.x-C.vx||Lg(u),k=S.y+S.vy-C.y-C.vy||Lg(u),I=Math.sqrt(T*T+k*k),I=(I-s[w])/I*g*r[w],T*=I,k*=I,S.vx-=T*(R=l[w]),S.vy-=k*R,C.vx+=T*(R=1-R),C.vy+=k*R}function h(){if(o){var g,y=o.length,v=e.length,w=new Map(o.map((C,S)=>[t(C,S,o),C])),_;for(g=0,a=new Array(y);g<v;++g)_=e[g],_.index=g,typeof _.source!="object"&&(_.source=mfe(w,_.source)),typeof _.target!="object"&&(_.target=mfe(w,_.target)),a[_.source.index]=(a[_.source.index]||0)+1,a[_.target.index]=(a[_.target.index]||0)+1;for(g=0,l=new Array(v);g<v;++g)_=e[g],l[g]=a[_.source.index]/(a[_.source.index]+a[_.target.index]);r=new Array(v),p(),s=new Array(v),m()}}function p(){if(o)for(var g=0,y=e.length;g<y;++g)r[g]=+n(e[g],g,e)}function m(){if(o)for(var g=0,y=e.length;g<y;++g)s[g]=+i(e[g],g,e)}return f.initialize=function(g,y){o=g,u=y,h()},f.links=function(g){return arguments.length?(e=g,h(),f):e},f.id=function(g){return arguments.length?(t=g,f):t},f.iterations=function(g){return arguments.length?(c=+g,f):c},f.strength=function(g){return arguments.length?(n=typeof g=="function"?g:Al(+g),p(),f):n},f.distance=function(g){return arguments.length?(i=typeof g=="function"?g:Al(+g),m(),f):i},f}const bkt=1664525,wkt=1013904223,gfe=4294967296;function xkt(){let e=1;return()=>(e=(bkt*e+wkt)%gfe)/gfe}function _kt(e){return e.x}function Ckt(e){return e.y}var Ekt=10,Skt=Math.PI*(3-Math.sqrt(5));function Tkt(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),s=0,o=.6,a=new Map,l=yJ(d),u=J$("tick","end"),c=xkt();e==null&&(e=[]);function d(){f(),u.call("tick",t),n<r&&(l.stop(),u.call("end",t))}function f(m){var g,y=e.length,v;m===void 0&&(m=1);for(var w=0;w<m;++w)for(n+=(s-n)*i,a.forEach(function(_){_(n)}),g=0;g<y;++g)v=e[g],v.fx==null?v.x+=v.vx*=o:(v.x=v.fx,v.vx=0),v.fy==null?v.y+=v.vy*=o:(v.y=v.fy,v.vy=0);return t}function h(){for(var m=0,g=e.length,y;m<g;++m){if(y=e[m],y.index=m,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var v=Ekt*Math.sqrt(.5+m),w=m*Skt;y.x=v*Math.cos(w),y.y=v*Math.sin(w)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function p(m){return m.initialize&&m.initialize(e,c),m}return h(),t={tick:f,restart:function(){return l.restart(d),t},stop:function(){return l.stop(),t},nodes:function(m){return arguments.length?(e=m,h(),a.forEach(p),t):e},alpha:function(m){return arguments.length?(n=+m,t):n},alphaMin:function(m){return arguments.length?(r=+m,t):r},alphaDecay:function(m){return arguments.length?(i=+m,t):+i},alphaTarget:function(m){return arguments.length?(s=+m,t):s},velocityDecay:function(m){return arguments.length?(o=1-m,t):1-o},randomSource:function(m){return arguments.length?(c=m,a.forEach(p),t):c},force:function(m,g){return arguments.length>1?(g==null?a.delete(m):a.set(m,p(g)),t):a.get(m)},find:function(m,g,y){var v=0,w=e.length,_,C,S,T,k;for(y==null?y=1/0:y*=y,v=0;v<w;++v)T=e[v],_=m-T.x,C=g-T.y,S=_*_+C*C,S<y&&(k=T,y=S);return k},on:function(m,g){return arguments.length>1?(u.on(m,g),t):u.on(m)}}}function kkt(){var e,t,n,r,i=Al(-30),s,o=1,a=1/0,l=.81;function u(h){var p,m=e.length,g=CJ(e,_kt,Ckt).visitAfter(d);for(r=h,p=0;p<m;++p)t=e[p],g.visit(f)}function c(){if(e){var h,p=e.length,m;for(s=new Array(p),h=0;h<p;++h)m=e[h],s[m.index]=+i(m,h,e)}}function d(h){var p=0,m,g,y=0,v,w,_;if(h.length){for(v=w=_=0;_<4;++_)(m=h[_])&&(g=Math.abs(m.value))&&(p+=m.value,y+=g,v+=g*m.x,w+=g*m.y);h.x=v/y,h.y=w/y}else{m=h,m.x=m.data.x,m.y=m.data.y;do p+=s[m.data.index];while(m=m.next)}h.value=p}function f(h,p,m,g){if(!h.value)return!0;var y=h.x-t.x,v=h.y-t.y,w=g-p,_=y*y+v*v;if(w*w/l<_)return _<a&&(y===0&&(y=Lg(n),_+=y*y),v===0&&(v=Lg(n),_+=v*v),_<o&&(_=Math.sqrt(o*_)),t.vx+=y*h.value*r/_,t.vy+=v*h.value*r/_),!0;if(h.length||_>=a)return;(h.data!==t||h.next)&&(y===0&&(y=Lg(n),_+=y*y),v===0&&(v=Lg(n),_+=v*v),_<o&&(_=Math.sqrt(o*_)));do h.data!==t&&(w=s[h.data.index]*r/_,t.vx+=y*w,t.vy+=v*w);while(h=h.next)}return u.initialize=function(h,p){e=h,n=p,c()},u.strength=function(h){return arguments.length?(i=typeof h=="function"?h:Al(+h),c(),u):i},u.distanceMin=function(h){return arguments.length?(o=h*h,u):Math.sqrt(o)},u.distanceMax=function(h){return arguments.length?(a=h*h,u):Math.sqrt(a)},u.theta=function(h){return arguments.length?(l=h*h,u):Math.sqrt(l)},u}function Akt(e){var t=Al(.1),n,r,i;typeof e!="function"&&(e=Al(e==null?0:+e));function s(a){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vx+=(i[l]-c.x)*r[l]*a}function o(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return s.initialize=function(a){n=a,o()},s.strength=function(a){return arguments.length?(t=typeof a=="function"?a:Al(+a),o(),s):t},s.x=function(a){return arguments.length?(e=typeof a=="function"?a:Al(+a),o(),s):e},s}function Rkt(e){var t=Al(.1),n,r,i;typeof e!="function"&&(e=Al(e==null?0:+e));function s(a){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vy+=(i[l]-c.y)*r[l]*a}function o(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return s.initialize=function(a){n=a,o()},s.strength=function(a){return arguments.length?(t=typeof a=="function"?a:Al(+a),o(),s):t},s.y=function(a){return arguments.length?(e=typeof a=="function"?a:Al(+a),o(),s):e},s}function Ikt(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function S4(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function I_(e){return e=S4(Math.abs(e)),e?e[1]:NaN}function Dkt(e,t){return function(n,r){for(var i=n.length,s=[],o=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function Pkt(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Okt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Z1(e){if(!(t=Okt.exec(e)))throw new Error("invalid format: "+e);var t;return new SJ({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Z1.prototype=SJ.prototype;function SJ(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}SJ.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Nkt(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var FIe;function $kt(e,t){var n=S4(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(FIe=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+S4(e,Math.max(0,t+s-1))[0]}function yfe(e,t){var n=S4(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const vfe={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ikt,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>yfe(e*100,t),r:yfe,s:$kt,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function bfe(e){return e}var wfe=Array.prototype.map,xfe=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function LIe(e){var t=e.grouping===void 0||e.thousands===void 0?bfe:Dkt(wfe.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?bfe:Pkt(wfe.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Z1(d);var f=d.fill,h=d.align,p=d.sign,m=d.symbol,g=d.zero,y=d.width,v=d.comma,w=d.precision,_=d.trim,C=d.type;C==="n"?(v=!0,C="g"):vfe[C]||(w===void 0&&(w=12),_=!0,C="g"),(g||f==="0"&&h==="=")&&(g=!0,f="0",h="=");var S=m==="$"?n:m==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",T=m==="$"?r:/[%p]/.test(C)?o:"",k=vfe[C],I=/[defgprs%]/.test(C);w=w===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function R(P){var N=S,$=T,O,j,B;if(C==="c")$=k(P)+$,P="";else{P=+P;var H=P<0||1/P<0;if(P=isNaN(P)?l:k(Math.abs(P),w),_&&(P=Nkt(P)),H&&+P==0&&p!=="+"&&(H=!1),N=(H?p==="("?p:a:p==="-"||p==="("?"":p)+N,$=(C==="s"?xfe[8+FIe/3]:"")+$+(H&&p==="("?")":""),I){for(O=-1,j=P.length;++O<j;)if(B=P.charCodeAt(O),48>B||B>57){$=(B===46?i+P.slice(O+1):P.slice(O))+$,P=P.slice(0,O);break}}}v&&!g&&(P=t(P,1/0));var q=N.length+P.length+$.length,Y=q<y?new Array(y-q+1).join(f):"";switch(v&&g&&(P=t(Y+P,Y.length?y-$.length:1/0),Y=""),h){case"<":P=N+P+$+Y;break;case"=":P=N+Y+P+$;break;case"^":P=Y.slice(0,q=Y.length>>1)+N+P+$+Y.slice(q);break;default:P=Y+N+P+$;break}return s(P)}return R.toString=function(){return d+""},R}function c(d,f){var h=u((d=Z1(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(I_(f)/3)))*3,m=Math.pow(10,-p),g=xfe[8+p/3];return function(y){return h(m*y)+g}}return{format:u,formatPrefix:c}}var AD,YC,TJ;Mkt({thousands:",",grouping:[3],currency:["$",""]});function Mkt(e){return AD=LIe(e),YC=AD.format,TJ=AD.formatPrefix,AD}function jIe(e){return Math.max(0,-I_(Math.abs(e)))}function BIe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(I_(t)/3)))*3-I_(Math.abs(e)))}function zIe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,I_(t)-I_(e))+1}var kn=1e-6,T4=1e-12,yr=Math.PI,Es=yr/2,k4=yr/4,Ll=yr*2,Ls=180/yr,hr=yr/180,Ar=Math.abs,KC=Math.atan,ld=Math.atan2,Dn=Math.cos,RD=Math.ceil,UIe=Math.exp,aq=Math.hypot,A4=Math.log,EB=Math.pow,xn=Math.sin,Wc=Math.sign||function(e){return e>0?1:e<0?-1:0},jl=Math.sqrt,kJ=Math.tan;function VIe(e){return e>1?0:e<-1?yr:Math.acos(e)}function xu(e){return e>1?Es:e<-1?-Es:Math.asin(e)}function ba(){}function R4(e,t){e&&Cfe.hasOwnProperty(e.type)&&Cfe[e.type](e,t)}var _fe={Feature:function(e,t){R4(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)R4(n[r].geometry,t)}},Cfe={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){lq(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)lq(n[r],t,0)},Polygon:function(e,t){Efe(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Efe(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)R4(n[r],t)}};function lq(e,t,n){var r=-1,i=e.length-n,s;for(t.lineStart();++r<i;)s=e[r],t.point(s[0],s[1],s[2]);t.lineEnd()}function Efe(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)lq(e[n],t,1);t.polygonEnd()}function bm(e,t){e&&_fe.hasOwnProperty(e.type)?_fe[e.type](e,t):R4(e,t)}var I4=new Dl,D4=new Dl,HIe,qIe,uq,cq,dq,hp={point:ba,lineStart:ba,lineEnd:ba,polygonStart:function(){I4=new Dl,hp.lineStart=Fkt,hp.lineEnd=Lkt},polygonEnd:function(){var e=+I4;D4.add(e<0?Ll+e:e),this.lineStart=this.lineEnd=this.point=ba},sphere:function(){D4.add(Ll)}};function Fkt(){hp.point=jkt}function Lkt(){WIe(HIe,qIe)}function jkt(e,t){hp.point=WIe,HIe=e,qIe=t,e*=hr,t*=hr,uq=e,cq=Dn(t=t/2+k4),dq=xn(t)}function WIe(e,t){e*=hr,t*=hr,t=t/2+k4;var n=e-uq,r=n>=0?1:-1,i=r*n,s=Dn(t),o=xn(t),a=dq*o,l=cq*s+a*Dn(i),u=a*r*xn(i);I4.add(ld(u,l)),uq=e,cq=s,dq=o}function Bkt(e){return D4=new Dl,bm(e,hp),D4*2}function P4(e){return[ld(e[1],e[0]),xu(e[2])]}function eb(e){var t=e[0],n=e[1],r=Dn(n);return[r*Dn(t),r*xn(t),xn(n)]}function ID(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function D_(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function SB(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function DD(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function O4(e){var t=jl(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var cs,cu,vs,Ku,e1,GIe,YIe,Kx,rT,xg,o0,mm={point:fq,lineStart:Sfe,lineEnd:Tfe,polygonStart:function(){mm.point=XIe,mm.lineStart=zkt,mm.lineEnd=Ukt,rT=new Dl,hp.polygonStart()},polygonEnd:function(){hp.polygonEnd(),mm.point=fq,mm.lineStart=Sfe,mm.lineEnd=Tfe,I4<0?(cs=-(vs=180),cu=-(Ku=90)):rT>kn?Ku=90:rT<-kn&&(cu=-90),o0[0]=cs,o0[1]=vs},sphere:function(){cs=-(vs=180),cu=-(Ku=90)}};function fq(e,t){xg.push(o0=[cs=e,vs=e]),t<cu&&(cu=t),t>Ku&&(Ku=t)}function KIe(e,t){var n=eb([e*hr,t*hr]);if(Kx){var r=D_(Kx,n),i=[r[1],-r[0],0],s=D_(i,r);O4(s),s=P4(s);var o=e-e1,a=o>0?1:-1,l=s[0]*Ls*a,u,c=Ar(o)>180;c^(a*e1<l&&l<a*e)?(u=s[1]*Ls,u>Ku&&(Ku=u)):(l=(l+360)%360-180,c^(a*e1<l&&l<a*e)?(u=-s[1]*Ls,u<cu&&(cu=u)):(t<cu&&(cu=t),t>Ku&&(Ku=t))),c?e<e1?Wu(cs,e)>Wu(cs,vs)&&(vs=e):Wu(e,vs)>Wu(cs,vs)&&(cs=e):vs>=cs?(e<cs&&(cs=e),e>vs&&(vs=e)):e>e1?Wu(cs,e)>Wu(cs,vs)&&(vs=e):Wu(e,vs)>Wu(cs,vs)&&(cs=e)}else xg.push(o0=[cs=e,vs=e]);t<cu&&(cu=t),t>Ku&&(Ku=t),Kx=n,e1=e}function Sfe(){mm.point=KIe}function Tfe(){o0[0]=cs,o0[1]=vs,mm.point=fq,Kx=null}function XIe(e,t){if(Kx){var n=e-e1;rT.add(Ar(n)>180?n+(n>0?360:-360):n)}else GIe=e,YIe=t;hp.point(e,t),KIe(e,t)}function zkt(){hp.lineStart()}function Ukt(){XIe(GIe,YIe),hp.lineEnd(),Ar(rT)>kn&&(cs=-(vs=180)),o0[0]=cs,o0[1]=vs,Kx=null}function Wu(e,t){return(t-=e)<0?t+360:t}function Vkt(e,t){return e[0]-t[0]}function kfe(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function Hkt(e){var t,n,r,i,s,o,a;if(Ku=vs=-(cs=cu=1/0),xg=[],bm(e,mm),n=xg.length){for(xg.sort(Vkt),t=1,r=xg[0],s=[r];t<n;++t)i=xg[t],kfe(r,i[0])||kfe(r,i[1])?(Wu(r[0],i[1])>Wu(r[0],r[1])&&(r[1]=i[1]),Wu(i[0],r[1])>Wu(r[0],r[1])&&(r[0]=i[0])):s.push(r=i);for(o=-1/0,n=s.length-1,t=0,r=s[n];t<=n;r=i,++t)i=s[t],(a=Wu(r[1],i[0]))>o&&(o=a,cs=i[0],vs=r[1])}return xg=o0=null,cs===1/0||cu===1/0?[[NaN,NaN],[NaN,NaN]]:[[cs,cu],[vs,Ku]]}var hS,N4,$4,M4,F4,L4,j4,B4,hq,pq,mq,QIe,JIe,_l,Cl,El,lf={sphere:ba,point:AJ,lineStart:Afe,lineEnd:Rfe,polygonStart:function(){lf.lineStart=Gkt,lf.lineEnd=Ykt},polygonEnd:function(){lf.lineStart=Afe,lf.lineEnd=Rfe}};function AJ(e,t){e*=hr,t*=hr;var n=Dn(t);HA(n*Dn(e),n*xn(e),xn(t))}function HA(e,t,n){++hS,$4+=(e-$4)/hS,M4+=(t-M4)/hS,F4+=(n-F4)/hS}function Afe(){lf.point=qkt}function qkt(e,t){e*=hr,t*=hr;var n=Dn(t);_l=n*Dn(e),Cl=n*xn(e),El=xn(t),lf.point=Wkt,HA(_l,Cl,El)}function Wkt(e,t){e*=hr,t*=hr;var n=Dn(t),r=n*Dn(e),i=n*xn(e),s=xn(t),o=ld(jl((o=Cl*s-El*i)*o+(o=El*r-_l*s)*o+(o=_l*i-Cl*r)*o),_l*r+Cl*i+El*s);N4+=o,L4+=o*(_l+(_l=r)),j4+=o*(Cl+(Cl=i)),B4+=o*(El+(El=s)),HA(_l,Cl,El)}function Rfe(){lf.point=AJ}function Gkt(){lf.point=Kkt}function Ykt(){ZIe(QIe,JIe),lf.point=AJ}function Kkt(e,t){QIe=e,JIe=t,e*=hr,t*=hr,lf.point=ZIe;var n=Dn(t);_l=n*Dn(e),Cl=n*xn(e),El=xn(t),HA(_l,Cl,El)}function ZIe(e,t){e*=hr,t*=hr;var n=Dn(t),r=n*Dn(e),i=n*xn(e),s=xn(t),o=Cl*s-El*i,a=El*r-_l*s,l=_l*i-Cl*r,u=aq(o,a,l),c=xu(u),d=u&&-c/u;hq.add(d*o),pq.add(d*a),mq.add(d*l),N4+=c,L4+=c*(_l+(_l=r)),j4+=c*(Cl+(Cl=i)),B4+=c*(El+(El=s)),HA(_l,Cl,El)}function Xkt(e){hS=N4=$4=M4=F4=L4=j4=B4=0,hq=new Dl,pq=new Dl,mq=new Dl,bm(e,lf);var t=+hq,n=+pq,r=+mq,i=aq(t,n,r);return i<T4&&(t=L4,n=j4,r=B4,N4<kn&&(t=$4,n=M4,r=F4),i=aq(t,n,r),i<T4)?[NaN,NaN]:[ld(n,t)*Ls,xu(r/i)*Ls]}function gq(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function yq(e,t){return Ar(e)>yr&&(e-=Math.round(e/Ll)*Ll),[e,t]}yq.invert=yq;function eDe(e,t,n){return(e%=Ll)?t||n?gq(Dfe(e),Pfe(t,n)):Dfe(e):t||n?Pfe(t,n):yq}function Ife(e){return function(t,n){return t+=e,Ar(t)>yr&&(t-=Math.round(t/Ll)*Ll),[t,n]}}function Dfe(e){var t=Ife(e);return t.invert=Ife(-e),t}function Pfe(e,t){var n=Dn(e),r=xn(e),i=Dn(t),s=xn(t);function o(a,l){var u=Dn(l),c=Dn(a)*u,d=xn(a)*u,f=xn(l),h=f*n+c*r;return[ld(d*i-h*s,c*n-f*r),xu(h*i+d*s)]}return o.invert=function(a,l){var u=Dn(l),c=Dn(a)*u,d=xn(a)*u,f=xn(l),h=f*i-d*s;return[ld(d*i+f*s,c*n+h*r),xu(h*n-c*r)]},o}function Qkt(e){e=eDe(e[0]*hr,e[1]*hr,e.length>2?e[2]*hr:0);function t(n){return n=e(n[0]*hr,n[1]*hr),n[0]*=Ls,n[1]*=Ls,n}return t.invert=function(n){return n=e.invert(n[0]*hr,n[1]*hr),n[0]*=Ls,n[1]*=Ls,n},t}function Jkt(e,t,n,r,i,s){if(n){var o=Dn(t),a=xn(t),l=r*n;i==null?(i=t+r*Ll,s=t-l/2):(i=Ofe(o,i),s=Ofe(o,s),(r>0?i<s:i>s)&&(i+=r*Ll));for(var u,c=i;r>0?c>s:c<s;c-=l)u=P4([o,-a*Dn(c),-a*xn(c)]),e.point(u[0],u[1])}}function Ofe(e,t){t=eb(t),t[0]-=e,O4(t);var n=VIe(-t[1]);return((-t[2]<0?-n:n)+Ll-kn)%Ll}function tDe(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:ba,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function qP(e,t){return Ar(e[0]-t[0])<kn&&Ar(e[1]-t[1])<kn}function PD(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function nDe(e,t,n,r,i){var s=[],o=[],a,l;if(e.forEach(function(p){if(!((m=p.length-1)<=0)){var m,g=p[0],y=p[m],v;if(qP(g,y)){if(!g[2]&&!y[2]){for(i.lineStart(),a=0;a<m;++a)i.point((g=p[a])[0],g[1]);i.lineEnd();return}y[0]+=2*kn}s.push(v=new PD(g,p,null,!0)),o.push(v.o=new PD(g,null,v,!1)),s.push(v=new PD(y,p,null,!1)),o.push(v.o=new PD(y,null,v,!0))}}),!!s.length){for(o.sort(t),Nfe(s),Nfe(o),a=0,l=o.length;a<l;++a)o[a].e=n=!n;for(var u=s[0],c,d;;){for(var f=u,h=!0;f.v;)if((f=f.n)===u)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(h)for(a=0,l=c.length;a<l;++a)i.point((d=c[a])[0],d[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(h)for(c=f.p.z,a=c.length-1;a>=0;--a)i.point((d=c[a])[0],d[1]);else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,c=f.z,h=!h}while(!f.v);i.lineEnd()}}}function Nfe(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function TB(e){return Ar(e[0])<=yr?e[0]:Wc(e[0])*((Ar(e[0])+yr)%Ll-yr)}function Zkt(e,t){var n=TB(t),r=t[1],i=xn(r),s=[xn(n),-Dn(n),0],o=0,a=0,l=new Dl;i===1?r=Es+kn:i===-1&&(r=-Es-kn);for(var u=0,c=e.length;u<c;++u)if(f=(d=e[u]).length)for(var d,f,h=d[f-1],p=TB(h),m=h[1]/2+k4,g=xn(m),y=Dn(m),v=0;v<f;++v,p=_,g=S,y=T,h=w){var w=d[v],_=TB(w),C=w[1]/2+k4,S=xn(C),T=Dn(C),k=_-p,I=k>=0?1:-1,R=I*k,P=R>yr,N=g*S;if(l.add(ld(N*I*xn(R),y*T+N*Dn(R))),o+=P?k+I*Ll:k,P^p>=n^_>=n){var $=D_(eb(h),eb(w));O4($);var O=D_(s,$);O4(O);var j=(P^k>=0?-1:1)*xu(O[2]);(r>j||r===j&&($[0]||$[1]))&&(a+=P^k>=0?1:-1)}}return(o<-kn||o<kn&&l<-T4)^a&1}function rDe(e,t,n,r){return function(i){var s=t(i),o=tDe(),a=t(o),l=!1,u,c,d,f={point:h,lineStart:m,lineEnd:g,polygonStart:function(){f.point=y,f.lineStart=v,f.lineEnd=w,c=[],u=[]},polygonEnd:function(){f.point=h,f.lineStart=m,f.lineEnd=g,c=FRe(c);var _=Zkt(u,r);c.length?(l||(i.polygonStart(),l=!0),nDe(c,tAt,_,n,i)):_&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(_,C){e(_,C)&&i.point(_,C)}function p(_,C){s.point(_,C)}function m(){f.point=p,s.lineStart()}function g(){f.point=h,s.lineEnd()}function y(_,C){d.push([_,C]),a.point(_,C)}function v(){a.lineStart(),d=[]}function w(){y(d[0][0],d[0][1]),a.lineEnd();var _=a.clean(),C=o.result(),S,T=C.length,k,I,R;if(d.pop(),u.push(d),d=null,!!T){if(_&1){if(I=C[0],(k=I.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),S=0;S<k;++S)i.point((R=I[S])[0],R[1]);i.lineEnd()}return}T>1&&_&2&&C.push(C.pop().concat(C.shift())),c.push(C.filter(eAt))}}return f}}function eAt(e){return e.length>1}function tAt(e,t){return((e=e.x)[0]<0?e[1]-Es-kn:Es-e[1])-((t=t.x)[0]<0?t[1]-Es-kn:Es-t[1])}const $fe=rDe(function(){return!0},nAt,iAt,[-yr,-Es]);function nAt(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(s,o){var a=s>0?yr:-yr,l=Ar(s-t);Ar(l-yr)<kn?(e.point(t,n=(n+o)/2>0?Es:-Es),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(s,n),i=0):r!==a&&l>=yr&&(Ar(t-r)<kn&&(t-=r*kn),Ar(s-a)<kn&&(s-=a*kn),n=rAt(t,n,s,o),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),i=0),e.point(t=s,n=o),r=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function rAt(e,t,n,r){var i,s,o=xn(e-n);return Ar(o)>kn?KC((xn(t)*(s=Dn(r))*xn(n)-xn(r)*(i=Dn(t))*xn(e))/(i*s*o)):(t+r)/2}function iAt(e,t,n,r){var i;if(e==null)i=n*Es,r.point(-yr,i),r.point(0,i),r.point(yr,i),r.point(yr,0),r.point(yr,-i),r.point(0,-i),r.point(-yr,-i),r.point(-yr,0),r.point(-yr,i);else if(Ar(e[0]-t[0])>kn){var s=e[0]<t[0]?yr:-yr;i=n*s/2,r.point(-s,i),r.point(0,i),r.point(s,i)}else r.point(t[0],t[1])}function sAt(e){var t=Dn(e),n=2*hr,r=t>0,i=Ar(t)>kn;function s(c,d,f,h){Jkt(h,e,n,f,c,d)}function o(c,d){return Dn(c)*Dn(d)>t}function a(c){var d,f,h,p,m;return{lineStart:function(){p=h=!1,m=1},point:function(g,y){var v=[g,y],w,_=o(g,y),C=r?_?0:u(g,y):_?u(g+(g<0?yr:-yr),y):0;if(!d&&(p=h=_)&&c.lineStart(),_!==h&&(w=l(d,v),(!w||qP(d,w)||qP(v,w))&&(v[2]=1)),_!==h)m=0,_?(c.lineStart(),w=l(v,d),c.point(w[0],w[1])):(w=l(d,v),c.point(w[0],w[1],2),c.lineEnd()),d=w;else if(i&&d&&r^_){var S;!(C&f)&&(S=l(v,d,!0))&&(m=0,r?(c.lineStart(),c.point(S[0][0],S[0][1]),c.point(S[1][0],S[1][1]),c.lineEnd()):(c.point(S[1][0],S[1][1]),c.lineEnd(),c.lineStart(),c.point(S[0][0],S[0][1],3)))}_&&(!d||!qP(d,v))&&c.point(v[0],v[1]),d=v,h=_,f=C},lineEnd:function(){h&&c.lineEnd(),d=null},clean:function(){return m|(p&&h)<<1}}}function l(c,d,f){var h=eb(c),p=eb(d),m=[1,0,0],g=D_(h,p),y=ID(g,g),v=g[0],w=y-v*v;if(!w)return!f&&c;var _=t*y/w,C=-t*v/w,S=D_(m,g),T=DD(m,_),k=DD(g,C);SB(T,k);var I=S,R=ID(T,I),P=ID(I,I),N=R*R-P*(ID(T,T)-1);if(!(N<0)){var $=jl(N),O=DD(I,(-R-$)/P);if(SB(O,T),O=P4(O),!f)return O;var j=c[0],B=d[0],H=c[1],q=d[1],Y;B<j&&(Y=j,j=B,B=Y);var V=B-j,L=Ar(V-yr)<kn,z=L||V<kn;if(!L&&q<H&&(Y=H,H=q,q=Y),z?L?H+q>0^O[1]<(Ar(O[0]-j)<kn?H:q):H<=O[1]&&O[1]<=q:V>yr^(j<=O[0]&&O[0]<=B)){var U=DD(I,(-R+$)/P);return SB(U,T),[O,P4(U)]}}}function u(c,d){var f=r?e:yr-e,h=0;return c<-f?h|=1:c>f&&(h|=2),d<-f?h|=4:d>f&&(h|=8),h}return rDe(o,a,s,r?[0,-e]:[-yr,e-yr])}function oAt(e,t,n,r,i,s){var o=e[0],a=e[1],l=t[0],u=t[1],c=0,d=1,f=l-o,h=u-a,p;if(p=n-o,!(!f&&p>0)){if(p/=f,f<0){if(p<c)return;p<d&&(d=p)}else if(f>0){if(p>d)return;p>c&&(c=p)}if(p=i-o,!(!f&&p<0)){if(p/=f,f<0){if(p>d)return;p>c&&(c=p)}else if(f>0){if(p<c)return;p<d&&(d=p)}if(p=r-a,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>c&&(c=p)}if(p=s-a,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<d&&(d=p)}return c>0&&(e[0]=o+c*f,e[1]=a+c*h),d<1&&(t[0]=o+d*f,t[1]=a+d*h),!0}}}}}var pS=1e9,OD=-pS;function iDe(e,t,n,r){function i(u,c){return e<=u&&u<=n&&t<=c&&c<=r}function s(u,c,d,f){var h=0,p=0;if(u==null||(h=o(u,d))!==(p=o(c,d))||l(u,c)<0^d>0)do f.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+d+4)%4)!==p);else f.point(c[0],c[1])}function o(u,c){return Ar(u[0]-e)<kn?c>0?0:3:Ar(u[0]-n)<kn?c>0?2:1:Ar(u[1]-t)<kn?c>0?1:0:c>0?3:2}function a(u,c){return l(u.x,c.x)}function l(u,c){var d=o(u,1),f=o(c,1);return d!==f?d-f:d===0?c[1]-u[1]:d===1?u[0]-c[0]:d===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,d=tDe(),f,h,p,m,g,y,v,w,_,C,S,T={point:k,lineStart:N,lineEnd:$,polygonStart:R,polygonEnd:P};function k(j,B){i(j,B)&&c.point(j,B)}function I(){for(var j=0,B=0,H=h.length;B<H;++B)for(var q=h[B],Y=1,V=q.length,L=q[0],z,U,G=L[0],Q=L[1];Y<V;++Y)z=G,U=Q,L=q[Y],G=L[0],Q=L[1],U<=r?Q>r&&(G-z)*(r-U)>(Q-U)*(e-z)&&++j:Q<=r&&(G-z)*(r-U)<(Q-U)*(e-z)&&--j;return j}function R(){c=d,f=[],h=[],S=!0}function P(){var j=I(),B=S&&j,H=(f=FRe(f)).length;(B||H)&&(u.polygonStart(),B&&(u.lineStart(),s(null,null,1,u),u.lineEnd()),H&&nDe(f,a,j,s,u),u.polygonEnd()),c=u,f=h=p=null}function N(){T.point=O,h&&h.push(p=[]),C=!0,_=!1,v=w=NaN}function $(){f&&(O(m,g),y&&_&&d.rejoin(),f.push(d.result())),T.point=k,_&&c.lineEnd()}function O(j,B){var H=i(j,B);if(h&&p.push([j,B]),C)m=j,g=B,y=H,C=!1,H&&(c.lineStart(),c.point(j,B));else if(H&&_)c.point(j,B);else{var q=[v=Math.max(OD,Math.min(pS,v)),w=Math.max(OD,Math.min(pS,w))],Y=[j=Math.max(OD,Math.min(pS,j)),B=Math.max(OD,Math.min(pS,B))];oAt(q,Y,e,t,n,r)?(_||(c.lineStart(),c.point(q[0],q[1])),c.point(Y[0],Y[1]),H||c.lineEnd(),S=!1):H&&(c.lineStart(),c.point(j,B),S=!1)}v=j,w=B,_=H}return T}}function Mfe(e,t,n){var r=pu(e,t-kn,n).concat(t);return function(i){return r.map(function(s){return[i,s]})}}function Ffe(e,t,n){var r=pu(e,t-kn,n).concat(t);return function(i){return r.map(function(s){return[s,i]})}}function aAt(){var e,t,n,r,i,s,o,a,l=10,u=l,c=90,d=360,f,h,p,m,g=2.5;function y(){return{type:"MultiLineString",coordinates:v()}}function v(){return pu(RD(r/c)*c,n,c).map(p).concat(pu(RD(a/d)*d,o,d).map(m)).concat(pu(RD(t/l)*l,e,l).filter(function(w){return Ar(w%c)>kn}).map(f)).concat(pu(RD(s/u)*u,i,u).filter(function(w){return Ar(w%d)>kn}).map(h))}return y.lines=function(){return v().map(function(w){return{type:"LineString",coordinates:w}})},y.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(m(o).slice(1),p(n).reverse().slice(1),m(a).reverse().slice(1))]}},y.extent=function(w){return arguments.length?y.extentMajor(w).extentMinor(w):y.extentMinor()},y.extentMajor=function(w){return arguments.length?(r=+w[0][0],n=+w[1][0],a=+w[0][1],o=+w[1][1],r>n&&(w=r,r=n,n=w),a>o&&(w=a,a=o,o=w),y.precision(g)):[[r,a],[n,o]]},y.extentMinor=function(w){return arguments.length?(t=+w[0][0],e=+w[1][0],s=+w[0][1],i=+w[1][1],t>e&&(w=t,t=e,e=w),s>i&&(w=s,s=i,i=w),y.precision(g)):[[t,s],[e,i]]},y.step=function(w){return arguments.length?y.stepMajor(w).stepMinor(w):y.stepMinor()},y.stepMajor=function(w){return arguments.length?(c=+w[0],d=+w[1],y):[c,d]},y.stepMinor=function(w){return arguments.length?(l=+w[0],u=+w[1],y):[l,u]},y.precision=function(w){return arguments.length?(g=+w,f=Mfe(s,i,90),h=Ffe(t,e,g),p=Mfe(a,o,90),m=Ffe(r,n,g),y):g},y.extentMajor([[-180,-90+kn],[180,90-kn]]).extentMinor([[-180,-80-kn],[180,80+kn]])}const pk=e=>e;var kB=new Dl,vq=new Dl,sDe,oDe,bq,wq,wm={point:ba,lineStart:ba,lineEnd:ba,polygonStart:function(){wm.lineStart=lAt,wm.lineEnd=cAt},polygonEnd:function(){wm.lineStart=wm.lineEnd=wm.point=ba,kB.add(Ar(vq)),vq=new Dl},result:function(){var e=kB/2;return kB=new Dl,e}};function lAt(){wm.point=uAt}function uAt(e,t){wm.point=aDe,sDe=bq=e,oDe=wq=t}function aDe(e,t){vq.add(wq*e-bq*t),bq=e,wq=t}function cAt(){aDe(sDe,oDe)}var P_=1/0,z4=P_,mk=-P_,U4=mk,V4={point:dAt,lineStart:ba,lineEnd:ba,polygonStart:ba,polygonEnd:ba,result:function(){var e=[[P_,z4],[mk,U4]];return mk=U4=-(z4=P_=1/0),e}};function dAt(e,t){e<P_&&(P_=e),e>mk&&(mk=e),t<z4&&(z4=t),t>U4&&(U4=t)}var xq=0,_q=0,mS=0,H4=0,q4=0,kx=0,Cq=0,Eq=0,gS=0,lDe,uDe,Bh,zh,Vc={point:tb,lineStart:Lfe,lineEnd:jfe,polygonStart:function(){Vc.lineStart=pAt,Vc.lineEnd=mAt},polygonEnd:function(){Vc.point=tb,Vc.lineStart=Lfe,Vc.lineEnd=jfe},result:function(){var e=gS?[Cq/gS,Eq/gS]:kx?[H4/kx,q4/kx]:mS?[xq/mS,_q/mS]:[NaN,NaN];return xq=_q=mS=H4=q4=kx=Cq=Eq=gS=0,e}};function tb(e,t){xq+=e,_q+=t,++mS}function Lfe(){Vc.point=fAt}function fAt(e,t){Vc.point=hAt,tb(Bh=e,zh=t)}function hAt(e,t){var n=e-Bh,r=t-zh,i=jl(n*n+r*r);H4+=i*(Bh+e)/2,q4+=i*(zh+t)/2,kx+=i,tb(Bh=e,zh=t)}function jfe(){Vc.point=tb}function pAt(){Vc.point=gAt}function mAt(){cDe(lDe,uDe)}function gAt(e,t){Vc.point=cDe,tb(lDe=Bh=e,uDe=zh=t)}function cDe(e,t){var n=e-Bh,r=t-zh,i=jl(n*n+r*r);H4+=i*(Bh+e)/2,q4+=i*(zh+t)/2,kx+=i,i=zh*e-Bh*t,Cq+=i*(Bh+e),Eq+=i*(zh+t),gS+=i*3,tb(Bh=e,zh=t)}function dDe(e){this._context=e}dDe.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Ll);break}}},result:ba};var Sq=new Dl,AB,fDe,hDe,yS,vS,gk={point:ba,lineStart:function(){gk.point=yAt},lineEnd:function(){AB&&pDe(fDe,hDe),gk.point=ba},polygonStart:function(){AB=!0},polygonEnd:function(){AB=null},result:function(){var e=+Sq;return Sq=new Dl,e}};function yAt(e,t){gk.point=pDe,fDe=yS=e,hDe=vS=t}function pDe(e,t){yS-=e,vS-=t,Sq.add(jl(yS*yS+vS*vS)),yS=e,vS=t}let Bfe,W4,zfe,Ufe;class Vfe{constructor(t){this._append=t==null?mDe:vAt(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==zfe||this._append!==W4){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,zfe=r,W4=this._append,Ufe=this._,this._=i}this._+=Ufe;break}}}result(){const t=this._;return this._="",t.length?t:null}}function mDe(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function vAt(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return mDe;if(t!==Bfe){const n=10**t;Bfe=t,W4=function(i){let s=1;this._+=i[0];for(const o=i.length;s<o;++s)this._+=Math.round(arguments[s]*n)/n+i[s]}}return W4}function gDe(e,t){let n=3,r=4.5,i,s;function o(a){return a&&(typeof r=="function"&&s.pointRadius(+r.apply(this,arguments)),bm(a,i(s))),s.result()}return o.area=function(a){return bm(a,i(wm)),wm.result()},o.measure=function(a){return bm(a,i(gk)),gk.result()},o.bounds=function(a){return bm(a,i(V4)),V4.result()},o.centroid=function(a){return bm(a,i(Vc)),Vc.result()},o.projection=function(a){return arguments.length?(i=a==null?(e=null,pk):(e=a).stream,o):e},o.context=function(a){return arguments.length?(s=a==null?(t=null,new Vfe(n)):new dDe(t=a),typeof r!="function"&&s.pointRadius(r),o):t},o.pointRadius=function(a){return arguments.length?(r=typeof a=="function"?a:(s.pointRadius(+a),+a),o):r},o.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const l=Math.floor(a);if(!(l>=0))throw new RangeError(`invalid digits: ${a}`);n=l}return t===null&&(s=new Vfe(n)),o},o.projection(e).digits(n).context(t)}function aM(e){return function(t){var n=new Tq;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Tq(){}Tq.prototype={constructor:Tq,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function RJ(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),bm(n,e.stream(V4)),t(V4.result()),r!=null&&e.clipExtent(r),e}function lM(e,t,n){return RJ(e,function(r){var i=t[1][0]-t[0][0],s=t[1][1]-t[0][1],o=Math.min(i/(r[1][0]-r[0][0]),s/(r[1][1]-r[0][1])),a=+t[0][0]+(i-o*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(s-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([a,l])},n)}function IJ(e,t,n){return lM(e,[[0,0],t],n)}function DJ(e,t,n){return RJ(e,function(r){var i=+t,s=i/(r[1][0]-r[0][0]),o=(i-s*(r[1][0]+r[0][0]))/2,a=-s*r[0][1];e.scale(150*s).translate([o,a])},n)}function PJ(e,t,n){return RJ(e,function(r){var i=+t,s=i/(r[1][1]-r[0][1]),o=-s*r[0][0],a=(i-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([o,a])},n)}var Hfe=16,bAt=Dn(30*hr);function qfe(e,t){return+t?xAt(e,t):wAt(e)}function wAt(e){return aM({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function xAt(e,t){function n(r,i,s,o,a,l,u,c,d,f,h,p,m,g){var y=u-r,v=c-i,w=y*y+v*v;if(w>4*t&&m--){var _=o+f,C=a+h,S=l+p,T=jl(_*_+C*C+S*S),k=xu(S/=T),I=Ar(Ar(S)-1)<kn||Ar(s-d)<kn?(s+d)/2:ld(C,_),R=e(I,k),P=R[0],N=R[1],$=P-r,O=N-i,j=v*$-y*O;(j*j/w>t||Ar((y*$+v*O)/w-.5)>.3||o*f+a*h+l*p<bAt)&&(n(r,i,s,o,a,l,P,N,I,_/=T,C/=T,S,m,g),g.point(P,N),n(P,N,I,_,C,S,u,c,d,f,h,p,m,g))}}return function(r){var i,s,o,a,l,u,c,d,f,h,p,m,g={point:y,lineStart:v,lineEnd:_,polygonStart:function(){r.polygonStart(),g.lineStart=C},polygonEnd:function(){r.polygonEnd(),g.lineStart=v}};function y(k,I){k=e(k,I),r.point(k[0],k[1])}function v(){d=NaN,g.point=w,r.lineStart()}function w(k,I){var R=eb([k,I]),P=e(k,I);n(d,f,c,h,p,m,d=P[0],f=P[1],c=k,h=R[0],p=R[1],m=R[2],Hfe,r),r.point(d,f)}function _(){g.point=y,r.lineEnd()}function C(){v(),g.point=S,g.lineEnd=T}function S(k,I){w(i=k,I),s=d,o=f,a=h,l=p,u=m,g.point=w}function T(){n(d,f,c,h,p,m,s,o,i,a,l,u,Hfe,r),g.lineEnd=_,_()}return g}}var _At=aM({point:function(e,t){this.stream.point(e*hr,t*hr)}});function CAt(e){return aM({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function EAt(e,t,n,r,i){function s(o,a){return o*=r,a*=i,[t+e*o,n-e*a]}return s.invert=function(o,a){return[(o-t)/e*r,(n-a)/e*i]},s}function Wfe(e,t,n,r,i,s){if(!s)return EAt(e,t,n,r,i);var o=Dn(s),a=xn(s),l=o*e,u=a*e,c=o/e,d=a/e,f=(a*n-o*t)/e,h=(a*t+o*n)/e;function p(m,g){return m*=r,g*=i,[l*m-u*g+t,n-u*m-l*g]}return p.invert=function(m,g){return[r*(c*m-d*g+f),i*(h-d*m-c*g)]},p}function Np(e){return yDe(function(){return e})()}function yDe(e){var t,n=150,r=480,i=250,s=0,o=0,a=0,l=0,u=0,c,d=0,f=1,h=1,p=null,m=$fe,g=null,y,v,w,_=pk,C=.5,S,T,k,I,R;function P(j){return k(j[0]*hr,j[1]*hr)}function N(j){return j=k.invert(j[0],j[1]),j&&[j[0]*Ls,j[1]*Ls]}P.stream=function(j){return I&&R===j?I:I=_At(CAt(c)(m(S(_(R=j)))))},P.preclip=function(j){return arguments.length?(m=j,p=void 0,O()):m},P.postclip=function(j){return arguments.length?(_=j,g=y=v=w=null,O()):_},P.clipAngle=function(j){return arguments.length?(m=+j?sAt(p=j*hr):(p=null,$fe),O()):p*Ls},P.clipExtent=function(j){return arguments.length?(_=j==null?(g=y=v=w=null,pk):iDe(g=+j[0][0],y=+j[0][1],v=+j[1][0],w=+j[1][1]),O()):g==null?null:[[g,y],[v,w]]},P.scale=function(j){return arguments.length?(n=+j,$()):n},P.translate=function(j){return arguments.length?(r=+j[0],i=+j[1],$()):[r,i]},P.center=function(j){return arguments.length?(s=j[0]%360*hr,o=j[1]%360*hr,$()):[s*Ls,o*Ls]},P.rotate=function(j){return arguments.length?(a=j[0]%360*hr,l=j[1]%360*hr,u=j.length>2?j[2]%360*hr:0,$()):[a*Ls,l*Ls,u*Ls]},P.angle=function(j){return arguments.length?(d=j%360*hr,$()):d*Ls},P.reflectX=function(j){return arguments.length?(f=j?-1:1,$()):f<0},P.reflectY=function(j){return arguments.length?(h=j?-1:1,$()):h<0},P.precision=function(j){return arguments.length?(S=qfe(T,C=j*j),O()):jl(C)},P.fitExtent=function(j,B){return lM(P,j,B)},P.fitSize=function(j,B){return IJ(P,j,B)},P.fitWidth=function(j,B){return DJ(P,j,B)},P.fitHeight=function(j,B){return PJ(P,j,B)};function $(){var j=Wfe(n,0,0,f,h,d).apply(null,t(s,o)),B=Wfe(n,r-j[0],i-j[1],f,h,d);return c=eDe(a,l,u),T=gq(t,B),k=gq(c,T),S=qfe(T,C),O()}function O(){return I=R=null,P}return function(){return t=e.apply(this,arguments),P.invert=t.invert&&N,$()}}function OJ(e){var t=0,n=yr/3,r=yDe(e),i=r(t,n);return i.parallels=function(s){return arguments.length?r(t=s[0]*hr,n=s[1]*hr):[t*Ls,n*Ls]},i}function SAt(e){var t=Dn(e);function n(r,i){return[r*t,xn(i)/t]}return n.invert=function(r,i){return[r/t,xu(i*t)]},n}function TAt(e,t){var n=xn(e),r=(n+xn(t))/2;if(Ar(r)<kn)return SAt(e);var i=1+n*(2*r-n),s=jl(i)/r;function o(a,l){var u=jl(i-2*r*xn(l))/r;return[u*xn(a*=r),s-u*Dn(a)]}return o.invert=function(a,l){var u=s-l,c=ld(a,Ar(u))*Wc(u);return u*r<0&&(c-=yr*Wc(a)*Wc(u)),[c/r,xu((i-(a*a+u*u)*r*r)/(2*r))]},o}function G4(){return OJ(TAt).scale(155.424).center([0,33.6442])}function vDe(){return G4().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function kAt(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function AAt(){var e,t,n=vDe(),r,i=G4().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s,o=G4().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,l,u={point:function(f,h){l=[f,h]}};function c(f){var h=f[0],p=f[1];return l=null,r.point(h,p),l||(s.point(h,p),l)||(a.point(h,p),l)}c.invert=function(f){var h=n.scale(),p=n.translate(),m=(f[0]-p[0])/h,g=(f[1]-p[1])/h;return(g>=.12&&g<.234&&m>=-.425&&m<-.214?i:g>=.166&&g<.234&&m>=-.214&&m<-.115?o:n).invert(f)},c.stream=function(f){return e&&t===f?e:e=kAt([n.stream(t=f),i.stream(f),o.stream(f)])},c.precision=function(f){return arguments.length?(n.precision(f),i.precision(f),o.precision(f),d()):n.precision()},c.scale=function(f){return arguments.length?(n.scale(f),i.scale(f*.35),o.scale(f),c.translate(n.translate())):n.scale()},c.translate=function(f){if(!arguments.length)return n.translate();var h=n.scale(),p=+f[0],m=+f[1];return r=n.translate(f).clipExtent([[p-.455*h,m-.238*h],[p+.455*h,m+.238*h]]).stream(u),s=i.translate([p-.307*h,m+.201*h]).clipExtent([[p-.425*h+kn,m+.12*h+kn],[p-.214*h-kn,m+.234*h-kn]]).stream(u),a=o.translate([p-.205*h,m+.212*h]).clipExtent([[p-.214*h+kn,m+.166*h+kn],[p-.115*h-kn,m+.234*h-kn]]).stream(u),d()},c.fitExtent=function(f,h){return lM(c,f,h)},c.fitSize=function(f,h){return IJ(c,f,h)},c.fitWidth=function(f,h){return DJ(c,f,h)},c.fitHeight=function(f,h){return PJ(c,f,h)};function d(){return e=t=null,c}return c.scale(1070)}function bDe(e){return function(t,n){var r=Dn(t),i=Dn(n),s=e(r*i);return s===1/0?[2,0]:[s*i*xn(t),s*xn(n)]}}function qA(e){return function(t,n){var r=jl(t*t+n*n),i=e(r),s=xn(i),o=Dn(i);return[ld(t*s,r*o),xu(r&&n*s/r)]}}var wDe=bDe(function(e){return jl(2/(1+e))});wDe.invert=qA(function(e){return 2*xu(e/2)});function RAt(){return Np(wDe).scale(124.75).clipAngle(180-.001)}var xDe=bDe(function(e){return(e=VIe(e))&&e/xn(e)});xDe.invert=qA(function(e){return e});function IAt(){return Np(xDe).scale(79.4188).clipAngle(180-.001)}function uM(e,t){return[e,A4(kJ((Es+t)/2))]}uM.invert=function(e,t){return[e,2*KC(UIe(t))-Es]};function DAt(){return _De(uM).scale(961/Ll)}function _De(e){var t=Np(e),n=t.center,r=t.scale,i=t.translate,s=t.clipExtent,o=null,a,l,u;t.scale=function(d){return arguments.length?(r(d),c()):r()},t.translate=function(d){return arguments.length?(i(d),c()):i()},t.center=function(d){return arguments.length?(n(d),c()):n()},t.clipExtent=function(d){return arguments.length?(d==null?o=a=l=u=null:(o=+d[0][0],a=+d[0][1],l=+d[1][0],u=+d[1][1]),c()):o==null?null:[[o,a],[l,u]]};function c(){var d=yr*r(),f=t(Qkt(t.rotate()).invert([0,0]));return s(o==null?[[f[0]-d,f[1]-d],[f[0]+d,f[1]+d]]:e===uM?[[Math.max(f[0]-d,o),a],[Math.min(f[0]+d,l),u]]:[[o,Math.max(f[1]-d,a)],[l,Math.min(f[1]+d,u)]])}return c()}function ND(e){return kJ((Es+e)/2)}function PAt(e,t){var n=Dn(e),r=e===t?xn(e):A4(n/Dn(t))/A4(ND(t)/ND(e)),i=n*EB(ND(e),r)/r;if(!r)return uM;function s(o,a){i>0?a<-Es+kn&&(a=-Es+kn):a>Es-kn&&(a=Es-kn);var l=i/EB(ND(a),r);return[l*xn(r*o),i-l*Dn(r*o)]}return s.invert=function(o,a){var l=i-a,u=Wc(r)*jl(o*o+l*l),c=ld(o,Ar(l))*Wc(l);return l*r<0&&(c-=yr*Wc(o)*Wc(l)),[c/r,2*KC(EB(i/u,1/r))-Es]},s}function OAt(){return OJ(PAt).scale(109.5).parallels([30,30])}function Y4(e,t){return[e,t]}Y4.invert=Y4;function NAt(){return Np(Y4).scale(152.63)}function $At(e,t){var n=Dn(e),r=e===t?xn(e):(n-Dn(t))/(t-e),i=n/r+e;if(Ar(r)<kn)return Y4;function s(o,a){var l=i-a,u=r*o;return[l*xn(u),i-l*Dn(u)]}return s.invert=function(o,a){var l=i-a,u=ld(o,Ar(l))*Wc(l);return l*r<0&&(u-=yr*Wc(o)*Wc(l)),[u/r,i-Wc(r)*jl(o*o+l*l)]},s}function MAt(){return OJ($At).scale(131.154).center([0,13.9389])}var iT=1.340264,sT=-.081106,oT=893e-6,aT=.003796,K4=jl(3)/2,FAt=12;function CDe(e,t){var n=xu(K4*xn(t)),r=n*n,i=r*r*r;return[e*Dn(n)/(K4*(iT+3*sT*r+i*(7*oT+9*aT*r))),n*(iT+sT*r+i*(oT+aT*r))]}CDe.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,s=0,o,a,l;s<FAt&&(a=n*(iT+sT*r+i*(oT+aT*r))-t,l=iT+3*sT*r+i*(7*oT+9*aT*r),n-=o=a/l,r=n*n,i=r*r*r,!(Ar(o)<T4));++s);return[K4*e*(iT+3*sT*r+i*(7*oT+9*aT*r))/Dn(n),xu(xn(n)/K4)]};function LAt(){return Np(CDe).scale(177.158)}function EDe(e,t){var n=Dn(t),r=Dn(e)*n;return[n*xn(e)/r,xn(t)/r]}EDe.invert=qA(KC);function jAt(){return Np(EDe).scale(144.049).clipAngle(60)}function BAt(){var e=1,t=0,n=0,r=1,i=1,s=0,o,a,l=null,u,c,d,f=1,h=1,p=aM({point:function(_,C){var S=w([_,C]);this.stream.point(S[0],S[1])}}),m=pk,g,y;function v(){return f=e*r,h=e*i,g=y=null,w}function w(_){var C=_[0]*f,S=_[1]*h;if(s){var T=S*o-C*a;C=C*o+S*a,S=T}return[C+t,S+n]}return w.invert=function(_){var C=_[0]-t,S=_[1]-n;if(s){var T=S*o+C*a;C=C*o-S*a,S=T}return[C/f,S/h]},w.stream=function(_){return g&&y===_?g:g=p(m(y=_))},w.postclip=function(_){return arguments.length?(m=_,l=u=c=d=null,v()):m},w.clipExtent=function(_){return arguments.length?(m=_==null?(l=u=c=d=null,pk):iDe(l=+_[0][0],u=+_[0][1],c=+_[1][0],d=+_[1][1]),v()):l==null?null:[[l,u],[c,d]]},w.scale=function(_){return arguments.length?(e=+_,v()):e},w.translate=function(_){return arguments.length?(t=+_[0],n=+_[1],v()):[t,n]},w.angle=function(_){return arguments.length?(s=_%360*hr,a=xn(s),o=Dn(s),v()):s*Ls},w.reflectX=function(_){return arguments.length?(r=_?-1:1,v()):r<0},w.reflectY=function(_){return arguments.length?(i=_?-1:1,v()):i<0},w.fitExtent=function(_,C){return lM(w,_,C)},w.fitSize=function(_,C){return IJ(w,_,C)},w.fitWidth=function(_,C){return DJ(w,_,C)},w.fitHeight=function(_,C){return PJ(w,_,C)},w}function SDe(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}SDe.invert=function(e,t){var n=t,r=25,i;do{var s=n*n,o=s*s;n-=i=(n*(1.007226+s*(.015085+o*(-.044475+.028874*s-.005916*o)))-t)/(1.007226+s*(.015085*3+o*(-.044475*7+.028874*9*s-.005916*11*o)))}while(Ar(i)>kn&&--r>0);return[e/(.8707+(s=n*n)*(-.131979+s*(-.013791+s*s*s*(.003971-.001529*s)))),n]};function zAt(){return Np(SDe).scale(175.295)}function TDe(e,t){return[Dn(t)*xn(e),xn(t)]}TDe.invert=qA(xu);function UAt(){return Np(TDe).scale(249.5).clipAngle(90+kn)}function kDe(e,t){var n=Dn(t),r=1+Dn(e)*n;return[n*xn(e)/r,xn(t)/r]}kDe.invert=qA(function(e){return 2*KC(e)});function VAt(){return Np(kDe).scale(250).clipAngle(142)}function ADe(e,t){return[A4(kJ((Es+t)/2)),-e]}ADe.invert=function(e,t){return[-t,2*KC(UIe(e))-Es]};function HAt(){var e=_De(ADe),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function qAt(e,t){return e.parent===t.parent?1:2}function WAt(e){return e.reduce(GAt,0)/e.length}function GAt(e,t){return e+t.x}function YAt(e){return 1+e.reduce(KAt,0)}function KAt(e,t){return Math.max(e,t.y)}function XAt(e){for(var t;t=e.children;)e=t[0];return e}function QAt(e){for(var t;t=e.children;)e=t[t.length-1];return e}function JAt(){var e=qAt,t=1,n=1,r=!1;function i(s){var o,a=0;s.eachAfter(function(f){var h=f.children;h?(f.x=WAt(h),f.y=YAt(h)):(f.x=o?a+=e(f,o):0,f.y=0,o=f)});var l=XAt(s),u=QAt(s),c=l.x-e(l,u)/2,d=u.x+e(u,l)/2;return s.eachAfter(r?function(f){f.x=(f.x-s.x)*t,f.y=(s.y-f.y)*n}:function(f){f.x=(f.x-c)/(d-c)*t,f.y=(1-(s.y?f.y/s.y:1))*n})}return i.separation=function(s){return arguments.length?(e=s,i):e},i.size=function(s){return arguments.length?(r=!1,t=+s[0],n=+s[1],i):r?null:[t,n]},i.nodeSize=function(s){return arguments.length?(r=!0,t=+s[0],n=+s[1],i):r?[t,n]:null},i}function ZAt(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function eRt(){return this.eachAfter(ZAt)}function tRt(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function nRt(e,t){for(var n=this,r=[n],i,s,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function rRt(e,t){for(var n=this,r=[n],i=[],s,o,a,l=-1;n=r.pop();)if(i.push(n),s=n.children)for(o=0,a=s.length;o<a;++o)r.push(s[o]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function iRt(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function sRt(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function oRt(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function aRt(e){for(var t=this,n=lRt(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function lRt(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function uRt(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function cRt(){return Array.from(this)}function dRt(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function fRt(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*hRt(){var e=this,t,n=[e],r,i,s;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function NJ(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=gRt)):t===void 0&&(t=mRt);for(var n=new O_(e),r,i=[n],s,o,a,l;r=i.pop();)if((o=t(r.data))&&(l=(o=Array.from(o)).length))for(r.children=o,a=l-1;a>=0;--a)i.push(s=o[a]=new O_(o[a])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(RDe)}function pRt(){return NJ(this).eachBefore(yRt)}function mRt(e){return e.children}function gRt(e){return Array.isArray(e)?e[1]:null}function yRt(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function RDe(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function O_(e){this.data=e,this.depth=this.height=0,this.parent=null}O_.prototype=NJ.prototype={constructor:O_,count:eRt,each:tRt,eachAfter:rRt,eachBefore:nRt,find:iRt,sum:sRt,sort:oRt,path:aRt,ancestors:uRt,descendants:cRt,leaves:dRt,links:fRt,copy:pRt,[Symbol.iterator]:hRt};function WP(e){return e==null?null:IDe(e)}function IDe(e){if(typeof e!="function")throw new Error;return e}function s1(){return 0}function vx(e){return function(){return e}}const vRt=1664525,bRt=1013904223,Gfe=4294967296;function wRt(){let e=1;return()=>(e=(vRt*e+bRt)%Gfe)/Gfe}function xRt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function _Rt(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function CRt(e,t){for(var n=0,r=(e=_Rt(Array.from(e),t)).length,i=[],s,o;n<r;)s=e[n],o&&DDe(o,s)?++n:(o=SRt(i=ERt(i,s)),n=0);return o}function ERt(e,t){var n,r;if(RB(t,e))return[t];for(n=0;n<e.length;++n)if($D(t,e[n])&&RB(bS(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if($D(bS(e[n],e[r]),t)&&$D(bS(e[n],t),e[r])&&$D(bS(e[r],t),e[n])&&RB(PDe(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function $D(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function DDe(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function RB(e,t){for(var n=0;n<t.length;++n)if(!DDe(e,t[n]))return!1;return!0}function SRt(e){switch(e.length){case 1:return TRt(e[0]);case 2:return bS(e[0],e[1]);case 3:return PDe(e[0],e[1],e[2])}}function TRt(e){return{x:e.x,y:e.y,r:e.r}}function bS(e,t){var n=e.x,r=e.y,i=e.r,s=t.x,o=t.y,a=t.r,l=s-n,u=o-r,c=a-i,d=Math.sqrt(l*l+u*u);return{x:(n+s+l/d*c)/2,y:(r+o+u/d*c)/2,r:(d+i+a)/2}}function PDe(e,t,n){var r=e.x,i=e.y,s=e.r,o=t.x,a=t.y,l=t.r,u=n.x,c=n.y,d=n.r,f=r-o,h=r-u,p=i-a,m=i-c,g=l-s,y=d-s,v=r*r+i*i-s*s,w=v-o*o-a*a+l*l,_=v-u*u-c*c+d*d,C=h*p-f*m,S=(p*_-m*w)/(C*2)-r,T=(m*g-p*y)/C,k=(h*w-f*_)/(C*2)-i,I=(f*y-h*g)/C,R=T*T+I*I-1,P=2*(s+S*T+k*I),N=S*S+k*k-s*s,$=-(Math.abs(R)>1e-6?(P+Math.sqrt(P*P-4*R*N))/(2*R):N/P);return{x:r+S+T*$,y:i+k+I*$,r:$}}function Yfe(e,t,n){var r=e.x-t.x,i,s,o=e.y-t.y,a,l,u=r*r+o*o;u?(s=t.r+n.r,s*=s,l=e.r+n.r,l*=l,s>l?(i=(u+l-s)/(2*u),a=Math.sqrt(Math.max(0,l/u-i*i)),n.x=e.x-i*r-a*o,n.y=e.y-i*o+a*r):(i=(u+s-l)/(2*u),a=Math.sqrt(Math.max(0,s/u-i*i)),n.x=t.x+i*r-a*o,n.y=t.y+i*o+a*r)):(n.x=t.x+n.r,n.y=t.y)}function Kfe(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function Xfe(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,s=(t.y*n.r+n.y*t.r)/r;return i*i+s*s}function MD(e){this._=e,this.next=null,this.previous=null}function kRt(e,t){if(!(s=(e=xRt(e)).length))return 0;var n,r,i,s,o,a,l,u,c,d,f;if(n=e[0],n.x=0,n.y=0,!(s>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(s>2))return n.r+r.r;Yfe(r,n,i=e[2]),n=new MD(n),r=new MD(r),i=new MD(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<s;++l){Yfe(n._,r._,i=e[l]),i=new MD(i),u=r.next,c=n.previous,d=r._.r,f=n._.r;do if(d<=f){if(Kfe(u._,i._)){r=u,n.next=r,r.previous=n,--l;continue e}d+=u._.r,u=u.next}else{if(Kfe(c._,i._)){n=c,n.next=r,r.previous=n,--l;continue e}f+=c._.r,c=c.previous}while(u!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=Xfe(n);(i=i.next)!==r;)(a=Xfe(i))<o&&(n=i,o=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=CRt(n,t),l=0;l<s;++l)n=e[l],n.x-=i.x,n.y-=i.y;return i.r}function ARt(e){return Math.sqrt(e.value)}function RRt(){var e=null,t=1,n=1,r=s1;function i(s){const o=wRt();return s.x=t/2,s.y=n/2,e?s.eachBefore(Qfe(e)).eachAfter(IB(r,.5,o)).eachBefore(Jfe(1)):s.eachBefore(Qfe(ARt)).eachAfter(IB(s1,1,o)).eachAfter(IB(r,s.r/Math.min(t,n),o)).eachBefore(Jfe(Math.min(t,n)/(2*s.r))),s}return i.radius=function(s){return arguments.length?(e=WP(s),i):e},i.size=function(s){return arguments.length?(t=+s[0],n=+s[1],i):[t,n]},i.padding=function(s){return arguments.length?(r=typeof s=="function"?s:vx(+s),i):r},i}function Qfe(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function IB(e,t,n){return function(r){if(i=r.children){var i,s,o=i.length,a=e(r)*t||0,l;if(a)for(s=0;s<o;++s)i[s].r+=a;if(l=kRt(i,n),a)for(s=0;s<o;++s)i[s].r-=a;r.r=l+a}}}function Jfe(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function ODe(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function WA(e,t,n,r,i){for(var s=e.children,o,a=-1,l=s.length,u=e.value&&(r-t)/e.value;++a<l;)o=s[a],o.y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*u}function IRt(){var e=1,t=1,n=0,r=!1;function i(o){var a=o.height+1;return o.x0=o.y0=n,o.x1=e,o.y1=t/a,o.eachBefore(s(t,a)),r&&o.eachBefore(ODe),o}function s(o,a){return function(l){l.children&&WA(l,l.x0,o*(l.depth+1)/a,l.x1,o*(l.depth+2)/a);var u=l.x0,c=l.y0,d=l.x1-n,f=l.y1-n;d<u&&(u=d=(u+d)/2),f<c&&(c=f=(c+f)/2),l.x0=u,l.y0=c,l.x1=d,l.y1=f}}return i.round=function(o){return arguments.length?(r=!!o,i):r},i.size=function(o){return arguments.length?(e=+o[0],t=+o[1],i):[e,t]},i.padding=function(o){return arguments.length?(n=+o,i):n},i}var DRt={depth:-1},Zfe={},DB={};function PRt(e){return e.id}function ORt(e){return e.parentId}function ehe(){var e=PRt,t=ORt,n;function r(i){var s=Array.from(i),o=e,a=t,l,u,c,d,f,h,p,m,g=new Map;if(n!=null){const y=s.map((_,C)=>NRt(n(_,C,i))),v=y.map(the),w=new Set(y).add("");for(const _ of v)w.has(_)||(w.add(_),y.push(_),v.push(the(_)),s.push(DB));o=(_,C)=>y[C],a=(_,C)=>v[C]}for(c=0,l=s.length;c<l;++c)u=s[c],h=s[c]=new O_(u),(p=o(u,c,i))!=null&&(p+="")&&(m=h.id=p,g.set(m,g.has(m)?Zfe:h)),(p=a(u,c,i))!=null&&(p+="")&&(h.parent=p);for(c=0;c<l;++c)if(h=s[c],p=h.parent){if(f=g.get(p),!f)throw new Error("missing: "+p);if(f===Zfe)throw new Error("ambiguous: "+p);f.children?f.children.push(h):f.children=[h],h.parent=f}else{if(d)throw new Error("multiple roots");d=h}if(!d)throw new Error("no root");if(n!=null){for(;d.data===DB&&d.children.length===1;)d=d.children[0],--l;for(let y=s.length-1;y>=0&&(h=s[y],h.data===DB);--y)h.data=null}if(d.parent=DRt,d.eachBefore(function(y){y.depth=y.parent.depth+1,--l}).eachBefore(RDe),d.parent=null,l>0)throw new Error("cycle");return d}return r.id=function(i){return arguments.length?(e=WP(i),r):e},r.parentId=function(i){return arguments.length?(t=WP(i),r):t},r.path=function(i){return arguments.length?(n=WP(i),r):n},r}function NRt(e){e=`${e}`;let t=e.length;return kq(e,t-1)&&!kq(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function the(e){let t=e.length;if(t<2)return"";for(;--t>1&&!kq(e,t););return e.slice(0,t)}function kq(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if((n&1)===0)return!0}return!1}function $Rt(e,t){return e.parent===t.parent?1:2}function PB(e){var t=e.children;return t?t[0]:e.t}function OB(e){var t=e.children;return t?t[t.length-1]:e.t}function MRt(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function FRt(e){for(var t=0,n=0,r=e.children,i=r.length,s;--i>=0;)s=r[i],s.z+=t,s.m+=t,t+=s.s+(n+=s.c)}function LRt(e,t,n){return e.a.parent===t.parent?e.a:n}function GP(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}GP.prototype=Object.create(O_.prototype);function jRt(e){for(var t=new GP(e,0),n,r=[t],i,s,o,a;n=r.pop();)if(s=n._.children)for(n.children=new Array(a=s.length),o=a-1;o>=0;--o)r.push(i=n.children[o]=new GP(s[o],o)),i.parent=n;return(t.parent=new GP(null,0)).children=[t],t}function BRt(){var e=$Rt,t=1,n=1,r=null;function i(u){var c=jRt(u);if(c.eachAfter(s),c.parent.m=-c.z,c.eachBefore(o),r)u.eachBefore(l);else{var d=u,f=u,h=u;u.eachBefore(function(v){v.x<d.x&&(d=v),v.x>f.x&&(f=v),v.depth>h.depth&&(h=v)});var p=d===f?1:e(d,f)/2,m=p-d.x,g=t/(f.x+p+m),y=n/(h.depth||1);u.eachBefore(function(v){v.x=(v.x+m)*g,v.y=v.depth*y})}return u}function s(u){var c=u.children,d=u.parent.children,f=u.i?d[u.i-1]:null;if(c){FRt(u);var h=(c[0].z+c[c.length-1].z)/2;f?(u.z=f.z+e(u._,f._),u.m=u.z-h):u.z=h}else f&&(u.z=f.z+e(u._,f._));u.parent.A=a(u,f,u.parent.A||d[0])}function o(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function a(u,c,d){if(c){for(var f=u,h=u,p=c,m=f.parent.children[0],g=f.m,y=h.m,v=p.m,w=m.m,_;p=OB(p),f=PB(f),p&&f;)m=PB(m),h=OB(h),h.a=u,_=p.z+v-f.z-g+e(p._,f._),_>0&&(MRt(LRt(p,u,d),u,_),g+=_,y+=_),v+=p.m,g+=f.m,w+=m.m,y+=h.m;p&&!OB(h)&&(h.t=p,h.m+=v-y),f&&!PB(m)&&(m.t=f,m.m+=g-w,d=u)}return d}function l(u){u.x*=t,u.y=u.depth*n}return i.separation=function(u){return arguments.length?(e=u,i):e},i.size=function(u){return arguments.length?(r=!1,t=+u[0],n=+u[1],i):r?null:[t,n]},i.nodeSize=function(u){return arguments.length?(r=!0,t=+u[0],n=+u[1],i):r?[t,n]:null},i}function cM(e,t,n,r,i){for(var s=e.children,o,a=-1,l=s.length,u=e.value&&(i-n)/e.value;++a<l;)o=s[a],o.x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*u}var NDe=(1+Math.sqrt(5))/2;function $De(e,t,n,r,i,s){for(var o=[],a=t.children,l,u,c=0,d=0,f=a.length,h,p,m=t.value,g,y,v,w,_,C,S;c<f;){h=i-n,p=s-r;do g=a[d++].value;while(!g&&d<f);for(y=v=g,C=Math.max(p/h,h/p)/(m*e),S=g*g*C,_=Math.max(v/S,S/y);d<f;++d){if(g+=u=a[d].value,u<y&&(y=u),u>v&&(v=u),S=g*g*C,w=Math.max(v/S,S/y),w>_){g-=u;break}_=w}o.push(l={value:g,dice:h<p,children:a.slice(c,d)}),l.dice?WA(l,n,r,i,m?r+=p*g/m:s):cM(l,n,r,m?n+=h*g/m:i,s),m-=g,c=d}return o}const MDe=(function e(t){function n(r,i,s,o,a){$De(t,r,i,s,o,a)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n})(NDe);function zRt(){var e=MDe,t=!1,n=1,r=1,i=[0],s=s1,o=s1,a=s1,l=s1,u=s1;function c(f){return f.x0=f.y0=0,f.x1=n,f.y1=r,f.eachBefore(d),i=[0],t&&f.eachBefore(ODe),f}function d(f){var h=i[f.depth],p=f.x0+h,m=f.y0+h,g=f.x1-h,y=f.y1-h;g<p&&(p=g=(p+g)/2),y<m&&(m=y=(m+y)/2),f.x0=p,f.y0=m,f.x1=g,f.y1=y,f.children&&(h=i[f.depth+1]=s(f)/2,p+=u(f)-h,m+=o(f)-h,g-=a(f)-h,y-=l(f)-h,g<p&&(p=g=(p+g)/2),y<m&&(m=y=(m+y)/2),e(f,p,m,g,y))}return c.round=function(f){return arguments.length?(t=!!f,c):t},c.size=function(f){return arguments.length?(n=+f[0],r=+f[1],c):[n,r]},c.tile=function(f){return arguments.length?(e=IDe(f),c):e},c.padding=function(f){return arguments.length?c.paddingInner(f).paddingOuter(f):c.paddingInner()},c.paddingInner=function(f){return arguments.length?(s=typeof f=="function"?f:vx(+f),c):s},c.paddingOuter=function(f){return arguments.length?c.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):c.paddingTop()},c.paddingTop=function(f){return arguments.length?(o=typeof f=="function"?f:vx(+f),c):o},c.paddingRight=function(f){return arguments.length?(a=typeof f=="function"?f:vx(+f),c):a},c.paddingBottom=function(f){return arguments.length?(l=typeof f=="function"?f:vx(+f),c):l},c.paddingLeft=function(f){return arguments.length?(u=typeof f=="function"?f:vx(+f),c):u},c}function URt(e,t,n,r,i){var s=e.children,o,a=s.length,l,u=new Array(a+1);for(u[0]=l=o=0;o<a;++o)u[o+1]=l+=s[o].value;c(0,a,e.value,t,n,r,i);function c(d,f,h,p,m,g,y){if(d>=f-1){var v=s[d];v.x0=p,v.y0=m,v.x1=g,v.y1=y;return}for(var w=u[d],_=h/2+w,C=d+1,S=f-1;C<S;){var T=C+S>>>1;u[T]<_?C=T+1:S=T}_-u[C-1]<u[C]-_&&d+1<C&&--C;var k=u[C]-w,I=h-k;if(g-p>y-m){var R=h?(p*I+g*k)/h:g;c(d,C,k,p,m,R,y),c(C,f,I,R,m,g,y)}else{var P=h?(m*I+y*k)/h:y;c(d,C,k,p,m,g,P),c(C,f,I,p,P,g,y)}}}function VRt(e,t,n,r,i){(e.depth&1?cM:WA)(e,t,n,r,i)}const HRt=(function e(t){function n(r,i,s,o,a){if((l=r._squarify)&&l.ratio===t)for(var l,u,c,d,f=-1,h,p=l.length,m=r.value;++f<p;){for(u=l[f],c=u.children,d=u.value=0,h=c.length;d<h;++d)u.value+=c[d].value;u.dice?WA(u,i,s,o,m?s+=(a-s)*u.value/m:a):cM(u,i,s,m?i+=(o-i)*u.value/m:o,a),m-=u.value}else r._squarify=l=$De(t,r,i,s,o,a),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n})(NDe);function Gf(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Jy(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Aq=Symbol("implicit");function XC(){var e=new Nde,t=[],n=[],r=Aq;function i(s){let o=e.get(s);if(o===void 0){if(r!==Aq)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Nde;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return XC(t,n).unknown(r)},Gf.apply(i,arguments),i}function FDe(){var e=XC().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,o,a=!1,l=0,u=0,c=.5;delete e.unknown;function d(){var f=t().length,h=i<r,p=h?i:r,m=h?r:i;s=(m-p)/Math.max(1,f-l+u*2),a&&(s=Math.floor(s)),p+=(m-p-s*(f-l))*c,o=s*(1-l),a&&(p=Math.round(p),o=Math.round(o));var g=pu(f).map(function(y){return p+s*y});return n(h?g.reverse():g)}return e.domain=function(f){return arguments.length?(t(f),d()):t()},e.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,a=!0,d()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(f){return arguments.length?(a=!!f,d()):a},e.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),d()):l},e.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},e.paddingOuter=function(f){return arguments.length?(u=+f,d()):u},e.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),d()):c},e.copy=function(){return FDe(t(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},Gf.apply(d(),arguments)}function qRt(e){return function(){return e}}function Rq(e){return+e}var nhe=[0,1];function mu(e){return e}function Iq(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:qRt(isNaN(t)?NaN:.5)}function WRt(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function GRt(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=Iq(i,r),s=n(o,s)):(r=Iq(r,i),s=n(s,o)),function(a){return s(r(a))}}function YRt(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Iq(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var l=wy(e,a,1,r)-1;return s[l](i[l](a))}}function GA(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function dM(){var e=nhe,t=nhe,n=I0,r,i,s,o=mu,a,l,u;function c(){var f=Math.min(e.length,t.length);return o!==mu&&(o=WRt(e[0],e[f-1])),a=f>2?YRt:GRt,l=u=null,d}function d(f){return f==null||isNaN(f=+f)?s:(l||(l=a(e.map(r),t,n)))(r(o(f)))}return d.invert=function(f){return o(i((u||(u=a(t,e.map(r),Bc)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,Rq),c()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),c()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),n=UA,c()},d.clamp=function(f){return arguments.length?(o=f?!0:mu,c()):o!==mu},d.interpolate=function(f){return arguments.length?(n=f,c()):n},d.unknown=function(f){return arguments.length?(s=f,d):s},function(f,h){return r=f,i=h,c()}}function LDe(){return dM()(mu,mu)}function jDe(e,t,n,r){var i=xy(e,t,n),s;switch(r=Z1(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=BIe(i,o))&&(r.precision=s),TJ(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=zIe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=jIe(i))&&(r.precision=s-(r.type==="%")*2);break}}return YC(r)}function Fb(e){var t=e.domain;return e.ticks=function(n){var r=t();return UH(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return jDe(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],a=r[s],l,u,c=10;for(a<o&&(u=o,o=a,a=u,u=i,i=s,s=u);c-- >0;){if(u=VH(o,a,n),u===l)return r[i]=o,r[s]=a,t(r);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;l=u}return e},e}function _u(){var e=LDe();return e.copy=function(){return GA(e,_u())},Gf.apply(e,arguments),Fb(e)}function BDe(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Rq),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return BDe(e).unknown(t)},e=arguments.length?Array.from(e,Rq):[0,1],Fb(n)}function zDe(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}function rhe(e){return Math.log(e)}function ihe(e){return Math.exp(e)}function KRt(e){return-Math.log(-e)}function XRt(e){return-Math.exp(-e)}function QRt(e){return isFinite(e)?+("1e"+e):e<0?0:e}function JRt(e){return e===10?QRt:e===Math.E?Math.exp:t=>Math.pow(e,t)}function ZRt(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function she(e){return(t,n)=>-e(-t,n)}function $J(e){const t=e(rhe,ihe),n=t.domain;let r=10,i,s;function o(){return i=ZRt(r),s=JRt(r),n()[0]<0?(i=she(i),s=she(s),e(KRt,XRt)):e(rhe,ihe),t}return t.base=function(a){return arguments.length?(r=+a,o()):r},t.domain=function(a){return arguments.length?(n(a),o()):n()},t.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let f=i(u),h=i(c),p,m;const g=a==null?10:+a;let y=[];if(!(r%1)&&h-f<g){if(f=Math.floor(f),h=Math.ceil(h),u>0){for(;f<=h;++f)for(p=1;p<r;++p)if(m=f<0?p/s(-f):p*s(f),!(m<u)){if(m>c)break;y.push(m)}}else for(;f<=h;++f)for(p=r-1;p>=1;--p)if(m=f>0?p/s(-f):p*s(f),!(m<u)){if(m>c)break;y.push(m)}y.length*2<g&&(y=UH(u,c,g))}else y=UH(f,h,Math.min(h-f,g)).map(s);return d?y.reverse():y},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Z1(l)).precision==null&&(l.trim=!0),l=YC(l)),a===1/0)return l;const u=Math.max(1,r*a/t.ticks().length);return c=>{let d=c/s(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},t.nice=()=>n(zDe(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),t}function UDe(){const e=$J(dM()).domain([1,10]);return e.copy=()=>GA(e,UDe()).base(e.base()),Gf.apply(e,arguments),e}function ohe(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ahe(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function MJ(e){var t=1,n=e(ohe(t),ahe(t));return n.constant=function(r){return arguments.length?e(ohe(t=+r),ahe(t)):t},Fb(n)}function VDe(){var e=MJ(dM());return e.copy=function(){return GA(e,VDe()).constant(e.constant())},Gf.apply(e,arguments)}function lhe(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function eIt(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function tIt(e){return e<0?-e*e:e*e}function FJ(e){var t=e(mu,mu),n=1;function r(){return n===1?e(mu,mu):n===.5?e(eIt,tIt):e(lhe(n),lhe(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Fb(t)}function LJ(){var e=FJ(dM());return e.copy=function(){return GA(e,LJ()).exponent(e.exponent())},Gf.apply(e,arguments),e}function nIt(){return LJ.apply(null,arguments).exponent(.5)}function HDe(){var e=[],t=[],n=[],r;function i(){var o=0,a=Math.max(1,t.length);for(n=new Array(a-1);++o<a;)n[o-1]=$Re(e,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:t[wy(n,o)]}return s.invertExtent=function(o){var a=t.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let a of o)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Fm),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return HDe().domain(e).range(t).unknown(r)},Gf.apply(s,arguments)}function qDe(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function o(l){return l!=null&&l<=l?i[wy(r,l,0,n)]:s}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return qDe().domain([e,t]).range(i).unknown(s)},Gf.apply(Fb(o),arguments)}function WDe(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[wy(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return WDe().domain(e).range(t).unknown(n)},Gf.apply(i,arguments)}const NB=new Date,$B=new Date;function Ao(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let u;do l.push(u=new Date(+s)),t(s,a),e(s);while(u<s&&s<o);return l},i.filter=s=>Ao(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),n&&(i.count=(s,o)=>(NB.setTime(+s),$B.setTime(+o),e(NB),e($B),Math.floor(n(NB,$B))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const N_=Ao(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);N_.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ao(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):N_);N_.range;const Sm=1e3,Gc=Sm*60,Tm=Gc*60,a0=Tm*24,jJ=a0*7,uhe=a0*30,MB=a0*365,km=Ao(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Sm)},(e,t)=>(t-e)/Sm,e=>e.getUTCSeconds());km.range;const fM=Ao(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Sm)},(e,t)=>{e.setTime(+e+t*Gc)},(e,t)=>(t-e)/Gc,e=>e.getMinutes());fM.range;const hM=Ao(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Gc)},(e,t)=>(t-e)/Gc,e=>e.getUTCMinutes());hM.range;const pM=Ao(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Sm-e.getMinutes()*Gc)},(e,t)=>{e.setTime(+e+t*Tm)},(e,t)=>(t-e)/Tm,e=>e.getHours());pM.range;const mM=Ao(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Tm)},(e,t)=>(t-e)/Tm,e=>e.getUTCHours());mM.range;const jm=Ao(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Gc)/a0,e=>e.getDate()-1);jm.range;const ty=Ao(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/a0,e=>e.getUTCDate()-1);ty.range;const GDe=Ao(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/a0,e=>Math.floor(e/a0));GDe.range;function Lb(e){return Ao(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Gc)/jJ)}const QC=Lb(0),X4=Lb(1),rIt=Lb(2),iIt=Lb(3),$_=Lb(4),sIt=Lb(5),oIt=Lb(6);QC.range;X4.range;rIt.range;iIt.range;$_.range;sIt.range;oIt.range;function jb(e){return Ao(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/jJ)}const JC=jb(0),Q4=jb(1),aIt=jb(2),lIt=jb(3),M_=jb(4),uIt=jb(5),cIt=jb(6);JC.range;Q4.range;aIt.range;lIt.range;M_.range;uIt.range;cIt.range;const yk=Ao(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());yk.range;const vk=Ao(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());vk.range;const pp=Ao(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());pp.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ao(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});pp.range;const mp=Ao(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());mp.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ao(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});mp.range;function YDe(e,t,n,r,i,s){const o=[[km,1,Sm],[km,5,5*Sm],[km,15,15*Sm],[km,30,30*Sm],[s,1,Gc],[s,5,5*Gc],[s,15,15*Gc],[s,30,30*Gc],[i,1,Tm],[i,3,3*Tm],[i,6,6*Tm],[i,12,12*Tm],[r,1,a0],[r,2,2*a0],[n,1,jJ],[t,1,uhe],[t,3,3*uhe],[e,1,MB]];function a(u,c,d){const f=c<u;f&&([u,c]=[c,u]);const h=d&&typeof d.range=="function"?d:l(u,c,d),p=h?h.range(u,+c+1):[];return f?p.reverse():p}function l(u,c,d){const f=Math.abs(c-u)/d,h=WC(([,,g])=>g).right(o,f);if(h===o.length)return e.every(xy(u/MB,c/MB,d));if(h===0)return N_.every(Math.max(xy(u,c,d),1));const[p,m]=o[f/o[h-1][2]<o[h][2]/f?h-1:h];return p.every(m)}return[a,l]}const[dIt,fIt]=YDe(mp,vk,JC,GDe,mM,hM),[hIt,pIt]=YDe(pp,yk,QC,jm,pM,fM);function FB(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function LB(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function b2(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function KDe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,o=e.shortDays,a=e.months,l=e.shortMonths,u=w2(i),c=x2(i),d=w2(s),f=x2(s),h=w2(o),p=x2(o),m=w2(a),g=x2(a),y=w2(l),v=x2(l),w={a:H,A:q,b:Y,B:V,c:null,d:mhe,e:mhe,f:FIt,g:GIt,G:KIt,H:NIt,I:$It,j:MIt,L:XDe,m:LIt,M:jIt,p:L,q:z,Q:vhe,s:bhe,S:BIt,u:zIt,U:UIt,V:VIt,w:HIt,W:qIt,x:null,X:null,y:WIt,Y:YIt,Z:XIt,"%":yhe},_={a:U,A:G,b:Q,B:ne,c:null,d:ghe,e:ghe,f:eDt,g:cDt,G:fDt,H:QIt,I:JIt,j:ZIt,L:JDe,m:tDt,M:nDt,p:ue,q:se,Q:vhe,s:bhe,S:rDt,u:iDt,U:sDt,V:oDt,w:aDt,W:lDt,x:null,X:null,y:uDt,Y:dDt,Z:hDt,"%":yhe},C={a:R,A:P,b:N,B:$,c:O,d:hhe,e:hhe,f:IIt,g:fhe,G:dhe,H:phe,I:phe,j:TIt,L:RIt,m:SIt,M:kIt,p:I,q:EIt,Q:PIt,s:OIt,S:AIt,u:bIt,U:wIt,V:xIt,w:vIt,W:_It,x:j,X:B,y:fhe,Y:dhe,Z:CIt,"%":DIt};w.x=S(n,w),w.X=S(r,w),w.c=S(t,w),_.x=S(n,_),_.X=S(r,_),_.c=S(t,_);function S(ae,he){return function(ie){var le=[],Ee=-1,X=0,fe=ae.length,de,te,ee;for(ie instanceof Date||(ie=new Date(+ie));++Ee<fe;)ae.charCodeAt(Ee)===37&&(le.push(ae.slice(X,Ee)),(te=che[de=ae.charAt(++Ee)])!=null?de=ae.charAt(++Ee):te=de==="e"?" ":"0",(ee=he[de])&&(de=ee(ie,te)),le.push(de),X=Ee+1);return le.push(ae.slice(X,Ee)),le.join("")}}function T(ae,he){return function(ie){var le=b2(1900,void 0,1),Ee=k(le,ae,ie+="",0),X,fe;if(Ee!=ie.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(he&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(X=LB(b2(le.y,0,1)),fe=X.getUTCDay(),X=fe>4||fe===0?Q4.ceil(X):Q4(X),X=ty.offset(X,(le.V-1)*7),le.y=X.getUTCFullYear(),le.m=X.getUTCMonth(),le.d=X.getUTCDate()+(le.w+6)%7):(X=FB(b2(le.y,0,1)),fe=X.getDay(),X=fe>4||fe===0?X4.ceil(X):X4(X),X=jm.offset(X,(le.V-1)*7),le.y=X.getFullYear(),le.m=X.getMonth(),le.d=X.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),fe="Z"in le?LB(b2(le.y,0,1)).getUTCDay():FB(b2(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(fe+5)%7:le.w+le.U*7-(fe+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,LB(le)):FB(le)}}function k(ae,he,ie,le){for(var Ee=0,X=he.length,fe=ie.length,de,te;Ee<X;){if(le>=fe)return-1;if(de=he.charCodeAt(Ee++),de===37){if(de=he.charAt(Ee++),te=C[de in che?he.charAt(Ee++):de],!te||(le=te(ae,ie,le))<0)return-1}else if(de!=ie.charCodeAt(le++))return-1}return le}function I(ae,he,ie){var le=u.exec(he.slice(ie));return le?(ae.p=c.get(le[0].toLowerCase()),ie+le[0].length):-1}function R(ae,he,ie){var le=h.exec(he.slice(ie));return le?(ae.w=p.get(le[0].toLowerCase()),ie+le[0].length):-1}function P(ae,he,ie){var le=d.exec(he.slice(ie));return le?(ae.w=f.get(le[0].toLowerCase()),ie+le[0].length):-1}function N(ae,he,ie){var le=y.exec(he.slice(ie));return le?(ae.m=v.get(le[0].toLowerCase()),ie+le[0].length):-1}function $(ae,he,ie){var le=m.exec(he.slice(ie));return le?(ae.m=g.get(le[0].toLowerCase()),ie+le[0].length):-1}function O(ae,he,ie){return k(ae,t,he,ie)}function j(ae,he,ie){return k(ae,n,he,ie)}function B(ae,he,ie){return k(ae,r,he,ie)}function H(ae){return o[ae.getDay()]}function q(ae){return s[ae.getDay()]}function Y(ae){return l[ae.getMonth()]}function V(ae){return a[ae.getMonth()]}function L(ae){return i[+(ae.getHours()>=12)]}function z(ae){return 1+~~(ae.getMonth()/3)}function U(ae){return o[ae.getUTCDay()]}function G(ae){return s[ae.getUTCDay()]}function Q(ae){return l[ae.getUTCMonth()]}function ne(ae){return a[ae.getUTCMonth()]}function ue(ae){return i[+(ae.getUTCHours()>=12)]}function se(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var he=S(ae+="",w);return he.toString=function(){return ae},he},parse:function(ae){var he=T(ae+="",!1);return he.toString=function(){return ae},he},utcFormat:function(ae){var he=S(ae+="",_);return he.toString=function(){return ae},he},utcParse:function(ae){var he=T(ae+="",!0);return he.toString=function(){return ae},he}}}var che={"-":"",_:" ",0:"0"},Jo=/^\s*\d+/,mIt=/^%/,gIt=/[\\^$*+?|[\]().{}]/g;function Qr(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function yIt(e){return e.replace(gIt,"\\$&")}function w2(e){return new RegExp("^(?:"+e.map(yIt).join("|")+")","i")}function x2(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function vIt(e,t,n){var r=Jo.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function bIt(e,t,n){var r=Jo.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function wIt(e,t,n){var r=Jo.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function xIt(e,t,n){var r=Jo.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function _It(e,t,n){var r=Jo.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function dhe(e,t,n){var r=Jo.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function fhe(e,t,n){var r=Jo.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function CIt(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function EIt(e,t,n){var r=Jo.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function SIt(e,t,n){var r=Jo.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function hhe(e,t,n){var r=Jo.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function TIt(e,t,n){var r=Jo.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function phe(e,t,n){var r=Jo.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function kIt(e,t,n){var r=Jo.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function AIt(e,t,n){var r=Jo.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function RIt(e,t,n){var r=Jo.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function IIt(e,t,n){var r=Jo.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function DIt(e,t,n){var r=mIt.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function PIt(e,t,n){var r=Jo.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function OIt(e,t,n){var r=Jo.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function mhe(e,t){return Qr(e.getDate(),t,2)}function NIt(e,t){return Qr(e.getHours(),t,2)}function $It(e,t){return Qr(e.getHours()%12||12,t,2)}function MIt(e,t){return Qr(1+jm.count(pp(e),e),t,3)}function XDe(e,t){return Qr(e.getMilliseconds(),t,3)}function FIt(e,t){return XDe(e,t)+"000"}function LIt(e,t){return Qr(e.getMonth()+1,t,2)}function jIt(e,t){return Qr(e.getMinutes(),t,2)}function BIt(e,t){return Qr(e.getSeconds(),t,2)}function zIt(e){var t=e.getDay();return t===0?7:t}function UIt(e,t){return Qr(QC.count(pp(e)-1,e),t,2)}function QDe(e){var t=e.getDay();return t>=4||t===0?$_(e):$_.ceil(e)}function VIt(e,t){return e=QDe(e),Qr($_.count(pp(e),e)+(pp(e).getDay()===4),t,2)}function HIt(e){return e.getDay()}function qIt(e,t){return Qr(X4.count(pp(e)-1,e),t,2)}function WIt(e,t){return Qr(e.getFullYear()%100,t,2)}function GIt(e,t){return e=QDe(e),Qr(e.getFullYear()%100,t,2)}function YIt(e,t){return Qr(e.getFullYear()%1e4,t,4)}function KIt(e,t){var n=e.getDay();return e=n>=4||n===0?$_(e):$_.ceil(e),Qr(e.getFullYear()%1e4,t,4)}function XIt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Qr(t/60|0,"0",2)+Qr(t%60,"0",2)}function ghe(e,t){return Qr(e.getUTCDate(),t,2)}function QIt(e,t){return Qr(e.getUTCHours(),t,2)}function JIt(e,t){return Qr(e.getUTCHours()%12||12,t,2)}function ZIt(e,t){return Qr(1+ty.count(mp(e),e),t,3)}function JDe(e,t){return Qr(e.getUTCMilliseconds(),t,3)}function eDt(e,t){return JDe(e,t)+"000"}function tDt(e,t){return Qr(e.getUTCMonth()+1,t,2)}function nDt(e,t){return Qr(e.getUTCMinutes(),t,2)}function rDt(e,t){return Qr(e.getUTCSeconds(),t,2)}function iDt(e){var t=e.getUTCDay();return t===0?7:t}function sDt(e,t){return Qr(JC.count(mp(e)-1,e),t,2)}function ZDe(e){var t=e.getUTCDay();return t>=4||t===0?M_(e):M_.ceil(e)}function oDt(e,t){return e=ZDe(e),Qr(M_.count(mp(e),e)+(mp(e).getUTCDay()===4),t,2)}function aDt(e){return e.getUTCDay()}function lDt(e,t){return Qr(Q4.count(mp(e)-1,e),t,2)}function uDt(e,t){return Qr(e.getUTCFullYear()%100,t,2)}function cDt(e,t){return e=ZDe(e),Qr(e.getUTCFullYear()%100,t,2)}function dDt(e,t){return Qr(e.getUTCFullYear()%1e4,t,4)}function fDt(e,t){var n=e.getUTCDay();return e=n>=4||n===0?M_(e):M_.ceil(e),Qr(e.getUTCFullYear()%1e4,t,4)}function hDt(){return"+0000"}function yhe(){return"%"}function vhe(e){return+e}function bhe(e){return Math.floor(+e/1e3)}var Gw,BJ,e3e,gM,t3e;pDt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pDt(e){return Gw=KDe(e),BJ=Gw.format,e3e=Gw.parse,gM=Gw.utcFormat,t3e=Gw.utcParse,Gw}function mDt(e){return new Date(e)}function gDt(e){return e instanceof Date?+e:+new Date(+e)}function zJ(e,t,n,r,i,s,o,a,l,u){var c=LDe(),d=c.invert,f=c.domain,h=u(".%L"),p=u(":%S"),m=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),v=u("%b %d"),w=u("%B"),_=u("%Y");function C(S){return(l(S)<S?h:a(S)<S?p:o(S)<S?m:s(S)<S?g:r(S)<S?i(S)<S?y:v:n(S)<S?w:_)(S)}return c.invert=function(S){return new Date(d(S))},c.domain=function(S){return arguments.length?f(Array.from(S,gDt)):f().map(mDt)},c.ticks=function(S){var T=f();return e(T[0],T[T.length-1],S??10)},c.tickFormat=function(S,T){return T==null?C:u(T)},c.nice=function(S){var T=f();return(!S||typeof S.range!="function")&&(S=t(T[0],T[T.length-1],S??10)),S?f(zDe(T,S)):c},c.copy=function(){return GA(c,zJ(e,t,n,r,i,s,o,a,l,u))},c}function n3e(){return Gf.apply(zJ(hIt,pIt,pp,yk,QC,jm,pM,fM,km,BJ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yDt(){return Gf.apply(zJ(dIt,fIt,mp,vk,JC,ty,mM,hM,km,gM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function yM(){var e=0,t=1,n,r,i,s,o=mu,a=!1,l;function u(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(s(d)-n)*i,a?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(d){return arguments.length?(a=!!d,u):a},u.interpolator=function(d){return arguments.length?(o=d,u):o};function c(d){return function(f){var h,p;return arguments.length?([h,p]=f,o=d(h,p),u):[o(0),o(1)]}}return u.range=c(I0),u.rangeRound=c(UA),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return s=d,n=d(e),r=d(t),i=n===r?0:1/(r-n),u}}function Zy(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function UJ(){var e=Fb(yM()(mu));return e.copy=function(){return Zy(e,UJ())},Jy.apply(e,arguments)}function r3e(){var e=$J(yM()).domain([1,10]);return e.copy=function(){return Zy(e,r3e()).base(e.base())},Jy.apply(e,arguments)}function i3e(){var e=MJ(yM());return e.copy=function(){return Zy(e,i3e()).constant(e.constant())},Jy.apply(e,arguments)}function VJ(){var e=FJ(yM());return e.copy=function(){return Zy(e,VJ()).exponent(e.exponent())},Jy.apply(e,arguments)}function vDt(){return VJ.apply(null,arguments).exponent(.5)}function vM(){var e=0,t=.5,n=1,r=1,i,s,o,a,l,u=mu,c,d=!1,f;function h(m){return isNaN(m=+m)?f:(m=.5+((m=+c(m))-s)*(r*m<r*s?a:l),u(d?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t,n]=m,i=c(e=+e),s=c(t=+t),o=c(n=+n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,h):[e,t,n]},h.clamp=function(m){return arguments.length?(d=!!m,h):d},h.interpolator=function(m){return arguments.length?(u=m,h):u};function p(m){return function(g){var y,v,w;return arguments.length?([y,v,w]=g,u=gJ(m,[y,v,w]),h):[u(0),u(.5),u(1)]}}return h.range=p(I0),h.rangeRound=p(UA),h.unknown=function(m){return arguments.length?(f=m,h):f},function(m){return c=m,i=m(e),s=m(t),o=m(n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,h}}function s3e(){var e=Fb(vM()(mu));return e.copy=function(){return Zy(e,s3e())},Jy.apply(e,arguments)}function o3e(){var e=$J(vM()).domain([.1,1,10]);return e.copy=function(){return Zy(e,o3e()).base(e.base())},Jy.apply(e,arguments)}function a3e(){var e=MJ(vM());return e.copy=function(){return Zy(e,a3e()).constant(e.constant())},Jy.apply(e,arguments)}function HJ(){var e=FJ(vM());return e.copy=function(){return Zy(e,HJ()).exponent(e.exponent())},Jy.apply(e,arguments)}function bDt(){return HJ.apply(null,arguments).exponent(.5)}function Yf(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const wDt=Yf("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),xDt=Yf("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),_Dt=Yf("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),CDt=Yf("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),EDt=Yf("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),SDt=Yf("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),TDt=Yf("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),kDt=Yf("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),ADt=Yf("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),RDt=Yf("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),l3e=Yf("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function ai(e){return function(){return e}}const whe=Math.abs,La=Math.atan2,Dv=Math.cos,IDt=Math.max,jB=Math.min,Ch=Math.sin,w1=Math.sqrt,za=1e-12,F_=Math.PI,J4=F_/2,u3e=2*F_;function DDt(e){return e>1?0:e<-1?F_:Math.acos(e)}function xhe(e){return e>=1?J4:e<=-1?-J4:Math.asin(e)}function bM(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new xJ(t)}function PDt(e){return e.innerRadius}function ODt(e){return e.outerRadius}function NDt(e){return e.startAngle}function $Dt(e){return e.endAngle}function MDt(e){return e&&e.padAngle}function FDt(e,t,n,r,i,s,o,a){var l=n-e,u=r-t,c=o-i,d=a-s,f=d*l-c*u;if(!(f*f<za))return f=(c*(t-s)-d*(e-i))/f,[e+f*l,t+f*u]}function FD(e,t,n,r,i,s,o){var a=e-n,l=t-r,u=(o?s:-s)/w1(a*a+l*l),c=u*l,d=-u*a,f=e+c,h=t+d,p=n+c,m=r+d,g=(f+p)/2,y=(h+m)/2,v=p-f,w=m-h,_=v*v+w*w,C=i-s,S=f*m-p*h,T=(w<0?-1:1)*w1(IDt(0,C*C*_-S*S)),k=(S*w-v*T)/_,I=(-S*v-w*T)/_,R=(S*w+v*T)/_,P=(-S*v+w*T)/_,N=k-g,$=I-y,O=R-g,j=P-y;return N*N+$*$>O*O+j*j&&(k=R,I=P),{cx:k,cy:I,x01:-c,y01:-d,x11:k*(i/C-1),y11:I*(i/C-1)}}function LDt(){var e=PDt,t=ODt,n=ai(0),r=null,i=NDt,s=$Dt,o=MDt,a=null,l=bM(u);function u(){var c,d,f=+e.apply(this,arguments),h=+t.apply(this,arguments),p=i.apply(this,arguments)-J4,m=s.apply(this,arguments)-J4,g=whe(m-p),y=m>p;if(a||(a=c=l()),h<f&&(d=h,h=f,f=d),!(h>za))a.moveTo(0,0);else if(g>u3e-za)a.moveTo(h*Dv(p),h*Ch(p)),a.arc(0,0,h,p,m,!y),f>za&&(a.moveTo(f*Dv(m),f*Ch(m)),a.arc(0,0,f,m,p,y));else{var v=p,w=m,_=p,C=m,S=g,T=g,k=o.apply(this,arguments)/2,I=k>za&&(r?+r.apply(this,arguments):w1(f*f+h*h)),R=jB(whe(h-f)/2,+n.apply(this,arguments)),P=R,N=R,$,O;if(I>za){var j=xhe(I/f*Ch(k)),B=xhe(I/h*Ch(k));(S-=j*2)>za?(j*=y?1:-1,_+=j,C-=j):(S=0,_=C=(p+m)/2),(T-=B*2)>za?(B*=y?1:-1,v+=B,w-=B):(T=0,v=w=(p+m)/2)}var H=h*Dv(v),q=h*Ch(v),Y=f*Dv(C),V=f*Ch(C);if(R>za){var L=h*Dv(w),z=h*Ch(w),U=f*Dv(_),G=f*Ch(_),Q;if(g<F_)if(Q=FDt(H,q,U,G,L,z,Y,V)){var ne=H-Q[0],ue=q-Q[1],se=L-Q[0],ae=z-Q[1],he=1/Ch(DDt((ne*se+ue*ae)/(w1(ne*ne+ue*ue)*w1(se*se+ae*ae)))/2),ie=w1(Q[0]*Q[0]+Q[1]*Q[1]);P=jB(R,(f-ie)/(he-1)),N=jB(R,(h-ie)/(he+1))}else P=N=0}T>za?N>za?($=FD(U,G,H,q,h,N,y),O=FD(L,z,Y,V,h,N,y),a.moveTo($.cx+$.x01,$.cy+$.y01),N<R?a.arc($.cx,$.cy,N,La($.y01,$.x01),La(O.y01,O.x01),!y):(a.arc($.cx,$.cy,N,La($.y01,$.x01),La($.y11,$.x11),!y),a.arc(0,0,h,La($.cy+$.y11,$.cx+$.x11),La(O.cy+O.y11,O.cx+O.x11),!y),a.arc(O.cx,O.cy,N,La(O.y11,O.x11),La(O.y01,O.x01),!y))):(a.moveTo(H,q),a.arc(0,0,h,v,w,!y)):a.moveTo(H,q),!(f>za)||!(S>za)?a.lineTo(Y,V):P>za?($=FD(Y,V,L,z,f,-P,y),O=FD(H,q,U,G,f,-P,y),a.lineTo($.cx+$.x01,$.cy+$.y01),P<R?a.arc($.cx,$.cy,P,La($.y01,$.x01),La(O.y01,O.x01),!y):(a.arc($.cx,$.cy,P,La($.y01,$.x01),La($.y11,$.x11),!y),a.arc(0,0,f,La($.cy+$.y11,$.cx+$.x11),La(O.cy+O.y11,O.cx+O.x11),y),a.arc(O.cx,O.cy,P,La(O.y11,O.x11),La(O.y01,O.x01),!y))):a.arc(0,0,f,C,_,y)}if(a.closePath(),c)return a=null,c+""||null}return u.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-F_/2;return[Dv(d)*c,Ch(d)*c]},u.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:ai(+c),u):e},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:ai(+c),u):t},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:ai(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:ai(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:ai(+c),u):i},u.endAngle=function(c){return arguments.length?(s=typeof c=="function"?c:ai(+c),u):s},u.padAngle=function(c){return arguments.length?(o=typeof c=="function"?c:ai(+c),u):o},u.context=function(c){return arguments.length?(a=c??null,u):a},u}function c3e(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function d3e(e){this._context=e}d3e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function qJ(e){return new d3e(e)}function f3e(e){return e[0]}function h3e(e){return e[1]}function p3e(e,t){var n=ai(!0),r=null,i=qJ,s=null,o=bM(a);e=typeof e=="function"?e:e===void 0?f3e:ai(e),t=typeof t=="function"?t:t===void 0?h3e:ai(t);function a(l){var u,c=(l=c3e(l)).length,d,f=!1,h;for(r==null&&(s=i(h=o())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+e(d,u,l),+t(d,u,l));if(h)return s=null,h+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:ai(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:ai(+l),a):t},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ai(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),a):r},a}function m3e(e,t,n){var r=null,i=ai(!0),s=null,o=qJ,a=null,l=bM(u);e=typeof e=="function"?e:e===void 0?f3e:ai(+e),t=typeof t=="function"?t:ai(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?h3e:ai(+n);function u(d){var f,h,p,m=(d=c3e(d)).length,g,y=!1,v,w=new Array(m),_=new Array(m);for(s==null&&(a=o(v=l())),f=0;f<=m;++f){if(!(f<m&&i(g=d[f],f,d))===y)if(y=!y)h=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=f-1;p>=h;--p)a.point(w[p],_[p]);a.lineEnd(),a.areaEnd()}y&&(w[f]=+e(g,f,d),_[f]=+t(g,f,d),a.point(r?+r(g,f,d):w[f],n?+n(g,f,d):_[f]))}if(v)return a=null,v+""||null}function c(){return p3e().defined(i).curve(o).context(s)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:ai(+d),r=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:ai(+d),u):e},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:ai(+d),u):r},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:ai(+d),n=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:ai(+d),u):t},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:ai(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:ai(!!d),u):i},u.curve=function(d){return arguments.length?(o=d,s!=null&&(a=o(s)),u):o},u.context=function(d){return arguments.length?(d==null?s=a=null:a=o(s=d),u):s},u}const jDt={draw(e,t){const n=w1(t/F_);e.moveTo(n,0),e.arc(0,0,n,0,u3e)}};function BDt(e,t){let n=null,r=bM(i);e=typeof e=="function"?e:ai(e||jDt),t=typeof t=="function"?t:ai(t===void 0?64:+t);function i(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:ai(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:ai(+s),i):t},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Cy(){}function Z4(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function wM(e){this._context=e}wM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Z4(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Z4(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function zDt(e){return new wM(e)}function g3e(e){this._context=e}g3e.prototype={areaStart:Cy,areaEnd:Cy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Z4(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function UDt(e){return new g3e(e)}function y3e(e){this._context=e}y3e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Z4(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function VDt(e){return new y3e(e)}function v3e(e,t){this._basis=new wM(e),this._beta=t}v3e.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],s=e[n]-r,o=t[n]-i,a=-1,l;++a<=n;)l=a/n,this._basis.point(this._beta*e[a]+(1-this._beta)*(r+l*s),this._beta*t[a]+(1-this._beta)*(i+l*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const HDt=(function e(t){function n(r){return t===1?new wM(r):new v3e(r,t)}return n.beta=function(r){return e(+r)},n})(.85);function e6(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function WJ(e,t){this._context=e,this._k=(1-t)/6}WJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:e6(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:e6(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const qDt=(function e(t){function n(r){return new WJ(r,t)}return n.tension=function(r){return e(+r)},n})(0);function GJ(e,t){this._context=e,this._k=(1-t)/6}GJ.prototype={areaStart:Cy,areaEnd:Cy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:e6(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const WDt=(function e(t){function n(r){return new GJ(r,t)}return n.tension=function(r){return e(+r)},n})(0);function YJ(e,t){this._context=e,this._k=(1-t)/6}YJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:e6(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const GDt=(function e(t){function n(r){return new YJ(r,t)}return n.tension=function(r){return e(+r)},n})(0);function KJ(e,t,n){var r=e._x1,i=e._y1,s=e._x2,o=e._y2;if(e._l01_a>za){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>za){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);s=(s*u+e._x1*e._l23_2a-t*e._l12_2a)/c,o=(o*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,s,o,e._x2,e._y2)}function b3e(e,t){this._context=e,this._alpha=t}b3e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:KJ(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const YDt=(function e(t){function n(r){return t?new b3e(r,t):new WJ(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function w3e(e,t){this._context=e,this._alpha=t}w3e.prototype={areaStart:Cy,areaEnd:Cy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:KJ(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const KDt=(function e(t){function n(r){return t?new w3e(r,t):new GJ(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function x3e(e,t){this._context=e,this._alpha=t}x3e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:KJ(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const XDt=(function e(t){function n(r){return t?new x3e(r,t):new YJ(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function _3e(e){this._context=e}_3e.prototype={areaStart:Cy,areaEnd:Cy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function QDt(e){return new _3e(e)}function _he(e){return e<0?-1:1}function Che(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(_he(s)+_he(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function Ehe(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function BB(e,t,n){var r=e._x0,i=e._y0,s=e._x1,o=e._y1,a=(s-r)/3;e._context.bezierCurveTo(r+a,i+a*t,s-a,o-a*n,s,o)}function t6(e){this._context=e}t6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:BB(this,this._t0,Ehe(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,BB(this,Ehe(this,n=Che(this,e,t)),n);break;default:BB(this,this._t0,n=Che(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function C3e(e){this._context=new E3e(e)}(C3e.prototype=Object.create(t6.prototype)).point=function(e,t){t6.prototype.point.call(this,t,e)};function E3e(e){this._context=e}E3e.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function JDt(e){return new t6(e)}function ZDt(e){return new C3e(e)}function S3e(e){this._context=e}S3e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=She(e),i=She(t),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function She(e){var t,n=e.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/s[t-1],s[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function e3t(e){return new S3e(e)}function xM(e,t){this._context=e,this._t=t}xM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function t3t(e){return new xM(e,.5)}function n3t(e){return new xM(e,0)}function r3t(e){return new xM(e,1)}function wS(e,t,n){this.k=e,this.x=t,this.y=n}wS.prototype={constructor:wS,scale:function(e){return e===1?this:new wS(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new wS(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};wS.prototype;var zB,The;function i3t(){if(The)return zB;The=1;var e="Expected a function",t=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,l=typeof Si=="object"&&Si&&Si.Object===Object&&Si,u=typeof self=="object"&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),d=Object.prototype,f=d.toString,h=Math.max,p=Math.min,m=function(){return c.Date.now()};function g(C,S,T){var k,I,R,P,N,$,O=0,j=!1,B=!1,H=!0;if(typeof C!="function")throw new TypeError(e);S=_(S)||0,y(T)&&(j=!!T.leading,B="maxWait"in T,R=B?h(_(T.maxWait)||0,S):R,H="trailing"in T?!!T.trailing:H);function q(ue){var se=k,ae=I;return k=I=void 0,O=ue,P=C.apply(ae,se),P}function Y(ue){return O=ue,N=setTimeout(z,S),j?q(ue):P}function V(ue){var se=ue-$,ae=ue-O,he=S-se;return B?p(he,R-ae):he}function L(ue){var se=ue-$,ae=ue-O;return $===void 0||se>=S||se<0||B&&ae>=R}function z(){var ue=m();if(L(ue))return U(ue);N=setTimeout(z,V(ue))}function U(ue){return N=void 0,H&&k?q(ue):(k=I=void 0,P)}function G(){N!==void 0&&clearTimeout(N),O=0,k=$=I=N=void 0}function Q(){return N===void 0?P:U(m())}function ne(){var ue=m(),se=L(ue);if(k=arguments,I=this,$=ue,se){if(N===void 0)return Y($);if(B)return N=setTimeout(z,S),q($)}return N===void 0&&(N=setTimeout(z,S)),P}return ne.cancel=G,ne.flush=Q,ne}function y(C){var S=typeof C;return!!C&&(S=="object"||S=="function")}function v(C){return!!C&&typeof C=="object"}function w(C){return typeof C=="symbol"||v(C)&&f.call(C)==n}function _(C){if(typeof C=="number")return C;if(w(C))return t;if(y(C)){var S=typeof C.valueOf=="function"?C.valueOf():C;C=y(S)?S+"":S}if(typeof C!="string")return C===0?C:+C;C=C.replace(r,"");var T=s.test(C);return T||o.test(C)?a(C.slice(2),T?2:8):i.test(C)?t:+C}return zB=g,zB}var s3t=i3t();const Nc=so(s3t);function XJ({xScale:e,yRange:t,vertPosition:n,label:r,ticks:i,isDate:s=!1,showLines:o=!0,compact:a=!1}){const l=A.useMemo(()=>i.length>1?Math.abs(i[1].offset-i[0].offset):e.range()[0]-e.range()[1],[i,e]),u=A.useCallback(c=>(s?gM("%B"):YC(".2s"))(c),[s]);return b.jsxs(b.Fragment,{children:[b.jsx("g",{transform:`translate(${e.range()[0]}, ${n+25})`,children:b.jsx("foreignObject",{width:Math.abs(e.range()[0]-e.range()[1]),height:20,children:b.jsx(So,{children:b.jsx(An,{gap:3,children:b.jsx(He,{size:a?"10px":"14px",style:{color:"#878E95"},children:r})})})})}),b.jsx("path",{transform:`translate(0, ${n})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),o?b.jsx("path",{transform:`translate(0, ${t[1]})`,d:["M",e.range()[0],0,"H",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:c,offset:d})=>b.jsxs("g",{transform:`translate(${d}, ${n})`,children:[b.jsx("line",{y2:"6",stroke:"currentColor"}),o?b.jsx("line",{y2:`${-(t[0]-t[1])}`,stroke:"lightgray"}):null,b.jsx("foreignObject",{x:0-l/2,y:10,width:l,height:20,children:b.jsx(So,{children:b.jsx(yt,{withinPortal:!0,label:c,children:b.jsx(He,{px:2,size:"10px",style:{textAlign:"center",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:+c==0?0:u(s?new Date(c):c)})})})})]},c))]})}const T3e=Object.freeze(Object.defineProperty({__proto__:null,XAxisBar:XJ},Symbol.toStringTag,{value:"Module"}));function k3e({yScale:e,xRange:t,horizontalPosition:n,label:r}){const i=A.useMemo(()=>e.ticks(5).map(o=>({value:o,yOffset:e(o)})),[e]),s=A.useMemo(()=>YC(".2s"),[]);return b.jsxs(b.Fragment,{children:[b.jsx("g",{transform:`translate(${n-60}, ${e.range()[0]}) rotate(-90)`,children:b.jsx("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:b.jsx(So,{children:b.jsx(An,{gap:3,children:b.jsx(He,{size:"14px",style:{color:"#878E95"},children:r})})})})}),b.jsx("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),b.jsx("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),i.map(({value:o,yOffset:a})=>b.jsxs("g",{transform:`translate(${n}, ${a})`,children:[b.jsx("line",{x2:"-6",stroke:"currentColor"}),b.jsx("line",{x2:`${t[1]-t[0]}`,stroke:`${o===0?"black":"lightgray"}`}),b.jsx("text",{style:{dominantBaseline:"middle",fontSize:"10px",textAnchor:"end",transform:"translateX(-8px)",fill:"black",font:"Roboto"},children:s(o)},o)]},o))]})}const A3e=Object.freeze(Object.defineProperty({__proto__:null,YAxis:k3e},Symbol.toStringTag,{value:"Module"})),UB=15;function R3e({xScale:e,yScale:t,setBrushedSpace:n,params:r,data:i,brushState:s,isSelect:o=!0}){const[a,l]=A.useState([0,0]),[u,c]=A.useState(!1);return A.useEffect(()=>{const d=yo("#scatterSvgBrushStudy");if(d){const f=d.node().getBoundingClientRect();d.on("mousemove",h=>{const p=[h.clientX-f.x,h.clientY-f.y];if(l(p),u){const m=i.filter(g=>Math.abs(e(g[r.x])-p[0])<UB&&Math.abs(t(g[r.y])-p[1])<UB);if(h.ctrlKey||h.metaKey||!o){const g=new Set(s.ids);m.forEach(v=>{g.has(v[r.ids])&&g.delete(v[r.ids])});const y=Array.from(g);n([[a[0],a[1]],[a[0],a[1]]],e,t,y.length===0?"clear":"drag",y)}else{const g=Array.from(new Set([...s.ids,...m.map(y=>y[r.ids])]));g.length>0&&n([[a[0],a[1]],[a[0],a[1]]],e,t,"drag",g)}}}),d.on("mousedown",h=>{c(!0),h.stopPropagation(),h.preventDefault()}),d.on("mouseup",()=>{c(!1)})}},[a,s.ids,i,u,o,r,n,e,t]),b.jsx("circle",{style:{cursor:u?"pointer":"default"},r:UB,fill:"darkgray",opacity:.5,cx:a[0],cy:a[1]})}const I3e=Object.freeze(Object.defineProperty({__proto__:null,Paintbrush:R3e},Symbol.toStringTag,{value:"Module"})),Xi={top:15,left:100,right:15,bottom:70};function Dq({setFilteredTable:e,brushState:t,setBrushedSpace:n,brushType:r,params:i,data:s,brushedPoints:o}){const[a,{height:l,width:u}]=mf(),[c]=mf(),[d]=mf(),[f,h]=A.useState(!0),p=A.useMemo(()=>u-Xi.left-Xi.right,[u]),m=A.useMemo(()=>l-Xi.top-Xi.bottom,[l]),g=A.useMemo(()=>{const R=Array.from(new Set(s.map(P=>P[i.category])));return XC(l3e).domain(R)},[s,i.category]),{xMin:y,yMin:v,xMax:w,yMax:_}=A.useMemo(()=>{const R=s.map(B=>+B[i.x]).filter(B=>B!==null),[P,N]=p4(R),$=s.map(B=>+B[i.y]).filter(B=>B!==null),[O,j]=p4($);return{xMin:P,xMax:N,yMin:O,yMax:j}},[s,i.x,i.y]),C=A.useMemo(()=>{const R=w-y;return p<=0?null:i.dataType==="date"?n3e([Xi.left,p+Xi.left]).domain([new Date("2014-12-20"),new Date("2016-01-10")]):_u([Xi.left,p+Xi.left]).domain([y-R/10,w+R/10]).nice()},[i.dataType,p,w,y]),S=A.useMemo(()=>{const R=_-v;return m<=0?null:_u([m+Xi.top,Xi.top]).domain([v-R/10,_+R/10]).nice()},[m,_,v]),T=A.useMemo(()=>{if(!C||!S)return()=>null;if(r==="Axis Selection"){const R=yTt().extent([[Xi.left,Xi.top+m-5],[Xi.left+p,Xi.top+m+5]]).on("brush end",N=>{N.sourceEvent!==void 0&&n([[N.selection[0],null],[N.selection[1],null]],C,S,N.mode)}),P=vTt().extent([[Xi.left-5,Xi.top],[Xi.left+5,Xi.top+m]]).on("brush end",N=>{N.sourceEvent!==void 0&&n([[null,N.selection[0]],[null,N.selection[1]]],C,S,N.mode)});return c.current&&d.current&&(yo(d.current).call(P),yo(c.current).call(R),t.hasBrush||(yo(d.current).call(P.move,[S(_),S(v)]),yo(c.current).call(R.move,[C(new Date("2015-01-02")),C(new Date("2015-12-31"))]),n([[C(new Date("2015-01-02")),S(_)],[C(new Date("2015-12-31")),S(v)]],C,S,"drag"))),()=>{yo(d.current).call(P.move,[S(_),S(v)]),yo(c.current).call(R.move,[C(new Date("2015-01-02")),C(new Date("2015-12-31"))]),n([[C(new Date("2015-01-02")),S(_)],[C(new Date("2015-12-31")),S(v)]],C,S,"clear")}}if(r==="Rectangular Selection"){const R=bTt().extent([[Xi.left,Xi.top],[Xi.left+p,Xi.top+m]]).on("brush",P=>{P.sourceEvent!==void 0&&n([[P.selection[0][0],P.selection[0][1]],[P.selection[1][0],P.selection[1][1]]],C,S,P.mode)}).on("end",P=>{P.selection===null&&P.sourceEvent!==void 0&&(yo(a.current).call(R.move,null),e(null))});return yo(a.current).call(R),()=>{yo(a.current).call(R.move,null),n([[null,null],[null,null]],C,S,"clear")}}return r==="Slider Selection"?(t.hasBrush||n([[C(y),S(_)],[C(w),S(v)]],C,S,null),()=>n([[C(y),S(_)],[C(w),S(v)]],C,S,"clear")):r==="Paintbrush Selection"?()=>n([[C(y),S(_)],[C(w),S(v)]],C,S,"clear",[]):()=>null},[t.hasBrush,r,c,d,m,a,n,e,p,w,y,C,_,v,S]),k=A.useMemo(()=>o.length===0?null:new Set(o),[o]),I=A.useMemo(()=>!C||!S?null:s.map((R,P)=>{if(R[i.x]===null||R[i.y]===null)return null;const N=i.dataType==="date"?C(new Date(R[i.x])):C(R[i.x]);return b.jsx("circle",{opacity:k&&!k.has(R[i.ids])?.3:1,r:3,fill:k&&!k.has(R[i.ids])?"lightgray":g(R[i.category]),cx:N,cy:S(R[i.y])},P)}),[k,g,s,i.category,i.dataType,i.ids,i.x,i.y,C,S]);return A.useEffect(()=>{r==="Axis Selection"&&c2t(".handle").style("fill","darkgrey")},[t,r]),b.jsxs(zn,{children:[b.jsxs(An,{children:[b.jsx(Wt,{ml:60,size:"compact-sm",style:{width:"130px"},disabled:o.length===0,onClick:()=>{e(null),T?.()},children:"Clear Selection"}),i.brushType==="Paintbrush Selection"?b.jsx(u$,{defaultChecked:!0,value:f?"Select":"De-Select",onChange:R=>h(R==="Select"),data:[{label:"Select",value:"Select"},{label:"De-Select",value:"De-Select",disabled:o.length===0}]}):null]}),b.jsxs(An,{style:{width:"100%",height:"100%"},wrap:"nowrap",children:[b.jsxs("svg",{id:"scatterSvgBrushStudy",ref:a,style:{height:"500px",width:i.brushType==="Axis Selection"?"800px":"530px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[C&&S?b.jsxs("g",{children:[b.jsx(k3e,{yScale:S,label:i.y,horizontalPosition:Xi.left,xRange:C.range()}),b.jsx(XJ,{xScale:C,yRange:S.range(),isDate:i.dataType==="date",vertPosition:m+Xi.top,label:i.x,ticks:C.ticks(i.brushType==="Axis Selection"?12:5).map(R=>({value:R.toString(),offset:C(R)}))})]}):null,I,b.jsx("g",{id:"brushXRef",ref:c}),b.jsx("g",{id:"brushYRef",ref:d}),C&&S&&r==="Paintbrush Selection"?b.jsx(R3e,{brushState:t,setBrushedSpace:n,params:i,data:s,isSelect:f,xScale:C,yScale:S}):null]}),r==="Slider Selection"&&C&&S?b.jsxs(zn,{style:{flexGrow:1},gap:50,children:[b.jsxs(zn,{gap:0,children:[b.jsx(He,{children:i.x}),b.jsx(BT,{minRange:1,label:null,min:C.domain()[0],max:C.domain()[1],labelAlwaysOn:!1,onChange:R=>{n([[C(R[0]),t.y1],[C(R[1]),t.y2]],C,S,"drag")},style:{width:"300px"},marks:C.ticks(5).map(R=>({value:R,label:R})),value:[C.invert(t.x1),C.invert(t.x2)]})]}),b.jsxs(zn,{gap:0,children:[b.jsx(He,{children:i.y}),b.jsx(BT,{minRange:1,label:null,min:S.domain()[0],max:S.domain()[1],onChange:R=>{n([[t.x1,S(R[1])],[t.x2,S(R[0])]],C,S,"drag")},style:{width:"300px"},marks:S.ticks(5).map(R=>({value:R,label:R})),value:[S.invert(t.y2),S.invert(t.y1)]})]})]}):null]})]})}const D3e=Object.freeze(Object.defineProperty({__proto__:null,Scatter:Dq,default:Dq},Symbol.toStringTag,{value:"Module"}));function P3e({yScale:e,xRange:t,horizontalPosition:n,label:r,ticks:i,showLines:s,compact:o=!1}){const a=A.useMemo(()=>{const l=i.reduce((u,{value:c})=>{const{length:d}=`${c}`;return d>u?d:u},0);return l>10?60:l*6},[i]);return b.jsxs(b.Fragment,{children:[b.jsx("g",{transform:`translate(${n-a-40}, ${e.range()[1]}) rotate(-90)`,children:b.jsx("foreignObject",{width:Math.abs(e.range()[1]-e.range()[0]),height:20,children:b.jsx(So,{children:b.jsx(An,{gap:3,children:b.jsx(He,{size:o?"10px":"14px",style:{color:"#878E95"},children:r})})})})}),b.jsx("path",{transform:`translate(${n}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),s?b.jsx("path",{transform:`translate(${t[1]}, 0)`,d:["M",0,e.range()[0],"V",e.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,i.map(({value:l,offset:u})=>b.jsxs("g",{transform:`translate(${n}, ${u})`,children:[b.jsx("line",{x2:"-6",stroke:"currentColor"}),s?b.jsx("line",{x2:`${t[1]-t[0]}`,stroke:"lightgray"}):null,b.jsx("g",{style:{transform:`translate(-${a+10}px, -9px)`},children:b.jsx("foreignObject",{width:a,height:20,children:b.jsx(An,{style:{width:"100%",height:"100%"},justify:"right",children:b.jsx(He,{style:{textOverflow:"ellipsis",overflow:"hidden"},size:"10px",children:l})})})},l)]},l))]})}const O3e=Object.freeze(Object.defineProperty({__proto__:null,YAxisBar:P3e},Symbol.toStringTag,{value:"Module"})),Dc={top:15,left:100,right:50,bottom:50};function Pq({barsTable:e,parameters:t,data:n}){const[r,{height:i,width:s}]=mf(),o=A.useMemo(()=>s-Dc.left-Dc.right,[s]),a=A.useMemo(()=>i-Dc.top-Dc.bottom,[i]),l=A.useMemo(()=>{const f=Array.from(new Set(n.map(h=>h[t.category])));return XC(l3e).domain(f)},[n,t.category]),u=A.useMemo(()=>e?_u([Dc.left,o+Dc.left]).domain([0,ey(e.objects().map(f=>f.count))]).nice():null,[e,o]),c=A.useMemo(()=>e?FDe([Dc.top,a+Dc.top]).domain(e.array(t.category).sort()).paddingInner(.1):null,[e,a,t.category]),d=A.useMemo(()=>!u||!c||!l||!e?null:e.objects().map((f,h)=>f[t.category]===null||f.count===null?null:b.jsxs("g",{children:[b.jsx("rect",{x:Dc.left,y:c(f[t.category]),fill:l(f[t.category]),height:c.bandwidth(),width:u(f.count)-Dc.left},h),b.jsx("text",{x:u(f.count)+5,y:c(f[t.category])+c.bandwidth()/2,style:{textAlign:"center",dominantBaseline:"middle",fontSize:14},children:f.count})]},h)),[e,l,t.category,u,c]);return c&&u?b.jsxs("svg",{ref:r,style:{height:"200px",width:"550px",fontFamily:'BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif'},children:[b.jsx(XJ,{xScale:u,yRange:c.range(),vertPosition:a+Dc.top,showLines:!1,label:"Count",ticks:u.ticks(5).map(f=>({value:f.toString(),offset:u(f)}))}),c?b.jsx(P3e,{yScale:c,horizontalPosition:Dc.left,xRange:u.range(),label:t.category,ticks:l.domain().map(f=>({value:f,offset:c(f)+c.bandwidth()/2}))}):null,d]}):b.jsx(pc,{})}const N3e=Object.freeze(Object.defineProperty({__proto__:null,Bar:Pq,default:Pq},Symbol.toStringTag,{value:"Module"}));function Oq({parameters:e,setAnswer:t,provenanceState:n,updateState:r=()=>null}){const[i,s]=A.useState(null),[o,a]=A.useState(n?n.all.brush||n.all:{hasBrush:!1,x1:0,y1:0,x2:0,y2:0,ids:[]});A.useEffect(()=>{a(n?n.all.brush||n.all:{hasBrush:!1,x1:0,y1:0,x2:0,y2:0,ids:[]})},[n]);const[l,u]=A.useState(null);A.useEffect(()=>{XTt(`./data/${e.dataset}.csv`).then(v=>{u(v)})},[e]);const c=A.useMemo(()=>l?vxt(l):null,[l]),{actions:d,trrack:f}=A.useMemo(()=>{const v=Xy.create(),w=v.register("brush",(k,I)=>(k.all={brush:I},k)),_=v.register("brushMove",(k,I)=>(k.all={brush:I},k)),C=v.register("brushResize",(k,I)=>(k.all={brush:I},k)),S=v.register("brushClear",(k,I)=>(k.all={brush:I},k)),T=qC({registry:v,initialState:{all:{hasBrush:!1,x1:null,x2:null,y1:null,y2:null,ids:[]}}});return{actions:{brush:w,brushMove:_,brushResize:C,clearBrush:S},trrack:T}},[]),h=A.useCallback((v,w)=>{v==="drag"?f.apply("Move Brush",d.brushMove(w)):v==="handle"&&f.apply("Brush",d.brush(w))},[d,f]),p=A.useMemo(()=>Nc(h,100,{maxWait:100}),[h]),m=A.useCallback((v,w,_,C,S)=>{if(!w||!_)return;const T=w.invert(v[0][0]||o.x1),k=w.invert(v[1][0]||o.x2),I=_.invert(v[1][1]||o.y2),R=_.invert(v[0][1]||o.y1);let P=null;if(C==="clear")P=c;else if(S){const $=new Set(S);P=c.filter(K9(O=>$.has(O[e.ids])))}else e.brushType==="Axis Selection"?P=c.filter(K9($=>new Date($[e.x])>=new Date(T)&&new Date($[e.x])<=new Date(k)&&$[e.y]>=I&&$[e.y]<=R)):P=c.filter(K9($=>$[e.x]>=T&&$[e.x]<=k&&$[e.y]>=I&&$[e.y]<=R));const N={x1:v[0][0]||o?.x1||0,x2:v[1][0]||o?.x2||0,y1:v[0][1]||o?.y1||0,y2:v[1][1]||o?.y2||0,hasBrush:C!=="clear",ids:C!=="clear"?P?.array("id"):[]};a(N),C==="drag"||C==="handle"?p(C,N):C==="clear"&&f.apply("Clear Brush",d.clearBrush(N)),s(P),r(N),t({status:!0,provenanceGraph:f.graph.backend,answers:{}})},[o,c,e,f,t,p,d]),g=A.useMemo(()=>i?i?.groupby(e.category).count():c?c?.groupby(e.category).count():null,[i,c,e.category]),y=A.useCallback(v=>{s(v)},[]);return l?b.jsxs(zn,{gap:"xs",children:[b.jsx(Dq,{brushedPoints:o?.ids,data:l,params:e,brushType:e.brushType,setBrushedSpace:m,brushState:o,setFilteredTable:y}),b.jsx(Pq,{data:l,parameters:e,barsTable:g})]}):b.jsx(pc,{})}const $3e=Object.freeze(Object.defineProperty({__proto__:null,BrushPlot:Oq,default:Oq},Symbol.toStringTag,{value:"Module"}));function QJ({state:e,params:t,answers:n,onStateChange:r}){return b.jsx(Oq,{parameters:t,setAnswer:()=>null,provenanceState:e?{all:e}:void 0,updateState:r||(()=>null),answers:n})}const M3e=Object.freeze(Object.defineProperty({__proto__:null,default:QJ},Symbol.toStringTag,{value:"Module"}));function o3t(){return b.jsx(QJ,{params:{dataset:"penguin",x:"Body Mass (g)",y:"Flipper Length (mm)",category:"Species",ids:"id",brushType:"Slider Selection"},answers:{}})}const F3e=Object.freeze(Object.defineProperty({__proto__:null,default:o3t},Symbol.toStringTag,{value:"Module"}));function a3t({parameters:e,setAnswer:t,provenanceState:n}){const[r,i]=A.useState(),{actions:s,trrack:o}=A.useMemo(()=>{const l=Xy.create(),u=l.register("brush",(d,f)=>(d.brush=f,d)),c=qC({registry:l,initialState:{brush:{hasBrush:!1,x1:null,x2:null,y1:null,y2:null,ids:[]}}});return{actions:{brush:u},trrack:c}},[]),a=A.useCallback(l=>{i(l),o.apply("Brush",s.brush(l)),t({answers:{},status:!0,provenanceGraph:o.graph.backend})},[s,t,o]);return b.jsx(QJ,{params:e,state:n||r,onStateChange:a,answers:{}})}const L3e=Object.freeze(Object.defineProperty({__proto__:null,default:a3t},Symbol.toStringTag,{value:"Module"})),l3t=e=>e.sort((n,r)=>parseInt(n.trialOrder.split("_").at(-1)||"0",10)-parseInt(r.trialOrder.split("_").at(-1)||"0",10)).at(-1);function u3t({answers:e}){const t=Object.values(e).filter(a=>a.componentName==="trial");if(t.length===0)return{component:"trial",parameters:{r1:.1,r2:.9},correctAnswer:[{id:"buttonsResponse",answer:"right"}]};if(t.length===9)return{component:null};const n=l3t(t),r=n.parameters.r2===.9,i=r?n.parameters.r1+.1:n.parameters.r2+.1;return{component:"trial",parameters:{r1:r?.9:i,r2:r?i:.9},correctAnswer:[{id:"buttonsResponse",answer:r?"left":"right"}]}}const j3e=Object.freeze(Object.defineProperty({__proto__:null,default:u3t},Symbol.toStringTag,{value:"Module"})),VB=300,LD=300;function Nq({r:e,datasetName:t}){const n=A.useRef(null),[r,i]=A.useState([]),[s,o]=A.useState(!1),a={left:0,top:20,right:20,bottom:20},l=LD-a.bottom,u=VB-a.left-a.right;A.useEffect(()=>{(async()=>{try{const f=`${Yi}tutorial/assets/datasets/size_100/${t}`,h=await fetch(f);if(!h.ok)throw new Error(`Failed to fetch dataset: ${f}`);const g=(await h.text()).trim().split(`
`).slice(1).map(y=>{const[v,w]=y.split(",").map(Number);return[v,w]});i(g)}catch(f){console.error("Error loading dataset:",f)}})()},[e]);const c=A.useCallback(()=>{if(r.length===0)return;const d=_u().domain([0,1]).range([0,u]),f=_u().domain([0,1]).range([l,0]),h=BRe(d).tickSize(0).tickFormat(()=>""),p=zRe(f).tickSize(0).tickFormat(()=>""),m=yo(n.current).attr("width",VB).attr("height",LD);m.selectAll("*").remove(),m.append("g").attr("transform",`translate(${a.left}, ${LD-a.bottom+19})`).call(h),m.append("g").attr("transform",`translate(${a.left}, ${a.top})`).call(p),m.selectAll(".dot").data(r).enter().append("circle").attr("class","dot").attr("r",2).attr("cx",g=>d(g[0])+a.left).attr("cy",g=>f(g[1])+a.top).style("fill","black")},[r,u,l,a.left,a.top]);return A.useEffect(()=>{c()},[c]),b.jsxs("svg",{className:"d3-component",width:VB,height:LD,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[b.jsx("g",{id:"d3Stuff",ref:n}),b.jsx("rect",{x:0,y:20,width:u,height:l,cursor:"pointer",opacity:s?.2:0,fill:"cornflowerblue"})]})}const B3e=Object.freeze(Object.defineProperty({__proto__:null,Scatter:Nq},Symbol.toStringTag,{value:"Module"}));function c3t({parameters:e}){const{r1:t,r2:n}=e,r=`dataset_${t.toFixed(1)}_size_100.csv`,i=`dataset_${n.toFixed(1)}_size_100.csv`;return b.jsxs(zn,{style:{width:"100%",height:"100%"},children:[b.jsx(He,{style:{textAlign:"center",paddingBottom:"0px",fontSize:"18px",fontWeight:"bold"},children:"Please select the visualization that appears to have a larger correlation."}),b.jsx(He,{style:{textAlign:"center",paddingBottom:"24px",fontSize:"18px",fontWeight:"bold"},children:"You can either click the buttons or use the left and right keys."}),b.jsx(So,{children:b.jsxs(An,{style:{gap:"40px"},mb:"md",children:[b.jsx(Nq,{r:t,datasetName:r}),b.jsx(Nq,{r:n,datasetName:i})]})})]})}const z3e=Object.freeze(Object.defineProperty({__proto__:null,default:c3t},Symbol.toStringTag,{value:"Module"})),U3e=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),V3e=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),HB=300,jD=300;function d3t({r:e,datasetName:t}){const n=A.useRef(null),[r,i]=A.useState([]),[s,o]=A.useState(!1),a={left:0,top:20,right:20,bottom:20},l=jD-a.bottom,u=HB-a.left-a.right;A.useEffect(()=>{(async()=>{try{const f=`${Yi}tutorial/assets/datasets/size_100/${t}`,h=await fetch(f);if(!h.ok)throw new Error(`Failed to fetch dataset: ${f}`);const g=(await h.text()).trim().split(`
`).slice(1).map(y=>{const[v,w]=y.split(",").map(Number);return[v,w]});i(g)}catch(f){console.error("Error loading dataset:",f)}})()},[e]);const c=A.useCallback(()=>{if(r.length===0)return;const d=_u().domain([0,1]).range([0,u]),f=_u().domain([0,1]).range([l,0]),h=BRe(d).tickSize(0).tickFormat(()=>""),p=zRe(f).tickSize(0).tickFormat(()=>""),m=yo(n.current).attr("width",HB).attr("height",jD);m.selectAll("*").remove(),m.append("g").attr("transform",`translate(${a.left}, ${jD-a.bottom+19})`).call(h),m.append("g").attr("transform",`translate(${a.left}, ${a.top})`).call(p),m.selectAll(".dot").data(r).enter().append("circle").attr("class","dot").attr("r",2).attr("cx",g=>d(g[0])+a.left).attr("cy",g=>f(g[1])+a.top).style("fill","black")},[r,u,l,a.left,a.top]);return A.useEffect(()=>{c()},[c]),b.jsxs("svg",{className:"d3-component",width:HB,height:jD,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[b.jsx("g",{id:"d3Stuff",ref:n}),b.jsx("rect",{x:0,y:20,width:u,height:l,cursor:"pointer",opacity:s?.2:0,fill:"cornflowerblue"})]})}const H3e=Object.freeze(Object.defineProperty({__proto__:null,Scatter:d3t},Symbol.toStringTag,{value:"Module"})),q3e=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var YP={exports:{}};function Am(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var KP={exports:{}};const f3t={},h3t=Object.freeze(Object.defineProperty({__proto__:null,default:f3t},Symbol.toStringTag,{value:"Module"})),W3e=R7e(h3t);var p3t=KP.exports,khe;function Ir(){return khe||(khe=1,(function(e,t){(function(n,r){e.exports=r()})(p3t,function(){var n=n||(function(r,i){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof Si<"u"&&Si.crypto&&(s=Si.crypto),!s&&typeof Am=="function")try{s=W3e}catch{}var o=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||(function(){function v(){}return function(w){var _;return v.prototype=w,_=new v,v.prototype=null,_}})(),l={},u=l.lib={},c=u.Base=(function(){return{extend:function(v){var w=a(this);return v&&w.mixIn(v),(!w.hasOwnProperty("init")||this.init===w.init)&&(w.init=function(){w.$super.init.apply(this,arguments)}),w.init.prototype=w,w.$super=this,w},create:function(){var v=this.extend();return v.init.apply(v,arguments),v},init:function(){},mixIn:function(v){for(var w in v)v.hasOwnProperty(w)&&(this[w]=v[w]);v.hasOwnProperty("toString")&&(this.toString=v.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),d=u.WordArray=c.extend({init:function(v,w){v=this.words=v||[],w!=i?this.sigBytes=w:this.sigBytes=v.length*4},toString:function(v){return(v||h).stringify(this)},concat:function(v){var w=this.words,_=v.words,C=this.sigBytes,S=v.sigBytes;if(this.clamp(),C%4)for(var T=0;T<S;T++){var k=_[T>>>2]>>>24-T%4*8&255;w[C+T>>>2]|=k<<24-(C+T)%4*8}else for(var I=0;I<S;I+=4)w[C+I>>>2]=_[I>>>2];return this.sigBytes+=S,this},clamp:function(){var v=this.words,w=this.sigBytes;v[w>>>2]&=4294967295<<32-w%4*8,v.length=r.ceil(w/4)},clone:function(){var v=c.clone.call(this);return v.words=this.words.slice(0),v},random:function(v){for(var w=[],_=0;_<v;_+=4)w.push(o());return new d.init(w,v)}}),f=l.enc={},h=f.Hex={stringify:function(v){for(var w=v.words,_=v.sigBytes,C=[],S=0;S<_;S++){var T=w[S>>>2]>>>24-S%4*8&255;C.push((T>>>4).toString(16)),C.push((T&15).toString(16))}return C.join("")},parse:function(v){for(var w=v.length,_=[],C=0;C<w;C+=2)_[C>>>3]|=parseInt(v.substr(C,2),16)<<24-C%8*4;return new d.init(_,w/2)}},p=f.Latin1={stringify:function(v){for(var w=v.words,_=v.sigBytes,C=[],S=0;S<_;S++){var T=w[S>>>2]>>>24-S%4*8&255;C.push(String.fromCharCode(T))}return C.join("")},parse:function(v){for(var w=v.length,_=[],C=0;C<w;C++)_[C>>>2]|=(v.charCodeAt(C)&255)<<24-C%4*8;return new d.init(_,w)}},m=f.Utf8={stringify:function(v){try{return decodeURIComponent(escape(p.stringify(v)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(v){return p.parse(unescape(encodeURIComponent(v)))}},g=u.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(v){typeof v=="string"&&(v=m.parse(v)),this._data.concat(v),this._nDataBytes+=v.sigBytes},_process:function(v){var w,_=this._data,C=_.words,S=_.sigBytes,T=this.blockSize,k=T*4,I=S/k;v?I=r.ceil(I):I=r.max((I|0)-this._minBufferSize,0);var R=I*T,P=r.min(R*4,S);if(R){for(var N=0;N<R;N+=T)this._doProcessBlock(C,N);w=C.splice(0,R),_.sigBytes-=P}return new d.init(w,P)},clone:function(){var v=c.clone.call(this);return v._data=this._data.clone(),v},_minBufferSize:0});u.Hasher=g.extend({cfg:c.extend(),init:function(v){this.cfg=this.cfg.extend(v),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(v){return this._append(v),this._process(),this},finalize:function(v){v&&this._append(v);var w=this._doFinalize();return w},blockSize:16,_createHelper:function(v){return function(w,_){return new v.init(_).finalize(w)}},_createHmacHelper:function(v){return function(w,_){return new y.HMAC.init(v,_).finalize(w)}}});var y=l.algo={};return l})(Math);return n})})(KP)),KP.exports}var XP={exports:{}},m3t=XP.exports,Ahe;function _M(){return Ahe||(Ahe=1,(function(e,t){(function(n,r){e.exports=r(Ir())})(m3t,function(n){return(function(r){var i=n,s=i.lib,o=s.Base,a=s.WordArray,l=i.x64={};l.Word=o.extend({init:function(u,c){this.high=u,this.low=c}}),l.WordArray=o.extend({init:function(u,c){u=this.words=u||[],c!=r?this.sigBytes=c:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,c=u.length,d=[],f=0;f<c;f++){var h=u[f];d.push(h.high),d.push(h.low)}return a.create(d,this.sigBytes)},clone:function(){for(var u=o.clone.call(this),c=u.words=this.words.slice(0),d=c.length,f=0;f<d;f++)c[f]=c[f].clone();return u}})})(),n})})(XP)),XP.exports}var QP={exports:{}},g3t=QP.exports,Rhe;function y3t(){return Rhe||(Rhe=1,(function(e,t){(function(n,r){e.exports=r(Ir())})(g3t,function(n){return(function(){if(typeof ArrayBuffer=="function"){var r=n,i=r.lib,s=i.WordArray,o=s.init,a=s.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var u=l.byteLength,c=[],d=0;d<u;d++)c[d>>>2]|=l[d]<<24-d%4*8;o.call(this,c,u)}else o.apply(this,arguments)};a.prototype=s}})(),n.lib.WordArray})})(QP)),QP.exports}var JP={exports:{}},v3t=JP.exports,Ihe;function b3t(){return Ihe||(Ihe=1,(function(e,t){(function(n,r){e.exports=r(Ir())})(v3t,function(n){return(function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Utf16=o.Utf16BE={stringify:function(l){for(var u=l.words,c=l.sigBytes,d=[],f=0;f<c;f+=2){var h=u[f>>>2]>>>16-f%4*8&65535;d.push(String.fromCharCode(h))}return d.join("")},parse:function(l){for(var u=l.length,c=[],d=0;d<u;d++)c[d>>>1]|=l.charCodeAt(d)<<16-d%2*16;return s.create(c,u*2)}},o.Utf16LE={stringify:function(l){for(var u=l.words,c=l.sigBytes,d=[],f=0;f<c;f+=2){var h=a(u[f>>>2]>>>16-f%4*8&65535);d.push(String.fromCharCode(h))}return d.join("")},parse:function(l){for(var u=l.length,c=[],d=0;d<u;d++)c[d>>>1]|=a(l.charCodeAt(d)<<16-d%2*16);return s.create(c,u*2)}};function a(l){return l<<8&4278255360|l>>>8&16711935}})(),n.enc.Utf16})})(JP)),JP.exports}var ZP={exports:{}},w3t=ZP.exports,Dhe;function Bb(){return Dhe||(Dhe=1,(function(e,t){(function(n,r){e.exports=r(Ir())})(w3t,function(n){return(function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Base64={stringify:function(l){var u=l.words,c=l.sigBytes,d=this._map;l.clamp();for(var f=[],h=0;h<c;h+=3)for(var p=u[h>>>2]>>>24-h%4*8&255,m=u[h+1>>>2]>>>24-(h+1)%4*8&255,g=u[h+2>>>2]>>>24-(h+2)%4*8&255,y=p<<16|m<<8|g,v=0;v<4&&h+v*.75<c;v++)f.push(d.charAt(y>>>6*(3-v)&63));var w=d.charAt(64);if(w)for(;f.length%4;)f.push(w);return f.join("")},parse:function(l){var u=l.length,c=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var f=0;f<c.length;f++)d[c.charCodeAt(f)]=f}var h=c.charAt(64);if(h){var p=l.indexOf(h);p!==-1&&(u=p)}return a(l,u,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,u,c){for(var d=[],f=0,h=0;h<u;h++)if(h%4){var p=c[l.charCodeAt(h-1)]<<h%4*2,m=c[l.charCodeAt(h)]>>>6-h%4*2,g=p|m;d[f>>>2]|=g<<24-f%4*8,f++}return s.create(d,f)}})(),n.enc.Base64})})(ZP)),ZP.exports}var eO={exports:{}},x3t=eO.exports,Phe;function _3t(){return Phe||(Phe=1,(function(e,t){(function(n,r){e.exports=r(Ir())})(x3t,function(n){return(function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Base64url={stringify:function(l,u){u===void 0&&(u=!0);var c=l.words,d=l.sigBytes,f=u?this._safe_map:this._map;l.clamp();for(var h=[],p=0;p<d;p+=3)for(var m=c[p>>>2]>>>24-p%4*8&255,g=c[p+1>>>2]>>>24-(p+1)%4*8&255,y=c[p+2>>>2]>>>24-(p+2)%4*8&255,v=m<<16|g<<8|y,w=0;w<4&&p+w*.75<d;w++)h.push(f.charAt(v>>>6*(3-w)&63));var _=f.charAt(64);if(_)for(;h.length%4;)h.push(_);return h.join("")},parse:function(l,u){u===void 0&&(u=!0);var c=l.length,d=u?this._safe_map:this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var h=0;h<d.length;h++)f[d.charCodeAt(h)]=h}var p=d.charAt(64);if(p){var m=l.indexOf(p);m!==-1&&(c=m)}return a(l,c,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,u,c){for(var d=[],f=0,h=0;h<u;h++)if(h%4){var p=c[l.charCodeAt(h-1)]<<h%4*2,m=c[l.charCodeAt(h)]>>>6-h%4*2,g=p|m;d[f>>>2]|=g<<24-f%4*8,f++}return s.create(d,f)}})(),n.enc.Base64url})})(eO)),eO.exports}var tO={exports:{}},C3t=tO.exports,Ohe;function zb(){return Ohe||(Ohe=1,(function(e,t){(function(n,r){e.exports=r(Ir())})(C3t,function(n){return(function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,u=[];(function(){for(var m=0;m<64;m++)u[m]=r.abs(r.sin(m+1))*4294967296|0})();var c=l.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(m,g){for(var y=0;y<16;y++){var v=g+y,w=m[v];m[v]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}var _=this._hash.words,C=m[g+0],S=m[g+1],T=m[g+2],k=m[g+3],I=m[g+4],R=m[g+5],P=m[g+6],N=m[g+7],$=m[g+8],O=m[g+9],j=m[g+10],B=m[g+11],H=m[g+12],q=m[g+13],Y=m[g+14],V=m[g+15],L=_[0],z=_[1],U=_[2],G=_[3];L=d(L,z,U,G,C,7,u[0]),G=d(G,L,z,U,S,12,u[1]),U=d(U,G,L,z,T,17,u[2]),z=d(z,U,G,L,k,22,u[3]),L=d(L,z,U,G,I,7,u[4]),G=d(G,L,z,U,R,12,u[5]),U=d(U,G,L,z,P,17,u[6]),z=d(z,U,G,L,N,22,u[7]),L=d(L,z,U,G,$,7,u[8]),G=d(G,L,z,U,O,12,u[9]),U=d(U,G,L,z,j,17,u[10]),z=d(z,U,G,L,B,22,u[11]),L=d(L,z,U,G,H,7,u[12]),G=d(G,L,z,U,q,12,u[13]),U=d(U,G,L,z,Y,17,u[14]),z=d(z,U,G,L,V,22,u[15]),L=f(L,z,U,G,S,5,u[16]),G=f(G,L,z,U,P,9,u[17]),U=f(U,G,L,z,B,14,u[18]),z=f(z,U,G,L,C,20,u[19]),L=f(L,z,U,G,R,5,u[20]),G=f(G,L,z,U,j,9,u[21]),U=f(U,G,L,z,V,14,u[22]),z=f(z,U,G,L,I,20,u[23]),L=f(L,z,U,G,O,5,u[24]),G=f(G,L,z,U,Y,9,u[25]),U=f(U,G,L,z,k,14,u[26]),z=f(z,U,G,L,$,20,u[27]),L=f(L,z,U,G,q,5,u[28]),G=f(G,L,z,U,T,9,u[29]),U=f(U,G,L,z,N,14,u[30]),z=f(z,U,G,L,H,20,u[31]),L=h(L,z,U,G,R,4,u[32]),G=h(G,L,z,U,$,11,u[33]),U=h(U,G,L,z,B,16,u[34]),z=h(z,U,G,L,Y,23,u[35]),L=h(L,z,U,G,S,4,u[36]),G=h(G,L,z,U,I,11,u[37]),U=h(U,G,L,z,N,16,u[38]),z=h(z,U,G,L,j,23,u[39]),L=h(L,z,U,G,q,4,u[40]),G=h(G,L,z,U,C,11,u[41]),U=h(U,G,L,z,k,16,u[42]),z=h(z,U,G,L,P,23,u[43]),L=h(L,z,U,G,O,4,u[44]),G=h(G,L,z,U,H,11,u[45]),U=h(U,G,L,z,V,16,u[46]),z=h(z,U,G,L,T,23,u[47]),L=p(L,z,U,G,C,6,u[48]),G=p(G,L,z,U,N,10,u[49]),U=p(U,G,L,z,Y,15,u[50]),z=p(z,U,G,L,R,21,u[51]),L=p(L,z,U,G,H,6,u[52]),G=p(G,L,z,U,k,10,u[53]),U=p(U,G,L,z,j,15,u[54]),z=p(z,U,G,L,S,21,u[55]),L=p(L,z,U,G,$,6,u[56]),G=p(G,L,z,U,V,10,u[57]),U=p(U,G,L,z,P,15,u[58]),z=p(z,U,G,L,q,21,u[59]),L=p(L,z,U,G,I,6,u[60]),G=p(G,L,z,U,B,10,u[61]),U=p(U,G,L,z,T,15,u[62]),z=p(z,U,G,L,O,21,u[63]),_[0]=_[0]+L|0,_[1]=_[1]+z|0,_[2]=_[2]+U|0,_[3]=_[3]+G|0},_doFinalize:function(){var m=this._data,g=m.words,y=this._nDataBytes*8,v=m.sigBytes*8;g[v>>>5]|=128<<24-v%32;var w=r.floor(y/4294967296),_=y;g[(v+64>>>9<<4)+15]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,g[(v+64>>>9<<4)+14]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,m.sigBytes=(g.length+1)*4,this._process();for(var C=this._hash,S=C.words,T=0;T<4;T++){var k=S[T];S[T]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360}return C},clone:function(){var m=a.clone.call(this);return m._hash=this._hash.clone(),m}});function d(m,g,y,v,w,_,C){var S=m+(g&y|~g&v)+w+C;return(S<<_|S>>>32-_)+g}function f(m,g,y,v,w,_,C){var S=m+(g&v|y&~v)+w+C;return(S<<_|S>>>32-_)+g}function h(m,g,y,v,w,_,C){var S=m+(g^y^v)+w+C;return(S<<_|S>>>32-_)+g}function p(m,g,y,v,w,_,C){var S=m+(y^(g|~v))+w+C;return(S<<_|S>>>32-_)+g}i.MD5=a._createHelper(c),i.HmacMD5=a._createHmacHelper(c)})(Math),n.MD5})})(tO)),tO.exports}var nO={exports:{}},E3t=nO.exports,Nhe;function G3e(){return Nhe||(Nhe=1,(function(e,t){(function(n,r){e.exports=r(Ir())})(E3t,function(n){return(function(){var r=n,i=r.lib,s=i.WordArray,o=i.Hasher,a=r.algo,l=[],u=a.SHA1=o.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(c,d){for(var f=this._hash.words,h=f[0],p=f[1],m=f[2],g=f[3],y=f[4],v=0;v<80;v++){if(v<16)l[v]=c[d+v]|0;else{var w=l[v-3]^l[v-8]^l[v-14]^l[v-16];l[v]=w<<1|w>>>31}var _=(h<<5|h>>>27)+y+l[v];v<20?_+=(p&m|~p&g)+1518500249:v<40?_+=(p^m^g)+1859775393:v<60?_+=(p&m|p&g|m&g)-1894007588:_+=(p^m^g)-899497514,y=g,g=m,m=p<<30|p>>>2,p=h,h=_}f[0]=f[0]+h|0,f[1]=f[1]+p|0,f[2]=f[2]+m|0,f[3]=f[3]+g|0,f[4]=f[4]+y|0},_doFinalize:function(){var c=this._data,d=c.words,f=this._nDataBytes*8,h=c.sigBytes*8;return d[h>>>5]|=128<<24-h%32,d[(h+64>>>9<<4)+14]=Math.floor(f/4294967296),d[(h+64>>>9<<4)+15]=f,c.sigBytes=d.length*4,this._process(),this._hash},clone:function(){var c=o.clone.call(this);return c._hash=this._hash.clone(),c}});r.SHA1=o._createHelper(u),r.HmacSHA1=o._createHmacHelper(u)})(),n.SHA1})})(nO)),nO.exports}var rO={exports:{}},S3t=rO.exports,$he;function JJ(){return $he||($he=1,(function(e,t){(function(n,r){e.exports=r(Ir())})(S3t,function(n){return(function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,u=[],c=[];(function(){function h(y){for(var v=r.sqrt(y),w=2;w<=v;w++)if(!(y%w))return!1;return!0}function p(y){return(y-(y|0))*4294967296|0}for(var m=2,g=0;g<64;)h(m)&&(g<8&&(u[g]=p(r.pow(m,1/2))),c[g]=p(r.pow(m,1/3)),g++),m++})();var d=[],f=l.SHA256=a.extend({_doReset:function(){this._hash=new o.init(u.slice(0))},_doProcessBlock:function(h,p){for(var m=this._hash.words,g=m[0],y=m[1],v=m[2],w=m[3],_=m[4],C=m[5],S=m[6],T=m[7],k=0;k<64;k++){if(k<16)d[k]=h[p+k]|0;else{var I=d[k-15],R=(I<<25|I>>>7)^(I<<14|I>>>18)^I>>>3,P=d[k-2],N=(P<<15|P>>>17)^(P<<13|P>>>19)^P>>>10;d[k]=R+d[k-7]+N+d[k-16]}var $=_&C^~_&S,O=g&y^g&v^y&v,j=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),B=(_<<26|_>>>6)^(_<<21|_>>>11)^(_<<7|_>>>25),H=T+B+$+c[k]+d[k],q=j+O;T=S,S=C,C=_,_=w+H|0,w=v,v=y,y=g,g=H+q|0}m[0]=m[0]+g|0,m[1]=m[1]+y|0,m[2]=m[2]+v|0,m[3]=m[3]+w|0,m[4]=m[4]+_|0,m[5]=m[5]+C|0,m[6]=m[6]+S|0,m[7]=m[7]+T|0},_doFinalize:function(){var h=this._data,p=h.words,m=this._nDataBytes*8,g=h.sigBytes*8;return p[g>>>5]|=128<<24-g%32,p[(g+64>>>9<<4)+14]=r.floor(m/4294967296),p[(g+64>>>9<<4)+15]=m,h.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var h=a.clone.call(this);return h._hash=this._hash.clone(),h}});i.SHA256=a._createHelper(f),i.HmacSHA256=a._createHmacHelper(f)})(Math),n.SHA256})})(rO)),rO.exports}var iO={exports:{}},T3t=iO.exports,Mhe;function k3t(){return Mhe||(Mhe=1,(function(e,t){(function(n,r,i){e.exports=r(Ir(),JJ())})(T3t,function(n){return(function(){var r=n,i=r.lib,s=i.WordArray,o=r.algo,a=o.SHA256,l=o.SHA224=a.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=a._doFinalize.call(this);return u.sigBytes-=4,u}});r.SHA224=a._createHelper(l),r.HmacSHA224=a._createHmacHelper(l)})(),n.SHA224})})(iO)),iO.exports}var sO={exports:{}},A3t=sO.exports,Fhe;function Y3e(){return Fhe||(Fhe=1,(function(e,t){(function(n,r,i){e.exports=r(Ir(),_M())})(A3t,function(n){return(function(){var r=n,i=r.lib,s=i.Hasher,o=r.x64,a=o.Word,l=o.WordArray,u=r.algo;function c(){return a.create.apply(a,arguments)}var d=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],f=[];(function(){for(var p=0;p<80;p++)f[p]=c()})();var h=u.SHA512=s.extend({_doReset:function(){this._hash=new l.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(p,m){for(var g=this._hash.words,y=g[0],v=g[1],w=g[2],_=g[3],C=g[4],S=g[5],T=g[6],k=g[7],I=y.high,R=y.low,P=v.high,N=v.low,$=w.high,O=w.low,j=_.high,B=_.low,H=C.high,q=C.low,Y=S.high,V=S.low,L=T.high,z=T.low,U=k.high,G=k.low,Q=I,ne=R,ue=P,se=N,ae=$,he=O,ie=j,le=B,Ee=H,X=q,fe=Y,de=V,te=L,ee=z,me=U,Re=G,Te=0;Te<80;Te++){var we,$e,Ae=f[Te];if(Te<16)$e=Ae.high=p[m+Te*2]|0,we=Ae.low=p[m+Te*2+1]|0;else{var Oe=f[Te-15],xe=Oe.high,je=Oe.low,Ue=(xe>>>1|je<<31)^(xe>>>8|je<<24)^xe>>>7,nt=(je>>>1|xe<<31)^(je>>>8|xe<<24)^(je>>>7|xe<<25),it=f[Te-2],wt=it.high,Zt=it.low,Qt=(wt>>>19|Zt<<13)^(wt<<3|Zt>>>29)^wt>>>6,Mn=(Zt>>>19|wt<<13)^(Zt<<3|wt>>>29)^(Zt>>>6|wt<<26),jt=f[Te-7],gn=jt.high,Kn=jt.low,Un=f[Te-16],Dr=Un.high,Jn=Un.low;we=nt+Kn,$e=Ue+gn+(we>>>0<nt>>>0?1:0),we=we+Mn,$e=$e+Qt+(we>>>0<Mn>>>0?1:0),we=we+Jn,$e=$e+Dr+(we>>>0<Jn>>>0?1:0),Ae.high=$e,Ae.low=we}var br=Ee&fe^~Ee&te,Rn=X&de^~X&ee,fn=Q&ue^Q&ae^ue&ae,sr=ne&se^ne&he^se&he,ui=(Q>>>28|ne<<4)^(Q<<30|ne>>>2)^(Q<<25|ne>>>7),_r=(ne>>>28|Q<<4)^(ne<<30|Q>>>2)^(ne<<25|Q>>>7),In=(Ee>>>14|X<<18)^(Ee>>>18|X<<14)^(Ee<<23|X>>>9),ht=(X>>>14|Ee<<18)^(X>>>18|Ee<<14)^(X<<23|Ee>>>9),pr=d[Te],Yt=pr.high,tr=pr.low,pn=Re+ht,Qn=me+In+(pn>>>0<Re>>>0?1:0),pn=pn+Rn,Qn=Qn+br+(pn>>>0<Rn>>>0?1:0),pn=pn+tr,Qn=Qn+Yt+(pn>>>0<tr>>>0?1:0),pn=pn+we,Qn=Qn+$e+(pn>>>0<we>>>0?1:0),Cr=_r+sr,Pr=ui+fn+(Cr>>>0<_r>>>0?1:0);me=te,Re=ee,te=fe,ee=de,fe=Ee,de=X,X=le+pn|0,Ee=ie+Qn+(X>>>0<le>>>0?1:0)|0,ie=ae,le=he,ae=ue,he=se,ue=Q,se=ne,ne=pn+Cr|0,Q=Qn+Pr+(ne>>>0<pn>>>0?1:0)|0}R=y.low=R+ne,y.high=I+Q+(R>>>0<ne>>>0?1:0),N=v.low=N+se,v.high=P+ue+(N>>>0<se>>>0?1:0),O=w.low=O+he,w.high=$+ae+(O>>>0<he>>>0?1:0),B=_.low=B+le,_.high=j+ie+(B>>>0<le>>>0?1:0),q=C.low=q+X,C.high=H+Ee+(q>>>0<X>>>0?1:0),V=S.low=V+de,S.high=Y+fe+(V>>>0<de>>>0?1:0),z=T.low=z+ee,T.high=L+te+(z>>>0<ee>>>0?1:0),G=k.low=G+Re,k.high=U+me+(G>>>0<Re>>>0?1:0)},_doFinalize:function(){var p=this._data,m=p.words,g=this._nDataBytes*8,y=p.sigBytes*8;m[y>>>5]|=128<<24-y%32,m[(y+128>>>10<<5)+30]=Math.floor(g/4294967296),m[(y+128>>>10<<5)+31]=g,p.sigBytes=m.length*4,this._process();var v=this._hash.toX32();return v},clone:function(){var p=s.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});r.SHA512=s._createHelper(h),r.HmacSHA512=s._createHmacHelper(h)})(),n.SHA512})})(sO)),sO.exports}var oO={exports:{}},R3t=oO.exports,Lhe;function I3t(){return Lhe||(Lhe=1,(function(e,t){(function(n,r,i){e.exports=r(Ir(),_M(),Y3e())})(R3t,function(n){return(function(){var r=n,i=r.x64,s=i.Word,o=i.WordArray,a=r.algo,l=a.SHA512,u=a.SHA384=l.extend({_doReset:function(){this._hash=new o.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var c=l._doFinalize.call(this);return c.sigBytes-=16,c}});r.SHA384=l._createHelper(u),r.HmacSHA384=l._createHmacHelper(u)})(),n.SHA384})})(oO)),oO.exports}var aO={exports:{}},D3t=aO.exports,jhe;function P3t(){return jhe||(jhe=1,(function(e,t){(function(n,r,i){e.exports=r(Ir(),_M())})(D3t,function(n){return(function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.x64,u=l.Word,c=i.algo,d=[],f=[],h=[];(function(){for(var g=1,y=0,v=0;v<24;v++){d[g+5*y]=(v+1)*(v+2)/2%64;var w=y%5,_=(2*g+3*y)%5;g=w,y=_}for(var g=0;g<5;g++)for(var y=0;y<5;y++)f[g+5*y]=y+(2*g+3*y)%5*5;for(var C=1,S=0;S<24;S++){for(var T=0,k=0,I=0;I<7;I++){if(C&1){var R=(1<<I)-1;R<32?k^=1<<R:T^=1<<R-32}C&128?C=C<<1^113:C<<=1}h[S]=u.create(T,k)}})();var p=[];(function(){for(var g=0;g<25;g++)p[g]=u.create()})();var m=c.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var g=this._state=[],y=0;y<25;y++)g[y]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(g,y){for(var v=this._state,w=this.blockSize/2,_=0;_<w;_++){var C=g[y+2*_],S=g[y+2*_+1];C=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360;var T=v[_];T.high^=S,T.low^=C}for(var k=0;k<24;k++){for(var I=0;I<5;I++){for(var R=0,P=0,N=0;N<5;N++){var T=v[I+5*N];R^=T.high,P^=T.low}var $=p[I];$.high=R,$.low=P}for(var I=0;I<5;I++)for(var O=p[(I+4)%5],j=p[(I+1)%5],B=j.high,H=j.low,R=O.high^(B<<1|H>>>31),P=O.low^(H<<1|B>>>31),N=0;N<5;N++){var T=v[I+5*N];T.high^=R,T.low^=P}for(var q=1;q<25;q++){var R,P,T=v[q],Y=T.high,V=T.low,L=d[q];L<32?(R=Y<<L|V>>>32-L,P=V<<L|Y>>>32-L):(R=V<<L-32|Y>>>64-L,P=Y<<L-32|V>>>64-L);var z=p[f[q]];z.high=R,z.low=P}var U=p[0],G=v[0];U.high=G.high,U.low=G.low;for(var I=0;I<5;I++)for(var N=0;N<5;N++){var q=I+5*N,T=v[q],Q=p[q],ne=p[(I+1)%5+5*N],ue=p[(I+2)%5+5*N];T.high=Q.high^~ne.high&ue.high,T.low=Q.low^~ne.low&ue.low}var T=v[0],se=h[k];T.high^=se.high,T.low^=se.low}},_doFinalize:function(){var g=this._data,y=g.words;this._nDataBytes*8;var v=g.sigBytes*8,w=this.blockSize*32;y[v>>>5]|=1<<24-v%32,y[(r.ceil((v+1)/w)*w>>>5)-1]|=128,g.sigBytes=y.length*4,this._process();for(var _=this._state,C=this.cfg.outputLength/8,S=C/8,T=[],k=0;k<S;k++){var I=_[k],R=I.high,P=I.low;R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,T.push(P),T.push(R)}return new o.init(T,C)},clone:function(){for(var g=a.clone.call(this),y=g._state=this._state.slice(0),v=0;v<25;v++)y[v]=y[v].clone();return g}});i.SHA3=a._createHelper(m),i.HmacSHA3=a._createHmacHelper(m)})(Math),n.SHA3})})(aO)),aO.exports}var lO={exports:{}},O3t=lO.exports,Bhe;function N3t(){return Bhe||(Bhe=1,(function(e,t){(function(n,r){e.exports=r(Ir())})(O3t,function(n){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return(function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,u=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),d=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=o.create([0,1518500249,1859775393,2400959708,2840853838]),p=o.create([1352829926,1548603684,1836072691,2053994217,0]),m=l.RIPEMD160=a.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(S,T){for(var k=0;k<16;k++){var I=T+k,R=S[I];S[I]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}var P=this._hash.words,N=h.words,$=p.words,O=u.words,j=c.words,B=d.words,H=f.words,q,Y,V,L,z,U,G,Q,ne,ue;U=q=P[0],G=Y=P[1],Q=V=P[2],ne=L=P[3],ue=z=P[4];for(var se,k=0;k<80;k+=1)se=q+S[T+O[k]]|0,k<16?se+=g(Y,V,L)+N[0]:k<32?se+=y(Y,V,L)+N[1]:k<48?se+=v(Y,V,L)+N[2]:k<64?se+=w(Y,V,L)+N[3]:se+=_(Y,V,L)+N[4],se=se|0,se=C(se,B[k]),se=se+z|0,q=z,z=L,L=C(V,10),V=Y,Y=se,se=U+S[T+j[k]]|0,k<16?se+=_(G,Q,ne)+$[0]:k<32?se+=w(G,Q,ne)+$[1]:k<48?se+=v(G,Q,ne)+$[2]:k<64?se+=y(G,Q,ne)+$[3]:se+=g(G,Q,ne)+$[4],se=se|0,se=C(se,H[k]),se=se+ue|0,U=ue,ue=ne,ne=C(Q,10),Q=G,G=se;se=P[1]+V+ne|0,P[1]=P[2]+L+ue|0,P[2]=P[3]+z+U|0,P[3]=P[4]+q+G|0,P[4]=P[0]+Y+Q|0,P[0]=se},_doFinalize:function(){var S=this._data,T=S.words,k=this._nDataBytes*8,I=S.sigBytes*8;T[I>>>5]|=128<<24-I%32,T[(I+64>>>9<<4)+14]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,S.sigBytes=(T.length+1)*4,this._process();for(var R=this._hash,P=R.words,N=0;N<5;N++){var $=P[N];P[N]=($<<8|$>>>24)&16711935|($<<24|$>>>8)&4278255360}return R},clone:function(){var S=a.clone.call(this);return S._hash=this._hash.clone(),S}});function g(S,T,k){return S^T^k}function y(S,T,k){return S&T|~S&k}function v(S,T,k){return(S|~T)^k}function w(S,T,k){return S&k|T&~k}function _(S,T,k){return S^(T|~k)}function C(S,T){return S<<T|S>>>32-T}i.RIPEMD160=a._createHelper(m),i.HmacRIPEMD160=a._createHmacHelper(m)})(),n.RIPEMD160})})(lO)),lO.exports}var uO={exports:{}},$3t=uO.exports,zhe;function ZJ(){return zhe||(zhe=1,(function(e,t){(function(n,r){e.exports=r(Ir())})($3t,function(n){(function(){var r=n,i=r.lib,s=i.Base,o=r.enc,a=o.Utf8,l=r.algo;l.HMAC=s.extend({init:function(u,c){u=this._hasher=new u.init,typeof c=="string"&&(c=a.parse(c));var d=u.blockSize,f=d*4;c.sigBytes>f&&(c=u.finalize(c)),c.clamp();for(var h=this._oKey=c.clone(),p=this._iKey=c.clone(),m=h.words,g=p.words,y=0;y<d;y++)m[y]^=1549556828,g[y]^=909522486;h.sigBytes=p.sigBytes=f,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var c=this._hasher,d=c.finalize(u);c.reset();var f=c.finalize(this._oKey.clone().concat(d));return f}})})()})})(uO)),uO.exports}var cO={exports:{}},M3t=cO.exports,Uhe;function F3t(){return Uhe||(Uhe=1,(function(e,t){(function(n,r,i){e.exports=r(Ir(),JJ(),ZJ())})(M3t,function(n){return(function(){var r=n,i=r.lib,s=i.Base,o=i.WordArray,a=r.algo,l=a.SHA256,u=a.HMAC,c=a.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,f){for(var h=this.cfg,p=u.create(h.hasher,d),m=o.create(),g=o.create([1]),y=m.words,v=g.words,w=h.keySize,_=h.iterations;y.length<w;){var C=p.update(f).finalize(g);p.reset();for(var S=C.words,T=S.length,k=C,I=1;I<_;I++){k=p.finalize(k),p.reset();for(var R=k.words,P=0;P<T;P++)S[P]^=R[P]}m.concat(C),v[0]++}return m.sigBytes=w*4,m}});r.PBKDF2=function(d,f,h){return c.create(h).compute(d,f)}})(),n.PBKDF2})})(cO)),cO.exports}var dO={exports:{}},L3t=dO.exports,Vhe;function ev(){return Vhe||(Vhe=1,(function(e,t){(function(n,r,i){e.exports=r(Ir(),G3e(),ZJ())})(L3t,function(n){return(function(){var r=n,i=r.lib,s=i.Base,o=i.WordArray,a=r.algo,l=a.MD5,u=a.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:l,iterations:1}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,d){for(var f,h=this.cfg,p=h.hasher.create(),m=o.create(),g=m.words,y=h.keySize,v=h.iterations;g.length<y;){f&&p.update(f),f=p.update(c).finalize(d),p.reset();for(var w=1;w<v;w++)f=p.finalize(f),p.reset();m.concat(f)}return m.sigBytes=y*4,m}});r.EvpKDF=function(c,d,f){return u.create(f).compute(c,d)}})(),n.EvpKDF})})(dO)),dO.exports}var fO={exports:{}},j3t=fO.exports,Hhe;function Zo(){return Hhe||(Hhe=1,(function(e,t){(function(n,r,i){e.exports=r(Ir(),ev())})(j3t,function(n){n.lib.Cipher||(function(r){var i=n,s=i.lib,o=s.Base,a=s.WordArray,l=s.BufferedBlockAlgorithm,u=i.enc;u.Utf8;var c=u.Base64,d=i.algo,f=d.EvpKDF,h=s.Cipher=l.extend({cfg:o.extend(),createEncryptor:function(R,P){return this.create(this._ENC_XFORM_MODE,R,P)},createDecryptor:function(R,P){return this.create(this._DEC_XFORM_MODE,R,P)},init:function(R,P,N){this.cfg=this.cfg.extend(N),this._xformMode=R,this._key=P,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(R){return this._append(R),this._process()},finalize:function(R){R&&this._append(R);var P=this._doFinalize();return P},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function R(P){return typeof P=="string"?I:S}return function(P){return{encrypt:function(N,$,O){return R($).encrypt(P,N,$,O)},decrypt:function(N,$,O){return R($).decrypt(P,N,$,O)}}}})()});s.StreamCipher=h.extend({_doFinalize:function(){var R=this._process(!0);return R},blockSize:1});var p=i.mode={},m=s.BlockCipherMode=o.extend({createEncryptor:function(R,P){return this.Encryptor.create(R,P)},createDecryptor:function(R,P){return this.Decryptor.create(R,P)},init:function(R,P){this._cipher=R,this._iv=P}}),g=p.CBC=(function(){var R=m.extend();R.Encryptor=R.extend({processBlock:function(N,$){var O=this._cipher,j=O.blockSize;P.call(this,N,$,j),O.encryptBlock(N,$),this._prevBlock=N.slice($,$+j)}}),R.Decryptor=R.extend({processBlock:function(N,$){var O=this._cipher,j=O.blockSize,B=N.slice($,$+j);O.decryptBlock(N,$),P.call(this,N,$,j),this._prevBlock=B}});function P(N,$,O){var j,B=this._iv;B?(j=B,this._iv=r):j=this._prevBlock;for(var H=0;H<O;H++)N[$+H]^=j[H]}return R})(),y=i.pad={},v=y.Pkcs7={pad:function(R,P){for(var N=P*4,$=N-R.sigBytes%N,O=$<<24|$<<16|$<<8|$,j=[],B=0;B<$;B+=4)j.push(O);var H=a.create(j,$);R.concat(H)},unpad:function(R){var P=R.words[R.sigBytes-1>>>2]&255;R.sigBytes-=P}};s.BlockCipher=h.extend({cfg:h.cfg.extend({mode:g,padding:v}),reset:function(){var R;h.reset.call(this);var P=this.cfg,N=P.iv,$=P.mode;this._xformMode==this._ENC_XFORM_MODE?R=$.createEncryptor:(R=$.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==R?this._mode.init(this,N&&N.words):(this._mode=R.call($,this,N&&N.words),this._mode.__creator=R)},_doProcessBlock:function(R,P){this._mode.processBlock(R,P)},_doFinalize:function(){var R,P=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(P.pad(this._data,this.blockSize),R=this._process(!0)):(R=this._process(!0),P.unpad(R)),R},blockSize:128/32});var w=s.CipherParams=o.extend({init:function(R){this.mixIn(R)},toString:function(R){return(R||this.formatter).stringify(this)}}),_=i.format={},C=_.OpenSSL={stringify:function(R){var P,N=R.ciphertext,$=R.salt;return $?P=a.create([1398893684,1701076831]).concat($).concat(N):P=N,P.toString(c)},parse:function(R){var P,N=c.parse(R),$=N.words;return $[0]==1398893684&&$[1]==1701076831&&(P=a.create($.slice(2,4)),$.splice(0,4),N.sigBytes-=16),w.create({ciphertext:N,salt:P})}},S=s.SerializableCipher=o.extend({cfg:o.extend({format:C}),encrypt:function(R,P,N,$){$=this.cfg.extend($);var O=R.createEncryptor(N,$),j=O.finalize(P),B=O.cfg;return w.create({ciphertext:j,key:N,iv:B.iv,algorithm:R,mode:B.mode,padding:B.padding,blockSize:R.blockSize,formatter:$.format})},decrypt:function(R,P,N,$){$=this.cfg.extend($),P=this._parse(P,$.format);var O=R.createDecryptor(N,$).finalize(P.ciphertext);return O},_parse:function(R,P){return typeof R=="string"?P.parse(R,this):R}}),T=i.kdf={},k=T.OpenSSL={execute:function(R,P,N,$,O){if($||($=a.random(64/8)),O)var j=f.create({keySize:P+N,hasher:O}).compute(R,$);else var j=f.create({keySize:P+N}).compute(R,$);var B=a.create(j.words.slice(P),N*4);return j.sigBytes=P*4,w.create({key:j,iv:B,salt:$})}},I=s.PasswordBasedCipher=S.extend({cfg:S.cfg.extend({kdf:k}),encrypt:function(R,P,N,$){$=this.cfg.extend($);var O=$.kdf.execute(N,R.keySize,R.ivSize,$.salt,$.hasher);$.iv=O.iv;var j=S.encrypt.call(this,R,P,O.key,$);return j.mixIn(O),j},decrypt:function(R,P,N,$){$=this.cfg.extend($),P=this._parse(P,$.format);var O=$.kdf.execute(N,R.keySize,R.ivSize,P.salt,$.hasher);$.iv=O.iv;var j=S.decrypt.call(this,R,P,O.key,$);return j}})})()})})(fO)),fO.exports}var hO={exports:{}},B3t=hO.exports,qhe;function z3t(){return qhe||(qhe=1,(function(e,t){(function(n,r,i){e.exports=r(Ir(),Zo())})(B3t,function(n){return n.mode.CFB=(function(){var r=n.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize;i.call(this,s,o,l,a),this._prevBlock=s.slice(o,o+l)}}),r.Decryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,u=s.slice(o,o+l);i.call(this,s,o,l,a),this._prevBlock=u}});function i(s,o,a,l){var u,c=this._iv;c?(u=c.slice(0),this._iv=void 0):u=this._prevBlock,l.encryptBlock(u,0);for(var d=0;d<a;d++)s[o+d]^=u[d]}return r})(),n.mode.CFB})})(hO)),hO.exports}var pO={exports:{}},U3t=pO.exports,Whe;function V3t(){return Whe||(Whe=1,(function(e,t){(function(n,r,i){e.exports=r(Ir(),Zo())})(U3t,function(n){return n.mode.CTR=(function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,u=this._iv,c=this._counter;u&&(c=this._counter=u.slice(0),this._iv=void 0);var d=c.slice(0);a.encryptBlock(d,0),c[l-1]=c[l-1]+1|0;for(var f=0;f<l;f++)s[o+f]^=d[f]}});return r.Decryptor=i,r})(),n.mode.CTR})})(pO)),pO.exports}var mO={exports:{}},H3t=mO.exports,Ghe;function q3t(){return Ghe||(Ghe=1,(function(e,t){(function(n,r,i){e.exports=r(Ir(),Zo())})(H3t,function(n){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return n.mode.CTRGladman=(function(){var r=n.lib.BlockCipherMode.extend();function i(a){if((a>>24&255)===255){var l=a>>16&255,u=a>>8&255,c=a&255;l===255?(l=0,u===255?(u=0,c===255?c=0:++c):++u):++l,a=0,a+=l<<16,a+=u<<8,a+=c}else a+=1<<24;return a}function s(a){return(a[0]=i(a[0]))===0&&(a[1]=i(a[1])),a}var o=r.Encryptor=r.extend({processBlock:function(a,l){var u=this._cipher,c=u.blockSize,d=this._iv,f=this._counter;d&&(f=this._counter=d.slice(0),this._iv=void 0),s(f);var h=f.slice(0);u.encryptBlock(h,0);for(var p=0;p<c;p++)a[l+p]^=h[p]}});return r.Decryptor=o,r})(),n.mode.CTRGladman})})(mO)),mO.exports}var gO={exports:{}},W3t=gO.exports,Yhe;function G3t(){return Yhe||(Yhe=1,(function(e,t){(function(n,r,i){e.exports=r(Ir(),Zo())})(W3t,function(n){return n.mode.OFB=(function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,u=this._iv,c=this._keystream;u&&(c=this._keystream=u.slice(0),this._iv=void 0),a.encryptBlock(c,0);for(var d=0;d<l;d++)s[o+d]^=c[d]}});return r.Decryptor=i,r})(),n.mode.OFB})})(gO)),gO.exports}var yO={exports:{}},Y3t=yO.exports,Khe;function K3t(){return Khe||(Khe=1,(function(e,t){(function(n,r,i){e.exports=r(Ir(),Zo())})(Y3t,function(n){return n.mode.ECB=(function(){var r=n.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(i,s){this._cipher.encryptBlock(i,s)}}),r.Decryptor=r.extend({processBlock:function(i,s){this._cipher.decryptBlock(i,s)}}),r})(),n.mode.ECB})})(yO)),yO.exports}var vO={exports:{}},X3t=vO.exports,Xhe;function Q3t(){return Xhe||(Xhe=1,(function(e,t){(function(n,r,i){e.exports=r(Ir(),Zo())})(X3t,function(n){return n.pad.AnsiX923={pad:function(r,i){var s=r.sigBytes,o=i*4,a=o-s%o,l=s+a-1;r.clamp(),r.words[l>>>2]|=a<<24-l%4*8,r.sigBytes+=a},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Ansix923})})(vO)),vO.exports}var bO={exports:{}},J3t=bO.exports,Qhe;function Z3t(){return Qhe||(Qhe=1,(function(e,t){(function(n,r,i){e.exports=r(Ir(),Zo())})(J3t,function(n){return n.pad.Iso10126={pad:function(r,i){var s=i*4,o=s-r.sigBytes%s;r.concat(n.lib.WordArray.random(o-1)).concat(n.lib.WordArray.create([o<<24],1))},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Iso10126})})(bO)),bO.exports}var wO={exports:{}},ePt=wO.exports,Jhe;function tPt(){return Jhe||(Jhe=1,(function(e,t){(function(n,r,i){e.exports=r(Ir(),Zo())})(ePt,function(n){return n.pad.Iso97971={pad:function(r,i){r.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(r,i)},unpad:function(r){n.pad.ZeroPadding.unpad(r),r.sigBytes--}},n.pad.Iso97971})})(wO)),wO.exports}var xO={exports:{}},nPt=xO.exports,Zhe;function rPt(){return Zhe||(Zhe=1,(function(e,t){(function(n,r,i){e.exports=r(Ir(),Zo())})(nPt,function(n){return n.pad.ZeroPadding={pad:function(r,i){var s=i*4;r.clamp(),r.sigBytes+=s-(r.sigBytes%s||s)},unpad:function(r){for(var i=r.words,s=r.sigBytes-1,s=r.sigBytes-1;s>=0;s--)if(i[s>>>2]>>>24-s%4*8&255){r.sigBytes=s+1;break}}},n.pad.ZeroPadding})})(xO)),xO.exports}var _O={exports:{}},iPt=_O.exports,epe;function sPt(){return epe||(epe=1,(function(e,t){(function(n,r,i){e.exports=r(Ir(),Zo())})(iPt,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})})(_O)),_O.exports}var CO={exports:{}},oPt=CO.exports,tpe;function aPt(){return tpe||(tpe=1,(function(e,t){(function(n,r,i){e.exports=r(Ir(),Zo())})(oPt,function(n){return(function(r){var i=n,s=i.lib,o=s.CipherParams,a=i.enc,l=a.Hex,u=i.format;u.Hex={stringify:function(c){return c.ciphertext.toString(l)},parse:function(c){var d=l.parse(c);return o.create({ciphertext:d})}}})(),n.format.Hex})})(CO)),CO.exports}var EO={exports:{}},lPt=EO.exports,npe;function uPt(){return npe||(npe=1,(function(e,t){(function(n,r,i){e.exports=r(Ir(),Bb(),zb(),ev(),Zo())})(lPt,function(n){return(function(){var r=n,i=r.lib,s=i.BlockCipher,o=r.algo,a=[],l=[],u=[],c=[],d=[],f=[],h=[],p=[],m=[],g=[];(function(){for(var w=[],_=0;_<256;_++)_<128?w[_]=_<<1:w[_]=_<<1^283;for(var C=0,S=0,_=0;_<256;_++){var T=S^S<<1^S<<2^S<<3^S<<4;T=T>>>8^T&255^99,a[C]=T,l[T]=C;var k=w[C],I=w[k],R=w[I],P=w[T]*257^T*16843008;u[C]=P<<24|P>>>8,c[C]=P<<16|P>>>16,d[C]=P<<8|P>>>24,f[C]=P;var P=R*16843009^I*65537^k*257^C*16843008;h[T]=P<<24|P>>>8,p[T]=P<<16|P>>>16,m[T]=P<<8|P>>>24,g[T]=P,C?(C=k^w[w[w[R^k]]],S^=w[w[S]]):C=S=1}})();var y=[0,1,2,4,8,16,32,64,128,27,54],v=o.AES=s.extend({_doReset:function(){var w;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var _=this._keyPriorReset=this._key,C=_.words,S=_.sigBytes/4,T=this._nRounds=S+6,k=(T+1)*4,I=this._keySchedule=[],R=0;R<k;R++)R<S?I[R]=C[R]:(w=I[R-1],R%S?S>6&&R%S==4&&(w=a[w>>>24]<<24|a[w>>>16&255]<<16|a[w>>>8&255]<<8|a[w&255]):(w=w<<8|w>>>24,w=a[w>>>24]<<24|a[w>>>16&255]<<16|a[w>>>8&255]<<8|a[w&255],w^=y[R/S|0]<<24),I[R]=I[R-S]^w);for(var P=this._invKeySchedule=[],N=0;N<k;N++){var R=k-N;if(N%4)var w=I[R];else var w=I[R-4];N<4||R<=4?P[N]=w:P[N]=h[a[w>>>24]]^p[a[w>>>16&255]]^m[a[w>>>8&255]]^g[a[w&255]]}}},encryptBlock:function(w,_){this._doCryptBlock(w,_,this._keySchedule,u,c,d,f,a)},decryptBlock:function(w,_){var C=w[_+1];w[_+1]=w[_+3],w[_+3]=C,this._doCryptBlock(w,_,this._invKeySchedule,h,p,m,g,l);var C=w[_+1];w[_+1]=w[_+3],w[_+3]=C},_doCryptBlock:function(w,_,C,S,T,k,I,R){for(var P=this._nRounds,N=w[_]^C[0],$=w[_+1]^C[1],O=w[_+2]^C[2],j=w[_+3]^C[3],B=4,H=1;H<P;H++){var q=S[N>>>24]^T[$>>>16&255]^k[O>>>8&255]^I[j&255]^C[B++],Y=S[$>>>24]^T[O>>>16&255]^k[j>>>8&255]^I[N&255]^C[B++],V=S[O>>>24]^T[j>>>16&255]^k[N>>>8&255]^I[$&255]^C[B++],L=S[j>>>24]^T[N>>>16&255]^k[$>>>8&255]^I[O&255]^C[B++];N=q,$=Y,O=V,j=L}var q=(R[N>>>24]<<24|R[$>>>16&255]<<16|R[O>>>8&255]<<8|R[j&255])^C[B++],Y=(R[$>>>24]<<24|R[O>>>16&255]<<16|R[j>>>8&255]<<8|R[N&255])^C[B++],V=(R[O>>>24]<<24|R[j>>>16&255]<<16|R[N>>>8&255]<<8|R[$&255])^C[B++],L=(R[j>>>24]<<24|R[N>>>16&255]<<16|R[$>>>8&255]<<8|R[O&255])^C[B++];w[_]=q,w[_+1]=Y,w[_+2]=V,w[_+3]=L},keySize:256/32});r.AES=s._createHelper(v)})(),n.AES})})(EO)),EO.exports}var SO={exports:{}},cPt=SO.exports,rpe;function dPt(){return rpe||(rpe=1,(function(e,t){(function(n,r,i){e.exports=r(Ir(),Bb(),zb(),ev(),Zo())})(cPt,function(n){return(function(){var r=n,i=r.lib,s=i.WordArray,o=i.BlockCipher,a=r.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],d=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=a.DES=o.extend({_doReset:function(){for(var y=this._key,v=y.words,w=[],_=0;_<56;_++){var C=l[_]-1;w[_]=v[C>>>5]>>>31-C%32&1}for(var S=this._subKeys=[],T=0;T<16;T++){for(var k=S[T]=[],I=c[T],_=0;_<24;_++)k[_/6|0]|=w[(u[_]-1+I)%28]<<31-_%6,k[4+(_/6|0)]|=w[28+(u[_+24]-1+I)%28]<<31-_%6;k[0]=k[0]<<1|k[0]>>>31;for(var _=1;_<7;_++)k[_]=k[_]>>>(_-1)*4+3;k[7]=k[7]<<5|k[7]>>>27}for(var R=this._invSubKeys=[],_=0;_<16;_++)R[_]=S[15-_]},encryptBlock:function(y,v){this._doCryptBlock(y,v,this._subKeys)},decryptBlock:function(y,v){this._doCryptBlock(y,v,this._invSubKeys)},_doCryptBlock:function(y,v,w){this._lBlock=y[v],this._rBlock=y[v+1],p.call(this,4,252645135),p.call(this,16,65535),m.call(this,2,858993459),m.call(this,8,16711935),p.call(this,1,1431655765);for(var _=0;_<16;_++){for(var C=w[_],S=this._lBlock,T=this._rBlock,k=0,I=0;I<8;I++)k|=d[I][((T^C[I])&f[I])>>>0];this._lBlock=T,this._rBlock=S^k}var R=this._lBlock;this._lBlock=this._rBlock,this._rBlock=R,p.call(this,1,1431655765),m.call(this,8,16711935),m.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),y[v]=this._lBlock,y[v+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(y,v){var w=(this._lBlock>>>y^this._rBlock)&v;this._rBlock^=w,this._lBlock^=w<<y}function m(y,v){var w=(this._rBlock>>>y^this._lBlock)&v;this._lBlock^=w,this._rBlock^=w<<y}r.DES=o._createHelper(h);var g=a.TripleDES=o.extend({_doReset:function(){var y=this._key,v=y.words;if(v.length!==2&&v.length!==4&&v.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var w=v.slice(0,2),_=v.length<4?v.slice(0,2):v.slice(2,4),C=v.length<6?v.slice(0,2):v.slice(4,6);this._des1=h.createEncryptor(s.create(w)),this._des2=h.createEncryptor(s.create(_)),this._des3=h.createEncryptor(s.create(C))},encryptBlock:function(y,v){this._des1.encryptBlock(y,v),this._des2.decryptBlock(y,v),this._des3.encryptBlock(y,v)},decryptBlock:function(y,v){this._des3.decryptBlock(y,v),this._des2.encryptBlock(y,v),this._des1.decryptBlock(y,v)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=o._createHelper(g)})(),n.TripleDES})})(SO)),SO.exports}var TO={exports:{}},fPt=TO.exports,ipe;function hPt(){return ipe||(ipe=1,(function(e,t){(function(n,r,i){e.exports=r(Ir(),Bb(),zb(),ev(),Zo())})(fPt,function(n){return(function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,a=o.RC4=s.extend({_doReset:function(){for(var c=this._key,d=c.words,f=c.sigBytes,h=this._S=[],p=0;p<256;p++)h[p]=p;for(var p=0,m=0;p<256;p++){var g=p%f,y=d[g>>>2]>>>24-g%4*8&255;m=(m+h[p]+y)%256;var v=h[p];h[p]=h[m],h[m]=v}this._i=this._j=0},_doProcessBlock:function(c,d){c[d]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var c=this._S,d=this._i,f=this._j,h=0,p=0;p<4;p++){d=(d+1)%256,f=(f+c[d])%256;var m=c[d];c[d]=c[f],c[f]=m,h|=c[(c[d]+c[f])%256]<<24-p*8}return this._i=d,this._j=f,h}r.RC4=s._createHelper(a);var u=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)l.call(this)}});r.RC4Drop=s._createHelper(u)})(),n.RC4})})(TO)),TO.exports}var kO={exports:{}},pPt=kO.exports,spe;function mPt(){return spe||(spe=1,(function(e,t){(function(n,r,i){e.exports=r(Ir(),Bb(),zb(),ev(),Zo())})(pPt,function(n){return(function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,a=[],l=[],u=[],c=o.Rabbit=s.extend({_doReset:function(){for(var f=this._key.words,h=this.cfg.iv,p=0;p<4;p++)f[p]=(f[p]<<8|f[p]>>>24)&16711935|(f[p]<<24|f[p]>>>8)&4278255360;var m=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],g=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var p=0;p<4;p++)d.call(this);for(var p=0;p<8;p++)g[p]^=m[p+4&7];if(h){var y=h.words,v=y[0],w=y[1],_=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,C=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,S=_>>>16|C&4294901760,T=C<<16|_&65535;g[0]^=_,g[1]^=S,g[2]^=C,g[3]^=T,g[4]^=_,g[5]^=S,g[6]^=C,g[7]^=T;for(var p=0;p<4;p++)d.call(this)}},_doProcessBlock:function(f,h){var p=this._X;d.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,f[h+m]^=a[m]},blockSize:128/32,ivSize:64/32});function d(){for(var f=this._X,h=this._C,p=0;p<8;p++)l[p]=h[p];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<l[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<l[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<l[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<l[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<l[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<l[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<l[6]>>>0?1:0)|0,this._b=h[7]>>>0<l[7]>>>0?1:0;for(var p=0;p<8;p++){var m=f[p]+h[p],g=m&65535,y=m>>>16,v=((g*g>>>17)+g*y>>>15)+y*y,w=((m&4294901760)*m|0)+((m&65535)*m|0);u[p]=v^w}f[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,f[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,f[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,f[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,f[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,f[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,f[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,f[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.Rabbit=s._createHelper(c)})(),n.Rabbit})})(kO)),kO.exports}var AO={exports:{}},gPt=AO.exports,ope;function yPt(){return ope||(ope=1,(function(e,t){(function(n,r,i){e.exports=r(Ir(),Bb(),zb(),ev(),Zo())})(gPt,function(n){return(function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,a=[],l=[],u=[],c=o.RabbitLegacy=s.extend({_doReset:function(){var f=this._key.words,h=this.cfg.iv,p=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],m=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var g=0;g<4;g++)d.call(this);for(var g=0;g<8;g++)m[g]^=p[g+4&7];if(h){var y=h.words,v=y[0],w=y[1],_=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,C=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,S=_>>>16|C&4294901760,T=C<<16|_&65535;m[0]^=_,m[1]^=S,m[2]^=C,m[3]^=T,m[4]^=_,m[5]^=S,m[6]^=C,m[7]^=T;for(var g=0;g<4;g++)d.call(this)}},_doProcessBlock:function(f,h){var p=this._X;d.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,f[h+m]^=a[m]},blockSize:128/32,ivSize:64/32});function d(){for(var f=this._X,h=this._C,p=0;p<8;p++)l[p]=h[p];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<l[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<l[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<l[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<l[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<l[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<l[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<l[6]>>>0?1:0)|0,this._b=h[7]>>>0<l[7]>>>0?1:0;for(var p=0;p<8;p++){var m=f[p]+h[p],g=m&65535,y=m>>>16,v=((g*g>>>17)+g*y>>>15)+y*y,w=((m&4294901760)*m|0)+((m&65535)*m|0);u[p]=v^w}f[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,f[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,f[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,f[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,f[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,f[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,f[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,f[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.RabbitLegacy=s._createHelper(c)})(),n.RabbitLegacy})})(AO)),AO.exports}var RO={exports:{}},vPt=RO.exports,ape;function bPt(){return ape||(ape=1,(function(e,t){(function(n,r,i){e.exports=r(Ir(),Bb(),zb(),ev(),Zo())})(vPt,function(n){return(function(){var r=n,i=r.lib,s=i.BlockCipher,o=r.algo;const a=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],u=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function d(g,y){let v=y>>24&255,w=y>>16&255,_=y>>8&255,C=y&255,S=g.sbox[0][v]+g.sbox[1][w];return S=S^g.sbox[2][_],S=S+g.sbox[3][C],S}function f(g,y,v){let w=y,_=v,C;for(let S=0;S<a;++S)w=w^g.pbox[S],_=d(g,w)^_,C=w,w=_,_=C;return C=w,w=_,_=C,_=_^g.pbox[a],w=w^g.pbox[a+1],{left:w,right:_}}function h(g,y,v){let w=y,_=v,C;for(let S=a+1;S>1;--S)w=w^g.pbox[S],_=d(g,w)^_,C=w,w=_,_=C;return C=w,w=_,_=C,_=_^g.pbox[1],w=w^g.pbox[0],{left:w,right:_}}function p(g,y,v){for(let T=0;T<4;T++){g.sbox[T]=[];for(let k=0;k<256;k++)g.sbox[T][k]=u[T][k]}let w=0;for(let T=0;T<a+2;T++)g.pbox[T]=l[T]^y[w],w++,w>=v&&(w=0);let _=0,C=0,S=0;for(let T=0;T<a+2;T+=2)S=f(g,_,C),_=S.left,C=S.right,g.pbox[T]=_,g.pbox[T+1]=C;for(let T=0;T<4;T++)for(let k=0;k<256;k+=2)S=f(g,_,C),_=S.left,C=S.right,g.sbox[T][k]=_,g.sbox[T][k+1]=C;return!0}var m=o.Blowfish=s.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var g=this._keyPriorReset=this._key,y=g.words,v=g.sigBytes/4;p(c,y,v)}},encryptBlock:function(g,y){var v=f(c,g[y],g[y+1]);g[y]=v.left,g[y+1]=v.right},decryptBlock:function(g,y){var v=h(c,g[y],g[y+1]);g[y]=v.left,g[y+1]=v.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=s._createHelper(m)})(),n.Blowfish})})(RO)),RO.exports}var wPt=YP.exports,lpe;function xPt(){return lpe||(lpe=1,(function(e,t){(function(n,r,i){e.exports=r(Ir(),_M(),y3t(),b3t(),Bb(),_3t(),zb(),G3e(),JJ(),k3t(),Y3e(),I3t(),P3t(),N3t(),ZJ(),F3t(),ev(),Zo(),z3t(),V3t(),q3t(),G3t(),K3t(),Q3t(),Z3t(),tPt(),rPt(),sPt(),aPt(),uPt(),dPt(),hPt(),mPt(),yPt(),bPt())})(wPt,function(n){return n})})(YP)),YP.exports}var Xx=xPt();const K3e=Xx.enc.Hex.parse("000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f");function Ss(e){const t=Xx.AES.encrypt(e.toString(),K3e,{mode:Xx.mode.ECB}).toString();return btoa(t)}function bf(e){const t=Xx.AES.decrypt(atob(e),K3e,{mode:Xx.mode.ECB}).toString(Xx.enc.Utf8);return parseInt(t,10)}function Kf(){const{studyId:e}=ro();return`${e}`}function yc(){const{index:e}=ro();return e===void 0?0:e.startsWith("reviewer-")||e.startsWith("__")?e:bf(e)}const upe=Object.assign({"../public/libraries/adaptive-vlat/assets/VlatTrial.tsx":KSe,"../public/libraries/adaptive-vlat/assets/dynamic.tsx":JSe,"../public/libraries/adaptive-vlat/assets/utils.ts":QSe,"../public/libraries/adaptive-vlat/assets/vlatQ.tsx":YSe,"../public/libraries/berlin-num/assets/dynamic.tsx":ZSe,"../public/libraries/mic-check/assets/AudioTest.tsx":eTe,"../public/libraries/screen-recording/assets/ScreenRecording.tsx":_Te,"../public/libraries/test/assets/test.tsx":CTe,"../public/libraries/virtual-chinrest/assets/ViewingDistanceCalibration.tsx":ETe,"../public/libraries/virtual-chinrest/assets/VirtualChinrestCalibration.tsx":STe,"../public/tutorial/assets/BrushPlotWrapper.tsx":M3e,"../public/tutorial/assets/ReactExample.tsx":F3e,"../public/tutorial/assets/_answers/ReactExample.tsx":L3e,"../public/tutorial/assets/_answers/replication/JNDDynamic.tsx":j3e,"../public/tutorial/assets/_answers/replication/Scatter.tsx":B3e,"../public/tutorial/assets/_answers/replication/ScatterWrapper.tsx":z3e,"../public/tutorial/assets/brush-components/assets/Bar.tsx":N3e,"../public/tutorial/assets/brush-components/assets/BrushPlot.tsx":$3e,"../public/tutorial/assets/brush-components/assets/Paintbrush.tsx":I3e,"../public/tutorial/assets/brush-components/assets/Scatter.tsx":D3e,"../public/tutorial/assets/brush-components/assets/XAxisBar.tsx":T3e,"../public/tutorial/assets/brush-components/assets/YAxis.tsx":A3e,"../public/tutorial/assets/brush-components/assets/YAxisBar.tsx":O3e,"../public/tutorial/assets/brush-components/assets/types.ts":U3e,"../public/tutorial/assets/replication/JNDDynamic.tsx":V3e,"../public/tutorial/assets/replication/Scatter.tsx":H3e,"../public/tutorial/assets/replication/ScatterWrapper.tsx":q3e});function Xf(){const{funcIndex:e}=ro(),t=ar(m=>m.answers),n=Du(),r=yc(),i=qy(),s=ll(),o=Kf(),a=As(),{pushToFuncSequence:l}=is(),[u,c]=A.useState(null),d=A.useMemo(()=>typeof r=="number"?_ce(i[r],n):r.includes("reviewer-")||r.startsWith("__")?r:null,[r,i,n]),[f,h]=A.useState("__dynamicLoading"),p=A.useMemo(()=>{if(typeof r=="number"&&!d){const m=lH(i[r],n.sequence);if(!m)return null;const g=`../public/${m.functionPath}`;return g in upe?upe[g].default:null}return null},[d,r,i,n.sequence]);return A.useEffect(()=>{!e&&p&&typeof r=="number"&&s(`/${o}/${Ss(r)}/${Ss(0)}${window.location.search}`)},[r,e,s,p,o]),A.useEffect(()=>{if(typeof r=="number"){const m=_ce(i[r],n),g=i[r],y=e?bf(e):0,v=Object.entries(t).find(([_,C])=>_.startsWith(`${g}_${r}_`)&&_.endsWith(`${y}`)),w=v?v[1].componentName:null;if(w!==null){h(w),c(y);return}if(!m&&p!==null){const{component:_,parameters:C,correctAnswer:S}=p({answers:t,customParameters:lH(i[r],n.sequence)?.parameters,currentStep:r,currentBlock:i[r]});_!==null?e&&(h(_),c(y),a(l({component:_,funcName:g,index:r,funcIndex:y,parameters:C||void 0,correctAnswer:S||void 0}))):(h("__dynamicLoading"),c(null),s(`/${o}/${Ss(r+1)}${window.location.search}`))}}},[r,e]),typeof r=="number"&&i[r]==="end"?"end":d?typeof r=="number"?i[r]:r.replace("reviewer-",""):u!==null&&e&&bf(e)===u?f:"__dynamicLoading"}function l0(){const e=yc(),t=qy(),n=Xf(),{funcIndex:r}=ro();return A.useMemo(()=>r&&typeof e=="number"?`${t[e]}_${e}_${n}_${bf(r)}`:`${n}_${e}`,[n,e,r,t])}function tv(){const{funcIndex:e}=ro(),t=qy(),n=yc(),r=Xf(),i=e&&typeof n=="number"?`${t[n]}_${n}_${r}_${bf(e)}`:`${r}_${n}`;return ar(o=>o.answers[i])}const X3e=A.createContext(null);function _Pt(){const e=A.useContext(X3e);if(!e)throw new Error("useWindowEvents must be used within a WindowEventsProvider");return e}function D0(){const[e]=mc();return!!e.get("participantId")}var xS={exports:{}};xS.exports;var cpe;function CPt(){return cpe||(cpe=1,(function(e,t){var n=200,r="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Function]",p="[object GeneratorFunction]",m="[object Map]",g="[object Number]",y="[object Null]",v="[object Object]",w="[object Promise]",_="[object Proxy]",C="[object RegExp]",S="[object Set]",T="[object String]",k="[object Symbol]",I="[object Undefined]",R="[object WeakMap]",P="[object ArrayBuffer]",N="[object DataView]",$="[object Float32Array]",O="[object Float64Array]",j="[object Int8Array]",B="[object Int16Array]",H="[object Int32Array]",q="[object Uint8Array]",Y="[object Uint8ClampedArray]",V="[object Uint16Array]",L="[object Uint32Array]",z=/[\\^$.*+?()[\]{}|]/g,U=/^\[object .+?Constructor\]$/,G=/^(?:0|[1-9]\d*)$/,Q={};Q[$]=Q[O]=Q[j]=Q[B]=Q[H]=Q[q]=Q[Y]=Q[V]=Q[L]=!0,Q[a]=Q[l]=Q[P]=Q[c]=Q[N]=Q[d]=Q[f]=Q[h]=Q[m]=Q[g]=Q[v]=Q[C]=Q[S]=Q[T]=Q[R]=!1;var ne=typeof Si=="object"&&Si&&Si.Object===Object&&Si,ue=typeof self=="object"&&self&&self.Object===Object&&self,se=ne||ue||Function("return this")(),ae=t&&!t.nodeType&&t,he=ae&&!0&&e&&!e.nodeType&&e,ie=he&&he.exports===ae,le=ie&&ne.process,Ee=(function(){try{return le&&le.binding&&le.binding("util")}catch{}})(),X=Ee&&Ee.isTypedArray;function fe(Se,oe){for(var ve=-1,Me=Se==null?0:Se.length,kt=0,$t=[];++ve<Me;){var yn=Se[ve];oe(yn,ve,Se)&&($t[kt++]=yn)}return $t}function de(Se,oe){for(var ve=-1,Me=oe.length,kt=Se.length;++ve<Me;)Se[kt+ve]=oe[ve];return Se}function te(Se,oe){for(var ve=-1,Me=Se==null?0:Se.length;++ve<Me;)if(oe(Se[ve],ve,Se))return!0;return!1}function ee(Se,oe){for(var ve=-1,Me=Array(Se);++ve<Se;)Me[ve]=oe(ve);return Me}function me(Se){return function(oe){return Se(oe)}}function Re(Se,oe){return Se.has(oe)}function Te(Se,oe){return Se?.[oe]}function we(Se){var oe=-1,ve=Array(Se.size);return Se.forEach(function(Me,kt){ve[++oe]=[kt,Me]}),ve}function $e(Se,oe){return function(ve){return Se(oe(ve))}}function Ae(Se){var oe=-1,ve=Array(Se.size);return Se.forEach(function(Me){ve[++oe]=Me}),ve}var Oe=Array.prototype,xe=Function.prototype,je=Object.prototype,Ue=se["__core-js_shared__"],nt=xe.toString,it=je.hasOwnProperty,wt=(function(){var Se=/[^.]+$/.exec(Ue&&Ue.keys&&Ue.keys.IE_PROTO||"");return Se?"Symbol(src)_1."+Se:""})(),Zt=je.toString,Qt=RegExp("^"+nt.call(it).replace(z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mn=ie?se.Buffer:void 0,jt=se.Symbol,gn=se.Uint8Array,Kn=je.propertyIsEnumerable,Un=Oe.splice,Dr=jt?jt.toStringTag:void 0,Jn=Object.getOwnPropertySymbols,br=Mn?Mn.isBuffer:void 0,Rn=$e(Object.keys,Object),fn=ur(se,"DataView"),sr=ur(se,"Map"),ui=ur(se,"Promise"),_r=ur(se,"Set"),In=ur(se,"WeakMap"),ht=ur(Object,"create"),pr=Di(fn),Yt=Di(sr),tr=Di(ui),pn=Di(_r),Qn=Di(In),Cr=jt?jt.prototype:void 0,Pr=Cr?Cr.valueOf:void 0;function Or(Se){var oe=-1,ve=Se==null?0:Se.length;for(this.clear();++oe<ve;){var Me=Se[oe];this.set(Me[0],Me[1])}}function oo(){this.__data__=ht?ht(null):{},this.size=0}function ka(Se){var oe=this.has(Se)&&delete this.__data__[Se];return this.size-=oe?1:0,oe}function Nu(Se){var oe=this.__data__;if(ht){var ve=oe[Se];return ve===r?void 0:ve}return it.call(oe,Se)?oe[Se]:void 0}function vc(Se){var oe=this.__data__;return ht?oe[Se]!==void 0:it.call(oe,Se)}function Vn(Se,oe){var ve=this.__data__;return this.size+=this.has(Se)?0:1,ve[Se]=ht&&oe===void 0?r:oe,this}Or.prototype.clear=oo,Or.prototype.delete=ka,Or.prototype.get=Nu,Or.prototype.has=vc,Or.prototype.set=Vn;function Bi(Se){var oe=-1,ve=Se==null?0:Se.length;for(this.clear();++oe<ve;){var Me=Se[oe];this.set(Me[0],Me[1])}}function ao(){this.__data__=[],this.size=0}function ch(Se){var oe=this.__data__,ve=_e(oe,Se);if(ve<0)return!1;var Me=oe.length-1;return ve==Me?oe.pop():Un.call(oe,ve,1),--this.size,!0}function Id(Se){var oe=this.__data__,ve=_e(oe,Se);return ve<0?void 0:oe[ve][1]}function bc(Se){return _e(this.__data__,Se)>-1}function wc(Se,oe){var ve=this.__data__,Me=_e(ve,Se);return Me<0?(++this.size,ve.push([Se,oe])):ve[Me][1]=oe,this}Bi.prototype.clear=ao,Bi.prototype.delete=ch,Bi.prototype.get=Id,Bi.prototype.has=bc,Bi.prototype.set=wc;function lo(Se){var oe=-1,ve=Se==null?0:Se.length;for(this.clear();++oe<ve;){var Me=Se[oe];this.set(Me[0],Me[1])}}function dh(){this.size=0,this.__data__={hash:new Or,map:new(sr||Bi),string:new Or}}function $u(Se){var oe=en(this,Se).delete(Se);return this.size-=oe?1:0,oe}function mr(Se){return en(this,Se).get(Se)}function Dd(Se){return en(this,Se).has(Se)}function Rs(Se,oe){var ve=en(this,Se),Me=ve.size;return ve.set(Se,oe),this.size+=ve.size==Me?0:1,this}lo.prototype.clear=dh,lo.prototype.delete=$u,lo.prototype.get=mr,lo.prototype.has=Dd,lo.prototype.set=Rs;function Io(Se){var oe=-1,ve=Se==null?0:Se.length;for(this.__data__=new lo;++oe<ve;)this.add(Se[oe])}function Is(Se){return this.__data__.set(Se,r),this}function Mu(Se){return this.__data__.has(Se)}Io.prototype.add=Io.prototype.push=Is,Io.prototype.has=Mu;function ta(Se){var oe=this.__data__=new Bi(Se);this.size=oe.size}function Yl(){this.__data__=new Bi,this.size=0}function Ds(Se){var oe=this.__data__,ve=oe.delete(Se);return this.size=oe.size,ve}function fh(Se){return this.__data__.get(Se)}function Ps(Se){return this.__data__.has(Se)}function ge(Se,oe){var ve=this.__data__;if(ve instanceof Bi){var Me=ve.__data__;if(!sr||Me.length<n-1)return Me.push([Se,oe]),this.size=++ve.size,this;ve=this.__data__=new lo(Me)}return ve.set(Se,oe),this.size=ve.size,this}ta.prototype.clear=Yl,ta.prototype.delete=Ds,ta.prototype.get=fh,ta.prototype.has=Ps,ta.prototype.set=ge;function Ne(Se,oe){var ve=Xs(Se),Me=!ve&&_c(Se),kt=!ve&&!Me&&mh(Se),$t=!ve&&!Me&&!kt&&Fu(Se),yn=ve||Me||kt||$t,jn=yn?ee(Se.length,String):[],rn=jn.length;for(var _n in Se)it.call(Se,_n)&&!(yn&&(_n=="length"||kt&&(_n=="offset"||_n=="parent")||$t&&(_n=="buffer"||_n=="byteLength"||_n=="byteOffset")||hh(_n,rn)))&&jn.push(_n);return jn}function _e(Se,oe){for(var ve=Se.length;ve--;)if(Do(Se[ve][0],oe))return ve;return-1}function Be(Se,oe,ve){var Me=oe(Se);return Xs(Se)?Me:de(Me,ve(Se))}function Ve(Se){return Se==null?Se===void 0?I:y:Dr&&Dr in Object(Se)?Os(Se):zi(Se)}function Le(Se){return na(Se)&&Ve(Se)==a}function rt(Se,oe,ve,Me,kt){return Se===oe?!0:Se==null||oe==null||!na(Se)&&!na(oe)?Se!==Se&&oe!==oe:ct(Se,oe,ve,Me,rt,kt)}function ct(Se,oe,ve,Me,kt,$t){var yn=Xs(Se),jn=Xs(oe),rn=yn?l:Ns(Se),_n=jn?l:Ns(oe);rn=rn==a?v:rn,_n=_n==a?v:_n;var lr=rn==v,ti=_n==v,ci=rn==_n;if(ci&&mh(Se)){if(!mh(oe))return!1;yn=!0,lr=!1}if(ci&&!lr)return $t||($t=new ta),yn||Fu(Se)?qt(Se,oe,ve,Me,kt,$t):Fn(Se,oe,rn,ve,Me,kt,$t);if(!(ve&i)){var Ei=lr&&it.call(Se,"__wrapped__"),gs=ti&&it.call(oe,"__wrapped__");if(Ei||gs){var di=Ei?Se.value():Se,$s=gs?oe.value():oe;return $t||($t=new ta),kt(di,$s,ve,Me,$t)}}return ci?($t||($t=new ta),on(Se,oe,ve,Me,kt,$t)):!1}function pt(Se){if(!gh(Se)||ph(Se))return!1;var oe=as(Se)?Qt:U;return oe.test(Di(Se))}function dt(Se){return na(Se)&&U0(Se.length)&&!!Q[Ve(Se)]}function Et(Se){if(!uo(Se))return Rn(Se);var oe=[];for(var ve in Object(Se))it.call(Se,ve)&&ve!="constructor"&&oe.push(ve);return oe}function qt(Se,oe,ve,Me,kt,$t){var yn=ve&i,jn=Se.length,rn=oe.length;if(jn!=rn&&!(yn&&rn>jn))return!1;var _n=$t.get(Se);if(_n&&$t.get(oe))return _n==oe;var lr=-1,ti=!0,ci=ve&s?new Io:void 0;for($t.set(Se,oe),$t.set(oe,Se);++lr<jn;){var Ei=Se[lr],gs=oe[lr];if(Me)var di=yn?Me(gs,Ei,lr,oe,Se,$t):Me(Ei,gs,lr,Se,oe,$t);if(di!==void 0){if(di)continue;ti=!1;break}if(ci){if(!te(oe,function($s,Xl){if(!Re(ci,Xl)&&(Ei===$s||kt(Ei,$s,ve,Me,$t)))return ci.push(Xl)})){ti=!1;break}}else if(!(Ei===gs||kt(Ei,gs,ve,Me,$t))){ti=!1;break}}return $t.delete(Se),$t.delete(oe),ti}function Fn(Se,oe,ve,Me,kt,$t,yn){switch(ve){case N:if(Se.byteLength!=oe.byteLength||Se.byteOffset!=oe.byteOffset)return!1;Se=Se.buffer,oe=oe.buffer;case P:return!(Se.byteLength!=oe.byteLength||!$t(new gn(Se),new gn(oe)));case c:case d:case g:return Do(+Se,+oe);case f:return Se.name==oe.name&&Se.message==oe.message;case C:case T:return Se==oe+"";case m:var jn=we;case S:var rn=Me&i;if(jn||(jn=Ae),Se.size!=oe.size&&!rn)return!1;var _n=yn.get(Se);if(_n)return _n==oe;Me|=s,yn.set(Se,oe);var lr=qt(jn(Se),jn(oe),Me,kt,$t,yn);return yn.delete(Se),lr;case k:if(Pr)return Pr.call(Se)==Pr.call(oe)}return!1}function on(Se,oe,ve,Me,kt,$t){var yn=ve&i,jn=Zn(Se),rn=jn.length,_n=Zn(oe),lr=_n.length;if(rn!=lr&&!yn)return!1;for(var ti=rn;ti--;){var ci=jn[ti];if(!(yn?ci in oe:it.call(oe,ci)))return!1}var Ei=$t.get(Se);if(Ei&&$t.get(oe))return Ei==oe;var gs=!0;$t.set(Se,oe),$t.set(oe,Se);for(var di=yn;++ti<rn;){ci=jn[ti];var $s=Se[ci],Xl=oe[ci];if(Me)var Lu=yn?Me(Xl,$s,ci,oe,Se,$t):Me($s,Xl,ci,Se,oe,$t);if(!(Lu===void 0?$s===Xl||kt($s,Xl,ve,Me,$t):Lu)){gs=!1;break}di||(di=ci=="constructor")}if(gs&&!di){var H0=Se.constructor,Pd=oe.constructor;H0!=Pd&&"constructor"in Se&&"constructor"in oe&&!(typeof H0=="function"&&H0 instanceof H0&&typeof Pd=="function"&&Pd instanceof Pd)&&(gs=!1)}return $t.delete(Se),$t.delete(oe),gs}function Zn(Se){return Be(Se,V0,Aa)}function en(Se,oe){var ve=Se.__data__;return xc(oe)?ve[typeof oe=="string"?"string":"hash"]:ve.map}function ur(Se,oe){var ve=Te(Se,oe);return pt(ve)?ve:void 0}function Os(Se){var oe=it.call(Se,Dr),ve=Se[Dr];try{Se[Dr]=void 0;var Me=!0}catch{}var kt=Zt.call(Se);return Me&&(oe?Se[Dr]=ve:delete Se[Dr]),kt}var Aa=Jn?function(Se){return Se==null?[]:(Se=Object(Se),fe(Jn(Se),function(oe){return Kn.call(Se,oe)}))}:dl,Ns=Ve;(fn&&Ns(new fn(new ArrayBuffer(1)))!=N||sr&&Ns(new sr)!=m||ui&&Ns(ui.resolve())!=w||_r&&Ns(new _r)!=S||In&&Ns(new In)!=R)&&(Ns=function(Se){var oe=Ve(Se),ve=oe==v?Se.constructor:void 0,Me=ve?Di(ve):"";if(Me)switch(Me){case pr:return N;case Yt:return m;case tr:return w;case pn:return S;case Qn:return R}return oe});function hh(Se,oe){return oe=oe??o,!!oe&&(typeof Se=="number"||G.test(Se))&&Se>-1&&Se%1==0&&Se<oe}function xc(Se){var oe=typeof Se;return oe=="string"||oe=="number"||oe=="symbol"||oe=="boolean"?Se!=="__proto__":Se===null}function ph(Se){return!!wt&&wt in Se}function uo(Se){var oe=Se&&Se.constructor,ve=typeof oe=="function"&&oe.prototype||je;return Se===ve}function zi(Se){return Zt.call(Se)}function Di(Se){if(Se!=null){try{return nt.call(Se)}catch{}try{return Se+""}catch{}}return""}function Do(Se,oe){return Se===oe||Se!==Se&&oe!==oe}var _c=Le((function(){return arguments})())?Le:function(Se){return na(Se)&&it.call(Se,"callee")&&!Kn.call(Se,"callee")},Xs=Array.isArray;function Ra(Se){return Se!=null&&U0(Se.length)&&!as(Se)}var mh=br||Ia;function Kl(Se,oe){return rt(Se,oe)}function as(Se){if(!gh(Se))return!1;var oe=Ve(Se);return oe==h||oe==p||oe==u||oe==_}function U0(Se){return typeof Se=="number"&&Se>-1&&Se%1==0&&Se<=o}function gh(Se){var oe=typeof Se;return Se!=null&&(oe=="object"||oe=="function")}function na(Se){return Se!=null&&typeof Se=="object"}var Fu=X?me(X):dt;function V0(Se){return Ra(Se)?Ne(Se):Et(Se)}function dl(){return[]}function Ia(){return!1}e.exports=Kl})(xS,xS.exports)),xS.exports}var EPt=CPt();const $q=so(EPt);function eZ(e,t){if((typeof e=="number"||typeof e=="string")&&(typeof t=="string"||typeof t=="number"))return String(e)===String(t);if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return $q(n,r)}if(typeof e=="object"){const n=Object.values(e);return n.length!==t.length?!1:Array.isArray(t[0])?n.every((i,s)=>{const o=t[s];if(!Array.isArray(o))return!1;const a=typeof i=="string"?i===""?[]:i.split("|"):[];if(a.length!==o.length)return!1;const l=[...a].sort(),u=[...o].sort();return l.every((c,d)=>c===u[d])}):n.every((i,s)=>String(i)===String(t[s]))}return $q(e,t)}function Ub(e,t){let n=!0;return(t||[]).forEach(r=>{const i=e[r.id];(i===void 0||!eZ(i,r.answer))&&(n=!1)}),n}function dpe(e,t,n,r){const i=t.slice(0,t.lastIndexOf("_")),s=Object.entries(r.components).find(([a])=>a===i),o=s?s[1]:null;if(!o)throw new Error(`Component ${i} could not be found in the study components.`);return o.correctAnswer?Ub(e,o.correctAnswer):!0}function SPt(){const e=yc(),t=qy(),n=ar(P=>P.trialValidation),r=ar(P=>P.sequence),i=ar(P=>P.answers),s=ar(P=>P.modes),o=ar(P=>P.clickedPrevious),a=Du(),{funcIndex:l}=ro(),u=l0(),c=As(),{saveTrialAnswer:d,setReactiveAnswers:f,setMatrixAnswersRadio:h,setMatrixAnswersCheckbox:p,setRankingAnswers:m}=is(),{storageEngine:g}=Ii(),y=Kf(),v=A.useMemo(()=>s.dataCollectionEnabled,[s]),w=Vpt(u),_=D0(),C=typeof e!="number"||_||!w,S=tv(),T=ll(),k=A.useMemo(()=>Date.now(),[l,e]),I=_Pt(),R=A.useCallback((P=!0)=>{if(typeof e!="number")return;const N=structuredClone(n[u]),$=N?Object.values(N).reduce((z,U)=>Object.hasOwn(U,"values")?{...z,...U.values}:z,{}):{},{provenanceGraph:O}=N||{},j=Date.now(),{componentName:B}=S,H=I&&"current"in I&&I.current?I.current.splice(0,I.current.length):[];if(v&&(S.endTime===-1||o)){const z={...S,answer:P?$:{},startTime:k,endTime:j,provenanceGraph:O,windowEvents:H,timedOut:!P};c(d({...z})),g&&g.saveAnswers({...i,[u]:z}),c(f({})),c(p(null)),c(h(null)),c(m(null))}let q=e+1;const Y=yTe(r,e),V=Y!==null&&Y.some(z=>Object.hasOwn(z.currentBlock,"skip")&&z.currentBlock.skip!==void 0),L={...i,[u]:{answer:$,startTime:k,endTime:j,provenanceGraph:O,windowEvents:H}};V&&[...Y.flatMap(U=>U.currentBlock.skip?U.currentBlock.skip.map(G=>({...G,firstIndex:U.firstIndex,lastIndex:U.lastIndex})):[])].some(U=>{let G=!1;const Q=Object.fromEntries(Object.entries(L).filter(([ue])=>{const se=parseInt(ue.slice(ue.lastIndexOf("_")+1),10);return se>=U.firstIndex&&se<=e})),ne=U.check!=="block"?Object.entries(Q).filter(([ue])=>ue.slice(0,ue.lastIndexOf("_"))===U.name):Object.entries(Q);if(ne.length===0)return!1;if(ne.some(([ue,se])=>!se))throw new Error(`There are components with missing response objects for the skip condition: ${JSON.stringify(U,null,2)}`);if(U.check==="response"||U.check==="responses"){const[ue,se]=ne[0];U.check==="response"?G=U.comparison==="equal"?U.value===se.answer[U.responseId]:U.value!==se.answer[U.responseId]:G=!dpe(se.answer,ue,a.components[ue.slice(0,ue.lastIndexOf("_"))],a)}else if(U.check==="block"||U.check==="repeatedComponent"){if(ne.length<U.value)return!1;const ue=ne.map(([he,ie])=>dpe(ie.answer,he,a.components[B.slice(0,B.lastIndexOf("_"))],a)),se=ue.filter(he=>he).length,ae=ue.length-se;G=U.condition==="numCorrect"&&se===U.value||U.condition==="numIncorrect"&&ae===U.value}if(G){const ue=t.indexOf(U.to),se=ue===-1?Bpt(r,U.to):-1;return q=ue===-1?se:ue,!0}return!1}),T(l?`/${y}/${Ss(e)}/${Ss(bf(l)+1)}${window.location.search}`:`/${y}/${Ss(q)}${window.location.search}`)},[e,n,u,S,I,v,o,r,i,k,l,c,d,g,f,p,h,m,a,t,T,y]);return{isNextDisabled:C,goToNextStep:R}}function TPt(){const e=yc(),{funcIndex:t}=ro(),n=Kf(),r=ll(),i=D0(),s=Du(),o=As(),{deleteDynamicBlockAnswers:a}=is(),l=ar(d=>d.answers),u=typeof e!="number"||i||e<=0,c=A.useCallback(()=>{if(typeof e!="number")return;const d=e-1,f=od(s.sequence);if(t&&(o(a({currentStep:e,funcIndex:bf(t),funcName:f[e]})),bf(t)!==0)){r(`/${n}/${Ss(e)}/${Ss(bf(t)-1)}${window.location.search}`);return}const h=f[d];if(lH(h,s.sequence)){const g=Object.keys(l).filter(y=>y.startsWith(`${h}_${d}_`)).length-1;r(`/${n}/${Ss(d)}/${Ss(g)}${window.location.search}`)}else r(`/${n}/${Ss(d)}${window.location.search}`)},[e,t,r,n,s,o,a,l]);return{isPreviousDisabled:u,goToPreviousStep:c}}function kPt({label:e="Previous",px:t}){const{isPreviousDisabled:n,goToPreviousStep:r}=TPt(),i=As(),{setClickedPrevious:s}=is(),o=A.useCallback(()=>{i(s(!0)),r()},[r,s,i]);return b.jsx(Wt,{type:"submit",disabled:n,onClick:o,px:t,children:e})}function APt({label:e="Next",disabled:t=!1,config:n,location:r,checkAnswer:i}){const{isNextDisabled:s,goToNextStep:o}=SPt(),a=Du(),l=ll(),u=A.useMemo(()=>n?.nextButtonDisableTime??a.uiConfig.nextButtonDisableTime,[n,a]),c=A.useMemo(()=>n?.nextButtonEnableTime??a.uiConfig.nextButtonEnableTime??0,[n,a]),[d,f]=A.useState(void 0);A.useEffect(()=>{let y=0;const v=setInterval(()=>{y+=100,f(y)},100);return()=>{clearInterval(v)}},[]),A.useEffect(()=>{d&&u&&d>=u&&a.uiConfig.timeoutReject&&l("./../__timedOut")},[u,d,l,a.uiConfig.timeoutReject]);const h=A.useMemo(()=>{const y=u&&d?d<=u:!0,v=d?d>=c:!0;return y&&v},[u,c,d]),p=A.useMemo(()=>n?.nextOnEnter??a.uiConfig.nextOnEnter,[n,a]);A.useEffect(()=>{const y=v=>{v.key==="Enter"&&!t&&!s&&h&&o()};return p?(window.addEventListener("keydown",y),()=>{window.removeEventListener("keydown",y)}):()=>{}},[t,s,h,o,p]);const m=A.useMemo(()=>t||s||!h,[t,s,h]),g=A.useMemo(()=>n?.previousButtonText??a.uiConfig.previousButtonText??"Previous",[n,a]);return b.jsxs(b.Fragment,{children:[b.jsxs(An,{justify:"right",gap:"xs",mt:"sm",children:[n?.previousButton&&b.jsx(kPt,{label:g,px:r==="sidebar"&&i?8:void 0}),i,b.jsx(Wt,{type:"submit",disabled:m,onClick:()=>o(),px:r==="sidebar"&&i?8:void 0,children:e})]}),d&&b.jsxs(b.Fragment,{children:[c>0&&d<c&&b.jsxs(Qc,{mt:"md",title:"Please wait",color:"blue",icon:b.jsx(Qm,{}),children:["The next button will be enabled in"," ",Math.ceil((c-d)/1e3)," ","seconds."]}),u&&d&&u-d<1e4&&(u-d>0?b.jsxs(Qc,{mt:"md",title:"Next button disables soon",color:"yellow",icon:b.jsx(Zc,{}),children:["The next button disables in"," ",Math.ceil((u-d)/1e3)," ","seconds."]}):!a.uiConfig.timeoutReject&&b.jsxs(Qc,{mt:"md",title:"Next button disabled",color:"red",icon:b.jsx(Zc,{}),children:["The next button has timed out and is now disabled.",b.jsx(An,{justify:"right",mt:"sm",children:b.jsx(Wt,{onClick:()=>o(!1),variant:"link",color:"red",children:"Proceed"})})]}))]})]})}function RPt(e){if(!/^[0-9a-zA-Z-]+$/.test(e))throw new Error(`[@mantine/use-form] Form name "${e}" is invalid, it should contain only letters, numbers and dashes`)}const IPt=typeof window<"u"?A.useLayoutEffect:A.useEffect;function oa(e,t){IPt(()=>{if(e)return window.addEventListener(e,t),()=>window.removeEventListener(e,t)},[e])}function DPt(e,t){e&&RPt(e),oa(`mantine-form:${e}:set-field-value`,n=>t.setFieldValue(n.detail.path,n.detail.value)),oa(`mantine-form:${e}:set-values`,n=>t.setValues(n.detail)),oa(`mantine-form:${e}:set-initial-values`,n=>t.setInitialValues(n.detail)),oa(`mantine-form:${e}:set-errors`,n=>t.setErrors(n.detail)),oa(`mantine-form:${e}:set-field-error`,n=>t.setFieldError(n.detail.path,n.detail.error)),oa(`mantine-form:${e}:clear-field-error`,n=>t.clearFieldError(n.detail)),oa(`mantine-form:${e}:clear-errors`,t.clearErrors),oa(`mantine-form:${e}:reset`,t.reset),oa(`mantine-form:${e}:validate`,t.validate),oa(`mantine-form:${e}:validate-field`,n=>t.validateField(n.detail)),oa(`mantine-form:${e}:reorder-list-item`,n=>t.reorderListItem(n.detail.path,n.detail.payload)),oa(`mantine-form:${e}:remove-list-item`,n=>t.removeListItem(n.detail.path,n.detail.index)),oa(`mantine-form:${e}:insert-list-item`,n=>t.insertListItem(n.detail.path,n.detail.item,n.detail.index)),oa(`mantine-form:${e}:set-dirty`,n=>t.setDirty(n.detail)),oa(`mantine-form:${e}:set-touched`,n=>t.setTouched(n.detail)),oa(`mantine-form:${e}:reset-dirty`,n=>t.resetDirty(n.detail)),oa(`mantine-form:${e}:reset-touched`,t.resetTouched)}function PPt(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}function Mq(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}function OPt(e){const[t,n]=A.useState(Mq(e)),r=A.useRef(t),i=A.useCallback(l=>{n(u=>{const c=Mq(typeof l=="function"?l(u):l);return r.current=c,c})},[]),s=A.useCallback(()=>i({}),[]),o=A.useCallback(l=>{r.current[l]!==void 0&&i(u=>{const c={...u};return delete c[l],c})},[t]),a=A.useCallback((l,u)=>{u==null||u===!1?o(l):r.current[l]!==u&&i(c=>({...c,[l]:u}))},[t]);return{errorsState:t,setErrors:i,clearErrors:s,setFieldError:a,clearFieldError:o}}function Fq(e,t){if(t===null||typeof t!="object")return{};const n={...t};return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}function fpe(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function hpe(e,t,n,r){if(t===void 0)return n;const i=`${String(e)}`;let s=n;r===-1&&(s=Fq(`${i}.${t}`,s));const o={...s},a=new Set;return Object.entries(s).filter(([l])=>{if(!l.startsWith(`${i}.`))return!1;const u=fpe(l,i);return Number.isNaN(u)?!1:u>=t}).forEach(([l,u])=>{const c=fpe(l,i),d=l.replace(`${i}.${c}`,`${i}.${c+r}`);o[d]=u,a.add(d),a.has(l)||delete o[l]}),o}function NPt(e,{from:t,to:n},r){const i=`${e}.${t}`,s=`${e}.${n}`,o={...r},a=new Set;return Object.keys(r).forEach(l=>{if(a.has(l))return;let u,c;if(l.startsWith(i)?(u=l,c=l.replace(i,s)):l.startsWith(s)&&(u=l.replace(s,i),c=l),u&&c){const d=o[u],f=o[c];f===void 0?delete o[u]:o[u]=f,d===void 0?delete o[c]:o[c]=d,a.add(u),a.add(c)}}),o}function ppe(e,t,n){typeof n.value=="object"&&(n.value=Ax(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function Ax(e){if(typeof e!="object")return e;var t=0,n,r,i,s=Object.prototype.toString.call(e);if(s==="[object Object]"?i=Object.create(e.__proto__||null):s==="[object Array]"?i=Array(e.length):s==="[object Set]"?(i=new Set,e.forEach(function(o){i.add(Ax(o))})):s==="[object Map]"?(i=new Map,e.forEach(function(o,a){i.set(Ax(a),Ax(o))})):s==="[object Date]"?i=new Date(+e):s==="[object RegExp]"?i=new RegExp(e.source,e.flags):s==="[object DataView]"?i=new e.constructor(Ax(e.buffer)):s==="[object ArrayBuffer]"?i=e.slice(0):s.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)ppe(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||ppe(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}function Q3e(e){return typeof e!="string"?[]:e.split(".")}function ya(e,t){const n=Q3e(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let i=1;i<n.length&&r!=null;i+=1)r=r[n[i]];return r}function YA(e,t,n){const r=Q3e(e);if(r.length===0)return n;const i=Ax(n);if(r.length===1)return i[r[0]]=t,i;let s=i[r[0]];for(let o=1;o<r.length-1;o+=1){if(s===void 0)return i;s=s[r[o]]}return s[r[r.length-1]]=t,i}function $Pt(e,{from:t,to:n},r){const i=ya(e,r);if(!Array.isArray(i))return r;const s=[...i],o=i[t];return s.splice(t,1),s.splice(n,0,o),YA(e,s,r)}function MPt(e,t,n,r){const i=ya(e,r);if(!Array.isArray(i))return r;const s=[...i];return s.splice(typeof n=="number"?n:s.length,0,t),YA(e,s,r)}function FPt(e,t,n){const r=ya(e,n);return Array.isArray(r)?YA(e,r.filter((i,s)=>s!==t),n):n}function LPt(e,t,n,r){const i=ya(e,r);if(!Array.isArray(i)||i.length<=n)return r;const s=[...i];return s[n]=t,YA(e,s,r)}function jPt({$values:e,$errors:t,$status:n}){const r=A.useCallback((a,l)=>{n.clearFieldDirty(a),t.setErrors(u=>NPt(a,l,u)),e.setValues({values:$Pt(a,l,e.refValues.current),updateState:!0})},[]),i=A.useCallback((a,l)=>{n.clearFieldDirty(a),t.setErrors(u=>hpe(a,l,u,-1)),e.setValues({values:FPt(a,l,e.refValues.current),updateState:!0})},[]),s=A.useCallback((a,l,u)=>{n.clearFieldDirty(a),t.setErrors(c=>hpe(a,u,c,1)),e.setValues({values:MPt(a,l,u,e.refValues.current),updateState:!0})},[]),o=A.useCallback((a,l,u)=>{n.clearFieldDirty(a),e.setValues({values:LPt(a,u,l,e.refValues.current),updateState:!0})},[]);return{reorderListItem:r,removeListItem:i,insertListItem:s,replaceListItem:o}}var qB,mpe;function tZ(){return mpe||(mpe=1,qB=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),qB}var BPt=tZ();const _S=so(BPt);function _2(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(i=>i.startsWith(`${t}.`));return e[t]||r.some(i=>e[i])||!1}return n.some(r=>e[r])}function zPt({initialDirty:e,initialTouched:t,mode:n,$values:r}){const[i,s]=A.useState(t),[o,a]=A.useState(e),l=A.useRef(t),u=A.useRef(e),c=A.useCallback(S=>{const T=typeof S=="function"?S(l.current):S;l.current=T,n==="controlled"&&s(T)},[]),d=A.useCallback((S,T=!1)=>{const k=typeof S=="function"?S(u.current):S;u.current=k,(n==="controlled"||T)&&a(k)},[]),f=A.useCallback(()=>c({}),[]),h=A.useCallback(S=>{const T=S?{...r.refValues.current,...S}:r.refValues.current;r.setValuesSnapshot(T),d({})},[]),p=A.useCallback((S,T)=>{c(k=>_2(k,S)===T?k:{...k,[S]:T})},[]),m=A.useCallback((S,T,k)=>{d(I=>_2(I,S)===T?I:{...I,[S]:T},k)},[]),g=A.useCallback((S,T)=>{const k=_2(u.current,S),I=!_S(ya(S,r.getValuesSnapshot()),T),R=Fq(S,u.current);R[S]=I,d(R,k!==I)},[]),y=A.useCallback(S=>_2(l.current,S),[]),v=A.useCallback(S=>d(T=>{if(typeof S!="string")return T;const k=Fq(S,T);return delete k[S],_S(k,T)?T:k}),[]),w=A.useCallback(S=>{if(S){const k=ya(S,u.current);if(typeof k=="boolean")return k;const I=ya(S,r.refValues.current),R=ya(S,r.valuesSnapshot.current);return!_S(I,R)}return Object.keys(u.current).length>0?_2(u.current):!_S(r.refValues.current,r.valuesSnapshot.current)},[]),_=A.useCallback(()=>u.current,[]),C=A.useCallback(()=>l.current,[]);return{touchedState:i,dirtyState:o,touchedRef:l,dirtyRef:u,setTouched:c,setDirty:d,resetDirty:h,resetTouched:f,isTouched:y,setFieldTouched:p,setFieldDirty:m,setTouchedState:s,setDirtyState:a,clearFieldDirty:v,isDirty:w,getDirty:_,getTouched:C,setCalculatedFieldDirty:g}}function UPt({initialValues:e,onValuesChange:t,mode:n}){const r=A.useRef(!1),[i,s]=A.useState(e||{}),o=A.useRef(i),a=A.useRef(i),l=A.useCallback(({values:m,subscribers:g,updateState:y=!0,mergeWithPreviousValues:v=!0})=>{const w=o.current,_=m instanceof Function?m(o.current):m,C=v?{...w,..._}:_;o.current=C,y&&s(C),t?.(C,w),g?.filter(Boolean).forEach(S=>S({updatedValues:C,previousValues:w}))},[t]),u=A.useCallback(m=>{const g=ya(m.path,o.current),y=m.value instanceof Function?m.value(g):m.value;if(g!==y){const v=o.current,w=YA(m.path,y,o.current);l({values:w,updateState:m.updateState}),m.subscribers?.filter(Boolean).forEach(_=>_({path:m.path,updatedValues:w,previousValues:v}))}},[l]),c=A.useCallback(m=>{a.current=m},[]),d=A.useCallback((m,g)=>{r.current||(r.current=!0,l({values:m,updateState:n==="controlled"}),c(m),g())},[l]),f=A.useCallback(()=>{l({values:a.current,updateState:!0,mergeWithPreviousValues:!1})},[l]),h=A.useCallback(()=>o.current,[]),p=A.useCallback(()=>a.current,[]);return{initialized:r,stateValues:i,refValues:o,valuesSnapshot:a,setValues:l,setFieldValue:u,resetValues:f,setValuesSnapshot:c,initialize:d,getValues:h,getValuesSnapshot:p}}function VPt({$status:e}){const t=A.useRef({}),n=A.useCallback((i,s)=>{A.useEffect(()=>(t.current[i]=t.current[i]||[],t.current[i].push(s),()=>{t.current[i]=t.current[i].filter(o=>o!==s)}),[s])},[]),r=A.useCallback(i=>t.current[i]?t.current[i].map(s=>o=>s({previousValue:ya(i,o.previousValues),value:ya(i,o.updatedValues),touched:e.isTouched(i),dirty:e.isDirty(i)})):[],[]);return{subscribers:t,watch:n,getFieldSubscribers:r}}function gpe(e,t){return e?`${e}-${t.toString()}`:t.toString()}const BD=Symbol("root-rule");function ype(e){const t=Mq(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function Lq(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((i,s)=>{const o=e[s],a=`${n===""?"":`${n}.`}${s}`,l=ya(a,t);let u=!1;return typeof o=="function"&&(i[a]=o(l,t,a)),typeof o=="object"&&Array.isArray(l)&&(u=!0,l.forEach((c,d)=>Lq(o,t,`${a}.${d}`,i)),BD in o&&(i[a]=o[BD](l,t,a))),typeof o=="object"&&typeof l=="object"&&l!==null&&(u||Lq(o,t,a,i),BD in o&&(i[a]=o[BD](l,t,a))),i},r)}function jq(e,t){return ype(typeof e=="function"?e(t):Lq(e,t))}function zD(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=jq(t,n),i=Object.keys(r.errors).find(s=>e.split(".").every((o,a)=>o===s.split(".")[a]));return{hasError:!!i,error:i?r.errors[i]:null}}const HPt="__MANTINE_FORM_INDEX__";function vpe(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]+/g,`.${HPt}`)):!1:!1}function J3e({name:e,mode:t="controlled",initialValues:n,initialErrors:r={},initialDirty:i={},initialTouched:s={},clearInputErrorOnChange:o=!0,validateInputOnChange:a=!1,validateInputOnBlur:l=!1,onValuesChange:u,transformValues:c=m=>m,enhanceGetInputProps:d,validate:f,onSubmitPreventDefault:h="always",touchTrigger:p="change"}={}){const m=OPt(r),g=UPt({initialValues:n,onValuesChange:u,mode:t}),y=zPt({initialDirty:i,initialTouched:s,$values:g,mode:t}),v=jPt({$values:g,$errors:m,$status:y}),w=VPt({$status:y}),[_,C]=A.useState(0),[S,T]=A.useState({}),[k,I]=A.useState(!1),R=A.useCallback(()=>{g.resetValues(),m.clearErrors(),y.resetDirty(),y.resetTouched(),t==="uncontrolled"&&C(Q=>Q+1)},[]),P=A.useCallback(Q=>{o&&m.clearErrors(),t==="uncontrolled"&&C(ne=>ne+1),Object.keys(w.subscribers.current).forEach(ne=>{const ue=ya(ne,g.refValues.current),se=ya(ne,Q);ue!==se&&w.getFieldSubscribers(ne).forEach(ae=>ae({previousValues:Q,updatedValues:g.refValues.current}))})},[o]),N=A.useCallback(Q=>{const ne=g.refValues.current;g.initialize(Q,()=>t==="uncontrolled"&&C(ue=>ue+1)),P(ne)},[P]),$=A.useCallback((Q,ne,ue)=>{const se=vpe(Q,a),ae=ne instanceof Function?ne(ya(Q,g.refValues.current)):ne;y.setCalculatedFieldDirty(Q,ae),p==="change"&&y.setFieldTouched(Q,!0),!se&&o&&m.clearFieldError(Q),g.setFieldValue({path:Q,value:ne,updateState:t==="controlled",subscribers:[...w.getFieldSubscribers(Q),se?he=>{const ie=zD(Q,f,he.updatedValues);ie.hasError?m.setFieldError(Q,ie.error):m.clearFieldError(Q)}:null,ue?.forceUpdate!==!1&&t!=="controlled"?()=>T(he=>({...he,[Q]:(he[Q]||0)+1})):null]})},[u,f]),O=A.useCallback(Q=>{const ne=g.refValues.current;g.setValues({values:Q,updateState:t==="controlled"}),P(ne)},[u,P]),j=A.useCallback(()=>{const Q=jq(f,g.refValues.current);return m.setErrors(Q.errors),Q},[f]),B=A.useCallback(Q=>{const ne=zD(Q,f,g.refValues.current);return ne.hasError?m.setFieldError(Q,ne.error):m.clearFieldError(Q),ne},[f]),H=(Q,{type:ne="input",withError:ue=!0,withFocus:se=!0,...ae}={})=>{const ie={onChange:PPt(le=>$(Q,le,{forceUpdate:!1})),"data-path":gpe(e,Q)};return ue&&(ie.error=m.errorsState[Q]),ne==="checkbox"?ie[t==="controlled"?"checked":"defaultChecked"]=ya(Q,g.refValues.current):ie[t==="controlled"?"value":"defaultValue"]=ya(Q,g.refValues.current),se&&(ie.onFocus=()=>y.setFieldTouched(Q,!0),ie.onBlur=()=>{if(vpe(Q,l)){const le=zD(Q,f,g.refValues.current);le.hasError?m.setFieldError(Q,le.error):m.clearFieldError(Q)}}),Object.assign(ie,d?.({inputProps:ie,field:Q,options:{type:ne,withError:ue,withFocus:se,...ae},form:G}))},q=(Q,ne)=>ue=>{h==="always"&&ue?.preventDefault();const se=j();if(se.hasErrors)h==="validation-failed"&&ue?.preventDefault(),ne?.(se.errors,g.refValues.current,ue);else{const ae=Q?.(c(g.refValues.current),ue);ae instanceof Promise&&(I(!0),ae.finally(()=>I(!1)))}},Y=Q=>c(Q||g.refValues.current),V=A.useCallback(Q=>{Q.preventDefault(),R()},[]),L=A.useCallback(Q=>Q?!zD(Q,f,g.refValues.current).hasError:!jq(f,g.refValues.current).hasErrors,[f]),z=Q=>`${_}-${Q}-${S[Q]||0}`,U=A.useCallback(Q=>document.querySelector(`[data-path="${gpe(e,Q)}"]`),[]),G={watch:w.watch,initialized:g.initialized.current,values:g.stateValues,getValues:g.getValues,getInitialValues:g.getValuesSnapshot,setInitialValues:g.setValuesSnapshot,initialize:N,setValues:O,setFieldValue:$,submitting:k,setSubmitting:I,errors:m.errorsState,setErrors:m.setErrors,setFieldError:m.setFieldError,clearFieldError:m.clearFieldError,clearErrors:m.clearErrors,resetDirty:y.resetDirty,setTouched:y.setTouched,setDirty:y.setDirty,isTouched:y.isTouched,resetTouched:y.resetTouched,isDirty:y.isDirty,getTouched:y.getTouched,getDirty:y.getDirty,reorderListItem:v.reorderListItem,insertListItem:v.insertListItem,removeListItem:v.removeListItem,replaceListItem:v.replaceListItem,reset:R,validate:j,validateField:B,getInputProps:H,onSubmit:q,onReset:V,isValid:L,getTransformedValues:Y,key:z,getInputNode:U};return DPt(e,G),G}function qPt(e,t){const n=t;return r=>typeof r!="string"?n:e.test(r)?null:n}function WPt(e){return qPt(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,e)}function Z3e(e,t){const n=e.minSelections&&t.length<e.minSelections,r=e.maxSelections&&t.length>e.maxSelections;return n?`Please select at least ${e.minSelections} options`:r?`Please select at most ${e.maxSelections} options`:null}function ePe(e,t){const n=e.minSelections&&t.length<e.minSelections,r=e.maxSelections&&t.length>e.maxSelections;return n&&r?`Please select between ${e.minSelections} and ${e.maxSelections} options`:n?`Please select at least ${e.minSelections} options`:r?`Please select at most ${e.maxSelections} options`:null}function Bq(e,t){const n=typeof t=="string"?parseFloat(t):t,{min:r,max:i}=e;return r!==void 0&&i!==void 0&&(n<r||n>i)?`Please enter a value between ${r} and ${i}`:r!==void 0&&n<r?`Please enter a value of ${r} or greater`:i!==void 0&&n>i?`Please enter a value of ${i} or less`:null}function tPe(e,t){return Object.values(t).some(r=>r==="")?"Please answer all questions in the matrix to continue.":null}const GPt=new URLSearchParams(window.location.search),nPe=(e,t)=>{let n={};return e.forEach(r=>{const i=t?t[r.id]:{},s=t&&t[`${r.id}-dontKnow`]!==void 0?t[`${r.id}-dontKnow`]:!1,o=r.withDontKnow?{[`${r.id}-dontKnow`]:s}:{},a=t&&t[`${r.id}-other`]!==void 0?t[`${r.id}-other`]:"",l=r.withOther?{[`${r.id}-other`]:a}:{};if(i)n={...n,[r.id]:i,...o,...l};else{let u="";r.paramCapture?u=GPt.get(r.paramCapture):r.type==="reactive"||r.type==="ranking-sublist"||r.type==="ranking-categorical"||r.type==="ranking-pairwise"?u=[]:r.type==="matrix-radio"||r.type==="matrix-checkbox"?u=Object.fromEntries(r.questionOptions.map(c=>[c,""])):r.type==="slider"&&r.startingValue&&(u=r.startingValue.toString()),n={...n,[r.id]:u,...o,...l}}}),{...n}},YPt=e=>{let t={};return e.forEach(n=>{n.required&&(t={...t,[n.id]:(r,i)=>{if(typeof r=="object"&&!Array.isArray(r)&&r!==null)return n.type==="matrix-checkbox"||n.type==="matrix-radio"?tPe(n,r):n.type==="ranking-sublist"||n.type==="ranking-categorical"||n.type==="ranking-pairwise"?Object.keys(r).length>0?null:"Empty Input":Object.values(r).every(s=>s!=="")?null:"Empty Input";if(Array.isArray(r)){if(n.requiredValue!=null&&!Array.isArray(n.requiredValue))return"Incorrect required value. Contact study administrator.";if(n.requiredValue!=null&&Array.isArray(n.requiredValue)){if(n.requiredValue.length!==r.length)return"Incorrect input";const s=[...n.requiredValue].sort(),o=[...r].sort();return s.every((a,l)=>a===o[l])?null:"Incorrect input"}return n.type==="checkbox"?ePe(n,r):n.type==="dropdown"?Z3e(n,r):r.length===0?"Empty input":null}if(n.required&&n.requiredValue!=null&&r!=null)return r.toString()!==n.requiredValue.toString()?"Incorrect input":null;if(n.required){if((r==null||r==="")&&!i[`${n.id}-dontKnow`])return"Empty input";if(n.type==="numerical")return Bq(n,r)}return r===null?"Empty input":null}})}),t};function KPt(e,t,n){const[r,i]=A.useState(null),s=J3e({initialValues:nPe(e,n),validate:YPt(e)});return A.useEffect(()=>{r!==t&&(i(t),s.reset())},[r,s,t]),s}function gp(e,t,n){const{requiredValue:r,requiredLabel:i}=e;let s="";if(t.checked&&Array.isArray(r))s=r&&[...r].sort().toString()!==[...t.checked].sort().toString()?`Please ${n?"select":"enter"} ${i||r.toString()} to continue.`:null;else if(t.checked&&e.required&&e.type==="checkbox")s=ePe(e,t.checked);else if(t.value&&e.type==="dropdown")s=Z3e(e,t.value);else if(t.value&&typeof t.value=="number"&&e.type==="numerical"&&Bq(e,t.value))s=Bq(e,t.value);else{if(t.value&&typeof t.value=="object"&&!Array.isArray(t.value)&&(e.type==="matrix-radio"||e.type==="matrix-checkbox"))return tPe(e,t.value);s=t.value&&r&&r.toString()!==t.value.toString()?`Please ${n?"select":"enter"} ${i||(n?n.find(o=>o.value===r)?.label:r.toString())} to continue.`:null}return s}function rPe({horizontal:e,children:t,style:n}){return e?b.jsx(An,{mt:Ye(4),gap:"lg",style:n,children:t}):b.jsx(zn,{gap:"md",style:n,children:t})}const XPt="_fixDisabled_1k5ri_1",QPt="_fixDisabledIcon_1k5ri_16",JPt="_fixDisabledLabel_1k5ri_20",Xd={fixDisabled:XPt,fixDisabledIcon:QPt,fixDisabledLabel:JPt},ZPt="_fixDisabled_d4mus_1",u0={fixDisabled:ZPt};function ud({prompt:e,required:t,index:n,enumerateQuestions:r,infoText:i}){return b.jsxs(At,{direction:"row",wrap:"nowrap",gap:4,children:[r&&b.jsx(De,{style:{minWidth:"fit-content",fontSize:16,fontWeight:500},children:`${n}. `}),b.jsx(De,{style:{display:"block"},className:"no-last-child-bottom-padding",children:b.jsx(cp,{text:e,required:t})}),i&&b.jsx(yt,{label:i,multiline:!0,maw:400,position:"bottom",children:b.jsx(Qm,{size:16,opacity:.5,style:{marginTop:6}})})]})}function eOt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i,otherValue:s}){const{prompt:o,required:a,secondaryText:l,horizontal:u,withOther:c,options:d,infoText:f}=e,h=tv(),p=A.useMemo(()=>h?h.optionOrders:{},[h]),m=A.useMemo(()=>p[e.id]||d.map(w=>typeof w=="string"?{label:w,value:w}:w),[p,d,e.id]),[g,y]=A.useState(!1),v=A.useMemo(()=>gp(e,n,m),[e,n,m]);return b.jsxs(Ka.Group,{label:o.length>0&&b.jsx(ud,{prompt:o,required:a,index:r,enumerateQuestions:i,infoText:f}),description:l,...n,error:v,errorProps:{c:a?"red":"orange"},style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:[b.jsx(De,{mt:"xs",children:b.jsxs(rPe,{horizontal:!!u,style:{flexGrow:1},children:[m.map(w=>b.jsx(Ka,{disabled:t,value:w.value,label:w.label,classNames:{input:Xd.fixDisabled,label:Xd.fixDisabledLabel,icon:Xd.fixDisabledIcon}},w.value)),c&&b.jsx(Ka,{disabled:t,value:"__other",checked:g,onClick:w=>y(w.currentTarget.checked),label:u?"Other":b.jsx(jr,{mt:-8,placeholder:"Other",disabled:!g,...s,classNames:{input:u0.fixDisabled}}),classNames:{input:Xd.fixDisabled,label:Xd.fixDisabledLabel,icon:Xd.fixDisabledIcon}},"__other")]})}),u&&c&&b.jsx(jr,{mt:"sm",placeholder:"Other",disabled:!g,...s,w:216,classNames:{input:u0.fixDisabled}})]})}function tOt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:s,prompt:o,required:a,options:l,secondaryText:u,infoText:c}=e,d=l.map(h=>typeof h=="string"?{value:h,label:h}:h);return e.minSelections&&e.minSelections>=1||e.maxSelections&&e.maxSelections>1?b.jsx(_C,{disabled:t,label:o.length>0&&b.jsx(ud,{prompt:o,required:a,index:r,enumerateQuestions:i,infoText:c}),description:u,placeholder:n.value.length===0?s:void 0,data:d,radius:"md",size:"md",...n,value:n.value===""?[]:Array.isArray(n.value)?n.value:[n.value],error:gp(e,n,d),withErrorStyles:a,errorProps:{c:a?"red":"orange"},classNames:{input:u0.fixDisabled},maxDropdownHeight:200,clearable:!0,searchable:!0}):b.jsx(Km,{disabled:t,label:o.length>0&&b.jsx(ud,{prompt:o,required:a,index:r,enumerateQuestions:i,infoText:c}),description:u,placeholder:s,data:d,radius:"md",size:"md",...n,value:n.value===""?null:n.value,error:gp(e,n,d),withErrorStyles:a,errorProps:{c:a?"red":"orange"},classNames:{input:u0.fixDisabled},maxDropdownHeight:200})}function nOt({response:e,answer:t,index:n,enumerateQuestions:r}){const{prompt:i,required:s,secondaryText:o,infoText:a}=e;return b.jsx(jr.Wrapper,{label:i.length>0&&b.jsx(ud,{prompt:i,required:s,index:n,enumerateQuestions:r,infoText:a}),description:o,size:"md",children:t.value&&b.jsx(Ga,{children:Array.isArray(t.value)?t.value.map(l=>b.jsx(Ga.Item,{children:l},l)):b.jsx(Ga.Item,{children:t.value})})})}const rOt="_fixDisabled_14ab8_1",iOt="_fixDisabledIcon_14ab8_16",sOt="_fixDisabledLabel_14ab8_20",_g={fixDisabled:rOt,fixDisabledIcon:iOt,fixDisabledLabel:sOt};function iPe({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i,stretch:s,otherValue:o}){const{prompt:a,required:l,leftLabel:u,rightLabel:c,secondaryText:d,infoText:f,horizontal:h,withOther:p,options:m}=e,g=tv(),y=A.useMemo(()=>g?g.optionOrders:{},[g]),v=A.useMemo(()=>y[e.id]||m.map(S=>typeof S=="string"?{label:S,value:S}:S),[y,m,e.id]),[w,_]=A.useState(!1),C=A.useMemo(()=>gp(e,n,v),[e,n,v]);return b.jsxs(Za.Group,{name:`radioInput${e.id}`,label:a.length>0&&b.jsx(ud,{prompt:a,required:l,index:r,enumerateQuestions:i,infoText:f}),description:d,...n,error:C,errorProps:{c:l?"red":"orange"},style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:[b.jsxs(An,{gap:"lg",align:"flex-end",mt:h?0:"sm",children:[u?b.jsx(He,{children:u}):null,b.jsxs(rPe,{horizontal:!!h,style:{flexGrow:1},children:[v.map(S=>b.jsxs("div",{style:{display:"flex",flexDirection:h?"column":"row",gap:h?"unset":Ye(12),flex:s?1:"unset",alignItems:"center"},children:[h&&b.jsx(cp,{text:S.label}),b.jsx(Za,{disabled:t,value:S.value,label:S.label,styles:{label:{display:h?"none":"initial"}},onChange:()=>_(!1),classNames:{radio:_g.fixDisabled,label:_g.fixDisabledLabel,icon:_g.fixDisabledIcon}})]},`${S.value}-${e.id}`)),p&&b.jsxs("div",{style:{display:"flex",flexDirection:h?"column":"row",gap:h?"unset":Ye(12),flex:s?1:"unset",alignItems:"center"},children:[h&&b.jsx(He,{size:"sm",children:"Other"}),b.jsx(Za,{disabled:t,value:"other",checked:w,onClick:S=>_(S.currentTarget.checked),label:!h&&b.jsx(jr,{mt:-8,placeholder:"Other",disabled:!w,...o,classNames:{input:u0.fixDisabled}}),mt:0,classNames:{radio:_g.fixDisabled,label:_g.fixDisabledLabel,icon:_g.fixDisabledIcon}})]})]}),b.jsx(He,{children:c})]}),h&&p&&b.jsx(jr,{mt:"sm",placeholder:"Other",disabled:!w,...o,w:216,classNames:{input:u0.fixDisabled}})]},e.id)}function oOt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{numItems:s,start:o,spacing:a}=e,l=[],u=o??1,c=a??1;for(let f=0;f<+s;f+=1){const h=u+f*c;l.push({label:`${h}`,value:`${h}`})}const d={...e,type:"radio",options:l,horizontal:!0};return b.jsx(iPe,{disabled:t,response:d,answer:n,index:r,enumerateQuestions:i,stretch:!0})}function aOt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:s,required:o,placeholder:a,secondaryText:l,infoText:u}=e;return b.jsx(UK,{disabled:t,placeholder:a,label:s.length>0&&b.jsx(ud,{prompt:s,required:o,index:r,enumerateQuestions:i,infoText:u}),description:l,radius:"md",size:"md",...n,error:gp(e,n),withErrorStyles:o,errorProps:{c:o?"red":"orange"},classNames:{input:u0.fixDisabled}})}function lOt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return A.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const CM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ZC(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function nZ(e){return"nodeType"in e}function ql(e){var t,n;return e?ZC(e)?e:nZ(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function rZ(e){const{Document:t}=ql(e);return e instanceof t}function KA(e){return ZC(e)?!1:e instanceof ql(e).HTMLElement}function sPe(e){return e instanceof ql(e).SVGElement}function eE(e){return e?ZC(e)?e.document:nZ(e)?rZ(e)?e:KA(e)||sPe(e)?e.ownerDocument:document:document:document}const Rf=CM?A.useLayoutEffect:A.useEffect;function EM(e){const t=A.useRef(e);return Rf(()=>{t.current=e}),A.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function uOt(){const e=A.useRef(null),t=A.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=A.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function bk(e,t){t===void 0&&(t=[e]);const n=A.useRef(e);return Rf(()=>{n.current!==e&&(n.current=e)},t),n}function XA(e,t){const n=A.useRef();return A.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function n6(e){const t=EM(e),n=A.useRef(null),r=A.useCallback(i=>{i!==n.current&&t?.(i,n.current),n.current=i},[]);return[n,r]}function r6(e){const t=A.useRef();return A.useEffect(()=>{t.current=e},[e]),t.current}let WB={};function QA(e,t){return A.useMemo(()=>{if(t)return t;const n=WB[e]==null?0:WB[e]+1;return WB[e]=n,e+"-"+n},[e,t])}function oPe(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,o)=>{const a=Object.entries(o);for(const[l,u]of a){const c=s[l];c!=null&&(s[l]=c+e*u)}return s},{...t})}}const Qx=oPe(1),i6=oPe(-1);function cOt(e){return"clientX"in e&&"clientY"in e}function SM(e){if(!e)return!1;const{KeyboardEvent:t}=ql(e.target);return t&&e instanceof t}function dOt(e){if(!e)return!1;const{TouchEvent:t}=ql(e.target);return t&&e instanceof t}function s6(e){if(dOt(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return cOt(e)?{x:e.clientX,y:e.clientY}:null}const Ey=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Ey.Translate.toString(e),Ey.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),bpe="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function fOt(e){return e.matches(bpe)?e:e.querySelector(bpe)}const hOt={display:"none"};function pOt(e){let{id:t,value:n}=e;return mn.createElement("div",{id:t,style:hOt},n)}function mOt(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return mn.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function gOt(){const[e,t]=A.useState("");return{announce:A.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const aPe=A.createContext(null);function yOt(e){const t=A.useContext(aPe);A.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function vOt(){const[e]=A.useState(()=>new Set),t=A.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[A.useCallback(r=>{let{type:i,event:s}=r;e.forEach(o=>{var a;return(a=o[i])==null?void 0:a.call(o,s)})},[e]),t]}const bOt={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},wOt={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function xOt(e){let{announcements:t=wOt,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=bOt}=e;const{announce:s,announcement:o}=gOt(),a=QA("DndLiveRegion"),[l,u]=A.useState(!1);if(A.useEffect(()=>{u(!0)},[]),yOt(A.useMemo(()=>({onDragStart(d){let{active:f}=d;s(t.onDragStart({active:f}))},onDragMove(d){let{active:f,over:h}=d;t.onDragMove&&s(t.onDragMove({active:f,over:h}))},onDragOver(d){let{active:f,over:h}=d;s(t.onDragOver({active:f,over:h}))},onDragEnd(d){let{active:f,over:h}=d;s(t.onDragEnd({active:f,over:h}))},onDragCancel(d){let{active:f,over:h}=d;s(t.onDragCancel({active:f,over:h}))}}),[s,t])),!l)return null;const c=mn.createElement(mn.Fragment,null,mn.createElement(pOt,{id:r,value:i.draggable}),mn.createElement(mOt,{id:a,announcement:o}));return n?Hh.createPortal(c,n):c}var vo;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(vo||(vo={}));function o6(){}function wpe(e,t){return A.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function _Ot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return A.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const If=Object.freeze({x:0,y:0});function COt(e,t){const n=s6(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function EOt(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function SOt(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function TOt(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),o=i-r,a=s-n;if(r<i&&n<s){const l=t.width*t.height,u=e.width*e.height,c=o*a,d=c/(l+u-c);return Number(d.toFixed(4))}return 0}const TM=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const s of r){const{id:o}=s,a=n.get(o);if(a){const l=TOt(a,t);l>0&&i.push({id:o,data:{droppableContainer:s,value:l}})}}return i.sort(EOt)};function kOt(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function lPe(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:If}function AOt(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((o,a)=>({...o,top:o.top+e*a.y,bottom:o.bottom+e*a.y,left:o.left+e*a.x,right:o.right+e*a.x}),{...n})}}const ROt=AOt(1);function uPe(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function IOt(e,t,n){const r=uPe(t);if(!r)return e;const{scaleX:i,scaleY:s,x:o,y:a}=r,l=e.left-o-(1-i)*parseFloat(n),u=e.top-a-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),c=i?e.width/i:e.width,d=s?e.height/s:e.height;return{width:c,height:d,top:u,right:l+c,bottom:u+d,left:l}}const DOt={ignoreTransform:!1};function tE(e,t){t===void 0&&(t=DOt);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:c}=ql(e).getComputedStyle(e);u&&(n=IOt(n,u,c))}const{top:r,left:i,width:s,height:o,bottom:a,right:l}=n;return{top:r,left:i,width:s,height:o,bottom:a,right:l}}function xpe(e){return tE(e,{ignoreTransform:!0})}function POt(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function OOt(e,t){return t===void 0&&(t=ql(e).getComputedStyle(e)),t.position==="fixed"}function NOt(e,t){t===void 0&&(t=ql(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=t[i];return typeof s=="string"?n.test(s):!1})}function iZ(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(rZ(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!KA(i)||sPe(i)||n.includes(i))return n;const s=ql(e).getComputedStyle(i);return i!==e&&NOt(i,s)&&n.push(i),OOt(i,s)?n:r(i.parentNode)}return e?r(e):n}function cPe(e){const[t]=iZ(e,1);return t??null}function GB(e){return!CM||!e?null:ZC(e)?e:nZ(e)?rZ(e)||e===eE(e).scrollingElement?window:KA(e)?e:null:null}function dPe(e){return ZC(e)?e.scrollX:e.scrollLeft}function fPe(e){return ZC(e)?e.scrollY:e.scrollTop}function zq(e){return{x:dPe(e),y:fPe(e)}}var jo;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(jo||(jo={}));function hPe(e){return!CM||!e?!1:e===document.scrollingElement}function pPe(e){const t={x:0,y:0},n=hPe(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,o=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:o,isRight:a,maxScroll:r,minScroll:t}}const $Ot={x:.2,y:.2};function MOt(e,t,n,r,i){let{top:s,left:o,right:a,bottom:l}=n;r===void 0&&(r=10),i===void 0&&(i=$Ot);const{isTop:u,isBottom:c,isLeft:d,isRight:f}=pPe(e),h={x:0,y:0},p={x:0,y:0},m={height:t.height*i.y,width:t.width*i.x};return!u&&s<=t.top+m.height?(h.y=jo.Backward,p.y=r*Math.abs((t.top+m.height-s)/m.height)):!c&&l>=t.bottom-m.height&&(h.y=jo.Forward,p.y=r*Math.abs((t.bottom-m.height-l)/m.height)),!f&&a>=t.right-m.width?(h.x=jo.Forward,p.x=r*Math.abs((t.right-m.width-a)/m.width)):!d&&o<=t.left+m.width&&(h.x=jo.Backward,p.x=r*Math.abs((t.left+m.width-o)/m.width)),{direction:h,speed:p}}function FOt(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:o}=window;return{top:0,left:0,right:s,bottom:o,width:s,height:o}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function mPe(e){return e.reduce((t,n)=>Qx(t,zq(n)),If)}function LOt(e){return e.reduce((t,n)=>t+dPe(n),0)}function jOt(e){return e.reduce((t,n)=>t+fPe(n),0)}function gPe(e,t){if(t===void 0&&(t=tE),!e)return;const{top:n,left:r,bottom:i,right:s}=t(e);cPe(e)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const BOt=[["x",["left","right"],LOt],["y",["top","bottom"],jOt]];class sZ{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=iZ(n),i=mPe(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,o,a]of BOt)for(const l of o)Object.defineProperty(this,l,{get:()=>{const u=a(r),c=i[s]-u;return this.rect[l]+c},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}let lT=class{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}};function zOt(e){const{EventTarget:t}=ql(e);return e instanceof t?e:eE(e)}function YB(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Fc;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Fc||(Fc={}));function _pe(e){e.preventDefault()}function UOt(e){e.stopPropagation()}var ni;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(ni||(ni={}));const yPe={start:[ni.Space,ni.Enter],cancel:[ni.Esc],end:[ni.Space,ni.Enter,ni.Tab]},VOt=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case ni.Right:return{...n,x:n.x+25};case ni.Left:return{...n,x:n.x-25};case ni.Down:return{...n,y:n.y+25};case ni.Up:return{...n,y:n.y-25}}};class oZ{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new lT(eE(n)),this.windowListeners=new lT(ql(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Fc.Resize,this.handleCancel),this.windowListeners.add(Fc.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Fc.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&gPe(r),n(If)}handleKeyDown(t){if(SM(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=yPe,coordinateGetter:o=VOt,scrollBehavior:a="smooth"}=i,{code:l}=t;if(s.end.includes(l)){this.handleEnd(t);return}if(s.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:u}=r.current,c=u?{x:u.left,y:u.top}:If;this.referenceCoordinates||(this.referenceCoordinates=c);const d=o(t,{active:n,context:r.current,currentCoordinates:c});if(d){const f=i6(d,c),h={x:0,y:0},{scrollableAncestors:p}=r.current;for(const m of p){const g=t.code,{isTop:y,isRight:v,isLeft:w,isBottom:_,maxScroll:C,minScroll:S}=pPe(m),T=FOt(m),k={x:Math.min(g===ni.Right?T.right-T.width/2:T.right,Math.max(g===ni.Right?T.left:T.left+T.width/2,d.x)),y:Math.min(g===ni.Down?T.bottom-T.height/2:T.bottom,Math.max(g===ni.Down?T.top:T.top+T.height/2,d.y))},I=g===ni.Right&&!v||g===ni.Left&&!w,R=g===ni.Down&&!_||g===ni.Up&&!y;if(I&&k.x!==d.x){const P=m.scrollLeft+f.x,N=g===ni.Right&&P<=C.x||g===ni.Left&&P>=S.x;if(N&&!f.y){m.scrollTo({left:P,behavior:a});return}N?h.x=m.scrollLeft-P:h.x=g===ni.Right?m.scrollLeft-C.x:m.scrollLeft-S.x,h.x&&m.scrollBy({left:-h.x,behavior:a});break}else if(R&&k.y!==d.y){const P=m.scrollTop+f.y,N=g===ni.Down&&P<=C.y||g===ni.Up&&P>=S.y;if(N&&!f.x){m.scrollTo({top:P,behavior:a});return}N?h.y=m.scrollTop-P:h.y=g===ni.Down?m.scrollTop-C.y:m.scrollTop-S.y,h.y&&m.scrollBy({top:-h.y,behavior:a});break}}this.handleMove(t,Qx(i6(d,this.referenceCoordinates),h))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}oZ.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=yPe,onActivation:i}=t,{active:s}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const a=s.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),i?.({event:e.nativeEvent}),!0)}return!1}}];function Cpe(e){return!!(e&&"distance"in e)}function Epe(e){return!!(e&&"delay"in e)}class aZ{constructor(t,n,r){var i;r===void 0&&(r=zOt(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:o}=s;this.props=t,this.events=n,this.document=eE(o),this.documentListeners=new lT(this.document),this.listeners=new lT(r),this.windowListeners=new lT(ql(o)),this.initialCoordinates=(i=s6(s))!=null?i:If,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Fc.Resize,this.handleCancel),this.windowListeners.add(Fc.DragStart,_pe),this.windowListeners.add(Fc.VisibilityChange,this.handleCancel),this.windowListeners.add(Fc.ContextMenu,_pe),this.documentListeners.add(Fc.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Epe(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Cpe(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Fc.Click,UOt,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Fc.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:o,options:{activationConstraint:a}}=s;if(!i)return;const l=(n=s6(t))!=null?n:If,u=i6(i,l);if(!r&&a){if(Cpe(a)){if(a.tolerance!=null&&YB(u,a.tolerance))return this.handleCancel();if(YB(u,a.distance))return this.handleStart()}if(Epe(a)&&YB(u,a.tolerance))return this.handleCancel();this.handlePending(a,u);return}t.cancelable&&t.preventDefault(),o(l)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===ni.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const HOt={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class lZ extends aZ{constructor(t){const{event:n}=t,r=eE(n.target);super(t,HOt,r)}}lZ.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const qOt={move:{name:"mousemove"},end:{name:"mouseup"}};var Uq;(function(e){e[e.RightClick=2]="RightClick"})(Uq||(Uq={}));class WOt extends aZ{constructor(t){super(t,qOt,eE(t.event.target))}}WOt.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Uq.RightClick?!1:(r?.({event:n}),!0)}}];const KB={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class GOt extends aZ{constructor(t){super(t,KB)}static setup(){return window.addEventListener(KB.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(KB.move.name,t)};function t(){}}}GOt.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r?.({event:n}),!0)}}];var uT;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(uT||(uT={}));var a6;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(a6||(a6={}));function YOt(e){let{acceleration:t,activator:n=uT.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:o=5,order:a=a6.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:c,delta:d,threshold:f}=e;const h=XOt({delta:d,disabled:!s}),[p,m]=uOt(),g=A.useRef({x:0,y:0}),y=A.useRef({x:0,y:0}),v=A.useMemo(()=>{switch(n){case uT.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case uT.DraggableRect:return i}},[n,i,l]),w=A.useRef(null),_=A.useCallback(()=>{const S=w.current;if(!S)return;const T=g.current.x*y.current.x,k=g.current.y*y.current.y;S.scrollBy(T,k)},[]),C=A.useMemo(()=>a===a6.TreeOrder?[...u].reverse():u,[a,u]);A.useEffect(()=>{if(!s||!u.length||!v){m();return}for(const S of C){if(r?.(S)===!1)continue;const T=u.indexOf(S),k=c[T];if(!k)continue;const{direction:I,speed:R}=MOt(S,k,v,t,f);for(const P of["x","y"])h[P][I[P]]||(R[P]=0,I[P]=0);if(R.x>0||R.y>0){m(),w.current=S,p(_,o),g.current=R,y.current=I;return}}g.current={x:0,y:0},y.current={x:0,y:0},m()},[t,_,r,m,s,o,JSON.stringify(v),JSON.stringify(h),p,u,C,c,JSON.stringify(f)])}const KOt={x:{[jo.Backward]:!1,[jo.Forward]:!1},y:{[jo.Backward]:!1,[jo.Forward]:!1}};function XOt(e){let{delta:t,disabled:n}=e;const r=r6(t);return XA(i=>{if(n||!r||!i)return KOt;const s={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[jo.Backward]:i.x[jo.Backward]||s.x===-1,[jo.Forward]:i.x[jo.Forward]||s.x===1},y:{[jo.Backward]:i.y[jo.Backward]||s.y===-1,[jo.Forward]:i.y[jo.Forward]||s.y===1}}},[n,t,r])}function QOt(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return XA(i=>{var s;return t==null?null:(s=r??i)!=null?s:null},[r,t])}function JOt(e,t){return A.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,r)}));return[...n,...s]},[]),[e,t])}var wk;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(wk||(wk={}));var Vq;(function(e){e.Optimized="optimized"})(Vq||(Vq={}));const Spe=new Map;function ZOt(e,t){let{dragging:n,dependencies:r,config:i}=t;const[s,o]=A.useState(null),{frequency:a,measure:l,strategy:u}=i,c=A.useRef(e),d=g(),f=bk(d),h=A.useCallback(function(y){y===void 0&&(y=[]),!f.current&&o(v=>v===null?y:v.concat(y.filter(w=>!v.includes(w))))},[f]),p=A.useRef(null),m=XA(y=>{if(d&&!n)return Spe;if(!y||y===Spe||c.current!==e||s!=null){const v=new Map;for(let w of e){if(!w)continue;if(s&&s.length>0&&!s.includes(w.id)&&w.rect.current){v.set(w.id,w.rect.current);continue}const _=w.node.current,C=_?new sZ(l(_),_):null;w.rect.current=C,C&&v.set(w.id,C)}return v}return y},[e,s,n,d,l]);return A.useEffect(()=>{c.current=e},[e]),A.useEffect(()=>{d||h()},[n,d]),A.useEffect(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),A.useEffect(()=>{d||typeof a!="number"||p.current!==null||(p.current=setTimeout(()=>{h(),p.current=null},a))},[a,d,h,...r]),{droppableRects:m,measureDroppableContainers:h,measuringScheduled:s!=null};function g(){switch(u){case wk.Always:return!1;case wk.BeforeDragging:return n;default:return!n}}}function uZ(e,t){return XA(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function eNt(e,t){return uZ(e,t)}function tNt(e){let{callback:t,disabled:n}=e;const r=EM(t),i=A.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return A.useEffect(()=>()=>i?.disconnect(),[i]),i}function kM(e){let{callback:t,disabled:n}=e;const r=EM(t),i=A.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return A.useEffect(()=>()=>i?.disconnect(),[i]),i}function nNt(e){return new sZ(tE(e),e)}function Tpe(e,t,n){t===void 0&&(t=nNt);const[r,i]=A.useState(null);function s(){i(l=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=l??n)!=null?u:null}const c=t(e);return JSON.stringify(l)===JSON.stringify(c)?l:c})}const o=tNt({callback(l){if(e)for(const u of l){const{type:c,target:d}=u;if(c==="childList"&&d instanceof HTMLElement&&d.contains(e)){s();break}}}}),a=kM({callback:s});return Rf(()=>{s(),e?(a?.observe(e),o?.observe(document.body,{childList:!0,subtree:!0})):(a?.disconnect(),o?.disconnect())},[e]),r}function rNt(e){const t=uZ(e);return lPe(e,t)}const kpe=[];function iNt(e){const t=A.useRef(e),n=XA(r=>e?r&&r!==kpe&&e&&t.current&&e.parentNode===t.current.parentNode?r:iZ(e):kpe,[e]);return A.useEffect(()=>{t.current=e},[e]),n}function sNt(e){const[t,n]=A.useState(null),r=A.useRef(e),i=A.useCallback(s=>{const o=GB(s.target);o&&n(a=>a?(a.set(o,zq(o)),new Map(a)):null)},[]);return A.useEffect(()=>{const s=r.current;if(e!==s){o(s);const a=e.map(l=>{const u=GB(l);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,zq(u)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=e}return()=>{o(e),o(s)};function o(a){a.forEach(l=>{const u=GB(l);u?.removeEventListener("scroll",i)})}},[i,e]),A.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,o)=>Qx(s,o),If):mPe(e):If,[e,t])}function Ape(e,t){t===void 0&&(t=[]);const n=A.useRef(null);return A.useEffect(()=>{n.current=null},t),A.useEffect(()=>{const r=e!==If;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?i6(e,n.current):If}function oNt(e){A.useEffect(()=>{if(!CM)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function aNt(e,t){return A.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=o=>{s(o,t)},n},{}),[e,t])}function vPe(e){return A.useMemo(()=>e?POt(e):null,[e])}const Rpe=[];function lNt(e,t){t===void 0&&(t=tE);const[n]=e,r=vPe(n?ql(n):null),[i,s]=A.useState(Rpe);function o(){s(()=>e.length?e.map(l=>hPe(l)?r:new sZ(t(l),l)):Rpe)}const a=kM({callback:o});return Rf(()=>{a?.disconnect(),o(),e.forEach(l=>a?.observe(l))},[e]),i}function bPe(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return KA(t)?t:e}function uNt(e){let{measure:t}=e;const[n,r]=A.useState(null),i=A.useCallback(u=>{for(const{target:c}of u)if(KA(c)){r(d=>{const f=t(c);return d?{...d,width:f.width,height:f.height}:f});break}},[t]),s=kM({callback:i}),o=A.useCallback(u=>{const c=bPe(u);s?.disconnect(),c&&s?.observe(c),r(c?t(c):null)},[t,s]),[a,l]=n6(o);return A.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const cNt=[{sensor:lZ,options:{}},{sensor:oZ,options:{}}],dNt={current:{}},IO={draggable:{measure:xpe},droppable:{measure:xpe,strategy:wk.WhileDragging,frequency:Vq.Optimized},dragOverlay:{measure:tE}};class cT extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const fNt={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new cT,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:o6},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:IO,measureDroppableContainers:o6,windowRect:null,measuringScheduled:!1},wPe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:o6,draggableNodes:new Map,over:null,measureDroppableContainers:o6},JA=A.createContext(wPe),xPe=A.createContext(fNt);function hNt(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new cT}}}function pNt(e,t){switch(t.type){case vo.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case vo.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case vo.DragEnd:case vo.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case vo.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new cT(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case vo.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const o=new cT(e.droppable.containers);return o.set(n,{...s,disabled:i}),{...e,droppable:{...e.droppable,containers:o}}}case vo.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new cT(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function mNt(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=A.useContext(JA),s=r6(r),o=r6(n?.id);return A.useEffect(()=>{if(!t&&!r&&s&&o!=null){if(!SM(s)||document.activeElement===s.target)return;const a=i.get(o);if(!a)return;const{activatorNode:l,node:u}=a;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const c of[l.current,u.current]){if(!c)continue;const d=fOt(c);if(d){d.focus();break}}})}},[r,t,i,o,s]),null}function _Pe(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,s)=>s({transform:i,...r}),n):n}function gNt(e){return A.useMemo(()=>({draggable:{...IO.draggable,...e?.draggable},droppable:{...IO.droppable,...e?.droppable},dragOverlay:{...IO.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function yNt(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const s=A.useRef(!1),{x:o,y:a}=typeof i=="boolean"?{x:i,y:i}:i;Rf(()=>{if(!o&&!a||!t){s.current=!1;return}if(s.current||!r)return;const u=t?.node.current;if(!u||u.isConnected===!1)return;const c=n(u),d=lPe(c,r);if(o||(d.x=0),a||(d.y=0),s.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const f=cPe(u);f&&f.scrollBy({top:d.y,left:d.x})}},[t,o,a,r,n])}const AM=A.createContext({...If,scaleX:1,scaleY:1});var Cg;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Cg||(Cg={}));const cZ=A.memo(function(t){var n,r,i,s;let{id:o,accessibility:a,autoScroll:l=!0,children:u,sensors:c=cNt,collisionDetection:d=TM,measuring:f,modifiers:h,...p}=t;const m=A.useReducer(pNt,void 0,hNt),[g,y]=m,[v,w]=vOt(),[_,C]=A.useState(Cg.Uninitialized),S=_===Cg.Initialized,{draggable:{active:T,nodes:k,translate:I},droppable:{containers:R}}=g,P=T!=null?k.get(T):null,N=A.useRef({initial:null,translated:null}),$=A.useMemo(()=>{var Rn;return T!=null?{id:T,data:(Rn=P?.data)!=null?Rn:dNt,rect:N}:null},[T,P]),O=A.useRef(null),[j,B]=A.useState(null),[H,q]=A.useState(null),Y=bk(p,Object.values(p)),V=QA("DndDescribedBy",o),L=A.useMemo(()=>R.getEnabled(),[R]),z=gNt(f),{droppableRects:U,measureDroppableContainers:G,measuringScheduled:Q}=ZOt(L,{dragging:S,dependencies:[I.x,I.y],config:z.droppable}),ne=QOt(k,T),ue=A.useMemo(()=>H?s6(H):null,[H]),se=br(),ae=eNt(ne,z.draggable.measure);yNt({activeNode:T!=null?k.get(T):null,config:se.layoutShiftCompensation,initialRect:ae,measure:z.draggable.measure});const he=Tpe(ne,z.draggable.measure,ae),ie=Tpe(ne?ne.parentElement:null),le=A.useRef({activatorEvent:null,active:null,activeNode:ne,collisionRect:null,collisions:null,droppableRects:U,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:R,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ee=R.getNodeFor((n=le.current.over)==null?void 0:n.id),X=uNt({measure:z.dragOverlay.measure}),fe=(r=X.nodeRef.current)!=null?r:ne,de=S?(i=X.rect)!=null?i:he:null,te=!!(X.nodeRef.current&&X.rect),ee=rNt(te?null:he),me=vPe(fe?ql(fe):null),Re=iNt(S?Ee??ne:null),Te=lNt(Re),we=_Pe(h,{transform:{x:I.x-ee.x,y:I.y-ee.y,scaleX:1,scaleY:1},activatorEvent:H,active:$,activeNodeRect:he,containerNodeRect:ie,draggingNodeRect:de,over:le.current.over,overlayNodeRect:X.rect,scrollableAncestors:Re,scrollableAncestorRects:Te,windowRect:me}),$e=ue?Qx(ue,I):null,Ae=sNt(Re),Oe=Ape(Ae),xe=Ape(Ae,[he]),je=Qx(we,Oe),Ue=de?ROt(de,we):null,nt=$&&Ue?d({active:$,collisionRect:Ue,droppableRects:U,droppableContainers:L,pointerCoordinates:$e}):null,it=SOt(nt,"id"),[wt,Zt]=A.useState(null),Qt=te?we:Qx(we,xe),Mn=kOt(Qt,(s=wt?.rect)!=null?s:null,he),jt=A.useRef(null),gn=A.useCallback((Rn,fn)=>{let{sensor:sr,options:ui}=fn;if(O.current==null)return;const _r=k.get(O.current);if(!_r)return;const In=Rn.nativeEvent,ht=new sr({active:O.current,activeNode:_r,event:In,options:ui,context:le,onAbort(Yt){if(!k.get(Yt))return;const{onDragAbort:pn}=Y.current,Qn={id:Yt};pn?.(Qn),v({type:"onDragAbort",event:Qn})},onPending(Yt,tr,pn,Qn){if(!k.get(Yt))return;const{onDragPending:Pr}=Y.current,Or={id:Yt,constraint:tr,initialCoordinates:pn,offset:Qn};Pr?.(Or),v({type:"onDragPending",event:Or})},onStart(Yt){const tr=O.current;if(tr==null)return;const pn=k.get(tr);if(!pn)return;const{onDragStart:Qn}=Y.current,Cr={activatorEvent:In,active:{id:tr,data:pn.data,rect:N}};Hh.unstable_batchedUpdates(()=>{Qn?.(Cr),C(Cg.Initializing),y({type:vo.DragStart,initialCoordinates:Yt,active:tr}),v({type:"onDragStart",event:Cr}),B(jt.current),q(In)})},onMove(Yt){y({type:vo.DragMove,coordinates:Yt})},onEnd:pr(vo.DragEnd),onCancel:pr(vo.DragCancel)});jt.current=ht;function pr(Yt){return async function(){const{active:pn,collisions:Qn,over:Cr,scrollAdjustedTranslate:Pr}=le.current;let Or=null;if(pn&&Pr){const{cancelDrop:oo}=Y.current;Or={activatorEvent:In,active:pn,collisions:Qn,delta:Pr,over:Cr},Yt===vo.DragEnd&&typeof oo=="function"&&await Promise.resolve(oo(Or))&&(Yt=vo.DragCancel)}O.current=null,Hh.unstable_batchedUpdates(()=>{y({type:Yt}),C(Cg.Uninitialized),Zt(null),B(null),q(null),jt.current=null;const oo=Yt===vo.DragEnd?"onDragEnd":"onDragCancel";if(Or){const ka=Y.current[oo];ka?.(Or),v({type:oo,event:Or})}})}}},[k]),Kn=A.useCallback((Rn,fn)=>(sr,ui)=>{const _r=sr.nativeEvent,In=k.get(ui);if(O.current!==null||!In||_r.dndKit||_r.defaultPrevented)return;const ht={active:In};Rn(sr,fn.options,ht)===!0&&(_r.dndKit={capturedBy:fn.sensor},O.current=ui,gn(sr,fn))},[k,gn]),Un=JOt(c,Kn);oNt(c),Rf(()=>{he&&_===Cg.Initializing&&C(Cg.Initialized)},[he,_]),A.useEffect(()=>{const{onDragMove:Rn}=Y.current,{active:fn,activatorEvent:sr,collisions:ui,over:_r}=le.current;if(!fn||!sr)return;const In={active:fn,activatorEvent:sr,collisions:ui,delta:{x:je.x,y:je.y},over:_r};Hh.unstable_batchedUpdates(()=>{Rn?.(In),v({type:"onDragMove",event:In})})},[je.x,je.y]),A.useEffect(()=>{const{active:Rn,activatorEvent:fn,collisions:sr,droppableContainers:ui,scrollAdjustedTranslate:_r}=le.current;if(!Rn||O.current==null||!fn||!_r)return;const{onDragOver:In}=Y.current,ht=ui.get(it),pr=ht&&ht.rect.current?{id:ht.id,rect:ht.rect.current,data:ht.data,disabled:ht.disabled}:null,Yt={active:Rn,activatorEvent:fn,collisions:sr,delta:{x:_r.x,y:_r.y},over:pr};Hh.unstable_batchedUpdates(()=>{Zt(pr),In?.(Yt),v({type:"onDragOver",event:Yt})})},[it]),Rf(()=>{le.current={activatorEvent:H,active:$,activeNode:ne,collisionRect:Ue,collisions:nt,droppableRects:U,draggableNodes:k,draggingNode:fe,draggingNodeRect:de,droppableContainers:R,over:wt,scrollableAncestors:Re,scrollAdjustedTranslate:je},N.current={initial:de,translated:Ue}},[$,ne,nt,Ue,k,fe,de,U,R,wt,Re,je]),YOt({...se,delta:I,draggingRect:Ue,pointerCoordinates:$e,scrollableAncestors:Re,scrollableAncestorRects:Te});const Dr=A.useMemo(()=>({active:$,activeNode:ne,activeNodeRect:he,activatorEvent:H,collisions:nt,containerNodeRect:ie,dragOverlay:X,draggableNodes:k,droppableContainers:R,droppableRects:U,over:wt,measureDroppableContainers:G,scrollableAncestors:Re,scrollableAncestorRects:Te,measuringConfiguration:z,measuringScheduled:Q,windowRect:me}),[$,ne,he,H,nt,ie,X,k,R,U,wt,G,Re,Te,z,Q,me]),Jn=A.useMemo(()=>({activatorEvent:H,activators:Un,active:$,activeNodeRect:he,ariaDescribedById:{draggable:V},dispatch:y,draggableNodes:k,over:wt,measureDroppableContainers:G}),[H,Un,$,he,y,V,k,wt,G]);return mn.createElement(aPe.Provider,{value:w},mn.createElement(JA.Provider,{value:Jn},mn.createElement(xPe.Provider,{value:Dr},mn.createElement(AM.Provider,{value:Mn},u)),mn.createElement(mNt,{disabled:a?.restoreFocus===!1})),mn.createElement(xOt,{...a,hiddenTextDescribedById:V}));function br(){const Rn=j?.autoScrollEnabled===!1,fn=typeof l=="object"?l.enabled===!1:l===!1,sr=S&&!Rn&&!fn;return typeof l=="object"?{...l,enabled:sr}:{enabled:sr}}}),vNt=A.createContext(null),Ipe="button",bNt="Draggable";function wNt(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const s=QA(bNt),{activators:o,activatorEvent:a,active:l,activeNodeRect:u,ariaDescribedById:c,draggableNodes:d,over:f}=A.useContext(JA),{role:h=Ipe,roleDescription:p="draggable",tabIndex:m=0}=i??{},g=l?.id===t,y=A.useContext(g?AM:vNt),[v,w]=n6(),[_,C]=n6(),S=aNt(o,t),T=bk(n);Rf(()=>(d.set(t,{id:t,key:s,node:v,activatorNode:_,data:T}),()=>{const I=d.get(t);I&&I.key===s&&d.delete(t)}),[d,t]);const k=A.useMemo(()=>({role:h,tabIndex:m,"aria-disabled":r,"aria-pressed":g&&h===Ipe?!0:void 0,"aria-roledescription":p,"aria-describedby":c.draggable}),[r,h,m,g,p,c.draggable]);return{active:l,activatorEvent:a,activeNodeRect:u,attributes:k,isDragging:g,listeners:r?void 0:S,node:v,over:f,setNodeRef:w,setActivatorNodeRef:C,transform:y}}function CPe(){return A.useContext(xPe)}const xNt="Droppable",_Nt={timeout:25};function EPe(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const s=QA(xNt),{active:o,dispatch:a,over:l,measureDroppableContainers:u}=A.useContext(JA),c=A.useRef({disabled:n}),d=A.useRef(!1),f=A.useRef(null),h=A.useRef(null),{disabled:p,updateMeasurementsFor:m,timeout:g}={..._Nt,...i},y=bk(m??r),v=A.useCallback(()=>{if(!d.current){d.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{u(Array.isArray(y.current)?y.current:[y.current]),h.current=null},g)},[g]),w=kM({callback:v,disabled:p||!o}),_=A.useCallback((k,I)=>{w&&(I&&(w.unobserve(I),d.current=!1),k&&w.observe(k))},[w]),[C,S]=n6(_),T=bk(t);return A.useEffect(()=>{!w||!C.current||(w.disconnect(),d.current=!1,w.observe(C.current))},[C,w]),A.useEffect(()=>(a({type:vo.RegisterDroppable,element:{id:r,key:s,disabled:n,node:C,rect:f,data:T}}),()=>a({type:vo.UnregisterDroppable,key:s,id:r})),[r]),A.useEffect(()=>{n!==c.current.disabled&&(a({type:vo.SetDroppableDisabled,id:r,key:s,disabled:n}),c.current.disabled=n)},[r,s,n,a]),{active:o,rect:f,isOver:l?.id===r,node:C,over:l,setNodeRef:S}}function CNt(e){let{animation:t,children:n}=e;const[r,i]=A.useState(null),[s,o]=A.useState(null),a=r6(n);return!n&&!r&&a&&i(a),Rf(()=>{if(!s)return;const l=r?.key,u=r?.props.id;if(l==null||u==null){i(null);return}Promise.resolve(t(u,s)).then(()=>{i(null)})},[t,r,s]),mn.createElement(mn.Fragment,null,n,r?A.cloneElement(r,{ref:o}):null)}const ENt={x:0,y:0,scaleX:1,scaleY:1};function SNt(e){let{children:t}=e;return mn.createElement(JA.Provider,{value:wPe},mn.createElement(AM.Provider,{value:ENt},t))}const TNt={position:"fixed",touchAction:"none"},kNt=e=>SM(e)?"transform 250ms ease":void 0,ANt=A.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:i,children:s,className:o,rect:a,style:l,transform:u,transition:c=kNt}=e;if(!a)return null;const d=i?u:{...u,scaleX:1,scaleY:1},f={...TNt,width:a.width,height:a.height,top:a.top,left:a.left,transform:Ey.Transform.toString(d),transformOrigin:i&&r?COt(r,a):void 0,transition:typeof c=="function"?c(r):c,...l};return mn.createElement(n,{className:o,style:f,ref:t},s)}),RNt=e=>t=>{let{active:n,dragOverlay:r}=t;const i={},{styles:s,className:o}=e;if(s!=null&&s.active)for(const[a,l]of Object.entries(s.active))l!==void 0&&(i[a]=n.node.style.getPropertyValue(a),n.node.style.setProperty(a,l));if(s!=null&&s.dragOverlay)for(const[a,l]of Object.entries(s.dragOverlay))l!==void 0&&r.node.style.setProperty(a,l);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(const[l,u]of Object.entries(i))n.node.style.setProperty(l,u);o!=null&&o.active&&n.node.classList.remove(o.active)}},INt=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Ey.Transform.toString(t)},{transform:Ey.Transform.toString(n)}]},DNt={duration:250,easing:"ease",keyframes:INt,sideEffects:RNt({styles:{active:{opacity:"0"}}})};function PNt(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=e;return EM((s,o)=>{if(t===null)return;const a=n.get(s);if(!a)return;const l=a.node.current;if(!l)return;const u=bPe(o);if(!u)return;const{transform:c}=ql(o).getComputedStyle(o),d=uPe(c);if(!d)return;const f=typeof t=="function"?t:ONt(t);return gPe(l,i.draggable.measure),f({active:{id:s,data:a.data,node:l,rect:i.draggable.measure(l)},draggableNodes:n,dragOverlay:{node:o,rect:i.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:i,transform:d})})}function ONt(e){const{duration:t,easing:n,sideEffects:r,keyframes:i}={...DNt,...e};return s=>{let{active:o,dragOverlay:a,transform:l,...u}=s;if(!t)return;const c={x:a.rect.left-o.rect.left,y:a.rect.top-o.rect.top},d={scaleX:l.scaleX!==1?o.rect.width*l.scaleX/a.rect.width:1,scaleY:l.scaleY!==1?o.rect.height*l.scaleY/a.rect.height:1},f={x:l.x-c.x,y:l.y-c.y,...d},h=i({...u,active:o,dragOverlay:a,transform:{initial:l,final:f}}),[p]=h,m=h[h.length-1];if(JSON.stringify(p)===JSON.stringify(m))return;const g=r?.({active:o,dragOverlay:a,...u}),y=a.node.animate(h,{duration:t,easing:n,fill:"forwards"});return new Promise(v=>{y.onfinish=()=>{g?.(),v()}})}}let Dpe=0;function NNt(e){return A.useMemo(()=>{if(e!=null)return Dpe++,Dpe},[e])}const dZ=mn.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:i,transition:s,modifiers:o,wrapperElement:a="div",className:l,zIndex:u=999}=e;const{activatorEvent:c,active:d,activeNodeRect:f,containerNodeRect:h,draggableNodes:p,droppableContainers:m,dragOverlay:g,over:y,measuringConfiguration:v,scrollableAncestors:w,scrollableAncestorRects:_,windowRect:C}=CPe(),S=A.useContext(AM),T=NNt(d?.id),k=_Pe(o,{activatorEvent:c,active:d,activeNodeRect:f,containerNodeRect:h,draggingNodeRect:g.rect,over:y,overlayNodeRect:g.rect,scrollableAncestors:w,scrollableAncestorRects:_,transform:S,windowRect:C}),I=uZ(f),R=PNt({config:r,draggableNodes:p,droppableContainers:m,measuringConfiguration:v}),P=I?g.setRef:void 0;return mn.createElement(SNt,null,mn.createElement(CNt,{animation:R},d&&T?mn.createElement(ANt,{key:T,id:d.id,ref:P,as:a,activatorEvent:c,adjustScale:t,className:l,transition:s,rect:I,style:{zIndex:u,...i},transform:k},n):null))});function fZ(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function $Nt(e,t){return e.reduce((n,r,i)=>{const s=t.get(r);return s&&(n[i]=s),n},Array(e.length))}function UD(e){return e!==null&&e>=0}function MNt(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function FNt(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const SPe=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const s=fZ(t,r,n),o=t[i],a=s[i];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}},VD={scaleX:1,scaleY:1},xk=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:s,overIndex:o}=e;const a=(t=s[n])!=null?t:r;if(!a)return null;if(i===n){const u=s[o];return u?{x:0,y:n<o?u.top+u.height-(a.top+a.height):u.top-a.top,...VD}:null}const l=LNt(s,i,n);return i>n&&i<=o?{x:0,y:-a.height-l,...VD}:i<n&&i>=o?{x:0,y:a.height+l,...VD}:{x:0,y:0,...VD}};function LNt(e,t,n){const r=e[t],i=e[t-1],s=e[t+1];return r?n<t?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const TPe="Sortable",kPe=mn.createContext({activeIndex:-1,containerId:TPe,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:SPe,disabled:{draggable:!1,droppable:!1}});function _k(e){let{children:t,id:n,items:r,strategy:i=SPe,disabled:s=!1}=e;const{active:o,dragOverlay:a,droppableRects:l,over:u,measureDroppableContainers:c}=CPe(),d=QA(TPe,n),f=a.rect!==null,h=A.useMemo(()=>r.map(S=>typeof S=="object"&&"id"in S?S.id:S),[r]),p=o!=null,m=o?h.indexOf(o.id):-1,g=u?h.indexOf(u.id):-1,y=A.useRef(h),v=!MNt(h,y.current),w=g!==-1&&m===-1||v,_=FNt(s);Rf(()=>{v&&p&&c(h)},[v,h,p,c]),A.useEffect(()=>{y.current=h},[h]);const C=A.useMemo(()=>({activeIndex:m,containerId:d,disabled:_,disableTransforms:w,items:h,overIndex:g,useDragOverlay:f,sortedRects:$Nt(h,l),strategy:i}),[m,d,_.draggable,_.droppable,w,h,g,l,f,i]);return mn.createElement(kPe.Provider,{value:C},t)}const jNt=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return fZ(n,r,i).indexOf(t)},BNt=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:s,newIndex:o,previousItems:a,previousContainerId:l,transition:u}=e;return!u||!r||a!==s&&i===o?!1:n?!0:o!==i&&t===l},zNt={duration:200,easing:"ease"},APe="transform",UNt=Ey.Transition.toString({property:APe,duration:0,easing:"linear"}),VNt={roleDescription:"sortable"};function HNt(e){let{disabled:t,index:n,node:r,rect:i}=e;const[s,o]=A.useState(null),a=A.useRef(n);return Rf(()=>{if(!t&&n!==a.current&&r.current){const l=i.current;if(l){const u=tE(r.current,{ignoreTransform:!0}),c={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(c.x||c.y)&&o(c)}}n!==a.current&&(a.current=n)},[t,n,r,i]),A.useEffect(()=>{s&&o(null)},[s]),s}function qNt(e){let{animateLayoutChanges:t=BNt,attributes:n,disabled:r,data:i,getNewIndex:s=jNt,id:o,strategy:a,resizeObserverConfig:l,transition:u=zNt}=e;const{items:c,containerId:d,activeIndex:f,disabled:h,disableTransforms:p,sortedRects:m,overIndex:g,useDragOverlay:y,strategy:v}=A.useContext(kPe),w=WNt(r,h),_=c.indexOf(o),C=A.useMemo(()=>({sortable:{containerId:d,index:_,items:c},...i}),[d,i,_,c]),S=A.useMemo(()=>c.slice(c.indexOf(o)),[c,o]),{rect:T,node:k,isOver:I,setNodeRef:R}=EPe({id:o,data:C,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...l}}),{active:P,activatorEvent:N,activeNodeRect:$,attributes:O,setNodeRef:j,listeners:B,isDragging:H,over:q,setActivatorNodeRef:Y,transform:V}=wNt({id:o,data:C,attributes:{...VNt,...n},disabled:w.draggable}),L=lOt(R,j),z=!!P,U=z&&!p&&UD(f)&&UD(g),G=!y&&H,Q=G&&U?V:null,ue=U?Q??(a??v)({rects:m,activeNodeRect:$,activeIndex:f,overIndex:g,index:_}):null,se=UD(f)&&UD(g)?s({id:o,items:c,activeIndex:f,overIndex:g}):_,ae=P?.id,he=A.useRef({activeId:ae,items:c,newIndex:se,containerId:d}),ie=c!==he.current.items,le=t({active:P,containerId:d,isDragging:H,isSorting:z,id:o,index:_,items:c,newIndex:he.current.newIndex,previousItems:he.current.items,previousContainerId:he.current.containerId,transition:u,wasDragging:he.current.activeId!=null}),Ee=HNt({disabled:!le,index:_,node:k,rect:T});return A.useEffect(()=>{z&&he.current.newIndex!==se&&(he.current.newIndex=se),d!==he.current.containerId&&(he.current.containerId=d),c!==he.current.items&&(he.current.items=c)},[z,se,d,c]),A.useEffect(()=>{if(ae===he.current.activeId)return;if(ae!=null&&he.current.activeId==null){he.current.activeId=ae;return}const fe=setTimeout(()=>{he.current.activeId=ae},50);return()=>clearTimeout(fe)},[ae]),{active:P,activeIndex:f,attributes:O,data:C,rect:T,index:_,newIndex:se,items:c,isOver:I,isSorting:z,isDragging:H,listeners:B,node:k,overIndex:g,over:q,setNodeRef:L,setActivatorNodeRef:Y,setDroppableNodeRef:R,setDraggableNodeRef:j,transform:Ee??ue,transition:X()};function X(){if(Ee||ie&&he.current.newIndex===_)return UNt;if(!(G&&!SM(N)||!u)&&(z||le))return Ey.Transition.toString({...u,property:APe})}}function WNt(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(r=e?.droppable)!=null?r:t.droppable}}ni.Down,ni.Right,ni.Up,ni.Left;const GNt="_item_11oxa_1",YNt="_itemDragging_11oxa_11",Ppe={item:GNt,itemDragging:YNt};function ny({item:e,index:t}){const{attributes:n,listeners:r,setNodeRef:i,transform:s,transition:o,isDragging:a}=qNt({id:e.symbol}),l={transform:Ey.Transform.toString(s),transition:o};return b.jsxs(vd,{ref:i,style:{...l,margin:"0 auto",minWidth:"200px"},className:Lt(Ppe.item,{[Ppe.itemDragging]:a}),...n,...r,withBorder:!0,p:"sm",children:[t!==void 0&&b.jsx(He,{c:"dimmed",mr:"sm",children:t}),b.jsx(He,{children:e.label})]})}function Ck({id:e,title:t,children:n}){const{setNodeRef:r,isOver:i}=EPe({id:e});return b.jsxs(vd,{ref:r,style:{backgroundColor:i?"#f0f8ff":void 0,borderColor:i?"#4dabf7":void 0,maxWidth:"600px"},withBorder:!0,p:"sm",children:[b.jsx(He,{fw:500,ta:"center",mb:"sm",children:t}),n]})}const hZ=e=>e.map(t=>({id:typeof t=="string"?t:t.value,label:typeof t=="string"?t:t.label,symbol:typeof t=="string"?t:t.value})),pZ=(e,t)=>{const{setRankingAnswers:n}=is(),r=As();return{sensors:_Ot(wpe(lZ,{activationConstraint:{distance:5}}),wpe(oZ)),updateAnswer:o=>{t?.(o),r(n({responseId:e,values:o}))}}};function KNt({options:e,responseId:t,answer:n,disabled:r,numItems:i,setError:s}){const{onChange:o}=n,{sensors:a,updateAnswer:l}=pZ(t,o),u=A.useMemo(()=>hZ(e),[e]),[c,d]=A.useState(null),f=A.useMemo(()=>{let v=[];return n?.value&&Object.keys(n.value).length>0&&(v=Object.entries(n.value).sort((_,C)=>parseInt(_[1],10)-parseInt(C[1],10)).map(([_])=>u.find(C=>C.id===_)).filter(Boolean),i&&i>0&&(v=v.slice(0,i))),{selected:v,unassigned:u.filter(w=>!v.find(_=>_.id===w.id))}},[u,n,i]),[h,p]=A.useState(f);A.useEffect(()=>{p(f)},[f]);const m=v=>{d(v.active.id)},g=v=>{if(d(null),r||!v.over)return;const w=v.active.id,_=v.over.id,C=h.selected.find(P=>P.symbol===w),S=h.unassigned.find(P=>P.symbol===w),T=_==="selected"||h.selected.find(P=>P.symbol===_),k=_==="unassigned",I={...h};if(C&&T){const P=h.selected.findIndex($=>$.symbol===w),N=_==="selected"?h.selected.length-1:h.selected.findIndex($=>$.symbol===_);I.selected=fZ(h.selected,P,N)}else if(S&&T){if(i&&h.selected.length>=i){s?.(`You can only add up to ${i} items.`);return}I.unassigned=h.unassigned.filter(P=>P.symbol!==w),I.selected=[...h.selected,S]}else if(C&&k)I.selected=h.selected.filter(P=>P.symbol!==w),I.unassigned=[...h.unassigned,C];else return;s?.(null),p(I);const R={};I.selected.forEach((P,N)=>{R[P.id]=N.toString()}),l(R)},y=c?u.find(v=>v.symbol===c):null;return b.jsxs(cZ,{sensors:a,collisionDetection:TM,onDragStart:m,onDragEnd:g,children:[b.jsxs(zn,{gap:"md",w:"600px",mx:"auto",children:[b.jsxs(Ck,{id:"selected",title:"",children:[b.jsx(He,{size:"md",fw:500,ta:"center",mb:"sm",children:"HIGH"}),b.jsx(_k,{items:h.selected.map(v=>v.symbol),strategy:xk,children:b.jsx(zn,{children:h.selected.map((v,w)=>b.jsx(ny,{item:v,index:w+1},v.symbol))})}),b.jsx(He,{size:"md",fw:500,ta:"center",mt:"sm",children:"LOW"})]}),b.jsx(Ck,{id:"unassigned",title:"Available Items",children:b.jsx(_k,{items:h.unassigned.map(v=>v.symbol),strategy:xk,children:b.jsx(zn,{children:h.unassigned.map(v=>b.jsx(ny,{item:v},v.symbol))})})})]}),b.jsx(dZ,{children:y?b.jsx(ny,{item:y}):void 0})]})}function XNt({options:e,disabled:t,answer:n,responseId:r,numItems:i,setError:s}){const{onChange:o}=n,{sensors:a,updateAnswer:l}=pZ(r,o),u=A.useMemo(()=>hZ(e),[e]),[c,d]=A.useState(null),f=A.useMemo(()=>{const v={unassigned:[...u],HIGH:[],MEDIUM:[],LOW:[]};return n?.value&&Object.entries(n.value).forEach(([w,_])=>{const C=u.find(S=>S.id===w);C&&["HIGH","MEDIUM","LOW"].includes(_)&&(v[_].push(C),v.unassigned=v.unassigned.filter(S=>S.id!==w))}),v},[u,n]),[h,p]=A.useState(f);A.useEffect(()=>{p(f)},[f]);const m=v=>{d(v.active.id)},g=v=>{if(d(null),t||!v.over)return;const w=v.active.id,_=v.over.id,C=Object.keys(h).find(S=>h[S].find(T=>T.id===w));!C||C===_||["unassigned","HIGH","MEDIUM","LOW"].includes(_)&&p(S=>{const T=S[C].find(R=>R.id===w);if(!T)return S;if(_!=="unassigned"&&i&&S[_].length>=i)return s?.(`You can only add up to ${i} items.`),S;s?.(null);const k={...S};k[C]=k[C].filter(R=>R.id!==w),k[_]=[...k[_],T];const I={};return["HIGH","MEDIUM","LOW"].forEach(R=>{k[R].forEach(P=>{I[P.id]=R})}),l(I),k})},y=c?u.find(v=>v.id===c):null;return b.jsxs(cZ,{sensors:a,collisionDetection:TM,onDragStart:m,onDragEnd:g,children:[b.jsx(zn,{gap:"md",w:"600px",mx:"auto",children:["HIGH","MEDIUM","LOW","unassigned"].map(v=>b.jsx(Ck,{id:v,title:v==="unassigned"?"Available Items":v,children:b.jsx(_k,{items:h[v].map(w=>w.symbol),strategy:xk,children:b.jsx(zn,{children:h[v].map(w=>b.jsx(ny,{item:w},w.symbol))})})},v))}),b.jsx(dZ,{children:y?b.jsx(ny,{item:y}):void 0})]})}function QNt(e,t){const n={};Object.entries(e).forEach(([i,s])=>{const o=s.match(/^pair-(\d+)-(high|low)$/);if(o){const a=o[1],l=i.split("_")[0];n[a]||(n[a]=new Set),n[a].add(l)}});const r=[...n[t]||[]].sort().join("|");return r?Object.entries(n).some(([i,s])=>i!==t&&[...s].sort().join("|")===r):!1}function JNt({options:e,disabled:t,answer:n,responseId:r,setError:i}){const{onChange:s}=n,{sensors:o,updateAnswer:a}=pZ(r,s),l=A.useMemo(()=>hZ(e),[e]),[u,c]=A.useState(["0"]),[d,f]=A.useState(null),[h,p]=A.useState(0),[m,g]=A.useState(1),{pairs:y,unassigned:v}=A.useMemo(()=>{const T={};return Object.entries(n?.value||{}).forEach(([k,I])=>{const R=I.match(/^pair-(\d+)-(high|low)$/);if(R){const[,P,N]=R;T[P]||(T[P]={high:[],low:[]}),T[P][N].push(k)}}),u.forEach(k=>{T[k]||(T[k]={high:[],low:[]})}),{pairs:T,unassigned:l}},[l,n,u]),w=T=>{f(T.active.id)},_=T=>{if(f(null),t||!T.over)return;const k=T.active.id,I=T.over.id,R={...n.value};if(I==="unassigned"){delete R[k],i?.(null),a(R);return}const P=!k.includes("_"),N=P?k:k.split("_")[0],$=I.match(/^pair-(\d+)-(high|low)$/);if($){const[,O,j]=$;if(Object.entries(R).filter(([V,L])=>L===I&&V!==k).length>=1){i?.("You can only place one item in each box.");return}const q=`pair-${O}-${j==="high"?"low":"high"}`;if(Object.entries(R).some(([V,L])=>{const z=V.split("_")[0];return L===q&&z===N})){const V=l.find(L=>L.id===N)?.label;i?.(`Item "${V}" cannot be in both HIGH and LOW.`);return}if(P){const V={...R,[`${k}_temp`]:I};if(QNt(V,O)){i?.("This would create a duplicate pair.");return}}}P?(R[`${k}_${h}`]=I,p(O=>O+1)):(delete R[k],R[k]=I),i?.(null),a(R)},C=A.useMemo(()=>{if(!d)return null;const T=d.includes("_")?d.split("_")[0]:d;return l.find(k=>k.id===T)||null},[d,l]),S=T=>{if(t)return;const k={...n.value};Object.keys(k).forEach(I=>{k[I].startsWith(`pair-${T}-`)&&delete k[I]}),c(I=>I.filter(R=>R!==T)),i?.(null),a(k)};return b.jsxs(cZ,{sensors:o,collisionDetection:TM,onDragStart:w,onDragEnd:_,children:[b.jsx(At,{justify:"flex-end",mb:"md",children:b.jsx(Wt,{variant:"outline",onClick:()=>{t||(c(T=>[...T,m.toString()]),g(T=>T+1))},children:"Add New Pair"})}),b.jsxs(zn,{gap:"md",w:"650px",mx:"auto",children:[Object.entries(y).map(([T,k])=>b.jsxs(An,{justify:"center",wrap:"nowrap",align:"flex",children:[["high","low"].map(I=>b.jsx(De,{style:{width:"300px"},children:b.jsx(Ck,{id:`pair-${T}-${I}`,title:I.toUpperCase(),children:b.jsx(_k,{items:k[I],strategy:xk,children:b.jsx(zn,{children:k[I].map(R=>{const P=R.split("_")[0],N=l.find($=>$.id===P);return N?b.jsx(ny,{item:{...N,id:P,symbol:R}},R):null})})})})},I)),b.jsx(Wt,{variant:"white",color:"red",size:"xs",onClick:()=>S(T),disabled:t,children:"X"})]},T)),b.jsx(Ck,{id:"unassigned",title:"Available Items",children:b.jsx(_k,{items:v.map(T=>T.id),strategy:xk,children:b.jsx(zn,{children:v.map(T=>b.jsx(ny,{item:T},T.id))})})})]}),b.jsx(dZ,{children:C?b.jsx(ny,{item:C}):void 0})]})}function ZNt({response:e,answer:t,index:n,disabled:r,enumerateQuestions:i}){const{prompt:s,required:o,options:a,secondaryText:l,infoText:u,numItems:c}=e,[d,f]=A.useState(null),h={disabled:r,options:a,answer:t,responseId:e.id,numItems:c};return b.jsxs(De,{children:[s.length>0&&b.jsx(ud,{prompt:s,required:o,index:n,enumerateQuestions:i,infoText:u}),l&&b.jsx(He,{c:"dimmed",size:"sm",mt:0,children:l}),d&&b.jsx(He,{c:o?"red":"orange",size:"sm",mt:"xs",children:d}),b.jsxs(De,{mt:"md",children:[e.type==="ranking-sublist"&&b.jsx(KNt,{...h,setError:f}),e.type==="ranking-categorical"&&b.jsx(XNt,{...h,setError:f}),e.type==="ranking-pairwise"&&b.jsx(JNt,{...h,setError:f})]})]})}const e4t="_track_w59g7_1",t4t="_fixDisabled_w59g7_11",Ope={track:e4t,fixDisabled:t4t};function n4t({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:s,required:o,options:a,secondaryText:l,infoText:u,snap:c,step:d,withBar:f,tlxStyle:h,smeqStyle:p,spacing:m}=e,[g,y]=A.useMemo(()=>[Math.min(...a.map(P=>P.value)),Math.max(...a.map(P=>P.value))],[a]),v=a.some(P=>P.label!==""),w=gp(e,n),_=A.useMemo(()=>{const P=m??10**Math.floor(Math.log10((y-g)/10)),N=Math.ceil(g/P)*P,$=Math.floor((y-N)/P)+1;return Array.from({length:$},(O,j)=>N+j*P)},[g,y,m]),[C,S]=A.useState(n.value??(g+y)/2),T=(C-g)/(y-g),[k,I]=A.useState(!1),{ref:R}=nA(({y:P})=>{const N=Math.max(g,Math.min(y,g+(1-P)*(y-g))),$=d??(c?.001:(y-g)/100),O=Math.round((N-g)/$)*$+g;S(O),n?.onChange?.(O)});return b.jsx(jr.Wrapper,{label:s.length>0&&b.jsx(ud,{prompt:s,required:o,index:r,enumerateQuestions:i,infoText:u}),description:l,error:w,style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},errorProps:{c:o?"red":"orange"},children:p?b.jsx(De,{style:{overflow:"hidden"},children:b.jsxs(At,{direction:"row",align:"flex-start",gap:"sm",m:"md",justify:"center",wrap:"nowrap",children:[b.jsx(De,{style:{height:450,position:"relative",minWidth:30,textAlign:"right",flexShrink:0},children:_.map(P=>{const N=(P-g)/(y-g)*100;return b.jsx(De,{style:{position:"absolute",bottom:`${N}%`,fontSize:"var(--mantine-font-size-xs)",color:"var(--mantine-color-gray-7)",right:0,transform:"translateY(50%)"},children:P},P)})}),b.jsxs(De,{ref:R,style:{width:22,height:450,position:"relative",flexShrink:0},onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1),children:[b.jsx(De,{style:{position:"absolute",left:20,top:0,width:2,height:"100%",backgroundColor:"var(--mantine-color-gray-5)"}}),_.map(P=>{const N=(P-g)/(y-g)*100;return b.jsx(De,{style:{position:"absolute",bottom:`${N}%`,left:2,width:20,height:1,backgroundColor:"var(--mantine-color-gray-7)",transform:"translateY(50%)"}},P)}),a.map(P=>{const N=(P.value-g)/(y-g)*100;return b.jsx(De,{style:{position:"absolute",bottom:`${N}%`,left:P.label!==""?20:2,width:(P.label!=="",20),height:1,backgroundColor:"var(--mantine-color-gray-7)",transform:"translateY(50%)"}},P.value)}),b.jsx(De,{style:{backgroundColor:"var(--mantine-color-red-6)",width:20,height:1,border:"1px solid var(--mantine-color-red-6)",position:"absolute",bottom:`calc(${T*100}% - 1px)`},children:k&&b.jsx(De,{style:{position:"absolute",left:40,top:-10,transform:"translateX(-50%)",background:"var(--mantine-color-gray-8)",color:"white",fontSize:12,padding:"2px 6px",borderRadius:4},children:Math.round(C)})})]}),b.jsx(De,{style:{height:450,position:"relative",minWidth:200},children:a.map(P=>{if(!P.label)return null;const N=(P.value-g)/(y-g)*100;return b.jsx(De,{style:{fontSize:"var(--mantine-font-size-xs)",color:"var(--mantine-color-gray-7)",position:"absolute",bottom:`${N}%`,transform:"translateY(50%)",left:20},children:P.label},P.value)})})]})}):b.jsx(f$,{disabled:t,marks:[..._.map(P=>({value:P})),...a],min:g,max:y,step:d??(c?.001:(y-g)/100),h:v?40:void 0,...n,classNames:{track:h?Ope.track:"",bar:Ope.fixDisabled},restrictToMarks:c,label:P=>c?null:P,styles:P=>({mark:{...h?{height:20,width:1,marginTop:-6,marginLeft:2,borderRadius:0}:{},...f===!1?{borderColor:"var(--mantine-color-gray-2)"}:{}},bar:f===!1||h?{display:"none"}:{},markLabel:{fontSize:P.fontSizes.sm,color:P.colors.gray[7],transform:"translate(calc((var(--mark-offset) * -1) + (var(--slider-size) / 2)), calc(var(--mantine-spacing-xs) / 2)"},thumb:{...h?{borderColor:"var(--mantine-color-red-6)",width:1,borderWidth:1,height:22,borderRadius:0,backgroundColor:"var(--mantine-color-red-6)",transform:"translate(-50%, -62%)"}:{}}}),flex:1,mt:h?"sm":"xs"})})}function r4t({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:s,prompt:o,required:a,secondaryText:l,infoText:u}=e;return b.jsx(kl,{disabled:t,placeholder:s,label:o.length>0&&b.jsx(ud,{prompt:o,required:a,index:r,enumerateQuestions:i,infoText:u}),description:l,radius:"md",size:"md",...n,value:n.value||"",error:gp(e,n),withErrorStyles:a,errorProps:{c:a?"red":"orange"},classNames:{input:u0.fixDisabled}})}function i4t({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:s,prompt:o,required:a,secondaryText:l,infoText:u}=e;return b.jsx(FT,{disabled:t,placeholder:s,label:o.length>0&&b.jsx(ud,{prompt:o,required:a,index:r,enumerateQuestions:i,infoText:u}),description:l,radius:"md",size:"md",...n,value:n.value||"",error:gp(e,n),withErrorStyles:a,errorProps:{c:a?"red":"orange"},classNames:{input:u0.fixDisabled}})}function s4t({_choices:e,_n:t,idx:n,question:r,answer:i,onChange:s,disabled:o}){return b.jsx("div",{style:{flex:1,display:"grid",gridTemplateColumns:`repeat(${t}, 1fr)`,justifyItems:"center"},children:e.map(a=>b.jsx(Ka,{disabled:o,checked:i.value[r].split("|").includes(a.value),onChange:l=>s(l,r,a),value:a.value,classNames:{input:Xd.fixDisabled,icon:Xd.fixDisabledIcon}},`${a.label}-${n}`))})}function o4t({_choices:e,_n:t,idx:n,question:r,response:i,answer:s,onChange:o,disabled:a}){return b.jsx(Za.Group,{name:`radioInput${i.id}-${n}`,style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))",flex:1},onChange:l=>o(l,r),value:s.value[r],children:b.jsx("div",{style:{flex:1,display:"grid",gridTemplateColumns:`repeat(${t}, 1fr)`,justifyItems:"center"},children:e.map(l=>b.jsx(Za,{disabled:a,value:l.value,classNames:{radio:_g.fixDisabled,icon:_g.fixDisabledIcon}},`${l.label}-${n}`))})},`${i.id}-${n}`)}function a4t({response:e,answer:t,index:n,disabled:r,enumerateQuestions:i}){const{setMatrixAnswersRadio:s,setMatrixAnswersCheckbox:o}=is(),a=As(),{answerOptions:l,prompt:u,secondaryText:c,required:d,infoText:f}=e,p=typeof l=="string"?{likely5:["Highly Unlikely","Unlikely","Neutral","Likely","Highly Likely"],likely7:["Highly Unlikely","Unlikely","Slightly Unlikely","Neutral","Slightly Likely","Likely","Highly Likely"],satisfaction5:["Highly Unsatisfied","Unsatisfied","Neutral","Satisfied","Highly Satisfied"],satisfaction7:["Highly Unsatisfied","Unsatisfied","Slightly Unsatisfied","Neutral","Slightly Satisfied","Satisfied","Highly Satisfied"]}[l].map(S=>({value:S,label:S})):l.map(S=>typeof S=="string"?{value:S,label:S}:S),{questionOrders:m}=tv(),g=A.useMemo(()=>m[e.id],[m,e.id]),y=(S,T)=>{const k={type:"radio",questionKey:T,val:S,responseId:e.id};a(s(k))},v=(S,T,k)=>{const I=S.target.checked,R={questionKey:T,responseId:e.id,value:k.value,label:k.label,isChecked:I,choiceOptions:p};a(o(R))},w=gp(e,t),_=p.length,C=g.length;return b.jsxs(b.Fragment,{children:[u.length>0&&b.jsx(ud,{prompt:u,required:d,index:n,enumerateQuestions:i,infoText:f}),b.jsx(He,{c:"dimmed",size:"sm",mt:0,children:c}),b.jsxs(De,{style:{display:"grid",gridTemplateColumns:"auto 1fr",gridTemplateRows:"auto 1fr"},m:"md",mt:"xs",children:[b.jsx("div",{style:{borderBottom:"1px solid var(--mantine-color-dark-0)",borderRight:"1px solid var(--mantine-color-dark-0)"}}),b.jsx("div",{style:{height:"100%",display:"grid",gridTemplateColumns:`repeat(${_}, 1fr)`,alignItems:"center",justifyItems:"center",borderBottom:"1px solid var(--mantine-color-dark-0)"},children:p.map((S,T)=>b.jsx(He,{style:{fontWeight:"bold",textAlign:"center",fontSize:"0.8em"},mb:"sm",ml:"xs",mr:"xs",children:S.label},`choice-${T}-label`))}),b.jsx("div",{style:{height:"100%",display:"grid",gridTemplateRows:`repeat(${C}, 1fr)`},children:g.map((S,T)=>b.jsx(He,{style:{height:"80px",width:"100%",display:"flex",alignItems:"safe center",justifyContent:"end",borderRight:"1px solid var(--mantine-color-dark-0)",backgroundColor:`${(T+1)%2===0?"var(--mantine-color-gray-2)":"white"}`,overflowY:"auto"},ta:"right",p:"sm",miw:140,maw:400,children:S},`question-${T}-label`))}),b.jsx("div",{style:{height:"100%",display:"grid",gridTemplateRows:`repeat(${C},1fr)`},children:g.map((S,T)=>b.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",backgroundColor:`${(T+1)%2===0?"var(--mantine-color-gray-2)":"white"}`},children:e.type==="matrix-radio"?b.jsx(o4t,{disabled:r,idx:T,question:S,answer:t,_choices:p,_n:_,onChange:y,response:e}):b.jsx(s4t,{disabled:r,idx:T,question:S,answer:t,_choices:p,_n:_,onChange:v})},`question-${T}`))})]}),w&&b.jsx(He,{c:d?"red":"orange",size:"sm",mt:"xs",children:w})]})}const l4t="_root_152zr_1",u4t={root:l4t};function c4t({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:s,required:o,secondaryText:a,options:l,infoText:u}=e,c=tv(),d=A.useMemo(()=>c?c.optionOrders:{},[c]),f=A.useMemo(()=>d[e.id]||l,[d,l,e.id]),h=A.useMemo(()=>gp(e,n,f),[e,n,f]);return b.jsx(sA,{children:b.jsx(Za.Group,{name:`radioInput${e.id}`,label:s.length>0&&b.jsx(ud,{prompt:s,required:o,index:r,enumerateQuestions:i,infoText:u}),description:a,...n,error:h,errorProps:{c:o?"red":"orange"},style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:b.jsx(At,{justify:"space-between",align:"center",gap:"xl",mt:"xs",children:f.map((p,m)=>b.jsx(Za.Card,{value:p.value,disabled:t,ta:"center",className:u4t.root,p:"xs",children:b.jsx(He,{children:p.label})},`radio-${m}`))})},e.id)})}function d4t({response:e}){const{prompt:t}=e;return b.jsx(At,{direction:"row",wrap:"nowrap",gap:4,children:b.jsx(De,{style:{display:"block"},className:"no-last-child-bottom-padding",children:b.jsx(cp,{text:t,required:!1})})})}const mZ=e=>{A.useEffect(()=>{if(!e)return()=>{};const t=document.createElement("link");return t.type="text/css",t.rel="stylesheet",t.href=`${Yi}${e}`,t.dataset.stylesheetPath=e,document.head.appendChild(t),()=>{t.parentNode&&t.parentNode.removeChild(t)}},[e])};function f4t({response:e,form:t,storedAnswer:n,index:r,config:i,dontKnowCheckbox:s,otherInput:o,disabled:a}){const l=Du(),u=D0(),c=ar(R=>R.sequence),d=A.useMemo(()=>od(c),[c]),f=yc(),h=A.useMemo(()=>typeof f=="number"?d[f+1]:void 0,[f,d]),p=A.useMemo(()=>h?l.components[h]:void 0,[h,l]),m=ar(R=>R.completed),g=A.useMemo(()=>(u||Object.keys(n||{}).length>0&&!p?.previousButton||m?{value:n[e.id]}:t)||{value:void 0},[u,n,e.id,t,p?.previousButton,m]),y=(Object.keys(n||{}).length>0?{checked:n[`${e.id}-dontKnow`]}:s)||{checked:void 0},v=(Object.keys(n||{}).length>0?{value:n[`${e.id}-other`]}:o)||{value:void 0},w=Object.keys(n||{}).length>0||a||m,[_]=mc(),C=A.useMemo(()=>i?.enumerateQuestions??l.uiConfig.enumerateQuestions??!1,[i,l]);mZ(e.stylesheetPath);const S=A.useMemo(()=>{if(m)return!0;if(typeof f=="number"){const R=d[f];for(let P=0;P<c.components.length;P+=1){const N=c.components[P];if(typeof N=="string"&&N===R){if(P+1<c.components.length&&typeof c.components[P+1]!="string")return!1;break}}}if(typeof f=="number"&&f+1<d.length&&p?.previousButton)return!1;if(e.paramCapture){const R=_.get(e.paramCapture);return w||!!R}return w||a},[m,f,d,e.paramCapture,w,a,c.components,p?.previousButton,_]),T=A.useMemo(()=>e.paramCapture?_.get(e.paramCapture)||"":e.type==="reactive"||e.type==="checkbox"?[]:e.type==="matrix-radio"||e.type==="matrix-checkbox"?Object.fromEntries(e.questionOptions.map(R=>[R,""])):e.type==="slider"&&e.startingValue?e.startingValue.toString():"",[e.paramCapture,e.questionOptions,e.startingValue,e.type,_]),k=e.style||{},I=A.useMemo(()=>e.withDivider??i?.responseDividers??l.uiConfig.responseDividers,[e,i,l]);return b.jsxs(De,{mb:I?"xl":"lg",className:"response",id:e.id,style:k,children:[e.type==="numerical"&&b.jsx(aOt,{response:e,disabled:S||s?.checked,answer:g,index:r,enumerateQuestions:C}),e.type==="shortText"&&b.jsx(r4t,{response:e,disabled:S||s?.checked,answer:g,index:r,enumerateQuestions:C}),e.type==="longText"&&b.jsx(i4t,{response:e,disabled:S||s?.checked,answer:g,index:r,enumerateQuestions:C}),e.type==="likert"&&b.jsx(oOt,{response:e,disabled:S||s?.checked,answer:g,index:r,enumerateQuestions:C}),e.type==="dropdown"&&b.jsx(tOt,{response:e,disabled:S||s?.checked,answer:g,index:r,enumerateQuestions:C}),e.type==="slider"&&b.jsx(n4t,{response:e,disabled:S||s?.checked,answer:g,index:r,enumerateQuestions:C}),e.type==="radio"&&b.jsx(iPe,{response:e,disabled:S||s?.checked,answer:g,index:r,enumerateQuestions:C,otherValue:v}),e.type==="checkbox"&&b.jsx(eOt,{response:e,disabled:S||s?.checked,answer:g,index:r,enumerateQuestions:C,otherValue:v}),(e.type==="ranking-sublist"||e.type==="ranking-categorical"||e.type==="ranking-pairwise")&&b.jsx(ZNt,{response:e,disabled:S||s?.checked,answer:g,index:r,enumerateQuestions:C}),e.type==="reactive"&&b.jsx(nOt,{response:e,answer:g,index:r,enumerateQuestions:C}),(e.type==="matrix-radio"||e.type==="matrix-checkbox")&&b.jsx(a4t,{disabled:S||s?.checked,response:e,answer:g,index:r,enumerateQuestions:C}),e.type==="buttons"&&b.jsx(c4t,{response:e,disabled:S||s?.checked,answer:g,index:r,enumerateQuestions:C}),e.type==="textOnly"&&b.jsx(d4t,{response:e}),e.withDontKnow&&b.jsx(Ka,{mt:"xs",disabled:S,label:"I don't know",classNames:{input:Xd.fixDisabled,label:Xd.fixDisabledLabel,icon:Xd.fixDisabledIcon},...s,checked:y.checked,onChange:R=>{s?.onChange(R.currentTarget.checked),t.onChange(T)}}),I&&b.jsx(bC,{mt:"xl",mb:"xs"})]})}function Npe({response:e,correctAnswer:t,alertConfig:n,identifier:r,attemptsUsed:i,trainingAttempts:s}){const o=As(),{toggleShowHelpText:a,incrementHelpCounter:l}=is();return n[e.id]?.visible?b.jsxs(Qc,{mb:"md",title:n[e.id].title,color:n[e.id].color,children:[n[e.id].message,n[e.id].message.includes("Please try again")&&b.jsxs(b.Fragment,{children:[b.jsx("br",{}),b.jsx("br",{}),"If you're unsure"," ",b.jsx(Sb,{style:{fontSize:14},onClick:()=>{o(a()),o(l({identifier:r}))},children:"review the help text."})," "]}),b.jsx("br",{}),b.jsx("br",{}),i>=s&&s>=0&&t&&` The correct answer was: ${t}.`]}):null}function h4t(e,t){const n=[];for(const r of e)t.includes(r)&&n.push(r);return n}function Hq({config:e,location:t,status:n,style:r}){const{storageEngine:i}=Ii(),s=As(),{updateResponseBlockValidation:o,saveIncorrectAnswer:a}=is(),l=yc(),u=ar(ie=>ie.analysisProvState[t]),c=A.useMemo(()=>u?.form||n?.answer,[u,n]),d=tv(),f=A.useMemo(()=>d?.formOrder||{},[d]),h=ll(),p=A.useMemo(()=>f?.response?f.response.map(ie=>e?.response?.find(le=>le.id===ie)).filter(ie=>ie!==void 0):[],[e?.response,f]),m=A.useMemo(()=>p.filter(ie=>ie.location?ie.location===t:t==="belowStimulus"),[p,t]),g=A.useMemo(()=>m.map(ie=>ie.type!=="textOnly"?{...ie,required:ie.required===void 0?!0:ie.required}:ie),[m]),y=A.useMemo(()=>p.map(ie=>ie.type!=="textOnly"?{...ie,required:ie.required===void 0?!0:ie.required}:ie),[p]),{actions:v,trrack:w}=A.useMemo(()=>{const ie=Xy.create(),le=ie.register("update",(X,fe)=>(X.form=fe,X)),Ee=qC({registry:ie,initialState:{form:null}});return{actions:{updateFormAction:le},trrack:Ee}},[]),_=ar(ie=>ie.reactiveAnswers),C=ar(ie=>ie.matrixAnswers),S=ar(ie=>ie.rankingAnswers),T=ar(ie=>ie.trialValidation),k=Du(),R=A.useMemo(()=>e?.provideFeedback??k.uiConfig.provideFeedback,[e,k])&&(e?.correctAnswer?.length||0)>0,P=A.useMemo(()=>e?.allowFailedTraining??k.uiConfig.allowFailedTraining??!0,[e,k]),[N,$]=A.useState(0),O=A.useMemo(()=>e?.trainingAttempts??k.uiConfig.trainingAttempts??2,[e,k]),[j,B]=A.useState(!1),[H,q]=A.useState(!1),V=N>=O&&O>=0||H,L=A.useMemo(()=>t===(e?.nextButtonLocation??k.uiConfig.nextButtonLocation??"belowStimulus"),[e,k,t]),z=l0(),U=KPt(g,l,c||{});A.useEffect(()=>{c&&(U.setInitialValues(nPe(m,c)),U.reset(),o({location:t,identifier:z,status:U.isValid(),values:structuredClone(U.values),provenanceGraph:w.graph.backend}))},[m,c]),A.useEffect(()=>{const ie=g.find(le=>le.type==="reactive");if(_&&ie){const le=ie.id;U.setValues({...U.values,[le]:_[le]})}},[_]),A.useEffect(()=>{const ie=g.filter(X=>X.type==="matrix-radio"||X.type==="matrix-checkbox"),le=g.filter(X=>X.type==="ranking-sublist"||X.type==="ranking-categorical"||X.type==="ranking-pairwise"),Ee={...U.values};ie.forEach(X=>{const{id:fe}=X;Ee[fe]={...U.getInputProps(fe).value,...C[fe]}}),le.forEach(X=>{const{id:fe}=X;Ee[fe]={...U.getInputProps(fe).value,...S[fe]}}),U.setValues(Ee)},[C,S]),A.useEffect(()=>{w.apply("update",v.updateFormAction(structuredClone(U.values))),s(o({location:t,identifier:z,status:U.isValid(),values:structuredClone(U.values),provenanceGraph:w.graph.backend}))},[U.values,z,t,s,o]);const[G,Q]=A.useState(Object.fromEntries(y.map(ie=>[ie.id,{visible:!1,title:"Correct Answer",message:"The correct answer is: ",color:"green"}]))),ne=(ie,le,Ee,X,fe)=>{Q(de=>({...de,[ie]:{visible:le,title:Ee,message:X,color:fe}}))},ue=A.useCallback(()=>{const ie=N+1;$(ie);const le=structuredClone(T[z]),Ee=le?Object.values(le).reduce((fe,de)=>Object.hasOwn(de,"values")?{...fe,...de.values}:fe,{}):{},X=Object.fromEntries(y.map(fe=>{const de=e?.correctAnswer?.find(ee=>ee.id===fe.id)?.answer,te=Ee[fe.id];return[fe.id,eZ(te,de)]}));R&&(y.forEach(fe=>{if(X[fe.id]&&!G[fe.id]?.message.includes("You've failed to answer this question correctly"))ne(fe.id,!0,"Correct Answer","You have answered the question correctly.","green");else{s(a({question:z,identifier:fe.id,answer:Ee[fe.id]}));let de="";if(O===-1?de="Please try again.":ie>=O?(de=`You didn't answer this question correctly after ${O} attempts. ${P?"You can continue to the next question.":"Unfortunately you have not met the criteria for continuing this study."}`,!P&&i&&i.rejectCurrentParticipant("Failed training").then(()=>{setTimeout(()=>{h("./../__trainingFailed")},5e3)}).catch(()=>{console.error("Failed to reject participant who failed training"),setTimeout(()=>{h("./../__trainingFailed")},5e3)})):O-ie===1?de="Please try again. You have 1 attempt left.":de=`Please try again. You have ${O-ie} attempts left.`,fe.type==="checkbox"){const te=e?.correctAnswer?.find(Te=>Te.id===fe.id)?.answer,ee=Ee[fe.id],me=h4t(ee,te),Re=te.length===me.length&&ee.length>te.length?"However, you have selected too many boxes. ":"";de=`You have successfully checked ${me.length}/${te.length} correct boxes. ${Re}${de}`}ne(fe.id,!0,"Incorrect Answer",de,"red")}}),q(Object.values(X).every(fe=>fe)),B(P&&ie>=O||Object.values(X).every(fe=>fe)&&ie<=O))},[N,y,e,R,O,P,i,h,z,s,G,a,T]),se=e?.nextOnEnter??k.uiConfig.nextOnEnter;A.useEffect(()=>{if(se){const ie=le=>{le.key==="Enter"&&ue()};return window.addEventListener("keydown",ie),()=>{window.removeEventListener("keydown",ie)}}return()=>{}},[ue,se]);const ae=A.useMemo(()=>e?.nextButtonText??k.uiConfig.nextButtonText??"Next",[e,k]);let he=0;return b.jsxs(b.Fragment,{children:[b.jsx(De,{className:`responseBlock responseBlock-${t}`,style:r,children:y.map(ie=>{const le=e.correctAnswer?.find(fe=>fe.id===ie.id)?.answer,Ee=Array.isArray(le)&&le.length>0?JSON.stringify(le):le,X=m.some(fe=>fe.id===ie.id);return X&&(ie.type!=="textOnly"?he+=1:ie.restartEnumeration&&(he=0)),b.jsx(mn.Fragment,{children:X?ie.hidden?"":b.jsxs(b.Fragment,{children:[b.jsx(f4t,{storedAnswer:c,form:{...U.getInputProps(ie.id,{type:ie.type==="checkbox"?"checkbox":"input"})},dontKnowCheckbox:{...U.getInputProps(`${ie.id}-dontKnow`,{type:"checkbox"})},otherInput:{...U.getInputProps(`${ie.id}-other`)},response:ie,index:he,config:e,disabled:V}),b.jsx(Npe,{response:ie,correctAnswer:Ee,alertConfig:G,identifier:z,attemptsUsed:N,trainingAttempts:O})]}):b.jsx(Npe,{response:ie,correctAnswer:Ee,alertConfig:G,identifier:z,attemptsUsed:N,trainingAttempts:O})},`${ie.id}-${l}`)})}),L&&b.jsx(APt,{disabled:R&&!j||!U.isValid(),label:ae,config:e,location:t,checkAnswer:L&&R?b.jsx(Wt,{disabled:H||N>=O&&O>=0,onClick:()=>ue(),px:t==="sidebar"?8:void 0,children:"Check Answer"}):null})]})}const C2="@REVISIT_COMMS";function p4t({currentConfig:e,provState:t,answers:n}){const{setReactiveAnswers:r,updateResponseBlockValidation:i}=is(),s=As(),o=GSe(),a=l0(),l=A.useRef(null),u=A.useMemo(()=>crypto.randomUUID?crypto.randomUUID():`testID-${Date.now()}`,[]),c=Xf(),d=A.useCallback((f,h)=>{l.current?.contentWindow?.postMessage({error:!1,type:`${C2}/${f}`,iframeId:u,message:h},"*")},[l,u]);return A.useEffect(()=>{t&&d("PROVENANCE",t)},[t,d]),A.useEffect(()=>{n&&d("ANSWERS",n)},[n,d]),A.useEffect(()=>{const f=h=>{const{data:p}=h;if(typeof p=="object"&&u===p.iframeId)switch(p.type){case`${C2}/WINDOW_READY`:e.parameters&&d("STUDY_DATA",e.parameters);break;case`${C2}/READY`:break;case`${C2}/ANSWERS`:s(r(p.message)),s(i({location:"stimulus",identifier:a,status:!0,values:p.message}));break;case`${C2}/PROVENANCE`:s(i({location:"stimulus",identifier:a,values:{},status:!0,provenanceGraph:p.message}));break}};return window.addEventListener("message",f),()=>window.removeEventListener("message",f)},[s,o,u,e,d,r,i,a]),b.jsx("iframe",{ref:l,style:{width:"100%",flexGrow:1,border:0},src:e.path.startsWith("http")?e.path:`${Yi}${e.path}?trialid=${c}&id=${u}`})}async function RM(e){const n=await(await fetch(e)).text();if(!n.includes("<title>ReVISit</title>"))return n}async function m4t(e){const t=await fetch(`${Yi}${e}`);let n;try{n=await t.json()}catch(r){console.error("Invalid JSON:",r)}return n}function c0({email:e,path:t}){const n=Cd();return b.jsxs(C0,{fluid:!0,my:50,maw:800,mx:"auto",children:[b.jsx(qr,{order:2,children:b.jsx(He,{span:!0,c:"orange",children:"404"})}),b.jsxs(He,{children:[b.jsx(He,{span:!0,fw:700,children:t||n.pathname})," ","not found."]}),b.jsx(Jc,{h:"lg"}),b.jsxs(Ga,{children:[b.jsx(Ga.Item,{children:b.jsx(He,{children:"If you're trying to access your study please check the URL and verify that the global config file is correctly configured. Then try again."})}),b.jsx(Ga.Item,{children:b.jsxs(He,{children:["If you're a participant, please contact the study administrator"," ",e&&b.jsxs(b.Fragment,{children:["at"," ",b.jsxs(Sb,{c:"blue",href:`mailto:${e}`,children:[e," "]})]}),"."]})})]})]})}function g4t({currentConfig:e}){const t=A.useMemo(()=>e.path.startsWith("http")?e.path:`${Yi}${e.path}`,[e.path]),[n,r]=A.useState(!0),[i,s]=A.useState(!1);return A.useEffect(()=>{async function o(){let a=await RM(t);a=a?.includes("File not found")?void 0:a,s(!!a),r(!1)}o()},[t]),n||i?b.jsx(E0,{mx:"auto",src:t}):b.jsx(c0,{path:e.path})}class y4t extends mn.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){return this.state.hasError?b.jsx(He,{children:this.state.error.toString()}):this.props.children}}const $pe=Object.assign({"../public/libraries/adaptive-vlat/assets/VlatTrial.tsx":KSe,"../public/libraries/adaptive-vlat/assets/dynamic.tsx":JSe,"../public/libraries/adaptive-vlat/assets/utils.ts":QSe,"../public/libraries/adaptive-vlat/assets/vlatQ.tsx":YSe,"../public/libraries/berlin-num/assets/dynamic.tsx":ZSe,"../public/libraries/mic-check/assets/AudioTest.tsx":eTe,"../public/libraries/screen-recording/assets/ScreenRecording.tsx":_Te,"../public/libraries/test/assets/test.tsx":CTe,"../public/libraries/virtual-chinrest/assets/ViewingDistanceCalibration.tsx":ETe,"../public/libraries/virtual-chinrest/assets/VirtualChinrestCalibration.tsx":STe,"../public/tutorial/assets/BrushPlotWrapper.tsx":M3e,"../public/tutorial/assets/ReactExample.tsx":F3e,"../public/tutorial/assets/_answers/ReactExample.tsx":L3e,"../public/tutorial/assets/_answers/replication/JNDDynamic.tsx":j3e,"../public/tutorial/assets/_answers/replication/Scatter.tsx":B3e,"../public/tutorial/assets/_answers/replication/ScatterWrapper.tsx":z3e,"../public/tutorial/assets/brush-components/assets/Bar.tsx":N3e,"../public/tutorial/assets/brush-components/assets/BrushPlot.tsx":$3e,"../public/tutorial/assets/brush-components/assets/Paintbrush.tsx":I3e,"../public/tutorial/assets/brush-components/assets/Scatter.tsx":D3e,"../public/tutorial/assets/brush-components/assets/XAxisBar.tsx":T3e,"../public/tutorial/assets/brush-components/assets/YAxis.tsx":A3e,"../public/tutorial/assets/brush-components/assets/YAxisBar.tsx":O3e,"../public/tutorial/assets/brush-components/assets/types.ts":U3e,"../public/tutorial/assets/replication/JNDDynamic.tsx":V3e,"../public/tutorial/assets/replication/Scatter.tsx":H3e,"../public/tutorial/assets/replication/ScatterWrapper.tsx":q3e});function v4t({currentConfig:e,provState:t,answers:n}){const r=`../public/${e.path}`,i=r in $pe?$pe[r].default:null,s=l0(),o=As(),{updateResponseBlockValidation:a,setReactiveAnswers:l}=is(),u=A.useCallback(({status:c,provenanceGraph:d,answers:f})=>{o(a({location:"stimulus",identifier:s,status:c,values:f,provenanceGraph:d})),o(l(f))},[l,o,a,s]);return b.jsx(A.Suspense,{fallback:b.jsx("div",{children:"Loading..."}),children:i?b.jsx(y4t,{children:b.jsx(i,{parameters:e.parameters,setAnswer:u,answers:n,provenanceState:t})}):b.jsx(c0,{path:e.path})})}function b4t({currentConfig:e}){const[t,n]=A.useState(!0),[r,i]=A.useState(""),[s,o]=A.useState(!0);return A.useEffect(()=>{async function a(){const l=await RM(`${Yi}${e.path}`);l!==void 0?i(l):n(!1),o(!1)}a()},[e.path]),s||t?b.jsx(cp,{text:r}):b.jsx(c0,{path:e.path})}function RPe(){const e=yc(),{setAlertModal:t}=is(),n=As();A.useEffect(()=>{window.history.pushState(null,"",window.location.href),window.onpopstate=()=>{window.history.pushState(null,"",window.location.href),n(t({show:!0,message:"Using the browser's back button is prohibited during the study."}))}},[e,t,n])}var Mpe=Object.prototype.hasOwnProperty;function Fpe(e,t,n){for(n of e.keys())if(dT(n,t))return n}function dT(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&dT(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=Fpe(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=Fpe(t,i),!i)||!dT(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(Mpe.call(e,n)&&++r&&!Mpe.call(t,n)||!(n in t)||!dT(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function w4t(e){var t=A.useRef(e),n=A.useRef(0);return dT(e,t.current)||(t.current=e,n.current+=1),A.useMemo(function(){return t.current},[n.current])}function x4t(e,t){return A.useEffect(e,w4t(t))}const uf=(e,t=null)=>{const[n,r]=A.useState("idle"),[i,s]=A.useState(null),[o,a]=A.useState(null),l=A.useRef(null),u=A.useRef(!1);A.useEffect(()=>(u.current=!0,()=>{u.current=!1}),[]);const c=A.useCallback((...d)=>{r("pending"),a(null);const f=Promise.resolve(e(...d)).then(h=>(u.current&&f===l.current&&(s(h),r("success")),h)).catch(h=>{throw u.current&&f===l.current&&(s(null),a(h),r("error")),h});return l.current=f,f},[e]);return x4t(()=>{if(t)try{c(...t)}catch{}},[c,t]),{execute:c,status:n,value:i,error:o}};function gZ(e){const t=e.endTime===-1?void 0:e.endTime-e.startTime,n=(e.windowEvents||[]).filter(o=>o!==void 0).filter(([o,a,l])=>a==="visibility");let r=0,i=0;for(;i<n.length-1;){if(n[i][2]==="hidden"){for(let o=i+1;o<n.length;o+=1)if(n[o][2]==="visible"){r+=n[o][0]-n[i][0],i=o;break}}i+=1}return t?t-r:void 0}const _4t="_root_1spq0_1",C4t="_description_1spq0_9",E4t="_title_1spq0_10",S4t="_closeButton_1spq0_14",T4t={root:_4t,description:C4t,title:E4t,closeButton:S4t},Ek=e=>{const{title:t,message:n,color:r}=e;Rb.show({title:t,message:n,position:"top-center",classNames:T4t,color:r||"blue",autoClose:r==="red"||r==="yellow"?!1:5e3})},k4t=["status","rejectReason","rejectTime","percentComplete","description","instruction","responsePrompt","answer","correctAnswer","duration","cleanedDuration","meta","startTime","endTime","responseMin","responseMax","configHash"],IPe=["participantId","trialId","trialOrder","responseId"];function yZ(e,t){const n=`data:text/json;charset=utf-8,${encodeURIComponent(e)}`,r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove()}function A4t(e,t,n){const r=(Object.entries(e.answers).filter(([s,o])=>o.endTime!==-1).length/Object.entries(e.answers).length*100).toFixed(2),i=new Set;return[[{participantId:e.participantId,trialId:"participantTags",trialOrder:null,responseId:"participantTags",answer:JSON.stringify(e.participantTags)},...Object.values(e.answers).map(s=>{const o=s.componentName,{trialOrder:a}=s,l=n.components[o],u=Il(l,n),c=s.endTime===-1?void 0:s.endTime-s.startTime,d=gZ(s),f=Object.keys(s.answer).length===0?{"":void 0}:s.answer,h=Object.entries(f).map(([m,g])=>{const y={participantId:e.participantId,trialId:o,trialOrder:a,responseId:m};Object.entries(s.parameters).forEach(([w,_])=>{y[`parameters_${w}`]=_,i.add(`parameters_${w}`)});const v=u.response.find(w=>w.id===m);if(t.includes("status")&&(y.status=e.rejected?"rejected":e.completed?"completed":"in progress"),t.includes("rejectReason")&&(y.rejectReason=e.rejected?e.rejected.reason:void 0),t.includes("rejectTime")&&(y.rejectTime=e.rejected?new Date(e.rejected.timestamp).toISOString():void 0),t.includes("configHash")&&(y.configHash=e.participantConfigHash),t.includes("percentComplete")&&(y.percentComplete=r),t.includes("description")&&(y.description=u.description),t.includes("instruction")&&(y.instruction=u.instruction),t.includes("responsePrompt")&&(y.responsePrompt=v?.prompt),t.includes("answer")&&(y.answer=typeof g=="object"?JSON.stringify(g):g),t.includes("correctAnswer")){const w=u.correctAnswer?.find(S=>S.id===m)?.answer,C=s.correctAnswer.find(S=>S.id===m)?.answer||w;y.correctAnswer=typeof C=="object"?JSON.stringify(C):C}return t.includes("startTime")&&(y.startTime=new Date(s.startTime).toISOString()),t.includes("endTime")&&(y.endTime=new Date(s.endTime).toISOString()),t.includes("duration")&&(y.duration=c),t.includes("cleanedDuration")&&(y.cleanedDuration=d),t.includes("meta")&&(y.meta=JSON.stringify(u.meta,null,2)),t.includes("responseMin")&&(y.responseMin=v?.type==="numerical"?v.min:void 0),t.includes("responseMax")&&(y.responseMax=v?.type==="numerical"?v.max:void 0),y}).flat(),p={focus:s.windowEvents.filter(m=>m[1]==="focus").length,input:s.windowEvents.filter(m=>m[1]==="input").length,keydown:s.windowEvents.filter(m=>m[1]==="keydown").length,keyup:s.windowEvents.filter(m=>m[1]==="keyup").length,mousemove:s.windowEvents.filter(m=>m[1]==="mousemove").length,mousedown:s.windowEvents.filter(m=>m[1]==="mousedown").length,mouseup:s.windowEvents.filter(m=>m[1]==="mouseup").length,resize:s.windowEvents.filter(m=>m[1]==="resize").length,scroll:s.windowEvents.filter(m=>m[1]==="scroll").length,visibility:s.windowEvents.filter(m=>m[1]==="visibility").length};return h.push({participantId:e.participantId,trialId:o,trialOrder:a,responseId:"windowEvents",answer:JSON.stringify(p)}),h}).flat()],Array.from(i)]}async function R4t(e,t,n,r){if(!n)return{header:[],rows:[]};const i=[...IPe,...e],s=[...new Set(t.map(f=>f.participantConfigHash))],o=await n.getAllConfigsFromHash(s,r),a=i,l=await Promise.all(t.map(async f=>await A4t(f,i,o[f.participantConfigHash]))),u=l.map(f=>f[0]),c=new Set(l.map(f=>f[1]).flat()),d=u.flat().sort((f,h)=>f!==h?f.participantId.localeCompare(h.participantId):f.trialOrder-h.trialOrder);return{header:[...a,...c],rows:d}}function I4t({opened:e,close:t,filename:n,data:r,studyId:i}){const[s,o]=A.useState(["status","rejectReason","description","rejectTime","percentComplete","instruction","responsePrompt","answer","correctAnswer","duration","cleanedDuration"]),a=Ii(),{value:l,status:u,error:c}=uf(R4t,[s,r,a.storageEngine,i]),d=A.useCallback(()=>{if(!l)return;const p=[l.header.join(","),...l.rows.map(m=>l.header.map(g=>`"${`${m[g]}`.replace(/"/g,'""')}"`).join(","))].join(`
`);yZ(p,n)},[n,l]),f=A.useCallback(()=>{l&&(window.parent.postMessage({type:"revisitWidget/PYTHON_EXPORT_TIDY",payload:l},"*"),Ek({title:"Success",message:"Data sent to python notebook",color:"green"}))},[l]),h=A.useMemo(()=>{if(!l)return"";const p=l.rows.length>5?5:l.rows.length,m=p===1?"":"s";return`This is a preview of the first ${m?p:""} row${m} of the CSV. The full CSV contains ${l.rows.length} row${m}.`},[l]);return b.jsxs(Ti,{opened:e,size:"90%",onClose:t,title:"Tidy CSV Exporter",centered:!0,withCloseButton:!1,children:[b.jsxs(De,{children:[b.jsx(He,{size:"sm",fw:500,mb:"xs",children:b.jsxs(At,{align:"center",gap:"xs",children:[b.jsx(Utt,{size:16}),"Optional columns:"]})}),b.jsx(At,{wrap:"wrap",gap:"4px",children:k4t.map(p=>{const m=s.includes(p);return b.jsx(Wt,{variant:m?"light":"white",color:m?"blue":"gray",size:"xs",onClick:()=>{o(m?s.filter(y=>y!==p):[...s,p])},styles:{root:{fontSize:"14px",height:"auto",padding:"4px 8px",borderRadius:"6px"}},children:p},p)})})]}),b.jsx(Jc,{h:"md"}),b.jsxs(De,{h:400,style:{width:"100%",overflow:"scroll"},children:[u==="success"&&l?b.jsxs(Sn,{striped:!0,captionSide:"bottom",withTableBorder:!0,children:[b.jsx(Sn.Thead,{children:b.jsx(Sn.Tr,{children:l.header.map(p=>b.jsx(Sn.Th,{style:{whiteSpace:"nowrap",minWidth:["description","instruction","participantId"].includes(p)?200:void 0},children:b.jsxs(At,{direction:"row",justify:"space-between",align:"center",children:[p,!IPe.includes(p)&&b.jsx(Tn,{onClick:()=>o(s.filter(m=>m!==p)),style:{marginBottom:-3,marginLeft:8},variant:"subtle",color:"gray",children:b.jsx(Jm,{size:16})})]})},p))})}),b.jsx(Sn.Tbody,{children:l.rows.slice(0,5).map((p,m)=>b.jsx(Sn.Tr,{children:l.header.map(g=>b.jsx(Sn.Td,{style:{whiteSpace:["description","instruction","participantId"].includes(g)?"normal":"nowrap"},children:p[g]},`${m}-${g}`))},m))})]}):u==="error"&&c?b.jsx(Qc,{variant:"light",children:c.message}):null,b.jsx($l,{visible:u==="pending"||u==="idle"})]}),b.jsx(Jc,{h:"sm"}),b.jsx(At,{justify:"center",fz:"sm",c:"dimmed",children:b.jsx(He,{children:h})}),b.jsx(Jc,{h:"md"}),b.jsxs(An,{justify:"right",children:[b.jsx(Wt,{onClick:t,color:"dark",variant:"subtle",children:"Close"}),b.jsx(Wt,{leftSection:b.jsx(zEe,{}),onClick:d,"data-autofocus":!0,children:"Download"}),i==="__revisit-widget"&&b.jsx(Wt,{onClick:f,children:b.jsx(Eet,{})})]})]})}function D4t(){const e=Du(),{storageEngine:t}=Ii(),n=As(),{setParticipantCompleted:r}=is(),i=D0(),[s,o]=A.useState(!1);A.useEffect(()=>{if(i){o(!0);return}n(r(!0));const C=setInterval(async()=>{await t.verifyCompletion()&&(o(!0),clearInterval(C))},2e3)},[]),RPe();const[a,l]=A.useState(),[u,c]=A.useState(""),d=e.studyMetadata.title.replace(" ","_");A.useEffect(()=>{async function C(){if(t){const S=await t.getCurrentParticipantId(),T=await t.getParticipantData();c(S),l(T)}}C()},[t]);const f=A.useCallback(async()=>{yZ(JSON.stringify(a,null,2),`${d}_${u}.json`)},[d,a,u]),h=e.uiConfig.autoDownloadStudy||!1,p=h&&e.uiConfig.autoDownloadTime||-1,[m,g]=A.useState(Math.floor(p/1e3));A.useEffect(()=>{if(s){const C=setInterval(()=>{g(S=>S-1)},1e3);return m<=0?(h&&f(),clearInterval(C),()=>clearInterval(C)):()=>clearInterval(C)}return()=>{}},[h,s,m,f]);const y=Kf(),[v,w]=A.useState(!1);A.useEffect(()=>{(async()=>{if(t){const S=await t.getModes(y);w(S.dataCollectionEnabled)}})()},[t,y]);const _=A.useMemo(()=>{const{studyEndMsg:C,urlParticipantIdParam:S}=e.uiConfig;return!S||!C?.includes("{PARTICIPANT_ID}")?C:C.replace(/\{PARTICIPANT_ID\}/g,()=>u)},[e,u]);return b.jsx(So,{style:{height:"100%"},children:b.jsx(At,{direction:"column",children:s||!v?_?b.jsx(cp,{text:_}):b.jsx(He,{size:"xl",display:"block",children:"Thank you for completing the study. You may close this window now."}):b.jsxs(b.Fragment,{children:[b.jsx(He,{size:"xl",display:"block",children:"Please wait while your answers are uploaded."}),b.jsx(Jc,{h:"lg"}),b.jsx(So,{children:b.jsx(pc,{color:"blue"})})]})})})}function P4t(){return b.jsx(He,{children:"Thank you for participating. Unfortunately you have didn't answer the training correctly, which means you are not eligible to participate in the study. You may close this window now."})}function O4t(){return b.jsx(He,{children:"Thank you for participating. Unfortunately, you have not answered the questions within the given time limit. Because of this, you are no longer eligible to participate in the study. You may close this window now."})}const Lpe={};function qq(e,t){e===void 0&&(e=Lpe),t===void 0&&(t=Lpe);const n=Object.keys(e),r=Object.keys(t);return e===t||n.length===r.length&&n.every(i=>e[i]===t[i])}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var N4t=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),$4t=Object.prototype.hasOwnProperty;function Wq(e,t){return $4t.call(e,t)}function Gq(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)Wq(e,i)&&r.push(i);return r}function Qu(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function Yq(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function t1(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function DPe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Kq(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(Kq(e[t]))return!0}else if(typeof e=="object"){for(var r=Gq(e),i=r.length,s=0;s<i;s++)if(Kq(e[r[s]]))return!0}}return!1}function jpe(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var PPe=(function(e){N4t(t,e);function t(n,r,i,s,o){var a=this.constructor,l=e.call(this,jpe(n,{name:r,index:i,operation:s,tree:o}))||this;return l.name=r,l.index=i,l.operation=s,l.tree=o,Object.setPrototypeOf(l,a.prototype),l.message=jpe(n,{name:r,index:i,operation:s,tree:o}),l}return t})(Error),ws=PPe,M4t=Qu,Rx={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=l6(n,this.path);r&&(r=Qu(r));var i=P1(n,{op:"remove",path:this.from}).removed;return P1(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=l6(n,this.from);return P1(n,{op:"add",path:this.path,value:Qu(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:Sk(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},F4t={add:function(e,t,n){return Yq(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Rx.move,copy:Rx.copy,test:Rx.test,_get:Rx._get};function l6(e,t){if(t=="")return e;var n={op:"_get",path:t};return P1(e,n),n.value}function P1(e,t,n,r,i,s){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=0),n&&(typeof n=="function"?n(t,0,e,t.path):u6(t,0)),t.path===""){var o={newDocument:e};if(t.op==="add")return o.newDocument=t.value,o;if(t.op==="replace")return o.newDocument=t.value,o.removed=e,o;if(t.op==="move"||t.op==="copy")return o.newDocument=l6(e,t.from),t.op==="move"&&(o.removed=e),o;if(t.op==="test"){if(o.test=Sk(e,t.value),o.test===!1)throw new ws("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o.newDocument=e,o}else{if(t.op==="remove")return o.removed=e,o.newDocument=null,o;if(t.op==="_get")return t.value=e,o;if(n)throw new ws("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return o}}else{r||(e=Qu(e));var a=t.path||"",l=a.split("/"),u=e,c=1,d=l.length,f=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=u6;;){if(h=l[c],h&&h.indexOf("~")!=-1&&(h=DPe(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&f===void 0&&(u[h]===void 0?f=l.slice(0,c).join("/"):c==d-1&&(f=t.path),f!==void 0&&p(t,0,e,f)),c++,Array.isArray(u)){if(h==="-")h=u.length;else{if(n&&!Yq(h))throw new ws("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);Yq(h)&&(h=~~h)}if(c>=d){if(n&&t.op==="add"&&h>u.length)throw new ws("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);var o=F4t[t.op].call(t,u,h,e);if(o.test===!1)throw new ws("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}}else if(c>=d){var o=Rx[t.op].call(t,u,h,e);if(o.test===!1)throw new ws("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return o}if(u=u[h],n&&c<d&&(!u||typeof u!="object"))throw new ws("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}}function IM(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new ws("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Qu(e));for(var s=new Array(t.length),o=0,a=t.length;o<a;o++)s[o]=P1(e,t[o],n,!0,i,o),e=s[o].newDocument;return s.newDocument=e,s}function L4t(e,t,n){var r=P1(e,t);if(r.test===!1)throw new ws("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function u6(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new ws("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Rx[e.op]){if(typeof e.path!="string")throw new ws("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new ws('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new ws("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new ws("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&Kq(e.value))throw new ws("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new ws("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new ws("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var o={op:"_get",path:e.from,value:void 0},a=OPe([o],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new ws("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new ws("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function OPe(e,t,n){try{if(!Array.isArray(e))throw new ws("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)IM(Qu(t),Qu(e),n||!0);else{n=n||u6;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof ws)return i;throw i}}function Sk(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,s,o;if(n&&r){if(s=e.length,s!=t.length)return!1;for(i=s;i--!==0;)if(!Sk(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(s=a.length,s!==Object.keys(t).length)return!1;for(i=s;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=s;i--!==0;)if(o=a[i],!Sk(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}const j4t=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:ws,_areEquals:Sk,applyOperation:P1,applyPatch:IM,applyReducer:L4t,deepClone:M4t,getValueByPointer:l6,validate:OPe,validator:u6},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var vZ=new WeakMap,B4t=(function(){function e(t){this.observers=new Map,this.obj=t}return e})(),z4t=(function(){function e(t,n){this.callback=t,this.observer=n}return e})();function U4t(e){return vZ.get(e)}function V4t(e,t){return e.observers.get(t)}function H4t(e,t){e.observers.delete(t.callback)}function q4t(e,t){t.unobserve()}function W4t(e,t){var n=[],r,i=U4t(e);if(!i)i=new B4t(e),vZ.set(e,i);else{var s=V4t(i,t);r=s&&s.observer}if(r)return r;if(r={},i.value=Qu(e),t){r.callback=t,r.next=null;var o=function(){Xq(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(o)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){Xq(r),clearTimeout(r.next),H4t(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new z4t(t,r)),r}function Xq(e,t){t===void 0&&(t=!1);var n=vZ.get(e.object);bZ(n.value,e.object,e.patches,"",t),e.patches.length&&IM(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function bZ(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var s=Gq(t),o=Gq(e),a=!1,l=o.length-1;l>=0;l--){var u=o[l],c=e[u];if(Wq(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var d=t[u];typeof c=="object"&&c!=null&&typeof d=="object"&&d!=null&&Array.isArray(c)===Array.isArray(d)?bZ(c,d,n,r+"/"+t1(u),i):c!==d&&(i&&n.push({op:"test",path:r+"/"+t1(u),value:Qu(c)}),n.push({op:"replace",path:r+"/"+t1(u),value:Qu(d)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+t1(u),value:Qu(c)}),n.push({op:"remove",path:r+"/"+t1(u)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&s.length==o.length))for(var l=0;l<s.length;l++){var u=s[l];!Wq(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+t1(u),value:Qu(t[u])})}}}function G4t(e,t,n){n===void 0&&(n=!1);var r=[];return bZ(e,t,r,"",n),r}const Y4t=Object.freeze(Object.defineProperty({__proto__:null,compare:G4t,generate:Xq,observe:W4t,unobserve:q4t},Symbol.toStringTag,{value:"Module"}));Object.assign({},j4t,Y4t,{JsonPatchError:PPe,deepClone:Qu,escapePathComponent:t1,unescapePathComponent:DPe});var XB,Bpe;function K4t(){if(Bpe)return XB;Bpe=1;var e=/("(?:[^\\"]|\\.)*")|[:,]/g;return XB=function(n,r){var i,s,o;return r=r||{},i=JSON.stringify([1],void 0,r.indent===void 0?2:r.indent).slice(2,-3),s=i===""?1/0:r.maxLength===void 0?80:r.maxLength,o=r.replacer,(function a(l,u,c){var d,f,h,p,m,g,y,v,w,_,C,S;if(l&&typeof l.toJSON=="function"&&(l=l.toJSON()),C=JSON.stringify(l,o),C===void 0)return C;if(y=s-u.length-c,C.length<=y&&(w=C.replace(e,function(T,k){return k||T+" "}),w.length<=y))return w;if(o!=null&&(l=JSON.parse(C),o=void 0),typeof l=="object"&&l!==null){if(v=u+i,h=[],f=0,Array.isArray(l))for(_="[",d="]",y=l.length;f<y;f++)h.push(a(l[f],v,f===y-1?0:1)||"null");else for(_="{",d="}",g=Object.keys(l),y=g.length;f<y;f++)p=g[f],m=JSON.stringify(p)+": ",S=a(l[p],v,m.length+(f===y-1?0:1)),S!==void 0&&h.push(m+S);if(h.length>0)return[_,i+h.join(`,
`+v),d].join(`
`+u)}return C})(n,"",0)},XB}var X4t=K4t();const QB=so(X4t);var HD={exports:{}},JB,zpe;function DM(){if(zpe)return JB;zpe=1;const e="2.0.0",t=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,r=16,i=t-6;return JB={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},JB}var ZB,Upe;function PM(){if(Upe)return ZB;Upe=1;var e={};return ZB=typeof process=="object"&&e&&e.NODE_DEBUG&&/\bsemver\b/i.test(e.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{},ZB}var Vpe;function ZA(){return Vpe||(Vpe=1,(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=DM(),s=PM();t=e.exports={};const o=t.re=[],a=t.safeRe=[],l=t.src=[],u=t.safeSrc=[],c=t.t={};let d=0;const f="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[f,r]],p=g=>{for(const[y,v]of h)g=g.split(`${y}*`).join(`${y}{0,${v}}`).split(`${y}+`).join(`${y}{1,${v}}`);return g},m=(g,y,v)=>{const w=p(y),_=d++;s(g,_,y),c[g]=_,l[_]=y,u[_]=w,o[_]=new RegExp(y,v?"g":void 0),a[_]=new RegExp(w,v?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),m("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${l[c.NONNUMERICIDENTIFIER]}|${l[c.NUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NONNUMERICIDENTIFIER]}|${l[c.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${f}+`),m("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`),m("FULL",`^${l[c.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`),m("LOOSE",`^${l[c.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${l[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${l[c.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?)?)?`),m("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),m("COERCE",`${l[c.COERCEPLAIN]}(?:$|[^\\d])`),m("COERCEFULL",l[c.COERCEPLAIN]+`(?:${l[c.PRERELEASE]})?(?:${l[c.BUILD]})?(?:$|[^\\d])`),m("COERCERTL",l[c.COERCE],!0),m("COERCERTLFULL",l[c.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",m("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",m("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})\\s+-\\s+(${l[c.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[c.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(HD,HD.exports)),HD.exports}var e7,Hpe;function wZ(){if(Hpe)return e7;Hpe=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return e7=r=>r?typeof r!="object"?e:r:t,e7}var t7,qpe;function NPe(){if(qpe)return t7;qpe=1;const e=/^[0-9]+$/,t=(r,i)=>{const s=e.test(r),o=e.test(i);return s&&o&&(r=+r,i=+i),r===i?0:s&&!o?-1:o&&!s?1:r<i?-1:1};return t7={compareIdentifiers:t,rcompareIdentifiers:(r,i)=>t(i,r)},t7}var n7,Wpe;function Wl(){if(Wpe)return n7;Wpe=1;const e=PM(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:n}=DM(),{safeRe:r,t:i}=ZA(),s=wZ(),{compareIdentifiers:o}=NPe();class a{constructor(u,c){if(c=s(c),u instanceof a){if(u.loose===!!c.loose&&u.includePrerelease===!!c.includePrerelease)return u;u=u.version}else if(typeof u!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof u}".`);if(u.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",u,c),this.options=c,this.loose=!!c.loose,this.includePrerelease=!!c.includePrerelease;const d=u.trim().match(c.loose?r[i.LOOSE]:r[i.FULL]);if(!d)throw new TypeError(`Invalid Version: ${u}`);if(this.raw=u,this.major=+d[1],this.minor=+d[2],this.patch=+d[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");d[4]?this.prerelease=d[4].split(".").map(f=>{if(/^[0-9]+$/.test(f)){const h=+f;if(h>=0&&h<n)return h}return f}):this.prerelease=[],this.build=d[5]?d[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(u){if(e("SemVer.compare",this.version,this.options,u),!(u instanceof a)){if(typeof u=="string"&&u===this.version)return 0;u=new a(u,this.options)}return u.version===this.version?0:this.compareMain(u)||this.comparePre(u)}compareMain(u){return u instanceof a||(u=new a(u,this.options)),o(this.major,u.major)||o(this.minor,u.minor)||o(this.patch,u.patch)}comparePre(u){if(u instanceof a||(u=new a(u,this.options)),this.prerelease.length&&!u.prerelease.length)return-1;if(!this.prerelease.length&&u.prerelease.length)return 1;if(!this.prerelease.length&&!u.prerelease.length)return 0;let c=0;do{const d=this.prerelease[c],f=u.prerelease[c];if(e("prerelease compare",c,d,f),d===void 0&&f===void 0)return 0;if(f===void 0)return 1;if(d===void 0)return-1;if(d===f)continue;return o(d,f)}while(++c)}compareBuild(u){u instanceof a||(u=new a(u,this.options));let c=0;do{const d=this.build[c],f=u.build[c];if(e("build compare",c,d,f),d===void 0&&f===void 0)return 0;if(f===void 0)return 1;if(d===void 0)return-1;if(d===f)continue;return o(d,f)}while(++c)}inc(u,c,d){if(u.startsWith("pre")){if(!c&&d===!1)throw new Error("invalid increment argument: identifier is empty");if(c){const f=`-${c}`.match(this.options.loose?r[i.PRERELEASELOOSE]:r[i.PRERELEASE]);if(!f||f[1]!==c)throw new Error(`invalid identifier: ${c}`)}}switch(u){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",c,d);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",c,d);break;case"prepatch":this.prerelease.length=0,this.inc("patch",c,d),this.inc("pre",c,d);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",c,d),this.inc("pre",c,d);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const f=Number(d)?1:0;if(this.prerelease.length===0)this.prerelease=[f];else{let h=this.prerelease.length;for(;--h>=0;)typeof this.prerelease[h]=="number"&&(this.prerelease[h]++,h=-2);if(h===-1){if(c===this.prerelease.join(".")&&d===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(f)}}if(c){let h=[c,f];d===!1&&(h=[c]),o(this.prerelease[0],c)===0?isNaN(this.prerelease[1])&&(this.prerelease=h):this.prerelease=h}break}default:throw new Error(`invalid increment argument: ${u}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return n7=a,n7}var r7,Gpe;function nE(){if(Gpe)return r7;Gpe=1;const e=Wl();return r7=(n,r,i=!1)=>{if(n instanceof e)return n;try{return new e(n,r)}catch(s){if(!i)return null;throw s}},r7}var i7,Ype;function Q4t(){if(Ype)return i7;Ype=1;const e=nE();return i7=(n,r)=>{const i=e(n,r);return i?i.version:null},i7}var s7,Kpe;function J4t(){if(Kpe)return s7;Kpe=1;const e=nE();return s7=(n,r)=>{const i=e(n.trim().replace(/^[=v]+/,""),r);return i?i.version:null},s7}var o7,Xpe;function Z4t(){if(Xpe)return o7;Xpe=1;const e=Wl();return o7=(n,r,i,s,o)=>{typeof i=="string"&&(o=s,s=i,i=void 0);try{return new e(n instanceof e?n.version:n,i).inc(r,s,o).version}catch{return null}},o7}var a7,Qpe;function e6t(){if(Qpe)return a7;Qpe=1;const e=nE();return a7=(n,r)=>{const i=e(n,null,!0),s=e(r,null,!0),o=i.compare(s);if(o===0)return null;const a=o>0,l=a?i:s,u=a?s:i,c=!!l.prerelease.length;if(!!u.prerelease.length&&!c){if(!u.patch&&!u.minor)return"major";if(u.compareMain(l)===0)return u.minor&&!u.patch?"minor":"patch"}const f=c?"pre":"";return i.major!==s.major?f+"major":i.minor!==s.minor?f+"minor":i.patch!==s.patch?f+"patch":"prerelease"},a7}var l7,Jpe;function t6t(){if(Jpe)return l7;Jpe=1;const e=Wl();return l7=(n,r)=>new e(n,r).major,l7}var u7,Zpe;function n6t(){if(Zpe)return u7;Zpe=1;const e=Wl();return u7=(n,r)=>new e(n,r).minor,u7}var c7,eme;function r6t(){if(eme)return c7;eme=1;const e=Wl();return c7=(n,r)=>new e(n,r).patch,c7}var d7,tme;function i6t(){if(tme)return d7;tme=1;const e=nE();return d7=(n,r)=>{const i=e(n,r);return i&&i.prerelease.length?i.prerelease:null},d7}var f7,nme;function Qf(){if(nme)return f7;nme=1;const e=Wl();return f7=(n,r,i)=>new e(n,i).compare(new e(r,i)),f7}var h7,rme;function s6t(){if(rme)return h7;rme=1;const e=Qf();return h7=(n,r,i)=>e(r,n,i),h7}var p7,ime;function o6t(){if(ime)return p7;ime=1;const e=Qf();return p7=(n,r)=>e(n,r,!0),p7}var m7,sme;function xZ(){if(sme)return m7;sme=1;const e=Wl();return m7=(n,r,i)=>{const s=new e(n,i),o=new e(r,i);return s.compare(o)||s.compareBuild(o)},m7}var g7,ome;function a6t(){if(ome)return g7;ome=1;const e=xZ();return g7=(n,r)=>n.sort((i,s)=>e(i,s,r)),g7}var y7,ame;function l6t(){if(ame)return y7;ame=1;const e=xZ();return y7=(n,r)=>n.sort((i,s)=>e(s,i,r)),y7}var v7,lme;function OM(){if(lme)return v7;lme=1;const e=Qf();return v7=(n,r,i)=>e(n,r,i)>0,v7}var b7,ume;function _Z(){if(ume)return b7;ume=1;const e=Qf();return b7=(n,r,i)=>e(n,r,i)<0,b7}var w7,cme;function $Pe(){if(cme)return w7;cme=1;const e=Qf();return w7=(n,r,i)=>e(n,r,i)===0,w7}var x7,dme;function MPe(){if(dme)return x7;dme=1;const e=Qf();return x7=(n,r,i)=>e(n,r,i)!==0,x7}var _7,fme;function CZ(){if(fme)return _7;fme=1;const e=Qf();return _7=(n,r,i)=>e(n,r,i)>=0,_7}var C7,hme;function EZ(){if(hme)return C7;hme=1;const e=Qf();return C7=(n,r,i)=>e(n,r,i)<=0,C7}var E7,pme;function FPe(){if(pme)return E7;pme=1;const e=$Pe(),t=MPe(),n=OM(),r=CZ(),i=_Z(),s=EZ();return E7=(a,l,u,c)=>{switch(l){case"===":return typeof a=="object"&&(a=a.version),typeof u=="object"&&(u=u.version),a===u;case"!==":return typeof a=="object"&&(a=a.version),typeof u=="object"&&(u=u.version),a!==u;case"":case"=":case"==":return e(a,u,c);case"!=":return t(a,u,c);case">":return n(a,u,c);case">=":return r(a,u,c);case"<":return i(a,u,c);case"<=":return s(a,u,c);default:throw new TypeError(`Invalid operator: ${l}`)}},E7}var S7,mme;function u6t(){if(mme)return S7;mme=1;const e=Wl(),t=nE(),{safeRe:n,t:r}=ZA();return S7=(s,o)=>{if(s instanceof e)return s;if(typeof s=="number"&&(s=String(s)),typeof s!="string")return null;o=o||{};let a=null;if(!o.rtl)a=s.match(o.includePrerelease?n[r.COERCEFULL]:n[r.COERCE]);else{const h=o.includePrerelease?n[r.COERCERTLFULL]:n[r.COERCERTL];let p;for(;(p=h.exec(s))&&(!a||a.index+a[0].length!==s.length);)(!a||p.index+p[0].length!==a.index+a[0].length)&&(a=p),h.lastIndex=p.index+p[1].length+p[2].length;h.lastIndex=-1}if(a===null)return null;const l=a[2],u=a[3]||"0",c=a[4]||"0",d=o.includePrerelease&&a[5]?`-${a[5]}`:"",f=o.includePrerelease&&a[6]?`+${a[6]}`:"";return t(`${l}.${u}.${c}${d}${f}`,o)},S7}var T7,gme;function c6t(){if(gme)return T7;gme=1;class e{constructor(){this.max=1e3,this.map=new Map}get(n){const r=this.map.get(n);if(r!==void 0)return this.map.delete(n),this.map.set(n,r),r}delete(n){return this.map.delete(n)}set(n,r){if(!this.delete(n)&&r!==void 0){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(n,r)}return this}}return T7=e,T7}var k7,yme;function Jf(){if(yme)return k7;yme=1;const e=/\s+/g;class t{constructor(j,B){if(B=i(B),j instanceof t)return j.loose===!!B.loose&&j.includePrerelease===!!B.includePrerelease?j:new t(j.raw,B);if(j instanceof s)return this.raw=j.value,this.set=[[j]],this.formatted=void 0,this;if(this.options=B,this.loose=!!B.loose,this.includePrerelease=!!B.includePrerelease,this.raw=j.trim().replace(e," "),this.set=this.raw.split("||").map(H=>this.parseRange(H.trim())).filter(H=>H.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const H=this.set[0];if(this.set=this.set.filter(q=>!m(q[0])),this.set.length===0)this.set=[H];else if(this.set.length>1){for(const q of this.set)if(q.length===1&&g(q[0])){this.set=[q];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let j=0;j<this.set.length;j++){j>0&&(this.formatted+="||");const B=this.set[j];for(let H=0;H<B.length;H++)H>0&&(this.formatted+=" "),this.formatted+=B[H].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(j){const H=((this.options.includePrerelease&&h)|(this.options.loose&&p))+":"+j,q=r.get(H);if(q)return q;const Y=this.options.loose,V=Y?l[u.HYPHENRANGELOOSE]:l[u.HYPHENRANGE];j=j.replace(V,N(this.options.includePrerelease)),o("hyphen replace",j),j=j.replace(l[u.COMPARATORTRIM],c),o("comparator trim",j),j=j.replace(l[u.TILDETRIM],d),o("tilde trim",j),j=j.replace(l[u.CARETTRIM],f),o("caret trim",j);let L=j.split(" ").map(Q=>v(Q,this.options)).join(" ").split(/\s+/).map(Q=>P(Q,this.options));Y&&(L=L.filter(Q=>(o("loose invalid filter",Q,this.options),!!Q.match(l[u.COMPARATORLOOSE])))),o("range list",L);const z=new Map,U=L.map(Q=>new s(Q,this.options));for(const Q of U){if(m(Q))return[Q];z.set(Q.value,Q)}z.size>1&&z.has("")&&z.delete("");const G=[...z.values()];return r.set(H,G),G}intersects(j,B){if(!(j instanceof t))throw new TypeError("a Range is required");return this.set.some(H=>y(H,B)&&j.set.some(q=>y(q,B)&&H.every(Y=>q.every(V=>Y.intersects(V,B)))))}test(j){if(!j)return!1;if(typeof j=="string")try{j=new a(j,this.options)}catch{return!1}for(let B=0;B<this.set.length;B++)if($(this.set[B],j,this.options))return!0;return!1}}k7=t;const n=c6t(),r=new n,i=wZ(),s=NM(),o=PM(),a=Wl(),{safeRe:l,t:u,comparatorTrimReplace:c,tildeTrimReplace:d,caretTrimReplace:f}=ZA(),{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:p}=DM(),m=O=>O.value==="<0.0.0-0",g=O=>O.value==="",y=(O,j)=>{let B=!0;const H=O.slice();let q=H.pop();for(;B&&H.length;)B=H.every(Y=>q.intersects(Y,j)),q=H.pop();return B},v=(O,j)=>(o("comp",O,j),O=S(O,j),o("caret",O),O=_(O,j),o("tildes",O),O=k(O,j),o("xrange",O),O=R(O,j),o("stars",O),O),w=O=>!O||O.toLowerCase()==="x"||O==="*",_=(O,j)=>O.trim().split(/\s+/).map(B=>C(B,j)).join(" "),C=(O,j)=>{const B=j.loose?l[u.TILDELOOSE]:l[u.TILDE];return O.replace(B,(H,q,Y,V,L)=>{o("tilde",O,H,q,Y,V,L);let z;return w(q)?z="":w(Y)?z=`>=${q}.0.0 <${+q+1}.0.0-0`:w(V)?z=`>=${q}.${Y}.0 <${q}.${+Y+1}.0-0`:L?(o("replaceTilde pr",L),z=`>=${q}.${Y}.${V}-${L} <${q}.${+Y+1}.0-0`):z=`>=${q}.${Y}.${V} <${q}.${+Y+1}.0-0`,o("tilde return",z),z})},S=(O,j)=>O.trim().split(/\s+/).map(B=>T(B,j)).join(" "),T=(O,j)=>{o("caret",O,j);const B=j.loose?l[u.CARETLOOSE]:l[u.CARET],H=j.includePrerelease?"-0":"";return O.replace(B,(q,Y,V,L,z)=>{o("caret",O,q,Y,V,L,z);let U;return w(Y)?U="":w(V)?U=`>=${Y}.0.0${H} <${+Y+1}.0.0-0`:w(L)?Y==="0"?U=`>=${Y}.${V}.0${H} <${Y}.${+V+1}.0-0`:U=`>=${Y}.${V}.0${H} <${+Y+1}.0.0-0`:z?(o("replaceCaret pr",z),Y==="0"?V==="0"?U=`>=${Y}.${V}.${L}-${z} <${Y}.${V}.${+L+1}-0`:U=`>=${Y}.${V}.${L}-${z} <${Y}.${+V+1}.0-0`:U=`>=${Y}.${V}.${L}-${z} <${+Y+1}.0.0-0`):(o("no pr"),Y==="0"?V==="0"?U=`>=${Y}.${V}.${L}${H} <${Y}.${V}.${+L+1}-0`:U=`>=${Y}.${V}.${L}${H} <${Y}.${+V+1}.0-0`:U=`>=${Y}.${V}.${L} <${+Y+1}.0.0-0`),o("caret return",U),U})},k=(O,j)=>(o("replaceXRanges",O,j),O.split(/\s+/).map(B=>I(B,j)).join(" ")),I=(O,j)=>{O=O.trim();const B=j.loose?l[u.XRANGELOOSE]:l[u.XRANGE];return O.replace(B,(H,q,Y,V,L,z)=>{o("xRange",O,H,q,Y,V,L,z);const U=w(Y),G=U||w(V),Q=G||w(L),ne=Q;return q==="="&&ne&&(q=""),z=j.includePrerelease?"-0":"",U?q===">"||q==="<"?H="<0.0.0-0":H="*":q&&ne?(G&&(V=0),L=0,q===">"?(q=">=",G?(Y=+Y+1,V=0,L=0):(V=+V+1,L=0)):q==="<="&&(q="<",G?Y=+Y+1:V=+V+1),q==="<"&&(z="-0"),H=`${q+Y}.${V}.${L}${z}`):G?H=`>=${Y}.0.0${z} <${+Y+1}.0.0-0`:Q&&(H=`>=${Y}.${V}.0${z} <${Y}.${+V+1}.0-0`),o("xRange return",H),H})},R=(O,j)=>(o("replaceStars",O,j),O.trim().replace(l[u.STAR],"")),P=(O,j)=>(o("replaceGTE0",O,j),O.trim().replace(l[j.includePrerelease?u.GTE0PRE:u.GTE0],"")),N=O=>(j,B,H,q,Y,V,L,z,U,G,Q,ne)=>(w(H)?B="":w(q)?B=`>=${H}.0.0${O?"-0":""}`:w(Y)?B=`>=${H}.${q}.0${O?"-0":""}`:V?B=`>=${B}`:B=`>=${B}${O?"-0":""}`,w(U)?z="":w(G)?z=`<${+U+1}.0.0-0`:w(Q)?z=`<${U}.${+G+1}.0-0`:ne?z=`<=${U}.${G}.${Q}-${ne}`:O?z=`<${U}.${G}.${+Q+1}-0`:z=`<=${z}`,`${B} ${z}`.trim()),$=(O,j,B)=>{for(let H=0;H<O.length;H++)if(!O[H].test(j))return!1;if(j.prerelease.length&&!B.includePrerelease){for(let H=0;H<O.length;H++)if(o(O[H].semver),O[H].semver!==s.ANY&&O[H].semver.prerelease.length>0){const q=O[H].semver;if(q.major===j.major&&q.minor===j.minor&&q.patch===j.patch)return!0}return!1}return!0};return k7}var A7,vme;function NM(){if(vme)return A7;vme=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,d){if(d=n(d),c instanceof t){if(c.loose===!!d.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),o("comparator",c,d),this.options=d,this.loose=!!d.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(c){const d=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],f=c.match(d);if(!f)throw new TypeError(`Invalid comparator: ${c}`);this.operator=f[1]!==void 0?f[1]:"",this.operator==="="&&(this.operator=""),f[2]?this.semver=new a(f[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(o("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new a(c,this.options)}catch{return!1}return s(c,this.operator,this.semver,this.options)}intersects(c,d){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(c.value,d).test(this.value):c.operator===""?c.value===""?!0:new l(this.value,d).test(c.semver):(d=n(d),d.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||s(this.semver,"<",c.semver,d)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||s(this.semver,">",c.semver,d)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}A7=t;const n=wZ(),{safeRe:r,t:i}=ZA(),s=FPe(),o=PM(),a=Wl(),l=Jf();return A7}var R7,bme;function $M(){if(bme)return R7;bme=1;const e=Jf();return R7=(n,r,i)=>{try{r=new e(r,i)}catch{return!1}return r.test(n)},R7}var I7,wme;function d6t(){if(wme)return I7;wme=1;const e=Jf();return I7=(n,r)=>new e(n,r).set.map(i=>i.map(s=>s.value).join(" ").trim().split(" ")),I7}var D7,xme;function f6t(){if(xme)return D7;xme=1;const e=Wl(),t=Jf();return D7=(r,i,s)=>{let o=null,a=null,l=null;try{l=new t(i,s)}catch{return null}return r.forEach(u=>{l.test(u)&&(!o||a.compare(u)===-1)&&(o=u,a=new e(o,s))}),o},D7}var P7,_me;function h6t(){if(_me)return P7;_me=1;const e=Wl(),t=Jf();return P7=(r,i,s)=>{let o=null,a=null,l=null;try{l=new t(i,s)}catch{return null}return r.forEach(u=>{l.test(u)&&(!o||a.compare(u)===1)&&(o=u,a=new e(o,s))}),o},P7}var O7,Cme;function p6t(){if(Cme)return O7;Cme=1;const e=Wl(),t=Jf(),n=OM();return O7=(i,s)=>{i=new t(i,s);let o=new e("0.0.0");if(i.test(o)||(o=new e("0.0.0-0"),i.test(o)))return o;o=null;for(let a=0;a<i.set.length;++a){const l=i.set[a];let u=null;l.forEach(c=>{const d=new e(c.semver.version);switch(c.operator){case">":d.prerelease.length===0?d.patch++:d.prerelease.push(0),d.raw=d.format();case"":case">=":(!u||n(d,u))&&(u=d);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${c.operator}`)}}),u&&(!o||n(o,u))&&(o=u)}return o&&i.test(o)?o:null},O7}var N7,Eme;function m6t(){if(Eme)return N7;Eme=1;const e=Jf();return N7=(n,r)=>{try{return new e(n,r).range||"*"}catch{return null}},N7}var $7,Sme;function SZ(){if(Sme)return $7;Sme=1;const e=Wl(),t=NM(),{ANY:n}=t,r=Jf(),i=$M(),s=OM(),o=_Z(),a=EZ(),l=CZ();return $7=(c,d,f,h)=>{c=new e(c,h),d=new r(d,h);let p,m,g,y,v;switch(f){case">":p=s,m=a,g=o,y=">",v=">=";break;case"<":p=o,m=l,g=s,y="<",v="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(i(c,d,h))return!1;for(let w=0;w<d.set.length;++w){const _=d.set[w];let C=null,S=null;if(_.forEach(T=>{T.semver===n&&(T=new t(">=0.0.0")),C=C||T,S=S||T,p(T.semver,C.semver,h)?C=T:g(T.semver,S.semver,h)&&(S=T)}),C.operator===y||C.operator===v||(!S.operator||S.operator===y)&&m(c,S.semver))return!1;if(S.operator===v&&g(c,S.semver))return!1}return!0},$7}var M7,Tme;function g6t(){if(Tme)return M7;Tme=1;const e=SZ();return M7=(n,r,i)=>e(n,r,">",i),M7}var F7,kme;function y6t(){if(kme)return F7;kme=1;const e=SZ();return F7=(n,r,i)=>e(n,r,"<",i),F7}var L7,Ame;function v6t(){if(Ame)return L7;Ame=1;const e=Jf();return L7=(n,r,i)=>(n=new e(n,i),r=new e(r,i),n.intersects(r,i)),L7}var j7,Rme;function b6t(){if(Rme)return j7;Rme=1;const e=$M(),t=Qf();return j7=(n,r,i)=>{const s=[];let o=null,a=null;const l=n.sort((f,h)=>t(f,h,i));for(const f of l)e(f,r,i)?(a=f,o||(o=f)):(a&&s.push([o,a]),a=null,o=null);o&&s.push([o,null]);const u=[];for(const[f,h]of s)f===h?u.push(f):!h&&f===l[0]?u.push("*"):h?f===l[0]?u.push(`<=${h}`):u.push(`${f} - ${h}`):u.push(`>=${f}`);const c=u.join(" || "),d=typeof r.raw=="string"?r.raw:String(r);return c.length<d.length?c:r},j7}var B7,Ime;function w6t(){if(Ime)return B7;Ime=1;const e=Jf(),t=NM(),{ANY:n}=t,r=$M(),i=Qf(),s=(d,f,h={})=>{if(d===f)return!0;d=new e(d,h),f=new e(f,h);let p=!1;e:for(const m of d.set){for(const g of f.set){const y=l(m,g,h);if(p=p||y!==null,y)continue e}if(p)return!1}return!0},o=[new t(">=0.0.0-0")],a=[new t(">=0.0.0")],l=(d,f,h)=>{if(d===f)return!0;if(d.length===1&&d[0].semver===n){if(f.length===1&&f[0].semver===n)return!0;h.includePrerelease?d=o:d=a}if(f.length===1&&f[0].semver===n){if(h.includePrerelease)return!0;f=a}const p=new Set;let m,g;for(const k of d)k.operator===">"||k.operator===">="?m=u(m,k,h):k.operator==="<"||k.operator==="<="?g=c(g,k,h):p.add(k.semver);if(p.size>1)return null;let y;if(m&&g){if(y=i(m.semver,g.semver,h),y>0)return null;if(y===0&&(m.operator!==">="||g.operator!=="<="))return null}for(const k of p){if(m&&!r(k,String(m),h)||g&&!r(k,String(g),h))return null;for(const I of f)if(!r(k,String(I),h))return!1;return!0}let v,w,_,C,S=g&&!h.includePrerelease&&g.semver.prerelease.length?g.semver:!1,T=m&&!h.includePrerelease&&m.semver.prerelease.length?m.semver:!1;S&&S.prerelease.length===1&&g.operator==="<"&&S.prerelease[0]===0&&(S=!1);for(const k of f){if(C=C||k.operator===">"||k.operator===">=",_=_||k.operator==="<"||k.operator==="<=",m){if(T&&k.semver.prerelease&&k.semver.prerelease.length&&k.semver.major===T.major&&k.semver.minor===T.minor&&k.semver.patch===T.patch&&(T=!1),k.operator===">"||k.operator===">="){if(v=u(m,k,h),v===k&&v!==m)return!1}else if(m.operator===">="&&!r(m.semver,String(k),h))return!1}if(g){if(S&&k.semver.prerelease&&k.semver.prerelease.length&&k.semver.major===S.major&&k.semver.minor===S.minor&&k.semver.patch===S.patch&&(S=!1),k.operator==="<"||k.operator==="<="){if(w=c(g,k,h),w===k&&w!==g)return!1}else if(g.operator==="<="&&!r(g.semver,String(k),h))return!1}if(!k.operator&&(g||m)&&y!==0)return!1}return!(m&&_&&!g&&y!==0||g&&C&&!m&&y!==0||T||S)},u=(d,f,h)=>{if(!d)return f;const p=i(d.semver,f.semver,h);return p>0?d:p<0||f.operator===">"&&d.operator===">="?f:d},c=(d,f,h)=>{if(!d)return f;const p=i(d.semver,f.semver,h);return p<0?d:p>0||f.operator==="<"&&d.operator==="<="?f:d};return B7=s,B7}var z7,Dme;function x6t(){if(Dme)return z7;Dme=1;const e=ZA(),t=DM(),n=Wl(),r=NPe(),i=nE(),s=Q4t(),o=J4t(),a=Z4t(),l=e6t(),u=t6t(),c=n6t(),d=r6t(),f=i6t(),h=Qf(),p=s6t(),m=o6t(),g=xZ(),y=a6t(),v=l6t(),w=OM(),_=_Z(),C=$Pe(),S=MPe(),T=CZ(),k=EZ(),I=FPe(),R=u6t(),P=NM(),N=Jf(),$=$M(),O=d6t(),j=f6t(),B=h6t(),H=p6t(),q=m6t(),Y=SZ(),V=g6t(),L=y6t(),z=v6t(),U=b6t(),G=w6t();return z7={parse:i,valid:s,clean:o,inc:a,diff:l,major:u,minor:c,patch:d,prerelease:f,compare:h,rcompare:p,compareLoose:m,compareBuild:g,sort:y,rsort:v,gt:w,lt:_,eq:C,neq:S,gte:T,lte:k,cmp:I,coerce:R,Comparator:P,Range:N,satisfies:$,toComparators:O,maxSatisfying:j,minSatisfying:B,minVersion:H,validRange:q,outside:Y,gtr:V,ltr:L,intersects:z,simplifyRange:U,subset:G,SemVer:n,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:t.SEMVER_SPEC_VERSION,RELEASE_TYPES:t.RELEASE_TYPES,compareIdentifiers:r.compareIdentifiers,rcompareIdentifiers:r.rcompareIdentifiers},z7}var LPe=x6t();function Pu(e,t,n){return e.fields=t||[],e.fname=n,e}function Ts(e){return e==null?null:e.fname}function el(e){return e==null?null:e.fields}function jPe(e){return e.length===1?_6t(e[0]):C6t(e)}const _6t=e=>function(t){return t[e]},C6t=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function at(e){throw Error(e)}function $p(e){const t=[],n=e.length;let r=null,i=0,s="",o,a,l;e=e+"";function u(){t.push(s+e.substring(o,a)),s="",o=a+1}for(o=a=0;a<n;++a)if(l=e[a],l==="\\")s+=e.substring(o,a++),o=a;else if(l===r)u(),r=null,i=-1;else{if(r)continue;o===i&&l==='"'||o===i&&l==="'"?(o=a+1,r=l):l==="."&&!i?a>o?u():o=a+1:l==="["?(a>o&&u(),i=o=a+1):l==="]"&&(i||at("Access path missing open bracket: "+e),i>0&&u(),i=0,o=a+1)}return i&&at("Access path missing closing bracket: "+e),r&&at("Access path missing closing quote: "+e),a>o&&(a++,u()),t}function cd(e,t,n){const r=$p(e);return e=r.length===1?r[0]:e,Pu((n&&n.get||jPe)(r),[e],t||e)}const eR=cd("id"),ol=Pu(e=>e,[],"identity"),Pg=Pu(()=>0,[],"zero"),rE=Pu(()=>1,[],"one"),dd=Pu(()=>!0,[],"true"),yg=Pu(()=>!1,[],"false");function E6t(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const BPe=0,TZ=1,kZ=2,zPe=3,UPe=4;function AZ(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:E6t,r=e||BPe;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=TZ&&n(t||"error","ERROR",arguments),this},warn(){return r>=kZ&&n(t||"warn","WARN",arguments),this},info(){return r>=zPe&&n(t||"log","INFO",arguments),this},debug(){return r>=UPe&&n(t||"log","DEBUG",arguments),this}}}var ut=Array.isArray;function Vt(e){return e===Object(e)}const Pme=e=>e!=="__proto__";function iE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,i)=>{for(const s in i)if(s==="signals")r.signals=S6t(r.signals,i.signals);else{const o=s==="legend"?{layout:1}:s==="style"?!0:null;sE(r,s,i[s],o)}return r},{})}function sE(e,t,n,r){if(!Pme(t))return;let i,s;if(Vt(n)&&!ut(n)){s=Vt(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?sE(s,i,n[i]):Pme(i)&&(s[i]=n[i])}else e[t]=n}function S6t(e,t){if(e==null)return t;const n={},r=[];function i(s){n[s.name]||(n[s.name]=1,r.push(s))}return t.forEach(i),e.forEach(i),r}function Rr(e){return e[e.length-1]}function Qa(e){return e==null||e===""?null:+e}const VPe=e=>t=>e*Math.exp(t),HPe=e=>t=>Math.log(e*t),qPe=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),WPe=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,c6=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function MM(e,t,n,r){const i=n(e[0]),s=n(Rr(e)),o=(s-i)*t;return[r(i-o),r(s-o)]}function GPe(e,t){return MM(e,t,Qa,ol)}function YPe(e,t){var n=Math.sign(e[0]);return MM(e,t,HPe(n),VPe(n))}function KPe(e,t,n){return MM(e,t,c6(n),c6(1/n))}function XPe(e,t,n){return MM(e,t,qPe(n),WPe(n))}function FM(e,t,n,r,i){const s=r(e[0]),o=r(Rr(e)),a=t!=null?r(t):(s+o)/2;return[i(a+(s-a)*n),i(a+(o-a)*n)]}function RZ(e,t,n){return FM(e,t,n,Qa,ol)}function IZ(e,t,n){const r=Math.sign(e[0]);return FM(e,t,n,HPe(r),VPe(r))}function d6(e,t,n,r){return FM(e,t,n,c6(r),c6(1/r))}function DZ(e,t,n,r){return FM(e,t,n,qPe(r),WPe(r))}function QPe(e){return 1+~~(new Date(e).getMonth()/3)}function JPe(e){return 1+~~(new Date(e).getUTCMonth()/3)}function Ut(e){return e!=null?ut(e)?e:[e]:[]}function ZPe(e,t,n){let r=e[0],i=e[1],s;return i<r&&(s=i,i=r,r=s),s=i-r,s>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-s),r+s]}function ir(e){return typeof e=="function"}const T6t="descending";function PZ(e,t,n){n=n||{},t=Ut(t)||[];const r=[],i=[],s={},o=n.comparator||k6t;return Ut(e).forEach((a,l)=>{a!=null&&(r.push(t[l]===T6t?-1:1),i.push(a=ir(a)?a:cd(a,null,n)),(el(a)||[]).forEach(u=>s[u]=1))}),i.length===0?null:Pu(o(i,r),Object.keys(s))}const tR=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),k6t=(e,t)=>e.length===1?A6t(e[0],t[0]):R6t(e,t,e.length),A6t=(e,t)=>function(n,r){return tR(e(n),e(r))*t},R6t=(e,t,n)=>(t.push(0),function(r,i){let s,o=0,a=-1;for(;o===0&&++a<n;)s=e[a],o=tR(s(r),s(i));return o*t[a]});function al(e){return ir(e)?e:()=>e}function OZ(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function rr(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function yp(e,t){let n=0,r,i,s,o;if(e&&(r=e.length))if(t==null){for(i=e[n];n<r&&(i==null||i!==i);i=e[++n]);for(s=o=i;n<r;++n)i=e[n],i!=null&&(i<s&&(s=i),i>o&&(o=i))}else{for(i=t(e[n]);n<r&&(i==null||i!==i);i=t(e[++n]));for(s=o=i;n<r;++n)i=t(e[n]),i!=null&&(i<s&&(s=i),i>o&&(o=i))}return[s,o]}function eOe(e,t){const n=e.length;let r=-1,i,s,o,a,l;if(t==null){for(;++r<n;)if(s=e[r],s!=null&&s>=s){i=o=s;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)s=e[r],s!=null&&(i>s&&(i=s,a=r),o<s&&(o=s,l=r))}else{for(;++r<n;)if(s=t(e[r],r,e),s!=null&&s>=s){i=o=s;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)s=t(e[r],r,e),s!=null&&(i>s&&(i=s,a=r),o<s&&(o=s,l=r))}return[a,l]}function Kt(e,t){return Object.hasOwn(e,t)}const qD={};function oE(e){let t={},n;function r(s){return Kt(t,s)&&t[s]!==qD}const i={size:0,empty:0,object:t,has:r,get(s){return r(s)?t[s]:void 0},set(s,o){return r(s)||(++i.size,t[s]===qD&&--i.empty),t[s]=o,this},delete(s){return r(s)&&(--i.size,++i.empty,t[s]=qD),this},clear(){i.size=i.empty=0,i.object=t={}},test(s){return arguments.length?(n=s,i):n},clean(){const s={};let o=0;for(const a in t){const l=t[a];l!==qD&&(!n||!n(l))&&(s[a]=l,++o)}i.size=o,i.empty=0,i.object=t=s}};return e&&Object.keys(e).forEach(s=>{i.set(s,e[s])}),i}function tOe(e,t,n,r,i,s){if(!n&&n!==0)return s;const o=+n;let a=e[0],l=Rr(e),u;l<a&&(u=a,a=l,l=u),u=Math.abs(t-a);const c=Math.abs(l-t);return u<c&&u<=o?r:c<=o?i:s}function Nt(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),rr(r,n)}function Ix(e,t,n,r){let i=t[0],s=t[t.length-1],o;return i>s&&(o=i,i=s,s=o),n=n===void 0||n,r=r===void 0||r,(n?i<=e:i<e)&&(r?e<=s:e<s)}function nv(e){return typeof e=="boolean"}function ry(e){return Object.prototype.toString.call(e)==="[object Date]"}function nOe(e){return e&&ir(e[Symbol.iterator])}function Jr(e){return typeof e=="number"}function NZ(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Ht(e){return typeof e=="string"}function $Z(e,t,n){e&&(e=t?Ut(e).map(a=>a.replace(/\\(.)/g,"$1")):Ut(e));const r=e&&e.length,i=n&&n.get||jPe,s=a=>i(t?[a]:$p(a));let o;if(!r)o=function(){return""};else if(r===1){const a=s(e[0]);o=function(l){return""+a(l)}}else{const a=e.map(s);o=function(l){let u=""+a[0](l),c=0;for(;++c<r;)u+="|"+a[c](l);return u}}return Pu(o,e,"key")}function rOe(e,t){const n=e[0],r=Rr(e),i=+t;return i?i===1?r:n+i*(r-n):n}const I6t=1e4;function iOe(e){e=+e||I6t;let t,n,r;const i=()=>{t={},n={},r=0},s=(o,a)=>(++r>e&&(n=t,t={},r=1),t[o]=a);return i(),{clear:i,has:o=>Kt(t,o)||Kt(n,o),get:o=>Kt(t,o)?t[o]:Kt(n,o)?s(o,n[o]):void 0,set:(o,a)=>Kt(t,o)?t[o]=a:s(o,a)}}function sOe(e,t,n,r){const i=t.length,s=n.length;if(!s)return t;if(!i)return n;const o=r||new t.constructor(i+s);let a=0,l=0,u=0;for(;a<i&&l<s;++u)o[u]=e(t[a],n[l])>0?n[l++]:t[a++];for(;a<i;++a,++u)o[u]=t[a];for(;l<s;++l,++u)o[u]=n[l];return o}function CS(e,t){let n="";for(;--t>=0;)n+=e;return n}function oOe(e,t,n,r){const i=n||" ",s=e+"",o=t-s.length;return o<=0?s:r==="left"?CS(i,o)+s:r==="center"?CS(i,~~(o/2))+s+CS(i,Math.ceil(o/2)):s+CS(i,o)}function nR(e){return e&&Rr(e)-e[0]||0}function Dt(e){return ut(e)?"["+e.map(Dt)+"]":Vt(e)||Ht(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function MZ(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const D6t=e=>Jr(e)||ry(e)?e:Date.parse(e);function FZ(e,t){return t=t||D6t,e==null||e===""?null:t(e)}function LZ(e){return e==null||e===""?null:e+""}function Df(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function aOe(e,t,n,r){const i=r??"",s=e+"",o=s.length,a=Math.max(0,t-i.length);return o<=t?s:n==="left"?i+s.slice(o-a):n==="center"?s.slice(0,Math.ceil(a/2))+i+s.slice(o-~~(a/2)):s.slice(0,a)+i}function Eg(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const s=t(e[i]);s&&n(s,i,e)}}else e.forEach(n)}function P6t(e){return e}function O6t(e){if(e==null)return P6t;var t,n,r=e.scale[0],i=e.scale[1],s=e.translate[0],o=e.translate[1];return function(a,l){l||(t=n=0);var u=2,c=a.length,d=new Array(c);for(d[0]=(t+=a[0])*r+s,d[1]=(n+=a[1])*i+o;u<c;)d[u]=a[u],++u;return d}}function N6t(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function $6t(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return Ome(e,n)})}:Ome(e,t)}function Ome(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,s=lOe(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:s}:r==null?{type:"Feature",id:n,properties:i,geometry:s}:{type:"Feature",id:n,bbox:r,properties:i,geometry:s}}function lOe(e,t){var n=O6t(e.transform),r=e.arcs;function i(c,d){d.length&&d.pop();for(var f=r[c<0?~c:c],h=0,p=f.length;h<p;++h)d.push(n(f[h],h));c<0&&N6t(d,p)}function s(c){return n(c)}function o(c){for(var d=[],f=0,h=c.length;f<h;++f)i(c[f],d);return d.length<2&&d.push(d[0]),d}function a(c){for(var d=o(c);d.length<4;)d.push(d[0]);return d}function l(c){return c.map(a)}function u(c){var d=c.type,f;switch(d){case"GeometryCollection":return{type:d,geometries:c.geometries.map(u)};case"Point":f=s(c.coordinates);break;case"MultiPoint":f=c.coordinates.map(s);break;case"LineString":f=o(c.arcs);break;case"MultiLineString":f=c.arcs.map(o);break;case"Polygon":f=l(c.arcs);break;case"MultiPolygon":f=c.arcs.map(l);break;default:return null}return{type:d,coordinates:f}}return u(t)}function M6t(e,t){var n={},r={},i={},s=[],o=-1;t.forEach(function(u,c){var d=e.arcs[u<0?~u:u],f;d.length<3&&!d[1][0]&&!d[1][1]&&(f=t[++o],t[o]=u,t[c]=f)}),t.forEach(function(u){var c=a(u),d=c[0],f=c[1],h,p;if(h=i[d])if(delete i[h.end],h.push(u),h.end=f,p=r[f]){delete r[p.start];var m=p===h?h:h.concat(p);r[m.start=h.start]=i[m.end=p.end]=m}else r[h.start]=i[h.end]=h;else if(h=r[f])if(delete r[h.start],h.unshift(u),h.start=d,p=i[d]){delete i[p.end];var g=p===h?h:p.concat(h);r[g.start=p.start]=i[g.end=h.end]=g}else r[h.start]=i[h.end]=h;else h=[u],r[h.start=d]=i[h.end=f]=h});function a(u){var c=e.arcs[u<0?~u:u],d=c[0],f;return e.transform?(f=[0,0],c.forEach(function(h){f[0]+=h[0],f[1]+=h[1]})):f=c[c.length-1],u<0?[f,d]:[d,f]}function l(u,c){for(var d in u){var f=u[d];delete c[f.start],delete f.start,delete f.end,f.forEach(function(h){n[h<0?~h:h]=1}),s.push(f)}}return l(i,r),l(r,i),t.forEach(function(u){n[u<0?~u:u]||s.push([u])}),s}function F6t(e){return lOe(e,L6t.apply(this,arguments))}function L6t(e,t,n){var r,i,s;if(arguments.length>1)r=j6t(e,t,n);else for(i=0,r=new Array(s=e.arcs.length);i<s;++i)r[i]=i;return{type:"MultiLineString",arcs:M6t(e,r)}}function j6t(e,t,n){var r=[],i=[],s;function o(d){var f=d<0?~d:d;(i[f]||(i[f]=[])).push({i:d,g:s})}function a(d){d.forEach(o)}function l(d){d.forEach(a)}function u(d){d.forEach(l)}function c(d){switch(s=d,d.type){case"GeometryCollection":d.geometries.forEach(c);break;case"LineString":a(d.arcs);break;case"MultiLineString":case"Polygon":l(d.arcs);break;case"MultiPolygon":u(d.arcs);break}}return c(t),i.forEach(n==null?function(d){r.push(d[0].i)}:function(d){n(d[0].g,d[d.length-1].g)&&r.push(d[0].i)}),r}const _a="year",Cu="quarter",tl="month",_o="week",Eu="date",Ya="day",vp="dayofyear",uc="hours",cc="minutes",fd="seconds",Pf="milliseconds",jZ=[_a,Cu,tl,_o,Eu,Ya,vp,uc,cc,fd,Pf],U7=jZ.reduce((e,t,n)=>(e[t]=1+n,e),{});function BZ(e){const t=Ut(e).slice(),n={};return t.length||at("Missing time unit."),t.forEach(i=>{Kt(U7,i)?n[i]=1:at(`Invalid time unit: ${i}.`)}),(n[_o]||n[Ya]?1:0)+(n[Cu]||n[tl]||n[Eu]?1:0)+(n[vp]?1:0)>1&&at(`Incompatible time units: ${e}`),t.sort((i,s)=>U7[i]-U7[s]),t}const B6t={[_a]:"%Y ",[Cu]:"Q%q ",[tl]:"%b ",[Eu]:"%d ",[_o]:"W%U ",[Ya]:"%a ",[vp]:"%j ",[uc]:"%H:00",[cc]:"00:%M",[fd]:":%S",[Pf]:".%L",[`${_a}-${tl}`]:"%Y-%m ",[`${_a}-${tl}-${Eu}`]:"%Y-%m-%d ",[`${uc}-${cc}`]:"%H:%M"};function uOe(e,t){const n=rr({},B6t,t),r=BZ(e),i=r.length;let s="",o=0,a,l;for(o=0;o<i;)for(a=r.length;a>o;--a)if(l=r.slice(o,a).join("-"),n[l]!=null){s+=n[l],o=a;break}return s.trim()}const o1=new Date;function zZ(e){return o1.setFullYear(e),o1.setMonth(0),o1.setDate(1),o1.setHours(0,0,0,0),o1}function cOe(e){return fOe(new Date(e))}function dOe(e){return Qq(new Date(e))}function fOe(e){return jm.count(zZ(e.getFullYear())-1,e)}function Qq(e){return QC.count(zZ(e.getFullYear())-1,e)}function Jq(e){return zZ(e).getDay()}function z6t(e,t,n,r,i,s,o){if(0<=e&&e<100){const a=new Date(-1,t,n,r,i,s,o);return a.setFullYear(e),a}return new Date(e,t,n,r,i,s,o)}function hOe(e){return mOe(new Date(e))}function pOe(e){return Zq(new Date(e))}function mOe(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return ty.count(t-1,e)}function Zq(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return JC.count(t-1,e)}function eW(e){return o1.setTime(Date.UTC(e,0,1)),o1.getUTCDay()}function U6t(e,t,n,r,i,s,o){if(0<=e&&e<100){const a=new Date(Date.UTC(-1,t,n,r,i,s,o));return a.setUTCFullYear(n.y),a}return new Date(Date.UTC(e,t,n,r,i,s,o))}function gOe(e,t,n,r,i){const s=t||1,o=Rr(e),a=(y,v,w)=>(w=w||y,V6t(n[w],r[w],y===o&&s,v)),l=new Date,u=Df(e),c=u[_a]?a(_a):al(2012),d=u[tl]?a(tl):u[Cu]?a(Cu):Pg,f=u[_o]&&u[Ya]?a(Ya,1,_o+Ya):u[_o]?a(_o,1):u[Ya]?a(Ya,1):u[Eu]?a(Eu,1):u[vp]?a(vp,1):rE,h=u[uc]?a(uc):Pg,p=u[cc]?a(cc):Pg,m=u[fd]?a(fd):Pg,g=u[Pf]?a(Pf):Pg;return function(y){l.setTime(+y);const v=c(l);return i(v,d(l),f(l,v),h(l),p(l),m(l),g(l))}}function V6t(e,t,n,r){const i=n<=1?e:r?(s,o)=>r+n*Math.floor((e(s,o)-r)/n):(s,o)=>n*Math.floor(e(s,o)/n);return t?(s,o)=>t(i(s,o),o):i}function L_(e,t,n){return t+e*7-(n+6)%7}const H6t={[_a]:e=>e.getFullYear(),[Cu]:e=>Math.floor(e.getMonth()/3),[tl]:e=>e.getMonth(),[Eu]:e=>e.getDate(),[uc]:e=>e.getHours(),[cc]:e=>e.getMinutes(),[fd]:e=>e.getSeconds(),[Pf]:e=>e.getMilliseconds(),[vp]:e=>fOe(e),[_o]:e=>Qq(e),[_o+Ya]:(e,t)=>L_(Qq(e),e.getDay(),Jq(t)),[Ya]:(e,t)=>L_(1,e.getDay(),Jq(t))},q6t={[Cu]:e=>3*e,[_o]:(e,t)=>L_(e,0,Jq(t))};function yOe(e,t){return gOe(e,t||1,H6t,q6t,z6t)}const W6t={[_a]:e=>e.getUTCFullYear(),[Cu]:e=>Math.floor(e.getUTCMonth()/3),[tl]:e=>e.getUTCMonth(),[Eu]:e=>e.getUTCDate(),[uc]:e=>e.getUTCHours(),[cc]:e=>e.getUTCMinutes(),[fd]:e=>e.getUTCSeconds(),[Pf]:e=>e.getUTCMilliseconds(),[vp]:e=>mOe(e),[_o]:e=>Zq(e),[Ya]:(e,t)=>L_(1,e.getUTCDay(),eW(t)),[_o+Ya]:(e,t)=>L_(Zq(e),e.getUTCDay(),eW(t))},G6t={[Cu]:e=>3*e,[_o]:(e,t)=>L_(e,0,eW(t))};function vOe(e,t){return gOe(e,t||1,W6t,G6t,U6t)}const Y6t={[_a]:pp,[Cu]:yk.every(3),[tl]:yk,[_o]:QC,[Eu]:jm,[Ya]:jm,[vp]:jm,[uc]:pM,[cc]:fM,[fd]:km,[Pf]:N_},K6t={[_a]:mp,[Cu]:vk.every(3),[tl]:vk,[_o]:JC,[Eu]:ty,[Ya]:ty,[vp]:ty,[uc]:mM,[cc]:hM,[fd]:km,[Pf]:N_};function aE(e){return Y6t[e]}function lE(e){return K6t[e]}function bOe(e,t,n){return e?e.offset(t,n):void 0}function wOe(e,t,n){return bOe(aE(e),t,n)}function xOe(e,t,n){return bOe(lE(e),t,n)}function _Oe(e,t,n,r){return e?e.range(t,n,r):void 0}function COe(e,t,n,r){return _Oe(aE(e),t,n,r)}function EOe(e,t,n,r){return _Oe(lE(e),t,n,r)}const ES=1e3,SS=ES*60,TS=SS*60,LM=TS*24,X6t=LM*7,Nme=LM*30,tW=LM*365,SOe=[_a,tl,Eu,uc,cc,fd,Pf],kS=SOe.slice(0,-1),AS=kS.slice(0,-1),RS=AS.slice(0,-1),Q6t=RS.slice(0,-1),J6t=[_a,_o],$me=[_a,tl],TOe=[_a],E2=[[kS,1,ES],[kS,5,5*ES],[kS,15,15*ES],[kS,30,30*ES],[AS,1,SS],[AS,5,5*SS],[AS,15,15*SS],[AS,30,30*SS],[RS,1,TS],[RS,3,3*TS],[RS,6,6*TS],[RS,12,12*TS],[Q6t,1,LM],[J6t,1,X6t],[$me,1,Nme],[$me,3,3*Nme],[TOe,1,tW]];function kOe(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(nR(t))/n;let i=WC(a=>a[2]).right(E2,r),s,o;return i===E2.length?(s=TOe,o=xy(t[0]/tW,t[1]/tW,n)):i?(i=E2[r/E2[i-1][2]<E2[i][2]/r?i-1:i],s=i[0],o=i[1]):(s=SOe,o=Math.max(xy(t[0],t[1],n),1)),{units:s,step:o}}function IS(e){const t={};return n=>t[n]||(t[n]=e(n))}function Z6t(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let s=e5t(r,i);const o=s<r.length?r.slice(s):"";for(;--s>i;)if(r[s]!=="0"){++s;break}return r.slice(0,s)+o}}function e5t(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function AOe(e){const t=IS(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=Z1(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return Z6t(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,s,o){o=Z1(o??",f");const a=xy(r,i,s),l=Math.max(Math.abs(r),Math.abs(i));let u;if(o.precision==null)switch(o.type){case"s":return isNaN(u=BIe(a,l))||(o.precision=u),n(o,l);case"":case"e":case"g":case"p":case"r":{isNaN(u=zIe(a,l))||(o.precision=u-(o.type==="e"));break}case"f":case"%":{isNaN(u=jIe(a))||(o.precision=u-(o.type==="%")*2);break}}return t(o)}}}let nW;ROe();function ROe(){return nW=AOe({format:YC,formatPrefix:TJ})}function IOe(e){return AOe(LIe(e))}function f6(e){return arguments.length?nW=IOe(e):nW}function Mme(e,t,n){n=n||{},Vt(n)||at(`Invalid time multi-format specifier: ${n}`);const r=t(fd),i=t(cc),s=t(uc),o=t(Eu),a=t(_o),l=t(tl),u=t(Cu),c=t(_a),d=e(n[Pf]||".%L"),f=e(n[fd]||":%S"),h=e(n[cc]||"%I:%M"),p=e(n[uc]||"%I %p"),m=e(n[Eu]||n[Ya]||"%a %d"),g=e(n[_o]||"%b %d"),y=e(n[tl]||"%B"),v=e(n[Cu]||"%B"),w=e(n[_a]||"%Y");return _=>(r(_)<_?d:i(_)<_?f:s(_)<_?h:o(_)<_?p:l(_)<_?a(_)<_?m:g:c(_)<_?u(_)<_?y:v:w)(_)}function DOe(e){const t=IS(e.format),n=IS(e.utcFormat);return{timeFormat:r=>Ht(r)?t(r):Mme(t,aE,r),utcFormat:r=>Ht(r)?n(r):Mme(n,lE,r),timeParse:IS(e.parse),utcParse:IS(e.utcParse)}}let rW;POe();function POe(){return rW=DOe({format:BJ,parse:e3e,utcFormat:gM,utcParse:t3e})}function OOe(e){return DOe(KDe(e))}function Tk(e){return arguments.length?rW=OOe(e):rW}const iW=(e,t)=>rr({},e,t);function NOe(e,t){const n=e?IOe(e):f6(),r=t?OOe(t):Tk();return iW(n,r)}function UZ(e,t){const n=arguments.length;return n&&n!==2&&at("defaultLocale expects either zero or two arguments."),n?iW(f6(e),Tk(t)):iW(f6(),Tk())}function t5t(){return ROe(),POe(),UZ()}const n5t=/^(data:|([A-Za-z]+:)?\/\/)/,r5t=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,i5t=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Fme="file://";function s5t(e,t){return n=>({options:n||{},sanitize:a5t,load:o5t,fileAccess:!1,file:l5t(t),http:c5t(e)})}async function o5t(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function a5t(e,t){t=rr({},this.options,t);const n=this.fileAccess,r={href:null};let i,s,o;const a=r5t.test(e.replace(i5t,""));(e==null||typeof e!="string"||!a)&&at("Sanitize failure, invalid URI: "+Dt(e));const l=n5t.test(e);return(o=t.baseURL)&&!l&&(!e.startsWith("/")&&!o.endsWith("/")&&(e="/"+e),e=o+e),s=(i=e.startsWith(Fme))||t.mode==="file"||t.mode!=="http"&&!l&&n,i?e=e.slice(Fme.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),s=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!s}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function l5t(e){return e?t=>new Promise((n,r)=>{e.readFile(t,(i,s)=>{i?r(i):n(s)})}):u5t}async function u5t(){at("No file system access.")}function c5t(e){return e?async function(t,n){const r=rr({},this.options.http,n),i=n&&n.response,s=await e(t,r);return s.ok?ir(s[i])?s[i]():s.text():at(s.status+""+s.statusText)}:d5t}async function d5t(){at("No HTTP fetch method available.")}const f5t=e=>e!=null&&e===e,h5t=e=>e==="true"||e==="false"||e===!0||e===!1,p5t=e=>!Number.isNaN(Date.parse(e)),$Oe=e=>!Number.isNaN(+e)&&!(e instanceof Date),m5t=e=>$Oe(e)&&Number.isInteger(+e),sW={boolean:MZ,integer:Qa,number:Qa,date:FZ,string:LZ,unknown:ol},WD=[h5t,m5t,$Oe,p5t],g5t=["boolean","integer","number","date"];function MOe(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=WD.length,i=WD.map((s,o)=>o+1);for(let s=0,o=0,a,l;s<n;++s)for(l=t?e[s][t]:e[s],a=0;a<r;++a)if(i[a]&&f5t(l)&&!WD[a](l)&&(i[a]=0,++o,o===WD.length))return"string";return g5t[i.reduce((s,o)=>s===0?o:s,0)-1]}function FOe(e,t){return t.reduce((n,r)=>(n[r]=MOe(e,r),n),{})}function Lme(e){const t=function(n,r){const i={delimiter:e};return VZ(n,r?rr(r,i):i)};return t.responseType="text",t}function VZ(e,t){return t.header&&(e=t.header.map(Dt).join(t.delimiter)+`
`+e),$Ie(t.delimiter).parse(e+"")}VZ.responseType="text";function y5t(e){return typeof Buffer=="function"&&ir(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function HZ(e,t){const n=t&&t.property?cd(t.property):ol;return Vt(e)&&!y5t(e)?v5t(n(e),t):n(JSON.parse(e))}HZ.responseType="json";function v5t(e,t){return!ut(e)&&nOe(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const b5t={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function LOe(e,t){let n,r,i,s;return e=HZ(e,t),t&&t.feature?(n=$6t,i=t.feature):t&&t.mesh?(n=F6t,i=t.mesh,s=b5t[t.filter]):at("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,s):at("Invalid TopoJSON object: "+i),r&&r.features||[r]}LOe.responseType="json";const DO={dsv:VZ,csv:Lme(","),tsv:Lme("	"),json:HZ,topojson:LOe};function qZ(e,t){return arguments.length>1?(DO[e]=t,this):Kt(DO,e)?DO[e]:null}function jOe(e){const t=qZ(e);return t&&t.responseType||"text"}function BOe(e,t,n,r){t=t||{};const i=qZ(t.type||"json");return i||at("Unknown data format type: "+t.type),e=i(e,t),t.parse&&w5t(e,t.parse,n,r),Kt(e,"columns")&&delete e.columns,e}function w5t(e,t,n,r){if(!e.length)return;const i=Tk();n=n||i.timeParse,r=r||i.utcParse;let s=e.columns||Object.keys(e[0]),o,a,l,u,c,d;t==="auto"&&(t=FOe(e,s)),s=Object.keys(t);const f=s.map(h=>{const p=t[h];let m,g;if(p&&(p.startsWith("date:")||p.startsWith("utc:")))return m=p.split(/:(.+)?/,2),g=m[1],(g[0]==="'"&&g[g.length-1]==="'"||g[0]==='"'&&g[g.length-1]==='"')&&(g=g.slice(1,-1)),(m[0]==="utc"?r:n)(g);if(!sW[p])throw Error("Illegal format pattern: "+h+":"+p);return sW[p]});for(l=0,c=e.length,d=s.length;l<c;++l)for(o=e[l],u=0;u<d;++u)a=s[u],o[a]=f[u](o[a])}const jM=s5t(typeof fetch<"u"&&fetch,null);function BM(e){const t=e||ol,n=[],r={};return n.add=i=>{const s=t(i);return r[s]||(r[s]=1,n.push(i)),n},n.remove=i=>{const s=t(i);if(r[s]){r[s]=0;const o=n.indexOf(i);o>=0&&n.splice(o,1)}return n},n}async function PO(e,t){try{await t(e)}catch(n){e.error(n)}}const zOe=Symbol("vega_id");let x5t=1;function zM(e){return!!(e&&wn(e))}function wn(e){return e[zOe]}function UOe(e,t){return e[zOe]=t,e}function oi(e){const t=e===Object(e)?e:{data:e};return wn(t)?t:UOe(t,x5t++)}function WZ(e){return UM(e,oi({}))}function UM(e,t){for(const n in e)t[n]=e[n];return t}function VOe(e,t){return UOe(t,wn(e))}function Vb(e,t){return e?t?(n,r)=>e(n,r)||wn(t(n))-wn(t(r)):(n,r)=>e(n,r)||wn(n)-wn(r):null}function HOe(e){return e&&e.constructor===Hb}function Hb(){const e=[],t=[],n=[],r=[],i=[];let s=null,o=!1;return{constructor:Hb,insert(a){const l=Ut(a),u=l.length;for(let c=0;c<u;++c)e.push(l[c]);return this},remove(a){const l=ir(a)?r:t,u=Ut(a),c=u.length;for(let d=0;d<c;++d)l.push(u[d]);return this},modify(a,l,u){const c={field:l,value:al(u)};return ir(a)?(c.filter=a,i.push(c)):(c.tuple=a,n.push(c)),this},encode(a,l){return ir(a)?i.push({filter:a,field:l}):n.push({tuple:a,field:l}),this},clean(a){return s=a,this},reflow(){return o=!0,this},pulse(a,l){const u={},c={};let d,f,h,p,m,g;for(d=0,f=l.length;d<f;++d)u[wn(l[d])]=1;for(d=0,f=t.length;d<f;++d)m=t[d],u[wn(m)]=-1;for(d=0,f=r.length;d<f;++d)p=r[d],l.forEach(v=>{p(v)&&(u[wn(v)]=-1)});for(d=0,f=e.length;d<f;++d)m=e[d],g=wn(m),u[g]?u[g]=1:a.add.push(oi(e[d]));for(d=0,f=l.length;d<f;++d)m=l[d],u[wn(m)]<0&&a.rem.push(m);function y(v,w,_){_?v[w]=_(v):a.encode=w,o||(c[wn(v)]=v)}for(d=0,f=n.length;d<f;++d)h=n[d],m=h.tuple,p=h.field,g=u[wn(m)],g>0&&(y(m,p,h.value),a.modifies(p));for(d=0,f=i.length;d<f;++d)h=i[d],p=h.filter,l.forEach(v=>{p(v)&&u[wn(v)]>0&&y(v,h.field,h.value)}),a.modifies(h.field);if(o)a.mod=t.length||r.length?l.filter(v=>u[wn(v)]>0):l.slice();else for(g in c)a.mod.push(c[g]);return(s||s==null&&(t.length||r.length))&&a.clean(!0),a}}}const OO="_:mod:_";function VM(){Object.defineProperty(this,OO,{writable:!0,value:{}})}VM.prototype={set(e,t,n,r){const i=this,s=i[e],o=i[OO];return t!=null&&t>=0?(s[t]!==n||r)&&(s[t]=n,o[t+":"+e]=-1,o[e]=-1):(s!==n||r)&&(i[e]=n,o[e]=ut(n)?1+n.length:-1),i},modified(e,t){const n=this[OO];if(arguments.length){if(ut(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[OO]={},this}};let _5t=0;const C5t="pulse",E5t=new VM,S5t=1,T5t=2;function ki(e,t,n,r){this.id=++_5t,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function jme(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}ki.prototype={targets(){return this._targets||(this._targets=BM(eR))},set(e){return this.value!==e?(this.value=e,1):0},skip:jme(S5t),modified:jme(T5t),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new VM,i=this._argops=this._argops||[],s=[];let o,a,l,u;const c=(d,f,h)=>{h instanceof ki?(h!==this&&(t&&h.targets().add(this),s.push(h)),i.push({op:h,name:d,index:f})):r.set(d,f,h)};for(o in e)if(a=e[o],o===C5t)Ut(a).forEach(d=>{d instanceof ki?d!==this&&(d.targets().add(this),s.push(d)):at("Pulse parameters must be operator instances.")}),this.source=a;else if(ut(a))for(r.set(o,-1,Array(l=a.length)),u=0;u<l;++u)c(o,u,a[u]);else c(o,-1,a);return this.marshall().clear(),n&&(i.initonly=!0),s},marshall(e){const t=this._argval||E5t,n=this._argops;let r,i,s,o;if(n){const a=n.length;for(i=0;i<a;++i)r=n[i],s=r.op,o=s.modified()&&s.stamp===e,t.set(r.name,r.index,s.value,o);if(n.initonly){for(i=0;i<a;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function k5t(e,t,n,r){let i=1,s;return e instanceof ki?s=e:e&&e.prototype instanceof ki?s=new e:ir(e)?s=new ki(null,e):(i=0,s=new ki(e,t)),this.rank(s),i&&(r=n,n=t),n&&this.connect(s,s.parameters(n,r)),this.touch(s),s}function A5t(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank){this.rerank(e);return}}let R5t=0;function HM(e,t,n){this.id=++R5t,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function vg(e,t,n){return new HM(e,t,n)}HM.prototype={_filter:dd,_apply:ol,targets(){return this._targets||(this._targets=BM(eR))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=vg(e);return this.targets().add(t),t},apply(e){const t=vg(null,e);return this.targets().add(t),t},merge(){const e=vg();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=vg();return this.targets().add(vg(null,null,OZ(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(vg(null,null,()=>n=!0)),t.targets().add(vg(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=dd,this._targets=null}};function I5t(e,t,n,r){const i=this,s=vg(n,r),o=function(u){u.dataflow=i;try{s.receive(u)}catch(c){i.error(c)}finally{i.run()}};let a;typeof e=="string"&&typeof document<"u"?a=document.querySelectorAll(e):a=Ut(e);const l=a.length;for(let u=0;u<l;++u)a[u].addEventListener(t,o);return s}function D5t(e,t){const n=this.locale();return BOe(e,t,n.timeParse,n.utcParse)}function P5t(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function O5t(e,t){const n=this;let r=0,i;try{i=await n.loader().load(e,{context:"dataflow",response:jOe(t&&t.type)});try{i=n.parse(i,t)}catch(s){r=-2,n.warn("Data ingestion failed",e,s)}}catch(s){r=-1,n.warn("Loading failed",e,s)}return{data:i,status:r}}async function N5t(e,t,n){const r=this,i=r._pending||$5t(r);i.requests+=1;const s=await r.request(t,n);return r.pulse(e,r.changeset().remove(dd).insert(s.data||[])),i.done(),s}function $5t(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const M5t={skip:!0};function F5t(e,t,n,r,i){return(e instanceof ki?j5t:L5t)(this,e,t,n,r,i),this}function L5t(e,t,n,r,i,s){const o=rr({},s,M5t);let a,l;ir(n)||(n=al(n)),r===void 0?a=u=>e.touch(n(u)):ir(r)?(l=new ki(null,r,i,!1),a=u=>{l.evaluate(u);const c=n(u),d=l.value;HOe(d)?e.pulse(c,d,s):e.update(c,d,o)}):a=u=>e.update(n(u),r,o),t.apply(a)}function j5t(e,t,n,r,i,s){if(r===void 0)t.targets().add(n);else{const o=s||{},a=new ki(null,B5t(n,r),i,!1);a.modified(o.force),a.rank=t.rank,t.targets().add(a),n&&(a.skip(!0),a.value=n.value,a.targets().add(n),e.connect(n,[a]))}}function B5t(e,t){return t=ir(t)?t:al(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}function z5t(e){e.rank=++this._rank}function U5t(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&at("Cycle detected in dataflow graph.")}const h6={},Ph=1,Sg=2,hm=4,V5t=Ph|Sg,Bme=Ph|hm,Yw=Ph|Sg|hm,zme=8,S2=16,Ume=32,Vme=64;function iy(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function V7(e,t){const n=[];return Eg(e,t,r=>n.push(r)),n}function Hme(e,t){const n={};return e.visit(t,r=>{n[wn(r)]=1}),r=>n[wn(r)]?null:r}function GD(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}iy.prototype={StopPropagation:h6,ADD:Ph,REM:Sg,MOD:hm,ADD_REM:V5t,ADD_MOD:Bme,ALL:Yw,REFLOW:zme,SOURCE:S2,NO_SOURCE:Ume,NO_FIELDS:Vme,fork(e){return new iy(this.dataflow).init(this,e)},clone(){const e=this.fork(Yw);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(Yw|S2)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new iy(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&Vme)&&(n.fields=e.fields),t&Ph?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&Sg?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&hm?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&Ume?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||Yw;return t&Ph&&this.add.length||t&Sg&&this.rem.length||t&hm&&this.mod.length},reflow(e){if(e)return this.fork(Yw).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(hm,Hme(this,Ph))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return ut(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?ut(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&Ph&&(n.addF=GD(n.addF,t)),e&Sg&&(n.remF=GD(n.remF,t)),e&hm&&(n.modF=GD(n.modF,t)),e&S2&&(n.srcF=GD(n.srcF,t)),n},materialize(e){e=e||Yw;const t=this;return e&Ph&&t.addF&&(t.add=V7(t.add,t.addF),t.addF=null),e&Sg&&t.remF&&(t.rem=V7(t.rem,t.remF),t.remF=null),e&hm&&t.modF&&(t.mod=V7(t.mod,t.modF),t.modF=null),e&S2&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&S2)return Eg(n.source,n.srcF,r),n;e&Ph&&Eg(n.add,n.addF,r),e&Sg&&Eg(n.rem,n.remF,r),e&hm&&Eg(n.mod,n.modF,r);const i=n.source;if(e&zme&&i){const s=n.add.length+n.mod.length;s===i.length||(s?Eg(i,Hme(n,Bme),r):Eg(i,n.srcF,r))}return n}};function GZ(e,t,n,r){const i=this;let s=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const o of n)if(o.stamp===t){if(o.fields){const a=i.fields||(i.fields={});for(const l in o.fields)a[l]=1}o.changed(i.ADD)&&(s|=i.ADD),o.changed(i.REM)&&(s|=i.REM),o.changed(i.MOD)&&(s|=i.MOD)}this.changes=s}Nt(GZ,iy,{fork(e){const t=new iy(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?ut(e)?e.some(r=>n[r]):n[e]:0},filter(){at("MultiPulse does not support filtering.")},materialize(){at("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let s=0;if(e&n.SOURCE)for(;s<i;++s)r[s].visit(e,t);else for(;s<i;++s)r[s].stamp===n.stamp&&r[s].visit(e,t);return n}});async function H5t(e,t,n){const r=this,i=[];if(r._pulse)return qOe(r);if(r._pending&&await r._pending,t&&await PO(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const s=++r._clock;r._pulse=new iy(r,s,e),r._touched.forEach(c=>r._enqueue(c,!0)),r._touched=BM(eR);let o=0,a,l,u;try{for(;r._heap.size()>0;){if(a=r._heap.pop(),a.rank!==a.qrank){r._enqueue(a,!0);continue}l=a.run(r._getPulse(a,e)),l.then?l=await l:l.async&&(i.push(l.async),l=h6),l!==h6&&a._targets&&a._targets.forEach(c=>r._enqueue(c)),++o}}catch(c){r._heap.clear(),u=c}if(r._input={},r._pulse=null,r.debug(`Pulse ${s}: ${o} operators`),u&&(r._postrun=[],r.error(u)),r._postrun.length){const c=r._postrun.sort((d,f)=>f.priority-d.priority);r._postrun=[];for(let d=0;d<c.length;++d)await PO(r,c[d].callback)}return n&&await PO(r,n),i.length&&Promise.all(i).then(c=>r.runAsync(null,()=>{c.forEach(d=>{try{d(r)}catch(f){r.error(f)}})})),r}async function q5t(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function W5t(e,t,n){return this._pulse?qOe(this):(this.evaluate(e,t,n),this)}function G5t(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function qOe(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function Y5t(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function K5t(e,t){const n=e.source,r=this._clock;return n&&ut(n)?new GZ(this,r,n.map(i=>i.pulse),t):this._input[e.id]||X5t(this._pulse,n&&n.pulse)}function X5t(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==h6&&(e.source=t.source),e)}const YZ={skip:!1,force:!1};function Q5t(e,t){const n=t||YZ;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function J5t(e,t,n){const r=n||YZ;return(e.set(t)||r.force)&&this.touch(e,r),this}function Z5t(e,t,n){this.touch(e,n||YZ);const r=new iy(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this}function e$t(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),WOe(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,t$t(t,0,e)):r=n,r}}}function WOe(e,t,n,r){let i,s;const o=e[n];for(;n>t;){if(s=n-1>>1,i=e[s],r(o,i)<0){e[n]=i,n=s;continue}break}return e[n]=o}function t$t(e,t,n){const r=t,i=e.length,s=e[t];let o=(t<<1)+1,a;for(;o<i;)a=o+1,a<i&&n(e[o],e[a])>=0&&(o=a),e[t]=e[o],t=o,o=(t<<1)+1;return e[t]=s,WOe(e,r,t,n)}function Jx(){this.logger(AZ()),this.logLevel(TZ),this._clock=0,this._rank=0,this._locale=UZ();try{this._loader=jM()}catch{}this._touched=BM(eR),this._input={},this._pulse=null,this._heap=e$t((e,t)=>e.qrank-t.qrank),this._postrun=[]}function T2(e){return function(){return this._log[e].apply(this,arguments)}}Jx.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:T2("error"),warn:T2("warn"),info:T2("info"),debug:T2("debug"),logLevel:T2("level"),cleanThreshold:1e4,add:k5t,connect:A5t,rank:z5t,rerank:U5t,pulse:Z5t,touch:Q5t,update:J5t,changeset:Hb,ingest:P5t,parse:D5t,preload:N5t,request:O5t,events:I5t,on:F5t,evaluate:H5t,run:W5t,runAsync:q5t,runAfter:G5t,_enqueue:Y5t,_getPulse:K5t};function et(e,t){ki.call(this,e,null,t)}Nt(et,ki,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const j_={};function GOe(e){const t=YOe(e);return t&&t.Definition||null}function YOe(e){return e=e&&e.toLowerCase(),Kt(j_,e)?j_[e]:null}function*KOe(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function KZ(e,t,n){const r=Float64Array.from(KOe(e,n));return r.sort(Fm),t.map(i=>$Re(r,i))}function XZ(e,t){return KZ(e,[.25,.5,.75],t)}function QZ(e,t){const n=e.length,r=fCt(e,t),i=XZ(e,t),s=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,s)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function XOe(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let s=e.extent[0],o=e.extent[1],a,l,u,c,d,f;const h=e.span||o-s||Math.abs(s)||1;if(e.step)a=e.step;else if(e.steps){for(c=h/t,d=0,f=e.steps.length;d<f&&e.steps[d]<c;++d);a=e.steps[Math.max(0,d-1)]}else{for(l=Math.ceil(Math.log(t)/r),u=e.minstep||0,a=Math.max(u,Math.pow(n,Math.round(Math.log(h)/r)-l));Math.ceil(h/a)>t;)a*=n;for(d=0,f=i.length;d<f;++d)c=a/i[d],c>=u&&h/c<=t&&(a=c)}c=Math.log(a);const p=c>=0?0:~~(-c/r)+1,m=Math.pow(n,-p-1);return(e.nice||e.nice===void 0)&&(c=Math.floor(s/a+m)*a,s=s<c?c-a:c,o=Math.ceil(o/a)*a),{start:s,stop:o===s?s+a:o,step:a}}var hd=Math.random;function n$t(e){hd=e}function QOe(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(KOe(e,r)),s=i.length,o=t;let a,l,u,c;for(u=0,c=Array(o);u<o;++u){for(a=0,l=0;l<s;++l)a+=i[~~(hd()*s)];c[u]=a/s}return c.sort(Fm),[qH(c,n/2),qH(c,1-n/2)]}function JOe(e,t,n,r){r=r||(f=>f);const i=e.length,s=new Float64Array(i);let o=0,a=1,l=r(e[0]),u=l,c=l+t,d;for(;a<i;++a){if(d=r(e[a]),d>=c){for(u=(l+u)/2;o<a;++o)s[o]=u;c=d+t,l=d}u=d}for(u=(l+u)/2;o<a;++o)s[o]=u;return n?r$t(s,t+t/4):s}function r$t(e,t){const n=e.length;let r=0,i=1,s,o;for(;e[r]===e[i];)++i;for(;i<n;){for(s=i+1;e[i]===e[s];)++s;if(e[i]-e[i-1]<t){for(o=i+(r+s-i-i>>1);o<i;)e[o++]=e[i];for(;o>i;)e[o--]=e[r]}r=i,i=s}return e}function i$t(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function s$t(e,t){t==null&&(t=e,e=0);let n,r,i;const s={min(o){return arguments.length?(n=o||0,i=r-n,s):n},max(o){return arguments.length?(r=o||0,i=r-n,s):r},sample(){return n+Math.floor(i*hd())},pdf(o){return o===Math.floor(o)&&o>=n&&o<r?1/i:0},cdf(o){const a=Math.floor(o);return a<n?0:a>=r?1:(a-n+1)/i},icdf(o){return o>=0&&o<=1?n-1+Math.floor(o*i):NaN}};return s.min(e).max(t)}const ZOe=Math.sqrt(2*Math.PI),o$t=Math.SQRT2;let k2=NaN;function qM(e,t){e=e||0,t=t??1;let n=0,r=0,i,s;if(k2===k2)n=k2,k2=NaN;else{do n=hd()*2-1,r=hd()*2-1,i=n*n+r*r;while(i===0||i>1);s=Math.sqrt(-2*Math.log(i)/i),n*=s,k2=r*s}return e+n*t}function JZ(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*ZOe)}function WM(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,i=Math.abs(r);let s;if(i>37)s=0;else{const o=Math.exp(-i*i/2);let a;i<7.07106781186547?(a=.0352624965998911*i+.700383064443688,a=a*i+6.37396220353165,a=a*i+33.912866078383,a=a*i+112.079291497871,a=a*i+221.213596169931,a=a*i+220.206867912376,s=o*a,a=.0883883476483184*i+1.75566716318264,a=a*i+16.064177579207,a=a*i+86.7807322029461,a=a*i+296.564248779674,a=a*i+637.333633378831,a=a*i+793.826512519948,a=a*i+440.413735824752,s=s/a):(a=i+.65,a=i+4/a,a=i+3/a,a=i+2/a,a=i+1/a,s=o/a/2.506628274631)}return r>0?1-s:s}function GM(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*o$t*a$t(2*e-1)}function a$t(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function ZZ(e,t){let n,r;const i={mean(s){return arguments.length?(n=s||0,i):n},stdev(s){return arguments.length?(r=s??1,i):r},sample:()=>qM(n,r),pdf:s=>JZ(s,n,r),cdf:s=>WM(s,n,r),icdf:s=>GM(s,n,r)};return i.mean(e).stdev(t)}function eee(e,t){const n=ZZ();let r=0;const i={data(s){return arguments.length?(e=s,r=s?s.length:0,i.bandwidth(t)):e},bandwidth(s){return arguments.length?(t=s,!t&&e&&(t=QZ(e)),i):t},sample(){return e[~~(hd()*r)]+t*n.sample()},pdf(s){let o=0,a=0;for(;a<r;++a)o+=n.pdf((s-e[a])/t);return o/t/r},cdf(s){let o=0,a=0;for(;a<r;++a)o+=n.cdf((s-e[a])/t);return o/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function tee(e,t){return e=e||0,t=t??1,Math.exp(e+qM()*t)}function nee(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*ZOe*e)}function ree(e,t,n){return WM(Math.log(e),t,n)}function iee(e,t,n){return Math.exp(GM(e,t,n))}function eNe(e,t){let n,r;const i={mean(s){return arguments.length?(n=s||0,i):n},stdev(s){return arguments.length?(r=s??1,i):r},sample:()=>tee(n,r),pdf:s=>nee(s,n,r),cdf:s=>ree(s,n,r),icdf:s=>iee(s,n,r)};return i.mean(e).stdev(t)}function tNe(e,t){let n=0,r;function i(o){const a=[];let l=0,u;for(u=0;u<n;++u)l+=a[u]=o[u]==null?1:+o[u];for(u=0;u<n;++u)a[u]/=l;return a}const s={weights(o){return arguments.length?(r=i(t=o||[]),s):t},distributions(o){return arguments.length?(o?(n=o.length,e=o):(n=0,e=[]),s.weights(t)):e},sample(){const o=hd();let a=e[n-1],l=r[0],u=0;for(;u<n-1;l+=r[++u])if(o<l){a=e[u];break}return a.sample()},pdf(o){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].pdf(o);return a},cdf(o){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].cdf(o);return a},icdf(){throw Error("Mixture icdf not supported.")}};return s.distributions(e).weights(t)}function see(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*hd()}function oee(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function aee(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function lee(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function nNe(e,t){let n,r;const i={min(s){return arguments.length?(n=s||0,i):n},max(s){return arguments.length?(r=s??1,i):r},sample:()=>see(n,r),pdf:s=>oee(s,n,r),cdf:s=>aee(s,n,r),icdf:s=>lee(s,n,r)};return t==null&&(t=e??1,e=0),i.min(e).max(t)}function uee(e,t,n){let r=0,i=0;for(const s of e){const o=n(s);t(s)==null||o==null||isNaN(o)||(r+=(o-r)/++i)}return{coef:[r],predict:()=>r,rSquared:0}}function rR(e,t,n,r){const i=r-e*e,s=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-s*e,s]}function YM(e,t,n,r){e=e.filter(h=>{let p=t(h),m=n(h);return p!=null&&(p=+p)>=p&&m!=null&&(m=+m)>=m}),r&&e.sort((h,p)=>t(h)-t(p));const i=e.length,s=new Float64Array(i),o=new Float64Array(i);let a=0,l=0,u=0,c,d,f;for(f of e)s[a]=c=+t(f),o[a]=d=+n(f),++a,l+=(c-l)/a,u+=(d-u)/a;for(a=0;a<i;++a)s[a]-=l,o[a]-=u;return[s,o,l,u]}function iR(e,t,n,r){let i=-1,s,o;for(const a of e)s=t(a),o=n(a),s!=null&&(s=+s)>=s&&o!=null&&(o=+o)>=o&&r(s,o,++i)}function uE(e,t,n,r,i){let s=0,o=0;return iR(e,t,n,(a,l)=>{const u=l-i(a),c=l-r;s+=u*u,o+=c*c}),1-s/o}function cee(e,t,n){let r=0,i=0,s=0,o=0,a=0;iR(e,t,n,(c,d)=>{++a,r+=(c-r)/a,i+=(d-i)/a,s+=(c*d-s)/a,o+=(c*c-o)/a});const l=rR(r,i,s,o),u=c=>l[0]+l[1]*c;return{coef:l,predict:u,rSquared:uE(e,t,n,i,u)}}function rNe(e,t,n){let r=0,i=0,s=0,o=0,a=0;iR(e,t,n,(c,d)=>{++a,c=Math.log(c),r+=(c-r)/a,i+=(d-i)/a,s+=(c*d-s)/a,o+=(c*c-o)/a});const l=rR(r,i,s,o),u=c=>l[0]+l[1]*Math.log(c);return{coef:l,predict:u,rSquared:uE(e,t,n,i,u)}}function iNe(e,t,n){const[r,i,s,o]=YM(e,t,n);let a=0,l=0,u=0,c=0,d=0,f,h,p;iR(e,t,n,(v,w)=>{f=r[d++],h=Math.log(w),p=f*w,a+=(w*h-a)/d,l+=(p-l)/d,u+=(p*h-u)/d,c+=(f*p-c)/d});const[m,g]=rR(l/o,a/o,u/o,c/o),y=v=>Math.exp(m+g*(v-s));return{coef:[Math.exp(m-g*s),g],predict:y,rSquared:uE(e,t,n,o,y)}}function sNe(e,t,n){let r=0,i=0,s=0,o=0,a=0,l=0;iR(e,t,n,(d,f)=>{const h=Math.log(d),p=Math.log(f);++l,r+=(h-r)/l,i+=(p-i)/l,s+=(h*p-s)/l,o+=(h*h-o)/l,a+=(f-a)/l});const u=rR(r,i,s,o),c=d=>u[0]*Math.pow(d,u[1]);return u[0]=Math.exp(u[0]),{coef:u,predict:c,rSquared:uE(e,t,n,a,c)}}function dee(e,t,n){const[r,i,s,o]=YM(e,t,n),a=r.length;let l=0,u=0,c=0,d=0,f=0,h,p,m,g;for(h=0;h<a;)p=r[h],m=i[h++],g=p*p,l+=(g-l)/h,u+=(g*p-u)/h,c+=(g*g-c)/h,d+=(p*m-d)/h,f+=(g*m-f)/h;const y=c-l*l,v=l*y-u*u,w=(f*l-d*u)/v,_=(d*y-f*u)/v,C=-w*l,S=T=>(T=T-s,w*T*T+_*T+C+o);return{coef:[C-_*s+w*s*s+o,_-2*w*s,w],predict:S,rSquared:uE(e,t,n,o,S)}}function oNe(e,t,n,r){if(r===0)return uee(e,t,n);if(r===1)return cee(e,t,n);if(r===2)return dee(e,t,n);const[i,s,o,a]=YM(e,t,n),l=i.length,u=[],c=[],d=r+1;let f,h,p,m,g;for(f=0;f<d;++f){for(p=0,m=0;p<l;++p)m+=Math.pow(i[p],f)*s[p];for(u.push(m),g=new Float64Array(d),h=0;h<d;++h){for(p=0,m=0;p<l;++p)m+=Math.pow(i[p],f+h);g[h]=m}c.push(g)}c.push(u);const y=u$t(c),v=w=>{w-=o;let _=a+y[0]+y[1]*w+y[2]*w*w;for(f=3;f<d;++f)_+=y[f]*Math.pow(w,f);return _};return{coef:l$t(d,y,-o,a),predict:v,rSquared:uE(e,t,n,a,v)}}function l$t(e,t,n,r){const i=Array(e);let s,o,a,l;for(s=0;s<e;++s)i[s]=0;for(s=e-1;s>=0;--s)for(a=t[s],l=1,i[s]+=a,o=1;o<=s;++o)l*=(s+1-o)/o,i[s-o]+=a*Math.pow(n,o)*l;return i[0]+=r,i}function u$t(e){const t=e.length-1,n=[];let r,i,s,o,a;for(r=0;r<t;++r){for(o=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][o])&&(o=i);for(s=r;s<t+1;++s)a=e[s][r],e[s][r]=e[s][o],e[s][o]=a;for(i=r+1;i<t;++i)for(s=t;s>=r;s--)e[s][i]-=e[s][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(a=0,s=i+1;s<t;++s)a+=e[s][i]*n[s];n[i]=(e[t][i]-a)/e[i][i]}return n}const qme=2,Wme=1e-12;function aNe(e,t,n,r){const[i,s,o,a]=YM(e,t,n,!0),l=i.length,u=Math.max(2,~~(r*l)),c=new Float64Array(l),d=new Float64Array(l),f=new Float64Array(l).fill(1);for(let h=-1;++h<=qme;){const p=[0,u-1];for(let g=0;g<l;++g){const y=i[g],v=p[0],w=p[1],_=y-i[v]>i[w]-y?v:w;let C=0,S=0,T=0,k=0,I=0;const R=1/Math.abs(i[_]-y||1);for(let $=v;$<=w;++$){const O=i[$],j=s[$],B=c$t(Math.abs(y-O)*R)*f[$],H=O*B;C+=B,S+=H,T+=j*B,k+=j*H,I+=O*H}const[P,N]=rR(S/C,T/C,k/C,I/C);c[g]=P+N*y,d[g]=Math.abs(s[g]-c[g]),d$t(i,g+1,p)}if(h===qme)break;const m=MRe(d);if(Math.abs(m)<Wme)break;for(let g=0,y,v;g<l;++g)y=d[g]/(6*m),f[g]=y>=1?Wme:(v=1-y*y)*v}return f$t(i,c,o,a)}function c$t(e){return(e=1-e*e*e)*e*e}function d$t(e,t,n){const r=e[t];let i=n[0],s=n[1]+1;if(!(s>=e.length))for(;t>i&&e[s]-r<=r-e[i];)n[0]=++i,n[1]=s,++s}function f$t(e,t,n,r){const i=e.length,s=[];let o=0,a=0,l=[],u;for(;o<i;++o)u=e[o]+n,l[0]===u?l[1]+=(t[o]-l[1])/++a:(a=0,l[1]+=r,l=[u,t[o]],s.push(l));return l[1]+=r,s}const h$t=.5*Math.PI/180;function KM(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=m=>[m,e(m)],s=t[0],o=t[1],a=o-s,l=a/r,u=[i(s)],c=[];if(n===r){for(let m=1;m<r;++m)u.push(i(s+m/n*a));return u.push(i(o)),u}else{c.push(i(o));for(let m=n;--m>0;)c.push(i(s+m/n*a))}let d=u[0],f=c[c.length-1];const h=1/a,p=p$t(d[1],c);for(;f;){const m=i((d[0]+f[0])/2);m[0]-d[0]>=l&&m$t(d,m,f,h,p)>h$t?c.push(m):(d=f,u.push(f),c.pop()),f=c[c.length-1]}return u}function p$t(e,t){let n=e,r=e;const i=t.length;for(let s=0;s<i;++s){const o=t[s][1];o<n&&(n=o),o>r&&(r=o)}return 1/(r-n)}function m$t(e,t,n,r,i){const s=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),o=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(s-o)}function g$t(e){return t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}}function oW(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:g$t(e)}function lNe(e,t,n){return n||e+(t?"_"+t:"")}const H7=()=>{},y$t={init:H7,add:H7,rem:H7,idx:0},kk={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.valid?e.sum:void 0,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,t)=>{e.exp=0,e.exp_r=t},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,t)=>e.exp=e.exp_r*e.exp+t,rem:(e,t)=>e.exp=(e.exp-t/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},sR=Object.keys(kk).filter(e=>e!=="__count__");function v$t(e,t){return(n,r)=>rr({name:e,aggregate_param:r,out:n||e},y$t,t)}[...sR,"__count__"].forEach(e=>{kk[e]=v$t(e,kk[e])});function uNe(e,t,n){return kk[e](n,t)}function cNe(e,t){return e.idx-t.idx}function b$t(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(i=>{t[i]||n(t[i]=kk[i]())})};return e.forEach(n),Object.values(t).sort(cNe)}function w$t(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.aggregate_param==null?e.init(this):e.init(this,e.aggregate_param))}function x$t(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function _$t(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function C$t(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function dNe(e,t){const n=t||ol,r=b$t(e),i=e.slice().sort(cNe);function s(o){this._ops=r,this._out=i,this.cell=o,this.init()}return s.prototype.init=w$t,s.prototype.add=x$t,s.prototype.rem=_$t,s.prototype.set=C$t,s.prototype.get=n,s.fields=e.map(o=>o.out),s}function fee(e){this._key=e?cd(e):wn,this.reset()}const Ta=fee.prototype;Ta.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};Ta.add=function(e){this._add.push(e)};Ta.rem=function(e){this._rem.push(e)};Ta.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,s=Array(r-i),o={};let a,l,u;for(a=0;a<i;++a)o[n(t[a])]=1;for(a=0,l=0;a<r;++a)o[n(u=e[a])]?o[n(u)]=0:s[l++]=u;return this._rem=[],this._add=s};Ta.distinct=function(e){const t=this.values(),n={};let r=t.length,i=0,s;for(;--r>=0;)s=e(t[r])+"",Kt(n,s)||(n[s]=1,++i);return i};Ta.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=eOe(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};Ta.argmin=function(e){return this.extent(e)[0]||{}};Ta.argmax=function(e){return this.extent(e)[1]||{}};Ta.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};Ta.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};Ta.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=XZ(this.values(),e),this._get=e),this._q};Ta.q1=function(e){return this.quartile(e)[0]};Ta.q2=function(e){return this.quartile(e)[1]};Ta.q3=function(e){return this.quartile(e)[2]};Ta.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=QOe(this.values(),1e3,.05,e),this._get=e),this._ci};Ta.ci0=function(e){return this.ci(e)[0]};Ta.ci1=function(e){return this.ci(e)[1]};function Sy(e){et.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}Sy.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:sR},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};Nt(Sy,et,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):Object.create(null),t.visit(t.SOURCE,s=>n.add(s))):(n.value=n.value||n.init(e),t.visit(t.REM,s=>n.rem(s)),t.visit(t.ADD,s=>n.add(s))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),i=n.length;function s(a){let l,u,c,d;for(l in a)for(c=a[l].tuple,u=0;u<i;++u)r[u][d=c[n[u]]]=d}s(e._prev),s(t);function o(a,l,u){const c=n[u],d=r[u++];for(const f in d){const h=a?a+"|"+f:f;l[c]=d[f],u<i?o(h,l,u):t[h]||e.cell(h,l)}}o("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(v){const w=Ut(el(v)),_=w.length;let C=0,S;for(;C<_;++C)r[S=w[C]]||(r[S]=1,t.push(S))}this._dims=Ut(e.groupby),this._dnames=this._dims.map(v=>{const w=Ts(v);return i(v),n.push(w),w}),this.cellkey=e.key?e.key:oW(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const s=e.fields||[null],o=e.ops||["count"],a=e.aggregate_params||[null],l=e.as||[],u=s.length,c={};let d,f,h,p,m,g,y;for(u!==o.length&&at("Unmatched number of fields and aggregate ops."),y=0;y<u;++y){if(d=s[y],f=o[y],h=a[y]||null,d==null&&f!=="count"&&at("Null aggregate field specified."),m=Ts(d),g=lNe(f,m,l[y]),n.push(g),f==="count"){this._counts.push(g);continue}p=c[m],p||(i(d),p=c[m]=[],p.field=d,this._measures.push(p)),f!=="count"&&(this._countOnly=!1),p.push(uNe(f,h,g))}return this._measures=this._measures.map(v=>dNe(v,v.field)),Object.create(null)},cellkey:oW(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,i=r.length;n.agg=Array(i);for(let s=0;s<i;++s)n.agg[s]=new r[s](n)}return n.store&&(n.data=new fee),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,s={};for(let o=0;o<i;++o)s[n[o]]=r[o](e);return t?VOe(t.tuple,s):oi(s)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,s=r.length;i<s;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,s=r.length;i<s;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let i=0,s=r.length;i<s;++i)r[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,s=e.add,o=e.rem,a=e.mod;let l,u,c,d;if(r)for(u in r)l=r[u],(!i||l.num)&&o.push(l.tuple);for(c=0,d=this._alen;c<d;++c)s.push(this.celltuple(t[c])),t[c]=null;for(c=0,d=this._mlen;c<d;++c)l=n[c],(l.num===0&&i?o:a).push(this.celltuple(l)),n[c]=null;return this._alen=this._mlen=0,this._prev=null,e}});const E$t=1e-14;function hee(e){et.call(this,null,e)}hee.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};Nt(hee,et,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),i=r.start,s=r.step,o=e.as||["bin0","bin1"],a=o[0],l=o[1];let u;return e.modified()?(t=t.reflow(!0),u=t.SOURCE):u=t.modified(el(e.field))?t.ADD_MOD:t.ADD,t.visit(u,n?c=>{const d=r(c);c[a]=d,c[l]=d==null?null:i+s*(1+(d-i)/s)}:c=>c[a]=r(c)),t.modifies(n?o:a)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=XOe(e),r=n.step;let i=n.start,s=i+Math.ceil((n.stop-i)/r)*r,o,a;(o=e.anchor)!=null&&(a=o-(i+r*Math.floor((o-i)/r)),i+=a,s+=a);const l=function(u){let c=Qa(t(u));return c==null?null:c<i?-1/0:c>s?1/0:(c=Math.max(i,Math.min(c,s-r)),i+r*Math.floor(E$t+(c-i)/r))};return l.start=i,l.stop=n.stop,l.step=r,this.value=Pu(l,el(t),e.name||"bin_"+Ts(t))}});function fNe(e,t,n){const r=e;let i=t||[],s=n||[],o={},a=0;return{add:l=>s.push(l),remove:l=>o[r(l)]=++a,size:()=>i.length,data:(l,u)=>(a&&(i=i.filter(c=>!o[r(c)]),o={},a=0),u&&l&&i.sort(l),s.length&&(i=l?sOe(l,i,s.sort(l)):i.concat(s),s=[]),i)}}function pee(e){et.call(this,[],e)}pee.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};Nt(pee,et,{transform(e,t){const n=t.fork(t.ALL),r=fNe(wn,this.value,n.materialize(n.ADD).add),i=e.sort,s=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(s),this.value=n.source=r.data(Vb(i),s),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function hNe(e){ki.call(this,null,S$t,e)}Nt(hNe,ki);function S$t(e){return this.value&&!e.modified()?this.value:PZ(e.fields,e.orders)}function mee(e){et.call(this,null,e)}mee.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function T$t(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}Nt(mee,et,{transform(e,t){const n=d=>f=>{for(var h=T$t(a(f),e.case,s)||[],p,m=0,g=h.length;m<g;++m)o.test(p=h[m])||d(p)},r=this._parameterCheck(e,t),i=this._counts,s=this._match,o=this._stop,a=e.field,l=e.as||["text","count"],u=n(d=>i[d]=1+(i[d]||0)),c=n(d=>i[d]-=1);return r?t.visit(t.SOURCE,u):(t.visit(t.ADD,u),t.visit(t.REM,c)),this._finish(t,l)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],s=t[1],o=e.fork(e.NO_SOURCE|e.NO_FIELDS);let a,l,u;for(a in n)l=r[a],u=n[a]||0,!l&&u?(r[a]=l=oi({}),l[i]=a,l[s]=u,o.add.push(l)):u===0?(l&&o.rem.push(l),n[a]=null,r[a]=null):l[s]!==u&&(l[s]=u,o.mod.push(l));return o.modifies(t)}});function gee(e){et.call(this,null,e)}gee.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};Nt(gee,et,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],s=r[1],o=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let a=this.value;return o?(a&&(n.rem=a),a=t.materialize(t.SOURCE).source,n.add=this.value=k$t(a,i,s,e.filter||dd)):n.mod=a,n.source=this.value,n.modifies(r)}});function k$t(e,t,n,r){for(var i=[],s={},o=e.length,a=0,l,u;a<o;++a)for(s[t]=u=e[a],l=0;l<o;++l)s[n]=e[l],r(s)&&(i.push(oi(s)),s={},s[t]=u);return i}const Gme={kde:eee,mixture:tNe,normal:ZZ,lognormal:eNe,uniform:nNe},A$t="distributions",Yme="function",R$t="field";function pNe(e,t){const n=e[Yme];Kt(Gme,n)||at("Unknown distribution function: "+n);const r=Gme[n]();for(const i in e)i===R$t?r.data((e.from||t()).map(e[i])):i===A$t?r[i](e[i].map(s=>pNe(s,t))):typeof r[i]===Yme&&r[i](e[i]);return r}function yee(e){et.call(this,null,e)}const mNe=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],I$t={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:mNe},{name:"weights",type:"number",array:!0}]};yee.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:mNe.concat(I$t)},{name:"as",type:"string",array:!0,default:["value","density"]}]};Nt(yee,et,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=pNe(e.distribution,D$t(t)),i=e.steps||e.minsteps||25,s=e.steps||e.maxsteps||200;let o=e.method||"pdf";o!=="pdf"&&o!=="cdf"&&at("Invalid density method: "+o),!e.extent&&!r.data&&at("Missing density extent parameter."),o=r[o];const a=e.as||["value","density"],l=e.extent||yp(r.data()),u=KM(o,l,i,s).map(c=>{const d={};return d[a[0]]=c[0],d[a[1]]=c[1],oi(d)});this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function D$t(e){return()=>e.materialize(e.SOURCE).source}function gNe(e,t){return e?e.map((n,r)=>t[r]||Ts(n)):null}function vee(e,t,n){const r=[],i=d=>d(l);let s,o,a,l,u,c;if(t==null)r.push(e.map(n));else for(s={},o=0,a=e.length;o<a;++o)l=e[o],u=t.map(i),c=s[u],c||(s[u]=c=[],c.dims=u,r.push(c)),c.push(n(l));return r}const yNe="bin";function bee(e){et.call(this,null,e)}bee.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:yNe}]};const P$t=(e,t)=>nR(yp(e,t))/30;Nt(bee,et,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=vee(t.source,e.groupby,ol),i=e.smooth||!1,s=e.field,o=e.step||P$t(n,s),a=Vb((p,m)=>s(p)-s(m)),l=e.as||yNe,u=r.length;let c=1/0,d=-1/0,f=0,h;for(;f<u;++f){const p=r[f].sort(a);h=-1;for(const m of JOe(p,o,i,s))m<c&&(c=m),m>d&&(d=m),p[++h][l]=m}return this.value={start:c,stop:d,step:o},t.reflow(!0).modifies(l)}});function vNe(e){ki.call(this,null,O$t,e),this.modified(!0)}Nt(vNe,ki);function O$t(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:Pu(n=>t(n,e),el(t),Ts(t))}function wee(e){et.call(this,[void 0,void 0],e)}wee.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};Nt(wee,et,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let s=n[0],o=n[1];if((i||s==null)&&(s=1/0,o=-1/0),t.visit(i?t.SOURCE:t.ADD,a=>{const l=Qa(r(a));l!=null&&(l<s&&(s=l),l>o&&(o=l))}),!Number.isFinite(s)||!Number.isFinite(o)){let a=Ts(r);a&&(a=` for field "${a}"`),t.dataflow.warn(`Infinite extent${a}: [${s}, ${o}]`),s=o=void 0}this.value=[s,o]}});function xee(e,t){ki.call(this,e),this.parent=t,this.count=0}Nt(xee,ki,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function XM(e){et.call(this,{},e),this._keys=oE();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,i=t.active;r<i;++r)n(t[r],r,t)}}Nt(XM,et,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let s=Kt(i,e)&&i[e],o,a;return s?s.value.stamp<n.stamp&&(s.init(n),this.activate(s)):(a=r||(a=this._group[e])&&a.tuple,o=n.dataflow,s=new xee(n.fork(n.NO_SOURCE),this),o.add(s).connect(t(o,e,a)),i[e]=s,this.activate(s)),s},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&t[i]!=null;++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,s=this._keys,o=e.modified("key"),a=l=>this.subflow(l,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,l=>{const u=wn(l),c=s.get(u);c!==void 0&&(s.delete(u),a(c).rem(l))}),t.visit(t.ADD,l=>{const u=r(l);s.set(wn(l),u),a(u).add(l)}),o||t.modified(r.fields)?t.visit(t.MOD,l=>{const u=wn(l),c=s.get(u),d=r(l);c===d?a(d).mod(l):(s.set(u,d),a(c).rem(l),a(d).add(l))}):t.changed(t.MOD)&&t.visit(t.MOD,l=>{a(s.get(wn(l))).mod(l)}),o&&t.visit(t.REFLOW,l=>{const u=wn(l),c=s.get(u),d=r(l);c!==d&&(s.set(u,d),a(c).rem(l),a(d).add(l))}),t.clean()?n.runAfter(()=>{this.clean(),s.clean()}):s.empty>n.cleanThreshold&&n.runAfter(s.clean),t}});function bNe(e){ki.call(this,null,N$t,e)}Nt(bNe,ki);function N$t(e){return this.value&&!e.modified()?this.value:ut(e.name)?Ut(e.name).map(t=>cd(t)):cd(e.name,e.as)}function _ee(e){et.call(this,oE(),e)}_ee.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};Nt(_ee,et,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),s=i.add,o=i.rem,a=i.mod,l=e.expr;let u=!0;t.visit(t.REM,d=>{const f=wn(d);r.has(f)?r.delete(f):o.push(d)}),t.visit(t.ADD,d=>{l(d,e)?s.push(d):r.set(wn(d),1)});function c(d){const f=wn(d),h=l(d,e),p=r.get(f);h&&p?(r.delete(f),s.push(d)):!h&&!p?(r.set(f,1),o.push(d)):u&&h&&!p&&a.push(d)}return t.visit(t.MOD,c),e.modified()&&(u=!1,t.visit(t.REFLOW,c)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}});function Cee(e){et.call(this,[],e)}Cee.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};Nt(Cee,et,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=gNe(r,e.as||[]),s=e.index||null,o=i.length;return n.rem=this.value,t.visit(t.SOURCE,a=>{const l=r.map(p=>p(a)),u=l.reduce((p,m)=>Math.max(p,m.length),0);let c=0,d,f,h;for(;c<u;++c){for(f=WZ(a),d=0;d<o;++d)f[i[d]]=(h=l[d][c])==null?null:h;s&&(f[s]=c),n.add.push(f)}}),this.value=n.source=n.add,s&&n.modifies(s),n.modifies(i)}});function Eee(e){et.call(this,[],e)}Eee.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};Nt(Eee,et,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(Ts),s=e.as||["key","value"],o=s[0],a=s[1],l=r.length;return n.rem=this.value,t.visit(t.SOURCE,u=>{for(let c=0,d;c<l;++c)d=WZ(u),d[o]=i[c],d[a]=r[c](u),n.add.push(d)}),this.value=n.source=n.add,n.modifies(s)}});function See(e){et.call(this,null,e)}See.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};Nt(See,et,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),s=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(s,o=>o[r]=n(o,e))}});function wNe(e){et.call(this,[],e)}Nt(wNe,et,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i=this.value,s=e.size-i.length,o,a,l;if(s>0){for(o=[];--s>=0;)o.push(l=oi(r(e))),i.push(l);n.add=n.add.length?n.materialize(n.ADD).add.concat(o):o}else a=i.slice(0,-s),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(a):a,i=i.slice(-s);return n.source=this.value=i,n}});const YD={value:"value",median:MRe,mean:vCt,min:HH,max:ey},$$t=[];function Tee(e){et.call(this,[],e)}Tee.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function M$t(e){var t=e.method||YD.value,n;if(YD[t]==null)at("Unrecognized imputation method: "+t);else return t===YD.value?(n=e.value!==void 0?e.value:0,()=>n):YD[t]}function F$t(e){const t=e.field;return n=>n?t(n):NaN}Nt(Tee,et,{transform(e,t){var n=t.fork(t.ALL),r=M$t(e),i=F$t(e),s=Ts(e.field),o=Ts(e.key),a=(e.groupby||[]).map(Ts),l=L$t(t.source,e.groupby,e.key,e.keyvals),u=[],c=this.value,d=l.domain.length,f,h,p,m,g,y,v,w,_,C;for(g=0,w=l.length;g<w;++g)for(f=l[g],p=f.values,h=NaN,v=0;v<d;++v)if(f[v]==null){for(m=l.domain[v],C={_impute:!0},y=0,_=p.length;y<_;++y)C[a[y]]=p[y];C[o]=m,C[s]=Number.isNaN(h)?h=r(f,i):h,u.push(oi(C))}return u.length&&(n.add=n.materialize(n.ADD).add.concat(u)),c.length&&(n.rem=n.materialize(n.REM).rem.concat(c)),this.value=u,n}});function L$t(e,t,n,r){var i=y=>y(g),s=[],o=r?r.slice():[],a={},l={},u,c,d,f,h,p,m,g;for(o.forEach((y,v)=>a[y]=v+1),f=0,m=e.length;f<m;++f)g=e[f],p=n(g),h=a[p]||(a[p]=o.push(p)),c=(u=t?t.map(i):$$t)+"",(d=l[c])||(d=l[c]=[],s.push(d),d.values=u),d[h-1]=g;return s.domain=o,s}function kee(e){Sy.call(this,e)}kee.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:sR},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};Nt(kee,Sy,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,s=>n.add(s))):(i=n.value=n.value||this.init(e),t.visit(t.REM,s=>n.rem(s)),t.visit(t.ADD,s=>n.add(s))),n.changes(),t.visit(t.SOURCE,s=>{rr(s,i[n.cellkey(s)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function Aee(e){et.call(this,null,e)}Aee.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};Nt(Aee,et,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=vee(r,e.groupby,e.field),s=(e.groupby||[]).map(Ts),o=e.bandwidth,a=e.cumulative?"cdf":"pdf",l=e.as||["value","density"],u=[];let c=e.extent,d=e.steps||e.minsteps||25,f=e.steps||e.maxsteps||200;a!=="pdf"&&a!=="cdf"&&at("Invalid density method: "+a),e.resolve==="shared"&&(c||(c=yp(r,e.field)),d=f=e.steps||f),i.forEach(h=>{const p=eee(h,o)[a],m=e.counts?h.length:1,g=c||yp(h);KM(p,g,d,f).forEach(y=>{const v={};for(let w=0;w<s.length;++w)v[s[w]]=h.dims[w];v[l[0]]=y[0],v[l[1]]=y[1]*m,u.push(oi(v))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function xNe(e){ki.call(this,null,j$t,e)}Nt(xNe,ki);function j$t(e){return this.value&&!e.modified()?this.value:$Z(e.fields,e.flat)}function _Ne(e){et.call(this,[],e),this._pending=null}Nt(_Ne,et,{transform(e,t){const n=t.dataflow;return this._pending?q7(this,t,this._pending):B$t(e)?t.StopPropagation:e.values?q7(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(i=>(this._pending=Ut(i.data),s=>s.touch(this)))}:n.request(e.url,e.format).then(r=>q7(this,t,Ut(r.data)))}});function B$t(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function q7(e,t,n){n.forEach(oi);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function Ree(e){et.call(this,{},e)}Ree.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};Nt(Ree,et,{transform(e,t){const n=e.fields,r=e.index,i=e.values,s=e.default==null?null:e.default,o=e.modified(),a=n.length;let l=o?t.SOURCE:t.ADD,u=t,c=e.as,d,f,h;return i?(f=i.length,a>1&&!c&&at('Multi-field lookup requires explicit "as" parameter.'),c&&c.length!==a*f&&at('The "as" parameter has too few output field names.'),c=c||i.map(Ts),d=function(p){for(var m=0,g=0,y,v;m<a;++m)if(v=r.get(n[m](p)),v==null)for(y=0;y<f;++y,++g)p[c[g]]=s;else for(y=0;y<f;++y,++g)p[c[g]]=i[y](v)}):(c||at("Missing output field names."),d=function(p){for(var m=0,g;m<a;++m)g=r.get(n[m](p)),p[c[m]]=g??s}),o?u=t.reflow(!0):(h=n.some(p=>t.modified(p.fields)),l|=h?t.MOD:0),t.visit(l,d),u.modifies(c)}});function CNe(e){ki.call(this,null,z$t,e)}Nt(CNe,ki);function z$t(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,i=-1/0,s,o;for(s=0;s<n;++s)o=t[s],o[0]<r&&(r=o[0]),o[1]>i&&(i=o[1]);return[r,i]}function ENe(e){ki.call(this,null,U$t,e)}Nt(ENe,ki);function U$t(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function SNe(e){et.call(this,null,e)}Nt(SNe,et,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function Iee(e){Sy.call(this,e)}Iee.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:sR,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};Nt(Iee,Sy,{_transform:Sy.prototype.transform,transform(e,t){return this._transform(V$t(e,t),t)}});function V$t(e,t){const n=e.field,r=e.value,i=(e.op==="count"?"__count__":e.op)||"sum",s=el(n).concat(el(r)),o=q$t(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:o.map(()=>i),fields:o.map(a=>H$t(a,n,r,s)),as:o.map(a=>a+""),modified:e.modified.bind(e)}}function H$t(e,t,n,r){return Pu(i=>t(i)===e?n(i):NaN,r,e+"")}function q$t(e,t,n){const r={},i=[];return n.visit(n.SOURCE,s=>{const o=e(s);r[o]||(r[o]=1,i.push(o))}),i.sort(tR),t?i.slice(0,t):i}function TNe(e){XM.call(this,e)}Nt(TNe,XM,{transform(e,t){const n=e.subflow,r=e.field,i=s=>this.subflow(wn(s),n,t,s);return(e.modified("field")||r&&t.modified(el(r)))&&at("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,s=>{const o=i(s);r(s).forEach(a=>o.mod(a))}),t.visit(t.ADD,s=>{const o=i(s);r(s).forEach(a=>o.add(oi(a)))}),t.visit(t.REM,s=>{const o=i(s);r(s).forEach(a=>o.rem(a))})):(t.visit(t.MOD,s=>i(s).mod(s)),t.visit(t.ADD,s=>i(s).add(s)),t.visit(t.REM,s=>i(s).rem(s))),t.clean()&&t.runAfter(()=>this.clean()),t}});function Dee(e){et.call(this,null,e)}Dee.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};Nt(Dee,et,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=gNe(e.fields,e.as||[]),s=r?(a,l)=>W$t(a,l,r,i):UM;let o;return this.value?o=this.value:(t=t.addAll(),o=this.value={}),t.visit(t.REM,a=>{const l=wn(a);n.rem.push(o[l]),o[l]=null}),t.visit(t.ADD,a=>{const l=s(a,oi({}));o[wn(a)]=l,n.add.push(l)}),t.visit(t.MOD,a=>{n.mod.push(s(a,o[wn(a)]))}),n}});function W$t(e,t,n,r){for(let i=0,s=n.length;i<s;++i)t[r[i]]=n[i](e);return t}function kNe(e){et.call(this,null,e)}Nt(kNe,et,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function Pee(e){et.call(this,null,e)}Pee.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const G$t=1e-14;Nt(Pee,et,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=t.materialize(t.SOURCE).source,s=vee(i,e.groupby,e.field),o=(e.groupby||[]).map(Ts),a=[],l=e.step||.01,u=e.probs||pu(l/2,1-G$t,l),c=u.length;return s.forEach(d=>{const f=KZ(d,u);for(let h=0;h<c;++h){const p={};for(let m=0;m<o.length;++m)p[o[m]]=d.dims[m];p[r[0]]=u[h],p[r[1]]=f[h],a.push(oi(p))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=a,n}});function ANe(e){et.call(this,null,e)}Nt(ANe,et,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,i=>{const s=wn(i);n.rem.push(r[s]),r[s]=null}),t.visit(t.ADD,i=>{const s=WZ(i);r[wn(i)]=s,n.add.push(s)}),t.visit(t.MOD,i=>{const s=r[wn(i)];for(const o in i)s[o]=i[o],n.modifies(o);n.mod.push(s)})),n}});function Oee(e){et.call(this,[],e),this.count=0}Oee.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};Nt(Oee,et,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,s=this.value.reduce((c,d)=>(c[wn(d)]=1,c),{});let o=this.value,a=this.count,l=0;function u(c){let d,f;o.length<i?o.push(c):(f=~~((a+1)*hd()),f<o.length&&f>=l&&(d=o[f],s[wn(d)]&&n.rem.push(d),o[f]=c)),++a}if(t.rem.length&&(t.visit(t.REM,c=>{const d=wn(c);s[d]&&(s[d]=-1,n.rem.push(c)),--a}),o=o.filter(c=>s[wn(c)]!==-1)),(t.rem.length||r)&&o.length<i&&t.source&&(l=a=o.length,t.visit(t.SOURCE,c=>{s[wn(c)]||u(c)}),l=-1),r&&o.length>i){const c=o.length-i;for(let d=0;d<c;++d)s[wn(o[d])]=-1,n.rem.push(o[d]);o=o.slice(c)}return t.mod.length&&t.visit(t.MOD,c=>{s[wn(c)]&&n.mod.push(c)}),t.add.length&&t.visit(t.ADD,u),(t.add.length||l<0)&&(n.add=o.filter(c=>!s[wn(c)])),this.count=a,this.value=n.source=o,n}});function Nee(e){et.call(this,null,e)}Nee.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};Nt(Nee,et,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=pu(e.start,e.stop,e.step||1).map(i=>{const s={};return s[r]=i,oi(s)}),n.add=t.add.concat(this.value),n}});function RNe(e){et.call(this,null,e),this.modified(!0)}Nt(RNe,et,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function $ee(e){et.call(this,null,e)}const INe=["unit0","unit1"];$ee.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:jZ,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:INe}]};Nt($ee,et,{transform(e,t){const n=e.field,r=e.interval!==!1,i=e.timezone==="utc",s=this._floor(e,t),o=(i?lE:aE)(s.unit).offset,a=e.as||INe,l=a[0],u=a[1],c=s.step;let d=s.start||1/0,f=s.stop||-1/0,h=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(el(n)))&&(t=t.reflow(!0),h=t.SOURCE,d=1/0,f=-1/0),t.visit(h,p=>{const m=n(p);let g,y;m==null?(p[l]=null,r&&(p[u]=null)):(p[l]=g=y=s(m),r&&(p[u]=y=o(g,c)),g<d&&(d=g),y>f&&(f=y))}),s.start=d,s.stop=f,t.modifies(r?a:l)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:kOe({extent:e.extent||yp(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),s=BZ(r),o=this.value||{},a=(n?vOe:yOe)(s,i);return a.unit=Rr(s),a.units=s,a.step=i,a.start=o.start,a.stop=o.stop,this.value=a}});function DNe(e){et.call(this,oE(),e)}Nt(DNe,et,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,s=a=>i.set(r(a),a);let o=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,s)):t.changed()?(t.visit(t.REM,a=>i.delete(r(a))),t.visit(t.ADD,s)):o=!1,this.modified(o),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}});function PNe(e){et.call(this,null,e)}Nt(PNe,et,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(Vb(e.sort)):t.source).map(e.field))}});function Y$t(e,t,n,r){const i=Ak[e](t,n);return{init:i.init||Pg,update:function(s,o){o[r]=i.next(s)}}}const Ak={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=Ak.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||at("ntile num must be greater than zero.");const n=Ak.cume_dist(),r=n.next;return{init:n.init,next:i=>Math.ceil(t*r(i))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||at("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=K$t(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};function K$t(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const X$t=Object.keys(Ak);function ONe(e){const t=Ut(e.ops),n=Ut(e.fields),r=Ut(e.params),i=Ut(e.aggregate_params),s=Ut(e.as),o=this.outputs=[],a=this.windows=[],l={},u={},c=[],d=[];let f=!0;function h(p){Ut(el(p)).forEach(m=>l[m]=1)}h(e.sort),t.forEach((p,m)=>{const g=n[m],y=r[m],v=i[m]||null,w=Ts(g),_=lNe(p,w,s[m]);if(h(g),o.push(_),Kt(Ak,p))a.push(Y$t(p,g,y,_));else{if(g==null&&p!=="count"&&at("Null aggregate field specified."),p==="count"){c.push(_);return}f=!1;let C=u[w];C||(C=u[w]=[],C.field=g,d.push(C)),C.push(uNe(p,v,_))}}),(c.length||d.length)&&(this.cell=Q$t(d,c,f)),this.inputs=Object.keys(l)}const NNe=ONe.prototype;NNe.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};NNe.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,s=r&&r.length;let o;if(n){for(o=e.p0;o<e.i0;++o)n.rem(i[o]);for(o=e.p1;o<e.i1;++o)n.add(i[o]);n.set(t)}for(o=0;o<s;++o)r[o].update(e,t)};function Q$t(e,t,n){e=e.map(l=>dNe(l,l.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,s=r.agg=Array(i),o=0;o<i;++o)s[o]=new e[o](r);if(r.store)var a=r.data=new fee;return r.add=function(l){if(r.num+=1,!n){a&&a.add(l);for(let u=0;u<i;++u)s[u].add(s[u].get(l),l)}},r.rem=function(l){if(r.num-=1,!n){a&&a.rem(l);for(let u=0;u<i;++u)s[u].rem(s[u].get(l),l)}},r.set=function(l){let u,c;for(a&&a.values(),u=0,c=t.length;u<c;++u)l[t[u]]=r.num;if(!n)for(u=0,c=s.length;u<c;++u)s[u].set(l)},r.init=function(){r.num=0,a&&a.reset();for(let l=0;l<i;++l)s[l].init()},r}function Mee(e){et.call(this,{},e),this._mlen=0,this._mods=[]}Mee.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:X$t.concat(sR)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};Nt(Mee,et,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=Vb(e.sort),i=oW(e.groupby),s=a=>this.group(i(a));let o=this.state;(!o||n)&&(o=this.state=new ONe(e)),n||t.modified(o.inputs)?(this.value={},t.visit(t.SOURCE,a=>s(a).add(a))):(t.visit(t.REM,a=>s(a).remove(a)),t.visit(t.ADD,a=>s(a).add(a)));for(let a=0,l=this._mlen;a<l;++a)J$t(this._mods[a],o,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(o.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=fNe(wn),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function J$t(e,t,n,r){const i=r.sort,s=i&&!r.ignorePeers,o=r.frame||[null,0],a=e.data(n),l=a.length,u=s?WC(i):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:a,compare:i||al(-1)};t.init();for(let d=0;d<l;++d)Z$t(c,o,d,l),s&&eMt(c,u),t.update(c,a[d])}function Z$t(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function eMt(e,t){const n=e.i0,r=e.i1-1,i=e.compare,s=e.data,o=s.length-1;n>0&&!i(s[n],s[n-1])&&(e.i0=t.left(s,s[n])),r<o&&!i(s[r],s[r+1])&&(e.i1=t.right(s,s[r]))}const tMt=Object.freeze(Object.defineProperty({__proto__:null,aggregate:Sy,bin:hee,collect:pee,compare:hNe,countpattern:mee,cross:gee,density:yee,dotbin:bee,expression:vNe,extent:wee,facet:XM,field:bNe,filter:_ee,flatten:Cee,fold:Eee,formula:See,generate:wNe,impute:Tee,joinaggregate:kee,kde:Aee,key:xNe,load:_Ne,lookup:Ree,multiextent:CNe,multivalues:ENe,params:SNe,pivot:Iee,prefacet:TNe,project:Dee,proxy:kNe,quantile:Pee,relay:ANe,sample:Oee,sequence:Nee,sieve:RNe,subflow:xee,timeunit:$ee,tupleindex:DNe,values:PNe,window:Mee},Symbol.toStringTag,{value:"Module"}));function sy(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const nMt=()=>typeof Image<"u"?Image:null;function Fee(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const rMt="identity",B_="linear",d0="log",oR="pow",aR="sqrt",QM="symlog",nb="time",rb="utc",ip="sequential",cE="diverging",z_="quantile",JM="quantize",ZM="threshold",Lee="ordinal",aW="point",$Ne="band",jee="bin-ordinal",Ro="continuous",lR="discrete",uR="discretizing",Td="interpolating",Bee="temporal";function iMt(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function sMt(e){return function(t){const n=e.range();let r=t[0],i=t[1],s=-1,o,a,l,u;for(i<r&&(a=r,r=i,i=a),l=0,u=n.length;l<u;++l)n[l]>=r&&n[l]<=i&&(s<0&&(s=l),o=l);if(!(s<0))return r=e.invertExtent(n[s]),i=e.invertExtent(n[o]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function zee(){const e=XC().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,s,o=!1,a=0,l=0,u=.5;delete e.unknown;function c(){const d=t().length,f=r[1]<r[0],h=r[1-f],p=Fee(d,a,l);let m=r[f-0];i=(h-m)/(p||1),o&&(i=Math.floor(i)),m+=(h-m-i*(d-a))*u,s=i*(1-a),o&&(m=Math.round(m),s=Math.round(s));const g=pu(d).map(y=>m+i*y);return n(f?g.reverse():g)}return e.domain=function(d){return arguments.length?(t(d),c()):t()},e.range=function(d){return arguments.length?(r=[+d[0],+d[1]],c()):r.slice()},e.rangeRound=function(d){return r=[+d[0],+d[1]],o=!0,c()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(d){return arguments.length?(o=!!d,c()):o},e.padding=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),a=l,c()):a},e.paddingInner=function(d){return arguments.length?(a=Math.max(0,Math.min(1,d)),c()):a},e.paddingOuter=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),c()):l},e.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),c()):u},e.invertRange=function(d){if(d[0]==null||d[1]==null)return;const f=r[1]<r[0],h=f?n().reverse():n(),p=h.length-1;let m=+d[0],g=+d[1],y,v,w;if(!(m!==m||g!==g)&&(g<m&&(w=m,m=g,g=w),!(g<h[0]||m>r[1-f])))return y=Math.max(0,wy(h,m)-1),v=m===g?y:wy(h,g)-1,m-h[y]>s+1e-10&&++y,f&&(w=y,y=p-v,v=p-w),y>v?void 0:t().slice(y,v+1)},e.invert=function(d){const f=e.invertRange([d,d]);return f&&f[0]},e.copy=function(){return zee().domain(t()).range(r).round(o).paddingInner(a).paddingOuter(l).align(u)},c()}function MNe(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return MNe(t())},e}function oMt(){return MNe(zee().paddingInner(1))}var aMt=Array.prototype.map;function lMt(e){return aMt.call(e,Qa)}const uMt=Array.prototype.slice;function FNe(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(wy(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=lMt(r),n):e.slice()},n.range=function(r){return arguments.length?(t=uMt.call(r),n):t.slice()},n.tickFormat=function(r,i){return jDe(e[0],Rr(e),r??10,i)},n.copy=function(){return FNe().domain(n.domain()).range(n.range())},n}const p6=new Map,LNe=Symbol("vega_scale");function jNe(e){return e[LNe]=!0,e}function Kme(e){return e&&e[LNe]===!0}function cMt(e,t,n){const r=function(){const s=t();return s.invertRange||(s.invertRange=s.invert?iMt(s):s.invertExtent?sMt(s):void 0),s.type=e,jNe(s)};return r.metadata=Df(Ut(n)),r}function Zr(e,t,n){return arguments.length>1?(p6.set(e,cMt(e,t,n)),this):BNe(e)?p6.get(e):void 0}Zr(rMt,BDe);Zr(B_,_u,Ro);Zr(d0,UDe,[Ro,d0]);Zr(oR,LJ,Ro);Zr(aR,nIt,Ro);Zr(QM,VDe,Ro);Zr(nb,n3e,[Ro,Bee]);Zr(rb,yDt,[Ro,Bee]);Zr(ip,UJ,[Ro,Td]);Zr(`${ip}-${B_}`,UJ,[Ro,Td]);Zr(`${ip}-${d0}`,r3e,[Ro,Td,d0]);Zr(`${ip}-${oR}`,VJ,[Ro,Td]);Zr(`${ip}-${aR}`,vDt,[Ro,Td]);Zr(`${ip}-${QM}`,i3e,[Ro,Td]);Zr(`${cE}-${B_}`,s3e,[Ro,Td]);Zr(`${cE}-${d0}`,o3e,[Ro,Td,d0]);Zr(`${cE}-${oR}`,HJ,[Ro,Td]);Zr(`${cE}-${aR}`,bDt,[Ro,Td]);Zr(`${cE}-${QM}`,a3e,[Ro,Td]);Zr(z_,HDe,[uR,z_]);Zr(JM,qDe,uR);Zr(ZM,WDe,uR);Zr(jee,FNe,[lR,uR]);Zr(Lee,XC,lR);Zr($Ne,zee,lR);Zr(aW,oMt,lR);function BNe(e){return p6.has(e)}function qb(e,t){const n=p6.get(e);return n&&n.metadata[t]}function Uee(e){return qb(e,Ro)}function U_(e){return qb(e,lR)}function lW(e){return qb(e,uR)}function zNe(e){return qb(e,d0)}function dMt(e){return qb(e,Bee)}function UNe(e){return qb(e,Td)}function VNe(e){return qb(e,z_)}const fMt=["clamp","base","constant","exponent"];function HNe(e,t){const n=t[0],r=Rr(t)-n;return function(i){return e(n+i*r)}}function eF(e,t,n){return gJ(Vee(t||"rgb",n),e)}function qNe(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function WNe(e,t,n){const r=n-t;let i,s,o;return!r||!Number.isFinite(r)?al(.5):(i=(s=e.type).indexOf("-"),s=i<0?s:s.slice(i+1),o=Zr(s)().domain([t,n]).range([0,1]),fMt.forEach(a=>e[a]?o[a](e[a]()):0),o)}function Vee(e,t){const n=K2t[hMt(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function hMt(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const pMt={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},mMt={accent:xDt,category10:wDt,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:_Dt,observable10:CDt,paired:EDt,pastel1:SDt,pastel2:TDt,set1:kDt,set2:ADt,set3:RDt,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function GNe(e){if(ut(e))return e;const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function YNe(e,t){for(const n in e)Hee(n,t(e[n]))}const Xme={};YNe(mMt,GNe);YNe(pMt,e=>eF(GNe(e)));function Hee(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(Xme[e]=t,this):Xme[e]}const NO="symbol",gMt="discrete",yMt="gradient",vMt=e=>ut(e)?e.map(t=>String(t)):String(e),bMt=(e,t)=>e[1]-t[1],wMt=(e,t)=>t[1]-e[1];function qee(e,t,n){let r;return Jr(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(nR(e.domain())/n||1)+1))),Vt(t)&&(r=t.step,t=t.interval),Ht(t)&&(t=e.type===nb?aE(t):e.type==rb?lE(t):at("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function KNe(e,t,n){let r=e.range(),i=r[0],s=Rr(r),o=bMt;if(i>s&&(r=s,s=i,i=r,o=wMt),i=Math.floor(i),s=Math.ceil(s),t=t.map(a=>[a,e(a)]).filter(a=>i<=a[1]&&a[1]<=s).sort(o).map(a=>a[0]),n>0&&t.length>1){const a=[t[0],Rr(t)];for(;t.length>n&&t.length>=3;)t=t.filter((l,u)=>!(u%2));t.length<3&&(t=a)}return t}function Wee(e,t){return e.bins?KNe(e,e.bins,t):e.ticks?e.ticks(t):e.domain()}function XNe(e,t,n,r,i,s){const o=t.type;let a=vMt;if(o===nb||i===nb)a=e.timeFormat(r);else if(o===rb||i===rb)a=e.utcFormat(r);else if(zNe(o)){const l=e.formatFloat(r);if(s||t.bins)a=l;else{const u=QNe(t,n,!1);a=c=>u(c)?l(c):""}}else if(t.tickFormat){const l=t.domain();a=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(a=e.format(r));return a}function QNe(e,t,n){const r=Wee(e,t),i=e.base(),s=Math.log(i),o=Math.max(1,i*t/r.length),a=l=>{let u=l/Math.pow(i,Math.round(Math.log(l)/s));return u*i<i-.5&&(u*=i),u<=o};return n?r.filter(a):a}const uW={[z_]:"quantiles",[JM]:"thresholds",[ZM]:"domain"},JNe={[z_]:"quantiles",[JM]:"domain"};function ZNe(e,t){return e.bins?CMt(e.bins):e.type===d0?QNe(e,t,!0):uW[e.type]?_Mt(e[uW[e.type]]()):Wee(e,t)}function xMt(e,t,n){const r=t[JNe[t.type]](),i=r.length;let s=i>1?r[1]-r[0]:r[0],o;for(o=1;o<i;++o)s=Math.min(s,r[o]-r[o-1]);return e.formatSpan(0,s,30,n)}function _Mt(e){const t=[-1/0].concat(e);return t.max=1/0,t}function CMt(e){const t=e.slice(0,-1);return t.max=Rr(e),t}const EMt=e=>uW[e.type]||e.bins;function e4e(e,t,n,r,i,s,o){const a=JNe[t.type]&&s!==nb&&s!==rb?xMt(e,t,i):XNe(e,t,n,i,s,o);return r===NO&&EMt(t)?SMt(a):r===gMt?TMt(a):kMt(a)}const SMt=e=>(t,n,r)=>{const i=Qme(r[n+1],Qme(r.max,1/0)),s=Jme(t,e),o=Jme(i,e);return s&&o?s+"  "+o:o?"< "+o:" "+s},Qme=(e,t)=>e??t,TMt=e=>(t,n)=>n?e(t):null,kMt=e=>t=>e(t),Jme=(e,t)=>Number.isFinite(e)?t(e):null;function AMt(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+Rr(t),s=i-r;if(e.type===ZM){const o=n?s/n:.1;r-=o,i+=o,s=i-r}return o=>(o-r)/s}function RMt(e,t,n,r){const i=r||t.type;return Ht(n)&&dMt(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&i===nb?e.timeFormat("%A, %d %B %Y, %X"):!n&&i===rb?e.utcFormat("%A, %d %B %Y, %X UTC"):e4e(e,t,5,null,n,r,!0)}function t4e(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=RMt(e,t,n.format,n.formatType);if(lW(t.type)){const s=ZNe(t).slice(1).map(i),o=s.length;return`${o} boundar${o===1?"y":"ies"}: ${s.join(", ")}`}else if(U_(t.type)){const s=t.domain(),o=s.length,a=o>r?s.slice(0,r-2).map(i).join(", ")+", ending with "+s.slice(-1).map(i):s.map(i).join(", ");return`${o} value${o===1?"":"s"}: ${a}`}else{const s=t.domain();return`values from ${i(s[0])} to ${i(Rr(s))}`}}let n4e=0;function IMt(){n4e=0}const m6="p_";function Gee(e){return e&&e.gradient}function r4e(e,t,n){const r=e.gradient;let i=e.id,s=r==="radial"?m6:"";return i||(i=e.id="gradient_"+n4e++,r==="radial"?(e.x1=Eh(e.x1,.5),e.y1=Eh(e.y1,.5),e.r1=Eh(e.r1,0),e.x2=Eh(e.x2,.5),e.y2=Eh(e.y2,.5),e.r2=Eh(e.r2,.5),s=m6):(e.x1=Eh(e.x1,0),e.y1=Eh(e.y1,0),e.x2=Eh(e.x2,1),e.y2=Eh(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+s+i+")"}function Eh(e,t){return e??t}function i4e(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(i,s){return n.push({offset:i,color:s}),r}}}const Zme={basis:{curve:zDt},"basis-closed":{curve:UDt},"basis-open":{curve:VDt},bundle:{curve:HDt,tension:"beta",value:.85},cardinal:{curve:qDt,tension:"tension",value:0},"cardinal-open":{curve:GDt,tension:"tension",value:0},"cardinal-closed":{curve:WDt,tension:"tension",value:0},"catmull-rom":{curve:YDt,tension:"alpha",value:.5},"catmull-rom-closed":{curve:KDt,tension:"alpha",value:.5},"catmull-rom-open":{curve:XDt,tension:"alpha",value:.5},linear:{curve:qJ},"linear-closed":{curve:QDt},monotone:{horizontal:ZDt,vertical:JDt},natural:{curve:e3t},step:{curve:t3t},"step-after":{curve:r3t},"step-before":{curve:n3t}};function Yee(e,t,n){var r=Kt(Zme,e)&&Zme[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&n!=null&&(i=i[r.tension](n))),i}const DMt={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},PMt=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,OMt=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,NMt=/^((\s+,?\s*)|(,\s*))/,$Mt=/^[01]/;function V_(e){const t=[];return(e.match(PMt)||[]).forEach(r=>{let i=r[0];const s=i.toLowerCase(),o=DMt[s],a=MMt(s,o,r.slice(1).trim()),l=a.length;if(l<o||l&&l%o!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([i,...a.slice(0,o)]),l!==o){s==="m"&&(i=i==="M"?"L":"l");for(let u=o;u<l;u+=o)t.push([i,...a.slice(u,u+o)])}}),t}function MMt(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let s=0;s<t;++s){const o=e==="a"&&(s===3||s===4)?$Mt:OMt,a=n.slice(i).match(o);if(a===null)throw Error("Invalid SVG path, incorrect parameter type");i+=a[0].length,r.push(+a[0]);const l=n.slice(i).match(NMt);l!==null&&(i+=l[0].length)}return r}const Ty=Math.PI/180,FMt=1e-14,a1=Math.PI/2,Uh=Math.PI*2,Kw=Math.sqrt(3)/2;var W7={},G7={},s4e=[].join;function LMt(e,t,n,r,i,s,o,a,l){const u=s4e.call(arguments);if(W7[u])return W7[u];const c=o*Ty,d=Math.sin(c),f=Math.cos(c);n=Math.abs(n),r=Math.abs(r);const h=f*(a-e)*.5+d*(l-t)*.5,p=f*(l-t)*.5-d*(a-e)*.5;let m=h*h/(n*n)+p*p/(r*r);m>1&&(m=Math.sqrt(m),n*=m,r*=m);const g=f/n,y=d/n,v=-d/r,w=f/r,_=g*a+y*l,C=v*a+w*l,S=g*e+y*t,T=v*e+w*t;let I=1/((S-_)*(S-_)+(T-C)*(T-C))-.25;I<0&&(I=0);let R=Math.sqrt(I);s==i&&(R=-R);const P=.5*(_+S)-R*(T-C),N=.5*(C+T)+R*(S-_),$=Math.atan2(C-N,_-P);let j=Math.atan2(T-N,S-P)-$;j<0&&s===1?j+=Uh:j>0&&s===0&&(j-=Uh);const B=Math.ceil(Math.abs(j/(a1+.001))),H=[];for(let q=0;q<B;++q){const Y=$+q*j/B,V=$+(q+1)*j/B;H[q]=[P,N,Y,V,n,r,d,f]}return W7[u]=H}function jMt(e){const t=s4e.call(e);if(G7[t])return G7[t];var n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7];const c=u*o,d=-l*a,f=l*o,h=u*a,p=Math.cos(i),m=Math.sin(i),g=Math.cos(s),y=Math.sin(s),v=.5*(s-i),w=Math.sin(v*.5),_=8/3*w*w/Math.sin(v),C=n+p-_*m,S=r+m+_*p,T=n+g,k=r+y,I=T+_*y,R=k-_*g;return G7[t]=[c*C+d*S,f*C+h*S,c*I+d*R,f*I+h*R,c*T+d*k,f*T+h*k]}const Pc=["l",0,0,0,0,0,0,0];function BMt(e,t,n){const r=Pc[0]=e[0];if(r==="a"||r==="A")Pc[1]=t*e[1],Pc[2]=n*e[2],Pc[3]=e[3],Pc[4]=e[4],Pc[5]=e[5],Pc[6]=t*e[6],Pc[7]=n*e[7];else if(r==="h"||r==="H")Pc[1]=t*e[1];else if(r==="v"||r==="V")Pc[1]=n*e[1];else for(var i=1,s=e.length;i<s;++i)Pc[i]=(i%2==1?t:n)*e[i];return Pc}function Rk(e,t,n,r,i,s){var o,a=null,l=0,u=0,c=0,d=0,f,h,p,m,g=0,y=0;n==null&&(n=0),r==null&&(r=0),i==null&&(i=1),s==null&&(s=i),e.beginPath&&e.beginPath();for(var v=0,w=t.length;v<w;++v){switch(o=t[v],(i!==1||s!==1)&&(o=BMt(o,i,s)),o[0]){case"l":l+=o[1],u+=o[2],e.lineTo(l+n,u+r);break;case"L":l=o[1],u=o[2],e.lineTo(l+n,u+r);break;case"h":l+=o[1],e.lineTo(l+n,u+r);break;case"H":l=o[1],e.lineTo(l+n,u+r);break;case"v":u+=o[1],e.lineTo(l+n,u+r);break;case"V":u=o[1],e.lineTo(l+n,u+r);break;case"m":l+=o[1],u+=o[2],g=l,y=u,e.moveTo(l+n,u+r);break;case"M":l=o[1],u=o[2],g=l,y=u,e.moveTo(l+n,u+r);break;case"c":f=l+o[5],h=u+o[6],c=l+o[3],d=u+o[4],e.bezierCurveTo(l+o[1]+n,u+o[2]+r,c+n,d+r,f+n,h+r),l=f,u=h;break;case"C":l=o[5],u=o[6],c=o[3],d=o[4],e.bezierCurveTo(o[1]+n,o[2]+r,c+n,d+r,l+n,u+r);break;case"s":f=l+o[3],h=u+o[4],c=2*l-c,d=2*u-d,e.bezierCurveTo(c+n,d+r,l+o[1]+n,u+o[2]+r,f+n,h+r),c=l+o[1],d=u+o[2],l=f,u=h;break;case"S":f=o[3],h=o[4],c=2*l-c,d=2*u-d,e.bezierCurveTo(c+n,d+r,o[1]+n,o[2]+r,f+n,h+r),l=f,u=h,c=o[1],d=o[2];break;case"q":f=l+o[3],h=u+o[4],c=l+o[1],d=u+o[2],e.quadraticCurveTo(c+n,d+r,f+n,h+r),l=f,u=h;break;case"Q":f=o[3],h=o[4],e.quadraticCurveTo(o[1]+n,o[2]+r,f+n,h+r),l=f,u=h,c=o[1],d=o[2];break;case"t":f=l+o[1],h=u+o[2],a[0].match(/[QqTt]/)===null?(c=l,d=u):a[0]==="t"?(c=2*l-p,d=2*u-m):a[0]==="q"&&(c=2*l-c,d=2*u-d),p=c,m=d,e.quadraticCurveTo(c+n,d+r,f+n,h+r),l=f,u=h,c=l+o[1],d=u+o[2];break;case"T":f=o[1],h=o[2],c=2*l-c,d=2*u-d,e.quadraticCurveTo(c+n,d+r,f+n,h+r),l=f,u=h;break;case"a":e0e(e,l+n,u+r,[o[1],o[2],o[3],o[4],o[5],o[6]+l+n,o[7]+u+r]),l+=o[6],u+=o[7];break;case"A":e0e(e,l+n,u+r,[o[1],o[2],o[3],o[4],o[5],o[6]+n,o[7]+r]),l=o[6],u=o[7];break;case"z":case"Z":l=g,u=y,e.closePath();break}a=o}}function e0e(e,t,n,r){const i=LMt(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let s=0;s<i.length;++s){const o=jMt(i[s]);e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5])}}const t0e=.5773502691896257,n0e={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,Uh)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,s=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-s),e.lineTo(i,-s),e.lineTo(0,-n),e.lineTo(-i,-s),e.lineTo(-r,-s),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Kw*n,i=r-n*t0e,s=n/4;e.moveTo(0,-r-i),e.lineTo(-s,r-i),e.lineTo(s,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Kw*n,i=r-n*t0e;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Kw*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Kw*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Kw*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Kw*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function o4e(e){return Kt(n0e,e)?n0e[e]:zMt(e)}var Y7={};function zMt(e){if(!Kt(Y7,e)){const t=V_(e);Y7[e]={draw:function(n,r){Rk(n,t,0,0,Math.sqrt(r)/2)}}}return Y7[e]}const ug=.448084975506;function UMt(e){return e.x}function VMt(e){return e.y}function HMt(e){return e.width}function qMt(e){return e.height}function om(e){return typeof e=="function"?e:()=>+e}function KD(e,t,n){return Math.max(t,Math.min(e,n))}function a4e(){var e=UMt,t=VMt,n=HMt,r=qMt,i=om(0),s=i,o=i,a=i,l=null;function u(c,d,f){var h,p=d??+e.call(this,c),m=f??+t.call(this,c),g=+n.call(this,c),y=+r.call(this,c),v=Math.min(g,y)/2,w=KD(+i.call(this,c),0,v),_=KD(+s.call(this,c),0,v),C=KD(+o.call(this,c),0,v),S=KD(+a.call(this,c),0,v);if(l||(l=h=oM()),w<=0&&_<=0&&C<=0&&S<=0)l.rect(p,m,g,y);else{var T=p+g,k=m+y;l.moveTo(p+w,m),l.lineTo(T-_,m),l.bezierCurveTo(T-ug*_,m,T,m+ug*_,T,m+_),l.lineTo(T,k-S),l.bezierCurveTo(T,k-ug*S,T-ug*S,k,T-S,k),l.lineTo(p+C,k),l.bezierCurveTo(p+ug*C,k,p,k-ug*C,p,k-C),l.lineTo(p,m+w),l.bezierCurveTo(p,m+ug*w,p+ug*w,m,p+w,m),l.closePath()}if(h)return l=null,h+""||null}return u.x=function(c){return arguments.length?(e=om(c),u):e},u.y=function(c){return arguments.length?(t=om(c),u):t},u.width=function(c){return arguments.length?(n=om(c),u):n},u.height=function(c){return arguments.length?(r=om(c),u):r},u.cornerRadius=function(c,d,f,h){return arguments.length?(i=om(c),s=d!=null?om(d):i,a=f!=null?om(f):i,o=h!=null?om(h):s,u):i},u.context=function(c){return arguments.length?(l=c??null,u):l},u}function l4e(){var e,t,n,r,i=null,s,o,a,l;function u(d,f,h){const p=h/2;if(s){var m=a-f,g=d-o;if(m||g){var y=Math.hypot(m,g),v=(m/=y)*l,w=(g/=y)*l,_=Math.atan2(g,m);i.moveTo(o-v,a-w),i.lineTo(d-m*p,f-g*p),i.arc(d,f,p,_-Math.PI,_),i.lineTo(o+v,a+w),i.arc(o,a,l,_,_+Math.PI)}else i.arc(d,f,p,0,Uh);i.closePath()}else s=1;o=d,a=f,l=p}function c(d){var f,h=d.length,p,m=!1,g;for(i==null&&(i=g=oM()),f=0;f<=h;++f)!(f<h&&r(p=d[f],f,d))===m&&(m=!m)&&(s=0),m&&u(+e(p,f,d),+t(p,f,d),+n(p,f,d));if(g)return i=null,g+""||null}return c.x=function(d){return arguments.length?(e=d,c):e},c.y=function(d){return arguments.length?(t=d,c):t},c.size=function(d){return arguments.length?(n=d,c):n},c.defined=function(d){return arguments.length?(r=d,c):r},c.context=function(d){return arguments.length?(d==null?i=null:i=d,c):i},c}function cR(e,t){return e??t}const dR=e=>e.x||0,fR=e=>e.y||0,WMt=e=>e.width||0,GMt=e=>e.height||0,YMt=e=>(e.x||0)+(e.width||0),KMt=e=>(e.y||0)+(e.height||0),XMt=e=>e.startAngle||0,QMt=e=>e.endAngle||0,JMt=e=>e.padAngle||0,ZMt=e=>e.innerRadius||0,eFt=e=>e.outerRadius||0,tFt=e=>e.cornerRadius||0,nFt=e=>cR(e.cornerRadiusTopLeft,e.cornerRadius)||0,rFt=e=>cR(e.cornerRadiusTopRight,e.cornerRadius)||0,iFt=e=>cR(e.cornerRadiusBottomRight,e.cornerRadius)||0,sFt=e=>cR(e.cornerRadiusBottomLeft,e.cornerRadius)||0,oFt=e=>cR(e.size,64),aFt=e=>e.size||1,tF=e=>e.defined!==!1,lFt=e=>o4e(e.shape||"circle"),uFt=LDt().startAngle(XMt).endAngle(QMt).padAngle(JMt).innerRadius(ZMt).outerRadius(eFt).cornerRadius(tFt),cFt=m3e().x(dR).y1(fR).y0(KMt).defined(tF),dFt=m3e().y(fR).x1(dR).x0(YMt).defined(tF),fFt=p3e().x(dR).y(fR).defined(tF),hFt=a4e().x(dR).y(fR).width(WMt).height(GMt).cornerRadius(nFt,rFt,iFt,sFt),pFt=BDt().type(lFt).size(oFt),mFt=l4e().x(dR).y(fR).defined(tF).size(aFt);function Kee(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function gFt(e,t){return uFt.context(e)(t)}function yFt(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?dFt:cFt).curve(Yee(r,n.orient,n.tension)).context(e)(t)}function vFt(e,t){const n=t[0],r=n.interpolate||"linear";return fFt.curve(Yee(r,n.orient,n.tension)).context(e)(t)}function dE(e,t,n,r){return hFt.context(e)(t,n,r)}function bFt(e,t){return(t.mark.shape||t.shape).context(e)(t)}function wFt(e,t){return pFt.context(e)(t)}function xFt(e,t){return mFt.context(e)(t)}var u4e=1;function c4e(){u4e=1}function Xee(e,t,n){var r=t.clip,i=e._defs,s=t.clip_id||(t.clip_id="clip"+u4e++),o=i.clipping[s]||(i.clipping[s]={id:s});return ir(r)?o.path=r(null):Kee(n)?o.path=dE(null,n,0,0):(o.width=n.width||0,o.height=n.height||0),"url(#"+s+")"}function io(e){this.clear(),e&&this.union(e)}io.prototype={clone(){return new io(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:s,y2:o}=this,a=Math.cos(e),l=Math.sin(e),u=t-t*a+n*l,c=n-t*l-n*a;return[a*r-l*i+u,l*r+a*i+c,a*r-l*o+u,l*r+a*o+c,a*s-l*i+u,l*s+a*i+c,a*s-l*o+u,l*s+a*o+c]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function nF(e){this.mark=e,this.bounds=this.bounds||new io}function rF(e){nF.call(this,e),this.items=this.items||[]}Nt(rF,nF);class d4e{constructor(t){this._pending=0,this._loader=t||jM()}pending(){return this._pending}sanitizeURL(t){const n=this;return r0e(n),n._loader.sanitize(t,{context:"href"}).then(r=>(A2(n),r)).catch(()=>(A2(n),null))}loadImage(t){const n=this,r=nMt();return r0e(n),n._loader.sanitize(t,{context:"image"}).then(i=>{const s=i.href;if(!s||!r)throw{url:s};const o=new r,a=Kt(i,"crossOrigin")?i.crossOrigin:"anonymous";return a!=null&&(o.crossOrigin=a),o.onload=()=>A2(n),o.onerror=()=>A2(n),o.src=s,o}).catch(i=>(A2(n),{complete:!1,width:0,height:0,src:i&&i.url||""}))}ready(){const t=this;return new Promise(n=>{function r(i){t.pending()?setTimeout(()=>{r(!0)},10):n(i)}r(!1)})}}function r0e(e){e._pending+=1}function A2(e){e._pending-=1}function P0(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?_Ft(t,r):0))}return e}function _Ft(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const CFt=Uh-1e-8;let iF,$O,MO,x1,cW,FO,dW,fW;const jg=(e,t)=>iF.add(e,t),LO=(e,t)=>jg($O=e,MO=t),i0e=e=>jg(e,iF.y1),s0e=e=>jg(iF.x1,e),l1=(e,t)=>cW*e+dW*t,u1=(e,t)=>FO*e+fW*t,K7=(e,t)=>jg(l1(e,t),u1(e,t)),X7=(e,t)=>LO(l1(e,t),u1(e,t));function hR(e,t){return iF=e,t?(x1=t*Ty,cW=fW=Math.cos(x1),FO=Math.sin(x1),dW=-FO):(cW=fW=1,x1=FO=dW=0),EFt}const EFt={beginPath(){},closePath(){},moveTo:X7,lineTo:X7,rect(e,t,n,r){x1?(K7(e+n,t),K7(e+n,t+r),K7(e,t+r),X7(e,t)):(jg(e+n,t+r),LO(e,t))},quadraticCurveTo(e,t,n,r){const i=l1(e,t),s=u1(e,t),o=l1(n,r),a=u1(n,r);o0e($O,i,o,i0e),o0e(MO,s,a,s0e),LO(o,a)},bezierCurveTo(e,t,n,r,i,s){const o=l1(e,t),a=u1(e,t),l=l1(n,r),u=u1(n,r),c=l1(i,s),d=u1(i,s);a0e($O,o,l,c,i0e),a0e(MO,a,u,d,s0e),LO(c,d)},arc(e,t,n,r,i,s){if(r+=x1,i+=x1,$O=n*Math.cos(i)+e,MO=n*Math.sin(i)+t,Math.abs(i-r)>CFt)jg(e-n,t-n),jg(e+n,t+n);else{const o=u=>jg(n*Math.cos(u)+e,n*Math.sin(u)+t);let a,l;if(o(r),o(i),i!==r)if(r=r%Uh,r<0&&(r+=Uh),i=i%Uh,i<0&&(i+=Uh),i<r&&(s=!s,a=r,r=i,i=a),s)for(i-=Uh,a=r-r%a1,l=0;l<4&&a>i;++l,a-=a1)o(a);else for(a=r-r%a1+a1,l=0;l<4&&a<i;++l,a=a+a1)o(a)}}};function o0e(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function a0e(e,t,n,r,i){const s=r-e+3*t-3*n,o=e+n-2*t,a=e-t;let l=0,u=0,c;Math.abs(s)>FMt?(c=o*o+a*s,c>=0&&(c=Math.sqrt(c),l=(-o+c)/s,u=(-o-c)/s)):l=.5*a/o,0<l&&l<1&&i(l0e(l,e,t,n,r)),0<u&&u<1&&i(l0e(u,e,t,n,r))}function l0e(e,t,n,r,i){const s=1-e,o=s*s,a=e*e;return o*s*t+3*o*e*n+3*s*a*r+a*e*i}var oy=(oy=sy(1,1))?oy.getContext("2d"):null;const hW=new io;function Qee(e){return function(t,n){if(!oy)return!0;e(oy,t),hW.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:s,y2:o}=hW;for(let a=i;a<=o;++a)for(let l=r;l<=s;++l)if(oy.isPointInPath(l,a))return!0;return!1}}function Jee(e,t){return t.contains(e.x||0,e.y||0)}function f4e(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,s=e.height||0;return t.intersects(hW.set(n,r,n+i,r+s))}function h4e(e,t){const n=e.x||0,r=e.y||0,i=e.x2!=null?e.x2:n,s=e.y2!=null?e.y2:r;return Dx(t,n,r,i,s)}function Dx(e,t,n,r,i){const{x1:s,y1:o,x2:a,y2:l}=e,u=r-t,c=i-n;let d=0,f=1,h,p,m,g;for(g=0;g<4;++g){if(g===0&&(h=-u,p=-(s-t)),g===1&&(h=u,p=a-t),g===2&&(h=-c,p=-(o-n)),g===3&&(h=c,p=l-n),Math.abs(h)<1e-10&&p<0)return!1;if(m=p/h,h<0){if(m>f)return!1;m>d&&(d=m)}else if(h>0){if(m<d)return!1;m<f&&(f=m)}}return!0}function H_(e,t){e.globalCompositeOperation=t.blend||"source-over"}function Vd(e,t){return e??t}function u0e(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function SFt(e,t,n){const r=n.width(),i=n.height();let s;if(t.gradient==="radial")s=e.createRadialGradient(n.x1+Vd(t.x1,.5)*r,n.y1+Vd(t.y1,.5)*i,Math.max(r,i)*Vd(t.r1,0),n.x1+Vd(t.x2,.5)*r,n.y1+Vd(t.y2,.5)*i,Math.max(r,i)*Vd(t.r2,.5));else{const o=Vd(t.x1,0),a=Vd(t.y1,0),l=Vd(t.x2,1),u=Vd(t.y2,0);if(o===l||a===u||r===i)s=e.createLinearGradient(n.x1+o*r,n.y1+a*i,n.x1+l*r,n.y1+u*i);else{const c=sy(Math.ceil(r),Math.ceil(i)),d=c.getContext("2d");return d.scale(r,i),d.fillStyle=u0e(d.createLinearGradient(o,a,l,u),t.stops),d.fillRect(0,0,r,i),e.createPattern(c,"no-repeat")}}return u0e(s,t.stops)}function p4e(e,t,n){return Gee(n)?SFt(e,n,t.bounds):n}function g6(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=p4e(e,t,t.fill),!0):!1}var TFt=[];function q_(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=p4e(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||TFt),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function kFt(e,t){return e.zindex-t.zindex||e.index-t.index}function Zee(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,i,s;for(i=0,s=t.length;i<s;++i)r=t[i],r.index=i,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(kFt)}function Of(e,t){var n=e.items,r,i;if(!n||!n.length)return;const s=Zee(e);if(s&&s.length){for(r=0,i=n.length;r<i;++r)n[r].zindex||t(n[r]);n=s}for(r=0,i=n.length;r<i;++r)t(n[r])}function y6(e,t){var n=e.items,r,i;if(!n||!n.length)return null;const s=Zee(e);for(s&&s.length&&(n=s),i=n.length;--i>=0;)if(r=t(n[i]))return r;if(n===s){for(n=e.items,i=n.length;--i>=0;)if(!n[i].zindex&&(r=t(n[i])))return r}return null}function ete(e){return function(t,n,r){Of(n,i=>{(!r||r.intersects(i.bounds))&&m4e(e,t,i,i)})}}function AFt(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&m4e(e,t,n.items[0],n.items)}}function m4e(e,t,n,r){var i=n.opacity==null?1:n.opacity;i!==0&&(e(t,r)||(H_(t,n),n.fill&&g6(t,n,i)&&t.fill(),n.stroke&&q_(t,n,i)&&t.stroke()))}function sF(e){return e=e||dd,function(t,n,r,i,s,o){return r*=t.pixelRatio,i*=t.pixelRatio,y6(n,a=>{const l=a.bounds;if(!(l&&!l.contains(s,o)||!l)&&e(t,a,r,i,s,o))return a})}}function pR(e,t){return function(n,r,i,s){var o=Array.isArray(r)?r[0]:r,a=t??o.fill,l=o.stroke&&n.isPointInStroke,u,c;return l&&(u=o.strokeWidth,c=o.strokeCap,n.lineWidth=u??1,n.lineCap=c??"butt"),e(n,r)?!1:a&&n.isPointInPath(i,s)||l&&n.isPointInStroke(i,s)}}function tte(e){return sF(pR(e))}function O1(e,t){return"translate("+e+","+t+")"}function nte(e){return"rotate("+e+")"}function RFt(e,t){return"scale("+e+","+t+")"}function g4e(e){return O1(e.x||0,e.y||0)}function IFt(e){return O1(e.x||0,e.y||0)+(e.angle?" "+nte(e.angle):"")}function DFt(e){return O1(e.x||0,e.y||0)+(e.angle?" "+nte(e.angle):"")+(e.scaleX||e.scaleY?" "+RFt(e.scaleX||1,e.scaleY||1):"")}function rte(e,t,n){function r(o,a){o("transform",IFt(a)),o("d",t(null,a))}function i(o,a){return t(hR(o,a.angle),a),P0(o,a).translate(a.x||0,a.y||0)}function s(o,a){var l=a.x||0,u=a.y||0,c=a.angle||0;o.translate(l,u),c&&o.rotate(c*=Ty),o.beginPath(),t(o,a),c&&o.rotate(-c),o.translate(-l,-u)}return{type:e,tag:"path",nested:!1,attr:r,bound:i,draw:ete(s),pick:tte(s),isect:n||Qee(s)}}var PFt=rte("arc",gFt);function OFt(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",i=e.length,s=1/0,o,a;--i>=0;)e[i].defined!==!1&&(a=Math.abs(e[i][r]-n),a<s&&(s=a,o=e[i]));return o}function NFt(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,i,s,o;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],s=e[r].y-t[1],o=i*i+s*s,o<n))return e[r];return null}function $Ft(e,t){for(var n=e.length,r,i,s;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],i=e[n].y-t[1],s=r*r+i*i,r=e[n].size||1,s<r*r))return e[n];return null}function ite(e,t,n){function r(l,u){var c=u.mark.items;c.length&&l("d",t(null,c))}function i(l,u){var c=u.items;return c.length===0?l:(t(hR(l),c),P0(l,c[0]))}function s(l,u){l.beginPath(),t(l,u)}const o=pR(s);function a(l,u,c,d,f,h){var p=u.items,m=u.bounds;return!p||!p.length||m&&!m.contains(f,h)?null:(c*=l.pixelRatio,d*=l.pixelRatio,o(l,p,c,d)?p[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:i,draw:AFt(s),pick:a,isect:Jee,tip:n}}var MFt=ite("area",yFt,OFt);function FFt(e,t){var n=t.clip;e.save(),ir(n)?(e.beginPath(),n(e),e.clip()):y4e(e,t.group)}function y4e(e,t){e.beginPath(),Kee(t)?dE(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function v4e(e){const t=Vd(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function LFt(e,t){e("transform",g4e(t))}function b4e(e,t){const n=v4e(t);e("d",dE(null,t,n,n))}function jFt(e,t){e("class","background"),e("aria-hidden",!0),b4e(e,t)}function BFt(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?b4e(e,t):e("d","")}function zFt(e,t,n){const r=t.clip?Xee(n,t,t):null;e("clip-path",r)}function UFt(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let i=0;i<r;++i)e.union(n[i].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),P0(e,t),e.translate(t.x||0,t.y||0)}function Ik(e,t,n,r){const i=v4e(t);e.beginPath(),dE(e,t,(n||0)+i,(r||0)+i)}const VFt=pR(Ik),HFt=pR(Ik,!1),qFt=pR(Ik,!0);function WFt(e,t,n,r){Of(t,i=>{const s=i.x||0,o=i.y||0,a=i.strokeForeground,l=i.opacity==null?1:i.opacity;(i.stroke||i.fill)&&l&&(Ik(e,i,s,o),H_(e,i),i.fill&&g6(e,i,l)&&e.fill(),i.stroke&&!a&&q_(e,i,l)&&e.stroke()),e.save(),e.translate(s,o),i.clip&&y4e(e,i),n&&n.translate(-s,-o),Of(i,u=>{(u.marktype==="group"||r==null||r.includes(u.marktype))&&this.draw(e,u,n,r)}),n&&n.translate(s,o),e.restore(),a&&i.stroke&&l&&(Ik(e,i,s,o),H_(e,i),q_(e,i,l)&&e.stroke())})}function GFt(e,t,n,r,i,s){if(t.bounds&&!t.bounds.contains(i,s)||!t.items)return null;const o=n*e.pixelRatio,a=r*e.pixelRatio;return y6(t,l=>{let u,c,d;const f=l.bounds;if(f&&!f.contains(i,s))return;c=l.x||0,d=l.y||0;const h=c+(l.width||0),p=d+(l.height||0),m=l.clip;if(m&&(i<c||i>h||s<d||s>p))return;if(e.save(),e.translate(c,d),c=i-c,d=s-d,m&&Kee(l)&&!qFt(e,l,o,a))return e.restore(),null;const g=l.strokeForeground,y=t.interactive!==!1;return y&&g&&l.stroke&&HFt(e,l,o,a)?(e.restore(),l):(u=y6(l,v=>YFt(v,c,d)?this.pick(v,n,r,c,d):null),!u&&y&&(l.fill||!g&&l.stroke)&&VFt(e,l,o,a)&&(u=l),e.restore(),u||null)})}function YFt(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var KFt={type:"group",tag:"g",nested:!1,attr:LFt,bound:UFt,draw:WFt,pick:GFt,isect:f4e,content:zFt,background:jFt,foreground:BFt},Dk={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function ste(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function ote(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function ate(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function oF(e,t){return e==="center"?t/2:e==="right"?t:0}function aF(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function XFt(e,t,n){const r=ste(t,n),i=ote(t,r),s=ate(t,r),o=(t.x||0)-oF(t.align,i),a=(t.y||0)-aF(t.baseline,s),l=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",l,Dk["xmlns:xlink"],"xlink:href"),e("transform",O1(o,a)),e("width",i),e("height",s),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function QFt(e,t){const n=t.image,r=ote(t,n),i=ate(t,n),s=(t.x||0)-oF(t.align,r),o=(t.y||0)-aF(t.baseline,i);return e.set(s,o,s+r,o+i)}function JFt(e,t,n){Of(t,r=>{if(n&&!n.intersects(r.bounds))return;const i=ste(r,this);let s=ote(r,i),o=ate(r,i);if(s===0||o===0)return;let a=(r.x||0)-oF(r.align,s),l=(r.y||0)-aF(r.baseline,o),u,c,d,f;r.aspect!==!1&&(c=i.width/i.height,d=r.width/r.height,c===c&&d===d&&c!==d&&(d<c?(f=s/c,l+=(o-f)/2,o=f):(f=o*c,a+=(s-f)/2,s=f))),(i.complete||i.toDataURL)&&(H_(e,r),e.globalAlpha=(u=r.opacity)!=null?u:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(i,a,l,s,o))})}var ZFt={type:"image",tag:"image",nested:!1,attr:XFt,bound:QFt,draw:JFt,pick:sF(),isect:dd,get:ste,xOffset:oF,yOffset:aF},e8t=ite("line",vFt,NFt);function t8t(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",DFt(t)),e("d",t.path)}function jO(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,i=t.y||0,s=t.scaleX||1,o=t.scaleY||1,a=(t.angle||0)*Ty,l=t.pathCache;(!l||l.path!==n)&&((t.pathCache=l=V_(n)).path=n),a&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(a),Rk(e,l,0,0,s,o),e.rotate(-a),e.translate(-r,-i)):Rk(e,l,r,i,s,o)}function n8t(e,t){return jO(hR(e,t.angle),t)?e.set(0,0,0,0):P0(e,t,!0)}var r8t={type:"path",tag:"path",nested:!1,attr:t8t,bound:n8t,draw:ete(jO),pick:tte(jO),isect:Qee(jO)};function i8t(e,t){e("d",dE(null,t))}function s8t(e,t){var n,r;return P0(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function c0e(e,t){e.beginPath(),dE(e,t)}var o8t={type:"rect",tag:"path",nested:!1,attr:i8t,bound:s8t,draw:ete(c0e),pick:tte(c0e),isect:f4e};function a8t(e,t){e("transform",g4e(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function l8t(e,t){var n,r;return P0(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function w4e(e,t,n){var r,i,s,o;return t.stroke&&q_(e,t,n)?(r=t.x||0,i=t.y||0,s=t.x2!=null?t.x2:r,o=t.y2!=null?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(s,o),!0):!1}function u8t(e,t,n){Of(t,r=>{if(!(n&&!n.intersects(r.bounds))){var i=r.opacity==null?1:r.opacity;i&&w4e(e,r,i)&&(H_(e,r),e.stroke())}})}function c8t(e,t,n,r){return e.isPointInStroke?w4e(e,t,1)&&e.isPointInStroke(n,r):!1}var d8t={type:"rule",tag:"line",nested:!1,attr:a8t,bound:l8t,draw:u8t,pick:sF(c8t),isect:h4e},f8t=rte("shape",bFt),h8t=rte("symbol",wFt,Jee);const d0e=iOe();var ec={height:Mp,measureWidth:lte,estimateWidth:v6,width:v6,canvas:x4e};x4e(!0);function x4e(e){ec.width=e&&oy?lte:v6}function v6(e,t){return _4e(Ay(e,t),Mp(e))}function _4e(e,t){return~~(.8*e.length*t)}function lte(e,t){return Mp(e)<=0||!(t=Ay(e,t))?0:C4e(t,lF(e))}function C4e(e,t){const n=`(${t}) ${e}`;let r=d0e.get(n);return r===void 0&&(oy.font=t,r=oy.measureText(e).width,d0e.set(n,r)),r}function Mp(e){return e.fontSize!=null?+e.fontSize||0:11}function ky(e){return e.lineHeight!=null?e.lineHeight:Mp(e)+2}function p8t(e){return ut(e)?e.length>1?e:e[0]:e}function mR(e){return p8t(e.lineBreak&&e.text&&!ut(e.text)?e.text.split(e.lineBreak):e.text)}function ute(e){const t=mR(e);return(ut(t)?t.length-1:0)*ky(e)}function Ay(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?g8t(e,n):n}function m8t(e){if(ec.width===lte){const t=lF(e);return n=>C4e(n,t)}else if(ec.width===v6){const t=Mp(e);return n=>_4e(n,t)}else return t=>ec.width(e,t)}function g8t(e,t){var n=+e.limit,r=m8t(e);if(r(t)<n)return t;var i=e.ellipsis||"",s=e.dir==="rtl",o=0,a=t.length,l;if(n-=r(i),s){for(;o<a;)l=o+a>>>1,r(t.slice(l))>n?o=l+1:a=l;return i+t.slice(o)}else{for(;o<a;)l=1+(o+a>>>1),r(t.slice(0,l))<n?o=l:a=l-1;return t.slice(0,o)+i}}function gR(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function lF(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+Mp(e)+"px "+gR(e,t)}function cte(e){var t=e.baseline,n=Mp(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*ky(e):t==="line-bottom"?.29*n-.5*ky(e):0)}const y8t={left:"start",center:"middle",right:"end"},fT=new io;function uF(e){var t=e.x||0,n=e.y||0,r=e.radius||0,i;return r&&(i=(e.theta||0)-a1,t+=r*Math.cos(i),n+=r*Math.sin(i)),fT.x1=t,fT.y1=n,fT}function v8t(e,t){var n=t.dx||0,r=(t.dy||0)+cte(t),i=uF(t),s=i.x1,o=i.y1,a=t.angle||0,l;e("text-anchor",y8t[t.align]||"start"),a?(l=O1(s,o)+" "+nte(a),(n||r)&&(l+=" "+O1(n,r))):l=O1(s+n,o+r),e("transform",l)}function dte(e,t,n){var r=ec.height(t),i=t.align,s=uF(t),o=s.x1,a=s.y1,l=t.dx||0,u=(t.dy||0)+cte(t)-Math.round(.8*r),c=mR(t),d;if(ut(c)?(r+=ky(t)*(c.length-1),d=c.reduce((f,h)=>Math.max(f,ec.width(t,h)),0)):d=ec.width(t,c),i==="center"?l-=d/2:i==="right"&&(l-=d),e.set(l+=o,u+=a,l+d,u+r),t.angle&&!n)e.rotate(t.angle*Ty,o,a);else if(n===2)return e.rotatedPoints(t.angle*Ty,o,a);return e}function b8t(e,t,n){Of(t,r=>{var i=r.opacity==null?1:r.opacity,s,o,a,l,u,c,d;if(!(n&&!n.intersects(r.bounds)||i===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=lF(r),e.textAlign=r.align||"left",s=uF(r),o=s.x1,a=s.y1,r.angle&&(e.save(),e.translate(o,a),e.rotate(r.angle*Ty),o=a=0),o+=r.dx||0,a+=(r.dy||0)+cte(r),c=mR(r),H_(e,r),ut(c))for(u=ky(r),l=0;l<c.length;++l)d=Ay(r,c[l]),r.fill&&g6(e,r,i)&&e.fillText(d,o,a),r.stroke&&q_(e,r,i)&&e.strokeText(d,o,a),a+=u;else d=Ay(r,c),r.fill&&g6(e,r,i)&&e.fillText(d,o,a),r.stroke&&q_(e,r,i)&&e.strokeText(d,o,a);r.angle&&e.restore()}})}function w8t(e,t,n,r,i,s){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var o=uF(t),a=o.x1,l=o.y1,u=dte(fT,t,1),c=-t.angle*Ty,d=Math.cos(c),f=Math.sin(c),h=d*i-f*s+(a-d*a+f*l),p=f*i+d*s+(l-f*a-d*l);return u.contains(h,p)}function x8t(e,t){const n=dte(fT,e,2);return Dx(t,n[0],n[1],n[2],n[3])||Dx(t,n[0],n[1],n[4],n[5])||Dx(t,n[4],n[5],n[6],n[7])||Dx(t,n[2],n[3],n[6],n[7])}var _8t={type:"text",tag:"text",nested:!1,attr:v8t,bound:dte,draw:b8t,pick:sF(w8t),isect:x8t},C8t=ite("trail",xFt,$Ft),dc={arc:PFt,area:MFt,group:KFt,image:ZFt,line:e8t,path:r8t,rect:o8t,rule:d8t,shape:f8t,symbol:h8t,text:_8t,trail:C8t};function pW(e,t,n){var r=dc[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new io),e,n)}var f0e={mark:null};function E4e(e,t,n){var r=dc[e.marktype],i=r.bound,s=e.items,o=s&&s.length,a,l,u,c;if(r.nested)return o?u=s[0]:(f0e.mark=e,u=f0e),c=pW(u,i,n),t=t&&t.union(c)||c,t;if(t=t||e.bounds&&e.bounds.clear()||new io,o)for(a=0,l=s.length;a<l;++a)t.union(pW(s[a],i,n));return e.bounds=t}const E8t=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function S4e(e,t){return JSON.stringify(e,E8t,t)}function T4e(e){const t=typeof e=="string"?JSON.parse(e):e;return k4e(t)}function k4e(e){var t=e.marktype,n=e.items,r,i,s;if(n)for(i=0,s=n.length;i<s;++i)r=t?"mark":"group",n[i][r]=e,n[i].zindex&&(n[i][r].zdirty=!0),(t||r)==="group"&&k4e(n[i]);return t&&E4e(e),e}class A4e{constructor(t){arguments.length?this.root=T4e(t):(this.root=h0e({marktype:"group",name:"root",role:"frame"}),this.root.items=[new rF(this.root)])}toJSON(t){return S4e(this.root,t||0)}mark(t,n,r){n=n||this.root.items[0];const i=h0e(t,n);return n.items[r]=i,i.zindex&&(i.group.zdirty=!0),i}}function h0e(e,t){const n={bounds:new io,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function Bg(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function fte(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function xo(e,t,n,r){var i=e.childNodes[t],s;return(!i||i.tagName.toLowerCase()!==n.toLowerCase())&&(s=i||null,i=Bg(e.ownerDocument,n,r),e.insertBefore(i,s)),i}function zc(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function R4e(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function cF(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function S8t(e,t,n,r){var i=e&&e.mark,s,o;if(i&&(s=dc[i.marktype]).tip){for(o=cF(t,n),o[0]-=r[0],o[1]-=r[1];e=e.mark.group;)o[0]-=e.x||0,o[1]-=e.y||0;e=s.tip(i.items,o)}return e}let hte=class{constructor(t,n){this._active=null,this._handlers={},this._loader=t||jM(),this._tooltip=n||T8t}initialize(t,n,r){return this._el=t,this._obj=r||null,this.origin(n)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()}scene(t){return arguments.length?(this._scene=t,this):this._scene}on(){}off(){}_handlerIndex(t,n,r){for(let i=t?t.length:0;--i>=0;)if(t[i].type===n&&(!r||t[i].handler===r))return i;return-1}handlers(t){const n=this._handlers,r=[];if(t)r.push(...n[this.eventName(t)]);else for(const i in n)r.push(...n[i]);return r}eventName(t){const n=t.indexOf(".");return n<0?t:t.slice(0,n)}handleHref(t,n,r){this._loader.sanitize(r,{context:"href"}).then(i=>{const s=new MouseEvent(t.type,t),o=Bg(null,"a");for(const a in i)o.setAttribute(a,i[a]);o.dispatchEvent(s)}).catch(()=>{})}handleTooltip(t,n,r){if(n&&n.tooltip!=null){n=S8t(n,t,this.canvas(),this._origin);const i=r&&n&&n.tooltip||null;this._tooltip.call(this._obj,this,t,n,i)}}getItemBoundingClientRect(t){const n=this.canvas();if(!n)return;const r=n.getBoundingClientRect(),i=this._origin,s=t.bounds,o=s.width(),a=s.height();let l=s.x1+i[0]+r.left,u=s.y1+i[1]+r.top;for(;t.mark&&(t=t.mark.group);)l+=t.x||0,u+=t.y||0;return{x:l,y:u,width:o,height:a,left:l,top:u,right:l+o,bottom:u+a}}};function T8t(e,t,n,r){e.element().setAttribute("title",r||"")}class yR{constructor(t){this._el=null,this._bgcolor=null,this._loader=new d4e(t)}initialize(t,n,r,i,s){return this._el=t,this.resize(n,r,i,s)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(t){return arguments.length===0?this._bgcolor:(this._bgcolor=t,this)}resize(t,n,r,i){return this._width=t,this._height=n,this._origin=r||[0,0],this._scale=i||1,this}dirty(){}render(t,n){const r=this;return r._call=function(){r._render(t,n)},r._call(),r._call=null,r}_render(){}renderAsync(t,n){const r=this.render(t,n);return this._ready?this._ready.then(()=>r):Promise.resolve(r)}_load(t,n){var r=this,i=r._loader[t](n);if(!r._ready){const s=r._call;r._ready=r._loader.ready().then(o=>{o&&s(),r._ready=null})}return i}sanitizeURL(t){return this._load("sanitizeURL",t)}loadImage(t){return this._load("loadImage",t)}}const k8t="keydown",A8t="keypress",R8t="keyup",I4e="dragenter",BO="dragleave",D4e="dragover",mW="pointerdown",I8t="pointerup",b6="pointermove",zO="pointerout",P4e="pointerover",gW="mousedown",D8t="mouseup",O4e="mousemove",w6="mouseout",N4e="mouseover",x6="click",P8t="dblclick",O8t="wheel",$4e="mousewheel",_6="touchstart",C6="touchmove",E6="touchend",N8t=[k8t,A8t,R8t,I4e,BO,D4e,mW,I8t,b6,zO,P4e,gW,D8t,O4e,w6,N4e,x6,P8t,O8t,$4e,_6,C6,E6],yW=b6,hT=w6,vW=x6;class vR extends hte{constructor(t,n){super(t,n),this._down=null,this._touch=null,this._first=!0,this._events={},this.events=N8t,this.pointermove=m0e([b6,O4e],[P4e,N4e],[zO,w6]),this.dragover=m0e([D4e],[I4e],[BO]),this.pointerout=g0e([zO,w6]),this.dragleave=g0e([BO])}initialize(t,n,r){return this._canvas=t&&fte(t,"canvas"),[x6,gW,mW,b6,zO,BO].forEach(i=>p0e(this,i)),super.initialize(t,n,r)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(t){this.fire($4e,t)}pointerdown(t){this._down=this._active,this.fire(mW,t)}mousedown(t){this._down=this._active,this.fire(gW,t)}click(t){this._down===this._active&&(this.fire(x6,t),this._down=null)}touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(_6,t,!0)}touchmove(t){this.fire(C6,t,!0)}touchend(t){this.fire(E6,t,!0),this._touch=null}fire(t,n,r){const i=r?this._touch:this._active,s=this._handlers[t];if(n.vegaType=t,t===vW&&i&&i.href?this.handleHref(n,i,i.href):(t===yW||t===hT)&&this.handleTooltip(n,i,t!==hT),s)for(let o=0,a=s.length;o<a;++o)s[o].handler.call(this._obj,n,i)}on(t,n){const r=this.eventName(t),i=this._handlers;return this._handlerIndex(i[r],t,n)<0&&(p0e(this,t),(i[r]||(i[r]=[])).push({type:t,handler:n})),this}off(t,n){const r=this.eventName(t),i=this._handlers[r],s=this._handlerIndex(i,t,n);return s>=0&&i.splice(s,1),this}pickEvent(t){const n=cF(t,this._canvas),r=this._origin;return this.pick(this._scene,n[0],n[1],n[0]-r[0],n[1]-r[1])}pick(t,n,r,i,s){const o=this.context();return dc[t.marktype].pick.call(this,o,t,n,r,i,s)}}const $8t=e=>e===_6||e===C6||e===E6?[_6,C6,E6]:[e];function p0e(e,t){$8t(t).forEach(n=>M8t(e,n))}function M8t(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function DS(e,t,n){t.forEach(r=>e.fire(r,n))}function m0e(e,t,n){return function(r){const i=this._active,s=this.pickEvent(r);s===i?DS(this,e,r):((!i||!i.exit)&&DS(this,n,r),this._active=s,DS(this,t,r),DS(this,e,r))}}function g0e(e){return function(t){DS(this,e,t),this._active=null}}function F8t(){return typeof window<"u"&&window.devicePixelRatio||1}function L8t(e,t,n,r,i,s){const o=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,a=e.getContext("2d"),l=o?F8t():i;e.width=t*l,e.height=n*l;for(const u in s)a[u]=s[u];return o&&l!==1&&(e.style.width=t+"px",e.style.height=n+"px"),a.pixelRatio=l,a.setTransform(l,0,0,l,l*r[0],l*r[1]),e}class S6 extends yR{constructor(t){super(t),this._options={},this._redraw=!1,this._dirty=new io,this._tempb=new io}initialize(t,n,r,i,s,o){return this._options=o||{},this._canvas=this._options.externalContext?null:sy(1,1,this._options.type),t&&this._canvas&&(zc(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),super.initialize(t,n,r,i,s)}resize(t,n,r,i){if(super.resize(t,n,r,i),this._canvas)L8t(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const s=this._options.externalContext;s||at("CanvasRenderer is missing a valid canvas or context"),s.scale(this._scale,this._scale),s.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(t){const n=this._tempb.clear().union(t.bounds);let r=t.mark.group;for(;r;)n.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(n)}_render(t,n){const r=this.context(),i=this._origin,s=this._width,o=this._height,a=this._dirty,l=j8t(i,s,o);r.save();const u=this._redraw||a.empty()?(this._redraw=!1,l.expand(1)):B8t(r,l.intersect(a),i);return this.clear(-i[0],-i[1],s,o),this.draw(r,t,u,n),r.restore(),a.clear(),this}draw(t,n,r,i){if(n.marktype!=="group"&&i!=null&&!i.includes(n.marktype))return;const s=dc[n.marktype];n.clip&&FFt(t,n),s.draw.call(this,t,n,r,i),n.clip&&t.restore()}clear(t,n,r,i){const s=this._options,o=this.context();s.type!=="pdf"&&!s.externalContext&&o.clearRect(t,n,r,i),this._bgcolor!=null&&(o.fillStyle=this._bgcolor,o.fillRect(t,n,r,i))}}const j8t=(e,t,n)=>new io().set(0,0,t,n).translate(-e[0],-e[1]);function B8t(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}class M4e extends hte{constructor(t,n){super(t,n);const r=this;r._hrefHandler=Q7(r,(i,s)=>{s&&s.href&&r.handleHref(i,s,s.href)}),r._tooltipHandler=Q7(r,(i,s)=>{r.handleTooltip(i,s,i.type!==hT)})}initialize(t,n,r){let i=this._svg;return i&&(i.removeEventListener(vW,this._hrefHandler),i.removeEventListener(yW,this._tooltipHandler),i.removeEventListener(hT,this._tooltipHandler)),this._svg=i=t&&fte(t,"svg"),i&&(i.addEventListener(vW,this._hrefHandler),i.addEventListener(yW,this._tooltipHandler),i.addEventListener(hT,this._tooltipHandler)),super.initialize(t,n,r)}canvas(){return this._svg}on(t,n){const r=this.eventName(t),i=this._handlers;if(this._handlerIndex(i[r],t,n)<0){const o={type:t,handler:n,listener:Q7(this,n)};(i[r]||(i[r]=[])).push(o),this._svg&&this._svg.addEventListener(r,o.listener)}return this}off(t,n){const r=this.eventName(t),i=this._handlers[r],s=this._handlerIndex(i,t,n);return s>=0&&(this._svg&&this._svg.removeEventListener(r,i[s].listener),i.splice(s,1)),this}}const Q7=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)},F4e="aria-hidden",pte="aria-label",mte="role",gte="aria-roledescription",L4e="graphics-object",yte="graphics-symbol",j4e=(e,t,n)=>({[mte]:e,[gte]:t,[pte]:n||void 0}),z8t=Df(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),y0e={axis:{desc:"axis",caption:H8t},legend:{desc:"legend",caption:q8t},"title-text":{desc:"title",caption:e=>`Title text '${b0e(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${b0e(e)}'`}},v0e={ariaRole:mte,ariaRoleDescription:gte,description:pte};function B4e(e,t){const n=t.aria===!1;if(e(F4e,n||void 0),n||t.description==null)for(const r in v0e)e(v0e[r],void 0);else{const r=t.mark.marktype;e(pte,t.description),e(mte,t.ariaRole||(r==="group"?L4e:yte)),e(gte,t.ariaRoleDescription||`${r} mark`)}}function z4e(e){return e.aria===!1?{[F4e]:!0}:z8t[e.role]?null:y0e[e.role]?V8t(e,y0e[e.role]):U8t(e)}function U8t(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return j4e(n?L4e:yte,`${t} mark container`,e.description)}function V8t(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return j4e(t.role||yte,t.desc,n.description||r(n))}catch{return null}}function b0e(e){return Ut(e.text).join(" ")}function H8t(e){const t=e.datum,n=e.orient,r=t.title?U4e(e):null,i=e.context,s=i.scales[t.scale].value,o=i.dataflow.locale(),a=s.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(r?` titled '${r}'`:"")+` for a ${U_(a)?"discrete":a} scale with ${t4e(o,s,e)}`}function q8t(e){const t=e.datum,n=t.title?U4e(e):null,r=`${t.type||""} legend`.trim(),i=t.scales,s=Object.keys(i),o=e.context,a=o.scales[i[s[0]]].value,l=o.dataflow.locale();return G8t(r)+(n?` titled '${n}'`:"")+` for ${W8t(s)} with ${t4e(l,a,e)}`}function U4e(e){try{return Ut(Rr(e.items).items[0].text).join(" ")}catch{return null}}function W8t(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+Rr(e)}function G8t(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const V4e=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Y8t=e=>V4e(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function vte(){let e="",t="",n="";const r=[],i=()=>t=n="",s=l=>{t&&(e+=`${t}>${n}`,i()),r.push(l)},o=(l,u)=>(u!=null&&(t+=` ${l}="${Y8t(u)}"`),a),a={open(l){s(l),t="<"+l;for(var u=arguments.length,c=new Array(u>1?u-1:0),d=1;d<u;d++)c[d-1]=arguments[d];for(const f of c)for(const h in f)o(h,f[h]);return a},close(){const l=r.pop();return t?e+=t+(n?`>${n}</${l}>`:"/>"):e+=`</${l}>`,i(),a},attr:o,text:l=>(n+=V4e(l),a),toString:()=>e};return a}const H4e=e=>q4e(vte(),e)+"";function q4e(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let i=0;i<r;++i)e.attr(n[i].name,n[i].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const r of n)r.nodeType===3?e.text(r.nodeValue):q4e(e,r)}return e.close()}const T6={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},k6={blend:"mix-blend-mode"},W4e={fill:"none","stroke-miterlimit":10},R2=0,w0e="http://www.w3.org/2000/xmlns/",bo=Dk.xmlns;class bte extends yR{constructor(t){super(t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}initialize(t,n,r,i,s){return this._defs={},this._clearDefs(),t&&(this._svg=xo(t,0,"svg",bo),this._svg.setAttributeNS(w0e,"xmlns",bo),this._svg.setAttributeNS(w0e,"xmlns:xlink",Dk["xmlns:xlink"]),this._svg.setAttribute("version",Dk.version),this._svg.setAttribute("class","marks"),zc(t,1),this._root=xo(this._svg,R2,"g",bo),zg(this._root,W4e),zc(this._svg,R2+1)),this.background(this._bgcolor),super.initialize(t,n,r,i,s)}background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),super.background(...arguments)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svg&&(zg(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this}canvas(){return this._svg}svg(){const t=this._svg,n=this._bgcolor;if(!t)return null;let r;n&&(t.removeAttribute("style"),r=xo(t,R2,"rect",bo),zg(r,{width:this._width,height:this._height,fill:n}));const i=H4e(t);return n&&(t.removeChild(r),this._svg.style.setProperty("background-color",n)),i}_render(t,n){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t,void 0,n),zc(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this}dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))}isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const n=++this._dirtyID;let r,i,s,o,a,l,u;for(a=0,l=t.length;a<l;++a)if(r=t[a],i=r.mark,i.marktype!==s&&(s=i.marktype,o=dc[s]),i.zdirty&&i.dirty!==n&&(this._dirtyAll=!1,x0e(r,n),i.items.forEach(c=>{c.dirty=n})),!i.zdirty){if(r.exit){o.nested&&i.items.length?(u=i.items[0],u._svg&&this._update(o,u._svg,u)):r._svg&&(u=r._svg.parentNode,u&&u.removeChild(r._svg)),r._svg=null;continue}r=o.nested?i.items[0]:r,r._update!==n&&(!r._svg||!r._svg.ownerSVGElement?(this._dirtyAll=!1,x0e(r,n)):this._update(o,r._svg,r),r._update=n)}return!this._dirtyAll}mark(t,n,r,i){if(!this.isDirty(n))return n._svg;const s=this._svg,o=n.marktype,a=dc[o],l=n.interactive===!1?"none":null,u=a.tag==="g",c=_0e(n,t,r,"g",s);if(o!=="group"&&i!=null&&!i.includes(o))return zc(c,0),n._svg;c.setAttribute("class",R4e(n));const d=z4e(n);for(const m in d)vl(c,m,d[m]);u||vl(c,"pointer-events",l),vl(c,"clip-path",n.clip?Xee(this,n,n.group):null);let f=null,h=0;const p=m=>{const g=this.isDirty(m),y=_0e(m,c,f,a.tag,s);g&&(this._update(a,y,m),u&&Q8t(this,y,m,i)),f=y,++h};return a.nested?n.items.length&&p(n.items[0]):Of(n,p),zc(c,h),c}_update(t,n,r){Rm=n,Ha=n.__values__,B4e(pT,r),t.attr(pT,r,this);const i=Z8t[t.type];i&&i.call(this,t,n,r),Rm&&this.style(Rm,r)}style(t,n){if(n!=null){for(const r in T6){let i=r==="font"?gR(n):n[r];if(i===Ha[r])continue;const s=T6[r];i==null?t.removeAttribute(s):(Gee(i)&&(i=r4e(i,this._defs.gradient,G4e())),t.setAttribute(s,i+"")),Ha[r]=i}for(const r in k6)UO(t,k6[r],n[r])}}defs(){const t=this._svg,n=this._defs;let r=n.el,i=0;for(const s in n.gradient)r||(n.el=r=xo(t,R2+1,"defs",bo)),i=K8t(r,n.gradient[s],i);for(const s in n.clipping)r||(n.el=r=xo(t,R2+1,"defs",bo)),i=X8t(r,n.clipping[s],i);r&&(i===0?(t.removeChild(r),n.el=null):zc(r,i))}_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}}function x0e(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function K8t(e,t,n){let r,i,s;if(t.gradient==="radial"){let o=xo(e,n++,"pattern",bo);zg(o,{id:m6+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),o=xo(o,0,"rect",bo),zg(o,{width:1,height:1,fill:`url(${G4e()}#${t.id})`}),e=xo(e,n++,"radialGradient",bo),zg(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=xo(e,n++,"linearGradient",bo),zg(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)s=xo(e,r,"stop",bo),s.setAttribute("offset",t.stops[r].offset),s.setAttribute("stop-color",t.stops[r].color);return zc(e,r),n}function X8t(e,t,n){let r;return e=xo(e,n,"clipPath",bo),e.setAttribute("id",t.id),t.path?(r=xo(e,0,"path",bo),r.setAttribute("d",t.path)):(r=xo(e,0,"rect",bo),zg(r,{x:0,y:0,width:t.width,height:t.height})),zc(e,1),n+1}function Q8t(e,t,n,r){t=t.lastChild.previousSibling;let i,s=0;Of(n,o=>{i=e.mark(t,o,i,r),++s}),zc(t,1+s)}function _0e(e,t,n,r,i){let s=e._svg,o;if(!s&&(o=t.ownerDocument,s=Bg(o,r,bo),e._svg=s,e.mark&&(s.__data__=e,s.__values__={fill:"default"},r==="g"))){const a=Bg(o,"path",bo);s.appendChild(a),a.__data__=e;const l=Bg(o,"g",bo);s.appendChild(l),l.__data__=e;const u=Bg(o,"path",bo);s.appendChild(u),u.__data__=e,u.__values__={fill:"default"}}return(s.ownerSVGElement!==i||J8t(s,n))&&t.insertBefore(s,n?n.nextSibling:t.firstChild),s}function J8t(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let Rm=null,Ha=null;const Z8t={group(e,t,n){const r=Rm=t.childNodes[2];Ha=r.__values__,e.foreground(pT,n,this),Ha=t.__values__,Rm=t.childNodes[1],e.content(pT,n,this);const i=Rm=t.childNodes[0];e.background(pT,n,this);const s=n.mark.interactive===!1?"none":null;if(s!==Ha.events&&(vl(r,"pointer-events",s),vl(i,"pointer-events",s),Ha.events=s),n.strokeForeground&&n.stroke){const o=n.fill;vl(r,"display",null),this.style(i,n),vl(i,"stroke",null),o&&(n.fill=null),Ha=r.__values__,this.style(r,n),o&&(n.fill=o),Rm=null}else vl(r,"display","none")},image(e,t,n){n.smooth===!1?(UO(t,"image-rendering","optimizeSpeed"),UO(t,"image-rendering","pixelated")):UO(t,"image-rendering",null)},text(e,t,n){const r=mR(n);let i,s,o,a;ut(r)?(s=r.map(l=>Ay(n,l)),i=s.join(`
`),i!==Ha.text&&(zc(t,0),o=t.ownerDocument,a=ky(n),s.forEach((l,u)=>{const c=Bg(o,"tspan",bo);c.__data__=n,c.textContent=l,u&&(c.setAttribute("x",0),c.setAttribute("dy",a)),t.appendChild(c)}),Ha.text=i)):(s=Ay(n,r),s!==Ha.text&&(t.textContent=s,Ha.text=s)),vl(t,"font-family",gR(n)),vl(t,"font-size",Mp(n)+"px"),vl(t,"font-style",n.fontStyle),vl(t,"font-variant",n.fontVariant),vl(t,"font-weight",n.fontWeight)}};function pT(e,t,n){t!==Ha[e]&&(n?eLt(Rm,e,t,n):vl(Rm,e,t),Ha[e]=t)}function UO(e,t,n){n!==Ha[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),Ha[t]=n)}function zg(e,t){for(const n in t)vl(e,n,t[n])}function vl(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function eLt(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function G4e(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}class Y4e extends yR{constructor(t){super(t),this._text=null,this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(t){const n=vte();n.open("svg",rr({},Dk,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const r=this._bgcolor;return r&&r!=="transparent"&&r!=="none"&&n.open("rect",{width:this._width,height:this._height,fill:r}).close(),n.open("g",W4e,{transform:"translate("+this._origin+")"}),this.mark(n,t),n.close(),this.defs(n),this._text=n.close()+"",this}mark(t,n){const r=dc[n.marktype],i=r.tag,s=[B4e,r.attr];t.open("g",{class:R4e(n),"clip-path":n.clip?Xee(this,n,n.group):null},z4e(n),{"pointer-events":i!=="g"&&n.interactive===!1?"none":null});const o=a=>{const l=this.href(a);if(l&&t.open("a",l),t.open(i,this.attr(n,a,s,i!=="g"?i:null)),i==="text"){const u=mR(a);if(ut(u)){const c={x:0,dy:ky(a)};for(let d=0;d<u.length;++d)t.open("tspan",d?c:null).text(Ay(a,u[d])).close()}else t.text(Ay(a,u))}else if(i==="g"){const u=a.strokeForeground,c=a.fill,d=a.stroke;u&&d&&(a.stroke=null),t.open("path",this.attr(n,a,r.background,"bgrect")).close(),t.open("g",this.attr(n,a,r.content)),Of(a,f=>this.mark(t,f)),t.close(),u&&d?(c&&(a.fill=null),a.stroke=d,t.open("path",this.attr(n,a,r.foreground,"bgrect")).close(),c&&(a.fill=c)):t.open("path",this.attr(n,a,r.foreground,"bgfore")).close()}t.close(),l&&t.close()};return r.nested?n.items&&n.items.length&&o(n.items[0]):Of(n,o),t.close()}href(t){const n=t.href;let r;if(n){if(r=this._hrefs&&this._hrefs[n])return r;this.sanitizeURL(n).then(i=>{i["xlink:href"]=i.href,i.href=null,(this._hrefs||(this._hrefs={}))[n]=i})}return null}attr(t,n,r,i){const s={},o=(a,l,u,c)=>{s[c||a]=l};return Array.isArray(r)?r.forEach(a=>a(o,n,this)):r(o,n,this),i&&tLt(s,n,t,i,this._defs),s}defs(t){const n=this._defs.gradient,r=this._defs.clipping;if(Object.keys(n).length+Object.keys(r).length!==0){t.open("defs");for(const s in n){const o=n[s],a=o.stops;o.gradient==="radial"?(t.open("pattern",{id:m6+s,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+s+")"}).close(),t.close(),t.open("radialGradient",{id:s,fx:o.x1,fy:o.y1,fr:o.r1,cx:o.x2,cy:o.y2,r:o.r2})):t.open("linearGradient",{id:s,x1:o.x1,x2:o.x2,y1:o.y1,y2:o.y2});for(let l=0;l<a.length;++l)t.open("stop",{offset:a[l].offset,"stop-color":a[l].color}).close();t.close()}for(const s in r){const o=r[s];t.open("clipPath",{id:s}),o.path?t.open("path",{d:o.path}).close():t.open("rect",{x:0,y:0,width:o.width,height:o.height}).close(),t.close()}t.close()}}}function tLt(e,t,n,r,i){let s;if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(s=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),r==="text"&&(e["font-family"]=gR(t),e["font-size"]=Mp(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const o in T6){let a=t[o];const l=T6[o];a==="transparent"&&(l==="fill"||l==="stroke")||a!=null&&(Gee(a)&&(a=r4e(a,i.gradient,"")),e[l]=a)}for(const o in k6){const a=t[o];a!=null&&(s=s||[],s.push(`${k6[o]}: ${a};`))}return s&&(e.style=s.join(" ")),e}const Gd={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};function nLt(e){Gd.svgMarkTypes=e.svgMarkTypes??["text"],Gd.svgOnTop=e.svgOnTop??!0,Gd.debug=e.debug??!1}class bW extends yR{constructor(t){super(t),this._svgRenderer=new bte(t),this._canvasRenderer=new S6(t)}initialize(t,n,r,i,s){this._root_el=xo(t,0,"div");const o=xo(this._root_el,0,"div"),a=xo(this._root_el,1,"div");return this._root_el.style.position="relative",Gd.debug||(o.style.height="100%",a.style.position="absolute",a.style.top="0",a.style.left="0",a.style.height="100%",a.style.width="100%"),this._svgEl=Gd.svgOnTop?a:o,this._canvasEl=Gd.svgOnTop?o:a,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,n,r,i,s),this._svgRenderer.initialize(this._svgEl,n,r,i,s),super.initialize(t,n,r,i,s)}dirty(t){return Gd.svgMarkTypes.includes(t.mark.marktype)?this._svgRenderer.dirty(t):this._canvasRenderer.dirty(t),this}_render(t,n){const i=(n??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter(s=>!Gd.svgMarkTypes.includes(s));this._svgRenderer.render(t,Gd.svgMarkTypes),this._canvasRenderer.render(t,i)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svgRenderer.resize(t,n,r,i),this._canvasRenderer.resize(t,n,r,i),this}background(t){return Gd.svgOnTop?this._canvasRenderer.background(t):this._svgRenderer.background(t),this}}class K4e extends vR{constructor(t,n){super(t,n)}initialize(t,n,r){const i=xo(xo(t,0,"div"),Gd.svgOnTop?0:1,"div");return super.initialize(i,n,r)}}const X4e="canvas",Q4e="hybrid",J4e="png",Z4e="svg",e6e="none",Ug={Canvas:X4e,PNG:J4e,SVG:Z4e,Hybrid:Q4e,None:e6e},ib={};ib[X4e]=ib[J4e]={renderer:S6,headless:S6,handler:vR};ib[Z4e]={renderer:bte,headless:Y4e,handler:M4e};ib[Q4e]={renderer:bW,headless:bW,handler:K4e};ib[e6e]={};function dF(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(ib[e]=t,this):ib[e]}function t6e(e,t,n){const r=[],i=new io().union(t),s=e.marktype;return s?n6e(e,i,n,r):s==="group"?r6e(e,i,n,r):at("Intersect scene must be mark node or group item.")}function n6e(e,t,n,r){if(rLt(e,t,n)){const i=e.items,s=e.marktype,o=i.length;let a=0;if(s==="group")for(;a<o;++a)r6e(i[a],t,n,r);else for(const l=dc[s].isect;a<o;++a){const u=i[a];i6e(u,t,l)&&r.push(u)}}return r}function rLt(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function r6e(e,t,n,r){n&&n(e.mark)&&i6e(e,t,dc.group.isect)&&r.push(e);const i=e.items,s=i&&i.length;if(s){const o=e.x||0,a=e.y||0;t.translate(-o,-a);for(let l=0;l<s;++l)n6e(i[l],t,n,r);t.translate(o,a)}return r}function i6e(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const J7=new io;function s6e(e){const t=e.clip;if(ir(t))t(hR(J7.clear()));else if(t)J7.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(J7)}const iLt=1e-9;function wte(e,t,n){return e===t?!0:n==="path"?o6e(e,t):e instanceof Date&&t instanceof Date?+e==+t:Jr(e)&&Jr(t)?Math.abs(e-t)<=iLt:!e||!t||!Vt(e)&&!Vt(t)?e==t:sLt(e,t)}function o6e(e,t){return wte(V_(e),V_(t))}function sLt(e,t){var n=Object.keys(e),r=Object.keys(t),i,s;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),s=n.length-1;s>=0;s--)if(n[s]!=r[s])return!1;for(s=n.length-1;s>=0;s--)if(i=n[s],!wte(e[i],t[i],i))return!1;return typeof e==typeof t}function oLt(){c4e(),IMt()}const W_="top",nf="left",cf="right",Ry="bottom",aLt="top-left",lLt="top-right",uLt="bottom-left",cLt="bottom-right",xte="start",wW="middle",xl="end",dLt="x",fLt="y",fF="group",_te="axis",Cte="title",hLt="frame",pLt="scope",Ete="legend",a6e="row-header",l6e="row-footer",u6e="row-title",c6e="column-header",d6e="column-footer",f6e="column-title",mLt="padding",gLt="symbol",h6e="fit",p6e="fit-x",m6e="fit-y",yLt="pad",Ste="none",XD="all",xW="each",Tte="flush",Vg="column",Hg="row";function g6e(e){et.call(this,null,e)}Nt(g6e,et,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,s=dc[i],o=s.bound;let a=r.bounds,l;if(s.nested)r.items.length&&n.dirty(r.items[0]),a=QD(r,o),r.items.forEach(u=>{u.bounds.clear().union(a)});else if(i===fF||e.modified())switch(t.visit(t.MOD,u=>n.dirty(u)),a.clear(),r.items.forEach(u=>a.union(QD(u,o))),r.role){case _te:case Ete:case Cte:t.reflow()}else l=t.changed(t.REM),t.visit(t.ADD,u=>{a.union(QD(u,o))}),t.visit(t.MOD,u=>{l=l||a.alignsWith(u.bounds),n.dirty(u),a.union(QD(u,o))}),l&&(a.clear(),r.items.forEach(u=>a.union(u.bounds)));return s6e(r),t.modifies("bounds")}});function QD(e,t,n){return t(e.bounds.clear(),e,n)}const C0e=":vega_identifier:";function kte(e){et.call(this,0,e)}kte.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};Nt(kte,et,{transform(e,t){const n=vLt(t.dataflow),r=e.as;let i=n.value;return t.visit(t.ADD,s=>s[r]=s[r]||++i),n.set(this.value=i),t}});function vLt(e){return e._signals[C0e]||(e._signals[C0e]=e.add(0))}function y6e(e){et.call(this,null,e)}Nt(y6e,et,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,bLt(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===fF?rF:nF;return t.visit(t.ADD,i=>r.call(i,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function bLt(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function v6e(e){et.call(this,null,e)}const E0e={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,i)=>!i||!b6e(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},b6e=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),S0e=(e,t)=>{for(var n=1,r=e.length,i=e[0].bounds,s;n<r;i=s,++n)if(b6e(i,s=e[n].bounds,t))return!0},wLt=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},xLt=(e,t,n)=>{var r=e.range(),i=new io;return t===W_||t===Ry?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),s=>i.encloses(s.bounds)},T0e=e=>(e.forEach(t=>t.opacity=1),e),k0e=(e,t)=>e.reflow(t.modified()).modifies("opacity");Nt(v6e,et,{transform(e,t){const n=E0e[e.method]||E0e.parity,r=e.separation||0;let i=t.materialize(t.SOURCE).source,s,o;if(!i||!i.length)return;if(!e.method)return e.modified("method")&&(T0e(i),t=k0e(t,e)),t;if(i=i.filter(wLt),!i.length)return;if(e.sort&&(i=i.slice().sort(e.sort)),s=T0e(i),t=k0e(t,e),s.length>=3&&S0e(s,r)){do s=n(s,r);while(s.length>=3&&S0e(s,r));s.length<3&&!Rr(i).opacity&&(s.length>1&&(Rr(s).opacity=0),Rr(i).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(o=xLt(e.boundScale,e.boundOrient,+e.boundTolerance),i.forEach(l=>{o(l)||(l.opacity=0)}));const a=s[0].mark.bounds.clear();return i.forEach(l=>{l.opacity&&a.union(l.bounds)}),t}});function w6e(e){et.call(this,null,e)}Nt(w6e,et,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const Ua=new io;function Px(e,t,n){return e[t]===n?0:(e[t]=n,1)}function _Lt(e){var t=e.items[0].orient;return t===nf||t===cf}function CLt(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function ELt(e,t,n,r){var i=t.items[0],s=i.datum,o=i.translate!=null?i.translate:.5,a=i.orient,l=CLt(s),u=i.range,c=i.offset,d=i.position,f=i.minExtent,h=i.maxExtent,p=s.title&&i.items[l[2]].items[0],m=i.titlePadding,g=i.bounds,y=p&&ute(p),v=0,w=0,_,C;switch(Ua.clear().union(g),g.clear(),(_=l[0])>-1&&g.union(i.items[_].bounds),(_=l[1])>-1&&g.union(i.items[_].bounds),a){case W_:v=d||0,w=-c,C=Math.max(f,Math.min(h,-g.y1)),g.add(0,-C).add(u,0),p&&JD(e,p,C,m,y,0,-1,g);break;case nf:v=-c,w=d||0,C=Math.max(f,Math.min(h,-g.x1)),g.add(-C,0).add(0,u),p&&JD(e,p,C,m,y,1,-1,g);break;case cf:v=n+c,w=d||0,C=Math.max(f,Math.min(h,g.x2)),g.add(0,0).add(C,u),p&&JD(e,p,C,m,y,1,1,g);break;case Ry:v=d||0,w=r+c,C=Math.max(f,Math.min(h,g.y2)),g.add(0,0).add(u,C),p&&JD(e,p,C,m,0,0,1,g);break;default:v=i.x,w=i.y}return P0(g.translate(v,w),i),Px(i,"x",v+o)|Px(i,"y",w+o)&&(i.bounds=Ua,e.dirty(i),i.bounds=g,e.dirty(i)),i.mark.bounds.clear().union(g)}function JD(e,t,n,r,i,s,o,a){const l=t.bounds;if(t.auto){const u=o*(n+i+r);let c=0,d=0;e.dirty(t),s?c=(t.x||0)-(t.x=u):d=(t.y||0)-(t.y=u),t.mark.bounds.clear().union(l.translate(-c,-d)),e.dirty(t)}a.union(l)}const A0e=(e,t)=>Math.floor(Math.min(e,t)),R0e=(e,t)=>Math.ceil(Math.max(e,t));function SLt(e){var t=e.items,n=t.length,r=0,i,s;const o={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(i=t[r],s=i.items,i.marktype===fF)switch(i.role){case _te:case Ete:case Cte:break;case a6e:o.rowheaders.push(...s);break;case l6e:o.rowfooters.push(...s);break;case c6e:o.colheaders.push(...s);break;case d6e:o.colfooters.push(...s);break;case u6e:o.rowtitle=s[0];break;case f6e:o.coltitle=s[0];break;default:o.marks.push(...s)}return o}function TLt(e){return new io().set(0,0,e.width||0,e.height||0)}function kLt(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function Ji(e,t,n){const r=Vt(e)?e[t]:e;return r??(n!==void 0?n:0)}function I0e(e){return e<0?Math.ceil(-e):0}function x6e(e,t,n){var r=!n.nodirty,i=n.bounds===Tte?TLt:kLt,s=Ua.set(0,0,0,0),o=Ji(n.align,Vg),a=Ji(n.align,Hg),l=Ji(n.padding,Vg),u=Ji(n.padding,Hg),c=n.columns||t.length,d=c<=0?1:Math.ceil(t.length/c),f=t.length,h=Array(f),p=Array(c),m=0,g=Array(f),y=Array(d),v=0,w=Array(f),_=Array(f),C=Array(f),S,T,k,I,R,P,N,$,O,j,B;for(T=0;T<c;++T)p[T]=0;for(T=0;T<d;++T)y[T]=0;for(T=0;T<f;++T)P=t[T],R=C[T]=i(P),P.x=P.x||0,w[T]=0,P.y=P.y||0,_[T]=0,k=T%c,I=~~(T/c),m=Math.max(m,N=Math.ceil(R.x2)),v=Math.max(v,$=Math.ceil(R.y2)),p[k]=Math.max(p[k],N),y[I]=Math.max(y[I],$),h[T]=l+I0e(R.x1),g[T]=u+I0e(R.y1),r&&e.dirty(t[T]);for(T=0;T<f;++T)T%c===0&&(h[T]=0),T<c&&(g[T]=0);if(o===xW)for(k=1;k<c;++k){for(B=0,T=k;T<f;T+=c)B<h[T]&&(B=h[T]);for(T=k;T<f;T+=c)h[T]=B+p[k-1]}else if(o===XD){for(B=0,T=0;T<f;++T)T%c&&B<h[T]&&(B=h[T]);for(T=0;T<f;++T)T%c&&(h[T]=B+m)}else for(o=!1,k=1;k<c;++k)for(T=k;T<f;T+=c)h[T]+=p[k-1];if(a===xW)for(I=1;I<d;++I){for(B=0,T=I*c,S=T+c;T<S;++T)B<g[T]&&(B=g[T]);for(T=I*c;T<S;++T)g[T]=B+y[I-1]}else if(a===XD){for(B=0,T=c;T<f;++T)B<g[T]&&(B=g[T]);for(T=c;T<f;++T)g[T]=B+v}else for(a=!1,I=1;I<d;++I)for(T=I*c,S=T+c;T<S;++T)g[T]+=y[I-1];for(O=0,T=0;T<f;++T)O=h[T]+(T%c?O:0),w[T]+=O-t[T].x;for(k=0;k<c;++k)for(j=0,T=k;T<f;T+=c)j+=g[T],_[T]+=j-t[T].y;if(o&&Ji(n.center,Vg)&&d>1)for(T=0;T<f;++T)R=o===XD?m:p[T%c],O=R-C[T].x2-t[T].x-w[T],O>0&&(w[T]+=O/2);if(a&&Ji(n.center,Hg)&&c!==1)for(T=0;T<f;++T)R=a===XD?v:y[~~(T/c)],j=R-C[T].y2-t[T].y-_[T],j>0&&(_[T]+=j/2);for(T=0;T<f;++T)s.union(C[T].translate(w[T],_[T]));switch(O=Ji(n.anchor,dLt),j=Ji(n.anchor,fLt),Ji(n.anchor,Vg)){case xl:O-=s.width();break;case wW:O-=s.width()/2}switch(Ji(n.anchor,Hg)){case xl:j-=s.height();break;case wW:j-=s.height()/2}for(O=Math.round(O),j=Math.round(j),s.clear(),T=0;T<f;++T)t[T].mark.bounds.clear();for(T=0;T<f;++T)P=t[T],P.x+=w[T]+=O,P.y+=_[T]+=j,s.union(P.mark.bounds.union(P.bounds.translate(w[T],_[T]))),r&&e.dirty(P);return s}function ALt(e,t,n){var r=SLt(t),i=r.marks,s=n.bounds===Tte?RLt:ILt,o=n.offset,a=n.columns||i.length,l=a<=0?1:Math.ceil(i.length/a),u=l*a,c,d,f,h,p,m,g;const y=x6e(e,i,n);y.empty()&&y.set(0,0,0,0),r.rowheaders&&(m=Ji(n.headerBand,Hg,null),c=ZD(e,r.rowheaders,i,a,l,-Ji(o,"rowHeader"),A0e,0,s,"x1",0,a,1,m)),r.colheaders&&(m=Ji(n.headerBand,Vg,null),d=ZD(e,r.colheaders,i,a,a,-Ji(o,"columnHeader"),A0e,1,s,"y1",0,1,a,m)),r.rowfooters&&(m=Ji(n.footerBand,Hg,null),f=ZD(e,r.rowfooters,i,a,l,Ji(o,"rowFooter"),R0e,0,s,"x2",a-1,a,1,m)),r.colfooters&&(m=Ji(n.footerBand,Vg,null),h=ZD(e,r.colfooters,i,a,a,Ji(o,"columnFooter"),R0e,1,s,"y2",u-a,1,a,m)),r.rowtitle&&(p=Ji(n.titleAnchor,Hg),g=Ji(o,"rowTitle"),g=p===xl?f+g:c-g,m=Ji(n.titleBand,Hg,.5),D0e(e,r.rowtitle,g,0,y,m)),r.coltitle&&(p=Ji(n.titleAnchor,Vg),g=Ji(o,"columnTitle"),g=p===xl?h+g:d-g,m=Ji(n.titleBand,Vg,.5),D0e(e,r.coltitle,g,1,y,m))}function RLt(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function ILt(e,t){return e.bounds[t]}function ZD(e,t,n,r,i,s,o,a,l,u,c,d,f,h){var p=n.length,m=0,g=0,y,v,w,_,C,S,T,k,I;if(!p)return m;for(y=c;y<p;y+=d)n[y]&&(m=o(m,l(n[y],u)));if(!t.length)return m;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),m+=s,v=0,_=t.length;v<_;++v)e.dirty(t[v]),t[v].mark.bounds.clear();for(y=c,v=0,_=t.length;v<_;++v,y+=d){for(S=t[v],C=S.mark.bounds,w=y;w>=0&&(T=n[w])==null;w-=f);a?(k=h==null?T.x:Math.round(T.bounds.x1+h*T.bounds.width()),I=m):(k=m,I=h==null?T.y:Math.round(T.bounds.y1+h*T.bounds.height())),C.union(S.bounds.translate(k-(S.x||0),I-(S.y||0))),S.x=k,S.y=I,e.dirty(S),g=o(g,C[u])}return g}function D0e(e,t,n,r,i,s){if(t){e.dirty(t);var o=n,a=n;r?o=Math.round(i.x1+s*i.width()):a=Math.round(i.y1+s*i.height()),t.bounds.translate(o-(t.x||0),a-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=o,t.y=a,e.dirty(t)}}function DLt(e,t){const n=e[t]||{};return(r,i)=>n[r]!=null?n[r]:e[r]!=null?e[r]:i}function PLt(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function OLt(e,t,n,r,i,s,o){const a=DLt(n,t),l=PLt(e,a("offset",0)),u=a("anchor",xte),c=u===xl?1:u===wW?.5:0,d={align:xW,bounds:a("bounds",Tte),columns:a("direction")==="vertical"?1:e.length,padding:a("margin",8),center:a("center"),nodirty:!0};switch(t){case nf:d.anchor={x:Math.floor(r.x1)-l,column:xl,y:c*(o||r.height()+2*r.y1),row:u};break;case cf:d.anchor={x:Math.ceil(r.x2)+l,y:c*(o||r.height()+2*r.y1),row:u};break;case W_:d.anchor={y:Math.floor(i.y1)-l,row:xl,x:c*(s||i.width()+2*i.x1),column:u};break;case Ry:d.anchor={y:Math.ceil(i.y2)+l,x:c*(s||i.width()+2*i.x1),column:u};break;case aLt:d.anchor={x:l,y:l};break;case lLt:d.anchor={x:s-l,y:l,column:xl};break;case uLt:d.anchor={x:l,y:o-l,row:xl};break;case cLt:d.anchor={x:s-l,y:o-l,column:xl,row:xl};break}return d}function NLt(e,t){var n=t.items[0],r=n.datum,i=n.orient,s=n.bounds,o=n.x,a=n.y,l,u;return n._bounds?n._bounds.clear().union(s):n._bounds=s.clone(),s.clear(),MLt(e,n,n.items[0].items[0]),s=$Lt(n,s),l=2*n.padding,u=2*n.padding,s.empty()||(l=Math.ceil(s.width()+l),u=Math.ceil(s.height()+u)),r.type===gLt&&FLt(n.items[0].items[0].items[0].items),i!==Ste&&(n.x=o=0,n.y=a=0),n.width=l,n.height=u,P0(s.set(o,a,o+l,a+u),n),n.mark.bounds.clear().union(s),n}function $Lt(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function MLt(e,t,n){var r=t.padding,i=r-n.x,s=r-n.y;if(!t.datum.title)(i||s)&&I2(e,n,i,s);else{var o=t.items[1].items[0],a=o.anchor,l=t.titlePadding||0,u=r-o.x,c=r-o.y;switch(o.orient){case nf:i+=Math.ceil(o.bounds.width())+l;break;case cf:case Ry:break;default:s+=o.bounds.height()+l}switch((i||s)&&I2(e,n,i,s),o.orient){case nf:c+=Xw(t,n,o,a,1,1);break;case cf:u+=Xw(t,n,o,xl,0,0)+l,c+=Xw(t,n,o,a,1,1);break;case Ry:u+=Xw(t,n,o,a,0,0),c+=Xw(t,n,o,xl,-1,0,1)+l;break;default:u+=Xw(t,n,o,a,0,0)}(u||c)&&I2(e,o,u,c),(u=Math.round(o.bounds.x1-r))<0&&(I2(e,n,-u,0),I2(e,o,-u,0))}}function Xw(e,t,n,r,i,s,o){const a=e.datum.type!=="symbol",l=n.datum.vgrad,u=a&&(s||!l)&&!o?t.items[0]:t,c=u.bounds[i?"y2":"x2"]-e.padding,d=l&&s?c:0,f=l&&s?0:c,h=i<=0?0:ute(n);return Math.round(r===xte?d:r===xl?f-h:.5*(c-h))}function I2(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function FLt(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function LLt(e,t,n,r,i){var s=t.items[0],o=s.frame,a=s.orient,l=s.anchor,u=s.offset,c=s.padding,d=s.items[0].items[0],f=s.items[1]&&s.items[1].items[0],h=a===nf||a===cf?r:n,p=0,m=0,g=0,y=0,v=0,w;if(o!==fF?a===nf?(p=i.y2,h=i.y1):a===cf?(p=i.y1,h=i.y2):(p=i.x1,h=i.x2):a===nf&&(p=r,h=0),w=l===xte?p:l===xl?h:(p+h)/2,f&&f.text){switch(a){case W_:case Ry:v=d.bounds.height()+c;break;case nf:y=d.bounds.width()+c;break;case cf:y=-d.bounds.width()-c;break}Ua.clear().union(f.bounds),Ua.translate(y-(f.x||0),v-(f.y||0)),Px(f,"x",y)|Px(f,"y",v)&&(e.dirty(f),f.bounds.clear().union(Ua),f.mark.bounds.clear().union(Ua),e.dirty(f)),Ua.clear().union(f.bounds)}else Ua.clear();switch(Ua.union(d.bounds),a){case W_:m=w,g=i.y1-Ua.height()-u;break;case nf:m=i.x1-Ua.width()-u,g=w;break;case cf:m=i.x2+Ua.width()+u,g=w;break;case Ry:m=w,g=i.y2+u;break;default:m=s.x,g=s.y}return Px(s,"x",m)|Px(s,"y",g)&&(Ua.translate(m,g),e.dirty(s),s.bounds.clear().union(Ua),t.bounds.clear().union(Ua),e.dirty(s)),s.bounds}function _6e(e){et.call(this,null,e)}Nt(_6e,et,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&ALt(n,r,e.layout),BLt(n,r,e)}),jLt(e.mark.group)?t.reflow():t}});function jLt(e){return e&&e.mark.role!=="legend-entry"}function BLt(e,t,n){var r=t.items,i=Math.max(0,t.width||0),s=Math.max(0,t.height||0),o=new io().set(0,0,i,s),a=o.clone(),l=o.clone(),u=[],c,d,f,h,p,m;for(p=0,m=r.length;p<m;++p)switch(d=r[p],d.role){case _te:h=_Lt(d)?a:l,h.union(ELt(e,d,i,s));break;case Cte:c=d;break;case Ete:u.push(NLt(e,d));break;case hLt:case pLt:case a6e:case l6e:case u6e:case c6e:case d6e:case f6e:a.union(d.bounds),l.union(d.bounds);break;default:o.union(d.bounds)}if(u.length){const g={};u.forEach(y=>{f=y.orient||cf,f!==Ste&&(g[f]||(g[f]=[])).push(y)});for(const y in g){const v=g[y];x6e(e,v,OLt(v,y,n.legends,a,l,i,s))}u.forEach(y=>{const v=y.bounds;if(v.equals(y._bounds)||(y.bounds=y._bounds,e.dirty(y),y.bounds=v,e.dirty(y)),n.autosize&&(n.autosize.type===h6e||n.autosize.type===p6e||n.autosize.type===m6e))switch(y.orient){case nf:case cf:o.add(v.x1,0).add(v.x2,0);break;case W_:case Ry:o.add(0,v.y1).add(0,v.y2)}else o.union(v)})}o.union(a).union(l),c&&o.union(LLt(e,c,i,s,o)),t.clip&&o.set(0,0,t.width||0,t.height||0),zLt(e,t,o,n)}function zLt(e,t,n,r){const i=r.autosize||{},s=i.type;if(e._autosize<1||!s)return;let o=e._width,a=e._height,l=Math.max(0,t.width||0),u=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,t.height||0),d=Math.max(0,Math.ceil(-n.y1));const f=Math.max(0,Math.ceil(n.x2-l)),h=Math.max(0,Math.ceil(n.y2-c));if(i.contains===mLt){const p=e.padding();o-=p.left+p.right,a-=p.top+p.bottom}s===Ste?(u=0,d=0,l=o,c=a):s===h6e?(l=Math.max(0,o-u-f),c=Math.max(0,a-d-h)):s===p6e?(l=Math.max(0,o-u-f),a=c+d+h):s===m6e?(o=l+u+f,c=Math.max(0,a-d-h)):s===yLt&&(o=l+u+f,a=c+d+h),e._resizeView(o,a,l,c,[u,d],i.resize)}const ULt=Object.freeze(Object.defineProperty({__proto__:null,bound:g6e,identifier:kte,mark:y6e,overlap:v6e,render:w6e,viewlayout:_6e},Symbol.toStringTag,{value:"Module"}));function C6e(e){et.call(this,null,e)}Nt(C6e,et,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,s=e.scale,o=e.count==null?e.values?e.values.length:10:e.count,a=qee(s,o,e.minstep),l=e.format||XNe(n,s,a,e.formatSpecifier,e.formatType,!!e.values),u=e.values?KNe(s,e.values,a):Wee(s,a);return i&&(r.rem=i),i=u.map((c,d)=>oi({index:d/(u.length-1||1),value:c,label:l(c)})),e.extra&&i.length&&i.push(oi({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}});function E6e(e){et.call(this,null,e)}function VLt(){return oi({})}function HLt(e){const t=oE().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}Nt(E6e,et,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||VLt,s=e.key||wn,o=this.value;return ut(r.encode)&&(r.encode=null),o&&(e.modified("key")||t.modified(s))&&at("DataJoin does not support modified key function or fields."),o||(t=t.addAll(),this.value=o=HLt(s)),t.visit(t.ADD,a=>{const l=s(a);let u=o.get(l);u?u.exit?(o.empty--,r.add.push(u)):r.mod.push(u):(u=i(a),o.set(l,u),r.add.push(u)),u.datum=a,u.exit=!1}),t.visit(t.MOD,a=>{const l=s(a),u=o.get(l);u&&(u.datum=a,r.mod.push(u))}),t.visit(t.REM,a=>{const l=s(a),u=o.get(l);a===u.datum&&!u.exit&&(r.rem.push(u),u.exit=!0,++o.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&o.empty>n.cleanThreshold)&&n.runAfter(o.clean),r}});function S6e(e){et.call(this,null,e)}Nt(S6e,et,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,s=t.encode;if(ut(s))if(n.changed()||s.every(d=>i[d]))s=s[0],n.encode=null;else return t.StopPropagation;var o=s==="enter",a=i.update||yg,l=i.enter||yg,u=i.exit||yg,c=(s&&!o?i[s]:a)||yg;if(t.changed(t.ADD)&&(t.visit(t.ADD,d=>{l(d,e),a(d,e)}),n.modifies(l.output),n.modifies(a.output),c!==yg&&c!==a&&(t.visit(t.ADD,d=>{c(d,e)}),n.modifies(c.output))),t.changed(t.REM)&&u!==yg&&(t.visit(t.REM,d=>{u(d,e)}),n.modifies(u.output)),o||c!==yg){const d=t.MOD|(e.modified()?t.REFLOW:0);o?(t.visit(d,f=>{const h=l(f,e)||r;(c(f,e)||h)&&n.mod.push(f)}),n.mod.length&&n.modifies(l.output)):t.visit(d,f=>{(c(f,e)||r)&&n.mod.push(f)}),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation}});function T6e(e){et.call(this,[],e)}Nt(T6e,et,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,s=e.type||NO,o=e.scale,a=+e.limit,l=qee(o,e.count==null?5:e.count,e.minstep),u=!!e.values||s===NO,c=e.format||e4e(n,o,l,s,e.formatSpecifier,e.formatType,u),d=e.values||ZNe(o,l),f,h,p,m,g;return i&&(r.rem=i),s===NO?(a&&d.length>a?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),i=d.slice(0,a-1),g=!0):i=d,ir(p=e.size)?(!e.values&&o(i[0])===0&&(i=i.slice(1)),m=i.reduce((y,v)=>Math.max(y,p(v,e)),0)):p=al(m=p||8),i=i.map((y,v)=>oi({index:v,label:c(y,v,i),value:y,offset:m,size:p(y,e)})),g&&(g=d[i.length],i.push(oi({index:i.length,label:`${d.length-i.length} entries`,value:g,offset:m,size:p(g,e)})))):s===yMt?(f=o.domain(),h=WNe(o,f[0],Rr(f)),d.length<3&&!e.values&&f[0]!==Rr(f)&&(d=[f[0],Rr(f)]),i=d.map((y,v)=>oi({index:v,label:c(y,v,d),value:y,perc:h(y)}))):(p=d.length-1,h=AMt(o),i=d.map((y,v)=>oi({index:v,label:c(y,v,d),value:y,perc:v?h(y):0,perc2:v===p?1:h(d[v+1])}))),r.source=i,r.add=i,this.value=i,r}});const qLt=e=>e.source.x,WLt=e=>e.source.y,GLt=e=>e.target.x,YLt=e=>e.target.y;function Ate(e){et.call(this,{},e)}Ate.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};Nt(Ate,et,{transform(e,t){var n=e.sourceX||qLt,r=e.sourceY||WLt,i=e.targetX||GLt,s=e.targetY||YLt,o=e.as||"path",a=e.orient||"vertical",l=e.shape||"line",u=P0e.get(l+"-"+a)||P0e.get(l);return u||at("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,c=>{c[o]=u(n(c),r(c),i(c),s(c))}),t.reflow(e.modified()).modifies(o)}});const k6e=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,KLt=(e,t,n,r)=>k6e(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),A6e=(e,t,n,r)=>{var i=n-e,s=r-t,o=Math.hypot(i,s)/2,a=180*Math.atan2(s,i)/Math.PI;return"M"+e+","+t+"A"+o+","+o+" "+a+" 0 1 "+n+","+r},XLt=(e,t,n,r)=>A6e(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),R6e=(e,t,n,r)=>{const i=n-e,s=r-t,o=.2*(i+s),a=.2*(s-i);return"M"+e+","+t+"C"+(e+o)+","+(t+a)+" "+(n+a)+","+(r-o)+" "+n+","+r},QLt=(e,t,n,r)=>R6e(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),JLt=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,ZLt=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,ejt=(e,t,n,r)=>{const i=Math.cos(e),s=Math.sin(e),o=Math.cos(n),a=Math.sin(n),l=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*s+"A"+t+","+t+" 0 0,"+(l?1:0)+" "+t*o+","+t*a+"L"+r*o+","+r*a},tjt=(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},njt=(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},rjt=(e,t,n,r)=>{const i=Math.cos(e),s=Math.sin(e),o=Math.cos(n),a=Math.sin(n),l=(t+r)/2;return"M"+t*i+","+t*s+"C"+l*i+","+l*s+" "+l*o+","+l*a+" "+r*o+","+r*a},P0e=oE({line:k6e,"line-radial":KLt,arc:A6e,"arc-radial":XLt,curve:R6e,"curve-radial":QLt,"orthogonal-horizontal":JLt,"orthogonal-vertical":ZLt,"orthogonal-radial":ejt,"diagonal-horizontal":tjt,"diagonal-vertical":njt,"diagonal-radial":rjt});function Rte(e){et.call(this,null,e)}Rte.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};Nt(Rte,et,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],i=n[1],s=e.field||rE,o=e.startAngle||0,a=e.endAngle!=null?e.endAngle:2*Math.PI,l=t.source,u=l.map(s),c=u.length,d=o,f=(a-o)/LRe(u),h=pu(c),p,m,g;for(e.sort&&h.sort((y,v)=>u[y]-u[v]),p=0;p<c;++p)g=u[h[p]],m=l[h[p]],m[r]=d,m[i]=d+=g*f;return this.value=u,t.reflow(e.modified()).modifies(n)}});const ijt=5;function sjt(e){const t=e.type;return!e.bins&&(t===B_||t===oR||t===aR)}function I6e(e){return Uee(e)&&e!==ip}const ojt=Df(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function D6e(e){et.call(this,null,e),this.modified(!0)}Nt(D6e,et,{transform(e,t){var n=t.dataflow,r=this.value,i=ajt(e);(!r||i!==r.type)&&(this.value=r=Zr(i)());for(i in e)if(!ojt[i]){if(i==="padding"&&I6e(r.type))continue;ir(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return hjt(r,e,fjt(r,e,ujt(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function ajt(e){var t=e.type,n="",r;return t===ip?ip+"-"+B_:(ljt(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?ip+"-":r===3?cE+"-":""),(n+t||B_).toLowerCase())}function ljt(e){const t=e.type;return Uee(t)&&t!==nb&&t!==rb&&(e.scheme||e.range&&e.range.length&&e.range.every(Ht))}function ujt(e,t,n){const r=cjt(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,s=e.type,o=t.zero||t.zero===void 0&&sjt(e),a,l;if(!i)return 0;if((o||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(a=(i=i.slice()).length-1||1,o&&(i[0]>0&&(i[0]=0),i[a]<0&&(i[a]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[a]=t.domainMax),t.domainMid!=null)){l=t.domainMid;const u=l>i[a]?a+1:l<i[0]?0:a;u!==a&&n.warn("Scale domainMid exceeds domain min or max.",l),i.splice(u,0,l)}return I6e(s)&&t.padding&&i[0]!==Rr(i)&&(i=djt(s,i,t.range,t.padding,t.exponent,t.constant)),e.domain(P6e(s,i,n)),s===Lee&&e.unknown(t.domainImplicit?Aq:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&qee(e,t.nice)||null),i.length}function cjt(e,t,n){return t?(e.domain(P6e(e.type,t,n)),t.length):-1}function djt(e,t,n,r,i,s){var o=Math.abs(Rr(n)-n[0]),a=o/(o-2*r),l=e===d0?IZ(t,null,a):e===aR?d6(t,null,a,.5):e===oR?d6(t,null,a,i||1):e===QM?DZ(t,null,a,s||1):RZ(t,null,a);return t=t.slice(),t[0]=l[0],t[t.length-1]=l[1],t}function P6e(e,t,n){if(zNe(e)){var r=Math.abs(t.reduce((i,s)=>i+(s<0?-1:s>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+Dt(t))}return t}function fjt(e,t,n){let r=t.bins;if(r&&!ut(r)){const i=e.domain(),s=i[0],o=Rr(i),a=r.step;let l=r.start==null?s:r.start,u=r.stop==null?o:r.stop;a||at("Scale bins parameter missing step property."),l<s&&(l=a*Math.ceil(s/a)),u>o&&(u=a*Math.floor(o/a)),r=pu(l,u+a/2,a)}return r?e.bins=r:e.bins&&delete e.bins,e.type===jee&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function hjt(e,t,n){var r=e.type,i=t.round||!1,s=t.range;if(t.rangeStep!=null)s=pjt(r,t,n);else if(t.scheme&&(s=mjt(r,t,n),ir(s))){if(e.interpolator)return e.interpolator(s);at(`Scale type ${r} does not support interpolating color schemes.`)}if(s&&UNe(r))return e.interpolator(eF(_W(s,t.reverse),t.interpolate,t.interpolateGamma));s&&t.interpolate&&e.interpolate?e.interpolate(Vee(t.interpolate,t.interpolateGamma)):ir(e.round)?e.round(i):ir(e.rangeRound)&&e.interpolate(i?UA:I0),s&&e.range(_W(s,t.reverse))}function pjt(e,t,n){e!==$Ne&&e!==aW&&at("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===aW?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*Fee(n,i,r)]}function mjt(e,t,n){var r=t.schemeExtent,i,s;return ut(t.scheme)?s=eF(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),s=Hee(i),s||at(`Unrecognized scheme name: ${t.scheme}`)),n=e===ZM?n+1:e===jee?n-1:e===z_||e===JM?+t.schemeCount||ijt:n,UNe(e)?O0e(s,r,t.reverse):ir(s)?qNe(O0e(s,r),n):e===Lee?s:s.slice(0,n)}function O0e(e,t,n){return ir(e)&&(t||n)?HNe(e,_W(t||[0,1],n)):e}function _W(e,t){return t?e.slice().reverse():e}function O6e(e){et.call(this,null,e)}Nt(O6e,et,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(Vb(e.sort)),this.modified(n),t}});const N0e="zero",N6e="center",$6e="normalize",M6e=["y0","y1"];function Ite(e){et.call(this,null,e)}Ite.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:N0e,values:[N0e,N6e,$6e]},{name:"as",type:"string",array:!0,length:2,default:M6e}]};Nt(Ite,et,{transform(e,t){var n=e.as||M6e,r=n[0],i=n[1],s=Vb(e.sort),o=e.field||rE,a=e.offset===N6e?gjt:e.offset===$6e?yjt:vjt,l,u,c,d;for(l=bjt(t.source,e.groupby,s,o),u=0,c=l.length,d=l.max;u<c;++u)a(l[u],d,o,r,i);return t.reflow(e.modified()).modifies(n)}});function gjt(e,t,n,r,i){for(var s=(t-e.sum)/2,o=e.length,a=0,l;a<o;++a)l=e[a],l[r]=s,l[i]=s+=Math.abs(n(l))}function yjt(e,t,n,r,i){for(var s=1/e.sum,o=0,a=e.length,l=0,u=0,c;l<a;++l)c=e[l],c[r]=o,c[i]=o=s*(u+=Math.abs(n(c)))}function vjt(e,t,n,r,i){for(var s=0,o=0,a=e.length,l=0,u,c;l<a;++l)c=e[l],u=+n(c),u<0?(c[r]=o,c[i]=o+=u):(c[r]=s,c[i]=s+=u)}function bjt(e,t,n,r){var i=[],s=m=>m(c),o,a,l,u,c,d,f,h,p;if(t==null)i.push(e.slice());else for(o={},a=0,l=e.length;a<l;++a)c=e[a],d=t.map(s),f=o[d],f||(o[d]=f=[],i.push(f)),f.push(c);for(d=0,p=0,u=i.length;d<u;++d){for(f=i[d],a=0,h=0,l=f.length;a<l;++a)h+=Math.abs(r(f[a]));f.sum=h,h>p&&(p=h),n&&f.sort(n)}return i.max=p,i}const wjt=Object.freeze(Object.defineProperty({__proto__:null,axisticks:C6e,datajoin:E6e,encode:S6e,legendentries:T6e,linkpath:Ate,pie:Rte,scale:D6e,sortitems:O6e,stack:Ite},Symbol.toStringTag,{value:"Module"}));var xjt=Math.abs,CW=Math.cos,A6=Math.sin,_jt=1e-6,F6e=Math.PI,EW=F6e/2,$0e=Cjt(2);function M0e(e){return e>1?EW:e<-1?-EW:Math.asin(e)}function Cjt(e){return e>0?Math.sqrt(e):0}function Ejt(e,t){var n=e*A6(t),r=30,i;do t-=i=(t+A6(t)-n)/(1+CW(t));while(xjt(i)>_jt&&--r>0);return t/2}function Sjt(e,t,n){function r(i,s){return[e*i*CW(s=Ejt(n,s)),t*A6(s)]}return r.invert=function(i,s){return s=M0e(s/t),[i/(e*CW(s)),M0e((2*s+A6(2*s))/n)]},r}var Tjt=Sjt($0e/EW,$0e,F6e);function kjt(){return Np(Tjt).scale(169.529)}const Ajt=gDe(),SW=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function Rjt(e,t){return function n(){const r=t();return r.type=e,r.path=gDe().projection(r),r.copy=r.copy||function(){const i=n();return SW.forEach(s=>{r[s]&&i[s](r[s]())}),i.path.pointRadius(r.path.pointRadius()),i},jNe(r)}}function Dte(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(R6[e]=Rjt(e,t),this):R6[e]||null}function L6e(e){return e&&e.path||Ajt}const R6={albers:vDe,albersusa:AAt,azimuthalequalarea:RAt,azimuthalequidistant:IAt,conicconformal:OAt,conicequalarea:G4,conicequidistant:MAt,equalEarth:LAt,equirectangular:NAt,gnomonic:jAt,identity:BAt,mercator:DAt,mollweide:kjt,naturalEarth1:zAt,orthographic:UAt,stereographic:VAt,transversemercator:HAt};for(const e in R6)Dte(e,R6[e]);function Ijt(){}const am=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function j6e(){var e=1,t=1,n=a;function r(l,u){return u.map(c=>i(l,c))}function i(l,u){var c=[],d=[];return s(l,u,f=>{n(f,l,u),Djt(f)>0?c.push([f]):d.push(f)}),d.forEach(f=>{for(var h=0,p=c.length,m;h<p;++h)if(Pjt((m=c[h])[0],f)!==-1){m.push(f);return}}),{type:"MultiPolygon",value:u,coordinates:c}}function s(l,u,c){var d=[],f=[],h,p,m,g,y,v;for(h=p=-1,g=l[0]>=u,am[g<<1].forEach(w);++h<e-1;)m=g,g=l[h+1]>=u,am[m|g<<1].forEach(w);for(am[g<<0].forEach(w);++p<t-1;){for(h=-1,g=l[p*e+e]>=u,y=l[p*e]>=u,am[g<<1|y<<2].forEach(w);++h<e-1;)m=g,g=l[p*e+e+h+1]>=u,v=y,y=l[p*e+h+1]>=u,am[m|g<<1|y<<2|v<<3].forEach(w);am[g|y<<3].forEach(w)}for(h=-1,y=l[p*e]>=u,am[y<<2].forEach(w);++h<e-1;)v=y,y=l[p*e+h+1]>=u,am[y<<2|v<<3].forEach(w);am[y<<3].forEach(w);function w(_){var C=[_[0][0]+h,_[0][1]+p],S=[_[1][0]+h,_[1][1]+p],T=o(C),k=o(S),I,R;(I=f[T])?(R=d[k])?(delete f[I.end],delete d[R.start],I===R?(I.ring.push(S),c(I.ring)):d[I.start]=f[R.end]={start:I.start,end:R.end,ring:I.ring.concat(R.ring)}):(delete f[I.end],I.ring.push(S),f[I.end=k]=I):(I=d[k])?(R=f[T])?(delete d[I.start],delete f[R.end],I===R?(I.ring.push(S),c(I.ring)):d[R.start]=f[I.end]={start:R.start,end:I.end,ring:R.ring.concat(I.ring)}):(delete d[I.start],I.ring.unshift(C),d[I.start=T]=I):d[T]=f[k]={start:T,end:k,ring:[C,S]}}}function o(l){return l[0]*2+l[1]*(e+1)*4}function a(l,u,c){l.forEach(d=>{var f=d[0],h=d[1],p=f|0,m=h|0,g,y=u[m*e+p];f>0&&f<e&&p===f&&(g=u[m*e+p-1],d[0]=f+(c-g)/(y-g)-.5),h>0&&h<t&&m===h&&(g=u[(m-1)*e+p],d[1]=h+(c-g)/(y-g)-.5)})}return r.contour=i,r.size=function(l){if(!arguments.length)return[e,t];var u=Math.floor(l[0]),c=Math.floor(l[1]);return u>=0&&c>=0||at("invalid size"),e=u,t=c,r},r.smooth=function(l){return arguments.length?(n=l?a:Ijt,r):n===a},r}function Djt(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function Pjt(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=Ojt(e,t[n]))return i;return 0}function Ojt(e,t){for(var n=t[0],r=t[1],i=-1,s=0,o=e.length,a=o-1;s<o;a=s++){var l=e[s],u=l[0],c=l[1],d=e[a],f=d[0],h=d[1];if(Njt(l,d,t))return 0;c>r!=h>r&&n<(f-u)*(r-c)/(h-c)+u&&(i=-i)}return i}function Njt(e,t,n){var r;return $jt(e,t,n)&&Mjt(e[r=+(e[0]===t[0])],n[r],t[r])}function $jt(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function Mjt(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function B6e(e,t,n){return function(r){var i=yp(r),s=n?Math.min(i[0],0):i[0],o=i[1],a=o-s,l=t?xy(s,o,e):a/(e+1);return pu(s+l,o,l)}}function Pte(e){et.call(this,null,e)}Pte.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};Nt(Pte,et,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||ol,s=j6e().smooth(e.smooth!==!1),o=e.thresholds||Fjt(r,i,e),a=e.as===null?null:e.as||"contour",l=[];return r.forEach(u=>{const c=i(u),d=s.size([c.width,c.height])(c.values,ut(o)?o:o(c.values));Ljt(d,c,u,e),d.forEach(f=>{l.push(UM(u,oi(a!=null?{[a]:f}:f)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function Fjt(e,t,n){const r=B6e(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(i=>ey(t(i).values)))}function Ljt(e,t,n,r){let i=r.scale||t.scale,s=r.translate||t.translate;if(ir(i)&&(i=i(n,r)),ir(s)&&(s=s(n,r)),(i===1||i==null)&&!s)return;const o=(Jr(i)?i:i[0])||1,a=(Jr(i)?i:i[1])||1,l=s&&s[0]||0,u=s&&s[1]||0;e.forEach(z6e(t,o,a,l,u))}function z6e(e,t,n,r,i){const s=e.x1||0,o=e.y1||0,a=t*n<0;function l(d){d.forEach(u)}function u(d){a&&d.reverse(),d.forEach(c)}function c(d){d[0]=(d[0]-s)*t+r,d[1]=(d[1]-o)*n+i}return function(d){return d.coordinates.forEach(l),d}}function F0e(e,t,n){const r=e>=0?e:QZ(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function Z7(e){return ir(e)?e:al(+e)}function U6e(){var e=l=>l[0],t=l=>l[1],n=rE,r=[-1,-1],i=960,s=500,o=2;function a(l,u){const c=F0e(r[0],l,e)>>o,d=F0e(r[1],l,t)>>o,f=c?c+2:0,h=d?d+2:0,p=2*f+(i>>o),m=2*h+(s>>o),g=new Float32Array(p*m),y=new Float32Array(p*m);let v=g;l.forEach(_=>{const C=f+(+e(_)>>o),S=h+(+t(_)>>o);C>=0&&C<p&&S>=0&&S<m&&(g[C+S*p]+=+n(_))}),c>0&&d>0?(Qw(p,m,g,y,c),Jw(p,m,y,g,d),Qw(p,m,g,y,c),Jw(p,m,y,g,d),Qw(p,m,g,y,c),Jw(p,m,y,g,d)):c>0?(Qw(p,m,g,y,c),Qw(p,m,y,g,c),Qw(p,m,g,y,c),v=y):d>0&&(Jw(p,m,g,y,d),Jw(p,m,y,g,d),Jw(p,m,g,y,d),v=y);const w=u?Math.pow(2,-2*o):1/LRe(v);for(let _=0,C=p*m;_<C;++_)v[_]*=w;return{values:v,scale:1<<o,width:p,height:m,x1:f,y1:h,x2:f+(i>>o),y2:h+(s>>o)}}return a.x=function(l){return arguments.length?(e=Z7(l),a):e},a.y=function(l){return arguments.length?(t=Z7(l),a):t},a.weight=function(l){return arguments.length?(n=Z7(l),a):n},a.size=function(l){if(!arguments.length)return[i,s];var u=+l[0],c=+l[1];return u>=0&&c>=0||at("invalid size"),i=u,s=c,a},a.cellSize=function(l){return arguments.length?((l=+l)>=1||at("invalid cell size"),o=Math.floor(Math.log(l)/Math.LN2),a):1<<o},a.bandwidth=function(l){return arguments.length?(l=Ut(l),l.length===1&&(l=[+l[0],+l[0]]),l.length!==2&&at("invalid bandwidth"),r=l,a):r},a}function Qw(e,t,n,r,i){const s=(i<<1)+1;for(let o=0;o<t;++o)for(let a=0,l=0;a<e+i;++a)a<e&&(l+=n[a+o*e]),a>=i&&(a>=s&&(l-=n[a-s+o*e]),r[a-i+o*e]=l/Math.min(a+1,e-1+s-a,s))}function Jw(e,t,n,r,i){const s=(i<<1)+1;for(let o=0;o<e;++o)for(let a=0,l=0;a<t+i;++a)a<t&&(l+=n[o+a*e]),a>=i&&(a>=s&&(l-=n[o+(a-s)*e]),r[o+(a-i)*e]=l/Math.min(a+1,t-1+s-a,s))}function Ote(e){et.call(this,null,e)}Ote.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const jjt=["x","y","weight","size","cellSize","bandwidth"];function V6e(e,t){return jjt.forEach(n=>t[n]!=null?e[n](t[n]):0),e}Nt(Ote,et,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=Bjt(r,e.groupby),s=(e.groupby||[]).map(Ts),o=V6e(U6e(),e),a=e.as||"grid",l=[];function u(c,d){for(let f=0;f<s.length;++f)c[s[f]]=d[f];return c}return l=i.map(c=>oi(u({[a]:o(c,e.counts)},c.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function Bjt(e,t){var n=[],r=c=>c(a),i,s,o,a,l,u;if(t==null)n.push(e);else for(i={},s=0,o=e.length;s<o;++s)a=e[s],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function Nte(e){et.call(this,null,e)}Nte.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};Nt(Nte,et,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=j6e().smooth(e.smooth!==!1),i=e.values,s=e.thresholds||B6e(e.count||10,e.nice,!!i),o=e.size,a,l;return i||(i=t.materialize(t.SOURCE).source,a=V6e(U6e(),e)(i,!0),l=z6e(a,a.scale||1,a.scale||1,0,0),o=[a.width,a.height],i=a.values),s=ut(s)?s:s(i),i=r.size(o)(i,s),l&&i.forEach(l),this.value&&(n.rem=this.value),this.value=n.source=n.add=(i||[]).map(oi),n}});const TW="Feature",$te="FeatureCollection",zjt="MultiPoint";function Mte(e){et.call(this,null,e)}Mte.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};Nt(Mte,et,{transform(e,t){var n=this._features,r=this._points,i=e.fields,s=i&&i[0],o=i&&i[1],a=e.geojson||!i&&ol,l=t.ADD,u;u=e.modified()||t.changed(t.REM)||t.modified(el(a))||s&&t.modified(el(s))||o&&t.modified(el(o)),(!this.value||u)&&(l=t.SOURCE,this._features=n=[],this._points=r=[]),a&&t.visit(l,c=>n.push(a(c))),s&&o&&(t.visit(l,c=>{var d=s(c),f=o(c);d!=null&&f!=null&&(d=+d)===d&&(f=+f)===f&&r.push([d,f])}),n=n.concat({type:TW,geometry:{type:zjt,coordinates:r}})),this.value={type:$te,features:n}}});function Fte(e){et.call(this,null,e)}Fte.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};Nt(Fte,et,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||ol,s=e.as||"path",o=n.SOURCE;!r||e.modified()?(this.value=r=L6e(e.projection),n.materialize().reflow()):o=i===ol||t.modified(i.fields)?n.ADD_MOD:n.ADD;const a=Ujt(r,e.pointRadius);return n.visit(o,l=>l[s]=r(i(l))),r.pointRadius(a),n.modifies(s)}});function Ujt(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function Lte(e){et.call(this,null,e)}Lte.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};Nt(Lte,et,{transform(e,t){var n=e.projection,r=e.fields[0],i=e.fields[1],s=e.as||["x","y"],o=s[0],a=s[1],l;function u(c){const d=n([r(c),i(c)]);d?(c[o]=d[0],c[a]=d[1]):(c[o]=void 0,c[a]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,u):(l=t.modified(r.fields)||t.modified(i.fields),t.visit(l?t.ADD_MOD:t.ADD,u)),t.modifies(s)}});function jte(e){et.call(this,null,e)}jte.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};Nt(jte,et,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",s=n.ADD;return(!r||e.modified())&&(this.value=r=Vjt(L6e(e.projection),e.field||cd("datum"),e.pointRadius),n.materialize().reflow(),s=n.SOURCE),n.visit(s,o=>o[i]=r),n.modifies(i)}});function Vjt(e,t,n){const r=n==null?i=>e(t(i)):i=>{var s=e.pointRadius(),o=e.pointRadius(n)(t(i));return e.pointRadius(s),o};return r.context=i=>(e.context(i),r),r}function Bte(e){et.call(this,[],e),this.generator=aAt()}Bte.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};Nt(Bte,et,{transform(e,t){var n=this.value,r=this.generator,i;if(!n.length||e.modified())for(const s in e)ir(r[s])&&r[s](e[s]);return i=r(),n.length?t.mod.push(VOe(n[0],i)):t.add.push(oi(i)),n[0]=i,t}});function zte(e){et.call(this,null,e)}zte.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};Nt(zte,et,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",i=e.field||ol,s=qjt(e.opacity,e),o=Hjt(e.color,e),a=e.as||"image",l={$x:0,$y:0,$value:0,$max:r?ey(n.map(u=>ey(i(u).values))):0};return n.forEach(u=>{const c=i(u),d=rr({},u,l);r||(d.$max=ey(c.values||[])),u[a]=Wjt(c,d,o.dep?o:al(o(d)),s.dep?s:al(s(d)))}),t.reflow(!0).modifies(a)}});function Hjt(e,t){let n;return ir(e)?(n=r=>_y(e(r,t)),n.dep=H6e(e)):n=al(_y(e||"#888")),n}function qjt(e,t){let n;return ir(e)?(n=r=>e(r,t),n.dep=H6e(e)):e?n=al(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function H6e(e){if(!ir(e))return!1;const t=Df(el(e));return t.$x||t.$y||t.$value||t.$max}function Wjt(e,t,n,r){const i=e.width,s=e.height,o=e.x1||0,a=e.y1||0,l=e.x2||i,u=e.y2||s,c=e.values,d=c?g=>c[g]:Pg,f=sy(l-o,u-a),h=f.getContext("2d"),p=h.getImageData(0,0,l-o,u-a),m=p.data;for(let g=a,y=0;g<u;++g){t.$y=g-a;for(let v=o,w=g*i;v<l;++v,y+=4){t.$x=v-o,t.$value=d(v+w);const _=n(t);m[y+0]=_.r,m[y+1]=_.g,m[y+2]=_.b,m[y+3]=~~(255*r(t))}}return h.putImageData(p,0,0),f}function q6e(e){et.call(this,null,e),this.modified(!0)}Nt(q6e,et,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=Yjt(e.type),SW.forEach(r=>{e[r]!=null&&L0e(n,r,e[r])})):SW.forEach(r=>{e.modified(r)&&L0e(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&Gjt(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function Gjt(e,t){const n=Kjt(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function Yjt(e){const t=Dte((e||"mercator").toLowerCase());return t||at("Unrecognized projection type: "+e),t()}function L0e(e,t,n){ir(e[t])&&e[t](n)}function Kjt(e){return e=Ut(e),e.length===1?e[0]:{type:$te,features:e.reduce((t,n)=>t.concat(Xjt(n)),[])}}function Xjt(e){return e.type===$te?e.features:Ut(e).filter(t=>t!=null).map(t=>t.type===TW?t:{type:TW,geometry:t})}const Qjt=Object.freeze(Object.defineProperty({__proto__:null,contour:Nte,geojson:Mte,geopath:Fte,geopoint:Lte,geoshape:jte,graticule:Bte,heatmap:zte,isocontour:Pte,kde2d:Ote,projection:q6e},Symbol.toStringTag,{value:"Module"})),j0e={center:QTt,collide:gkt,nbody:kkt,link:vkt,x:Akt,y:Rkt},PS="forces",kW=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],Jjt=["static","iterations"],W6e=["x","y","vx","vy"];function Ute(e){et.call(this,null,e)}Ute.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:W6e}]};Nt(Ute,et,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(kW),s=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&G6e(n,e,0,t)):(this.value=n=e9t(t.source,e),n.on("tick",Zjt(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(Jjt)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/s)),e.static)for(n.stop();--s>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let a=this._argops,l=0,u=a.length,c;l<u;++l)if(c=a[l],!(c.name!==PS||c.op._argval.force!=="link")){for(var r=c.op._argops,i=0,s=r.length,o;i<s;++i)if(r[i].name==="links"&&(o=r[i].op.source)){n.pulse(o,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(W6e)}});function Zjt(e,t){return()=>e.touch(t).run()}function e9t(e,t){const n=Tkt(e),r=n.stop,i=n.restart;let s=!1;return n.stopped=()=>s,n.restart=()=>(s=!1,i()),n.stop=()=>(s=!0,r()),G6e(n,t,!0).on("end",()=>s=!0)}function G6e(e,t,n,r){var i=Ut(t.forces),s,o,a,l;for(s=0,o=kW.length;s<o;++s)a=kW[s],a!==PS&&t.modified(a)&&e[a](t[a]);for(s=0,o=i.length;s<o;++s)l=PS+s,a=n||t.modified(PS,s)?n9t(i[s]):r&&t9t(i[s],r)?e.force(l):null,a&&e.force(l,a);for(o=e.numForces||0;s<o;++s)e.force(PS+s,null);return e.numForces=i.length,e}function t9t(e,t){var n,r;for(n in e)if(ir(r=e[n])&&t.modified(el(r)))return 1;return 0}function n9t(e){var t,n;Kt(j0e,e.force)||at("Unrecognized force: "+e.force),t=j0e[e.force]();for(n in e)ir(t[n])&&r9t(t[n],e[n],e);return t}function r9t(e,t,n){e(ir(t)?r=>t(r,n):t)}const i9t=Object.freeze(Object.defineProperty({__proto__:null,force:Ute},Symbol.toStringTag,{value:"Module"}));function AW(e,t,n){const r={};return e.each(i=>{const s=i.data;n(s)&&(r[t(s)]=i)}),e.lookup=r,e}function Vte(e){et.call(this,null,e)}Vte.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const s9t=e=>e.values;Nt(Vte,et,{transform(e,t){t.source||at("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),s=this.value;return(!s||r||t.changed())&&(s&&s.each(o=>{o.children&&zM(o.data)&&i.rem.push(o.data)}),this.value=s=NJ({values:Ut(e.keys).reduce((o,a)=>(o.key(a),o),o9t()).entries(i.source)},s9t),n&&s.each(o=>{o.children&&(o=oi(o.data),i.add.push(o),i.source.push(o))}),AW(s,wn,wn)),i.source.root=s,i}});function o9t(){const e=[],t={entries:i=>r(n(i,0),0),key:i=>(e.push(i),t)};function n(i,s){if(s>=e.length)return i;const o=i.length,a=e[s++],l={},u={};let c=-1,d,f,h;for(;++c<o;)d=a(f=i[c])+"",(h=l[d])?h.push(f):l[d]=[f];for(d in l)u[d]=n(l[d],s);return u}function r(i,s){if(++s>e.length)return i;const o=[];for(const a in i)o.push({key:a,values:r(i[a],s)});return o}return t}function O0(e){et.call(this,null,e)}const a9t=(e,t)=>e.parent===t.parent?1:2;Nt(O0,et,{transform(e,t){(!t.source||!t.source.root)&&at(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,s=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(Vb(e.sort,o=>o.data)),l9t(n,this.params,e),n.separation&&n.separation(e.separation!==!1?a9t:rE);try{this.value=n(i)}catch(o){at(o)}return i.each(o=>u9t(o,r,s)),t.reflow(e.modified()).modifies(s).modifies("leaf")}});function l9t(e,t,n){for(let r,i=0,s=t.length;i<s;++i)r=t[i],r in n&&e[r](n[r])}function u9t(e,t,n){const r=e.data,i=t.length-1;for(let s=0;s<i;++s)r[n[s]]=e[t[s]];r[n[i]]=e.children?e.children.length:0}const RW=["x","y","r","depth","children"];function Hte(e){O0.call(this,e)}Hte.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:RW.length,default:RW}]};Nt(Hte,O0,{layout:RRt,params:["radius","size","padding"],fields:RW});const IW=["x0","y0","x1","y1","depth","children"];function qte(e){O0.call(this,e)}qte.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:IW.length,default:IW}]};Nt(qte,O0,{layout:IRt,params:["size","round","padding"],fields:IW});function Wte(e){et.call(this,null,e)}Wte.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};Nt(Wte,et,{transform(e,t){t.source||at("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),s=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),s&&(n=i.source.length?AW(ehe().id(e.key).parentId(e.parentKey)(i.source),e.key,dd):AW(ehe()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const B0e={tidy:BRt,cluster:JAt},DW=["x","y","depth","children"];function Gte(e){O0.call(this,e)}Gte.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:DW.length,default:DW}]};Nt(Gte,O0,{layout(e){const t=e||"tidy";if(Kt(B0e,t))return B0e[t]();at("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:DW});function Yte(e){et.call(this,[],e)}Yte.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};Nt(Yte,et,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),s={};return r||at("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,o=>s[wn(o)]=1),r.each(o=>{const a=o.data,l=o.parent&&o.parent.data;l&&s[wn(a)]&&s[wn(l)]&&i.add.push(oi({source:l,target:a}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,o=>s[wn(o)]=1),n.forEach(o=>{(s[wn(o.source)]||s[wn(o.target)])&&i.mod.push(o)})),i}});const z0e={binary:URt,dice:WA,slice:cM,slicedice:VRt,squarify:MDe,resquarify:HRt},PW=["x0","y0","x1","y1","depth","children"];function Kte(e){O0.call(this,e)}Kte.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:PW.length,default:PW}]};Nt(Kte,O0,{layout(){const e=zRt();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{Kt(z0e,t)?e.tile(z0e[t]):at("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:PW});const c9t=Object.freeze(Object.defineProperty({__proto__:null,nest:Vte,pack:Hte,partition:qte,stratify:Wte,tree:Gte,treelinks:Yte,treemap:Kte},Symbol.toStringTag,{value:"Module"})),ez=4278190080;function d9t(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function f9t(e,t,n,r,i){const s=e.width,o=e.height,a=r||i,l=sy(s,o).getContext("2d"),u=sy(s,o).getContext("2d"),c=a&&sy(s,o).getContext("2d");n.forEach(k=>VO(l,k,!1)),VO(u,t,!1),a&&VO(c,t,!0);const d=tz(l,s,o),f=tz(u,s,o),h=a&&tz(c,s,o),p=e.bitmap(),m=a&&e.bitmap();let g,y,v,w,_,C,S,T;for(y=0;y<o;++y)for(g=0;g<s;++g)_=y*s+g,C=d[_]&ez,T=f[_]&ez,S=a&&h[_]&ez,(C||S||T)&&(v=e(g),w=e(y),!i&&(C||T)&&p.set(v,w),a&&(C||S)&&m.set(v,w));return[p,m]}function tz(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function VO(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(i=>{i.items.forEach(s=>VO(e,s.items,n))}):dc[r].draw(e,{items:n?t.map(h9t):t})}function h9t(e){const t=UM(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const lm=5,gl=31,Pk=32,Tg=new Uint32Array(Pk+1),Qd=new Uint32Array(Pk+1);Qd[0]=0;Tg[0]=~Qd[0];for(let e=1;e<=Pk;++e)Qd[e]=Qd[e-1]<<1|1,Tg[e]=~Qd[e];function p9t(e,t){const n=new Uint32Array(~~((e*t+Pk)/Pk));function r(s,o){n[s]|=o}function i(s,o){n[s]&=o}return{array:n,get:(s,o)=>{const a=o*e+s;return n[a>>>lm]&1<<(a&gl)},set:(s,o)=>{const a=o*e+s;r(a>>>lm,1<<(a&gl))},clear:(s,o)=>{const a=o*e+s;i(a>>>lm,~(1<<(a&gl)))},getRange:(s,o,a,l)=>{let u=l,c,d,f,h;for(;u>=o;--u)if(c=u*e+s,d=u*e+a,f=c>>>lm,h=d>>>lm,f===h){if(n[f]&Tg[c&gl]&Qd[(d&gl)+1])return!0}else{if(n[f]&Tg[c&gl]||n[h]&Qd[(d&gl)+1])return!0;for(let p=f+1;p<h;++p)if(n[p])return!0}return!1},setRange:(s,o,a,l)=>{let u,c,d,f,h;for(;o<=l;++o)if(u=o*e+s,c=o*e+a,d=u>>>lm,f=c>>>lm,d===f)r(d,Tg[u&gl]&Qd[(c&gl)+1]);else for(r(d,Tg[u&gl]),r(f,Qd[(c&gl)+1]),h=d+1;h<f;++h)r(h,4294967295)},clearRange:(s,o,a,l)=>{let u,c,d,f,h;for(;o<=l;++o)if(u=o*e+s,c=o*e+a,d=u>>>lm,f=c>>>lm,d===f)i(d,Qd[u&gl]|Tg[(c&gl)+1]);else for(i(d,Qd[u&gl]),i(f,Tg[(c&gl)+1]),h=d+1;h<f;++h)i(h,0)},outOfBounds:(s,o,a,l)=>s<0||o<0||l>=t||a>=e}}function m9t(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),s=~~((t+2*n+r)/r),o=a=>~~((a+n)/r);return o.invert=a=>a*r-n,o.bitmap=()=>p9t(i,s),o.ratio=r,o.padding=n,o.width=e,o.height=t,o}function g9t(e,t,n,r){const i=e.width,s=e.height;return function(o){const a=o.datum.datum.items[r].items,l=a.length,u=o.datum.fontSize,c=ec.width(o.datum,o.datum.text);let d=0,f,h,p,m,g,y,v;for(let w=0;w<l;++w)f=a[w].x,p=a[w].y,h=a[w].x2===void 0?f:a[w].x2,m=a[w].y2===void 0?p:a[w].y2,g=(f+h)/2,y=(p+m)/2,v=Math.abs(h-f+m-p),v>=d&&(d=v,o.x=g,o.y=y);return g=c/2,y=u/2,f=o.x-g,h=o.x+g,p=o.y-y,m=o.y+y,o.align="center",f<0&&h<=i?o.align="left":0<=f&&i<h&&(o.align="right"),o.baseline="middle",p<0&&m<=s?o.baseline="top":0<=p&&s<m&&(o.baseline="bottom"),!0}}function I6(e,t,n,r,i,s){let o=n/2;return e-o<0||e+o>i||t-(o=r/2)<0||t+o>s}function qg(e,t,n,r,i,s,o,a){const l=i*s/(r*2),u=e(t-l),c=e(t+l),d=e(n-(s=s/2)),f=e(n+s);return o.outOfBounds(u,d,c,f)||o.getRange(u,d,c,f)||a&&a.getRange(u,d,c,f)}function y9t(e,t,n,r){const i=e.width,s=e.height,o=t[0],a=t[1];function l(u,c,d,f,h){const p=e.invert(u),m=e.invert(c);let g=d,y=s,v;if(!I6(p,m,f,h,i,s)&&!qg(e,p,m,h,f,g,o,a)&&!qg(e,p,m,h,f,h,o,null)){for(;y-g>=1;)v=(g+y)/2,qg(e,p,m,h,f,v,o,a)?y=v:g=v;if(g>d)return[p,m,g,!0]}}return function(u){const c=u.datum.datum.items[r].items,d=c.length,f=u.datum.fontSize,h=ec.width(u.datum,u.datum.text);let p=n?f:0,m=!1,g=!1,y=0,v,w,_,C,S,T,k,I,R,P,N,$,O,j,B,H,q;for(let Y=0;Y<d;++Y){for(v=c[Y].x,_=c[Y].y,w=c[Y].x2===void 0?v:c[Y].x2,C=c[Y].y2===void 0?_:c[Y].y2,v>w&&(q=v,v=w,w=q),_>C&&(q=_,_=C,C=q),R=e(v),N=e(w),P=~~((R+N)/2),$=e(_),j=e(C),O=~~(($+j)/2),k=P;k>=R;--k)for(I=O;I>=$;--I)H=l(k,I,p,h,f),H&&([u.x,u.y,p,m]=H);for(k=P;k<=N;++k)for(I=O;I<=j;++I)H=l(k,I,p,h,f),H&&([u.x,u.y,p,m]=H);!m&&!n&&(B=Math.abs(w-v+C-_),S=(v+w)/2,T=(_+C)/2,B>=y&&!I6(S,T,h,f,i,s)&&!qg(e,S,T,f,h,f,o,null)&&(y=B,u.x=S,u.y=T,g=!0))}return m||g?(S=h/2,T=f/2,o.setRange(e(u.x-S),e(u.y-T),e(u.x+S),e(u.y+T)),u.align="center",u.baseline="middle",!0):!1}}const v9t=[-1,-1,1,1],b9t=[-1,1,-1,1];function w9t(e,t,n,r){const i=e.width,s=e.height,o=t[0],a=t[1],l=e.bitmap();return function(u){const c=u.datum.datum.items[r].items,d=c.length,f=u.datum.fontSize,h=ec.width(u.datum,u.datum.text),p=[];let m=n?f:0,g=!1,y=!1,v=0,w,_,C,S,T,k,I,R,P,N,$,O;for(let j=0;j<d;++j){for(w=c[j].x,C=c[j].y,_=c[j].x2===void 0?w:c[j].x2,S=c[j].y2===void 0?C:c[j].y2,p.push([e((w+_)/2),e((C+S)/2)]);p.length;)if([I,R]=p.pop(),!(o.get(I,R)||a.get(I,R)||l.get(I,R))){l.set(I,R);for(let B=0;B<4;++B)T=I+v9t[B],k=R+b9t[B],l.outOfBounds(T,k,T,k)||p.push([T,k]);if(T=e.invert(I),k=e.invert(R),P=m,N=s,!I6(T,k,h,f,i,s)&&!qg(e,T,k,f,h,P,o,a)&&!qg(e,T,k,f,h,f,o,null)){for(;N-P>=1;)$=(P+N)/2,qg(e,T,k,f,h,$,o,a)?N=$:P=$;P>m&&(u.x=T,u.y=k,m=P,g=!0)}}!g&&!n&&(O=Math.abs(_-w+S-C),T=(w+_)/2,k=(C+S)/2,O>=v&&!I6(T,k,h,f,i,s)&&!qg(e,T,k,f,h,f,o,null)&&(v=O,u.x=T,u.y=k,y=!0))}return g||y?(T=h/2,k=f/2,o.setRange(e(u.x-T),e(u.y-k),e(u.x+T),e(u.y+k)),u.align="center",u.baseline="middle",!0):!1}}const x9t=["right","center","left"],_9t=["bottom","middle","top"];function C9t(e,t,n,r){const i=e.width,s=e.height,o=t[0],a=t[1],l=r.length;return function(u){const c=u.boundary,d=u.datum.fontSize;if(c[2]<0||c[5]<0||c[0]>i||c[3]>s)return!1;let f=u.textWidth??0,h,p,m,g,y,v,w,_,C,S,T,k,I,R,P;for(let N=0;N<l;++N){if(h=(n[N]&3)-1,p=(n[N]>>>2&3)-1,m=h===0&&p===0||r[N]<0,g=h&&p?Math.SQRT1_2:1,y=r[N]<0?-1:1,v=c[1+h]+r[N]*h*g,T=c[4+p]+y*d*p/2+r[N]*p*g,_=T-d/2,C=T+d/2,k=e(v),R=e(_),P=e(C),!f)if(U0e(k,k,R,P,o,a,v,v,_,C,c,m))f=ec.width(u.datum,u.datum.text);else continue;if(S=v+y*f*h/2,v=S-f/2,w=S+f/2,k=e(v),I=e(w),U0e(k,I,R,P,o,a,v,w,_,C,c,m))return u.x=h?h*y<0?w:v:S,u.y=p?p*y<0?C:_:T,u.align=x9t[h*y+1],u.baseline=_9t[p*y+1],o.setRange(k,R,I,P),!0}return!1}}function U0e(e,t,n,r,i,s,o,a,l,u,c,d){return!(i.outOfBounds(e,n,t,r)||(d&&s||i).getRange(e,n,t,r))}const nz=0,rz=4,iz=8,sz=0,oz=1,az=2,E9t={"top-left":nz+sz,top:nz+oz,"top-right":nz+az,left:rz+sz,middle:rz+oz,right:rz+az,"bottom-left":iz+sz,bottom:iz+oz,"bottom-right":iz+az},S9t={naive:g9t,"reduced-search":y9t,floodfill:w9t};function T9t(e,t,n,r,i,s,o,a,l,u,c){if(!e.length)return e;const d=Math.max(r.length,i.length),f=k9t(r,d),h=A9t(i,d),p=R9t(e[0].datum),m=p==="group"&&e[0].datum.items[l].marktype,g=m==="area",y=I9t(p,m,a,l),v=u===null||u===1/0,w=g&&c==="naive";let _=-1,C=-1;const S=e.map(R=>{const P=v?ec.width(R,R.text):void 0;return _=Math.max(_,P),C=Math.max(C,R.fontSize),{datum:R,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:y(R),textWidth:P}});u=u===null||u===1/0?Math.max(_,C)+Math.max(...r):u;const T=m9t(t[0],t[1],u);let k;if(!w){n&&S.sort((N,$)=>n(N.datum,$.datum));let R=!1;for(let N=0;N<h.length&&!R;++N)R=h[N]===5||f[N]<0;const P=(p&&o||g)&&e.map(N=>N.datum);k=s.length||P?f9t(T,P||[],s,R,g):d9t(T,o&&S)}const I=g?S9t[c](T,k,o,l):C9t(T,k,h,f);return S.forEach(R=>R.opacity=+I(R)),S}function k9t(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}function A9t(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=E9t[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}function R9t(e){return e&&e.mark&&e.mark.marktype}function I9t(e,t,n,r){const i=s=>[s.x,s.x,s.x,s.y,s.y,s.y];return e?e==="line"||e==="area"?s=>i(s.datum):t==="line"?s=>{const o=s.datum.items[r].items;return i(o.length?o[n==="start"?0:o.length-1]:{x:NaN,y:NaN})}:s=>{const o=s.datum.bounds;return[o.x1,(o.x1+o.x2)/2,o.x2,o.y1,(o.y1+o.y2)/2,o.y2]}:i}const OW=["x","y","opacity","align","baseline"],Y6e=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function Xte(e){et.call(this,null,e)}Xte.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:Y6e},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:OW.length,default:OW}]};Nt(Xte,et,{transform(e,t){function n(s){const o=e[s];return ir(o)&&t.modified(o.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&at("Size parameter should be specified as a [width, height] array.");const i=e.as||OW;return T9t(t.materialize(t.SOURCE).source||[],e.size,e.sort,Ut(e.offset==null?1:e.offset),Ut(e.anchor||Y6e),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(s=>{const o=s.datum;o[i[0]]=s.x,o[i[1]]=s.y,o[i[2]]=s.opacity,o[i[3]]=s.align,o[i[4]]=s.baseline}),t.reflow(r).modifies(i)}});const D9t=Object.freeze(Object.defineProperty({__proto__:null,label:Xte},Symbol.toStringTag,{value:"Module"}));function K6e(e,t){var n=[],r=function(c){return c(a)},i,s,o,a,l,u;if(t==null)n.push(e);else for(i={},s=0,o=e.length;s<o;++s)a=e[s],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function Qte(e){et.call(this,null,e)}Qte.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};Nt(Qte,et,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=K6e(r,e.groupby),s=(e.groupby||[]).map(Ts),o=s.length,a=e.as||[Ts(e.x),Ts(e.y)],l=[];i.forEach(u=>{aNe(u,e.x,e.y,e.bandwidth||.3).forEach(c=>{const d={};for(let f=0;f<o;++f)d[s[f]]=u.dims[f];d[a[0]]=c[0],d[a[1]]=c[1],l.push(oi(d))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});const NW={constant:uee,linear:cee,log:rNe,exp:iNe,pow:sNe,quad:dee,poly:oNe},P9t=(e,t)=>e==="poly"?t:e==="quad"?2:1;function Jte(e){et.call(this,null,e)}Jte.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(NW)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};Nt(Jte,et,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=K6e(r,e.groupby),s=(e.groupby||[]).map(Ts),o=e.method||"linear",a=e.order==null?3:e.order,l=P9t(o,a),u=e.as||[Ts(e.x),Ts(e.y)],c=NW[o],d=[];let f=e.extent;Kt(NW,o)||at("Invalid regression method: "+o),f!=null&&o==="log"&&f[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),f=null),i.forEach(h=>{if(h.length<=l){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const m=c(h,e.x,e.y,a);if(e.params){d.push(oi({keys:h.dims,coef:m.coef,rSquared:m.rSquared}));return}const g=f||yp(h,e.x),y=v=>{const w={};for(let _=0;_<s.length;++_)w[s[_]]=h.dims[_];w[u[0]]=v[0],w[u[1]]=v[1],d.push(oi(w))};o==="linear"||o==="constant"?g.forEach(v=>y([v,m.predict(v)])):KM(m.predict,g,25,200).forEach(y)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=d}return n}});const O9t=Object.freeze(Object.defineProperty({__proto__:null,loess:Qte,regression:Jte},Symbol.toStringTag,{value:"Module"}));function Zte(e){et.call(this,null,e)}Zte.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const N9t=[-1e5,-1e5,1e5,1e5];Nt(Zte,et,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:N9t;const s=this.value=_J.from(r,e.x,e.y).voronoi(i);for(let o=0,a=r.length;o<a;++o){const l=s.cellPolygon(o);r[o][n]=l&&!M9t(l)?$9t(l):null}return t.reflow(e.modified()).modifies(n)}});function $9t(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}function M9t(e){return e.length===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]}const F9t=Object.freeze(Object.defineProperty({__proto__:null,voronoi:Zte},Symbol.toStringTag,{value:"Module"}));var lz=Math.PI/180,OS=64,HO=2048;function L9t(){var e=[256,256],t,n,r,i,s,o,a,l=X6e,u=[],c=Math.random,d={};d.layout=function(){for(var p=f(sy()),m=H9t((e[0]>>5)*e[1]),g=null,y=u.length,v=-1,w=[],_=u.map(S=>({text:t(S),font:n(S),style:i(S),weight:s(S),rotate:o(S),size:~~(r(S)+1e-14),padding:a(S),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:S})).sort((S,T)=>T.size-S.size);++v<y;){var C=_[v];C.x=e[0]*(c()+.5)>>1,C.y=e[1]*(c()+.5)>>1,j9t(p,C,_,v),C.hasText&&h(m,C,g)&&(w.push(C),g?z9t(g,C):g=[{x:C.x+C.x0,y:C.y+C.y0},{x:C.x+C.x1,y:C.y+C.y1}],C.x-=e[0]>>1,C.y-=e[1]>>1)}return w};function f(p){p.width=p.height=1;var m=Math.sqrt(p.getContext("2d").getImageData(0,0,1,1).data.length>>2);p.width=(OS<<5)/m,p.height=HO/m;var g=p.getContext("2d");return g.fillStyle=g.strokeStyle="red",g.textAlign="center",{context:g,ratio:m}}function h(p,m,g){for(var y=m.x,v=m.y,w=Math.hypot(e[0],e[1]),_=l(e),C=c()<.5?1:-1,S=-C,T,k,I;(T=_(S+=C))&&(k=~~T[0],I=~~T[1],!(Math.min(Math.abs(k),Math.abs(I))>=w));)if(m.x=y+k,m.y=v+I,!(m.x+m.x0<0||m.y+m.y0<0||m.x+m.x1>e[0]||m.y+m.y1>e[1])&&(!g||!B9t(m,p,e[0]))&&(!g||U9t(m,g))){for(var R=m.sprite,P=m.width>>5,N=e[0]>>5,$=m.x-(P<<4),O=$&127,j=32-O,B=m.y1-m.y0,H=(m.y+m.y0)*N+($>>5),q,Y=0;Y<B;Y++){q=0;for(var V=0;V<=P;V++)p[H+V]|=q<<j|(V<P?(q=R[Y*P+V])>>>O:0);H+=N}return m.sprite=null,!0}return!1}return d.words=function(p){return arguments.length?(u=p,d):u},d.size=function(p){return arguments.length?(e=[+p[0],+p[1]],d):e},d.font=function(p){return arguments.length?(n=Pv(p),d):n},d.fontStyle=function(p){return arguments.length?(i=Pv(p),d):i},d.fontWeight=function(p){return arguments.length?(s=Pv(p),d):s},d.rotate=function(p){return arguments.length?(o=Pv(p),d):o},d.text=function(p){return arguments.length?(t=Pv(p),d):t},d.spiral=function(p){return arguments.length?(l=q9t[p]||p,d):l},d.fontSize=function(p){return arguments.length?(r=Pv(p),d):r},d.padding=function(p){return arguments.length?(a=Pv(p),d):a},d.random=function(p){return arguments.length?(c=p,d):c},d}function j9t(e,t,n,r){if(!t.sprite){var i=e.context,s=e.ratio;i.clearRect(0,0,(OS<<5)/s,HO/s);var o=0,a=0,l=0,u=n.length,c,d,f,h,p;for(--r;++r<u;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/s)+"px "+t.font,c=i.measureText(t.text+"m").width*s,f=t.size<<1,t.rotate){var m=Math.sin(t.rotate*lz),g=Math.cos(t.rotate*lz),y=c*g,v=c*m,w=f*g,_=f*m;c=Math.max(Math.abs(y+_),Math.abs(y-_))+31>>5<<5,f=~~Math.max(Math.abs(v+w),Math.abs(v-w))}else c=c+31>>5<<5;if(f>l&&(l=f),o+c>=OS<<5&&(o=0,a+=l,l=0),a+f>=HO)break;i.translate((o+(c>>1))/s,(a+(f>>1))/s),t.rotate&&i.rotate(t.rotate*lz),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=c,t.height=f,t.xoff=o,t.yoff=a,t.x1=c>>1,t.y1=f>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,o+=c}for(var C=i.getImageData(0,0,(OS<<5)/s,HO/s).data,S=[];--r>=0;)if(t=n[r],!!t.hasText){for(c=t.width,d=c>>5,f=t.y1-t.y0,h=0;h<f*d;h++)S[h]=0;if(o=t.xoff,o==null)return;a=t.yoff;var T=0,k=-1;for(p=0;p<f;p++){for(h=0;h<c;h++){var I=d*p+(h>>5),R=C[(a+p)*(OS<<5)+(o+h)<<2]?1<<31-h%32:0;S[I]|=R,T|=R}T?k=p:(t.y0++,f--,p--,a++)}t.y1=t.y0+k,t.sprite=S.slice(0,(t.y1-t.y0)*d)}}}function B9t(e,t,n){n>>=5;for(var r=e.sprite,i=e.width>>5,s=e.x-(i<<4),o=s&127,a=32-o,l=e.y1-e.y0,u=(e.y+e.y0)*n+(s>>5),c,d=0;d<l;d++){c=0;for(var f=0;f<=i;f++)if((c<<a|(f<i?(c=r[d*i+f])>>>o:0))&t[u+f])return!0;u+=n}return!1}function z9t(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function U9t(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function X6e(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function V9t(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(s){var o=s<0?-1:1;switch(Math.sqrt(1+4*o*s)-o&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t;break}return[r,i]}}function H9t(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function Pv(e){return typeof e=="function"?e:function(){return e}}var q9t={archimedean:X6e,rectangular:V9t};const Q6e=["x","y","font","fontSize","fontStyle","fontWeight","angle"],W9t=["text","font","rotate","fontSize","fontStyle","fontWeight"];function ene(e){et.call(this,L9t(),e)}ene.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:Q6e}]};Nt(ene,et,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&at("Wordcloud size dimensions must be non-zero.");function n(p){const m=e[p];return ir(m)&&t.modified(m.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||W9t.some(n)))return;const i=t.materialize(t.SOURCE).source,s=this.value,o=e.as||Q6e;let a=e.fontSize||14,l;if(ir(a)?l=e.fontSizeRange:a=al(a),l){const p=a,m=Zr("sqrt")().domain(yp(i,p)).range(l);a=g=>m(p(g))}i.forEach(p=>{p[o[0]]=NaN,p[o[1]]=NaN,p[o[3]]=0});const u=s.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(a).random(hd).layout(),c=s.size(),d=c[0]>>1,f=c[1]>>1,h=u.length;for(let p=0,m,g;p<h;++p)m=u[p],g=m.datum,g[o[0]]=m.x+d,g[o[1]]=m.y+f,g[o[2]]=m.font,g[o[3]]=m.size,g[o[4]]=m.style,g[o[5]]=m.weight,g[o[6]]=m.rotate;return t.reflow(r).modifies(o)}});const G9t=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:ene},Symbol.toStringTag,{value:"Module"})),Y9t=e=>new Uint8Array(e),K9t=e=>new Uint16Array(e),mT=e=>new Uint32Array(e);function X9t(){let e=8,t=[],n=mT(0),r=e3(0,e),i=e3(0,e);return{data:()=>t,seen:()=>n=Q9t(n,t.length),add(s){for(let o=0,a=t.length,l=s.length,u;o<l;++o)u=s[o],u._index=a++,t.push(u)},remove(s,o){const a=t.length,l=Array(a-s),u=t;let c,d,f;for(d=0;!o[d]&&d<a;++d)l[d]=t[d],u[d]=d;for(f=d;d<a;++d)c=t[d],o[d]?u[d]=-1:(u[d]=f,r[f]=r[d],i[f]=i[d],l[f]=c,c._index=f++),r[d]=0;return t=l,u},size:()=>t.length,curr:()=>r,prev:()=>i,reset:s=>i[s]=r[s],all:()=>e<257?255:e<65537?65535:4294967295,set(s,o){r[s]|=o},clear(s,o){r[s]&=~o},resize(s,o){const a=r.length;(s>a||o>e)&&(e=Math.max(o,e),r=e3(s,e,r),i=e3(s,e))}}}function Q9t(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function e3(e,t,n){const r=(t<257?Y9t:t<65537?K9t:mT)(e);return n&&r.set(n),r}function V0e(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(i,s){const o=this,a=o.bisect(o.range,i.value),l=i.index,u=a[0],c=a[1],d=l.length;let f;for(f=0;f<u;++f)s[l[f]]|=r;for(f=c;f<d;++f)s[l[f]]|=r;return o}}}function H0e(){let e=mT(0),t=[],n=0;function r(a,l,u){if(!l.length)return[];const c=n,d=l.length,f=mT(d);let h=Array(d),p,m,g;for(g=0;g<d;++g)h[g]=a(l[g]),f[g]=g;if(h=J9t(h,f),c)p=t,m=e,t=Array(c+d),e=mT(c+d),Z9t(u,p,m,c,h,f,d,t,e);else{if(u>0)for(g=0;g<d;++g)f[g]+=u;t=h,e=f}return n=c+d,{index:f,value:h}}function i(a,l){const u=n;let c,d,f;for(d=0;!l[e[d]]&&d<u;++d);for(f=d;d<u;++d)l[c=e[d]]||(e[f]=c,t[f]=t[d],++f);n=u-a}function s(a){for(let l=0,u=n;l<u;++l)e[l]=a[e[l]]}function o(a,l){let u;return l?u=l.length:(l=t,u=n),[cCt(l,a[0],0,u),wy(l,a[1],0,u)]}return{insert:r,remove:i,bisect:o,reindex:s,index:()=>e,size:()=>n}}function J9t(e,t){return e.sort.call(t,(n,r)=>{const i=e[n],s=e[r];return i<s?-1:i>s?1:0}),hCt(e,t)}function Z9t(e,t,n,r,i,s,o,a,l){let u=0,c=0,d;for(d=0;u<r&&c<o;++d)t[u]<i[c]?(a[d]=t[u],l[d]=n[u++]):(a[d]=i[c],l[d]=s[c++]+e);for(;u<r;++u,++d)a[d]=t[u],l[d]=n[u];for(;c<o;++c,++d)a[d]=i[c],l[d]=s[c]+e}function tne(e){et.call(this,X9t(),e),this._indices=null,this._dims=null}tne.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};Nt(tne,et,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},s=this._dims=[],o=r.length;let a=0,l,u;for(;a<o;++a)l=n[a].fname,u=i[l]||(i[l]=H0e()),s.push(V0e(u,a,r[a]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,s=this._indices,o=this._dims,a=this.value,l=a.curr(),u=a.prev(),c=a.all(),d=n.rem=n.add,f=n.mod,h=i.length,p={};let m,g,y,v,w,_,C,S,T;if(u.set(l),t.rem.length&&(w=this.remove(e,t,n)),t.add.length&&a.add(t.add),t.mod.length)for(_={},v=t.mod,C=0,S=v.length;C<S;++C)_[v[C]._index]=1;for(C=0;C<h;++C)T=r[C],(!o[C]||e.modified("fields",C)||t.modified(T.fields))&&(y=T.fname,(m=p[y])||(s[y]=g=H0e(),p[y]=m=g.insert(T,t.source,0)),o[C]=V0e(g,C,i[C]).onAdd(m,l));for(C=0,S=a.data().length;C<S;++C)w[C]||(u[C]!==l[C]?d.push(C):_[C]&&l[C]!==c&&f.push(C));return a.mask=(1<<h)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,s=this._dims,o=this._indices,a=e.fields,l={},u=n.add,c=i.size()+r.length,d=s.length;let f=i.size(),h,p,m;i.resize(c,d),i.add(r);const g=i.curr(),y=i.prev(),v=i.all();for(h=0;h<d;++h)p=a[h].fname,m=l[p]||(l[p]=o[p].insert(a[h],r,f)),s[h].onAdd(m,g);for(;f<c;++f)y[f]=v,g[f]!==v&&u.push(f)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),s=r.all(),o=e.mod;let a,l,u;for(a=0,l=o.length;a<l;++a)u=o[a]._index,i[u]!==s&&n.push(u)},remove(e,t,n){const r=this._indices,i=this.value,s=i.curr(),o=i.prev(),a=i.all(),l={},u=n.rem,c=t.rem;let d,f,h,p;for(d=0,f=c.length;d<f;++d)h=c[d]._index,l[h]=1,o[h]=p=s[h],s[h]=a,p!==a&&u.push(h);for(h in r)r[h].remove(f,l);return this.reindex(t,f,l),l},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter(()=>{const s=i.remove(t,n);for(const o in r)r[o].reindex(s)})},update(e,t,n){const r=this._dims,i=e.query,s=t.stamp,o=r.length;let a=0,l,u;for(n.filters=0,u=0;u<o;++u)e.modified("query",u)&&(l=u,++a);if(a===1)a=r[l].one,this.incrementOne(r[l],i[l],n.add,n.rem);else for(u=0,a=0;u<o;++u)e.modified("query",u)&&(a|=r[u].one,this.incrementAll(r[u],i[u],s,n.add),n.rem=n.add);return a},incrementAll(e,t,n,r){const i=this.value,s=i.seen(),o=i.curr(),a=i.prev(),l=e.index(),u=e.bisect(e.range),c=e.bisect(t),d=c[0],f=c[1],h=u[0],p=u[1],m=e.one;let g,y,v;if(d<h)for(g=d,y=Math.min(h,f);g<y;++g)v=l[g],s[v]!==n&&(a[v]=o[v],s[v]=n,r.push(v)),o[v]^=m;else if(d>h)for(g=h,y=Math.min(d,p);g<y;++g)v=l[g],s[v]!==n&&(a[v]=o[v],s[v]=n,r.push(v)),o[v]^=m;if(f>p)for(g=Math.max(d,p),y=f;g<y;++g)v=l[g],s[v]!==n&&(a[v]=o[v],s[v]=n,r.push(v)),o[v]^=m;else if(f<p)for(g=Math.max(h,f),y=p;g<y;++g)v=l[g],s[v]!==n&&(a[v]=o[v],s[v]=n,r.push(v)),o[v]^=m;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value,s=i.curr(),o=e.index(),a=e.bisect(e.range),l=e.bisect(t),u=l[0],c=l[1],d=a[0],f=a[1],h=e.one;let p,m,g;if(u<d)for(p=u,m=Math.min(d,c);p<m;++p)g=o[p],s[g]^=h,n.push(g);else if(u>d)for(p=d,m=Math.min(u,f);p<m;++p)g=o[p],s[g]^=h,r.push(g);if(c>f)for(p=Math.max(u,f),m=c;p<m;++p)g=o[p],s[g]^=h,n.push(g);else if(c<f)for(p=Math.max(d,c),m=f;p<m;++p)g=o[p],s[g]^=h,r.push(g);e.range=t.slice()}});function nne(e){et.call(this,null,e)}nne.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};Nt(nne,et,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if((i&n)===0)return t.StopPropagation;const s=t.fork(t.ALL),o=r.data(),a=r.curr(),l=r.prev(),u=c=>a[c]&n?null:o[c];return s.filter(s.MOD,u),i&i-1?(s.filter(s.ADD,c=>{const d=a[c]&n;return!d&&d^l[c]&n?o[c]:null}),s.filter(s.REM,c=>{const d=a[c]&n;return d&&!(d^(d^l[c]&n))?o[c]:null})):(s.filter(s.ADD,u),s.filter(s.REM,c=>(a[c]&n)===i?o[c]:null)),s.filter(s.SOURCE,c=>u(c._index))}});const eBt=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:tne,resolvefilter:nne},Symbol.toStringTag,{value:"Module"})),tBt="RawCode",sb="Literal",nBt="Property",rBt="Identifier",iBt="ArrayExpression",sBt="BinaryExpression",J6e="CallExpression",oBt="ConditionalExpression",aBt="LogicalExpression",lBt="MemberExpression",uBt="ObjectExpression",cBt="UnaryExpression";function Zf(e){this.type=e}Zf.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=dBt(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function dBt(e){switch(e.type){case iBt:return e.elements;case sBt:case aBt:return[e.left,e.right];case J6e:return[e.callee].concat(e.arguments);case oBt:return[e.test,e.consequent,e.alternate];case lBt:return[e.object,e.property];case uBt:return e.properties;case nBt:return[e.key,e.value];case cBt:return[e.argument];case rBt:case sb:case tBt:default:return[]}}var Fp,ln,st,nl,gi,hF=1,bR=2,ob=3,rv=4,pF=5,Wb=6,lu=7,wR=8,fBt=9;Fp={};Fp[hF]="Boolean";Fp[bR]="<end>";Fp[ob]="Identifier";Fp[rv]="Keyword";Fp[pF]="Null";Fp[Wb]="Numeric";Fp[lu]="Punctuator";Fp[wR]="String";Fp[fBt]="RegularExpression";var hBt="ArrayExpression",pBt="BinaryExpression",mBt="CallExpression",gBt="ConditionalExpression",Z6e="Identifier",yBt="Literal",vBt="LogicalExpression",bBt="MemberExpression",wBt="ObjectExpression",xBt="Property",_Bt="UnaryExpression",Wo="Unexpected token %0",CBt="Unexpected number",EBt="Unexpected string",SBt="Unexpected identifier",TBt="Unexpected reserved word",kBt="Unexpected end of input",$W="Invalid regular expression",uz="Invalid regular expression: missing /",e5e="Octal literals are not allowed in strict mode.",ABt="Duplicate data property in object literal not allowed in strict mode",wa="ILLEGAL",Ok="Disabled.",RBt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),IBt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function mF(e,t){if(!e)throw new Error("ASSERT: "+t)}function gm(e){return e>=48&&e<=57}function rne(e){return"0123456789abcdefABCDEF".includes(e)}function gT(e){return"01234567".includes(e)}function DBt(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function Nk(e){return e===10||e===13||e===8232||e===8233}function xR(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&RBt.test(String.fromCharCode(e))}function D6(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&IBt.test(String.fromCharCode(e))}const PBt={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function t5e(){for(;st<nl;){const e=ln.charCodeAt(st);if(DBt(e)||Nk(e))++st;else break}}function MW(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)st<nl&&rne(ln[st])?(r=ln[st++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):Yr({},Wo,wa);return String.fromCharCode(i)}function OBt(){var e,t,n,r;for(e=ln[st],t=0,e==="}"&&Yr({},Wo,wa);st<nl&&(e=ln[st++],!!rne(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&Yr({},Wo,wa),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function n5e(){var e,t;for(e=ln.charCodeAt(st++),t=String.fromCharCode(e),e===92&&(ln.charCodeAt(st)!==117&&Yr({},Wo,wa),++st,e=MW("u"),(!e||e==="\\"||!xR(e.charCodeAt(0)))&&Yr({},Wo,wa),t=e);st<nl&&(e=ln.charCodeAt(st),!!D6(e));)++st,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),ln.charCodeAt(st)!==117&&Yr({},Wo,wa),++st,e=MW("u"),(!e||e==="\\"||!D6(e.charCodeAt(0)))&&Yr({},Wo,wa),t+=e);return t}function NBt(){var e,t;for(e=st++;st<nl;){if(t=ln.charCodeAt(st),t===92)return st=e,n5e();if(D6(t))++st;else break}return ln.slice(e,st)}function $Bt(){var e,t,n;return e=st,t=ln.charCodeAt(st)===92?n5e():NBt(),t.length===1?n=ob:PBt.hasOwnProperty(t)?n=rv:t==="null"?n=pF:t==="true"||t==="false"?n=hF:n=ob,{type:n,value:t,start:e,end:st}}function cz(){var e=st,t=ln.charCodeAt(st),n,r=ln[st],i,s,o;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++st,{type:lu,value:String.fromCharCode(t),start:e,end:st};default:if(n=ln.charCodeAt(st+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return st+=2,{type:lu,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:st};case 33:case 61:return st+=2,ln.charCodeAt(st)===61&&++st,{type:lu,value:ln.slice(e,st),start:e,end:st}}}if(o=ln.substr(st,4),o===">>>=")return st+=4,{type:lu,value:o,start:e,end:st};if(s=o.substr(0,3),s===">>>"||s==="<<="||s===">>=")return st+=3,{type:lu,value:s,start:e,end:st};if(i=s.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return st+=2,{type:lu,value:i,start:e,end:st};if(i==="//"&&Yr({},Wo,wa),"<>=!+-*%&|^/".includes(r))return++st,{type:lu,value:r,start:e,end:st};Yr({},Wo,wa)}function MBt(e){let t="";for(;st<nl&&rne(ln[st]);)t+=ln[st++];return t.length===0&&Yr({},Wo,wa),xR(ln.charCodeAt(st))&&Yr({},Wo,wa),{type:Wb,value:parseInt("0x"+t,16),start:e,end:st}}function FBt(e){let t="0"+ln[st++];for(;st<nl&&gT(ln[st]);)t+=ln[st++];return(xR(ln.charCodeAt(st))||gm(ln.charCodeAt(st)))&&Yr({},Wo,wa),{type:Wb,value:parseInt(t,8),octal:!0,start:e,end:st}}function q0e(){var e,t,n;if(n=ln[st],mF(gm(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=st,e="",n!=="."){if(e=ln[st++],n=ln[st],e==="0"){if(n==="x"||n==="X")return++st,MBt(t);if(gT(n))return FBt(t);n&&gm(n.charCodeAt(0))&&Yr({},Wo,wa)}for(;gm(ln.charCodeAt(st));)e+=ln[st++];n=ln[st]}if(n==="."){for(e+=ln[st++];gm(ln.charCodeAt(st));)e+=ln[st++];n=ln[st]}if(n==="e"||n==="E")if(e+=ln[st++],n=ln[st],(n==="+"||n==="-")&&(e+=ln[st++]),gm(ln.charCodeAt(st)))for(;gm(ln.charCodeAt(st));)e+=ln[st++];else Yr({},Wo,wa);return xR(ln.charCodeAt(st))&&Yr({},Wo,wa),{type:Wb,value:parseFloat(e),start:t,end:st}}function LBt(){var e="",t,n,r,i,s=!1;for(t=ln[st],mF(t==="'"||t==='"',"String literal must starts with a quote"),n=st,++st;st<nl;)if(r=ln[st++],r===t){t="";break}else if(r==="\\")if(r=ln[st++],!r||!Nk(r.charCodeAt(0)))switch(r){case"u":case"x":ln[st]==="{"?(++st,e+=OBt()):e+=MW(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:gT(r)?(i="01234567".indexOf(r),i!==0&&(s=!0),st<nl&&gT(ln[st])&&(s=!0,i=i*8+"01234567".indexOf(ln[st++]),"0123".includes(r)&&st<nl&&gT(ln[st])&&(i=i*8+"01234567".indexOf(ln[st++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&ln[st]===`
`&&++st;else{if(Nk(r.charCodeAt(0)))break;e+=r}return t!==""&&Yr({},Wo,wa),{type:wR,value:e,octal:s,start:n,end:st}}function jBt(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";Yr({},$W)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{Yr({},$W)}try{return new RegExp(e,t)}catch{return null}}function BBt(){var e,t,n,r,i;for(e=ln[st],mF(e==="/","Regular expression literal must start with a slash"),t=ln[st++],n=!1,r=!1;st<nl;)if(e=ln[st++],t+=e,e==="\\")e=ln[st++],Nk(e.charCodeAt(0))&&Yr({},uz),t+=e;else if(Nk(e.charCodeAt(0)))Yr({},uz);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||Yr({},uz),i=t.substr(1,t.length-2),{value:i,literal:t}}function zBt(){var e,t,n;for(t="",n="";st<nl&&(e=ln[st],!!D6(e.charCodeAt(0)));)++st,e==="\\"&&st<nl?Yr({},Wo,wa):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&Yr({},$W,n),{value:n,literal:t}}function UBt(){var e,t,n,r;return gi=null,t5e(),e=st,t=BBt(),n=zBt(),r=jBt(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:st}}function VBt(e){return e.type===ob||e.type===rv||e.type===hF||e.type===pF}function r5e(){if(t5e(),st>=nl)return{type:bR,start:st,end:st};const e=ln.charCodeAt(st);return xR(e)?$Bt():e===40||e===41||e===59?cz():e===39||e===34?LBt():e===46?gm(ln.charCodeAt(st+1))?q0e():cz():gm(e)?q0e():cz()}function du(){const e=gi;return st=e.end,gi=r5e(),st=e.end,e}function i5e(){const e=st;gi=r5e(),st=e}function HBt(e){const t=new Zf(hBt);return t.elements=e,t}function W0e(e,t,n){const r=new Zf(e==="||"||e==="&&"?vBt:pBt);return r.operator=e,r.left=t,r.right=n,r}function qBt(e,t){const n=new Zf(mBt);return n.callee=e,n.arguments=t,n}function WBt(e,t,n){const r=new Zf(gBt);return r.test=e,r.consequent=t,r.alternate=n,r}function ine(e){const t=new Zf(Z6e);return t.name=e,t}function NS(e){const t=new Zf(yBt);return t.value=e.value,t.raw=ln.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function G0e(e,t,n){const r=new Zf(bBt);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function GBt(e){const t=new Zf(wBt);return t.properties=e,t}function Y0e(e,t,n){const r=new Zf(xBt);return r.key=t,r.value=n,r.kind=e,r}function YBt(e,t){const n=new Zf(_Bt);return n.operator=e,n.argument=t,n.prefix=!0,n}function Yr(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(s,o)=>(mF(o<r.length,"Message reference must be in range"),r[o]));throw n=new Error(i),n.index=st,n.description=i,n}function gF(e){e.type===bR&&Yr(e,kBt),e.type===Wb&&Yr(e,CBt),e.type===wR&&Yr(e,EBt),e.type===ob&&Yr(e,SBt),e.type===rv&&Yr(e,TBt),Yr(e,Wo,e.value)}function rl(e){const t=du();(t.type!==lu||t.value!==e)&&gF(t)}function qi(e){return gi.type===lu&&gi.value===e}function dz(e){return gi.type===rv&&gi.value===e}function KBt(){const e=[];for(st=gi.start,rl("[");!qi("]");)qi(",")?(du(),e.push(null)):(e.push(ab()),qi("]")||rl(","));return du(),HBt(e)}function K0e(){st=gi.start;const e=du();return e.type===wR||e.type===Wb?(e.octal&&Yr(e,e5e),NS(e)):ine(e.value)}function XBt(){var e,t,n,r;if(st=gi.start,e=gi,e.type===ob)return n=K0e(),rl(":"),r=ab(),Y0e("init",n,r);if(e.type===bR||e.type===lu)gF(e);else return t=K0e(),rl(":"),r=ab(),Y0e("init",t,r)}function QBt(){var e=[],t,n,r,i={},s=String;for(st=gi.start,rl("{");!qi("}");)t=XBt(),t.key.type===Z6e?n=t.key.name:n=s(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?Yr({},ABt):i[r]=!0,e.push(t),qi("}")||rl(",");return rl("}"),GBt(e)}function JBt(){rl("(");const e=sne();return rl(")"),e}const ZBt={if:1};function e7t(){var e,t,n;if(qi("("))return JBt();if(qi("["))return KBt();if(qi("{"))return QBt();if(e=gi.type,st=gi.start,e===ob||ZBt[gi.value])n=ine(du().value);else if(e===wR||e===Wb)gi.octal&&Yr(gi,e5e),n=NS(du());else{if(e===rv)throw new Error(Ok);e===hF?(t=du(),t.value=t.value==="true",n=NS(t)):e===pF?(t=du(),t.value=null,n=NS(t)):qi("/")||qi("/=")?(n=NS(UBt()),i5e()):gF(du())}return n}function t7t(){const e=[];if(rl("("),!qi(")"))for(;st<nl&&(e.push(ab()),!qi(")"));)rl(",");return rl(")"),e}function n7t(){st=gi.start;const e=du();return VBt(e)||gF(e),ine(e.value)}function r7t(){return rl("."),n7t()}function i7t(){rl("[");const e=sne();return rl("]"),e}function s7t(){var e,t,n;for(e=e7t();;)if(qi("."))n=r7t(),e=G0e(".",e,n);else if(qi("("))t=t7t(),e=qBt(e,t);else if(qi("["))n=i7t(),e=G0e("[",e,n);else break;return e}function X0e(){const e=s7t();if(gi.type===lu&&(qi("++")||qi("--")))throw new Error(Ok);return e}function qO(){var e,t;if(gi.type!==lu&&gi.type!==rv)t=X0e();else{if(qi("++")||qi("--"))throw new Error(Ok);if(qi("+")||qi("-")||qi("~")||qi("!"))e=du(),t=qO(),t=YBt(e.value,t);else{if(dz("delete")||dz("void")||dz("typeof"))throw new Error(Ok);t=X0e()}}return t}function Q0e(e){let t=0;if(e.type!==lu&&e.type!==rv)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function o7t(){var e,t,n,r,i,s,o,a,l,u;if(e=gi,l=qO(),r=gi,i=Q0e(r),i===0)return l;for(r.prec=i,du(),t=[e,gi],o=qO(),s=[l,r,o];(i=Q0e(gi))>0;){for(;s.length>2&&i<=s[s.length-2].prec;)o=s.pop(),a=s.pop().value,l=s.pop(),t.pop(),n=W0e(a,l,o),s.push(n);r=du(),r.prec=i,s.push(r),t.push(gi),n=qO(),s.push(n)}for(u=s.length-1,n=s[u],t.pop();u>1;)t.pop(),n=W0e(s[u-1].value,s[u-2],n),u-=2;return n}function ab(){var e,t,n;return e=o7t(),qi("?")&&(du(),t=ab(),rl(":"),n=ab(),e=WBt(e,t,n)),e}function sne(){const e=ab();if(qi(","))throw new Error(Ok);return e}function s5e(e){ln=e,st=0,nl=ln.length,gi=null,i5e();const t=sne();if(gi.type!==bR)throw new Error("Unexpect token after expression.");return t}var o5e={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function a5e(e){function t(o,a,l,u){let c=e(a[0]);return l&&(c=l+"("+c+")",l.lastIndexOf("new ",0)===0&&(c="("+c+")")),c+"."+o+(u<0?"":u===0?"()":"("+a.slice(1).map(e).join(",")+")")}function n(o,a,l){return u=>t(o,u,a,l)}const r="new Date",i="String",s="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(o){o.length<3&&at("Missing arguments to clamp function."),o.length>3&&at("Too many arguments to clamp function.");const a=o.map(e);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),btoa:"btoa",atob:"atob",regexp:s,test:n("test",s),if:function(o){o.length<3&&at("Missing arguments to if function."),o.length>3&&at("Too many arguments to if function.");const a=o.map(e);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}function a7t(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function l5e(e){e=e||{};const t=e.allowed?Df(e.allowed):{},n=e.forbidden?Df(e.forbidden):{},r=e.constants||o5e,i=(e.functions||a5e)(d),s=e.globalvar,o=e.fieldvar,a=ir(s)?s:p=>`${s}["${p}"]`;let l={},u={},c=0;function d(p){if(Ht(p))return p;const m=f[p.type];return m==null&&at("Unsupported type: "+p.type),m(p)}const f={Literal:p=>p.raw,Identifier:p=>{const m=p.name;return c>0?m:Kt(n,m)?at("Illegal identifier: "+m):Kt(r,m)?r[m]:Kt(t,m)?m:(l[m]=1,a(m))},MemberExpression:p=>{const m=!p.computed,g=d(p.object);m&&(c+=1);const y=d(p.property);return g===o&&(u[a7t(y)]=1),m&&(c-=1),g+(m?"."+y:"["+y+"]")},CallExpression:p=>{p.callee.type!=="Identifier"&&at("Illegal callee type: "+p.callee.type);const m=p.callee.name,g=p.arguments,y=Kt(i,m)&&i[m];return y||at("Unrecognized function: "+m),ir(y)?y(g):y+"("+g.map(d).join(",")+")"},ArrayExpression:p=>"["+p.elements.map(d).join(",")+"]",BinaryExpression:p=>"("+d(p.left)+" "+p.operator+" "+d(p.right)+")",UnaryExpression:p=>"("+p.operator+d(p.argument)+")",ConditionalExpression:p=>"("+d(p.test)+"?"+d(p.consequent)+":"+d(p.alternate)+")",LogicalExpression:p=>"("+d(p.left)+p.operator+d(p.right)+")",ObjectExpression:p=>"{"+p.properties.map(d).join(",")+"}",Property:p=>{c+=1;const m=d(p.key);return c-=1,m+":"+d(p.value)}};function h(p){const m={code:d(p),globals:Object.keys(l),fields:Object.keys(u)};return l={},u={},m}return h.functions=i,h.constants=r,h}const J0e=Symbol("vega_selection_getter");function u5e(e){return(!e.getter||!e.getter[J0e])&&(e.getter=cd(e.field),e.getter[J0e]=!0),e.getter}const one="intersect",Z0e="union",l7t="vlMulti",u7t="vlPoint",ege="or",c7t="and",Mh="_vgsid_",$k=cd(Mh),d7t="E",f7t="R",h7t="R-E",p7t="R-LE",m7t="R-RE",g7t="E-LT",y7t="E-LTE",v7t="E-GT",b7t="E-GTE",w7t="E-VALID",x7t="E-ONE",P6="index:unit";function tge(e,t){for(var n=t.fields,r=t.values,i=n.length,s=0,o,a;s<i;++s)if(a=n[s],o=u5e(a)(e),ry(o)&&(o=Qa(o)),ry(r[s])&&(r[s]=Qa(r[s])),ut(r[s])&&ry(r[s][0])&&(r[s]=r[s].map(Qa)),a.type===d7t){if(ut(r[s])?!r[s].includes(o):o!==r[s])return!1}else if(a.type===f7t){if(!Ix(o,r[s]))return!1}else if(a.type===m7t){if(!Ix(o,r[s],!0,!1))return!1}else if(a.type===h7t){if(!Ix(o,r[s],!1,!1))return!1}else if(a.type===p7t){if(!Ix(o,r[s],!1,!0))return!1}else if(a.type===g7t){if(o>=r[s])return!1}else if(a.type===y7t){if(o>r[s])return!1}else if(a.type===v7t){if(o<=r[s])return!1}else if(a.type===b7t){if(o<r[s])return!1}else if(a.type===w7t){if(o===null||isNaN(o))return!1}else if(a.type===x7t&&r[s].indexOf(o)===-1)return!1;return!0}function _7t(e,t,n){for(var r=this.context.data[e],i=r?r.values.value:[],s=r?r[P6]&&r[P6].value:void 0,o=n===one,a=i.length,l=0,u,c,d,f,h;l<a;++l)if(u=i[l],s&&o){if(c=c||{},d=c[f=u.unit]||0,d===-1)continue;if(h=tge(t,u),c[f]=h?-1:++d,h&&s.size===1)return!0;if(!h&&d===s.get(f).count)return!1}else if(h=tge(t,u),o^h)return h;return a&&o}const c5e=WC($k),C7t=c5e.left,E7t=c5e.right;function S7t(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],s=r?r[P6]&&r[P6].value:void 0,o=n===one,a=$k(t),l=C7t(i,a);if(l===i.length||$k(i[l])!==a)return!1;if(s&&o){if(s.size===1)return!0;if(E7t(i,a)-l<s.size)return!1}return!0}function T7t(e,t){return e.map(n=>rr(t.fields?{values:t.fields.map(r=>u5e(r)(n.datum))}:{[Mh]:$k(n.datum)},t))}function k7t(e,t,n,r){for(var i=this.context.data[e],s=i?i.values.value:[],o={},a={},l={},u,c,d,f,h,p,m,g,y,v,w=s.length,_=0,C,S;_<w;++_)if(u=s[_],f=u.unit,c=u.fields,d=u.values,c&&d){for(C=0,S=c.length;C<S;++C)h=c[C],m=o[h.field]||(o[h.field]={}),g=m[f]||(m[f]=[]),l[h.field]=y=h.type.charAt(0),v=fz[`${y}_union`],m[f]=v(g,Ut(d[C]));n&&(g=a[f]||(a[f]=[]),g.push(Ut(d).reduce((T,k,I)=>(T[c[I].field]=k,T),{})))}else h=Mh,p=$k(u),m=o[h]||(o[h]={}),g=m[f]||(m[f]=[]),g.push(p),n&&(g=a[f]||(a[f]=[]),g.push({[Mh]:p}));if(t=t||Z0e,o[Mh]?o[Mh]=fz[`${Mh}_${t}`](...Object.values(o[Mh])):Object.keys(o).forEach(T=>{o[T]=Object.keys(o[T]).map(k=>o[T][k]).reduce((k,I)=>k===void 0?I:fz[`${l[T]}_${t}`](k,I))}),s=Object.keys(a),n&&s.length){const T=r?u7t:l7t;o[T]=t===Z0e?{[ege]:s.reduce((k,I)=>(k.push(...a[I]),k),[])}:{[c7t]:s.map(k=>({[ege]:a[k]}))}}return o}var fz={[`${Mh}_union`]:_Ct,[`${Mh}_intersect`]:wCt,E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.includes(t[n])||e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.includes(n)):t},R_union:function(e,t){var n=Qa(t[0]),r=Qa(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=Qa(t[0]),r=Qa(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const A7t=":",R7t="@";function ane(e,t,n,r){t[0].type!==sb&&at("First argument to selection functions must be a string literal.");const i=t[0].value,s=t.length>=2&&Rr(t).value,o="unit",a=R7t+o,l=A7t+i;s===one&&!Kt(r,a)&&(r[a]=n.getData(i).indataRef(n,o)),Kt(r,l)||(r[l]=n.getData(i).tuplesRef())}function d5e(e){const t=this.context.data[e];return t?t.values.value:[]}function I7t(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function D7t(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(dd).insert(t)),1}function P7t(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const _R=e=>function(t,n){const r=this.context.dataflow.locale();return t===null?"null":r[e](n)(t)},O7t=_R("format"),f5e=_R("timeFormat"),N7t=_R("utcFormat"),$7t=_R("timeParse"),M7t=_R("utcParse"),t3=new Date(2e3,0,1);function yF(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(t3.setYear(2e3),t3.setMonth(e),t3.setDate(t),f5e.call(this,t3,n))}function F7t(e){return yF.call(this,e,1,"%B")}function L7t(e){return yF.call(this,e,1,"%b")}function j7t(e){return yF.call(this,0,2+e,"%A")}function B7t(e){return yF.call(this,0,2+e,"%a")}const z7t=":",U7t="@",FW="%",h5e="$";function lne(e,t,n,r){t[0].type!==sb&&at("First argument to data functions must be a string literal.");const i=t[0].value,s=z7t+i;if(!Kt(s,r))try{r[s]=n.getData(i).tuplesRef()}catch{}}function V7t(e,t,n,r){t[0].type!==sb&&at("First argument to indata must be a string literal."),t[1].type!==sb&&at("Second argument to indata must be a string literal.");const i=t[0].value,s=t[1].value,o=U7t+s;Kt(o,r)||(r[o]=n.getData(i).indataRef(n,s))}function Pl(e,t,n,r){if(t[0].type===sb)nge(n,r,t[0].value);else for(e in n.scales)nge(n,r,e)}function nge(e,t,n){const r=FW+n;if(!Kt(t,r))try{t[r]=e.scaleRef(n)}catch{}}function Lp(e,t){if(Ht(e)){const n=t.scales[e];return n&&Kme(n.value)?n.value:void 0}else if(ir(e))return Kme(e)?e:void 0}function H7t(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=Pl,n._range=Pl,n._scale=Pl;const r=i=>"_["+(i.type===sb?Dt(FW+i.value):Dt(FW)+"+"+e(i))+"]";return{_bandwidth:i=>`this.__bandwidth(${r(i[0])})`,_range:i=>`${r(i[0])}.range()`,_scale:i=>`${r(i[0])}(${e(i[1])})`}}function une(e,t){return function(n,r,i){if(n){const s=Lp(n,(i||this).context);return s&&s.path[e](r)}else return t(r)}}const q7t=une("area",Bkt),W7t=une("bounds",Hkt),G7t=une("centroid",Xkt);function Y7t(e,t){const n=Lp(e,(t||this).context);return n&&n.scale()}function K7t(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function cne(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function X7t(){return cne(this.context.dataflow,"warn",arguments)}function Q7t(){return cne(this.context.dataflow,"info",arguments)}function J7t(){return cne(this.context.dataflow,"debug",arguments)}function hz(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function LW(e){const t=_y(e),n=hz(t.r),r=hz(t.g),i=hz(t.b);return .2126*n+.7152*r+.0722*i}function Z7t(e,t){const n=LW(e),r=LW(t),i=Math.max(n,r),s=Math.min(n,r);return(i+.05)/(s+.05)}function ezt(){const e=[].slice.call(arguments);return e.unshift({}),rr(...e)}function p5e(e,t){return e===t||e!==e&&t!==t?!0:ut(e)?ut(t)&&e.length===t.length?tzt(e,t):!1:Vt(e)&&Vt(t)?m5e(e,t):!1}function tzt(e,t){for(let n=0,r=e.length;n<r;++n)if(!p5e(e[n],t[n]))return!1;return!0}function m5e(e,t){for(const n in e)if(!p5e(e[n],t[n]))return!1;return!0}function rge(e){return t=>m5e(e,t)}function nzt(e,t,n,r,i,s){const o=this.context.dataflow,a=this.context.data[e],l=a.input,u=o.stamp();let c=a.changes,d,f;if(o._trigger===!1||!(l.value.length||t||r))return 0;if((!c||c.stamp<u)&&(a.changes=c=o.changeset(),c.stamp=u,o.runAfter(()=>{a.modified=!0,o.pulse(l,c).run()},!0,1)),n&&(d=n===!0?dd:ut(n)||zM(n)?n:rge(n),c.remove(d)),t&&c.insert(t),r&&(d=rge(r),l.value.some(d)?c.remove(d):c.insert(r)),i)for(f in s)c.modify(i,f,s[f]);return 1}function rzt(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.hypot(n,r)}function izt(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const ige={};function szt(e,t){const n=ige[t]||(ige[t]=cd(t));return ut(e)?e.map(n):n(e)}function vF(e){return ut(e)||ArrayBuffer.isView(e)?e:null}function dne(e){return vF(e)||(Ht(e)?e:null)}function ozt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return vF(e).join(...n)}function azt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return dne(e).indexOf(...n)}function lzt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return dne(e).lastIndexOf(...n)}function uzt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return dne(e).slice(...n)}function czt(e,t,n){return ir(n)&&at("Function argument passed to replace."),!Ht(t)&&!NZ(t)&&at("Please pass a string or RegExp argument to replace."),String(e).replace(t,n)}function dzt(e){return vF(e).slice().reverse()}function fzt(e){return vF(e).slice().sort(tR)}function hzt(e,t,n){return Fee(e||0,t||0,n||0)}function pzt(e,t){const n=Lp(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function mzt(e,t){const n=Lp(e,(t||this).context);return n?n.copy():void 0}function gzt(e,t){const n=Lp(e,(t||this).context);return n?n.domain():[]}function yzt(e,t,n){const r=Lp(e,(n||this).context);return r?ut(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function vzt(e,t){const n=Lp(e,(t||this).context);return n&&n.range?n.range():[]}function bzt(e,t,n){const r=Lp(e,(n||this).context);return r?r(t):void 0}function wzt(e,t,n,r,i){e=Lp(e,(i||this).context);const s=i4e(t,n);let o=e.domain(),a=o[0],l=Rr(o),u=ol;return l-a?u=WNe(e,a,l):e=(e.interpolator?Zr("sequential")().interpolator(e.interpolator()):Zr("linear")().interpolate(e.interpolate()).range(e.range())).domain([a=0,l=1]),e.ticks&&(o=e.ticks(+r||15),a!==o[0]&&o.unshift(a),l!==Rr(o)&&o.push(l)),o.forEach(c=>s.stop(u(c),e(c))),s}function xzt(e,t,n){const r=Lp(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function _zt(e){let t=null;return function(n){return n?Rk(n,t=t||V_(e)):e}}const g5e=e=>e.data;function y5e(e,t){const n=d5e.call(t,e);return n.root&&n.root.lookup||{}}function Czt(e,t,n){const r=y5e(e,this),i=r[t],s=r[n];return i&&s?i.path(s).map(g5e):void 0}function Ezt(e,t){const n=y5e(e,this)[t];return n?n.ancestors().map(g5e):void 0}const v5e=()=>typeof window<"u"&&window||null;function Szt(){const e=v5e();return e?e.screen:{}}function Tzt(){const e=v5e();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function kzt(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function b5e(e,t,n){if(!e)return[];const[r,i]=e,s=new io().set(r[0],r[1],i[0],i[1]),o=n||this.context.dataflow.scenegraph().root;return t6e(o,s,Azt(t))}function Azt(e){let t=null;if(e){const n=Ut(e.marktype),r=Ut(e.markname);t=i=>(!n.length||n.some(s=>i.marktype===s))&&(!r.length||r.some(s=>i.name===s))}return t}function Rzt(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;e=Ut(e);const i=e[e.length-1];return i===void 0||Math.hypot(i[0]-t,i[1]-n)>r?[...e,[t,n]]:e}function Izt(e){return Ut(e).reduce((t,n,r)=>{let[i,s]=n;return t+=r==0?`M ${i},${s} `:r===e.length-1?" Z":`L ${i},${s} `},"")}function Dzt(e,t,n){const{x:r,y:i,mark:s}=n,o=new io().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[l,u]of t)l<o.x1&&(o.x1=l),l>o.x2&&(o.x2=l),u<o.y1&&(o.y1=u),u>o.y2&&(o.y2=u);return o.translate(r,i),b5e([[o.x1,o.y1],[o.x2,o.y2]],e,s).filter(l=>Pzt(l.x,l.y,t))}function Pzt(e,t,n){let r=0;for(let i=0,s=n.length-1;i<n.length;s=i++){const[o,a]=n[s],[l,u]=n[i];u>t!=a>t&&e<(o-l)*(t-u)/(a-u)+l&&r++}return r&1}const Mk={random(){return hd()},cumulativeNormal:WM,cumulativeLogNormal:ree,cumulativeUniform:aee,densityNormal:JZ,densityLogNormal:nee,densityUniform:oee,quantileNormal:GM,quantileLogNormal:iee,quantileUniform:lee,sampleNormal:qM,sampleLogNormal:tee,sampleUniform:see,isArray:ut,isBoolean:nv,isDate:ry,isDefined(e){return e!==void 0},isNumber:Jr,isObject:Vt,isRegExp:NZ,isString:Ht,isTuple:zM,isValid(e){return e!=null&&e===e},toBoolean:MZ,toDate(e){return FZ(e)},toNumber:Qa,toString:LZ,indexof:azt,join:ozt,lastindexof:lzt,replace:czt,reverse:dzt,sort:fzt,slice:uzt,flush:tOe,lerp:rOe,merge:ezt,pad:oOe,peek:Rr,pluck:szt,span:nR,inrange:Ix,truncate:aOe,rgb:_y,lab:w4,hcl:x4,hsl:lk,luminance:LW,contrast:Z7t,sequence:pu,format:O7t,utcFormat:N7t,utcParse:M7t,utcOffset:xOe,utcSequence:EOe,timeFormat:f5e,timeParse:$7t,timeOffset:wOe,timeSequence:COe,timeUnitSpecifier:uOe,monthFormat:F7t,monthAbbrevFormat:L7t,dayFormat:j7t,dayAbbrevFormat:B7t,quarter:QPe,utcquarter:JPe,week:dOe,utcweek:pOe,dayofyear:cOe,utcdayofyear:hOe,warn:X7t,info:Q7t,debug:J7t,extent(e){return yp(e)},inScope:K7t,intersect:b5e,clampRange:ZPe,pinchDistance:rzt,pinchAngle:izt,screen:Szt,containerSize:kzt,windowSize:Tzt,bandspace:hzt,setdata:D7t,pathShape:_zt,panLinear:GPe,panLog:YPe,panPow:KPe,panSymlog:XPe,zoomLinear:RZ,zoomLog:IZ,zoomPow:d6,zoomSymlog:DZ,encode:P7t,modify:nzt,lassoAppend:Rzt,lassoPath:Izt,intersectLasso:Dzt},Ozt=["view","item","group","xy","x","y"],Nzt="event.vega.",w5e="this.",fne={},x5e={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${Dt(h5e+e)}]`,functions:$zt,constants:o5e,visitors:fne},jW=l5e(x5e);function $zt(e){const t=a5e(e);Ozt.forEach(n=>t[n]=Nzt+n);for(const n in Mk)t[n]=w5e+n;return rr(t,H7t(e,Mk,fne)),t}function Ks(e,t,n){return arguments.length===1?Mk[e]:(Mk[e]=t,n&&(fne[e]=n),jW&&(jW.functions[e]=w5e+e),this)}Ks("bandwidth",pzt,Pl);Ks("copy",mzt,Pl);Ks("domain",gzt,Pl);Ks("range",vzt,Pl);Ks("invert",yzt,Pl);Ks("scale",bzt,Pl);Ks("gradient",wzt,Pl);Ks("geoArea",q7t,Pl);Ks("geoBounds",W7t,Pl);Ks("geoCentroid",G7t,Pl);Ks("geoShape",xzt,Pl);Ks("geoScale",Y7t,Pl);Ks("indata",I7t,V7t);Ks("data",d5e,lne);Ks("treePath",Czt,lne);Ks("treeAncestors",Ezt,lne);Ks("vlSelectionTest",_7t,ane);Ks("vlSelectionIdTest",S7t,ane);Ks("vlSelectionResolve",k7t,ane);Ks("vlSelectionTuples",T7t);function bp(e,t){const n={};let r;try{e=Ht(e)?e:Dt(e)+"",r=s5e(e)}catch{at("Expression parse error: "+e)}r.visit(s=>{if(s.type!==J6e)return;const o=s.callee.name,a=x5e.visitors[o];a&&a(o,s.arguments,t,n)});const i=jW(r);return i.globals.forEach(s=>{const o=h5e+s;!Kt(n,o)&&t.getSignal(s)&&(n[o]=t.signalRef(s))}),{$expr:rr({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function Mzt(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const Fzt=Df(["rule"]),sge=Df(["group","image","rect"]);function Lzt(e,t){let n="";return Fzt[t]||(e.x2&&(e.x?(sge[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(sge[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function hne(e){return(e+"").toLowerCase()}function jzt(e){return hne(e)==="operator"}function Bzt(e){return hne(e)==="collect"}function D2(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function zzt(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${r}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${r} : `}var Uzt={operator:(e,t)=>D2(e,["_"],t.code),parameter:(e,t)=>D2(e,["datum","_"],t.code),event:(e,t)=>D2(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return D2(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const s in r){const o="o["+Dt(s)+"]";i+=`$=${r[s].code};if(${o}!==$)${o}=$,m=1;`}return i+=Lzt(r,n),i+="return m;",D2(e,["item","_"],i)},codegen:{get(e){const t=`[${e.map(Dt).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=(s,o)=>{const a=t[o];let l,u;return s.path?(l=`a${s.path}`,u=`b${s.path}`):((n=n||{})["f"+o]=s,l=`this.f${o}(a)`,u=`this.f${o}(b)`),zzt(l,u,-a,a)},i=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?i.bind(n):i}}};function Vzt(e){const t=this;jzt(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function Hzt(e){const t=this;if(e.params){const n=t.get(e.id);n||at("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function qzt(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=ut(i)?i.map(s=>oge(s,n,t)):oge(i,n,t)}return t}function oge(e,t,n){if(!e||!Vt(e))return e;for(let r=0,i=age.length,s;r<i;++r)if(s=age[r],Kt(e,s.key))return s.parse(e,t,n);return e}var age=[{key:"$ref",parse:Wzt},{key:"$key",parse:Yzt},{key:"$expr",parse:Gzt},{key:"$field",parse:Kzt},{key:"$encode",parse:Qzt},{key:"$compare",parse:Xzt},{key:"$context",parse:Jzt},{key:"$subflow",parse:Zzt},{key:"$tupleid",parse:eUt}];function Wzt(e,t){return t.get(e.$ref)||at("Operator not defined: "+e.$ref)}function Gzt(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=Pu(t.parameterExpression(e.$expr),e.$fields))}function Yzt(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=$Z(e.$key,e.$flat,t.expr.codegen))}function Kzt(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=cd(e.$field,e.$name,t.expr.codegen))}function Xzt(e,t){const n="c:"+e.$compare+"_"+e.$order,r=Ut(e.$compare).map(i=>i&&i.$tupleid?wn:i);return t.fn[n]||(t.fn[n]=PZ(r,e.$order,t.expr.codegen))}function Qzt(e,t){const n=e.$encode,r={};for(const i in n){const s=n[i];r[i]=Pu(t.encodeExpression(s.$expr),s.$fields),r[i].output=s.$output}return r}function Jzt(e,t){return t}function Zzt(e,t){const n=e.$subflow;return function(r,i,s){const o=t.fork().parse(n),a=o.get(n.operators[0].id),l=o.signals.parent;return l&&l.set(s),a.detachSubflow=()=>t.detach(o),a}}function eUt(){return wn}function tUt(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,i;e.source?r=t.events(e.source,e.type,n):e.merge&&(i=e.merge.map(s=>t.get(s)),r=i[0].merge.apply(i[0],i.slice(1))),e.between&&(i=e.between.map(s=>t.get(s)),r=r.between(i[0],i[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&at("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function nUt(e){var t=this,n=Vt(n=e.source)?n.$ref:n,r=t.get(n),i=null,s=e.update,o=void 0;r||at("Source not defined: "+e.source),i=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),s&&s.$expr&&(s.$params&&(o=t.parseParameters(s.$params)),s=t.handlerExpression(s.$expr)),t.update(e,r,i,s,o)}const rUt={skip:!0};function iUt(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(s=>{const o=t.signals[s];e.signals(s,o)&&(r[s]=o.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(s=>{const o=t.data[s];e.data(s,o)&&(i[s]=o.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(s=>s.getState(e))),n}function sUt(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(s=>{n.update(t.signals[s],i[s],rUt)}),Object.keys(r||{}).forEach(s=>{n.pulse(t.data[s].input,n.changeset().remove(dd).insert(r[s]))}),(e.subcontext||[]).forEach((s,o)=>{const a=t.subcontext[o];a&&a.setState(s)})}function _5e(e,t,n,r){return new C5e(e,t,n,r)}function C5e(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||Uzt,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function lge(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}C5e.prototype=lge.prototype={fork(){const e=new lge(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),Bzt(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let s=n.get(e.parent.$ref);s?(r.connect(s,[t]),t.targets().add(s)):(n.unresolved=n.unresolved||[]).push(()=>{s=n.get(e.parent.$ref),r.connect(s,[t]),t.targets().add(s)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const s in e.data){const o=n.data[s]||(n.data[s]={});e.data[s].forEach(a=>o[a]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[hne(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:Mzt,parseOperator:Vzt,parseOperatorParameters:Hzt,parseParameters:qzt,parseStream:tUt,parseUpdate:nUt,getState:iUt,setState:sUt};function oUt(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),E5e(t,e.description()))}function E5e(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function aUt(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const pz="default";function lUt(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:pz,item:null}));e.on(e.events("view","pointermove"),t,(n,r)=>{const i=t.value,s=i?Ht(i)?i:i.user:pz,o=r.item&&r.item.cursor||null;return i&&s===i.user&&o==i.item?i:{user:s,item:o}}),e.add(null,function(n){let r=n.cursor,i=this.value;return Ht(r)||(i=r.item,r=r.user),BW(e,r&&r!==pz?r:i||r),i},{cursor:t})}function BW(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function O6(e,t){var n=e._runtime.data;return Kt(n,t)||at("Unrecognized data set: "+t),n[t]}function uUt(e,t){return arguments.length<2?O6(this,e).values.value:bF.call(this,e,Hb().remove(dd).insert(t))}function bF(e,t){HOe(t)||at("Second argument to changes must be a changeset.");const n=O6(this,e);return n.modified=!0,this.pulse(n.input,t)}function cUt(e,t){return bF.call(this,e,Hb().insert(t))}function dUt(e,t){return bF.call(this,e,Hb().remove(t))}function S5e(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function T5e(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function wF(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function fUt(e){var t=wF(e),n=S5e(e),r=T5e(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(i=>{try{i(n,r)}catch(s){e.error(s)}})}function hUt(e,t,n){var r=e._renderer,i=r&&r.canvas(),s,o,a;return i&&(a=wF(e),o=t.changedTouches?t.changedTouches[0]:t,s=cF(o,i),s[0]-=a[0],s[1]-=a[1]),t.dataflow=e,t.item=n,t.vega=pUt(e,n,s),t}function pUt(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function i(o){var a=r,l;if(o){for(l=t;l;l=l.mark.group)if(l.mark.name===o){a=l;break}}return a&&a.mark&&a.mark.interactive?a:{}}function s(o){if(!o)return n;Ht(o)&&(o=i(o));const a=n.slice();for(;o;)a[0]-=o.x||0,a[1]-=o.y||0,o=o.mark&&o.mark.group;return a}return{view:al(e),item:al(t||{}),group:i,xy:s,x:o=>s(o)[0],y:o=>s(o)[1]}}const uge="view",mUt="timer",gUt="window",yUt={trap:!1};function vUt(e){const t=rr({defaults:{}},e),n=(r,i)=>{i.forEach(s=>{ut(r[s])&&(r[s]=Df(r[s]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function k5e(e,t,n,r){e._eventListeners.push({type:n,sources:Ut(t),handler:r})}function bUt(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return r===!1||i===!0?!1:r===!0||i===!1?!0:r?r[t]:i?!i[t]:e.preventDefault()}function n3(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||Vt(r)&&!r[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function wUt(e,t,n){var r=this,i=new HM(n),s=function(u,c){r.runAsync(null,()=>{e===uge&&bUt(r,t)&&u.preventDefault(),i.receive(hUt(r,u,c))})},o;if(e===mUt)n3(r,"timer",t)&&r.timer(s,t);else if(e===uge)n3(r,"view",t)&&r.addEventListener(t,s,yUt);else if(e===gUt?n3(r,"window",t)&&typeof window<"u"&&(o=[window]):typeof document<"u"&&n3(r,"selector",t)&&(o=Array.from(document.querySelectorAll(e))),!o)r.warn("Can not resolve event source: "+e);else{for(var a=0,l=o.length;a<l;++a)o[a].addEventListener(t,s);k5e(r,o,t,s)}return i}function cge(e){return e.item}function dge(e){return e.item.mark.source}function fge(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function xUt(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","pointerover",cge),dge,fge(e)),this.on(this.events("view","pointerout",cge),dge,fge(t)),this}function _Ut(){var e=this._tooltip,t=this._timers,n=this._handler.handlers(),r=this._eventListeners,i,s,o,a,l;for(i=t.length;--i>=0;)t[i].stop();for(i=r.length;--i>=0;)for(o=r[i],s=o.sources.length;--s>=0;)o.sources[s].removeEventListener(o.type,o.handler);for(e&&e.call(this,this._handler,null,null,null),i=n.length;--i>=0;)l=n[i].type,a=n[i].handler,this._handler.off(l,a);return this}function tc(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return n!=null&&(r.textContent=n),r}const CUt="vega-bind",EUt="vega-bind-name",SUt="vega-bind-radio";function TUt(e,t,n){if(!t)return;const r=n.param;let i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:o=>{o!=e.signal(r.signal)&&e.runAsync(null,()=>{i.source=!0,e.signal(r.signal,o)})}},r.debounce&&(i.update=OZ(r.debounce,i.update))),(r.input==null&&r.element?kUt:RUt)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}function kUt(e,t,n,r){const i=n.event||"input",s=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,s),k5e(r,t,i,s),e.set=o=>{t.value=o,t.dispatchEvent(AUt(i))}}function AUt(e){return typeof Event<"u"?new Event(e):{type:e}}function RUt(e,t,n,r){const i=r.signal(n.signal),s=tc("div",{class:CUt}),o=n.input==="radio"?s:s.appendChild(tc("label"));o.appendChild(tc("span",{class:EUt},n.name||n.signal)),t.appendChild(s);let a=IUt;switch(n.input){case"checkbox":a=DUt;break;case"select":a=PUt;break;case"radio":a=OUt;break;case"range":a=NUt;break}a(e,o,n,i)}function IUt(e,t,n,r){const i=tc("input");for(const s in n)s!=="signal"&&s!=="element"&&i.setAttribute(s==="input"?"type":s,n[s]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=s=>i.value=s}function DUt(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const s=tc("input",i);t.appendChild(s),s.addEventListener("change",()=>e.update(s.checked)),e.elements=[s],e.set=o=>s.checked=!!o||null}function PUt(e,t,n,r){const i=tc("select",{name:n.signal}),s=n.labels||[];n.options.forEach((o,a)=>{const l={value:o};N6(o,r)&&(l.selected=!0),i.appendChild(tc("option",l,(s[a]||o)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=o=>{for(let a=0,l=n.options.length;a<l;++a)if(N6(n.options[a],o)){i.selectedIndex=a;return}}}function OUt(e,t,n,r){const i=tc("span",{class:SUt}),s=n.labels||[];t.appendChild(i),e.elements=n.options.map((o,a)=>{const l={type:"radio",name:n.signal,value:o};N6(o,r)&&(l.checked=!0);const u=tc("input",l);u.addEventListener("change",()=>e.update(o));const c=tc("label",{},(s[a]||o)+"");return c.prepend(u),i.appendChild(c),u}),e.set=o=>{const a=e.elements,l=a.length;for(let u=0;u<l;++u)N6(a[u].value,o)&&(a[u].checked=!0)}}function NUt(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const i=n.max!=null?n.max:Math.max(100,+r)||100,s=n.min||Math.min(0,i,+r)||0,o=n.step||xy(s,i,100),a=tc("input",{type:"range",name:n.signal,min:s,max:i,step:o});a.value=r;const l=tc("span",{},+r);t.appendChild(a),t.appendChild(l);const u=()=>{l.textContent=a.value,e.update(+a.value)};a.addEventListener("input",u),a.addEventListener("change",u),e.elements=[a],e.set=c=>{a.value=c,l.textContent=c}}function N6(e,t){return e===t||e+""==t+""}function A5e(e,t,n,r,i,s){return t=t||new r(e.loader()),t.initialize(n,S5e(e),T5e(e),wF(e),i,s).background(e.background())}function pne(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function $Ut(e,t,n,r){const i=new r(e.loader(),pne(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,wF(e),e);return t&&t.handlers().forEach(s=>{i.on(s.type,s.handler)}),i}function MUt(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,s=dF(r);e=n._el=e?mz(n,e,!0):null,oUt(n),s||n.error("Unrecognized renderer type: "+r);const o=s.handler||vR,a=e?s.renderer:s.headless;return n._renderer=a?A5e(n,n._renderer,e,a):null,n._handler=$Ut(n,n._handler,e,o),n._redraw=!0,e&&i!=="none"&&(t=t?n._elBind=mz(n,t,!0):e.appendChild(tc("form",{class:"vega-bindings"})),n._bind.forEach(l=>{l.param.element&&i!=="container"&&(l.element=mz(n,l.param.element,!!l.param.input))}),n._bind.forEach(l=>{TUt(n,l.element||t,l)})),n}function mz(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const P2=e=>+e||0,FUt=e=>({top:e,bottom:e,left:e,right:e});function hge(e){return Vt(e)?{top:P2(e.top),bottom:P2(e.bottom),left:P2(e.left),right:P2(e.right)}:FUt(P2(e))}async function mne(e,t,n,r){const i=dF(t),s=i&&i.headless;return s||at("Unrecognized renderer type: "+t),await e.runAsync(),A5e(e,null,null,s,n,r).renderAsync(e._scenegraph.root)}async function LUt(e,t){e!==Ug.Canvas&&e!==Ug.SVG&&e!==Ug.PNG&&at("Unrecognized image type: "+e);const n=await mne(this,e,t);return e===Ug.SVG?jUt(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function jUt(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function BUt(e,t){return(await mne(this,Ug.Canvas,e,t)).canvas()}async function zUt(e){return(await mne(this,Ug.SVG,e)).svg()}function UUt(e,t,n){return _5e(e,j_,Mk,n).parse(t)}function VUt(e){var t=this._runtime.scales;return Kt(t,e)||at("Unrecognized scale or projection: "+e),t[e].value}var R5e="width",I5e="height",gne="padding",pge={skip:!0};function D5e(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===gne?r.left+r.right:0)}function P5e(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===gne?r.top+r.bottom:0)}function HUt(e){var t=e._signals,n=t[R5e],r=t[I5e],i=t[gne];function s(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,a=>{e._width=a.size,e._viewWidth=D5e(e,a.size),s()},{size:n}),e._resizeHeight=e.add(null,a=>{e._height=a.size,e._viewHeight=P5e(e,a.size),s()},{size:r});const o=e.add(null,s,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,o.rank=i.rank+1}function qUt(e,t,n,r,i,s){this.runAfter(o=>{let a=0;o._autosize=0,o.width()!==n&&(a=1,o.signal(R5e,n,pge),o._resizeWidth.skip(!0)),o.height()!==r&&(a=1,o.signal(I5e,r,pge),o._resizeHeight.skip(!0)),o._viewWidth!==e&&(o._resize=1,o._viewWidth=e),o._viewHeight!==t&&(o._resize=1,o._viewHeight=t),(o._origin[0]!==i[0]||o._origin[1]!==i[1])&&(o._resize=1,o._origin=i),a&&o.run("enter"),s&&o.runAfter(l=>l.resize())},!1,1)}function WUt(e){return this._runtime.getState(e||{data:GUt,signals:YUt,recurse:!0})}function GUt(e,t){return t.modified&&ut(t.input.value)&&!e.startsWith("_:vega:_")}function YUt(e,t){return!(e==="parent"||t instanceof j_.proxy)}function KUt(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function XUt(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(eSt(n,t))}function QUt(e,t,n,r){const i=e.element();i&&i.setAttribute("title",JUt(r))}function JUt(e){return e==null?"":ut(e)?O5e(e):Vt(e)&&!ry(e)?ZUt(e):e+""}function ZUt(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(ut(n)?O5e(n):N5e(n))}).join(`
`)}function O5e(e){return"["+e.map(N5e).join(", ")+"]"}function N5e(e){return ut(e)?"[]":Vt(e)&&!ry(e)?"{}":e}function eVt(){if(this.renderer()==="canvas"&&this._renderer._canvas){let e=null;const t=()=>{e?.();const n=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);n.addEventListener("change",t),e=()=>{n.removeEventListener("change",t)},this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1,this._redraw=!0,this._resize=1,this.resize().runAsync()};t()}}function $5e(e,t){const n=this;if(t=t||{},Jx.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const s=rr({},e.locale,t.locale);n.locale(NOe(s.number,s.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||Ug.Canvas,n._scenegraph=new A4e;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||QUt,n._redraw=!0,n._handler=new vR().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=vUt(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=UUt(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(s=>({state:null,param:rr({},s)})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=D5e(n,n._width),n._viewHeight=P5e(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,HUt(n),aUt(n),lUt(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind),t.watchPixelRatio&&n._watchPixelRatio()}function r3(e,t){return Kt(e._signals,t)?e._signals[t]:at("Unrecognized signal name: "+Dt(t))}function M5e(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function mge(e,t,n,r){let i=M5e(n,r);return i||(i=pne(e,()=>r(t,n.value)),i.handler=r,e.on(n,null,i)),e}function gge(e,t,n){const r=M5e(t,n);return r&&t._targets.remove(r),e}Nt($5e,Jx,{async evaluate(e,t,n){if(await Jx.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,fUt(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&PO(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&E5e(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=r3(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",hge(e)):hge(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(dF(e)||at("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(Jx.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(r3(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:qUt,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=pne(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,i,s;--r>=0;)if(s=n[r].type,i=n[r].handler,e===s&&(t===i||t===i.raw)){this._handler.off(s,i);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.includes(e)||t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return mge(this,e,r3(this,e),t)},removeSignalListener(e,t){return gge(this,r3(this,e),t)},addDataListener(e,t){return mge(this,e,O6(this,e).values,t)},removeDataListener(e,t){return gge(this,O6(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=BW(this,null);this._globalCursor=!!e,t&&BW(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:XUt,events:wUt,finalize:_Ut,hover:xUt,data:uUt,change:bF,insert:cUt,remove:dUt,scale:VUt,initialize:MUt,toImageURL:LUt,toCanvas:BUt,toSVG:zUt,getState:WUt,setState:KUt,_watchPixelRatio:eVt});const tVt="view",$6="[",M6="]",F5e="{",L5e="}",nVt=":",j5e=",",rVt="@",iVt=">",sVt=/[[\]{}]/,oVt={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let B5e,z5e;function iv(e,t,n){return B5e=t||tVt,z5e=n||oVt,U5e(e.trim()).map(zW)}function aVt(e){return z5e[e]}function yT(e,t,n,r,i){const s=e.length;let o=0,a;for(;t<s;++t){if(a=e[t],!o&&a===n)return t;i&&i.indexOf(a)>=0?--o:r&&r.indexOf(a)>=0&&++o}return t}function U5e(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=yT(e,i,j5e,$6+F5e,M6+L5e),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function zW(e){return e[0]==="["?lVt(e):uVt(e)}function lVt(e){const t=e.length;let n=1,r;if(n=yT(e,n,M6,$6,M6),n===t)throw"Empty between selector: "+e;if(r=U5e(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==iVt)throw"Expected '>' after between selector: "+e;r=r.map(zW);const i=zW(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function uVt(e){const t={source:B5e},n=[];let r=[0,0],i=0,s=0,o=e.length,a=0,l,u;if(e[o-1]===L5e){if(a=e.lastIndexOf(F5e),a>=0){try{r=cVt(e.substring(a+1,o-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,a).trim(),o=e.length}else throw"Unmatched right brace: "+e;a=0}if(!o)throw e;if(e[0]===rVt&&(i=++a),l=yT(e,a,nVt),l<o&&(n.push(e.substring(s,l).trim()),s=a=++l),a=yT(e,a,$6),a===o)n.push(e.substring(s,o).trim());else if(n.push(e.substring(s,a).trim()),u=[],s=++a,s===o)throw"Unmatched left bracket: "+e;for(;a<o;){if(a=yT(e,a,M6),a===o)throw"Unmatched left bracket: "+e;if(u.push(e.substring(s,a).trim()),a<o-1&&e[++a]!==$6)throw"Expected left bracket: "+e;s=++a}if(!(o=n.length)||sVt.test(n[o-1]))throw"Invalid event selector: "+e;return o>1?(t.type=n[1],i?t.markname=n[0].slice(1):aVt(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),u!=null&&(t.filter=u),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function cVt(e){const t=e.split(j5e);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function dVt(e){return Vt(e)?e:{type:e||"pad"}}const O2=e=>+e||0,fVt=e=>({top:e,bottom:e,left:e,right:e});function hVt(e){return Vt(e)?e.signal?e:{top:O2(e.top),bottom:O2(e.bottom),left:O2(e.left),right:O2(e.right)}:fVt(O2(e))}const Go=e=>Vt(e)&&!ut(e)?rr({},e):{value:e};function yge(e,t,n,r){return n!=null?(Vt(n)&&!ut(n)||ut(n)&&n.length&&Vt(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function Ea(e,t,n){for(const r in t)yge(e,r,t[r]);for(const r in n)yge(e,r,n[r],"update")}function fE(e,t,n){for(const r in t)n&&Kt(n,r)||(e[r]=rr(e[r]||{},t[r]));return e}function bx(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const yne="mark",vne="frame",bne="scope",pVt="axis",mVt="axis-domain",gVt="axis-grid",yVt="axis-label",vVt="axis-tick",bVt="axis-title",wVt="legend",xVt="legend-band",_Vt="legend-entry",CVt="legend-gradient",V5e="legend-label",EVt="legend-symbol",SVt="legend-title",TVt="title",kVt="title-text",AVt="title-subtitle";function RVt(e,t,n,r,i){const s={},o={};let a,l,u,c;l="lineBreak",t==="text"&&i[l]!=null&&!bx(l,e)&&gz(s,l,i[l]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),c=n===vne?i.group:n===yne?rr({},i.mark,i[t]):null;for(l in c)u=bx(l,e)||(l==="fill"||l==="stroke")&&(bx("fill",e)||bx("stroke",e)),u||gz(s,l,c[l]);Ut(r).forEach(d=>{const f=i.style&&i.style[d];for(const h in f)bx(h,e)||gz(s,h,f[h])}),e=rr({},e);for(l in s)c=s[l],c.signal?(a=a||{})[l]=c:o[l]=c;return e.enter=rr(o,e.enter),a&&(e.update=rr(a,e.update)),e}function gz(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const H5e=e=>Ht(e)?Dt(e):e.signal?`(${e.signal})`:q5e(e);function xF(e){if(e.gradient!=null)return DVt(e);let t=e.signal?`(${e.signal})`:e.color?IVt(e.color):e.field!=null?q5e(e.field):e.value!==void 0?Dt(e.value):void 0;return e.scale!=null&&(t=PVt(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${WO(e.exponent)})`),e.mult!=null&&(t+=`*${WO(e.mult)}`),e.offset!=null&&(t+=`+${WO(e.offset)}`),e.round&&(t=`round(${t})`),t}const i3=(e,t,n,r)=>`(${e}(${[t,n,r].map(xF).join(",")})+'')`;function IVt(e){return e.c?i3("hcl",e.h,e.c,e.l):e.h||e.s?i3("hsl",e.h,e.s,e.l):e.l||e.a?i3("lab",e.l,e.a,e.b):e.r||e.g||e.b?i3("rgb",e.r,e.g,e.b):null}function DVt(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:Dt(n));for(;t.length&&Rr(t)==null;)t.pop();return t.unshift(H5e(e.gradient)),`gradient(${t.join(",")})`}function WO(e){return Vt(e)?"("+xF(e)+")":e}function q5e(e){return W5e(Vt(e)?e:{datum:e})}function W5e(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):at("Invalid field reference: "+Dt(e));return e.signal||(r=Ht(r)?$p(r).map(Dt).join("]["):W5e(r)),t+"["+r+"]"}function PVt(e,t){const n=H5e(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+WO(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function OVt(e){let t="";return e.forEach(n=>{const r=xF(n);t+=n.test?`(${n.test})?${r}:`:r}),Rr(t)===":"&&(t+="null"),t}function G5e(e,t,n,r,i,s){const o={};s=s||{},s.encoders={$encode:o},e=RVt(e,t,n,r,i.config);for(const a in e)o[a]=NVt(e[a],t,s,i);return s}function NVt(e,t,n,r){const i={},s={};for(const o in e)e[o]!=null&&(i[o]=MVt($Vt(e[o]),r,n,s));return{$expr:{marktype:t,channels:i},$fields:Object.keys(s),$output:Object.keys(e)}}function $Vt(e){return ut(e)?OVt(e):xF(e)}function MVt(e,t,n,r){const i=bp(e,t);return i.$fields.forEach(s=>r[s]=1),rr(n,i.$params),i.$expr}const FVt="outer",LVt=["value","update","init","react","bind"];function vge(e,t){at(e+' for "outer" push: '+Dt(t))}function Y5e(e,t){const n=e.name;if(e.push===FVt)t.signals[n]||vge("No prior signal definition",n),LVt.forEach(r=>{e[r]!==void 0&&vge("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function UW(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function _F(e,t,n,r){return new UW(e,t,n,r)}function F6(e,t){return _F("operator",e,t)}function bn(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function Fk(e,t){return t?{$field:e,$name:t}:{$field:e}}const VW=Fk("key");function bge(e,t){return{$compare:e,$order:t}}function jVt(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const BVt="ascending",zVt="descending";function UVt(e){return Vt(e)?(e.order===zVt?"-":"+")+CF(e.op,e.field):""}function CF(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const wne="scope",HW="view";function Eo(e){return e&&e.signal}function VVt(e){return e&&e.expr}function GO(e){if(Eo(e))return!0;if(Vt(e)){for(const t in e)if(GO(e[t]))return!0}return!1}function Yd(e,t){return e??t}function N1(e){return e&&e.signal||e}const wge="timer";function Lk(e,t){return(e.merge?qVt:e.stream?WVt:e.type?GVt:at("Invalid stream specification: "+Dt(e)))(e,t)}function HVt(e){return e===wne?HW:e||HW}function qVt(e,t){const n=e.merge.map(i=>Lk(i,t)),r=xne({merge:n},e,t);return t.addStream(r).id}function WVt(e,t){const n=Lk(e.stream,t),r=xne({stream:n},e,t);return t.addStream(r).id}function GVt(e,t){let n;e.type===wge?(n=t.event(wge,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(HVt(e.source),e.type);const r=xne({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function xne(e,t,n){let r=t.between;return r&&(r.length!==2&&at('Stream "between" parameter must have 2 entries: '+Dt(t)),e.between=[Lk(r[0],n),Lk(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(YVt(t.marktype,t.markname,t.markrole)),t.source===wne&&r.push("inScope(event.item)"),r.length&&(e.filter=bp("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function YVt(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const KVt={code:"_.$value",ast:{type:"Identifier",value:"value"}};function XVt(e,t,n){const r=e.encode,i={target:n};let s=e.events,o=e.update,a=[];s||at("Signal update missing events specification."),Ht(s)&&(s=iv(s,t.isSubscope()?wne:HW)),s=Ut(s).filter(l=>l.signal||l.scale?(a.push(l),0):1),a.length>1&&(a=[JVt(a)]),s.length&&a.push(s.length>1?{merge:s}:s[0]),r!=null&&(o&&at("Signal encode and update are mutually exclusive."),o="encode(item(),"+Dt(r)+")"),i.update=Ht(o)?bp(o,t):o.expr!=null?bp(o.expr,t):o.value!=null?o.value:o.signal!=null?{$expr:KVt,$params:{$value:t.signalRef(o.signal)}}:at("Invalid signal update specification."),e.force&&(i.options={force:!0}),a.forEach(l=>t.addUpdate(rr(QVt(l,t),i)))}function QVt(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):Lk(e,t)}}function JVt(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function ZVt(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?at("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=bp(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(i=>XVt(i,t,n.id))}const Ci=e=>(t,n,r)=>_F(e,n,t||void 0,r),K5e=Ci("aggregate"),eHt=Ci("axisticks"),X5e=Ci("bound"),eh=Ci("collect"),xge=Ci("compare"),tHt=Ci("datajoin"),Q5e=Ci("encode"),nHt=Ci("expression"),rHt=Ci("facet"),iHt=Ci("field"),sHt=Ci("key"),oHt=Ci("legendentries"),aHt=Ci("load"),lHt=Ci("mark"),uHt=Ci("multiextent"),cHt=Ci("multivalues"),dHt=Ci("overlap"),fHt=Ci("params"),J5e=Ci("prefacet"),hHt=Ci("projection"),pHt=Ci("proxy"),mHt=Ci("relay"),Z5e=Ci("render"),gHt=Ci("scale"),Gb=Ci("sieve"),yHt=Ci("sortitems"),e$e=Ci("viewlayout"),vHt=Ci("values");let bHt=0;const t$e={min:"min",max:"max",count:"sum"};function wHt(e,t){const n=e.type||"linear";BNe(n)||at("Unrecognized scale type: "+Dt(n)),t.addScale(e.name,{type:n,domain:void 0})}function xHt(e,t){const n=t.getScale(e.name).params;let r;n.domain=n$e(e.domain,e,t),e.range!=null&&(n.range=i$e(e,t,n)),e.interpolate!=null&&DHt(e.interpolate,n),e.nice!=null&&(n.nice=IHt(e.nice,t)),e.bins!=null&&(n.bins=RHt(e.bins,t));for(r in e)Kt(n,r)||r==="name"||(n[r]=Yc(e[r],t))}function Yc(e,t){return Vt(e)?e.signal?t.signalRef(e.signal):at("Unsupported object: "+Dt(e)):e}function YO(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>Yc(n,t))}function EF(e){at("Can not find data set: "+Dt(e))}function n$e(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&at("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(ut(e)?_Ht:e.fields?EHt:CHt)(e,t,n)}function _Ht(e,t,n){return e.map(r=>Yc(r,n))}function CHt(e,t,n){const r=n.getData(e.data);return r||EF(e.data),U_(t.type)?r.valuesRef(n,e.field,r$e(e.sort,!1)):VNe(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function EHt(e,t,n){const r=e.data,i=e.fields.reduce((s,o)=>(o=Ht(o)?{data:r,field:o}:ut(o)||o.signal?SHt(o,n):o,s.push(o),s),[]);return(U_(t.type)?THt:VNe(t.type)?kHt:AHt)(e,n,i)}function SHt(e,t){const n="_:vega:_"+bHt++,r=eh({});if(ut(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+Dt(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,Gb({})]),{data:n,field:"data"}}function THt(e,t,n){const r=r$e(e.sort,!0);let i,s;const o=n.map(u=>{const c=t.getData(u.data);return c||EF(u.data),c.countsRef(t,u.field,r)}),a={groupby:VW,pulse:o};r&&(i=r.op||"count",s=r.field?CF(i,r.field):"count",a.ops=[t$e[i]],a.fields=[t.fieldRef(s)],a.as=[s]),i=t.add(K5e(a));const l=t.add(eh({pulse:bn(i)}));return s=t.add(vHt({field:VW,sort:t.sortRef(r),pulse:bn(l)})),bn(s)}function r$e(e,t){return e&&(!e.field&&!e.op?Vt(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?at("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!t$e[e.op]&&at("Multiple domain scales can not be sorted using "+e.op)),e}function kHt(e,t,n){const r=n.map(i=>{const s=t.getData(i.data);return s||EF(i.data),s.domainRef(t,i.field)});return bn(t.add(cHt({values:r})))}function AHt(e,t,n){const r=n.map(i=>{const s=t.getData(i.data);return s||EF(i.data),s.extentRef(t,i.field)});return bn(t.add(uHt({extents:r})))}function RHt(e,t){return e.signal||ut(e)?YO(e,t):t.objectProperty(e)}function IHt(e,t){return e.signal?t.signalRef(e.signal):Vt(e)?{interval:Yc(e.interval),step:Yc(e.step)}:Yc(e)}function DHt(e,t){t.interpolate=Yc(e.type||e),e.gamma!=null&&(t.interpolateGamma=Yc(e.gamma))}function i$e(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(Ht(i)){if(r&&Kt(r,i))return e=rr({},e,{range:r[i]}),i$e(e,t,n);i==="width"?i=[0,{signal:"width"}]:i==="height"?i=U_(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:at("Unrecognized scale range value: "+Dt(i))}else if(i.scheme){n.scheme=ut(i.scheme)?YO(i.scheme,t):Yc(i.scheme,t),i.extent&&(n.schemeExtent=YO(i.extent,t)),i.count&&(n.schemeCount=Yc(i.count,t));return}else if(i.step){n.rangeStep=Yc(i.step,t);return}else{if(U_(e.type)&&!ut(i))return n$e(i,e,t);ut(i)||at("Unsupported range type: "+Dt(i))}return i.map(s=>(ut(s)?YO:Yc)(s,t))}function PHt(e,t){const n=t.config.projection||{},r={};for(const i in e)i!=="name"&&(r[i]=qW(e[i],i,t));for(const i in n)r[i]==null&&(r[i]=qW(n[i],i,t));t.addProjection(e.name,r)}function qW(e,t,n){return ut(e)?e.map(r=>qW(r,t,n)):Vt(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:at("Unsupported parameter object: "+Dt(e)):e}const th="top",hE="left",pE="right",Iy="bottom",s$e="center",OHt="vertical",NHt="start",$Ht="middle",MHt="end",WW="index",_ne="label",FHt="offset",G_="perc",LHt="perc2",ed="value",CR="guide-label",Cne="guide-title",jHt="group-title",BHt="group-subtitle",_ge="symbol",KO="gradient",GW="discrete",YW="size",zHt="shape",UHt="fill",VHt="stroke",HHt="strokeWidth",qHt="strokeDash",WHt="opacity",Ene=[YW,zHt,UHt,VHt,HHt,qHt,WHt],ER={name:1,style:1,interactive:1},Fr={value:0},td={value:1},SF="group",o$e="rect",Sne="rule",GHt="symbol",Yb="text";function jk(e){return e.type=SF,e.interactive=e.interactive||!1,e}function Ou(e,t){const n=(r,i)=>Yd(e[r],Yd(t[r],i));return n.isVertical=r=>OHt===Yd(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>Yd(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>Yd(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>Yd(e.columns,Yd(t.columns,+n.isVertical(!0))),n}function a$e(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function YHt(e,t,n){const r=t.config.style[n];return r&&r[e]}function TF(e,t,n){return`item.anchor === '${NHt}' ? ${e} : item.anchor === '${MHt}' ? ${t} : ${n}`}const Tne=TF(Dt(hE),Dt(pE),Dt(s$e));function KHt(e){const t=e("tickBand");let n=e("tickOffset"),r,i;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},Vt(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,i=!0,n=0):(r=.5,i=!1):(r=e("bandPosition"),i=e("tickExtra")),{extra:i,band:r,offset:n}}function l$e(e,t){return t?e?Vt(e)?Object.assign({},e,{offset:l$e(e.offset,t)}):{value:e,offset:t}:t:e}function fc(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=fE(e.encode,t,ER)):e.interactive=!1,e}function XHt(e,t,n,r){const i=Ou(e,n),s=i.isVertical(),o=i.gradientThickness(),a=i.gradientLength();let l,u,c,d,f;s?(u=[0,1],c=[0,0],d=o,f=a):(u=[0,0],c=[1,0],d=a,f=o);const h={enter:l={opacity:Fr,x:Fr,y:Fr,width:Go(d),height:Go(f)},update:rr({},l,{opacity:td,fill:{gradient:t,start:u,stop:c}}),exit:{opacity:Fr}};return Ea(h,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),fc({type:o$e,role:CVt,encode:h},r)}function QHt(e,t,n,r,i){const s=Ou(e,n),o=s.isVertical(),a=s.gradientThickness(),l=s.gradientLength();let u,c,d,f,h="";o?(u="y",d="y2",c="x",f="width",h="1-"):(u="x",d="x2",c="y",f="height");const p={opacity:Fr,fill:{scale:t,field:ed}};p[u]={signal:h+"datum."+G_,mult:l},p[c]=Fr,p[d]={signal:h+"datum."+LHt,mult:l},p[f]=Go(a);const m={enter:p,update:rr({},p,{opacity:td}),exit:{opacity:Fr}};return Ea(m,{stroke:s("gradientStrokeColor"),strokeWidth:s("gradientStrokeWidth")},{opacity:s("gradientOpacity")}),fc({type:o$e,role:xVt,key:ed,from:i,encode:m},r)}const JHt=`datum.${G_}<=0?"${hE}":datum.${G_}>=1?"${pE}":"${s$e}"`,ZHt=`datum.${G_}<=0?"${Iy}":datum.${G_}>=1?"${th}":"${$Ht}"`;function Cge(e,t,n,r){const i=Ou(e,t),s=i.isVertical(),o=Go(i.gradientThickness()),a=i.gradientLength();let l=i("labelOverlap"),u,c,d,f,h="";const p={enter:u={opacity:Fr},update:c={opacity:td,text:{field:_ne}},exit:{opacity:Fr}};return Ea(p,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:Yd(e.labelLimit,t.gradientLabelLimit)}),s?(u.align={value:"left"},u.baseline=c.baseline={signal:ZHt},d="y",f="x",h="1-"):(u.align=c.align={signal:JHt},u.baseline={value:"top"},d="x",f="y"),u[d]=c[d]={signal:h+"datum."+G_,mult:a},u[f]=c[f]=o,o.offset=Yd(e.labelOffset,t.gradientLabelOffset)||0,l=l?{separation:i("labelSeparation"),method:l,order:"datum."+WW}:void 0,fc({type:Yb,role:V5e,style:CR,key:ed,from:r,encode:p,overlap:l},n)}function eqt(e,t,n,r,i){const s=Ou(e,t),o=n.entries,a=!!(o&&o.interactive),l=o?o.name:void 0,u=s("clipHeight"),c=s("symbolOffset"),d={data:"value"},f=`(${i}) ? datum.${FHt} : datum.${YW}`,h=u?Go(u):{field:YW},p=`datum.${WW}`,m=`max(1, ${i})`;let g,y,v,w,_;h.mult=.5,g={enter:y={opacity:Fr,x:{signal:f,mult:.5,offset:c},y:h},update:v={opacity:td,x:y.x,y:y.y},exit:{opacity:Fr}};let C=null,S=null;e.fill||(C=t.symbolBaseFillColor,S=t.symbolBaseStrokeColor),Ea(g,{fill:s("symbolFillColor",C),shape:s("symbolType"),size:s("symbolSize"),stroke:s("symbolStrokeColor",S),strokeDash:s("symbolDash"),strokeDashOffset:s("symbolDashOffset"),strokeWidth:s("symbolStrokeWidth")},{opacity:s("symbolOpacity")}),Ene.forEach(R=>{e[R]&&(v[R]=y[R]={scale:e[R],field:ed})});const T=fc({type:GHt,role:EVt,key:ed,from:d,clip:u?!0:void 0,encode:g},n.symbols),k=Go(c);k.offset=s("labelOffset"),g={enter:y={opacity:Fr,x:{signal:f,offset:k},y:h},update:v={opacity:td,text:{field:_ne},x:y.x,y:y.y},exit:{opacity:Fr}},Ea(g,{align:s("labelAlign"),baseline:s("labelBaseline"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontStyle:s("labelFontStyle"),fontWeight:s("labelFontWeight"),limit:s("labelLimit")});const I=fc({type:Yb,role:V5e,style:CR,key:ed,from:d,encode:g},n.labels);return g={enter:{noBound:{value:!u},width:Fr,height:u?Go(u):Fr,opacity:Fr},exit:{opacity:Fr},update:v={opacity:td,row:{signal:null},column:{signal:null}}},s.isVertical(!0)?(w=`ceil(item.mark.items.length / ${m})`,v.row.signal=`${p}%${w}`,v.column.signal=`floor(${p} / ${w})`,_={field:["row",p]}):(v.row.signal=`floor(${p} / ${m})`,v.column.signal=`${p} % ${m}`,_={field:p}),v.column.signal=`(${i})?${v.column.signal}:${p}`,r={facet:{data:r,name:"value",groupby:WW}},jk({role:bne,from:r,encode:fE(g,o,ER),marks:[T,I],name:l,interactive:a,sort:_})}function tqt(e,t){const n=Ou(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const kne='item.orient === "left"',Ane='item.orient === "right"',kF=`(${kne} || ${Ane})`,nqt=`datum.vgrad && ${kF}`,rqt=TF('"top"','"bottom"','"middle"'),iqt=TF('"right"','"left"','"center"'),sqt=`datum.vgrad && ${Ane} ? (${iqt}) : (${kF} && !(datum.vgrad && ${kne})) ? "left" : ${Tne}`,oqt=`item._anchor || (${kF} ? "middle" : "start")`,aqt=`${nqt} ? (${kne} ? -90 : 90) : 0`,lqt=`${kF} ? (datum.vgrad ? (${Ane} ? "bottom" : "top") : ${rqt}) : "top"`;function uqt(e,t,n,r){const i=Ou(e,t),s={enter:{opacity:Fr},update:{opacity:td,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Fr}};return Ea(s,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:oqt},angle:{signal:aqt},align:{signal:sqt},baseline:{signal:lqt},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),fc({type:Yb,role:SVt,style:Cne,from:r,encode:s},n)}function cqt(e,t){let n;return Vt(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+Ege(e.path)+")":e.sphere&&(n="geoShape("+Ege(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function Ege(e){return Vt(e)&&e.signal?e.signal:Dt(e)}function u$e(e){const t=e.role||"";return t.startsWith("axis")||t.startsWith("legend")||t.startsWith("title")?t:e.type===SF?bne:t||yne}function dqt(e){return{marktype:e.type,name:e.name||void 0,role:e.role||u$e(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function fqt(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function Rne(e,t){const n=GOe(e.type);n||at("Unrecognized transform type: "+Dt(e.type));const r=_F(n.type.toLowerCase(),null,c$e(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function c$e(e,t,n){const r={},i=e.params.length;for(let s=0;s<i;++s){const o=e.params[s];r[o.name]=hqt(o,t,n)}return r}function hqt(e,t,n){const r=e.type,i=t[e.name];if(r==="index")return pqt(e,t,n);if(i===void 0){e.required&&at("Missing required "+Dt(t.type)+" parameter: "+Dt(e.name));return}else{if(r==="param")return mqt(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!Eo(i)?i.map(s=>Sge(e,s,n)):Sge(e,i,n)}function Sge(e,t,n){const r=e.type;if(Eo(t))return kge(r)?at("Expression references can not be signals."):yz(r)?n.fieldRef(t):Age(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||yz(r);return i&&gqt(t)?n.exprRef(t.expr,t.as):i&&yqt(t)?Fk(t.field,t.as):kge(r)?bp(t,n):vqt(r)?bn(n.getData(t).values):yz(r)?Fk(t):Age(r)?n.compareRef(t):t}}function pqt(e,t,n){return Ht(t.from)||at('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function mqt(e,t,n){const r=t[e.name];return e.array?(ut(r)||at("Expected an array of sub-parameters. Instead: "+Dt(r)),r.map(i=>Tge(e,i,n))):Tge(e,r,n)}function Tge(e,t,n){const r=e.params.length;let i;for(let o=0;o<r;++o){i=e.params[o];for(const a in i.key)if(i.key[a]!==t[a]){i=null;break}if(i)break}i||at("Unsupported parameter: "+Dt(t));const s=rr(c$e(i,t,n),i.key);return bn(n.add(fHt(s)))}const gqt=e=>e&&e.expr,yqt=e=>e&&e.field,vqt=e=>e==="data",kge=e=>e==="expr",yz=e=>e==="field",Age=e=>e==="compare";function bqt(e,t,n){let r,i,s,o,a;return e?(r=e.facet)&&(t||at("Only group marks can be faceted."),r.field!=null?o=a=XO(r,n):(e.data?a=bn(n.getData(e.data).aggregate):(s=Rne(rr({type:"aggregate",groupby:Ut(r.groupby)},r.aggregate),n),s.params.key=n.keyRef(r.groupby),s.params.pulse=XO(r,n),o=a=bn(n.add(s))),i=n.keyRef(r.groupby,!0))):o=bn(n.add(eh(null,[{}]))),o||(o=XO(e,n)),{key:i,pulse:o,parent:a}}function XO(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:bn(t.getData(e.data).output)}function lb(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}lb.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let s=t[0],o=null,a=1;for(s&&s.type==="load"&&(s=t[1]),e.add(t[0]);a<n;++a)t[a].params.pulse=bn(t[a-1]),e.add(t[a]),t[a].type==="aggregate"&&(o=t[a]);return new lb(e,s,i,r,o)};function d$e(e){return Ht(e)?e:null}function Rge(e,t,n){const r=CF(n.op,n.field);let i;if(t.ops){for(let s=0,o=t.as.length;s<o;++s)if(t.as[s]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function N2(e,t,n,r,i,s,o){const a=t[n]||(t[n]={}),l=UVt(s);let u=d$e(i),c,d;if(u!=null&&(e=t.scope,u=u+(l?"|"+l:""),c=a[u]),!c){const f=s?{field:VW,pulse:t.countsRef(e,i,s)}:{field:e.fieldRef(i),pulse:bn(t.output)};l&&(f.sort=e.sortRef(s)),d=e.add(_F(r,void 0,f)),o&&(t.index[i]=d),c=bn(d),u!=null&&(a[u]=c)}return c}lb.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),s=d$e(t);let o,a,l;return s!=null&&(e=r.scope,o=i[s]),o?n&&n.field&&Rge(e,o.agg.params,n):(l={groupby:e.fieldRef(t,"key"),pulse:bn(r.output)},n&&n.field&&Rge(e,l,n),a=e.add(K5e(l)),o=e.add(eh({pulse:bn(a)})),o={agg:a,ref:bn(o)},s!=null&&(i[s]=o)),o.ref},tuplesRef(){return bn(this.values)},extentRef(e,t){return N2(e,this,"extent","extent",t,!1)},domainRef(e,t){return N2(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return N2(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return N2(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return N2(e,this,"indata","tupleindex",t,!0,!0)}};function wqt(e,t,n){const r=e.from.facet,i=r.name,s=XO(r,t);let o;r.name||at("Facet must have a name: "+Dt(r)),r.data||at("Facet must reference a data set: "+Dt(r)),r.field?o=t.add(J5e({field:t.fieldRef(r.field),pulse:s})):r.groupby?o=t.add(rHt({key:t.keyRef(r.groupby),group:bn(t.proxy(n.parent)),pulse:s})):at("Facet must specify groupby or field: "+Dt(r));const a=t.fork(),l=a.add(eh()),u=a.add(Gb({pulse:bn(l)}));a.addData(i,new lb(a,l,l,u)),a.addSignal("parent",null),o.params.subflow={$subflow:a.parse(e).toRuntime()}}function xqt(e,t,n){const r=t.add(J5e({pulse:n.pulse})),i=t.fork();i.add(Gb()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}function f$e(e,t,n){const r=e.remove,i=e.insert,s=e.toggle,o=e.modify,a=e.values,l=t.add(F6()),u="if("+e.trigger+',modify("'+n+'",'+[i,r,s,o,a].map(d=>d??"null").join(",")+"),0)",c=bp(u,t);l.update=c.$expr,l.params=c.$params}function AF(e,t){const n=u$e(e),r=e.type===SF,i=e.from&&e.from.facet,s=e.overlap;let o=e.layout||n===bne||n===vne,a,l,u,c,d,f,h;const p=n===yne||o||i,m=bqt(e.from,r,t);l=t.add(tHt({key:m.key||(e.key?Fk(e.key):void 0),pulse:m.pulse,clean:!r}));const g=bn(l);l=u=t.add(eh({pulse:g})),l=t.add(lHt({markdef:dqt(e),interactive:fqt(e.interactive,t),clip:cqt(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:bn(l)}));const y=bn(l);l=c=t.add(Q5e(G5e(e.encode,e.type,n,e.style,t,{mod:!1,pulse:y}))),l.params.parent=t.encode(),e.transform&&e.transform.forEach(S=>{const T=Rne(S,t),k=T.metadata;(k.generates||k.changes)&&at("Mark transforms should not generate new data."),k.nomod||(c.params.mod=!0),T.params.pulse=bn(l),t.add(l=T)}),e.sort&&(l=t.add(yHt({sort:t.compareRef(e.sort),pulse:bn(l)})));const v=bn(l);(i||o)&&(o=t.add(e$e({layout:t.objectProperty(e.layout),legends:t.legends,mark:y,pulse:v})),f=bn(o));const w=t.add(X5e({mark:y,pulse:f||v}));h=bn(w),r&&(p&&(a=t.operators,a.pop(),o&&a.pop()),t.pushState(v,f||h,g),i?wqt(e,t,m):p?xqt(e,t,m):t.parse(e),t.popState(),p&&(o&&a.push(o),a.push(w))),s&&(h=_qt(s,h,t));const _=t.add(Z5e({pulse:h})),C=t.add(Gb({pulse:bn(_)},void 0,t.parent()));e.name!=null&&(d=e.name,t.addData(d,new lb(t,u,_,C)),e.on&&e.on.forEach(S=>{(S.insert||S.remove||S.toggle)&&at("Marks only support modify triggers."),f$e(S,t,d)}))}function _qt(e,t,n){const r=e.method,i=e.bound,s=e.separation,o={separation:Eo(s)?n.signalRef(s.signal):s,method:Eo(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(o.sort=n.compareRef({field:e.order})),i){const a=i.tolerance;o.boundTolerance=Eo(a)?n.signalRef(a.signal):+a,o.boundScale=n.scaleRef(i.scale),o.boundOrient=i.orient}return bn(n.add(dHt(o)))}function Cqt(e,t){const n=t.config.legend,r=e.encode||{},i=Ou(e,n),s=r.legend||{},o=s.name||void 0,a=s.interactive,l=s.style,u={};let c=0,d,f,h;Ene.forEach(w=>e[w]?(u[w]=e[w],c=c||e[w]):0),c||at("Missing valid scale for legend.");const p=Eqt(e,t.scaleType(c)),m={title:e.title!=null,scales:u,type:p,vgrad:p!=="symbol"&&i.isVertical()},g=bn(t.add(eh(null,[m]))),y={enter:{x:{value:0},y:{value:0}}},v=bn(t.add(oHt(f={type:p,scale:t.scaleRef(c),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return p===KO?(h=[XHt(e,c,n,r.gradient),Cge(e,n,r.labels,v)],f.count=f.count||t.signalRef(`max(2,2*floor((${N1(i.gradientLength())})/100))`)):p===GW?h=[QHt(e,c,n,r.gradient,v),Cge(e,n,r.labels,v)]:(d=tqt(e,n),h=[eqt(e,n,r,v,N1(d.columns))],f.size=kqt(e,t,h[0].marks)),h=[jk({role:_Vt,from:g,encode:y,marks:h,layout:d,interactive:a})],m.title&&h.push(uqt(e,n,r.title,g)),AF(jk({role:wVt,from:g,encode:fE(Tqt(i,e,n),s,ER),marks:h,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:o,interactive:a,style:l}),t)}function Eqt(e,t){let n=e.type||_ge;return!e.type&&Sqt(e)===1&&(e.fill||e.stroke)&&(n=Uee(t)?KO:lW(t)?GW:_ge),n!==KO?n:lW(t)?GW:KO}function Sqt(e){return Ene.reduce((t,n)=>t+(e[n]?1:0),0)}function Tqt(e,t,n){const r={enter:{},update:{}};return Ea(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function kqt(e,t,n){const r=N1(Ige("size",e,n)),i=N1(Ige("strokeWidth",e,n)),s=N1(Aqt(n[1].encode,t,CR));return bp(`max(ceil(sqrt(${r})+${i}),${s})`,t)}function Ige(e,t,n){return t[e]?`scale("${t[e]}",datum)`:a$e(e,n[0].encode)}function Aqt(e,t,n){return a$e("fontSize",e)||YHt("fontSize",t,n)}const Rqt=`item.orient==="${hE}"?-90:item.orient==="${pE}"?90:0`;function Iqt(e,t){e=Ht(e)?{text:e}:e;const n=Ou(e,t.config.title),r=e.encode||{},i=r.group||{},s=i.name||void 0,o=i.interactive,a=i.style,l=[],u={},c=bn(t.add(eh(null,[u])));return l.push(Oqt(e,n,Dqt(e),c)),e.subtitle&&l.push(Nqt(e,n,r.subtitle,c)),AF(jk({role:TVt,from:c,encode:Pqt(n,i),marks:l,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:s,interactive:o,style:a}),t)}function Dqt(e){const t=e.encode;return t&&t.title||rr({name:e.name,interactive:e.interactive,style:e.style},t)}function Pqt(e,t){const n={enter:{},update:{}};return Ea(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:Tne},angle:{signal:Rqt},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),fE(n,t,ER)}function Oqt(e,t,n,r){const i={value:0},s=e.text,o={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Ea(o,{text:s,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),fc({type:Yb,role:kVt,style:jHt,from:r,encode:o},n)}function Nqt(e,t,n,r){const i={value:0},s=e.subtitle,o={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Ea(o,{text:s,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),fc({type:Yb,role:AVt,style:BHt,from:r,encode:o},n)}function $qt(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(Rne(r,t))}),e.on&&e.on.forEach(r=>{f$e(r,t,e.name)}),t.addDataPipeline(e.name,Mqt(e,t,n))}function Mqt(e,t,n){const r=[];let i=null,s=!1,o=!1,a,l,u,c,d;for(e.values?Eo(e.values)||GO(e.format)?(r.push(Dge(t,e)),r.push(i=Ov())):r.push(i=Ov({$ingest:e.values,$format:e.format})):e.url?GO(e.url)||GO(e.format)?(r.push(Dge(t,e)),r.push(i=Ov())):r.push(i=Ov({$request:e.url,$format:e.format})):e.source&&(i=a=Ut(e.source).map(f=>bn(t.getData(f).output)),r.push(null)),l=0,u=n.length;l<u;++l)c=n[l],d=c.metadata,!i&&!d.source&&r.push(i=Ov()),r.push(c),d.generates&&(o=!0),d.modifies&&!o&&(s=!0),d.source?i=c:d.changes&&(i=null);return a&&(u=a.length-1,r[0]=mHt({derive:s,pulse:u?a:a[0]}),(s||u)&&r.splice(1,0,Ov())),i||r.push(Ov()),r.push(Gb({})),r}function Ov(e){const t=eh({},e);return t.metadata={source:!0},t}function Dge(e,t){return aHt({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const h$e=e=>e===Iy||e===th,RF=(e,t,n)=>Eo(e)?Bqt(e.signal,t,n):e===hE||e===th?t:n,Yo=(e,t,n)=>Eo(e)?Lqt(e.signal,t,n):h$e(e)?t:n,wf=(e,t,n)=>Eo(e)?jqt(e.signal,t,n):h$e(e)?n:t,p$e=(e,t,n)=>Eo(e)?zqt(e.signal,t,n):e===th?{value:t}:{value:n},Fqt=(e,t,n)=>Eo(e)?Uqt(e.signal,t,n):e===pE?{value:t}:{value:n},Lqt=(e,t,n)=>m$e(`${e} === '${th}' || ${e} === '${Iy}'`,t,n),jqt=(e,t,n)=>m$e(`${e} !== '${th}' && ${e} !== '${Iy}'`,t,n),Bqt=(e,t,n)=>Ine(`${e} === '${hE}' || ${e} === '${th}'`,t,n),zqt=(e,t,n)=>Ine(`${e} === '${th}'`,t,n),Uqt=(e,t,n)=>Ine(`${e} === '${pE}'`,t,n),m$e=(e,t,n)=>(t=t!=null?Go(t):t,n=n!=null?Go(n):n,Pge(t)&&Pge(n)?(t=t?t.signal||Dt(t.value):null,n=n?n.signal||Dt(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[rr({test:e},t)].concat(n||[])),Pge=e=>e==null||Object.keys(e).length===1,Ine=(e,t,n)=>({signal:`${e} ? (${Ox(t)}) : (${Ox(n)})`}),Vqt=(e,t,n,r,i)=>({signal:(r!=null?`${e} === '${hE}' ? (${Ox(r)}) : `:"")+(n!=null?`${e} === '${Iy}' ? (${Ox(n)}) : `:"")+(i!=null?`${e} === '${pE}' ? (${Ox(i)}) : `:"")+(t!=null?`${e} === '${th}' ? (${Ox(t)}) : `:"")+"(null)"}),Ox=e=>Eo(e)?e.signal:e==null?null:Dt(e),Hqt=(e,t)=>t===0?0:Eo(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},Zx=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function Zw(e,t,n,r){let i;if(t&&Kt(t,e))return t[e];if(Kt(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[Cne][i]}else if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[CR][i]}return null}function Oge(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function qqt(e,t){var n=t.config,r=n.style,i=n.axis,s=t.scaleType(e.scale)==="band"&&n.axisBand,o=e.orient,a,l,u;if(Eo(o)){const d=Oge([n.axisX,n.axisY]),f=Oge([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);a={};for(u of d)a[u]=Yo(o,Zw(u,n.axisX,i,r),Zw(u,n.axisY,i,r));l={};for(u of f)l[u]=Vqt(o.signal,Zw(u,n.axisTop,i,r),Zw(u,n.axisBottom,i,r),Zw(u,n.axisLeft,i,r),Zw(u,n.axisRight,i,r))}else a=o===th||o===Iy?n.axisX:n.axisY,l=n["axis"+o[0].toUpperCase()+o.slice(1)];return a||l||s?rr({},i,a,l,s):i}function Wqt(e,t,n,r){const i=Ou(e,t),s=e.orient;let o,a;const l={enter:o={opacity:Fr},update:a={opacity:td},exit:{opacity:Fr}};Ea(l,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const u=Nge(e,0),c=Nge(e,1);return o.x=a.x=Yo(s,u,Fr),o.x2=a.x2=Yo(s,c),o.y=a.y=wf(s,u,Fr),o.y2=a.y2=wf(s,c),fc({type:Sne,role:mVt,from:r,encode:l},n)}function Nge(e,t){return{scale:e.scale,range:t}}function Gqt(e,t,n,r,i){const s=Ou(e,t),o=e.orient,a=e.gridScale,l=RF(o,1,-1),u=Yqt(e.offset,l);let c,d,f;const h={enter:c={opacity:Fr},update:f={opacity:td},exit:d={opacity:Fr}};Ea(h,{stroke:s("gridColor"),strokeCap:s("gridCap"),strokeDash:s("gridDash"),strokeDashOffset:s("gridDashOffset"),strokeOpacity:s("gridOpacity"),strokeWidth:s("gridWidth")});const p={scale:e.scale,field:ed,band:i.band,extra:i.extra,offset:i.offset,round:s("tickRound")},m=Yo(o,{signal:"height"},{signal:"width"}),g=a?{scale:a,range:0,mult:l,offset:u}:{value:0,offset:u},y=a?{scale:a,range:1,mult:l,offset:u}:rr(m,{mult:l,offset:u});return c.x=f.x=Yo(o,p,g),c.y=f.y=wf(o,p,g),c.x2=f.x2=wf(o,y),c.y2=f.y2=Yo(o,y),d.x=Yo(o,p),d.y=wf(o,p),fc({type:Sne,role:gVt,key:ed,from:r,encode:h},n)}function Yqt(e,t){if(t!==1)if(!Vt(e))e=Eo(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=rr({},e);for(;n.mult!=null;)if(Vt(n.mult))n=n.mult=rr({},n.mult);else return n.mult=Eo(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function Kqt(e,t,n,r,i,s){const o=Ou(e,t),a=e.orient,l=RF(a,-1,1);let u,c,d;const f={enter:u={opacity:Fr},update:d={opacity:td},exit:c={opacity:Fr}};Ea(f,{stroke:o("tickColor"),strokeCap:o("tickCap"),strokeDash:o("tickDash"),strokeDashOffset:o("tickDashOffset"),strokeOpacity:o("tickOpacity"),strokeWidth:o("tickWidth")});const h=Go(i);h.mult=l;const p={scale:e.scale,field:ed,band:s.band,extra:s.extra,offset:s.offset,round:o("tickRound")};return d.y=u.y=Yo(a,Fr,p),d.y2=u.y2=Yo(a,h),c.x=Yo(a,p),d.x=u.x=wf(a,Fr,p),d.x2=u.x2=wf(a,h),c.y=wf(a,p),fc({type:Sne,role:vVt,key:ed,from:r,encode:f},n)}function vz(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function Xqt(e,t,n,r,i,s){const o=Ou(e,t),a=e.orient,l=e.scale,u=RF(a,-1,1),c=N1(o("labelFlush")),d=N1(o("labelFlushOffset")),f=o("labelAlign"),h=o("labelBaseline");let p=c===0||!!c,m;const g=Go(i);g.mult=u,g.offset=Go(o("labelPadding")||0),g.offset.mult=u;const y={scale:l,field:ed,band:.5,offset:l$e(s.offset,o("labelOffset"))},v=Yo(a,p?vz(l,c,'"left"','"right"','"center"'):{value:"center"},Fqt(a,"left","right")),w=Yo(a,p$e(a,"bottom","top"),p?vz(l,c,'"top"','"bottom"','"middle"'):{value:"middle"}),_=vz(l,c,`-(${d})`,d,0);p=p&&d;const C={opacity:Fr,x:Yo(a,y,g),y:wf(a,y,g)},S={enter:C,update:m={opacity:td,text:{field:_ne},x:C.x,y:C.y,align:v,baseline:w},exit:{opacity:Fr,x:C.x,y:C.y}};Ea(S,{dx:!f&&p?Yo(a,_):null,dy:!h&&p?wf(a,_):null}),Ea(S,{angle:o("labelAngle"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontWeight:o("labelFontWeight"),fontStyle:o("labelFontStyle"),limit:o("labelLimit"),lineHeight:o("labelLineHeight")},{align:f,baseline:h});const T=o("labelBound");let k=o("labelOverlap");return k=k||T?{separation:o("labelSeparation"),method:k,order:"datum.index",bound:T?{scale:l,orient:a,tolerance:T}:null}:void 0,m.align!==v&&(m.align=Zx(m.align,v)),m.baseline!==w&&(m.baseline=Zx(m.baseline,w)),fc({type:Yb,role:yVt,style:CR,key:ed,from:r,encode:S,overlap:k},n)}function Qqt(e,t,n,r){const i=Ou(e,t),s=e.orient,o=RF(s,-1,1);let a,l;const u={enter:a={opacity:Fr,anchor:Go(i("titleAnchor",null)),align:{signal:Tne}},update:l=rr({},a,{opacity:td,text:Go(e.title)}),exit:{opacity:Fr}},c={signal:`lerp(range("${e.scale}"), ${TF(0,1,.5)})`};return l.x=Yo(s,c),l.y=wf(s,c),a.angle=Yo(s,Fr,Hqt(o,90)),a.baseline=Yo(s,p$e(s,Iy,th),{value:Iy}),l.angle=a.angle,l.baseline=a.baseline,Ea(u,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),Jqt(i,s,u,n),u.update.align=Zx(u.update.align,a.align),u.update.angle=Zx(u.update.angle,a.angle),u.update.baseline=Zx(u.update.baseline,a.baseline),fc({type:Yb,role:bVt,style:Cne,from:r,encode:u},n)}function Jqt(e,t,n,r){const i=(a,l)=>a!=null?(n.update[l]=Zx(Go(a),n.update[l]),!1):!bx(l,r),s=i(e("titleX"),"x"),o=i(e("titleY"),"y");n.enter.auto=o===s?Go(o):Yo(t,Go(o),Go(s))}function Zqt(e,t){const n=qqt(e,t),r=e.encode||{},i=r.axis||{},s=i.name||void 0,o=i.interactive,a=i.style,l=Ou(e,n),u=KHt(l),c={scale:e.scale,ticks:!!l("ticks"),labels:!!l("labels"),grid:!!l("grid"),domain:!!l("domain"),title:e.title!=null},d=bn(t.add(eh({},[c]))),f=bn(t.add(eHt({scale:t.scaleRef(e.scale),extra:t.property(u.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),h=[];let p;return c.grid&&h.push(Gqt(e,n,r.grid,f,u)),c.ticks&&(p=l("tickSize"),h.push(Kqt(e,n,r.ticks,f,p,u))),c.labels&&(p=c.ticks?p:0,h.push(Xqt(e,n,r.labels,f,p,u))),c.domain&&h.push(Wqt(e,n,r.domain,d)),c.title&&h.push(Qqt(e,n,r.title,d)),AF(jk({role:pVt,from:d,encode:fE(eWt(l,e),i,ER),marks:h,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:s,interactive:o,style:a}),t)}function eWt(e,t){const n={enter:{},update:{}};return Ea(n,{orient:e("orient"),offset:e("offset")||0,position:Yd(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function g$e(e,t,n){const r=Ut(e.signals),i=Ut(e.scales);return n||r.forEach(s=>Y5e(s,t)),Ut(e.projections).forEach(s=>PHt(s,t)),i.forEach(s=>wHt(s,t)),Ut(e.data).forEach(s=>$qt(s,t)),i.forEach(s=>xHt(s,t)),(n||r).forEach(s=>ZVt(s,t)),Ut(e.axes).forEach(s=>Zqt(s,t)),Ut(e.marks).forEach(s=>AF(s,t)),Ut(e.legends).forEach(s=>Cqt(s,t)),e.title&&Iqt(e.title,t),t.parseLambdas(),t}const tWt=e=>fE({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function nWt(e,t){const n=t.config,r=bn(t.root=t.add(F6())),i=rWt(e,n);i.forEach(u=>Y5e(u,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const s=t.add(eh()),o=t.add(Q5e(G5e(tWt(e.encode),SF,vne,e.style,t,{pulse:bn(s)}))),a=t.add(e$e({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:bn(o)}));t.operators.pop(),t.pushState(bn(o),bn(a),null),g$e(e,t,i),t.operators.push(a);let l=t.add(X5e({mark:r,pulse:bn(a)}));return l=t.add(Z5e({pulse:bn(l)})),l=t.add(Gb({pulse:bn(l)})),t.addData("root",new lb(t,s,s,l)),t}function $2(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function rWt(e,t){const n=o=>Yd(e[o],t[o]),r=[$2("background",n("background")),$2("autosize",dVt(n("autosize"))),$2("padding",hVt(n("padding"))),$2("width",n("width")||0),$2("height",n("height")||0)],i=r.reduce((o,a)=>(o[a.name]=a,o),{}),s={};return Ut(e.signals).forEach(o=>{Kt(i,o.name)?o=rr(i[o.name],o):r.push(o),s[o.name]=o}),Ut(t.signals).forEach(o=>{!Kt(s,o.name)&&!Kt(i,o.name)&&r.push(o)}),r}function y$e(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function $ge(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}y$e.prototype=$ge.prototype={parse(e){return g$e(e,this)},fork(){return new $ge(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof UW?bn(e):e;return this.add(pHt({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,i,s){let o,a;r&&(o=r.data||(r.data={}),a=o[i]||(o[i]=[]),a.push(s))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(bn(this.add(Gb({pulse:e})))),this._parent.push(t),this._lookup.push(n?bn(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return Rr(this._parent)},encode(){return Rr(this._encode)},lookup(){return Rr(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(Ht(e))return Fk(e,t);e.signal||at("Unsupported field reference: "+Dt(e));const n=e.signal;let r=this.field[n];if(!r){const i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=bn(this.add(iHt(i)))}return r},compareRef(e){let t=!1;const n=s=>Eo(s)?(t=!0,this.signalRef(s.signal)):VVt(s)?(t=!0,this.exprRef(s.expr)):s,r=Ut(e.field).map(n),i=Ut(e.order).map(n);return t?bn(this.add(xge({fields:r,orders:i}))):bge(r,i)},keyRef(e,t){let n=!1;const r=s=>Eo(s)?(n=!0,bn(i[s.signal])):s,i=this.signals;return e=Ut(e).map(r),n?bn(this.add(sHt({fields:e,flat:t}))):jVt(e,t)},sortRef(e){if(!e)return e;const t=CF(e.op,e.field),n=e.order||BVt;return n.signal?bn(this.add(xge({fields:t,orders:this.signalRef(n.signal)}))):bge(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return Kt(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&at("Duplicate signal name: "+Dt(e));const n=t instanceof UW?t:this.add(F6(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||at("Unrecognized signal name: "+Dt(e)),this.signals[e]},signalRef(e){return this.signals[e]?bn(this.signals[e]):(Kt(this.lambdas,e)||(this.lambdas[e]=this.add(F6(null))),bn(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],i=bp(r,this),s=this.lambdas[r];s.params=i.$params,s.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!Vt(e)?e:this.signalRef(e.signal||Dne(e))},exprRef(e,t){const n={expr:bp(e,this)};return t&&(n.expr.$name=t),bn(this.add(nHt(n)))},addBinding(e,t){this.bindings||at("Nested signals do not support binding: "+Dt(e)),this.bindings.push(rr({signal:e},t))},addScaleProj(e,t){Kt(this.scales,e)&&at("Duplicate scale or projection name: "+Dt(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,gHt(t))},addProjection(e,t){this.addScaleProj(e,hHt(t))},getScale(e){return this.scales[e]||at("Unrecognized scale name: "+Dt(e)),this.scales[e]},scaleRef(e){return bn(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return Kt(this.data,e)&&at("Duplicate data set name: "+Dt(e)),this.data[e]=t},getData(e){return this.data[e]||at("Undefined data set name: "+Dt(e)),this.data[e]},addDataPipeline(e,t){return Kt(this.data,e)&&at("Duplicate data set name: "+Dt(e)),this.addData(e,lb.fromEntries(this,t))}};function Dne(e){return(ut(e)?iWt:sWt)(e)}function iWt(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const i=e[r];n+=(r>0?",":"")+(Vt(i)?i.signal||Dne(i):Dt(i))}return n+"]"}function sWt(e){let t="{",n=0,r,i;for(r in e)i=e[r],t+=(++n>1?",":"")+Dt(r)+":"+(Vt(i)?i.signal||Dne(i):Dt(i));return t+"}"}function oWt(){const e="sans-serif",r="#4c78a8",i="#000",s="#888",o="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:e,fontSize:10},"guide-title":{fill:i,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:o},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:s,grid:!1,gridWidth:1,gridColor:o,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:s,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:o,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:s,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function aWt(e,t,n){return Vt(e)||at("Input Vega specification must be an object."),t=iE(oWt(),t,e.config),nWt(e,new y$e(t,n)).toRuntime()}var lWt="5.33.0";rr(j_,tMt,ULt,wjt,Qjt,i9t,D9t,c9t,O9t,F9t,G9t,eBt);const uWt=Object.freeze(Object.defineProperty({__proto__:null,Bounds:io,CanvasHandler:vR,CanvasRenderer:S6,DATE:Eu,DAY:Ya,DAYOFYEAR:vp,Dataflow:Jx,Debug:UPe,Error:TZ,EventStream:HM,Gradient:i4e,GroupItem:rF,HOURS:uc,Handler:hte,HybridHandler:K4e,HybridRenderer:bW,Info:zPe,Item:nF,MILLISECONDS:Pf,MINUTES:cc,MONTH:tl,Marks:dc,MultiPulse:GZ,None:BPe,Operator:ki,Parameters:VM,Pulse:iy,QUARTER:Cu,RenderType:Ug,Renderer:yR,ResourceLoader:d4e,SECONDS:fd,SVGHandler:M4e,SVGRenderer:bte,SVGStringRenderer:Y4e,Scenegraph:A4e,TIME_UNITS:jZ,Transform:et,View:$5e,WEEK:_o,Warn:kZ,YEAR:_a,accessor:Pu,accessorFields:el,accessorName:Ts,array:Ut,ascending:tR,bandwidthNRD:QZ,bin:XOe,bootstrapCI:QOe,boundClip:s6e,boundContext:hR,boundItem:pW,boundMark:E4e,boundStroke:P0,changeset:Hb,clampRange:ZPe,codegenExpression:l5e,compare:PZ,constant:al,cumulativeLogNormal:ree,cumulativeNormal:WM,cumulativeUniform:aee,dayofyear:cOe,debounce:OZ,defaultLocale:UZ,definition:GOe,densityLogNormal:nee,densityNormal:JZ,densityUniform:oee,domChild:xo,domClear:zc,domCreate:Bg,domFind:fte,dotbin:JOe,error:at,expressionFunction:Ks,extend:rr,extent:yp,extentIndex:eOe,falsy:yg,fastmap:oE,field:cd,flush:tOe,font:lF,fontFamily:gR,fontSize:Mp,format:DO,formatLocale:f6,formats:qZ,hasOwnProperty:Kt,id:eR,identity:ol,inferType:MOe,inferTypes:FOe,ingest:oi,inherits:Nt,inrange:Ix,interpolate:Vee,interpolateColors:eF,interpolateRange:HNe,intersect:t6e,intersectBoxLine:Dx,intersectPath:Qee,intersectPoint:Jee,intersectRule:h4e,isArray:ut,isBoolean:nv,isDate:ry,isFunction:ir,isIterable:nOe,isNumber:Jr,isObject:Vt,isRegExp:NZ,isString:Ht,isTuple:zM,key:$Z,lerp:rOe,lineHeight:ky,loader:jM,locale:NOe,logger:AZ,lruCache:iOe,markup:vte,merge:sOe,mergeConfig:iE,multiLineOffset:ute,one:rE,pad:oOe,panLinear:GPe,panLog:YPe,panPow:KPe,panSymlog:XPe,parse:aWt,parseExpression:s5e,parseSelector:iv,path:oM,pathCurves:Yee,pathEqual:o6e,pathParse:V_,pathRectangle:a4e,pathRender:Rk,pathSymbols:o4e,pathTrail:l4e,peek:Rr,point:cF,projection:Dte,quantileLogNormal:iee,quantileNormal:GM,quantileUniform:lee,quantiles:KZ,quantizeInterpolator:qNe,quarter:QPe,quartiles:XZ,get random(){return hd},randomInteger:s$t,randomKDE:eee,randomLCG:i$t,randomLogNormal:eNe,randomMixture:tNe,randomNormal:ZZ,randomUniform:nNe,read:BOe,regressionConstant:uee,regressionExp:iNe,regressionLinear:cee,regressionLoess:aNe,regressionLog:rNe,regressionPoly:oNe,regressionPow:sNe,regressionQuad:dee,renderModule:dF,repeat:CS,resetDefaultLocale:t5t,resetSVGClipId:c4e,resetSVGDefIds:oLt,responseType:jOe,runtimeContext:_5e,sampleCurve:KM,sampleLogNormal:tee,sampleNormal:qM,sampleUniform:see,scale:Zr,sceneEqual:wte,sceneFromJSON:T4e,scenePickVisit:y6,sceneToJSON:S4e,sceneVisit:Of,sceneZOrder:Zee,scheme:Hee,serializeXML:H4e,setHybridRendererOptions:nLt,setRandom:n$t,span:nR,splitAccessPath:$p,stringValue:Dt,textMetrics:ec,timeBin:kOe,timeFloor:yOe,timeFormatLocale:Tk,timeInterval:aE,timeOffset:wOe,timeSequence:COe,timeUnitSpecifier:uOe,timeUnits:BZ,toBoolean:MZ,toDate:FZ,toNumber:Qa,toSet:Df,toString:LZ,transform:YOe,transforms:j_,truncate:aOe,truthy:dd,tupleid:wn,typeParsers:sW,utcFloor:vOe,utcInterval:lE,utcOffset:xOe,utcSequence:EOe,utcdayofyear:hOe,utcquarter:JPe,utcweek:pOe,version:lWt,visitArray:Eg,week:dOe,writeConfig:sE,zero:Pg,zoomLinear:RZ,zoomLog:IZ,zoomPow:d6,zoomSymlog:DZ},Symbol.toStringTag,{value:"Module"})),cWt="5.23.0",dWt={version:cWt};function Pne(e){return bt(e,"or")}function One(e){return bt(e,"and")}function Nne(e){return bt(e,"not")}function QO(e,t){if(Nne(e))QO(e.not,t);else if(One(e))for(const n of e.and)QO(n,t);else if(Pne(e))for(const n of e.or)QO(n,t);else t(e)}function e_(e,t){return Nne(e)?{not:e_(e.not,t)}:One(e)?{and:e.and.map(n=>e_(n,t))}:Pne(e)?{or:e.or.map(n=>e_(n,t))}:t(e)}const Gn=structuredClone;function v$e(e){throw new Error(e)}function Y_(e,t){const n={};for(const r of t)Kt(e,r)&&(n[r]=e[r]);return n}function yu(e,t){const n={...e};for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>_i(e)).join(",")})`};function Er(e){if(Jr(e))return e;const t=Ht(e)?e:_i(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n}function KW(e){return e===!1||e===null}function vr(e,t){return e.includes(t)}function K_(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function $ne(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function b$e(e,...t){for(const n of t)fWt(e,n??{});return e}function fWt(e,t){for(const n of vt(t))sE(e,n,t[n],!0)}function Wh(e,t){const n=[],r={};let i;for(const s of e)i=t(s),!(i in r)&&(r[i]=1,n.push(s));return n}function hWt(e,t){const n=vt(e),r=vt(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function w$e(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function Mne(e,t){for(const n of e)if(t.has(n))return!0;return!1}function XW(e){const t=new Set;for(const n of e){const i=$p(n).map((o,a)=>a===0?o:`[${o}]`),s=i.map((o,a)=>i.slice(0,a+1).join(""));for(const o of s)t.add(o)}return t}function Fne(e,t){return e===void 0||t===void 0?!0:Mne(XW(e),XW(t))}function xi(e){return vt(e).length===0}const vt=Object.keys,Ca=Object.values,Dy=Object.entries;function Bk(e){return e===!0||e===!1}function ns(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function vT(e,t){return Nne(e)?`!(${vT(e.not,t)})`:One(e)?`(${e.and.map(n=>vT(n,t)).join(") && (")})`:Pne(e)?`(${e.or.map(n=>vT(n,t)).join(") || (")})`:t(e)}function L6(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&L6(e[n],t)&&delete e[n],xi(e)}function SR(e){return e.charAt(0).toUpperCase()+e.substr(1)}function Lne(e,t="datum"){const n=$p(e),r=[];for(let i=1;i<=n.length;i++){const s=`[${n.slice(0,i).map(Dt).join("][")}]`;r.push(`${t}${s}`)}return r.join(" && ")}function x$e(e,t="datum"){return`${t}[${Dt($p(e).join("."))}]`}function pi(e){return`datum['${e.replaceAll("'","\\'")}']`}function pWt(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function pd(e){return`${$p(e).map(pWt).join("\\.")}`}function ub(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function mE(e){return`${$p(e).join(".")}`}function X_(e){return e?$p(e).length:0}function Vs(...e){return e.find(t=>t!==void 0)}let _$e=42;function C$e(e){const t=++_$e;return e?String(e)+t:t}function mWt(){_$e=42}function E$e(e){return S$e(e)?e:`__${e}`}function S$e(e){return e.startsWith("__")}function zk(e){if(e!==void 0)return(e%360+360)%360}function IF(e){return Jr(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}const Mge=Object.getPrototypeOf(structuredClone({}));function Ju(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor.name!==t.constructor.name)return!1;let n,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Ju(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const s of e.entries())if(!t.has(s[0]))return!1;for(const s of e.entries())if(!Ju(s[1],t.get(s[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const s of e.entries())if(!t.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==Mge.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==Mge.toString)return e.toString()===t.toString();const i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!Ju(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function _i(e){const t=[];return(function n(r){if(r&&r.toJSON&&typeof r.toJSON=="function"&&(r=r.toJSON()),r===void 0)return;if(typeof r=="number")return isFinite(r)?""+r:"null";if(typeof r!="object")return JSON.stringify(r);let i,s;if(Array.isArray(r)){for(s="[",i=0;i<r.length;i++)i&&(s+=","),s+=n(r[i])||"null";return s+"]"}if(r===null)return"null";if(t.includes(r))throw new TypeError("Converting circular structure to JSON");const o=t.push(r)-1,a=Object.keys(r).sort();for(s="",i=0;i<a.length;i++){const l=a[i],u=n(r[l]);u&&(s&&(s+=","),s+=JSON.stringify(l)+":"+u)}return t.splice(o,1),`{${s}}`})(e)}function bt(e,t){return Vt(e)&&Kt(e,t)&&e[t]!==void 0}const Bm="row",zm="column",DF="facet",ss="x",ea="y",nh="x2",jp="y2",sv="xOffset",gE="yOffset",rh="radius",N0="radius2",kd="theta",$0="theta2",ih="latitude",sh="longitude",oh="latitude2",md="longitude2",ov="time",Su="color",Bp="fill",zp="stroke",Tu="shape",M0="size",Kb="angle",F0="opacity",av="fillOpacity",lv="strokeOpacity",uv="strokeWidth",cv="strokeDash",TR="text",Q_="order",kR="detail",PF="key",cb="tooltip",OF="href",NF="url",$F="description",gWt={x:1,y:1,x2:1,y2:1},T$e={theta:1,theta2:1,radius:1,radius2:1};function k$e(e){return Kt(T$e,e)}const jne={longitude:1,longitude2:1,latitude:1,latitude2:1};function A$e(e){switch(e){case ih:return"y";case oh:return"y2";case sh:return"x";case md:return"x2"}}function R$e(e){return Kt(jne,e)}const yWt=vt(jne),Bne={...gWt,...T$e,...jne,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,time:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function t_(e){return e===Su||e===Bp||e===zp}const I$e={row:1,column:1,facet:1},Kc=vt(I$e),zne={...Bne,...I$e},vWt=vt(zne),{order:fgn,detail:hgn,tooltip:pgn,...bWt}=zne,{row:mgn,column:ggn,facet:ygn,...wWt}=bWt;function xWt(e){return Kt(wWt,e)}function D$e(e){return Kt(zne,e)}const _Wt=[nh,jp,oh,md,$0,N0];function P$e(e){return Xb(e)!==e}function Xb(e){switch(e){case nh:return ss;case jp:return ea;case oh:return ih;case md:return sh;case $0:return kd;case N0:return rh}return e}function Py(e){if(k$e(e))switch(e){case kd:return"startAngle";case $0:return"endAngle";case rh:return"outerRadius";case N0:return"innerRadius"}return e}function Up(e){switch(e){case ss:return nh;case ea:return jp;case ih:return oh;case sh:return md;case kd:return $0;case rh:return N0}}function ku(e){switch(e){case ss:case nh:return"width";case ea:case jp:return"height"}}function O$e(e){switch(e){case ss:return"xOffset";case ea:return"yOffset";case nh:return"x2Offset";case jp:return"y2Offset";case kd:return"thetaOffset";case rh:return"radiusOffset";case $0:return"theta2Offset";case N0:return"radius2Offset"}}function Une(e){switch(e){case ss:return"xOffset";case ea:return"yOffset"}}function CWt(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const EWt=vt(Bne),{x:vgn,y:bgn,x2:wgn,y2:xgn,xOffset:_gn,yOffset:Cgn,latitude:Egn,longitude:Sgn,latitude2:Tgn,longitude2:kgn,theta:Agn,theta2:Rgn,radius:Ign,radius2:Dgn,...Vne}=Bne,SWt=vt(Vne),Hne={x:1,y:1},L0=vt(Hne);function Hs(e){return Kt(Hne,e)}const qne={theta:1,radius:1},TWt=vt(qne);function MF(e){return e==="width"?ss:ea}const N$e={xOffset:1,yOffset:1};function AR(e){return Kt(N$e,e)}const kWt={time:1};function bz(e){return e in kWt}const{text:Pgn,tooltip:Ogn,href:Ngn,url:$gn,description:Mgn,detail:Fgn,key:Lgn,order:jgn,...$$e}=Vne,AWt=vt($$e);function RWt(e){return Kt(Vne,e)}function IWt(e){switch(e){case Su:case Bp:case zp:case M0:case Tu:case F0:case uv:case cv:return!0;case av:case lv:case Kb:case ov:return!1}}const M$e={...Hne,...qne,...N$e,...$$e},Wne=vt(M$e);function Vp(e){return Kt(M$e,e)}function DWt(e,t){return OWt(e)[t]}const F$e={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:Bgn,...PWt}=F$e;function OWt(e){switch(e){case Su:case Bp:case zp:case $F:case kR:case PF:case cb:case OF:case Q_:case F0:case av:case lv:case uv:case DF:case Bm:case zm:return F$e;case ss:case ea:case sv:case gE:case ih:case sh:case ov:return PWt;case nh:case jp:case oh:case md:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case M0:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case cv:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case Tu:return{point:"always",geoshape:"always"};case TR:return{text:"always"};case Kb:return{point:"always",square:"always",text:"always"};case NF:return{image:"always"};case kd:return{text:"always",arc:"always"};case rh:return{text:"always",arc:"always"};case $0:case N0:return{arc:"always"}}}function wz(e){switch(e){case ss:case ea:case kd:case rh:case sv:case gE:case M0:case Kb:case uv:case F0:case av:case lv:case ov:case nh:case jp:case $0:case N0:return;case DF:case Bm:case zm:case Tu:case cv:case TR:case cb:case OF:case NF:case $F:return"discrete";case Su:case Bp:case zp:return"flexible";case ih:case sh:case oh:case md:case kR:case PF:case Q_:return}}const NWt={argmax:1,argmin:1,average:1,count:1,distinct:1,exponential:1,exponentialb:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},$Wt={count:1,min:1,max:1};function f0(e){return bt(e,"argmin")}function dv(e){return bt(e,"argmax")}function Gne(e){return Ht(e)&&Kt(NWt,e)}const MWt=new Set(["count","valid","missing","distinct"]);function FF(e){return Ht(e)&&MWt.has(e)}function FWt(e){return Ht(e)&&vr(["min","max"],e)}const LWt=new Set(["count","sum","distinct","valid","missing"]),jWt=new Set(["mean","average","median","q1","q3","min","max"]);function L$e(e){return nv(e)&&(e=KF(e,void 0)),"bin"+vt(e).map(t=>LF(e[t])?ns(`_${t}_${Dy(e[t])}`):ns(`_${t}_${e[t]}`)).join("")}function Li(e){return e===!0||Qb(e)&&!e.binned}function ha(e){return e==="binned"||Qb(e)&&e.binned===!0}function Qb(e){return Vt(e)}function LF(e){return bt(e,"param")}function Fge(e){switch(e){case Bm:case zm:case M0:case Su:case Bp:case zp:case uv:case F0:case av:case lv:case Tu:return 6;case cv:return 4;default:return 10}}function RR(e){return bt(e,"expr")}function pa(e,{level:t}={level:0}){const n=vt(e||{}),r={};for(const i of n)r[i]=t===0?Xu(e[i]):pa(e[i],{level:t-1});return r}function j$e(e){const{anchor:t,frame:n,offset:r,orient:i,angle:s,limit:o,color:a,subtitleColor:l,subtitleFont:u,subtitleFontSize:c,subtitleFontStyle:d,subtitleFontWeight:f,subtitleLineHeight:h,subtitlePadding:p,...m}=e,g={...m,...a?{fill:a}:{}},y={...t?{anchor:t}:{},...n?{frame:n}:{},...r?{offset:r}:{},...i?{orient:i}:{},...s!==void 0?{angle:s}:{},...o!==void 0?{limit:o}:{}},v={...l?{subtitleColor:l}:{},...u?{subtitleFont:u}:{},...c?{subtitleFontSize:c}:{},...d?{subtitleFontStyle:d}:{},...f?{subtitleFontWeight:f}:{},...h?{subtitleLineHeight:h}:{},...p?{subtitlePadding:p}:{}},w=Y_(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:g,subtitleMarkConfig:w,nonMarkTitleProperties:y,subtitle:v}}function kg(e){return Ht(e)||ut(e)&&Ht(e[0])}function dn(e){return bt(e,"signal")}function Jb(e){return bt(e,"step")}function BWt(e){return ut(e)?!1:bt(e,"fields")&&!bt(e,"data")}function zWt(e){return ut(e)?!1:bt(e,"fields")&&bt(e,"data")}function Im(e){return ut(e)?!1:bt(e,"field")&&bt(e,"data")}const UWt={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},VWt=vt(UWt),HWt={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},QW=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function B$e(e){const t=ut(e.condition)?e.condition.map(Lge):Lge(e.condition);return{...Xu(e),condition:t}}function Xu(e){if(RR(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function Lge(e){if(RR(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function Wi(e){if(RR(e)){const{expr:t,...n}=e;return{signal:t,...n}}return dn(e)?e:e!==void 0?{value:e}:void 0}function qWt(e){return dn(e)?e.signal:Dt(e)}function jge(e){return dn(e)?e.signal:Dt(e.value)}function df(e){return dn(e)?e.signal:e==null?null:Dt(e)}function WWt(e,t,n){for(const r of n){const i=wp(r,t.markDef,t.config);i!==void 0&&(e[r]=Wi(i))}return e}function z$e(e){return[].concat(e.type,e.style??[])}function wi(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:s}=r;return i&&bt(t,i)?t[i]:t[e]!==void 0?t[e]:s&&(!i||i===e)?void 0:wp(e,t,n,r)}function wp(e,t,n,{vgChannel:r}={}){const i=JW(e,t,n.style);return Vs(r?i:void 0,i,r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function JW(e,t,n){return U$e(e,z$e(t),n)}function U$e(e,t,n){t=Ut(t);let r;for(const i of t){const s=n[i];bt(s,e)&&(r=s[e])}return r}function V$e(e,t){return Ut(e).reduce((n,r)=>(n.field.push(Ft(r,t)),n.order.push(r.sort??"ascending"),n),{field:[],order:[]})}function H$e(e,t){const n=[...e];return t.forEach(r=>{for(const i of n)if(Ju(i,r))return;n.push(r)}),n}function q$e(e,t){return Ju(e,t)||!t?e:e?[...Ut(e),...Ut(t)].join(", "):t}function W$e(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((kg(n)||dn(n))&&(kg(r)||dn(r)))return{explicit:e.explicit,value:q$e(n,r)};if(kg(n)||dn(n))return{explicit:e.explicit,value:n};if(kg(r)||dn(r))return{explicit:e.explicit,value:r};if(!kg(n)&&!dn(n)&&!kg(r)&&!dn(r))return{explicit:e.explicit,value:H$e(n,r)};throw new Error("It should never reach here")}function Yne(e){return`Invalid specification ${_i(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const GWt='Autosize "fit" only works for single views and layered views.';function Bge(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function zge(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function Uge(e){return e?`Dropping "fit-${e}" because spec has discrete ${ku(e)}.`:'Dropping "fit" because spec has discrete size.'}function Kne(e){return`Unknown field for ${e}. Cannot calculate view size.`}function Vge(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function YWt(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function KWt(e){return`The "nearest" transform is not supported for ${e} marks.`}function G$e(e){return`Selection not supported for ${e} yet.`}function XWt(e){return`Cannot find a selection named "${e}".`}const QWt="Scale bindings are currently only supported for scales with unbinned, continuous domains.",JWt="Sequntial scales are deprecated. The available quantitative scale type values are linear, log, pow, sqrt, symlog, time and utc",ZWt="Legend bindings are only supported for selections over an individual field or encoding channel.";function eGt(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function tGt(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const nGt="The same selection must be used to override scale domains in a layered view.",rGt='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function iGt(e){return`Unknown repeated value "${e}".`}function Hge(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const sGt="Multiple timer selections in one unit spec are not supported. Ignoring all but the first.",Xne="Animation involving facet, layer, or concat is currently unsupported.";function oGt(e){return`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${Dt(e)}.`}function aGt(e,t,n,r){return(e.length?"Multiple ":"No ")+`matching ${Dt(t)} encoding found for selection ${Dt(n.param)}. Using "field": ${Dt(r)}.`}const lGt="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function uGt(e){return`Unrecognized parse "${e}".`}function qge(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const cGt="Attempt to add the same child twice.";function dGt(e){return`Ignoring an invalid transform: ${_i(e)}.`}const fGt='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function Wge(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function hGt(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${_i(t)} is overridden by a child projection ${_i(n)}.`}const pGt="Arc marks uses theta channel rather than angle, replacing angle with theta.";function mGt(e){return`${e}Offset dropped because ${e} is continuous`}function gGt(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${_i(n)}}.`}function Y$e(e){return`Invalid field type "${e}".`}function yGt(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function vGt(e){return`Invalid aggregation operator "${e}".`}function K$e(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function bGt(e){return`Position range does not support relative band size for ${e}.`}function ZW(e,t){return`Dropping ${_i(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const wGt="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function jF(e,t,n){return`${e} dropped as it is incompatible with "${t}".`}function xGt(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function _Gt(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function CGt(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function EGt(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function xz(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function SGt(e){return`The ${e} for range marks cannot be an expression`}function TGt(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function kGt(e,t){return`Specified orient "${e}" overridden with "${t}".`}function AGt(e){return`Cannot use the scale property "${e}" with non-color channel.`}function RGt(e){return`Cannot use the relative band size with ${e} scale.`}function IGt(e){return`Using unaggregated domain with raw field has no effect (${_i(e)}).`}function DGt(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function PGt(e){return`Unaggregated domain is currently unsupported for log scale (${_i(e)}).`}function OGt(e){return`Cannot apply size to non-oriented mark "${e}".`}function NGt(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function $Gt(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function X$e(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function Q$e(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function MGt(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${_i(n)} and ${_i(r)}). Using ${_i(n)}.`}function FGt(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${_i(n)} and ${_i(r)}). Using the union of the two domains.`}function LGt(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function jGt(e){return`Dropping sort property ${_i(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const Gge="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",BGt="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",zGt="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",UGt="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function VGt(e){return`Cannot stack "${e}" if there is already "${e}2".`}function HGt(e){return`Stack is applied to a non-linear scale (${e}).`}function qGt(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function j6(e,t){return`Invalid ${e}: ${_i(t)}.`}function WGt(e){return`Dropping day from datetime ${_i(e)} as day cannot be combined with other units.`}function GGt(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function YGt(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function KGt(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function Yge(e){return`1D error band does not support ${e}.`}function J$e(e){return`Channel ${e} is required for "binned" bin.`}function XGt(e){return`Channel ${e} should not be used with "binned" bin.`}function QGt(e){return`Domain for ${e} is required for threshold scale.`}const Z$e=AZ(kZ);let db=Z$e;function JGt(e){return db=e,db}function ZGt(){return db=Z$e,db}function Qne(...e){db.error(...e)}function Ct(...e){db.warn(...e)}function eYt(...e){db.debug(...e)}function Zb(e){if(e&&Vt(e)){for(const t of Zne)if(bt(e,t))return!0}return!1}const eMe=["january","february","march","april","may","june","july","august","september","october","november","december"],tYt=eMe.map(e=>e.substr(0,3)),tMe=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],nYt=tMe.map(e=>e.substr(0,3));function rYt(e){if(IF(e)&&(e=+e),Jr(e))return e>4&&Ct(j6("quarter",e)),e-1;throw new Error(j6("quarter",e))}function iYt(e){if(IF(e)&&(e=+e),Jr(e))return e-1;{const t=e.toLowerCase(),n=eMe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=tYt.indexOf(r);if(i!==-1)return i;throw new Error(j6("month",e))}}function sYt(e){if(IF(e)&&(e=+e),Jr(e))return e%7;{const t=e.toLowerCase(),n=tMe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=nYt.indexOf(r);if(i!==-1)return i;throw new Error(j6("day",e))}}function Jne(e,t){const n=[];if(t&&e.day!==void 0&&vt(e).length>1&&(Ct(WGt(e)),e=Gn(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?iYt(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?rYt(e.quarter):e.quarter;n.push(Jr(r)?r*3:`${r}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?sYt(e.day):e.day;n.push(Jr(r)?r+1:`${r}+1`)}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const i=e[r];n.push(typeof i>"u"?0:i)}return n}function fb(e){const n=Jne(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function oYt(e){const n=Jne(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function aYt(e){const t=Jne(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const nMe={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Zne=vt(nMe);function lYt(e){return Kt(nMe,e)}function ew(e){return Vt(e)?e.binned:rMe(e)}function rMe(e){return e&&e.startsWith("binned")}function ere(e){return e.startsWith("utc")}function uYt(e){return e.substring(3)}const cYt={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function BF(e){return Zne.filter(t=>sMe(e,t))}function iMe(e){const t=BF(e);return t[t.length-1]}function sMe(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function dYt(e,t,{end:n}={end:!1}){const r=Lne(t),i=ere(e)?"utc":"";function s(l){return l==="quarter"?`(${i}quarter(${r})-1)`:`${i}${l}(${r})`}let o;const a={};for(const l of Zne)sMe(e,l)&&(a[l]=s(l),o=l);return n&&(a[o]+="+1"),oYt(a)}function oMe(e){if(!e)return;const t=BF(e);return`timeUnitSpecifier(${_i(t)}, ${_i(cYt)})`}function fYt(e,t,n){if(!e)return;const r=oMe(e);return`${n||ere(e)?"utc":"time"}Format(${t}, ${r})`}function Xo(e){if(!e)return;let t;return Ht(e)?rMe(e)?t={unit:e.substring(6),binned:!0}:t={unit:e}:Vt(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),ere(t.unit)&&(t.utc=!0,t.unit=uYt(t.unit)),t}function hYt(e){const{utc:t,...n}=Xo(e);return n.unit?(t?"utc":"")+vt(n).map(r=>ns(`${r==="unit"?"":`_${r}_`}${n[r]}`)).join(""):(t?"utc":"")+"timeunit"+vt(n).map(r=>ns(`_${r}_${n[r]}`)).join("")}function aMe(e,t=n=>n){const n=Xo(e),r=iMe(n.unit);if(r&&r!=="day"){const i={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:s,part:o}=lMe(r,n.step),a={...i,[o]:+i[o]+s};return`${t(fb(a))} - ${t(fb(i))}`}}const pYt={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function mYt(e){return Kt(pYt,e)}function lMe(e,t=1){if(mYt(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:t*3};case"week":return{part:"date",step:t*7}}}function gYt(e){return bt(e,"param")}function tre(e){return!!e?.field&&e.equal!==void 0}function nre(e){return!!e?.field&&e.lt!==void 0}function rre(e){return!!e?.field&&e.lte!==void 0}function ire(e){return!!e?.field&&e.gt!==void 0}function sre(e){return!!e?.field&&e.gte!==void 0}function ore(e){if(e?.field){if(ut(e.range)&&e.range.length===2)return!0;if(dn(e.range))return!0}return!1}function are(e){return!!e?.field&&(ut(e.oneOf)||ut(e.in))}function yYt(e){return!!e?.field&&e.valid!==void 0}function uMe(e){return are(e)||tre(e)||ore(e)||nre(e)||ire(e)||rre(e)||sre(e)}function Th(e,t){return XF(e,{timeUnit:t,wrapTime:!0})}function vYt(e,t){return e.map(n=>Th(n,t))}function cMe(e,t=!0){const{field:n}=e,r=Xo(e.timeUnit),{unit:i,binned:s}=r||{},o=Ft(e,{expr:"datum"}),a=i?`time(${s?o:dYt(i,n)})`:o;if(tre(e))return`${a}===${Th(e.equal,i)}`;if(nre(e)){const l=e.lt;return`${a}<${Th(l,i)}`}else if(ire(e)){const l=e.gt;return`${a}>${Th(l,i)}`}else if(rre(e)){const l=e.lte;return`${a}<=${Th(l,i)}`}else if(sre(e)){const l=e.gte;return`${a}>=${Th(l,i)}`}else{if(are(e))return`indexof([${vYt(e.oneOf,i).join(",")}], ${a}) !== -1`;if(yYt(e))return zF(a,e.valid);if(ore(e)){const{range:l}=pa(e),u=dn(l)?{signal:`${l.signal}[0]`}:l[0],c=dn(l)?{signal:`${l.signal}[1]`}:l[1];if(u!==null&&c!==null&&t)return"inrange("+a+", ["+Th(u,i)+", "+Th(c,i)+"])";const d=[];return u!==null&&d.push(`${a} >= ${Th(u,i)}`),c!==null&&d.push(`${a} <= ${Th(c,i)}`),d.length>0?d.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${_i(e)}`)}function zF(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function bYt(e){return uMe(e)&&e.timeUnit?{...e,timeUnit:Xo(e.timeUnit)}:e}const IR={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function wYt(e){return e==="quantitative"||e==="temporal"}function dMe(e){return e==="ordinal"||e==="nominal"}const hb=IR.quantitative,lre=IR.ordinal,J_=IR.temporal,ure=IR.nominal,yE=IR.geojson;function xYt(e){if(e)switch(e=e.toLowerCase(),e){case"q":case hb:return"quantitative";case"t":case J_:return"temporal";case"o":case lre:return"ordinal";case"n":case ure:return"nominal";case yE:return"geojson"}}const ma={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",TIME:"time",UTC:"utc",POINT:"point",BAND:"band"},eG={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function _Yt(e,t){const n=eG[e],r=eG[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const CYt={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function Kge(e){return CYt[e]}const fMe=new Set(["linear","log","pow","sqrt","symlog"]),hMe=new Set([...fMe,"time","utc"]);function pMe(e){return fMe.has(e)}const mMe=new Set(["quantile","quantize","threshold"]),EYt=new Set([...hMe,...mMe,"sequential","identity"]),SYt=new Set(["ordinal","bin-ordinal","point","band"]);function Qo(e){return SYt.has(e)}function Nf(e){return EYt.has(e)}function Gh(e){return hMe.has(e)}function Z_(e){return mMe.has(e)}const TYt={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,tickBandPaddingInner:.25,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:4,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0,framesPerSecond:2,animationDuration:5};function kYt(e){return!Ht(e)&&bt(e,"name")}function gMe(e){return bt(e,"param")}function AYt(e){return bt(e,"unionWith")}function RYt(e){return Vt(e)&&"field"in e}const IYt={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:zgn,domain:Ugn,range:Vgn,rangeMax:Hgn,rangeMin:qgn,scheme:Wgn,...DYt}=IYt,PYt=vt(DYt);function tG(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return Gh(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return Gh(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return Gh(e);case"nice":return Gh(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return Nf(e)&&!vr(["log","time","utc","threshold","quantile"],e)}}function yMe(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return t_(e)?void 0:AGt(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function OYt(e,t){return vr([lre,ure],t)?e===void 0||Qo(e):t===J_?vr([ma.TIME,ma.UTC,void 0],e):t===hb?pMe(e)||Z_(e)||e===void 0:!0}function NYt(e,t,n=!1){if(!Vp(e))return!1;switch(e){case ss:case ea:case sv:case gE:case kd:case rh:return Gh(t)||t==="band"?!0:t==="point"?!n:!1;case ov:return vr(["linear","band"],t);case M0:case uv:case F0:case av:case lv:case Kb:return Gh(t)||Z_(t)||vr(["band","point","ordinal"],t);case Su:case Bp:case zp:return t!=="band";case cv:case Tu:return t==="ordinal"||Z_(t)}}function $Yt(e){return Vt(e)&&"value"in e}const Gl={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},vMe=Gl.arc,UF=Gl.area,VF=Gl.bar,MYt=Gl.image,HF=Gl.line,qF=Gl.point,FYt=Gl.rect,B6=Gl.rule,bMe=Gl.text,cre=Gl.tick,LYt=Gl.trail,dre=Gl.circle,fre=Gl.square,wMe=Gl.geoshape;function fv(e){return["line","area","trail"].includes(e)}function Uk(e){return["rect","bar","image","arc","tick"].includes(e)}const jYt=new Set(vt(Gl));function xp(e){return bt(e,"type")}const BYt=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],zYt=["fill","fillOpacity"],UYt=[...BYt,...zYt],VYt={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},Xge=vt(VYt),_z=["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],HYt={area:["line","point"],bar:_z,rect:_z,line:["point"],tick:["bandSize","thickness",..._z]},qYt={color:"#4c78a8",invalid:"break-paths-show-path-domains",timeUnitBandSize:1},WYt={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},xMe=vt(WYt);function pb(e){return bt(e,"band")}const GYt={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},YYt=5,hre={binSpacing:0,continuousBandSize:YYt,minBandSize:.25,timeUnitBandPosition:.5},KYt={...hre,binSpacing:1},XYt={...hre,thickness:1};function QYt(e){return xp(e)?e.type:e}function _Me(e,{isPath:t}){return e===void 0||e==="break-paths-show-path-domains"?t?"break-paths-show-domains":"filter":e===null?"show":e}function pre({markDef:e,config:t,scaleChannel:n,scaleType:r,isCountAggregate:i}){if(!r||!Nf(r)||i)return"always-valid";const s=_Me(wi("invalid",e,t),{isPath:fv(e.type)});return t.scale?.invalid?.[n]!==void 0?"show":s}function JYt(e){return e==="break-paths-filter-domains"||e==="break-paths-show-domains"}function CMe({scaleName:e,scale:t,mode:n}){const r=`domain('${e}')`;if(!t||!e)return;const i=`${r}[0]`,s=`peek(${r})`,o=t.domainHasZero();return o==="definitely"?{scale:e,value:0}:o==="maybe"?{signal:`scale('${e}', inrange(0, ${r}) ? 0 : ${n==="zeroOrMin"?i:s})`}:{signal:`scale('${e}', ${n==="zeroOrMin"?i:s})`}}function EMe({scaleChannel:e,channelDef:t,scale:n,scaleName:r,markDef:i,config:s}){const o=n?.get("type"),a=Mf(t),l=FF(a?.aggregate),u=pre({scaleChannel:e,markDef:i,config:s,scaleType:o,isCountAggregate:l});if(a&&u==="show"){const c=s.scale.invalid?.[e]??"zero-or-min";return{test:zF(Ft(a,{expr:"datum"}),!1),...ZYt(c,n,r)}}}function ZYt(e,t,n){if($Yt(e)){const{value:r}=e;return dn(r)?{signal:r.signal}:{value:r}}return CMe({scale:t,scaleName:n,mode:"zeroOrMin"})}function mre(e){const{channel:t,channelDef:n,markDef:r,scale:i,scaleName:s,config:o}=e,a=Xb(t),l=gre(e),u=EMe({scaleChannel:a,channelDef:n,scale:i,scaleName:s,markDef:r,config:o});return u!==void 0?[u,l]:l}function eKt(e){const{datum:t}=e;return Zb(t)?fb(t):`${_i(t)}`}function $1(e,t,n,r){const i={};if(t&&(i.scale=t),Hp(e)){const{datum:s}=e;Zb(s)?i.signal=fb(s):dn(s)?i.signal=s.signal:RR(s)?i.signal=s.expr:i.value=s}else i.field=Ft(e,n);if(r){const{offset:s,band:o}=r;s&&(i.offset=s),o&&(i.band=o)}return i}function z6({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,endSuffix:s="end",bandPosition:o=.5}){const a=!dn(o)&&0<o&&o<1?"datum":void 0,l=Ft(t,{expr:a,suffix:i}),u=n!==void 0?Ft(n,{expr:a}):Ft(t,{suffix:s,expr:a}),c={};if(o===0||o===1){c.scale=e;const d=o===0?l:u;c.field=d}else{const d=dn(o)?`(1-${o.signal}) * ${l} + ${o.signal} * ${u}`:`${1-o} * ${l} + ${o} * ${u}`;c.signal=`scale("${e}", ${d})`}return r&&(c.offset=r),c}function tKt({scaleName:e,fieldDef:t}){const n=Ft(t,{expr:"datum"}),r=Ft(t,{expr:"datum",suffix:"end"});return`abs(scale("${e}", ${r}) - scale("${e}", ${n}))`}function gre({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:s,scale:o,stack:a,offset:l,defaultRef:u,bandPosition:c}){if(t){if(Xn(t)){const d=o?.get("type");if(Bl(t)){c??(c=Oy({fieldDef:t,fieldDef2:n,markDef:r,config:i}));const{bin:f,timeUnit:h,type:p}=t;if(Li(f)||c&&h&&p===J_)return a?.impute?$1(t,s,{binSuffix:"mid"},{offset:l}):c&&!Qo(d)?z6({scaleName:s,fieldOrDatumDef:t,bandPosition:c,offset:l}):$1(t,s,$R(t,e)?{binSuffix:"range"}:{},{offset:l});if(ha(f)){if(Tt(n))return z6({scaleName:s,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:c,offset:l});Ct(J$e(e===ss?nh:jp))}}return $1(t,s,Qo(d)?{binSuffix:"range"}:{},{offset:l,band:d==="band"?c??t.bandPosition??.5:void 0})}else if($f(t)){const d=t.value,f=l?{offset:l}:{};return{...bT(e,d),...f}}}return ir(u)&&(u=u()),u&&{...u,...l?{offset:l}:{}}}function bT(e,t){return vr(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:vr(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:Wi(t)}function mb(e){return e&&e!=="number"&&e!=="time"}function SMe(e,t,n){return`${e}(${t}${n?`, ${_i(n)}`:""})`}const nKt="  ";function yre({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:s}){if(mb(n))return ff({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:s});const o=TMe(e,r,i),a=eC(e);if(t===void 0&&n===void 0&&s.customFormatTypes){if(a==="quantitative"){if(i&&s.normalizedNumberFormatType)return ff({fieldOrDatumDef:e,format:s.normalizedNumberFormat,formatType:s.normalizedNumberFormatType,expr:r,config:s});if(s.numberFormatType)return ff({fieldOrDatumDef:e,format:s.numberFormat,formatType:s.numberFormatType,expr:r,config:s})}if(a==="temporal"&&s.timeFormatType&&Tt(e)&&e.timeUnit===void 0)return ff({fieldOrDatumDef:e,format:s.timeFormat,formatType:s.timeFormatType,expr:r,config:s})}if(nC(e)){const l=iKt({field:o,timeUnit:Tt(e)?Xo(e.timeUnit)?.unit:void 0,format:t,formatType:s.timeFormatType,rawTimeFormat:s.timeFormat,isUTCScale:tw(e)&&e.scale?.type===ma.UTC});return l?{signal:l}:void 0}if(t=nG({type:a,specifiedFormat:t,config:s,normalizeStack:i}),Tt(e)&&Li(e.bin)){const l=Ft(e,{expr:r,binSuffix:"end"});return{signal:DR(o,l,t,n,s)}}else return t||eC(e)==="quantitative"?{signal:`${RMe(o,t)}`}:{signal:`isValid(${o}) ? ${o} : ""+${o}`}}function TMe(e,t,n){return Tt(e)?n?`${Ft(e,{expr:t,suffix:"end"})}-${Ft(e,{expr:t,suffix:"start"})}`:Ft(e,{expr:t}):eKt(e)}function ff({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:s,field:o}){if(o??(o=TMe(e,r,i)),o!=="datum.value"&&Tt(e)&&Li(e.bin)){const a=Ft(e,{expr:r,binSuffix:"end"});return{signal:DR(o,a,t,n,s)}}return{signal:SMe(n,o,t)}}function kMe(e,t,n,r,i,s){if(!(Ht(r)&&mb(r))&&!(n===void 0&&r===void 0&&i.customFormatTypes&&eC(e)==="quantitative"&&(i.normalizedNumberFormatType&&tC(e)&&e.stack==="normalize"||i.numberFormatType))){if(tC(e)&&e.stack==="normalize"&&i.normalizedNumberFormat)return nG({type:"quantitative",config:i,normalizeStack:!0});if(nC(e)){const o=Tt(e)?Xo(e.timeUnit)?.unit:void 0;return o===void 0&&i.customFormatTypes&&i.timeFormatType?void 0:rKt({specifiedFormat:n,timeUnit:o,config:i,omitTimeFormatConfig:s})}return nG({type:t,specifiedFormat:n,config:i})}}function AMe(e,t,n){if(e&&(dn(e)||e==="number"||e==="time"))return e;if(nC(t)&&n!=="time"&&n!=="utc")return Tt(t)&&Xo(t?.timeUnit)?.utc?"utc":"time"}function nG({type:e,specifiedFormat:t,config:n,normalizeStack:r}){if(Ht(t))return t;if(e===hb)return r?n.normalizedNumberFormat:n.numberFormat}function rKt({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:r}){return e||(t?{signal:oMe(t)}:r?void 0:n.timeFormat)}function RMe(e,t){return`format(${e}, "${t||""}")`}function Qge(e,t,n,r){return mb(n)?SMe(n,e,t):RMe(e,(Ht(t)?t:void 0)??r.numberFormat)}function DR(e,t,n,r,i){if(n===void 0&&r===void 0&&i.customFormatTypes&&i.numberFormatType)return DR(e,t,i.numberFormat,i.numberFormatType,i);const s=Qge(e,n,r,i),o=Qge(t,n,r,i);return`${zF(e,!1)} ? "null" : ${s} + "${nKt}" + ${o}`}function iKt({field:e,timeUnit:t,format:n,formatType:r,rawTimeFormat:i,isUTCScale:s}){return!t||n?!t&&r?`${r}(${e}, '${n}')`:(n=Ht(n)?n:i,`${s?"utc":"time"}Format(${e}, '${n}')`):fYt(t,e,s)}const WF="min",sKt={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function Jge(e){return Kt(sKt,e)}function oKt(e){return bt(e,"encoding")}function Um(e){return e&&(e.op==="count"||bt(e,"field"))}function IMe(e){return e&&ut(e)}function PR(e){return bt(e,"row")||bt(e,"column")}function vre(e){return bt(e,"header")}function GF(e){return bt(e,"facet")}function aKt(e){return bt(e,"param")}function lKt(e){return!Ht(e)&&bt(e,"repeat")}function Zge(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return{...n?{timeUnit:n}:{},...r?{bin:r}:{},...i?{aggregate:i}:{},field:t}}function bre(e){return bt(e,"sort")}function Oy({fieldDef:e,fieldDef2:t,markDef:n,config:r}){if(Xn(e)&&e.bandPosition!==void 0)return e.bandPosition;if(Tt(e)){const{timeUnit:i,bin:s}=e;if(i&&!t)return wp("timeUnitBandPosition",n,r);if(Li(s))return .5}}function DMe({channel:e,fieldDef:t,fieldDef2:n,markDef:r,config:i,scaleType:s,useVlSizeChannel:o}){const a=ku(e),l=wi(o?"size":a,r,i,{vgChannel:a});if(l!==void 0)return l;if(Tt(t)){const{timeUnit:u,bin:c}=t;if(u&&!n)return{band:wp("timeUnitBandSize",r,i)};if(Li(c)&&!Qo(s))return{band:1}}if(Uk(r.type))return s?Qo(s)?i[r.type]?.discreteBandSize||{band:1}:i[r.type]?.continuousBandSize:i[r.type]?.discreteBandSize}function PMe(e,t,n,r){return Li(e.bin)||e.timeUnit&&Bl(e)&&e.type==="temporal"?Oy({fieldDef:e,fieldDef2:t,markDef:n,config:r})!==void 0:!1}function OMe(e){return bt(e,"sort")&&!bt(e,"field")}function OR(e){return bt(e,"condition")}function YF(e){const t=e?.condition;return!!t&&!ut(t)&&Tt(t)}function NR(e){const t=e?.condition;return!!t&&!ut(t)&&Xn(t)}function uKt(e){const t=e?.condition;return!!t&&(ut(t)||$f(t))}function Tt(e){return bt(e,"field")||e?.aggregate==="count"}function eC(e){return e?.type}function Hp(e){return bt(e,"datum")}function Wg(e){return Bl(e)&&!V6(e)||U6(e)}function eye(e){return Bl(e)&&e.type==="quantitative"&&!e.bin||U6(e)}function U6(e){return Hp(e)&&Jr(e.datum)}function Xn(e){return Tt(e)||Hp(e)}function Bl(e){return e&&(bt(e,"field")||e.aggregate==="count")&&bt(e,"type")}function $f(e){return bt(e,"value")}function tw(e){return bt(e,"scale")||bt(e,"sort")}function tC(e){return bt(e,"axis")||bt(e,"stack")||bt(e,"impute")}function NMe(e){return bt(e,"legend")}function $Me(e){return bt(e,"format")||bt(e,"formatType")}function cKt(e){return yu(e,["legend","axis","header","scale"])}function dKt(e){return bt(e,"op")}function Ft(e,t={}){let n=e.field;const r=t.prefix;let i=t.suffix,s="";if(hKt(e))n=E$e("count");else{let o;if(!t.nofn)if(dKt(e))o=e.op;else{const{bin:a,aggregate:l,timeUnit:u}=e;Li(a)?(o=L$e(a),i=(t.binSuffix??"")+(t.suffix??"")):l?dv(l)?(s=`["${n}"]`,n=`argmax_${l.argmax}`):f0(l)?(s=`["${n}"]`,n=`argmin_${l.argmin}`):o=String(l):u&&!ew(u)&&(o=hYt(u),i=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}o&&(n=n?`${o}_${n}`:o)}return i&&(n=`${n}_${i}`),r&&(n=`${r}_${n}`),t.forAs?mE(n):t.expr?x$e(n,t.expr)+s:pd(n)+s}function V6(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return Tt(e)&&!!e.bin;case"temporal":return!1}throw new Error(Y$e(e.type))}function fKt(e){return tw(e)&&Z_(e.scale?.type)}function hKt(e){return e.aggregate==="count"}function pKt(e,t){const{field:n,bin:r,timeUnit:i,aggregate:s}=e;if(s==="count")return t.countTitle;if(Li(r))return`${n} (binned)`;if(i&&!ew(i)){const o=Xo(i)?.unit;if(o)return`${n} (${BF(o).join("-")})`}else if(s)return dv(s)?`${n} for max ${s.argmax}`:f0(s)?`${n} for min ${s.argmin}`:`${SR(s)} of ${n}`;return n}function mKt(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(dv(t))return`${i} for argmax(${t.argmax})`;if(f0(t))return`${i} for argmin(${t.argmin})`;const s=r&&!ew(r)?Xo(r):void 0,o=t||s?.unit||s?.maxbins&&"timeunit"||Li(n)&&"bin";return o?`${o.toUpperCase()}(${i})`:i}const MMe=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return mKt(e);default:return pKt(e,t)}};let FMe=MMe;function LMe(e){FMe=e}function gKt(){LMe(MMe)}function n_(e,t,{allowDisabling:n,includeDefault:r=!0}){const i=wre(e)?.title;if(!Tt(e))return i??e.title;const s=e,o=r?xre(s,t):void 0;return n?Vs(i,s.title,o):i??s.title??o}function wre(e){if(tC(e)&&e.axis)return e.axis;if(NMe(e)&&e.legend)return e.legend;if(vre(e)&&e.header)return e.header}function xre(e,t){return FMe(e,t)}function H6(e){if($Me(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}else{const t=wre(e)??{},{format:n,formatType:r}=t;return{format:n,formatType:r}}}function yKt(e,t){switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(bre(e)&&ut(e.sort))return"ordinal";const{aggregate:n,bin:r,timeUnit:i}=e;if(i)return"temporal";if(r||n&&!dv(n)&&!f0(n))return"quantitative";if(tw(e)&&e.scale?.type)switch(eG[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function Mf(e){if(Tt(e))return e;if(YF(e))return e.condition}function Co(e){if(Xn(e))return e;if(NR(e))return e.condition}function jMe(e,t,n,r={}){if(Ht(e)||Jr(e)||nv(e)){const i=Ht(e)?"string":Jr(e)?"number":"boolean";return Ct(gGt(t,i,e)),{value:e}}return Xn(e)?q6(e,t,n,r):NR(e)?{...e,condition:q6(e.condition,t,n,r)}:e}function q6(e,t,n,r){if($Me(e)){const{format:i,formatType:s,...o}=e;if(mb(s)&&!n.customFormatTypes)return Ct(Wge(t)),q6(o,t,n,r)}else{const i=tC(e)?"axis":NMe(e)?"legend":vre(e)?"header":null;if(i&&e[i]){const{format:s,formatType:o,...a}=e[i];if(mb(o)&&!n.customFormatTypes)return Ct(Wge(t)),q6({...e,[i]:a},t,n,r)}}return Tt(e)?_re(e,t,r):vKt(e)}function vKt(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=Jr(n)?"quantitative":Ht(n)?"nominal":Zb(n)?"temporal":void 0,{...e,type:t}}function _re(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:i,bin:s,field:o}=e,a={...e};if(!n&&r&&!Gne(r)&&!dv(r)&&!f0(r)&&(Ct(vGt(r)),delete a.aggregate),i&&(a.timeUnit=Xo(i)),o&&(a.field=`${o}`),Li(s)&&(a.bin=KF(s,t)),ha(s)&&!Hs(t)&&Ct(XGt(t)),Bl(a)){const{type:l}=a,u=xYt(l);l!==u&&(a.type=u),l!=="quantitative"&&FF(r)&&(Ct(yGt(l,r)),a.type="quantitative")}else if(!P$e(t)){const l=yKt(a,t);a.type=l}if(Bl(a)){const{compatible:l,warning:u}=bKt(a,t)||{};l===!1&&Ct(u)}if(bre(a)&&Ht(a.sort)){const{sort:l}=a;if(Jge(l))return{...a,sort:{encoding:l}};const u=l.substring(1);if(l.charAt(0)==="-"&&Jge(u))return{...a,sort:{encoding:u,order:"descending"}}}if(vre(a)){const{header:l}=a;if(l){const{orient:u,...c}=l;if(u)return{...a,header:{...c,labelOrient:l.labelOrient||u,titleOrient:l.titleOrient||u}}}}return a}function KF(e,t){return nv(e)?{maxbins:Fge(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?{...e,maxbins:Fge(t)}:e}const ex={compatible:!0};function bKt(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case Bm:case zm:case DF:return V6(e)?ex:{compatible:!1,warning:_Gt(t)};case ss:case ea:case sv:case gE:case Su:case Bp:case zp:case TR:case kR:case PF:case cb:case OF:case NF:case Kb:case kd:case rh:case $F:return ex;case sh:case md:case ih:case oh:return n!==hb?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:ex;case F0:case av:case lv:case uv:case M0:case $0:case N0:case nh:case jp:case ov:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:ex;case Tu:case cv:return!V6(e)&&!fKt(e)?{compatible:!1,warning:CGt(t)}:ex;case Q_:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:ex}}function nC(e){const{formatType:t}=H6(e);return t==="time"||!t&&wKt(e)}function wKt(e){return e&&(e.type==="temporal"||Tt(e)&&!!e.timeUnit)}function XF(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){const s=t&&Xo(t)?.unit;let o=s||n==="temporal",a;return RR(e)?a=e.expr:dn(e)?a=e.signal:Zb(e)?(o=!0,a=fb(e)):(Ht(e)||Jr(e))&&o&&(a=`datetime(${_i(e)})`,lYt(s)&&(Jr(e)&&e<1e4||Ht(e)&&isNaN(Date.parse(e)))&&(a=fb({[s]:e}))),a?r&&o?`time(${a})`:a:i?void 0:_i(e)}function BMe(e,t){const{type:n}=e;return t.map(r=>{const i=Tt(e)&&!ew(e.timeUnit)?e.timeUnit:void 0,s=XF(r,{timeUnit:i,type:n,undefinedIfExprNotRequired:!0});return s!==void 0?{signal:s}:r})}function $R(e,t){return Li(e.bin)?Vp(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const tye={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function MR(e){return e?.condition}const zMe=["domain","grid","labels","ticks","title"],xKt={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},UMe={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},_Kt={...UMe,style:1,labelExpr:1,encoding:1};function nye(e){return Kt(_Kt,e)}const CKt={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},VMe=vt(CKt);function j0(e){return bt(e,"mark")}class QF{constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return j0(t)?QYt(t.mark)===this.name:!1}}function M1(e,t){const n=e&&e[t];return n?ut(n)?K_(n,r=>!!r.field):Tt(n)||YF(n):!1}function HMe(e,t){const n=e&&e[t];return n?ut(n)?K_(n,r=>!!r.field):Tt(n)||Hp(n)||NR(n):!1}function qMe(e,t){if(Hs(t)){const n=e[t];if((Tt(n)||Hp(n))&&(dMe(n.type)||Tt(n)&&n.timeUnit)){const r=Une(t);return HMe(e,r)}}return!1}function WMe(e){return K_(vWt,t=>{if(M1(e,t)){const n=e[t];if(ut(n))return K_(n,r=>!!r.aggregate);{const r=Mf(n);return r&&!!r.aggregate}}return!1})}function GMe(e,t){const n=[],r=[],i=[],s=[],o={};return Cre(e,(a,l)=>{if(Tt(a)){const{field:u,aggregate:c,bin:d,timeUnit:f,...h}=a;if(c||f||d){const m=wre(a)?.title;let g=Ft(a,{forAs:!0});const y={...m?[]:{title:n_(a,t,{allowDisabling:!0})},...h,field:g};if(c){let v;if(dv(c)?(v="argmax",g=Ft({op:"argmax",field:c.argmax},{forAs:!0}),y.field=`${g}.${u}`):f0(c)?(v="argmin",g=Ft({op:"argmin",field:c.argmin},{forAs:!0}),y.field=`${g}.${u}`):c!=="boxplot"&&c!=="errorbar"&&c!=="errorband"&&(v=c),v){const w={op:v,as:g};u&&(w.field=u),s.push(w)}}else if(n.push(g),Bl(a)&&Li(d)){if(r.push({bin:d,field:u,as:g}),n.push(Ft(a,{binSuffix:"end"})),$R(a,l)&&n.push(Ft(a,{binSuffix:"range"})),Hs(l)){const v={field:`${g}_end`};o[`${l}2`]=v}y.bin="binned",P$e(l)||(y.type=hb)}else if(f&&!ew(f)){i.push({timeUnit:f,field:u,as:g});const v=Bl(a)&&a.type!==J_&&"time";v&&(l===TR||l===cb?y.formatType=v:RWt(l)?y.legend={formatType:v,...y.legend}:Hs(l)&&(y.axis={formatType:v,...y.axis}))}o[l]=y}else n.push(u),o[l]=e[l]}else o[l]=e[l]}),{bins:r,timeUnits:i,aggregate:s,groupby:n,encoding:o}}function EKt(e,t,n){const r=DWt(t,n);if(r){if(r==="binned"){const i=e[t===nh?ss:ea];return!!(Tt(i)&&Tt(e[t])&&ha(i.bin))}}else return!1;return!0}function SKt(e,t,n,r){const i={};for(const s of vt(e))D$e(s)||Ct(xGt(s));for(let s of EWt){if(!e[s])continue;const o=e[s];if(AR(s)){const a=CWt(s),l=i[a];if(Tt(l)&&wYt(l.type)&&Tt(o)&&!l.timeUnit){Ct(mGt(a));continue}}if(s==="angle"&&t==="arc"&&!e.theta&&(Ct(pGt),s=kd),!EKt(e,s,t)){Ct(jF(s,t));continue}if(s===M0&&t==="line"&&Mf(e[s])?.aggregate){Ct(wGt);continue}if(s===Su&&(n?"fill"in e:"stroke"in e)){Ct(K$e("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(s===kR||s===Q_&&!ut(o)&&!$f(o)||s===cb&&ut(o)){if(o){if(s===Q_){const a=e[s];if(OMe(a)){i[s]=a;continue}}i[s]=Ut(o).reduce((a,l)=>(Tt(l)?a.push(_re(l,s)):Ct(ZW(l,s)),a),[])}}else{if(s===cb&&o===null)i[s]=null;else if(!Tt(o)&&!Hp(o)&&!$f(o)&&!OR(o)&&!dn(o)){Ct(ZW(o,s));continue}i[s]=jMe(o,s,r)}}return i}function JF(e,t){const n={};for(const r of vt(e)){const i=jMe(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function TKt(e){const t=[];for(const n of vt(e))if(M1(e,n)){const r=e[n],i=Ut(r);for(const s of i)Tt(s)?t.push(s):YF(s)&&t.push(s.condition)}return t}function Cre(e,t,n){if(e)for(const r of vt(e)){const i=e[r];if(ut(i))for(const s of i)t.call(n,s,r);else t.call(n,i,r)}}function kKt(e,t,n,r){return e?vt(e).reduce((i,s)=>{const o=e[s];return ut(o)?o.reduce((a,l)=>t.call(r,a,l,s),i):t.call(r,i,o,s)},n):n}function YMe(e,t){return vt(t).reduce((n,r)=>{switch(r){case ss:case ea:case OF:case $F:case NF:case nh:case jp:case sv:case gE:case kd:case $0:case rh:case N0:case ov:case ih:case sh:case oh:case md:case TR:case Tu:case Kb:case cb:return n;case Q_:if(e==="line"||e==="trail")return n;case kR:case PF:{const i=t[r];if(ut(i)||Tt(i))for(const s of Ut(i))s.aggregate||n.push(Ft(s,{}));return n}case M0:if(e==="trail")return n;case Su:case Bp:case zp:case F0:case av:case lv:case cv:case uv:{const i=Mf(t[r]);return i&&!i.aggregate&&n.push(Ft(i,{})),n}}},[])}function AKt(e){const{tooltip:t,...n}=e;if(!t)return{filteredEncoding:n};let r,i;if(ut(t)){for(const s of t)s.aggregate?(r||(r=[]),r.push(s)):(i||(i=[]),i.push(s));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return ut(i)&&i.length===1&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function rG(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map(({fieldPrefix:o,titlePrefix:a})=>{const l=r?` of ${Ere(t)}`:"";return{field:o+t.field,type:t.type,title:dn(a)?{signal:`${a}"${escape(l)}"`}:a+l}}),s=TKt(n).map(cKt);return{tooltip:[...i,...Wh(s,Er)]}}function Ere(e){const{title:t,field:n}=e;return Vs(t,n)}function Sre(e,t,n,r,i){const{scale:s,axis:o}=n;return({partName:a,mark:l,positionPrefix:u,endPositionPrefix:c=void 0,extraEncoding:d={}})=>{const f=Ere(n);return KMe(e,a,i,{mark:l,encoding:{[t]:{field:`${u}_${n.field}`,type:n.type,...f!==void 0?{title:f}:{},...s!==void 0?{scale:s}:{},...o!==void 0?{axis:o}:{}},...Ht(c)?{[`${t}2`]:{field:`${c}_${n.field}`}}:{},...r,...d}})}}function KMe(e,t,n,r){const{clip:i,color:s,opacity:o}=e,a=e.type;return e[t]||e[t]===void 0&&n[t]?[{...r,mark:{...n[t],...i?{clip:i}:{},...s?{color:s}:{},...o?{opacity:o}:{},...xp(r.mark)?r.mark:{type:r.mark},style:`${a}-${String(t)}`,...nv(e[t])?{}:e[t]}}]:[]}function XMe(e,t,n){const{encoding:r}=e,i=t==="vertical"?"y":"x",s=r[i],o=r[`${i}2`],a=r[`${i}Error`],l=r[`${i}Error2`];return{continuousAxisChannelDef:s3(s,n),continuousAxisChannelDef2:s3(o,n),continuousAxisChannelDefError:s3(a,n),continuousAxisChannelDefError2:s3(l,n),continuousAxis:i}}function s3(e,t){if(e?.aggregate){const{aggregate:n,...r}=e;return n!==t&&Ct(KGt(n,t)),r}else return e}function QMe(e,t){const{mark:n,encoding:r}=e,{x:i,y:s}=r;if(xp(n)&&n.orient)return n.orient;if(Wg(i)){if(Wg(s)){const o=Tt(i)&&i.aggregate,a=Tt(s)&&s.aggregate;if(!o&&a===t)return"vertical";if(!a&&o===t)return"horizontal";if(o===t&&a===t)throw new Error("Both x and y cannot have aggregate");return nC(s)&&!nC(i)?"horizontal":"vertical"}return"horizontal"}else{if(Wg(s))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}const W6="boxplot",RKt=["box","median","outliers","rule","ticks"],IKt=new QF(W6,ZMe);function JMe(e){return Jr(e)?"tukey":e}function ZMe(e,{config:t}){e={...e,encoding:JF(e.encoding,t)};const{mark:n,encoding:r,params:i,projection:s,...o}=e,a=xp(n)?n:{type:n};i&&Ct(G$e("boxplot"));const l=a.extent??t.boxplot.extent,u=wi("size",a,t),c=a.invalid,d=JMe(l),{bins:f,timeUnits:h,transform:p,continuousAxisChannelDef:m,continuousAxis:g,groupby:y,aggregate:v,encodingWithoutContinuousAxis:w,ticksOrient:_,boxOrient:C,customTooltipWithoutAggregatedField:S}=DKt(e,l,t),T=mE(m.field),{color:k,size:I,...R}=w,P=ee=>Sre(a,g,m,ee,t.boxplot),N=P(R),$=P(w),O=(Vt(t.boxplot.box)?t.boxplot.box.color:t.mark.color)||"#4c78a8",j=P({...R,...I?{size:I}:{},color:{condition:{test:`${pi(`lower_box_${m.field}`)} >= ${pi(`upper_box_${m.field}`)}`,...k||{value:O}}}}),B=rG([{fieldPrefix:d==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:d==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],m,w),H={type:"tick",color:"black",opacity:1,orient:_,invalid:c,aria:!1},q=d==="min-max"?B:rG([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],m,w),Y=[...N({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:q}),...N({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:q}),...N({partName:"ticks",mark:H,positionPrefix:"lower_whisker",extraEncoding:q}),...N({partName:"ticks",mark:H,positionPrefix:"upper_whisker",extraEncoding:q})],V=[...d!=="tukey"?Y:[],...$({partName:"box",mark:{type:"bar",...u?{size:u}:{},orient:C,invalid:c,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:B}),...j({partName:"median",mark:{type:"tick",invalid:c,...Vt(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...u?{size:u}:{},orient:_,aria:!1},positionPrefix:"mid_box",extraEncoding:B})];if(d==="min-max")return{...o,transform:(o.transform??[]).concat(p),layer:V};const L=pi(`lower_box_${m.field}`),z=pi(`upper_box_${m.field}`),U=`(${z} - ${L})`,G=`${L} - ${l} * ${U}`,Q=`${z} + ${l} * ${U}`,ne=pi(m.field),ue={joinaggregate:eFe(m.field),groupby:y},se={transform:[{filter:`(${G} <= ${ne}) && (${ne} <= ${Q})`},{aggregate:[{op:"min",field:m.field,as:`lower_whisker_${T}`},{op:"max",field:m.field,as:`upper_whisker_${T}`},{op:"min",field:`lower_box_${m.field}`,as:`lower_box_${T}`},{op:"max",field:`upper_box_${m.field}`,as:`upper_box_${T}`},...v],groupby:y}],layer:Y},{tooltip:ae,...he}=R,{scale:ie,axis:le}=m,Ee=Ere(m),X=yu(le,["title"]),fe=KMe(a,"outliers",t.boxplot,{transform:[{filter:`(${ne} < ${G}) || (${ne} > ${Q})`}],mark:"point",encoding:{[g]:{field:m.field,type:m.type,...Ee!==void 0?{title:Ee}:{},...ie!==void 0?{scale:ie}:{},...xi(X)?{}:{axis:X}},...he,...k?{color:k}:{},...S?{tooltip:S}:{}}})[0];let de;const te=[...f,...h,ue];return fe?de={transform:te,layer:[fe,se]}:(de=se,de.transform.unshift(...te)),{...o,layer:[de,{transform:p,layer:V}]}}function eFe(e){const t=mE(e);return[{op:"q1",field:e,as:`lower_box_${t}`},{op:"q3",field:e,as:`upper_box_${t}`}]}function DKt(e,t,n){const r=QMe(e,W6),{continuousAxisChannelDef:i,continuousAxis:s}=XMe(e,r,W6),o=i.field,a=mE(o),l=JMe(t),u=[...eFe(o),{op:"median",field:o,as:`mid_box_${a}`},{op:"min",field:o,as:(l==="min-max"?"lower_whisker_":"min_")+a},{op:"max",field:o,as:(l==="min-max"?"upper_whisker_":"max_")+a}],c=l==="min-max"||l==="tukey"?[]:[{calculate:`${pi(`upper_box_${a}`)} - ${pi(`lower_box_${a}`)}`,as:`iqr_${a}`},{calculate:`min(${pi(`upper_box_${a}`)} + ${pi(`iqr_${a}`)} * ${t}, ${pi(`max_${a}`)})`,as:`upper_whisker_${a}`},{calculate:`max(${pi(`lower_box_${a}`)} - ${pi(`iqr_${a}`)} * ${t}, ${pi(`min_${a}`)})`,as:`lower_whisker_${a}`}],{[s]:d,...f}=e.encoding,{customTooltipWithoutAggregatedField:h,filteredEncoding:p}=AKt(f),{bins:m,timeUnits:g,aggregate:y,groupby:v,encoding:w}=GMe(p,n),_=r==="vertical"?"horizontal":"vertical",C=r,S=[...m,...g,{aggregate:[...y,...u],groupby:v},...c];return{bins:m,timeUnits:g,transform:S,groupby:v,aggregate:y,continuousAxisChannelDef:i,continuousAxis:s,encodingWithoutContinuousAxis:w,ticksOrient:_,boxOrient:C,customTooltipWithoutAggregatedField:h}}const Tre="errorbar",PKt=["ticks","rule"],OKt=new QF(Tre,tFe);function tFe(e,{config:t}){e={...e,encoding:JF(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:s,ticksOrient:o,markDef:a,outerSpec:l,tooltipEncoding:u}=nFe(e,Tre,t);delete s.size;const c=Sre(a,i,r,s,t.errorbar),d=a.thickness,f=a.size,h={type:"tick",orient:o,aria:!1,...d!==void 0?{thickness:d}:{},...f!==void 0?{size:f}:{}},p=[...c({partName:"ticks",mark:h,positionPrefix:"lower",extraEncoding:u}),...c({partName:"ticks",mark:h,positionPrefix:"upper",extraEncoding:u}),...c({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...d!==void 0?{size:d}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u})];return{...l,transform:n,...p.length>1?{layer:p}:{...p[0]}}}function NKt(e,t){const{encoding:n}=e;if($Kt(n))return{orient:QMe(e,t),inputType:"raw"};const r=MKt(n),i=FKt(n),s=n.x,o=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const a=n.x2,l=n.y2;if(Xn(a)&&Xn(l))throw new Error(`${t} cannot have both x2 and y2`);if(Xn(a)){if(Wg(s))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(Xn(l)){if(Wg(o))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const a=n.xError,l=n.xError2,u=n.yError,c=n.yError2;if(Xn(l)&&!Xn(a))throw new Error(`${t} cannot have xError2 without xError`);if(Xn(c)&&!Xn(u))throw new Error(`${t} cannot have yError2 without yError`);if(Xn(a)&&Xn(u))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(Xn(a)){if(Wg(s))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(Xn(u)){if(Wg(o))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function $Kt(e){return(Xn(e.x)||Xn(e.y))&&!Xn(e.x2)&&!Xn(e.y2)&&!Xn(e.xError)&&!Xn(e.xError2)&&!Xn(e.yError)&&!Xn(e.yError2)}function MKt(e){return Xn(e.x2)||Xn(e.y2)}function FKt(e){return Xn(e.xError)||Xn(e.xError2)||Xn(e.yError)||Xn(e.yError2)}function nFe(e,t,n){const{mark:r,encoding:i,params:s,projection:o,...a}=e,l=xp(r)?r:{type:r};s&&Ct(G$e(t));const{orient:u,inputType:c}=NKt(e,t),{continuousAxisChannelDef:d,continuousAxisChannelDef2:f,continuousAxisChannelDefError:h,continuousAxisChannelDefError2:p,continuousAxis:m}=XMe(e,u,t),{errorBarSpecificAggregate:g,postAggregateCalculates:y,tooltipSummary:v,tooltipTitleWithFieldName:w}=LKt(l,d,f,h,p,c,t,n),{[m]:_,[m==="x"?"x2":"y2"]:C,[m==="x"?"xError":"yError"]:S,[m==="x"?"xError2":"yError2"]:T,...k}=i,{bins:I,timeUnits:R,aggregate:P,groupby:N,encoding:$}=GMe(k,n),O=[...P,...g],j=c!=="raw"?[]:N,B=rG(v,d,$,w);return{transform:[...a.transform??[],...I,...R,...O.length===0?[]:[{aggregate:O,groupby:j}],...y],groupby:j,continuousAxisChannelDef:d,continuousAxis:m,encodingWithoutContinuousAxis:$,ticksOrient:u==="vertical"?"horizontal":"vertical",markDef:l,outerSpec:a,tooltipEncoding:B}}function LKt(e,t,n,r,i,s,o,a){let l=[],u=[];const c=t.field;let d,f=!1;if(s==="raw"){const h=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":a.errorbar.center,p=e.extent?e.extent:h==="mean"?"stderr":"iqr";if(h==="median"!=(p==="iqr")&&Ct(YGt(h,p,o)),p==="stderr"||p==="stdev")l=[{op:p,field:c,as:`extent_${c}`},{op:h,field:c,as:`center_${c}`}],u=[{calculate:`${pi(`center_${c}`)} + ${pi(`extent_${c}`)}`,as:`upper_${c}`},{calculate:`${pi(`center_${c}`)} - ${pi(`extent_${c}`)}`,as:`lower_${c}`}],d=[{fieldPrefix:"center_",titlePrefix:SR(h)},{fieldPrefix:"upper_",titlePrefix:rye(h,p,"+")},{fieldPrefix:"lower_",titlePrefix:rye(h,p,"-")}],f=!0;else{let m,g,y;p==="ci"?(m="mean",g="ci0",y="ci1"):(m="median",g="q1",y="q3"),l=[{op:g,field:c,as:`lower_${c}`},{op:y,field:c,as:`upper_${c}`},{op:m,field:c,as:`center_${c}`}],d=[{fieldPrefix:"upper_",titlePrefix:n_({field:c,aggregate:y,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:n_({field:c,aggregate:g,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:n_({field:c,aggregate:m,type:"quantitative"},a,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&Ct(GGt(e.center,e.extent)),s==="aggregated-upper-lower"?(d=[],u=[{calculate:pi(n.field),as:`upper_${c}`},{calculate:pi(c),as:`lower_${c}`}]):s==="aggregated-error"&&(d=[{fieldPrefix:"",titlePrefix:c}],u=[{calculate:`${pi(c)} + ${pi(r.field)}`,as:`upper_${c}`}],i?u.push({calculate:`${pi(c)} + ${pi(i.field)}`,as:`lower_${c}`}):u.push({calculate:`${pi(c)} - ${pi(r.field)}`,as:`lower_${c}`}));for(const h of u)d.push({fieldPrefix:h.as.substring(0,6),titlePrefix:ub(ub(h.calculate,"datum['",""),"']","")})}return{postAggregateCalculates:u,errorBarSpecificAggregate:l,tooltipSummary:d,tooltipTitleWithFieldName:f}}function rye(e,t,n){return`${SR(e)} ${n} ${t}`}const kre="errorband",jKt=["band","borders"],BKt=new QF(kre,rFe);function rFe(e,{config:t}){e={...e,encoding:JF(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:s,markDef:o,outerSpec:a,tooltipEncoding:l}=nFe(e,kre,t),u=o,c=Sre(u,i,r,s,t.errorband),d=e.encoding.x!==void 0&&e.encoding.y!==void 0;let f={type:d?"area":"rect"},h={type:d?"line":"rule"};const p={...u.interpolate?{interpolate:u.interpolate}:{},...u.tension&&u.interpolate?{tension:u.tension}:{}};return d?(f={...f,...p,ariaRoleDescription:"errorband"},h={...h,...p,aria:!1}):u.interpolate?Ct(Yge("interpolate")):u.tension&&Ct(Yge("tension")),{...a,transform:n,layer:[...c({partName:"band",mark:f,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l}),...c({partName:"borders",mark:h,positionPrefix:"lower",extraEncoding:l}),...c({partName:"borders",mark:h,positionPrefix:"upper",extraEncoding:l})]}}const iFe={};function Are(e,t,n){const r=new QF(e,t);iFe[e]={normalizer:r,parts:n}}function zKt(){return vt(iFe)}Are(W6,ZMe,RKt);Are(Tre,tFe,PKt);Are(kre,rFe,jKt);const UKt=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],sFe={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},oFe={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},VKt=vt(sFe),HKt=vt(oFe),qKt={header:1,headerRow:1,headerColumn:1,headerFacet:1},aFe=vt(qKt),lFe=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],WKt={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},GKt={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},Ff="_vgsid_",YKt={point:{on:"click",fields:[Ff],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function Rre(e){return e==="legend"||!!e?.legend}function Cz(e){return Rre(e)&&Vt(e)}function Ire(e){return!!e?.select}function uFe(e){const t=[];for(const n of e||[]){if(Ire(n))continue;const{expr:r,bind:i,...s}=n;if(i&&r){const o={...s,bind:i,init:r};t.push(o)}else{const o={...s,...r?{update:r}:{},...i?{bind:i}:{}};t.push(o)}}return t}function KKt(e){return ZF(e)||Pre(e)||Dre(e)}function Dre(e){return bt(e,"concat")}function ZF(e){return bt(e,"vconcat")}function Pre(e){return bt(e,"hconcat")}function cFe({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function _p(e){return bt(e,"step")}function iye(e){return bt(e,"view")||bt(e,"width")||bt(e,"height")}const sye=20,XKt={align:1,bounds:1,center:1,columns:1,spacing:1},QKt=vt(XKt);function JKt(e,t,n){const r=n[t],i={},{spacing:s,columns:o}=r;s!==void 0&&(i.spacing=s),o!==void 0&&(GF(e)&&!PR(e.facet)||Dre(e))&&(i.columns=o),ZF(e)&&(i.columns=1);for(const a of QKt)if(e[a]!==void 0)if(a==="spacing"){const l=e[a];i[a]=Jr(l)?l:{row:l.row??s,column:l.column??s}}else i[a]=e[a];return i}function iG(e,t){return e[t]??e[t==="width"?"continuousWidth":"continuousHeight"]}function sG(e,t){const n=G6(e,t);return _p(n)?n.step:dFe}function G6(e,t){const n=e[t]??e[t==="width"?"discreteWidth":"discreteHeight"];return Vs(n,{step:e.step})}const dFe=20,ZKt={continuousWidth:200,continuousHeight:200,step:dFe},eXt={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:ZKt,mark:qYt,arc:{},area:{},bar:KYt,circle:{},geoshape:{},image:{},line:{},point:{},rect:hre,rule:{color:"black"},square:{},text:{color:"black"},tick:XYt,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:TYt,projection:{},legend:WKt,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:YKt,style:{},title:{},facet:{spacing:sye},concat:{spacing:sye},normalizedNumberFormat:".0%"},um=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],oye={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},aye={blue:um[0],orange:um[1],red:um[2],teal:um[3],green:um[4],yellow:um[5],purple:um[6],pink:um[7],brown:um[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function tXt(e={}){return{signals:[{name:"color",value:Vt(e)?{...aye,...e}:aye}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function nXt(e){return{signals:[{name:"fontSize",value:Vt(e)?{...oye,...e}:oye}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function rXt(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function fFe(e){const t=vt(e||{}),n={};for(const r of t){const i=e[r];n[r]=MR(i)?B$e(i):Xu(i)}return n}function iXt(e){const t=vt(e),n={};for(const r of t)n[r]=fFe(e[r]);return n}const sXt=[...xMe,...VMe,...aFe,"background","padding","legend","lineBreak","scale","style","title","view"];function hFe(e={}){const{color:t,font:n,fontSize:r,selection:i,...s}=e,o=iE({},Gn(eXt),n?rXt(n):{},t?tXt(t):{},r?nXt(r):{},s||{});i&&sE(o,"selection",i,!0);const a=yu(o,sXt);for(const l of["background","lineBreak","padding"])o[l]&&(a[l]=Xu(o[l]));for(const l of xMe)o[l]&&(a[l]=pa(o[l]));for(const l of VMe)o[l]&&(a[l]=fFe(o[l]));for(const l of aFe)o[l]&&(a[l]=pa(o[l]));if(o.legend&&(a.legend=pa(o.legend)),o.scale){const{invalid:l,...u}=o.scale,c=pa(l,{level:1});a.scale={...pa(u),...vt(c).length>0?{invalid:c}:{}}}return o.style&&(a.style=iXt(o.style)),o.title&&(a.title=pa(o.title)),o.view&&(a.view=pa(o.view)),a}const oXt=new Set(["view",...jYt]),aXt=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],lXt={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...HYt};function uXt(e){e=Gn(e);for(const t of aXt)delete e[t];if(e.axis)for(const t in e.axis)MR(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of UKt)delete e.legend[t];if(e.mark){for(const t of Xge)delete e.mark[t];e.mark.tooltip&&Vt(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(uFe(e.params)),delete e.params);for(const t of oXt){for(const r of Xge)delete e[t][r];const n=lXt[t];if(n)for(const r of n)delete e[t][r];dXt(e,t)}for(const t of zKt())delete e[t];cXt(e);for(const t in e)Vt(e[t])&&xi(e[t])&&delete e[t];return xi(e)?void 0:e}function cXt(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=j$e(e.title);xi(t)||(e.style["group-title"]={...e.style["group-title"],...t}),xi(n)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...n}),xi(r)?delete e.title:e.title=r}function dXt(e,t,n,r){const i=e[t];t==="view"&&(n="cell");const s={...i,...e.style[n??t]};xi(s)||(e.style[n??t]=s),delete e[t]}function e8(e){return bt(e,"layer")}function fXt(e){return bt(e,"repeat")}function hXt(e){return!ut(e.repeat)&&bt(e.repeat,"layer")}class Ore{map(t,n){return GF(t)?this.mapFacet(t,n):fXt(t)?this.mapRepeat(t,n):Pre(t)?this.mapHConcat(t,n):ZF(t)?this.mapVConcat(t,n):Dre(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(e8(t))return this.mapLayer(t,n);if(j0(t))return this.mapUnit(t,n);throw new Error(Yne(t))}mapLayer(t,n){return{...t,layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))}}mapHConcat(t,n){return{...t,hconcat:t.hconcat.map(r=>this.map(r,n))}}mapVConcat(t,n){return{...t,vconcat:t.vconcat.map(r=>this.map(r,n))}}mapConcat(t,n){const{concat:r,...i}=t;return{...i,concat:r.map(s=>this.map(s,n))}}mapFacet(t,n){return{...t,spec:this.map(t.spec,n)}}mapRepeat(t,n){return{...t,spec:this.map(t.spec,n)}}}const pXt={zero:1,center:1,normalize:1};function mXt(e){return Kt(pXt,e)}const gXt=new Set([vMe,VF,UF,B6,qF,dre,fre,HF,bMe,cre]),yXt=new Set([VF,UF,vMe]);function tx(e){return Tt(e)&&eC(e)==="quantitative"&&!e.bin}function lye(e,t,{orient:n,type:r}){const i=t==="x"?"y":"radius",s=t==="x"&&["bar","area"].includes(r),o=e[t],a=e[i];if(Tt(o)&&Tt(a))if(tx(o)&&tx(a)){if(o.stack)return t;if(a.stack)return i;const l=Tt(o)&&!!o.aggregate,u=Tt(a)&&!!a.aggregate;if(l!==u)return l?t:i;if(s){if(n==="vertical")return i;if(n==="horizontal")return t}}else{if(tx(o))return t;if(tx(a))return i}else{if(tx(o))return s&&n==="vertical"?void 0:t;if(tx(a))return s&&n==="horizontal"?void 0:i}}function vXt(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function pFe(e,t){const n=xp(e)?e:{type:e},r=n.type;if(!gXt.has(r))return null;const i=lye(t,"x",n)||lye(t,"theta",n);if(!i)return null;const s=t[i],o=Tt(s)?Ft(s,{}):void 0,a=vXt(i),l=[],u=new Set;if(t[a]){const m=t[a],g=Tt(m)?Ft(m,{}):void 0;g&&g!==o&&(l.push(a),u.add(g))}const c=a==="x"?"xOffset":"yOffset",d=t[c],f=Tt(d)?Ft(d,{}):void 0;f&&f!==o&&(l.push(c),u.add(f));const h=SWt.reduce((m,g)=>{if(g!=="tooltip"&&M1(t,g)){const y=t[g];for(const v of Ut(y)){const w=Mf(v);if(w.aggregate)continue;const _=Ft(w,{});(!_||!u.has(_))&&m.push({channel:g,fieldDef:w})}}return m},[]);let p;return s.stack!==void 0?nv(s.stack)?p=s.stack?"zero":null:p=s.stack:yXt.has(r)&&(p="zero"),!p||!mXt(p)||WMe(t)&&h.length===0?null:(s?.scale?.type&&s?.scale?.type!==ma.LINEAR&&s?.stack&&Ct(HGt(s.scale.type)),Xn(t[Up(i)])?(s.stack!==void 0&&Ct(VGt(i)),null):(Tt(s)&&s.aggregate&&!LWt.has(s.aggregate)&&Ct(qGt(s.aggregate)),{groupbyChannels:l,groupbyFields:u,fieldChannel:i,impute:s.impute===null?!1:fv(r),stackBy:h,offset:p}))}function mFe(e,t,n){const r=pa(e),i=wi("orient",r,n);if(r.orient=_Xt(r.type,t,i),i!==void 0&&i!==r.orient&&Ct(kGt(r.orient,i)),r.type==="bar"&&r.orient){const l=wi("cornerRadiusEnd",r,n);if(l!==void 0){const u=r.orient==="horizontal"&&t.x2||r.orient==="vertical"&&t.y2?["cornerRadius"]:GYt[r.orient];for(const c of u)r[c]=l;r.cornerRadiusEnd!==void 0&&delete r.cornerRadiusEnd}}const s=wi("opacity",r,n),o=wi("fillOpacity",r,n);return s===void 0&&o===void 0&&(r.opacity=wXt(r.type,t)),wi("cursor",r,n)===void 0&&(r.cursor=bXt(r,t,n)),r}function bXt(e,t,n){return t.href||e.href||wi("href",e,n)?"pointer":e.cursor}function wXt(e,t){if(vr([qF,cre,dre,fre],e)&&!WMe(t))return .7}function xXt(e,t,{graticule:n}){if(n)return!1;const r=wp("filled",e,t),i=e.type;return Vs(r,i!==qF&&i!==HF&&i!==B6)}function _Xt(e,t,n){switch(e){case qF:case dre:case fre:case bMe:case FYt:case MYt:return}const{x:r,y:i,x2:s,y2:o}=t;switch(e){case VF:if(Tt(r)&&(ha(r.bin)||Tt(i)&&i.aggregate&&!r.aggregate))return"vertical";if(Tt(i)&&(ha(i.bin)||Tt(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(o||s){if(n)return n;if(!s)return(Tt(r)&&r.type===hb&&!Li(r.bin)||U6(r))&&Tt(i)&&ha(i.bin)?"horizontal":"vertical";if(!o)return(Tt(i)&&i.type===hb&&!Li(i.bin)||U6(i))&&Tt(r)&&ha(r.bin)?"vertical":"horizontal"}case B6:if(s&&!(Tt(r)&&ha(r.bin))&&o&&!(Tt(i)&&ha(i.bin)))return;case UF:if(o)return Tt(i)&&ha(i.bin)?"horizontal":"vertical";if(s)return Tt(r)&&ha(r.bin)?"vertical":"horizontal";if(e===B6){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case HF:case cre:{const a=eye(r),l=eye(i);if(n)return n;if(a&&!l)return e!=="tick"?"horizontal":"vertical";if(!a&&l)return e!=="tick"?"vertical":"horizontal";if(a&&l)return"vertical";{const u=Bl(r)&&r.type===J_,c=Bl(i)&&i.type===J_;if(u&&!c)return"vertical";if(!u&&c)return"horizontal"}return}}return"vertical"}function CXt(e){const{point:t,line:n,...r}=e;return vt(r).length>1?r:r.type}function EXt(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:yu(e[t],["point","line"])});return e}function Ez(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?Vt(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?Vt(t.point)?t.point:{}:void 0}function uye(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class SXt{constructor(){this.name="path-overlay"}hasMatchingType(t,n){if(j0(t)){const{mark:r,encoding:i}=t,s=xp(r)?r:{type:r};switch(s.type){case"line":case"rule":case"trail":return!!Ez(s,n[s.type],i);case"area":return!!Ez(s,n[s.type],i)||!!uye(s,n[s.type])}}return!1}run(t,n,r){const{config:i}=n,{params:s,projection:o,mark:a,name:l,encoding:u,...c}=t,d=JF(u,i),f=xp(a)?a:{type:a},h=Ez(f,i[f.type],d),p=f.type==="area"&&uye(f,i[f.type]),m=[{name:l,...s?{params:s}:{},mark:CXt({...f.type==="area"&&f.opacity===void 0&&f.fillOpacity===void 0?{opacity:.7}:{},...f}),encoding:yu(d,["shape"])}],g=pFe(mFe(f,d,i),d);let y=d;if(g){const{fieldChannel:v,offset:w}=g;y={...d,[v]:{...d[v],...w?{stack:w}:{}}}}return y=yu(y,["y2","x2"]),p&&m.push({...o?{projection:o}:{},mark:{type:"line",...Y_(f,["clip","interpolate","tension","tooltip"]),...p},encoding:y}),h&&m.push({...o?{projection:o}:{},mark:{type:"point",opacity:1,filled:!0,...Y_(f,["clip","tooltip"]),...h},encoding:y}),r({...c,layer:m},{...n,config:EXt(i)})}}function TXt(e,t){return t?PR(e)?yFe(e,t):gFe(e,t):e}function Sz(e,t){return t?yFe(e,t):e}function oG(e,t,n){const r=t[e];if(lKt(r)){if(r.repeat in n)return{...t,[e]:n[r.repeat]};Ct(iGt(r.repeat));return}return t}function gFe(e,t){if(e=oG("field",e,t),e!==void 0){if(e===null)return null;if(bre(e)&&Um(e.sort)){const n=oG("field",e.sort,t);e={...e,...n?{sort:n}:{}}}return e}}function cye(e,t){if(Tt(e))return gFe(e,t);{const n=oG("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function dye(e,t){if(Xn(e)){const n=cye(e,t);if(n)return n;if(OR(e))return{condition:e.condition}}else{if(NR(e)){const n=cye(e.condition,t);if(n)return{...e,condition:n};{const{condition:r,...i}=e;return i}}return e}}function yFe(e,t){const n={};for(const r in e)if(bt(e,r)){const i=e[r];if(ut(i))n[r]=i.map(s=>dye(s,t)).filter(s=>s);else{const s=dye(i,t);s!==void 0&&(n[r]=s)}}return n}class kXt{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(j0(t)){const{encoding:n,mark:r}=t;if(r==="line"||xp(r)&&r.type==="line")for(const i of _Wt){const s=Xb(i),o=n[s];if(n[i]&&(Tt(o)&&!ha(o.bin)||Hp(o)))return!0}}return!1}run(t,n,r){const{encoding:i,mark:s}=t;return Ct(TGt(!!i.x2,!!i.y2)),r({...t,mark:Vt(s)?{...s,type:"rule"}:"rule"},n)}}class AXt extends Ore{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[IKt,OKt,BKt,new SXt,new kXt]}map(t,n){if(j0(t)){const r=M1(t.encoding,Bm),i=M1(t.encoding,zm),s=M1(t.encoding,DF);if(r||i||s)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:r,parentProjection:i}=n,s=Sz(t.encoding,n.repeater),o={...t,...t.name?{name:[n.repeaterPrefix,t.name].filter(l=>l).join("_")}:{},...s?{encoding:s}:{}};if(r||i)return this.mapUnitWithParentEncodingOrProjection(o,n);const a=this.mapLayerOrUnit.bind(this);for(const l of this.nonFacetUnitNormalizers)if(l.hasMatchingType(o,n.config))return l.run(o,n,a);return o}mapRepeat(t,n){return hXt(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:r,spec:i,...s}=t,{row:o,column:a,layer:l}=r,{repeater:u={},repeaterPrefix:c=""}=n;return o||a?this.mapRepeat({...t,repeat:{...o?{row:o}:{},...a?{column:a}:{}},spec:{repeat:{layer:l},spec:i}},n):{...s,layer:l.map(d=>{const f={...u,layer:d},h=`${(i.name?`${i.name}_`:"")+c}child__layer_${ns(d)}`,p=this.mapLayerOrUnit(i,{...n,repeater:f,repeaterPrefix:h});return p.name=h,p})}}mapNonLayerRepeat(t,n){const{repeat:r,spec:i,data:s,...o}=t;!ut(r)&&t.columns&&(t=yu(t,["columns"]),Ct(Hge("repeat")));const a=[],{repeater:l={},repeaterPrefix:u=""}=n,c=!ut(r)&&r.row||[l?l.row:null],d=!ut(r)&&r.column||[l?l.column:null],f=ut(r)&&r||[l?l.repeat:null];for(const p of f)for(const m of c)for(const g of d){const y={repeat:p,row:m,column:g,layer:l.layer},v=(i.name?`${i.name}_`:"")+u+"child__"+(ut(r)?`${ns(p)}`:(r.row?`row_${ns(m)}`:"")+(r.column?`column_${ns(g)}`:"")),w=this.map(i,{...n,repeater:y,repeaterPrefix:v});w.name=v,a.push(yu(w,["data"]))}const h=ut(r)?t.columns:r.column?r.column.length:1;return{data:i.data??s,align:"all",...o,columns:h,concat:a}}mapFacet(t,n){const{facet:r}=t;return PR(r)&&t.columns&&(t=yu(t,["columns"]),Ct(Hge("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:r,projection:i}=t,{parentEncoding:s,parentProjection:o,config:a}=n,l=hye({parentProjection:o,projection:i}),u=fye({parentEncoding:s,encoding:Sz(r,n.repeater)});return this.mapUnit({...t,...l?{projection:l}:{},...u?{encoding:u}:{}},{config:a})}mapFacetedUnit(t,n){const{row:r,column:i,facet:s,...o}=t.encoding,{mark:a,width:l,projection:u,height:c,view:d,params:f,encoding:h,...p}=t,{facetMapping:m,layout:g}=this.getFacetMappingAndLayout({row:r,column:i,facet:s},n),y=Sz(o,n.repeater);return this.mapFacet({...p,...g,facet:m,spec:{...l?{width:l}:{},...c?{height:c}:{},...d?{view:d}:{},...u?{projection:u}:{},mark:a,encoding:y,...f?{params:f}:{}}},n)}getFacetMappingAndLayout(t,n){const{row:r,column:i,facet:s}=t;if(r||i){s&&Ct(EGt([...r?[Bm]:[],...i?[zm]:[]]));const o={},a={};for(const l of[Bm,zm]){const u=t[l];if(u){const{align:c,center:d,spacing:f,columns:h,...p}=u;o[l]=p;for(const m of["align","center","spacing"])u[m]!==void 0&&(a[m]??(a[m]={}),a[m][l]=u[m])}}return{facetMapping:o,layout:a}}else{const{align:o,center:a,spacing:l,columns:u,...c}=s;return{facetMapping:TXt(c,n.repeater),layout:{...o?{align:o}:{},...a?{center:a}:{},...l?{spacing:l}:{},...u?{columns:u}:{}}}}}mapLayer(t,{parentEncoding:n,parentProjection:r,...i}){const{encoding:s,projection:o,...a}=t,l={...i,parentEncoding:fye({parentEncoding:n,encoding:s,layer:!0}),parentProjection:hye({parentProjection:r,projection:o})};return super.mapLayer({...a,...t.name?{name:[l.repeaterPrefix,t.name].filter(u=>u).join("_")}:{}},l)}}function fye({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const i=new Set([...vt(e),...vt(t)]);for(const s of i){const o=t[s],a=e[s];if(Xn(o)){const l={...a,...o};r[s]=l}else NR(o)?r[s]={...o,condition:{...a,...o.condition}}:o||o===null?r[s]=o:(n||$f(a)||dn(a)||Xn(a)||ut(a))&&(r[s]=a)}}else r=t;return!r||xi(r)?void 0:r}function hye(e){const{parentProjection:t,projection:n}=e;return t&&n&&Ct(hGt({parentProjection:t,projection:n})),n??t}function Nre(e){return bt(e,"filter")}function RXt(e){return bt(e,"stop")}function vFe(e){return bt(e,"lookup")}function IXt(e){return bt(e,"data")}function DXt(e){return bt(e,"param")}function PXt(e){return bt(e,"pivot")}function OXt(e){return bt(e,"density")}function NXt(e){return bt(e,"quantile")}function $Xt(e){return bt(e,"regression")}function MXt(e){return bt(e,"loess")}function FXt(e){return bt(e,"sample")}function LXt(e){return bt(e,"window")}function jXt(e){return bt(e,"joinaggregate")}function BXt(e){return bt(e,"flatten")}function zXt(e){return bt(e,"calculate")}function bFe(e){return bt(e,"bin")}function UXt(e){return bt(e,"impute")}function VXt(e){return bt(e,"timeUnit")}function HXt(e){return bt(e,"aggregate")}function qXt(e){return bt(e,"stack")}function WXt(e){return bt(e,"fold")}function GXt(e){return bt(e,"extent")&&!bt(e,"density")&&!bt(e,"regression")}function YXt(e){return e.map(t=>Nre(t)?{filter:e_(t.filter,bYt)}:t)}class KXt extends Ore{map(t,n){return n.emptySelections??(n.emptySelections={}),n.selectionPredicates??(n.selectionPredicates={}),t=pye(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=pye(t,n),t.encoding){const r={};for(const[i,s]of Dy(t.encoding))r[i]=wFe(s,n);t={...t,encoding:r}}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const{selection:r,...i}=t;return r?{...i,params:Dy(r).map(([s,o])=>{const{init:a,bind:l,empty:u,...c}=o;c.type==="single"?(c.type="point",c.toggle=!1):c.type==="multi"&&(c.type="point"),n.emptySelections[s]=u!=="none";for(const d of Ca(n.selectionPredicates[s]??{}))d.empty=u!=="none";return{name:s,value:a,select:c,bind:l}})}:t}}function pye(e,t){const{transform:n,...r}=e;if(n){const i=n.map(s=>{if(Nre(s))return{filter:aG(s,t)};if(bFe(s)&&Qb(s.bin))return{...s,bin:xFe(s.bin)};if(vFe(s)){const{selection:o,...a}=s.from;return o?{...s,from:{param:o,...a}}:s}return s});return{...r,transform:i}}return e}function wFe(e,t){const n=Gn(e);if(Tt(n)&&Qb(n.bin)&&(n.bin=xFe(n.bin)),tw(n)&&n.scale?.domain?.selection){const{selection:r,...i}=n.scale.domain;n.scale.domain={...i,...r?{param:r}:{}}}if(OR(n))if(ut(n.condition))n.condition=n.condition.map(r=>{const{selection:i,param:s,test:o,...a}=r;return s?r:{...a,test:aG(r,t)}});else{const{selection:r,param:i,test:s,...o}=wFe(n.condition,t);n.condition=i?n.condition:{...o,test:aG(n.condition,t)}}return n}function xFe(e){const t=e.extent;if(t?.selection){const{selection:n,...r}=t;return{...e,extent:{...r,param:n}}}return e}function aG(e,t){const n=r=>e_(r,i=>{var s;const o=t.emptySelections[i]??!0,a={param:i,empty:o};return(s=t.selectionPredicates)[i]??(s[i]=[]),t.selectionPredicates[i].push(a),a});return e.selection?n(e.selection):e_(e.test||e.filter,r=>r.selection?n(r.selection):r)}class lG extends Ore{map(t,n){const r=n.selections??[];if(t.params&&!j0(t)){const i=[];for(const s of t.params)Ire(s)?r.push(s):i.push(s);t.params=i}return n.selections=r,super.map(t,n)}mapUnit(t,n){const r=n.selections;if(!r||!r.length)return t;const i=(n.path??[]).concat(t.name),s=[];for(const o of r)if(!o.views||!o.views.length)s.push(o);else for(const a of o.views)(Ht(a)&&(a===t.name||i.includes(a))||ut(a)&&a.map(l=>i.indexOf(l)).every((l,u,c)=>l!==-1&&(u===0||l>c[u-1])))&&s.push(o);return s.length&&(t.params=s),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=lG.prototype[e];lG.prototype[e]=function(n,r){return t.call(this,n,XXt(n,r))}}function XXt(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function _Fe(e,t){t===void 0&&(t=hFe(e.config));const n=eQt(e,t),{width:r,height:i}=e,s=tQt(n,{width:r,height:i,autosize:e.autosize},t);return{...n,...s?{autosize:s}:{}}}const QXt=new AXt,JXt=new KXt,ZXt=new lG;function eQt(e,t={}){const n={config:t};return ZXt.map(QXt.map(JXt.map(e,n),n),n)}function mye(e){return Ht(e)?{type:e}:e??{}}function tQt(e,t,n){let{width:r,height:i}=t;const s=j0(e)||e8(e),o={};s?r=="container"&&i=="container"?(o.type="fit",o.contains="padding"):r=="container"?(o.type="fit-x",o.contains="padding"):i=="container"&&(o.type="fit-y",o.contains="padding"):(r=="container"&&(Ct(Bge("width")),r=void 0),i=="container"&&(Ct(Bge("height")),i=void 0));const a={type:"pad",...o,...n?mye(n.autosize):{},...mye(e.autosize)};if(a.type==="fit"&&!s&&(Ct(GWt),a.type="pad"),r=="container"&&!(a.type=="fit"||a.type=="fit-x")&&Ct(zge("width")),i=="container"&&!(a.type=="fit"||a.type=="fit-y")&&Ct(zge("height")),!Ju(a,{type:"pad"}))return a}function nQt(e){return["fit","fit-x","fit-y"].includes(e)}function rQt(e){return e?`fit-${MF(e)}`:"fit"}const iQt=["background","padding"];function gye(e,t){const n={};for(const r of iQt)e&&e[r]!==void 0&&(n[r]=Xu(e[r]));return t&&(n.params=e.params),n}class B0{constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new B0(Gn(this.explicit),Gn(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return Vs(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:r}){n!==void 0&&this.set(t,n,r)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:r}){n[t]!==void 0?this.set(t,n[t],!0):r[t]!==void 0&&this.set(t,r[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of vt(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function Oh(e){return{explicit:!0,value:e}}function qu(e){return{explicit:!1,value:e}}function CFe(e){return(t,n,r,i)=>{const s=e(t.value,n.value);return s>0?t:s<0?n:t8(t,n,r,i)}}function t8(e,t,n,r){return e.explicit&&t.explicit&&Ct(MGt(n,r,e.value,t.value)),e}function Ny(e,t,n,r,i=t8){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:Ju(e.value,t.value)?e:i(e,t,n,r)}class sQt extends B0{constructor(t={},n={},r=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function rC(e){return bt(e,"url")}function Vk(e){return bt(e,"values")}function EFe(e){return bt(e,"name")&&!rC(e)&&!Vk(e)&&!ay(e)}function ay(e){return e&&(SFe(e)||TFe(e)||$re(e))}function SFe(e){return bt(e,"sequence")}function TFe(e){return bt(e,"sphere")}function $re(e){return bt(e,"graticule")}var hs;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup",e[e.PreFilterInvalid=5]="PreFilterInvalid",e[e.PostFilterInvalid=6]="PostFilterInvalid"})(hs||(hs={}));function kFe({invalid:e,isPath:t}){switch(_Me(e,{isPath:t})){case"filter":return{marks:"exclude-invalid-values",scales:"exclude-invalid-values"};case"break-paths-show-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"include-invalid-values"};case"break-paths-filter-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"exclude-invalid-values"};case"show":return{marks:"include-invalid-values",scales:"include-invalid-values"}}}function oQt(e){const{marks:t,scales:n}=kFe(e);return t===n?hs.Main:n==="include-invalid-values"?hs.PreFilterInvalid:hs.PostFilterInvalid}class vi{constructor(t,n){this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){Ct(cGt);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}class vu extends vi{clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}constructor(t,n,r,i){super(t,n),this.type=r,this.refCounts=i,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${C$e()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}function Tz(e){return e.as!==void 0}function yye(e){return`${e}_end`}class sp extends vi{clone(){return new sp(null,Gn(this.timeUnits))}constructor(t,n){super(t),this.timeUnits=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,s,o)=>{const{field:a,timeUnit:l}=s;if(l){let u;if(ew(l)){if(ds(n)){const{mark:c,markDef:d,config:f}=n,h=Oy({fieldDef:s,markDef:d,config:f});(Uk(c)||h)&&(u={timeUnit:Xo(l),field:a})}}else u={as:Ft(s,{forAs:!0}),field:a,timeUnit:l};if(ds(n)){const{mark:c,markDef:d,config:f}=n,h=Oy({fieldDef:s,markDef:d,config:f});Uk(c)&&Hs(o)&&h!==.5&&(u.rectBandPosition=h)}u&&(i[Er(u)]=u)}return i},{});return xi(r)?null:new sp(t,r)}static makeFromTransform(t,n){const{timeUnit:r,...i}={...n},s=Xo(r),o={...i,timeUnit:s};return new sp(t,{[Er(o)]:o})}merge(t){this.timeUnits={...this.timeUnits};for(const n in t.timeUnits)this.timeUnits[n]||(this.timeUnits[n]=t.timeUnits[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}removeFormulas(t){const n={};for(const[r,i]of Dy(this.timeUnits)){const s=Tz(i)?i.as:`${i.field}_end`;t.has(s)||(n[r]=i)}this.timeUnits=n}producedFields(){return new Set(Ca(this.timeUnits).map(t=>Tz(t)?t.as:yye(t.field)))}dependentFields(){return new Set(Ca(this.timeUnits).map(t=>t.field))}hash(){return`TimeUnit ${Er(this.timeUnits)}`}assemble(){const t=[];for(const n of Ca(this.timeUnits)){const{rectBandPosition:r}=n,i=Xo(n.timeUnit);if(Tz(n)){const{field:s,as:o}=n,{unit:a,utc:l,...u}=i,c=[o,`${o}_end`];t.push({field:pd(s),type:"timeunit",...a?{units:BF(a)}:{},...l?{timezone:"utc"}:{},...u,as:c}),t.push(...vye(c,r,i))}else if(n){const{field:s}=n,o=s.replaceAll("\\.","."),a=AFe({timeUnit:i,field:o}),l=yye(o);t.push({type:"formula",expr:a,as:l}),t.push(...vye([o,l],r,i))}}return t}}const n8="offsetted_rect_start",r8="offsetted_rect_end";function AFe({timeUnit:e,field:t,reverse:n}){const{unit:r,utc:i}=e,s=iMe(r),{part:o,step:a}=lMe(s,e.step);return`${i?"utcOffset":"timeOffset"}('${o}', ${pi(t)}, ${n?-a:a})`}function vye([e,t],n,r){if(n!==void 0&&n!==.5){const i=pi(e),s=pi(t);return[{type:"formula",expr:bye([AFe({timeUnit:r,field:e,reverse:!0}),i],n+.5),as:`${e}_${n8}`},{type:"formula",expr:bye([i,s],n+.5),as:`${e}_${r8}`}]}return[]}function bye([e,t],n){return`${1-n} * ${e} + ${n} * ${t}`}const FR="_tuple_fields";class aQt{constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const lQt={defined:()=>!0,parse:(e,t,n)=>{const r=t.name,i=t.project??(t.project=new aQt),s={},o={},a=new Set,l=(p,m)=>{const g=m==="visual"?p.channel:p.field;let y=ns(`${r}_${g}`);for(let v=1;a.has(y);v++)y=ns(`${r}_${g}_${v}`);return a.add(y),{[m]:y}},u=t.type,c=e.config.selection[u],d=n.value!==void 0?Ut(n.value):null;let{fields:f,encodings:h}=Vt(n.select)?n.select:{};if(!f&&!h&&d){for(const p of d)if(Vt(p))for(const m of vt(p))xWt(m)?(h||(h=[])).push(m):u==="interval"?(Ct(rGt),h=c.encodings):(f??(f=[])).push(m)}!f&&!h&&(h=c.encodings,"fields"in c&&(f=c.fields));for(const p of h??[]){const m=e.fieldDef(p);if(m){let g=m.field;if(m.aggregate){Ct(YWt(p,m.aggregate));continue}else if(!g){Ct(Vge(p));continue}if(m.timeUnit&&!ew(m.timeUnit)){g=e.vgField(p);const y={timeUnit:m.timeUnit,as:g,field:m.field};o[Er(y)]=y}if(!s[g]){const y=u==="interval"&&Vp(p)&&Nf(e.getScaleComponent(p).get("type"))?"R":m.bin?"R-RE":"E",v={field:g,channel:p,type:y,index:i.items.length};v.signals={...l(v,"data"),...l(v,"visual")},i.items.push(s[g]=v),i.hasField[g]=s[g],i.hasSelectionId=i.hasSelectionId||g===Ff,R$e(p)?(v.geoChannel=p,v.channel=A$e(p),i.hasChannel[v.channel]=s[g]):i.hasChannel[p]=s[g]}}else Ct(Vge(p))}for(const p of f??[]){if(i.hasField[p])continue;const m={type:"E",field:p,index:i.items.length};m.signals={...l(m,"data")},i.items.push(m),i.hasField[p]=m,i.hasSelectionId=i.hasSelectionId||p===Ff}d&&(t.init=d.map(p=>i.items.map(m=>Vt(p)?p[m.geoChannel||m.channel]!==void 0?p[m.geoChannel||m.channel]:p[m.field]:p))),xi(o)||(i.timeUnit=new sp(null,o))},signals:(e,t,n)=>{const r=t.name+FR;return n.filter(s=>s.name===r).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map(PFe)})}},RFe="_curr",JO="anim_value",wx="anim_clock",uG="eased_anim_clock",IFe="min_extent",DFe="max_range_extent",kz="last_tick_at",Az="is_playing",uQt=1/60*1e3,cQt=(e,t)=>[{name:uG,update:wx},{name:`${e}_domain`,init:`domain('${t}')`},{name:IFe,init:`extent(${e}_domain)[0]`},{name:DFe,init:`extent(range('${t}'))[1]`},{name:JO,update:`invert('${t}', ${uG})`}],dQt={defined:e=>e.type==="point",topLevelSignals:(e,t,n)=>(op(t)&&(n=n.concat([{name:wx,init:"0",on:[{events:{type:"timer",throttle:uQt},update:`${Az} ? (${wx} + (now() - ${kz}) > ${DFe} ? 0 : ${wx} + (now() - ${kz})) : ${wx}`}]},{name:kz,init:"now()",on:[{events:[{signal:wx},{signal:Az}],update:"now()"}]},{name:Az,init:"true"}])),n),signals:(e,t,n)=>{const r=t.name,i=r+FR,s=t.project,o="(item().isVoronoi ? datum.datum : datum)",a=Ca(e.component.selection??{}).reduce((c,d)=>d.type==="interval"?c.concat(d.name+r_):c,[]).map(c=>`indexof(item().mark.name, '${c}') < 0`).join(" && "),l=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${a?` && ${a}`:""}`;let u=`unit: ${F1(e)}, `;if(t.project.hasSelectionId)u+=`${Ff}: ${o}[${Dt(Ff)}]`;else if(op(t))u+=`fields: ${i}, values: [${JO} ? ${JO} : ${IFe}]`;else{const c=s.items.map(d=>e.fieldDef(d.channel)?.bin?`[${o}[${Dt(e.vgField(d.channel,{}))}], ${o}[${Dt(e.vgField(d.channel,{binSuffix:"end"}))}]]`:`${o}[${Dt(d.field)}]`).join(", ");u+=`fields: ${i}, values: [${c}]`}if(op(t))return n.concat(cQt(t.name,e.scaleName(ov)),[{name:r+p0,on:[{events:[{signal:uG},{signal:JO}],update:`{${u}}`,force:!0}]}]);{const c=t.events;return n.concat([{name:r+p0,on:c?[{events:c,update:`${l} ? {${u}} : null`,force:!0}]:[]}])}}};function PFe(e){const{signals:t,hasLegend:n,index:r,...i}=e;return i.field=pd(i.field),i}function gb(e,t=!0,n=ol){if(ut(e)){const r=e.map(i=>gb(i,t,n));return t?`[${r.join(", ")}]`:r}else if(Zb(e))return n(t?fb(e):aYt(e));return t?n(_i(e)):e}function fQt(e,t){for(const n of Ca(e.component.selection??{})){const r=n.name;let i=`${r}${p0}, ${n.resolve==="global"?"true":`{unit: ${F1(e)}}`}`;for(const s of s8)s.defined(n)&&(s.signals&&(t=s.signals(e,n,t)),s.modifyExpr&&(i=s.modifyExpr(e,n,i)));t.push({name:r+jQt,on:[{events:{signal:n.name+p0},update:`modify(${Dt(n.name+yb)}, ${i})`}]})}return Mre(t)}function hQt(e,t){if(e.component.selection&&vt(e.component.selection).length){const n=Dt(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:iv("pointermove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return Mre(t)}function pQt(e,t){let n=!1;for(const r of Ca(e.component.selection??{})){const i=r.name,s=Dt(i+yb);if(t.filter(a=>a.name===i).length===0){const a=r.resolve==="global"?"union":r.resolve,l=r.type==="point"?", true, true)":")";t.push({name:r.name,update:`${KFe}(${s}, ${Dt(a)}${l}`})}n=!0;for(const a of s8)a.defined(r)&&a.topLevelSignals&&(t=a.topLevelSignals(e,r,t))}return n&&t.filter(i=>i.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),Mre(t)}function mQt(e,t){const n=[],r=[],i=F1(e,{escape:!1});for(const s of Ca(e.component.selection??{})){const o={name:s.name+yb};if(s.project.hasSelectionId&&(o.transform=[{type:"collect",sort:{field:Ff}}]),s.init){const l=s.project.items.map(PFe);o.values=s.project.hasSelectionId?s.init.map(u=>({unit:i,[Ff]:gb(u,!1)[0]})):s.init.map(u=>({unit:i,fields:l,values:gb(u,!1)}))}if([...n,...t].filter(l=>l.name===s.name+yb).length||n.push(o),op(s)&&t.length){const l=e.lookupDataSource(e.getDataName(hs.Main)),u=t.find(d=>d.name===l),c=u.transform.find(d=>d.type==="filter"&&d.expr.includes("vlSelectionTest"));if(c){u.transform=u.transform.filter(f=>f!==c);const d={name:u.name+RFe,source:u.name,transform:[c]};r.push(d)}}}return n.concat(t,r)}function OFe(e,t){for(const n of Ca(e.component.selection??{}))for(const r of s8)r.defined(n)&&r.marks&&(t=r.marks(e,n,t));return t}function gQt(e,t){for(const n of e.children)ds(n)&&(t=OFe(n,t));return t}function yQt(e,t,n,r){const i=o8e(e,t.param,t);return{signal:Nf(n.get("type"))&&ut(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}function Mre(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}const Vm={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!Vp(i))continue;const s=e.getScaleComponent(i),o=s?s.get("type"):void 0;if(o=="sequential"&&Ct(JWt),!s||!Nf(o)){Ct(QWt);continue}s.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(o=>n.filter(a=>a.name===o.signals.data).length===0);if(!e.parent||dG(e)||r.length===0)return n;const i=n.find(o=>o.name===t.name);let s=i.update;if(s.includes(KFe))i.update=`{${r.map(o=>`${Dt(pd(o.field))}: ${o.signals.data}`).join(", ")}}`;else{for(const o of r){const a=`${Dt(pd(o.field))}: ${o.signals.data}`;s.includes(a)||(s=`${s.substring(0,s.length-1)}, ${a}}`)}i.update=s}return n.concat(r.map(o=>({name:o.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!dG(e))for(const r of t.scales){const i=n.find(s=>s.name===r.signals.data);i.push="outer",delete i.value,delete i.update}return n}};function cG(e,t){return`domain(${Dt(e.scaleName(t))})`}function dG(e){return e.parent&&_E(e.parent)&&(!e.parent.parent||dG(e.parent.parent))}const r_="_brush",NFe="_scale_trigger",M2="geo_interval_init_tick",$Fe="_init",vQt="_center",bQt={defined:e=>e.type==="interval",parse:(e,t,n)=>{var r;if(e.hasProjection){const i={...Vt(n.select)?n.select:{}};i.fields=[Ff],i.encodings||(i.encodings=n.value?vt(n.value):[sh,ih]),n.select={type:"interval",...i}}if(t.translate&&!Vm.defined(t)){const i=`!event.item || event.item.mark.name !== ${Dt(t.name+r_)}`;for(const s of t.events){if(!s.between){Ct(`${s} is not an ordered event stream for interval selections.`);continue}const o=Ut((r=s.between[0]).filter??(r.filter=[]));o.includes(i)||o.push(i)}}},signals:(e,t,n)=>{const r=t.name,i=r+p0,s=Ca(t.project.hasChannel).filter(a=>a.channel===ss||a.channel===ea),o=t.init?t.init[0]:null;if(n.push(...s.reduce((a,l)=>a.concat(wQt(e,t,l,o&&o[l.index])),[])),e.hasProjection){const a=Dt(e.projectionName()),l=e.projectionName()+vQt,{x:u,y:c}=t.project.hasChannel,d=u&&u.signals.visual,f=c&&c.signals.visual,h=u?o&&o[u.index]:`${l}[0]`,p=c?o&&o[c.index]:`${l}[1]`,m=C=>e.getSizeSignalRef(C).signal,g=`[[${d?d+"[0]":"0"}, ${f?f+"[0]":"0"}],[${d?d+"[1]":m("width")}, ${f?f+"[1]":m("height")}]]`;o&&(n.unshift({name:r+$Fe,init:`[scale(${a}, [${u?h[0]:h}, ${c?p[0]:p}]), scale(${a}, [${u?h[1]:h}, ${c?p[1]:p}])]`}),(!u||!c)&&(n.find(S=>S.name===l)||n.unshift({name:l,update:`invert(${a}, [${m("width")}/2, ${m("height")}/2])`})));const y=`intersect(${g}, {markname: ${Dt(e.getName("marks"))}}, unit.mark)`,v=`{unit: ${F1(e)}}`,w=`vlSelectionTuples(${y}, ${v})`,_=s.map(C=>C.signals.visual);return n.concat({name:i,on:[{events:[..._.length?[{signal:_.join(" || ")}]:[],...o?[{signal:M2}]:[]],update:w}]})}else{if(!Vm.defined(t)){const u=r+NFe,c=s.map(d=>{const f=d.channel,{data:h,visual:p}=d.signals,m=Dt(e.scaleName(f)),g=e.getScaleComponent(f).get("type"),y=Nf(g)?"+":"";return`(!isArray(${h}) || (${y}invert(${m}, ${p})[0] === ${y}${h}[0] && ${y}invert(${m}, ${p})[1] === ${y}${h}[1]))`});c.length&&n.push({name:u,value:{},on:[{events:s.map(d=>({scale:e.scaleName(d.channel)})),update:c.join(" && ")+` ? ${u} : {}`}]})}const a=s.map(u=>u.signals.data),l=`unit: ${F1(e)}, fields: ${r+FR}, values`;return n.concat({name:i,...o?{init:`{${l}: ${gb(o)}}`}:{},...a.length?{on:[{events:[{signal:a.join(" || ")}],update:`${a.join(" && ")} ? {${l}: [${a}]} : null`}]}:{}})}},topLevelSignals:(e,t,n)=>(ds(e)&&e.hasProjection&&t.init&&(n.filter(i=>i.name===M2).length||n.unshift({name:M2,value:null,on:[{events:"timer{1}",update:`${M2} === null ? {} : ${M2}`}]})),n),marks:(e,t,n)=>{const r=t.name,{x:i,y:s}=t.project.hasChannel,o=i?.signals.visual,a=s?.signals.visual,l=`data(${Dt(t.name+yb)})`;if(Vm.defined(t)||!i&&!s)return n;const u={x:i!==void 0?{signal:`${o}[0]`}:{value:0},y:s!==void 0?{signal:`${a}[0]`}:{value:0},x2:i!==void 0?{signal:`${o}[1]`}:{field:{group:"width"}},y2:s!==void 0?{signal:`${a}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const g of vt(u))u[g]=[{test:`${l}.length && ${l}[0].unit === ${F1(e)}`,...u[g]},{value:0}];const{fill:c,fillOpacity:d,cursor:f,...h}=t.mark,p=vt(h).reduce((g,y)=>(g[y]=[{test:[i!==void 0&&`${o}[0] !== ${o}[1]`,s!==void 0&&`${a}[0] !== ${a}[1]`].filter(v=>v).join(" && "),value:h[y]},{value:null}],g),{}),m=f??(t.translate?"move":null);return[{name:`${r+r_}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:c},fillOpacity:{value:d}},update:u}},...n,{name:r+r_,type:"rect",clip:!0,encode:{enter:{...m?{cursor:{value:m}}:{},fill:{value:"transparent"}},update:{...u,...p}}}]}};function wQt(e,t,n,r){const i=!e.hasProjection,s=n.channel,o=n.signals.visual,a=Dt(i?e.scaleName(s):e.projectionName()),l=f=>`scale(${a}, ${f})`,u=e.getSizeSignalRef(s===ss?"width":"height").signal,c=`${s}(unit)`,d=t.events.reduce((f,h)=>[...f,{events:h.between[0],update:`[${c}, ${c}]`},{events:h,update:`[${o}[0], clamp(${c}, 0, ${u})]`}],[]);if(i){const f=n.signals.data,h=Vm.defined(t),p=e.getScaleComponent(s),m=p?p.get("type"):void 0,g=r?{init:gb(r,!0,l)}:{value:[]};return d.push({events:{signal:t.name+NFe},update:Nf(m)?`[${l(`${f}[0]`)}, ${l(`${f}[1]`)}]`:"[0, 0]"}),h?[{name:f,on:[]}]:[{name:o,...g,on:d},{name:f,...r?{init:gb(r)}:{},on:[{events:{signal:o},update:`${o}[0] === ${o}[1] ? null : invert(${a}, ${o})`}]}]}else{const f=s===ss?0:1,h=t.name+$Fe,p=r?{init:`[${h}[0][${f}], ${h}[1][${f}]]`}:{value:[]};return[{name:o,...p,on:d}]}}function vE({model:e,channelDef:t,vgChannel:n,invalidValueRef:r,mainRefFn:i}){const s=OR(t)&&t.condition;let o=[];s&&(o=Ut(s).map(u=>{const c=i(u);if(aKt(u)){const{param:d,empty:f}=u;return{test:s8e(e,{param:d,empty:f}),...c}}else return{test:Q6(e,u.test),...c}})),r!==void 0&&o.push(r);const a=i(t);return a!==void 0&&o.push(a),o.length>1||o.length===1&&o[0].test?{[n]:o}:o.length===1?{[n]:o[0]}:{}}function Fre(e,t="text"){const n=e.encoding[t];return vE({model:e,channelDef:n,vgChannel:t,mainRefFn:r=>i8(r,e.config),invalidValueRef:void 0})}function i8(e,t,n="datum"){if(e){if($f(e))return Wi(e.value);if(Xn(e)){const{format:r,formatType:i}=H6(e);return yre({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function MFe(e,t={}){const{encoding:n,markDef:r,config:i,stack:s}=e,o=n.tooltip;if(ut(o))return{tooltip:wye({tooltip:o},s,i,t)};{const a=t.reactiveGeom?"datum.datum":"datum";return vE({model:e,channelDef:o,vgChannel:"tooltip",mainRefFn:u=>{const c=i8(u,i,a);if(c)return c;if(u===null)return;let d=wi("tooltip",r,i);if(d===!0&&(d={content:"encoding"}),Ht(d))return{value:d};if(Vt(d))return dn(d)?d:d.content==="encoding"?wye(n,s,i,t):{signal:a}},invalidValueRef:void 0})}}function FFe(e,t,n,{reactiveGeom:r}={}){const i={...n,...n.tooltipFormat},s=new Set,o=r?"datum.datum":"datum",a=[];function l(c,d){const f=Xb(d),h=Bl(c)?c:{...c,type:e[f].type},p=h.title||xre(h,i),m=Ut(p).join(", ").replaceAll(/"/g,'\\"');let g;if(Hs(d)){const y=d==="x"?"x2":"y2",v=Mf(e[y]);if(ha(h.bin)&&v){const w=Ft(h,{expr:o}),_=Ft(v,{expr:o}),{format:C,formatType:S}=H6(h);g=DR(w,_,C,S,i),s.add(y)}}if((Hs(d)||d===kd||d===rh)&&t&&t.fieldChannel===d&&t.offset==="normalize"){const{format:y,formatType:v}=H6(h);g=yre({fieldOrDatumDef:h,format:y,formatType:v,expr:o,config:i,normalizeStack:!0}).signal}g??(g=i8(h,i,o).signal),a.push({channel:d,key:m,value:g})}Cre(e,(c,d)=>{Tt(c)?l(c,d):YF(c)&&l(c.condition,d)});const u={};for(const{channel:c,key:d,value:f}of a)!s.has(c)&&!u[d]&&(u[d]=f);return u}function wye(e,t,n,{reactiveGeom:r}={}){const i=FFe(e,t,n,{reactiveGeom:r}),s=Dy(i).map(([o,a])=>`"${o}": ${a}`);return s.length>0?{signal:`{${s.join(", ")}}`}:void 0}function xQt(e){const{markDef:t,config:n}=e,r=wi("aria",t,n);return r===!1?{}:{...r?{aria:r}:{},..._Qt(e),...CQt(e)}}function _Qt(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const i=wi("ariaRoleDescription",n,r);return i!=null?{ariaRoleDescription:{value:i}}:Kt(HWt,t)?{}:{ariaRoleDescription:{value:t}}}function CQt(e){const{encoding:t,markDef:n,config:r,stack:i}=e,s=t.description;if(s)return vE({model:e,channelDef:s,vgChannel:"description",mainRefFn:l=>i8(l,e.config),invalidValueRef:void 0});const o=wi("description",n,r);if(o!=null)return{description:Wi(o)};if(r.aria===!1)return{};const a=FFe(t,i,r);if(!xi(a))return{description:{signal:Dy(a).map(([l,u],c)=>`"${c>0?"; ":""}${l}: " + (${u})`).join(" + ")}}}function va(e,t,n={}){const{markDef:r,encoding:i,config:s}=t,{vgChannel:o}=n;let{defaultRef:a,defaultValue:l}=n;const u=i[e];a===void 0&&(l??(l=wi(e,r,s,{vgChannel:o,ignoreVgConfig:!OR(u)})),l!==void 0&&(a=Wi(l)));const c={markDef:r,config:s,scaleName:t.scaleName(e),scale:t.getScaleComponent(e)},d=EMe({...c,scaleChannel:e,channelDef:u});return vE({model:t,channelDef:u,vgChannel:o??e,invalidValueRef:d,mainRefFn:h=>gre({...c,channel:e,channelDef:h,stack:null,defaultRef:a})})}function LFe(e,t={filled:void 0}){const{markDef:n,encoding:r,config:i}=e,{type:s}=n,o=t.filled??wi("filled",n,i),a=vr(["bar","point","circle","square","geoshape"],s)?"transparent":void 0,l=wi(o===!0?"color":void 0,n,i,{vgChannel:"fill"})??i.mark[o===!0&&"color"]??a,u=wi(o===!1?"color":void 0,n,i,{vgChannel:"stroke"})??i.mark[o===!1&&"color"],c=o?"fill":"stroke",d={...l?{fill:Wi(l)}:{},...u?{stroke:Wi(u)}:{}};return n.color&&(o?n.fill:n.stroke)&&Ct(K$e("property",{fill:"fill"in n,stroke:"stroke"in n})),{...d,...va("color",e,{vgChannel:c,defaultValue:o?l:u}),...va("fill",e,{defaultValue:r.fill?l:void 0}),...va("stroke",e,{defaultValue:r.stroke?u:void 0})}}function EQt(e){const{encoding:t,mark:n}=e,r=t.order;return!fv(n)&&$f(r)?vE({model:e,channelDef:r,vgChannel:"zindex",mainRefFn:i=>Wi(i.value),invalidValueRef:void 0}):{}}function iC({channel:e,markDef:t,encoding:n={},model:r,bandPosition:i}){const s=`${e}Offset`,o=t[s],a=n[s];if((s==="xOffset"||s==="yOffset")&&a)return{offsetType:"encoding",offset:gre({channel:s,channelDef:a,markDef:t,config:r?.config,scaleName:r.scaleName(s),scale:r.getScaleComponent(s),stack:null,defaultRef:Wi(o),bandPosition:i})};const l=t[s];return l?{offsetType:"visual",offset:l}:{}}function Rl(e,t,{defaultPos:n,vgChannel:r}){const{encoding:i,markDef:s,config:o,stack:a}=t,l=i[e],u=i[Up(e)],c=t.scaleName(e),d=t.getScaleComponent(e),{offset:f,offsetType:h}=iC({channel:e,markDef:s,encoding:i,model:t,bandPosition:.5}),p=Lre({model:t,defaultPos:n,channel:e,scaleName:c,scale:d}),m=!l&&Hs(e)&&(i.latitude||i.longitude)?{field:t.getName(e)}:SQt({channel:e,channelDef:l,channel2Def:u,markDef:s,config:o,scaleName:c,scale:d,stack:a,offset:f,defaultRef:p,bandPosition:h==="encoding"?0:void 0});return m?{[r||e]:m}:void 0}function SQt(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:s,markDef:o}=e;if(Xn(n)&&i&&t===i.fieldChannel){if(Tt(n)){let a=n.bandPosition;if(a===void 0&&o.type==="text"&&(t==="radius"||t==="theta")&&(a=.5),a!==void 0)return z6({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:a,offset:s})}return $1(n,r,{suffix:"end"},{offset:s})}return mre(e)}function Lre({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:s,config:o}=e;return()=>{const a=Xb(n),l=Py(n),u=wi(n,s,o,{vgChannel:l});if(u!==void 0)return bT(n,u);switch(t){case"zeroOrMin":return xye({scaleName:r,scale:i,mode:"zeroOrMin",mainChannel:a,config:o});case"zeroOrMax":return xye({scaleName:r,scale:i,mode:{zeroOrMax:{widthSignal:e.width.signal,heightSignal:e.height.signal}},mainChannel:a,config:o});case"mid":return{...e[ku(n)],mult:.5}}}}function xye({mainChannel:e,config:t,...n}){const r=CMe(n),{mode:i}=n;if(r)return r;switch(e){case"radius":{if(i==="zeroOrMin")return{value:0};const{widthSignal:s,heightSignal:o}=i.zeroOrMax;return{signal:`min(${s},${o})/2`}}case"theta":return i==="zeroOrMin"?{value:0}:{signal:"2*PI"};case"x":return i==="zeroOrMin"?{value:0}:{field:{group:"width"}};case"y":return i==="zeroOrMin"?{field:{group:"height"}}:{value:0}}}const TQt={left:"x",center:"xc",right:"x2"},kQt={top:"y",middle:"yc",bottom:"y2"};function jFe(e,t,n,r="middle"){if(e==="radius"||e==="theta")return Py(e);const i=e==="x"?"align":"baseline",s=wi(i,t,n);let o;return dn(s)?(Ct(SGt(i)),o=void 0):o=s,e==="x"?TQt[o||(r==="top"?"left":"center")]:kQt[o||r]}function Y6(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?BFe(e,t,{defaultPos:n,defaultPos2:r}):Rl(e,t,{defaultPos:n})}function BFe(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:s}=t,o=Up(e),a=ku(e),l=AQt(t,r,o),u=l[a]?jFe(e,i,s):Py(e);return{...Rl(e,t,{defaultPos:n,vgChannel:u}),...l}}function AQt(e,t,n){const{encoding:r,mark:i,markDef:s,stack:o,config:a}=e,l=Xb(n),u=ku(n),c=Py(n),d=r[l],f=e.scaleName(l),h=e.getScaleComponent(l),{offset:p}=n in r||n in s?iC({channel:n,markDef:s,encoding:r,model:e}):iC({channel:l,markDef:s,encoding:r,model:e});if(!d&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude)){const g=ku(n),y=e.markDef[g];return y!=null?{[g]:{value:y}}:{[c]:{field:e.getName(n)}}}const m=RQt({channel:n,channelDef:d,channel2Def:r[n],markDef:s,config:a,scaleName:f,scale:h,stack:o,offset:p,defaultRef:void 0});return m!==void 0?{[c]:m}:o3(n,s)||o3(n,{[n]:JW(n,s,a.style),[u]:JW(u,s,a.style)})||o3(n,a[i])||o3(n,a.mark)||{[c]:Lre({model:e,defaultPos:t,channel:n,scaleName:f,scale:h})()}}function RQt({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:s,scale:o,stack:a,offset:l,defaultRef:u}){return Xn(t)&&a&&e.charAt(0)===a.fieldChannel.charAt(0)?$1(t,s,{suffix:"start"},{offset:l}):mre({channel:e,channelDef:n,scaleName:s,scale:o,stack:a,markDef:r,config:i,offset:l,defaultRef:u})}function o3(e,t){const n=ku(e),r=Py(e);if(t[r]!==void 0)return{[r]:bT(e,t[r])};if(t[e]!==void 0)return{[r]:bT(e,t[e])};if(t[n]){const i=t[n];if(pb(i))Ct(bGt(n));else return{[n]:bT(e,i)}}}function h0(e,t){const{config:n,encoding:r,markDef:i}=e,s=i.type,o=Up(t),a=ku(t),l=r[t],u=r[o],c=e.getScaleComponent(t),d=c?c.get("type"):void 0,f=i.orient,h=r[a]??r.size??wi("size",i,n,{vgChannel:a}),p=O$e(t),m=s==="bar"&&(t==="x"?f==="vertical":f==="horizontal")||s==="tick"&&(t==="y"?f==="vertical":f==="horizontal");return Tt(l)&&(Li(l.bin)||ha(l.bin)||l.timeUnit&&!u)&&!(h&&!pb(h))&&!r[p]&&!Qo(d)?PQt({fieldDef:l,fieldDef2:u,channel:t,model:e}):(Xn(l)&&Qo(d)||m)&&!u?DQt(l,t,e):BFe(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function IQt(e,t,n,r,i,s,o){if(pb(i))if(n){const l=n.get("type");if(l==="band"){let u=`bandwidth('${t}')`;i.band!==1&&(u=`${i.band} * ${u}`);const c=wp("minBandSize",{type:o},r);return{signal:c?`max(${df(c)}, ${u})`:u}}else i.band!==1&&(Ct(RGt(l)),i=void 0)}else return{mult:i.band,field:{group:e}};else{if(dn(i))return i;if(i)return{value:i}}if(n){const l=n.get("range");if(Jb(l)&&Jr(l.step))return{value:l.step-2}}if(!s){const{bandPaddingInner:l,barBandPaddingInner:u,rectBandPaddingInner:c,tickBandPaddingInner:d}=r.scale,f=Vs(l,o==="tick"?d:o==="bar"?u:c);if(dn(f))return{signal:`(1 - (${f.signal})) * ${e}`};if(Jr(f))return{signal:`${1-f} * ${e}`}}return{value:sG(r.view,e)-2}}function DQt(e,t,n){const{markDef:r,encoding:i,config:s,stack:o}=n,a=r.orient,l=n.scaleName(t),u=n.getScaleComponent(t),c=ku(t),d=Up(t),f=O$e(t),h=n.scaleName(f),p=n.getScaleComponent(Une(t)),m=r.type==="tick"||a==="horizontal"&&t==="y"||a==="vertical"&&t==="x";let g;(i.size||r.size)&&(m?g=va("size",n,{vgChannel:c,defaultRef:Wi(r.size)}):Ct(OGt(r.type)));const y=!!g,v=DMe({channel:t,fieldDef:e,markDef:r,config:s,scaleType:(u||p)?.get("type"),useVlSizeChannel:m});g=g||{[c]:IQt(c,h||l,p||u,s,v,!!e,r.type)};const w=(u||p)?.get("type")==="band"&&pb(v)&&!y?"top":"middle",_=jFe(t,r,s,w),C=_==="xc"||_==="yc",{offset:S,offsetType:T}=iC({channel:t,markDef:r,encoding:i,model:n,bandPosition:C?.5:0}),k=mre({channel:t,channelDef:e,markDef:r,config:s,scaleName:l,scale:u,stack:o,offset:S,defaultRef:Lre({model:n,defaultPos:"mid",channel:t,scaleName:l,scale:u}),bandPosition:C?T==="encoding"?0:.5:dn(v)?{signal:`(1-${v})/2`}:pb(v)?(1-v.band)/2:0});if(c)return{[_]:k,...g};{const I=Py(d),R=g[c],P=S?{...R,offset:S}:R;return{[_]:k,[I]:ut(k)?[k[0],{...k[1],offset:P}]:{...k,offset:P}}}}function _ye(e,t,n,r,i,s,o){if(k$e(e))return 0;const a=e==="x"||e==="y2",l=a?-t/2:t/2;if(dn(n)||dn(i)||dn(r)||s){const u=df(n),c=df(i),d=df(r),f=df(s),p=s?`(${o} < ${f} ? ${a?"":"-"}0.5 * (${f} - (${o})) : ${l})`:l,m=d?`${d} + `:"",g=u?`(${u} ? -1 : 1) * `:"",y=c?`(${c} + ${p})`:p;return{signal:m+g+y}}else return i=i||0,r+(n?-i-l:+i+l)}function PQt({fieldDef:e,fieldDef2:t,channel:n,model:r}){const{config:i,markDef:s,encoding:o}=r,a=r.getScaleComponent(n),l=r.scaleName(n),u=a?a.get("type"):void 0,c=a.get("reverse"),d=DMe({channel:n,fieldDef:e,markDef:s,config:i,scaleType:u}),h=r.component.axes[n]?.[0]?.get("translate")??.5,p=Hs(n)?wi("binSpacing",s,i)??0:0,m=Up(n),g=Py(n),y=Py(m),v=wp("minBandSize",s,i),{offset:w}=iC({channel:n,markDef:s,encoding:o,model:r,bandPosition:0}),{offset:_}=iC({channel:m,markDef:s,encoding:o,model:r,bandPosition:0}),C=tKt({fieldDef:e,scaleName:l}),S=_ye(n,p,c,h,w,v,C),T=_ye(m,p,c,h,_??w,v,C),k=dn(d)?{signal:`(1-${d.signal})/2`}:pb(d)?(1-d.band)/2:.5,I=Oy({fieldDef:e,fieldDef2:t,markDef:s,config:i});if(Li(e.bin)||e.timeUnit){const R=e.timeUnit&&I!==.5;return{[y]:Cye({fieldDef:e,scaleName:l,bandPosition:k,offset:T,useRectOffsetField:R}),[g]:Cye({fieldDef:e,scaleName:l,bandPosition:dn(k)?{signal:`1-${k.signal}`}:1-k,offset:S,useRectOffsetField:R})}}else if(ha(e.bin)){const R=$1(e,l,{},{offset:T});if(Tt(t))return{[y]:R,[g]:$1(t,l,{},{offset:S})};if(Qb(e.bin)&&e.bin.step)return{[y]:R,[g]:{signal:`scale("${l}", ${Ft(e,{expr:"datum"})} + ${e.bin.step})`,offset:S}}}Ct(J$e(m))}function Cye({fieldDef:e,scaleName:t,bandPosition:n,offset:r,useRectOffsetField:i}){return z6({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:r,...i?{startSuffix:n8,endSuffix:r8}:{}})}const OQt=new Set(["aria","width","height"]);function Ad(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?LFe(e):{};return{...NQt(e.markDef,t),...Eye("fill",n),...Eye("stroke",r),...va("opacity",e),...va("fillOpacity",e),...va("strokeOpacity",e),...va("strokeWidth",e),...va("strokeDash",e),...EQt(e),...MFe(e),...Fre(e,"href"),...xQt(e)}}function Eye(e,t){return t?{[e]:t}:{}}function NQt(e,t){return VWt.reduce((n,r)=>(!OQt.has(r)&&bt(e,r)&&t[r]!=="ignore"&&(n[r]=Wi(e[r])),n),{})}function jre(e){const{config:t,markDef:n}=e,r=new Set;if(e.forEachFieldDef((i,s)=>{let o;if(!Vp(s)||!(o=e.getScaleType(s)))return;const a=FF(i.aggregate),l=pre({scaleChannel:s,markDef:n,config:t,scaleType:o,isCountAggregate:a});if(JYt(l)){const u=e.vgField(s,{expr:"datum",binSuffix:e.stack?.impute?"mid":void 0});u&&r.add(u)}}),r.size>0)return{defined:{signal:[...r].map(s=>zF(s,!0)).join(" && ")}}}function Sye(e,t){if(t!==void 0)return{[e]:Wi(t)}}const Rz="voronoi",zFe={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(Rz)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,s=e.mark;if(fv(s))return Ct(KWt(s)),n;const o={name:e.getName(Rz),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...MFe(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let a=0,l=!1;return n.forEach((u,c)=>{const d=u.name??"";d===e.component.mark[0].name?a=c:d.includes(Rz)&&(l=!0)}),l||n.splice(a+1,0,o),n}},UFe={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!Rre(e.bind),parse:(e,t,n)=>XFe(t,n),topLevelSignals:(e,t,n)=>{const r=t.name,i=t.project,s=t.bind,o=t.init&&t.init[0],a=zFe.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((l,u)=>{const c=ns(`${r}_${l.field}`);n.filter(f=>f.name===c).length||n.unshift({name:c,...o?{init:gb(o[u])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${a}[${Dt(l.field)}] : null`}]:[],bind:s[l.field]??s[l.channel]??s})}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,s=n.find(u=>u.name===r+p0),o=r+FR,a=i.items.map(u=>ns(`${r}_${u.field}`)),l=a.map(u=>`${u} !== null`).join(" && ");return a.length&&(s.update=`${l} ? {fields: ${o}, values: [${a.join(", ")}]} : null`),delete s.value,delete s.on,n}},K6="_toggle",VFe={defined:e=>e.type==="point"&&!op(e)&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+K6,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+p0,r=t.name+K6;return`${r} ? null : ${n}, `+(t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${F1(e)}}, `)+`${r} ? ${n} : null`}},$Qt={defined:e=>e.clear!==void 0&&e.clear!==!1&&!op(e),parse:(e,t)=>{t.clear&&(t.clear=Ht(t.clear)?iv(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(UFe.defined(t))for(const r of t.project.items){const i=n.findIndex(s=>s.name===ns(`${t.name}_${r.field}`));i!==-1&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(i,s){i!==-1&&n[i].on&&n[i].on.push({events:t.clear,update:s})}if(t.type==="interval")for(const i of t.project.items){const s=n.findIndex(o=>o.name===i.signals.visual);if(r(s,"[0, 0]"),s===-1){const o=n.findIndex(a=>a.name===i.signals.data);r(o,"null")}}else{let i=n.findIndex(s=>s.name===t.name+p0);r(i,"null"),VFe.defined(t)&&(i=n.findIndex(s=>s.name===t.name+K6),r(i,"false"))}return n}},HFe={defined:e=>{const t=e.resolve==="global"&&e.bind&&Rre(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==Ff;return t&&!n&&Ct(ZWt),t&&n},parse:(e,t,n)=>{const r=Gn(n);if(r.select=Ht(r.select)?{type:r.select,toggle:t.toggle}:{...r.select,toggle:t.toggle},XFe(t,r),Vt(n.select)&&(n.select.on||n.select.clear)){const o='event.item && indexof(event.item.mark.role, "legend") < 0';for(const a of t.events)a.filter=Ut(a.filter??[]),a.filter.includes(o)||a.filter.push(o)}const i=Cz(t.bind)?t.bind.legend:"click",s=Ht(i)?iv(i,"view"):Ut(i);t.bind={legend:{merge:s}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=Cz(t.bind)&&t.bind.legend,s=o=>a=>{const l=Gn(a);return l.markname=o,l};for(const o of t.project.items){if(!o.hasLegend)continue;const a=`${ns(o.field)}_legend`,l=`${r}_${a}`;if(n.filter(c=>c.name===l).length===0){const c=i.merge.map(s(`${a}_symbols`)).concat(i.merge.map(s(`${a}_labels`))).concat(i.merge.map(s(`${a}_entries`)));n.unshift({name:l,...t.init?{}:{value:null},on:[{events:c,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${l}`,force:!0}]})}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,s=n.find(f=>f.name===r+p0),o=r+FR,a=i.items.filter(f=>f.hasLegend).map(f=>ns(`${r}_${ns(f.field)}_legend`)),u=`${a.map(f=>`${f} !== null`).join(" && ")} ? {fields: ${o}, values: [${a.join(", ")}]} : null`;t.events&&a.length>0?s.on.push({events:a.map(f=>({signal:f})),update:u}):a.length>0&&(s.update=u,delete s.value,delete s.on);const c=n.find(f=>f.name===r+K6),d=Cz(t.bind)&&t.bind.legend;return c&&(t.events?c.on.push({...c.on[0],events:d}):c.on[0].events=d),n}};function MQt(e,t,n){const r=e.fieldDef(t)?.field;for(const i of Ca(e.component.selection??{})){const s=i.project.hasField[r]??i.project.hasChannel[t];if(s&&HFe.defined(i)){const o=n.get("selections")??[];o.push(i.name),n.set("selections",o,!1),s.hasLegend=!0}}}const qFe="_translate_anchor",WFe="_translate_delta",FQt={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,i=Vm.defined(t),s=r+qFe,{x:o,y:a}=t.project.hasChannel;let l=iv(t.translate,"scope");return i||(l=l.map(u=>(u.between[0].markname=r+r_,u))),n.push({name:s,value:{},on:[{events:l.map(u=>u.between[0]),update:"{x: x(unit), y: y(unit)"+(o!==void 0?`, extent_x: ${i?cG(e,ss):`slice(${o.signals.visual})`}`:"")+(a!==void 0?`, extent_y: ${i?cG(e,ea):`slice(${a.signals.visual})`}`:"")+"}"}]},{name:r+WFe,value:{},on:[{events:l,update:`{x: ${s}.x - x(unit), y: ${s}.y - y(unit)}`}]}),o!==void 0&&Tye(e,t,o,"width",n),a!==void 0&&Tye(e,t,a,"height",n),n}};function Tye(e,t,n,r,i){const s=t.name,o=s+qFe,a=s+WFe,l=n.channel,u=Vm.defined(t),c=i.find(C=>C.name===n.signals[u?"data":"visual"]),d=e.getSizeSignalRef(r).signal,f=e.getScaleComponent(l),h=f&&f.get("type"),p=f&&f.get("reverse"),m=u?l===ss?p?"":"-":p?"-":"":"",g=`${o}.extent_${l}`,y=`${m}${a}.${l} / ${u?`${d}`:`span(${g})`}`,v=!u||!f?"panLinear":h==="log"?"panLog":h==="symlog"?"panSymlog":h==="pow"?"panPow":"panLinear",w=u?h==="pow"?`, ${f.get("exponent")??1}`:h==="symlog"?`, ${f.get("constant")??1}`:"":"",_=`${v}(${g}, ${y}${w})`;c.on.push({events:{signal:a},update:u?_:`clampRange(${_}, 0, ${d})`})}const GFe="_zoom_anchor",YFe="_zoom_delta",LQt={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=Vm.defined(t),s=r+YFe,{x:o,y:a}=t.project.hasChannel,l=Dt(e.scaleName(ss)),u=Dt(e.scaleName(ea));let c=iv(t.zoom,"scope");return i||(c=c.map(d=>(d.markname=r+r_,d))),n.push({name:r+GFe,on:[{events:c,update:i?"{"+[l?`x: invert(${l}, x(unit))`:"",u?`y: invert(${u}, y(unit))`:""].filter(d=>d).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:s,on:[{events:c,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),o!==void 0&&kye(e,t,o,"width",n),a!==void 0&&kye(e,t,a,"height",n),n}};function kye(e,t,n,r,i){const s=t.name,o=n.channel,a=Vm.defined(t),l=i.find(v=>v.name===n.signals[a?"data":"visual"]),u=e.getSizeSignalRef(r).signal,c=e.getScaleComponent(o),d=c&&c.get("type"),f=a?cG(e,o):l.name,h=s+YFe,p=`${s}${GFe}.${o}`,m=!a||!c?"zoomLinear":d==="log"?"zoomLog":d==="symlog"?"zoomSymlog":d==="pow"?"zoomPow":"zoomLinear",g=a?d==="pow"?`, ${c.get("exponent")??1}`:d==="symlog"?`, ${c.get("constant")??1}`:"":"",y=`${m}(${f}, ${p}, ${h}${g})`;l.on.push({events:{signal:h},update:a?y:`clampRange(${y}, 0, ${u})`})}const yb="_store",p0="_tuple",jQt="_modify",KFe="vlSelectionResolve",s8=[dQt,bQt,lQt,VFe,UFe,Vm,HFe,$Qt,FQt,LQt,zFe];function BQt(e){let t=e.parent;for(;t&&!nc(t);)t=t.parent;return t}function F1(e,{escape:t}={escape:!0}){let n=t?Dt(e.name):e.name;const r=BQt(e);if(r){const{facet:i}=r;for(const s of Kc)i[s]&&(n+=` + '__facet_${s}_' + (facet[${Dt(r.vgField(s))}])`)}return n}function Bre(e){return Ca(e.component.selection??{}).reduce((t,n)=>t||n.project.hasSelectionId,!1)}function XFe(e,t){(Ht(t.select)||!t.select.on)&&delete e.events,(Ht(t.select)||!t.select.clear)&&delete e.clear,(Ht(t.select)||!t.select.toggle)&&delete e.toggle}function op(e){return e.events?.find(t=>"type"in t&&t.type==="timer")}const zQt="RawCode",UQt="Literal",VQt="Property",HQt="Identifier",qQt="ArrayExpression",WQt="BinaryExpression",GQt="CallExpression",YQt="ConditionalExpression",KQt="LogicalExpression",XQt="MemberExpression",QQt="ObjectExpression",JQt="UnaryExpression";function ah(e){this.type=e}ah.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=ZQt(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function ZQt(e){switch(e.type){case qQt:return e.elements;case WQt:case KQt:return[e.left,e.right];case GQt:return[e.callee].concat(e.arguments);case YQt:return[e.test,e.consequent,e.alternate];case XQt:return[e.object,e.property];case QQt:return e.properties;case VQt:return[e.key,e.value];case JQt:return[e.argument];case HQt:case UQt:case zQt:default:return[]}}var qp,un,ot,il,yi,o8=1,LR=2,vb=3,hv=4,a8=5,nw=6,uu=7,jR=8,eJt=9;qp={};qp[o8]="Boolean";qp[LR]="<end>";qp[vb]="Identifier";qp[hv]="Keyword";qp[a8]="Null";qp[nw]="Numeric";qp[uu]="Punctuator";qp[jR]="String";qp[eJt]="RegularExpression";var tJt="ArrayExpression",nJt="BinaryExpression",rJt="CallExpression",iJt="ConditionalExpression",QFe="Identifier",sJt="Literal",oJt="LogicalExpression",aJt="MemberExpression",lJt="ObjectExpression",uJt="Property",cJt="UnaryExpression",Ko="Unexpected token %0",dJt="Unexpected number",fJt="Unexpected string",hJt="Unexpected identifier",pJt="Unexpected reserved word",mJt="Unexpected end of input",fG="Invalid regular expression",Iz="Invalid regular expression: missing /",JFe="Octal literals are not allowed in strict mode.",gJt="Duplicate data property in object literal not allowed in strict mode",xa="ILLEGAL",Hk="Disabled.",yJt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),vJt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function l8(e,t){if(!e)throw new Error("ASSERT: "+t)}function ym(e){return e>=48&&e<=57}function zre(e){return"0123456789abcdefABCDEF".includes(e)}function wT(e){return"01234567".includes(e)}function bJt(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function qk(e){return e===10||e===13||e===8232||e===8233}function BR(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&yJt.test(String.fromCharCode(e))}function X6(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&vJt.test(String.fromCharCode(e))}const wJt={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function ZFe(){for(;ot<il;){const e=un.charCodeAt(ot);if(bJt(e)||qk(e))++ot;else break}}function hG(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)ot<il&&zre(un[ot])?(r=un[ot++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):Kr({},Ko,xa);return String.fromCharCode(i)}function xJt(){var e,t,n,r;for(e=un[ot],t=0,e==="}"&&Kr({},Ko,xa);ot<il&&(e=un[ot++],!!zre(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&Kr({},Ko,xa),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function e8e(){var e,t;for(e=un.charCodeAt(ot++),t=String.fromCharCode(e),e===92&&(un.charCodeAt(ot)!==117&&Kr({},Ko,xa),++ot,e=hG("u"),(!e||e==="\\"||!BR(e.charCodeAt(0)))&&Kr({},Ko,xa),t=e);ot<il&&(e=un.charCodeAt(ot),!!X6(e));)++ot,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),un.charCodeAt(ot)!==117&&Kr({},Ko,xa),++ot,e=hG("u"),(!e||e==="\\"||!X6(e.charCodeAt(0)))&&Kr({},Ko,xa),t+=e);return t}function _Jt(){var e,t;for(e=ot++;ot<il;){if(t=un.charCodeAt(ot),t===92)return ot=e,e8e();if(X6(t))++ot;else break}return un.slice(e,ot)}function CJt(){var e,t,n;return e=ot,t=un.charCodeAt(ot)===92?e8e():_Jt(),t.length===1?n=vb:wJt.hasOwnProperty(t)?n=hv:t==="null"?n=a8:t==="true"||t==="false"?n=o8:n=vb,{type:n,value:t,start:e,end:ot}}function Dz(){var e=ot,t=un.charCodeAt(ot),n,r=un[ot],i,s,o;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++ot,{type:uu,value:String.fromCharCode(t),start:e,end:ot};default:if(n=un.charCodeAt(ot+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return ot+=2,{type:uu,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:ot};case 33:case 61:return ot+=2,un.charCodeAt(ot)===61&&++ot,{type:uu,value:un.slice(e,ot),start:e,end:ot}}}if(o=un.substr(ot,4),o===">>>=")return ot+=4,{type:uu,value:o,start:e,end:ot};if(s=o.substr(0,3),s===">>>"||s==="<<="||s===">>=")return ot+=3,{type:uu,value:s,start:e,end:ot};if(i=s.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return ot+=2,{type:uu,value:i,start:e,end:ot};if(i==="//"&&Kr({},Ko,xa),"<>=!+-*%&|^/".includes(r))return++ot,{type:uu,value:r,start:e,end:ot};Kr({},Ko,xa)}function EJt(e){let t="";for(;ot<il&&zre(un[ot]);)t+=un[ot++];return t.length===0&&Kr({},Ko,xa),BR(un.charCodeAt(ot))&&Kr({},Ko,xa),{type:nw,value:parseInt("0x"+t,16),start:e,end:ot}}function SJt(e){let t="0"+un[ot++];for(;ot<il&&wT(un[ot]);)t+=un[ot++];return(BR(un.charCodeAt(ot))||ym(un.charCodeAt(ot)))&&Kr({},Ko,xa),{type:nw,value:parseInt(t,8),octal:!0,start:e,end:ot}}function Aye(){var e,t,n;if(n=un[ot],l8(ym(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=ot,e="",n!=="."){if(e=un[ot++],n=un[ot],e==="0"){if(n==="x"||n==="X")return++ot,EJt(t);if(wT(n))return SJt(t);n&&ym(n.charCodeAt(0))&&Kr({},Ko,xa)}for(;ym(un.charCodeAt(ot));)e+=un[ot++];n=un[ot]}if(n==="."){for(e+=un[ot++];ym(un.charCodeAt(ot));)e+=un[ot++];n=un[ot]}if(n==="e"||n==="E")if(e+=un[ot++],n=un[ot],(n==="+"||n==="-")&&(e+=un[ot++]),ym(un.charCodeAt(ot)))for(;ym(un.charCodeAt(ot));)e+=un[ot++];else Kr({},Ko,xa);return BR(un.charCodeAt(ot))&&Kr({},Ko,xa),{type:nw,value:parseFloat(e),start:t,end:ot}}function TJt(){var e="",t,n,r,i,s=!1;for(t=un[ot],l8(t==="'"||t==='"',"String literal must starts with a quote"),n=ot,++ot;ot<il;)if(r=un[ot++],r===t){t="";break}else if(r==="\\")if(r=un[ot++],!r||!qk(r.charCodeAt(0)))switch(r){case"u":case"x":un[ot]==="{"?(++ot,e+=xJt()):e+=hG(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:wT(r)?(i="01234567".indexOf(r),i!==0&&(s=!0),ot<il&&wT(un[ot])&&(s=!0,i=i*8+"01234567".indexOf(un[ot++]),"0123".includes(r)&&ot<il&&wT(un[ot])&&(i=i*8+"01234567".indexOf(un[ot++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&un[ot]===`
`&&++ot;else{if(qk(r.charCodeAt(0)))break;e+=r}return t!==""&&Kr({},Ko,xa),{type:jR,value:e,octal:s,start:n,end:ot}}function kJt(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";Kr({},fG)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{Kr({},fG)}try{return new RegExp(e,t)}catch{return null}}function AJt(){var e,t,n,r,i;for(e=un[ot],l8(e==="/","Regular expression literal must start with a slash"),t=un[ot++],n=!1,r=!1;ot<il;)if(e=un[ot++],t+=e,e==="\\")e=un[ot++],qk(e.charCodeAt(0))&&Kr({},Iz),t+=e;else if(qk(e.charCodeAt(0)))Kr({},Iz);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||Kr({},Iz),i=t.substr(1,t.length-2),{value:i,literal:t}}function RJt(){var e,t,n;for(t="",n="";ot<il&&(e=un[ot],!!X6(e.charCodeAt(0)));)++ot,e==="\\"&&ot<il?Kr({},Ko,xa):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&Kr({},fG,n),{value:n,literal:t}}function IJt(){var e,t,n,r;return yi=null,ZFe(),e=ot,t=AJt(),n=RJt(),r=kJt(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:ot}}function DJt(e){return e.type===vb||e.type===hv||e.type===o8||e.type===a8}function t8e(){if(ZFe(),ot>=il)return{type:LR,start:ot,end:ot};const e=un.charCodeAt(ot);return BR(e)?CJt():e===40||e===41||e===59?Dz():e===39||e===34?TJt():e===46?ym(un.charCodeAt(ot+1))?Aye():Dz():ym(e)?Aye():Dz()}function fu(){const e=yi;return ot=e.end,yi=t8e(),ot=e.end,e}function n8e(){const e=ot;yi=t8e(),ot=e}function PJt(e){const t=new ah(tJt);return t.elements=e,t}function Rye(e,t,n){const r=new ah(e==="||"||e==="&&"?oJt:nJt);return r.operator=e,r.left=t,r.right=n,r}function OJt(e,t){const n=new ah(rJt);return n.callee=e,n.arguments=t,n}function NJt(e,t,n){const r=new ah(iJt);return r.test=e,r.consequent=t,r.alternate=n,r}function Ure(e){const t=new ah(QFe);return t.name=e,t}function $S(e){const t=new ah(sJt);return t.value=e.value,t.raw=un.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function Iye(e,t,n){const r=new ah(aJt);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function $Jt(e){const t=new ah(lJt);return t.properties=e,t}function Dye(e,t,n){const r=new ah(uJt);return r.key=t,r.value=n,r.kind=e,r}function MJt(e,t){const n=new ah(cJt);return n.operator=e,n.argument=t,n.prefix=!0,n}function Kr(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(s,o)=>(l8(o<r.length,"Message reference must be in range"),r[o]));throw n=new Error(i),n.index=ot,n.description=i,n}function u8(e){e.type===LR&&Kr(e,mJt),e.type===nw&&Kr(e,dJt),e.type===jR&&Kr(e,fJt),e.type===vb&&Kr(e,hJt),e.type===hv&&Kr(e,pJt),Kr(e,Ko,e.value)}function sl(e){const t=fu();(t.type!==uu||t.value!==e)&&u8(t)}function Gi(e){return yi.type===uu&&yi.value===e}function Pz(e){return yi.type===hv&&yi.value===e}function FJt(){const e=[];for(ot=yi.start,sl("[");!Gi("]");)Gi(",")?(fu(),e.push(null)):(e.push(bb()),Gi("]")||sl(","));return fu(),PJt(e)}function Pye(){ot=yi.start;const e=fu();return e.type===jR||e.type===nw?(e.octal&&Kr(e,JFe),$S(e)):Ure(e.value)}function LJt(){var e,t,n,r;if(ot=yi.start,e=yi,e.type===vb)return n=Pye(),sl(":"),r=bb(),Dye("init",n,r);if(e.type===LR||e.type===uu)u8(e);else return t=Pye(),sl(":"),r=bb(),Dye("init",t,r)}function jJt(){var e=[],t,n,r,i={},s=String;for(ot=yi.start,sl("{");!Gi("}");)t=LJt(),t.key.type===QFe?n=t.key.name:n=s(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?Kr({},gJt):i[r]=!0,e.push(t),Gi("}")||sl(",");return sl("}"),$Jt(e)}function BJt(){sl("(");const e=Vre();return sl(")"),e}const zJt={if:1};function UJt(){var e,t,n;if(Gi("("))return BJt();if(Gi("["))return FJt();if(Gi("{"))return jJt();if(e=yi.type,ot=yi.start,e===vb||zJt[yi.value])n=Ure(fu().value);else if(e===jR||e===nw)yi.octal&&Kr(yi,JFe),n=$S(fu());else{if(e===hv)throw new Error(Hk);e===o8?(t=fu(),t.value=t.value==="true",n=$S(t)):e===a8?(t=fu(),t.value=null,n=$S(t)):Gi("/")||Gi("/=")?(n=$S(IJt()),n8e()):u8(fu())}return n}function VJt(){const e=[];if(sl("("),!Gi(")"))for(;ot<il&&(e.push(bb()),!Gi(")"));)sl(",");return sl(")"),e}function HJt(){ot=yi.start;const e=fu();return DJt(e)||u8(e),Ure(e.value)}function qJt(){return sl("."),HJt()}function WJt(){sl("[");const e=Vre();return sl("]"),e}function GJt(){var e,t,n;for(e=UJt();;)if(Gi("."))n=qJt(),e=Iye(".",e,n);else if(Gi("("))t=VJt(),e=OJt(e,t);else if(Gi("["))n=WJt(),e=Iye("[",e,n);else break;return e}function Oye(){const e=GJt();if(yi.type===uu&&(Gi("++")||Gi("--")))throw new Error(Hk);return e}function ZO(){var e,t;if(yi.type!==uu&&yi.type!==hv)t=Oye();else{if(Gi("++")||Gi("--"))throw new Error(Hk);if(Gi("+")||Gi("-")||Gi("~")||Gi("!"))e=fu(),t=ZO(),t=MJt(e.value,t);else{if(Pz("delete")||Pz("void")||Pz("typeof"))throw new Error(Hk);t=Oye()}}return t}function Nye(e){let t=0;if(e.type!==uu&&e.type!==hv)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function YJt(){var e,t,n,r,i,s,o,a,l,u;if(e=yi,l=ZO(),r=yi,i=Nye(r),i===0)return l;for(r.prec=i,fu(),t=[e,yi],o=ZO(),s=[l,r,o];(i=Nye(yi))>0;){for(;s.length>2&&i<=s[s.length-2].prec;)o=s.pop(),a=s.pop().value,l=s.pop(),t.pop(),n=Rye(a,l,o),s.push(n);r=fu(),r.prec=i,s.push(r),t.push(yi),n=ZO(),s.push(n)}for(u=s.length-1,n=s[u],t.pop();u>1;)t.pop(),n=Rye(s[u-1].value,s[u-2],n),u-=2;return n}function bb(){var e,t,n;return e=YJt(),Gi("?")&&(fu(),t=bb(),sl(":"),n=bb(),e=NJt(e,t,n)),e}function Vre(){const e=bb();if(Gi(","))throw new Error(Hk);return e}function KJt(e){un=e,ot=0,il=un.length,yi=null,n8e();const t=Vre();if(yi.type!==LR)throw new Error("Unexpect token after expression.");return t}function pG(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...pG(e.object)),t.push(...pG(e.property))),t)}function r8e(e){return e.object.type==="MemberExpression"?r8e(e.object):e.object.name==="datum"}function i8e(e){const t=KJt(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&r8e(r)&&n.add(pG(r).slice(1).join("."))}),n}class bE extends vi{clone(){return new bE(null,this.model,Gn(this.filter))}constructor(t,n,r){super(t),this.model=n,this.filter=r,this.expr=Q6(this.model,this.filter,this),this._dependentFields=i8e(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function XJt(e,t){const n={},r=e.config.selection;if(!t||!t.length)return n;let i=0;for(const s of t){const o=ns(s.name),a=s.select,l=Ht(a)?a:a.type,u=Vt(a)?Gn(a):{type:l},c=r[l];for(const h in c)h==="fields"||h==="encodings"||(h==="mark"&&(u.mark={...c.mark,...u.mark}),(u[h]===void 0||u[h]===!0)&&(u[h]=Gn(c[h]??u[h])));const d=n[o]={...u,name:o,type:l,init:s.value,bind:s.bind,events:Ht(u.on)?iv(u.on,"scope"):Ut(Gn(u.on))};if(op(d)&&(i++,i>1)){delete n[o];continue}const f=Gn(s);for(const h of s8)h.defined(d)&&h.parse&&h.parse(e,d,f)}return i>1&&Ct(sGt),n}function s8e(e,t,n,r="datum"){const i=Ht(t)?t:t.param,s=ns(i),o=Dt(s+yb);let a;try{a=e.getSelectionComponent(s,i)}catch{return`!!${s}`}if(a.project.timeUnit){const f=n??e.component.data.raw,h=a.project.timeUnit.clone();f.parent?h.insertAsParentOf(f):f.parent=h}const l=a.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",u=a.resolve==="global"?")":`, ${Dt(a.resolve)})`,c=`${l}${o}, ${r}${u}`,d=`length(data(${o}))`;return t.empty===!1?`${d} && ${c}`:`!${d} || ${c}`}function o8e(e,t,n){const r=ns(t),i=n.encoding;let s=n.field,o;try{o=e.getSelectionComponent(r,t)}catch{return r}if(!i&&!s)s=o.project.items[0].field,o.project.items.length>1&&Ct(oGt(s));else if(i&&!s){const a=o.project.items.filter(l=>l.channel===i);!a.length||a.length>1?(s=o.project.items[0].field,Ct(aGt(a,i,n,s))):s=a[0].field}return`${o.name}[${Dt(pd(s))}]`}function QJt(e,t){for(const[n,r]of Dy(e.component.selection??{})){const i=e.getName(`lookup_${n}`);e.component.data.outputNodes[i]=r.materialized=new vu(new bE(t,e,{param:n}),i,hs.Lookup,e.component.data.outputNodeRefCounts)}}function Q6(e,t,n){return vT(t,r=>Ht(r)?r:gYt(r)?s8e(e,r,n):cMe(r))}function JJt(e,t){if(e)return ut(e)&&!kg(e)?e.map(n=>xre(n,t)).join(", "):e}function Oz(e,t,n,r){var i,s;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(s=e.encode[t]).update??(s.update={}),e.encode[t].update[n]=r}function MS(e,t,n,r={header:!1}){const{disable:i,orient:s,scale:o,labelExpr:a,title:l,zindex:u,...c}=e.combine();if(!i){for(const d in c){const f=d,h=xKt[f],p=c[f];if(h&&h!==t&&h!=="both")delete c[f];else if(MR(p)){const{condition:m,...g}=p,y=Ut(m),v=tye[f];if(v){const{vgProp:w,part:_}=v,C=[...y.map(S=>{const{test:T,...k}=S;return{test:Q6(null,T),...k}}),g];Oz(c,_,w,C),delete c[f]}else if(v===null){const w={signal:y.map(_=>{const{test:C,...S}=_;return`${Q6(null,C)} ? ${jge(S)} : `}).join("")+jge(g)};c[f]=w}}else if(dn(p)){const m=tye[f];if(m){const{vgProp:g,part:y}=m;Oz(c,y,g,p),delete c[f]}}vr(["labelAlign","labelBaseline"],f)&&c[f]===null&&delete c[f]}if(t==="grid"){if(!c.grid)return;if(c.encode){const{grid:d}=c.encode;c.encode={...d?{grid:d}:{}},xi(c.encode)&&delete c.encode}return{scale:o,orient:s,...c,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Vs(u,0)}}else{if(!r.header&&e.mainExtracted)return;if(a!==void 0){let f=a;c.encode?.labels?.update&&dn(c.encode.labels.update.text)&&(f=ub(a,"datum.label",c.encode.labels.update.text.signal)),Oz(c,"labels","text",{signal:f})}if(c.labelAlign===null&&delete c.labelAlign,c.encode){for(const f of zMe)e.hasAxisPart(f)||delete c.encode[f];xi(c.encode)&&delete c.encode}const d=JJt(l,n);return{scale:o,orient:s,grid:!1,...d?{title:d}:{},...c,...n.aria===!1?{aria:!1}:{},zindex:Vs(u,0)}}}}function a8e(e){const{axes:t}=e.component,n=[];for(const r of L0)if(t[r]){for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const s=r==="x"?"height":"width",o=e.getSizeSignalRef(s).signal;s!==o&&n.push({name:s,update:o})}}return n}function ZJt(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(i=>MS(i,"grid",t)),...r.map(i=>MS(i,"grid",t)),...n.map(i=>MS(i,"main",t)),...r.map(i=>MS(i,"main",t))].filter(i=>i)}function $ye(e,t,n,r){return Object.assign.apply(null,[{},...e.map(i=>{if(i==="axisOrient"){const s=n==="x"?"bottom":"left",o=t[n==="x"?"axisBottom":"axisLeft"]||{},a=t[n==="x"?"axisTop":"axisRight"]||{},l=new Set([...vt(o),...vt(a)]),u={};for(const c of l.values())u[c]={signal:`${r.signal} === "${s}" ? ${df(o[c])} : ${df(a[c])}`};return u}return t[i]})])}function eZt(e,t,n,r){const i=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:pMe(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],s=e==="x"?"axisX":"axisY",o=dn(n)?"axisOrient":`axis${SR(n)}`,a=[...i,...i.map(u=>s+u.substr(4))],l=["axis",o,s];return{vlOnlyAxisConfig:$ye(a,r,e,n),vgAxisConfig:$ye(l,r,e,n),axisConfigStyle:tZt([...l,...a],r)}}function tZt(e,t){const n=[{}];for(const r of e){let i=t[r]?.style;if(i){i=Ut(i);for(const s of i)n.push(t.style[s])}}return Object.assign.apply(null,n)}function mG(e,t,n,r={}){const i=U$e(e,n,t);if(i!==void 0)return{configFrom:"style",configValue:i};for(const s of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(r[s]?.[e]!==void 0)return{configFrom:s,configValue:r[s][e]};return{}}const Mye={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>t.grid??nZt(n,e),gridScale:({model:e,channel:t})=>rZt(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||u8e(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||l8e(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>e.labelFlush??sZt(t.type,n),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>e.labelOverlap??oZt(t.type,n,Tt(t)&&!!t.timeUnit,Tt(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{const s=e==="x"?"width":e==="y"?"height":void 0,o=s?t.getSizeSignalRef(s):void 0;return n.tickCount??lZt({fieldOrDatumDef:r,scaleType:i,size:o,values:n.values})},tickMinStep:uZt,title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=c8e(t,n);if(r!==void 0)return r;const i=t.typedFieldDef(n),s=n==="x"?"x2":"y2",o=t.fieldDef(s);return H$e(i?[Zge(i)]:[],Tt(o)?[Zge(o)]:[])},values:({axis:e,fieldOrDatumDef:t})=>cZt(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>e.zindex??dZt(n,t)};function nZt(e,t){return!Qo(e)&&Tt(t)&&!Li(t?.bin)&&!ha(t?.bin)}function rZt(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function iZt(e,t,n,r,i){const s=t?.labelAngle;if(s!==void 0)return dn(s)?s:zk(s);{const{configValue:o}=mG("labelAngle",r,t?.style,i);return o!==void 0?zk(o):n===ss&&vr([ure,lre],e.type)&&!(Tt(e)&&e.timeUnit)?270:void 0}}function gG(e){return`(((${e.signal} % 360) + 360) % 360)`}function l8e(e,t,n,r){if(e!==void 0)if(n==="x"){if(dn(e)){const i=gG(e),s=dn(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${i} && ${i} < 135) || (225 < ${i} && ${i} < 315) ? "middle" :(${i} <= 45 || 315 <= ${i}) === ${s} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(dn(t)){const i=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${i} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(dn(e)){const i=gG(e),s=dn(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${i} <= 45 || 315 <= ${i} || (135 <= ${i} && ${i} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${i} && ${i} <= 135) === ${s} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(dn(t)){const i=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${i} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function u8e(e,t,n){if(e===void 0)return;const r=n==="x",i=r?0:90,s=r?"bottom":"left";if(dn(e)){const o=gG(e),a=dn(t)?`(${t.signal} === "${s}")`:t===s;return{signal:`(${i?`(${o} + 90)`:o} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${o} && ${o} < ${180+i}) === ${a} ? "left" : "right"`}}if((e+i)%180===0)return r?null:"center";if(dn(t)){const o=i<e&&e<180+i?"===":"!==";return{signal:`${`${t.signal} ${o} "${s}"`} ? "left" : "right"`}}return(i<e&&e<180+i)==(t===s)?"left":"right"}function sZt(e,t){if(t==="x"&&vr(["quantitative","temporal"],e))return!0}function oZt(e,t,n,r){if(n&&!Vt(r)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function aZt(e){return e==="x"?"bottom":"left"}function lZt({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){if(!r&&!Qo(t)&&t!=="log"){if(Tt(e)){if(Li(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&vr(["month","hours","day","quarter"],Xo(e.timeUnit)?.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function uZt({format:e,fieldOrDatumDef:t}){if(e==="d")return 1;if(Tt(t)){const{timeUnit:n}=t;if(n){const r=aMe(n);if(r)return{signal:r}}}}function c8e(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),s=r?r.title:void 0,o=i?i.title:void 0;if(s&&o)return q$e(s,o);if(s)return s;if(o)return o;if(s!==void 0)return s;if(o!==void 0)return o}function cZt(e,t){const n=e.values;if(ut(n))return BMe(t,n);if(dn(n))return n}function dZt(e,t){return e==="rect"&&V6(t)?1:0}class sC extends vi{clone(){return new sC(null,Gn(this.transform))}constructor(t,n){super(t),this.transform=n,this._dependentFields=i8e(this.transform.calculate)}static parseAllForSortIndex(t,n){return n.forEachFieldDef((r,i)=>{if(tw(r)&&IMe(r.sort)){const{field:s,timeUnit:o}=r,a=r.sort,l=a.map((u,c)=>`${cMe({field:s,timeUnit:o,equal:u})} ? ${c} : `).join("")+a.length;t=new sC(t,{calculate:l,as:oC(r,i,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${Er(this.transform)}`}}function oC(e,t,n){return Ft(e,{prefix:t,suffix:"sort_index",...n})}function c8(e,t){return vr(["top","bottom"],t)?"column":vr(["left","right"],t)||e==="row"?"row":"column"}function aC(e,t,n,r){const i=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return Vs((t||{})[e],i[e],n.header[e])}function d8(e,t,n,r){const i={};for(const s of e){const o=aC(s,t||{},n,r);o!==void 0&&(i[s]=o)}return i}const Hre=["row","column"],qre=["header","footer"];function fZt(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:s,titleAngle:o,titleOrient:a}=d8(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),l=c8(t,a),u=zk(o);return{name:`${t}-title`,type:"group",role:`${l}-title`,title:{text:n,...t==="row"?{orient:"left"}:{},style:"guide-title",...f8e(u,l),...d8e(l,u,s),...h8e(r,i,t,VKt,sFe)}}}function d8e(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=u8e(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function f8e(e,t){const n=l8e(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function hZt(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of qre)if(n[i])for(const s of n[i]){const o=mZt(e,t,i,n,s);o!=null&&r.push(o)}return r}function pZt(e,t){const{sort:n}=e;return Um(n)?{field:Ft(n,{expr:"datum"}),order:n.order??"ascending"}:ut(n)?{field:oC(e,t,{expr:"datum"}),order:"ascending"}:{field:Ft(e,{expr:"datum"}),order:n??"ascending"}}function yG(e,t,n){const{format:r,formatType:i,labelAngle:s,labelAnchor:o,labelOrient:a,labelExpr:l}=d8(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),u=yre({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,c=c8(t,a);return{text:{signal:l?ub(ub(l,"datum.label",u),"datum.value",Ft(e,{expr:"parent"})):u},...t==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...f8e(s,c),...d8e(c,s,o),...h8e(n,e,t,HKt,oFe)}}function mZt(e,t,n,r,i){if(i){let s=null;const{facetFieldDef:o}=r,a=e.config?e.config:void 0;if(o&&i.labels){const{labelOrient:d}=d8(["labelOrient"],o.header,a,t);(t==="row"&&!vr(["top","bottom"],d)||t==="column"&&!vr(["left","right"],d))&&(s=yG(o,t,a))}const l=nc(e)&&!PR(e.facet),u=i.axes,c=u?.length>0;if(s||c){const d=t==="row"?"height":"width";return{name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`,...r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:pZt(o,t)}:{},...c&&l?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...s?{title:s}:{},...i.sizeSignal?{encode:{update:{[d]:i.sizeSignal}}}:{},...c?{axes:u}:{}}}}return null}const gZt={column:{start:0,end:1},row:{start:1,end:0}};function yZt(e,t){return gZt[t][e]}function vZt(e,t){const n={};for(const r of Kc){const i=e[r];if(i?.facetFieldDef){const{titleAnchor:s,titleOrient:o}=d8(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),a=c8(r,o),l=yZt(s,a);l!==void 0&&(n[a]=l)}}return xi(n)?void 0:n}function h8e(e,t,n,r,i){const s={};for(const o of r){if(!i[o])continue;const a=aC(o,t?.header,e,n);a!==void 0&&(s[i[o]]=a)}return s}function Wre(e){return[...a3(e,"width"),...a3(e,"height"),...a3(e,"childWidth"),...a3(e,"childHeight")]}function a3(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(!r||r==="merged")return[];const i=e.getSizeSignalRef(t).signal;if(r==="step"){const s=e.getScaleComponent(n);if(s){const o=s.get("type"),a=s.get("range");if(Qo(o)&&Jb(a)){const l=e.scaleName(n);return nc(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[Fye(l,a)]:[Fye(l,a),{name:i,update:p8e(l,s,`domain('${l}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const s=i.endsWith("width"),o=s?"containerSize()[0]":"containerSize()[1]",a=iG(e.config.view,s?"width":"height"),l=`isFinite(${o}) ? ${o} : ${a}`;return[{name:i,init:l,on:[{update:l,events:"window:resize"}]}]}else return[{name:i,value:r}]}function Fye(e,t){const n=`${e}_step`;return dn(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function p8e(e,t,n){const r=t.get("type"),i=t.get("padding"),s=Vs(t.get("paddingOuter"),i);let o=t.get("paddingInner");return o=r==="band"?o!==void 0?o:i:1,`bandspace(${n}, ${df(o)}, ${df(s)}) * ${e}_step`}function m8e(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function g8e(e,t){return vt(e).reduce((n,r)=>({...n,...vE({model:t,channelDef:e[r],vgChannel:r,mainRefFn:i=>Wi(i.value),invalidValueRef:void 0})}),{})}function y8e(e,t){if(nc(t))return e==="theta"?"independent":"shared";if(_E(t))return"shared";if(Zre(t))return Hs(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function Gre(e,t){const n=e.scale[t],r=Hs(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&Ct(LGt(t)),"independent"):e[r][t]||"shared"}const bZt={...GKt,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},v8e=vt(bZt);class wZt extends B0{}const Lye={symbols:xZt,gradient:_Zt,labels:CZt,entries:EZt};function xZt(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:s}){if(s!=="symbol")return;const{markDef:o,encoding:a,config:l,mark:u}=n,c=o.filled&&u!=="trail";let d={...WWt({},n,UYt),...LFe(n,{filled:c})};const f=i.get("symbolOpacity")??l.legend.symbolOpacity,h=i.get("symbolFillColor")??l.legend.symbolFillColor,p=i.get("symbolStrokeColor")??l.legend.symbolStrokeColor,m=f===void 0?b8e(a.opacity)??o.opacity:void 0;if(d.fill){if(r==="fill"||c&&r===Su)delete d.fill;else if(bt(d.fill,"field"))h?delete d.fill:(d.fill=Wi(l.legend.symbolBaseFillColor??"black"),d.fillOpacity=Wi(m??1));else if(ut(d.fill)){const g=vG(a.fill??a.color)??o.fill??(c&&o.color);g&&(d.fill=Wi(g))}}if(d.stroke){if(r==="stroke"||!c&&r===Su)delete d.stroke;else if(bt(d.stroke,"field")||p)delete d.stroke;else if(ut(d.stroke)){const g=Vs(vG(a.stroke||a.color),o.stroke,c?o.color:void 0);g&&(d.stroke={value:g})}}if(r!==F0){const g=Tt(t)&&x8e(n,i,t);g?d.opacity=[{test:g,...Wi(m??1)},Wi(l.legend.unselectedOpacity)]:m&&(d.opacity=Wi(m))}return d={...d,...e},xi(d)?void 0:d}function _Zt(e,{model:t,legendType:n,legendCmpt:r}){if(n!=="gradient")return;const{config:i,markDef:s,encoding:o}=t;let a={};const u=(r.get("gradientOpacity")??i.legend.gradientOpacity)===void 0?b8e(o.opacity)||s.opacity:void 0;return u&&(a.opacity=Wi(u)),a={...a,...e},xi(a)?void 0:a}function CZt(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const s=n.legend(r)||{},o=n.config,a=Tt(t)?x8e(n,i,t):void 0,l=a?[{test:a,value:1},{value:o.legend.unselectedOpacity}]:void 0,{format:u,formatType:c}=s;let d;mb(c)?d=ff({fieldOrDatumDef:t,field:"datum.value",format:u,formatType:c,config:o}):u===void 0&&c===void 0&&o.customFormatTypes&&(t.type==="quantitative"&&o.numberFormatType?d=ff({fieldOrDatumDef:t,field:"datum.value",format:o.numberFormat,formatType:o.numberFormatType,config:o}):t.type==="temporal"&&o.timeFormatType&&Tt(t)&&t.timeUnit===void 0&&(d=ff({fieldOrDatumDef:t,field:"datum.value",format:o.timeFormat,formatType:o.timeFormatType,config:o})));const f={...l?{opacity:l}:{},...d?{text:d}:{},...e};return xi(f)?void 0:f}function EZt(e,{legendCmpt:t}){return t.get("selections")?.length?{...e,fill:{value:"transparent"}}:e}function b8e(e){return w8e(e,(t,n)=>Math.max(t,n.value))}function vG(e){return w8e(e,(t,n)=>Vs(t,n.value))}function w8e(e,t){if(uKt(e))return Ut(e.condition).reduce(t,e.value);if($f(e))return e.value}function x8e(e,t,n){const r=t.get("selections");if(!r?.length)return;const i=Dt(n.field);return r.map(s=>`(!length(data(${Dt(ns(s)+yb)})) || (${s}[${i}] && indexof(${s}[${i}], datum.value) >= 0))`).join(" || ")}const jye={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return kMe(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return AMe(r,t,n)},gradientLength:e=>{const{legend:t,legendConfig:n}=e;return t.gradientLength??n.gradientLength??DZt(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>e.labelOverlap??t.labelOverlap??PZt(n),symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>e.symbolType??TZt(t.type,n,r.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>n_(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(t_(n)&&Gh(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>SZt(t,e)};function SZt(e,t){const n=e.values;if(ut(n))return BMe(t,n);if(dn(n))return n}function TZt(e,t,n,r){if(t!=="shape"){const i=vG(n)??r;if(i)return i}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function kZt(e){const{legend:t}=e;return Vs(t.type,AZt(e))}function AZt({channel:e,timeUnit:t,scaleType:n}){if(t_(e)){if(vr(["quarter","month","day"],t))return"symbol";if(Gh(n))return"gradient"}return"symbol"}function RZt({legendConfig:e,legendType:t,orient:n,legend:r}){return r.direction??e[t?"gradientDirection":"symbolDirection"]??IZt(n,t)}function IZt(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function DZt({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:s,gradientHorizontalMinLength:o,gradientVerticalMaxLength:a,gradientVerticalMinLength:l}=e;if(Gh(i))return n==="horizontal"?r==="top"||r==="bottom"?Bye(t,"width",o,s):o:Bye(t,"height",l,a)}function Bye(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function PZt(e){if(vr(["quantile","threshold","log","symlog"],e))return"greedy"}function _8e(e){const t=ds(e)?OZt(e):FZt(e);return e.component.legends=t,t}function OZt(e){const{encoding:t}=e,n={};for(const r of[Su,...lFe]){const i=Co(t[r]);!i||!e.getScaleComponent(r)||r===Tu&&Tt(i)&&i.type===yE||(n[r]=MZt(e,r))}return n}function NZt(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function $Zt(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!n?.values;case"title":if(t==="title"&&e===r?.title)return!0}return e===(n||{})[t]}function MZt(e,t){let n=e.legend(t);const{markDef:r,encoding:i,config:s}=e,o=s.legend,a=new wZt({},NZt(e,t));MQt(e,t,a);const l=n!==void 0?!n:o.disable;if(a.set("disable",l,n!==void 0),l)return a;n=n||{};const u=e.getScaleComponent(t).get("type"),c=Co(i[t]),d=Tt(c)?Xo(c.timeUnit)?.unit:void 0,f=n.orient||s.legend.orient||"right",h=kZt({legend:n,channel:t,timeUnit:d,scaleType:u}),p=RZt({legend:n,legendType:h,orient:f,legendConfig:o}),m={legend:n,channel:t,model:e,markDef:r,encoding:i,fieldOrDatumDef:c,legendConfig:o,config:s,scaleType:u,orient:f,legendType:h,direction:p};for(const _ of v8e){if(h==="gradient"&&_.startsWith("symbol")||h==="symbol"&&_.startsWith("gradient"))continue;const C=_ in jye?jye[_](m):n[_];if(C!==void 0){const S=$Zt(C,_,n,e.fieldDef(t));(S||s.legend[_]===void 0)&&a.set(_,C,S)}}const g=n?.encoding??{},y=a.get("selections"),v={},w={fieldOrDatumDef:c,model:e,channel:t,legendCmpt:a,legendType:h};for(const _ of["labels","legend","title","symbols","gradient","entries"]){const C=g8e(g[_]??{},e),S=_ in Lye?Lye[_](C,w):C;S!==void 0&&!xi(S)&&(v[_]={...y?.length&&Tt(c)?{name:`${ns(c.field)}_legend_${_}`}:{},...y?.length?{interactive:!!y}:{},update:S})}return xi(v)||a.set("encode",v,!!n?.encoding),a}function FZt(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){_8e(r);for(const i of vt(r.component.legends))n.legend[i]=Gre(e.component.resolve,i),n.legend[i]==="shared"&&(t[i]=C8e(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of vt(t))for(const i of e.children)i.component.legends[r]&&n.legend[r]==="shared"&&delete i.component.legends[r];return t}function C8e(e,t){if(!e)return t.clone();const n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(n.explicit&&r.explicit&&n.value!==r.value)return;let i=!1;for(const s of v8e){const o=Ny(e.getWithExplicit(s),t.getWithExplicit(s),s,"legend",(a,l)=>{switch(s){case"symbolType":return LZt(a,l);case"title":return W$e(a,l);case"type":return i=!0,qu("symbol")}return t8(a,l,s,"legend")});e.setWithExplicit(s,o)}return i&&(e.implicit?.encode?.gradient&&L6(e.implicit,["encode","gradient"]),e.explicit?.encode?.gradient&&L6(e.explicit,["encode","gradient"])),e}function LZt(e,t){return t.value==="circle"?t:e}function jZt(e,t,n,r){var i,s;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(s=e.encode[t]).update??(s.update={}),e.encode[t].update[n]=r}function E8e(e){const t=e.component.legends,n={};for(const i of vt(t)){const s=e.getScaleComponent(i),o=_i(s.get("domains"));if(n[o])for(const a of n[o])C8e(a,t[i])||n[o].push(t[i]);else n[o]=[t[i].clone()]}return Ca(n).flat().map(i=>BZt(i,e.config)).filter(i=>i!==void 0)}function BZt(e,t){const{disable:n,labelExpr:r,selections:i,...s}=e.combine();if(!n){if(t.aria===!1&&s.aria==null&&(s.aria=!1),s.encode?.symbols){const o=s.encode.symbols.update;o.fill&&o.fill.value!=="transparent"&&!o.stroke&&!s.stroke&&(o.stroke={value:"transparent"});for(const a of lFe)s[a]&&delete o[a]}if(s.title||delete s.title,r!==void 0){let o=r;s.encode?.labels?.update&&dn(s.encode.labels.update.text)&&(o=ub(r,"datum.label",s.encode.labels.update.text.signal)),jZt(s,"labels","text",{signal:o})}return s}}function zZt(e){return _E(e)||Zre(e)?UZt(e):S8e(e)}function UZt(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),S8e(e))}function S8e(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(o=>o.signal).join(", ")}]`},s=t.data.reduce((o,a)=>{const l=dn(a)?a.signal:`data('${e.lookupDataSource(a)}')`;return vr(o,l)||o.push(l),o},[]);if(s.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:r,size:i,fit:{signal:s.length>1?`[${s.join(", ")}]`:s[0]},...n}]}else return[{name:r,translate:{signal:"[width / 2, height / 2]"},...n}]}const VZt=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class T8e extends B0{constructor(t,n,r,i){super({...n},{name:t}),this.specifiedProjection=n,this.size=r,this.data=i,this.merged=!1}get isFit(){return!!this.data}}function k8e(e){e.component.projection=ds(e)?HZt(e):GZt(e)}function HZt(e){if(e.hasProjection){const t=pa(e.specifiedProjection),n=!(t&&(t.scale!=null||t.translate!=null)),r=n?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,i=n?qZt(e):void 0,s=new T8e(e.projectionName(!0),{...pa(e.config.projection),...t},r,i);return s.get("type")||s.set("type","equalEarth",!1),s}}function qZt(e){const t=[],{encoding:n}=e;for(const r of[[sh,ih],[md,oh]])(Co(n[r[0]])||Co(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(Tu)&&e.typedFieldDef(Tu).type===yE&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(hs.Main)),t}function WZt(e,t){const n=$ne(VZt,i=>!!(!Kt(e.explicit,i)&&!Kt(t.explicit,i)||Kt(e.explicit,i)&&Kt(t.explicit,i)&&Ju(e.get(i),t.get(i))));if(Ju(e.size,t.size)){if(n)return e;if(Ju(e.explicit,{}))return t;if(Ju(t.explicit,{}))return e}return null}function GZt(e){if(e.children.length===0)return;let t;for(const r of e.children)k8e(r);const n=$ne(e.children,r=>{const i=r.component.projection;if(i)if(t){const s=WZt(t,i);return s&&(t=s),!!s}else return t=i,!0;else return!0});if(t&&n){const r=e.projectionName(!0),i=new T8e(r,t.specifiedProjection,t.size,Gn(t.data));for(const s of e.children){const o=s.component.projection;o&&(o.isFit&&i.data.push(...s.component.projection.data),s.renameProjection(o.get("name"),r),o.merged=!0)}return i}}function YZt(e,t,n,r){if($R(t,n)){const i=ds(e)?e.axis(n)??e.legend(n)??{}:{},s=Ft(t,{expr:"datum"}),o=Ft(t,{expr:"datum",binSuffix:"end"});return{formulaAs:Ft(t,{binSuffix:"range",forAs:!0}),formula:DR(s,o,i.format,i.formatType,r)}}return{}}function A8e(e,t){return`${L$e(e)}_${t}`}function KZt(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function Yre(e,t,n){const r=KF(n,void 0)??{},i=A8e(r,t);return e.getName(`${i}_bins`)}function XZt(e){return"as"in e}function zye(e,t,n){let r,i;XZt(e)?r=Ht(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[Ft(e,{forAs:!0}),Ft(e,{binSuffix:"end",forAs:!0})];const s={...KF(t,void 0)},o=A8e(s,e.field),{signal:a,extentSignal:l}=KZt(n,o);if(LF(s.extent)){const c=s.extent;i=o8e(n,c.param,c),delete s.extent}const u={bin:s,field:e.field,as:[r],...a?{signal:a}:{},...l?{extentSignal:l}:{},...i?{span:i}:{}};return{key:o,binComponent:u}}class ap extends vi{clone(){return new ap(null,Gn(this.bins))}constructor(t,n){super(t),this.bins=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,s,o)=>{if(Bl(s)&&Li(s.bin)){const{key:a,binComponent:l}=zye(s,s.bin,n);i[a]={...l,...i[a],...YZt(n,s,o,n.config)}}return i},{});return xi(r)?null:new ap(t,r)}static makeFromTransform(t,n,r){const{key:i,binComponent:s}=zye(n,n.bin,r);return new ap(t,{[i]:s})}merge(t,n){for(const r of vt(t.bins))r in this.bins?(n(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=Wh([...this.bins[r].as,...t.bins[r].as],Er)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set(Ca(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(Ca(this.bins).map(t=>t.field))}hash(){return`Bin ${Er(this.bins)}`}assemble(){return Ca(this.bins).flatMap(t=>{const n=[],[r,...i]=t.as,{extent:s,...o}=t.bin,a={type:"bin",field:pd(t.field),as:r,signal:t.signal,...LF(s)?{extent:null}:{extent:s},...t.span?{span:{signal:`span(${t.span})`}}:{},...o};!s&&t.extentSignal&&(n.push({type:"extent",field:pd(t.field),signal:t.extentSignal}),a.extent={signal:t.extentSignal}),n.push(a);for(const l of i)for(let u=0;u<2;u++)n.push({type:"formula",expr:Ft({field:r[u]},{expr:"datum"}),as:l[u]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}function QZt(e,t,n,r){const i=ds(r)?r.encoding[Up(t)]:void 0;if(Bl(n)&&ds(r)&&PMe(n,i,r.markDef,r.config)){e.add(Ft(n,{})),e.add(Ft(n,{suffix:"end"}));const{mark:s,markDef:o,config:a}=r,l=Oy({fieldDef:n,markDef:o,config:a});Uk(s)&&l!==.5&&Hs(t)&&(e.add(Ft(n,{suffix:n8})),e.add(Ft(n,{suffix:r8}))),n.bin&&$R(n,t)&&e.add(Ft(n,{binSuffix:"range"}))}else if(R$e(t)){const s=A$e(t);e.add(r.getName(s))}else e.add(Ft(n));return tw(n)&&RYt(n.scale?.range)&&e.add(n.scale.range.field),e}function JZt(e,t){for(const n of vt(t)){const r=t[n];for(const i of vt(r))n in e?e[n][i]=new Set([...e[n][i]??[],...r[i]]):e[n]={[i]:r[i]}}}class xf extends vi{clone(){return new xf(null,new Set(this.dimensions),Gn(this.measures))}constructor(t,n,r){super(t),this.dimensions=n,this.measures=r}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let r=!1;n.forEachFieldDef(o=>{o.aggregate&&(r=!0)});const i={},s=new Set;return!r||(n.forEachFieldDef((o,a)=>{const{aggregate:l,field:u}=o;if(l)if(l==="count")i["*"]??(i["*"]={}),i["*"].count=new Set([Ft(o,{forAs:!0})]);else{if(f0(l)||dv(l)){const c=f0(l)?"argmin":"argmax",d=l[c];i[d]??(i[d]={}),i[d][c]=new Set([Ft({op:c,field:d},{forAs:!0})])}else i[u]??(i[u]={}),i[u][l]=new Set([Ft(o,{forAs:!0})]);Vp(a)&&n.scaleDomain(a)==="unaggregated"&&(i[u]??(i[u]={}),i[u].min=new Set([Ft({field:u,aggregate:"min"},{forAs:!0})]),i[u].max=new Set([Ft({field:u,aggregate:"max"},{forAs:!0})]))}else QZt(s,a,o,n)}),s.size+vt(i).length===0)?null:new xf(t,s,i)}static makeFromTransform(t,n){var r;const i=new Set,s={};for(const o of n.aggregate){const{op:a,field:l,as:u}=o;a&&(a==="count"?(s["*"]??(s["*"]={}),s["*"].count=new Set([u||Ft(o,{forAs:!0})])):(s[l]??(s[l]={}),(r=s[l])[a]??(r[a]=new Set),s[l][a].add(u||Ft(o,{forAs:!0}))))}for(const o of n.groupby??[])i.add(o);return i.size+vt(s).length===0?null:new xf(t,i,s)}merge(t){return w$e(this.dimensions,t.dimensions)?(JZt(this.measures,t.measures),!0):(eYt("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...vt(this.measures)])}producedFields(){const t=new Set;for(const n of vt(this.measures))for(const r of vt(this.measures[n])){const i=this.measures[n][r];i.size===0?t.add(`${r}_${n}`):i.forEach(t.add,t)}return t}hash(){return`Aggregate ${Er({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],r=[];for(const s of vt(this.measures))for(const o of vt(this.measures[s]))for(const a of this.measures[s][o])r.push(a),t.push(o),n.push(s==="*"?null:pd(s));return{type:"aggregate",groupby:[...this.dimensions].map(pd),ops:t,fields:n,as:r}}}class wE extends vi{constructor(t,n,r,i){super(t),this.model=n,this.name=r,this.data=i;for(const s of Kc){const o=n.facet[s];if(o){const{bin:a,sort:l}=o;this[s]={name:n.getName(`${s}_domain`),fields:[Ft(o),...Li(a)?[Ft(o,{binSuffix:"end"})]:[]],...Um(l)?{sortField:l}:ut(l)?{sortIndexField:oC(o,s)}:{}}}}this.childModel=n.child}hash(){let t="Facet";for(const n of Kc)this[n]&&(t+=` ${n.charAt(0)}:${Er(this[n])}`);return t}get fields(){const t=[];for(const n of Kc)this[n]?.fields&&t.push(...this[n].fields);return t}dependentFields(){const t=new Set(this.fields);for(const n of Kc)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of L0){const r=this.childModel.component.scales[n];if(r&&!r.merged){const i=r.get("type"),s=r.get("range");if(Qo(i)&&Jb(s)){const o=f8(this.childModel,n),a=Jre(o);a?t[n]=a:Ct(Kne(n))}}}return t}assembleRowColumnHeaderData(t,n,r){const i={row:"y",column:"x",facet:void 0}[t],s=[],o=[],a=[];i&&r&&r[i]&&(n?(s.push(`distinct_${r[i]}`),o.push("max")):(s.push(r[i]),o.push("distinct")),a.push(`distinct_${r[i]}`));const{sortField:l,sortIndexField:u}=this[t];if(l){const{op:c=WF,field:d}=l;s.push(d),o.push(c),a.push(Ft(l,{forAs:!0}))}else u&&(s.push(u),o.push("max"),a.push(u));return{name:this[t].name,source:n??this.data,transform:[{type:"aggregate",groupby:this[t].fields,...s.length?{fields:s,ops:o,as:a}:{}}]}}assembleFacetHeaderData(t){const{columns:n}=this.model.layout,{layoutHeaders:r}=this.model.component,i=[],s={};for(const l of Hre){for(const u of qre){const c=(r[l]&&r[l][u])??[];for(const d of c)if(d.axes?.length>0){s[l]=!0;break}}if(s[l]){const u=`length(data("${this.facet.name}"))`,c=l==="row"?n?{signal:`ceil(${u} / ${n})`}:1:n?{signal:`min(${u}, ${n})`}:{signal:u};i.push({name:`${this.facet.name}_${l}`,transform:[{type:"sequence",start:0,stop:c}]})}}const{row:o,column:a}=s;return(o||a)&&i.unshift(this.assembleRowColumnHeaderData("facet",null,t)),i}assemble(){const t=[];let n=null;const r=this.getChildIndependentFieldsWithStep(),{column:i,row:s,facet:o}=this;if(i&&s&&(r.x||r.y)){n=`cross_${this.column.name}_${this.row.name}`;const a=[].concat(r.x??[],r.y??[]),l=a.map(()=>"distinct");t.push({name:n,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:a,ops:l}]})}for(const a of[zm,Bm])this[a]&&t.push(this.assembleRowColumnHeaderData(a,n,r));if(o){const a=this.assembleFacetHeaderData(r);a&&t.push(...a)}return t}}function Uye(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function ZZt(e,t){const n=Lne(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const r=Uye(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.startsWith("utc:")){const r=Uye(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return Ct(uGt(t)),null}function een(e){const t={};return QO(e.filter,n=>{if(uMe(n)){let r=null;tre(n)?r=Xu(n.equal):rre(n)?r=Xu(n.lte):nre(n)?r=Xu(n.lt):ire(n)?r=Xu(n.gt):sre(n)?r=Xu(n.gte):ore(n)?r=n.range[0]:are(n)&&(r=(n.oneOf??n.in)[0]),r&&(Zb(r)?t[n.field]="date":Jr(r)?t[n.field]="number":Ht(r)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function ten(e){const t={};function n(r){nC(r)?t[r.field]="date":r.type==="quantitative"&&FWt(r.aggregate)?t[r.field]="number":X_(r.field)>1?r.field in t||(t[r.field]="flatten"):tw(r)&&Um(r.sort)&&X_(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((ds(e)||nc(e))&&e.forEachFieldDef((r,i)=>{if(Bl(r))n(r);else{const s=Xb(i),o=e.fieldDef(s);n({...r,type:o.type})}}),ds(e)){const{mark:r,markDef:i,encoding:s}=e;if(fv(r)&&!e.encoding.order){const o=i.orient==="horizontal"?"y":"x",a=s[o];Tt(a)&&a.type==="quantitative"&&!(a.field in t)&&(t[a.field]="number")}}return t}function nen(e){const t={};if(ds(e)&&e.component.selection)for(const n of vt(e.component.selection)){const r=e.component.selection[n];for(const i of r.project.items)!i.channel&&X_(i.field)>1&&(t[i.field]="flatten")}return t}class Ja extends vi{clone(){return new Ja(null,Gn(this._parse))}constructor(t,n){super(t),this._parse=n}hash(){return`Parse ${Er(this._parse)}`}static makeExplicit(t,n,r){let i={};const s=n.data;return!ay(s)&&s?.format?.parse&&(i=s.format.parse),this.makeWithAncestors(t,i,{},r)}static makeWithAncestors(t,n,r,i){for(const a of vt(r)){const l=i.getWithExplicit(a);l.value!==void 0&&(l.explicit||l.value===r[a]||l.value==="derived"||r[a]==="flatten"?delete r[a]:Ct(qge(a,r[a],l.value)))}for(const a of vt(n)){const l=i.get(a);l!==void 0&&(l===n[a]?delete n[a]:Ct(qge(a,n[a],l)))}const s=new B0(n,r);i.copyAll(s);const o={};for(const a of vt(s.combine())){const l=s.get(a);l!==null&&(o[a]=l)}return vt(o).length===0||i.parseNothing?null:new Ja(t,o)}get parse(){return this._parse}merge(t){this._parse={...this._parse,...t.parse},t.remove()}assembleFormatParse(){const t={};for(const n of vt(this._parse)){const r=this._parse[n];X_(n)===1&&(t[n]=r)}return t}producedFields(){return new Set(vt(this._parse))}dependentFields(){return new Set(vt(this._parse))}assembleTransforms(t=!1){return vt(this._parse).filter(n=>t?X_(n)>1:!0).map(n=>{const r=ZZt(n,this._parse[n]);return r?{type:"formula",expr:r,as:mE(n)}:null}).filter(n=>n!==null)}}class $y extends vi{clone(){return new $y(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([Ff])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:Ff}}}class zR extends vi{clone(){return new zR(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${Er(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class UR extends vi{clone(){return new UR(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${Er(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class wb extends vi{constructor(t){super(null),t??(t={name:"source"});let n;if(ay(t)||(n=t.format?{...yu(t.format,["parse"])}:{}),Vk(t))this._data={values:t.values};else if(rC(t)){if(this._data={url:t.url},!n.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];vr(["json","csv","tsv","dsv","topojson"],r)||(r="json"),n.type=r}}else TFe(t)?this._data={values:[{type:"Sphere"}]}:(EFe(t)||ay(t))&&(this._data={});this._generator=ay(t),t.name&&(this._name=t.name),n&&!xi(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}var Vye=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},ren=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},FS;function Kre(e){return e instanceof wb||e instanceof zR||e instanceof UR}class Xre{constructor(){FS.set(this,void 0),Vye(this,FS,!1,"f")}setModified(){Vye(this,FS,!0,"f")}get modifiedFlag(){return ren(this,FS,"f")}}FS=new WeakMap;class rw extends Xre{getNodeDepths(t,n,r){r.set(t,n);for(const i of t.children)this.getNodeDepths(i,n+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((i,s)=>s[1]-i[1]);for(const i of r)this.run(i[0]);return this.modifiedFlag}}class Qre extends Xre{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class ien extends Qre{mergeNodes(t,n){const r=n.shift();for(const i of n)t.removeChild(i),i.parent=r,i.remove()}run(t){const n=t.children.map(i=>i.hash()),r={};for(let i=0;i<n.length;i++)r[n[i]]===void 0?r[n[i]]=[t.children[i]]:r[n[i]].push(t.children[i]);for(const i of vt(r))r[i].length>1&&(this.setModified(),this.mergeNodes(t,r[i]))}}class sen extends Qre{constructor(t){super(),this.requiresSelectionId=t&&Bre(t)}run(t){t instanceof $y&&(this.requiresSelectionId&&(Kre(t.parent)||t.parent instanceof xf||t.parent instanceof Ja)||(this.setModified(),t.remove()))}}class oen extends Xre{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let r=new Set;t instanceof sp&&(r=t.producedFields(),Mne(r,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const i of t.children)this.run(i,new Set([...n,...r]))}}class aen extends Qre{constructor(){super()}run(t){t instanceof vu&&!t.isRequired()&&(this.setModified(),t.remove())}}class len extends rw{run(t){if(!Kre(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof Ja)if(t instanceof Ja)this.setModified(),t.merge(n);else{if(Fne(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class uen extends rw{run(t){const n=[...t.children],r=t.children.filter(i=>i instanceof Ja);if(t.numChildren()>1&&r.length>=1){const i={},s=new Set;for(const o of r){const a=o.parse;for(const l of vt(a))l in i?i[l]!==a[l]&&s.add(l):i[l]=a[l]}for(const o of s)delete i[o];if(!xi(i)){this.setModified();const o=new Ja(t,i);for(const a of n){if(a instanceof Ja)for(const l of vt(i))delete a.parse[l];t.removeChild(a),a.parent=o,a instanceof Ja&&vt(a.parse).length===0&&a.remove()}}}}}class cen extends rw{run(t){t instanceof vu||t.numChildren()>0||t instanceof wE||t instanceof wb||(this.setModified(),t.remove())}}class den extends rw{run(t){const n=t.children.filter(i=>i instanceof sp),r=n.pop();for(const i of n)this.setModified(),r.merge(i)}}class fen extends rw{run(t){const n=t.children.filter(i=>i instanceof xf),r={};for(const i of n){const s=Er(i.groupBy);s in r||(r[s]=[]),r[s].push(i)}for(const i of vt(r)){const s=r[i];if(s.length>1){const o=s.pop();for(const a of s)o.merge(a)&&(t.removeChild(a),a.parent=o,a.remove(),this.setModified())}}}}class hen extends rw{constructor(t){super(),this.model=t}run(t){const n=!(Kre(t)||t instanceof bE||t instanceof Ja||t instanceof $y),r=[],i=[];for(const s of t.children)s instanceof ap&&(n&&!Fne(t.producedFields(),s.dependentFields())?r.push(s):i.push(s));if(r.length>0){const s=r.pop();for(const o of r)s.merge(o,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof ap?t.merge(s,this.model.renameSignal.bind(this.model)):s.swapWithParent()}if(i.length>1){const s=i.pop();for(const o of i)s.merge(o,this.model.renameSignal.bind(this.model));this.setModified()}}}class pen extends rw{run(t){const n=[...t.children];if(!K_(n,o=>o instanceof vu)||t.numChildren()<=1)return;const i=[];let s;for(const o of n)if(o instanceof vu){let a=o;for(;a.numChildren()===1;){const[l]=a.children;if(l instanceof vu)a=l;else break}i.push(...a.children),s?(t.removeChild(o),o.parent=s.parent,s.parent.removeChild(s),s.parent=a,this.setModified()):s=a}else i.push(o);if(i.length){this.setModified();for(const o of i)o.parent.removeChild(o),o.parent=s}}}class iw extends vi{clone(){return new iw(null,Gn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Wh(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){return t.as??Ft(t)}hash(){return`JoinAggregateTransform ${Er(this.transform)}`}assemble(){const t=[],n=[],r=[];for(const s of this.transform.joinaggregate)n.push(s.op),r.push(this.getDefaultName(s)),t.push(s.field===void 0?null:s.field);const i=this.transform.groupby;return{type:"joinaggregate",as:r,ops:n,fields:t,...i!==void 0?{groupby:i}:{}}}}class lC extends vi{clone(){return new lC(null,{...this.filter})}constructor(t,n){super(t),this.filter=n}static make(t,n,r){const{config:i,markDef:s}=n,{marks:o,scales:a}=r;if(o==="include-invalid-values"&&a==="include-invalid-values")return null;const l=n.reduceFieldDef((u,c,d)=>{const f=Vp(d)&&n.getScaleComponent(d);if(f){const h=f.get("type"),{aggregate:p}=c,m=pre({scaleChannel:d,markDef:s,config:i,scaleType:h,isCountAggregate:FF(p)});m!=="show"&&m!=="always-valid"&&(u[c.field]=c)}return u},{});return vt(l).length?new lC(t,l):null}dependentFields(){return new Set(vt(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${Er(this.filter)}`}assemble(){const t=vt(this.filter).reduce((n,r)=>{const i=this.filter[r],s=Ft(i,{expr:"datum"});return i!==null&&(i.type==="temporal"?n.push(`(isDate(${s}) || (${bG(s)}))`):i.type==="quantitative"&&n.push(bG(s))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}function bG(e){return`isValid(${e}) && isFinite(+${e})`}function men(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,i=Ft(r);return i&&t.push(i),t},[])}function gen(e){return ut(e)&&e.every(t=>Ht(t))&&e.length>1}class Hm extends vi{clone(){return new Hm(null,Gn(this._stack))}constructor(t,n){super(t),this._stack=n}static makeFromTransform(t,n){const{stack:r,groupby:i,as:s,offset:o="zero"}=n,a=[],l=[];if(n.sort!==void 0)for(const d of n.sort)a.push(d.field),l.push(Vs(d.order,"ascending"));const u={field:a,order:l};let c;return gen(s)?c=s:Ht(s)?c=[s,`${s}_end`]:c=[`${n.stack}_start`,`${n.stack}_end`],new Hm(t,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:o,sort:u,facetby:[],as:c})}static makeFromEncoding(t,n){const r=n.stack,{encoding:i}=n;if(!r)return null;const{groupbyChannels:s,fieldChannel:o,offset:a,impute:l}=r,u=s.map(h=>{const p=i[h];return Mf(p)}).filter(h=>!!h),c=men(n),d=n.encoding.order;let f;if(ut(d)||Tt(d))f=V$e(d);else{const h=OMe(d)?d.sort:o==="y"?"descending":"ascending";f=c.reduce((p,m)=>(p.field.includes(m)||(p.field.push(m),p.order.push(h)),p),{field:[],order:[]})}return new Hm(t,{dimensionFieldDefs:u,stackField:n.vgField(o),facetby:[],stackby:c,sort:f,offset:a,impute:l,as:[n.vgField(o,{suffix:"start",forAs:!0}),n.vgField(o,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${Er(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:n,groupby:r}=this._stack;return t.length>0?t.map(i=>i.bin?n?[Ft(i,{binSuffix:"mid"})]:[Ft(i,{}),Ft(i,{binSuffix:"end"})]:[Ft(i)]).flat():r??[]}assemble(){const t=[],{facetby:n,dimensionFieldDefs:r,stackField:i,stackby:s,sort:o,offset:a,impute:l,as:u}=this._stack;if(l)for(const c of r){const{bandPosition:d=.5,bin:f}=c;if(f){const h=Ft(c,{expr:"datum"}),p=Ft(c,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${bG(h)} ? ${d}*${h}+${1-d}*${p} : ${h}`,as:Ft(c,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:i,groupby:[...s,...n],key:Ft(c,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:i,sort:o,as:u,offset:a}),t}}class xE extends vi{clone(){return new xE(null,Gn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Wh(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return(this.transform.groupby??[]).forEach(t.add,t),(this.transform.sort??[]).forEach(n=>t.add(n.field)),this.transform.window.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){return t.as??Ft(t)}hash(){return`WindowTransform ${Er(this.transform)}`}assemble(){const t=[],n=[],r=[],i=[];for(const d of this.transform.window)n.push(d.op),r.push(this.getDefaultName(d)),i.push(d.param===void 0?null:d.param),t.push(d.field===void 0?null:d.field);const s=this.transform.frame,o=this.transform.groupby;if(s&&s[0]===null&&s[1]===null&&n.every(d=>Gne(d)))return{type:"joinaggregate",as:r,ops:n,fields:t,...o!==void 0?{groupby:o}:{}};const a=[],l=[];if(this.transform.sort!==void 0)for(const d of this.transform.sort)a.push(d.field),l.push(d.order??"ascending");const u={field:a,order:l},c=this.transform.ignorePeers;return{type:"window",params:i,as:r,ops:n,fields:t,sort:u,...c!==void 0?{ignorePeers:c}:{},...o!==void 0?{groupby:o}:{},...s!==void 0?{frame:s}:{}}}}function yen(e){function t(n){if(!(n instanceof wE)){const r=n.clone();if(r instanceof vu){const i=xG+r.getSource();r.setSource(i),e.model.component.data.outputNodes[i]=r}else(r instanceof xf||r instanceof Hm||r instanceof xE||r instanceof iw)&&r.addDimensions(e.fields);for(const i of n.children.flatMap(t))i.parent=r;return[r]}return n.children.flatMap(t)}return t}function wG(e){if(e instanceof wE)if(e.numChildren()===1&&!(e.children[0]instanceof vu)){const t=e.children[0];(t instanceof xf||t instanceof Hm||t instanceof xE||t instanceof iw)&&t.addDimensions(e.fields),t.swapWithParent(),wG(e)}else{const t=e.model.component.data.main;R8e(t);const n=yen(e),r=e.children.map(n).flat();for(const i of r)i.parent=t}else e.children.map(wG)}function R8e(e){if(e instanceof vu&&e.type===hs.Main&&e.numChildren()===1){const t=e.children[0];t instanceof wE||(t.swapWithParent(),R8e(e))}}const xG="scale_",l3=5;function _G(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!_G(t.children))return!1}return!0}function jd(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function Hye(e,t,n){let r=e.sources,i=!1;return i=jd(new aen,r)||i,i=jd(new sen(t),r)||i,r=r.filter(s=>s.numChildren()>0),i=jd(new cen,r)||i,r=r.filter(s=>s.numChildren()>0),n||(i=jd(new len,r)||i,i=jd(new hen(t),r)||i,i=jd(new oen,r)||i,i=jd(new uen,r)||i,i=jd(new fen,r)||i,i=jd(new den,r)||i,i=jd(new ien,r)||i,i=jd(new pen,r)||i),e.sources=r,i}function ven(e,t){_G(e.sources);let n=0,r=0;for(let i=0;i<l3&&Hye(e,t,!0);i++)n++;e.sources.map(wG);for(let i=0;i<l3&&Hye(e,t,!1);i++)r++;_G(e.sources),Math.max(n,r)===l3&&Ct(`Maximum optimization runs(${l3}) reached.`)}class zo{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new zo(()=>t(n))}}function I8e(e){ds(e)?ben(e):wen(e)}function ben(e){const t=e.component.scales;for(const n of vt(t)){const r=_en(e,n);if(t[n].setWithExplicit("domains",r),Een(e,n),e.component.data.isFaceted){let s=e;for(;!nc(s)&&s.parent;)s=s.parent;if(s.component.resolve.scale[n]==="shared")for(const a of r.value)Im(a)&&(a.data=xG+a.data.replace(xG,""))}}}function wen(e){for(const n of e.children)I8e(n);const t=e.component.scales;for(const n of vt(t)){let r,i=null;for(const s of e.children){const o=s.component.scales[n];if(o){r===void 0?r=o.getWithExplicit("domains"):r=Ny(r,o.getWithExplicit("domains"),"domains","scale",CG);const a=o.get("selectionExtent");i&&a&&i.param!==a.param&&Ct(nGt),i=a}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}function xen(e,t,n,r){if(e==="unaggregated"){const{valid:i,reason:s}=qye(t,n);if(!i){Ct(s);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:i}=qye(t,n);if(i)return"unaggregated"}return e}function _en(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=xen(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:i}),t==="x"&&Co(r.x2)?Co(r.x)?Ny(bg(n,i,e,"x"),bg(n,i,e,"x2"),"domain","scale",CG):bg(n,i,e,"x2"):t==="y"&&Co(r.y2)?Co(r.y)?Ny(bg(n,i,e,"y"),bg(n,i,e,"y2"),"domain","scale",CG):bg(n,i,e,"y2"):bg(n,i,e,t)}function Cen(e,t,n){return e.map(r=>({signal:`{data: ${XF(r,{timeUnit:n,type:t})}}`}))}function Nz(e,t,n){const r=Xo(n)?.unit;return t==="temporal"||r?Cen(e,t,r):[e]}function bg(e,t,n,r){const{encoding:i,markDef:s,mark:o,config:a,stack:l}=n,u=Co(i[r]),{type:c}=u,d=u.timeUnit,f=oQt({invalid:wp("invalid",s,a),isPath:fv(o)});if(AYt(t)){const m=bg(e,void 0,n,r),g=Nz(t.unionWith,c,d);return Oh([...g,...m.value])}else{if(dn(t))return Oh([t]);if(t&&t!=="unaggregated"&&!gMe(t))return Oh(Nz(t,c,d))}if(l&&r===l.fieldChannel){if(l.offset==="normalize")return qu([[0,1]]);const m=n.requestDataName(f);return qu([{data:m,field:n.vgField(r,{suffix:"start"})},{data:m,field:n.vgField(r,{suffix:"end"})}])}const h=Vp(r)&&Tt(u)?Sen(n,r,e):void 0;if(Hp(u)){const m=Nz([u.datum],c,d);return qu(m)}const p=u;if(t==="unaggregated"){const{field:m}=u;return qu([{data:n.requestDataName(f),field:Ft({field:m,aggregate:"min"})},{data:n.requestDataName(f),field:Ft({field:m,aggregate:"max"})}])}else if(Li(p.bin)){if(Qo(e))return qu(e==="bin-ordinal"?[]:[{data:Bk(h)?n.requestDataName(f):n.requestDataName(hs.Raw),field:n.vgField(r,$R(p,r)?{binSuffix:"range"}:{}),sort:h===!0||!Vt(h)?{field:n.vgField(r,{}),op:"min"}:h}]);{const{bin:m}=p;if(Li(m)){const g=Yre(n,p.field,m);return qu([new zo(()=>{const y=n.getSignalName(g);return`[${y}.start, ${y}.stop]`})])}else return qu([{data:n.requestDataName(f),field:n.vgField(r,{})}])}}else if(p.timeUnit&&vr(["time","utc"],e)){const m=i[Up(r)];if(PMe(p,m,s,a)){const g=n.requestDataName(f),y=Oy({fieldDef:p,fieldDef2:m,markDef:s,config:a}),v=Uk(o)&&y!==.5&&Hs(r);return qu([{data:g,field:n.vgField(r,v?{suffix:n8}:{})},{data:g,field:n.vgField(r,{suffix:v?r8:"end"})}])}}return qu(h?[{data:Bk(h)?n.requestDataName(f):n.requestDataName(hs.Raw),field:n.vgField(r),sort:h}]:[{data:n.requestDataName(f),field:n.vgField(r)}])}function $z(e,t){const{op:n,field:r,order:i}=e;return{op:n??(t?"sum":WF),...r?{field:pd(r)}:{},...i?{order:i}:{}}}function Een(e,t){const n=e.component.scales[t],r=e.specifiedScales[t].domain,i=e.fieldDef(t)?.bin,s=gMe(r)?r:void 0,o=Qb(i)&&LF(i.extent)?i.extent:void 0;(s||o)&&n.set("selectionExtent",s??o,!0)}function Sen(e,t,n){if(!Qo(n))return;const r=e.fieldDef(t),i=r.sort;if(IMe(i))return{op:"min",field:oC(r,t),order:"ascending"};const{stack:s}=e,o=s?new Set([...s.groupbyFields,...s.stackBy.map(a=>a.fieldDef.field)]):void 0;if(Um(i)){const a=s&&!o.has(i.field);return $z(i,a)}else if(oKt(i)){const{encoding:a,order:l}=i,u=e.fieldDef(a),{aggregate:c,field:d}=u,f=s&&!o.has(d);if(f0(c)||dv(c))return $z({field:Ft(u),order:l},f);if(Gne(c)||!c)return $z({op:c,field:d,order:l},f)}else{if(i==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(vr(["ascending",void 0],i))return!0}}function qye(e,t){const{aggregate:n,type:r}=e;return n?Ht(n)&&!jWt.has(n)?{valid:!1,reason:DGt(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:PGt(e)}:{valid:!0}:{valid:!1,reason:IGt(e)}}function CG(e,t,n,r){return e.explicit&&t.explicit&&Ct(FGt(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function Ten(e){const t=Wh(e.map(o=>{if(Im(o)){const{sort:a,...l}=o;return l}return o}),Er),n=Wh(e.map(o=>{if(Im(o)){const a=o.sort;return a!==void 0&&!Bk(a)&&("op"in a&&a.op==="count"&&delete a.field,a.order==="ascending"&&delete a.order),a}}).filter(o=>o!==void 0),Er);if(t.length===0)return;if(t.length===1){const o=e[0];if(Im(o)&&n.length>0){let a=n[0];if(n.length>1){Ct(Gge);const l=n.filter(u=>Vt(u)&&"op"in u&&u.op!=="min");n.every(u=>Vt(u)&&"op"in u)&&l.length===1?a=l[0]:a=!0}else if(Vt(a)&&"field"in a){const l=a.field;o.field===l&&(a=a.order?{order:a.order}:!0)}return{...o,sort:a}}return o}const r=Wh(n.map(o=>Bk(o)||!("op"in o)||Ht(o.op)&&Kt($Wt,o.op)?o:(Ct(jGt(o)),!0)),Er);let i;r.length===1?i=r[0]:r.length>1&&(Ct(Gge),i=!0);const s=Wh(e.map(o=>Im(o)?o.data:null),o=>o);return s.length===1&&s[0]!==null?{data:s[0],fields:t.map(a=>a.field),...i?{sort:i}:{}}:{fields:t,...i?{sort:i}:{}}}function Jre(e){if(Im(e)&&Ht(e.field))return e.field;if(BWt(e)){let t;for(const n of e.fields)if(Im(n)&&Ht(n.field)){if(!t)t=n.field;else if(t!==n.field)return Ct(BGt),t}return Ct(zGt),t}else if(zWt(e)){Ct(UGt);const t=e.fields[0];return Ht(t)?t:void 0}}function f8(e,t){const r=e.component.scales[t].get("domains").map(i=>(Im(i)&&(i.data=e.lookupDataSource(i.data)),i));return Ten(r)}function D8e(e){return _E(e)||Zre(e)?e.children.reduce((t,n)=>t.concat(D8e(n)),Wye(e)):Wye(e)}function Wye(e){return vt(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:s,type:o,selectionExtent:a,domains:l,range:u,reverse:c,...d}=i,f=ken(i.range,s,n,e),h=f8(e,n),p=a?yQt(e,a,r,h):null;return t.push({name:s,type:o,...h?{domain:h}:{},...p?{domainRaw:p}:{},range:f,...c!==void 0?{reverse:c}:{},...d}),t},[])}function ken(e,t,n,r){if(Hs(n)){if(Jb(e))return{step:{signal:`${t}_step`}}}else if(Vt(e)&&Im(e))return{...e,data:r.lookupDataSource(e.data)};return e}class P8e extends B0{constructor(t,n){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",n)}domainHasZero(){const t=this.get("type");if(vr([ma.LOG,ma.TIME,ma.UTC],t))return"definitely-not";const n=this.get("zero");if(n===!0||n===void 0&&vr([ma.LINEAR,ma.SQRT,ma.POW],t))return"definitely";const r=this.get("domains");if(r.length>0){let i=!1,s=!1,o=!1;for(const a of r){if(ut(a)){const l=a[0],u=a[a.length-1];if(Jr(l)&&Jr(u))if(l<=0&&u>=0){i=!0;continue}else{s=!0;continue}}o=!0}if(i)return"definitely";if(s&&!o)return"definitely-not"}return"maybe"}}const Aen=["range","scheme"];function Ren(e){const t=e.component.scales;for(const n of Wne){const r=t[n];if(!r)continue;const i=Ien(n,e);r.setWithExplicit("range",i)}}function Gye(e,t){const n=e.fieldDef(t);if(n?.bin){const{bin:r,field:i}=n,s=ku(t),o=e.getName(s);if(Vt(r)&&r.binned&&r.step!==void 0)return new zo(()=>{const a=e.scaleName(t),l=`(domain("${a}")[1] - domain("${a}")[0]) / ${r.step}`;return`${e.getSignalName(o)} / (${l})`});if(Li(r)){const a=Yre(e,i,r);return new zo(()=>{const l=e.getSignalName(a),u=`(${l}.stop - ${l}.start) / ${l}.step`;return`${e.getSignalName(o)} / (${u})`})}}}function Ien(e,t){const n=t.specifiedScales[e],{size:r}=t,s=t.getScaleComponent(e).get("type");for(const d of Aen)if(n[d]!==void 0){const f=tG(s,d),h=yMe(e,d);if(!f)Ct(X$e(s,d,e));else if(h)Ct(h);else switch(d){case"range":{const p=n.range;if(ut(p)){if(Hs(e))return Oh(p.map(m=>{if(m==="width"||m==="height"){const g=t.getName(m),y=t.getSignalName.bind(t);return zo.fromName(y,g)}return m}))}else if(Vt(p))return Oh({data:t.requestDataName(hs.Main),field:p.field,sort:{op:"min",field:t.vgField(e)}});return Oh(p)}case"scheme":return Oh(Den(n[d]))}}const o=e===ss||e==="xOffset"?"width":"height",a=r[o];if(_p(a)){if(Hs(e))if(Qo(s)){const d=N8e(a,t,e);if(d)return Oh({step:d})}else Ct(Q$e(o));else if(AR(e)){const d=e===sv?"x":"y";if(t.getScaleComponent(d).get("type")==="band"){const p=$8e(a,s);if(p)return Oh(p)}}}const{rangeMin:l,rangeMax:u}=n,c=Pen(e,t);return(l!==void 0||u!==void 0)&&tG(s,"rangeMin")&&ut(c)&&c.length===2?Oh([l??c[0],u??c[1]]):qu(c)}function Den(e){return kYt(e)?{scheme:e.name,...yu(e,["name"])}:{scheme:e}}function O8e(e,t,n,{center:r}={}){const i=ku(e),s=t.getName(i),o=t.getSignalName.bind(t);return e===ea&&Nf(n)?r?[zo.fromName(a=>`${o(a)}/2`,s),zo.fromName(a=>`-${o(a)}/2`,s)]:[zo.fromName(o,s),0]:r?[zo.fromName(a=>`-${o(a)}/2`,s),zo.fromName(a=>`${o(a)}/2`,s)]:[0,zo.fromName(o,s)]}function Pen(e,t){const{size:n,config:r,mark:i,encoding:s}=t,{type:o}=Co(s[e]),l=t.getScaleComponent(e).get("type"),{domain:u,domainMid:c}=t.specifiedScales[e];switch(e){case ss:case ea:{if(vr(["point","band"],l)){const d=M8e(e,n,r.view);if(_p(d))return{step:N8e(d,t,e)}}return O8e(e,t,l)}case sv:case gE:return Oen(e,t,l);case M0:{const d=Men(i,r),f=Fen(i,n,t,r);return Z_(l)?$en(d,f,Nen(l,r,u,e)):[d,f]}case kd:return[0,Math.PI*2];case Kb:return[0,360];case rh:return[0,new zo(()=>{const d=t.getSignalName(nc(t.parent)?"child_width":"width"),f=t.getSignalName(nc(t.parent)?"child_height":"height");return`min(${d},${f})/2`})];case ov:return{step:1e3/r.scale.framesPerSecond};case uv:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case cv:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case Tu:return"symbol";case Su:case Bp:case zp:return l==="ordinal"?o==="nominal"?"category":"ordinal":c!==void 0?"diverging":i==="rect"||i==="geoshape"?"heatmap":"ramp";case F0:case av:case lv:return[r.scale.minOpacity,r.scale.maxOpacity]}}function N8e(e,t,n){const{encoding:r}=t,i=t.getScaleComponent(n),s=Une(n),o=r[s];if(cFe({step:e,offsetIsDiscrete:Xn(o)&&dMe(o.type)})==="offset"&&HMe(r,s)){const l=t.getScaleComponent(s);let c=`domain('${t.scaleName(s)}').length`;if(l.get("type")==="band"){const f=l.get("paddingInner")??l.get("padding")??0,h=l.get("paddingOuter")??l.get("padding")??0;c=`bandspace(${c}, ${f}, ${h})`}const d=i.get("paddingInner")??i.get("padding");return{signal:`${e.step} * ${c} / (1-${qWt(d)})`}}else return e.step}function $8e(e,t){if(cFe({step:e,offsetIsDiscrete:Qo(t)})==="offset")return{step:e.step}}function Oen(e,t,n){const r=e===sv?"x":"y",i=t.getScaleComponent(r);if(!i)return O8e(r,t,n,{center:!0});const s=i.get("type"),o=t.scaleName(r),{markDef:a,config:l}=t;if(s==="band"){const u=M8e(r,t.size,t.config.view);if(_p(u)){const c=$8e(u,n);if(c)return c}return[0,{signal:`bandwidth('${o}')`}]}else{const u=t.encoding[r];if(Tt(u)&&u.timeUnit){const c=aMe(u.timeUnit,p=>`scale('${o}', ${p})`),d=t.config.scale.bandWithNestedOffsetPaddingInner,f=Oy({fieldDef:u,markDef:a,config:l})-.5,h=f!==0?` + ${f}`:"";if(d){const p=dn(d)?`${d.signal}/2`+h:`${d/2+f}`,m=dn(d)?`(1 - ${d.signal}/2)`+h:`${1-d/2+f}`;return[{signal:`${p} * (${c})`},{signal:`${m} * (${c})`}]}return[0,{signal:c}]}return v$e(`Cannot use ${e} scale if ${r} scale is not discrete.`)}}function M8e(e,t,n){const r=e===ss?"width":"height",i=t[r];return i||G6(n,r)}function Nen(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&ut(n)?n.length+1:(Ct(QGt(r)),3)}}function $en(e,t,n){const r=()=>{const i=df(t),s=df(e),o=`(${i} - ${s}) / (${n} - 1)`;return`sequence(${s}, ${i} + ${o}, ${o})`};return dn(t)?new zo(r):{signal:r()}}function Men(e,t){switch(e){case"bar":case"tick":return t.scale.minBandSize;case"line":case"trail":case"rule":return t.scale.minStrokeWidth;case"text":return t.scale.minFontSize;case"point":case"square":case"circle":return t.scale.minSize}throw new Error(jF("size",e))}const Yye=.95;function Fen(e,t,n,r){const i={x:Gye(n,"x"),y:Gye(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const s=Kye(t,i,r.view);return Jr(s)?s-1:new zo(()=>`${s.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const s=Kye(t,i,r.view);return Jr(s)?Math.pow(Yye*s,2):new zo(()=>`pow(${Yye} * ${s.signal}, 2)`)}}throw new Error(jF("size",e))}function Kye(e,t,n){const r=_p(e.width)?e.width.step:sG(n,"width"),i=_p(e.height)?e.height.step:sG(n,"height");return t.x||t.y?new zo(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function F8e(e,t){ds(e)?Len(e,t):j8e(e,t)}function Len(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:s,specifiedScales:o}=e;for(const a of vt(n)){const l=o[a],u=n[a],c=e.getScaleComponent(a),d=Co(i[a]),f=l[t],h=c.get("type"),p=c.get("padding"),m=c.get("paddingInner"),g=tG(h,t),y=yMe(a,t);if(f!==void 0&&(g?y&&Ct(y):Ct(X$e(h,t,a))),g&&y===void 0)if(f!==void 0){const v=d.timeUnit,w=d.type;switch(t){case"domainMax":case"domainMin":Zb(l[t])||w==="temporal"||v?u.set(t,{signal:XF(l[t],{type:w,timeUnit:v})},!0):u.set(t,l[t],!0);break;default:u.copyKeyFromObject(t,l)}}else{const v=bt(Xye,t)?Xye[t]({model:e,channel:a,fieldOrDatumDef:d,scaleType:h,scalePadding:p,scalePaddingInner:m,domain:l.domain,domainMin:l.domainMin,domainMax:l.domainMax,markDef:s,config:r,hasNestedOffsetScale:qMe(i,a),hasSecondaryRangeChannel:!!i[Up(a)]}):r.scale[t];v!==void 0&&u.set(t,v,!1)}}}const Xye={bins:({model:e,fieldOrDatumDef:t})=>Tt(t)?jen(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>Ben(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:r,domainMax:i,fieldOrDatumDef:s})=>zen(e,t,n,r,i,s),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:i})=>Uen(e,t,i.scale,n,r,i.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:r,config:i,hasNestedOffsetScale:s})=>Ven(e,t,n.type,r,i.scale,s),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:i,hasNestedOffsetScale:s})=>Hen(e,t,n,r,i.scale,s),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const i=Tt(e)?e.sort:void 0;return qen(t,i,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:i,config:s,hasSecondaryRangeChannel:o})=>Wen(e,t,n,r,i,s.scale,o)};function L8e(e){ds(e)?Ren(e):j8e(e,"range")}function j8e(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?L8e(r):F8e(r,t);for(const r of vt(n)){let i;for(const s of e.children){const o=s.component.scales[r];if(o){const a=o.getWithExplicit(t);i=Ny(i,a,t,"scale",CFe((l,u)=>{switch(t){case"range":return l.step&&u.step?l.step-u.step:0}return 0}))}}n[r].setWithExplicit(t,i)}}function jen(e,t){const n=t.bin;if(Li(n)){const r=Yre(e,t.field,n);return new zo(()=>e.getSignalName(r))}else if(ha(n)&&Qb(n)&&n.step!==void 0)return{step:n.step}}function Ben(e,t){if(vr([Su,Bp,zp],e)&&t!=="nominal")return"hcl"}function zen(e,t,n,r,i,s){if(!(Mf(s)?.bin||ut(n)||i!=null||r!=null||vr([ma.TIME,ma.UTC],e)))return Hs(t)?!0:void 0}function Uen(e,t,n,r,i,s){if(Hs(e)){if(Gh(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:o,orient:a}=i;if(o==="bar"&&!(Tt(r)&&(r.bin||r.timeUnit))&&(a==="vertical"&&e==="x"||a==="horizontal"&&e==="y"))return s.continuousBandSize}if(t===ma.POINT)return n.pointPadding}}function Ven(e,t,n,r,i,s=!1){if(e===void 0){if(Hs(t)){const{bandPaddingInner:o,barBandPaddingInner:a,rectBandPaddingInner:l,tickBandPaddingInner:u,bandWithNestedOffsetPaddingInner:c}=i;return s?c:Vs(o,n==="bar"?a:n==="tick"?u:l)}else if(AR(t)&&r===ma.BAND)return i.offsetBandPaddingInner}}function Hen(e,t,n,r,i,s=!1){if(e===void 0){if(Hs(t)){const{bandPaddingOuter:o,bandWithNestedOffsetPaddingOuter:a}=i;if(s)return a;if(n===ma.BAND)return Vs(o,dn(r)?{signal:`${r.signal}/2`}:r/2)}else if(AR(t)){if(n===ma.POINT)return .5;if(n===ma.BAND)return i.offsetBandPaddingOuter}}}function qen(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return Nf(e)&&t==="descending"?dn(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(Nf(e)&&t==="descending")return!0}function Wen(e,t,n,r,i,s,o){if(!!n&&n!=="unaggregated"&&Nf(i)){if(ut(n)){const l=n[0],u=n[n.length-1];if(Jr(l)&&l<=0&&Jr(u)&&u>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!Z_(i))return!0;if(!(Tt(t)&&t.bin)&&vr([...L0,...TWt],e)){const{orient:l,type:u}=r;return vr(["bar","area","line","trail"],u)&&(l==="horizontal"&&e==="y"||l==="vertical"&&e==="x")?!1:vr(["bar","area"],u)&&!o?!0:s?.zero}return!1}function Gen(e,t,n,r,i=!1){const s=Yen(t,n,r,i),{type:o}=e;return Vp(t)?o!==void 0?NYt(t,o)?Tt(n)&&!OYt(o,n.type)?(Ct($Gt(o,s)),s):o:(Ct(NGt(t,o,s)),s):s:null}function Yen(e,t,n,r){switch(t.type){case"nominal":case"ordinal":{if(t_(e)||wz(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&Ct(xz(e,"ordinal")),"ordinal";if(bz(e))return"band";if(Hs(e)||AR(e)){if(vr(["rect","bar","image","rule","tick"],n.type)||r)return"band"}else if(n.type==="arc"&&e in qne)return"band";const i=n[ku(e)];return pb(i)||tC(t)&&t.axis?.tickBand?"band":"point"}case"temporal":return t_(e)?"time":wz(e)==="discrete"?(Ct(xz(e,"temporal")),"ordinal"):Tt(t)&&t.timeUnit&&Xo(t.timeUnit).utc?"utc":bz(e)?"band":"time";case"quantitative":return t_(e)?Tt(t)&&Li(t.bin)?"bin-ordinal":"linear":wz(e)==="discrete"?(Ct(xz(e,"quantitative")),"ordinal"):bz(e)?"band":"linear";case"geojson":return}throw new Error(Y$e(t.type))}function Ken(e,{ignoreRange:t}={}){B8e(e),I8e(e);for(const n of PYt)F8e(e,n);t||L8e(e)}function B8e(e){ds(e)?e.component.scales=Xen(e):e.component.scales=Jen(e)}function Xen(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const s of Wne){const o=Co(t[s]);if(o&&n===wMe&&s===Tu&&o.type===yE)continue;let a=o&&o.scale;if(o&&a!==null&&a!==!1){a??(a={});const l=qMe(t,s),u=Gen(a,s,o,r,l);i[s]=new P8e(e.scaleName(`${s}`,!0),{value:u,explicit:a.type===u})}}return i}const Qen=CFe((e,t)=>Kge(e)-Kge(t));function Jen(e){var t;const n=e.component.scales={},r={},i=e.component.resolve;for(const s of e.children){B8e(s);for(const o of vt(s.component.scales))if((t=i.scale)[o]??(t[o]=y8e(o,e)),i.scale[o]==="shared"){const a=r[o],l=s.component.scales[o].getWithExplicit("type");a?_Yt(a.value,l.value)?r[o]=Ny(a,l,"type","scale",Qen):(i.scale[o]="independent",delete r[o]):r[o]=l}}for(const s of vt(r)){const o=e.scaleName(s,!0),a=r[s];n[s]=new P8e(o,a);for(const l of e.children){const u=l.component.scales[s];u&&(l.renameScale(u.get("name"),o),u.merged=!0)}}return n}class Mz{constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function ds(e){return e?.type==="unit"}function nc(e){return e?.type==="facet"}function Zre(e){return e?.type==="concat"}function _E(e){return e?.type==="layer"}class eie{constructor(t,n,r,i,s,o,a){this.type=n,this.parent=r,this.config=s,this.parent=r,this.config=s,this.view=pa(a),this.name=t.name??i,this.title=kg(t.title)?{text:t.title}:t.title?pa(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new Mz,this.projectionNameMap=r?r.projectionNameMap:new Mz,this.signalNameMap=r?r.signalNameMap:new Mz,this.data=t.data,this.description=t.description,this.transforms=YXt(t.transform??[]),this.layout=n==="layer"||n==="unit"?{}:JKt(t,n,s),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:GF(t)||r?.component.data.isFaceted&&t.data===void 0},layoutSize:new B0,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...o?Gn(o):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){Ken(this)}parseProjection(){k8e(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){_8e(this)}assembleEncodeFromView(t){const{style:n,...r}=t,i={};for(const s of vt(r)){const o=r[s];o!==void 0&&(i[s]=Wi(o))}return i}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=Wi(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...n}:xi(n)?void 0:n}assembleLayout(){if(!this.layout)return;const{spacing:t,...n}=this.layout,{component:r,config:i}=this,s=vZt(r.layoutHeaders,i);return{padding:t,...this.assembleDefaultLayout(),...n,...s?{titleBand:s}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of Kc)t[r].title&&n.push(fZt(this,r));for(const r of Hre)n=n.concat(hZt(this,r));return n}assembleAxes(){return ZJt(this.component.axes,this.config)}assembleLegends(){return E8e(this)}assembleProjections(){return zZt(this)}assembleTitle(){const{encoding:t,...n}=this.title??{},r={...j$e(this.config.title).nonMarkTitleProperties,...n,...t?{encode:{update:t}}:{}};if(r.text)return vr(["unit","layer"],this.type)?vr(["middle",void 0],r.anchor)&&(r.frame??(r.frame="group")):r.anchor??(r.anchor="start"),xi(r)?void 0:r}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||nc(this.parent)?D8e(this):[];i.length>0&&(n.scales=i);const s=this.assembleAxes();s.length>0&&(n.axes=s);const o=this.assembleLegends();return o.length>0&&(n.legends=o),n}getName(t){return ns((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(hs[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(r[n]||0)+1,n}getSizeSignalRef(t){if(nc(this.parent)){const n=m8e(t),r=MF(n),i=this.component.scales[r];if(i&&!i.merged){const s=i.get("type"),o=i.get("range");if(Qo(s)&&Jb(o)){const a=i.get("name"),l=f8(this,r),u=Jre(l);if(u){const c=Ft({aggregate:"distinct",field:u},{expr:"datum"});return{signal:p8e(a,i,c)}}else return Ct(Kne(r)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(D$e(t)&&Vp(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getScaleType(t){const n=this.getScaleComponent(t);return n?n.get("type"):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error(XWt(n));return r}hasAxisOrientSignalRef(){return this.component.axes.x?.some(t=>t.hasOrientSignalRef())||this.component.axes.y?.some(t=>t.hasOrientSignalRef())}}class z8e extends eie{vgField(t,n={}){const r=this.fieldDef(t);if(r)return Ft(r,n)}reduceFieldDef(t,n){return kKt(this.getMapping(),(r,i,s)=>{const o=Mf(i);return o?t(r,o,s):r},n)}forEachFieldDef(t,n){Cre(this.getMapping(),(r,i)=>{const s=Mf(r);s&&t(s,i)},n)}}class h8 extends vi{clone(){return new h8(null,Gn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Gn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"value",r[1]??"density"];const i=this.transform.resolve??"shared";this.transform.resolve=i}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${Er(this.transform)}`}assemble(){const{density:t,...n}=this.transform,r={type:"kde",field:t,...n};return r.resolve=this.transform.resolve,r}}class p8 extends vi{clone(){return new p8(null,Gn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Gn(n)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${Er(this.transform)}`}assemble(){const{extent:t,param:n}=this.transform;return{type:"extent",field:t,signal:n}}}class m8 extends vi{clone(){return new m8(this.parent,Gn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Gn(n);const{flatten:r,as:i=[]}=this.transform;this.transform.as=r.map((s,o)=>i[o]??s)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${Er(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class g8 extends vi{clone(){return new g8(null,Gn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Gn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"key",r[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${Er(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class i_ extends vi{clone(){return new i_(null,Gn(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let r=0;for(const i of[[sh,ih],[md,oh]]){const s=i.map(o=>{const a=Co(n.encoding[o]);return Tt(a)?a.field:Hp(a)?{expr:`${a.datum}`}:$f(a)?{expr:`${a.value}`}:void 0});(s[0]||s[1])&&(t=new i_(t,s,null,n.getName(`geojson_${r++}`)))}if(n.channelHasField(Tu)){const i=n.typedFieldDef(Tu);i.type===yE&&(t=new i_(t,null,i.field,n.getName(`geojson_${r++}`)))}return t}constructor(t,n,r,i){super(t),this.fields=n,this.geojson=r,this.signal=i}dependentFields(){const t=(this.fields??[]).filter(Ht);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${Er(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class Wk extends vi{clone(){return new Wk(null,this.projection,Gn(this.fields),Gn(this.as))}constructor(t,n,r,i){super(t),this.projection=n,this.fields=r,this.as=i}static parseAll(t,n){if(!n.projectionName())return t;for(const r of[[sh,ih],[md,oh]]){const i=r.map(o=>{const a=Co(n.encoding[o]);return Tt(a)?a.field:Hp(a)?{expr:`${a.datum}`}:$f(a)?{expr:`${a.value}`}:void 0}),s=r[0]===md?"2":"";(i[0]||i[1])&&(t=new Wk(t,n.projectionName(),i,[n.getName(`x${s}`),n.getName(`y${s}`)]))}return t}dependentFields(){return new Set(this.fields.filter(Ht))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${Er(this.fields)} ${Er(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class L1 extends vi{clone(){return new L1(null,Gn(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:r,step:i}=t;return{signal:`sequence(${[n,r,...i?[i]:[]].join(",")})`}}static makeFromTransform(t,n){return new L1(t,n)}static makeFromEncoding(t,n){const r=n.encoding,i=r.x,s=r.y;if(Tt(i)&&Tt(s)){const o=i.impute?i:s.impute?s:void 0;if(o===void 0)return;const a=i.impute?s:s.impute?i:void 0,{method:l,value:u,frame:c,keyvals:d}=o.impute,f=YMe(n.mark,r);return new L1(t,{impute:o.field,key:a.field,...l?{method:l}:{},...u!==void 0?{value:u}:{},...c?{frame:c}:{},...d!==void 0?{keyvals:d}:{},...f.length?{groupby:f}:{}})}return null}hash(){return`Impute ${Er(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:r,method:i,groupby:s,value:o,frame:a=[null,null]}=this.transform,l={type:"impute",field:t,key:n,...r?{keyvals:RXt(r)?this.processSequence(r):r}:{},method:"value",...s?{groupby:s}:{},value:!i||i==="value"?o:null};if(i&&i!=="value"){const u={type:"window",as:[`imputed_${t}_value`],ops:[i],fields:[t],frame:a,ignorePeers:!1,...s?{groupby:s}:{}},c={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[l,u,c]}else return[l]}}class y8 extends vi{clone(){return new y8(null,Gn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Gn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${Er(this.transform)}`}assemble(){const{loess:t,on:n,...r}=this.transform;return{type:"loess",x:n,y:t,...r}}}class Gk extends vi{clone(){return new Gk(null,Gn(this.transform),this.secondary)}constructor(t,n,r){super(t),this.transform=n,this.secondary=r}static make(t,n,r,i){const s=n.component.data.sources,{from:o}=r;let a=null;if(IXt(o)){let l=H8e(o.data,s);l||(l=new wb(o.data),s.push(l));const u=n.getName(`lookup_${i}`);a=new vu(l,u,hs.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[u]=a}else if(DXt(o)){const l=o.param;r={as:l,...r};let u;try{u=n.getSelectionComponent(ns(l),l)}catch{throw new Error(eGt(l))}if(a=u.materialized,!a)throw new Error(tGt(l))}return new Gk(t,r,a.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?Ut(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${Er({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t={values:this.transform.from.fields,...this.transform.as?{as:Ut(this.transform.as)}:{}};else{let n=this.transform.as;Ht(n)||(Ct(fGt),n="_lookup"),t={as:[n]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...t,...this.transform.default?{default:this.transform.default}:{}}}}class v8 extends vi{clone(){return new v8(null,Gn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Gn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"prob",r[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${Er(this.transform)}`}assemble(){const{quantile:t,...n}=this.transform;return{type:"quantile",field:t,...n}}}class b8 extends vi{clone(){return new b8(null,Gn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Gn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${Er(this.transform)}`}assemble(){const{regression:t,on:n,...r}=this.transform;return{type:"regression",x:n,y:t,...r}}}class w8 extends vi{clone(){return new w8(null,Gn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Wh((this.transform.groupby??[]).concat(t),n=>n)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${Er(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:r,limit:i,op:s}=this.transform;return{type:"pivot",field:t,value:n,...i!==void 0?{limit:i}:{},...s!==void 0?{op:s}:{},...r!==void 0?{groupby:r}:{}}}}class x8 extends vi{clone(){return new x8(null,Gn(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${Er(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function U8e(e){let t=0;function n(r,i){if(r instanceof wb&&!r.isGenerator&&!rC(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof Ja&&(r.parent instanceof wb&&!i.source?(i.format={...i.format,parse:r.assembleFormatParse()},i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof wE){i.name||(i.name=`data_${t++}`),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,e.push(...r.assemble());return}switch((r instanceof zR||r instanceof UR||r instanceof lC||r instanceof bE||r instanceof sC||r instanceof Wk||r instanceof xf||r instanceof Gk||r instanceof xE||r instanceof iw||r instanceof g8||r instanceof m8||r instanceof h8||r instanceof y8||r instanceof v8||r instanceof b8||r instanceof $y||r instanceof x8||r instanceof w8||r instanceof p8)&&i.transform.push(r.assemble()),(r instanceof ap||r instanceof sp||r instanceof L1||r instanceof Hm||r instanceof i_)&&i.transform.push(...r.assemble()),r instanceof vu&&(i.source&&i.transform.length===0?r.setSource(i.source):r.parent instanceof vu?r.setSource(i.name):(i.name||(i.name=`data_${t++}`),r.setSource(i.name),r.numChildren()===1&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof vu&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name=`data_${t++}`);let s=i.name;!i.source||i.transform.length>0?e.push(i):s=i.source;for(const o of r.children)n(o,{name:null,source:s,transform:[]});break}}}return n}function Zen(e){const t=[],n=U8e(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function etn(e,t){const n=[],r=U8e(n);let i=0;for(const o of e.sources){o.hasName()||(o.dataName=`source_${i++}`);const a=o.assemble();r(o,a)}for(const o of n)o.transform.length===0&&delete o.transform;let s=0;for(const[o,a]of n.entries())(a.transform??[]).length===0&&!a.source&&n.splice(s++,0,n.splice(o,1)[0]);for(const o of n)for(const a of o.transform??[])a.type==="lookup"&&(a.from=e.outputNodes[a.from].getSource());for(const o of n)o.name in t&&(o.values=t[o.name]);return n}function ttn(e){return e==="top"||e==="left"||dn(e)?"header":"footer"}function ntn(e){for(const t of Kc)rtn(e,t);Qye(e,"x"),Qye(e,"y")}function rtn(e,t){const{facet:n,config:r,child:i,component:s}=e;if(e.channelHasField(t)){const o=n[t],a=aC("title",null,r,t);let l=n_(o,r,{allowDisabling:!0,includeDefault:a===void 0||!!a});i.component.layoutHeaders[t].title&&(l=ut(l)?l.join(", "):l,l+=` / ${i.component.layoutHeaders[t].title}`,i.component.layoutHeaders[t].title=null);const u=aC("labelOrient",o.header,r,t),c=o.header!==null?Vs(o.header?.labels,r.header.labels,!0):!1,d=vr(["bottom","right"],u)?"footer":"header";s.layoutHeaders[t]={title:o.header!==null?l:null,facetFieldDef:o,[d]:t==="facet"?[]:[V8e(e,t,c)]}}}function V8e(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function Qye(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:r,resolve:i}=e.component;if(i.axis[t]=Gre(i,t),i.axis[t]==="shared"){const s=t==="x"?"column":"row",o=r[s];for(const a of n.component.axes[t]){const l=ttn(a.get("orient"));o[l]??(o[l]=[V8e(e,s,!1)]);const u=MS(a,"main",e.config,{header:!0});u&&o[l][0].axes.push(u),a.mainExtracted=!0}}}}function itn(e){tie(e),J6(e,"width"),J6(e,"height")}function stn(e){tie(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";J6(e,t),J6(e,n)}function tie(e){for(const t of e.children)t.parseLayoutSize()}function J6(e,t){const n=m8e(t),r=MF(n),i=e.component.resolve,s=e.component.layoutSize;let o;for(const a of e.children){const l=a.component.layoutSize.getWithExplicit(n),u=i.scale[r]??y8e(r,e);if(u==="independent"&&l.value==="step"){o=void 0;break}if(o){if(u==="independent"&&o.value!==l.value){o=void 0;break}o=Ny(o,l,n,"")}else o=l}if(o){for(const a of e.children)e.renameSignal(a.getName(n),e.getName(t)),a.component.layoutSize.set(n,"merged",!1);s.setWithExplicit(t,o)}else s.setWithExplicit(t,{explicit:!1,value:void 0})}function otn(e){const{size:t,component:n}=e;for(const r of L0){const i=ku(r);if(t[i]){const s=t[i];n.layoutSize.set(i,_p(s)?"step":s,!0)}else{const s=atn(e,i);n.layoutSize.set(i,s,!1)}}}function atn(e,t){const n=t==="width"?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const s=i.get("type"),o=i.get("range");if(Qo(s)){const a=G6(r.view,t);return Jb(o)||_p(a)?"step":a}else return iG(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return iG(r.view,t);{const s=G6(r.view,t);return _p(s)?s.step:s}}}function EG(e,t,n){return Ft(t,{suffix:`by_${Ft(e)}`,...n})}class xT extends z8e{constructor(t,n,r,i){super(t,"facet",n,r,i,t.resolve),this.child=oie(t.spec,this,this.getName("child"),void 0,i),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!PR(t))return{facet:this.initFacetFieldDef(t,"facet")};const n=vt(t),r={};for(const i of n){if(![Bm,zm].includes(i)){Ct(jF(i,"facet"));break}const s=t[i];if(s.field===void 0){Ct(ZW(s,i));break}r[i]=this.initFacetFieldDef(s,i)}return r}initFacetFieldDef(t,n){const r=_re(t,n);return r.header?r.header=pa(r.header):r.header===null&&(r.header=null),r}channelHasField(t){return bt(this.facet,t)}fieldDef(t){return this.facet[t]}parseData(){this.component.data=_8(this),this.child.parseData()}parseLayoutSize(){tie(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection,Object.values(this.component.selection).some(t=>op(t))&&Qne(Xne)}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),ntn(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){const t={};for(const n of Kc)for(const r of qre){const i=this.component.layoutHeaders[n],s=i[r],{facetFieldDef:o}=i;if(o){const a=aC("titleOrient",o.header,this.config,n);if(["right","bottom"].includes(a)){const l=c8(n,a);t.titleAnchor??(t.titleAnchor={}),t.titleAnchor[l]="end"}}if(s?.[0]){const a=n==="row"?"height":"width",l=r==="header"?"headerBand":"footerBand";n!=="facet"&&!this.child.component.layoutSize.get(a)&&(t[l]??(t[l]={}),t[l][n]=.5),i.title&&(t.offset??(t.offset={}),t.offset[n==="row"?"rowTitle":"columnTitle"]=10)}}return t}assembleDefaultLayout(){const{column:t,row:n}=this.facet,r=t?this.columnDistinctSignal():n?1:void 0;let i="all";return(!n&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(i="none"),{...this.getHeaderLayoutMixins(),...r?{columns:r}:{},bounds:"full",align:i}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof xT))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof xT?{...this.channelHasField("column")?{encode:{update:{columns:{field:Ft(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(t)}:super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],r=[];if(this.child instanceof xT){if(this.child.channelHasField("column")){const i=Ft(this.child.facet.column);t.push(i),n.push("distinct"),r.push(`distinct_${i}`)}}else for(const i of L0){const s=this.child.component.scales[i];if(s&&!s.merged){const o=s.get("type"),a=s.get("range");if(Qo(o)&&Jb(a)){const l=f8(this.child,i),u=Jre(l);u?(t.push(u),n.push("distinct"),r.push(`distinct_${u}`)):Ct(Kne(i))}}}return{fields:t,ops:n,as:r}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:r,column:i}=this.facet,{fields:s,ops:o,as:a}=this.getCardinalityAggregateForChild(),l=[];for(const c of Kc){const d=this.facet[c];if(d){l.push(Ft(d));const{bin:f,sort:h}=d;if(Li(f)&&l.push(Ft(d,{binSuffix:"end"})),Um(h)){const{field:p,op:m=WF}=h,g=EG(d,h);r&&i?(s.push(g),o.push("max"),a.push(g)):(s.push(p),o.push(m),a.push(g))}else if(ut(h)){const p=oC(d,c);s.push(p),o.push("max"),a.push(p)}}}const u=!!r&&!!i;return{name:t,data:n,groupby:l,...u||s.length>0?{aggregate:{...u?{cross:u}:{},...s.length?{fields:s,ops:o,as:a}:{}}}:{}}}facetSortFields(t){const{facet:n}=this,r=n[t];return r?Um(r.sort)?[EG(r,r.sort,{expr:"datum"})]:ut(r.sort)?[oC(r,t,{expr:"datum"})]:[Ft(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,r=n[t];if(r){const{sort:i}=r;return[(Um(i)?i.order:!ut(i)&&i)||"ascending"]}return[]}assembleLabelTitle(){const{facet:t,config:n}=this;if(t.facet)return yG(t.facet,"facet",n);const r={row:["top","bottom"],column:["left","right"]};for(const i of Hre)if(t[i]){const s=aC("labelOrient",t[i]?.header,n,i);if(r[i].includes(s))return yG(t[i],i,n)}}assembleMarks(){const{child:t}=this,n=this.component.data.facetRoot,r=Zen(n),i=t.assembleGroupEncodeEntry(!1),s=this.assembleLabelTitle()||t.assembleTitle(),o=t.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...s?{title:s}:{},...o?{style:o}:{},from:{facet:this.assembleFacet()},sort:{field:Kc.map(l=>this.facetSortFields(l)).flat(),order:Kc.map(l=>this.facetSortOrder(l)).flat()},...r.length>0?{data:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup(hQt(this,[]))}]}getMapping(){return this.facet}}function ltn(e,t){const{row:n,column:r}=t;if(n&&r){let i=null;for(const s of[n,r])if(Um(s.sort)){const{field:o,op:a=WF}=s.sort;e=i=new iw(e,{joinaggregate:[{op:a,field:o,as:EG(s,s.sort,{forAs:!0})}],groupby:[Ft(s)]})}return i}return null}function H8e(e,t){for(const n of t){const r=n.data;if(e.name&&n.hasName()&&e.name!==n.dataName)continue;const i=e.format?.mesh,s=r.format?.feature;if(i&&s)continue;const o=e.format?.feature;if((o||s)&&o!==s)continue;const a=r.format?.mesh;if(!((i||a)&&i!==a)){if(Vk(e)&&Vk(r)){if(Ju(e.values,r.values))return n}else if(rC(e)&&rC(r)){if(e.url===r.url)return n}else if(EFe(e)&&e.name===n.dataName)return n}}return null}function utn(e,t){if(e.data||!e.parent){if(e.data===null){const r=new wb({values:[]});return t.push(r),r}const n=H8e(e.data,t);if(n)return ay(e.data)||(n.data.format=b$e({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new wb(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function ctn(e,t,n){let r=0;for(const i of t.transforms){let s,o;if(zXt(i))o=e=new sC(e,i),s="derived";else if(Nre(i)){const a=een(i);o=e=Ja.makeWithAncestors(e,{},a,n)??e,e=new bE(e,t,i.filter)}else if(bFe(i))o=e=ap.makeFromTransform(e,i,t),s="number";else if(VXt(i))s="date",n.getWithExplicit(i.field).value===void 0&&(e=new Ja(e,{[i.field]:s}),n.set(i.field,s,!1)),o=e=sp.makeFromTransform(e,i);else if(HXt(i))o=e=xf.makeFromTransform(e,i),s="number",Bre(t)&&(e=new $y(e));else if(vFe(i))o=e=Gk.make(e,t,i,r++),s="derived";else if(LXt(i))o=e=new xE(e,i),s="number";else if(jXt(i))o=e=new iw(e,i),s="number";else if(qXt(i))o=e=Hm.makeFromTransform(e,i),s="derived";else if(WXt(i))o=e=new g8(e,i),s="derived";else if(GXt(i))o=e=new p8(e,i),s="derived";else if(BXt(i))o=e=new m8(e,i),s="derived";else if(PXt(i))o=e=new w8(e,i),s="derived";else if(FXt(i))e=new x8(e,i);else if(UXt(i))o=e=L1.makeFromTransform(e,i),s="derived";else if(OXt(i))o=e=new h8(e,i),s="derived";else if(NXt(i))o=e=new v8(e,i),s="derived";else if($Xt(i))o=e=new b8(e,i),s="derived";else if(MXt(i))o=e=new y8(e,i),s="derived";else{Ct(dGt(i));continue}if(o&&s!==void 0)for(const a of o.producedFields()??[])n.set(a,s,!1)}return e}function _8(e){let t=utn(e,e.component.data.sources);const{outputNodes:n,outputNodeRefCounts:r}=e.component.data,i=e.data,o=!(i&&(ay(i)||rC(i)||Vk(i)))&&e.parent?e.parent.component.data.ancestorParse.clone():new sQt;ay(i)?(SFe(i)?t=new UR(t,i.sequence):$re(i)&&(t=new zR(t,i.graticule)),o.parseNothing=!0):i?.format?.parse===null&&(o.parseNothing=!0),t=Ja.makeExplicit(t,e,o)??t,t=new $y(t);const a=e.parent&&_E(e.parent);(ds(e)||nc(e))&&a&&(t=ap.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=ctn(t,e,o));const l=nen(e),u=ten(e);t=Ja.makeWithAncestors(t,{},{...l,...u},o)??t,ds(e)&&(t=i_.parseAll(t,e),t=Wk.parseAll(t,e)),(ds(e)||nc(e))&&(a||(t=ap.makeFromEncoding(t,e)??t),t=sp.makeFromEncoding(t,e)??t,t=sC.parseAllForSortIndex(t,e));const c=t=u3(hs.Raw,e,t);if(ds(e)){const g=xf.makeFromEncoding(t,e);g&&(t=g,Bre(e)&&(t=new $y(t))),t=L1.makeFromEncoding(t,e)??t,t=Hm.makeFromEncoding(t,e)??t}let d,f;if(ds(e)){const{markDef:g,mark:y,config:v}=e,w=wi("invalid",g,v),{marks:_,scales:C}=f=kFe({invalid:w,isPath:fv(y)});_!==C&&C==="include-invalid-values"&&(d=t=u3(hs.PreFilterInvalid,e,t)),_==="exclude-invalid-values"&&(t=lC.make(t,e,f)??t)}const h=t=u3(hs.Main,e,t);let p;if(ds(e)&&f){const{marks:g,scales:y}=f;g==="include-invalid-values"&&y==="exclude-invalid-values"&&(t=lC.make(t,e,f)??t,p=t=u3(hs.PostFilterInvalid,e,t))}ds(e)&&QJt(e,h);let m=null;if(nc(e)){const g=e.getName("facet");t=ltn(t,e.facet)??t,m=new wE(t,e,g,h.getSource()),n[g]=m}return{...e.component.data,outputNodes:n,outputNodeRefCounts:r,raw:c,main:h,facetRoot:m,ancestorParse:o,preFilterInvalid:d,postFilterInvalid:p}}function u3(e,t,n){const{outputNodes:r,outputNodeRefCounts:i}=t.component.data,s=t.getDataName(e),o=new vu(n,s,e,i);return r[s]=o,o}class dtn extends eie{constructor(t,n,r,i){super(t,"concat",n,r,i,t.resolve),(t.resolve?.axis?.x==="shared"||t.resolve?.axis?.y==="shared")&&Ct(lGt),this.children=this.getChildren(t).map((s,o)=>oie(s,this,this.getName(`concat_${o}`),void 0,i))}parseData(){this.component.data=_8(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of vt(t.component.selection))this.component.selection[n]=t.component.selection[n]}Object.values(this.component.selection).some(t=>op(t))&&Qne(Xne)}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return ZF(t)?t.vconcat:Pre(t)?t.hconcat:t.concat}parseLayoutSize(){stn(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=Wre(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),r=t.assembleGroupStyle(),i=t.assembleGroupEncodeEntry(!1);return{type:"group",name:t.getName("group"),...n?{title:n}:{},...r?{style:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return{...t!=null?{columns:t}:{},bounds:"full",align:"each"}}}function ftn(e){return e===!1||e===null}const htn={disable:1,gridScale:1,scale:1,...UMe,labelExpr:1,encode:1},q8e=vt(htn);class nie extends B0{constructor(t={},n={},r=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=r}clone(){return new nie(Gn(this.explicit),Gn(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!ftn(this.get(t))}hasOrientSignalRef(){return dn(this.explicit.orient)}}function ptn(e,t,n){const{encoding:r,config:i}=e,s=Co(r[t])??Co(r[Up(t)]),o=e.axis(t)||{},{format:a,formatType:l}=o;if(mb(l))return{text:ff({fieldOrDatumDef:s,field:"datum.value",format:a,formatType:l,config:i}),...n};if(a===void 0&&l===void 0&&i.customFormatTypes){if(eC(s)==="quantitative"){if(tC(s)&&s.stack==="normalize"&&i.normalizedNumberFormatType)return{text:ff({fieldOrDatumDef:s,field:"datum.value",format:i.normalizedNumberFormat,formatType:i.normalizedNumberFormatType,config:i}),...n};if(i.numberFormatType)return{text:ff({fieldOrDatumDef:s,field:"datum.value",format:i.numberFormat,formatType:i.numberFormatType,config:i}),...n}}if(eC(s)==="temporal"&&i.timeFormatType&&Tt(s)&&!s.timeUnit)return{text:ff({fieldOrDatumDef:s,field:"datum.value",format:i.timeFormat,formatType:i.timeFormatType,config:i}),...n}}return n}function mtn(e){return L0.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[_tn(n,e)]),t),{})}const gtn={bottom:"top",top:"bottom",left:"right",right:"left"};function ytn(e){const{axes:t,resolve:n}=e.component,r={top:0,bottom:0,right:0,left:0};for(const i of e.children){i.parseAxesAndHeaders();for(const s of vt(i.component.axes))n.axis[s]=Gre(e.component.resolve,s),n.axis[s]==="shared"&&(t[s]=vtn(t[s],i.component.axes[s]),t[s]||(n.axis[s]="independent",delete t[s]))}for(const i of L0){for(const s of e.children)if(s.component.axes[i]){if(n.axis[i]==="independent"){t[i]=(t[i]??[]).concat(s.component.axes[i]);for(const o of s.component.axes[i]){const{value:a,explicit:l}=o.getWithExplicit("orient");if(!dn(a)){if(r[a]>0&&!l){const u=gtn[a];r[a]>r[u]&&o.set("orient",u,!1)}r[a]++}}}delete s.component.axes[i]}if(n.axis[i]==="independent"&&t[i]&&t[i].length>1)for(const[s,o]of(t[i]||[]).entries())s>0&&o.get("grid")&&!o.explicit.grid&&(o.implicit.grid=!1)}}function vtn(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const i=e[r],s=t[r];if(!!i!=!!s)return;if(i&&s){const o=i.getWithExplicit("orient"),a=s.getWithExplicit("orient");if(o.explicit&&a.explicit&&o.value!==a.value)return;e[r]=btn(i,s)}}}else return t.map(n=>n.clone());return e}function btn(e,t){for(const n of q8e){const r=Ny(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(i,s)=>{switch(n){case"title":return W$e(i,s);case"gridScale":return{explicit:i.explicit,value:Vs(i.value,s.value)}}return t8(i,s,n,"axis")});e.setWithExplicit(n,r)}return e}function wtn(e,t,n,r,i){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(dn(n.labelAngle)?n.labelAngle:zk(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===c8e(r,i))return!0}return e===n[t]}const xtn=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function _tn(e,t){let n=t.axis(e);const r=new nie,i=Co(t.encoding[e]),{mark:s,config:o}=t,a=n?.orient||o[e==="x"?"axisX":"axisY"]?.orient||o.axis?.orient||aZt(e),l=t.getScaleComponent(e).get("type"),u=eZt(e,l,a,t.config),c=n!==void 0?!n:mG("disable",o.style,n?.style,u).configValue;if(r.set("disable",c,n!==void 0),c)return r;n=n||{};const d=iZt(i,n,e,o.style,u),f=AMe(n.formatType,i,l),h=kMe(i,i.type,n.format,n.formatType,o,!0),p={fieldOrDatumDef:i,axis:n,channel:e,model:t,scaleType:l,orient:a,labelAngle:d,format:h,formatType:f,mark:s,config:o};for(const y of q8e){const v=y in Mye?Mye[y](p):nye(y)?n[y]:void 0,w=v!==void 0,_=wtn(v,y,n,t,e);if(w&&_)r.set(y,v,_);else{const{configValue:C=void 0,configFrom:S=void 0}=nye(y)&&y!=="values"?mG(y,o.style,n.style,u):{},T=C!==void 0;w&&!T?r.set(y,v,_):(S!=="vgAxisConfig"||xtn.has(y)&&T||MR(C)||dn(C))&&r.set(y,C,!1)}}const m=n.encoding??{},g=zMe.reduce((y,v)=>{if(!r.hasAxisPart(v))return y;const w=g8e(m[v]??{},t),_=v==="labels"?ptn(t,e,w):w;return _!==void 0&&!xi(_)&&(y[v]={update:_}),y},{});return xi(g)||r.set("encode",g,!!n.encoding||n.labelAngle!==void 0),r}function Ctn({encoding:e,size:t}){for(const n of L0){const r=ku(n);_p(t[r])&&Wg(e[n])&&(delete t[r],Ct(Q$e(r)))}return t}const Etn={vgMark:"arc",encodeEntry:e=>({...Ad(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Rl("x",e,{defaultPos:"mid"}),...Rl("y",e,{defaultPos:"mid"}),...h0(e,"radius"),...h0(e,"theta")})},Stn={vgMark:"area",encodeEntry:e=>({...Ad(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...Y6("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"}),...Y6("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"}),...jre(e)})},Ttn={vgMark:"rect",encodeEntry:e=>({...Ad(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...h0(e,"x"),...h0(e,"y")})},ktn={vgMark:"shape",encodeEntry:e=>({...Ad(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[{type:"geoshape",projection:e.projectionName(),...n&&Tt(n)&&n.type===yE?{field:Ft(n,{expr:"datum"})}:{}}]}},Atn={vgMark:"image",encodeEntry:e=>({...Ad(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...h0(e,"x"),...h0(e,"y"),...Fre(e,"url")})},Rtn={vgMark:"line",encodeEntry:e=>({...Ad(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Rl("x",e,{defaultPos:"mid"}),...Rl("y",e,{defaultPos:"mid"}),...va("size",e,{vgChannel:"strokeWidth"}),...jre(e)})},Itn={vgMark:"trail",encodeEntry:e=>({...Ad(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Rl("x",e,{defaultPos:"mid"}),...Rl("y",e,{defaultPos:"mid"}),...va("size",e),...jre(e)})};function rie(e,t){const{config:n}=e;return{...Ad(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Rl("x",e,{defaultPos:"mid"}),...Rl("y",e,{defaultPos:"mid"}),...va("size",e),...va("angle",e),...Dtn(e,n,t)}}function Dtn(e,t,n){return n?{shape:{value:n}}:va("shape",e)}const Ptn={vgMark:"symbol",encodeEntry:e=>rie(e)},Otn={vgMark:"symbol",encodeEntry:e=>rie(e,"circle")},Ntn={vgMark:"symbol",encodeEntry:e=>rie(e,"square")},$tn={vgMark:"rect",encodeEntry:e=>({...Ad(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...h0(e,"x"),...h0(e,"y")})},Mtn={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:{...Ad(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Y6("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"}),...Y6("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"}),...va("size",e,{vgChannel:"strokeWidth"})}}},Ftn={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return{...Ad(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...Rl("x",e,{defaultPos:"mid"}),...Rl("y",e,{defaultPos:"mid"}),...Fre(e),...va("size",e,{vgChannel:"fontSize"}),...va("angle",e),...Sye("align",Ltn(e.markDef,n,t)),...Sye("baseline",jtn(e.markDef,n,t)),...Rl("radius",e,{defaultPos:null}),...Rl("theta",e,{defaultPos:null})}}};function Ltn(e,t,n){if(wi("align",e,n)===void 0)return"center"}function jtn(e,t,n){if(wi("baseline",e,n)===void 0)return"middle"}const Btn={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i=r==="horizontal"?"x":"y",s=r==="horizontal"?"y":"x",o=r==="horizontal"?"height":"width";return{...Ad(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...h0(e,i),...Rl(s,e,{defaultPos:"mid",vgChannel:s==="y"?"yc":"xc"}),[o]:Wi(wi("thickness",n,t))}}},c3={arc:Etn,area:Stn,bar:Ttn,circle:Otn,geoshape:ktn,image:Atn,line:Rtn,point:Ptn,rect:$tn,rule:Mtn,square:Ntn,text:Ftn,tick:Btn,trail:Itn};function ztn(e){if(vr([HF,UF,LYt],e.mark)){const t=YMe(e.mark,e.encoding);if(t.length>0)return Utn(e,t)}else if(e.mark===VF){const t=QW.some(n=>wi(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return Vtn(e)}return iie(e)}const Jye="faceted_path_";function Utn(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:Jye+e.requestDataName(hs.Main),data:e.requestDataName(hs.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:iie(e,{fromPrefix:Jye})}]}const Zye="stack_group_";function Vtn(e){const[t]=iie(e,{fromPrefix:Zye}),n=e.scaleName(e.stack.fieldChannel),r=(u={})=>e.vgField(e.stack.fieldChannel,u),i=(u,c)=>{const d=[r({prefix:"min",suffix:"start",expr:c}),r({prefix:"max",suffix:"start",expr:c}),r({prefix:"min",suffix:"end",expr:c}),r({prefix:"max",suffix:"end",expr:c})];return`${u}(${d.map(f=>`scale('${n}',${f})`).join(",")})`};let s,o;e.stack.fieldChannel==="x"?(s={...Y_(t.encode.update,["y","yc","y2","height",...QW]),x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}},o={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={...yu(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(s={...Y_(t.encode.update,["x","xc","x2","width"]),y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}},o={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={...yu(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const u of QW){const c=wp(u,e.markDef,e.config);t.encode.update[u]?(s[u]=t.encode.update[u],delete t.encode.update[u]):c&&(s[u]=Wi(c)),c&&(t.encode.update[u]={value:0})}const a=[];if(e.stack.groupbyChannels?.length>0)for(const u of e.stack.groupbyChannels){const c=e.fieldDef(u),d=Ft(c);d&&a.push(d),(c?.bin||c?.timeUnit)&&a.push(Ft(c,{binSuffix:"end"}))}return s=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((u,c)=>{if(t.encode.update[c])return{...u,[c]:t.encode.update[c]};{const d=wp(c,e.markDef,e.config);return d!==void 0?{...u,[c]:Wi(d)}:u}},s),s.stroke&&(s.strokeForeground={value:!0},s.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(hs.Main),name:Zye+e.requestDataName(hs.Main),groupby:a,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:s},marks:[{type:"group",encode:{update:o},marks:[t]}]}]}function Htn(e){const{encoding:t,stack:n,mark:r,markDef:i,config:s}=e,o=t.order;if(!(!ut(o)&&$f(o)&&KW(o.value)||!o&&KW(wi("order",i,s)))){if((ut(o)||Tt(o))&&!n)return V$e(o,{expr:"datum"});if(fv(r)){const a=i.orient==="horizontal"?"y":"x",l=t[a];if(Tt(l))return{field:a}}}}function iie(e,t={fromPrefix:""}){const{mark:n,markDef:r,encoding:i,config:s}=e,o=Vs(r.clip,qtn(e),Wtn(e)),a=z$e(r),l=i.key,u=Htn(e),c=Gtn(e),d=wi("aria",r,s),f=c3[n].postEncodingTransform?c3[n].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:c3[n].vgMark,...o?{clip:o}:{},...a?{style:a}:{},...l?{key:l.field}:{},...u?{sort:u}:{},...c||{},...d===!1?{aria:d}:{},from:{data:t.fromPrefix+e.requestDataName(hs.Main)},encode:{update:c3[n].encodeEntry(e)},...f?{transform:f}:{}}]}function qtn(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t?.get("selectionExtent")||n?.get("selectionExtent")?!0:void 0}function Wtn(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function Gtn(e){if(!e.component.selection)return null;const t=vt(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=vt(r.component.selection).length,r=r.parent;return n?{interactive:t>0||e.mark==="geoshape"||!!e.encoding.tooltip||!!e.markDef.tooltip}:null}class W8e extends z8e{constructor(t,n,r,i={},s){super(t,"unit",n,r,s,void 0,iye(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[],this.correctDataNames=u=>(u.from?.data&&(u.from.data=this.lookupDataSource(u.from.data),"time"in this.encoding&&(u.from.data=u.from.data+RFe)),u.from?.facet?.data&&(u.from.facet.data=this.lookupDataSource(u.from.facet.data)),u);const o=xp(t.mark)?{...t.mark}:{type:t.mark},a=o.type;o.filled===void 0&&(o.filled=xXt(o,s,{graticule:t.data&&$re(t.data)}));const l=this.encoding=SKt(t.encoding||{},a,o.filled,s);this.markDef=mFe(o,l,s),this.size=Ctn({encoding:l,size:iye(t)?{...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}}:i}),this.stack=pFe(this.markDef,l),this.specifiedScales=this.initScales(a,l),this.specifiedAxes=this.initAxes(l),this.specifiedLegends=this.initLegends(l),this.specifiedProjection=t.projection,this.selection=(t.params??[]).filter(u=>Ire(u))}get hasProjection(){const{encoding:t}=this,n=this.mark===wMe,r=t&&yWt.some(i=>Xn(t[i]));return n||r}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return Wne.reduce((r,i)=>{const s=Co(n[i]);return s&&(r[i]=this.initScale(s.scale??{})),r},{})}initScale(t){const{domain:n,range:r}=t,i=pa(t);return ut(n)&&(i.domain=n.map(Xu)),ut(r)&&(i.range=r.map(Xu)),i}initAxes(t){return L0.reduce((n,r)=>{const i=t[r];if(Xn(i)||r===ss&&Xn(t.x2)||r===ea&&Xn(t.y2)){const s=Xn(i)?i.axis:void 0;n[r]=s&&this.initAxis({...s})}return n},{})}initAxis(t){const n=vt(t),r={};for(const i of n){const s=t[i];r[i]=MR(s)?B$e(s):Xu(s)}return r}initLegends(t){return AWt.reduce((n,r)=>{const i=Co(t[r]);if(i&&IWt(r)){const s=i.legend;n[r]=s&&pa(s)}return n},{})}parseData(){this.component.data=_8(this)}parseLayoutSize(){otn(this)}parseSelections(){this.component.selection=XJt(this,this.selection)}parseMarkGroup(){this.component.mark=ztn(this)}parseAxesAndHeaders(){this.component.axes=mtn(this)}assembleSelectionTopLevelSignals(t){return pQt(this,t)}assembleSignals(){return[...a8e(this),...fQt(this,[])]}assembleSelectionData(t){return mQt(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return Wre(this)}assembleMarks(){let t=this.component.mark??[];return(!this.parent||!_E(this.parent))&&(t=OFe(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};return t!==void 0?t:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return M1(this.encoding,t)}fieldDef(t){const n=this.encoding[t];return Mf(n)}typedFieldDef(t){const n=this.fieldDef(t);return Bl(n)?n:null}}class sie extends eie{constructor(t,n,r,i,s){super(t,"layer",n,r,s,t.resolve,t.view);const o={...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}};this.children=t.layer.map((a,l)=>{if(e8(a))return new sie(a,this,this.getName(`layer_${l}`),o,s);if(j0(a))return new W8e(a,this,this.getName(`layer_${l}`),o,s);throw new Error(Yne(a))})}parseData(){this.component.data=_8(this);for(const t of this.children)t.parseData()}parseLayoutSize(){itn(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of vt(t.component.selection))this.component.selection[n]=t.component.selection[n]}Object.values(this.component.selection).some(t=>op(t))&&Qne(Xne)}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){ytn(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),a8e(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),Wre(this))}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleGroupStyle(){const t=new Set;for(const r of this.children)for(const i of Ut(r.assembleGroupStyle()))t.add(i);const n=Array.from(t);return n.length>1?n:n.length===1?n[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return gQt(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),E8e(this))}}function oie(e,t,n,r,i){if(GF(e))return new xT(e,t,n,i);if(e8(e))return new sie(e,t,n,r,i);if(j0(e))return new W8e(e,t,n,r,i);if(KKt(e))return new dtn(e,t,n,i);throw new Error(Yne(e))}function Ytn(e,t={}){t.logger&&JGt(t.logger),t.fieldTitle&&LMe(t.fieldTitle);try{const n=hFe(iE(t.config,e.config)),r=_Fe(e,n),i=oie(r,null,"",void 0,n);return i.parse(),ven(i.component.data,i),{spec:Xtn(i,Ktn(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&ZGt(),t.fieldTitle&&gKt()}}function Ktn(e,t,n,r){const i=r.component.layoutSize.get("width"),s=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):Ht(t)&&(t={type:t}),i&&s&&nQt(t.type)){if(i==="step"&&s==="step")Ct(Uge()),t.type="pad";else if(i==="step"||s==="step"){const o=i==="step"?"width":"height";Ct(Uge(MF(o)));const a=o==="width"?"height":"width";t.type=rQt(a)}}return{...vt(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t},...gye(n,!1),...gye(e,!0)}}function Xtn(e,t,n={},r){const i=e.config?uXt(e.config):void 0,s=etn(e.component.data,n),o=e.assembleSelectionData(s),a=e.assembleProjections(),l=e.assembleTitle(),u=e.assembleGroupStyle(),c=e.assembleGroupEncodeEntry(!0);let d=e.assembleLayoutSignals();d=d.filter(p=>(p.name==="width"||p.name==="height")&&p.value!==void 0?(t[p.name]=+p.value,!1):!0);const{params:f,...h}=t;return{$schema:"https://vega.github.io/schema/vega/v5.json",...e.description?{description:e.description}:{},...h,...l?{title:l}:{},...u?{style:u}:{},...c?{encode:{update:c}}:{},data:o,...a.length>0?{projections:a}:{},...e.assembleGroup([...d,...e.assembleSelectionTopLevelSignals([]),...uFe(f)]),...i?{config:i}:{},...r?{usermeta:r}:{}}}const Qtn=dWt.version,Jtn=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:X_,accessPathWithDatum:Lne,accessWithDatumToUnescapedPath:pi,compile:Ytn,contains:vr,deepEqual:Ju,deleteNestedProperty:L6,duplicate:Gn,entries:Dy,every:$ne,fieldIntersection:Fne,flatAccessWithDatum:x$e,getFirstDefined:Vs,hasIntersection:Mne,hasProperty:bt,hash:Er,internalField:E$e,isBoolean:Bk,isEmpty:xi,isEqual:hWt,isInternalField:S$e,isNullOrFalse:KW,isNumeric:IF,keys:vt,logicalExpr:vT,mergeDeep:b$e,never:v$e,normalize:_Fe,normalizeAngle:zk,omit:yu,pick:Y_,prefixGenerator:XW,removePathFromField:mE,replaceAll:ub,replacePathInField:pd,resetIdCounter:mWt,setEqual:w$e,some:K_,stringify:_i,titleCase:SR,unique:Wh,uniqueId:C$e,vals:Ca,varName:ns,version:Qtn},Symbol.toStringTag,{value:"Module"}));var d3={},eve;function Ztn(){if(eve)return d3;eve=1,Object.defineProperty(d3,"__esModule",{value:!0});function e(t){var n=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g,r=n.exec(t).slice(1,3),i=r[0],s=r[1];return{library:i,version:s}}return d3.default=e,d3}var enn=Ztn();const G8e=so(enn);var tnn="2.15.0",nnn={version:tnn};const nx="#fff",tve="#888",rnn={background:"#333",view:{stroke:tve},title:{color:nx,subtitleColor:nx},style:{"guide-label":{fill:nx},"guide-title":{fill:nx}},axis:{domainColor:nx,gridColor:tve,tickColor:nx}},Nv="#4572a7",inn={background:"#fff",arc:{fill:Nv},area:{fill:Nv},line:{stroke:Nv,strokeWidth:2},path:{stroke:Nv},rect:{fill:Nv},shape:{stroke:Nv},symbol:{fill:Nv,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},$v="#30a2da",Fz="#cbcbcb",snn="#999",onn="#333",nve="#f0f0f0",rve="#333",ann={arc:{fill:$v},area:{fill:$v},axis:{domainColor:Fz,grid:!0,gridColor:Fz,gridWidth:1,labelColor:snn,labelFontSize:10,titleColor:onn,tickColor:Fz,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:nve,group:{fill:nve},legend:{labelColor:rve,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:rve,titleFontSize:14,titlePadding:10},line:{stroke:$v,strokeWidth:2},path:{stroke:$v,strokeWidth:.5},rect:{fill:$v},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:$v},bar:{binSpacing:2,fill:$v,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},Mv="#000",lnn={group:{fill:"#e5e5e5"},arc:{fill:Mv},area:{fill:Mv},line:{stroke:Mv},path:{stroke:Mv},rect:{fill:Mv},shape:{stroke:Mv},symbol:{fill:Mv,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},unn=22,cnn="normal",ive="Benton Gothic, sans-serif",sve=11.5,dnn="normal",Fv="#82c6df",Lz="Benton Gothic Bold, sans-serif",ove="normal",ave=13,F2={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"]},fnn={background:"#ffffff",title:{anchor:"start",color:"#000000",font:Lz,fontSize:unn,fontWeight:cnn},arc:{fill:Fv},area:{fill:Fv},line:{stroke:Fv,strokeWidth:2},path:{stroke:Fv},rect:{fill:Fv},shape:{stroke:Fv},symbol:{fill:Fv,size:30},axis:{labelFont:ive,labelFontSize:sve,labelFontWeight:dnn,titleFont:Lz,titleFontSize:ave,titleFontWeight:ove},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:ive,labelFontSize:sve,symbolType:"square",titleFont:Lz,titleFontSize:ave,titleFontWeight:ove},range:{category:F2["category-6"],diverging:F2["fireandice-6"],heatmap:F2["fire-7"],ordinal:F2["fire-7"],ramp:F2["fire-7"]}},Lv="#ab5787",f3="#979797",hnn={background:"#f9f9f9",arc:{fill:Lv},area:{fill:Lv},line:{stroke:Lv},path:{stroke:Lv},rect:{fill:Lv},shape:{stroke:Lv},symbol:{fill:Lv,size:30},axis:{domainColor:f3,domainWidth:.5,gridWidth:.2,labelColor:f3,tickColor:f3,tickWidth:.2,titleColor:f3},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},jv="#3e5c69",pnn={background:"#fff",arc:{fill:jv},area:{fill:jv},line:{stroke:jv},path:{stroke:jv},rect:{fill:jv},shape:{stroke:jv},symbol:{fill:jv},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Oc="#1696d2",lve="#000000",mnn="#FFFFFF",h3="Lato",jz="Lato",gnn="Lato",ynn="#DEDDDD",vnn=18,L2={"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},bnn={background:mnn,title:{anchor:"start",fontSize:vnn,font:h3},axisX:{domain:!0,domainColor:lve,domainWidth:1,grid:!1,labelFontSize:12,labelFont:jz,labelAngle:0,tickColor:lve,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:h3},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:ynn,gridWidth:1,labelFontSize:12,labelFont:jz,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:h3,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:jz,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:h3,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:L2["six-groups-cat-1"],diverging:L2["diverging-colors"],heatmap:L2["diverging-colors"],ordinal:L2["six-groups-seq"],ramp:L2["shades-blue"]},area:{fill:Oc},rect:{fill:Oc},line:{color:Oc,stroke:Oc,strokeWidth:5},trail:{color:Oc,stroke:Oc,strokeWidth:0,size:1},path:{stroke:Oc,strokeWidth:.5},point:{filled:!0},text:{font:gnn,color:Oc,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:Oc,stroke:null}},arc:{fill:Oc},shape:{stroke:Oc},symbol:{fill:Oc,size:30}},Bv="#3366CC",uve="#ccc",p3="Arial, sans-serif",wnn={arc:{fill:Bv},area:{fill:Bv},path:{stroke:Bv},rect:{fill:Bv},shape:{stroke:Bv},symbol:{stroke:Bv},circle:{fill:Bv},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:p3,fontSize:12},"guide-title":{font:p3,fontSize:12},"group-title":{font:p3,fontSize:12}},title:{font:p3,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:uve,tickColor:uve,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},aie=e=>e*(1/3+1),cve=aie(9),dve=aie(10),fve=aie(12),j2="Segoe UI",hve="wf_standard-font, helvetica, arial, sans-serif",pve="#252423",B2="#605E5C",mve="transparent",xnn="#C8C6C4",Hd="#118DFF",_nn="#12239E",Cnn="#E66C37",Enn="#6B007B",Snn="#E044A7",Tnn="#744EC2",knn="#D9B300",Ann="#D64550",Y8e=Hd,K8e="#DEEFFF",gve=[K8e,Y8e],Rnn=[K8e,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",Y8e],Inn={view:{stroke:mve},background:mve,font:j2,header:{titleFont:hve,titleFontSize:fve,titleColor:pve,labelFont:j2,labelFontSize:dve,labelColor:B2},axis:{ticks:!1,grid:!1,domain:!1,labelColor:B2,labelFontSize:cve,titleFont:hve,titleColor:pve,titleFontSize:fve,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:xnn,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:Hd},line:{stroke:Hd,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:j2,fontSize:cve,fill:B2},arc:{fill:Hd},area:{fill:Hd,line:!0,opacity:.6},path:{stroke:Hd},rect:{fill:Hd},point:{fill:Hd,filled:!0,size:75},shape:{stroke:Hd},symbol:{fill:Hd,strokeWidth:1.5,size:50},legend:{titleFont:j2,titleFontWeight:"bold",titleColor:B2,labelFont:j2,labelFontSize:dve,labelColor:B2,symbolType:"circle",symbolSize:75},range:{category:[Hd,_nn,Cnn,Enn,Snn,Tnn,knn,Ann],diverging:gve,heatmap:gve,ordinal:Rnn}},Bz='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',Dnn='IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',zz=400,m3={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},Pnn=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],Onn=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function C8({theme:e,background:t}){const n=["white","g10"].includes(e)?"light":"dark",r=m3.gridBg[e],i=m3.textPrimary[e],s=m3.textSecondary[e],o=n==="dark"?Pnn:Onn,a=n==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:a},area:{fill:a},path:{stroke:a},rect:{fill:a},shape:{stroke:a},symbol:{stroke:a},circle:{fill:a},view:{fill:r,stroke:r},group:{fill:r},title:{color:i,anchor:"start",dy:-15,fontSize:16,font:Bz,fontWeight:600},axis:{labelColor:s,labelFontSize:12,labelFont:Dnn,labelFontWeight:zz,titleColor:i,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:m3.layerAccent01[e],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:Bz,fill:s,fontWeight:zz},"guide-title":{font:Bz,fill:s,fontWeight:zz}},range:{category:o,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const Nnn=C8({theme:"white",background:"#ffffff"}),$nn=C8({theme:"g10",background:"#f4f4f4"}),Mnn=C8({theme:"g90",background:"#262626"}),Fnn=C8({theme:"g100",background:"#161616"}),Lnn=nnn.version,jnn=Object.freeze(Object.defineProperty({__proto__:null,carbong10:$nn,carbong100:Fnn,carbong90:Mnn,carbonwhite:Nnn,dark:rnn,excel:inn,fivethirtyeight:ann,ggplot2:lnn,googlecharts:wnn,latimes:fnn,powerbi:Inn,quartz:hnn,urbaninstitute:bnn,version:Lnn,vox:pnn},Symbol.toStringTag,{value:"Module"})),Bnn=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black; }
  #vg-tooltip-element.visible {
    visibility: visible; }
  #vg-tooltip-element h2 {
    margin-top: 0;
    margin-bottom: 10px;
    font-size: 13px; }
  #vg-tooltip-element table {
    border-spacing: 0; }
    #vg-tooltip-element table tr {
      border: none; }
      #vg-tooltip-element table tr td {
        overflow: hidden;
        text-overflow: ellipsis;
        padding-top: 2px;
        padding-bottom: 2px; }
        #vg-tooltip-element table tr td.key {
          color: #808080;
          max-width: 150px;
          text-align: right;
          padding-right: 4px; }
        #vg-tooltip-element table tr td.value {
          display: block;
          max-width: 300px;
          max-height: 7em;
          text-align: left; }
  #vg-tooltip-element.dark-theme {
    background-color: rgba(32, 32, 32, 0.9);
    border: 1px solid #f5f5f5;
    color: white; }
    #vg-tooltip-element.dark-theme td.key {
      color: #bfbfbf; }
`,X8e="vg-tooltip-element",znn={offsetX:10,offsetY:10,id:X8e,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:Unn,maxDepth:2};function Unn(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function Vnn(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return Bnn.toString().replace(X8e,e)}var Hnn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function qnn(e,t,n){if(ut(e))return`[${e.map(r=>t(Ht(r)?r:yve(r,n))).join(", ")}]`;if(Vt(e)){let r="";const i=e,{title:s}=i,o=Hnn(i,["title"]);s&&(r+=`<h2>${t(s)}</h2>`);const a=Object.keys(o);if(a.length>0){r+="<table>";for(const l of a){let u=o[l];u!==void 0&&(Vt(u)&&(u=yve(u,n)),r+=`<tr><td class="key">${t(l)}:</td><td class="value">${t(u)}</td></tr>`)}r+="</table>"}return r||"{}"}return t(e)}function Wnn(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function yve(e,t){return JSON.stringify(e,Wnn(t))}function Gnn(e,t,n,r){let i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);let s=e.clientY+r;return s+t.height>window.innerHeight&&(s=+e.clientY-r-t.height),{x:i,y:s}}class Ynn{constructor(t){this.options=Object.assign(Object.assign({},znn),t);const n=this.options.id;if(this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=Vnn(n);const i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}this.el=document.getElementById(n),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",n),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}tooltipHandler(t,n,r,i){if(i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=qnn(i,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:s,y:o}=Gnn(n,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style",`top: ${o}px; left: ${s}px`)}}function Knn(e,t,n){const r=e.open(t),i=250;let s=40;function o(l){l.source===r&&(s=0,e.removeEventListener("message",o,!1))}e.addEventListener("message",o,!1);function a(){s<=0||(r.postMessage(n,"*"),setTimeout(a,i),s-=1)}setTimeout(a,i)}const Xnn=`.vega-embed {
  position: relative;
  display: inline-block; }
  .vega-embed.has-actions {
    padding-right: 38px; }
  .vega-embed details:not([open]) > :not(summary) {
    display: none !important; }
  .vega-embed summary {
    list-style: none;
    position: absolute;
    top: 0;
    right: 0;
    padding: 6px;
    z-index: 1000;
    background: white;
    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
    color: #1b1e23;
    border: 1px solid #aaa;
    border-radius: 999px;
    opacity: 0.2;
    transition: opacity 0.4s ease-in;
    outline: none;
    cursor: pointer;
    line-height: 0px; }
    .vega-embed summary::-webkit-details-marker {
      display: none; }
    .vega-embed summary:active {
      box-shadow: #aaa 0px 0px 0px 1px inset; }
    .vega-embed summary svg {
      width: 14px;
      height: 14px; }
  .vega-embed details[open] summary {
    opacity: 0.7; }
  .vega-embed:hover summary,
  .vega-embed:focus summary {
    opacity: 1 !important;
    transition: opacity 0.2s ease; }
  .vega-embed .vega-actions {
    position: absolute;
    z-index: 1001;
    top: 35px;
    right: -9px;
    display: flex;
    flex-direction: column;
    padding-bottom: 8px;
    padding-top: 8px;
    border-radius: 4px;
    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
    border: 1px solid #d9d9d9;
    background: white;
    animation-duration: 0.15s;
    animation-name: scale-in;
    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
    text-align: left; }
    .vega-embed .vega-actions a {
      padding: 8px 16px;
      font-family: sans-serif;
      font-size: 14px;
      font-weight: 600;
      white-space: nowrap;
      color: #434a56;
      text-decoration: none; }
      .vega-embed .vega-actions a:hover {
        background-color: #f7f7f9;
        color: black; }
    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
      content: "";
      display: inline-block;
      position: absolute; }
    .vega-embed .vega-actions::before {
      left: auto;
      right: 14px;
      top: -16px;
      border: 8px solid #0000;
      border-bottom-color: #d9d9d9; }
    .vega-embed .vega-actions::after {
      left: auto;
      right: 15px;
      top: -14px;
      border: 7px solid #0000;
      border-bottom-color: #fff; }

.vega-embed-wrapper {
  max-width: 100%;
  overflow: scroll;
  padding-right: 14px; }

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6); }
  to {
    opacity: 1;
    transform: scale(1); } }
`;String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e});function Q8e(e,...t){for(const n of t)Qnn(e,n);return e}function Qnn(e,t){for(const n of Object.keys(t))sE(e,n,t[n],!0)}var Uz;const Og=uWt;let Yk=Jtn;const g3=typeof window<"u"?window:void 0;Yk===void 0&&(!((Uz=g3?.vl)===null||Uz===void 0)&&Uz.compile)&&(Yk=g3.vl);const Jnn={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},Znn={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},LS={vega:"Vega","vega-lite":"Vega-Lite"},Z6={vega:Og.version,"vega-lite":Yk?Yk.version:"not available"},ern={vega:e=>e,"vega-lite":(e,t)=>Yk.compile(e,{config:t}).spec},trn=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`;function nrn(e){return typeof e=="function"}function vve(e,t,n,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,s=`</code></pre>${n}</body></html>`,o=window.open("");o.document.write(i+e+s),o.document.title=`${LS[r]} JSON Source`}function rrn(e,t){var n;if(e.$schema){const r=G8e(e.$schema);t&&t!==r.library&&console.warn(`The given visualization spec is written in ${LS[r.library]}, but mode argument sets ${(n=LS[t])!==null&&n!==void 0?n:t}.`);const i=r.library;return LPe.satisfies(Z6[i],`^${r.version.slice(1)}`)||console.warn(`The input spec uses ${LS[i]} ${r.version}, but the current version of ${LS[i]} is v${Z6[i]}.`),i}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function irn(e){return!!(e&&"load"in e)}function srn(e,t,n={}){var r,i,s;return mN(this,void 0,void 0,function*(){const o=irn(n.loader)?n.loader:Og.loader(n.loader),a=Ht(t)?JSON.parse(yield o.load(t)):t,l=yield bve((r=a.usermeta&&a.usermeta.embedOptions)!==null&&r!==void 0?r:{},o),u=yield bve(n,o),c=Object.assign(Object.assign({},Q8e(u,l)),{config:iE((i=u.config)!==null&&i!==void 0?i:{},(s=l.config)!==null&&s!==void 0?s:{})});return yield orn(e,a,c,o)})}function bve(e,t){var n;return mN(this,void 0,void 0,function*(){const r=Ht(e.config)?JSON.parse(yield t.load(e.config)):(n=e.config)!==null&&n!==void 0?n:{},i=Ht(e.patch)?JSON.parse(yield t.load(e.patch)):e.patch;return Object.assign(Object.assign(Object.assign({},e),i?{patch:i}:{}),r?{config:r}:{})})}function orn(e,t,n={},r){var i,s,o,a,l,u;return mN(this,void 0,void 0,function*(){const c=n.theme?iE(jnn[n.theme],(i=n.config)!==null&&i!==void 0?i:{}):n.config,d=nv(n.actions)?n.actions:Q8e({},Jnn,(s=n.actions)!==null&&s!==void 0?s:{}),f=Object.assign(Object.assign({},Znn),n.i18n),h=(o=n.renderer)!==null&&o!==void 0?o:"canvas",p=(a=n.logLevel)!==null&&a!==void 0?a:Og.Warn,m=(l=n.downloadFileName)!==null&&l!==void 0?l:"visualization";if(n.defaultStyle!==!1){const I="vega-embed-style";if(!document.getElementById(I)){const R=document.createElement("style");R.id=I,R.innerText=n.defaultStyle===void 0||n.defaultStyle===!0?Xnn.toString():n.defaultStyle,document.head.appendChild(R)}}const g=rrn(t,n.mode);let y=ern[g](t,c);if(g==="vega-lite"&&y.$schema){const I=G8e(y.$schema);LPe.satisfies(Z6.vega,`^${I.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${I.version}, but current version is v${Z6.vega}.`)}const v=typeof e=="string"?document.querySelector(e):e;if(!v)throw Error(`${e} does not exist`);v.classList.add("vega-embed"),d&&v.classList.add("has-actions"),v.innerHTML="";const w=n.patch;w&&(w instanceof Function?y=w(y):y=IM(y,w,!0,!1).newDocument),n.formatLocale&&Og.formatLocale(n.formatLocale),n.timeFormatLocale&&Og.timeFormatLocale(n.timeFormatLocale);const _=Og.parse(y,g==="vega-lite"?{}:c),C=new Og.View(_,{loader:r,logLevel:p,renderer:h});if(n.tooltip!==!1){let I;nrn(n.tooltip)?I=n.tooltip:I=new Ynn(n.tooltip===!0?{}:n.tooltip).call,C.tooltip(I)}let{hover:S}=n;if(S===void 0&&(S=g==="vega"),S){const{hoverSet:I,updateSet:R}=typeof S=="boolean"?{}:S;C.hover(I,R)}n&&(n.width!=null&&C.width(n.width),n.height!=null&&C.height(n.height),n.padding!=null&&C.padding(n.padding)),yield C.initialize(e).runAsync();let T;if(d!==!1){let I=v;if(n.defaultStyle!==!1){const P=document.createElement("details");P.title=f.CLICK_TO_VIEW_ACTIONS,v.append(P),I=P;const N=document.createElement("summary");N.innerHTML=trn,P.append(N),T=$=>{P.contains($.target)||P.removeAttribute("open")},document.addEventListener("click",T)}const R=document.createElement("div");if(I.append(R),R.classList.add("vega-actions"),d===!0||d.export!==!1){for(const P of["svg","png"])if(d===!0||d.export===!0||d.export[P]){const N=f[`${P.toUpperCase()}_ACTION`],$=document.createElement("a");$.text=N,$.href="#",$.target="_blank",$.download=`${m}.${P}`,$.addEventListener("mousedown",function(O){return mN(this,void 0,void 0,function*(){O.preventDefault();const j=yield C.toImageURL(P,n.scaleFactor);this.href=j})}),R.append($)}}if(d===!0||d.source!==!1){const P=document.createElement("a");P.text=f.SOURCE_ACTION,P.href="#",P.addEventListener("mousedown",function(N){var $,O;vve(QB(t),($=n.sourceHeader)!==null&&$!==void 0?$:"",(O=n.sourceFooter)!==null&&O!==void 0?O:"",g),N.preventDefault()}),R.append(P)}if(g==="vega-lite"&&(d===!0||d.compiled!==!1)){const P=document.createElement("a");P.text=f.COMPILED_ACTION,P.href="#",P.addEventListener("mousedown",function(N){var $,O;vve(QB(y),($=n.sourceHeader)!==null&&$!==void 0?$:"",(O=n.sourceFooter)!==null&&O!==void 0?O:"","vega"),N.preventDefault()}),R.append(P)}if(d===!0||d.editor!==!1){const P=(u=n.editorUrl)!==null&&u!==void 0?u:"https://vega.github.io/editor/",N=document.createElement("a");N.text=f.EDITOR_ACTION,N.href="#",N.addEventListener("mousedown",function($){Knn(window,P,{config:c,mode:g,renderer:h,spec:QB(t)}),$.preventDefault()}),R.append(N)}}function k(){T&&document.removeEventListener("click",T),C.finalize()}return{view:C,spec:t,vgSpec:y,finalize:k}})}function arn(e){return!!e&&{}.toString.call(e)==="[object Function]"}function lrn(e,t,n){n&&(arn(n)?n(e.data(t)):e.change(t,Og.changeset().remove(()=>!0).insert(n)))}function urn(e,t){Object.keys(t).forEach(n=>{lrn(e,n,t[n])})}function J8e(e){const t=new Set;return e.forEach(n=>{Object.keys(n).forEach(r=>{t.add(r)})}),t}const Z8e=()=>{};function Vz(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.addSignalListener(r,t[r])}catch(i){console.warn("Cannot add invalid signal listener.",i)}}),n.length>0}function crn(e,t){if(e===t)return!1;const n={width:!1,height:!1,isExpensive:!1},r=J8e([e,t]);return r.has("width")&&(!("width"in e)||!("width"in t)||e.width!==t.width)&&("width"in e&&typeof e.width=="number"?n.width=e.width:n.isExpensive=!0),r.has("height")&&(!("height"in e)||!("height"in t)||e.height!==t.height)&&("height"in e&&typeof e.height=="number"?n.height=e.height:n.isExpensive=!0),r.delete("width"),r.delete("height"),[...r].some(i=>!(i in e)||!(i in t)||!_S(e[i],t[i]))&&(n.isExpensive=!0),n.width!==!1||n.height!==!1||n.isExpensive?n:!1}function wve(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.removeSignalListener(r,t[r])}catch(i){console.warn("Cannot remove invalid signal listener.",i)}}),n.length>0}function Hz(e){const{spec:t,width:n,height:r}=e;return typeof n<"u"&&typeof r<"u"?{...t,width:n,height:r}:typeof n<"u"?{...t,width:n}:typeof r<"u"?{...t,height:r}:t}function jS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class eLe extends mn.PureComponent{constructor(){super(...arguments),jS(this,"containerRef",mn.createRef()),jS(this,"resultPromise",void 0),jS(this,"handleError",t=>{const{onError:n=Z8e}=this.props;n(t,this.containerRef.current),console.warn(t)}),jS(this,"modifyView",t=>{this.resultPromise&&this.resultPromise.then(n=>(n&&t(n.view),!0)).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(t){const n=J8e([this.props,t]);if(n.delete("className"),n.delete("signalListeners"),n.delete("spec"),n.delete("style"),n.delete("width"),n.delete("height"),Array.from(n).some(r=>this.props[r]!==t[r]))this.clearView(),this.createView();else{const r=crn(Hz(this.props),Hz(t)),{signalListeners:i}=this.props,{signalListeners:s}=t;if(r)if(r.isExpensive)this.clearView(),this.createView();else{const o=!qq(i,s);this.modifyView(a=>{r.width!==!1&&a.width(r.width),r.height!==!1&&a.height(r.height),o&&(s&&wve(a,s),i&&Vz(a,i)),a.run()})}else qq(i,s)||this.modifyView(o=>{s&&wve(o,s),i&&Vz(o,i),o.run()})}}componentWillUnmount(){this.clearView()}createView(){const{spec:t,onNewView:n,signalListeners:r={},width:i,height:s,...o}=this.props;if(this.containerRef.current){const a=Hz(this.props);this.resultPromise=srn(this.containerRef.current,a,o).then(l=>{if(l){const{view:u}=l;Vz(u,r)&&u.run()}return l}).catch(this.handleError),n&&this.modifyView(n)}}clearView(){return this.resultPromise&&this.resultPromise.then(t=>{t&&t.finalize()}).catch(this.handleError),this.resultPromise=void 0,this}render(){const{className:t,style:n}=this.props;return mn.createElement("div",{ref:this.containerRef,className:t,style:n})}}jS(eLe,"propTypes",{className:IN.string,onError:IN.func});function SG(){return SG=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SG.apply(this,arguments)}function TG(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const drn={};class lie extends mn.PureComponent{constructor(){super(...arguments),TG(this,"vegaEmbed",mn.createRef()),TG(this,"handleNewView",t=>{this.update();const{onNewView:n=Z8e}=this.props;n(t)})}componentDidMount(){this.update()}componentDidUpdate(t){qq(this.props.data,t.data)||this.update()}update(){const{data:t}=this.props;this.vegaEmbed.current&&t&&Object.keys(t).length>0&&this.vegaEmbed.current.modifyView(n=>{urn(n,t),n.resize().run()})}render(){const{data:t,...n}=this.props;return mn.createElement(eLe,SG({ref:this.vegaEmbed},n,{onNewView:this.handleNewView}))}}TG(lie,"defaultProps",{data:drn});function kG(){return kG=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kG.apply(this,arguments)}function xve(e){return mn.createElement(lie,kG({},e,{mode:"vega-lite"}))}const frn=lie;function hrn({currentConfig:e,provState:t}){const n=As(),[r,i]=A.useState(null),[s,o]=A.useState(!0),a=l0(),{updateResponseBlockValidation:l,setReactiveAnswers:u}=is(),[c,d]=A.useState(),{actions:f,trrack:h}=A.useMemo(()=>{const v=Xy.create(),w=v.register("signal",(C,S)=>(C.event=S,C)),_=qC({registry:v,initialState:{event:{}}});return{actions:{signalAction:w},trrack:_}},[]),p=A.useCallback(({status:v,provenanceGraph:w,answers:_})=>{n(l({location:"stimulus",identifier:a,status:v,values:_,provenanceGraph:w})),n(u(_))},[n,l,a,u]),m=A.useCallback((v,w)=>{h.apply(v,f.signalAction({key:v,value:w}))},[f,h]),g=A.useCallback((v,w)=>{const{responseId:_,response:C}=w;p({status:!0,provenanceGraph:h.graph.backend,answers:{[_]:C}})},[p,h.graph.backend]),y=A.useMemo(()=>{const v=r?.config?.signals;return v?v.reduce((w,_)=>(_.name==="revisitAnswer"?w[_.name]=g:w[_.name]=m,w),{}):{}},[g,m,r]);return A.useEffect(()=>{async function v(){o(!0);let w;"path"in e?w=await m4t(e.path):w=e.config,w!==void 0&&i(w),o(!1)}e&&v()},[e]),A.useEffect(()=>{c&&t&&t.event&&t.event.key&&c.signal(t.event.key,t.event.value).run()},[c,t]),s?b.jsx("div",{children:"Loading..."}):"path"in e&&!r?b.jsx(c0,{path:e.path}):r?b.jsx(frn,{spec:structuredClone(r),signalListeners:y,onNewView:v=>d(v),actions:e.withActions}):b.jsx("div",{children:"Failed to load vega config"})}function Gt(e,t,n){return(t=mrn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function prn(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mrn(e){var t=prn(e,"string");return typeof t=="symbol"?t:String(t)}function grn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yrn(e,t,n){return t&&_ve(e.prototype,t),n&&_ve(e,n),e}function vrn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,r)}return n}function Eve(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cve(Object(n),!0).forEach((function(r){vrn(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cve(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var Sve={addCSS:!0,thumbWidth:15,watch:!0};function brn(e,t){return(function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function wrn(e,t){if(e&&t){var n=new Event(t,{bubbles:!0});e.dispatchEvent(n)}}var VR=function(e){return e!=null?e.constructor:null},uie=function(e,t){return!!(e&&t&&e instanceof t)},tLe=function(e){return e==null},nLe=function(e){return VR(e)===Object},xrn=function(e){return VR(e)===Number&&!Number.isNaN(e)},rLe=function(e){return VR(e)===String},_rn=function(e){return VR(e)===Boolean},Crn=function(e){return VR(e)===Function},iLe=function(e){return Array.isArray(e)},sLe=function(e){return uie(e,NodeList)},Ern=function(e){return uie(e,Element)},Srn=function(e){return uie(e,Event)},Trn=function(e){return tLe(e)||(rLe(e)||iLe(e)||sLe(e))&&!e.length||nLe(e)&&!Object.keys(e).length},ja={nullOrUndefined:tLe,object:nLe,number:xrn,string:rLe,boolean:_rn,function:Crn,array:iLe,nodeList:sLe,element:Ern,event:Srn,empty:Trn};function krn(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}function Arn(e,t){if(1>t){var n=krn(t);return parseFloat(e.toFixed(n))}return Math.round(e/t)*t}var Rrn=(function(){function e(t,n){grn(this,e),ja.element(t)?this.element=t:ja.string(t)&&(this.element=document.querySelector(t)),ja.element(this.element)&&ja.empty(this.element.rangeTouch)&&(this.config=Eve({},Sve,{},n),this.init())}return yrn(e,[{key:"init",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(t){var n=this,r=t?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach((function(i){n.element[r](i,(function(s){return n.set(s)}),!1)}))}},{key:"get",value:function(t){if(!e.enabled||!ja.event(t))return null;var n,r=t.target,i=t.changedTouches[0],s=parseFloat(r.getAttribute("min"))||0,o=parseFloat(r.getAttribute("max"))||100,a=parseFloat(r.getAttribute("step"))||1,l=r.getBoundingClientRect(),u=100/l.width*(this.config.thumbWidth/2)/100;return 0>(n=100/l.width*(i.clientX-l.left))?n=0:100<n&&(n=100),50>n?n-=(100-2*n)*u:50<n&&(n+=2*(n-50)*u),s+Arn(n/100*(o-s),a)}},{key:"set",value:function(t){e.enabled&&ja.event(t)&&!t.target.disabled&&(t.preventDefault(),t.target.value=this.get(t),wrn(t.target,t.type==="touchend"?"change":"input"))}}],[{key:"setup",value:function(t){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},r=null;if(ja.empty(t)||ja.string(t)?r=Array.from(document.querySelectorAll(ja.string(t)?t:'input[type="range"]')):ja.element(t)?r=[t]:ja.nodeList(t)?r=Array.from(t):ja.array(t)&&(r=t.filter(ja.element)),ja.empty(r))return null;var i=Eve({},Sve,{},n);if(ja.string(t)&&i.watch){var s=new MutationObserver((function(o){Array.from(o).forEach((function(a){Array.from(a.addedNodes).forEach((function(l){ja.element(l)&&brn(l,t)&&new e(l,i)}))}))}));s.observe(document.body,{childList:!0,subtree:!0})}return r.map((function(o){return new e(o,n)}))}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),e})();const HR=e=>e!=null?e.constructor:null,m0=(e,t)=>!!(e&&t&&e instanceof t),cie=e=>e==null,oLe=e=>HR(e)===Object,Irn=e=>HR(e)===Number&&!Number.isNaN(e),E8=e=>HR(e)===String,Drn=e=>HR(e)===Boolean,aLe=e=>typeof e=="function",lLe=e=>Array.isArray(e),Prn=e=>m0(e,WeakMap),uLe=e=>m0(e,NodeList),Orn=e=>HR(e)===Text,Nrn=e=>m0(e,Event),$rn=e=>m0(e,KeyboardEvent),Mrn=e=>m0(e,window.TextTrackCue)||m0(e,window.VTTCue),Frn=e=>m0(e,TextTrack)||!cie(e)&&E8(e.kind),Lrn=e=>m0(e,Promise)&&aLe(e.then),jrn=e=>e!==null&&typeof e=="object"&&e.nodeType===1&&typeof e.style=="object"&&typeof e.ownerDocument=="object",cLe=e=>cie(e)||(E8(e)||lLe(e)||uLe(e))&&!e.length||oLe(e)&&!Object.keys(e).length,Brn=e=>{if(m0(e,window.URL))return!0;if(!E8(e))return!1;let t=e;e.startsWith("http://")&&e.startsWith("https://")||(t=`http://${e}`);try{return!cLe(new URL(t).hostname)}catch{return!1}};var ke={nullOrUndefined:cie,object:oLe,number:Irn,string:E8,boolean:Drn,function:aLe,array:lLe,weakMap:Prn,nodeList:uLe,element:jrn,textNode:Orn,event:Nrn,keyboardEvent:$rn,cue:Mrn,track:Frn,promise:Lrn,url:Brn,empty:cLe};const AG=(()=>{const e=document.createElement("span"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n=Object.keys(t).find((r=>e.style[r]!==void 0));return!!ke.string(n)&&t[n]})();function dLe(e,t){setTimeout((()=>{try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch{}}),t)}const zrn=!!window.document.documentMode,Urn=/Edge/g.test(navigator.userAgent),Vrn="WebkitAppearance"in document.documentElement.style&&!/Edge/g.test(navigator.userAgent),Hrn=/iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1,qrn=navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,Wrn=/iPad|iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1;var Bo={isIE:zrn,isEdge:Urn,isWebKit:Vrn,isIPhone:Hrn,isIPadOS:qrn,isIos:Wrn};function Grn(e){return JSON.parse(JSON.stringify(e))}function fLe(e,t){return t.split(".").reduce(((n,r)=>n&&n[r]),e)}function Fs(e={},...t){if(!t.length)return e;const n=t.shift();return ke.object(n)?(Object.keys(n).forEach((r=>{ke.object(n[r])?(Object.keys(e).includes(r)||Object.assign(e,{[r]:{}}),Fs(e[r],n[r])):Object.assign(e,{[r]:n[r]})})),Fs(e,...t)):e}function hLe(e,t){const n=e.length?e:[e];Array.from(n).reverse().forEach(((r,i)=>{const s=i>0?t.cloneNode(!0):t,o=r.parentNode,a=r.nextSibling;s.appendChild(r),a?o.insertBefore(s,a):o.appendChild(s)}))}function RG(e,t){ke.element(e)&&!ke.empty(t)&&Object.entries(t).filter((([,n])=>!ke.nullOrUndefined(n))).forEach((([n,r])=>e.setAttribute(n,r)))}function Bn(e,t,n){const r=document.createElement(e);return ke.object(t)&&RG(r,t),ke.string(n)&&(r.innerText=n),r}function Yrn(e,t){ke.element(e)&&ke.element(t)&&t.parentNode.insertBefore(e,t.nextSibling)}function Tve(e,t,n,r){ke.element(t)&&t.appendChild(Bn(e,n,r))}function Dm(e){ke.nodeList(e)||ke.array(e)?Array.from(e).forEach(Dm):ke.element(e)&&ke.element(e.parentNode)&&e.parentNode.removeChild(e)}function eN(e){if(!ke.element(e))return;let{length:t}=e.childNodes;for(;t>0;)e.removeChild(e.lastChild),t-=1}function e5(e,t){return ke.element(t)&&ke.element(t.parentNode)&&ke.element(e)?(t.parentNode.replaceChild(e,t),e):null}function Dh(e,t){if(!ke.string(e)||ke.empty(e))return{};const n={},r=Fs({},t);return e.split(",").forEach((i=>{const s=i.trim(),o=s.replace(".",""),a=s.replace(/[[\]]/g,"").split("="),[l]=a,u=a.length>1?a[1].replace(/["']/g,""):"";switch(s.charAt(0)){case".":ke.string(r.class)?n.class=`${r.class} ${o}`:n.class=o;break;case"#":n.id=s.replace("#","");break;case"[":n[l]=u}})),Fs(r,n)}function zv(e,t){if(!ke.element(e))return;let n=t;ke.boolean(n)||(n=!e.hidden),e.hidden=n}function li(e,t,n){if(ke.nodeList(e))return Array.from(e).map((r=>li(r,t,n)));if(ke.element(e)){let r="toggle";return n!==void 0&&(r=n?"add":"remove"),e.classList[r](t),e.classList.contains(t)}return!1}function t5(e,t){return ke.element(e)&&e.classList.contains(t)}function _1(e,t){const{prototype:n}=Element;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function Krn(e,t){const{prototype:n}=Element;return(n.closest||function(){let r=this;do{if(_1.matches(r,t))return r;r=r.parentElement||r.parentNode}while(r!==null&&r.nodeType===1);return null}).call(e,t)}function Kk(e){return this.elements.container.querySelectorAll(e)}function mo(e){return this.elements.container.querySelector(e)}function qz(e=null,t=!1){ke.element(e)&&e.focus({preventScroll:!0,focusVisible:t})}const kve={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},js={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(e,t){const n=js[e]||t!=="html5";return{api:n,ui:n&&js.rangeInput}},pip:!(Bo.isIPhone||!ke.function(Bn("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||Bn("video").disablePictureInPicture)),airplay:ke.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(e){if(ke.empty(e))return!1;const[t]=e.split("/");let n=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(kve).includes(n)&&(n+=`; codecs="${kve[e]}"`);try{return!!(n&&this.media.canPlayType(n).replace(/no/,""))}catch{return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const e=document.createElement("input");return e.type="range",e.type==="range"})(),touch:"ontouchstart"in document.documentElement,transitions:AG!==!1,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},Xrn=(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>(e=!0,null)});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e})();function Xk(e,t,n,r=!1,i=!0,s=!1){if(!e||!("addEventListener"in e)||ke.empty(t)||!ke.function(n))return;const o=t.split(" ");let a=s;Xrn&&(a={passive:i,capture:s}),o.forEach((l=>{this&&this.eventListeners&&r&&this.eventListeners.push({element:e,type:l,callback:n,options:a}),e[r?"addEventListener":"removeEventListener"](l,n,a)}))}function Vr(e,t="",n,r=!0,i=!1){Xk.call(this,e,t,n,!0,r,i)}function S8(e,t="",n,r=!0,i=!1){Xk.call(this,e,t,n,!1,r,i)}function die(e,t="",n,r=!0,i=!1){const s=(...o)=>{S8(e,t,s,r,i),n.apply(this,o)};Xk.call(this,e,t,s,!0,r,i)}function Hn(e,t="",n=!1,r={}){if(!ke.element(e)||ke.empty(t))return;const i=new CustomEvent(t,{bubbles:n,detail:{...r,plyr:this}});e.dispatchEvent(i)}function Qrn(){this&&this.eventListeners&&(this.eventListeners.forEach((e=>{const{element:t,type:n,callback:r,options:i}=e;t.removeEventListener(n,r,i)})),this.eventListeners=[])}function Jrn(){return new Promise((e=>this.ready?setTimeout(e,0):Vr.call(this,this.elements.container,"ready",e))).then((()=>{}))}function Vh(e){ke.promise(e)&&e.then(null,(()=>{}))}function IG(e){return ke.array(e)?e.filter(((t,n)=>e.indexOf(t)===n)):e}function pLe(e,t){return ke.array(e)&&e.length?e.reduce(((n,r)=>Math.abs(r-t)<Math.abs(n-t)?r:n)):null}function mLe(e){return!(!window||!window.CSS)&&window.CSS.supports(e)}const Ave=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce(((e,[t,n])=>({...e,[t/n]:[t,n]})),{});function gLe(e){return ke.array(e)||ke.string(e)&&e.includes(":")?(ke.array(e)?e:e.split(":")).map(Number).every(ke.number):!1}function n5(e){if(!ke.array(e)||!e.every(ke.number))return null;const[t,n]=e,r=(s,o)=>o===0?s:r(o,s%o),i=r(t,n);return[t/i,n/i]}function fie(e){const t=r=>gLe(r)?r.split(":").map(Number):null;let n=t(e);if(n===null&&(n=t(this.config.ratio)),n===null&&!ke.empty(this.embed)&&ke.array(this.embed.ratio)&&({ratio:n}=this.embed),n===null&&this.isHTML5){const{videoWidth:r,videoHeight:i}=this.media;n=[r,i]}return n5(n)}function uC(e){if(!this.isVideo)return{};const{wrapper:t}=this.elements,n=fie.call(this,e);if(!ke.array(n))return{};const[r,i]=n5(n),s=100/r*i;if(mLe(`aspect-ratio: ${r}/${i}`)?t.style.aspectRatio=`${r}/${i}`:t.style.paddingBottom=`${s}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const o=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),a=(o-s)/(o/50);this.fullscreen.active?t.style.paddingBottom=null:this.media.style.transform=`translateY(-${a}%)`}else this.isHTML5&&t.classList.add(this.config.classNames.videoFixedRatio);return{padding:s,ratio:n}}function yLe(e,t,n=.05){const r=e/t,i=pLe(Object.keys(Ave),r);return Math.abs(i-r)<=n?Ave[i]:[e,t]}function Zrn(){return[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)]}const Gg={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter((e=>{const t=e.getAttribute("type");return!!ke.empty(t)||js.mime.call(this,t)})):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:Gg.getSources.call(this).map((e=>Number(e.getAttribute("size")))).filter(Boolean)},setup(){if(!this.isHTML5)return;const e=this;e.options.speed=e.config.speed.options,ke.empty(this.config.ratio)||uC.call(e),Object.defineProperty(e.media,"quality",{get(){const t=Gg.getSources.call(e).find((n=>n.getAttribute("src")===e.source));return t&&Number(t.getAttribute("size"))},set(t){if(e.quality!==t){if(e.config.quality.forced&&ke.function(e.config.quality.onChange))e.config.quality.onChange(t);else{const n=Gg.getSources.call(e).find((l=>Number(l.getAttribute("size"))===t));if(!n)return;const{currentTime:r,paused:i,preload:s,readyState:o,playbackRate:a}=e.media;e.media.src=n.getAttribute("src"),(s!=="none"||o)&&(e.once("loadedmetadata",(()=>{e.speed=a,e.currentTime=r,i||Vh(e.play())})),e.media.load())}Hn.call(e,e.media,"qualitychange",!1,{quality:t})}}})},cancelRequests(){this.isHTML5&&(Dm(Gg.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function ein(e){return`${e}-${Math.floor(1e4*Math.random())}`}function DG(e,...t){return ke.empty(e)?e:e.toString().replace(/{(\d+)}/g,((n,r)=>t[r].toString()))}function tin(e,t){return e===0||t===0||Number.isNaN(e)||Number.isNaN(t)?0:(e/t*100).toFixed(2)}const _T=(e="",t="",n="")=>e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),n.toString()),vLe=(e="")=>e.toString().replace(/\w\S*/g,(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()));function nin(e=""){let t=e.toString();return t=_T(t,"-"," "),t=_T(t,"_"," "),t=vLe(t),_T(t," ","")}function rin(e=""){let t=e.toString();return t=nin(t),t.charAt(0).toLowerCase()+t.slice(1)}function iin(e){const t=document.createDocumentFragment(),n=document.createElement("div");return t.appendChild(n),n.innerHTML=e,t.firstChild.innerText}function sin(e){const t=document.createElement("div");return t.appendChild(e),t.innerHTML}const Rve={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},Lo={get(e="",t={}){if(ke.empty(e)||ke.empty(t))return"";let n=fLe(t.i18n,e);if(ke.empty(n))return Object.keys(Rve).includes(e)?Rve[e]:"";const r={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(r).forEach((([i,s])=>{n=_T(n,i,s)})),n}};class Qk{constructor(t){Gt(this,"get",(n=>{if(!Qk.supported||!this.enabled)return null;const r=window.localStorage.getItem(this.key);if(ke.empty(r))return null;const i=JSON.parse(r);return ke.string(n)&&n.length?i[n]:i})),Gt(this,"set",(n=>{if(!Qk.supported||!this.enabled||!ke.object(n))return;let r=this.get();ke.empty(r)&&(r={}),Fs(r,n);try{window.localStorage.setItem(this.key,JSON.stringify(r))}catch{}})),this.enabled=t.config.storage.enabled,this.key=t.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const t="___test";return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch{return!1}}}function qR(e,t="text"){return new Promise(((n,r)=>{try{const i=new XMLHttpRequest;if(!("withCredentials"in i))return;i.addEventListener("load",(()=>{if(t==="text")try{n(JSON.parse(i.responseText))}catch{n(i.responseText)}else n(i.response)})),i.addEventListener("error",(()=>{throw new Error(i.status)})),i.open("GET",e,!0),i.responseType=t,i.send()}catch(i){r(i)}}))}function bLe(e,t){if(!ke.string(e))return;const n="cache",r=ke.string(t);let i=!1;const s=()=>document.getElementById(t)!==null,o=(a,l)=>{a.innerHTML=l,r&&s()||document.body.insertAdjacentElement("afterbegin",a)};if(!r||!s()){const a=Qk.supported,l=document.createElement("div");if(l.setAttribute("hidden",""),r&&l.setAttribute("id",t),a){const u=window.localStorage.getItem(`${n}-${t}`);if(i=u!==null,i){const c=JSON.parse(u);o(l,c.content)}}qR(e).then((u=>{if(!ke.empty(u)){if(a)try{window.localStorage.setItem(`${n}-${t}`,JSON.stringify({content:u}))}catch{}o(l,u)}})).catch((()=>{}))}}const wLe=e=>Math.trunc(e/60/60%60,10),oin=e=>Math.trunc(e/60%60,10),ain=e=>Math.trunc(e%60,10);function T8(e=0,t=!1,n=!1){if(!ke.number(e))return T8(void 0,t,n);const r=a=>`0${a}`.slice(-2);let i=wLe(e);const s=oin(e),o=ain(e);return i=t||i>0?`${i}:`:"",`${n&&e>0?"-":""}${i}${r(s)}:${r(o)}`}const Bt={getIconUrl(){const e=new URL(this.config.iconUrl,window.location),t=window.location.host?window.location.host:window.top.location.host,n=e.host!==t||Bo.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:n}},findElements(){try{return this.elements.controls=mo.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:Kk.call(this,this.config.selectors.buttons.play),pause:mo.call(this,this.config.selectors.buttons.pause),restart:mo.call(this,this.config.selectors.buttons.restart),rewind:mo.call(this,this.config.selectors.buttons.rewind),fastForward:mo.call(this,this.config.selectors.buttons.fastForward),mute:mo.call(this,this.config.selectors.buttons.mute),pip:mo.call(this,this.config.selectors.buttons.pip),airplay:mo.call(this,this.config.selectors.buttons.airplay),settings:mo.call(this,this.config.selectors.buttons.settings),captions:mo.call(this,this.config.selectors.buttons.captions),fullscreen:mo.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=mo.call(this,this.config.selectors.progress),this.elements.inputs={seek:mo.call(this,this.config.selectors.inputs.seek),volume:mo.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:mo.call(this,this.config.selectors.display.buffer),currentTime:mo.call(this,this.config.selectors.display.currentTime),duration:mo.call(this,this.config.selectors.display.duration)},ke.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon(e,t){const n="http://www.w3.org/2000/svg",r=Bt.getIconUrl.call(this),i=`${r.cors?"":r.url}#${this.config.iconPrefix}`,s=document.createElementNS(n,"svg");RG(s,Fs(t,{"aria-hidden":"true",focusable:"false"}));const o=document.createElementNS(n,"use"),a=`${i}-${e}`;return"href"in o&&o.setAttributeNS("http://www.w3.org/1999/xlink","href",a),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),s.appendChild(o),s},createLabel(e,t={}){const n=Lo.get(e,this.config);return Bn("span",{...t,class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")},n)},createBadge(e){if(ke.empty(e))return null;const t=Bn("span",{class:this.config.classNames.menu.value});return t.appendChild(Bn("span",{class:this.config.classNames.menu.badge},e)),t},createButton(e,t){const n=Fs({},t);let r=rin(e);const i={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach((o=>{Object.keys(n).includes(o)&&(i[o]=n[o],delete n[o])})),i.element!=="button"||Object.keys(n).includes("type")||(n.type="button"),Object.keys(n).includes("class")?n.class.split(" ").some((o=>o===this.config.classNames.control))||Fs(n,{class:`${n.class} ${this.config.classNames.control}`}):n.class=this.config.classNames.control,e){case"play":i.toggle=!0,i.label="play",i.labelPressed="pause",i.icon="play",i.iconPressed="pause";break;case"mute":i.toggle=!0,i.label="mute",i.labelPressed="unmute",i.icon="volume",i.iconPressed="muted";break;case"captions":i.toggle=!0,i.label="enableCaptions",i.labelPressed="disableCaptions",i.icon="captions-off",i.iconPressed="captions-on";break;case"fullscreen":i.toggle=!0,i.label="enterFullscreen",i.labelPressed="exitFullscreen",i.icon="enter-fullscreen",i.iconPressed="exit-fullscreen";break;case"play-large":n.class+=` ${this.config.classNames.control}--overlaid`,r="play",i.label="play",i.icon="play";break;default:ke.empty(i.label)&&(i.label=r),ke.empty(i.icon)&&(i.icon=e)}const s=Bn(i.element);return i.toggle?(s.appendChild(Bt.createIcon.call(this,i.iconPressed,{class:"icon--pressed"})),s.appendChild(Bt.createIcon.call(this,i.icon,{class:"icon--not-pressed"})),s.appendChild(Bt.createLabel.call(this,i.labelPressed,{class:"label--pressed"})),s.appendChild(Bt.createLabel.call(this,i.label,{class:"label--not-pressed"}))):(s.appendChild(Bt.createIcon.call(this,i.icon)),s.appendChild(Bt.createLabel.call(this,i.label))),Fs(n,Dh(this.config.selectors.buttons[r],n)),RG(s,n),r==="play"?(ke.array(this.elements.buttons[r])||(this.elements.buttons[r]=[]),this.elements.buttons[r].push(s)):this.elements.buttons[r]=s,s},createRange(e,t){const n=Bn("input",Fs(Dh(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":Lo.get(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=n,Bt.updateRangeFill.call(this,n),Rrn.setup(n),n},createProgress(e,t){const n=Bn("progress",Fs(Dh(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if(e!=="volume"){n.appendChild(Bn("span",null,"0"));const r={played:"played",buffer:"buffered"}[e],i=r?Lo.get(r,this.config):"";n.innerText=`% ${i.toLowerCase()}`}return this.elements.display[e]=n,n},createTime(e,t){const n=Dh(this.config.selectors.display[e],t),r=Bn("div",Fs(n,{class:`${n.class?n.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":Lo.get(e,this.config),role:"timer"}),"00:00");return this.elements.display[e]=r,r},bindMenuItemShortcuts(e,t){Vr.call(this,e,"keydown keyup",(n=>{if(![" ","ArrowUp","ArrowDown","ArrowRight"].includes(n.key)||(n.preventDefault(),n.stopPropagation(),n.type==="keydown"))return;const r=_1(e,'[role="menuitemradio"]');if(!r&&[" ","ArrowRight"].includes(n.key))Bt.showMenuPanel.call(this,t,!0);else{let i;n.key!==" "&&(n.key==="ArrowDown"||r&&n.key==="ArrowRight"?(i=e.nextElementSibling,ke.element(i)||(i=e.parentNode.firstElementChild)):(i=e.previousElementSibling,ke.element(i)||(i=e.parentNode.lastElementChild)),qz.call(this,i,!0))}}),!1),Vr.call(this,e,"keyup",(n=>{n.key==="Return"&&Bt.focusFirstMenuItem.call(this,null,!0)}))},createMenuItem({value:e,list:t,type:n,title:r,badge:i=null,checked:s=!1}){const o=Dh(this.config.selectors.inputs[n]),a=Bn("button",Fs(o,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${o.class?o.class:""}`.trim(),"aria-checked":s,value:e})),l=Bn("span");l.innerHTML=r,ke.element(i)&&l.appendChild(i),a.appendChild(l),Object.defineProperty(a,"checked",{enumerable:!0,get:()=>a.getAttribute("aria-checked")==="true",set(u){u&&Array.from(a.parentNode.children).filter((c=>_1(c,'[role="menuitemradio"]'))).forEach((c=>c.setAttribute("aria-checked","false"))),a.setAttribute("aria-checked",u?"true":"false")}}),this.listeners.bind(a,"click keyup",(u=>{if(!ke.keyboardEvent(u)||u.key===" "){switch(u.preventDefault(),u.stopPropagation(),a.checked=!0,n){case"language":this.currentTrack=Number(e);break;case"quality":this.quality=e;break;case"speed":this.speed=parseFloat(e)}Bt.showMenuPanel.call(this,"home",ke.keyboardEvent(u))}}),n,!1),Bt.bindMenuItemShortcuts.call(this,a,n),t.appendChild(a)},formatTime(e=0,t=!1){return ke.number(e)?T8(e,wLe(this.duration)>0,t):e},updateTimeDisplay(e=null,t=0,n=!1){ke.element(e)&&ke.number(t)&&(e.innerText=Bt.formatTime(t,n))},updateVolume(){this.supported.ui&&(ke.element(this.elements.inputs.volume)&&Bt.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),ke.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||this.volume===0))},setRange(e,t=0){ke.element(e)&&(e.value=t,Bt.updateRangeFill.call(this,e))},updateProgress(e){if(!this.supported.ui||!ke.event(e))return;let t=0;const n=(r,i)=>{const s=ke.number(i)?i:0,o=ke.element(r)?r:this.elements.display.buffer;if(ke.element(o)){o.value=s;const a=o.getElementsByTagName("span")[0];ke.element(a)&&(a.childNodes[0].nodeValue=s)}};if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":t=tin(this.currentTime,this.duration),e.type==="timeupdate"&&Bt.setRange.call(this,this.elements.inputs.seek,t);break;case"playing":case"progress":n(this.elements.display.buffer,100*this.buffered)}},updateRangeFill(e){const t=ke.event(e)?e.target:e;if(ke.element(t)&&t.getAttribute("type")==="range"){if(_1(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);const n=Bt.formatTime(this.currentTime),r=Bt.formatTime(this.duration),i=Lo.get("seekLabel",this.config);t.setAttribute("aria-valuetext",i.replace("{currentTime}",n).replace("{duration}",r))}else if(_1(t,this.config.selectors.inputs.volume)){const n=100*t.value;t.setAttribute("aria-valuenow",n),t.setAttribute("aria-valuetext",`${n.toFixed(1)}%`)}else t.setAttribute("aria-valuenow",t.value);(Bo.isWebKit||Bo.isIPadOS)&&t.style.setProperty("--value",t.value/t.max*100+"%")}},updateSeekTooltip(e){var t,n;if(!this.config.tooltips.seek||!ke.element(this.elements.inputs.seek)||!ke.element(this.elements.display.seekTooltip)||this.duration===0)return;const r=this.elements.display.seekTooltip,i=`${this.config.classNames.tooltip}--visible`,s=c=>li(r,i,c);if(this.touch)return void s(!1);let o=0;const a=this.elements.progress.getBoundingClientRect();if(ke.event(e))o=100/a.width*(e.pageX-a.left);else{if(!t5(r,i))return;o=parseFloat(r.style.left,10)}o<0?o=0:o>100&&(o=100);const l=this.duration/100*o;r.innerText=Bt.formatTime(l);const u=(t=this.config.markers)===null||t===void 0||(n=t.points)===null||n===void 0?void 0:n.find((({time:c})=>c===Math.round(l)));u&&r.insertAdjacentHTML("afterbegin",`${u.label}<br>`),r.style.left=`${o}%`,ke.event(e)&&["mouseenter","mouseleave"].includes(e.type)&&s(e.type==="mouseenter")},timeUpdate(e){const t=!ke.element(this.elements.display.duration)&&this.config.invertTime;Bt.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&e.type==="timeupdate"&&this.media.seeking||Bt.updateProgress.call(this,e)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return zv(this.elements.display.currentTime,!0),void zv(this.elements.progress,!0);ke.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const e=ke.element(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&Bt.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&Bt.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&Bt.setMarkers.call(this),Bt.updateSeekTooltip.call(this)},toggleMenuButton(e,t){zv(this.elements.settings.buttons[e],!t)},updateSetting(e,t,n){const r=this.elements.settings.panels[e];let i=null,s=t;if(e==="captions")i=this.currentTrack;else{if(i=ke.empty(n)?this[e]:n,ke.empty(i)&&(i=this.config[e].default),!ke.empty(this.options[e])&&!this.options[e].includes(i))return void this.debug.warn(`Unsupported value of '${i}' for ${e}`);if(!this.config[e].options.includes(i))return void this.debug.warn(`Disabled value of '${i}' for ${e}`)}if(ke.element(s)||(s=r&&r.querySelector('[role="menu"]')),!ke.element(s))return;this.elements.settings.buttons[e].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=Bt.getLabel.call(this,e,i);const o=s&&s.querySelector(`[value="${i}"]`);ke.element(o)&&(o.checked=!0)},getLabel(e,t){switch(e){case"speed":return t===1?Lo.get("normal",this.config):`${t}&times;`;case"quality":if(ke.number(t)){const n=Lo.get(`qualityLabel.${t}`,this.config);return n.length?n:`${t}p`}return vLe(t);case"captions":return Gr.getLabel.call(this);default:return null}},setQualityMenu(e){if(!ke.element(this.elements.settings.panels.quality))return;const t="quality",n=this.elements.settings.panels.quality.querySelector('[role="menu"]');ke.array(e)&&(this.options.quality=IG(e).filter((s=>this.config.quality.options.includes(s))));const r=!ke.empty(this.options.quality)&&this.options.quality.length>1;if(Bt.toggleMenuButton.call(this,t,r),eN(n),Bt.checkMenu.call(this),!r)return;const i=s=>{const o=Lo.get(`qualityBadge.${s}`,this.config);return o.length?Bt.createBadge.call(this,o):null};this.options.quality.sort(((s,o)=>{const a=this.config.quality.options;return a.indexOf(s)>a.indexOf(o)?1:-1})).forEach((s=>{Bt.createMenuItem.call(this,{value:s,list:n,type:t,title:Bt.getLabel.call(this,"quality",s),badge:i(s)})})),Bt.updateSetting.call(this,t,n)},setCaptionsMenu(){if(!ke.element(this.elements.settings.panels.captions))return;const e="captions",t=this.elements.settings.panels.captions.querySelector('[role="menu"]'),n=Gr.getTracks.call(this),r=!!n.length;if(Bt.toggleMenuButton.call(this,e,r),eN(t),Bt.checkMenu.call(this),!r)return;const i=n.map(((s,o)=>({value:o,checked:this.captions.toggled&&this.currentTrack===o,title:Gr.getLabel.call(this,s),badge:s.language&&Bt.createBadge.call(this,s.language.toUpperCase()),list:t,type:"language"})));i.unshift({value:-1,checked:!this.captions.toggled,title:Lo.get("disabled",this.config),list:t,type:"language"}),i.forEach(Bt.createMenuItem.bind(this)),Bt.updateSetting.call(this,e,t)},setSpeedMenu(){if(!ke.element(this.elements.settings.panels.speed))return;const e="speed",t=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter((r=>r>=this.minimumSpeed&&r<=this.maximumSpeed));const n=!ke.empty(this.options.speed)&&this.options.speed.length>1;Bt.toggleMenuButton.call(this,e,n),eN(t),Bt.checkMenu.call(this),n&&(this.options.speed.forEach((r=>{Bt.createMenuItem.call(this,{value:r,list:t,type:e,title:Bt.getLabel.call(this,"speed",r)})})),Bt.updateSetting.call(this,e,t))},checkMenu(){const{buttons:e}=this.elements.settings,t=!ke.empty(e)&&Object.values(e).some((n=>!n.hidden));zv(this.elements.settings.menu,!t)},focusFirstMenuItem(e,t=!1){if(this.elements.settings.popup.hidden)return;let n=e;ke.element(n)||(n=Object.values(this.elements.settings.panels).find((i=>!i.hidden)));const r=n.querySelector('[role^="menuitem"]');qz.call(this,r,t)},toggleMenu(e){const{popup:t}=this.elements.settings,n=this.elements.buttons.settings;if(!ke.element(t)||!ke.element(n))return;const{hidden:r}=t;let i=r;if(ke.boolean(e))i=e;else if(ke.keyboardEvent(e)&&e.key==="Escape")i=!1;else if(ke.event(e)){const s=ke.function(e.composedPath)?e.composedPath()[0]:e.target,o=t.contains(s);if(o||!o&&e.target!==n&&i)return}n.setAttribute("aria-expanded",i),zv(t,!i),li(this.elements.container,this.config.classNames.menu.open,i),i&&ke.keyboardEvent(e)?Bt.focusFirstMenuItem.call(this,null,!0):i||r||qz.call(this,n,ke.keyboardEvent(e))},getMenuSize(e){const t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);const n=t.scrollWidth,r=t.scrollHeight;return Dm(t),{width:n,height:r}},showMenuPanel(e="",t=!1){const n=this.elements.container.querySelector(`#plyr-settings-${this.id}-${e}`);if(!ke.element(n))return;const r=n.parentNode,i=Array.from(r.children).find((s=>!s.hidden));if(js.transitions&&!js.reducedMotion){r.style.width=`${i.scrollWidth}px`,r.style.height=`${i.scrollHeight}px`;const s=Bt.getMenuSize.call(this,n),o=a=>{a.target===r&&["width","height"].includes(a.propertyName)&&(r.style.width="",r.style.height="",S8.call(this,r,AG,o))};Vr.call(this,r,AG,o),r.style.width=`${s.width}px`,r.style.height=`${s.height}px`}zv(i,!0),zv(n,!1),Bt.focusFirstMenuItem.call(this,n,t)},setDownloadUrl(){const e=this.elements.buttons.download;ke.element(e)&&e.setAttribute("href",this.download)},create(e){const{bindMenuItemShortcuts:t,createButton:n,createProgress:r,createRange:i,createTime:s,setQualityMenu:o,setSpeedMenu:a,showMenuPanel:l}=Bt;this.elements.controls=null,ke.array(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(n.call(this,"play-large"));const u=Bn("div",Dh(this.config.selectors.controls.wrapper));this.elements.controls=u;const c={class:"plyr__controls__item"};return IG(ke.array(this.config.controls)?this.config.controls:[]).forEach((d=>{if(d==="restart"&&u.appendChild(n.call(this,"restart",c)),d==="rewind"&&u.appendChild(n.call(this,"rewind",c)),d==="play"&&u.appendChild(n.call(this,"play",c)),d==="fast-forward"&&u.appendChild(n.call(this,"fast-forward",c)),d==="progress"){const f=Bn("div",{class:`${c.class} plyr__progress__container`}),h=Bn("div",Dh(this.config.selectors.progress));if(h.appendChild(i.call(this,"seek",{id:`plyr-seek-${e.id}`})),h.appendChild(r.call(this,"buffer")),this.config.tooltips.seek){const p=Bn("span",{class:this.config.classNames.tooltip},"00:00");h.appendChild(p),this.elements.display.seekTooltip=p}this.elements.progress=h,f.appendChild(this.elements.progress),u.appendChild(f)}if(d==="current-time"&&u.appendChild(s.call(this,"currentTime",c)),d==="duration"&&u.appendChild(s.call(this,"duration",c)),d==="mute"||d==="volume"){let{volume:f}=this.elements;if(ke.element(f)&&u.contains(f)||(f=Bn("div",Fs({},c,{class:`${c.class} plyr__volume`.trim()})),this.elements.volume=f,u.appendChild(f)),d==="mute"&&f.appendChild(n.call(this,"mute")),d==="volume"&&!Bo.isIos&&!Bo.isIPadOS){const h={max:1,step:.05,value:this.config.volume};f.appendChild(i.call(this,"volume",Fs(h,{id:`plyr-volume-${e.id}`})))}}if(d==="captions"&&u.appendChild(n.call(this,"captions",c)),d==="settings"&&!ke.empty(this.config.settings)){const f=Bn("div",Fs({},c,{class:`${c.class} plyr__menu`.trim(),hidden:""}));f.appendChild(n.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${e.id}`,"aria-expanded":!1}));const h=Bn("div",{class:"plyr__menu__container",id:`plyr-settings-${e.id}`,hidden:""}),p=Bn("div"),m=Bn("div",{id:`plyr-settings-${e.id}-home`}),g=Bn("div",{role:"menu"});m.appendChild(g),p.appendChild(m),this.elements.settings.panels.home=m,this.config.settings.forEach((y=>{const v=Bn("button",Fs(Dh(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));t.call(this,v,y),Vr.call(this,v,"click",(()=>{l.call(this,y,!1)}));const w=Bn("span",null,Lo.get(y,this.config)),_=Bn("span",{class:this.config.classNames.menu.value});_.innerHTML=e[y],w.appendChild(_),v.appendChild(w),g.appendChild(v);const C=Bn("div",{id:`plyr-settings-${e.id}-${y}`,hidden:""}),S=Bn("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});S.appendChild(Bn("span",{"aria-hidden":!0},Lo.get(y,this.config))),S.appendChild(Bn("span",{class:this.config.classNames.hidden},Lo.get("menuBack",this.config))),Vr.call(this,C,"keydown",(T=>{T.key==="ArrowLeft"&&(T.preventDefault(),T.stopPropagation(),l.call(this,"home",!0))}),!1),Vr.call(this,S,"click",(()=>{l.call(this,"home",!1)})),C.appendChild(S),C.appendChild(Bn("div",{role:"menu"})),p.appendChild(C),this.elements.settings.buttons[y]=v,this.elements.settings.panels[y]=C})),h.appendChild(p),f.appendChild(h),u.appendChild(f),this.elements.settings.popup=h,this.elements.settings.menu=f}if(d==="pip"&&js.pip&&u.appendChild(n.call(this,"pip",c)),d==="airplay"&&js.airplay&&u.appendChild(n.call(this,"airplay",c)),d==="download"){const f=Fs({},c,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(f.download="");const{download:h}=this.config.urls;!ke.url(h)&&this.isEmbed&&Fs(f,{icon:`logo-${this.provider}`,label:this.provider}),u.appendChild(n.call(this,"download",f))}d==="fullscreen"&&u.appendChild(n.call(this,"fullscreen",c))})),this.isHTML5&&o.call(this,Gg.getQualityOptions.call(this)),a.call(this),u},inject(){if(this.config.loadSprite){const i=Bt.getIconUrl.call(this);i.cors&&bLe(i.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let e=null;this.elements.controls=null;const t={id:this.id,seektime:this.config.seekTime,title:this.config.title};let n=!0;ke.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,t)),this.config.controls||(this.config.controls=[]),ke.element(this.config.controls)||ke.string(this.config.controls)?e=this.config.controls:(e=Bt.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:Gr.getLabel.call(this)}),n=!1);let r;if(n&&ke.string(this.config.controls)&&(e=(i=>{let s=i;return Object.entries(t).forEach((([o,a])=>{s=_T(s,`{${o}}`,a)})),s})(e)),ke.string(this.config.selectors.controls.container)&&(r=document.querySelector(this.config.selectors.controls.container)),ke.element(r)||(r=this.elements.container),r[ke.element(e)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",e),ke.element(this.elements.controls)||Bt.findElements.call(this),!ke.empty(this.elements.buttons)){const i=s=>{const o=this.config.classNames.controlPressed;s.setAttribute("aria-pressed","false"),Object.defineProperty(s,"pressed",{configurable:!0,enumerable:!0,get:()=>t5(s,o),set(a=!1){li(s,o,a),s.setAttribute("aria-pressed",a?"true":"false")}})};Object.values(this.elements.buttons).filter(Boolean).forEach((s=>{ke.array(s)||ke.nodeList(s)?Array.from(s).filter(Boolean).forEach(i):i(s)}))}if(Bo.isEdge&&dLe(r),this.config.tooltips.controls){const{classNames:i,selectors:s}=this.config,o=`${s.controls.wrapper} ${s.labels} .${i.hidden}`,a=Kk.call(this,o);Array.from(a).forEach((l=>{li(l,this.config.classNames.hidden,!1),li(l,this.config.classNames.tooltip,!0)}))}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch{}},setMarkers(){var e,t;if(!this.duration||this.elements.markers)return;const n=(e=this.config.markers)===null||e===void 0||(t=e.points)===null||t===void 0?void 0:t.filter((({time:l})=>l>0&&l<this.duration));if(n==null||!n.length)return;const r=document.createDocumentFragment(),i=document.createDocumentFragment();let s=null;const o=`${this.config.classNames.tooltip}--visible`,a=l=>li(s,o,l);n.forEach((l=>{const u=Bn("span",{class:this.config.classNames.marker},""),c=l.time/this.duration*100+"%";s&&(u.addEventListener("mouseenter",(()=>{l.label||(s.style.left=c,s.innerHTML=l.label,a(!0))})),u.addEventListener("mouseleave",(()=>{a(!1)}))),u.addEventListener("click",(()=>{this.currentTime=l.time})),u.style.left=c,i.appendChild(u)})),r.appendChild(i),this.config.tooltips.seek||(s=Bn("span",{class:this.config.classNames.tooltip},""),r.appendChild(s)),this.elements.markers={points:i,tip:s},this.elements.progress.appendChild(r)}};function xLe(e,t=!0){let n=e;if(t){const r=document.createElement("a");r.href=n,n=r.href}try{return new URL(n)}catch{return null}}function _Le(e){const t=new URLSearchParams;return ke.object(e)&&Object.entries(e).forEach((([n,r])=>{t.set(n,r)})),t}const Gr={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!js.textTracks)return void(ke.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Bt.setCaptionsMenu.call(this));if(ke.element(this.elements.captions)||(this.elements.captions=Bn("div",Dh(this.config.selectors.captions)),this.elements.captions.setAttribute("dir","auto"),Yrn(this.elements.captions,this.elements.wrapper)),Bo.isIE&&window.URL){const r=this.media.querySelectorAll("track");Array.from(r).forEach((i=>{const s=i.getAttribute("src"),o=xLe(s);o!==null&&o.hostname!==window.location.href.hostname&&["http:","https:"].includes(o.protocol)&&qR(s,"blob").then((a=>{i.setAttribute("src",window.URL.createObjectURL(a))})).catch((()=>{Dm(i)}))}))}const e=IG((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map((r=>r.split("-")[0])));let t=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();t==="auto"&&([t]=e);let n=this.storage.get("captions");if(ke.boolean(n)||({active:n}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:n,language:t,languages:e}),this.isHTML5){const r=this.config.captions.update?"addtrack removetrack":"removetrack";Vr.call(this,this.media.textTracks,r,Gr.update.bind(this))}setTimeout(Gr.update.bind(this),0)},update(){const e=Gr.getTracks.call(this,!0),{active:t,language:n,meta:r,currentTrackNode:i}=this.captions,s=!!e.find((o=>o.language===n));this.isHTML5&&this.isVideo&&e.filter((o=>!r.get(o))).forEach((o=>{this.debug.log("Track added",o),r.set(o,{default:o.mode==="showing"}),o.mode==="showing"&&(o.mode="hidden"),Vr.call(this,o,"cuechange",(()=>Gr.updateCues.call(this)))})),(s&&this.language!==n||!e.includes(i))&&(Gr.setLanguage.call(this,n),Gr.toggle.call(this,t&&s)),this.elements&&li(this.elements.container,this.config.classNames.captions.enabled,!ke.empty(e)),ke.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Bt.setCaptionsMenu.call(this)},toggle(e,t=!0){if(!this.supported.ui)return;const{toggled:n}=this.captions,r=this.config.classNames.captions.active,i=ke.nullOrUndefined(e)?!n:e;if(i!==n){if(t||(this.captions.active=i,this.storage.set({captions:i})),!this.language&&i&&!t){const s=Gr.getTracks.call(this),o=Gr.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=o.language,void Gr.set.call(this,s.indexOf(o))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=i),li(this.elements.container,r,i),this.captions.toggled=i,Bt.updateSetting.call(this,"captions"),Hn.call(this,this.media,i?"captionsenabled":"captionsdisabled")}setTimeout((()=>{i&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")}))},set(e,t=!0){const n=Gr.getTracks.call(this);if(e!==-1)if(ke.number(e))if(e in n){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;const r=n[e],{language:i}=r||{};this.captions.currentTrackNode=r,Bt.updateSetting.call(this,"captions"),t||(this.captions.language=i,this.storage.set({language:i})),this.isVimeo&&this.embed.enableTextTrack(i),Hn.call(this,this.media,"languagechange")}Gr.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&Gr.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else Gr.toggle.call(this,!1,t)},setLanguage(e,t=!0){if(!ke.string(e))return void this.debug.warn("Invalid language argument",e);const n=e.toLowerCase();this.captions.language=n;const r=Gr.getTracks.call(this),i=Gr.findTrack.call(this,[n]);Gr.set.call(this,r.indexOf(i),t)},getTracks(e=!1){return Array.from((this.media||{}).textTracks||[]).filter((t=>!this.isHTML5||e||this.captions.meta.has(t))).filter((t=>["captions","subtitles"].includes(t.kind)))},findTrack(e,t=!1){const n=Gr.getTracks.call(this),r=o=>Number((this.captions.meta.get(o)||{}).default),i=Array.from(n).sort(((o,a)=>r(a)-r(o)));let s;return e.every((o=>(s=i.find((a=>a.language===o)),!s))),s||(t?i[0]:void 0)},getCurrentTrack(){return Gr.getTracks.call(this)[this.currentTrack]},getLabel(e){let t=e;return!ke.track(t)&&js.textTracks&&this.captions.toggled&&(t=Gr.getCurrentTrack.call(this)),ke.track(t)?ke.empty(t.label)?ke.empty(t.language)?Lo.get("enabled",this.config):e.language.toUpperCase():t.label:Lo.get("disabled",this.config)},updateCues(e){if(!this.supported.ui)return;if(!ke.element(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!ke.nullOrUndefined(e)&&!Array.isArray(e))return void this.debug.warn("updateCues: Invalid input",e);let t=e;if(!t){const r=Gr.getCurrentTrack.call(this);t=Array.from((r||{}).activeCues||[]).map((i=>i.getCueAsHTML())).map(sin)}const n=t.map((r=>r.trim())).join(`
`);if(n!==this.elements.captions.innerHTML){eN(this.elements.captions);const r=Bn("span",Dh(this.config.selectors.caption));r.innerHTML=n,this.elements.captions.appendChild(r),Hn.call(this,this.media,"cuechange")}}},CLe={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.8/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},Wz={active:"picture-in-picture",inactive:"inline"},Ng={html5:"html5",youtube:"youtube",vimeo:"vimeo"},Gz={audio:"audio",video:"video"};function lin(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?Ng.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?Ng.vimeo:null}const Yz=()=>{};class uin{constructor(t=!1){this.enabled=window.console&&t,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):Yz}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):Yz}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):Yz}}class qd{constructor(t){Gt(this,"onChange",(()=>{if(!this.supported)return;const n=this.player.elements.buttons.fullscreen;ke.element(n)&&(n.pressed=this.active);const r=this.target===this.player.media?this.target:this.player.elements.container;Hn.call(this.player,r,this.active?"enterfullscreen":"exitfullscreen",!0)})),Gt(this,"toggleFallback",((n=!1)=>{if(n?this.scrollPosition={x:window.scrollX??0,y:window.scrollY??0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=n?"hidden":"",li(this.target,this.player.config.classNames.fullscreen.fallback,n),Bo.isIos){let r=document.head.querySelector('meta[name="viewport"]');const i="viewport-fit=cover";r||(r=document.createElement("meta"),r.setAttribute("name","viewport"));const s=ke.string(r.content)&&r.content.includes(i);n?(this.cleanupViewport=!s,s||(r.content+=`,${i}`)):this.cleanupViewport&&(r.content=r.content.split(",").filter((o=>o.trim()!==i)).join(","))}this.onChange()})),Gt(this,"trapFocus",(n=>{if(Bo.isIos||Bo.isIPadOS||!this.active||n.key!=="Tab")return;const r=document.activeElement,i=Kk.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[s]=i,o=i[i.length-1];r!==o||n.shiftKey?r===s&&n.shiftKey&&(o.focus(),n.preventDefault()):(s.focus(),n.preventDefault())})),Gt(this,"update",(()=>{if(this.supported){let n;n=this.forceFallback?"Fallback (forced)":qd.nativeSupported?"Native":"Fallback",this.player.debug.log(`${n} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");li(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.supported)})),Gt(this,"enter",(()=>{this.supported&&(Bo.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!qd.nativeSupported||this.forceFallback?this.toggleFallback(!0):this.prefix?ke.empty(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))})),Gt(this,"exit",(()=>{if(this.supported)if(Bo.isIos&&this.player.config.fullscreen.iosNative)this.player.isVimeo?this.player.embed.exitFullscreen():this.target.webkitEnterFullscreen(),Vh(this.player.play());else if(!qd.nativeSupported||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!ke.empty(this.prefix)){const n=this.prefix==="moz"?"Cancel":"Exit";document[`${this.prefix}${n}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)})),Gt(this,"toggle",(()=>{this.active?this.exit():this.enter()})),this.player=t,this.prefix=qd.prefix,this.property=qd.property,this.scrollPosition={x:0,y:0},this.forceFallback=t.config.fullscreen.fallback==="force",this.player.elements.fullscreen=t.config.fullscreen.container&&Krn(this.player.elements.container,t.config.fullscreen.container),Vr.call(this.player,document,this.prefix==="ms"?"MSFullscreenChange":`${this.prefix}fullscreenchange`,(()=>{this.onChange()})),Vr.call(this.player,this.player.elements.container,"dblclick",(n=>{ke.element(this.player.elements.controls)&&this.player.elements.controls.contains(n.target)||this.player.listeners.proxy(n,this.toggle,"fullscreen")})),Vr.call(this,this.player.elements.container,"keydown",(n=>this.trapFocus(n))),this.update()}static get nativeSupported(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get useNative(){return qd.nativeSupported&&!this.forceFallback}static get prefix(){if(ke.function(document.exitFullscreen))return"";let t="";return["webkit","moz","ms"].some((n=>!(!ke.function(document[`${n}ExitFullscreen`])&&!ke.function(document[`${n}CancelFullScreen`]))&&(t=n,!0))),t}static get property(){return this.prefix==="moz"?"FullScreen":"Fullscreen"}get supported(){return[this.player.config.fullscreen.enabled,this.player.isVideo,qd.nativeSupported||this.player.config.fullscreen.fallback,!this.player.isYouTube||qd.nativeSupported||!Bo.isIos||this.player.config.playsinline&&!this.player.config.fullscreen.iosNative].every(Boolean)}get active(){if(!this.supported)return!1;if(!qd.nativeSupported||this.forceFallback)return t5(this.target,this.player.config.classNames.fullscreen.fallback);const t=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return t&&t.shadowRoot?t===this.target.getRootNode().host:t===this.target}get target(){return Bo.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen??this.player.elements.container}}function tN(e,t=1){return new Promise(((n,r)=>{const i=new Image,s=()=>{delete i.onload,delete i.onerror,(i.naturalWidth>=t?n:r)(i)};Object.assign(i,{onload:s,onerror:s,src:e})}))}const bi={addStyleHook(){li(this.elements.container,this.config.selectors.container.replace(".",""),!0),li(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(e=!1){e&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void bi.toggleNativeControls.call(this,!0);ke.element(this.elements.controls)||(Bt.inject.call(this),this.listeners.controls()),bi.toggleNativeControls.call(this),this.isHTML5&&Gr.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,Bt.updateVolume.call(this),Bt.timeUpdate.call(this),Bt.durationUpdate.call(this),bi.checkPlaying.call(this),li(this.elements.container,this.config.classNames.pip.supported,js.pip&&this.isHTML5&&this.isVideo),li(this.elements.container,this.config.classNames.airplay.supported,js.airplay&&this.isHTML5),li(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout((()=>{Hn.call(this,this.media,"ready")}),0),bi.setTitle.call(this),this.poster&&bi.setPoster.call(this,this.poster,!1).catch((()=>{})),this.config.duration&&Bt.durationUpdate.call(this),this.config.mediaMetadata&&Bt.setMediaMetadata.call(this)},setTitle(){let e=Lo.get("play",this.config);if(ke.string(this.config.title)&&!ke.empty(this.config.title)&&(e+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach((t=>{t.setAttribute("aria-label",e)})),this.isEmbed){const t=mo.call(this,"iframe");if(!ke.element(t))return;const n=ke.empty(this.config.title)?"video":this.config.title,r=Lo.get("frameTitle",this.config);t.setAttribute("title",r.replace("{title}",n))}},togglePoster(e){li(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster(e,t=!0){return t&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",e),this.elements.poster.removeAttribute("hidden"),Jrn.call(this).then((()=>tN(e))).catch((n=>{throw e===this.poster&&bi.togglePoster.call(this,!1),n})).then((()=>{if(e!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")})).then((()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${e}')`,backgroundSize:""}),bi.togglePoster.call(this,!0),e))))},checkPlaying(e){li(this.elements.container,this.config.classNames.playing,this.playing),li(this.elements.container,this.config.classNames.paused,this.paused),li(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach((t=>{Object.assign(t,{pressed:this.playing}),t.setAttribute("aria-label",Lo.get(this.playing?"pause":"play",this.config))})),ke.event(e)&&e.type==="timeupdate"||bi.toggleControls.call(this)},checkLoading(e){this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout((()=>{li(this.elements.container,this.config.classNames.loading,this.loading),bi.toggleControls.call(this)}),this.loading?250:0)},toggleControls(e){const{controls:t}=this.elements;if(t&&this.config.hideControls){const n=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(!!(e||this.loading||this.paused||t.pressed||t.hover||n))}},migrateStyles(){Object.values({...this.media.style}).filter((e=>!ke.empty(e)&&ke.string(e)&&e.startsWith("--plyr"))).forEach((e=>{this.elements.container.style.setProperty(e,this.media.style.getPropertyValue(e)),this.media.style.removeProperty(e)})),ke.empty(this.media.style)&&this.media.removeAttribute("style")}};class cin{constructor(t){Gt(this,"firstTouch",(()=>{const{player:n}=this,{elements:r}=n;n.touch=!0,li(r.container,n.config.classNames.isTouch,!0)})),Gt(this,"global",((n=!0)=>{const{player:r}=this;r.config.keyboard.global&&Xk.call(r,window,"keydown keyup",this.handleKey,n,!1),Xk.call(r,document.body,"click",this.toggleMenu,n),die.call(r,document.body,"touchstart",this.firstTouch)})),Gt(this,"container",(()=>{const{player:n}=this,{config:r,elements:i,timers:s}=n;!r.keyboard.global&&r.keyboard.focused&&Vr.call(n,i.container,"keydown keyup",this.handleKey,!1),Vr.call(n,i.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",(l=>{const{controls:u}=i;u&&l.type==="enterfullscreen"&&(u.pressed=!1,u.hover=!1);let c=0;["touchstart","touchmove","mousemove"].includes(l.type)&&(bi.toggleControls.call(n,!0),c=n.touch?3e3:2e3),clearTimeout(s.controls),s.controls=setTimeout((()=>bi.toggleControls.call(n,!1)),c)}));const o=()=>{if(!n.isVimeo||n.config.vimeo.premium)return;const l=i.wrapper,{active:u}=n.fullscreen,[c,d]=fie.call(n),f=mLe(`aspect-ratio: ${c} / ${d}`);if(!u)return void(f?(l.style.width=null,l.style.height=null):(l.style.maxWidth=null,l.style.margin=null));const[h,p]=Zrn(),m=h/p>c/d;f?(l.style.width=m?"auto":"100%",l.style.height=m?"100%":"auto"):(l.style.maxWidth=m?p/d*c+"px":null,l.style.margin=m?"0 auto":null)},a=()=>{clearTimeout(s.resized),s.resized=setTimeout(o,50)};Vr.call(n,i.container,"enterfullscreen exitfullscreen",(l=>{const{target:u}=n.fullscreen;u===i.container&&(!n.isEmbed&&ke.empty(n.config.ratio)||(o(),(l.type==="enterfullscreen"?Vr:S8).call(n,window,"resize",a)))}))})),Gt(this,"media",(()=>{const{player:n}=this,{elements:r}=n;if(Vr.call(n,n.media,"timeupdate seeking seeked",(s=>Bt.timeUpdate.call(n,s))),Vr.call(n,n.media,"durationchange loadeddata loadedmetadata",(s=>Bt.durationUpdate.call(n,s))),Vr.call(n,n.media,"ended",(()=>{n.isHTML5&&n.isVideo&&n.config.resetOnEnd&&(n.restart(),n.pause())})),Vr.call(n,n.media,"progress playing seeking seeked",(s=>Bt.updateProgress.call(n,s))),Vr.call(n,n.media,"volumechange",(s=>Bt.updateVolume.call(n,s))),Vr.call(n,n.media,"playing play pause ended emptied timeupdate",(s=>bi.checkPlaying.call(n,s))),Vr.call(n,n.media,"waiting canplay seeked playing",(s=>bi.checkLoading.call(n,s))),n.supported.ui&&n.config.clickToPlay&&!n.isAudio){const s=mo.call(n,`.${n.config.classNames.video}`);if(!ke.element(s))return;Vr.call(n,r.container,"click",(o=>{([r.container,s].includes(o.target)||s.contains(o.target))&&(n.touch&&n.config.hideControls||(n.ended?(this.proxy(o,n.restart,"restart"),this.proxy(o,(()=>{Vh(n.play())}),"play")):this.proxy(o,(()=>{Vh(n.togglePlay())}),"play")))}))}n.supported.ui&&n.config.disableContextMenu&&Vr.call(n,r.wrapper,"contextmenu",(s=>{s.preventDefault()}),!1),Vr.call(n,n.media,"volumechange",(()=>{n.storage.set({volume:n.volume,muted:n.muted})})),Vr.call(n,n.media,"ratechange",(()=>{Bt.updateSetting.call(n,"speed"),n.storage.set({speed:n.speed})})),Vr.call(n,n.media,"qualitychange",(s=>{Bt.updateSetting.call(n,"quality",null,s.detail.quality)})),Vr.call(n,n.media,"ready qualitychange",(()=>{Bt.setDownloadUrl.call(n)}));const i=n.config.events.concat(["keyup","keydown"]).join(" ");Vr.call(n,n.media,i,(s=>{let{detail:o={}}=s;s.type==="error"&&(o=n.media.error),Hn.call(n,r.container,s.type,!0,o)}))})),Gt(this,"proxy",((n,r,i)=>{const{player:s}=this,o=s.config.listeners[i];let a=!0;ke.function(o)&&(a=o.call(s,n)),a!==!1&&ke.function(r)&&r.call(s,n)})),Gt(this,"bind",((n,r,i,s,o=!0)=>{const{player:a}=this,l=a.config.listeners[s],u=ke.function(l);Vr.call(a,n,r,(c=>this.proxy(c,i,s)),o&&!u)})),Gt(this,"controls",(()=>{const{player:n}=this,{elements:r}=n,i=Bo.isIE?"change":"input";if(r.buttons.play&&Array.from(r.buttons.play).forEach((s=>{this.bind(s,"click",(()=>{Vh(n.togglePlay())}),"play")})),this.bind(r.buttons.restart,"click",n.restart,"restart"),this.bind(r.buttons.rewind,"click",(()=>{n.lastSeekTime=Date.now(),n.rewind()}),"rewind"),this.bind(r.buttons.fastForward,"click",(()=>{n.lastSeekTime=Date.now(),n.forward()}),"fastForward"),this.bind(r.buttons.mute,"click",(()=>{n.muted=!n.muted}),"mute"),this.bind(r.buttons.captions,"click",(()=>n.toggleCaptions())),this.bind(r.buttons.download,"click",(()=>{Hn.call(n,n.media,"download")}),"download"),this.bind(r.buttons.fullscreen,"click",(()=>{n.fullscreen.toggle()}),"fullscreen"),this.bind(r.buttons.pip,"click",(()=>{n.pip="toggle"}),"pip"),this.bind(r.buttons.airplay,"click",n.airplay,"airplay"),this.bind(r.buttons.settings,"click",(s=>{s.stopPropagation(),s.preventDefault(),Bt.toggleMenu.call(n,s)}),null,!1),this.bind(r.buttons.settings,"keyup",(s=>{[" ","Enter"].includes(s.key)&&(s.key!=="Enter"?(s.preventDefault(),s.stopPropagation(),Bt.toggleMenu.call(n,s)):Bt.focusFirstMenuItem.call(n,null,!0))}),null,!1),this.bind(r.settings.menu,"keydown",(s=>{s.key==="Escape"&&Bt.toggleMenu.call(n,s)})),this.bind(r.inputs.seek,"mousedown mousemove",(s=>{const o=r.progress.getBoundingClientRect(),a=100/o.width*(s.pageX-o.left);s.currentTarget.setAttribute("seek-value",a)})),this.bind(r.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",(s=>{const o=s.currentTarget,a="play-on-seeked";if(ke.keyboardEvent(s)&&!["ArrowLeft","ArrowRight"].includes(s.key))return;n.lastSeekTime=Date.now();const l=o.hasAttribute(a),u=["mouseup","touchend","keyup"].includes(s.type);l&&u?(o.removeAttribute(a),Vh(n.play())):!u&&n.playing&&(o.setAttribute(a,""),n.pause())})),Bo.isIos){const s=Kk.call(n,'input[type="range"]');Array.from(s).forEach((o=>this.bind(o,i,(a=>dLe(a.target)))))}this.bind(r.inputs.seek,i,(s=>{const o=s.currentTarget;let a=o.getAttribute("seek-value");ke.empty(a)&&(a=o.value),o.removeAttribute("seek-value"),n.currentTime=a/o.max*n.duration}),"seek"),this.bind(r.progress,"mouseenter mouseleave mousemove",(s=>Bt.updateSeekTooltip.call(n,s))),this.bind(r.progress,"mousemove touchmove",(s=>{const{previewThumbnails:o}=n;o&&o.loaded&&o.startMove(s)})),this.bind(r.progress,"mouseleave touchend click",(()=>{const{previewThumbnails:s}=n;s&&s.loaded&&s.endMove(!1,!0)})),this.bind(r.progress,"mousedown touchstart",(s=>{const{previewThumbnails:o}=n;o&&o.loaded&&o.startScrubbing(s)})),this.bind(r.progress,"mouseup touchend",(s=>{const{previewThumbnails:o}=n;o&&o.loaded&&o.endScrubbing(s)})),Bo.isWebKit&&Array.from(Kk.call(n,'input[type="range"]')).forEach((s=>{this.bind(s,"input",(o=>Bt.updateRangeFill.call(n,o.target)))})),n.config.toggleInvert&&!ke.element(r.display.duration)&&this.bind(r.display.currentTime,"click",(()=>{n.currentTime!==0&&(n.config.invertTime=!n.config.invertTime,Bt.timeUpdate.call(n))})),this.bind(r.inputs.volume,i,(s=>{n.volume=s.target.value}),"volume"),this.bind(r.controls,"mouseenter mouseleave",(s=>{r.controls.hover=!n.touch&&s.type==="mouseenter"})),r.fullscreen&&Array.from(r.fullscreen.children).filter((s=>!s.contains(r.container))).forEach((s=>{this.bind(s,"mouseenter mouseleave",(o=>{r.controls&&(r.controls.hover=!n.touch&&o.type==="mouseenter")}))})),this.bind(r.controls,"mousedown mouseup touchstart touchend touchcancel",(s=>{r.controls.pressed=["mousedown","touchstart"].includes(s.type)})),this.bind(r.controls,"focusin",(()=>{const{config:s,timers:o}=n;li(r.controls,s.classNames.noTransition,!0),bi.toggleControls.call(n,!0),setTimeout((()=>{li(r.controls,s.classNames.noTransition,!1)}),0);const a=this.touch?3e3:4e3;clearTimeout(o.controls),o.controls=setTimeout((()=>bi.toggleControls.call(n,!1)),a)})),this.bind(r.inputs.volume,"wheel",(s=>{const o=s.webkitDirectionInvertedFromDevice,[a,l]=[s.deltaX,-s.deltaY].map((d=>o?-d:d)),u=Math.sign(Math.abs(a)>Math.abs(l)?a:l);n.increaseVolume(u/50);const{volume:c}=n.media;(u===1&&c<1||u===-1&&c>0)&&s.preventDefault()}),"volume",!1)})),this.player=t,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(t){const{player:n}=this,{elements:r}=n,{key:i,type:s,altKey:o,ctrlKey:a,metaKey:l,shiftKey:u}=t,c=s==="keydown",d=c&&i===this.lastKey;if(!(o||a||l||u)&&i){if(c){const h=document.activeElement;if(ke.element(h)){const{editable:p}=n.config.selectors,{seek:m}=r.inputs;if(h!==m&&_1(h,p)||t.key===" "&&_1(h,'button, [role^="menuitem"]'))return}switch([" ","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(i)&&(t.preventDefault(),t.stopPropagation()),i){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":d||(f=parseInt(i,10),n.currentTime=n.duration/10*f);break;case" ":case"k":d||Vh(n.togglePlay());break;case"ArrowUp":n.increaseVolume(.1);break;case"ArrowDown":n.decreaseVolume(.1);break;case"m":d||(n.muted=!n.muted);break;case"ArrowRight":n.forward();break;case"ArrowLeft":n.rewind();break;case"f":n.fullscreen.toggle();break;case"c":d||n.toggleCaptions();break;case"l":n.loop=!n.loop}i==="Escape"&&!n.fullscreen.usingNative&&n.fullscreen.active&&n.fullscreen.toggle(),this.lastKey=i}else this.lastKey=null;var f}}toggleMenu(t){Bt.toggleMenu.call(this.player,t)}}function din(e,t){return e(t={exports:{}},t.exports),t.exports}var fin=din((function(e,t){e.exports=(function(){var n=function(){},r={},i={},s={};function o(f,h){f=f.push?f:[f];var p,m,g,y=[],v=f.length,w=v;for(p=function(_,C){C.length&&y.push(_),--w||h(y)};v--;)m=f[v],(g=i[m])?p(m,g):(s[m]=s[m]||[]).push(p)}function a(f,h){if(f){var p=s[f];if(i[f]=h,p)for(;p.length;)p[0](f,h),p.splice(0,1)}}function l(f,h){f.call&&(f={success:f}),h.length?(f.error||n)(h):(f.success||n)(f)}function u(f,h,p,m){var g,y,v=document,w=p.async,_=(p.numRetries||0)+1,C=p.before||n,S=f.replace(/[\?|#].*$/,""),T=f.replace(/^(css|img)!/,"");m=m||0,/(^css!|\.css$)/.test(S)?((y=v.createElement("link")).rel="stylesheet",y.href=T,(g="hideFocus"in y)&&y.relList&&(g=0,y.rel="preload",y.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(S)?(y=v.createElement("img")).src=T:((y=v.createElement("script")).src=f,y.async=w===void 0||w),y.onload=y.onerror=y.onbeforeload=function(k){var I=k.type[0];if(g)try{y.sheet.cssText.length||(I="e")}catch(R){R.code!=18&&(I="e")}if(I=="e"){if((m+=1)<_)return u(f,h,p,m)}else if(y.rel=="preload"&&y.as=="style")return y.rel="stylesheet";h(f,I,k.defaultPrevented)},C(f,y)!==!1&&v.head.appendChild(y)}function c(f,h,p){var m,g,y=(f=f.push?f:[f]).length,v=y,w=[];for(m=function(_,C,S){if(C=="e"&&w.push(_),C=="b"){if(!S)return;w.push(_)}--y||h(w)},g=0;g<v;g++)u(f[g],m,p)}function d(f,h,p){var m,g;if(h&&h.trim&&(m=h),g=(m?p:h)||{},m){if(m in r)throw"LoadJS";r[m]=!0}function y(v,w){c(f,(function(_){l(g,_),v&&l({success:v,error:w},_),a(m,_)}),g)}if(g.returnPromise)return new Promise(y);y()}return d.ready=function(f,h){return o(f,(function(p){l(h,p)})),d},d.done=function(f){a(f,[])},d.reset=function(){r={},i={},s={}},d.isDefined=function(f){return f in r},d})()}));function hie(e){return new Promise(((t,n)=>{fin(e,{success:t,error:n})}))}function hin(e){return ke.empty(e)?null:ke.number(Number(e))?e:e.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:e}function pin(e){const t=e.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return t&&t.length===5?t[4]:null}function z2(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,Hn.call(this,this.media,e?"play":"pause"))}const PG={setup(){const e=this;li(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,uC.call(e),ke.object(window.Vimeo)?PG.ready.call(e):hie(e.config.urls.vimeo.sdk).then((()=>{PG.ready.call(e)})).catch((t=>{e.debug.warn("Vimeo SDK (player.js) failed to load",t)}))},ready(){const e=this,t=e.config.vimeo,{premium:n,referrerPolicy:r,...i}=t;let s=e.media.getAttribute("src"),o="";ke.empty(s)?(s=e.media.getAttribute(e.config.attributes.embed.id),o=e.media.getAttribute(e.config.attributes.embed.hash)):o=pin(s);const a=o?{h:o}:{};n&&Object.assign(i,{controls:!1,sidedock:!1});const l=_Le({loop:e.config.loop.active,autoplay:e.autoplay,muted:e.muted,gesture:"media",playsinline:e.config.playsinline,...a,...i}),u=hin(s),c=Bn("iframe"),d=DG(e.config.urls.vimeo.iframe,u,l);if(c.setAttribute("src",d),c.setAttribute("allowfullscreen",""),c.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),ke.empty(r)||c.setAttribute("referrerPolicy",r),n||!t.customControls)c.setAttribute("data-poster",e.poster),e.media=e5(c,e.media);else{const v=Bn("div",{class:e.config.classNames.embedContainer,"data-poster":e.poster});v.appendChild(c),e.media=e5(v,e.media)}t.customControls||qR(DG(e.config.urls.vimeo.api,d)).then((v=>{!ke.empty(v)&&v.thumbnail_url&&bi.setPoster.call(e,v.thumbnail_url).catch((()=>{}))})),e.embed=new window.Vimeo.Player(c,{autopause:e.config.autopause,muted:e.muted}),e.media.paused=!0,e.media.currentTime=0,e.supported.ui&&e.embed.disableTextTrack(),e.media.play=()=>(z2.call(e,!0),e.embed.play()),e.media.pause=()=>(z2.call(e,!1),e.embed.pause()),e.media.stop=()=>{e.pause(),e.currentTime=0};let{currentTime:f}=e.media;Object.defineProperty(e.media,"currentTime",{get:()=>f,set(v){const{embed:w,media:_,paused:C,volume:S}=e,T=C&&!w.hasPlayed;_.seeking=!0,Hn.call(e,_,"seeking"),Promise.resolve(T&&w.setVolume(0)).then((()=>w.setCurrentTime(v))).then((()=>T&&w.pause())).then((()=>T&&w.setVolume(S))).catch((()=>{}))}});let h=e.config.speed.selected;Object.defineProperty(e.media,"playbackRate",{get:()=>h,set(v){e.embed.setPlaybackRate(v).then((()=>{h=v,Hn.call(e,e.media,"ratechange")})).catch((()=>{e.options.speed=[1]}))}});let{volume:p}=e.config;Object.defineProperty(e.media,"volume",{get:()=>p,set(v){e.embed.setVolume(v).then((()=>{p=v,Hn.call(e,e.media,"volumechange")}))}});let{muted:m}=e.config;Object.defineProperty(e.media,"muted",{get:()=>m,set(v){const w=!!ke.boolean(v)&&v;e.embed.setMuted(!!w||e.config.muted).then((()=>{m=w,Hn.call(e,e.media,"volumechange")}))}});let g,{loop:y}=e.config;Object.defineProperty(e.media,"loop",{get:()=>y,set(v){const w=ke.boolean(v)?v:e.config.loop.active;e.embed.setLoop(w).then((()=>{y=w}))}}),e.embed.getVideoUrl().then((v=>{g=v,Bt.setDownloadUrl.call(e)})).catch((v=>{this.debug.warn(v)})),Object.defineProperty(e.media,"currentSrc",{get:()=>g}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration}),Promise.all([e.embed.getVideoWidth(),e.embed.getVideoHeight()]).then((v=>{const[w,_]=v;e.embed.ratio=yLe(w,_),uC.call(this)})),e.embed.setAutopause(e.config.autopause).then((v=>{e.config.autopause=v})),e.embed.getVideoTitle().then((v=>{e.config.title=v,bi.setTitle.call(this)})),e.embed.getCurrentTime().then((v=>{f=v,Hn.call(e,e.media,"timeupdate")})),e.embed.getDuration().then((v=>{e.media.duration=v,Hn.call(e,e.media,"durationchange")})),e.embed.getTextTracks().then((v=>{e.media.textTracks=v,Gr.setup.call(e)})),e.embed.on("cuechange",(({cues:v=[]})=>{const w=v.map((_=>iin(_.text)));Gr.updateCues.call(e,w)})),e.embed.on("loaded",(()=>{e.embed.getPaused().then((v=>{z2.call(e,!v),v||Hn.call(e,e.media,"playing")})),ke.element(e.embed.element)&&e.supported.ui&&e.embed.element.setAttribute("tabindex",-1)})),e.embed.on("bufferstart",(()=>{Hn.call(e,e.media,"waiting")})),e.embed.on("bufferend",(()=>{Hn.call(e,e.media,"playing")})),e.embed.on("play",(()=>{z2.call(e,!0),Hn.call(e,e.media,"playing")})),e.embed.on("pause",(()=>{z2.call(e,!1)})),e.embed.on("timeupdate",(v=>{e.media.seeking=!1,f=v.seconds,Hn.call(e,e.media,"timeupdate")})),e.embed.on("progress",(v=>{e.media.buffered=v.percent,Hn.call(e,e.media,"progress"),parseInt(v.percent,10)===1&&Hn.call(e,e.media,"canplaythrough"),e.embed.getDuration().then((w=>{w!==e.media.duration&&(e.media.duration=w,Hn.call(e,e.media,"durationchange"))}))})),e.embed.on("seeked",(()=>{e.media.seeking=!1,Hn.call(e,e.media,"seeked")})),e.embed.on("ended",(()=>{e.media.paused=!0,Hn.call(e,e.media,"ended")})),e.embed.on("error",(v=>{e.media.error=v,Hn.call(e,e.media,"error")})),t.customControls&&setTimeout((()=>bi.build.call(e)),0)}};function min(e){return ke.empty(e)?null:e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:e}function U2(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,Hn.call(this,this.media,e?"play":"pause"))}function gin(e){return e.noCookie?"https://www.youtube-nocookie.com":window.location.protocol==="http:"?"http://www.youtube.com":void 0}const nN={setup(){if(li(this.elements.wrapper,this.config.classNames.embed,!0),ke.object(window.YT)&&ke.function(window.YT.Player))nN.ready.call(this);else{const e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{ke.function(e)&&e(),nN.ready.call(this)},hie(this.config.urls.youtube.sdk).catch((t=>{this.debug.warn("YouTube API failed to load",t)}))}},getTitle(e){qR(DG(this.config.urls.youtube.api,e)).then((t=>{if(ke.object(t)){const{title:n,height:r,width:i}=t;this.config.title=n,bi.setTitle.call(this),this.embed.ratio=yLe(i,r)}uC.call(this)})).catch((()=>{uC.call(this)}))},ready(){const e=this,t=e.config.youtube,n=e.media&&e.media.getAttribute("id");if(!ke.empty(n)&&n.startsWith("youtube-"))return;let r=e.media.getAttribute("src");ke.empty(r)&&(r=e.media.getAttribute(this.config.attributes.embed.id));const i=min(r),s=Bn("div",{id:ein(e.provider),"data-poster":t.customControls?e.poster:void 0});if(e.media=e5(s,e.media),t.customControls){const o=a=>`https://i.ytimg.com/vi/${i}/${a}default.jpg`;tN(o("maxres"),121).catch((()=>tN(o("sd"),121))).catch((()=>tN(o("hq")))).then((a=>bi.setPoster.call(e,a.src))).then((a=>{a.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")})).catch((()=>{}))}e.embed=new window.YT.Player(e.media,{videoId:i,host:gin(t),playerVars:Fs({},{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui&&t.customControls?0:1,disablekb:1,playsinline:e.config.playsinline&&!e.config.fullscreen.iosNative?1:0,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},t),events:{onError(o){if(!e.media.error){const a=o.data,l={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[a]||"An unknown error occurred";e.media.error={code:a,message:l},Hn.call(e,e.media,"error")}},onPlaybackRateChange(o){const a=o.target;e.media.playbackRate=a.getPlaybackRate(),Hn.call(e,e.media,"ratechange")},onReady(o){if(ke.function(e.media.play))return;const a=o.target;nN.getTitle.call(e,i),e.media.play=()=>{U2.call(e,!0),a.playVideo()},e.media.pause=()=>{U2.call(e,!1),a.pauseVideo()},e.media.stop=()=>{a.stopVideo()},e.media.duration=a.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:()=>Number(a.getCurrentTime()),set(d){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,Hn.call(e,e.media,"seeking"),a.seekTo(d)}}),Object.defineProperty(e.media,"playbackRate",{get:()=>a.getPlaybackRate(),set(d){a.setPlaybackRate(d)}});let{volume:l}=e.config;Object.defineProperty(e.media,"volume",{get:()=>l,set(d){l=d,a.setVolume(100*l),Hn.call(e,e.media,"volumechange")}});let{muted:u}=e.config;Object.defineProperty(e.media,"muted",{get:()=>u,set(d){const f=ke.boolean(d)?d:u;u=f,a[f?"mute":"unMute"](),a.setVolume(100*l),Hn.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:()=>a.getVideoUrl()}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration});const c=a.getAvailablePlaybackRates();e.options.speed=c.filter((d=>e.config.speed.options.includes(d))),e.supported.ui&&t.customControls&&e.media.setAttribute("tabindex",-1),Hn.call(e,e.media,"timeupdate"),Hn.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval((()=>{e.media.buffered=a.getVideoLoadedFraction(),(e.media.lastBuffered===null||e.media.lastBuffered<e.media.buffered)&&Hn.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,e.media.buffered===1&&(clearInterval(e.timers.buffering),Hn.call(e,e.media,"canplaythrough"))}),200),t.customControls&&setTimeout((()=>bi.build.call(e)),50)},onStateChange(o){const a=o.target;switch(clearInterval(e.timers.playing),e.media.seeking&&[1,2].includes(o.data)&&(e.media.seeking=!1,Hn.call(e,e.media,"seeked")),o.data){case-1:Hn.call(e,e.media,"timeupdate"),e.media.buffered=a.getVideoLoadedFraction(),Hn.call(e,e.media,"progress");break;case 0:U2.call(e,!1),e.media.loop?(a.stopVideo(),a.playVideo()):Hn.call(e,e.media,"ended");break;case 1:t.customControls&&!e.config.autoplay&&e.media.paused&&!e.embed.hasPlayed?e.media.pause():(U2.call(e,!0),Hn.call(e,e.media,"playing"),e.timers.playing=setInterval((()=>{Hn.call(e,e.media,"timeupdate")}),50),e.media.duration!==a.getDuration()&&(e.media.duration=a.getDuration(),Hn.call(e,e.media,"durationchange")));break;case 2:e.muted||e.embed.unMute(),U2.call(e,!1);break;case 3:Hn.call(e,e.media,"waiting")}Hn.call(e,e.elements.container,"statechange",!1,{code:o.data})}}})}},ELe={setup(){this.media?(li(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),li(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&li(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=Bn("div",{class:this.config.classNames.video}),hLe(this.media,this.elements.wrapper),this.elements.poster=Bn("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?Gg.setup.call(this):this.isYouTube?nN.setup.call(this):this.isVimeo&&PG.setup.call(this)):this.debug.warn("No media element found!")}};class yin{constructor(t){Gt(this,"load",(()=>{this.enabled&&(ke.object(window.google)&&ke.object(window.google.ima)?this.ready():hie(this.player.config.urls.googleIMA.sdk).then((()=>{this.ready()})).catch((()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))})))})),Gt(this,"ready",(()=>{var n;this.enabled||((n=this).manager&&n.manager.destroy(),n.elements.displayContainer&&n.elements.displayContainer.destroy(),n.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then((()=>{this.clearSafetyTimer("onAdsManagerLoaded()")})),this.listeners(),this.setupIMA()})),Gt(this,"setupIMA",(()=>{this.elements.container=Bn("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(n=>this.onAdsManagerLoaded(n)),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(n=>this.onAdError(n)),!1),this.requestAds()})),Gt(this,"requestAds",(()=>{const{container:n}=this.player.elements;try{const r=new google.ima.AdsRequest;r.adTagUrl=this.tagUrl,r.linearAdSlotWidth=n.offsetWidth,r.linearAdSlotHeight=n.offsetHeight,r.nonLinearAdSlotWidth=n.offsetWidth,r.nonLinearAdSlotHeight=n.offsetHeight,r.forceNonLinearFullSlot=!1,r.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(r)}catch(r){this.onAdError(r)}})),Gt(this,"pollCountdown",((n=!1)=>{if(!n)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval((()=>{const r=T8(Math.max(this.manager.getRemainingTime(),0)),i=`${Lo.get("advertisement",this.player.config)} - ${r}`;this.elements.container.setAttribute("data-badge-text",i)}),100)})),Gt(this,"onAdsManagerLoaded",(n=>{if(!this.enabled)return;const r=new google.ima.AdsRenderingSettings;r.restoreCustomPlaybackStateOnAdBreakComplete=!0,r.enablePreloading=!0,this.manager=n.getAdsManager(this.player,r),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(i=>this.onAdError(i))),Object.keys(google.ima.AdEvent.Type).forEach((i=>{this.manager.addEventListener(google.ima.AdEvent.Type[i],(s=>this.onAdEvent(s)))})),this.trigger("loaded")})),Gt(this,"addCuePoints",(()=>{ke.empty(this.cuePoints)||this.cuePoints.forEach((n=>{if(n!==0&&n!==-1&&n<this.player.duration){const r=this.player.elements.progress;if(ke.element(r)){const i=100/this.player.duration*n,s=Bn("span",{class:this.player.config.classNames.cues});s.style.left=`${i.toString()}%`,r.appendChild(s)}}}))})),Gt(this,"onAdEvent",(n=>{const{container:r}=this.player.elements,i=n.getAd(),s=n.getAdData();switch((o=>{Hn.call(this.player,this.player.media,`ads${o.replace(/_/g,"").toLowerCase()}`)})(n.type),n.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),i.isLinear()||(i.width=r.offsetWidth,i.height=r.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:s.adError&&this.player.debug.warn(`Non-fatal ad error: ${s.adError.getMessage()}`)}})),Gt(this,"onAdError",(n=>{this.cancel(),this.player.debug.warn("Ads error",n)})),Gt(this,"listeners",(()=>{const{container:n}=this.player.elements;let r;this.player.on("canplay",(()=>{this.addCuePoints()})),this.player.on("ended",(()=>{this.loader.contentComplete()})),this.player.on("timeupdate",(()=>{r=this.player.currentTime})),this.player.on("seeked",(()=>{const i=this.player.currentTime;ke.empty(this.cuePoints)||this.cuePoints.forEach(((s,o)=>{r<s&&s<i&&(this.manager.discardAdBreak(),this.cuePoints.splice(o,1))}))})),window.addEventListener("resize",(()=>{this.manager&&this.manager.resize(n.offsetWidth,n.offsetHeight,google.ima.ViewMode.NORMAL)}))})),Gt(this,"play",(()=>{const{container:n}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then((()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(n.offsetWidth,n.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(r){this.onAdError(r)}})).catch((()=>{}))})),Gt(this,"resumeContent",(()=>{this.elements.container.style.zIndex="",this.playing=!1,Vh(this.player.media.play())})),Gt(this,"pauseContent",(()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()})),Gt(this,"cancel",(()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()})),Gt(this,"loadAds",(()=>{this.managerPromise.then((()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise((n=>{this.on("loaded",n),this.player.debug.log(this.manager)})),this.initialized=!1,this.requestAds()})).catch((()=>{}))})),Gt(this,"trigger",((n,...r)=>{const i=this.events[n];ke.array(i)&&i.forEach((s=>{ke.function(s)&&s.apply(this,r)}))})),Gt(this,"on",((n,r)=>(ke.array(this.events[n])||(this.events[n]=[]),this.events[n].push(r),this))),Gt(this,"startSafetyTimer",((n,r)=>{this.player.debug.log(`Safety timer invoked from: ${r}`),this.safetyTimer=setTimeout((()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")}),n)})),Gt(this,"clearSafetyTimer",(n=>{ke.nullOrUndefined(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${n}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)})),this.player=t,this.config=t.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise(((n,r)=>{this.on("loaded",n),this.on("error",r)})),this.load()}get enabled(){const{config:t}=this;return this.player.isHTML5&&this.player.isVideo&&t.enabled&&(!ke.empty(t.publisherId)||ke.url(t.tagUrl))}get tagUrl(){const{config:t}=this;return ke.url(t.tagUrl)?t.tagUrl:`https://go.aniview.com/api/adserver6/vast/?${_Le({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:t.publisherId})}`}}function SLe(e=0,t=0,n=255){return Math.min(Math.max(e,t),n)}const vin=e=>{const t=[];return e.split(/\r\n\r\n|\n\n|\r\r/).forEach((n=>{const r={};n.split(/\r\n|\n|\r/).forEach((i=>{if(ke.number(r.startTime)){if(!ke.empty(i.trim())&&ke.empty(r.text)){const s=i.trim().split("#xywh=");[r.text]=s,s[1]&&([r.x,r.y,r.w,r.h]=s[1].split(","))}}else{const s=i.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);s&&(r.startTime=60*Number(s[1]||0)*60+60*Number(s[2])+Number(s[3])+ +`0.${s[4]}`,r.endTime=60*Number(s[6]||0)*60+60*Number(s[7])+Number(s[8])+ +`0.${s[9]}`)}})),r.text&&t.push(r)})),t},Ive=(e,t)=>{const n={};return e>t.width/t.height?(n.width=t.width,n.height=1/e*t.width):(n.height=t.height,n.width=e*t.height),n};class OG{constructor(t){Gt(this,"load",(()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then((()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.listeners(),this.loaded=!0)}))})),Gt(this,"getThumbnails",(()=>new Promise((n=>{const{src:r}=this.player.config.previewThumbnails;if(ke.empty(r))throw new Error("Missing previewThumbnails.src config attribute");const i=()=>{this.thumbnails.sort(((s,o)=>s.height-o.height)),this.player.debug.log("Preview thumbnails",this.thumbnails),n()};if(ke.function(r))r((s=>{this.thumbnails=s,i()}));else{const s=(ke.string(r)?[r]:r).map((o=>this.getThumbnail(o)));Promise.all(s).then(i)}})))),Gt(this,"getThumbnail",(n=>new Promise((r=>{qR(n).then((i=>{const s={frames:vin(i),height:null,urlPrefix:""};s.frames[0].text.startsWith("/")||s.frames[0].text.startsWith("http://")||s.frames[0].text.startsWith("https://")||(s.urlPrefix=n.substring(0,n.lastIndexOf("/")+1));const o=new Image;o.onload=()=>{s.height=o.naturalHeight,s.width=o.naturalWidth,this.thumbnails.push(s),r()},o.src=s.urlPrefix+s.frames[0].text}))})))),Gt(this,"startMove",(n=>{if(this.loaded&&ke.event(n)&&["touchmove","mousemove"].includes(n.type)&&this.player.media.duration){if(n.type==="touchmove")this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var r,i;const s=this.player.elements.progress.getBoundingClientRect(),o=100/s.width*(n.pageX-s.left);this.seekTime=this.player.media.duration*(o/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=n.pageX,this.elements.thumb.time.innerText=T8(this.seekTime);const a=(r=this.player.config.markers)===null||r===void 0||(i=r.points)===null||i===void 0?void 0:i.find((({time:l})=>l===Math.round(this.seekTime)));a&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${a.label}<br>`)}this.showImageAtCurrentTime()}})),Gt(this,"endMove",(()=>{this.toggleThumbContainer(!1,!0)})),Gt(this,"startScrubbing",(n=>{(ke.nullOrUndefined(n.button)||n.button===!1||n.button===0)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))})),Gt(this,"endScrubbing",(()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):die.call(this.player,this.player.media,"timeupdate",(()=>{this.mouseDown||this.toggleScrubbingContainer(!1)}))})),Gt(this,"listeners",(()=>{this.player.on("play",(()=>{this.toggleThumbContainer(!1,!0)})),this.player.on("seeked",(()=>{this.toggleThumbContainer(!1)})),this.player.on("timeupdate",(()=>{this.lastTime=this.player.media.currentTime}))})),Gt(this,"render",(()=>{this.elements.thumb.container=Bn("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=Bn("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const n=Bn("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=Bn("span",{},"00:00"),n.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(n),ke.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=Bn("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)})),Gt(this,"destroy",(()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()})),Gt(this,"showImageAtCurrentTime",(()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const n=this.thumbnails[0].frames.findIndex((s=>this.seekTime>=s.startTime&&this.seekTime<=s.endTime)),r=n>=0;let i=0;this.mouseDown||this.toggleThumbContainer(r),r&&(this.thumbnails.forEach(((s,o)=>{this.loadedImages.includes(s.frames[n].text)&&(i=o)})),n!==this.showingThumb&&(this.showingThumb=n,this.loadImage(i)))})),Gt(this,"loadImage",((n=0)=>{const r=this.showingThumb,i=this.thumbnails[n],{urlPrefix:s}=i,o=i.frames[r],a=i.frames[r].text,l=s+a;if(this.currentImageElement&&this.currentImageElement.dataset.filename===a)this.showImage(this.currentImageElement,o,n,r,a,!1),this.currentImageElement.dataset.index=r,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const u=new Image;u.src=l,u.dataset.index=r,u.dataset.filename=a,this.showingThumbFilename=a,this.player.debug.log(`Loading image: ${l}`),u.onload=()=>this.showImage(u,o,n,r,a,!0),this.loadingImage=u,this.removeOldImages(u)}})),Gt(this,"showImage",((n,r,i,s,o,a=!0)=>{this.player.debug.log(`Showing thumb: ${o}. num: ${s}. qual: ${i}. newimg: ${a}`),this.setImageSizeAndOffset(n,r),a&&(this.currentImageContainer.appendChild(n),this.currentImageElement=n,this.loadedImages.includes(o)||this.loadedImages.push(o)),this.preloadNearby(s,!0).then(this.preloadNearby(s,!1)).then(this.getHigherQuality(i,n,r,o))})),Gt(this,"removeOldImages",(n=>{Array.from(this.currentImageContainer.children).forEach((r=>{if(r.tagName.toLowerCase()!=="img")return;const i=this.usingSprites?500:1e3;if(r.dataset.index!==n.dataset.index&&!r.dataset.deleting){r.dataset.deleting=!0;const{currentImageContainer:s}=this;setTimeout((()=>{s.removeChild(r),this.player.debug.log(`Removing thumb: ${r.dataset.filename}`)}),i)}}))})),Gt(this,"preloadNearby",((n,r=!0)=>new Promise((i=>{setTimeout((()=>{const s=this.thumbnails[0].frames[n].text;if(this.showingThumbFilename===s){let o;o=r?this.thumbnails[0].frames.slice(n):this.thumbnails[0].frames.slice(0,n).reverse();let a=!1;o.forEach((l=>{const u=l.text;if(u!==s&&!this.loadedImages.includes(u)){a=!0,this.player.debug.log(`Preloading thumb filename: ${u}`);const{urlPrefix:c}=this.thumbnails[0],d=c+u,f=new Image;f.src=d,f.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${u}`),this.loadedImages.includes(u)||this.loadedImages.push(u),i()}}})),a||i()}}),300)})))),Gt(this,"getHigherQuality",((n,r,i,s)=>{if(n<this.thumbnails.length-1){let o=r.naturalHeight;this.usingSprites&&(o=i.h),o<this.thumbContainerHeight&&setTimeout((()=>{this.showingThumbFilename===s&&(this.player.debug.log(`Showing higher quality thumb for: ${s}`),this.loadImage(n+1))}),300)}})),Gt(this,"toggleThumbContainer",((n=!1,r=!1)=>{const i=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(i,n),!n&&r&&(this.showingThumb=null,this.showingThumbFilename=null)})),Gt(this,"toggleScrubbingContainer",((n=!1)=>{const r=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(r,n),n||(this.showingThumb=null,this.showingThumbFilename=null)})),Gt(this,"determineContainerAutoSizing",(()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)})),Gt(this,"setThumbContainerSizeAndPos",(()=>{const{imageContainer:n}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(n.clientHeight>20&&n.clientWidth<20){const r=Math.floor(n.clientHeight*this.thumbAspectRatio);n.style.width=`${r}px`}else if(n.clientHeight<20&&n.clientWidth>20){const r=Math.floor(n.clientWidth/this.thumbAspectRatio);n.style.height=`${r}px`}}else{const r=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);n.style.height=`${this.thumbContainerHeight}px`,n.style.width=`${r}px`}this.setThumbContainerPos()})),Gt(this,"setThumbContainerPos",(()=>{const n=this.player.elements.progress.getBoundingClientRect(),r=this.player.elements.container.getBoundingClientRect(),{container:i}=this.elements.thumb,s=r.left-n.left+10,o=r.right-n.left-i.clientWidth-10,a=this.mousePosX-n.left-i.clientWidth/2,l=SLe(a,s,o);i.style.left=`${l}px`,i.style.setProperty("--preview-arrow-offset",a-l+"px")})),Gt(this,"setScrubbingContainerSize",(()=>{const{width:n,height:r}=Ive(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${n}px`,this.elements.scrubbing.container.style.height=`${r}px`})),Gt(this,"setImageSizeAndOffset",((n,r)=>{if(!this.usingSprites)return;const i=this.thumbContainerHeight/r.h;n.style.height=n.naturalHeight*i+"px",n.style.width=n.naturalWidth*i+"px",n.style.left=`-${r.x*i}px`,n.style.top=`-${r.y*i}px`})),this.player=t,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:t}=Ive(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return t}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(t){this.mouseDown?this.currentScrubbingImageElement=t:this.currentThumbnailImageElement=t}}const NG={insertElements(e,t){ke.string(t)?Tve(e,this.media,{src:t}):ke.array(t)&&t.forEach((n=>{Tve(e,this.media,n)}))},change(e){fLe(e,"sources.length")?(Gg.cancelRequests.call(this),this.destroy.call(this,(()=>{this.options.quality=[],Dm(this.media),this.media=null,ke.element(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:t,type:n}=e,[{provider:r=Ng.html5,src:i}]=t,s=r==="html5"?n:"div",o=r==="html5"?{}:{src:i};Object.assign(this,{provider:r,type:n,supported:js.check(n,r,this.config.playsinline),media:Bn(s,o)}),this.elements.container.appendChild(this.media),ke.boolean(e.autoplay)&&(this.config.autoplay=e.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),ke.empty(e.poster)||(this.poster=e.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),bi.addStyleHook.call(this),this.isHTML5&&NG.insertElements.call(this,"source",t),this.config.title=e.title,ELe.setup.call(this),this.isHTML5&&Object.keys(e).includes("tracks")&&NG.insertElements.call(this,"track",e.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&bi.build.call(this),this.isHTML5&&this.media.load(),ke.empty(e.previewThumbnails)||(Object.assign(this.config.previewThumbnails,e.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new OG(this))),this.fullscreen.update()}),!0)):this.debug.warn("Invalid source format")}};let TLe=class $G{constructor(t,n){if(Gt(this,"play",(()=>ke.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then((()=>this.ads.play())).catch((()=>Vh(this.media.play()))),this.media.play()):null)),Gt(this,"pause",(()=>this.playing&&ke.function(this.media.pause)?this.media.pause():null)),Gt(this,"togglePlay",(a=>(ke.boolean(a)?a:!this.playing)?this.play():this.pause())),Gt(this,"stop",(()=>{this.isHTML5?(this.pause(),this.restart()):ke.function(this.media.stop)&&this.media.stop()})),Gt(this,"restart",(()=>{this.currentTime=0})),Gt(this,"rewind",(a=>{this.currentTime-=ke.number(a)?a:this.config.seekTime})),Gt(this,"forward",(a=>{this.currentTime+=ke.number(a)?a:this.config.seekTime})),Gt(this,"increaseVolume",(a=>{const l=this.media.muted?0:this.volume;this.volume=l+(ke.number(a)?a:0)})),Gt(this,"decreaseVolume",(a=>{this.increaseVolume(-a)})),Gt(this,"airplay",(()=>{js.airplay&&this.media.webkitShowPlaybackTargetPicker()})),Gt(this,"toggleControls",(a=>{if(this.supported.ui&&!this.isAudio){const l=t5(this.elements.container,this.config.classNames.hideControls),u=a===void 0?void 0:!a,c=li(this.elements.container,this.config.classNames.hideControls,u);if(c&&ke.array(this.config.controls)&&this.config.controls.includes("settings")&&!ke.empty(this.config.settings)&&Bt.toggleMenu.call(this,!1),c!==l){const d=c?"controlshidden":"controlsshown";Hn.call(this,this.media,d)}return!c}return!1})),Gt(this,"on",((a,l)=>{Vr.call(this,this.elements.container,a,l)})),Gt(this,"once",((a,l)=>{die.call(this,this.elements.container,a,l)})),Gt(this,"off",((a,l)=>{S8(this.elements.container,a,l)})),Gt(this,"destroy",((a,l=!1)=>{if(!this.ready)return;const u=()=>{document.body.style.overflow="",this.embed=null,l?(Object.keys(this.elements).length&&(Dm(this.elements.buttons.play),Dm(this.elements.captions),Dm(this.elements.controls),Dm(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),ke.function(a)&&a()):(Qrn.call(this),Gg.cancelRequests.call(this),e5(this.elements.original,this.elements.container),Hn.call(this,this.elements.original,"destroyed",!0),ke.function(a)&&a.call(this.elements.original),this.ready=!1,setTimeout((()=>{this.elements=null,this.media=null}),200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(bi.toggleNativeControls.call(this,!0),u()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),this.embed!==null&&ke.function(this.embed.destroy)&&this.embed.destroy(),u()):this.isVimeo&&(this.embed!==null&&this.embed.unload().then(u),setTimeout(u,200))})),Gt(this,"supports",(a=>js.mime.call(this,a))),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=js.touch,this.media=t,ke.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||ke.nodeList(this.media)||ke.array(this.media))&&(this.media=this.media[0]),this.config=Fs({},CLe,$G.defaults,n||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch{return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new uin(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",js),ke.nullOrUndefined(this.media)||!ke.element(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!js.check().api)return void this.debug.error("Setup failed: no support");const r=this.media.cloneNode(!0);r.autoplay=!1,this.elements.original=r;const i=this.media.tagName.toLowerCase();let s=null,o=null;switch(i){case"div":if(s=this.media.querySelector("iframe"),ke.element(s)){if(o=xLe(s.getAttribute("src")),this.provider=lin(o.toString()),this.elements.container=this.media,this.media=s,this.elements.container.className="",o.search.length){const a=["1","true"];a.includes(o.searchParams.get("autoplay"))&&(this.config.autoplay=!0),a.includes(o.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=a.includes(o.searchParams.get("playsinline")),this.config.youtube.hl=o.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(ke.empty(this.provider)||!Object.values(Ng).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=Gz.video;break;case"video":case"audio":this.type=i,this.provider=Ng.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=js.check(this.type,this.provider),this.supported.api?(this.eventListeners=[],this.listeners=new cin(this),this.storage=new Qk(this),this.media.plyr=this,ke.element(this.elements.container)||(this.elements.container=Bn("div"),hLe(this.media,this.elements.container)),bi.migrateStyles.call(this),bi.addStyleHook.call(this),ELe.setup.call(this),this.config.debug&&Vr.call(this,this.elements.container,this.config.events.join(" "),(a=>{this.debug.log(`event: ${a.type}`)})),this.fullscreen=new qd(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&bi.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new yin(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",(()=>Vh(this.play()))),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new OG(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===Ng.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===Ng.youtube}get isVimeo(){return this.provider===Ng.vimeo}get isVideo(){return this.type===Gz.video}get isAudio(){return this.type===Gz.audio}get playing(){return!!(this.ready&&!this.paused&&!this.ended)}get paused(){return!!this.media.paused}get stopped(){return!!(this.paused&&this.currentTime===0)}get ended(){return!!this.media.ended}set currentTime(t){if(!this.duration)return;const n=ke.number(t)&&t>0;this.media.currentTime=n?Math.min(t,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:t}=this.media;return ke.number(t)?t:t&&t.length&&this.duration>0?t.end(0)/this.duration:0}get seeking(){return!!this.media.seeking}get duration(){const t=parseFloat(this.config.duration),n=(this.media||{}).duration,r=ke.number(n)&&n!==1/0?n:0;return t||r}set volume(t){let n=t;ke.string(n)&&(n=Number(n)),ke.number(n)||(n=this.storage.get("volume")),ke.number(n)||({volume:n}=this.config),n>1&&(n=1),n<0&&(n=0),this.config.volume=n,this.media.volume=n,!ke.empty(t)&&this.muted&&n>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(t){let n=t;ke.boolean(n)||(n=this.storage.get("muted")),ke.boolean(n)||(n=this.config.muted),this.config.muted=n,this.media.muted=n}get muted(){return!!this.media.muted}get hasAudio(){return!this.isHTML5||!!this.isAudio||!!this.media.mozHasAudio||!!this.media.webkitAudioDecodedByteCount||!!(this.media.audioTracks&&this.media.audioTracks.length)}set speed(t){let n=null;ke.number(t)&&(n=t),ke.number(n)||(n=this.storage.get("speed")),ke.number(n)||(n=this.config.speed.selected);const{minimumSpeed:r,maximumSpeed:i}=this;n=SLe(n,r,i),this.config.speed.selected=n,setTimeout((()=>{this.media&&(this.media.playbackRate=n)}),0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(t){const n=this.config.quality,r=this.options.quality;if(!r.length)return;let i=[!ke.empty(t)&&Number(t),this.storage.get("quality"),n.selected,n.default].find(ke.number),s=!0;if(!r.includes(i)){const o=pLe(r,i);this.debug.warn(`Unsupported quality option: ${i}, using ${o} instead`),i=o,s=!1}n.selected=i,this.media.quality=i,s&&this.storage.set({quality:i})}get quality(){return this.media.quality}set loop(t){const n=ke.boolean(t)?t:this.config.loop.active;this.config.loop.active=n,this.media.loop=n}get loop(){return!!this.media.loop}set source(t){NG.change.call(this,t)}get source(){return this.media.currentSrc}get download(){const{download:t}=this.config.urls;return ke.url(t)?t:this.source}set download(t){ke.url(t)&&(this.config.urls.download=t,Bt.setDownloadUrl.call(this))}set poster(t){this.isVideo?bi.setPoster.call(this,t,!1).catch((()=>{})):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const t=n5(fie.call(this));return ke.array(t)?t.join(":"):t}set ratio(t){this.isVideo?ke.string(t)&&gLe(t)?(this.config.ratio=n5(t),uC.call(this)):this.debug.error(`Invalid aspect ratio specified (${t})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(t){this.config.autoplay=ke.boolean(t)?t:this.config.autoplay}get autoplay(){return!!this.config.autoplay}toggleCaptions(t){Gr.toggle.call(this,t,!1)}set currentTrack(t){Gr.set.call(this,t,!1),Gr.setup.call(this)}get currentTrack(){const{toggled:t,currentTrack:n}=this.captions;return t?n:-1}set language(t){Gr.setLanguage.call(this,t,!1)}get language(){return(Gr.getCurrentTrack.call(this)||{}).language}set pip(t){if(!js.pip)return;const n=ke.boolean(t)?t:!this.pip;ke.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(n?Wz.active:Wz.inactive),ke.function(this.media.requestPictureInPicture)&&(!this.pip&&n?this.media.requestPictureInPicture():this.pip&&!n&&document.exitPictureInPicture())}get pip(){return js.pip?ke.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===Wz.active:null}setPreviewThumbnails(t){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,t),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new OG(this))}static supported(t,n){return js.check(t,n)}static loadSprite(t,n){return bLe(t,n)}static setup(t,n={}){let r=null;return ke.string(t)?r=Array.from(document.querySelectorAll(t)):ke.nodeList(t)?r=Array.from(t):ke.array(t)&&(r=t.filter(ke.element)),ke.empty(r)?null:r.map((i=>new $G(i,n)))}};TLe.defaults=Grn(CLe);function bin(e,t,n=[]){const[r,i]=A.useState(null),s=A.useRef(null),{instantiate:o,destroy:a,getAPI:l,params:u}=t;A.useEffect(()=>{const d=o(s.current,u);return i(d),()=>{a&&a(d,u)}},n);const c=A.useMemo(()=>l(r,u),[r]);return A.useImperativeHandle(e,c,[c]),s}const win={},xin=(e,t)=>{const n=new TLe(".plyr-react",t.options||{});return t.source&&(n.source=t.source),n},_in=e=>{e&&e.destroy()},Cin=()=>{},Ein=e=>e?()=>({plyr:e}):()=>new Proxy({plyr:{source:null}},{get:(t,n)=>n==="plyr"?t[n]:Cin});function kLe(e,t,n=null){return bin(e,{instantiate:xin,getAPI:Ein,destroy:_in,params:t},n||[t.options,t.source])}const Kz=A.forwardRef((e,t)=>{const{source:n,options:r=null,...i}=e,s=kLe(t,{source:n,options:r});return b.jsx("video",{ref:s,className:"plyr-react plyr",...i})});(win&&"production")!=="production"&&(Kz.displayName="Plyr",Kz.defaultProps={options:{controls:["rewind","play","fast-forward","progress","current-time","duration","mute","volume","settings","fullscreen"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop"}},source:{type:"video",sources:[{src:"https://cdn.plyr.io/static/blank.mp4",type:"video/mp4",size:720},{src:"https://cdn.plyr.io/static/blank.mp4",type:"video/mp4",size:1080}]}},Kz.propTypes={options:IN.object,source:IN.any});function Sin(e){return/^(https?:\/\/)?(www\.)?(youtube\.com\/watch\?v=|youtu\.be\/)[\w-]{11}/.test(e)}function Tin(e){return/^(https?:\/\/)?(www\.)?vimeo\.com\/\d+/.test(e)}const kin=A.forwardRef((e,t)=>{const{source:n,options:r=null,endedCallback:i}=e,s=kLe(t,{options:r,source:n});return A.useEffect(()=>{const{current:o}=t;o.plyr.source!==null&&o.plyr.on("ended",i)}),b.jsx("video",{ref:s,className:"plyr-react plyr"})});function Ain({currentConfig:e}){const t=A.useMemo(()=>e.path.startsWith("http")?e.path:`${Yi}${e.path}`,[e.path]),[n,r]=A.useState(!0),[i,s]=A.useState(!1);A.useEffect(()=>{async function p(){if(r(!0),t.includes("youtube")){const m=`https://www.youtube.com/oembed?url=${encodeURIComponent(t)}&format=json`;try{const g=await fetch(m);s(g.ok)}catch{s(!1)}}else if(t.includes("vimeo")){const m=`https://vimeo.com/api/oembed.json?url=${encodeURIComponent(t)}`;try{const g=await fetch(m);s(g.ok)}catch{s(!1)}}else{const m=await RM(t);s(!!m)}r(!1)}p()},[t]);const o=A.useMemo(()=>t.includes("youtube")?Sin(t)?[{src:t,provider:"youtube"}]:(s(!1),[]):t.includes("vimeo")?Tin(t)?[{src:t,provider:"vimeo"}]:(s(!1),[]):[{src:t,type:"video/mp4"}],[t]),a=A.useMemo(()=>({controls:[e.forceCompletion!==!1?"play-large":"play","current-time",...e.withTimeline?["progress"]:[],"volume","fullscreen"]}),[e.forceCompletion,e.withTimeline]),l=Xf(),u=yc(),c=As(),{updateResponseBlockValidation:d}=is();A.useEffect(()=>{e.forceCompletion&&c(d({location:"stimulus",identifier:`${l}_${u}`,status:!1,values:{}}))},[l,e.forceCompletion,u,c,d]);const f=A.useCallback(()=>{e.forceCompletion&&c(d({location:"stimulus",identifier:`${l}_${u}`,status:!0,values:{}}))},[l,e.forceCompletion,u,c,d]),h=A.useRef(null);return i&&o.length>0?b.jsx(De,{children:b.jsx(kin,{ref:h,source:{type:"video",sources:o},options:a,endedCallback:f})}):n?b.jsx($l,{}):b.jsx(c0,{path:e.path})}function Rin(){const[e]=mc(),t=A.useMemo(()=>e.get("participantId")||void 0,[e]),[n,r]=A.useState(!1),[i,s]=A.useState(!1),o=ar(m=>m.analysisIsPlaying),a=ar(m=>m.provenanceJumpTime),l=A.useRef(null),{storageEngine:u}=Ii(),{setAnalysisHasScreenRecording:c,setAnalysisCanPlayScreenRecording:d}=is(),f=As(),h=D0(),p=l0();return A.useEffect(()=>{l.current&&(l.current.currentTime=(0+a)/1e3,o?l.current.play():l.current.pause())},[o,a]),A.useEffect(()=>{const m=l.current;m&&(m.currentTime=0,m.onpause=()=>{s(!1)},m.onplay=()=>{s(!0)},setTimeout(()=>{r(!0)},300))},[d,f]),A.useEffect(()=>{async function m(){if(h&&p&&u)try{if(!t)throw new Error("Participant ID is required to load audio");const g=await u.getScreenRecording(p,t);if(!g){f(c(!1)),f(d(!1));return}if(f(c(!0)),l.current){const y=l.current;y.preload="metadata",g&&(l.current.src=g)}}catch(g){throw f(c(!1)),f(d(!1)),new Error(g)}else f(c(!1)),f(d(!1))}m()},[h,p,u,t,f,c,d]),b.jsxs(De,{pos:"relative",children:[b.jsx($l,{visible:!n,zIndex:1e3,overlayProps:{blur:5,bg:"rgba(255, 255, 255, .98)"}}),b.jsxs("video",{ref:l,width:"100%",style:{background:"black",maxWidth:"100%",maxHeight:"calc(100vh - 270px)",display:"block",margin:"20px auto",height:n?"auto":200,border:`5px solid ${i?"#ccc":"black"}`},children:[b.jsx("source",{type:"video/mp4"}),"Your browser does not support the video tag."]})]})}function Iin(){const e=Du(),t=yc(),n=Xf(),r=Kf(),i=e.components[n],{storageEngine:s}=Ii(),o=ar(ne=>ne.answers),a=A.useRef(null),l=ar(ne=>ne.analysisCanPlayScreenRecording),{setIsRecording:u,setAnalysisCanPlayScreenRecording:c}=is(),d=ar(ne=>ne.analysisProvState.stimulus),f=A.useRef(null),h=l0(),p=ll(),{studyHasScreenRecording:m,studyHasAudioRecording:g,currentComponentHasAudioRecording:y,currentComponentHasScreenRecording:v}=nQ(),{isMediaCapturing:w,stopScreenCapture:_,startScreenRecording:C,stopScreenRecording:S,combinedMediaRecorder:T}=rQ(),k=D0(),I=tv(),R=ar(ne=>ne.sequence),P=ar(ne=>ne.modes),[N]=mc(),$=ar(ne=>ne.participantId),O=A.useMemo(()=>N.get("participantId"),[N]);RPe();const j=As(),{setAlertModal:B}=is();A.useEffect(()=>{s?.getEngine()!=="localStorage"&&j(B({show:!0,message:"There was an issue connecting to the localStorage database. This could be caused by a network issue or your adblocker. If you are using an adblocker, please disable it for this website and refresh."}))},[B,s,j]),A.useEffect(()=>{!e||m||!g||!s||I&&I.endTime>0||k||(a.current&&(a.current.stream.getTracks().forEach(ne=>{ne.stop(),a.current?.stream.removeTrack(ne)}),a.current.stream.getAudioTracks().forEach(ne=>{ne.stop(),a.current?.stream.removeTrack(ne)}),a.current.stop(),a.current=null),i&&!y||n==="end"?j(u(!1)):navigator.mediaDevices.getUserMedia({audio:!0}).then(ne=>{const ue=new MediaRecorder(ne);a.current=ue;let se=[];ue.addEventListener("start",()=>{se=[]}),ue.addEventListener("dataavailable",he=>{he.data&&he.data.size>0&&se.push(he.data)});const ae=h;ue.addEventListener("stop",()=>{const{mimeType:he}=ue,ie=new Blob(se,{type:he});s?.saveAudioRecording(ie,ae)}),a.current.start(),j(u(!0))}))},[n,h,y]),A.useEffect(()=>{!e||!m||!s||I&&I.endTime>0||k||(T.current&&(S(),f.current=null),n!=="end"&&w&&f.current!==h&&(y||v)&&(f.current=h,C(h)),n==="end"&&_())},[n,h,y,v,w]);const[H,q]=A.useState([]),Y=A.useRef([]);A.useEffect(()=>{if(k)return;async function ne(){const se=yTe(R,t)?.map(ae=>ae.currentBlock.id).filter(ae=>ae!==void 0)||[];q(se)}async function ue(){const se=Y.current;JSON.stringify(se)!==JSON.stringify(H)&&H.length>0&&s&&await s.addParticipantTags(H),Y.current=H}ne().then(ue)},[t,s,R]);const V=l0(),L=A.useMemo(()=>{const ne=n&&n!=="end"&&!n.startsWith("__")&&Il(i,e);if(typeof ne=="object"){const ue=o[V]?.parameters,se=o[V]?.correctAnswer;return{...ne,parameters:ue||ne.parameters||{},correctAnswer:se||ne.correctAnswer||void 0}}return ne},[o,n,V,i,e]);A.useEffect(()=>{j(c(!0))},[t,c,j]),mZ(L?.stylesheetPath);const{funcIndex:z}=ro();if(A.useEffect(()=>{if(I&&I.endTime>0&&!k&&!P.studyNavigatorEnabled&&n!=="end"&&!n.startsWith("__")&&typeof t=="number"){let ne="0";Object.values(o).forEach(ie=>{ie.endTime>0&&(ne=ie.trialOrder)});const[ue,se]=ne.split("_"),ae=Number(ue),he=se?Number(se):void 0;(ae>t||ae===t&&he!==void 0&&z!==void 0&&he>Number(bf(z)))&&p(`/${r}/${Ss(ae)}${he!==void 0?`/${Ss(he)}`:""}`)}},[o,n,t,z,k,P.studyNavigatorEnabled,p,I,r]),n==="end")return b.jsx(D4t,{});if(n==="__dynamicLoading")return null;if(n==="__trainingFailed")return b.jsx(P4t,{});if(n==="__timedOut")return b.jsx(O4t,{});if(n==="Notfound")return b.jsx(c0,{email:e.uiConfig.contactEmail});if(!s?.isConnected())return b.jsxs(So,{style:{height:"80vh",flexDirection:"column",textAlign:"center"},children:[b.jsx(cnt,{size:48,stroke:1.5,color:"orange"}),b.jsx(qr,{mt:"md",order:4,children:"Database Disconnected"}),b.jsx(He,{mt:"md",children:"Please check your network connection or disable your adblocker for this site, then refresh the page."})]});if(O&&$!==O)return b.jsx(So,{style:{height:"80vh"},children:b.jsx(pc,{})});const U=L?.instruction||"",G=L.instructionLocation??e.uiConfig.instructionLocation??"sidebar",Q=G==="sidebar";return m&&k&&l?b.jsx(Rin,{},`${t}-stimulus`):b.jsxs(b.Fragment,{children:[G==="aboveStimulus"&&b.jsx(cp,{text:U}),b.jsx(Hq,{status:I,config:L,location:"aboveStimulus"},`${t}-above-response-block`),b.jsx(De,{id:n,className:L.type,style:{width:"100%",display:"flex",flexGrow:L.type==="website"?1:void 0,flexDirection:"column",...L.style},children:b.jsx(A.Suspense,{fallback:b.jsx("div",{children:"Loading..."}),children:b.jsxs(b.Fragment,{children:[L.type==="markdown"&&b.jsx(b4t,{currentConfig:L}),L.type==="website"&&b.jsx(p4t,{currentConfig:L,provState:d,answers:o}),L.type==="image"&&b.jsx(g4t,{currentConfig:L}),L.type==="react-component"&&b.jsx(v4t,{currentConfig:L,provState:d,answers:o}),L.type==="vega"&&b.jsx(hrn,{currentConfig:L,provState:d}),L.type==="video"&&b.jsx(Ain,{currentConfig:L})]})},`${t}-stimulus`)}),(G==="belowStimulus"||G===void 0&&!Q)&&b.jsx(cp,{text:U}),b.jsx(Hq,{status:I,config:L,location:"belowStimulus"},`${t}-below-response-block`)]})}function ALe(e){const[t]=mc();return b.jsx(gX,{...e,to:{pathname:e.to,search:t.toString()}})}function RLe(e,t,n,r){let i=0;for(let s=0;s<e.components.length;s+=1){const o=e.components[s];if(typeof o=="string"){if(r===e.orderPath&&o===t&&s>=n)break;i+=1}else if(o.order==="dynamic"?i+=1:i+=RLe(o,t,n,r),r.includes(o.orderPath))break}return i}function ILe(e,t){let n=0;return t.components.forEach(r=>{if(typeof r=="string"&&e.interruptions?.flatMap(i=>i.components).includes(r))n+=1;else if(typeof r!="string"){const i=e.components.find(s=>typeof s!="string"&&s.orderPath===r.orderPath);n+=ILe(i,r)}}),n}function Din(e,t){const n=[];return t.forEach(r=>{const i=e.findIndex(s=>typeof s=="string"?s===r:typeof r!="string"&&s.orderPath===r.orderPath);i!==-1&&(n.push(e[i]),e.splice(i,1)),i===-1&&typeof r=="string"&&n.push(r)}),e&&n.push(...e),n}function Pin(e){return e.some(t=>t.type==="radio"||t.type==="checkbox"||t.type==="buttons"?t.optionOrder==="random":t.type==="matrix-radio"||t.type==="matrix-checkbox"?t.questionOrder==="random":!1)}function Oin({step:e,disabled:t,fullSequence:n,startIndex:r,interruption:i,participantView:s,studyConfig:o,subSequence:a,analysisNavigation:l,parentBlock:u,parentActive:c,answers:d}){const f=Kf(),h=ll(),p=yc(),m=o.components[e]&&Il(o.components[e],o),g=a&&a.components.slice(r).includes(e)?RLe(n,e,r,a.orderPath):-1,{trialId:y,funcIndex:v,analysisTab:w}=ro(),[_]=mc(),C=A.useMemo(()=>_.get("participantId"),[_]),S=w?[]:qy(),T=y===e,k=c&&u&&v?r===bf(v):!1,I=s?p===g||k:p===`reviewer-${e}`,R=l?T:I,P=y?`./../${e}`:`./${e}`,N=u.order==="dynamic"?`/${f}/${Ss(S.indexOf(u.id))}/${Ss(r)}`:"",$=s?u.order==="dynamic"?N:`/${f}/${Ss(g)}`:`/${f}/reviewer-${e}`,O=l?()=>h(P):()=>h(`${$}${C?`?participantId=${C}`:""}`),j=e.includes(".co.")?".co.":e.includes(".components.")?".components.":!1,B=e.includes("$")&&j&&e.includes(j)?e.split(j).at(-1):e,H=u.order==="dynamic"?Object.entries(d).find(([ae,he])=>ae===`${u.id}_${S.indexOf(u.id)}_${B}_${r}`):Object.entries(d).find(([ae,he])=>ae===`${B}_${g}`||ae===`${e}_${g}`),q=H?H[1]:null,Y=q&&q.correctAnswer.length>0&&Object.keys(q.answer).length>0&&q.correctAnswer,V=Y&&q&&Ub(q.answer,Y),L=q&&Y?V?b.jsx(dy,{size:16,style:{marginRight:4,flexShrink:0},color:"green"}):b.jsx(Jm,{size:16,style:{marginRight:4,flexShrink:0},color:"red"}):null,z=6,U=m&&JSON.stringify(m.response,null,2),[G,Q]=A.useState(z),ne=q&&q.correctAnswer.length>0?JSON.stringify(q.correctAnswer,null,2):m&&m.correctAnswer?JSON.stringify(m.correctAnswer,null,2):void 0,[ue,se]=A.useState(z);return b.jsxs(A1,{withinPortal:!0,position:"left",withArrow:!0,arrowSize:10,shadow:"md",offset:0,closeDelay:0,children:[b.jsx(Z5,{active:R,style:{lineHeight:"32px",height:"32px"},label:b.jsxs(At,{align:"center",children:[i&&b.jsx(yt,{label:"Interruption",position:"right",withArrow:!0,children:b.jsx(xet,{size:16,style:{marginRight:4,flexShrink:0},color:"orange"})}),e!==B&&b.jsx(yt,{label:"Package import",position:"right",withArrow:!0,children:b.jsx(nnt,{size:16,style:{marginRight:4,flexShrink:0},color:"blue"})}),m?.responseOrder==="random"&&b.jsx(yt,{label:"Random responses",position:"right",withArrow:!0,children:b.jsx(ftt,{size:16,opacity:.8,style:{marginRight:4,flexShrink:0},color:"black"})}),m?.response&&Pin(m.response)&&b.jsx(yt,{label:"Random options",position:"right",withArrow:!0,children:b.jsx(ptt,{size:16,opacity:.8,style:{marginRight:4,flexShrink:0},color:"black"})}),L,b.jsx(He,{size:"sm",span:R,fw:R?"700":void 0,display:"inline",title:B,style:{textWrap:"nowrap",flexGrow:1,width:0,textOverflow:"ellipsis",overflow:"hidden"},children:B}),B!=="end"&&b.jsx(A1.Target,{children:b.jsx(Qm,{size:16,style:{marginLeft:"5px",verticalAlign:"middle"},opacity:.5})})]}),onClick:O,disabled:t&&u.order!=="dynamic"}),m&&b.jsx(A1.Dropdown,{children:b.jsxs(De,{mah:700,maw:500,style:{overflow:"auto"},children:[b.jsxs(De,{children:[b.jsx(He,{fw:900,display:"inline-block",mr:2,children:"Name:"})," ",b.jsx(He,{fw:400,component:"span",children:B})]}),m.description&&b.jsxs(De,{children:[b.jsx(He,{fw:900,display:"inline-block",mr:2,children:"Description:"})," ",b.jsx(He,{fw:400,component:"span",children:m.description})]}),("parameters"in m||q)&&b.jsxs(De,{children:[b.jsx(He,{fw:900,display:"inline-block",mr:2,children:"Parameters:"})," ",b.jsx(jh,{block:!0,children:q&&JSON.stringify(Object.keys(q).length>0?q.parameters:"parameters"in m?m.parameters:{},null,2)})]}),q&&Object.keys(q.answer).length>0&&b.jsxs(De,{children:[b.jsxs(He,{fw:900,display:"inline-block",mr:2,children:[L,"Participant Answer:"]})," ",b.jsx(jh,{block:!0,children:JSON.stringify(q.answer,null,2)})]}),ne&&b.jsxs(De,{children:[b.jsx(He,{fw:900,display:"inline-block",mr:2,children:"Correct Answer:"})," ",b.jsxs(jh,{block:!0,children:[b.jsx(He,{size:"xs",lineClamp:ue,children:ne}),ne.split(`
`).length>z&&b.jsx(At,{justify:"flex-end",children:(ue===void 0||ne.split(`
`).length>ue)&&b.jsx(Wt,{variant:"light",size:"xs",onClick:()=>{se(ae=>ae===z?void 0:z)},children:ue!==void 0?"Show more":"Show less"})})]})]}),b.jsxs(De,{children:[b.jsx(He,{fw:900,display:"inline-block",mr:2,children:"Response:"})," ",b.jsxs(jh,{block:!0,children:[b.jsx(He,{size:"xs",lineClamp:G,children:U}),U.split(`
`).length>z&&b.jsx(At,{justify:"flex-end",children:(G===void 0||U.split(`
`).length>G)&&b.jsx(Wt,{variant:"light",size:"xs",onClick:()=>{Q(ae=>ae===z?void 0:z)},children:G!==void 0?"Show more":"Show less"})})]})]}),m.meta&&b.jsxs(De,{children:[b.jsx(He,{fw:"900",component:"span",children:"Task Meta: "}),b.jsx(jh,{block:!0,children:JSON.stringify(m.meta,null,2)})]})]})})]})}function r5({configSequence:e,fullSequence:t,participantSequence:n,participantView:r,studyConfig:i,analysisNavigation:s}){let o=structuredClone(e.components);n&&r&&(o=Din(structuredClone(e.components),structuredClone(n.components)));const{analysisTab:a}=ro();let l={};a||(l=ar(T=>T.answers)),r||(o=[...e.interruptions?.flatMap(T=>T.components)||[],...o||[]]);const u=A.useMemo(()=>n?od(n).length-ILe(e,n):0,[e,n]),c=A.useMemo(()=>od(e),[e]),[d,f]=A.useState(u>0),[h]=mc(),p=A.useMemo(()=>h.get("participantId"),[h]),m=yc(),g=a?[]:qy(),y=typeof m=="number"&&e.order==="dynamic"&&g[m]===e.id,v=e.id&&g.indexOf(e.id)||-1,w=Kf(),_=ll(),C=()=>_(`/${w}/${Ss(v)}/${Ss(0)}${p?`?participantId=${p}`:""}`),S=[...o,...Object.entries(l).filter(([T,k])=>T.startsWith(`${e.id}_${v}_`)).map(([T,k])=>k.componentName)];return b.jsx(Z5,{active:y,label:b.jsxs(At,{align:"center",style:{opacity:u>0?1:.5},children:[b.jsx(He,{size:"sm",display:"inline",fw:y?900:700,title:e.id?e.id:e.order,style:{textWrap:"nowrap",flexGrow:1,width:0,textOverflow:"ellipsis",overflow:"hidden"},children:e.id?e.id:e.order}),e.order==="random"||e.order==="latinSquare"?b.jsx(yt,{label:e.order,position:"right",withArrow:!0,children:b.jsx(oet,{size:"15",opacity:.5,style:{marginLeft:"5px",verticalAlign:"middle"}})}):null,r&&b.jsx(eo,{ml:5,variant:"light",children:e.order==="dynamic"?`${Object.keys(l).filter(T=>T.startsWith(`${e.id}_`)).length} / ?`:`${u}/${c.length}`}),r&&e.interruptions&&b.jsx(eo,{ml:5,color:"orange",variant:"light",children:n?.components.filter(T=>typeof T=="string"&&e.interruptions?.flatMap(k=>k.components).includes(T)).length||0})]}),opened:d,onClick:()=>e.order==="dynamic"&&!s&&r?C():f(!d),childrenOffset:32,style:{lineHeight:"32px",height:"32px"},children:d?b.jsx(De,{style:{borderLeft:"1px solid #e9ecef"},children:S.map((T,k)=>{if(typeof T=="string")return b.jsx(Oin,{step:T,disabled:r&&n?.components[k]!==T,fullSequence:t,startIndex:k,interruption:e.interruptions&&e.interruptions.findIndex(R=>R.components.includes(T))>-1||!1,participantView:r,studyConfig:i,subSequence:n,analysisNavigation:s,parentBlock:e,parentActive:y,answers:l},k);const I=n?.components.find(R=>typeof R!="string"&&R.orderPath===T.orderPath);return b.jsx(r5,{configSequence:T,participantSequence:I,fullSequence:t,participantView:r,studyConfig:i,analysisNavigation:s},k)})}):null},e.id)}function DLe(e,t){e?.clearCurrentParticipantId().then(()=>{window.location.href=t}).catch(n=>{console.error(n)})}function Dve({text:e}){return b.jsx(yt,{label:e,multiline:!0,w:200,style:{whiteSpace:"normal"},withinPortal:!0,position:"bottom",children:b.jsx(Qm,{size:16,style:{marginBottom:-3,marginLeft:4}})})}function Nin(){const e=ar(h=>h.sequence),{toggleStudyBrowser:t}=is(),n=Du(),r=As(),i=Kf(),s=ON(`/${i}`),{storageEngine:o}=Ii(),a=D0(),l=A.useMemo(()=>{let h=structuredClone(n.sequence);return h=tQ(h,"root"),h.components.push("end"),h},[n.sequence]),[u,c]=A.useState("participant"),d=A.useMemo(()=>u==="allTrials"||a,[u,a]),f=ar(h=>h.modes);return b.jsxs(es.Aside,{className:"studyBrowser",p:"0",children:[b.jsxs(es.Section,{p:"sm",pb:0,children:[b.jsxs(At,{direction:"row",justify:"space-between",children:[b.jsx(He,{size:"md",fw:700,pt:3,children:"Study Browser"}),b.jsx(yt,{label:"Go to the sequence of the next participant in the experiment. Sequences can be different between participants due to randomization, etc.",w:280,multiline:!0,disabled:d,children:b.jsx(Wt,{variant:"light",leftSection:b.jsx(CX,{size:14}),onClick:()=>DLe(o,s),size:"xs",disabled:d,children:"Next Participant"})}),a?b.jsx(yt,{label:"The study browser cannot be closed in replay mode",withinPortal:!0,children:b.jsx(up,{onClick:()=>r(t()),mt:1,disabled:a})}):b.jsx(up,{onClick:()=>r(t()),mt:1,disabled:a})]}),b.jsxs(At,{direction:"row",justify:"space-between",align:"center",mt:"xs",opacity:.7,children:[b.jsxs(He,{size:"sm",children:["Study Status:"," ",f?.dataCollectionEnabled?"Collecting Data":"Data Collection Disabled"]}),b.jsxs(At,{gap:"sm",align:"center",children:[b.jsx(yt,{label:"Edit Study Settings",withinPortal:!0,position:"bottom",children:b.jsx(Tn,{variant:"white","aria-label":"Edit Study Modes",component:"a",href:ON(`/analysis/stats/${i}/manage`),p:0,children:b.jsx(Ent,{style:{width:"70%",height:"70%"},stroke:1.5,size:16})})}),f?.analyticsInterfacePubliclyAccessible?b.jsx(yt,{label:"Analytics interface publicly accessible",multiline:!0,w:200,style:{whiteSpace:"normal"},withinPortal:!0,position:"bottom",children:b.jsx(OEe,{size:16,color:"green"})}):b.jsx(yt,{label:"Analytics interface not publicly accessible",multiline:!0,w:200,style:{whiteSpace:"normal"},withinPortal:!0,position:"bottom",children:b.jsx(PEe,{size:16,color:"red"})}),o?.getEngine()==="localStorage"?b.jsx(yt,{label:"Local storage enabled",withinPortal:!0,position:"bottom",children:b.jsx(NN,{size:16,color:"green"})}):o?.getEngine()==="firebase"?b.jsx(yt,{label:"Firebase enabled",withinPortal:!0,position:"bottom",children:b.jsx(TEe,{size:16,color:"green"})}):o?.getEngine()==="supabase"?b.jsx(yt,{label:"Supabase enabled",withinPortal:!0,position:"bottom",children:b.jsx(xX,{size:16,color:"green"})}):b.jsx(yt,{label:"Unknown storage engine enabled",withinPortal:!0,position:"bottom",children:b.jsx(NN,{size:16,color:"red"})})]})]})]}),b.jsx(es.Section,{grow:!0,component:lp,p:"xs",pt:4,children:b.jsxs(dr,{value:u,onChange:c,children:[b.jsx(De,{style:{position:"sticky",top:0,backgroundColor:"white",zIndex:1},children:b.jsxs(dr.List,{grow:!0,children:[b.jsxs(dr.Tab,{value:"participant",children:["Participant View",b.jsx(Dve,{text:"The Participants View shows items just as a participants would see them, considering randomization, omissions, etc. You can navigate between multiple participants using the next participant button."})]}),b.jsxs(dr.Tab,{value:"allTrials",disabled:a,children:["All Trials View",b.jsx(Dve,{text:"The All Trials View shows all items in the order defined in the config."})]})]})}),b.jsx(dr.Panel,{value:"participant",children:b.jsx(r5,{configSequence:l,participantSequence:e,fullSequence:e,participantView:!0,studyConfig:n})}),b.jsx(dr.Panel,{value:"allTrials",children:b.jsx(r5,{configSequence:l,participantSequence:e,fullSequence:e,participantView:!1,studyConfig:n})})]})})]})}function $in({studyNavigatorEnabled:e,dataCollectionEnabled:t}){const n=ar(j=>j.config),r=ar(j=>j.answers),i=ar(j=>j.storageEngineFailedToConnect),s=qy(),o=As(),{toggleShowHelpText:a,toggleStudyBrowser:l,incrementHelpCounter:u}=is(),{storageEngine:c}=Ii(),d=Xf(),f=A.useMemo(()=>Il(n.components[d]||{},n),[d,n]),h=yc(),p=A.useMemo(()=>{const j=Object.values(r).filter(H=>H.endTime>-1).length,B=s.map((H,q)=>n.components[H]?1:typeof h=="number"&&h<=q&&H!=="end"?55:Object.entries(r).filter(([Y,V])=>Y.includes(`${H}_`)).length).reduce((H,q)=>H+q,0);return j/B*100},[r,h,s,n.components]),[m,g]=A.useState(!1),y=n?.uiConfig.logoPath,v=A.useMemo(()=>f.withProgressBar??n.uiConfig.withProgressBar,[f,n]),w=A.useMemo(()=>f.showTitle??n.uiConfig.showTitle??!0,[f,n]),_=Kf(),C=ON(`/${_}`),S=A.useRef(null),[T,k]=A.useState(!1),I=A.useRef(0),R=ar(j=>j.isRecording),{isScreenRecording:P,isAudioRecording:N}=rQ(),$=R||N,{funcIndex:O}=ro();return A.useEffect(()=>{const j=S.current;j&&k(j.scrollWidth>j.offsetWidth)},[n]),A.useEffect(()=>{if(n&&c&&t){const j=Uft(r,s,n,h,O),B=j.total>0?j.answered.length/j.total*100:0;B!==I.current&&B>0&&!Number.isNaN(B)&&(I.current=B,c.updateProgressData(j).catch(H=>{console.warn("Failed to update progress data:",H)}))}},[r,s,n,h,c,t,O]),b.jsx(es.Header,{className:"header",p:"md",children:b.jsxs(fs,{mt:-7,align:"center",children:[b.jsx(fs.Col,{span:4,children:b.jsxs(At,{align:"center",children:[b.jsx(E0,{w:40,src:`${Yi}${y}`,alt:"Study Logo",className:"logoImage"}),b.jsx(Jc,{w:"md"}),w?b.jsx(qr,{ref:S,order:4,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:T?n?.studyMetadata.title:void 0,className:"studyTitle",children:n?.studyMetadata.title}):null]})}),b.jsx(fs.Col,{span:4,children:v&&b.jsx(Tb,{radius:"md",size:"lg",value:p,className:"progressBar"})}),b.jsx(fs.Col,{span:4,children:b.jsxs(An,{wrap:"nowrap",justify:"right",children:[($||P)&&b.jsxs(An,{ml:"xl",gap:20,wrap:"nowrap",children:[b.jsxs(He,{c:"red",children:["Recording",P&&" screen",P&&$&&" and",$&&" audio"]}),$&&b.jsx(QX,{})]}),i&&b.jsx(yt,{multiline:!0,withArrow:!0,arrowSize:6,w:300,label:"Failed to connect to the storage engine. Study data will not be saved. Check your connection or restart the app.",children:b.jsx(eo,{size:"lg",color:"red",children:"Storage Disconnected"})}),!i&&!t&&b.jsx(yt,{multiline:!0,withArrow:!0,arrowSize:6,w:300,label:"This is a demo version of the study, were not collecting any data.",children:b.jsx(eo,{size:"lg",color:"orange",children:"Demo Mode"})}),n?.uiConfig.helpTextPath!==void 0&&b.jsx(Wt,{variant:"outline",onClick:()=>{o(a()),o(u({identifier:`${d}_${h}`}))},children:"Help"}),b.jsxs(Nn,{shadow:"md",width:200,withinPortal:!0,opened:m,onChange:g,children:[b.jsx(Nn.Target,{children:b.jsx(Tn,{size:"lg",className:"studyBrowserMenuDropdown",variant:"subtle",color:"gray",children:b.jsx(IEe,{})})}),b.jsxs(Nn.Dropdown,{children:[e&&b.jsx(Nn.Item,{leftSection:b.jsx(LEe,{size:14}),onClick:()=>o(l()),children:"Study Browser"}),b.jsx(Nn.Item,{component:"a",href:n!==null?`mailto:${n.uiConfig.contactEmail}`:void 0,leftSection:b.jsx(Gtt,{size:14}),children:"Contact"}),e&&b.jsx(Nn.Item,{leftSection:b.jsx(CX,{size:14}),onClick:()=>DLe(c,C),children:"Next Participant"}),e&&b.jsx(Nn.Item,{leftSection:b.jsx(kEe,{size:14}),component:"a",href:`${Yi}analysis/stats/${_}`,children:"Analyze & Manage"})]})]})]})})]})})}function Min({width:e,top:t,sidebarOpen:n}){const r=Du(),i=Xf(),s=r.components[i],o=A.useMemo(()=>s?Il(s,r):null,[s,r]),a=tv(),l=o?.instruction||"",c=A.useMemo(()=>o?.instructionLocation??r.uiConfig.instructionLocation??"sidebar",[o,r])==="sidebar";return o?b.jsxs(De,{className:"sidebar",bg:"gray.1",display:n?"block":"none",style:{zIndex:0,marginTop:t,position:"relative"},w:e,miw:e,children:[c&&l!==""&&b.jsxs(De,{bg:"gray.3",p:"md",children:[b.jsx(He,{span:!0,c:"orange.8",fw:700,inherit:!0,children:"Task:"}),b.jsx(cp,{text:l})]}),b.jsx(De,{p:"md",children:b.jsx(Hq,{status:a,config:o,location:"sidebar"},`${i}-sidebar-response-block`)})]}):null}function Fin(){const e=ar(h=>h.showHelpText),t=ar(h=>h.config),n=As(),{toggleShowHelpText:r}=is(),[i,s]=A.useState(!0),[o,a]=A.useState(""),[l,u]=A.useState(!0),c=Xf(),d=A.useMemo(()=>Il(t.components[c]||{},t),[c,t]),f=A.useMemo(()=>d.helpTextPath??t.uiConfig.helpTextPath,[d.helpTextPath,t.uiConfig.helpTextPath]);return A.useEffect(()=>{async function h(){if(!f){s(!1),u(!1);return}const p=await RM(`${Yi}${f}`);p!==void 0?a(p):s(!1),u(!1)}h()},[f]),b.jsx(Ti,{className:"helpModal",size:"70%",opened:e,withCloseButton:!1,onClose:()=>n(r()),children:l||i?b.jsx(cp,{text:o}):b.jsx(c0,{path:t.uiConfig.helpTextPath})})}function Lin(){const e=ar(o=>o.alertModal),{setAlertModal:t}=is(),n=As(),[r,i]=A.useState(e.show),s=A.useCallback(()=>n(t({...e,show:!1})),[e,t,n]);return A.useEffect(()=>i(e.show),[e.show]),b.jsx(Ti,{opened:r,centered:!0,size:"lg",withCloseButton:!1,onClose:s,children:b.jsxs(Qc,{color:"red",radius:"xs",title:"Alert",icon:b.jsx(ZZe,{}),onClose:s,styles:{root:{backgroundColor:"unset"}},children:[b.jsx(He,{my:"md",children:e.message}),b.jsx(An,{w:"100%",justify:"end",children:b.jsx(Wt,{onClick:s,color:"red",variant:"filled",m:"xs",children:"Continue Study"})})]})})}const jin=A.createContext(null);function ga(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(u){try{l(r.next(u))}catch(c){s(c)}}function a(u){try{l(r.throw(u))}catch(c){s(c)}}function l(u){var c;u.done?i(u.value):(c=u.value,c instanceof n?c:new n((function(d){d(c)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))}class WR{constructor(){this.listeners={}}on(t,n,r){if(this.listeners[t]||(this.listeners[t]=new Set),r?.once){const i=(...s)=>{this.un(t,i),n(...s)};return this.listeners[t].add(i),()=>this.un(t,i)}return this.listeners[t].add(n),()=>this.un(t,n)}un(t,n){var r;(r=this.listeners[t])===null||r===void 0||r.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach((r=>r(...n)))}}const y3={decode:function(e,t){return ga(this,void 0,void 0,(function*(){const n=new AudioContext({sampleRate:t});try{return yield n.decodeAudioData(e)}finally{n.close()}}))},createBuffer:function(e,t){if(!e||e.length===0)throw new Error("channelData must be a non-empty array");if(t<=0)throw new Error("duration must be greater than 0");if(typeof e[0]=="number"&&(e=[e]),!e[0]||e[0].length===0)throw new Error("channelData must contain non-empty channel arrays");return(function(n){const r=n[0];if(r.some((i=>i>1||i<-1))){const i=r.length;let s=0;for(let o=0;o<i;o++){const a=Math.abs(r[o]);a>s&&(s=a)}for(const o of n)for(let a=0;a<i;a++)o[a]/=s}})(e),{duration:t,length:e[0].length,sampleRate:e[0].length/t,numberOfChannels:e.length,getChannelData:n=>e?.[n],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function PLe(e,t){const n=t.xmlns?document.createElementNS(t.xmlns,e):document.createElement(e);for(const[r,i]of Object.entries(t))if(r==="children"&&i)for(const[s,o]of Object.entries(i))o instanceof Node?n.appendChild(o):typeof o=="string"?n.appendChild(document.createTextNode(o)):n.appendChild(PLe(s,o));else r==="style"?Object.assign(n.style,i):r==="textContent"?n.textContent=i:n.setAttribute(r,i.toString());return n}function Pve(e,t,n){const r=PLe(e,t||{});return n?.appendChild(r),r}var Bin=Object.freeze({__proto__:null,createElement:Pve,default:Pve});const zin={fetchBlob:function(e,t,n){return ga(this,void 0,void 0,(function*(){const r=yield fetch(e,n);if(r.status>=400)throw new Error(`Failed to fetch ${e}: ${r.status} (${r.statusText})`);return(function(i,s){ga(this,void 0,void 0,(function*(){if(!i.body||!i.headers)return;const o=i.body.getReader(),a=Number(i.headers.get("Content-Length"))||0;let l=0,u=0;const c=f=>ga(this,void 0,void 0,(function*(){l+=f?.length||0;const h=Math.round(l/a*100);s(h)})),d=()=>ga(this,void 0,void 0,(function*(){if(u++>1e5)return void console.error("Fetcher: Maximum iterations reached, stopping read loop");let f;try{f=yield o.read()}catch{return}f.done||(c(f.value),yield d())}));d()}))})(r.clone(),t),r.blob()}))}};class Uin extends WR{constructor(t){super(),this.isExternalMedia=!1,t.media?(this.media=t.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),t.mediaControls&&(this.media.controls=!0),t.autoplay&&(this.media.autoplay=!0),t.playbackRate!=null&&this.onMediaEvent("canplay",(()=>{t.playbackRate!=null&&(this.media.playbackRate=t.playbackRate)}),{once:!0})}onMediaEvent(t,n,r){return this.media.addEventListener(t,n,r),()=>this.media.removeEventListener(t,n,r)}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const t=this.getSrc();t.startsWith("blob:")&&URL.revokeObjectURL(t)}canPlayType(t){return this.media.canPlayType(t)!==""}setSrc(t,n){const r=this.getSrc();if(t&&r===t)return;this.revokeSrc();const i=n instanceof Blob&&(this.canPlayType(n.type)||!t)?URL.createObjectURL(n):t;if(r&&this.media.removeAttribute("src"),i||t)try{this.media.src=i}catch{this.media.src=t}}destroy(){this.isExternalMedia||(this.media.pause(),this.revokeSrc(),this.media.removeAttribute("src"),this.media.load(),this.media.remove())}setMediaElement(t){this.media=t}play(){return ga(this,void 0,void 0,(function*(){try{return yield this.media.play()}catch(t){if(t instanceof DOMException&&t.name==="AbortError")return;throw t}}))}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(t){this.media.currentTime=Math.max(0,Math.min(t,this.getDuration()))}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(t){this.media.volume=t}getMuted(){return this.media.muted}setMuted(t){this.media.muted=t}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(t,n){n!=null&&(this.media.preservesPitch=n),this.media.playbackRate=t}getMediaElement(){return this.media}setSinkId(t){return this.media.setSinkId(t)}}class cC extends WR{constructor(t,n){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.unsubscribeOnScroll=[],this.dragUnsubscribe=null,this.subscriptions=[],this.options=t;const r=this.parentFromOptionsContainer(t.container);this.parent=r;const[i,s]=this.initHtml();r.appendChild(i),this.container=i,this.scrollContainer=s.querySelector(".scroll"),this.wrapper=s.querySelector(".wrapper"),this.canvasWrapper=s.querySelector(".canvases"),this.progressWrapper=s.querySelector(".progress"),this.cursor=s.querySelector(".cursor"),n&&s.appendChild(n),this.initEvents()}parentFromOptionsContainer(t){let n;if(typeof t=="string"?n=document.querySelector(t):t instanceof HTMLElement&&(n=t),!n)throw new Error("Container not found");return n}initEvents(){const t=n=>{const r=this.wrapper.getBoundingClientRect(),i=n.clientX-r.left,s=n.clientY-r.top;return[i/r.width,s/r.height]};if(this.wrapper.addEventListener("click",(n=>{const[r,i]=t(n);this.emit("click",r,i)})),this.wrapper.addEventListener("dblclick",(n=>{const[r,i]=t(n);this.emit("dblclick",r,i)})),this.options.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.scrollContainer.addEventListener("scroll",(()=>{const{scrollLeft:n,scrollWidth:r,clientWidth:i}=this.scrollContainer,s=n/r,o=(n+i)/r;this.emit("scroll",s,o,n,n+i)})),typeof ResizeObserver=="function"){const n=this.createDelay(100);this.resizeObserver=new ResizeObserver((()=>{n().then((()=>this.onContainerResize())).catch((()=>{}))})),this.resizeObserver.observe(this.scrollContainer)}}onContainerResize(){const t=this.parent.clientWidth;t===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=t,this.reRender())}initDrag(){this.dragUnsubscribe||(this.dragUnsubscribe=(function(t,n,r,i,s=3,o=0,a=100){if(!t)return()=>{};const l=matchMedia("(pointer: coarse)").matches;let u=()=>{};const c=d=>{if(d.button!==o)return;d.preventDefault(),d.stopPropagation();let f=d.clientX,h=d.clientY,p=!1;const m=Date.now(),g=C=>{if(C.preventDefault(),C.stopPropagation(),l&&Date.now()-m<a)return;const S=C.clientX,T=C.clientY,k=S-f,I=T-h;if(p||Math.abs(k)>s||Math.abs(I)>s){const R=t.getBoundingClientRect(),{left:P,top:N}=R;p||(r?.(f-P,h-N),p=!0),n(k,I,S-P,T-N),f=S,h=T}},y=C=>{if(p){const S=C.clientX,T=C.clientY,k=t.getBoundingClientRect(),{left:I,top:R}=k;i?.(S-I,T-R)}u()},v=C=>{C.relatedTarget&&C.relatedTarget!==document.documentElement||y(C)},w=C=>{p&&(C.stopPropagation(),C.preventDefault())},_=C=>{p&&C.preventDefault()};document.addEventListener("pointermove",g),document.addEventListener("pointerup",y),document.addEventListener("pointerout",v),document.addEventListener("pointercancel",v),document.addEventListener("touchmove",_,{passive:!1}),document.addEventListener("click",w,{capture:!0}),u=()=>{document.removeEventListener("pointermove",g),document.removeEventListener("pointerup",y),document.removeEventListener("pointerout",v),document.removeEventListener("pointercancel",v),document.removeEventListener("touchmove",_),setTimeout((()=>{document.removeEventListener("click",w,{capture:!0})}),10)}};return t.addEventListener("pointerdown",c),()=>{u(),t.removeEventListener("pointerdown",c)}})(this.wrapper,((t,n,r)=>{this.emit("drag",Math.max(0,Math.min(1,r/this.wrapper.getBoundingClientRect().width)))}),(t=>{this.isDragging=!0,this.emit("dragstart",Math.max(0,Math.min(1,t/this.wrapper.getBoundingClientRect().width)))}),(t=>{this.isDragging=!1,this.emit("dragend",Math.max(0,Math.min(1,t/this.wrapper.getBoundingClientRect().width)))})),this.subscriptions.push(this.dragUnsubscribe))}getHeight(t,n){var r;const i=((r=this.audioData)===null||r===void 0?void 0:r.numberOfChannels)||1;if(t==null)return 128;if(!isNaN(Number(t)))return Number(t);if(t==="auto"){const s=this.parent.clientHeight||128;return n?.every((o=>!o.overlay))?s/i:s}return 128}initHtml(){const t=document.createElement("div"),n=t.attachShadow({mode:"open"}),r=this.options.cspNonce&&typeof this.options.cspNonce=="string"?this.options.cspNonce.replace(/"/g,""):"";return n.innerHTML=`
      <style${r?` nonce="${r}"`:""}>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases" part="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[t,n]}setOptions(t){if(this.options.container!==t.container){const n=this.parentFromOptionsContainer(t.container);n.appendChild(this.container),this.parent=n}t.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.options=t,this.reRender()}getWrapper(){return this.wrapper}getWidth(){return this.scrollContainer.clientWidth}getScroll(){return this.scrollContainer.scrollLeft}setScroll(t){this.scrollContainer.scrollLeft=t}setScrollPercentage(t){const{scrollWidth:n}=this.scrollContainer,r=n*t;this.setScroll(r)}destroy(){var t;this.subscriptions.forEach((n=>n())),this.container.remove(),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),(t=this.unsubscribeOnScroll)===null||t===void 0||t.forEach((n=>n())),this.unsubscribeOnScroll=[]}createDelay(t=10){let n,r;const i=()=>{n&&(clearTimeout(n),n=void 0),r&&(r(),r=void 0)};return this.timeouts.push(i),()=>new Promise(((s,o)=>{i(),r=o,n=setTimeout((()=>{n=void 0,r=void 0,s()}),t)}))}convertColorValues(t){if(!Array.isArray(t))return t||"";if(t.length===0)return"#999";if(t.length<2)return t[0]||"";const n=document.createElement("canvas"),r=n.getContext("2d"),i=n.height*(window.devicePixelRatio||1),s=r.createLinearGradient(0,0,0,i),o=1/(t.length-1);return t.forEach(((a,l)=>{const u=l*o;s.addColorStop(u,a)})),s}getPixelRatio(){return Math.max(1,window.devicePixelRatio||1)}renderBarWaveform(t,n,r,i){const s=t[0],o=t[1]||t[0],a=s.length,{width:l,height:u}=r.canvas,c=u/2,d=this.getPixelRatio(),f=n.barWidth?n.barWidth*d:1,h=n.barGap?n.barGap*d:n.barWidth?f/2:0,p=n.barRadius||0,m=l/(f+h)/a,g=p&&"roundRect"in r?"roundRect":"rect";r.beginPath();let y=0,v=0,w=0;for(let _=0;_<=a;_++){const C=Math.round(_*m);if(C>y){const k=Math.round(v*c*i),I=k+Math.round(w*c*i)||1;let R=c-k;n.barAlign==="top"?R=0:n.barAlign==="bottom"&&(R=u-I),r[g](y*(f+h),R,f,I,p),y=C,v=0,w=0}const S=Math.abs(s[_]||0),T=Math.abs(o[_]||0);S>v&&(v=S),T>w&&(w=T)}r.fill(),r.closePath()}renderLineWaveform(t,n,r,i){const s=o=>{const a=t[o]||t[0],l=a.length,{height:u}=r.canvas,c=u/2,d=r.canvas.width/l;r.moveTo(0,c);let f=0,h=0;for(let p=0;p<=l;p++){const m=Math.round(p*d);if(m>f){const y=c+(Math.round(h*c*i)||1)*(o===0?-1:1);r.lineTo(f,y),f=m,h=0}const g=Math.abs(a[p]||0);g>h&&(h=g)}r.lineTo(f,c)};r.beginPath(),s(0),s(1),r.fill(),r.closePath()}renderWaveform(t,n,r){if(r.fillStyle=this.convertColorValues(n.waveColor),n.renderFunction)return void n.renderFunction(t,r);let i=n.barHeight||1;if(n.normalize){const s=Array.from(t[0]).reduce(((o,a)=>Math.max(o,Math.abs(a))),0);i=s?i/s:i}n.barWidth||n.barGap||n.barAlign?this.renderBarWaveform(t,n,r,i):this.renderLineWaveform(t,n,r,i)}renderSingleCanvas(t,n,r,i,s,o,a){const l=this.getPixelRatio(),u=document.createElement("canvas");u.width=Math.round(r*l),u.height=Math.round(i*l),u.style.width=`${r}px`,u.style.height=`${i}px`,u.style.left=`${Math.round(s)}px`,o.appendChild(u);const c=u.getContext("2d");if(this.renderWaveform(t,n,c),u.width>0&&u.height>0){const d=u.cloneNode(),f=d.getContext("2d");f.drawImage(u,0,0),f.globalCompositeOperation="source-in",f.fillStyle=this.convertColorValues(n.progressColor),f.fillRect(0,0,u.width,u.height),a.appendChild(d)}}renderMultiCanvas(t,n,r,i,s,o){const a=this.getPixelRatio(),{clientWidth:l}=this.scrollContainer,u=r/a;let c=Math.min(cC.MAX_CANVAS_WIDTH,l,u),d={};if(n.barWidth||n.barGap){const g=n.barWidth||.5,y=g+(n.barGap||g/2);c%y!=0&&(c=Math.floor(c/y)*y)}if(c===0)return;const f=g=>{if(g<0||g>=h||d[g])return;d[g]=!0;const y=g*c;let v=Math.min(u-y,c);if(n.barWidth||n.barGap){const _=n.barWidth||.5,C=_+(n.barGap||_/2);v=Math.floor(v/C)*C}if(v<=0)return;const w=t.map((_=>{const C=Math.floor(y/u*_.length),S=Math.floor((y+v)/u*_.length);return _.slice(C,S)}));this.renderSingleCanvas(w,n,v,i,y,s,o)},h=Math.ceil(u/c);if(!this.isScrollable){for(let g=0;g<h;g++)f(g);return}const p=this.scrollContainer.scrollLeft/u,m=Math.floor(p*h);if(f(m-1),f(m),f(m+1),h>1){const g=this.on("scroll",(()=>{const{scrollLeft:y}=this.scrollContainer,v=Math.floor(y/u*h);Object.keys(d).length>cC.MAX_NODES&&(s.innerHTML="",o.innerHTML="",d={}),f(v-1),f(v),f(v+1)}));this.unsubscribeOnScroll.push(g)}}renderChannel(t,n,r,i){var{overlay:s}=n,o=(function(c,d){var f={};for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&d.indexOf(h)<0&&(f[h]=c[h]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function"){var p=0;for(h=Object.getOwnPropertySymbols(c);p<h.length;p++)d.indexOf(h[p])<0&&Object.prototype.propertyIsEnumerable.call(c,h[p])&&(f[h[p]]=c[h[p]])}return f})(n,["overlay"]);const a=document.createElement("div"),l=this.getHeight(o.height,o.splitChannels);a.style.height=`${l}px`,s&&i>0&&(a.style.marginTop=`-${l}px`),this.canvasWrapper.style.minHeight=`${l}px`,this.canvasWrapper.appendChild(a);const u=a.cloneNode();this.progressWrapper.appendChild(u),this.renderMultiCanvas(t,o,r,l,a,u)}render(t){return ga(this,void 0,void 0,(function*(){var n;this.timeouts.forEach((l=>l())),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const r=this.getPixelRatio(),i=this.scrollContainer.clientWidth,s=Math.ceil(t.duration*(this.options.minPxPerSec||0));this.isScrollable=s>i;const o=this.options.fillParent&&!this.isScrollable,a=(o?i:s)*r;if(this.wrapper.style.width=o?"100%":`${s}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=t,this.emit("render"),this.options.splitChannels)for(let l=0;l<t.numberOfChannels;l++){const u=Object.assign(Object.assign({},this.options),(n=this.options.splitChannels)===null||n===void 0?void 0:n[l]);this.renderChannel([t.getChannelData(l)],u,a,l)}else{const l=[t.getChannelData(0)];t.numberOfChannels>1&&l.push(t.getChannelData(1)),this.renderChannel(l,this.options,a,0)}Promise.resolve().then((()=>this.emit("rendered")))}))}reRender(){if(this.unsubscribeOnScroll.forEach((r=>r())),this.unsubscribeOnScroll=[],!this.audioData)return;const{scrollWidth:t}=this.scrollContainer,{right:n}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&t!==this.scrollContainer.scrollWidth){const{right:r}=this.progressWrapper.getBoundingClientRect();let i=r-n;i*=2,i=i<0?Math.floor(i):Math.ceil(i),i/=2,this.scrollContainer.scrollLeft+=i}}zoom(t){this.options.minPxPerSec=t,this.reRender()}scrollIntoView(t,n=!1){const{scrollLeft:r,scrollWidth:i,clientWidth:s}=this.scrollContainer,o=t*i,a=r,l=r+s,u=s/2;if(this.isDragging)o+30>l?this.scrollContainer.scrollLeft+=30:o-30<a&&(this.scrollContainer.scrollLeft-=30);else{(o<a||o>l)&&(this.scrollContainer.scrollLeft=o-(this.options.autoCenter?u:0));const c=o-r-u;n&&this.options.autoCenter&&c>0&&(this.scrollContainer.scrollLeft+=Math.min(c,10))}{const c=this.scrollContainer.scrollLeft,d=c/i,f=(c+s)/i;this.emit("scroll",d,f,c,c+s)}}renderProgress(t,n){if(isNaN(t))return;const r=100*t;this.canvasWrapper.style.clipPath=`polygon(${r}% 0%, 100% 0%, 100% 100%, ${r}% 100%)`,this.progressWrapper.style.width=`${r}%`,this.cursor.style.left=`${r}%`,this.cursor.style.transform=this.options.cursorWidth?`translateX(-${t*this.options.cursorWidth}px)`:"",this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(t,n)}exportImage(t,n,r){return ga(this,void 0,void 0,(function*(){const i=this.canvasWrapper.querySelectorAll("canvas");if(!i.length)throw new Error("No waveform data");if(r==="dataURL"){const s=Array.from(i).map((o=>o.toDataURL(t,n)));return Promise.resolve(s)}return Promise.all(Array.from(i).map((s=>new Promise(((o,a)=>{s.toBlob((l=>{l?o(l):a(new Error("Could not export image"))}),t,n)})))))}))}}cC.MAX_CANVAS_WIDTH=8e3,cC.MAX_NODES=10;class Vin extends WR{constructor(){super(...arguments),this.animationFrameId=null,this.isRunning=!1}start(){if(this.isRunning)return;this.isRunning=!0;const t=()=>{this.isRunning&&(this.emit("tick"),this.animationFrameId=requestAnimationFrame(t))};t()}stop(){this.isRunning=!1,this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}destroy(){this.stop()}}class Xz extends WR{constructor(t=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=t,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return ga(this,void 0,void 0,(function*(){}))}get src(){return this.currentSrc}set src(t){if(this.currentSrc=t,this._duration=void 0,!t)return this.buffer=null,void this.emit("emptied");fetch(t).then((n=>{if(n.status>=400)throw new Error(`Failed to fetch ${t}: ${n.status} (${n.statusText})`);return n.arrayBuffer()})).then((n=>this.currentSrc!==t?null:this.audioContext.decodeAudioData(n))).then((n=>{this.currentSrc===t&&(this.buffer=n,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())}))}_play(){if(!this.paused)return;this.paused=!1,this.bufferNode&&(this.bufferNode.onended=null,this.bufferNode.disconnect()),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let t=this.playedDuration*this._playbackRate;(t>=this.duration||t<0)&&(t=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,t),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var t;this.paused=!0,(t=this.bufferNode)===null||t===void 0||t.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return ga(this,void 0,void 0,(function*(){this.paused&&(this._play(),this.emit("play"))}))}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(t){const n=t-this.currentTime,r=this.bufferNode;r?.stop(this.audioContext.currentTime+n),r?.addEventListener("ended",(()=>{r===this.bufferNode&&(this.bufferNode=null,this.pause())}),{once:!0})}setSinkId(t){return ga(this,void 0,void 0,(function*(){return this.audioContext.setSinkId(t)}))}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this.bufferNode&&(this.bufferNode.playbackRate.value=t)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(t){const n=!this.paused;n&&this._pause(),this.playedDuration=t/this._playbackRate,n&&this._play(),this.emit("seeking"),this.emit("timeupdate")}get duration(){var t,n;return(t=this._duration)!==null&&t!==void 0?t:((n=this.buffer)===null||n===void 0?void 0:n.duration)||0}set duration(t){this._duration=t}get volume(){return this.gainNode.gain.value}set volume(t){this.gainNode.gain.value=t,this.emit("volumechange")}get muted(){return this._muted}set muted(t){this._muted!==t&&(this._muted=t,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(t){return/^(audio|video)\//.test(t)}getGainNode(){return this.gainNode}getChannelData(){const t=[];if(!this.buffer)return t;const n=this.buffer.numberOfChannels;for(let r=0;r<n;r++)t.push(this.buffer.getChannelData(r));return t}removeAttribute(t){switch(t){case"src":this.src="";break;case"playbackRate":this.playbackRate=0;break;case"currentTime":this.currentTime=0;break;case"duration":this.duration=0;break;case"volume":this.volume=0;break;case"muted":this.muted=!1}}}const Hin={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class Jk extends Uin{static create(t){return new Jk(t)}constructor(t){const n=t.media||(t.backend==="WebAudio"?new Xz:void 0);super({media:n,mediaControls:t.mediaControls,autoplay:t.autoplay,playbackRate:t.audioRate}),this.plugins=[],this.decodedData=null,this.stopAtPosition=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.options=Object.assign({},Hin,t),this.timer=new Vin;const r=n?void 0:this.getMediaElement();this.renderer=new cC(this.options,r),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins();const i=this.options.url||this.getSrc()||"";Promise.resolve().then((()=>{this.emit("init");const{peaks:s,duration:o}=this.options;(i||s&&o)&&this.load(i,s,o).catch((a=>{console.error("WaveSurfer initial load error:",a)}))}))}updateProgress(t=this.getCurrentTime()){return this.renderer.renderProgress(t/this.getDuration(),this.isPlaying()),t}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",(()=>{if(!this.isSeeking()){const t=this.updateProgress();this.emit("timeupdate",t),this.emit("audioprocess",t),this.stopAtPosition!=null&&this.isPlaying()&&t>=this.stopAtPosition&&this.pause()}})))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",(()=>{const t=this.updateProgress();this.emit("timeupdate",t)})),this.onMediaEvent("play",(()=>{this.emit("play"),this.timer.start()})),this.onMediaEvent("pause",(()=>{this.emit("pause"),this.timer.stop(),this.stopAtPosition=null})),this.onMediaEvent("emptied",(()=>{this.timer.stop(),this.stopAtPosition=null})),this.onMediaEvent("ended",(()=>{this.emit("timeupdate",this.getDuration()),this.emit("finish"),this.stopAtPosition=null})),this.onMediaEvent("seeking",(()=>{this.emit("seeking",this.getCurrentTime())})),this.onMediaEvent("error",(()=>{var t;this.emit("error",(t=this.getMediaElement().error)!==null&&t!==void 0?t:new Error("Media error")),this.stopAtPosition=null})))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",((t,n)=>{this.options.interact&&(this.seekTo(t),this.emit("interaction",t*this.getDuration()),this.emit("click",t,n))})),this.renderer.on("dblclick",((t,n)=>{this.emit("dblclick",t,n)})),this.renderer.on("scroll",((t,n,r,i)=>{const s=this.getDuration();this.emit("scroll",t*s,n*s,r,i)})),this.renderer.on("render",(()=>{this.emit("redraw")})),this.renderer.on("rendered",(()=>{this.emit("redrawcomplete")})),this.renderer.on("dragstart",(t=>{this.emit("dragstart",t)})),this.renderer.on("dragend",(t=>{this.emit("dragend",t)})));{let t;const n=this.renderer.on("drag",(r=>{if(!this.options.interact)return;let i;this.renderer.renderProgress(r),clearTimeout(t),this.isPlaying()?i=0:this.options.dragToSeek===!0?i=200:typeof this.options.dragToSeek=="object"&&this.options.dragToSeek!==void 0&&(i=this.options.dragToSeek.debounceTime),t=setTimeout((()=>{this.seekTo(r)}),i),this.emit("interaction",r*this.getDuration()),this.emit("drag",r)}));this.subscriptions.push((()=>{clearTimeout(t),n()}))}}initPlugins(){var t;!((t=this.options.plugins)===null||t===void 0)&&t.length&&this.options.plugins.forEach((n=>{this.registerPlugin(n)}))}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach((t=>t())),this.mediaSubscriptions=[]}setOptions(t){this.options=Object.assign({},this.options,t),t.duration&&!t.peaks&&(this.decodedData=y3.createBuffer(this.exportPeaks(),t.duration)),t.peaks&&t.duration&&(this.decodedData=y3.createBuffer(t.peaks,t.duration)),this.renderer.setOptions(this.options),t.audioRate&&this.setPlaybackRate(t.audioRate),t.mediaControls!=null&&(this.getMediaElement().controls=t.mediaControls)}registerPlugin(t){if(this.plugins.includes(t))return t;t._init(this),this.plugins.push(t);const n=t.once("destroy",(()=>{this.plugins=this.plugins.filter((r=>r!==t)),this.subscriptions=this.subscriptions.filter((r=>r!==n))}));return this.subscriptions.push(n),t}unregisterPlugin(t){this.plugins=this.plugins.filter((n=>n!==t)),t.destroy()}getWrapper(){return this.renderer.getWrapper()}getWidth(){return this.renderer.getWidth()}getScroll(){return this.renderer.getScroll()}setScroll(t){return this.renderer.setScroll(t)}setScrollTime(t){const n=t/this.getDuration();this.renderer.setScrollPercentage(n)}getActivePlugins(){return this.plugins}loadAudio(t,n,r,i){return ga(this,void 0,void 0,(function*(){var s;if(this.emit("load",t),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,this.stopAtPosition=null,(s=this.abortController)===null||s===void 0||s.abort(),this.abortController=null,!n&&!r){const a=this.options.fetchParams||{};window.AbortController&&!a.signal&&(this.abortController=new AbortController,a.signal=this.abortController.signal);const l=c=>this.emit("loading",c);n=yield zin.fetchBlob(t,l,a);const u=this.options.blobMimeType;u&&(n=new Blob([n],{type:u}))}this.setSrc(t,n);const o=yield new Promise((a=>{const l=i||this.getDuration();l?a(l):this.mediaSubscriptions.push(this.onMediaEvent("loadedmetadata",(()=>a(this.getDuration())),{once:!0}))}));if(!t&&!n){const a=this.getMediaElement();a instanceof Xz&&(a.duration=o)}if(r)this.decodedData=y3.createBuffer(r,o||0);else if(n){const a=yield n.arrayBuffer();this.decodedData=yield y3.decode(a,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())}))}load(t,n,r){return ga(this,void 0,void 0,(function*(){try{return yield this.loadAudio(t,void 0,n,r)}catch(i){throw this.emit("error",i),i}}))}loadBlob(t,n,r){return ga(this,void 0,void 0,(function*(){try{return yield this.loadAudio("",t,n,r)}catch(i){throw this.emit("error",i),i}}))}zoom(t){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(t),this.emit("zoom",t)}getDecodedData(){return this.decodedData}exportPeaks({channels:t=2,maxLength:n=8e3,precision:r=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const i=Math.min(t,this.decodedData.numberOfChannels),s=[];for(let o=0;o<i;o++){const a=this.decodedData.getChannelData(o),l=[],u=a.length/n;for(let c=0;c<n;c++){const d=a.slice(Math.floor(c*u),Math.ceil((c+1)*u));let f=0;for(let h=0;h<d.length;h++){const p=d[h];Math.abs(p)>Math.abs(f)&&(f=p)}l.push(Math.round(f*r)/r)}s.push(l)}return s}getDuration(){let t=super.getDuration()||0;return t!==0&&t!==1/0||!this.decodedData||(t=this.decodedData.duration),t}toggleInteraction(t){this.options.interact=t}setTime(t){this.stopAtPosition=null,super.setTime(t),this.updateProgress(t),this.emit("timeupdate",t)}seekTo(t){const n=this.getDuration()*t;this.setTime(n)}play(t,n){const r=Object.create(null,{play:{get:()=>super.play}});return ga(this,void 0,void 0,(function*(){t!=null&&this.setTime(t);const i=yield r.play.call(this);return n!=null&&(this.media instanceof Xz?this.media.stopAt(n):this.stopAtPosition=n),i}))}playPause(){return ga(this,void 0,void 0,(function*(){return this.isPlaying()?this.pause():this.play()}))}stop(){this.pause(),this.setTime(0)}skip(t){this.setTime(this.getCurrentTime()+t)}empty(){this.load("",[[0]],.001)}setMediaElement(t){this.unsubscribePlayerEvents(),super.setMediaElement(t),this.initPlayerEvents()}exportImage(){return ga(this,arguments,void 0,(function*(t="image/png",n=1,r="dataURL"){return this.renderer.exportImage(t,n,r)}))}destroy(){var t;this.emit("destroy"),(t=this.abortController)===null||t===void 0||t.abort(),this.plugins.forEach((n=>n.destroy())),this.subscriptions.forEach((n=>n())),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}}Jk.BasePlugin=class extends WR{constructor(e){super(),this.subscriptions=[],this.isDestroyed=!1,this.options=e}onInit(){}_init(e){this.isDestroyed&&(this.subscriptions=[],this.isDestroyed=!1),this.wavesurfer=e,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach((e=>e())),this.subscriptions=[],this.isDestroyed=!0,this.wavesurfer=void 0}},Jk.dom=Bin;function qin(e){return Jk.create(e)}function Win(e){const{plugin:t,options:n,creator:r="create"}=e,i=t[r];if(!t)throw new Error("Please pass a valid plugin in plugin list");if(!r)throw new Error("Please pass the creator function name in 'creator' property.");if(typeof i!="function")throw new Error(`"${r}" is not callable on given plugin. Please pass a valid 'creator' in plugins list.`);return i(n)}const Ove=e=>e.reduce((t,n)=>(t[n[0]]=n[1],t),{}),Gin=(e,t)=>{const n=Object.entries(e),r=Object.entries(t),i=n.filter(([o])=>r.findIndex(([a])=>a===o)===-1),s=r.filter(([o])=>n.findIndex(([a])=>a===o)===-1);return{disabled:Ove(i),enabled:Ove(s)}};function Nve(e,t){const n={},r=[...t];for(;r.length>=1;){const i=r.shift();!!e[i.key]?n[i.key]=e[i.key]:n[i.key]=Win(i)}return n}function Yin({container:e,plugins:t=[],onMount:n,...r}){const i=A.useRef(!1),[s,o]=A.useState({}),a=A.useRef([]),[l,u]=A.useState(null);return A.useEffect(()=>{if(!e)return;const c=e;if(i.current)return;i.current=!0;const d=Nve(s,t);a.current=Object.keys(d);const f=qin({container:e,...r,plugins:Object.values(d)});return n?.(f),o(d),u(f),()=>{c!==e&&f.destroy()}},[e]),A.useEffect(()=>{if(l){const c=Nve(s,t),{disabled:d,enabled:f}=Gin(s,c);Object.keys(d).forEach(h=>{d[h].destroy()}),Object.keys(f).forEach(h=>{a.current.includes(h)||(console.log("register plugin",h,f[h]),l?.registerPlugin(f[h]))}),a.current=Object.keys(f),o(c)}},[t]),[l,s,Object.values(s)]}function Kin({children:e,plugins:t=[],onMount:n,...r}){const i=Yin({plugins:t,onMount:n,...r});return mn.createElement(jin.Provider,{value:i},e)}const Xin=({id:e="waveform",children:t})=>mn.createElement("div",{id:e},t),v3=15,b3=3,$ve=["#4269d0","#ff725c","#6cc5b0","#3ca951","#ff8ab7","#a463f2","#97bbf5","#9c6b4e"];function Qin({xScale:e,height:t,currentNode:n,provenance:r,answer:i}){const s=A.useMemo(()=>{const o=new Map;if(o.set("Root","#efb118"),i.provenanceGraph){let a=0;Object.entries(i.provenanceGraph.stimulus?.nodes||{}).forEach(l=>{const[,u]=l;o.has(u.label)||(o.set(u.label,$ve[a]),a=(a+1)%$ve.length)})}return o},[i]);return b.jsxs("g",{style:{cursor:"pointer"},children:[r?Object.entries(r.nodes||{}).map(o=>{const[a,l]=o;return b.jsx("g",{children:b.jsx("rect",{fill:s.get(l.label)||"#9498a0",opacity:l.id===n?1:.7,x:e(l.createdOn)-b3/2,y:t/2-v3/2,width:b3,height:v3})},a)}):null,n&&r&&r.nodes[n]&&b.jsx("rect",{fill:s.get(r.nodes[n].label)||"#9498a0",x:e(r.nodes[n].createdOn)-b3/2,y:t/2-v3/2,width:b3,height:v3}),b.jsx(GY,{position:{bottom:10,left:10}})]})}const Mve={left:5};function Jin({xScale:e,answers:t,width:n,height:r,currentNode:i,trialName:s}){const o=A.useMemo(()=>Object.entries(t).filter(a=>s?s===a[0]:!0).map(a=>{const[l,u]=a;return Object.keys(u.provenanceGraph).map(d=>{const f=u.provenanceGraph[d];return f?b.jsx(Qin,{answer:t[s],height:r,currentNode:i,xScale:e,provenance:f},l+d):null})}),[i,r,t,s,e]);return b.jsxs("svg",{style:{width:n,height:r},children:[b.jsx("line",{stroke:"black",strokeWidth:1,x1:Mve.left,x2:n+Mve.left,y1:r/2,y2:r/2}),o]})}function xm(e){const t=A.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return A.useLayoutEffect(()=>{t.current=e}),A.useCallback((...n)=>t.current?.(...n),[])}function Zin({width:e,height:t,debounceUpdateTimer:n,directUpdateTimer:r,duration:i,isPlaying:s,xScale:o,startTime:a,initialTime:l,speed:u}){const c=A.useRef(0),d=A.useRef(Date.now()),[f,h]=A.useState(0);A.useEffect(()=>{if(a){const g=l;c.current=g-a,r(g,(g-a)/i),localStorage.setItem("currentTime",`${a+c.current}_${(c.current/i).toString()}_${c.current}`)}},[a,r,l,i]);const p=xm(()=>{if(c.current>=i)return;const g=Date.now();c.current+=(g-d.current)*u,d.current=g,n(a+c.current,void 0),h(f+1)});A.useEffect(()=>{s&&c.current>=i&&(r(a,0),d.current=Date.now()-c.current,c.current=0)},[a,s,i,r]),A.useEffect(()=>{let g=null;return s&&c.current<i&&(d.current=Date.now(),g=setInterval(()=>{s&&p()},30)),()=>{g&&clearInterval(g)}},[i,p,s]),A.useEffect(()=>{const g=y=>{y.key==="currentTime"&&y.newValue&&(c.current=+y.newValue.split("_")[2],d.current=Date.now(),r(+y.newValue.split("_")[0],+y.newValue.split("_")[1]),h(f+1))};return window.addEventListener("storage",g),()=>window.removeEventListener("storage",g)},[r,f,o]);const m=A.useCallback(g=>{c.current=o.invert(g.clientX-10)-o.domain()[0],d.current=Date.now(),h(f+1),localStorage.setItem("currentTime",`${a+c.current}_${c.current/i}_${c.current}`),r(a+c.current,c.current/i)},[r,i,f,a,o]);return b.jsx("svg",{onClick:m,style:{width:e,height:t,position:"absolute",zIndex:1e4},children:b.jsx("line",{stroke:"#e15759",strokeWidth:3,y1:0,y2:t,x1:o(a+c.current),x2:o(a+c.current)})})}function MG(e){if(Number.isNaN(e))return;if(e<=0)return"0s";const t=Math.floor(e/1e3/60/60),n=Math.floor((e/1e3/60/60-t)*60),r=Math.floor(((e/1e3/60/60-t)*60-n)*60),i=r<10?`0${r}`:`${r}`,s=n<10?`0${n}`:`${n}`,o=t<10?`0${t}`:`${t}`;return`${t>0?`${o}:`:""}${`${s}`}:${i}`}function Qz(e,t,n,r,i,s){const o=A.useMemo(()=>{const a=Xy.create(),l=qC({registry:a,initialState:{}});return n&&l.importObject(structuredClone(n)),l},[n]);A.useEffect(()=>{if(!s)return;if(!n){r&&(i(null,e),s({prov:null,location:e}));return}if(!r||!n.nodes[r]){i(n.root,e),s({prov:o.getState(n.nodes[n.root]),location:e});return}let a=n.nodes[r];for(;;)if(t<a.createdOn){if(wRe(a))break;{const l=a.parent;a=n.nodes[l]}}else if(a.children.length>0){const l=a.children[0];if(t>n.nodes[l].createdOn)a=n.nodes[l];else break}else break;a.id!==r&&(i(a.id,e),s({prov:o.getState(a),location:e}))},[r,t,n,e,i,o,s])}const Jz={left:0,right:0};function Fve(e){return e.catch(()=>null)}function esn({setTimeString:e,answers:t,setTime:n,taskName:r,context:i,saveProvenance:s,analysisIsPlaying:o,setAnalysisIsPlaying:a,speed:l,jumpedToAudioTime:u,setHasAudio:c,setSpeed:d,isMuted:f,onProvenanceTimelineChange:h}){const[p,m]=mc(),g=A.useMemo(()=>p.get("participantId")||"",[p]),y=A.useMemo(()=>p.get("t")||"",[p]),v=A.useMemo(()=>{if(!y)return;if(!Number.isNaN(Number(y)))return parseInt(y,10);const de=parseInt(y.match(/(\d+)h/)?.[1]||"0",10),te=parseInt(y.match(/(\d+)m/)?.[1]||"0",10),ee=parseInt(y.match(/(\d+)s/)?.[1]||"0",10);return(de*3600+te*60+ee)*1e3},[y]),{storageEngine:w}=Ii(),[_,C]=A.useState(!0),S=A.useCallback(de=>{C(de),c(de)},[c]),[T,{width:k}]=mf(),[I,R]=A.useState(0),P=A.useMemo(()=>t[r]?.startTime||0,[t,r]),[N,$]=A.useState(null),[O,j]=A.useState({aboveStimulus:void 0,belowStimulus:void 0,sidebar:void 0,stimulus:void 0}),[B,H]=A.useState(null),[q,Y]=A.useState(0),[V,L]=A.useState(0),z=A.useRef(null),U=A.useRef(0),G=A.useRef(null),Q=ll(),[ne,ue]=A.useState(!0),se=A.useRef(null),ae=xm((de,te)=>{const ee=t[r]?.provenanceGraph[te];ee&&de&&(!B||ee.nodes[de].createdOn>B.time||V<B.time)&&H({name:de||"",time:ee.nodes[de].createdOn}),j({...O,[te]:de})}),he=oUe((de,te)=>{const ee=q*1e3+P;if(de>ee){a(!1),L(de);return}L(de),z.current&&te!==void 0&&!Number.isNaN(te)&&setTimeout(()=>{z.current?.seekTo(te)}),n&&n(de)},100),ie=A.useCallback((de,te)=>{const ee=q*1e3+P;if(de>ee){a(!1),L(de);return}L(de),h&&h(de-P),z.current&&te!==void 0&&!Number.isNaN(te)&&setTimeout(()=>{z.current?.seekTo(te)}),n&&n(de)},[a,n,P,q,h]);A.useEffect(()=>{he(P+u*1e3+1,void 0)},[he,u,P,q]),A.useEffect(()=>{r&&(localStorage.setItem("currentTrial",r),t[r]?.trialOrder&&localStorage.setItem("trialOrder",t[r].trialOrder))},[t,r]),A.useEffect(()=>{const de=te=>{te.newValue&&(te.key==="participantId"&&m(ee=>(ee.set("participantId",te.newValue||""),ee)),te.key==="currentTrial"&&m(ee=>(ee.set("currentTrial",te.newValue||""),ee)),te.key==="currentSpeed"&&d(+te.newValue),te.key==="analysisIsPlaying"&&a(te.newValue==="true"),te.key==="trialOrder"&&i==="provenanceVis"&&Q(r?`./../${Ss(+te.newValue)}?participantId=${g}&currentTrial=${r}`:`./${te.newValue}?participantId=${g}&currentTrial=${r}`))};return window.addEventListener("storage",de),()=>window.removeEventListener("storage",de)},[he,i,Q,g,a,m,d,ie,r]),Qz("aboveStimulus",V,t[r]?.provenanceGraph.aboveStimulus,O.aboveStimulus,ae,s),Qz("belowStimulus",V,t[r]?.provenanceGraph.belowStimulus,O.belowStimulus,ae,s),Qz("sidebar",V,t[r]?.provenanceGraph.sidebar,O.sidebar,ae,s),A.useEffect(()=>{if(r&&t[r]?.provenanceGraph){const de=Xy.create(),te=qC({registry:de,initialState:{}});t[r]?.provenanceGraph.stimulus&&(te.importObject(structuredClone(t[r]?.provenanceGraph.stimulus)),se.current=te)}},[t,r]);const le=A.useCallback(de=>{de&&(r&&se.current&&i==="provenanceVis"&&s&&(s({prov:se.current.getState(t[r]?.provenanceGraph.stimulus?.nodes[de]),location:"stimulus"}),se.current.to(de)),ae(de,"stimulus"),$(de))},[r,i,ae,s,t]);A.useEffect(()=>{if(!r||!se.current||!t[r]?.provenanceGraph)return;const de=t[r]?.provenanceGraph;if(!de.stimulus)return;if(!N||!de.stimulus.nodes[N]){le(de.stimulus.root);return}let te=de.stimulus.nodes[N];for(;;)if(V<te.createdOn){if(wRe(te))break;{const ee=te.parent;te=de.stimulus.nodes[ee]}}else if(te.children.length>0){const ee=te.children[0];if(V>de.stimulus.nodes[ee].createdOn)te=de.stimulus.nodes[ee];else break}else break;te.id!==N&&le(te.id)},[le,N,g,V,r,t]),A.useEffect(()=>{P&&(L(P+(v||0)),U.current=v||0)},[P,v]),A.useEffect(()=>{q===0?e(""):V!==0&&e(`${MG(V-P)}/${MG(q*1e3)}`)},[r,V,e,P,q]),A.useEffect(()=>{const de=t[r]?.endTime-t[r]?.startTime;Y(de>-1?de/1e3:0)},[_,t,r]);const Ee=D0(),X=xm(async de=>{if(z.current=de,!r.includes("__dynamicLoading"))if(de&&Ee&&r&&w)try{if(!g)throw new Error("Participant ID is required to load audio");const[te,ee]=await Promise.all([Fve(w.getAudio(r,g)),Fve(w.getScreenRecording(r,g))]);z.current?.setMuted(!!ee);const me=ee??te??null;me||(S(!1),ue(!1),z.current?.empty()),await de.load(me,void 0,q),ue(!1),R(de.getWidth()),S(!0),de.setPlaybackRate(l),de.seekTo(0),de.on("redrawcomplete",()=>R(de.getWidth()))}catch(te){throw S(!1),ue(!1),new Error(te)}else S(!1),ue(!1),Y(0)});A.useEffect(()=>{z.current&&(o?z.current.play():z.current.pause())},[z,o,q,P,L]),A.useEffect(()=>{z.current?.setPlaybackRate(l)},[l]),A.useEffect(()=>{z.current?.setMuted(f)},[f]);const fe=A.useMemo(()=>{if(!t[r]?.startTime||!t[r]?.endTime)return null;const de=q>0?t[r]?.startTime+q*1e3:t[r]?.endTime;return _u([Jz.left,k+Jz.left+Jz.right]).domain([t[r]?.startTime,de]).clamp(!0)},[t,r,q,k]);return A.useEffect(()=>{ue(!0),X(z.current)},[he,X,g,z,r]),b.jsx(An,{wrap:"nowrap",gap:10,mx:10,children:b.jsxs(zn,{ref:T,style:{width:"100%"},gap:0,children:[b.jsx($l,{visible:ne,overlayProps:{blur:5,backgroundOpacity:.35}}),g!==void 0&&r?b.jsx(De,{ref:G,style:{overflow:"hidden",width:"100%",pointerEvents:"none"},display:_?"block":"none",id:"waveformDiv",children:b.jsx(Kin,{backend:"MediaElement",onMount:X,plugins:[],container:"#waveformDiv",height:50,waveColor:"#484848",progressColor:"cornflowerblue",barHeight:0,cursorColor:"rgba(0, 0, 0, 0)",children:b.jsx(Xin,{id:"waveform",height:50})})}):null,fe&&r&&t[r]?.provenanceGraph?b.jsx(Jin,{xScale:fe,trialName:r,currentNode:B?.name||"",answers:t,width:I||k,height:25}):null,fe?b.jsx(Zin,{duration:q*1e3,initialTime:u?P+u*1e3+1:v?P+v:P,height:(_?50:0)+25,isPlaying:o,speed:l,startTime:P,width:k,xScale:fe,debounceUpdateTimer:he,directUpdateTimer:ie}):null]})})}const Lve={top:5};function tsn({transcriptLines:e,xScale:t,startTime:n,currentShownTranscription:r}){const i=A.useMemo(()=>e.map(s=>b.jsxs("g",{children:[b.jsx("line",{stroke:r>=s.lineStart&&r<=s.lineEnd?"cornflowerblue":"lightgray",strokeWidth:5,y1:Lve.top,y2:Lve.top,x1:t(n+s.start*1e3)+2,x2:t(n+s.end*1e3)-2}),s.tags.map((o,a)=>b.jsx("g",{children:o.map((l,u)=>{const c=t(n+s.start*1e3),d=t(n+s.end*1e3);return l?b.jsx("foreignObject",{x:c+(d-c)/s.tags.length*(a+.5)-6+(-(o.length-1)*15/2+u*15),y:15,height:"20px",width:"20px",children:b.jsx(yt,{label:l.name,withArrow:!0,arrowSize:6,children:b.jsx(Ym,{size:12,color:l.color})})},l.name):null})},a))]},s.start)),[r,n,e,t]);return b.jsx("svg",{style:{width:"100%",height:"30px"},children:i})}function nsn({selectedTags:e,removeFunc:t}){return e.map(n=>{if(!n||!n.id)return null;const r=lk(n.color).l;return b.jsx(yt,{label:n.name,withinPortal:!0,children:b.jsx(V1,{style:{width:"80px"},withRemoveButton:!!t,styles:{root:{backgroundColor:n.color,color:r>.7?"black":"white"}},onRemove:()=>t?t(n.id):null,children:n.name})},n.id)})}const ca=[];for(let e=0;e<256;++e)ca.push((e+256).toString(16).slice(1));function rsn(e,t=0){return(ca[e[t+0]]+ca[e[t+1]]+ca[e[t+2]]+ca[e[t+3]]+"-"+ca[e[t+4]]+ca[e[t+5]]+"-"+ca[e[t+6]]+ca[e[t+7]]+"-"+ca[e[t+8]]+ca[e[t+9]]+"-"+ca[e[t+10]]+ca[e[t+11]]+ca[e[t+12]]+ca[e[t+13]]+ca[e[t+14]]+ca[e[t+15]]).toLowerCase()}let Zz;const isn=new Uint8Array(16);function ssn(){if(!Zz){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Zz=crypto.getRandomValues.bind(crypto)}return Zz(isn)}const osn=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),jve={randomUUID:osn};function OLe(e,t,n){if(jve.randomUUID&&!e)return jve.randomUUID();e=e||{};const r=e.random??e.rng?.()??ssn();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,rsn(r)}function FG({addTagCallback:e,currentNames:t,editTag:n=!1,editableTag:r}){const[i,s]=A.useState(n?r.name:""),[o,a]=A.useState(n?r.color:"#fd7e14"),l=A.useCallback(()=>{const u=OLe();e({color:o,name:i,id:n&&r?r.id:u})},[e,o,n,r,i]);return b.jsxs(zn,{gap:"xs",children:[b.jsxs(An,{children:[b.jsx(Ym,{color:o}),b.jsx(kl,{required:!0,placeholder:"Enter tag name",value:i,onChange:u=>s(u.currentTarget.value),error:t.includes(i)&&(!n||r.name!==i)?"Tag with this name already exists":null})]}),b.jsx(V5,{withPicker:n,style:{width:"100%"},value:o,onChange:u=>a(u),swatches:["#2e2e2e","#868e96","#fa5252","#e64980","#be4bdb","#7950f2","#4c6ef5","#228be6","#15aabf","#12b886","#40c057","#82c91e","#fab005","#fd7e14"]}),b.jsx(Wt,{disabled:n&&o===r.color&&(i.length===0||t.includes(i)),size:"compact-sm",onClick:()=>l(),children:n?"Edit Tag":"Add Tag"})]})}function asn({createTagCallback:e,tags:t}){const[n,r]=A.useState(!1);return b.jsxs(kr,{trapFocus:!0,withinPortal:!1,children:[b.jsx(zn,{justify:"center",children:b.jsx(kr.Target,{children:b.jsx(Wt,{style:{width:"100%"},variant:"light",onClick:()=>r(!n),children:"Create new tag"})})}),t?b.jsx(kr.Dropdown,{children:b.jsx(FG,{currentNames:t.map(i=>i.name),addTagCallback:i=>{r(!1),e(i)}})}):b.jsx(pc,{})]})}function LG({tags:e,selectedTags:t,onSelectTags:n,disabled:r=!1,tagsEmptyText:i,createTagCallback:s,editTagCallback:o,width:a}){const l=cA(),u=A.useCallback(p=>n(t.filter(m=>m!==void 0&&m.id!==p)),[n,t]),c=A.useCallback(p=>{if(t.find(m=>m.id===p)){u(p);return}n([...t,[...e].find(m=>m.id===p)])},[u,n,t,e]),d=b.jsx(nsn,{selectedTags:t,removeFunc:u}),f=A.useMemo(()=>e.filter(p=>p!==void 0&&t.find(m=>m&&m.id===p.id)).map(p=>b.jsx(Wn.Option,{value:p.id,active:!0,children:b.jsxs(An,{justify:"space-between",gap:"sm",style:{width:"100%"},wrap:"nowrap",children:[b.jsx(yt,{label:p.name,withArrow:!0,openDelay:600,children:b.jsxs(An,{wrap:"nowrap",children:[b.jsx(pK,{size:12}),b.jsx(Ym,{size:10,color:p.color}),b.jsx(He,{style:{width:a-120},truncate:"end",children:p.name})]})}),b.jsx(De,{onClick:m=>{m.preventDefault(),m.stopPropagation()},children:b.jsxs(kr,{trapFocus:!0,withinPortal:!1,children:[b.jsx(kr.Target,{children:b.jsx(Tn,{variant:"light",size:"sm",children:b.jsx($N,{})})}),b.jsx(kr.Dropdown,{children:b.jsx(FG,{editTag:!0,currentNames:e.map(m=>m.id),addTagCallback:m=>{o(p,m)},editableTag:p})})]})})]})},p.id)),[o,t,e,a]),h=A.useMemo(()=>e.filter(p=>p!==void 0&&!t.find(m=>m&&m.id===p.id)).map(p=>b.jsx(Wn.Option,{value:p.id,children:b.jsxs(An,{justify:"space-between",gap:"sm",style:{width:"100%"},wrap:"nowrap",children:[b.jsx(yt,{label:p.name,withArrow:!0,openDelay:600,children:b.jsxs(An,{wrap:"nowrap",children:[b.jsx(Ym,{size:10,color:p.color}),b.jsx(He,{style:{width:a-100},truncate:"end",children:p.name})]})}),b.jsx(De,{onClick:m=>{m.preventDefault(),m.stopPropagation()},children:b.jsxs(kr,{trapFocus:!0,withinPortal:!1,children:[b.jsx(kr.Target,{children:b.jsx(Tn,{variant:"light",size:"sm",onClick:m=>{m.stopPropagation(),m.preventDefault()},children:b.jsx($N,{})})}),b.jsx(kr.Dropdown,{children:b.jsx(FG,{editTag:!0,currentNames:e.map(m=>m.id),addTagCallback:m=>{o(p,m)},editableTag:p})})]})})]})},p.id)),[o,t,e,a]);return b.jsxs(Wn,{disabled:r,width:a,store:l,onOptionSubmit:c,withinPortal:!0,children:[b.jsx(Wn.DropdownTarget,{children:b.jsx(v_,{style:{width:a},pointer:!0,onClick:()=>l.toggleDropdown(),children:b.jsxs(V1.Group,{children:[t.length>0?d:b.jsx(jr.Placeholder,{children:i}),b.jsx(Wn.EventsTarget,{children:b.jsx(v_.Field,{type:"hidden"})})]})})}),b.jsx(Wn.Dropdown,{children:b.jsxs(Wn.Options,{children:[h.length===0&&f.length===0?b.jsx(Wn.Empty,{children:"No additional tags"}):[...f,...h],b.jsx(asn,{createTagCallback:s,tags:e||[]})]})})]})}var eU={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Bve;function lsn(){return Bve||(Bve=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(r,i,s){function o(u,c){if(!i[u]){if(!r[u]){var d=typeof Am=="function"&&Am;if(!c&&d)return d(u,!0);if(a)return a(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var h=i[u]={exports:{}};r[u][0].call(h.exports,function(p){var m=r[u][1][p];return o(m||p)},h,h.exports,n,r,i,s)}return i[u].exports}for(var a=typeof Am=="function"&&Am,l=0;l<s.length;l++)o(s[l]);return o})({1:[function(n,r,i){var s=n("./utils"),o=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,c,d,f,h,p,m,g=[],y=0,v=l.length,w=v,_=s.getTypeOf(l)!=="string";y<l.length;)w=v-y,d=_?(u=l[y++],c=y<v?l[y++]:0,y<v?l[y++]:0):(u=l.charCodeAt(y++),c=y<v?l.charCodeAt(y++):0,y<v?l.charCodeAt(y++):0),f=u>>2,h=(3&u)<<4|c>>4,p=1<w?(15&c)<<2|d>>6:64,m=2<w?63&d:64,g.push(a.charAt(f)+a.charAt(h)+a.charAt(p)+a.charAt(m));return g.join("")},i.decode=function(l){var u,c,d,f,h,p,m=0,g=0,y="data:";if(l.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var v,w=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&w--,l.charAt(l.length-2)===a.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=o.uint8array?new Uint8Array(0|w):new Array(0|w);m<l.length;)u=a.indexOf(l.charAt(m++))<<2|(f=a.indexOf(l.charAt(m++)))>>4,c=(15&f)<<4|(h=a.indexOf(l.charAt(m++)))>>2,d=(3&h)<<6|(p=a.indexOf(l.charAt(m++))),v[g++]=u,h!==64&&(v[g++]=c),p!==64&&(v[g++]=d);return v}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),o=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function u(c,d,f,h,p){this.compressedSize=c,this.uncompressedSize=d,this.crc32=f,this.compression=h,this.compressedContent=p}u.prototype={getContentWorker:function(){var c=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),d=this;return c.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,d,f){return c.pipe(new a).pipe(new l("uncompressedSize")).pipe(d.compressWorker(f)).pipe(new l("compressedSize")).withStreamInfo("compression",d)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),o=(function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l})();r.exports=function(a,l){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?(function(u,c,d,f){var h=o,p=f+d;u^=-1;for(var m=f;m<p;m++)u=u>>>8^h[255&(u^c[m])];return-1^u})(0|l,a,a.length,0):(function(u,c,d,f){var h=o,p=f+d;u^=-1;for(var m=f;m<p;m++)u=u>>>8^h[255&(u^c.charCodeAt(m))];return-1^u})(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),u=s?"uint8array":"array";function c(d,f){l.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=f,this.meta={}}i.magic="\b\0",a.inherits(c,l),c.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,d.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(f){d.push({data:f,meta:d.meta})}},i.compressWorker=function(d){return new c("Deflate",d)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(h,p){var m,g="";for(m=0;m<p;m++)g+=String.fromCharCode(255&h),h>>>=8;return g}function o(h,p,m,g,y,v){var w,_,C=h.file,S=h.compression,T=v!==u.utf8encode,k=a.transformTo("string",v(C.name)),I=a.transformTo("string",u.utf8encode(C.name)),R=C.comment,P=a.transformTo("string",v(R)),N=a.transformTo("string",u.utf8encode(R)),$=I.length!==C.name.length,O=N.length!==R.length,j="",B="",H="",q=C.dir,Y=C.date,V={crc32:0,compressedSize:0,uncompressedSize:0};p&&!m||(V.crc32=h.crc32,V.compressedSize=h.compressedSize,V.uncompressedSize=h.uncompressedSize);var L=0;p&&(L|=8),T||!$&&!O||(L|=2048);var z=0,U=0;q&&(z|=16),y==="UNIX"?(U=798,z|=(function(Q,ne){var ue=Q;return Q||(ue=ne?16893:33204),(65535&ue)<<16})(C.unixPermissions,q)):(U=20,z|=(function(Q){return 63&(Q||0)})(C.dosPermissions)),w=Y.getUTCHours(),w<<=6,w|=Y.getUTCMinutes(),w<<=5,w|=Y.getUTCSeconds()/2,_=Y.getUTCFullYear()-1980,_<<=4,_|=Y.getUTCMonth()+1,_<<=5,_|=Y.getUTCDate(),$&&(B=s(1,1)+s(c(k),4)+I,j+="up"+s(B.length,2)+B),O&&(H=s(1,1)+s(c(P),4)+N,j+="uc"+s(H.length,2)+H);var G="";return G+=`
\0`,G+=s(L,2),G+=S.magic,G+=s(w,2),G+=s(_,2),G+=s(V.crc32,4),G+=s(V.compressedSize,4),G+=s(V.uncompressedSize,4),G+=s(k.length,2),G+=s(j.length,2),{fileRecord:d.LOCAL_FILE_HEADER+G+k+j,dirRecord:d.CENTRAL_FILE_HEADER+s(U,2)+G+s(P.length,2)+"\0\0\0\0"+s(z,4)+s(g,4)+k+j+P}}var a=n("../utils"),l=n("../stream/GenericWorker"),u=n("../utf8"),c=n("../crc32"),d=n("../signature");function f(h,p,m,g){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=m,this.encodeFileName=g,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(f,l),f.prototype.push=function(h){var p=h.meta.percent||0,m=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,l.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:m?(p+100*(m-g-1))/m:100}}))},f.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var p=this.streamFiles&&!h.file.dir;if(p){var m=o(h,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(h){this.accumulate=!1;var p=this.streamFiles&&!h.file.dir,m=o(h,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),p)this.push({data:(function(g){return d.DATA_DESCRIPTOR+s(g.crc32,4)+s(g.compressedSize,4)+s(g.uncompressedSize,4)})(h),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var h=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var m=this.bytesWritten-h,g=(function(y,v,w,_,C){var S=a.transformTo("string",C(_));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(y,2)+s(y,2)+s(v,4)+s(w,4)+s(S.length,2)+S})(this.dirRecords.length,m,h,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(h){this._sources.push(h);var p=this;return h.on("data",function(m){p.processChunk(m)}),h.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),h.on("error",function(m){p.error(m)}),this},f.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(h){var p=this._sources;if(!l.prototype.error.call(this,h))return!1;for(var m=0;m<p.length;m++)try{p[m].error(h)}catch{}return!0},f.prototype.lock=function(){l.prototype.lock.call(this);for(var h=this._sources,p=0;p<h.length;p++)h[p].lock()},r.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),o=n("./ZipFileWorker");i.generateWorker=function(a,l,u){var c=new o(l.streamFiles,u,l.platform,l.encodeFileName),d=0;try{a.forEach(function(f,h){d++;var p=(function(v,w){var _=v||w,C=s[_];if(!C)throw new Error(_+" is not a valid compression method !");return C})(h.options.compression,l.compression),m=h.options.compressionOptions||l.compressionOptions||{},g=h.dir,y=h.date;h._compressWorker(p,m).withStreamInfo("file",{name:f,dir:g,date:y,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(c)}),c.entriesCount=d}catch(f){c.error(f)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),o=n("./external"),a=n("./utf8"),l=n("./zipEntries"),u=n("./stream/Crc32Probe"),c=n("./nodejsUtils");function d(f){return new o.Promise(function(h,p){var m=f.decompressed.getContentWorker().pipe(new u);m.on("error",function(g){p(g)}).on("end",function(){m.streamInfo.crc32!==f.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}r.exports=function(f,h){var p=this;return h=s.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(f)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",f,!0,h.optimizedBinaryString,h.base64).then(function(m){var g=new l(h);return g.load(m),g}).then(function(m){var g=[o.Promise.resolve(m)],y=m.files;if(h.checkCRC32)for(var v=0;v<y.length;v++)g.push(d(y[v]));return o.Promise.all(g)}).then(function(m){for(var g=m.shift(),y=g.files,v=0;v<y.length;v++){var w=y[v],_=w.fileNameStr,C=s.resolve(w.fileNameStr);p.file(C,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:h.createFolders}),w.dir||(p.file(C).unsafeOriginalName=_)}return g.zipComment.length&&(p.comment=g.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),o=n("../stream/GenericWorker");function a(l,u){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(a,o),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function o(a,l,u){s.call(this,l),this._helper=a;var c=this;a.on("data",function(d,f){c.push(d)||c._helper.pause(),u&&u(f)}).on("error",function(d){c.emit("error",d)}).on("end",function(){c.push(null)})}n("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(C,S,T){var k,I=a.getTypeOf(S),R=a.extend(T||{},c);R.date=R.date||new Date,R.compression!==null&&(R.compression=R.compression.toUpperCase()),typeof R.unixPermissions=="string"&&(R.unixPermissions=parseInt(R.unixPermissions,8)),R.unixPermissions&&16384&R.unixPermissions&&(R.dir=!0),R.dosPermissions&&16&R.dosPermissions&&(R.dir=!0),R.dir&&(C=y(C)),R.createFolders&&(k=g(C))&&v.call(this,k,!0);var P=I==="string"&&R.binary===!1&&R.base64===!1;T&&T.binary!==void 0||(R.binary=!P),(S instanceof d&&S.uncompressedSize===0||R.dir||!S||S.length===0)&&(R.base64=!1,R.binary=!0,S="",R.compression="STORE",I="string");var N=null;N=S instanceof d||S instanceof l?S:p.isNode&&p.isStream(S)?new m(C,S):a.prepareContent(C,S,R.binary,R.optimizedBinaryString,R.base64);var $=new f(C,N,R);this.files[C]=$}var o=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),c=n("./defaults"),d=n("./compressedObject"),f=n("./zipObject"),h=n("./generate"),p=n("./nodejsUtils"),m=n("./nodejs/NodejsStreamInputAdapter"),g=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var S=C.lastIndexOf("/");return 0<S?C.substring(0,S):""},y=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},v=function(C,S){return S=S!==void 0?S:c.createFolders,C=y(C),this.files[C]||s.call(this,C,null,{dir:!0,createFolders:S}),this.files[C]};function w(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var _={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var S,T,k;for(S in this.files)k=this.files[S],(T=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&C(T,k)},filter:function(C){var S=[];return this.forEach(function(T,k){C(T,k)&&S.push(k)}),S},file:function(C,S,T){if(arguments.length!==1)return C=this.root+C,s.call(this,C,S,T),this;if(w(C)){var k=C;return this.filter(function(R,P){return!P.dir&&k.test(R)})}var I=this.files[this.root+C];return I&&!I.dir?I:null},folder:function(C){if(!C)return this;if(w(C))return this.filter(function(I,R){return R.dir&&C.test(I)});var S=this.root+C,T=v.call(this,S),k=this.clone();return k.root=T.name,k},remove:function(C){C=this.root+C;var S=this.files[C];if(S||(C.slice(-1)!=="/"&&(C+="/"),S=this.files[C]),S&&!S.dir)delete this.files[C];else for(var T=this.filter(function(I,R){return R.name.slice(0,C.length)===C}),k=0;k<T.length;k++)delete this.files[T[k].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var S,T={};try{if((T=a.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=T.type.toLowerCase(),T.compression=T.compression.toUpperCase(),T.type==="binarystring"&&(T.type="string"),!T.type)throw new Error("No output type specified.");a.checkSupport(T.type),T.platform!=="darwin"&&T.platform!=="freebsd"&&T.platform!=="linux"&&T.platform!=="sunos"||(T.platform="UNIX"),T.platform==="win32"&&(T.platform="DOS");var k=T.comment||this.comment||"";S=h.generateWorker(this,T,k)}catch(I){(S=new l("error")).error(I)}return new u(S,T.type||"string",T.mimeType)},generateAsync:function(C,S){return this.generateInternalStream(C).accumulate(S)},generateNodeStream:function(C,S){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(S)}};r.exports=_},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function o(a){s.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),d=a.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===l&&this.data[f+1]===u&&this.data[f+2]===c&&this.data[f+3]===d)return f-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),d=a.charCodeAt(3),f=this.readData(4);return l===f[0]&&u===f[1]&&c===f[2]&&d===f[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),o=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),u=n("./NodeBufferReader"),c=n("./Uint8ArrayReader");r.exports=function(d){var f=s.getTypeOf(d);return s.checkSupport(f),f!=="string"||o.uint8array?f==="nodebuffer"?new u(d):o.uint8array?new c(s.transformTo("uint8array",d)):new a(s.transformTo("array",d)):new l(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),o=n("../utils");function a(l){s.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,s),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),o=n("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,s),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(a,o),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}o.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=s.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),o=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),u=n("../support"),c=n("../external"),d=null;if(u.nodestream)try{d=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(p,m){return new c.Promise(function(g,y){var v=[],w=p._internalType,_=p._outputType,C=p._mimeType;p.on("data",function(S,T){v.push(S),m&&m(T)}).on("error",function(S){v=[],y(S)}).on("end",function(){try{var S=(function(T,k,I){switch(T){case"blob":return s.newBlob(s.transformTo("arraybuffer",k),I);case"base64":return l.encode(k);default:return s.transformTo(T,k)}})(_,(function(T,k){var I,R=0,P=null,N=0;for(I=0;I<k.length;I++)N+=k[I].length;switch(T){case"string":return k.join("");case"array":return Array.prototype.concat.apply([],k);case"uint8array":for(P=new Uint8Array(N),I=0;I<k.length;I++)P.set(k[I],R),R+=k[I].length;return P;case"nodebuffer":return Buffer.concat(k);default:throw new Error("concat : unsupported type '"+T+"'")}})(w,v),C);g(S)}catch(T){y(T)}v=[]}).resume()})}function h(p,m,g){var y=m;switch(m){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=m,this._mimeType=g,s.checkSupport(y),this._worker=p.pipe(new o(y)),p.lock()}catch(v){this._worker=new a("error"),this._worker.error(v)}}h.prototype={accumulate:function(p){return f(this,p)},on:function(p,m){var g=this;return p==="data"?this._worker.on(p,function(y){m.call(g,y.data,y.meta)}):this._worker.on(p,function(){s.delay(m,arguments,g)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},p)}},r.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),o=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function d(){l.call(this,"utf-8 decode"),this.leftOver=null}function f(){l.call(this,"utf-8 encode")}i.utf8encode=function(h){return o.nodebuffer?a.newBufferFrom(h,"utf-8"):(function(p){var m,g,y,v,w,_=p.length,C=0;for(v=0;v<_;v++)(64512&(g=p.charCodeAt(v)))==55296&&v+1<_&&(64512&(y=p.charCodeAt(v+1)))==56320&&(g=65536+(g-55296<<10)+(y-56320),v++),C+=g<128?1:g<2048?2:g<65536?3:4;for(m=o.uint8array?new Uint8Array(C):new Array(C),v=w=0;w<C;v++)(64512&(g=p.charCodeAt(v)))==55296&&v+1<_&&(64512&(y=p.charCodeAt(v+1)))==56320&&(g=65536+(g-55296<<10)+(y-56320),v++),g<128?m[w++]=g:(g<2048?m[w++]=192|g>>>6:(g<65536?m[w++]=224|g>>>12:(m[w++]=240|g>>>18,m[w++]=128|g>>>12&63),m[w++]=128|g>>>6&63),m[w++]=128|63&g);return m})(h)},i.utf8decode=function(h){return o.nodebuffer?s.transformTo("nodebuffer",h).toString("utf-8"):(function(p){var m,g,y,v,w=p.length,_=new Array(2*w);for(m=g=0;m<w;)if((y=p[m++])<128)_[g++]=y;else if(4<(v=u[y]))_[g++]=65533,m+=v-1;else{for(y&=v===2?31:v===3?15:7;1<v&&m<w;)y=y<<6|63&p[m++],v--;1<v?_[g++]=65533:y<65536?_[g++]=y:(y-=65536,_[g++]=55296|y>>10&1023,_[g++]=56320|1023&y)}return _.length!==g&&(_.subarray?_=_.subarray(0,g):_.length=g),s.applyFromCharCode(_)})(h=s.transformTo(o.uint8array?"uint8array":"array",h))},s.inherits(d,l),d.prototype.processChunk=function(h){var p=s.transformTo(o.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var m=p;(p=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),p.set(m,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var g=(function(v,w){var _;for((w=w||v.length)>v.length&&(w=v.length),_=w-1;0<=_&&(192&v[_])==128;)_--;return _<0||_===0?w:_+u[v[_]]>w?_:w})(p),y=p;g!==p.length&&(o.uint8array?(y=p.subarray(0,g),this.leftOver=p.subarray(g,p.length)):(y=p.slice(0,g),this.leftOver=p.slice(g,p.length))),this.push({data:i.utf8decode(y),meta:h.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=d,s.inherits(f,l),f.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),o=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function u(m){return m}function c(m,g){for(var y=0;y<m.length;++y)g[y]=255&m.charCodeAt(y);return g}n("setimmediate"),i.newBlob=function(m,g){i.checkSupport("blob");try{return new Blob([m],{type:g})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(m),y.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(m,g,y){var v=[],w=0,_=m.length;if(_<=y)return String.fromCharCode.apply(null,m);for(;w<_;)g==="array"||g==="nodebuffer"?v.push(String.fromCharCode.apply(null,m.slice(w,Math.min(w+y,_)))):v.push(String.fromCharCode.apply(null,m.subarray(w,Math.min(w+y,_)))),w+=y;return v.join("")},stringifyByChar:function(m){for(var g="",y=0;y<m.length;y++)g+=String.fromCharCode(m[y]);return g},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}})()}};function f(m){var g=65536,y=i.getTypeOf(m),v=!0;if(y==="uint8array"?v=d.applyCanBeUsed.uint8array:y==="nodebuffer"&&(v=d.applyCanBeUsed.nodebuffer),v)for(;1<g;)try{return d.stringifyByChunk(m,y,g)}catch{g=Math.floor(g/2)}return d.stringifyByChar(m)}function h(m,g){for(var y=0;y<m.length;y++)g[y]=m[y];return g}i.applyFromCharCode=f;var p={};p.string={string:u,array:function(m){return c(m,new Array(m.length))},arraybuffer:function(m){return p.string.uint8array(m).buffer},uint8array:function(m){return c(m,new Uint8Array(m.length))},nodebuffer:function(m){return c(m,a.allocBuffer(m.length))}},p.array={string:f,array:u,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return a.newBufferFrom(m)}},p.arraybuffer={string:function(m){return f(new Uint8Array(m))},array:function(m){return h(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:u,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return a.newBufferFrom(new Uint8Array(m))}},p.uint8array={string:f,array:function(m){return h(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:u,nodebuffer:function(m){return a.newBufferFrom(m)}},p.nodebuffer={string:f,array:function(m){return h(m,new Array(m.length))},arraybuffer:function(m){return p.nodebuffer.uint8array(m).buffer},uint8array:function(m){return h(m,new Uint8Array(m.length))},nodebuffer:u},i.transformTo=function(m,g){if(g=g||"",!m)return g;i.checkSupport(m);var y=i.getTypeOf(g);return p[y][m](g)},i.resolve=function(m){for(var g=m.split("/"),y=[],v=0;v<g.length;v++){var w=g[v];w==="."||w===""&&v!==0&&v!==g.length-1||(w===".."?y.pop():y.push(w))}return y.join("/")},i.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(m)?"nodebuffer":s.uint8array&&m instanceof Uint8Array?"uint8array":s.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(m){if(!s[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(m){var g,y,v="";for(y=0;y<(m||"").length;y++)v+="\\x"+((g=m.charCodeAt(y))<16?"0":"")+g.toString(16).toUpperCase();return v},i.delay=function(m,g,y){setImmediate(function(){m.apply(y||null,g||[])})},i.inherits=function(m,g){function y(){}y.prototype=g.prototype,m.prototype=new y},i.extend=function(){var m,g,y={};for(m=0;m<arguments.length;m++)for(g in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],g)&&y[g]===void 0&&(y[g]=arguments[m][g]);return y},i.prepareContent=function(m,g,y,v,w){return l.Promise.resolve(g).then(function(_){return s.blob&&(_ instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(_))!==-1)&&typeof FileReader<"u"?new l.Promise(function(C,S){var T=new FileReader;T.onload=function(k){C(k.target.result)},T.onerror=function(k){S(k.target.error)},T.readAsArrayBuffer(_)}):_}).then(function(_){var C=i.getTypeOf(_);return C?(C==="arraybuffer"?_=i.transformTo("uint8array",_):C==="string"&&(w?_=o.decode(_):y&&v!==!0&&(_=(function(S){return c(S,s.uint8array?new Uint8Array(S.length):new Array(S.length))})(_))),_):l.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),a=n("./signature"),l=n("./zipEntry"),u=n("./support");function c(d){this.files=[],this.loadOptions=d}c.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(f)+", expected "+o.pretty(d)+")")}},isSignature:function(d,f){var h=this.reader.index;this.reader.setIndex(d);var p=this.reader.readString(4)===f;return this.reader.setIndex(h),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),f=u.uint8array?"uint8array":"array",h=o.transformTo(f,d);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,f,h,p=this.zip64EndOfCentralSize-44;0<p;)d=this.reader.readInt(2),f=this.reader.readInt(4),h=this.reader.readData(f),this.zip64ExtensibleData[d]={id:d,length:f,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,f;for(d=0;d<this.files.length;d++)f=this.files[d],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(d=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var f=d;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var p=f-h;if(0<p)this.isSignature(f,a.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(d){this.reader=s(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),u=n("./utf8"),c=n("./compressions"),d=n("./support");function f(h,p){this.options=h,this.loadOptions=p}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var p,m;if(h.skip(22),this.fileNameLength=h.readInt(2),m=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=(function(g){for(var y in c)if(Object.prototype.hasOwnProperty.call(c,y)&&c[y].magic===g)return c[y];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,p,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var p=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(p),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var p,m,g,y=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<y;)p=h.readInt(2),m=h.readInt(2),g=h.readData(m),this.extraFields[p]={id:p,length:m,value:g};h.setIndex(y)},handleUTF8:function(){var h=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var m=o.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var y=o.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var p=s(h.value);return p.readInt(1)!==1||l(this.fileName)!==p.readInt(4)?null:u.utf8decode(p.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var p=s(h.value);return p.readInt(1)!==1||l(this.fileComment)!==p.readInt(4)?null:u.utf8decode(p.readData(h.length-5))}return null}},r.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(p,m,g){this.name=p,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=m,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var o=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),u=n("./compressedObject"),c=n("./stream/GenericWorker");s.prototype={internalStream:function(p){var m=null,g="string";try{if(!p)throw new Error("No output type specified.");var y=(g=p.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),m=this._decompressWorker();var v=!this._dataBinary;v&&!y&&(m=m.pipe(new l.Utf8EncodeWorker)),!v&&y&&(m=m.pipe(new l.Utf8DecodeWorker))}catch(w){(m=new c("error")).error(w)}return new o(m,g,"")},async:function(p,m){return this.internalStream(p).accumulate(m)},nodeStream:function(p,m){return this.internalStream(p||"nodebuffer").toNodejsStream(m)},_compressWorker:function(p,m){if(this._data instanceof u&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(g,p,m)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new a(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<d.length;h++)s.prototype[d[h]]=f;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var o,a,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var u=0,c=new l(p),d=s.document.createTextNode("");c.observe(d,{characterData:!0}),o=function(){d.data=u=++u%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var m=s.document.createElement("script");m.onreadystatechange=function(){p(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},s.document.documentElement.appendChild(m)}:function(){setTimeout(p,0)};else{var f=new s.MessageChannel;f.port1.onmessage=p,o=function(){f.port2.postMessage(0)}}var h=[];function p(){var m,g;a=!0;for(var y=h.length;y;){for(g=h,h=[],m=-1;++m<y;)g[m]();y=h.length}a=!1}r.exports=function(m){h.push(m)!==1||a||o()}}).call(this,typeof Si<"u"?Si:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function o(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function d(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,y!==o&&m(this,y)}function f(y,v,w){this.promise=y,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function h(y,v,w){s(function(){var _;try{_=v(w)}catch(C){return a.reject(y,C)}_===y?a.reject(y,new TypeError("Cannot resolve promise with itself")):a.resolve(y,_)})}function p(y){var v=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof v=="function")return function(){v.apply(y,arguments)}}function m(y,v){var w=!1;function _(T){w||(w=!0,a.reject(y,T))}function C(T){w||(w=!0,a.resolve(y,T))}var S=g(function(){v(C,_)});S.status==="error"&&_(S.value)}function g(y,v){var w={};try{w.value=y(v),w.status="success"}catch(_){w.status="error",w.value=_}return w}(r.exports=d).prototype.finally=function(y){if(typeof y!="function")return this;var v=this.constructor;return this.then(function(w){return v.resolve(y()).then(function(){return w})},function(w){return v.resolve(y()).then(function(){throw w})})},d.prototype.catch=function(y){return this.then(null,y)},d.prototype.then=function(y,v){if(typeof y!="function"&&this.state===u||typeof v!="function"&&this.state===l)return this;var w=new this.constructor(o);return this.state!==c?h(w,this.state===u?y:v,this.outcome):this.queue.push(new f(w,y,v)),w},f.prototype.callFulfilled=function(y){a.resolve(this.promise,y)},f.prototype.otherCallFulfilled=function(y){h(this.promise,this.onFulfilled,y)},f.prototype.callRejected=function(y){a.reject(this.promise,y)},f.prototype.otherCallRejected=function(y){h(this.promise,this.onRejected,y)},a.resolve=function(y,v){var w=g(p,v);if(w.status==="error")return a.reject(y,w.value);var _=w.value;if(_)m(y,_);else{y.state=u,y.outcome=v;for(var C=-1,S=y.queue.length;++C<S;)y.queue[C].callFulfilled(v)}return y},a.reject=function(y,v){y.state=l,y.outcome=v;for(var w=-1,_=y.queue.length;++w<_;)y.queue[w].callRejected(v);return y},d.resolve=function(y){return y instanceof this?y:a.resolve(new this(o),y)},d.reject=function(y){var v=new this(o);return a.reject(v,y)},d.all=function(y){var v=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=y.length,_=!1;if(!w)return this.resolve([]);for(var C=new Array(w),S=0,T=-1,k=new this(o);++T<w;)I(y[T],T);return k;function I(R,P){v.resolve(R).then(function(N){C[P]=N,++S!==w||_||(_=!0,a.resolve(k,C))},function(N){_||(_=!0,a.reject(k,N))})}},d.race=function(y){var v=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=y.length,_=!1;if(!w)return this.resolve([]);for(var C=-1,S=new this(o);++C<w;)T=y[C],v.resolve(T).then(function(k){_||(_=!0,a.resolve(S,k))},function(k){_||(_=!0,a.reject(S,k))});var T;return S}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),u=n("./zlib/zstream"),c=Object.prototype.toString,d=0,f=-1,h=0,p=8;function m(y){if(!(this instanceof m))return new m(y);this.options=o.assign({level:f,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},y||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var w=s.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(w!==d)throw new Error(l[w]);if(v.header&&s.deflateSetHeader(this.strm,v.header),v.dictionary){var _;if(_=typeof v.dictionary=="string"?a.string2buf(v.dictionary):c.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(w=s.deflateSetDictionary(this.strm,_))!==d)throw new Error(l[w]);this._dict_set=!0}}function g(y,v){var w=new m(v);if(w.push(y,!0),w.err)throw w.msg||l[w.err];return w.result}m.prototype.push=function(y,v){var w,_,C=this.strm,S=this.options.chunkSize;if(this.ended)return!1;_=v===~~v?v:v===!0?4:0,typeof y=="string"?C.input=a.string2buf(y):c.call(y)==="[object ArrayBuffer]"?C.input=new Uint8Array(y):C.input=y,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new o.Buf8(S),C.next_out=0,C.avail_out=S),(w=s.deflate(C,_))!==1&&w!==d)return this.onEnd(w),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||_!==4&&_!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(C.output,C.next_out))):this.onData(o.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&w!==1);return _===4?(w=s.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===d):_!==2||(this.onEnd(d),!(C.avail_out=0))},m.prototype.onData=function(y){this.chunks.push(y)},m.prototype.onEnd=function(y){y===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Deflate=m,i.deflate=g,i.deflateRaw=function(y,v){return(v=v||{}).raw=!0,g(y,v)},i.gzip=function(y,v){return(v=v||{}).gzip=!0,g(y,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),u=n("./zlib/messages"),c=n("./zlib/zstream"),d=n("./zlib/gzheader"),f=Object.prototype.toString;function h(m){if(!(this instanceof h))return new h(m);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},m||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||m&&m.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&(15&g.windowBits)==0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var y=s.inflateInit2(this.strm,g.windowBits);if(y!==l.Z_OK)throw new Error(u[y]);this.header=new d,s.inflateGetHeader(this.strm,this.header)}function p(m,g){var y=new h(g);if(y.push(m,!0),y.err)throw y.msg||u[y.err];return y.result}h.prototype.push=function(m,g){var y,v,w,_,C,S,T=this.strm,k=this.options.chunkSize,I=this.options.dictionary,R=!1;if(this.ended)return!1;v=g===~~g?g:g===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof m=="string"?T.input=a.binstring2buf(m):f.call(m)==="[object ArrayBuffer]"?T.input=new Uint8Array(m):T.input=m,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new o.Buf8(k),T.next_out=0,T.avail_out=k),(y=s.inflate(T,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&I&&(S=typeof I=="string"?a.string2buf(I):f.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,y=s.inflateSetDictionary(this.strm,S)),y===l.Z_BUF_ERROR&&R===!0&&(y=l.Z_OK,R=!1),y!==l.Z_STREAM_END&&y!==l.Z_OK)return this.onEnd(y),!(this.ended=!0);T.next_out&&(T.avail_out!==0&&y!==l.Z_STREAM_END&&(T.avail_in!==0||v!==l.Z_FINISH&&v!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=a.utf8border(T.output,T.next_out),_=T.next_out-w,C=a.buf2string(T.output,w),T.next_out=_,T.avail_out=k-_,_&&o.arraySet(T.output,T.output,w,_,0),this.onData(C)):this.onData(o.shrinkBuf(T.output,T.next_out)))),T.avail_in===0&&T.avail_out===0&&(R=!0)}while((0<T.avail_in||T.avail_out===0)&&y!==l.Z_STREAM_END);return y===l.Z_STREAM_END&&(v=l.Z_FINISH),v===l.Z_FINISH?(y=s.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===l.Z_OK):v!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(T.avail_out=0))},h.prototype.onData=function(m){this.chunks.push(m)},h.prototype.onEnd=function(m){m===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Inflate=h,i.inflate=p,i.inflateRaw=function(m,g){return(g=g||{}).raw=!0,p(m,g)},i.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var d in c)c.hasOwnProperty(d)&&(l[d]=c[d])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var o={arraySet:function(l,u,c,d,f){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+d),f);else for(var h=0;h<d;h++)l[f+h]=u[c+h]},flattenChunks:function(l){var u,c,d,f,h,p;for(u=d=0,c=l.length;u<c;u++)d+=l[u].length;for(p=new Uint8Array(d),u=f=0,c=l.length;u<c;u++)h=l[u],p.set(h,f),f+=h.length;return p}},a={arraySet:function(l,u,c,d,f){for(var h=0;h<d;h++)l[f+h]=u[c+h]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new s.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(d,f){if(f<65537&&(d.subarray&&a||!d.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(d,f));for(var h="",p=0;p<f;p++)h+=String.fromCharCode(d[p]);return h}l[254]=l[254]=1,i.string2buf=function(d){var f,h,p,m,g,y=d.length,v=0;for(m=0;m<y;m++)(64512&(h=d.charCodeAt(m)))==55296&&m+1<y&&(64512&(p=d.charCodeAt(m+1)))==56320&&(h=65536+(h-55296<<10)+(p-56320),m++),v+=h<128?1:h<2048?2:h<65536?3:4;for(f=new s.Buf8(v),m=g=0;g<v;m++)(64512&(h=d.charCodeAt(m)))==55296&&m+1<y&&(64512&(p=d.charCodeAt(m+1)))==56320&&(h=65536+(h-55296<<10)+(p-56320),m++),h<128?f[g++]=h:(h<2048?f[g++]=192|h>>>6:(h<65536?f[g++]=224|h>>>12:(f[g++]=240|h>>>18,f[g++]=128|h>>>12&63),f[g++]=128|h>>>6&63),f[g++]=128|63&h);return f},i.buf2binstring=function(d){return c(d,d.length)},i.binstring2buf=function(d){for(var f=new s.Buf8(d.length),h=0,p=f.length;h<p;h++)f[h]=d.charCodeAt(h);return f},i.buf2string=function(d,f){var h,p,m,g,y=f||d.length,v=new Array(2*y);for(h=p=0;h<y;)if((m=d[h++])<128)v[p++]=m;else if(4<(g=l[m]))v[p++]=65533,h+=g-1;else{for(m&=g===2?31:g===3?15:7;1<g&&h<y;)m=m<<6|63&d[h++],g--;1<g?v[p++]=65533:m<65536?v[p++]=m:(m-=65536,v[p++]=55296|m>>10&1023,v[p++]=56320|1023&m)}return c(v,p)},i.utf8border=function(d,f){var h;for((f=f||d.length)>d.length&&(f=d.length),h=f-1;0<=h&&(192&d[h])==128;)h--;return h<0||h===0?f:h+l[d[h]]>f?h:f}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,o,a,l){for(var u=65535&s|0,c=s>>>16&65535|0,d=0;a!==0;){for(a-=d=2e3<a?2e3:a;c=c+(u=u+o[l++]|0)|0,--d;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=(function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a})();r.exports=function(o,a,l,u){var c=s,d=u+l;o^=-1;for(var f=u;f<d;f++)o=o>>>8^c[255&(o^a[f])];return-1^o}},{}],46:[function(n,r,i){var s,o=n("../utils/common"),a=n("./trees"),l=n("./adler32"),u=n("./crc32"),c=n("./messages"),d=0,f=4,h=0,p=-2,m=-1,g=4,y=2,v=8,w=9,_=286,C=30,S=19,T=2*_+1,k=15,I=3,R=258,P=R+I+1,N=42,$=113,O=1,j=2,B=3,H=4;function q(X,fe){return X.msg=c[fe],fe}function Y(X){return(X<<1)-(4<X?9:0)}function V(X){for(var fe=X.length;0<=--fe;)X[fe]=0}function L(X){var fe=X.state,de=fe.pending;de>X.avail_out&&(de=X.avail_out),de!==0&&(o.arraySet(X.output,fe.pending_buf,fe.pending_out,de,X.next_out),X.next_out+=de,fe.pending_out+=de,X.total_out+=de,X.avail_out-=de,fe.pending-=de,fe.pending===0&&(fe.pending_out=0))}function z(X,fe){a._tr_flush_block(X,0<=X.block_start?X.block_start:-1,X.strstart-X.block_start,fe),X.block_start=X.strstart,L(X.strm)}function U(X,fe){X.pending_buf[X.pending++]=fe}function G(X,fe){X.pending_buf[X.pending++]=fe>>>8&255,X.pending_buf[X.pending++]=255&fe}function Q(X,fe){var de,te,ee=X.max_chain_length,me=X.strstart,Re=X.prev_length,Te=X.nice_match,we=X.strstart>X.w_size-P?X.strstart-(X.w_size-P):0,$e=X.window,Ae=X.w_mask,Oe=X.prev,xe=X.strstart+R,je=$e[me+Re-1],Ue=$e[me+Re];X.prev_length>=X.good_match&&(ee>>=2),Te>X.lookahead&&(Te=X.lookahead);do if($e[(de=fe)+Re]===Ue&&$e[de+Re-1]===je&&$e[de]===$e[me]&&$e[++de]===$e[me+1]){me+=2,de++;do;while($e[++me]===$e[++de]&&$e[++me]===$e[++de]&&$e[++me]===$e[++de]&&$e[++me]===$e[++de]&&$e[++me]===$e[++de]&&$e[++me]===$e[++de]&&$e[++me]===$e[++de]&&$e[++me]===$e[++de]&&me<xe);if(te=R-(xe-me),me=xe-R,Re<te){if(X.match_start=fe,Te<=(Re=te))break;je=$e[me+Re-1],Ue=$e[me+Re]}}while((fe=Oe[fe&Ae])>we&&--ee!=0);return Re<=X.lookahead?Re:X.lookahead}function ne(X){var fe,de,te,ee,me,Re,Te,we,$e,Ae,Oe=X.w_size;do{if(ee=X.window_size-X.lookahead-X.strstart,X.strstart>=Oe+(Oe-P)){for(o.arraySet(X.window,X.window,Oe,Oe,0),X.match_start-=Oe,X.strstart-=Oe,X.block_start-=Oe,fe=de=X.hash_size;te=X.head[--fe],X.head[fe]=Oe<=te?te-Oe:0,--de;);for(fe=de=Oe;te=X.prev[--fe],X.prev[fe]=Oe<=te?te-Oe:0,--de;);ee+=Oe}if(X.strm.avail_in===0)break;if(Re=X.strm,Te=X.window,we=X.strstart+X.lookahead,$e=ee,Ae=void 0,Ae=Re.avail_in,$e<Ae&&(Ae=$e),de=Ae===0?0:(Re.avail_in-=Ae,o.arraySet(Te,Re.input,Re.next_in,Ae,we),Re.state.wrap===1?Re.adler=l(Re.adler,Te,Ae,we):Re.state.wrap===2&&(Re.adler=u(Re.adler,Te,Ae,we)),Re.next_in+=Ae,Re.total_in+=Ae,Ae),X.lookahead+=de,X.lookahead+X.insert>=I)for(me=X.strstart-X.insert,X.ins_h=X.window[me],X.ins_h=(X.ins_h<<X.hash_shift^X.window[me+1])&X.hash_mask;X.insert&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[me+I-1])&X.hash_mask,X.prev[me&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=me,me++,X.insert--,!(X.lookahead+X.insert<I)););}while(X.lookahead<P&&X.strm.avail_in!==0)}function ue(X,fe){for(var de,te;;){if(X.lookahead<P){if(ne(X),X.lookahead<P&&fe===d)return O;if(X.lookahead===0)break}if(de=0,X.lookahead>=I&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+I-1])&X.hash_mask,de=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),de!==0&&X.strstart-de<=X.w_size-P&&(X.match_length=Q(X,de)),X.match_length>=I)if(te=a._tr_tally(X,X.strstart-X.match_start,X.match_length-I),X.lookahead-=X.match_length,X.match_length<=X.max_lazy_match&&X.lookahead>=I){for(X.match_length--;X.strstart++,X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+I-1])&X.hash_mask,de=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart,--X.match_length!=0;);X.strstart++}else X.strstart+=X.match_length,X.match_length=0,X.ins_h=X.window[X.strstart],X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+1])&X.hash_mask;else te=a._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++;if(te&&(z(X,!1),X.strm.avail_out===0))return O}return X.insert=X.strstart<I-1?X.strstart:I-1,fe===f?(z(X,!0),X.strm.avail_out===0?B:H):X.last_lit&&(z(X,!1),X.strm.avail_out===0)?O:j}function se(X,fe){for(var de,te,ee;;){if(X.lookahead<P){if(ne(X),X.lookahead<P&&fe===d)return O;if(X.lookahead===0)break}if(de=0,X.lookahead>=I&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+I-1])&X.hash_mask,de=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),X.prev_length=X.match_length,X.prev_match=X.match_start,X.match_length=I-1,de!==0&&X.prev_length<X.max_lazy_match&&X.strstart-de<=X.w_size-P&&(X.match_length=Q(X,de),X.match_length<=5&&(X.strategy===1||X.match_length===I&&4096<X.strstart-X.match_start)&&(X.match_length=I-1)),X.prev_length>=I&&X.match_length<=X.prev_length){for(ee=X.strstart+X.lookahead-I,te=a._tr_tally(X,X.strstart-1-X.prev_match,X.prev_length-I),X.lookahead-=X.prev_length-1,X.prev_length-=2;++X.strstart<=ee&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+I-1])&X.hash_mask,de=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),--X.prev_length!=0;);if(X.match_available=0,X.match_length=I-1,X.strstart++,te&&(z(X,!1),X.strm.avail_out===0))return O}else if(X.match_available){if((te=a._tr_tally(X,0,X.window[X.strstart-1]))&&z(X,!1),X.strstart++,X.lookahead--,X.strm.avail_out===0)return O}else X.match_available=1,X.strstart++,X.lookahead--}return X.match_available&&(te=a._tr_tally(X,0,X.window[X.strstart-1]),X.match_available=0),X.insert=X.strstart<I-1?X.strstart:I-1,fe===f?(z(X,!0),X.strm.avail_out===0?B:H):X.last_lit&&(z(X,!1),X.strm.avail_out===0)?O:j}function ae(X,fe,de,te,ee){this.good_length=X,this.max_lazy=fe,this.nice_length=de,this.max_chain=te,this.func=ee}function he(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*T),this.dyn_dtree=new o.Buf16(2*(2*C+1)),this.bl_tree=new o.Buf16(2*(2*S+1)),V(this.dyn_ltree),V(this.dyn_dtree),V(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(k+1),this.heap=new o.Buf16(2*_+1),V(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*_+1),V(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ie(X){var fe;return X&&X.state?(X.total_in=X.total_out=0,X.data_type=y,(fe=X.state).pending=0,fe.pending_out=0,fe.wrap<0&&(fe.wrap=-fe.wrap),fe.status=fe.wrap?N:$,X.adler=fe.wrap===2?0:1,fe.last_flush=d,a._tr_init(fe),h):q(X,p)}function le(X){var fe=ie(X);return fe===h&&(function(de){de.window_size=2*de.w_size,V(de.head),de.max_lazy_match=s[de.level].max_lazy,de.good_match=s[de.level].good_length,de.nice_match=s[de.level].nice_length,de.max_chain_length=s[de.level].max_chain,de.strstart=0,de.block_start=0,de.lookahead=0,de.insert=0,de.match_length=de.prev_length=I-1,de.match_available=0,de.ins_h=0})(X.state),fe}function Ee(X,fe,de,te,ee,me){if(!X)return p;var Re=1;if(fe===m&&(fe=6),te<0?(Re=0,te=-te):15<te&&(Re=2,te-=16),ee<1||w<ee||de!==v||te<8||15<te||fe<0||9<fe||me<0||g<me)return q(X,p);te===8&&(te=9);var Te=new he;return(X.state=Te).strm=X,Te.wrap=Re,Te.gzhead=null,Te.w_bits=te,Te.w_size=1<<Te.w_bits,Te.w_mask=Te.w_size-1,Te.hash_bits=ee+7,Te.hash_size=1<<Te.hash_bits,Te.hash_mask=Te.hash_size-1,Te.hash_shift=~~((Te.hash_bits+I-1)/I),Te.window=new o.Buf8(2*Te.w_size),Te.head=new o.Buf16(Te.hash_size),Te.prev=new o.Buf16(Te.w_size),Te.lit_bufsize=1<<ee+6,Te.pending_buf_size=4*Te.lit_bufsize,Te.pending_buf=new o.Buf8(Te.pending_buf_size),Te.d_buf=1*Te.lit_bufsize,Te.l_buf=3*Te.lit_bufsize,Te.level=fe,Te.strategy=me,Te.method=de,le(X)}s=[new ae(0,0,0,0,function(X,fe){var de=65535;for(de>X.pending_buf_size-5&&(de=X.pending_buf_size-5);;){if(X.lookahead<=1){if(ne(X),X.lookahead===0&&fe===d)return O;if(X.lookahead===0)break}X.strstart+=X.lookahead,X.lookahead=0;var te=X.block_start+de;if((X.strstart===0||X.strstart>=te)&&(X.lookahead=X.strstart-te,X.strstart=te,z(X,!1),X.strm.avail_out===0)||X.strstart-X.block_start>=X.w_size-P&&(z(X,!1),X.strm.avail_out===0))return O}return X.insert=0,fe===f?(z(X,!0),X.strm.avail_out===0?B:H):(X.strstart>X.block_start&&(z(X,!1),X.strm.avail_out),O)}),new ae(4,4,8,4,ue),new ae(4,5,16,8,ue),new ae(4,6,32,32,ue),new ae(4,4,16,16,se),new ae(8,16,32,32,se),new ae(8,16,128,128,se),new ae(8,32,128,256,se),new ae(32,128,258,1024,se),new ae(32,258,258,4096,se)],i.deflateInit=function(X,fe){return Ee(X,fe,v,15,8,0)},i.deflateInit2=Ee,i.deflateReset=le,i.deflateResetKeep=ie,i.deflateSetHeader=function(X,fe){return X&&X.state?X.state.wrap!==2?p:(X.state.gzhead=fe,h):p},i.deflate=function(X,fe){var de,te,ee,me;if(!X||!X.state||5<fe||fe<0)return X?q(X,p):p;if(te=X.state,!X.output||!X.input&&X.avail_in!==0||te.status===666&&fe!==f)return q(X,X.avail_out===0?-5:p);if(te.strm=X,de=te.last_flush,te.last_flush=fe,te.status===N)if(te.wrap===2)X.adler=0,U(te,31),U(te,139),U(te,8),te.gzhead?(U(te,(te.gzhead.text?1:0)+(te.gzhead.hcrc?2:0)+(te.gzhead.extra?4:0)+(te.gzhead.name?8:0)+(te.gzhead.comment?16:0)),U(te,255&te.gzhead.time),U(te,te.gzhead.time>>8&255),U(te,te.gzhead.time>>16&255),U(te,te.gzhead.time>>24&255),U(te,te.level===9?2:2<=te.strategy||te.level<2?4:0),U(te,255&te.gzhead.os),te.gzhead.extra&&te.gzhead.extra.length&&(U(te,255&te.gzhead.extra.length),U(te,te.gzhead.extra.length>>8&255)),te.gzhead.hcrc&&(X.adler=u(X.adler,te.pending_buf,te.pending,0)),te.gzindex=0,te.status=69):(U(te,0),U(te,0),U(te,0),U(te,0),U(te,0),U(te,te.level===9?2:2<=te.strategy||te.level<2?4:0),U(te,3),te.status=$);else{var Re=v+(te.w_bits-8<<4)<<8;Re|=(2<=te.strategy||te.level<2?0:te.level<6?1:te.level===6?2:3)<<6,te.strstart!==0&&(Re|=32),Re+=31-Re%31,te.status=$,G(te,Re),te.strstart!==0&&(G(te,X.adler>>>16),G(te,65535&X.adler)),X.adler=1}if(te.status===69)if(te.gzhead.extra){for(ee=te.pending;te.gzindex<(65535&te.gzhead.extra.length)&&(te.pending!==te.pending_buf_size||(te.gzhead.hcrc&&te.pending>ee&&(X.adler=u(X.adler,te.pending_buf,te.pending-ee,ee)),L(X),ee=te.pending,te.pending!==te.pending_buf_size));)U(te,255&te.gzhead.extra[te.gzindex]),te.gzindex++;te.gzhead.hcrc&&te.pending>ee&&(X.adler=u(X.adler,te.pending_buf,te.pending-ee,ee)),te.gzindex===te.gzhead.extra.length&&(te.gzindex=0,te.status=73)}else te.status=73;if(te.status===73)if(te.gzhead.name){ee=te.pending;do{if(te.pending===te.pending_buf_size&&(te.gzhead.hcrc&&te.pending>ee&&(X.adler=u(X.adler,te.pending_buf,te.pending-ee,ee)),L(X),ee=te.pending,te.pending===te.pending_buf_size)){me=1;break}me=te.gzindex<te.gzhead.name.length?255&te.gzhead.name.charCodeAt(te.gzindex++):0,U(te,me)}while(me!==0);te.gzhead.hcrc&&te.pending>ee&&(X.adler=u(X.adler,te.pending_buf,te.pending-ee,ee)),me===0&&(te.gzindex=0,te.status=91)}else te.status=91;if(te.status===91)if(te.gzhead.comment){ee=te.pending;do{if(te.pending===te.pending_buf_size&&(te.gzhead.hcrc&&te.pending>ee&&(X.adler=u(X.adler,te.pending_buf,te.pending-ee,ee)),L(X),ee=te.pending,te.pending===te.pending_buf_size)){me=1;break}me=te.gzindex<te.gzhead.comment.length?255&te.gzhead.comment.charCodeAt(te.gzindex++):0,U(te,me)}while(me!==0);te.gzhead.hcrc&&te.pending>ee&&(X.adler=u(X.adler,te.pending_buf,te.pending-ee,ee)),me===0&&(te.status=103)}else te.status=103;if(te.status===103&&(te.gzhead.hcrc?(te.pending+2>te.pending_buf_size&&L(X),te.pending+2<=te.pending_buf_size&&(U(te,255&X.adler),U(te,X.adler>>8&255),X.adler=0,te.status=$)):te.status=$),te.pending!==0){if(L(X),X.avail_out===0)return te.last_flush=-1,h}else if(X.avail_in===0&&Y(fe)<=Y(de)&&fe!==f)return q(X,-5);if(te.status===666&&X.avail_in!==0)return q(X,-5);if(X.avail_in!==0||te.lookahead!==0||fe!==d&&te.status!==666){var Te=te.strategy===2?(function(we,$e){for(var Ae;;){if(we.lookahead===0&&(ne(we),we.lookahead===0)){if($e===d)return O;break}if(we.match_length=0,Ae=a._tr_tally(we,0,we.window[we.strstart]),we.lookahead--,we.strstart++,Ae&&(z(we,!1),we.strm.avail_out===0))return O}return we.insert=0,$e===f?(z(we,!0),we.strm.avail_out===0?B:H):we.last_lit&&(z(we,!1),we.strm.avail_out===0)?O:j})(te,fe):te.strategy===3?(function(we,$e){for(var Ae,Oe,xe,je,Ue=we.window;;){if(we.lookahead<=R){if(ne(we),we.lookahead<=R&&$e===d)return O;if(we.lookahead===0)break}if(we.match_length=0,we.lookahead>=I&&0<we.strstart&&(Oe=Ue[xe=we.strstart-1])===Ue[++xe]&&Oe===Ue[++xe]&&Oe===Ue[++xe]){je=we.strstart+R;do;while(Oe===Ue[++xe]&&Oe===Ue[++xe]&&Oe===Ue[++xe]&&Oe===Ue[++xe]&&Oe===Ue[++xe]&&Oe===Ue[++xe]&&Oe===Ue[++xe]&&Oe===Ue[++xe]&&xe<je);we.match_length=R-(je-xe),we.match_length>we.lookahead&&(we.match_length=we.lookahead)}if(we.match_length>=I?(Ae=a._tr_tally(we,1,we.match_length-I),we.lookahead-=we.match_length,we.strstart+=we.match_length,we.match_length=0):(Ae=a._tr_tally(we,0,we.window[we.strstart]),we.lookahead--,we.strstart++),Ae&&(z(we,!1),we.strm.avail_out===0))return O}return we.insert=0,$e===f?(z(we,!0),we.strm.avail_out===0?B:H):we.last_lit&&(z(we,!1),we.strm.avail_out===0)?O:j})(te,fe):s[te.level].func(te,fe);if(Te!==B&&Te!==H||(te.status=666),Te===O||Te===B)return X.avail_out===0&&(te.last_flush=-1),h;if(Te===j&&(fe===1?a._tr_align(te):fe!==5&&(a._tr_stored_block(te,0,0,!1),fe===3&&(V(te.head),te.lookahead===0&&(te.strstart=0,te.block_start=0,te.insert=0))),L(X),X.avail_out===0))return te.last_flush=-1,h}return fe!==f?h:te.wrap<=0?1:(te.wrap===2?(U(te,255&X.adler),U(te,X.adler>>8&255),U(te,X.adler>>16&255),U(te,X.adler>>24&255),U(te,255&X.total_in),U(te,X.total_in>>8&255),U(te,X.total_in>>16&255),U(te,X.total_in>>24&255)):(G(te,X.adler>>>16),G(te,65535&X.adler)),L(X),0<te.wrap&&(te.wrap=-te.wrap),te.pending!==0?h:1)},i.deflateEnd=function(X){var fe;return X&&X.state?(fe=X.state.status)!==N&&fe!==69&&fe!==73&&fe!==91&&fe!==103&&fe!==$&&fe!==666?q(X,p):(X.state=null,fe===$?q(X,-3):h):p},i.deflateSetDictionary=function(X,fe){var de,te,ee,me,Re,Te,we,$e,Ae=fe.length;if(!X||!X.state||(me=(de=X.state).wrap)===2||me===1&&de.status!==N||de.lookahead)return p;for(me===1&&(X.adler=l(X.adler,fe,Ae,0)),de.wrap=0,Ae>=de.w_size&&(me===0&&(V(de.head),de.strstart=0,de.block_start=0,de.insert=0),$e=new o.Buf8(de.w_size),o.arraySet($e,fe,Ae-de.w_size,de.w_size,0),fe=$e,Ae=de.w_size),Re=X.avail_in,Te=X.next_in,we=X.input,X.avail_in=Ae,X.next_in=0,X.input=fe,ne(de);de.lookahead>=I;){for(te=de.strstart,ee=de.lookahead-(I-1);de.ins_h=(de.ins_h<<de.hash_shift^de.window[te+I-1])&de.hash_mask,de.prev[te&de.w_mask]=de.head[de.ins_h],de.head[de.ins_h]=te,te++,--ee;);de.strstart=te,de.lookahead=I-1,ne(de)}return de.strstart+=de.lookahead,de.block_start=de.strstart,de.insert=de.lookahead,de.lookahead=0,de.match_length=de.prev_length=I-1,de.match_available=0,X.next_in=Te,X.input=we,X.avail_in=Re,de.wrap=me,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,o){var a,l,u,c,d,f,h,p,m,g,y,v,w,_,C,S,T,k,I,R,P,N,$,O,j;a=s.state,l=s.next_in,O=s.input,u=l+(s.avail_in-5),c=s.next_out,j=s.output,d=c-(o-s.avail_out),f=c+(s.avail_out-257),h=a.dmax,p=a.wsize,m=a.whave,g=a.wnext,y=a.window,v=a.hold,w=a.bits,_=a.lencode,C=a.distcode,S=(1<<a.lenbits)-1,T=(1<<a.distbits)-1;e:do{w<15&&(v+=O[l++]<<w,w+=8,v+=O[l++]<<w,w+=8),k=_[v&S];t:for(;;){if(v>>>=I=k>>>24,w-=I,(I=k>>>16&255)===0)j[c++]=65535&k;else{if(!(16&I)){if((64&I)==0){k=_[(65535&k)+(v&(1<<I)-1)];continue t}if(32&I){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}R=65535&k,(I&=15)&&(w<I&&(v+=O[l++]<<w,w+=8),R+=v&(1<<I)-1,v>>>=I,w-=I),w<15&&(v+=O[l++]<<w,w+=8,v+=O[l++]<<w,w+=8),k=C[v&T];n:for(;;){if(v>>>=I=k>>>24,w-=I,!(16&(I=k>>>16&255))){if((64&I)==0){k=C[(65535&k)+(v&(1<<I)-1)];continue n}s.msg="invalid distance code",a.mode=30;break e}if(P=65535&k,w<(I&=15)&&(v+=O[l++]<<w,(w+=8)<I&&(v+=O[l++]<<w,w+=8)),h<(P+=v&(1<<I)-1)){s.msg="invalid distance too far back",a.mode=30;break e}if(v>>>=I,w-=I,(I=c-d)<P){if(m<(I=P-I)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if($=y,(N=0)===g){if(N+=p-I,I<R){for(R-=I;j[c++]=y[N++],--I;);N=c-P,$=j}}else if(g<I){if(N+=p+g-I,(I-=g)<R){for(R-=I;j[c++]=y[N++],--I;);if(N=0,g<R){for(R-=I=g;j[c++]=y[N++],--I;);N=c-P,$=j}}}else if(N+=g-I,I<R){for(R-=I;j[c++]=y[N++],--I;);N=c-P,$=j}for(;2<R;)j[c++]=$[N++],j[c++]=$[N++],j[c++]=$[N++],R-=3;R&&(j[c++]=$[N++],1<R&&(j[c++]=$[N++]))}else{for(N=c-P;j[c++]=j[N++],j[c++]=j[N++],j[c++]=j[N++],2<(R-=3););R&&(j[c++]=j[N++],1<R&&(j[c++]=j[N++]))}break}}break}}while(l<u&&c<f);l-=R=w>>3,v&=(1<<(w-=R<<3))-1,s.next_in=l,s.next_out=c,s.avail_in=l<u?u-l+5:5-(l-u),s.avail_out=c<f?f-c+257:257-(c-f),a.hold=v,a.bits=w}},{}],49:[function(n,r,i){var s=n("../utils/common"),o=n("./adler32"),a=n("./crc32"),l=n("./inffast"),u=n("./inftrees"),c=1,d=2,f=0,h=-2,p=1,m=852,g=592;function y(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(N){var $;return N&&N.state?($=N.state,N.total_in=N.total_out=$.total=0,N.msg="",$.wrap&&(N.adler=1&$.wrap),$.mode=p,$.last=0,$.havedict=0,$.dmax=32768,$.head=null,$.hold=0,$.bits=0,$.lencode=$.lendyn=new s.Buf32(m),$.distcode=$.distdyn=new s.Buf32(g),$.sane=1,$.back=-1,f):h}function _(N){var $;return N&&N.state?(($=N.state).wsize=0,$.whave=0,$.wnext=0,w(N)):h}function C(N,$){var O,j;return N&&N.state?(j=N.state,$<0?(O=0,$=-$):(O=1+($>>4),$<48&&($&=15)),$&&($<8||15<$)?h:(j.window!==null&&j.wbits!==$&&(j.window=null),j.wrap=O,j.wbits=$,_(N))):h}function S(N,$){var O,j;return N?(j=new v,(N.state=j).window=null,(O=C(N,$))!==f&&(N.state=null),O):h}var T,k,I=!0;function R(N){if(I){var $;for(T=new s.Buf32(512),k=new s.Buf32(32),$=0;$<144;)N.lens[$++]=8;for(;$<256;)N.lens[$++]=9;for(;$<280;)N.lens[$++]=7;for(;$<288;)N.lens[$++]=8;for(u(c,N.lens,0,288,T,0,N.work,{bits:9}),$=0;$<32;)N.lens[$++]=5;u(d,N.lens,0,32,k,0,N.work,{bits:5}),I=!1}N.lencode=T,N.lenbits=9,N.distcode=k,N.distbits=5}function P(N,$,O,j){var B,H=N.state;return H.window===null&&(H.wsize=1<<H.wbits,H.wnext=0,H.whave=0,H.window=new s.Buf8(H.wsize)),j>=H.wsize?(s.arraySet(H.window,$,O-H.wsize,H.wsize,0),H.wnext=0,H.whave=H.wsize):(j<(B=H.wsize-H.wnext)&&(B=j),s.arraySet(H.window,$,O-j,B,H.wnext),(j-=B)?(s.arraySet(H.window,$,O-j,j,0),H.wnext=j,H.whave=H.wsize):(H.wnext+=B,H.wnext===H.wsize&&(H.wnext=0),H.whave<H.wsize&&(H.whave+=B))),0}i.inflateReset=_,i.inflateReset2=C,i.inflateResetKeep=w,i.inflateInit=function(N){return S(N,15)},i.inflateInit2=S,i.inflate=function(N,$){var O,j,B,H,q,Y,V,L,z,U,G,Q,ne,ue,se,ae,he,ie,le,Ee,X,fe,de,te,ee=0,me=new s.Buf8(4),Re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return h;(O=N.state).mode===12&&(O.mode=13),q=N.next_out,B=N.output,V=N.avail_out,H=N.next_in,j=N.input,Y=N.avail_in,L=O.hold,z=O.bits,U=Y,G=V,fe=f;e:for(;;)switch(O.mode){case p:if(O.wrap===0){O.mode=13;break}for(;z<16;){if(Y===0)break e;Y--,L+=j[H++]<<z,z+=8}if(2&O.wrap&&L===35615){me[O.check=0]=255&L,me[1]=L>>>8&255,O.check=a(O.check,me,2,0),z=L=0,O.mode=2;break}if(O.flags=0,O.head&&(O.head.done=!1),!(1&O.wrap)||(((255&L)<<8)+(L>>8))%31){N.msg="incorrect header check",O.mode=30;break}if((15&L)!=8){N.msg="unknown compression method",O.mode=30;break}if(z-=4,X=8+(15&(L>>>=4)),O.wbits===0)O.wbits=X;else if(X>O.wbits){N.msg="invalid window size",O.mode=30;break}O.dmax=1<<X,N.adler=O.check=1,O.mode=512&L?10:12,z=L=0;break;case 2:for(;z<16;){if(Y===0)break e;Y--,L+=j[H++]<<z,z+=8}if(O.flags=L,(255&O.flags)!=8){N.msg="unknown compression method",O.mode=30;break}if(57344&O.flags){N.msg="unknown header flags set",O.mode=30;break}O.head&&(O.head.text=L>>8&1),512&O.flags&&(me[0]=255&L,me[1]=L>>>8&255,O.check=a(O.check,me,2,0)),z=L=0,O.mode=3;case 3:for(;z<32;){if(Y===0)break e;Y--,L+=j[H++]<<z,z+=8}O.head&&(O.head.time=L),512&O.flags&&(me[0]=255&L,me[1]=L>>>8&255,me[2]=L>>>16&255,me[3]=L>>>24&255,O.check=a(O.check,me,4,0)),z=L=0,O.mode=4;case 4:for(;z<16;){if(Y===0)break e;Y--,L+=j[H++]<<z,z+=8}O.head&&(O.head.xflags=255&L,O.head.os=L>>8),512&O.flags&&(me[0]=255&L,me[1]=L>>>8&255,O.check=a(O.check,me,2,0)),z=L=0,O.mode=5;case 5:if(1024&O.flags){for(;z<16;){if(Y===0)break e;Y--,L+=j[H++]<<z,z+=8}O.length=L,O.head&&(O.head.extra_len=L),512&O.flags&&(me[0]=255&L,me[1]=L>>>8&255,O.check=a(O.check,me,2,0)),z=L=0}else O.head&&(O.head.extra=null);O.mode=6;case 6:if(1024&O.flags&&(Y<(Q=O.length)&&(Q=Y),Q&&(O.head&&(X=O.head.extra_len-O.length,O.head.extra||(O.head.extra=new Array(O.head.extra_len)),s.arraySet(O.head.extra,j,H,Q,X)),512&O.flags&&(O.check=a(O.check,j,Q,H)),Y-=Q,H+=Q,O.length-=Q),O.length))break e;O.length=0,O.mode=7;case 7:if(2048&O.flags){if(Y===0)break e;for(Q=0;X=j[H+Q++],O.head&&X&&O.length<65536&&(O.head.name+=String.fromCharCode(X)),X&&Q<Y;);if(512&O.flags&&(O.check=a(O.check,j,Q,H)),Y-=Q,H+=Q,X)break e}else O.head&&(O.head.name=null);O.length=0,O.mode=8;case 8:if(4096&O.flags){if(Y===0)break e;for(Q=0;X=j[H+Q++],O.head&&X&&O.length<65536&&(O.head.comment+=String.fromCharCode(X)),X&&Q<Y;);if(512&O.flags&&(O.check=a(O.check,j,Q,H)),Y-=Q,H+=Q,X)break e}else O.head&&(O.head.comment=null);O.mode=9;case 9:if(512&O.flags){for(;z<16;){if(Y===0)break e;Y--,L+=j[H++]<<z,z+=8}if(L!==(65535&O.check)){N.msg="header crc mismatch",O.mode=30;break}z=L=0}O.head&&(O.head.hcrc=O.flags>>9&1,O.head.done=!0),N.adler=O.check=0,O.mode=12;break;case 10:for(;z<32;){if(Y===0)break e;Y--,L+=j[H++]<<z,z+=8}N.adler=O.check=y(L),z=L=0,O.mode=11;case 11:if(O.havedict===0)return N.next_out=q,N.avail_out=V,N.next_in=H,N.avail_in=Y,O.hold=L,O.bits=z,2;N.adler=O.check=1,O.mode=12;case 12:if($===5||$===6)break e;case 13:if(O.last){L>>>=7&z,z-=7&z,O.mode=27;break}for(;z<3;){if(Y===0)break e;Y--,L+=j[H++]<<z,z+=8}switch(O.last=1&L,z-=1,3&(L>>>=1)){case 0:O.mode=14;break;case 1:if(R(O),O.mode=20,$!==6)break;L>>>=2,z-=2;break e;case 2:O.mode=17;break;case 3:N.msg="invalid block type",O.mode=30}L>>>=2,z-=2;break;case 14:for(L>>>=7&z,z-=7&z;z<32;){if(Y===0)break e;Y--,L+=j[H++]<<z,z+=8}if((65535&L)!=(L>>>16^65535)){N.msg="invalid stored block lengths",O.mode=30;break}if(O.length=65535&L,z=L=0,O.mode=15,$===6)break e;case 15:O.mode=16;case 16:if(Q=O.length){if(Y<Q&&(Q=Y),V<Q&&(Q=V),Q===0)break e;s.arraySet(B,j,H,Q,q),Y-=Q,H+=Q,V-=Q,q+=Q,O.length-=Q;break}O.mode=12;break;case 17:for(;z<14;){if(Y===0)break e;Y--,L+=j[H++]<<z,z+=8}if(O.nlen=257+(31&L),L>>>=5,z-=5,O.ndist=1+(31&L),L>>>=5,z-=5,O.ncode=4+(15&L),L>>>=4,z-=4,286<O.nlen||30<O.ndist){N.msg="too many length or distance symbols",O.mode=30;break}O.have=0,O.mode=18;case 18:for(;O.have<O.ncode;){for(;z<3;){if(Y===0)break e;Y--,L+=j[H++]<<z,z+=8}O.lens[Re[O.have++]]=7&L,L>>>=3,z-=3}for(;O.have<19;)O.lens[Re[O.have++]]=0;if(O.lencode=O.lendyn,O.lenbits=7,de={bits:O.lenbits},fe=u(0,O.lens,0,19,O.lencode,0,O.work,de),O.lenbits=de.bits,fe){N.msg="invalid code lengths set",O.mode=30;break}O.have=0,O.mode=19;case 19:for(;O.have<O.nlen+O.ndist;){for(;ae=(ee=O.lencode[L&(1<<O.lenbits)-1])>>>16&255,he=65535&ee,!((se=ee>>>24)<=z);){if(Y===0)break e;Y--,L+=j[H++]<<z,z+=8}if(he<16)L>>>=se,z-=se,O.lens[O.have++]=he;else{if(he===16){for(te=se+2;z<te;){if(Y===0)break e;Y--,L+=j[H++]<<z,z+=8}if(L>>>=se,z-=se,O.have===0){N.msg="invalid bit length repeat",O.mode=30;break}X=O.lens[O.have-1],Q=3+(3&L),L>>>=2,z-=2}else if(he===17){for(te=se+3;z<te;){if(Y===0)break e;Y--,L+=j[H++]<<z,z+=8}z-=se,X=0,Q=3+(7&(L>>>=se)),L>>>=3,z-=3}else{for(te=se+7;z<te;){if(Y===0)break e;Y--,L+=j[H++]<<z,z+=8}z-=se,X=0,Q=11+(127&(L>>>=se)),L>>>=7,z-=7}if(O.have+Q>O.nlen+O.ndist){N.msg="invalid bit length repeat",O.mode=30;break}for(;Q--;)O.lens[O.have++]=X}}if(O.mode===30)break;if(O.lens[256]===0){N.msg="invalid code -- missing end-of-block",O.mode=30;break}if(O.lenbits=9,de={bits:O.lenbits},fe=u(c,O.lens,0,O.nlen,O.lencode,0,O.work,de),O.lenbits=de.bits,fe){N.msg="invalid literal/lengths set",O.mode=30;break}if(O.distbits=6,O.distcode=O.distdyn,de={bits:O.distbits},fe=u(d,O.lens,O.nlen,O.ndist,O.distcode,0,O.work,de),O.distbits=de.bits,fe){N.msg="invalid distances set",O.mode=30;break}if(O.mode=20,$===6)break e;case 20:O.mode=21;case 21:if(6<=Y&&258<=V){N.next_out=q,N.avail_out=V,N.next_in=H,N.avail_in=Y,O.hold=L,O.bits=z,l(N,G),q=N.next_out,B=N.output,V=N.avail_out,H=N.next_in,j=N.input,Y=N.avail_in,L=O.hold,z=O.bits,O.mode===12&&(O.back=-1);break}for(O.back=0;ae=(ee=O.lencode[L&(1<<O.lenbits)-1])>>>16&255,he=65535&ee,!((se=ee>>>24)<=z);){if(Y===0)break e;Y--,L+=j[H++]<<z,z+=8}if(ae&&(240&ae)==0){for(ie=se,le=ae,Ee=he;ae=(ee=O.lencode[Ee+((L&(1<<ie+le)-1)>>ie)])>>>16&255,he=65535&ee,!(ie+(se=ee>>>24)<=z);){if(Y===0)break e;Y--,L+=j[H++]<<z,z+=8}L>>>=ie,z-=ie,O.back+=ie}if(L>>>=se,z-=se,O.back+=se,O.length=he,ae===0){O.mode=26;break}if(32&ae){O.back=-1,O.mode=12;break}if(64&ae){N.msg="invalid literal/length code",O.mode=30;break}O.extra=15&ae,O.mode=22;case 22:if(O.extra){for(te=O.extra;z<te;){if(Y===0)break e;Y--,L+=j[H++]<<z,z+=8}O.length+=L&(1<<O.extra)-1,L>>>=O.extra,z-=O.extra,O.back+=O.extra}O.was=O.length,O.mode=23;case 23:for(;ae=(ee=O.distcode[L&(1<<O.distbits)-1])>>>16&255,he=65535&ee,!((se=ee>>>24)<=z);){if(Y===0)break e;Y--,L+=j[H++]<<z,z+=8}if((240&ae)==0){for(ie=se,le=ae,Ee=he;ae=(ee=O.distcode[Ee+((L&(1<<ie+le)-1)>>ie)])>>>16&255,he=65535&ee,!(ie+(se=ee>>>24)<=z);){if(Y===0)break e;Y--,L+=j[H++]<<z,z+=8}L>>>=ie,z-=ie,O.back+=ie}if(L>>>=se,z-=se,O.back+=se,64&ae){N.msg="invalid distance code",O.mode=30;break}O.offset=he,O.extra=15&ae,O.mode=24;case 24:if(O.extra){for(te=O.extra;z<te;){if(Y===0)break e;Y--,L+=j[H++]<<z,z+=8}O.offset+=L&(1<<O.extra)-1,L>>>=O.extra,z-=O.extra,O.back+=O.extra}if(O.offset>O.dmax){N.msg="invalid distance too far back",O.mode=30;break}O.mode=25;case 25:if(V===0)break e;if(Q=G-V,O.offset>Q){if((Q=O.offset-Q)>O.whave&&O.sane){N.msg="invalid distance too far back",O.mode=30;break}ne=Q>O.wnext?(Q-=O.wnext,O.wsize-Q):O.wnext-Q,Q>O.length&&(Q=O.length),ue=O.window}else ue=B,ne=q-O.offset,Q=O.length;for(V<Q&&(Q=V),V-=Q,O.length-=Q;B[q++]=ue[ne++],--Q;);O.length===0&&(O.mode=21);break;case 26:if(V===0)break e;B[q++]=O.length,V--,O.mode=21;break;case 27:if(O.wrap){for(;z<32;){if(Y===0)break e;Y--,L|=j[H++]<<z,z+=8}if(G-=V,N.total_out+=G,O.total+=G,G&&(N.adler=O.check=O.flags?a(O.check,B,G,q-G):o(O.check,B,G,q-G)),G=V,(O.flags?L:y(L))!==O.check){N.msg="incorrect data check",O.mode=30;break}z=L=0}O.mode=28;case 28:if(O.wrap&&O.flags){for(;z<32;){if(Y===0)break e;Y--,L+=j[H++]<<z,z+=8}if(L!==(4294967295&O.total)){N.msg="incorrect length check",O.mode=30;break}z=L=0}O.mode=29;case 29:fe=1;break e;case 30:fe=-3;break e;case 31:return-4;case 32:default:return h}return N.next_out=q,N.avail_out=V,N.next_in=H,N.avail_in=Y,O.hold=L,O.bits=z,(O.wsize||G!==N.avail_out&&O.mode<30&&(O.mode<27||$!==4))&&P(N,N.output,N.next_out,G-N.avail_out)?(O.mode=31,-4):(U-=N.avail_in,G-=N.avail_out,N.total_in+=U,N.total_out+=G,O.total+=G,O.wrap&&G&&(N.adler=O.check=O.flags?a(O.check,B,G,N.next_out-G):o(O.check,B,G,N.next_out-G)),N.data_type=O.bits+(O.last?64:0)+(O.mode===12?128:0)+(O.mode===20||O.mode===15?256:0),(U==0&&G===0||$===4)&&fe===f&&(fe=-5),fe)},i.inflateEnd=function(N){if(!N||!N.state)return h;var $=N.state;return $.window&&($.window=null),N.state=null,f},i.inflateGetHeader=function(N,$){var O;return N&&N.state?(2&(O=N.state).wrap)==0?h:((O.head=$).done=!1,f):h},i.inflateSetDictionary=function(N,$){var O,j=$.length;return N&&N.state?(O=N.state).wrap!==0&&O.mode!==11?h:O.mode===11&&o(1,$,j,0)!==O.check?-3:P(N,$,j,j)?(O.mode=31,-4):(O.havedict=1,f):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(c,d,f,h,p,m,g,y){var v,w,_,C,S,T,k,I,R,P=y.bits,N=0,$=0,O=0,j=0,B=0,H=0,q=0,Y=0,V=0,L=0,z=null,U=0,G=new s.Buf16(16),Q=new s.Buf16(16),ne=null,ue=0;for(N=0;N<=15;N++)G[N]=0;for($=0;$<h;$++)G[d[f+$]]++;for(B=P,j=15;1<=j&&G[j]===0;j--);if(j<B&&(B=j),j===0)return p[m++]=20971520,p[m++]=20971520,y.bits=1,0;for(O=1;O<j&&G[O]===0;O++);for(B<O&&(B=O),N=Y=1;N<=15;N++)if(Y<<=1,(Y-=G[N])<0)return-1;if(0<Y&&(c===0||j!==1))return-1;for(Q[1]=0,N=1;N<15;N++)Q[N+1]=Q[N]+G[N];for($=0;$<h;$++)d[f+$]!==0&&(g[Q[d[f+$]]++]=$);if(T=c===0?(z=ne=g,19):c===1?(z=o,U-=257,ne=a,ue-=257,256):(z=l,ne=u,-1),N=O,S=m,q=$=L=0,_=-1,C=(V=1<<(H=B))-1,c===1&&852<V||c===2&&592<V)return 1;for(;;){for(k=N-q,R=g[$]<T?(I=0,g[$]):g[$]>T?(I=ne[ue+g[$]],z[U+g[$]]):(I=96,0),v=1<<N-q,O=w=1<<H;p[S+(L>>q)+(w-=v)]=k<<24|I<<16|R|0,w!==0;);for(v=1<<N-1;L&v;)v>>=1;if(v!==0?(L&=v-1,L+=v):L=0,$++,--G[N]==0){if(N===j)break;N=d[f+g[$]]}if(B<N&&(L&C)!==_){for(q===0&&(q=B),S+=O,Y=1<<(H=N-q);H+q<j&&!((Y-=G[H+q])<=0);)H++,Y<<=1;if(V+=1<<H,c===1&&852<V||c===2&&592<V)return 1;p[_=L&C]=B<<24|H<<16|S-m|0}}return L!==0&&(p[S+L]=N-q<<24|64<<16|0),y.bits=B,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),o=0,a=1;function l(ee){for(var me=ee.length;0<=--me;)ee[me]=0}var u=0,c=29,d=256,f=d+1+c,h=30,p=19,m=2*f+1,g=15,y=16,v=7,w=256,_=16,C=17,S=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=new Array(2*(f+2));l(P);var N=new Array(2*h);l(N);var $=new Array(512);l($);var O=new Array(256);l(O);var j=new Array(c);l(j);var B,H,q,Y=new Array(h);function V(ee,me,Re,Te,we){this.static_tree=ee,this.extra_bits=me,this.extra_base=Re,this.elems=Te,this.max_length=we,this.has_stree=ee&&ee.length}function L(ee,me){this.dyn_tree=ee,this.max_code=0,this.stat_desc=me}function z(ee){return ee<256?$[ee]:$[256+(ee>>>7)]}function U(ee,me){ee.pending_buf[ee.pending++]=255&me,ee.pending_buf[ee.pending++]=me>>>8&255}function G(ee,me,Re){ee.bi_valid>y-Re?(ee.bi_buf|=me<<ee.bi_valid&65535,U(ee,ee.bi_buf),ee.bi_buf=me>>y-ee.bi_valid,ee.bi_valid+=Re-y):(ee.bi_buf|=me<<ee.bi_valid&65535,ee.bi_valid+=Re)}function Q(ee,me,Re){G(ee,Re[2*me],Re[2*me+1])}function ne(ee,me){for(var Re=0;Re|=1&ee,ee>>>=1,Re<<=1,0<--me;);return Re>>>1}function ue(ee,me,Re){var Te,we,$e=new Array(g+1),Ae=0;for(Te=1;Te<=g;Te++)$e[Te]=Ae=Ae+Re[Te-1]<<1;for(we=0;we<=me;we++){var Oe=ee[2*we+1];Oe!==0&&(ee[2*we]=ne($e[Oe]++,Oe))}}function se(ee){var me;for(me=0;me<f;me++)ee.dyn_ltree[2*me]=0;for(me=0;me<h;me++)ee.dyn_dtree[2*me]=0;for(me=0;me<p;me++)ee.bl_tree[2*me]=0;ee.dyn_ltree[2*w]=1,ee.opt_len=ee.static_len=0,ee.last_lit=ee.matches=0}function ae(ee){8<ee.bi_valid?U(ee,ee.bi_buf):0<ee.bi_valid&&(ee.pending_buf[ee.pending++]=ee.bi_buf),ee.bi_buf=0,ee.bi_valid=0}function he(ee,me,Re,Te){var we=2*me,$e=2*Re;return ee[we]<ee[$e]||ee[we]===ee[$e]&&Te[me]<=Te[Re]}function ie(ee,me,Re){for(var Te=ee.heap[Re],we=Re<<1;we<=ee.heap_len&&(we<ee.heap_len&&he(me,ee.heap[we+1],ee.heap[we],ee.depth)&&we++,!he(me,Te,ee.heap[we],ee.depth));)ee.heap[Re]=ee.heap[we],Re=we,we<<=1;ee.heap[Re]=Te}function le(ee,me,Re){var Te,we,$e,Ae,Oe=0;if(ee.last_lit!==0)for(;Te=ee.pending_buf[ee.d_buf+2*Oe]<<8|ee.pending_buf[ee.d_buf+2*Oe+1],we=ee.pending_buf[ee.l_buf+Oe],Oe++,Te===0?Q(ee,we,me):(Q(ee,($e=O[we])+d+1,me),(Ae=T[$e])!==0&&G(ee,we-=j[$e],Ae),Q(ee,$e=z(--Te),Re),(Ae=k[$e])!==0&&G(ee,Te-=Y[$e],Ae)),Oe<ee.last_lit;);Q(ee,w,me)}function Ee(ee,me){var Re,Te,we,$e=me.dyn_tree,Ae=me.stat_desc.static_tree,Oe=me.stat_desc.has_stree,xe=me.stat_desc.elems,je=-1;for(ee.heap_len=0,ee.heap_max=m,Re=0;Re<xe;Re++)$e[2*Re]!==0?(ee.heap[++ee.heap_len]=je=Re,ee.depth[Re]=0):$e[2*Re+1]=0;for(;ee.heap_len<2;)$e[2*(we=ee.heap[++ee.heap_len]=je<2?++je:0)]=1,ee.depth[we]=0,ee.opt_len--,Oe&&(ee.static_len-=Ae[2*we+1]);for(me.max_code=je,Re=ee.heap_len>>1;1<=Re;Re--)ie(ee,$e,Re);for(we=xe;Re=ee.heap[1],ee.heap[1]=ee.heap[ee.heap_len--],ie(ee,$e,1),Te=ee.heap[1],ee.heap[--ee.heap_max]=Re,ee.heap[--ee.heap_max]=Te,$e[2*we]=$e[2*Re]+$e[2*Te],ee.depth[we]=(ee.depth[Re]>=ee.depth[Te]?ee.depth[Re]:ee.depth[Te])+1,$e[2*Re+1]=$e[2*Te+1]=we,ee.heap[1]=we++,ie(ee,$e,1),2<=ee.heap_len;);ee.heap[--ee.heap_max]=ee.heap[1],(function(Ue,nt){var it,wt,Zt,Qt,Mn,jt,gn=nt.dyn_tree,Kn=nt.max_code,Un=nt.stat_desc.static_tree,Dr=nt.stat_desc.has_stree,Jn=nt.stat_desc.extra_bits,br=nt.stat_desc.extra_base,Rn=nt.stat_desc.max_length,fn=0;for(Qt=0;Qt<=g;Qt++)Ue.bl_count[Qt]=0;for(gn[2*Ue.heap[Ue.heap_max]+1]=0,it=Ue.heap_max+1;it<m;it++)Rn<(Qt=gn[2*gn[2*(wt=Ue.heap[it])+1]+1]+1)&&(Qt=Rn,fn++),gn[2*wt+1]=Qt,Kn<wt||(Ue.bl_count[Qt]++,Mn=0,br<=wt&&(Mn=Jn[wt-br]),jt=gn[2*wt],Ue.opt_len+=jt*(Qt+Mn),Dr&&(Ue.static_len+=jt*(Un[2*wt+1]+Mn)));if(fn!==0){do{for(Qt=Rn-1;Ue.bl_count[Qt]===0;)Qt--;Ue.bl_count[Qt]--,Ue.bl_count[Qt+1]+=2,Ue.bl_count[Rn]--,fn-=2}while(0<fn);for(Qt=Rn;Qt!==0;Qt--)for(wt=Ue.bl_count[Qt];wt!==0;)Kn<(Zt=Ue.heap[--it])||(gn[2*Zt+1]!==Qt&&(Ue.opt_len+=(Qt-gn[2*Zt+1])*gn[2*Zt],gn[2*Zt+1]=Qt),wt--)}})(ee,me),ue($e,je,ee.bl_count)}function X(ee,me,Re){var Te,we,$e=-1,Ae=me[1],Oe=0,xe=7,je=4;for(Ae===0&&(xe=138,je=3),me[2*(Re+1)+1]=65535,Te=0;Te<=Re;Te++)we=Ae,Ae=me[2*(Te+1)+1],++Oe<xe&&we===Ae||(Oe<je?ee.bl_tree[2*we]+=Oe:we!==0?(we!==$e&&ee.bl_tree[2*we]++,ee.bl_tree[2*_]++):Oe<=10?ee.bl_tree[2*C]++:ee.bl_tree[2*S]++,$e=we,je=(Oe=0)===Ae?(xe=138,3):we===Ae?(xe=6,3):(xe=7,4))}function fe(ee,me,Re){var Te,we,$e=-1,Ae=me[1],Oe=0,xe=7,je=4;for(Ae===0&&(xe=138,je=3),Te=0;Te<=Re;Te++)if(we=Ae,Ae=me[2*(Te+1)+1],!(++Oe<xe&&we===Ae)){if(Oe<je)for(;Q(ee,we,ee.bl_tree),--Oe!=0;);else we!==0?(we!==$e&&(Q(ee,we,ee.bl_tree),Oe--),Q(ee,_,ee.bl_tree),G(ee,Oe-3,2)):Oe<=10?(Q(ee,C,ee.bl_tree),G(ee,Oe-3,3)):(Q(ee,S,ee.bl_tree),G(ee,Oe-11,7));$e=we,je=(Oe=0)===Ae?(xe=138,3):we===Ae?(xe=6,3):(xe=7,4)}}l(Y);var de=!1;function te(ee,me,Re,Te){G(ee,(u<<1)+(Te?1:0),3),(function(we,$e,Ae,Oe){ae(we),U(we,Ae),U(we,~Ae),s.arraySet(we.pending_buf,we.window,$e,Ae,we.pending),we.pending+=Ae})(ee,me,Re)}i._tr_init=function(ee){de||((function(){var me,Re,Te,we,$e,Ae=new Array(g+1);for(we=Te=0;we<c-1;we++)for(j[we]=Te,me=0;me<1<<T[we];me++)O[Te++]=we;for(O[Te-1]=we,we=$e=0;we<16;we++)for(Y[we]=$e,me=0;me<1<<k[we];me++)$[$e++]=we;for($e>>=7;we<h;we++)for(Y[we]=$e<<7,me=0;me<1<<k[we]-7;me++)$[256+$e++]=we;for(Re=0;Re<=g;Re++)Ae[Re]=0;for(me=0;me<=143;)P[2*me+1]=8,me++,Ae[8]++;for(;me<=255;)P[2*me+1]=9,me++,Ae[9]++;for(;me<=279;)P[2*me+1]=7,me++,Ae[7]++;for(;me<=287;)P[2*me+1]=8,me++,Ae[8]++;for(ue(P,f+1,Ae),me=0;me<h;me++)N[2*me+1]=5,N[2*me]=ne(me,5);B=new V(P,T,d+1,f,g),H=new V(N,k,0,h,g),q=new V(new Array(0),I,0,p,v)})(),de=!0),ee.l_desc=new L(ee.dyn_ltree,B),ee.d_desc=new L(ee.dyn_dtree,H),ee.bl_desc=new L(ee.bl_tree,q),ee.bi_buf=0,ee.bi_valid=0,se(ee)},i._tr_stored_block=te,i._tr_flush_block=function(ee,me,Re,Te){var we,$e,Ae=0;0<ee.level?(ee.strm.data_type===2&&(ee.strm.data_type=(function(Oe){var xe,je=4093624447;for(xe=0;xe<=31;xe++,je>>>=1)if(1&je&&Oe.dyn_ltree[2*xe]!==0)return o;if(Oe.dyn_ltree[18]!==0||Oe.dyn_ltree[20]!==0||Oe.dyn_ltree[26]!==0)return a;for(xe=32;xe<d;xe++)if(Oe.dyn_ltree[2*xe]!==0)return a;return o})(ee)),Ee(ee,ee.l_desc),Ee(ee,ee.d_desc),Ae=(function(Oe){var xe;for(X(Oe,Oe.dyn_ltree,Oe.l_desc.max_code),X(Oe,Oe.dyn_dtree,Oe.d_desc.max_code),Ee(Oe,Oe.bl_desc),xe=p-1;3<=xe&&Oe.bl_tree[2*R[xe]+1]===0;xe--);return Oe.opt_len+=3*(xe+1)+5+5+4,xe})(ee),we=ee.opt_len+3+7>>>3,($e=ee.static_len+3+7>>>3)<=we&&(we=$e)):we=$e=Re+5,Re+4<=we&&me!==-1?te(ee,me,Re,Te):ee.strategy===4||$e===we?(G(ee,2+(Te?1:0),3),le(ee,P,N)):(G(ee,4+(Te?1:0),3),(function(Oe,xe,je,Ue){var nt;for(G(Oe,xe-257,5),G(Oe,je-1,5),G(Oe,Ue-4,4),nt=0;nt<Ue;nt++)G(Oe,Oe.bl_tree[2*R[nt]+1],3);fe(Oe,Oe.dyn_ltree,xe-1),fe(Oe,Oe.dyn_dtree,je-1)})(ee,ee.l_desc.max_code+1,ee.d_desc.max_code+1,Ae+1),le(ee,ee.dyn_ltree,ee.dyn_dtree)),se(ee),Te&&ae(ee)},i._tr_tally=function(ee,me,Re){return ee.pending_buf[ee.d_buf+2*ee.last_lit]=me>>>8&255,ee.pending_buf[ee.d_buf+2*ee.last_lit+1]=255&me,ee.pending_buf[ee.l_buf+ee.last_lit]=255&Re,ee.last_lit++,me===0?ee.dyn_ltree[2*Re]++:(ee.matches++,me--,ee.dyn_ltree[2*(O[Re]+d+1)]++,ee.dyn_dtree[2*z(me)]++),ee.last_lit===ee.lit_bufsize-1},i._tr_align=function(ee){G(ee,2,3),Q(ee,w,P),(function(me){me.bi_valid===16?(U(me,me.bi_buf),me.bi_buf=0,me.bi_valid=0):8<=me.bi_valid&&(me.pending_buf[me.pending++]=255&me.bi_buf,me.bi_buf>>=8,me.bi_valid-=8)})(ee)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(o,a){if(!o.setImmediate){var l,u,c,d,f=1,h={},p=!1,m=o.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(o);g=g&&g.setTimeout?g:o,l={}.toString.call(o.process)==="[object process]"?function(_){process.nextTick(function(){v(_)})}:(function(){if(o.postMessage&&!o.importScripts){var _=!0,C=o.onmessage;return o.onmessage=function(){_=!1},o.postMessage("","*"),o.onmessage=C,_}})()?(d="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",w,!1):o.attachEvent("onmessage",w),function(_){o.postMessage(d+_,"*")}):o.MessageChannel?((c=new MessageChannel).port1.onmessage=function(_){v(_.data)},function(_){c.port2.postMessage(_)}):m&&"onreadystatechange"in m.createElement("script")?(u=m.documentElement,function(_){var C=m.createElement("script");C.onreadystatechange=function(){v(_),C.onreadystatechange=null,u.removeChild(C),C=null},u.appendChild(C)}):function(_){setTimeout(v,0,_)},g.setImmediate=function(_){typeof _!="function"&&(_=new Function(""+_));for(var C=new Array(arguments.length-1),S=0;S<C.length;S++)C[S]=arguments[S+1];var T={callback:_,args:C};return h[f]=T,l(f),f++},g.clearImmediate=y}function y(_){delete h[_]}function v(_){if(p)setTimeout(v,0,_);else{var C=h[_];if(C){p=!0;try{(function(S){var T=S.callback,k=S.args;switch(k.length){case 0:T();break;case 1:T(k[0]);break;case 2:T(k[0],k[1]);break;case 3:T(k[0],k[1],k[2]);break;default:T.apply(a,k)}})(C)}finally{y(_),p=!1}}}}function w(_){_.source===o&&typeof _.data=="string"&&_.data.indexOf(d)===0&&v(+_.data.slice(d.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Si<"u"?Si:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(eU)),eU.exports}var usn=lsn();const k8=so(usn);async function csn({storageEngine:e,participantId:t,identifier:n,audioUrl:r}){const i=r||await e.getAudioUrl(n,t);if(i){const o=await(await fetch(i)).blob(),a=URL.createObjectURL(o);Object.assign(document.createElement("a"),{href:a,download:`${t}_${n}_audio.webm`}).click(),URL.revokeObjectURL(a)}const s=await e.getTranscriptUrl(n,t);if(s){const o=await(await fetch(s)).blob(),a=URL.createObjectURL(o);Object.assign(document.createElement("a"),{href:a,download:`${t}_${n}_transcript.txt`}).click(),URL.revokeObjectURL(a)}}async function dsn({storageEngine:e,participantId:t,identifier:n,screenRecordingUrl:r}){const i=r||await e.getScreenRecording(n,t);if(i){const s=await(await fetch(i)).blob(),o=URL.createObjectURL(s);Object.assign(document.createElement("a"),{href:o,download:`${t}_${n}_screenRecording.webm`}).click(),URL.revokeObjectURL(o)}}async function jG(e,t,n){if(n){const i=await(await fetch(n)).blob();e.file(t,i)}}async function A8(e,t){const n=await e.generateAsync({type:"blob"}),r=URL.createObjectURL(n);Object.assign(document.createElement("a"),{href:r,download:t}).click(),URL.revokeObjectURL(r)}async function fsn({storageEngine:e,participantId:t,identifier:n,namePrefix:r,zip:i}){const s=i||new k8;try{const o=await e.getAudioUrl(n,t);await jG(s,`${r}_${t}_${n}.webm`,o);const a=await e.getTranscriptUrl(n,t);await jG(s,`${r}_${t}_${n}_transcript.txt`,a),i||A8(s,`${r}_${t}_${n}_audio.zip`)}catch(o){console.warn(`Failed to fetch files for ${n}:`,o)}}async function hsn({storageEngine:e,participants:t,studyId:n,fileName:r}){const i=r||n,s=new k8,o=t.flatMap(a=>Object.values(a.answers).filter(u=>u.endTime>0).sort((u,c)=>u.startTime-c.startTime).map(async u=>{const c=`${u.componentName}_${u.trialOrder}`;await fsn({storageEngine:e,participantId:a.participantId,identifier:c,namePrefix:i,zip:s})}));await Promise.all(o),await A8(s,`${i}_audio.zip`)}async function psn({storageEngine:e,participantId:t,identifier:n,namePrefix:r,zip:i}){const s=i||new k8;try{const o=await e.getScreenRecording(n,t);await jG(s,`${r}_${t}_${n}.webm`,o),i||A8(s,`${r}_${t}_${n}_screenRecording.zip`)}catch(o){console.warn(`Failed to fetch files for ${n}:`,o)}}async function msn({storageEngine:e,participants:t,studyId:n,fileName:r}){const i=r||n,s=new k8,o=t.flatMap(a=>Object.values(a.answers).filter(u=>u.endTime>0).sort((u,c)=>u.startTime-c.startTime).map(async u=>{const c=`${u.componentName}_${u.trialOrder}`;await psn({storageEngine:e,participantId:a.participantId,identifier:c,namePrefix:i,zip:s})}));await Promise.all(o),await A8(s,`${i}_screenRecording.zip`)}function NLe({selectedParticipants:e=[],refresh:t,footer:n=!1}){const{storageEngine:r}=Ii(),{user:i}=Hy(),{studyId:s}=ro(),[o]=mc(),a=A.useMemo(()=>o.get("participantId")||void 0,[o]),[l,u]=A.useState(null);A.useEffect(()=>{async function k(){if(r&&a&&s){const I=await r.getParticipantData(a);u(I)}else u(null)}k()},[r,a,s]);const c=A.useCallback(async()=>{if(r&&a&&s){const k=await r.getParticipantData(a);u(k)}},[r,a,s]),[d,f]=A.useState(!1),[h,p]=A.useState(!1),[m,g]=A.useState(""),y=A.useMemo(()=>[...e,l].filter(k=>k!==null),[e,l]),v=A.useMemo(()=>y.filter(k=>k.rejected).length,[y]),w=A.useMemo(()=>y.filter(k=>!k.rejected).length,[y]),_=A.useCallback(async(k,I)=>{if(r&&s){const R=I===""?"Rejected by admin":I;await r.rejectParticipant(k,R)}},[r,s]),C=A.useCallback(async k=>{r&&s&&await r.undoRejectParticipant(k)},[r,s]),S=A.useCallback(async()=>{if(f(!1),y.length>0){const I=y.filter(R=>!R.rejected).map(async R=>await _(R.participantId,m));await Promise.all(I)}else await _(a||"",m);t&&await t(),l&&await c(),g("")},[y,t,l,_,m,a,c]),T=A.useCallback(async()=>{if(p(!1),y.length>0){const k=y.map(async I=>await C(I.participantId));await Promise.all(k)}else await C(a||""),await c();t&&await t(),l&&await c()},[y,t,l,C,a,c]);return b.jsxs(b.Fragment,{children:[v>0&&b.jsx(yt,{label:"Only admins can undo rejection",disabled:i.isAdmin,children:b.jsxs(Wt,{disabled:!i.isAdmin,onClick:()=>p(!0),color:"blue",children:["Undo Reject",n?"":` Participants (${v})`]})}),w>0&&b.jsx(yt,{label:"Only admins can reject participants",disabled:i.isAdmin,children:b.jsxs(Wt,{disabled:!i.isAdmin,onClick:()=>f(!0),color:"red",children:["Reject",n?"":` Participants (${w})`]})}),b.jsxs(Ti,{opened:d,onClose:()=>f(!1),title:w>0?`Reject Participants (${w})`:"Reject Participant",children:[b.jsxs(Qc,{icon:b.jsx(Zc,{size:16}),title:"Warning",color:"orange",mb:"md",children:[y.length>0&&v>0&&b.jsxs(b.Fragment,{children:[v," ","of your"," ",y.length," ","selected participant",y.length===1?"":"s"," ",v===1?"has":"have"," ","already been rejected. Clicking reject participants will now reject the other"," ",w,".",b.jsx("br",{}),b.jsx("br",{})]}),"When participants are rejected, their sequences will be reassigned to other participants."]}),b.jsx(kl,{label:"Please enter the reason for rejection.",onChange:k=>g(k.target.value)}),b.jsxs(At,{mt:"sm",justify:"right",children:[b.jsx(Wt,{mr:5,variant:"subtle",color:"dark",onClick:()=>{f(!1),g("")},children:"Cancel"}),b.jsx(Wt,{color:"red",onClick:S,children:y.length>0?"Reject Participants":"Reject Participant"})]})]}),b.jsxs(Ti,{opened:h,onClose:()=>p(!1),title:b.jsx(He,{children:`Undo Reject Participants (${y.length})`}),children:[b.jsx(Qc,{icon:b.jsx(Zc,{size:16}),title:"Warning",color:"orange",mb:"md",children:"When you undo participant rejections, you may end up with unbalanced latin squares. This is because the rejected sequence may have been reassigned."}),y.length>0?b.jsx(He,{children:"Are you sure you want to undo the rejection of these participants?"}):b.jsxs(b.Fragment,{children:[b.jsx(He,{children:"The participant has been rejected."}),b.jsxs(He,{children:["Reason:"," ",l?.rejected&&typeof l.rejected=="object"?l.rejected.reason:"No reason provided"]})]}),b.jsxs(At,{mt:"sm",justify:"right",children:[b.jsx(Wt,{mr:5,variant:"subtle",color:"dark",onClick:()=>p(!1),children:"Cancel"}),b.jsx(Wt,{color:"blue",onClick:T,children:y.length>0?"Undo Reject Participants":"Undo Reject Participant"})]})]})]})}const tU={left:5,right:5};function gsn(e,t){return t?t.getParticipantData(e):null}async function ysn(e,t,n,r){return r&&t?await r.getAllParticipantAndTaskTags(e,t):null}async function zve(e,t){if(e){const n=await e.getTags(t);return Array.isArray(n)?n:[]}return[]}function $Le({visibleParticipants:e,rawTranscript:t,currentShownTranscription:n,width:r,onTimeUpdate:i,isReplay:s,editedTranscript:o,currentTrial:a,saveProvenance:l,jumpedToLine:u=0,studyId:c,setHasAudio:d,storageEngine:f,forceMute:h,onAnalysisIsPlayingChange:p,onProvenanceTimelineChange:m}){const g=Hy(),[y,v]=A.useState(1),[w,_]=mc(),C=A.useMemo(()=>w.get("participantId")||"",[w]),{value:S}=uf(gsn,[C,f]),{value:T,execute:k}=uf(zve,[f,"task"]),{value:I,execute:R}=uf(zve,[f,"participant"]),[P,N]=A.useState(!1),[$,O]=A.useState(!0),j=h?!0:$,[B,H]=A.useState(null),[q,Y]=A.useState(null);A.useEffect(()=>{async function Te(){if(!f||!C||!a){H(null);return}try{const we=await f.getAudioUrl(a,C);H(we)}catch{H(null)}try{const we=await f.getScreenRecording(a,C);Y(we)}catch{Y(null)}}Te()},[f,C,a]);const V=A.useCallback(async()=>{!f||!C||!a||await csn({storageEngine:f,participantId:C,identifier:a,audioUrl:B})},[f,C,a,B]),L=A.useCallback(async()=>{!f||!C||!a||await dsn({storageEngine:f,participantId:C,identifier:a,screenRecordingUrl:q})},[f,C,a,q]),z=A.useCallback(Te=>{localStorage.setItem("analysisIsPlaying",Te?"true":"false"),Te||O(!0),N(Te),p&&p(Te)},[p]),[U,G]=A.useState(null),{value:Q,execute:ne}=uf(ysn,[g.user.user?.email||"temp",C,c,f]),[ue,se]=A.useState();A.useEffect(()=>{Q&&se(Q)},[Q]);const ae=A.useMemo(()=>(S&&!S.answers[a]&&_({participantId:C,currentTrial:Object.entries(S.answers).find(([Te,we])=>+we.trialOrder.split("_")[0]==0)?.[0]||""}),S?S.answers[a].componentName:""),[a,S,C,_]),he=A.useMemo(()=>{if(!S||!S.answers[a])return null;const Te=Object.values(S.answers||{}).map(Ae=>[Ae.startTime,Ae.endTime]).flat(),we=p4(Te);return _u([tU.left,r+tU.left+tU.right]).domain(a?[S.answers[a].startTime,S.answers[a].endTime]:we).clamp(!0)},[S,a,r]);A.useEffect(()=>{const Te=[];if(!o||o.length===0){G(null);return}o.forEach((we,$e)=>{t&&($e===0||we.transcriptMappingStart!==o[$e-1].transcriptMappingStart)&&Te.push({start:$e===0?0:t.results[we.transcriptMappingStart-1].resultEndTime,end:$e===o.length-1?t.results[we.transcriptMappingEnd].resultEndTime+500:t.results[we.transcriptMappingEnd].resultEndTime,lineStart:we.transcriptMappingStart,lineEnd:we.transcriptMappingEnd,tags:o.filter(Ae=>Ae.transcriptMappingStart===we.transcriptMappingStart&&Ae.transcriptMappingEnd===we.transcriptMappingEnd).map(Ae=>Ae.selectedTags)})}),G(Te)},[o,G,t]);const ie=A.useCallback(Te=>{let we=e.findIndex($e=>$e===C)+Te;we>=e.length?we=0:we<0&&(we=e.length-1),localStorage.setItem("participantId",e[we]),_({participantId:e[we]||""})},[C,_,e]),le=A.useCallback(Te=>{if(!S||!a)return;let we=+S.answers[a].trialOrder.split("_")[0]+Te;we>=Object.values(S.answers).length?we=0:we<0&&(we=Object.values(S.answers).length-1);const $e=Object.values(S.answers).find(Oe=>+Oe.trialOrder.split("_")[0]===we),Ae=$e?`${$e.componentName}_${$e.trialOrder.split("_")[0]}`:"";localStorage.setItem("currentTrial",Ae),_({participantId:C,currentTrial:Ae})},[a,S,C,_]),Ee=A.useCallback((Te,we)=>{f&&f.saveTags(Te,we).then(()=>{we==="task"?k(f,we):R(f,we)})},[R,k,f]),X=A.useCallback((Te,we)=>{if(!T)return;const $e=T.findIndex(Oe=>Oe.id===Te.id),Ae=Array.from(T);Ae[$e]=we,Ee(Ae,"task")},[Ee,T]),fe=A.useCallback((Te,we)=>{if(!I)return;const $e=I.findIndex(Oe=>Oe.id===Te.id),Ae=Array.from(I);Ae[$e]=we,Ee(Ae,"participant")},[Ee,I]),de=A.useCallback(Te=>{Ee([...T||[],Te],"task")},[Ee,T]),te=A.useCallback(Te=>{Ee([...T||[],Te],"participant")},[Ee,T]),ee=A.useMemo(()=>U&&U[u]?.start||0,[u,U]),[me,Re]=A.useState("");return b.jsx(es.Footer,{zIndex:101,withBorder:!1,children:b.jsxs(zn,{style:{backgroundColor:"var(--mantine-color-blue-1)",height:"100%"},gap:5,justify:"center",children:[b.jsx(esn,{isMuted:j,setHasAudio:d,jumpedToAudioTime:ee,speed:y,setSpeed:v,saveProvenance:l,analysisIsPlaying:P,setAnalysisIsPlaying:z,setTime:i,setTimeString:Te=>Re(Te),answers:S?S.answers:{},taskName:a,context:s?"provenanceVis":"audioAnalysis",onProvenanceTimelineChange:m}),he&&U?b.jsx(tsn,{startTime:he.domain()[0],xScale:he,transcriptLines:U,currentShownTranscription:n||0}):null,b.jsxs(An,{gap:"xs",style:{width:"100%"},justify:"center",wrap:"nowrap",children:[b.jsxs(An,{wrap:"nowrap",children:[b.jsx(He,{ff:"monospace",style:{textAlign:"right"},mt:"lg",c:"dimmed",children:me}),b.jsx(yt,{label:"Play",children:b.jsx(Tn,{mt:25,size:"xl",variant:"light",onClick:()=>{z(!P),O(!$)},children:P?b.jsx(Gnt,{}):b.jsx(Knt,{})})}),b.jsxs(kr,{styles:{dropdown:{padding:0}},position:"bottom",withArrow:!0,shadow:"md",children:[b.jsx(kr.Target,{children:b.jsx(yt,{label:"Speed",children:b.jsx(Tn,{style:{width:"50px"},mt:25,variant:"light",children:`${y}x`})})}),b.jsxs(kr.Dropdown,{children:[b.jsx(u$,{value:y.toString(),onChange:Te=>{v(+Te),localStorage.setItem("currentSpeed",Te)},orientation:"vertical",data:[{label:"0.5x",value:"0.5"},{label:"1x",value:"1"},{label:"1.5x",value:"1.5"},{label:"2x",value:"2"},{label:"4x",value:"4"},{label:"8x",value:"8"}]}),b.jsx(zn,{gap:"xs"})]})]})]}),b.jsxs(An,{wrap:"nowrap",gap:"lg",children:[b.jsx(Km,{leftSection:b.jsx(yt,{label:"Previous Participant",children:b.jsx(Tn,{size:"sm",variant:"light",onClick:()=>ie(-1),children:b.jsx(MV,{})})}),rightSection:b.jsx(yt,{label:"Next Participant",children:b.jsx(Tn,{size:"sm",variant:"light",onClick:()=>ie(1),style:{pointerEvents:"all"},children:b.jsx(Qle,{})})}),label:"Participant Id",style:{width:"200px"},value:C,onChange:Te=>{_({currentTrial:a,participantId:Te||""}),localStorage.setItem("participantId",Te||"")},data:e.map(Te=>Te).sort(),searchable:!0}),b.jsxs(zn,{gap:"4",children:[b.jsxs(An,{gap:"xs",align:"center",children:[b.jsx(He,{size:"sm",fw:500,children:"Participant Tags"}),b.jsx(yt,{w:300,multiline:!0,label:"Participant tags allow you to categorize or label the participant. Click in the box to add, create, or edit tags.",children:b.jsx(Qm,{size:16})})]}),b.jsx(LG,{width:200,tags:I||[],editTagCallback:fe,createTagCallback:te,tagsEmptyText:"Add Participant Tags",onSelectTags:Te=>{if(f&&Q){let we=structuredClone(Q);we||(we={participantTags:[],taskTags:{}}),we.participantTags=Te,se(we),f.saveAllParticipantAndTaskTags(g.user.user?.email||"temp",C,we).then(()=>{ne(g.user.user?.email||"temp",C,c,f)})}},selectedTags:ue?ue.participantTags:[]})]}),b.jsx(Km,{leftSection:b.jsx(yt,{label:"Previous Task",children:b.jsx(Tn,{size:"sm",variant:"light",onClick:()=>le(-1),children:b.jsx(MV,{})})}),rightSection:b.jsx(yt,{label:"Next Task",children:b.jsx(Tn,{size:"sm",variant:"light",onClick:()=>le(1),style:{pointerEvents:"all"},children:b.jsx(Qle,{})})}),label:"Task",style:{width:"200px"},value:ae,onChange:Te=>{if(S&&Te){const we=Object.entries(S.answers).find(([$e,Ae])=>+Ae.trialOrder.split("_")[0]===od(S?.sequence).indexOf(Te))?.[0]||"";localStorage.setItem("currentTrial",we),_({participantId:C,currentTrial:we})}},data:S?Array.from(new Set(od(S?.sequence))):[],searchable:!0}),b.jsxs(zn,{gap:"4",children:[b.jsxs(An,{gap:"xs",align:"center",children:[b.jsx(He,{size:"sm",fw:500,children:"Task Tags"}),b.jsx(yt,{w:300,multiline:!0,label:"Task tags allow you to categorize or label the current task. Click in the box to add, create, or edit tags.",children:b.jsx(Qm,{size:16})})]}),b.jsx(LG,{width:200,tags:T||[],editTagCallback:X,createTagCallback:de,tagsEmptyText:"Add Task Tags",onSelectTags:Te=>{if(f&&Q){let we=structuredClone(Q);we||(we={participantTags:[],taskTags:{}}),we.taskTags[a]=Te,se(we),f.saveAllParticipantAndTaskTags(g.user.user?.email||"temp",C,we).then(()=>{ne(g.user.user?.email||"temp",C,c,f)})}},selectedTags:ue?ue.taskTags[a]||[]:[]})]})]}),b.jsx(Wt,{mt:"lg",variant:"light",component:"a",href:s?`${Yi}analysis/stats/${c}/tagging?participantId=${C}&currentTrial=${a}`:`${Yi}${c}/${Ss(S?+(S.answers[a]?.trialOrder.split("_")[0]||0):0)}?participantId=${C}&currentTrial=${a}`,target:"_blank",children:s?"Transcript":"Replay"}),b.jsxs(An,{mt:"lg",children:[B&&b.jsx(yt,{label:"Download audio",children:b.jsx(Tn,{variant:"light",size:30,onClick:V,children:b.jsx($Ee,{})})}),q&&b.jsx(yt,{label:"Download screen recording",children:b.jsx(Tn,{variant:"filled",size:30,onClick:L,children:b.jsx(REe,{})})}),b.jsx(NLe,{selectedParticipants:[],footer:!0})]})]})]})})}function vsn(e){return e?e.getAllParticipantIds():null}function bsn({setHasAudio:e}){const{storageEngine:t}=Ii(),{value:n}=uf(vsn,[t]),r=l0(),i=As(),{currentComponentHasScreenRecording:s}=nQ(),{studyId:o}=ro(),{saveAnalysisState:a}=is(),{setAnalysisIsPlaying:l,setProvenanceJumpTime:u}=is(),c=A.useCallback(h=>{i(u(h))},[i,u]),d=A.useCallback(h=>{i(l(h))},[i,l]),f=A.useCallback(h=>i(a(h)),[i,a]);return b.jsx($Le,{storageEngine:t,setHasAudio:e,studyId:o||"",currentTrial:r,isReplay:!0,visibleParticipants:n||[],rawTranscript:null,currentShownTranscription:null,width:3e3,onTimeUpdate:()=>{},saveProvenance:f,onProvenanceTimelineChange:c,onAnalysisIsPlayingChange:d,forceMute:s})}function wsn(){const e=Du(),t=e.uiConfig.minWidthSize,n=e.uiConfig.minHeightSize,[r,i]=A.useState(!1),[s,o]=A.useState(!1),[a,l]=A.useState(60),[u,c]=A.useState(!1),d=A.useRef(null),{storageEngine:f}=Ii(),h=Kf(),p=ll();return A.useEffect(()=>{const m=()=>{if(t===void 0||n===void 0)return;const g=window.innerWidth<t,y=window.innerHeight<n,v=g||y,w=()=>{l(60),d.current&&(clearInterval(d.current),d.current=null),d.current=setInterval(()=>{l(_=>_<=1?(d.current&&(clearInterval(d.current),d.current=null),f&&!s&&(o(!0),c(!0),f.rejectCurrentParticipant("Screen resolution too small").catch(()=>{console.error("Failed to reject participant who failed training")})),0):_-1)},1e3)};s||(v?(i(!0),w()):(i(!1),d.current&&(clearInterval(d.current),d.current=null)))};return m(),window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m),d.current&&clearInterval(d.current)}},[t,n,f,h,p,s]),r?b.jsx(Ti,{opened:r,onClose:()=>{},fullScreen:!0,withCloseButton:!1,children:b.jsxs(zn,{align:"center",justify:"center",children:[b.jsx(Zc,{size:64,color:"orange"}),b.jsx(qr,{order:3,children:" Screen Resolution Warning "}),b.jsx(He,{size:"md",ta:"center",children:u?b.jsxs(b.Fragment,{children:["Thank you for participating in this study. You have been timed out and will not be able to continue.",b.jsx("br",{}),"You may now close this page."]}):b.jsxs(b.Fragment,{children:["Your screen resolution is below the minimum requirement:",b.jsx("br",{}),t!==void 0&&` Width: ${t}px`,n!==void 0&&` Height: ${n}px`,b.jsx("br",{}),"Please resize your browser window to the minimum required size within"," ",a," ","seconds."]})})]})}):null}function xsn(){return b.jsx(Ti,{opened:!0,onClose:()=>{},fullScreen:!0,withCloseButton:!1,children:b.jsxs(zn,{align:"center",justify:"center",children:[b.jsx(Zc,{size:64,color:"orange"}),b.jsx(qr,{order:3,children:" Screen Recording Stopped "}),b.jsx(He,{size:"md",ta:"center",children:b.jsxs(b.Fragment,{children:["Thank you for participating in this study. Screen recording was stopped and you will not be able to continue.",b.jsx("br",{}),"You may now close this page."]})})]})})}function _sn(){const e=A.useRef([]),t=As(),{toggleStudyBrowser:n}=is(),r=D0(),i=Du(),s=Xf(),o=A.useMemo(()=>Il(i.components[s]||{},i),[s,i]),a=A.useMemo(()=>o.windowEventDebounceTime??i.uiConfig.windowEventDebounceTime??100,[o,i]);mZ(i?.uiConfig.stylesheetPath);const l=ar(S=>S.showStudyBrowser),u=ar(S=>S.modes),c=qpt(),{isRejected:d}=c,f=ar(S=>S.analysisHasScreenRecording),h=ar(S=>S.analysisCanPlayScreenRecording);A.useEffect(()=>{const S=Nc(B=>{e.current.push([Date.now(),"focus",B.target instanceof HTMLElement?B.target.tagName:""])},a,{maxWait:a}),T=Nc(B=>{e.current.push([Date.now(),"input",B.data??""])},a,{maxWait:a}),k=Nc(B=>{e.current.push([Date.now(),"keydown",B.key])},a,{maxWait:a}),I=Nc(B=>{e.current.push([Date.now(),"keyup",B.key])},a,{maxWait:a}),R=Nc(B=>{e.current.push([Date.now(),"mousedown",[B.clientX,B.clientY]])},a,{maxWait:a}),P=Nc(B=>{e.current.push([Date.now(),"mouseup",[B.clientX,B.clientY]])},a,{maxWait:a}),N=Nc(()=>{e.current.push([Date.now(),"resize",[window.innerWidth,window.innerHeight]])},a,{maxWait:a}),$=Nc(B=>{e.current.push([Date.now(),"mousemove",[B.clientX,B.clientY]])},a,{maxWait:a}),O=Nc(()=>{e.current.push([Date.now(),"scroll",[window.scrollX,window.scrollY]])},a,{maxWait:a}),j=Nc(()=>{e.current.push([Date.now(),"visibility",document.visibilityState])},a,{maxWait:a});return window.addEventListener("focus",S,!0),window.addEventListener("input",T),window.addEventListener("keydown",k),window.addEventListener("keyup",I),window.addEventListener("mousedown",R),window.addEventListener("mouseup",P),window.addEventListener("resize",N),window.addEventListener("mousemove",$),window.addEventListener("scroll",O),document.addEventListener("visibilitychange",j),()=>{window.removeEventListener("focus",S,!0),window.removeEventListener("input",T),window.removeEventListener("keydown",k),window.removeEventListener("keyup",I),window.removeEventListener("mousedown",R),window.removeEventListener("mouseup",P),window.removeEventListener("resize",N),window.removeEventListener("mousemove",$),window.removeEventListener("scroll",O),document.removeEventListener("visibilitychange",j)}},[]);const{studyNavigatorEnabled:p,dataCollectionEnabled:m}=A.useMemo(()=>u,[u]),g=A.useMemo(()=>f&&h||s==="end"?!1:o.withSidebar??i.uiConfig.withSidebar,[f,h,s,o.withSidebar,i.uiConfig.withSidebar]),y=A.useMemo(()=>o?.sidebarWidth??i.uiConfig.sidebarWidth??300,[o,i]),v=A.useMemo(()=>o.showTitleBar??i.uiConfig.showTitleBar??!0,[o,i]),w=A.useMemo(()=>p&&l,[p,l]),[_,C]=A.useState();return b.jsx(X3e.Provider,{value:e,children:b.jsx(xTe.Provider,{value:c,children:b.jsxs(es,{padding:"md",header:{height:v?70:0},aside:{width:360,breakpoint:"xs",collapsed:{desktop:!w,mobile:!w}},footer:{height:r?125+(_?55:0):0},children:[b.jsx(Nin,{}),v&&b.jsx($in,{studyNavigatorEnabled:p,dataCollectionEnabled:m}),b.jsx(wsn,{}),d&&b.jsx(xsn,{}),b.jsx(Fin,{}),b.jsx(Lin,{}),b.jsxs(At,{direction:"row",gap:"xs",children:[b.jsx(Min,{width:y,top:v?70:0,sidebarOpen:g}),b.jsxs(es.Main,{className:"main",style:{display:"flex",flexDirection:"column"},w:g?`calc(100% - ${y}px - 10px)`:"100%",children:[!v&&!l&&p&&b.jsx(Wt,{variant:"subtle",leftSection:b.jsx(MV,{size:14}),onClick:()=>t(n()),size:"xs",style:{position:"fixed",top:"10px",right:"10px"},children:"Study Browser"}),b.jsx(aZe,{})]})]}),r&&b.jsx(bsn,{setHasAudio:C})]})})})}function Csn(e,t=!1){return typeof e=="number"?Uve(e,t):Uve(e.length,t).map(r=>r.map(i=>e[i]))}function Uve(e,t){if(e<0)throw new Error("Latin square size must be > 0");if(e==0)return[];if(e==1)return[[0]];let n=new Array(e);for(let s=0;s<e;s++)s<2?n[s]=s:s%2==0?n[s]=e-s/2:n[s]=Math.floor(s/2)+1;let r=[n],i=n;for(let s=1;s<e;s+=1){let o=i.map(a=>(a+1)%e);r.push(o),i=o}if(t&&e%2>0)for(let s=0;s<e;s+=1)r.push(r[s].slice().reverse());return r}function MLe(e){let t=e.length;for(;t!==0;){const n=Math.floor(Math.random()*t);t-=1,[e[t],e[n]]=[e[n],e[t]]}}function FLe(e,t,n){if(sd(e))return{id:e.id,orderPath:n,order:e.order,components:[],skip:[]};let r=e.components;if(e.order==="random"){const i=structuredClone(e.components);MLe(i),r=i}else e.order==="latinSquare"&&t&&(r=t[n].pop().map(i=>i.startsWith("_componentBlock")?e.components[+i.slice(15)]:i));r=r.slice(0,e.numSamples);for(let i=0;i<r.length;i+=1){const s=r[i];if(typeof s!="string"&&!Array.isArray(s)){const o=e.components.findIndex(a=>$q(a,s));r[i]=FLe(s,t,`${n}-${o}`)}}return e.interruptions&&e.interruptions.forEach(i=>{const s=[];if(i.spacing!=="random")for(let o=0;o<r.length;o+=1)(o===i.firstLocation||o>i.firstLocation&&o%i.spacing===0)&&s.push(...i.components),s.push(r[o]);if(i.spacing==="random"){const o=new Set;if(i.numInterruptions>r.length-1)throw new Error("Number of interruptions cannot be greater than the number of components");for(;o.size<i.numInterruptions;){const u=Math.floor(Math.random()*r.length-1)+1;o.add(u)}const a=Array.from(o).sort((u,c)=>u-c);let l=0;for(let u=0;u<r.length;u+=1)u===a[l]&&(s.push(...i.components),l+=1),s.push(r[u])}r=s}),{id:e.id,orderPath:n,order:e.order,components:r.flat(),skip:e.skip}}function Esn(e,t){const n=structuredClone(e);return FLe(n,t,"root")}function LLe(e,t,n,r){const i=n.length>0?`${n}-${r}`:"root";e.order==="latinSquare"&&t.push(i),!sd(e)&&e.components.forEach((s,o)=>{typeof s!="string"&&!sd(s)&&LLe(s,t,i,o)})}function Ssn(e){const t=[];return LLe(e,t,"",0),t}function Vve(e,t){const n=t.split("-");let r={};n.forEach(o=>{if(o==="root")r=e.sequence;else{if(sd(r))return;r=r.components[+o]}});const i=r.components.map((o,a)=>typeof o=="string"?o:`_componentBlock${a}`);return MLe(i),Csn(i,!0)}function nU(e){const n=Ssn(e.sequence).map(s=>({[s]:Vve(e,s)})).reduce((s,o)=>({...s,...o}),{}),r=e.uiConfig.numSequences||1e3,i=[];return Array.from({length:r}).forEach(()=>{const s=Esn(e.sequence,n);s.components.push("end"),i.push(s),Object.entries(n).forEach(([o,a])=>{a.length===0&&(n[o]=Vve(e,o))})}),i}var w3={exports:{}},rU={},cm={},Uv={},iU={},sU={},oU={},Hve;function i5(){return Hve||(Hve=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(v){if(super(),!e.IDENTIFIER.test(v))throw new Error("CodeGen: name must be a valid identifier");this.str=v}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(v){super(),this._items=typeof v=="string"?[v]:v}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const v=this._items[0];return v===""||v==='""'}get str(){var v;return(v=this._str)!==null&&v!==void 0?v:this._str=this._items.reduce((w,_)=>`${w}${_}`,"")}get names(){var v;return(v=this._names)!==null&&v!==void 0?v:this._names=this._items.reduce((w,_)=>(_ instanceof n&&(w[_.str]=(w[_.str]||0)+1),w),{})}}e._Code=r,e.nil=new r("");function i(y,...v){const w=[y[0]];let _=0;for(;_<v.length;)a(w,v[_]),w.push(y[++_]);return new r(w)}e._=i;const s=new r("+");function o(y,...v){const w=[h(y[0])];let _=0;for(;_<v.length;)w.push(s),a(w,v[_]),w.push(s,h(y[++_]));return l(w),new r(w)}e.str=o;function a(y,v){v instanceof r?y.push(...v._items):v instanceof n?y.push(v):y.push(d(v))}e.addCodeArg=a;function l(y){let v=1;for(;v<y.length-1;){if(y[v]===s){const w=u(y[v-1],y[v+1]);if(w!==void 0){y.splice(v-1,3,w);continue}y[v++]="+"}v++}}function u(y,v){if(v==='""')return y;if(y==='""')return v;if(typeof y=="string")return v instanceof n||y[y.length-1]!=='"'?void 0:typeof v!="string"?`${y.slice(0,-1)}${v}"`:v[0]==='"'?y.slice(0,-1)+v.slice(1):void 0;if(typeof v=="string"&&v[0]==='"'&&!(y instanceof n))return`"${y}${v.slice(1)}`}function c(y,v){return v.emptyStr()?y:y.emptyStr()?v:o`${y}${v}`}e.strConcat=c;function d(y){return typeof y=="number"||typeof y=="boolean"||y===null?y:h(Array.isArray(y)?y.join(","):y)}function f(y){return new r(h(y))}e.stringify=f;function h(y){return JSON.stringify(y).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function p(y){return typeof y=="string"&&e.IDENTIFIER.test(y)?new r(`.${y}`):i`[${y}]`}e.getProperty=p;function m(y){if(typeof y=="string"&&e.IDENTIFIER.test(y))return new r(`${y}`);throw new Error(`CodeGen: invalid export name: ${y}, use explicit $id name mapping`)}e.getEsmExportName=m;function g(y){return new r(y.toString())}e.regexpCode=g})(oU)),oU}var aU={},qve;function Wve(){return qve||(qve=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=i5();class n extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r||(e.UsedValueState=r={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:u,parent:c}={}){this._names={},this._prefixes=u,this._parent=c}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const c=this._names[u]||this._nameGroup(u);return`${u}${c.index++}`}_nameGroup(u){var c,d;if(!((d=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||d===void 0)&&d.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=i;class s extends t.Name{constructor(u,c){super(c),this.prefix=u}setValue(u,{property:c,itemIndex:d}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(c)}[${d}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class a extends i{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?o:t.nil}}get(){return this._scope}name(u){return new s(u,this._newName(u))}value(u,c){var d;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const f=this.toName(u),{prefix:h}=f,p=(d=c.key)!==null&&d!==void 0?d:c.ref;let m=this._values[h];if(m){const v=m.get(p);if(v)return v}else m=this._values[h]=new Map;m.set(p,f);const g=this._scope[h]||(this._scope[h]=[]),y=g.length;return g[y]=c.ref,f.setValue(c,{property:h,itemIndex:y}),f}getValue(u,c){const d=this._values[u];if(d)return d.get(c)}scopeRefs(u,c=this._values){return this._reduceValues(c,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,t._)`${u}${d.scopePath}`})}scopeCode(u=this._values,c,d){return this._reduceValues(u,f=>{if(f.value===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return f.value.code},c,d)}_reduceValues(u,c,d={},f){let h=t.nil;for(const p in u){const m=u[p];if(!m)continue;const g=d[p]=d[p]||new Map;m.forEach(y=>{if(g.has(y))return;g.set(y,r.Started);let v=c(y);if(v){const w=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${w} ${y} = ${v};${this.opts._n}`}else if(v=f?.(y))h=(0,t._)`${h}${v}${this.opts._n}`;else throw new n(y);g.set(y,r.Completed)})}return h}}e.ValueScope=a})(aU)),aU}var Gve;function xr(){return Gve||(Gve=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=i5(),n=Wve();var r=i5();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=Wve();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(G,Q){return this}}class o extends s{constructor(G,Q,ne){super(),this.varKind=G,this.name=Q,this.rhs=ne}render({es5:G,_n:Q}){const ne=G?n.varKinds.var:this.varKind,ue=this.rhs===void 0?"":` = ${this.rhs}`;return`${ne} ${this.name}${ue};`+Q}optimizeNames(G,Q){if(G[this.name.str])return this.rhs&&(this.rhs=O(this.rhs,G,Q)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(G,Q,ne){super(),this.lhs=G,this.rhs=Q,this.sideEffects=ne}render({_n:G}){return`${this.lhs} = ${this.rhs};`+G}optimizeNames(G,Q){if(!(this.lhs instanceof t.Name&&!G[this.lhs.str]&&!this.sideEffects))return this.rhs=O(this.rhs,G,Q),this}get names(){const G=this.lhs instanceof t.Name?{}:{...this.lhs.names};return $(G,this.rhs)}}class l extends a{constructor(G,Q,ne,ue){super(G,ne,ue),this.op=Q}render({_n:G}){return`${this.lhs} ${this.op}= ${this.rhs};`+G}}class u extends s{constructor(G){super(),this.label=G,this.names={}}render({_n:G}){return`${this.label}:`+G}}class c extends s{constructor(G){super(),this.label=G,this.names={}}render({_n:G}){return`break${this.label?` ${this.label}`:""};`+G}}class d extends s{constructor(G){super(),this.error=G}render({_n:G}){return`throw ${this.error};`+G}get names(){return this.error.names}}class f extends s{constructor(G){super(),this.code=G}render({_n:G}){return`${this.code};`+G}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(G,Q){return this.code=O(this.code,G,Q),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends s{constructor(G=[]){super(),this.nodes=G}render(G){return this.nodes.reduce((Q,ne)=>Q+ne.render(G),"")}optimizeNodes(){const{nodes:G}=this;let Q=G.length;for(;Q--;){const ne=G[Q].optimizeNodes();Array.isArray(ne)?G.splice(Q,1,...ne):ne?G[Q]=ne:G.splice(Q,1)}return G.length>0?this:void 0}optimizeNames(G,Q){const{nodes:ne}=this;let ue=ne.length;for(;ue--;){const se=ne[ue];se.optimizeNames(G,Q)||(j(G,se.names),ne.splice(ue,1))}return ne.length>0?this:void 0}get names(){return this.nodes.reduce((G,Q)=>N(G,Q.names),{})}}class p extends h{render(G){return"{"+G._n+super.render(G)+"}"+G._n}}class m extends h{}class g extends p{}g.kind="else";class y extends p{constructor(G,Q){super(Q),this.condition=G}render(G){let Q=`if(${this.condition})`+super.render(G);return this.else&&(Q+="else "+this.else.render(G)),Q}optimizeNodes(){super.optimizeNodes();const G=this.condition;if(G===!0)return this.nodes;let Q=this.else;if(Q){const ne=Q.optimizeNodes();Q=this.else=Array.isArray(ne)?new g(ne):ne}if(Q)return G===!1?Q instanceof y?Q:Q.nodes:this.nodes.length?this:new y(B(G),Q instanceof y?[Q]:Q.nodes);if(!(G===!1||!this.nodes.length))return this}optimizeNames(G,Q){var ne;if(this.else=(ne=this.else)===null||ne===void 0?void 0:ne.optimizeNames(G,Q),!!(super.optimizeNames(G,Q)||this.else))return this.condition=O(this.condition,G,Q),this}get names(){const G=super.names;return $(G,this.condition),this.else&&N(G,this.else.names),G}}y.kind="if";class v extends p{}v.kind="for";class w extends v{constructor(G){super(),this.iteration=G}render(G){return`for(${this.iteration})`+super.render(G)}optimizeNames(G,Q){if(super.optimizeNames(G,Q))return this.iteration=O(this.iteration,G,Q),this}get names(){return N(super.names,this.iteration.names)}}class _ extends v{constructor(G,Q,ne,ue){super(),this.varKind=G,this.name=Q,this.from=ne,this.to=ue}render(G){const Q=G.es5?n.varKinds.var:this.varKind,{name:ne,from:ue,to:se}=this;return`for(${Q} ${ne}=${ue}; ${ne}<${se}; ${ne}++)`+super.render(G)}get names(){const G=$(super.names,this.from);return $(G,this.to)}}class C extends v{constructor(G,Q,ne,ue){super(),this.loop=G,this.varKind=Q,this.name=ne,this.iterable=ue}render(G){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(G)}optimizeNames(G,Q){if(super.optimizeNames(G,Q))return this.iterable=O(this.iterable,G,Q),this}get names(){return N(super.names,this.iterable.names)}}class S extends p{constructor(G,Q,ne){super(),this.name=G,this.args=Q,this.async=ne}render(G){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(G)}}S.kind="func";class T extends h{render(G){return"return "+super.render(G)}}T.kind="return";class k extends p{render(G){let Q="try"+super.render(G);return this.catch&&(Q+=this.catch.render(G)),this.finally&&(Q+=this.finally.render(G)),Q}optimizeNodes(){var G,Q;return super.optimizeNodes(),(G=this.catch)===null||G===void 0||G.optimizeNodes(),(Q=this.finally)===null||Q===void 0||Q.optimizeNodes(),this}optimizeNames(G,Q){var ne,ue;return super.optimizeNames(G,Q),(ne=this.catch)===null||ne===void 0||ne.optimizeNames(G,Q),(ue=this.finally)===null||ue===void 0||ue.optimizeNames(G,Q),this}get names(){const G=super.names;return this.catch&&N(G,this.catch.names),this.finally&&N(G,this.finally.names),G}}class I extends p{constructor(G){super(),this.error=G}render(G){return`catch(${this.error})`+super.render(G)}}I.kind="catch";class R extends p{render(G){return"finally"+super.render(G)}}R.kind="finally";class P{constructor(G,Q={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...Q,_n:Q.lines?`
`:""},this._extScope=G,this._scope=new n.Scope({parent:G}),this._nodes=[new m]}toString(){return this._root.render(this.opts)}name(G){return this._scope.name(G)}scopeName(G){return this._extScope.name(G)}scopeValue(G,Q){const ne=this._extScope.value(G,Q);return(this._values[ne.prefix]||(this._values[ne.prefix]=new Set)).add(ne),ne}getScopeValue(G,Q){return this._extScope.getValue(G,Q)}scopeRefs(G){return this._extScope.scopeRefs(G,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(G,Q,ne,ue){const se=this._scope.toName(Q);return ne!==void 0&&ue&&(this._constants[se.str]=ne),this._leafNode(new o(G,se,ne)),se}const(G,Q,ne){return this._def(n.varKinds.const,G,Q,ne)}let(G,Q,ne){return this._def(n.varKinds.let,G,Q,ne)}var(G,Q,ne){return this._def(n.varKinds.var,G,Q,ne)}assign(G,Q,ne){return this._leafNode(new a(G,Q,ne))}add(G,Q){return this._leafNode(new l(G,e.operators.ADD,Q))}code(G){return typeof G=="function"?G():G!==t.nil&&this._leafNode(new f(G)),this}object(...G){const Q=["{"];for(const[ne,ue]of G)Q.length>1&&Q.push(","),Q.push(ne),(ne!==ue||this.opts.es5)&&(Q.push(":"),(0,t.addCodeArg)(Q,ue));return Q.push("}"),new t._Code(Q)}if(G,Q,ne){if(this._blockNode(new y(G)),Q&&ne)this.code(Q).else().code(ne).endIf();else if(Q)this.code(Q).endIf();else if(ne)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(G){return this._elseNode(new y(G))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode(y,g)}_for(G,Q){return this._blockNode(G),Q&&this.code(Q).endFor(),this}for(G,Q){return this._for(new w(G),Q)}forRange(G,Q,ne,ue,se=this.opts.es5?n.varKinds.var:n.varKinds.let){const ae=this._scope.toName(G);return this._for(new _(se,ae,Q,ne),()=>ue(ae))}forOf(G,Q,ne,ue=n.varKinds.const){const se=this._scope.toName(G);if(this.opts.es5){const ae=Q instanceof t.Name?Q:this.var("_arr",Q);return this.forRange("_i",0,(0,t._)`${ae}.length`,he=>{this.var(se,(0,t._)`${ae}[${he}]`),ne(se)})}return this._for(new C("of",ue,se,Q),()=>ne(se))}forIn(G,Q,ne,ue=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(G,(0,t._)`Object.keys(${Q})`,ne);const se=this._scope.toName(G);return this._for(new C("in",ue,se,Q),()=>ne(se))}endFor(){return this._endBlockNode(v)}label(G){return this._leafNode(new u(G))}break(G){return this._leafNode(new c(G))}return(G){const Q=new T;if(this._blockNode(Q),this.code(G),Q.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(T)}try(G,Q,ne){if(!Q&&!ne)throw new Error('CodeGen: "try" without "catch" and "finally"');const ue=new k;if(this._blockNode(ue),this.code(G),Q){const se=this.name("e");this._currNode=ue.catch=new I(se),Q(se)}return ne&&(this._currNode=ue.finally=new R,this.code(ne)),this._endBlockNode(I,R)}throw(G){return this._leafNode(new d(G))}block(G,Q){return this._blockStarts.push(this._nodes.length),G&&this.code(G).endBlock(Q),this}endBlock(G){const Q=this._blockStarts.pop();if(Q===void 0)throw new Error("CodeGen: not in self-balancing block");const ne=this._nodes.length-Q;if(ne<0||G!==void 0&&ne!==G)throw new Error(`CodeGen: wrong number of nodes: ${ne} vs ${G} expected`);return this._nodes.length=Q,this}func(G,Q=t.nil,ne,ue){return this._blockNode(new S(G,Q,ne)),ue&&this.code(ue).endFunc(),this}endFunc(){return this._endBlockNode(S)}optimize(G=1){for(;G-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(G){return this._currNode.nodes.push(G),this}_blockNode(G){this._currNode.nodes.push(G),this._nodes.push(G)}_endBlockNode(G,Q){const ne=this._currNode;if(ne instanceof G||Q&&ne instanceof Q)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${Q?`${G.kind}/${Q.kind}`:G.kind}"`)}_elseNode(G){const Q=this._currNode;if(!(Q instanceof y))throw new Error('CodeGen: "else" without "if"');return this._currNode=Q.else=G,this}get _root(){return this._nodes[0]}get _currNode(){const G=this._nodes;return G[G.length-1]}set _currNode(G){const Q=this._nodes;Q[Q.length-1]=G}}e.CodeGen=P;function N(U,G){for(const Q in G)U[Q]=(U[Q]||0)+(G[Q]||0);return U}function $(U,G){return G instanceof t._CodeOrName?N(U,G.names):U}function O(U,G,Q){if(U instanceof t.Name)return ne(U);if(!ue(U))return U;return new t._Code(U._items.reduce((se,ae)=>(ae instanceof t.Name&&(ae=ne(ae)),ae instanceof t._Code?se.push(...ae._items):se.push(ae),se),[]));function ne(se){const ae=Q[se.str];return ae===void 0||G[se.str]!==1?se:(delete G[se.str],ae)}function ue(se){return se instanceof t._Code&&se._items.some(ae=>ae instanceof t.Name&&G[ae.str]===1&&Q[ae.str]!==void 0)}}function j(U,G){for(const Q in G)U[Q]=(U[Q]||0)-(G[Q]||0)}function B(U){return typeof U=="boolean"||typeof U=="number"||U===null?!U:(0,t._)`!${z(U)}`}e.not=B;const H=L(e.operators.AND);function q(...U){return U.reduce(H)}e.and=q;const Y=L(e.operators.OR);function V(...U){return U.reduce(Y)}e.or=V;function L(U){return(G,Q)=>G===t.nil?Q:Q===t.nil?G:(0,t._)`${z(G)} ${U} ${z(Q)}`}function z(U){return U instanceof t.Name?U:(0,t._)`(${U})`}})(sU)),sU}var cr={},Yve;function ei(){if(Yve)return cr;Yve=1,Object.defineProperty(cr,"__esModule",{value:!0}),cr.checkStrictMode=cr.getErrorPath=cr.Type=cr.useFunc=cr.setEvaluated=cr.evaluatedPropsToName=cr.mergeEvaluated=cr.eachItem=cr.unescapeJsonPointer=cr.escapeJsonPointer=cr.escapeFragment=cr.unescapeFragment=cr.schemaRefOrVal=cr.schemaHasRulesButRef=cr.schemaHasRules=cr.checkUnknownRules=cr.alwaysValidSchema=cr.toHash=void 0;const e=xr(),t=i5();function n(C){const S={};for(const T of C)S[T]=!0;return S}cr.toHash=n;function r(C,S){return typeof S=="boolean"?S:Object.keys(S).length===0?!0:(i(C,S),!s(S,C.self.RULES.all))}cr.alwaysValidSchema=r;function i(C,S=C.schema){const{opts:T,self:k}=C;if(!T.strictSchema||typeof S=="boolean")return;const I=k.RULES.keywords;for(const R in S)I[R]||_(C,`unknown keyword: "${R}"`)}cr.checkUnknownRules=i;function s(C,S){if(typeof C=="boolean")return!C;for(const T in C)if(S[T])return!0;return!1}cr.schemaHasRules=s;function o(C,S){if(typeof C=="boolean")return!C;for(const T in C)if(T!=="$ref"&&S.all[T])return!0;return!1}cr.schemaHasRulesButRef=o;function a({topSchemaRef:C,schemaPath:S},T,k,I){if(!I){if(typeof T=="number"||typeof T=="boolean")return T;if(typeof T=="string")return(0,e._)`${T}`}return(0,e._)`${C}${S}${(0,e.getProperty)(k)}`}cr.schemaRefOrVal=a;function l(C){return d(decodeURIComponent(C))}cr.unescapeFragment=l;function u(C){return encodeURIComponent(c(C))}cr.escapeFragment=u;function c(C){return typeof C=="number"?`${C}`:C.replace(/~/g,"~0").replace(/\//g,"~1")}cr.escapeJsonPointer=c;function d(C){return C.replace(/~1/g,"/").replace(/~0/g,"~")}cr.unescapeJsonPointer=d;function f(C,S){if(Array.isArray(C))for(const T of C)S(T);else S(C)}cr.eachItem=f;function h({mergeNames:C,mergeToName:S,mergeValues:T,resultToName:k}){return(I,R,P,N)=>{const $=P===void 0?R:P instanceof e.Name?(R instanceof e.Name?C(I,R,P):S(I,R,P),P):R instanceof e.Name?(S(I,P,R),R):T(R,P);return N===e.Name&&!($ instanceof e.Name)?k(I,$):$}}cr.mergeEvaluated={props:h({mergeNames:(C,S,T)=>C.if((0,e._)`${T} !== true && ${S} !== undefined`,()=>{C.if((0,e._)`${S} === true`,()=>C.assign(T,!0),()=>C.assign(T,(0,e._)`${T} || {}`).code((0,e._)`Object.assign(${T}, ${S})`))}),mergeToName:(C,S,T)=>C.if((0,e._)`${T} !== true`,()=>{S===!0?C.assign(T,!0):(C.assign(T,(0,e._)`${T} || {}`),m(C,T,S))}),mergeValues:(C,S)=>C===!0?!0:{...C,...S},resultToName:p}),items:h({mergeNames:(C,S,T)=>C.if((0,e._)`${T} !== true && ${S} !== undefined`,()=>C.assign(T,(0,e._)`${S} === true ? true : ${T} > ${S} ? ${T} : ${S}`)),mergeToName:(C,S,T)=>C.if((0,e._)`${T} !== true`,()=>C.assign(T,S===!0?!0:(0,e._)`${T} > ${S} ? ${T} : ${S}`)),mergeValues:(C,S)=>C===!0?!0:Math.max(C,S),resultToName:(C,S)=>C.var("items",S)})};function p(C,S){if(S===!0)return C.var("props",!0);const T=C.var("props",(0,e._)`{}`);return S!==void 0&&m(C,T,S),T}cr.evaluatedPropsToName=p;function m(C,S,T){Object.keys(T).forEach(k=>C.assign((0,e._)`${S}${(0,e.getProperty)(k)}`,!0))}cr.setEvaluated=m;const g={};function y(C,S){return C.scopeValue("func",{ref:S,code:g[S.code]||(g[S.code]=new t._Code(S.code))})}cr.useFunc=y;var v;(function(C){C[C.Num=0]="Num",C[C.Str=1]="Str"})(v||(cr.Type=v={}));function w(C,S,T){if(C instanceof e.Name){const k=S===v.Num;return T?k?(0,e._)`"[" + ${C} + "]"`:(0,e._)`"['" + ${C} + "']"`:k?(0,e._)`"/" + ${C}`:(0,e._)`"/" + ${C}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return T?(0,e.getProperty)(C).toString():"/"+c(C)}cr.getErrorPath=w;function _(C,S,T=C.opts.strictSchema){if(T){if(S=`strict mode: ${S}`,T===!0)throw new Error(S);C.self.logger.warn(S)}}return cr.checkStrictMode=_,cr}var x3={},Kve;function pv(){if(Kve)return x3;Kve=1,Object.defineProperty(x3,"__esModule",{value:!0});const e=xr(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return x3.default=t,x3}var Xve;function R8(){return Xve||(Xve=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=xr(),n=ei(),r=pv();e.keywordError={message:({keyword:g})=>(0,t.str)`must pass "${g}" keyword validation`},e.keyword$DataError={message:({keyword:g,schemaType:y})=>y?(0,t.str)`"${g}" keyword must be ${y} ($data)`:(0,t.str)`"${g}" keyword is invalid ($data)`};function i(g,y=e.keywordError,v,w){const{it:_}=g,{gen:C,compositeRule:S,allErrors:T}=_,k=d(g,y,v);w??(S||T)?l(C,k):u(_,(0,t._)`[${k}]`)}e.reportError=i;function s(g,y=e.keywordError,v){const{it:w}=g,{gen:_,compositeRule:C,allErrors:S}=w,T=d(g,y,v);l(_,T),C||S||u(w,r.default.vErrors)}e.reportExtraError=s;function o(g,y){g.assign(r.default.errors,y),g.if((0,t._)`${r.default.vErrors} !== null`,()=>g.if(y,()=>g.assign((0,t._)`${r.default.vErrors}.length`,y),()=>g.assign(r.default.vErrors,null)))}e.resetErrorsCount=o;function a({gen:g,keyword:y,schemaValue:v,data:w,errsCount:_,it:C}){if(_===void 0)throw new Error("ajv implementation error");const S=g.name("err");g.forRange("i",_,r.default.errors,T=>{g.const(S,(0,t._)`${r.default.vErrors}[${T}]`),g.if((0,t._)`${S}.instancePath === undefined`,()=>g.assign((0,t._)`${S}.instancePath`,(0,t.strConcat)(r.default.instancePath,C.errorPath))),g.assign((0,t._)`${S}.schemaPath`,(0,t.str)`${C.errSchemaPath}/${y}`),C.opts.verbose&&(g.assign((0,t._)`${S}.schema`,v),g.assign((0,t._)`${S}.data`,w))})}e.extendErrors=a;function l(g,y){const v=g.const("err",y);g.if((0,t._)`${r.default.vErrors} === null`,()=>g.assign(r.default.vErrors,(0,t._)`[${v}]`),(0,t._)`${r.default.vErrors}.push(${v})`),g.code((0,t._)`${r.default.errors}++`)}function u(g,y){const{gen:v,validateName:w,schemaEnv:_}=g;_.$async?v.throw((0,t._)`new ${g.ValidationError}(${y})`):(v.assign((0,t._)`${w}.errors`,y),v.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function d(g,y,v){const{createErrors:w}=g.it;return w===!1?(0,t._)`{}`:f(g,y,v)}function f(g,y,v={}){const{gen:w,it:_}=g,C=[h(_,v),p(g,v)];return m(g,y,C),w.object(...C)}function h({errorPath:g},{instancePath:y}){const v=y?(0,t.str)`${g}${(0,n.getErrorPath)(y,n.Type.Str)}`:g;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,v)]}function p({keyword:g,it:{errSchemaPath:y}},{schemaPath:v,parentSchema:w}){let _=w?y:(0,t.str)`${y}/${g}`;return v&&(_=(0,t.str)`${_}${(0,n.getErrorPath)(v,n.Type.Str)}`),[c.schemaPath,_]}function m(g,{params:y,message:v},w){const{keyword:_,data:C,schemaValue:S,it:T}=g,{opts:k,propertyName:I,topSchemaRef:R,schemaPath:P}=T;w.push([c.keyword,_],[c.params,typeof y=="function"?y(g):y||(0,t._)`{}`]),k.messages&&w.push([c.message,typeof v=="function"?v(g):v]),k.verbose&&w.push([c.schema,S],[c.parentSchema,(0,t._)`${R}${P}`],[r.default.data,C]),I&&w.push([c.propertyName,I])}})(iU)),iU}var Qve;function Tsn(){if(Qve)return Uv;Qve=1,Object.defineProperty(Uv,"__esModule",{value:!0}),Uv.boolOrEmptySchema=Uv.topBoolOrEmptySchema=void 0;const e=R8(),t=xr(),n=pv(),r={message:"boolean schema is false"};function i(a){const{gen:l,schema:u,validateName:c}=a;u===!1?o(a,!1):typeof u=="object"&&u.$async===!0?l.return(n.default.data):(l.assign((0,t._)`${c}.errors`,null),l.return(!0))}Uv.topBoolOrEmptySchema=i;function s(a,l){const{gen:u,schema:c}=a;c===!1?(u.var(l,!1),o(a)):u.var(l,!0)}Uv.boolOrEmptySchema=s;function o(a,l){const{gen:u,data:c}=a,d={gen:u,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a};(0,e.reportError)(d,r,void 0,l)}return Uv}var aa={},Vv={},Jve;function jLe(){if(Jve)return Vv;Jve=1,Object.defineProperty(Vv,"__esModule",{value:!0}),Vv.getRules=Vv.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function n(i){return typeof i=="string"&&t.has(i)}Vv.isJSONType=n;function r(){const i={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...i,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},i.number,i.string,i.array,i.object],post:{rules:[]},all:{},keywords:{}}}return Vv.getRules=r,Vv}var dm={},Zve;function BLe(){if(Zve)return dm;Zve=1,Object.defineProperty(dm,"__esModule",{value:!0}),dm.shouldUseRule=dm.shouldUseGroup=dm.schemaHasRulesForType=void 0;function e({schema:r,self:i},s){const o=i.RULES.types[s];return o&&o!==!0&&t(r,o)}dm.schemaHasRulesForType=e;function t(r,i){return i.rules.some(s=>n(r,s))}dm.shouldUseGroup=t;function n(r,i){var s;return r[i.keyword]!==void 0||((s=i.definition.implements)===null||s===void 0?void 0:s.some(o=>r[o]!==void 0))}return dm.shouldUseRule=n,dm}var e1e;function s5(){if(e1e)return aa;e1e=1,Object.defineProperty(aa,"__esModule",{value:!0}),aa.reportTypeError=aa.checkDataTypes=aa.checkDataType=aa.coerceAndCheckDataType=aa.getJSONTypes=aa.getSchemaTypes=aa.DataType=void 0;const e=jLe(),t=BLe(),n=R8(),r=xr(),i=ei();var s;(function(v){v[v.Correct=0]="Correct",v[v.Wrong=1]="Wrong"})(s||(aa.DataType=s={}));function o(v){const w=a(v.type);if(w.includes("null")){if(v.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!w.length&&v.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');v.nullable===!0&&w.push("null")}return w}aa.getSchemaTypes=o;function a(v){const w=Array.isArray(v)?v:v?[v]:[];if(w.every(e.isJSONType))return w;throw new Error("type must be JSONType or JSONType[]: "+w.join(","))}aa.getJSONTypes=a;function l(v,w){const{gen:_,data:C,opts:S}=v,T=c(w,S.coerceTypes),k=w.length>0&&!(T.length===0&&w.length===1&&(0,t.schemaHasRulesForType)(v,w[0]));if(k){const I=p(w,C,S.strictNumbers,s.Wrong);_.if(I,()=>{T.length?d(v,w,T):g(v)})}return k}aa.coerceAndCheckDataType=l;const u=new Set(["string","number","integer","boolean","null"]);function c(v,w){return w?v.filter(_=>u.has(_)||w==="array"&&_==="array"):[]}function d(v,w,_){const{gen:C,data:S,opts:T}=v,k=C.let("dataType",(0,r._)`typeof ${S}`),I=C.let("coerced",(0,r._)`undefined`);T.coerceTypes==="array"&&C.if((0,r._)`${k} == 'object' && Array.isArray(${S}) && ${S}.length == 1`,()=>C.assign(S,(0,r._)`${S}[0]`).assign(k,(0,r._)`typeof ${S}`).if(p(w,S,T.strictNumbers),()=>C.assign(I,S))),C.if((0,r._)`${I} !== undefined`);for(const P of _)(u.has(P)||P==="array"&&T.coerceTypes==="array")&&R(P);C.else(),g(v),C.endIf(),C.if((0,r._)`${I} !== undefined`,()=>{C.assign(S,I),f(v,I)});function R(P){switch(P){case"string":C.elseIf((0,r._)`${k} == "number" || ${k} == "boolean"`).assign(I,(0,r._)`"" + ${S}`).elseIf((0,r._)`${S} === null`).assign(I,(0,r._)`""`);return;case"number":C.elseIf((0,r._)`${k} == "boolean" || ${S} === null
              || (${k} == "string" && ${S} && ${S} == +${S})`).assign(I,(0,r._)`+${S}`);return;case"integer":C.elseIf((0,r._)`${k} === "boolean" || ${S} === null
              || (${k} === "string" && ${S} && ${S} == +${S} && !(${S} % 1))`).assign(I,(0,r._)`+${S}`);return;case"boolean":C.elseIf((0,r._)`${S} === "false" || ${S} === 0 || ${S} === null`).assign(I,!1).elseIf((0,r._)`${S} === "true" || ${S} === 1`).assign(I,!0);return;case"null":C.elseIf((0,r._)`${S} === "" || ${S} === 0 || ${S} === false`),C.assign(I,null);return;case"array":C.elseIf((0,r._)`${k} === "string" || ${k} === "number"
              || ${k} === "boolean" || ${S} === null`).assign(I,(0,r._)`[${S}]`)}}}function f({gen:v,parentData:w,parentDataProperty:_},C){v.if((0,r._)`${w} !== undefined`,()=>v.assign((0,r._)`${w}[${_}]`,C))}function h(v,w,_,C=s.Correct){const S=C===s.Correct?r.operators.EQ:r.operators.NEQ;let T;switch(v){case"null":return(0,r._)`${w} ${S} null`;case"array":T=(0,r._)`Array.isArray(${w})`;break;case"object":T=(0,r._)`${w} && typeof ${w} == "object" && !Array.isArray(${w})`;break;case"integer":T=k((0,r._)`!(${w} % 1) && !isNaN(${w})`);break;case"number":T=k();break;default:return(0,r._)`typeof ${w} ${S} ${v}`}return C===s.Correct?T:(0,r.not)(T);function k(I=r.nil){return(0,r.and)((0,r._)`typeof ${w} == "number"`,I,_?(0,r._)`isFinite(${w})`:r.nil)}}aa.checkDataType=h;function p(v,w,_,C){if(v.length===1)return h(v[0],w,_,C);let S;const T=(0,i.toHash)(v);if(T.array&&T.object){const k=(0,r._)`typeof ${w} != "object"`;S=T.null?k:(0,r._)`!${w} || ${k}`,delete T.null,delete T.array,delete T.object}else S=r.nil;T.number&&delete T.integer;for(const k in T)S=(0,r.and)(S,h(k,w,_,C));return S}aa.checkDataTypes=p;const m={message:({schema:v})=>`must be ${v}`,params:({schema:v,schemaValue:w})=>typeof v=="string"?(0,r._)`{type: ${v}}`:(0,r._)`{type: ${w}}`};function g(v){const w=y(v);(0,n.reportError)(w,m)}aa.reportTypeError=g;function y(v){const{gen:w,data:_,schema:C}=v,S=(0,i.schemaRefOrVal)(v,C,"type");return{gen:w,keyword:"type",data:_,schema:C.type,schemaCode:S,schemaValue:S,parentSchema:C,params:{},it:v}}return aa}var V2={},t1e;function ksn(){if(t1e)return V2;t1e=1,Object.defineProperty(V2,"__esModule",{value:!0}),V2.assignDefaults=void 0;const e=xr(),t=ei();function n(i,s){const{properties:o,items:a}=i.schema;if(s==="object"&&o)for(const l in o)r(i,l,o[l].default);else s==="array"&&Array.isArray(a)&&a.forEach((l,u)=>r(i,u,l.default))}V2.assignDefaults=n;function r(i,s,o){const{gen:a,compositeRule:l,data:u,opts:c}=i;if(o===void 0)return;const d=(0,e._)`${u}${(0,e.getProperty)(s)}`;if(l){(0,t.checkStrictMode)(i,`default is ignored for: ${d}`);return}let f=(0,e._)`${d} === undefined`;c.useDefaults==="empty"&&(f=(0,e._)`${f} || ${d} === null || ${d} === ""`),a.if(f,(0,e._)`${d} = ${(0,e.stringify)(o)}`)}return V2}var Bd={},hi={},n1e;function lh(){if(n1e)return hi;n1e=1,Object.defineProperty(hi,"__esModule",{value:!0}),hi.validateUnion=hi.validateArray=hi.usePattern=hi.callValidateCode=hi.schemaProperties=hi.allSchemaProperties=hi.noPropertyInData=hi.propertyInData=hi.isOwnProperty=hi.hasPropFunc=hi.reportMissingProp=hi.checkMissingProp=hi.checkReportMissingProp=void 0;const e=xr(),t=ei(),n=pv(),r=ei();function i(v,w){const{gen:_,data:C,it:S}=v;_.if(c(_,C,w,S.opts.ownProperties),()=>{v.setParams({missingProperty:(0,e._)`${w}`},!0),v.error()})}hi.checkReportMissingProp=i;function s({gen:v,data:w,it:{opts:_}},C,S){return(0,e.or)(...C.map(T=>(0,e.and)(c(v,w,T,_.ownProperties),(0,e._)`${S} = ${T}`)))}hi.checkMissingProp=s;function o(v,w){v.setParams({missingProperty:w},!0),v.error()}hi.reportMissingProp=o;function a(v){return v.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}hi.hasPropFunc=a;function l(v,w,_){return(0,e._)`${a(v)}.call(${w}, ${_})`}hi.isOwnProperty=l;function u(v,w,_,C){const S=(0,e._)`${w}${(0,e.getProperty)(_)} !== undefined`;return C?(0,e._)`${S} && ${l(v,w,_)}`:S}hi.propertyInData=u;function c(v,w,_,C){const S=(0,e._)`${w}${(0,e.getProperty)(_)} === undefined`;return C?(0,e.or)(S,(0,e.not)(l(v,w,_))):S}hi.noPropertyInData=c;function d(v){return v?Object.keys(v).filter(w=>w!=="__proto__"):[]}hi.allSchemaProperties=d;function f(v,w){return d(w).filter(_=>!(0,t.alwaysValidSchema)(v,w[_]))}hi.schemaProperties=f;function h({schemaCode:v,data:w,it:{gen:_,topSchemaRef:C,schemaPath:S,errorPath:T},it:k},I,R,P){const N=P?(0,e._)`${v}, ${w}, ${C}${S}`:w,$=[[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,T)],[n.default.parentData,k.parentData],[n.default.parentDataProperty,k.parentDataProperty],[n.default.rootData,n.default.rootData]];k.opts.dynamicRef&&$.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const O=(0,e._)`${N}, ${_.object(...$)}`;return R!==e.nil?(0,e._)`${I}.call(${R}, ${O})`:(0,e._)`${I}(${O})`}hi.callValidateCode=h;const p=(0,e._)`new RegExp`;function m({gen:v,it:{opts:w}},_){const C=w.unicodeRegExp?"u":"",{regExp:S}=w.code,T=S(_,C);return v.scopeValue("pattern",{key:T.toString(),ref:T,code:(0,e._)`${S.code==="new RegExp"?p:(0,r.useFunc)(v,S)}(${_}, ${C})`})}hi.usePattern=m;function g(v){const{gen:w,data:_,keyword:C,it:S}=v,T=w.name("valid");if(S.allErrors){const I=w.let("valid",!0);return k(()=>w.assign(I,!1)),I}return w.var(T,!0),k(()=>w.break()),T;function k(I){const R=w.const("len",(0,e._)`${_}.length`);w.forRange("i",0,R,P=>{v.subschema({keyword:C,dataProp:P,dataPropType:t.Type.Num},T),w.if((0,e.not)(T),I)})}}hi.validateArray=g;function y(v){const{gen:w,schema:_,keyword:C,it:S}=v;if(!Array.isArray(_))throw new Error("ajv implementation error");if(_.some(R=>(0,t.alwaysValidSchema)(S,R))&&!S.opts.unevaluated)return;const k=w.let("valid",!1),I=w.name("_valid");w.block(()=>_.forEach((R,P)=>{const N=v.subschema({keyword:C,schemaProp:P,compositeRule:!0},I);w.assign(k,(0,e._)`${k} || ${I}`),v.mergeValidEvaluated(N,I)||w.if((0,e.not)(k))})),v.result(k,()=>v.reset(),()=>v.error(!0))}return hi.validateUnion=y,hi}var r1e;function Asn(){if(r1e)return Bd;r1e=1,Object.defineProperty(Bd,"__esModule",{value:!0}),Bd.validateKeywordUsage=Bd.validSchemaType=Bd.funcKeywordCode=Bd.macroKeywordCode=void 0;const e=xr(),t=pv(),n=lh(),r=R8();function i(f,h){const{gen:p,keyword:m,schema:g,parentSchema:y,it:v}=f,w=h.macro.call(v.self,g,y,v),_=u(p,m,w);v.opts.validateSchema!==!1&&v.self.validateSchema(w,!0);const C=p.name("valid");f.subschema({schema:w,schemaPath:e.nil,errSchemaPath:`${v.errSchemaPath}/${m}`,topSchemaRef:_,compositeRule:!0},C),f.pass(C,()=>f.error(!0))}Bd.macroKeywordCode=i;function s(f,h){var p;const{gen:m,keyword:g,schema:y,parentSchema:v,$data:w,it:_}=f;l(_,h);const C=!w&&h.compile?h.compile.call(_.self,y,v,_):h.validate,S=u(m,g,C),T=m.let("valid");f.block$data(T,k),f.ok((p=h.valid)!==null&&p!==void 0?p:T);function k(){if(h.errors===!1)P(),h.modifying&&o(f),N(()=>f.error());else{const $=h.async?I():R();h.modifying&&o(f),N(()=>a(f,$))}}function I(){const $=m.let("ruleErrs",null);return m.try(()=>P((0,e._)`await `),O=>m.assign(T,!1).if((0,e._)`${O} instanceof ${_.ValidationError}`,()=>m.assign($,(0,e._)`${O}.errors`),()=>m.throw(O))),$}function R(){const $=(0,e._)`${S}.errors`;return m.assign($,null),P(e.nil),$}function P($=h.async?(0,e._)`await `:e.nil){const O=_.opts.passContext?t.default.this:t.default.self,j=!("compile"in h&&!w||h.schema===!1);m.assign(T,(0,e._)`${$}${(0,n.callValidateCode)(f,S,O,j)}`,h.modifying)}function N($){var O;m.if((0,e.not)((O=h.valid)!==null&&O!==void 0?O:T),$)}}Bd.funcKeywordCode=s;function o(f){const{gen:h,data:p,it:m}=f;h.if(m.parentData,()=>h.assign(p,(0,e._)`${m.parentData}[${m.parentDataProperty}]`))}function a(f,h){const{gen:p}=f;p.if((0,e._)`Array.isArray(${h})`,()=>{p.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${h} : ${t.default.vErrors}.concat(${h})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,r.extendErrors)(f)},()=>f.error())}function l({schemaEnv:f},h){if(h.async&&!f.$async)throw new Error("async keyword in sync schema")}function u(f,h,p){if(p===void 0)throw new Error(`keyword "${h}" failed to compile`);return f.scopeValue("keyword",typeof p=="function"?{ref:p}:{ref:p,code:(0,e.stringify)(p)})}function c(f,h,p=!1){return!h.length||h.some(m=>m==="array"?Array.isArray(f):m==="object"?f&&typeof f=="object"&&!Array.isArray(f):typeof f==m||p&&typeof f>"u")}Bd.validSchemaType=c;function d({schema:f,opts:h,self:p,errSchemaPath:m},g,y){if(Array.isArray(g.keyword)?!g.keyword.includes(y):g.keyword!==y)throw new Error("ajv implementation error");const v=g.dependencies;if(v?.some(w=>!Object.prototype.hasOwnProperty.call(f,w)))throw new Error(`parent schema must have dependencies of ${y}: ${v.join(",")}`);if(g.validateSchema&&!g.validateSchema(f[y])){const _=`keyword "${y}" value is invalid at path "${m}": `+p.errorsText(g.validateSchema.errors);if(h.validateSchema==="log")p.logger.error(_);else throw new Error(_)}}return Bd.validateKeywordUsage=d,Bd}var fm={},i1e;function Rsn(){if(i1e)return fm;i1e=1,Object.defineProperty(fm,"__esModule",{value:!0}),fm.extendSubschemaMode=fm.extendSubschemaData=fm.getSubschema=void 0;const e=xr(),t=ei();function n(s,{keyword:o,schemaProp:a,schema:l,schemaPath:u,errSchemaPath:c,topSchemaRef:d}){if(o!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(o!==void 0){const f=s.schema[o];return a===void 0?{schema:f,schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(o)}`,errSchemaPath:`${s.errSchemaPath}/${o}`}:{schema:f[a],schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(o)}${(0,e.getProperty)(a)}`,errSchemaPath:`${s.errSchemaPath}/${o}/${(0,t.escapeFragment)(a)}`}}if(l!==void 0){if(u===void 0||c===void 0||d===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:u,topSchemaRef:d,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}fm.getSubschema=n;function r(s,o,{dataProp:a,dataPropType:l,data:u,dataTypes:c,propertyName:d}){if(u!==void 0&&a!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:f}=o;if(a!==void 0){const{errorPath:p,dataPathArr:m,opts:g}=o,y=f.let("data",(0,e._)`${o.data}${(0,e.getProperty)(a)}`,!0);h(y),s.errorPath=(0,e.str)`${p}${(0,t.getErrorPath)(a,l,g.jsPropertySyntax)}`,s.parentDataProperty=(0,e._)`${a}`,s.dataPathArr=[...m,s.parentDataProperty]}if(u!==void 0){const p=u instanceof e.Name?u:f.let("data",u,!0);h(p),d!==void 0&&(s.propertyName=d)}c&&(s.dataTypes=c);function h(p){s.data=p,s.dataLevel=o.dataLevel+1,s.dataTypes=[],o.definedProperties=new Set,s.parentData=o.data,s.dataNames=[...o.dataNames,p]}}fm.extendSubschemaData=r;function i(s,{jtdDiscriminator:o,jtdMetadata:a,compositeRule:l,createErrors:u,allErrors:c}){l!==void 0&&(s.compositeRule=l),u!==void 0&&(s.createErrors=u),c!==void 0&&(s.allErrors=c),s.jtdDiscriminator=o,s.jtdMetadata=a}return fm.extendSubschemaMode=i,fm}var yl={},lU={exports:{}},s1e;function Isn(){if(s1e)return lU.exports;s1e=1;var e=lU.exports=function(r,i,s){typeof i=="function"&&(s=i,i={}),s=i.cb||s;var o=typeof s=="function"?s:s.pre||function(){},a=s.post||function(){};t(i,o,a,r,"",r)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(r,i,s,o,a,l,u,c,d,f){if(o&&typeof o=="object"&&!Array.isArray(o)){i(o,a,l,u,c,d,f);for(var h in o){var p=o[h];if(Array.isArray(p)){if(h in e.arrayKeywords)for(var m=0;m<p.length;m++)t(r,i,s,p[m],a+"/"+h+"/"+m,l,a,h,o,m)}else if(h in e.propsKeywords){if(p&&typeof p=="object")for(var g in p)t(r,i,s,p[g],a+"/"+h+"/"+n(g),l,a,h,o,g)}else(h in e.keywords||r.allKeys&&!(h in e.skipKeywords))&&t(r,i,s,p,a+"/"+h,l,a,h,o)}s(o,a,l,u,c,d,f)}}function n(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}return lU.exports}var o1e;function I8(){if(o1e)return yl;o1e=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.getSchemaRefs=yl.resolveUrl=yl.normalizeId=yl._getFullPath=yl.getFullPath=yl.inlineRef=void 0;const e=ei(),t=tZ(),n=Isn(),r=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function i(m,g=!0){return typeof m=="boolean"?!0:g===!0?!o(m):g?a(m)<=g:!1}yl.inlineRef=i;const s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function o(m){for(const g in m){if(s.has(g))return!0;const y=m[g];if(Array.isArray(y)&&y.some(o)||typeof y=="object"&&o(y))return!0}return!1}function a(m){let g=0;for(const y in m){if(y==="$ref")return 1/0;if(g++,!r.has(y)&&(typeof m[y]=="object"&&(0,e.eachItem)(m[y],v=>g+=a(v)),g===1/0))return 1/0}return g}function l(m,g="",y){y!==!1&&(g=d(g));const v=m.parse(g);return u(m,v)}yl.getFullPath=l;function u(m,g){return m.serialize(g).split("#")[0]+"#"}yl._getFullPath=u;const c=/#\/?$/;function d(m){return m?m.replace(c,""):""}yl.normalizeId=d;function f(m,g,y){return y=d(y),m.resolve(g,y)}yl.resolveUrl=f;const h=/^[a-z_][-a-z0-9._]*$/i;function p(m,g){if(typeof m=="boolean")return{};const{schemaId:y,uriResolver:v}=this.opts,w=d(m[y]||g),_={"":w},C=l(v,w,!1),S={},T=new Set;return n(m,{allKeys:!0},(R,P,N,$)=>{if($===void 0)return;const O=C+P;let j=_[$];typeof R[y]=="string"&&(j=B.call(this,R[y])),H.call(this,R.$anchor),H.call(this,R.$dynamicAnchor),_[P]=j;function B(q){const Y=this.opts.uriResolver.resolve;if(q=d(j?Y(j,q):q),T.has(q))throw I(q);T.add(q);let V=this.refs[q];return typeof V=="string"&&(V=this.refs[V]),typeof V=="object"?k(R,V.schema,q):q!==d(O)&&(q[0]==="#"?(k(R,S[q],q),S[q]=R):this.refs[q]=O),q}function H(q){if(typeof q=="string"){if(!h.test(q))throw new Error(`invalid anchor "${q}"`);B.call(this,`#${q}`)}}}),S;function k(R,P,N){if(P!==void 0&&!t(R,P))throw I(N)}function I(R){return new Error(`reference "${R}" resolves to more than one schema`)}}return yl.getSchemaRefs=p,yl}var a1e;function D8(){if(a1e)return cm;a1e=1,Object.defineProperty(cm,"__esModule",{value:!0}),cm.getData=cm.KeywordCxt=cm.validateFunctionCode=void 0;const e=Tsn(),t=s5(),n=BLe(),r=s5(),i=ksn(),s=Asn(),o=Rsn(),a=xr(),l=pv(),u=I8(),c=ei(),d=R8();function f(ie){if(C(ie)&&(T(ie),_(ie))){g(ie);return}h(ie,()=>(0,e.topBoolOrEmptySchema)(ie))}cm.validateFunctionCode=f;function h({gen:ie,validateName:le,schema:Ee,schemaEnv:X,opts:fe},de){fe.code.es5?ie.func(le,(0,a._)`${l.default.data}, ${l.default.valCxt}`,X.$async,()=>{ie.code((0,a._)`"use strict"; ${v(Ee,fe)}`),m(ie,fe),ie.code(de)}):ie.func(le,(0,a._)`${l.default.data}, ${p(fe)}`,X.$async,()=>ie.code(v(Ee,fe)).code(de))}function p(ie){return(0,a._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${ie.dynamicRef?(0,a._)`, ${l.default.dynamicAnchors}={}`:a.nil}}={}`}function m(ie,le){ie.if(l.default.valCxt,()=>{ie.var(l.default.instancePath,(0,a._)`${l.default.valCxt}.${l.default.instancePath}`),ie.var(l.default.parentData,(0,a._)`${l.default.valCxt}.${l.default.parentData}`),ie.var(l.default.parentDataProperty,(0,a._)`${l.default.valCxt}.${l.default.parentDataProperty}`),ie.var(l.default.rootData,(0,a._)`${l.default.valCxt}.${l.default.rootData}`),le.dynamicRef&&ie.var(l.default.dynamicAnchors,(0,a._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{ie.var(l.default.instancePath,(0,a._)`""`),ie.var(l.default.parentData,(0,a._)`undefined`),ie.var(l.default.parentDataProperty,(0,a._)`undefined`),ie.var(l.default.rootData,l.default.data),le.dynamicRef&&ie.var(l.default.dynamicAnchors,(0,a._)`{}`)})}function g(ie){const{schema:le,opts:Ee,gen:X}=ie;h(ie,()=>{Ee.$comment&&le.$comment&&$(ie),R(ie),X.let(l.default.vErrors,null),X.let(l.default.errors,0),Ee.unevaluated&&y(ie),k(ie),O(ie)})}function y(ie){const{gen:le,validateName:Ee}=ie;ie.evaluated=le.const("evaluated",(0,a._)`${Ee}.evaluated`),le.if((0,a._)`${ie.evaluated}.dynamicProps`,()=>le.assign((0,a._)`${ie.evaluated}.props`,(0,a._)`undefined`)),le.if((0,a._)`${ie.evaluated}.dynamicItems`,()=>le.assign((0,a._)`${ie.evaluated}.items`,(0,a._)`undefined`))}function v(ie,le){const Ee=typeof ie=="object"&&ie[le.schemaId];return Ee&&(le.code.source||le.code.process)?(0,a._)`/*# sourceURL=${Ee} */`:a.nil}function w(ie,le){if(C(ie)&&(T(ie),_(ie))){S(ie,le);return}(0,e.boolOrEmptySchema)(ie,le)}function _({schema:ie,self:le}){if(typeof ie=="boolean")return!ie;for(const Ee in ie)if(le.RULES.all[Ee])return!0;return!1}function C(ie){return typeof ie.schema!="boolean"}function S(ie,le){const{schema:Ee,gen:X,opts:fe}=ie;fe.$comment&&Ee.$comment&&$(ie),P(ie),N(ie);const de=X.const("_errs",l.default.errors);k(ie,de),X.var(le,(0,a._)`${de} === ${l.default.errors}`)}function T(ie){(0,c.checkUnknownRules)(ie),I(ie)}function k(ie,le){if(ie.opts.jtd)return B(ie,[],!1,le);const Ee=(0,t.getSchemaTypes)(ie.schema),X=(0,t.coerceAndCheckDataType)(ie,Ee);B(ie,Ee,!X,le)}function I(ie){const{schema:le,errSchemaPath:Ee,opts:X,self:fe}=ie;le.$ref&&X.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(le,fe.RULES)&&fe.logger.warn(`$ref: keywords ignored in schema at path "${Ee}"`)}function R(ie){const{schema:le,opts:Ee}=ie;le.default!==void 0&&Ee.useDefaults&&Ee.strictSchema&&(0,c.checkStrictMode)(ie,"default is ignored in the schema root")}function P(ie){const le=ie.schema[ie.opts.schemaId];le&&(ie.baseId=(0,u.resolveUrl)(ie.opts.uriResolver,ie.baseId,le))}function N(ie){if(ie.schema.$async&&!ie.schemaEnv.$async)throw new Error("async schema in sync schema")}function $({gen:ie,schemaEnv:le,schema:Ee,errSchemaPath:X,opts:fe}){const de=Ee.$comment;if(fe.$comment===!0)ie.code((0,a._)`${l.default.self}.logger.log(${de})`);else if(typeof fe.$comment=="function"){const te=(0,a.str)`${X}/$comment`,ee=ie.scopeValue("root",{ref:le.root});ie.code((0,a._)`${l.default.self}.opts.$comment(${de}, ${te}, ${ee}.schema)`)}}function O(ie){const{gen:le,schemaEnv:Ee,validateName:X,ValidationError:fe,opts:de}=ie;Ee.$async?le.if((0,a._)`${l.default.errors} === 0`,()=>le.return(l.default.data),()=>le.throw((0,a._)`new ${fe}(${l.default.vErrors})`)):(le.assign((0,a._)`${X}.errors`,l.default.vErrors),de.unevaluated&&j(ie),le.return((0,a._)`${l.default.errors} === 0`))}function j({gen:ie,evaluated:le,props:Ee,items:X}){Ee instanceof a.Name&&ie.assign((0,a._)`${le}.props`,Ee),X instanceof a.Name&&ie.assign((0,a._)`${le}.items`,X)}function B(ie,le,Ee,X){const{gen:fe,schema:de,data:te,allErrors:ee,opts:me,self:Re}=ie,{RULES:Te}=Re;if(de.$ref&&(me.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(de,Te))){fe.block(()=>ue(ie,"$ref",Te.all.$ref.definition));return}me.jtd||q(ie,le),fe.block(()=>{for(const $e of Te.rules)we($e);we(Te.post)});function we($e){(0,n.shouldUseGroup)(de,$e)&&($e.type?(fe.if((0,r.checkDataType)($e.type,te,me.strictNumbers)),H(ie,$e),le.length===1&&le[0]===$e.type&&Ee&&(fe.else(),(0,r.reportTypeError)(ie)),fe.endIf()):H(ie,$e),ee||fe.if((0,a._)`${l.default.errors} === ${X||0}`))}}function H(ie,le){const{gen:Ee,schema:X,opts:{useDefaults:fe}}=ie;fe&&(0,i.assignDefaults)(ie,le.type),Ee.block(()=>{for(const de of le.rules)(0,n.shouldUseRule)(X,de)&&ue(ie,de.keyword,de.definition,le.type)})}function q(ie,le){ie.schemaEnv.meta||!ie.opts.strictTypes||(Y(ie,le),ie.opts.allowUnionTypes||V(ie,le),L(ie,ie.dataTypes))}function Y(ie,le){if(le.length){if(!ie.dataTypes.length){ie.dataTypes=le;return}le.forEach(Ee=>{U(ie.dataTypes,Ee)||Q(ie,`type "${Ee}" not allowed by context "${ie.dataTypes.join(",")}"`)}),G(ie,le)}}function V(ie,le){le.length>1&&!(le.length===2&&le.includes("null"))&&Q(ie,"use allowUnionTypes to allow union type keyword")}function L(ie,le){const Ee=ie.self.RULES.all;for(const X in Ee){const fe=Ee[X];if(typeof fe=="object"&&(0,n.shouldUseRule)(ie.schema,fe)){const{type:de}=fe.definition;de.length&&!de.some(te=>z(le,te))&&Q(ie,`missing type "${de.join(",")}" for keyword "${X}"`)}}}function z(ie,le){return ie.includes(le)||le==="number"&&ie.includes("integer")}function U(ie,le){return ie.includes(le)||le==="integer"&&ie.includes("number")}function G(ie,le){const Ee=[];for(const X of ie.dataTypes)U(le,X)?Ee.push(X):le.includes("integer")&&X==="number"&&Ee.push("integer");ie.dataTypes=Ee}function Q(ie,le){const Ee=ie.schemaEnv.baseId+ie.errSchemaPath;le+=` at "${Ee}" (strictTypes)`,(0,c.checkStrictMode)(ie,le,ie.opts.strictTypes)}class ne{constructor(le,Ee,X){if((0,s.validateKeywordUsage)(le,Ee,X),this.gen=le.gen,this.allErrors=le.allErrors,this.keyword=X,this.data=le.data,this.schema=le.schema[X],this.$data=Ee.$data&&le.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(le,this.schema,X,this.$data),this.schemaType=Ee.schemaType,this.parentSchema=le.schema,this.params={},this.it=le,this.def=Ee,this.$data)this.schemaCode=le.gen.const("vSchema",he(this.$data,le));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,Ee.schemaType,Ee.allowUndefined))throw new Error(`${X} value must be ${JSON.stringify(Ee.schemaType)}`);("code"in Ee?Ee.trackErrors:Ee.errors!==!1)&&(this.errsCount=le.gen.const("_errs",l.default.errors))}result(le,Ee,X){this.failResult((0,a.not)(le),Ee,X)}failResult(le,Ee,X){this.gen.if(le),X?X():this.error(),Ee?(this.gen.else(),Ee(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(le,Ee){this.failResult((0,a.not)(le),void 0,Ee)}fail(le){if(le===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(le),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(le){if(!this.$data)return this.fail(le);const{schemaCode:Ee}=this;this.fail((0,a._)`${Ee} !== undefined && (${(0,a.or)(this.invalid$data(),le)})`)}error(le,Ee,X){if(Ee){this.setParams(Ee),this._error(le,X),this.setParams({});return}this._error(le,X)}_error(le,Ee){(le?d.reportExtraError:d.reportError)(this,this.def.error,Ee)}$dataError(){(0,d.reportError)(this,this.def.$dataError||d.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,d.resetErrorsCount)(this.gen,this.errsCount)}ok(le){this.allErrors||this.gen.if(le)}setParams(le,Ee){Ee?Object.assign(this.params,le):this.params=le}block$data(le,Ee,X=a.nil){this.gen.block(()=>{this.check$data(le,X),Ee()})}check$data(le=a.nil,Ee=a.nil){if(!this.$data)return;const{gen:X,schemaCode:fe,schemaType:de,def:te}=this;X.if((0,a.or)((0,a._)`${fe} === undefined`,Ee)),le!==a.nil&&X.assign(le,!0),(de.length||te.validateSchema)&&(X.elseIf(this.invalid$data()),this.$dataError(),le!==a.nil&&X.assign(le,!1)),X.else()}invalid$data(){const{gen:le,schemaCode:Ee,schemaType:X,def:fe,it:de}=this;return(0,a.or)(te(),ee());function te(){if(X.length){if(!(Ee instanceof a.Name))throw new Error("ajv implementation error");const me=Array.isArray(X)?X:[X];return(0,a._)`${(0,r.checkDataTypes)(me,Ee,de.opts.strictNumbers,r.DataType.Wrong)}`}return a.nil}function ee(){if(fe.validateSchema){const me=le.scopeValue("validate$data",{ref:fe.validateSchema});return(0,a._)`!${me}(${Ee})`}return a.nil}}subschema(le,Ee){const X=(0,o.getSubschema)(this.it,le);(0,o.extendSubschemaData)(X,this.it,le),(0,o.extendSubschemaMode)(X,le);const fe={...this.it,...X,items:void 0,props:void 0};return w(fe,Ee),fe}mergeEvaluated(le,Ee){const{it:X,gen:fe}=this;X.opts.unevaluated&&(X.props!==!0&&le.props!==void 0&&(X.props=c.mergeEvaluated.props(fe,le.props,X.props,Ee)),X.items!==!0&&le.items!==void 0&&(X.items=c.mergeEvaluated.items(fe,le.items,X.items,Ee)))}mergeValidEvaluated(le,Ee){const{it:X,gen:fe}=this;if(X.opts.unevaluated&&(X.props!==!0||X.items!==!0))return fe.if(Ee,()=>this.mergeEvaluated(le,a.Name)),!0}}cm.KeywordCxt=ne;function ue(ie,le,Ee,X){const fe=new ne(ie,Ee,le);"code"in Ee?Ee.code(fe,X):fe.$data&&Ee.validate?(0,s.funcKeywordCode)(fe,Ee):"macro"in Ee?(0,s.macroKeywordCode)(fe,Ee):(Ee.compile||Ee.validate)&&(0,s.funcKeywordCode)(fe,Ee)}const se=/^\/(?:[^~]|~0|~1)*$/,ae=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function he(ie,{dataLevel:le,dataNames:Ee,dataPathArr:X}){let fe,de;if(ie==="")return l.default.rootData;if(ie[0]==="/"){if(!se.test(ie))throw new Error(`Invalid JSON-pointer: ${ie}`);fe=ie,de=l.default.rootData}else{const Re=ae.exec(ie);if(!Re)throw new Error(`Invalid JSON-pointer: ${ie}`);const Te=+Re[1];if(fe=Re[2],fe==="#"){if(Te>=le)throw new Error(me("property/index",Te));return X[le-Te]}if(Te>le)throw new Error(me("data",Te));if(de=Ee[le-Te],!fe)return de}let te=de;const ee=fe.split("/");for(const Re of ee)Re&&(de=(0,a._)`${de}${(0,a.getProperty)((0,c.unescapeJsonPointer)(Re))}`,te=(0,a._)`${te} && ${de}`);return te;function me(Re,Te){return`Cannot access ${Re} ${Te} levels up, current level is ${le}`}}return cm.getData=he,cm}var _3={},l1e;function pie(){if(l1e)return _3;l1e=1,Object.defineProperty(_3,"__esModule",{value:!0});class e extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}return _3.default=e,_3}var C3={},u1e;function P8(){if(u1e)return C3;u1e=1,Object.defineProperty(C3,"__esModule",{value:!0});const e=I8();class t extends Error{constructor(r,i,s,o){super(o||`can't resolve reference ${s} from id ${i}`),this.missingRef=(0,e.resolveUrl)(r,i,s),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(r,this.missingRef))}}return C3.default=t,C3}var Uu={},c1e;function mie(){if(c1e)return Uu;c1e=1,Object.defineProperty(Uu,"__esModule",{value:!0}),Uu.resolveSchema=Uu.getCompilingSchema=Uu.resolveRef=Uu.compileSchema=Uu.SchemaEnv=void 0;const e=xr(),t=pie(),n=pv(),r=I8(),i=ei(),s=D8();class o{constructor(y){var v;this.refs={},this.dynamicAnchors={};let w;typeof y.schema=="object"&&(w=y.schema),this.schema=y.schema,this.schemaId=y.schemaId,this.root=y.root||this,this.baseId=(v=y.baseId)!==null&&v!==void 0?v:(0,r.normalizeId)(w?.[y.schemaId||"$id"]),this.schemaPath=y.schemaPath,this.localRefs=y.localRefs,this.meta=y.meta,this.$async=w?.$async,this.refs={}}}Uu.SchemaEnv=o;function a(g){const y=c.call(this,g);if(y)return y;const v=(0,r.getFullPath)(this.opts.uriResolver,g.root.baseId),{es5:w,lines:_}=this.opts.code,{ownProperties:C}=this.opts,S=new e.CodeGen(this.scope,{es5:w,lines:_,ownProperties:C});let T;g.$async&&(T=S.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const k=S.scopeName("validate");g.validateName=k;const I={gen:S,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:S.scopeValue("schema",this.opts.code.source===!0?{ref:g.schema,code:(0,e.stringify)(g.schema)}:{ref:g.schema}),validateName:k,ValidationError:T,schema:g.schema,schemaEnv:g,rootId:v,baseId:g.baseId||v,schemaPath:e.nil,errSchemaPath:g.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let R;try{this._compilations.add(g),(0,s.validateFunctionCode)(I),S.optimize(this.opts.code.optimize);const P=S.toString();R=`${S.scopeRefs(n.default.scope)}return ${P}`,this.opts.code.process&&(R=this.opts.code.process(R,g));const $=new Function(`${n.default.self}`,`${n.default.scope}`,R)(this,this.scope.get());if(this.scope.value(k,{ref:$}),$.errors=null,$.schema=g.schema,$.schemaEnv=g,g.$async&&($.$async=!0),this.opts.code.source===!0&&($.source={validateName:k,validateCode:P,scopeValues:S._values}),this.opts.unevaluated){const{props:O,items:j}=I;$.evaluated={props:O instanceof e.Name?void 0:O,items:j instanceof e.Name?void 0:j,dynamicProps:O instanceof e.Name,dynamicItems:j instanceof e.Name},$.source&&($.source.evaluated=(0,e.stringify)($.evaluated))}return g.validate=$,g}catch(P){throw delete g.validate,delete g.validateName,R&&this.logger.error("Error compiling schema, function code:",R),P}finally{this._compilations.delete(g)}}Uu.compileSchema=a;function l(g,y,v){var w;v=(0,r.resolveUrl)(this.opts.uriResolver,y,v);const _=g.refs[v];if(_)return _;let C=f.call(this,g,v);if(C===void 0){const S=(w=g.localRefs)===null||w===void 0?void 0:w[v],{schemaId:T}=this.opts;S&&(C=new o({schema:S,schemaId:T,root:g,baseId:y}))}if(C!==void 0)return g.refs[v]=u.call(this,C)}Uu.resolveRef=l;function u(g){return(0,r.inlineRef)(g.schema,this.opts.inlineRefs)?g.schema:g.validate?g:a.call(this,g)}function c(g){for(const y of this._compilations)if(d(y,g))return y}Uu.getCompilingSchema=c;function d(g,y){return g.schema===y.schema&&g.root===y.root&&g.baseId===y.baseId}function f(g,y){let v;for(;typeof(v=this.refs[y])=="string";)y=v;return v||this.schemas[y]||h.call(this,g,y)}function h(g,y){const v=this.opts.uriResolver.parse(y),w=(0,r._getFullPath)(this.opts.uriResolver,v);let _=(0,r.getFullPath)(this.opts.uriResolver,g.baseId,void 0);if(Object.keys(g.schema).length>0&&w===_)return m.call(this,v,g);const C=(0,r.normalizeId)(w),S=this.refs[C]||this.schemas[C];if(typeof S=="string"){const T=h.call(this,g,S);return typeof T?.schema!="object"?void 0:m.call(this,v,T)}if(typeof S?.schema=="object"){if(S.validate||a.call(this,S),C===(0,r.normalizeId)(y)){const{schema:T}=S,{schemaId:k}=this.opts,I=T[k];return I&&(_=(0,r.resolveUrl)(this.opts.uriResolver,_,I)),new o({schema:T,schemaId:k,root:g,baseId:_})}return m.call(this,v,S)}}Uu.resolveSchema=h;const p=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function m(g,{baseId:y,schema:v,root:w}){var _;if(((_=g.fragment)===null||_===void 0?void 0:_[0])!=="/")return;for(const T of g.fragment.slice(1).split("/")){if(typeof v=="boolean")return;const k=v[(0,i.unescapeFragment)(T)];if(k===void 0)return;v=k;const I=typeof v=="object"&&v[this.opts.schemaId];!p.has(T)&&I&&(y=(0,r.resolveUrl)(this.opts.uriResolver,y,I))}let C;if(typeof v!="boolean"&&v.$ref&&!(0,i.schemaHasRulesButRef)(v,this.RULES)){const T=(0,r.resolveUrl)(this.opts.uriResolver,y,v.$ref);C=h.call(this,w,T)}const{schemaId:S}=this.opts;if(C=C||new o({schema:v,schemaId:S,root:w,baseId:y}),C.schema!==C.root.schema)return C}return Uu}const Dsn="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Psn="Meta-schema for $data reference (JSON AnySchema extension proposal)",Osn="object",Nsn=["$data"],$sn={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Msn=!1,Fsn={$id:Dsn,description:Psn,type:Osn,required:Nsn,properties:$sn,additionalProperties:Msn};var E3={},H2={exports:{}},uU,d1e;function Lsn(){return d1e||(d1e=1,uU={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}),uU}var cU,f1e;function jsn(){if(f1e)return cU;f1e=1;const{HEX:e}=Lsn(),t=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function n(m){if(a(m,".")<3)return{host:m,isIPV4:!1};const g=m.match(t)||[],[y]=g;return y?{host:o(y,"."),isIPV4:!0}:{host:m,isIPV4:!1}}function r(m,g=!1){let y="",v=!0;for(const w of m){if(e[w]===void 0)return;w!=="0"&&v===!0&&(v=!1),v||(y+=w)}return g&&y.length===0&&(y="0"),y}function i(m){let g=0;const y={error:!1,address:"",zone:""},v=[],w=[];let _=!1,C=!1,S=!1;function T(){if(w.length){if(_===!1){const k=r(w);if(k!==void 0)v.push(k);else return y.error=!0,!1}w.length=0}return!0}for(let k=0;k<m.length;k++){const I=m[k];if(!(I==="["||I==="]"))if(I===":"){if(C===!0&&(S=!0),!T())break;if(g++,v.push(":"),g>7){y.error=!0;break}k-1>=0&&m[k-1]===":"&&(C=!0);continue}else if(I==="%"){if(!T())break;_=!0}else{w.push(I);continue}}return w.length&&(_?y.zone=w.join(""):S?v.push(w.join("")):v.push(r(w))),y.address=v.join(""),y}function s(m){if(a(m,":")<2)return{host:m,isIPV6:!1};const g=i(m);if(g.error)return{host:m,isIPV6:!1};{let y=g.address,v=g.address;return g.zone&&(y+="%"+g.zone,v+="%25"+g.zone),{host:y,escapedHost:v,isIPV6:!0}}}function o(m,g){let y="",v=!0;const w=m.length;for(let _=0;_<w;_++){const C=m[_];C==="0"&&v?(_+1<=w&&m[_+1]===g||_+1===w)&&(y+=C,v=!1):(C===g?v=!0:v=!1,y+=C)}return y}function a(m,g){let y=0;for(let v=0;v<m.length;v++)m[v]===g&&y++;return y}const l=/^\.\.?\//u,u=/^\/\.(?:\/|$)/u,c=/^\/\.\.(?:\/|$)/u,d=/^\/?(?:.|\n)*?(?=\/|$)/u;function f(m){const g=[];for(;m.length;)if(m.match(l))m=m.replace(l,"");else if(m.match(u))m=m.replace(u,"/");else if(m.match(c))m=m.replace(c,"/"),g.pop();else if(m==="."||m==="..")m="";else{const y=m.match(d);if(y){const v=y[0];m=m.slice(v.length),g.push(v)}else throw new Error("Unexpected dot segment condition")}return g.join("")}function h(m,g){const y=g!==!0?escape:unescape;return m.scheme!==void 0&&(m.scheme=y(m.scheme)),m.userinfo!==void 0&&(m.userinfo=y(m.userinfo)),m.host!==void 0&&(m.host=y(m.host)),m.path!==void 0&&(m.path=y(m.path)),m.query!==void 0&&(m.query=y(m.query)),m.fragment!==void 0&&(m.fragment=y(m.fragment)),m}function p(m){const g=[];if(m.userinfo!==void 0&&(g.push(m.userinfo),g.push("@")),m.host!==void 0){let y=unescape(m.host);const v=n(y);if(v.isIPV4)y=v.host;else{const w=s(v.host);w.isIPV6===!0?y=`[${w.escapedHost}]`:y=m.host}g.push(y)}return(typeof m.port=="number"||typeof m.port=="string")&&(g.push(":"),g.push(String(m.port))),g.length?g.join(""):void 0}return cU={recomposeAuthority:p,normalizeComponentEncoding:h,removeDotSegments:f,normalizeIPv4:n,normalizeIPv6:s,stringArrayToHexStripped:r},cU}var dU,h1e;function Bsn(){if(h1e)return dU;h1e=1;const e=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,t=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function n(v){return typeof v.secure=="boolean"?v.secure:String(v.scheme).toLowerCase()==="wss"}function r(v){return v.host||(v.error=v.error||"HTTP URIs must have a host."),v}function i(v){const w=String(v.scheme).toLowerCase()==="https";return(v.port===(w?443:80)||v.port==="")&&(v.port=void 0),v.path||(v.path="/"),v}function s(v){return v.secure=n(v),v.resourceName=(v.path||"/")+(v.query?"?"+v.query:""),v.path=void 0,v.query=void 0,v}function o(v){if((v.port===(n(v)?443:80)||v.port==="")&&(v.port=void 0),typeof v.secure=="boolean"&&(v.scheme=v.secure?"wss":"ws",v.secure=void 0),v.resourceName){const[w,_]=v.resourceName.split("?");v.path=w&&w!=="/"?w:void 0,v.query=_,v.resourceName=void 0}return v.fragment=void 0,v}function a(v,w){if(!v.path)return v.error="URN can not be parsed",v;const _=v.path.match(t);if(_){const C=w.scheme||v.scheme||"urn";v.nid=_[1].toLowerCase(),v.nss=_[2];const S=`${C}:${w.nid||v.nid}`,T=y[S];v.path=void 0,T&&(v=T.parse(v,w))}else v.error=v.error||"URN can not be parsed.";return v}function l(v,w){const _=w.scheme||v.scheme||"urn",C=v.nid.toLowerCase(),S=`${_}:${w.nid||C}`,T=y[S];T&&(v=T.serialize(v,w));const k=v,I=v.nss;return k.path=`${C||w.nid}:${I}`,w.skipEscape=!0,k}function u(v,w){const _=v;return _.uuid=_.nss,_.nss=void 0,!w.tolerant&&(!_.uuid||!e.test(_.uuid))&&(_.error=_.error||"UUID is not valid."),_}function c(v){const w=v;return w.nss=(v.uuid||"").toLowerCase(),w}const d={scheme:"http",domainHost:!0,parse:r,serialize:i},f={scheme:"https",domainHost:d.domainHost,parse:r,serialize:i},h={scheme:"ws",domainHost:!0,parse:s,serialize:o},p={scheme:"wss",domainHost:h.domainHost,parse:h.parse,serialize:h.serialize},y={http:d,https:f,ws:h,wss:p,urn:{scheme:"urn",parse:a,serialize:l,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:u,serialize:c,skipNormalize:!0}};return dU=y,dU}var p1e;function zsn(){if(p1e)return H2.exports;p1e=1;const{normalizeIPv6:e,normalizeIPv4:t,removeDotSegments:n,recomposeAuthority:r,normalizeComponentEncoding:i}=jsn(),s=Bsn();function o(g,y){return typeof g=="string"?g=c(p(g,y),y):typeof g=="object"&&(g=p(c(g,y),y)),g}function a(g,y,v){const w=Object.assign({scheme:"null"},v),_=l(p(g,w),p(y,w),w,!0);return c(_,{...w,skipEscape:!0})}function l(g,y,v,w){const _={};return w||(g=p(c(g,v),v),y=p(c(y,v),v)),v=v||{},!v.tolerant&&y.scheme?(_.scheme=y.scheme,_.userinfo=y.userinfo,_.host=y.host,_.port=y.port,_.path=n(y.path||""),_.query=y.query):(y.userinfo!==void 0||y.host!==void 0||y.port!==void 0?(_.userinfo=y.userinfo,_.host=y.host,_.port=y.port,_.path=n(y.path||""),_.query=y.query):(y.path?(y.path.charAt(0)==="/"?_.path=n(y.path):((g.userinfo!==void 0||g.host!==void 0||g.port!==void 0)&&!g.path?_.path="/"+y.path:g.path?_.path=g.path.slice(0,g.path.lastIndexOf("/")+1)+y.path:_.path=y.path,_.path=n(_.path)),_.query=y.query):(_.path=g.path,y.query!==void 0?_.query=y.query:_.query=g.query),_.userinfo=g.userinfo,_.host=g.host,_.port=g.port),_.scheme=g.scheme),_.fragment=y.fragment,_}function u(g,y,v){return typeof g=="string"?(g=unescape(g),g=c(i(p(g,v),!0),{...v,skipEscape:!0})):typeof g=="object"&&(g=c(i(g,!0),{...v,skipEscape:!0})),typeof y=="string"?(y=unescape(y),y=c(i(p(y,v),!0),{...v,skipEscape:!0})):typeof y=="object"&&(y=c(i(y,!0),{...v,skipEscape:!0})),g.toLowerCase()===y.toLowerCase()}function c(g,y){const v={host:g.host,scheme:g.scheme,userinfo:g.userinfo,port:g.port,path:g.path,query:g.query,nid:g.nid,nss:g.nss,uuid:g.uuid,fragment:g.fragment,reference:g.reference,resourceName:g.resourceName,secure:g.secure,error:""},w=Object.assign({},y),_=[],C=s[(w.scheme||v.scheme||"").toLowerCase()];C&&C.serialize&&C.serialize(v,w),v.path!==void 0&&(w.skipEscape?v.path=unescape(v.path):(v.path=escape(v.path),v.scheme!==void 0&&(v.path=v.path.split("%3A").join(":")))),w.reference!=="suffix"&&v.scheme&&_.push(v.scheme,":");const S=r(v);if(S!==void 0&&(w.reference!=="suffix"&&_.push("//"),_.push(S),v.path&&v.path.charAt(0)!=="/"&&_.push("/")),v.path!==void 0){let T=v.path;!w.absolutePath&&(!C||!C.absolutePath)&&(T=n(T)),S===void 0&&(T=T.replace(/^\/\//u,"/%2F")),_.push(T)}return v.query!==void 0&&_.push("?",v.query),v.fragment!==void 0&&_.push("#",v.fragment),_.join("")}const d=Array.from({length:127},(g,y)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(y)));function f(g){let y=0;for(let v=0,w=g.length;v<w;++v)if(y=g.charCodeAt(v),y>126||d[y])return!0;return!1}const h=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function p(g,y){const v=Object.assign({},y),w={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},_=g.indexOf("%")!==-1;let C=!1;v.reference==="suffix"&&(g=(v.scheme?v.scheme+":":"")+"//"+g);const S=g.match(h);if(S){if(w.scheme=S[1],w.userinfo=S[3],w.host=S[4],w.port=parseInt(S[5],10),w.path=S[6]||"",w.query=S[7],w.fragment=S[8],isNaN(w.port)&&(w.port=S[5]),w.host){const k=t(w.host);if(k.isIPV4===!1){const I=e(k.host);w.host=I.host.toLowerCase(),C=I.isIPV6}else w.host=k.host,C=!0}w.scheme===void 0&&w.userinfo===void 0&&w.host===void 0&&w.port===void 0&&!w.path&&w.query===void 0?w.reference="same-document":w.scheme===void 0?w.reference="relative":w.fragment===void 0?w.reference="absolute":w.reference="uri",v.reference&&v.reference!=="suffix"&&v.reference!==w.reference&&(w.error=w.error||"URI is not a "+v.reference+" reference.");const T=s[(v.scheme||w.scheme||"").toLowerCase()];if(!v.unicodeSupport&&(!T||!T.unicodeSupport)&&w.host&&(v.domainHost||T&&T.domainHost)&&C===!1&&f(w.host))try{w.host=URL.domainToASCII(w.host.toLowerCase())}catch(k){w.error=w.error||"Host's domain name can not be converted to ASCII: "+k}(!T||T&&!T.skipNormalize)&&(_&&w.scheme!==void 0&&(w.scheme=unescape(w.scheme)),_&&w.host!==void 0&&(w.host=unescape(w.host)),w.path&&w.path.length&&(w.path=escape(unescape(w.path))),w.fragment&&w.fragment.length&&(w.fragment=encodeURI(decodeURIComponent(w.fragment)))),T&&T.parse&&T.parse(w,v)}else w.error=w.error||"URI can not be parsed.";return w}const m={SCHEMES:s,normalize:o,resolve:a,resolveComponents:l,equal:u,serialize:c,parse:p};return H2.exports=m,H2.exports.default=m,H2.exports.fastUri=m,H2.exports}var m1e;function Usn(){if(m1e)return E3;m1e=1,Object.defineProperty(E3,"__esModule",{value:!0});const e=zsn();return e.code='require("ajv/dist/runtime/uri").default',E3.default=e,E3}var g1e;function Vsn(){return g1e||(g1e=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=D8();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=xr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=pie(),i=P8(),s=jLe(),o=mie(),a=xr(),l=I8(),u=s5(),c=ei(),d=Fsn,f=Usn(),h=(V,L)=>new RegExp(V,L);h.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],m=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},y={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},v=200;function w(V){var L,z,U,G,Q,ne,ue,se,ae,he,ie,le,Ee,X,fe,de,te,ee,me,Re,Te,we,$e,Ae,Oe;const xe=V.strict,je=(L=V.code)===null||L===void 0?void 0:L.optimize,Ue=je===!0||je===void 0?1:je||0,nt=(U=(z=V.code)===null||z===void 0?void 0:z.regExp)!==null&&U!==void 0?U:h,it=(G=V.uriResolver)!==null&&G!==void 0?G:f.default;return{strictSchema:(ne=(Q=V.strictSchema)!==null&&Q!==void 0?Q:xe)!==null&&ne!==void 0?ne:!0,strictNumbers:(se=(ue=V.strictNumbers)!==null&&ue!==void 0?ue:xe)!==null&&se!==void 0?se:!0,strictTypes:(he=(ae=V.strictTypes)!==null&&ae!==void 0?ae:xe)!==null&&he!==void 0?he:"log",strictTuples:(le=(ie=V.strictTuples)!==null&&ie!==void 0?ie:xe)!==null&&le!==void 0?le:"log",strictRequired:(X=(Ee=V.strictRequired)!==null&&Ee!==void 0?Ee:xe)!==null&&X!==void 0?X:!1,code:V.code?{...V.code,optimize:Ue,regExp:nt}:{optimize:Ue,regExp:nt},loopRequired:(fe=V.loopRequired)!==null&&fe!==void 0?fe:v,loopEnum:(de=V.loopEnum)!==null&&de!==void 0?de:v,meta:(te=V.meta)!==null&&te!==void 0?te:!0,messages:(ee=V.messages)!==null&&ee!==void 0?ee:!0,inlineRefs:(me=V.inlineRefs)!==null&&me!==void 0?me:!0,schemaId:(Re=V.schemaId)!==null&&Re!==void 0?Re:"$id",addUsedSchema:(Te=V.addUsedSchema)!==null&&Te!==void 0?Te:!0,validateSchema:(we=V.validateSchema)!==null&&we!==void 0?we:!0,validateFormats:($e=V.validateFormats)!==null&&$e!==void 0?$e:!0,unicodeRegExp:(Ae=V.unicodeRegExp)!==null&&Ae!==void 0?Ae:!0,int32range:(Oe=V.int32range)!==null&&Oe!==void 0?Oe:!0,uriResolver:it}}class _{constructor(L={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,L=this.opts={...L,...w(L)};const{es5:z,lines:U}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:m,es5:z,lines:U}),this.logger=N(L.logger);const G=L.validateFormats;L.validateFormats=!1,this.RULES=(0,s.getRules)(),C.call(this,g,L,"NOT SUPPORTED"),C.call(this,y,L,"DEPRECATED","warn"),this._metaOpts=R.call(this),L.formats&&k.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),L.keywords&&I.call(this,L.keywords),typeof L.meta=="object"&&this.addMetaSchema(L.meta),T.call(this),L.validateFormats=G}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:L,meta:z,schemaId:U}=this.opts;let G=d;U==="id"&&(G={...d},G.id=G.$id,delete G.$id),z&&L&&this.addMetaSchema(G,G[U],!1)}defaultMeta(){const{meta:L,schemaId:z}=this.opts;return this.opts.defaultMeta=typeof L=="object"?L[z]||L:void 0}validate(L,z){let U;if(typeof L=="string"){if(U=this.getSchema(L),!U)throw new Error(`no schema with key or ref "${L}"`)}else U=this.compile(L);const G=U(z);return"$async"in U||(this.errors=U.errors),G}compile(L,z){const U=this._addSchema(L,z);return U.validate||this._compileSchemaEnv(U)}compileAsync(L,z){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:U}=this.opts;return G.call(this,L,z);async function G(he,ie){await Q.call(this,he.$schema);const le=this._addSchema(he,ie);return le.validate||ne.call(this,le)}async function Q(he){he&&!this.getSchema(he)&&await G.call(this,{$ref:he},!0)}async function ne(he){try{return this._compileSchemaEnv(he)}catch(ie){if(!(ie instanceof i.default))throw ie;return ue.call(this,ie),await se.call(this,ie.missingSchema),ne.call(this,he)}}function ue({missingSchema:he,missingRef:ie}){if(this.refs[he])throw new Error(`AnySchema ${he} is loaded but ${ie} cannot be resolved`)}async function se(he){const ie=await ae.call(this,he);this.refs[he]||await Q.call(this,ie.$schema),this.refs[he]||this.addSchema(ie,he,z)}async function ae(he){const ie=this._loading[he];if(ie)return ie;try{return await(this._loading[he]=U(he))}finally{delete this._loading[he]}}}addSchema(L,z,U,G=this.opts.validateSchema){if(Array.isArray(L)){for(const ne of L)this.addSchema(ne,void 0,U,G);return this}let Q;if(typeof L=="object"){const{schemaId:ne}=this.opts;if(Q=L[ne],Q!==void 0&&typeof Q!="string")throw new Error(`schema ${ne} must be string`)}return z=(0,l.normalizeId)(z||Q),this._checkUnique(z),this.schemas[z]=this._addSchema(L,U,z,G,!0),this}addMetaSchema(L,z,U=this.opts.validateSchema){return this.addSchema(L,z,!0,U),this}validateSchema(L,z){if(typeof L=="boolean")return!0;let U;if(U=L.$schema,U!==void 0&&typeof U!="string")throw new Error("$schema must be a string");if(U=U||this.opts.defaultMeta||this.defaultMeta(),!U)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const G=this.validate(U,L);if(!G&&z){const Q="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(Q);else throw new Error(Q)}return G}getSchema(L){let z;for(;typeof(z=S.call(this,L))=="string";)L=z;if(z===void 0){const{schemaId:U}=this.opts,G=new o.SchemaEnv({schema:{},schemaId:U});if(z=o.resolveSchema.call(this,G,L),!z)return;this.refs[L]=z}return z.validate||this._compileSchemaEnv(z)}removeSchema(L){if(L instanceof RegExp)return this._removeAllSchemas(this.schemas,L),this._removeAllSchemas(this.refs,L),this;switch(typeof L){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const z=S.call(this,L);return typeof z=="object"&&this._cache.delete(z.schema),delete this.schemas[L],delete this.refs[L],this}case"object":{const z=L;this._cache.delete(z);let U=L[this.opts.schemaId];return U&&(U=(0,l.normalizeId)(U),delete this.schemas[U],delete this.refs[U]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(L){for(const z of L)this.addKeyword(z);return this}addKeyword(L,z){let U;if(typeof L=="string")U=L,typeof z=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),z.keyword=U);else if(typeof L=="object"&&z===void 0){if(z=L,U=z.keyword,Array.isArray(U)&&!U.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(O.call(this,U,z),!z)return(0,c.eachItem)(U,Q=>j.call(this,Q)),this;H.call(this,z);const G={...z,type:(0,u.getJSONTypes)(z.type),schemaType:(0,u.getJSONTypes)(z.schemaType)};return(0,c.eachItem)(U,G.type.length===0?Q=>j.call(this,Q,G):Q=>G.type.forEach(ne=>j.call(this,Q,G,ne))),this}getKeyword(L){const z=this.RULES.all[L];return typeof z=="object"?z.definition:!!z}removeKeyword(L){const{RULES:z}=this;delete z.keywords[L],delete z.all[L];for(const U of z.rules){const G=U.rules.findIndex(Q=>Q.keyword===L);G>=0&&U.rules.splice(G,1)}return this}addFormat(L,z){return typeof z=="string"&&(z=new RegExp(z)),this.formats[L]=z,this}errorsText(L=this.errors,{separator:z=", ",dataVar:U="data"}={}){return!L||L.length===0?"No errors":L.map(G=>`${U}${G.instancePath} ${G.message}`).reduce((G,Q)=>G+z+Q)}$dataMetaSchema(L,z){const U=this.RULES.all;L=JSON.parse(JSON.stringify(L));for(const G of z){const Q=G.split("/").slice(1);let ne=L;for(const ue of Q)ne=ne[ue];for(const ue in U){const se=U[ue];if(typeof se!="object")continue;const{$data:ae}=se.definition,he=ne[ue];ae&&he&&(ne[ue]=Y(he))}}return L}_removeAllSchemas(L,z){for(const U in L){const G=L[U];(!z||z.test(U))&&(typeof G=="string"?delete L[U]:G&&!G.meta&&(this._cache.delete(G.schema),delete L[U]))}}_addSchema(L,z,U,G=this.opts.validateSchema,Q=this.opts.addUsedSchema){let ne;const{schemaId:ue}=this.opts;if(typeof L=="object")ne=L[ue];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof L!="boolean")throw new Error("schema must be object or boolean")}let se=this._cache.get(L);if(se!==void 0)return se;U=(0,l.normalizeId)(ne||U);const ae=l.getSchemaRefs.call(this,L,U);return se=new o.SchemaEnv({schema:L,schemaId:ue,meta:z,baseId:U,localRefs:ae}),this._cache.set(se.schema,se),Q&&!U.startsWith("#")&&(U&&this._checkUnique(U),this.refs[U]=se),G&&this.validateSchema(L,!0),se}_checkUnique(L){if(this.schemas[L]||this.refs[L])throw new Error(`schema with key or id "${L}" already exists`)}_compileSchemaEnv(L){if(L.meta?this._compileMetaSchema(L):o.compileSchema.call(this,L),!L.validate)throw new Error("ajv implementation error");return L.validate}_compileMetaSchema(L){const z=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,L)}finally{this.opts=z}}}_.ValidationError=r.default,_.MissingRefError=i.default,e.default=_;function C(V,L,z,U="error"){for(const G in V){const Q=G;Q in L&&this.logger[U](`${z}: option ${G}. ${V[Q]}`)}}function S(V){return V=(0,l.normalizeId)(V),this.schemas[V]||this.refs[V]}function T(){const V=this.opts.schemas;if(V)if(Array.isArray(V))this.addSchema(V);else for(const L in V)this.addSchema(V[L],L)}function k(){for(const V in this.opts.formats){const L=this.opts.formats[V];L&&this.addFormat(V,L)}}function I(V){if(Array.isArray(V)){this.addVocabulary(V);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const L in V){const z=V[L];z.keyword||(z.keyword=L),this.addKeyword(z)}}function R(){const V={...this.opts};for(const L of p)delete V[L];return V}const P={log(){},warn(){},error(){}};function N(V){if(V===!1)return P;if(V===void 0)return console;if(V.log&&V.warn&&V.error)return V;throw new Error("logger must implement log, warn and error methods")}const $=/^[a-z_$][a-z0-9_$:-]*$/i;function O(V,L){const{RULES:z}=this;if((0,c.eachItem)(V,U=>{if(z.keywords[U])throw new Error(`Keyword ${U} is already defined`);if(!$.test(U))throw new Error(`Keyword ${U} has invalid name`)}),!!L&&L.$data&&!("code"in L||"validate"in L))throw new Error('$data keyword must have "code" or "validate" function')}function j(V,L,z){var U;const G=L?.post;if(z&&G)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:Q}=this;let ne=G?Q.post:Q.rules.find(({type:se})=>se===z);if(ne||(ne={type:z,rules:[]},Q.rules.push(ne)),Q.keywords[V]=!0,!L)return;const ue={keyword:V,definition:{...L,type:(0,u.getJSONTypes)(L.type),schemaType:(0,u.getJSONTypes)(L.schemaType)}};L.before?B.call(this,ne,ue,L.before):ne.rules.push(ue),Q.all[V]=ue,(U=L.implements)===null||U===void 0||U.forEach(se=>this.addKeyword(se))}function B(V,L,z){const U=V.rules.findIndex(G=>G.keyword===z);U>=0?V.rules.splice(U,0,L):(V.rules.push(L),this.logger.warn(`rule ${z} is not defined`))}function H(V){let{metaSchema:L}=V;L!==void 0&&(V.$data&&this.opts.$data&&(L=Y(L)),V.validateSchema=this.compile(L,!0))}const q={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Y(V){return{anyOf:[V,q]}}})(rU)),rU}var S3={},T3={},k3={},y1e;function Hsn(){if(y1e)return k3;y1e=1,Object.defineProperty(k3,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return k3.default=e,k3}var cg={},v1e;function qsn(){if(v1e)return cg;v1e=1,Object.defineProperty(cg,"__esModule",{value:!0}),cg.callRef=cg.getValidate=void 0;const e=P8(),t=lh(),n=xr(),r=pv(),i=mie(),s=ei(),o={keyword:"$ref",schemaType:"string",code(u){const{gen:c,schema:d,it:f}=u,{baseId:h,schemaEnv:p,validateName:m,opts:g,self:y}=f,{root:v}=p;if((d==="#"||d==="#/")&&h===v.baseId)return _();const w=i.resolveRef.call(y,v,h,d);if(w===void 0)throw new e.default(f.opts.uriResolver,h,d);if(w instanceof i.SchemaEnv)return C(w);return S(w);function _(){if(p===v)return l(u,m,p,p.$async);const T=c.scopeValue("root",{ref:v});return l(u,(0,n._)`${T}.validate`,v,v.$async)}function C(T){const k=a(u,T);l(u,k,T,T.$async)}function S(T){const k=c.scopeValue("schema",g.code.source===!0?{ref:T,code:(0,n.stringify)(T)}:{ref:T}),I=c.name("valid"),R=u.subschema({schema:T,dataTypes:[],schemaPath:n.nil,topSchemaRef:k,errSchemaPath:d},I);u.mergeEvaluated(R),u.ok(I)}}};function a(u,c){const{gen:d}=u;return c.validate?d.scopeValue("validate",{ref:c.validate}):(0,n._)`${d.scopeValue("wrapper",{ref:c})}.validate`}cg.getValidate=a;function l(u,c,d,f){const{gen:h,it:p}=u,{allErrors:m,schemaEnv:g,opts:y}=p,v=y.passContext?r.default.this:n.nil;f?w():_();function w(){if(!g.$async)throw new Error("async schema referenced by sync schema");const T=h.let("valid");h.try(()=>{h.code((0,n._)`await ${(0,t.callValidateCode)(u,c,v)}`),S(c),m||h.assign(T,!0)},k=>{h.if((0,n._)`!(${k} instanceof ${p.ValidationError})`,()=>h.throw(k)),C(k),m||h.assign(T,!1)}),u.ok(T)}function _(){u.result((0,t.callValidateCode)(u,c,v),()=>S(c),()=>C(c))}function C(T){const k=(0,n._)`${T}.errors`;h.assign(r.default.vErrors,(0,n._)`${r.default.vErrors} === null ? ${k} : ${r.default.vErrors}.concat(${k})`),h.assign(r.default.errors,(0,n._)`${r.default.vErrors}.length`)}function S(T){var k;if(!p.opts.unevaluated)return;const I=(k=d?.validate)===null||k===void 0?void 0:k.evaluated;if(p.props!==!0)if(I&&!I.dynamicProps)I.props!==void 0&&(p.props=s.mergeEvaluated.props(h,I.props,p.props));else{const R=h.var("props",(0,n._)`${T}.evaluated.props`);p.props=s.mergeEvaluated.props(h,R,p.props,n.Name)}if(p.items!==!0)if(I&&!I.dynamicItems)I.items!==void 0&&(p.items=s.mergeEvaluated.items(h,I.items,p.items));else{const R=h.var("items",(0,n._)`${T}.evaluated.items`);p.items=s.mergeEvaluated.items(h,R,p.items,n.Name)}}}return cg.callRef=l,cg.default=o,cg}var b1e;function Wsn(){if(b1e)return T3;b1e=1,Object.defineProperty(T3,"__esModule",{value:!0});const e=Hsn(),t=qsn(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return T3.default=n,T3}var A3={},R3={},w1e;function Gsn(){if(w1e)return R3;w1e=1,Object.defineProperty(R3,"__esModule",{value:!0});const e=xr(),t=e.operators,n={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},r={message:({keyword:s,schemaCode:o})=>(0,e.str)`must be ${n[s].okStr} ${o}`,params:({keyword:s,schemaCode:o})=>(0,e._)`{comparison: ${n[s].okStr}, limit: ${o}}`},i={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:r,code(s){const{keyword:o,data:a,schemaCode:l}=s;s.fail$data((0,e._)`${a} ${n[o].fail} ${l} || isNaN(${a})`)}};return R3.default=i,R3}var I3={},x1e;function Ysn(){if(x1e)return I3;x1e=1,Object.defineProperty(I3,"__esModule",{value:!0});const e=xr(),n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,e._)`{multipleOf: ${r}}`},code(r){const{gen:i,data:s,schemaCode:o,it:a}=r,l=a.opts.multipleOfPrecision,u=i.let("res"),c=l?(0,e._)`Math.abs(Math.round(${u}) - ${u}) > 1e-${l}`:(0,e._)`${u} !== parseInt(${u})`;r.fail$data((0,e._)`(${o} === 0 || (${u} = ${s}/${o}, ${c}))`)}};return I3.default=n,I3}var D3={},P3={},_1e;function Ksn(){if(_1e)return P3;_1e=1,Object.defineProperty(P3,"__esModule",{value:!0});function e(t){const n=t.length;let r=0,i=0,s;for(;i<n;)r++,s=t.charCodeAt(i++),s>=55296&&s<=56319&&i<n&&(s=t.charCodeAt(i),(s&64512)===56320&&i++);return r}return P3.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',P3}var C1e;function Xsn(){if(C1e)return D3;C1e=1,Object.defineProperty(D3,"__esModule",{value:!0});const e=xr(),t=ei(),n=Ksn(),i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:s,schemaCode:o}){const a=s==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${o} characters`},params:({schemaCode:s})=>(0,e._)`{limit: ${s}}`},code(s){const{keyword:o,data:a,schemaCode:l,it:u}=s,c=o==="maxLength"?e.operators.GT:e.operators.LT,d=u.opts.unicode===!1?(0,e._)`${a}.length`:(0,e._)`${(0,t.useFunc)(s.gen,n.default)}(${a})`;s.fail$data((0,e._)`${d} ${c} ${l}`)}};return D3.default=i,D3}var O3={},E1e;function Qsn(){if(E1e)return O3;E1e=1,Object.defineProperty(O3,"__esModule",{value:!0});const e=lh(),t=xr(),r={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:i})=>(0,t.str)`must match pattern "${i}"`,params:({schemaCode:i})=>(0,t._)`{pattern: ${i}}`},code(i){const{data:s,$data:o,schema:a,schemaCode:l,it:u}=i,c=u.opts.unicodeRegExp?"u":"",d=o?(0,t._)`(new RegExp(${l}, ${c}))`:(0,e.usePattern)(i,a);i.fail$data((0,t._)`!${d}.test(${s})`)}};return O3.default=r,O3}var N3={},S1e;function Jsn(){if(S1e)return N3;S1e=1,Object.defineProperty(N3,"__esModule",{value:!0});const e=xr(),n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const s=r==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${s} than ${i} properties`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:i,data:s,schemaCode:o}=r,a=i==="maxProperties"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`Object.keys(${s}).length ${a} ${o}`)}};return N3.default=n,N3}var $3={},T1e;function Zsn(){if(T1e)return $3;T1e=1,Object.defineProperty($3,"__esModule",{value:!0});const e=lh(),t=xr(),n=ei(),i={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:s}})=>(0,t.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,t._)`{missingProperty: ${s}}`},code(s){const{gen:o,schema:a,schemaCode:l,data:u,$data:c,it:d}=s,{opts:f}=d;if(!c&&a.length===0)return;const h=a.length>=f.loopRequired;if(d.allErrors?p():m(),f.strictRequired){const v=s.parentSchema.properties,{definedProperties:w}=s.it;for(const _ of a)if(v?.[_]===void 0&&!w.has(_)){const C=d.schemaEnv.baseId+d.errSchemaPath,S=`required property "${_}" is not defined at "${C}" (strictRequired)`;(0,n.checkStrictMode)(d,S,d.opts.strictRequired)}}function p(){if(h||c)s.block$data(t.nil,g);else for(const v of a)(0,e.checkReportMissingProp)(s,v)}function m(){const v=o.let("missing");if(h||c){const w=o.let("valid",!0);s.block$data(w,()=>y(v,w)),s.ok(w)}else o.if((0,e.checkMissingProp)(s,a,v)),(0,e.reportMissingProp)(s,v),o.else()}function g(){o.forOf("prop",l,v=>{s.setParams({missingProperty:v}),o.if((0,e.noPropertyInData)(o,u,v,f.ownProperties),()=>s.error())})}function y(v,w){s.setParams({missingProperty:v}),o.forOf(v,l,()=>{o.assign(w,(0,e.propertyInData)(o,u,v,f.ownProperties)),o.if((0,t.not)(w),()=>{s.error(),o.break()})},t.nil)}}};return $3.default=i,$3}var M3={},k1e;function eon(){if(k1e)return M3;k1e=1,Object.defineProperty(M3,"__esModule",{value:!0});const e=xr(),n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const s=r==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${s} than ${i} items`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:i,data:s,schemaCode:o}=r,a=i==="maxItems"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`${s}.length ${a} ${o}`)}};return M3.default=n,M3}var F3={},L3={},A1e;function gie(){if(A1e)return L3;A1e=1,Object.defineProperty(L3,"__esModule",{value:!0});const e=tZ();return e.code='require("ajv/dist/runtime/equal").default',L3.default=e,L3}var R1e;function ton(){if(R1e)return F3;R1e=1,Object.defineProperty(F3,"__esModule",{value:!0});const e=s5(),t=xr(),n=ei(),r=gie(),s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:o,j:a}})=>(0,t.str)`must NOT have duplicate items (items ## ${a} and ${o} are identical)`,params:({params:{i:o,j:a}})=>(0,t._)`{i: ${o}, j: ${a}}`},code(o){const{gen:a,data:l,$data:u,schema:c,parentSchema:d,schemaCode:f,it:h}=o;if(!u&&!c)return;const p=a.let("valid"),m=d.items?(0,e.getSchemaTypes)(d.items):[];o.block$data(p,g,(0,t._)`${f} === false`),o.ok(p);function g(){const _=a.let("i",(0,t._)`${l}.length`),C=a.let("j");o.setParams({i:_,j:C}),a.assign(p,!0),a.if((0,t._)`${_} > 1`,()=>(y()?v:w)(_,C))}function y(){return m.length>0&&!m.some(_=>_==="object"||_==="array")}function v(_,C){const S=a.name("item"),T=(0,e.checkDataTypes)(m,S,h.opts.strictNumbers,e.DataType.Wrong),k=a.const("indices",(0,t._)`{}`);a.for((0,t._)`;${_}--;`,()=>{a.let(S,(0,t._)`${l}[${_}]`),a.if(T,(0,t._)`continue`),m.length>1&&a.if((0,t._)`typeof ${S} == "string"`,(0,t._)`${S} += "_"`),a.if((0,t._)`typeof ${k}[${S}] == "number"`,()=>{a.assign(C,(0,t._)`${k}[${S}]`),o.error(),a.assign(p,!1).break()}).code((0,t._)`${k}[${S}] = ${_}`)})}function w(_,C){const S=(0,n.useFunc)(a,r.default),T=a.name("outer");a.label(T).for((0,t._)`;${_}--;`,()=>a.for((0,t._)`${C} = ${_}; ${C}--;`,()=>a.if((0,t._)`${S}(${l}[${_}], ${l}[${C}])`,()=>{o.error(),a.assign(p,!1).break(T)})))}}};return F3.default=s,F3}var j3={},I1e;function non(){if(I1e)return j3;I1e=1,Object.defineProperty(j3,"__esModule",{value:!0});const e=xr(),t=ei(),n=gie(),i={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:s})=>(0,e._)`{allowedValue: ${s}}`},code(s){const{gen:o,data:a,$data:l,schemaCode:u,schema:c}=s;l||c&&typeof c=="object"?s.fail$data((0,e._)`!${(0,t.useFunc)(o,n.default)}(${a}, ${u})`):s.fail((0,e._)`${c} !== ${a}`)}};return j3.default=i,j3}var B3={},D1e;function ron(){if(D1e)return B3;D1e=1,Object.defineProperty(B3,"__esModule",{value:!0});const e=xr(),t=ei(),n=gie(),i={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,e._)`{allowedValues: ${s}}`},code(s){const{gen:o,data:a,$data:l,schema:u,schemaCode:c,it:d}=s;if(!l&&u.length===0)throw new Error("enum must have non-empty array");const f=u.length>=d.opts.loopEnum;let h;const p=()=>h??(h=(0,t.useFunc)(o,n.default));let m;if(f||l)m=o.let("valid"),s.block$data(m,g);else{if(!Array.isArray(u))throw new Error("ajv implementation error");const v=o.const("vSchema",c);m=(0,e.or)(...u.map((w,_)=>y(v,_)))}s.pass(m);function g(){o.assign(m,!1),o.forOf("v",c,v=>o.if((0,e._)`${p()}(${a}, ${v})`,()=>o.assign(m,!0).break()))}function y(v,w){const _=u[w];return typeof _=="object"&&_!==null?(0,e._)`${p()}(${a}, ${v}[${w}])`:(0,e._)`${a} === ${_}`}}};return B3.default=i,B3}var P1e;function ion(){if(P1e)return A3;P1e=1,Object.defineProperty(A3,"__esModule",{value:!0});const e=Gsn(),t=Ysn(),n=Xsn(),r=Qsn(),i=Jsn(),s=Zsn(),o=eon(),a=ton(),l=non(),u=ron(),c=[e.default,t.default,n.default,r.default,i.default,s.default,o.default,a.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,u.default];return A3.default=c,A3}var z3={},rx={},O1e;function zLe(){if(O1e)return rx;O1e=1,Object.defineProperty(rx,"__esModule",{value:!0}),rx.validateAdditionalItems=void 0;const e=xr(),t=ei(),r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:s}})=>(0,e.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,e._)`{limit: ${s}}`},code(s){const{parentSchema:o,it:a}=s,{items:l}=o;if(!Array.isArray(l)){(0,t.checkStrictMode)(a,'"additionalItems" is ignored when "items" is not an array of schemas');return}i(s,l)}};function i(s,o){const{gen:a,schema:l,data:u,keyword:c,it:d}=s;d.items=!0;const f=a.const("len",(0,e._)`${u}.length`);if(l===!1)s.setParams({len:o.length}),s.pass((0,e._)`${f} <= ${o.length}`);else if(typeof l=="object"&&!(0,t.alwaysValidSchema)(d,l)){const p=a.var("valid",(0,e._)`${f} <= ${o.length}`);a.if((0,e.not)(p),()=>h(p)),s.ok(p)}function h(p){a.forRange("i",o.length,f,m=>{s.subschema({keyword:c,dataProp:m,dataPropType:t.Type.Num},p),d.allErrors||a.if((0,e.not)(p),()=>a.break())})}}return rx.validateAdditionalItems=i,rx.default=r,rx}var U3={},ix={},N1e;function ULe(){if(N1e)return ix;N1e=1,Object.defineProperty(ix,"__esModule",{value:!0}),ix.validateTuple=void 0;const e=xr(),t=ei(),n=lh(),r={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){const{schema:o,it:a}=s;if(Array.isArray(o))return i(s,"additionalItems",o);a.items=!0,!(0,t.alwaysValidSchema)(a,o)&&s.ok((0,n.validateArray)(s))}};function i(s,o,a=s.schema){const{gen:l,parentSchema:u,data:c,keyword:d,it:f}=s;m(u),f.opts.unevaluated&&a.length&&f.items!==!0&&(f.items=t.mergeEvaluated.items(l,a.length,f.items));const h=l.name("valid"),p=l.const("len",(0,e._)`${c}.length`);a.forEach((g,y)=>{(0,t.alwaysValidSchema)(f,g)||(l.if((0,e._)`${p} > ${y}`,()=>s.subschema({keyword:d,schemaProp:y,dataProp:y},h)),s.ok(h))});function m(g){const{opts:y,errSchemaPath:v}=f,w=a.length,_=w===g.minItems&&(w===g.maxItems||g[o]===!1);if(y.strictTuples&&!_){const C=`"${d}" is ${w}-tuple, but minItems or maxItems/${o} are not specified or different at path "${v}"`;(0,t.checkStrictMode)(f,C,y.strictTuples)}}}return ix.validateTuple=i,ix.default=r,ix}var $1e;function son(){if($1e)return U3;$1e=1,Object.defineProperty(U3,"__esModule",{value:!0});const e=ULe(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,e.validateTuple)(n,"items")};return U3.default=t,U3}var V3={},M1e;function oon(){if(M1e)return V3;M1e=1,Object.defineProperty(V3,"__esModule",{value:!0});const e=xr(),t=ei(),n=lh(),r=zLe(),s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,e.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,e._)`{limit: ${o}}`},code(o){const{schema:a,parentSchema:l,it:u}=o,{prefixItems:c}=l;u.items=!0,!(0,t.alwaysValidSchema)(u,a)&&(c?(0,r.validateAdditionalItems)(o,c):o.ok((0,n.validateArray)(o)))}};return V3.default=s,V3}var H3={},F1e;function aon(){if(F1e)return H3;F1e=1,Object.defineProperty(H3,"__esModule",{value:!0});const e=xr(),t=ei(),r={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:i,max:s}})=>s===void 0?(0,e.str)`must contain at least ${i} valid item(s)`:(0,e.str)`must contain at least ${i} and no more than ${s} valid item(s)`,params:({params:{min:i,max:s}})=>s===void 0?(0,e._)`{minContains: ${i}}`:(0,e._)`{minContains: ${i}, maxContains: ${s}}`},code(i){const{gen:s,schema:o,parentSchema:a,data:l,it:u}=i;let c,d;const{minContains:f,maxContains:h}=a;u.opts.next?(c=f===void 0?1:f,d=h):c=1;const p=s.const("len",(0,e._)`${l}.length`);if(i.setParams({min:c,max:d}),d===void 0&&c===0){(0,t.checkStrictMode)(u,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(d!==void 0&&c>d){(0,t.checkStrictMode)(u,'"minContains" > "maxContains" is always invalid'),i.fail();return}if((0,t.alwaysValidSchema)(u,o)){let w=(0,e._)`${p} >= ${c}`;d!==void 0&&(w=(0,e._)`${w} && ${p} <= ${d}`),i.pass(w);return}u.items=!0;const m=s.name("valid");d===void 0&&c===1?y(m,()=>s.if(m,()=>s.break())):c===0?(s.let(m,!0),d!==void 0&&s.if((0,e._)`${l}.length > 0`,g)):(s.let(m,!1),g()),i.result(m,()=>i.reset());function g(){const w=s.name("_valid"),_=s.let("count",0);y(w,()=>s.if(w,()=>v(_)))}function y(w,_){s.forRange("i",0,p,C=>{i.subschema({keyword:"contains",dataProp:C,dataPropType:t.Type.Num,compositeRule:!0},w),_()})}function v(w){s.code((0,e._)`${w}++`),d===void 0?s.if((0,e._)`${w} >= ${c}`,()=>s.assign(m,!0).break()):(s.if((0,e._)`${w} > ${d}`,()=>s.assign(m,!1).break()),c===1?s.assign(m,!0):s.if((0,e._)`${w} >= ${c}`,()=>s.assign(m,!0)))}}};return H3.default=r,H3}var fU={},L1e;function lon(){return L1e||(L1e=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=xr(),n=ei(),r=lh();e.error={message:({params:{property:l,depsCount:u,deps:c}})=>{const d=u===1?"property":"properties";return(0,t.str)`must have ${d} ${c} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:c,missingProperty:d}})=>(0,t._)`{property: ${l},
    missingProperty: ${d},
    depsCount: ${u},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,c]=s(l);o(l,u),a(l,c)}};function s({schema:l}){const u={},c={};for(const d in l){if(d==="__proto__")continue;const f=Array.isArray(l[d])?u:c;f[d]=l[d]}return[u,c]}function o(l,u=l.schema){const{gen:c,data:d,it:f}=l;if(Object.keys(u).length===0)return;const h=c.let("missing");for(const p in u){const m=u[p];if(m.length===0)continue;const g=(0,r.propertyInData)(c,d,p,f.opts.ownProperties);l.setParams({property:p,depsCount:m.length,deps:m.join(", ")}),f.allErrors?c.if(g,()=>{for(const y of m)(0,r.checkReportMissingProp)(l,y)}):(c.if((0,t._)`${g} && (${(0,r.checkMissingProp)(l,m,h)})`),(0,r.reportMissingProp)(l,h),c.else())}}e.validatePropertyDeps=o;function a(l,u=l.schema){const{gen:c,data:d,keyword:f,it:h}=l,p=c.name("valid");for(const m in u)(0,n.alwaysValidSchema)(h,u[m])||(c.if((0,r.propertyInData)(c,d,m,h.opts.ownProperties),()=>{const g=l.subschema({keyword:f,schemaProp:m},p);l.mergeValidEvaluated(g,p)},()=>c.var(p,!0)),l.ok(p))}e.validateSchemaDeps=a,e.default=i})(fU)),fU}var q3={},j1e;function uon(){if(j1e)return q3;j1e=1,Object.defineProperty(q3,"__esModule",{value:!0});const e=xr(),t=ei(),r={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:i})=>(0,e._)`{propertyName: ${i.propertyName}}`},code(i){const{gen:s,schema:o,data:a,it:l}=i;if((0,t.alwaysValidSchema)(l,o))return;const u=s.name("valid");s.forIn("key",a,c=>{i.setParams({propertyName:c}),i.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},u),s.if((0,e.not)(u),()=>{i.error(!0),l.allErrors||s.break()})}),i.ok(u)}};return q3.default=r,q3}var W3={},B1e;function VLe(){if(B1e)return W3;B1e=1,Object.defineProperty(W3,"__esModule",{value:!0});const e=lh(),t=xr(),n=pv(),r=ei(),s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:o})=>(0,t._)`{additionalProperty: ${o.additionalProperty}}`},code(o){const{gen:a,schema:l,parentSchema:u,data:c,errsCount:d,it:f}=o;if(!d)throw new Error("ajv implementation error");const{allErrors:h,opts:p}=f;if(f.props=!0,p.removeAdditional!=="all"&&(0,r.alwaysValidSchema)(f,l))return;const m=(0,e.allSchemaProperties)(u.properties),g=(0,e.allSchemaProperties)(u.patternProperties);y(),o.ok((0,t._)`${d} === ${n.default.errors}`);function y(){a.forIn("key",c,S=>{!m.length&&!g.length?_(S):a.if(v(S),()=>_(S))})}function v(S){let T;if(m.length>8){const k=(0,r.schemaRefOrVal)(f,u.properties,"properties");T=(0,e.isOwnProperty)(a,k,S)}else m.length?T=(0,t.or)(...m.map(k=>(0,t._)`${S} === ${k}`)):T=t.nil;return g.length&&(T=(0,t.or)(T,...g.map(k=>(0,t._)`${(0,e.usePattern)(o,k)}.test(${S})`))),(0,t.not)(T)}function w(S){a.code((0,t._)`delete ${c}[${S}]`)}function _(S){if(p.removeAdditional==="all"||p.removeAdditional&&l===!1){w(S);return}if(l===!1){o.setParams({additionalProperty:S}),o.error(),h||a.break();return}if(typeof l=="object"&&!(0,r.alwaysValidSchema)(f,l)){const T=a.name("valid");p.removeAdditional==="failing"?(C(S,T,!1),a.if((0,t.not)(T),()=>{o.reset(),w(S)})):(C(S,T),h||a.if((0,t.not)(T),()=>a.break()))}}function C(S,T,k){const I={keyword:"additionalProperties",dataProp:S,dataPropType:r.Type.Str};k===!1&&Object.assign(I,{compositeRule:!0,createErrors:!1,allErrors:!1}),o.subschema(I,T)}}};return W3.default=s,W3}var G3={},z1e;function con(){if(z1e)return G3;z1e=1,Object.defineProperty(G3,"__esModule",{value:!0});const e=D8(),t=lh(),n=ei(),r=VLe(),i={keyword:"properties",type:"object",schemaType:"object",code(s){const{gen:o,schema:a,parentSchema:l,data:u,it:c}=s;c.opts.removeAdditional==="all"&&l.additionalProperties===void 0&&r.default.code(new e.KeywordCxt(c,r.default,"additionalProperties"));const d=(0,t.allSchemaProperties)(a);for(const g of d)c.definedProperties.add(g);c.opts.unevaluated&&d.length&&c.props!==!0&&(c.props=n.mergeEvaluated.props(o,(0,n.toHash)(d),c.props));const f=d.filter(g=>!(0,n.alwaysValidSchema)(c,a[g]));if(f.length===0)return;const h=o.name("valid");for(const g of f)p(g)?m(g):(o.if((0,t.propertyInData)(o,u,g,c.opts.ownProperties)),m(g),c.allErrors||o.else().var(h,!0),o.endIf()),s.it.definedProperties.add(g),s.ok(h);function p(g){return c.opts.useDefaults&&!c.compositeRule&&a[g].default!==void 0}function m(g){s.subschema({keyword:"properties",schemaProp:g,dataProp:g},h)}}};return G3.default=i,G3}var Y3={},U1e;function don(){if(U1e)return Y3;U1e=1,Object.defineProperty(Y3,"__esModule",{value:!0});const e=lh(),t=xr(),n=ei(),r=ei(),i={keyword:"patternProperties",type:"object",schemaType:"object",code(s){const{gen:o,schema:a,data:l,parentSchema:u,it:c}=s,{opts:d}=c,f=(0,e.allSchemaProperties)(a),h=f.filter(_=>(0,n.alwaysValidSchema)(c,a[_]));if(f.length===0||h.length===f.length&&(!c.opts.unevaluated||c.props===!0))return;const p=d.strictSchema&&!d.allowMatchingProperties&&u.properties,m=o.name("valid");c.props!==!0&&!(c.props instanceof t.Name)&&(c.props=(0,r.evaluatedPropsToName)(o,c.props));const{props:g}=c;y();function y(){for(const _ of f)p&&v(_),c.allErrors?w(_):(o.var(m,!0),w(_),o.if(m))}function v(_){for(const C in p)new RegExp(_).test(C)&&(0,n.checkStrictMode)(c,`property ${C} matches pattern ${_} (use allowMatchingProperties)`)}function w(_){o.forIn("key",l,C=>{o.if((0,t._)`${(0,e.usePattern)(s,_)}.test(${C})`,()=>{const S=h.includes(_);S||s.subschema({keyword:"patternProperties",schemaProp:_,dataProp:C,dataPropType:r.Type.Str},m),c.opts.unevaluated&&g!==!0?o.assign((0,t._)`${g}[${C}]`,!0):!S&&!c.allErrors&&o.if((0,t.not)(m),()=>o.break())})})}}};return Y3.default=i,Y3}var K3={},V1e;function fon(){if(V1e)return K3;V1e=1,Object.defineProperty(K3,"__esModule",{value:!0});const e=ei(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:r,schema:i,it:s}=n;if((0,e.alwaysValidSchema)(s,i)){n.fail();return}const o=r.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),n.failResult(o,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};return K3.default=t,K3}var X3={},H1e;function hon(){if(H1e)return X3;H1e=1,Object.defineProperty(X3,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:lh().validateUnion,error:{message:"must match a schema in anyOf"}};return X3.default=t,X3}var Q3={},q1e;function pon(){if(q1e)return Q3;q1e=1,Object.defineProperty(Q3,"__esModule",{value:!0});const e=xr(),t=ei(),r={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:i})=>(0,e._)`{passingSchemas: ${i.passing}}`},code(i){const{gen:s,schema:o,parentSchema:a,it:l}=i;if(!Array.isArray(o))throw new Error("ajv implementation error");if(l.opts.discriminator&&a.discriminator)return;const u=o,c=s.let("valid",!1),d=s.let("passing",null),f=s.name("_valid");i.setParams({passing:d}),s.block(h),i.result(c,()=>i.reset(),()=>i.error(!0));function h(){u.forEach((p,m)=>{let g;(0,t.alwaysValidSchema)(l,p)?s.var(f,!0):g=i.subschema({keyword:"oneOf",schemaProp:m,compositeRule:!0},f),m>0&&s.if((0,e._)`${f} && ${c}`).assign(c,!1).assign(d,(0,e._)`[${d}, ${m}]`).else(),s.if(f,()=>{s.assign(c,!0),s.assign(d,m),g&&i.mergeEvaluated(g,e.Name)})})}}};return Q3.default=r,Q3}var J3={},W1e;function mon(){if(W1e)return J3;W1e=1,Object.defineProperty(J3,"__esModule",{value:!0});const e=ei(),t={keyword:"allOf",schemaType:"array",code(n){const{gen:r,schema:i,it:s}=n;if(!Array.isArray(i))throw new Error("ajv implementation error");const o=r.name("valid");i.forEach((a,l)=>{if((0,e.alwaysValidSchema)(s,a))return;const u=n.subschema({keyword:"allOf",schemaProp:l},o);n.ok(o),n.mergeEvaluated(u)})}};return J3.default=t,J3}var Z3={},G1e;function gon(){if(G1e)return Z3;G1e=1,Object.defineProperty(Z3,"__esModule",{value:!0});const e=xr(),t=ei(),r={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:s})=>(0,e.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,e._)`{failingKeyword: ${s.ifClause}}`},code(s){const{gen:o,parentSchema:a,it:l}=s;a.then===void 0&&a.else===void 0&&(0,t.checkStrictMode)(l,'"if" without "then" and "else" is ignored');const u=i(l,"then"),c=i(l,"else");if(!u&&!c)return;const d=o.let("valid",!0),f=o.name("_valid");if(h(),s.reset(),u&&c){const m=o.let("ifClause");s.setParams({ifClause:m}),o.if(f,p("then",m),p("else",m))}else u?o.if(f,p("then")):o.if((0,e.not)(f),p("else"));s.pass(d,()=>s.error(!0));function h(){const m=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},f);s.mergeEvaluated(m)}function p(m,g){return()=>{const y=s.subschema({keyword:m},f);o.assign(d,f),s.mergeValidEvaluated(y,d),g?o.assign(g,(0,e._)`${m}`):s.setParams({ifClause:m})}}}};function i(s,o){const a=s.schema[o];return a!==void 0&&!(0,t.alwaysValidSchema)(s,a)}return Z3.default=r,Z3}var eP={},Y1e;function yon(){if(Y1e)return eP;Y1e=1,Object.defineProperty(eP,"__esModule",{value:!0});const e=ei(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:r,it:i}){r.if===void 0&&(0,e.checkStrictMode)(i,`"${n}" without "if" is ignored`)}};return eP.default=t,eP}var K1e;function von(){if(K1e)return z3;K1e=1,Object.defineProperty(z3,"__esModule",{value:!0});const e=zLe(),t=son(),n=ULe(),r=oon(),i=aon(),s=lon(),o=uon(),a=VLe(),l=con(),u=don(),c=fon(),d=hon(),f=pon(),h=mon(),p=gon(),m=yon();function g(y=!1){const v=[c.default,d.default,f.default,h.default,p.default,m.default,o.default,a.default,s.default,l.default,u.default];return y?v.push(t.default,r.default):v.push(e.default,n.default),v.push(i.default),v}return z3.default=g,z3}var tP={},nP={},X1e;function bon(){if(X1e)return nP;X1e=1,Object.defineProperty(nP,"__esModule",{value:!0});const e=xr(),n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,e._)`{format: ${r}}`},code(r,i){const{gen:s,data:o,$data:a,schema:l,schemaCode:u,it:c}=r,{opts:d,errSchemaPath:f,schemaEnv:h,self:p}=c;if(!d.validateFormats)return;a?m():g();function m(){const y=s.scopeValue("formats",{ref:p.formats,code:d.code.formats}),v=s.const("fDef",(0,e._)`${y}[${u}]`),w=s.let("fType"),_=s.let("format");s.if((0,e._)`typeof ${v} == "object" && !(${v} instanceof RegExp)`,()=>s.assign(w,(0,e._)`${v}.type || "string"`).assign(_,(0,e._)`${v}.validate`),()=>s.assign(w,(0,e._)`"string"`).assign(_,v)),r.fail$data((0,e.or)(C(),S()));function C(){return d.strictSchema===!1?e.nil:(0,e._)`${u} && !${_}`}function S(){const T=h.$async?(0,e._)`(${v}.async ? await ${_}(${o}) : ${_}(${o}))`:(0,e._)`${_}(${o})`,k=(0,e._)`(typeof ${_} == "function" ? ${T} : ${_}.test(${o}))`;return(0,e._)`${_} && ${_} !== true && ${w} === ${i} && !${k}`}}function g(){const y=p.formats[l];if(!y){C();return}if(y===!0)return;const[v,w,_]=S(y);v===i&&r.pass(T());function C(){if(d.strictSchema===!1){p.logger.warn(k());return}throw new Error(k());function k(){return`unknown format "${l}" ignored in schema at path "${f}"`}}function S(k){const I=k instanceof RegExp?(0,e.regexpCode)(k):d.code.formats?(0,e._)`${d.code.formats}${(0,e.getProperty)(l)}`:void 0,R=s.scopeValue("formats",{key:l,ref:k,code:I});return typeof k=="object"&&!(k instanceof RegExp)?[k.type||"string",k.validate,(0,e._)`${R}.validate`]:["string",k,R]}function T(){if(typeof y=="object"&&!(y instanceof RegExp)&&y.async){if(!h.$async)throw new Error("async format in sync schema");return(0,e._)`await ${_}(${o})`}return typeof w=="function"?(0,e._)`${_}(${o})`:(0,e._)`${_}.test(${o})`}}}};return nP.default=n,nP}var Q1e;function won(){if(Q1e)return tP;Q1e=1,Object.defineProperty(tP,"__esModule",{value:!0});const t=[bon().default];return tP.default=t,tP}var Hv={},J1e;function xon(){return J1e||(J1e=1,Object.defineProperty(Hv,"__esModule",{value:!0}),Hv.contentVocabulary=Hv.metadataVocabulary=void 0,Hv.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Hv.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),Hv}var Z1e;function _on(){if(Z1e)return S3;Z1e=1,Object.defineProperty(S3,"__esModule",{value:!0});const e=Wsn(),t=ion(),n=von(),r=won(),i=xon(),s=[e.default,t.default,(0,n.default)(),r.default,i.metadataVocabulary,i.contentVocabulary];return S3.default=s,S3}var rP={},q2={},ebe;function Con(){if(ebe)return q2;ebe=1,Object.defineProperty(q2,"__esModule",{value:!0}),q2.DiscrError=void 0;var e;return(function(t){t.Tag="tag",t.Mapping="mapping"})(e||(q2.DiscrError=e={})),q2}var tbe;function Eon(){if(tbe)return rP;tbe=1,Object.defineProperty(rP,"__esModule",{value:!0});const e=xr(),t=Con(),n=mie(),r=P8(),i=ei(),o={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:a,tagName:l}})=>a===t.DiscrError.Tag?`tag "${l}" must be string`:`value of tag "${l}" must be in oneOf`,params:({params:{discrError:a,tag:l,tagName:u}})=>(0,e._)`{error: ${a}, tag: ${u}, tagValue: ${l}}`},code(a){const{gen:l,data:u,schema:c,parentSchema:d,it:f}=a,{oneOf:h}=d;if(!f.opts.discriminator)throw new Error("discriminator: requires discriminator option");const p=c.propertyName;if(typeof p!="string")throw new Error("discriminator: requires propertyName");if(c.mapping)throw new Error("discriminator: mapping is not supported");if(!h)throw new Error("discriminator: requires oneOf keyword");const m=l.let("valid",!1),g=l.const("tag",(0,e._)`${u}${(0,e.getProperty)(p)}`);l.if((0,e._)`typeof ${g} == "string"`,()=>y(),()=>a.error(!1,{discrError:t.DiscrError.Tag,tag:g,tagName:p})),a.ok(m);function y(){const _=w();l.if(!1);for(const C in _)l.elseIf((0,e._)`${g} === ${C}`),l.assign(m,v(_[C]));l.else(),a.error(!1,{discrError:t.DiscrError.Mapping,tag:g,tagName:p}),l.endIf()}function v(_){const C=l.name("valid"),S=a.subschema({keyword:"oneOf",schemaProp:_},C);return a.mergeEvaluated(S,e.Name),C}function w(){var _;const C={},S=k(d);let T=!0;for(let P=0;P<h.length;P++){let N=h[P];if(N?.$ref&&!(0,i.schemaHasRulesButRef)(N,f.self.RULES)){const O=N.$ref;if(N=n.resolveRef.call(f.self,f.schemaEnv.root,f.baseId,O),N instanceof n.SchemaEnv&&(N=N.schema),N===void 0)throw new r.default(f.opts.uriResolver,f.baseId,O)}const $=(_=N?.properties)===null||_===void 0?void 0:_[p];if(typeof $!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${p}"`);T=T&&(S||k(N)),I($,P)}if(!T)throw new Error(`discriminator: "${p}" must be required`);return C;function k({required:P}){return Array.isArray(P)&&P.includes(p)}function I(P,N){if(P.const)R(P.const,N);else if(P.enum)for(const $ of P.enum)R($,N);else throw new Error(`discriminator: "properties/${p}" must have "const" or "enum"`)}function R(P,N){if(typeof P!="string"||P in C)throw new Error(`discriminator: "${p}" values must be unique strings`);C[P]=N}}}};return rP.default=o,rP}const Son="http://json-schema.org/draft-07/schema#",Ton="http://json-schema.org/draft-07/schema#",kon="Core schema meta-schema",Aon={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Ron=["object","boolean"],Ion={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Don={$schema:Son,$id:Ton,title:kon,definitions:Aon,type:Ron,properties:Ion,default:!0};var nbe;function Pon(){return nbe||(nbe=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const n=Vsn(),r=_on(),i=Eon(),s=Don,o=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(p,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}t.Ajv=l,e.exports=t=l,e.exports.Ajv=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=D8();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var c=xr();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var d=pie();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return d.default}});var f=P8();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return f.default}})})(w3,w3.exports)),w3.exports}var Oon=Pon();const yie=so(Oon),vie=Symbol.for("yaml.alias"),BG=Symbol.for("yaml.document"),ly=Symbol.for("yaml.map"),HLe=Symbol.for("yaml.pair"),Cp=Symbol.for("yaml.scalar"),CE=Symbol.for("yaml.seq"),gd=Symbol.for("yaml.node.type"),sw=e=>!!e&&typeof e=="object"&&e[gd]===vie,O8=e=>!!e&&typeof e=="object"&&e[gd]===BG,GR=e=>!!e&&typeof e=="object"&&e[gd]===ly,qs=e=>!!e&&typeof e=="object"&&e[gd]===HLe,ji=e=>!!e&&typeof e=="object"&&e[gd]===Cp,YR=e=>!!e&&typeof e=="object"&&e[gd]===CE;function zs(e){if(e&&typeof e=="object")switch(e[gd]){case ly:case CE:return!0}return!1}function Us(e){if(e&&typeof e=="object")switch(e[gd]){case vie:case ly:case Cp:case CE:return!0}return!1}const qLe=e=>(ji(e)||zs(e))&&!!e.anchor,n1=Symbol("break visit"),Non=Symbol("skip children"),CT=Symbol("remove node");function EE(e,t){const n=$on(t);O8(e)?Nx(null,e.contents,n,Object.freeze([e]))===CT&&(e.contents=null):Nx(null,e,n,Object.freeze([]))}EE.BREAK=n1;EE.SKIP=Non;EE.REMOVE=CT;function Nx(e,t,n,r){const i=Mon(e,t,n,r);if(Us(i)||qs(i))return Fon(e,r,i),Nx(e,i,n,r);if(typeof i!="symbol"){if(zs(t)){r=Object.freeze(r.concat(t));for(let s=0;s<t.items.length;++s){const o=Nx(s,t.items[s],n,r);if(typeof o=="number")s=o-1;else{if(o===n1)return n1;o===CT&&(t.items.splice(s,1),s-=1)}}}else if(qs(t)){r=Object.freeze(r.concat(t));const s=Nx("key",t.key,n,r);if(s===n1)return n1;s===CT&&(t.key=null);const o=Nx("value",t.value,n,r);if(o===n1)return n1;o===CT&&(t.value=null)}}return i}function $on(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function Mon(e,t,n,r){if(typeof n=="function")return n(e,t,r);if(GR(t))return n.Map?.(e,t,r);if(YR(t))return n.Seq?.(e,t,r);if(qs(t))return n.Pair?.(e,t,r);if(ji(t))return n.Scalar?.(e,t,r);if(sw(t))return n.Alias?.(e,t,r)}function Fon(e,t,n){const r=t[t.length-1];if(zs(r))r.items[e]=n;else if(qs(r))e==="key"?r.key=n:r.value=n;else if(O8(r))r.contents=n;else{const i=sw(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const Lon={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},jon=e=>e.replace(/[!,[\]{}]/g,t=>Lon[t]);class bl{constructor(t,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},bl.defaultYaml,t),this.tags=Object.assign({},bl.defaultTags,n)}clone(){const t=new bl(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new bl(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:bl.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},bl.defaultTags);break}return t}add(t,n){this.atNextDocument&&(this.yaml={explicit:bl.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},bl.defaultTags),this.atNextDocument=!1);const r=t.trim().split(/[ \t]+/),i=r.shift();switch(i){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[s,o]=r;return this.tags[s]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[s]=r;if(s==="1.1"||s==="1.2")return this.yaml.version=s,!0;{const o=/^\d+\.\d+$/.test(s);return n(6,`Unsupported YAML version ${s}`,o),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(t,n){if(t==="!")return"!";if(t[0]!=="!")return n(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const o=t.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}const[,r,i]=t.match(/^(.*!)([^!]*)$/s);i||n(`The ${t} tag has no suffix`);const s=this.tags[r];if(s)try{return s+decodeURIComponent(i)}catch(o){return n(String(o)),null}return r==="!"?t:(n(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[n,r]of Object.entries(this.tags))if(t.startsWith(r))return n+jon(t.substring(r.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let i;if(t&&r.length>0&&Us(t.contents)){const s={};EE(t.contents,(o,a)=>{Us(a)&&a.tag&&(s[a.tag]=!0)}),i=Object.keys(s)}else i=[];for(const[s,o]of r)s==="!!"&&o==="tag:yaml.org,2002:"||(!t||i.some(a=>a.startsWith(o)))&&n.push(`%TAG ${s} ${o}`);return n.join(`
`)}}bl.defaultYaml={explicit:!1,version:"1.2"};bl.defaultTags={"!!":"tag:yaml.org,2002:"};function WLe(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(n)}return!0}function GLe(e){const t=new Set;return EE(e,{Value(n,r){r.anchor&&t.add(r.anchor)}}),t}function YLe(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function Bon(e,t){const n=[],r=new Map;let i=null;return{onAnchor:s=>{n.push(s),i??(i=GLe(e));const o=YLe(t,i);return i.add(o),o},setAnchors:()=>{for(const s of n){const o=r.get(s);if(typeof o=="object"&&o.anchor&&(ji(o.node)||zs(o.node)))o.node.anchor=o.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=s,a}}},sourceObjects:r}}function $x(e,t,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let i=0,s=r.length;i<s;++i){const o=r[i],a=$x(e,r,String(i),o);a===void 0?delete r[i]:a!==o&&(r[i]=a)}else if(r instanceof Map)for(const i of Array.from(r.keys())){const s=r.get(i),o=$x(e,r,i,s);o===void 0?r.delete(i):o!==s&&r.set(i,o)}else if(r instanceof Set)for(const i of Array.from(r)){const s=$x(e,r,i,i);s===void 0?r.delete(i):s!==i&&(r.delete(i),r.add(s))}else for(const[i,s]of Object.entries(r)){const o=$x(e,r,i,s);o===void 0?delete r[i]:o!==s&&(r[i]=o)}return e.call(t,n,r)}function nd(e,t,n){if(Array.isArray(e))return e.map((r,i)=>nd(r,String(i),n));if(e&&typeof e.toJSON=="function"){if(!n||!qLe(e))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=s=>{r.res=s,delete n.onCreate};const i=e.toJSON(t,n);return n.onCreate&&n.onCreate(i),i}return typeof e=="bigint"&&!n?.keep?Number(e):e}class bie{constructor(t){Object.defineProperty(this,gd,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:n,maxAliasCount:r,onAnchor:i,reviver:s}={}){if(!O8(t))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:t,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},a=nd(this,"",o);if(typeof i=="function")for(const{count:l,res:u}of o.anchors.values())i(u,l);return typeof s=="function"?$x(s,{"":a},"",a):a}}class wie extends bie{constructor(t){super(vie),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t,n){let r;n?.aliasResolveCache?r=n.aliasResolveCache:(r=[],EE(t,{Node:(s,o)=>{(sw(o)||qLe(o))&&r.push(o)}}),n&&(n.aliasResolveCache=r));let i;for(const s of r){if(s===this)break;s.anchor===this.source&&(i=s)}return i}toJSON(t,n){if(!n)return{source:this.source};const{anchors:r,doc:i,maxAliasCount:s}=n,o=this.resolve(i,n);if(!o){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=r.get(o);if(a||(nd(o,null,n),a=r.get(o)),!a||a.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(s>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=rN(i,o,r)),a.count*a.aliasCount>s)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(t,n,r){const i=`*${this.source}`;if(t){if(WLe(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const s=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(s)}if(t.implicitKey)return`${i} `}return i}}function rN(e,t,n){if(sw(t)){const r=t.resolve(e),i=n&&r&&n.get(r);return i?i.count*i.aliasCount:0}else if(zs(t)){let r=0;for(const i of t.items){const s=rN(e,i,n);s>r&&(r=s)}return r}else if(qs(t)){const r=rN(e,t.key,n),i=rN(e,t.value,n);return Math.max(r,i)}return 1}const KLe=e=>!e||typeof e!="function"&&typeof e!="object";class er extends bie{constructor(t){super(Cp),this.value=t}toJSON(t,n){return n?.keep?this.value:nd(this.value,t,n)}toString(){return String(this.value)}}er.BLOCK_FOLDED="BLOCK_FOLDED";er.BLOCK_LITERAL="BLOCK_LITERAL";er.PLAIN="PLAIN";er.QUOTE_DOUBLE="QUOTE_DOUBLE";er.QUOTE_SINGLE="QUOTE_SINGLE";const zon="tag:yaml.org,2002:";function Uon(e,t,n){if(t){const r=n.filter(s=>s.tag===t),i=r.find(s=>!s.format)??r[0];if(!i)throw new Error(`Tag ${t} not found`);return i}return n.find(r=>r.identify?.(e)&&!r.format)}function Zk(e,t,n){if(O8(e)&&(e=e.contents),Us(e))return e;if(qs(e)){const d=n.schema[ly].createNode?.(n.schema,null,n);return d.items.push(e),d}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:r,onAnchor:i,onTagObj:s,schema:o,sourceObjects:a}=n;let l;if(r&&e&&typeof e=="object"){if(l=a.get(e),l)return l.anchor??(l.anchor=i(e)),new wie(l.anchor);l={anchor:null,node:null},a.set(e,l)}t?.startsWith("!!")&&(t=zon+t.slice(2));let u=Uon(e,t,o.tags);if(!u){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const d=new er(e);return l&&(l.node=d),d}u=e instanceof Map?o[ly]:Symbol.iterator in Object(e)?o[CE]:o[ly]}s&&(s(u),delete n.onTagObj);const c=u?.createNode?u.createNode(n.schema,e,n):typeof u?.nodeClass?.from=="function"?u.nodeClass.from(n.schema,e,n):new er(e);return t?c.tag=t:u.default||(c.tag=u.tag),l&&(l.node=c),c}function o5(e,t,n){let r=n;for(let i=t.length-1;i>=0;--i){const s=t[i];if(typeof s=="number"&&Number.isInteger(s)&&s>=0){const o=[];o[s]=r,r=o}else r=new Map([[s,r]])}return Zk(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const BS=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class XLe extends bie{constructor(t,n){super(t),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(t){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(n.schema=t),n.items=n.items.map(r=>Us(r)||qs(r)?r.clone(t):r),this.range&&(n.range=this.range.slice()),n}addIn(t,n){if(BS(t))this.add(n);else{const[r,...i]=t,s=this.get(r,!0);if(zs(s))s.addIn(i,n);else if(s===void 0&&this.schema)this.set(r,o5(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn(t){const[n,...r]=t;if(r.length===0)return this.delete(n);const i=this.get(n,!0);if(zs(i))return i.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(t,n){const[r,...i]=t,s=this.get(r,!0);return i.length===0?!n&&ji(s)?s.value:s:zs(s)?s.getIn(i,n):void 0}hasAllNullValues(t){return this.items.every(n=>{if(!qs(n))return!1;const r=n.value;return r==null||t&&ji(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(t){const[n,...r]=t;if(r.length===0)return this.has(n);const i=this.get(n,!0);return zs(i)?i.hasIn(r):!1}setIn(t,n){const[r,...i]=t;if(i.length===0)this.set(r,n);else{const s=this.get(r,!0);if(zs(s))s.setIn(i,n);else if(s===void 0&&this.schema)this.set(r,o5(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}}const Von=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function Pm(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const C1=(e,t,n)=>e.endsWith(`
`)?Pm(n,t):n.includes(`
`)?`
`+Pm(n,t):(e.endsWith(" ")?"":" ")+n,QLe="flow",zG="block",iN="quoted";function N8(e,t,n="flow",{indentAtStart:r,lineWidth:i=80,minContentWidth:s=20,onFold:o,onOverflow:a}={}){if(!i||i<0)return e;i<s&&(s=0);const l=Math.max(1+s,1+i-t.length);if(e.length<=l)return e;const u=[],c={};let d=i-t.length;typeof r=="number"&&(r>i-Math.max(2,s)?u.push(0):d=i-r);let f,h,p=!1,m=-1,g=-1,y=-1;n===zG&&(m=rbe(e,m,t.length),m!==-1&&(d=m+l));for(let w;w=e[m+=1];){if(n===iN&&w==="\\"){switch(g=m,e[m+1]){case"x":m+=3;break;case"u":m+=5;break;case"U":m+=9;break;default:m+=1}y=m}if(w===`
`)n===zG&&(m=rbe(e,m,t.length)),d=m+t.length+l,f=void 0;else{if(w===" "&&h&&h!==" "&&h!==`
`&&h!=="	"){const _=e[m+1];_&&_!==" "&&_!==`
`&&_!=="	"&&(f=m)}if(m>=d)if(f)u.push(f),d=f+l,f=void 0;else if(n===iN){for(;h===" "||h==="	";)h=w,w=e[m+=1],p=!0;const _=m>y+1?m-2:g-1;if(c[_])return e;u.push(_),c[_]=!0,d=_+l,f=void 0}else p=!0}h=w}if(p&&a&&a(),u.length===0)return e;o&&o();let v=e.slice(0,u[0]);for(let w=0;w<u.length;++w){const _=u[w],C=u[w+1]||e.length;_===0?v=`
${t}${e.slice(0,C)}`:(n===iN&&c[_]&&(v+=`${e[_]}\\`),v+=`
${t}${e.slice(_+1,C)}`)}return v}function rbe(e,t,n){let r=t,i=t+1,s=e[i];for(;s===" "||s==="	";)if(t<i+n)s=e[++t];else{do s=e[++t];while(s&&s!==`
`);r=t,i=t+1,s=e[i]}return r}const $8=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),M8=e=>/^(%|---|\.\.\.)/m.test(e);function Hon(e,t,n){if(!t||t<0)return!1;const r=t-n,i=e.length;if(i<=r)return!1;for(let s=0,o=0;s<i;++s)if(e[s]===`
`){if(s-o>r)return!0;if(o=s+1,i-o<=r)return!1}return!0}function ET(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,i=t.options.doubleQuotedMinMultiLineLength,s=t.indent||(M8(e)?"  ":"");let o="",a=0;for(let l=0,u=n[l];u;u=n[++l])if(u===" "&&n[l+1]==="\\"&&n[l+2]==="n"&&(o+=n.slice(a,l)+"\\ ",l+=1,a=l,u="\\"),u==="\\")switch(n[l+1]){case"u":{o+=n.slice(a,l);const c=n.substr(l+2,4);switch(c){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:c.substr(0,2)==="00"?o+="\\x"+c.substr(2):o+=n.substr(l,6)}l+=5,a=l+1}break;case"n":if(r||n[l+2]==='"'||n.length<i)l+=1;else{for(o+=n.slice(a,l)+`

`;n[l+2]==="\\"&&n[l+3]==="n"&&n[l+4]!=='"';)o+=`
`,l+=2;o+=s,n[l+2]===" "&&(o+="\\"),l+=1,a=l+1}break;default:l+=1}return o=a?o+n.slice(a):n,r?o:N8(o,s,iN,$8(t,!1))}function UG(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return ET(e,t);const n=t.indent||(M8(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return t.implicitKey?r:N8(r,n,QLe,$8(t,!1))}function Mx(e,t){const{singleQuote:n}=t.options;let r;if(n===!1)r=ET;else{const i=e.includes('"'),s=e.includes("'");i&&!s?r=UG:s&&!i?r=ET:r=n?UG:ET}return r(e,t)}let VG;try{VG=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{VG=/\n+(?!\n|$)/g}function sN({comment:e,type:t,value:n},r,i,s){const{blockQuote:o,commentString:a,lineWidth:l}=r.options;if(!o||/\n[\t ]+$/.test(n))return Mx(n,r);const u=r.indent||(r.forceBlockIndent||M8(n)?"  ":""),c=o==="literal"?!0:o==="folded"||t===er.BLOCK_FOLDED?!1:t===er.BLOCK_LITERAL?!0:!Hon(n,l,u.length);if(!n)return c?`|
`:`>
`;let d,f;for(f=n.length;f>0;--f){const C=n[f-1];if(C!==`
`&&C!=="	"&&C!==" ")break}let h=n.substring(f);const p=h.indexOf(`
`);p===-1?d="-":n===h||p!==h.length-1?(d="+",s&&s()):d="",h&&(n=n.slice(0,-h.length),h[h.length-1]===`
`&&(h=h.slice(0,-1)),h=h.replace(VG,`$&${u}`));let m=!1,g,y=-1;for(g=0;g<n.length;++g){const C=n[g];if(C===" ")m=!0;else if(C===`
`)y=g;else break}let v=n.substring(0,y<g?y+1:g);v&&(n=n.substring(v.length),v=v.replace(/\n+/g,`$&${u}`));let _=(m?u?"2":"1":"")+d;if(e&&(_+=" "+a(e.replace(/ ?[\r\n]+/g," ")),i&&i()),!c){const C=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${u}`);let S=!1;const T=$8(r,!0);o!=="folded"&&t!==er.BLOCK_FOLDED&&(T.onOverflow=()=>{S=!0});const k=N8(`${v}${C}${h}`,u,zG,T);if(!S)return`>${_}
${u}${k}`}return n=n.replace(/\n+/g,`$&${u}`),`|${_}
${u}${v}${n}${h}`}function qon(e,t,n,r){const{type:i,value:s}=e,{actualString:o,implicitKey:a,indent:l,indentStep:u,inFlow:c}=t;if(a&&s.includes(`
`)||c&&/[[\]{},]/.test(s))return Mx(s,t);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(s))return a||c||!s.includes(`
`)?Mx(s,t):sN(e,t,n,r);if(!a&&!c&&i!==er.PLAIN&&s.includes(`
`))return sN(e,t,n,r);if(M8(s)){if(l==="")return t.forceBlockIndent=!0,sN(e,t,n,r);if(a&&l===u)return Mx(s,t)}const d=s.replace(/\n+/g,`$&
${l}`);if(o){const f=m=>m.default&&m.tag!=="tag:yaml.org,2002:str"&&m.test?.test(d),{compat:h,tags:p}=t.doc.schema;if(p.some(f)||h?.some(f))return Mx(s,t)}return a?d:N8(d,l,QLe,$8(t,!1))}function xie(e,t,n,r){const{implicitKey:i,inFlow:s}=t,o=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:a}=e;a!==er.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=er.QUOTE_DOUBLE);const l=c=>{switch(c){case er.BLOCK_FOLDED:case er.BLOCK_LITERAL:return i||s?Mx(o.value,t):sN(o,t,n,r);case er.QUOTE_DOUBLE:return ET(o.value,t);case er.QUOTE_SINGLE:return UG(o.value,t);case er.PLAIN:return qon(o,t,n,r);default:return null}};let u=l(a);if(u===null){const{defaultKeyType:c,defaultStringType:d}=t.options,f=i&&c||d;if(u=l(f),u===null)throw new Error(`Unsupported default string type ${f}`)}return u}function JLe(e,t){const n=Object.assign({blockQuote:!0,commentString:Von,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function Won(e,t){if(t.tag){const i=e.filter(s=>s.tag===t.tag);if(i.length>0)return i.find(s=>s.format===t.format)??i[0]}let n,r;if(ji(t)){r=t.value;let i=e.filter(s=>s.identify?.(r));if(i.length>1){const s=i.filter(o=>o.test);s.length>0&&(i=s)}n=i.find(s=>s.format===t.format)??i.find(s=>!s.format)}else r=t,n=e.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!n){const i=r?.constructor?.name??(r===null?"null":typeof r);throw new Error(`Tag not resolved for ${i} value`)}return n}function Gon(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const i=[],s=(ji(e)||zs(e))&&e.anchor;s&&WLe(s)&&(n.add(s),i.push(`&${s}`));const o=e.tag??(t.default?null:t.tag);return o&&i.push(r.directives.tagString(o)),i.join(" ")}function dC(e,t,n,r){if(qs(e))return e.toString(t,n,r);if(sw(e)){if(t.doc.directives)return e.toString(t);if(t.resolvedAliases?.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let i;const s=Us(e)?e:t.doc.createNode(e,{onTagObj:l=>i=l});i??(i=Won(t.doc.schema.tags,s));const o=Gon(s,i,t);o.length>0&&(t.indentAtStart=(t.indentAtStart??0)+o.length+1);const a=typeof i.stringify=="function"?i.stringify(s,t,n,r):ji(s)?xie(s,t,n,r):s.toString(t,n,r);return o?ji(s)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${t.indent}${a}`:a}function Yon({key:e,value:t},n,r,i){const{allNullValues:s,doc:o,indent:a,indentStep:l,options:{commentString:u,indentSeq:c,simpleKeys:d}}=n;let f=Us(e)&&e.comment||null;if(d){if(f)throw new Error("With simple keys, key nodes cannot have comments");if(zs(e)||!Us(e)&&typeof e=="object"){const T="With simple keys, collection cannot be used as a key value";throw new Error(T)}}let h=!d&&(!e||f&&t==null&&!n.inFlow||zs(e)||(ji(e)?e.type===er.BLOCK_FOLDED||e.type===er.BLOCK_LITERAL:typeof e=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!h&&(d||!s),indent:a+l});let p=!1,m=!1,g=dC(e,n,()=>p=!0,()=>m=!0);if(!h&&!n.inFlow&&g.length>1024){if(d)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");h=!0}if(n.inFlow){if(s||t==null)return p&&r&&r(),g===""?"?":h?`? ${g}`:g}else if(s&&!d||t==null&&h)return g=`? ${g}`,f&&!p?g+=C1(g,n.indent,u(f)):m&&i&&i(),g;p&&(f=null),h?(f&&(g+=C1(g,n.indent,u(f))),g=`? ${g}
${a}:`):(g=`${g}:`,f&&(g+=C1(g,n.indent,u(f))));let y,v,w;Us(t)?(y=!!t.spaceBefore,v=t.commentBefore,w=t.comment):(y=!1,v=null,w=null,t&&typeof t=="object"&&(t=o.createNode(t))),n.implicitKey=!1,!h&&!f&&ji(t)&&(n.indentAtStart=g.length+1),m=!1,!c&&l.length>=2&&!n.inFlow&&!h&&YR(t)&&!t.flow&&!t.tag&&!t.anchor&&(n.indent=n.indent.substring(2));let _=!1;const C=dC(t,n,()=>_=!0,()=>m=!0);let S=" ";if(f||y||v){if(S=y?`
`:"",v){const T=u(v);S+=`
${Pm(T,n.indent)}`}C===""&&!n.inFlow?S===`
`&&(S=`

`):S+=`
${n.indent}`}else if(!h&&zs(t)){const T=C[0],k=C.indexOf(`
`),I=k!==-1,R=n.inFlow??t.flow??t.items.length===0;if(I||!R){let P=!1;if(I&&(T==="&"||T==="!")){let N=C.indexOf(" ");T==="&"&&N!==-1&&N<k&&C[N+1]==="!"&&(N=C.indexOf(" ",N+1)),(N===-1||k<N)&&(P=!0)}P||(S=`
${n.indent}`)}}else(C===""||C[0]===`
`)&&(S="");return g+=S+C,n.inFlow?_&&r&&r():w&&!_?g+=C1(g,n.indent,u(w)):m&&i&&i(),g}function Kon(e,t){(e==="debug"||e==="warn")&&console.warn(t)}const iP="<<",qm={identify:e=>e===iP||typeof e=="symbol"&&e.description===iP,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new er(Symbol(iP)),{addToJSMap:ZLe}),stringify:()=>iP},Xon=(e,t)=>(qm.identify(t)||ji(t)&&(!t.type||t.type===er.PLAIN)&&qm.identify(t.value))&&e?.doc.schema.tags.some(n=>n.tag===qm.tag&&n.default);function ZLe(e,t,n){if(n=e&&sw(n)?n.resolve(e.doc):n,YR(n))for(const r of n.items)hU(e,t,r);else if(Array.isArray(n))for(const r of n)hU(e,t,r);else hU(e,t,n)}function hU(e,t,n){const r=e&&sw(n)?n.resolve(e.doc):n;if(!GR(r))throw new Error("Merge sources must be maps or map aliases");const i=r.toJSON(null,e,Map);for(const[s,o]of i)t instanceof Map?t.has(s)||t.set(s,o):t instanceof Set?t.add(s):Object.prototype.hasOwnProperty.call(t,s)||Object.defineProperty(t,s,{value:o,writable:!0,enumerable:!0,configurable:!0});return t}function eje(e,t,{key:n,value:r}){if(Us(n)&&n.addToJSMap)n.addToJSMap(e,t,r);else if(Xon(e,n))ZLe(e,t,r);else{const i=nd(n,"",e);if(t instanceof Map)t.set(i,nd(r,i,e));else if(t instanceof Set)t.add(i);else{const s=Qon(n,i,e),o=nd(r,s,e);s in t?Object.defineProperty(t,s,{value:o,writable:!0,enumerable:!0,configurable:!0}):t[s]=o}}return t}function Qon(e,t,n){if(t===null)return"";if(typeof t!="object")return String(t);if(Us(e)&&n?.doc){const r=JLe(n.doc,{});r.anchors=new Set;for(const s of n.anchors.keys())r.anchors.add(s.anchor);r.inFlow=!0,r.inStringifyKey=!0;const i=e.toString(r);if(!n.mapKeyWarned){let s=JSON.stringify(i);s.length>40&&(s=s.substring(0,36)+'..."'),Kon(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${s}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(t)}function _ie(e,t,n){const r=Zk(e,void 0,n),i=Zk(t,void 0,n);return new Ol(r,i)}class Ol{constructor(t,n=null){Object.defineProperty(this,gd,{value:HLe}),this.key=t,this.value=n}clone(t){let{key:n,value:r}=this;return Us(n)&&(n=n.clone(t)),Us(r)&&(r=r.clone(t)),new Ol(n,r)}toJSON(t,n){const r=n?.mapAsMap?new Map:{};return eje(n,r,this)}toString(t,n,r){return t?.doc?Yon(this,t,n,r):JSON.stringify(this)}}function tje(e,t,n){return(t.inFlow??e.flow?Zon:Jon)(e,t,n)}function Jon({comment:e,items:t},n,{blockItemPrefix:r,flowChars:i,itemIndent:s,onChompKeep:o,onComment:a}){const{indent:l,options:{commentString:u}}=n,c=Object.assign({},n,{indent:s,type:null});let d=!1;const f=[];for(let p=0;p<t.length;++p){const m=t[p];let g=null;if(Us(m))!d&&m.spaceBefore&&f.push(""),a5(n,f,m.commentBefore,d),m.comment&&(g=m.comment);else if(qs(m)){const v=Us(m.key)?m.key:null;v&&(!d&&v.spaceBefore&&f.push(""),a5(n,f,v.commentBefore,d))}d=!1;let y=dC(m,c,()=>g=null,()=>d=!0);g&&(y+=C1(y,s,u(g))),d&&g&&(d=!1),f.push(r+y)}let h;if(f.length===0)h=i.start+i.end;else{h=f[0];for(let p=1;p<f.length;++p){const m=f[p];h+=m?`
${l}${m}`:`
`}}return e?(h+=`
`+Pm(u(e),l),a&&a()):d&&o&&o(),h}function Zon({items:e},t,{flowChars:n,itemIndent:r}){const{indent:i,indentStep:s,flowCollectionPadding:o,options:{commentString:a}}=t;r+=s;const l=Object.assign({},t,{indent:r,inFlow:!0,type:null});let u=!1,c=0;const d=[];for(let p=0;p<e.length;++p){const m=e[p];let g=null;if(Us(m))m.spaceBefore&&d.push(""),a5(t,d,m.commentBefore,!1),m.comment&&(g=m.comment);else if(qs(m)){const v=Us(m.key)?m.key:null;v&&(v.spaceBefore&&d.push(""),a5(t,d,v.commentBefore,!1),v.comment&&(u=!0));const w=Us(m.value)?m.value:null;w?(w.comment&&(g=w.comment),w.commentBefore&&(u=!0)):m.value==null&&v?.comment&&(g=v.comment)}g&&(u=!0);let y=dC(m,l,()=>g=null);p<e.length-1&&(y+=","),g&&(y+=C1(y,r,a(g))),!u&&(d.length>c||y.includes(`
`))&&(u=!0),d.push(y),c=d.length}const{start:f,end:h}=n;if(d.length===0)return f+h;if(!u){const p=d.reduce((m,g)=>m+g.length+2,2);u=t.options.lineWidth>0&&p>t.options.lineWidth}if(u){let p=f;for(const m of d)p+=m?`
${s}${i}${m}`:`
`;return`${p}
${i}${h}`}else return`${f}${o}${d.join(" ")}${o}${h}`}function a5({indent:e,options:{commentString:t}},n,r,i){if(r&&i&&(r=r.replace(/^\n+/,"")),r){const s=Pm(t(r),e);n.push(s.trimStart())}}function E1(e,t){const n=ji(t)?t.value:t;for(const r of e)if(qs(r)&&(r.key===t||r.key===n||ji(r.key)&&r.key.value===n))return r}class Hc extends XLe{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(ly,t),this.items=[]}static from(t,n,r){const{keepUndefined:i,replacer:s}=r,o=new this(t),a=(l,u)=>{if(typeof s=="function")u=s.call(n,l,u);else if(Array.isArray(s)&&!s.includes(l))return;(u!==void 0||i)&&o.items.push(_ie(l,u,r))};if(n instanceof Map)for(const[l,u]of n)a(l,u);else if(n&&typeof n=="object")for(const l of Object.keys(n))a(l,n[l]);return typeof t.sortMapEntries=="function"&&o.items.sort(t.sortMapEntries),o}add(t,n){let r;qs(t)?r=t:!t||typeof t!="object"||!("key"in t)?r=new Ol(t,t?.value):r=new Ol(t.key,t.value);const i=E1(this.items,r.key),s=this.schema?.sortMapEntries;if(i){if(!n)throw new Error(`Key ${r.key} already set`);ji(i.value)&&KLe(r.value)?i.value.value=r.value:i.value=r.value}else if(s){const o=this.items.findIndex(a=>s(r,a)<0);o===-1?this.items.push(r):this.items.splice(o,0,r)}else this.items.push(r)}delete(t){const n=E1(this.items,t);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(t,n){const i=E1(this.items,t)?.value;return(!n&&ji(i)?i.value:i)??void 0}has(t){return!!E1(this.items,t)}set(t,n){this.add(new Ol(t,n),!0)}toJSON(t,n,r){const i=r?new r:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(i);for(const s of this.items)eje(n,i,s);return i}toString(t,n,r){if(!t)return JSON.stringify(this);for(const i of this.items)if(!qs(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),tje(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:r,onComment:n})}}const SE={collection:"map",default:!0,nodeClass:Hc,tag:"tag:yaml.org,2002:map",resolve(e,t){return GR(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,n)=>Hc.from(e,t,n)};class xb extends XLe{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(CE,t),this.items=[]}add(t){this.items.push(t)}delete(t){const n=sP(t);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(t,n){const r=sP(t);if(typeof r!="number")return;const i=this.items[r];return!n&&ji(i)?i.value:i}has(t){const n=sP(t);return typeof n=="number"&&n<this.items.length}set(t,n){const r=sP(t);if(typeof r!="number")throw new Error(`Expected a valid index, not ${t}.`);const i=this.items[r];ji(i)&&KLe(n)?i.value=n:this.items[r]=n}toJSON(t,n){const r=[];n?.onCreate&&n.onCreate(r);let i=0;for(const s of this.items)r.push(nd(s,String(i++),n));return r}toString(t,n,r){return t?tje(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(t,n,r){const{replacer:i}=r,s=new this(t);if(n&&Symbol.iterator in Object(n)){let o=0;for(let a of n){if(typeof i=="function"){const l=n instanceof Set?a:String(o++);a=i.call(n,l,a)}s.items.push(Zk(a,void 0,r))}}return s}}function sP(e){let t=ji(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}const TE={collection:"seq",default:!0,nodeClass:xb,tag:"tag:yaml.org,2002:seq",resolve(e,t){return YR(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,n)=>xb.from(e,t,n)},F8={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,n,r){return t=Object.assign({actualString:!0},t),xie(e,t,n,r)}},L8={identify:e=>e==null,createNode:()=>new er(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new er(null),stringify:({source:e},t)=>typeof e=="string"&&L8.test.test(e)?e:t.options.nullStr},Cie={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new er(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},n){if(e&&Cie.test.test(e)){const r=e[0]==="t"||e[0]==="T";if(t===r)return e}return t?n.options.trueStr:n.options.falseStr}};function uh({format:e,minFractionDigits:t,tag:n,value:r}){if(typeof r=="bigint")return String(r);const i=typeof r=="number"?r:Number(r);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let s=JSON.stringify(r);if(!e&&t&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(s)){let o=s.indexOf(".");o<0&&(o=s.length,s+=".");let a=t-(s.length-o-1);for(;a-- >0;)s+="0"}return s}const nje={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:uh},rje={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():uh(e)}},ije={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new er(parseFloat(e)),n=e.indexOf(".");return n!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-n-1),t},stringify:uh},j8=e=>typeof e=="bigint"||Number.isInteger(e),Eie=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function sje(e,t,n){const{value:r}=e;return j8(r)&&r>=0?n+r.toString(t):uh(e)}const oje={identify:e=>j8(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>Eie(e,2,8,n),stringify:e=>sje(e,8,"0o")},aje={identify:j8,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>Eie(e,0,10,n),stringify:uh},lje={identify:e=>j8(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>Eie(e,2,16,n),stringify:e=>sje(e,16,"0x")},ean=[SE,TE,F8,L8,Cie,oje,aje,lje,nje,rje,ije];function ibe(e){return typeof e=="bigint"||Number.isInteger(e)}const oP=({value:e})=>JSON.stringify(e),tan=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:oP},{identify:e=>e==null,createNode:()=>new er(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:oP},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:e=>e==="true",stringify:oP},{identify:ibe,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>ibe(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:oP}],nan={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},ran=[SE,TE].concat(tan,nan),Sie={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof atob=="function"){const n=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,i,s){if(!n)return"";const o=n;let a;if(typeof btoa=="function"){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t??(t=er.BLOCK_LITERAL),t!==er.QUOTE_DOUBLE){const l=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),u=Math.ceil(a.length/l),c=new Array(u);for(let d=0,f=0;d<u;++d,f+=l)c[d]=a.substr(f,l);a=c.join(t===er.BLOCK_LITERAL?`
`:" ")}return xie({comment:e,type:t,value:a},r,i,s)}};function uje(e,t){if(YR(e))for(let n=0;n<e.items.length;++n){let r=e.items[n];if(!qs(r)){if(GR(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");const i=r.items[0]||new Ol(new er(null));if(r.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${r.commentBefore}
${i.key.commentBefore}`:r.commentBefore),r.comment){const s=i.value??i.key;s.comment=s.comment?`${r.comment}
${s.comment}`:r.comment}r=i}e.items[n]=qs(r)?r:new Ol(r)}}else t("Expected a sequence for this tag");return e}function cje(e,t,n){const{replacer:r}=n,i=new xb(e);i.tag="tag:yaml.org,2002:pairs";let s=0;if(t&&Symbol.iterator in Object(t))for(let o of t){typeof r=="function"&&(o=r.call(t,String(s++),o));let a,l;if(Array.isArray(o))if(o.length===2)a=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const u=Object.keys(o);if(u.length===1)a=u[0],l=o[a];else throw new TypeError(`Expected tuple with one key, not ${u.length} keys`)}else a=o;i.items.push(_ie(a,l,n))}return i}const Tie={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:uje,createNode:cje};class s_ extends xb{constructor(){super(),this.add=Hc.prototype.add.bind(this),this.delete=Hc.prototype.delete.bind(this),this.get=Hc.prototype.get.bind(this),this.has=Hc.prototype.has.bind(this),this.set=Hc.prototype.set.bind(this),this.tag=s_.tag}toJSON(t,n){if(!n)return super.toJSON(t);const r=new Map;n?.onCreate&&n.onCreate(r);for(const i of this.items){let s,o;if(qs(i)?(s=nd(i.key,"",n),o=nd(i.value,s,n)):s=nd(i,"",n),r.has(s))throw new Error("Ordered maps must not include duplicate keys");r.set(s,o)}return r}static from(t,n,r){const i=cje(t,n,r),s=new this;return s.items=i.items,s}}s_.tag="tag:yaml.org,2002:omap";const kie={collection:"seq",identify:e=>e instanceof Map,nodeClass:s_,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=uje(e,t),r=[];for(const{key:i}of n.items)ji(i)&&(r.includes(i.value)?t(`Ordered maps must not include duplicate keys: ${i.value}`):r.push(i.value));return Object.assign(new s_,n)},createNode:(e,t,n)=>s_.from(e,t,n)};function dje({value:e,source:t},n){return t&&(e?fje:hje).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const fje={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new er(!0),stringify:dje},hje={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new er(!1),stringify:dje},ian={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:uh},san={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():uh(e)}},oan={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new er(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(n!==-1){const r=e.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(t.minFractionDigits=r.length)}return t},stringify:uh},KR=e=>typeof e=="bigint"||Number.isInteger(e);function B8(e,t,n,{intAsBigInt:r}){const i=e[0];if((i==="-"||i==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const o=BigInt(e);return i==="-"?BigInt(-1)*o:o}const s=parseInt(e,n);return i==="-"?-1*s:s}function Aie(e,t,n){const{value:r}=e;if(KR(r)){const i=r.toString(t);return r<0?"-"+n+i.substr(1):n+i}return uh(e)}const aan={identify:KR,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>B8(e,2,2,n),stringify:e=>Aie(e,2,"0b")},lan={identify:KR,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>B8(e,1,8,n),stringify:e=>Aie(e,8,"0")},uan={identify:KR,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>B8(e,0,10,n),stringify:uh},can={identify:KR,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>B8(e,2,16,n),stringify:e=>Aie(e,16,"0x")};class o_ extends Hc{constructor(t){super(t),this.tag=o_.tag}add(t){let n;qs(t)?n=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?n=new Ol(t.key,null):n=new Ol(t,null),E1(this.items,n.key)||this.items.push(n)}get(t,n){const r=E1(this.items,t);return!n&&qs(r)?ji(r.key)?r.key.value:r.key:r}set(t,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=E1(this.items,t);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Ol(t))}toJSON(t,n){return super.toJSON(t,n,Set)}toString(t,n,r){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(t,n,r){const{replacer:i}=r,s=new this(t);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof i=="function"&&(o=i.call(n,o,o)),s.items.push(_ie(o,null,r));return s}}o_.tag="tag:yaml.org,2002:set";const Rie={collection:"map",identify:e=>e instanceof Set,nodeClass:o_,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>o_.from(e,t,n),resolve(e,t){if(GR(e)){if(e.hasAllNullValues(!0))return Object.assign(new o_,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function Iie(e,t){const n=e[0],r=n==="-"||n==="+"?e.substring(1):e,i=o=>t?BigInt(o):Number(o),s=r.replace(/_/g,"").split(":").reduce((o,a)=>o*i(60)+i(a),i(0));return n==="-"?i(-1)*s:s}function pje(e){let{value:t}=e,n=o=>o;if(typeof t=="bigint")n=o=>BigInt(o);else if(isNaN(t)||!isFinite(t))return uh(e);let r="";t<0&&(r="-",t*=n(-1));const i=n(60),s=[t%i];return t<60?s.unshift(0):(t=(t-s[0])/i,s.unshift(t%i),t>=60&&(t=(t-s[0])/i,s.unshift(t))),r+s.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const mje={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>Iie(e,n),stringify:pje},gje={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>Iie(e,!1),stringify:pje},z8={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(z8.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,i,s,o,a]=t.map(Number),l=t[7]?Number((t[7]+"00").substr(1,3)):0;let u=Date.UTC(n,r-1,i,s||0,o||0,a||0,l);const c=t[8];if(c&&c!=="Z"){let d=Iie(c,!1);Math.abs(d)<30&&(d*=60),u-=6e4*d}return new Date(u)},stringify:({value:e})=>e?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""},sbe=[SE,TE,F8,L8,fje,hje,aan,lan,uan,can,ian,san,oan,Sie,qm,kie,Tie,Rie,mje,gje,z8],obe=new Map([["core",ean],["failsafe",[SE,TE,F8]],["json",ran],["yaml11",sbe],["yaml-1.1",sbe]]),abe={binary:Sie,bool:Cie,float:ije,floatExp:rje,floatNaN:nje,floatTime:gje,int:aje,intHex:lje,intOct:oje,intTime:mje,map:SE,merge:qm,null:L8,omap:kie,pairs:Tie,seq:TE,set:Rie,timestamp:z8},dan={"tag:yaml.org,2002:binary":Sie,"tag:yaml.org,2002:merge":qm,"tag:yaml.org,2002:omap":kie,"tag:yaml.org,2002:pairs":Tie,"tag:yaml.org,2002:set":Rie,"tag:yaml.org,2002:timestamp":z8};function pU(e,t,n){const r=obe.get(t);if(r&&!e)return n&&!r.includes(qm)?r.concat(qm):r.slice();let i=r;if(!i)if(Array.isArray(e))i=[];else{const s=Array.from(obe.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${s} or define customTags array`)}if(Array.isArray(e))for(const s of e)i=i.concat(s);else typeof e=="function"&&(i=e(i.slice()));return n&&(i=i.concat(qm)),i.reduce((s,o)=>{const a=typeof o=="string"?abe[o]:o;if(!a){const l=JSON.stringify(o),u=Object.keys(abe).map(c=>JSON.stringify(c)).join(", ");throw new Error(`Unknown custom tag ${l}; use one of ${u}`)}return s.includes(a)||s.push(a),s},[])}const fan=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class Die{constructor({compat:t,customTags:n,merge:r,resolveKnownTags:i,schema:s,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(t)?pU(t,"compat"):t?pU(null,t):null,this.name=typeof s=="string"&&s||"core",this.knownTags=i?dan:{},this.tags=pU(n,this.name,r),this.toStringOptions=a??null,Object.defineProperty(this,ly,{value:SE}),Object.defineProperty(this,Cp,{value:F8}),Object.defineProperty(this,CE,{value:TE}),this.sortMapEntries=typeof o=="function"?o:o===!0?fan:null}clone(){const t=Object.create(Die.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function han(e,t){const n=[];let r=t.directives===!0;if(t.directives!==!1&&e.directives){const l=e.directives.toString(e);l?(n.push(l),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");const i=JLe(e,t),{commentString:s}=i.options;if(e.commentBefore){n.length!==1&&n.unshift("");const l=s(e.commentBefore);n.unshift(Pm(l,""))}let o=!1,a=null;if(e.contents){if(Us(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){const c=s(e.contents.commentBefore);n.push(Pm(c,""))}i.forceBlockIndent=!!e.comment,a=e.contents.comment}const l=a?void 0:()=>o=!0;let u=dC(e.contents,i,()=>a=null,l);a&&(u+=C1(u,"",s(a))),(u[0]==="|"||u[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${u}`:n.push(u)}else n.push(dC(e.contents,i));if(e.directives?.docEnd)if(e.comment){const l=s(e.comment);l.includes(`
`)?(n.push("..."),n.push(Pm(l,""))):n.push(`... ${l}`)}else n.push("...");else{let l=e.comment;l&&o&&(l=l.replace(/^\n+/,"")),l&&((!o||a)&&n[n.length-1]!==""&&n.push(""),n.push(Pm(s(l),"")))}return n.join(`
`)+`
`}class U8{constructor(t,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,gd,{value:BG});let i=null;typeof n=="function"||Array.isArray(n)?i=n:r===void 0&&n&&(r=n,n=void 0);const s=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},r);this.options=s;let{version:o}=s;r?._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new bl({version:o}),this.setSchema(o,r),this.contents=t===void 0?null:this.createNode(t,i,r)}clone(){const t=Object.create(U8.prototype,{[gd]:{value:BG}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=Us(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){sx(this.contents)&&this.contents.add(t)}addIn(t,n){sx(this.contents)&&this.contents.addIn(t,n)}createAlias(t,n){if(!t.anchor){const r=GLe(this);t.anchor=!n||r.has(n)?YLe(n||"a",r):n}return new wie(t.anchor)}createNode(t,n,r){let i;if(typeof n=="function")t=n.call({"":t},"",t),i=n;else if(Array.isArray(n)){const g=v=>typeof v=="number"||v instanceof String||v instanceof Number,y=n.filter(g).map(String);y.length>0&&(n=n.concat(y)),i=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:s,anchorPrefix:o,flow:a,keepUndefined:l,onTagObj:u,tag:c}=r??{},{onAnchor:d,setAnchors:f,sourceObjects:h}=Bon(this,o||"a"),p={aliasDuplicateObjects:s??!0,keepUndefined:l??!1,onAnchor:d,onTagObj:u,replacer:i,schema:this.schema,sourceObjects:h},m=Zk(t,c,p);return a&&zs(m)&&(m.flow=!0),f(),m}createPair(t,n,r={}){const i=this.createNode(t,null,r),s=this.createNode(n,null,r);return new Ol(i,s)}delete(t){return sx(this.contents)?this.contents.delete(t):!1}deleteIn(t){return BS(t)?this.contents==null?!1:(this.contents=null,!0):sx(this.contents)?this.contents.deleteIn(t):!1}get(t,n){return zs(this.contents)?this.contents.get(t,n):void 0}getIn(t,n){return BS(t)?!n&&ji(this.contents)?this.contents.value:this.contents:zs(this.contents)?this.contents.getIn(t,n):void 0}has(t){return zs(this.contents)?this.contents.has(t):!1}hasIn(t){return BS(t)?this.contents!==void 0:zs(this.contents)?this.contents.hasIn(t):!1}set(t,n){this.contents==null?this.contents=o5(this.schema,[t],n):sx(this.contents)&&this.contents.set(t,n)}setIn(t,n){BS(t)?this.contents=n:this.contents==null?this.contents=o5(this.schema,Array.from(t),n):sx(this.contents)&&this.contents.setIn(t,n)}setSchema(t,n={}){typeof t=="number"&&(t=String(t));let r;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new bl({version:"1.1"}),r={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new bl({version:t}),r={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const i=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new Die(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:n,mapAsMap:r,maxAliasCount:i,onAnchor:s,reviver:o}={}){const a={anchors:new Map,doc:this,keep:!t,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},l=nd(this.contents,n??"",a);if(typeof s=="function")for(const{count:u,res:c}of a.anchors.values())s(c,u);return typeof o=="function"?$x(o,{"":l},"",l):l}toJSON(t,n){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:n})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const n=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return han(this,t)}}function sx(e){if(zs(e))return!0;throw new Error("Expected a YAML collection as document contents")}class yje extends Error{constructor(t,n,r,i){super(),this.name=t,this.code=r,this.message=i,this.pos=n}}class zS extends yje{constructor(t,n,r){super("YAMLParseError",t,n,r)}}class pan extends yje{constructor(t,n,r){super("YAMLWarning",t,n,r)}}const lbe=(e,t)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>t.linePos(a));const{line:r,col:i}=n.linePos[0];n.message+=` at line ${r}, column ${i}`;let s=i-1,o=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(s>=60&&o.length>80){const a=Math.min(s-39,o.length-79);o=""+o.substring(a),s-=a-1}if(o.length>80&&(o=o.substring(0,79)+""),r>1&&/^ *$/.test(o.substring(0,s))){let a=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);a.length>80&&(a=a.substring(0,79)+`
`),o=a+o}if(/[^ ]/.test(o)){let a=1;const l=n.linePos[1];l&&l.line===r&&l.col>i&&(a=Math.max(1,Math.min(l.col-i,80-s)));const u=" ".repeat(s)+"^".repeat(a);n.message+=`:

${o}
${u}
`}};function fC(e,{flow:t,indicator:n,next:r,offset:i,onError:s,parentIndent:o,startOnNewline:a}){let l=!1,u=a,c=a,d="",f="",h=!1,p=!1,m=null,g=null,y=null,v=null,w=null,_=null,C=null;for(const k of e)switch(p&&(k.type!=="space"&&k.type!=="newline"&&k.type!=="comma"&&s(k.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),p=!1),m&&(u&&k.type!=="comment"&&k.type!=="newline"&&s(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),m=null),k.type){case"space":!t&&(n!=="doc-start"||r?.type!=="flow-collection")&&k.source.includes("	")&&(m=k),c=!0;break;case"comment":{c||s(k,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const I=k.source.substring(1)||" ";d?d+=f+I:d=I,f="",u=!1;break}case"newline":u?d?d+=k.source:(!_||n!=="seq-item-ind")&&(l=!0):f+=k.source,u=!0,h=!0,(g||y)&&(v=k),c=!0;break;case"anchor":g&&s(k,"MULTIPLE_ANCHORS","A node can have at most one anchor"),k.source.endsWith(":")&&s(k.offset+k.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),g=k,C??(C=k.offset),u=!1,c=!1,p=!0;break;case"tag":{y&&s(k,"MULTIPLE_TAGS","A node can have at most one tag"),y=k,C??(C=k.offset),u=!1,c=!1,p=!0;break}case n:(g||y)&&s(k,"BAD_PROP_ORDER",`Anchors and tags must be after the ${k.source} indicator`),_&&s(k,"UNEXPECTED_TOKEN",`Unexpected ${k.source} in ${t??"collection"}`),_=k,u=n==="seq-item-ind"||n==="explicit-key-ind",c=!1;break;case"comma":if(t){w&&s(k,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),w=k,u=!1,c=!1;break}default:s(k,"UNEXPECTED_TOKEN",`Unexpected ${k.type} token`),u=!1,c=!1}const S=e[e.length-1],T=S?S.offset+S.source.length:i;return p&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&s(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m&&(u&&m.indent<=o||r?.type==="block-map"||r?.type==="block-seq")&&s(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:w,found:_,spaceBefore:l,comment:d,hasNewline:h,anchor:g,tag:y,newlineAfterProp:v,end:T,start:C??T}}function eA(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(const t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(const t of e.items){for(const n of t.start)if(n.type==="newline")return!0;if(t.sep){for(const n of t.sep)if(n.type==="newline")return!0}if(eA(t.key)||eA(t.value))return!0}return!1;default:return!0}}function HG(e,t,n){if(t?.type==="flow-collection"){const r=t.end[0];r.indent===e&&(r.source==="]"||r.source==="}")&&eA(t)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function vje(e,t,n){const{uniqueKeys:r}=e.options;if(r===!1)return!1;const i=typeof r=="function"?r:(s,o)=>s===o||ji(s)&&ji(o)&&s.value===o.value;return t.some(s=>i(s.key,n))}const ube="All mapping items must start at the same column";function man({composeNode:e,composeEmptyNode:t},n,r,i,s){const o=s?.nodeClass??Hc,a=new o(n.schema);n.atRoot&&(n.atRoot=!1);let l=r.offset,u=null;for(const c of r.items){const{start:d,key:f,sep:h,value:p}=c,m=fC(d,{indicator:"explicit-key-ind",next:f??h?.[0],offset:l,onError:i,parentIndent:r.indent,startOnNewline:!0}),g=!m.found;if(g){if(f&&(f.type==="block-seq"?i(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in f&&f.indent!==r.indent&&i(l,"BAD_INDENT",ube)),!m.anchor&&!m.tag&&!h){u=m.end,m.comment&&(a.comment?a.comment+=`
`+m.comment:a.comment=m.comment);continue}(m.newlineAfterProp||eA(f))&&i(f??d[d.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else m.found?.indent!==r.indent&&i(l,"BAD_INDENT",ube);n.atKey=!0;const y=m.end,v=f?e(n,f,m,i):t(n,y,d,null,m,i);n.schema.compat&&HG(r.indent,f,i),n.atKey=!1,vje(n,a.items,v)&&i(y,"DUPLICATE_KEY","Map keys must be unique");const w=fC(h??[],{indicator:"map-value-ind",next:p,offset:v.range[2],onError:i,parentIndent:r.indent,startOnNewline:!f||f.type==="block-scalar"});if(l=w.end,w.found){g&&(p?.type==="block-map"&&!w.hasNewline&&i(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&m.start<w.found.offset-1024&&i(v.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const _=p?e(n,p,w,i):t(n,l,h,null,w,i);n.schema.compat&&HG(r.indent,p,i),l=_.range[2];const C=new Ol(v,_);n.options.keepSourceTokens&&(C.srcToken=c),a.items.push(C)}else{g&&i(v.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),w.comment&&(v.comment?v.comment+=`
`+w.comment:v.comment=w.comment);const _=new Ol(v);n.options.keepSourceTokens&&(_.srcToken=c),a.items.push(_)}}return u&&u<l&&i(u,"IMPOSSIBLE","Map comment with trailing content"),a.range=[r.offset,l,u??l],a}function gan({composeNode:e,composeEmptyNode:t},n,r,i,s){const o=s?.nodeClass??xb,a=new o(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let l=r.offset,u=null;for(const{start:c,value:d}of r.items){const f=fC(c,{indicator:"seq-item-ind",next:d,offset:l,onError:i,parentIndent:r.indent,startOnNewline:!0});if(!f.found)if(f.anchor||f.tag||d)d&&d.type==="block-seq"?i(f.end,"BAD_INDENT","All sequence items must start at the same column"):i(l,"MISSING_CHAR","Sequence item without - indicator");else{u=f.end,f.comment&&(a.comment=f.comment);continue}const h=d?e(n,d,f,i):t(n,f.end,c,null,f,i);n.schema.compat&&HG(r.indent,d,i),l=h.range[2],a.items.push(h)}return a.range=[r.offset,l,u??l],a}function XR(e,t,n,r){let i="";if(e){let s=!1,o="";for(const a of e){const{source:l,type:u}=a;switch(u){case"space":s=!0;break;case"comment":{n&&!s&&r(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const c=l.substring(1)||" ";i?i+=o+c:i=c,o="";break}case"newline":i&&(o+=l),s=!0;break;default:r(a,"UNEXPECTED_TOKEN",`Unexpected ${u} at node end`)}t+=l.length}}return{comment:i,offset:t}}const mU="Block collections are not allowed within flow collections",gU=e=>e&&(e.type==="block-map"||e.type==="block-seq");function yan({composeNode:e,composeEmptyNode:t},n,r,i,s){const o=r.start.source==="{",a=o?"flow map":"flow sequence",l=s?.nodeClass??(o?Hc:xb),u=new l(n.schema);u.flow=!0;const c=n.atRoot;c&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let d=r.offset+r.start.source.length;for(let g=0;g<r.items.length;++g){const y=r.items[g],{start:v,key:w,sep:_,value:C}=y,S=fC(v,{flow:a,indicator:"explicit-key-ind",next:w??_?.[0],offset:d,onError:i,parentIndent:r.indent,startOnNewline:!1});if(!S.found){if(!S.anchor&&!S.tag&&!_&&!C){g===0&&S.comma?i(S.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):g<r.items.length-1&&i(S.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),S.comment&&(u.comment?u.comment+=`
`+S.comment:u.comment=S.comment),d=S.end;continue}!o&&n.options.strict&&eA(w)&&i(w,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(g===0)S.comma&&i(S.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(S.comma||i(S.start,"MISSING_CHAR",`Missing , between ${a} items`),S.comment){let T="";e:for(const k of v)switch(k.type){case"comma":case"space":break;case"comment":T=k.source.substring(1);break e;default:break e}if(T){let k=u.items[u.items.length-1];qs(k)&&(k=k.value??k.key),k.comment?k.comment+=`
`+T:k.comment=T,S.comment=S.comment.substring(T.length+1)}}if(!o&&!_&&!S.found){const T=C?e(n,C,S,i):t(n,S.end,_,null,S,i);u.items.push(T),d=T.range[2],gU(C)&&i(T.range,"BLOCK_IN_FLOW",mU)}else{n.atKey=!0;const T=S.end,k=w?e(n,w,S,i):t(n,T,v,null,S,i);gU(w)&&i(k.range,"BLOCK_IN_FLOW",mU),n.atKey=!1;const I=fC(_??[],{flow:a,indicator:"map-value-ind",next:C,offset:k.range[2],onError:i,parentIndent:r.indent,startOnNewline:!1});if(I.found){if(!o&&!S.found&&n.options.strict){if(_)for(const N of _){if(N===I.found)break;if(N.type==="newline"){i(N,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}S.start<I.found.offset-1024&&i(I.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else C&&("source"in C&&C.source&&C.source[0]===":"?i(C,"MISSING_CHAR",`Missing space after : in ${a}`):i(I.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const R=C?e(n,C,I,i):I.found?t(n,I.end,_,null,I,i):null;R?gU(C)&&i(R.range,"BLOCK_IN_FLOW",mU):I.comment&&(k.comment?k.comment+=`
`+I.comment:k.comment=I.comment);const P=new Ol(k,R);if(n.options.keepSourceTokens&&(P.srcToken=y),o){const N=u;vje(n,N.items,k)&&i(T,"DUPLICATE_KEY","Map keys must be unique"),N.items.push(P)}else{const N=new Hc(n.schema);N.flow=!0,N.items.push(P);const $=(R??k).range;N.range=[k.range[0],$[1],$[2]],u.items.push(N)}d=R?R.range[2]:I.end}}const f=o?"}":"]",[h,...p]=r.end;let m=d;if(h&&h.source===f)m=h.offset+h.source.length;else{const g=a[0].toUpperCase()+a.substring(1),y=c?`${g} must end with a ${f}`:`${g} in block collection must be sufficiently indented and end with a ${f}`;i(d,c?"MISSING_CHAR":"BAD_INDENT",y),h&&h.source.length!==1&&p.unshift(h)}if(p.length>0){const g=XR(p,m,n.options.strict,i);g.comment&&(u.comment?u.comment+=`
`+g.comment:u.comment=g.comment),u.range=[r.offset,m,g.offset]}else u.range=[r.offset,m,m];return u}function yU(e,t,n,r,i,s){const o=n.type==="block-map"?man(e,t,n,r,s):n.type==="block-seq"?gan(e,t,n,r,s):yan(e,t,n,r,s),a=o.constructor;return i==="!"||i===a.tagName?(o.tag=a.tagName,o):(i&&(o.tag=i),o)}function van(e,t,n,r,i){const s=r.tag,o=s?t.directives.tagName(s.source,f=>i(s,"TAG_RESOLVE_FAILED",f)):null;if(n.type==="block-seq"){const{anchor:f,newlineAfterProp:h}=r,p=f&&s?f.offset>s.offset?f:s:f??s;p&&(!h||h.offset<p.offset)&&i(p,"MISSING_CHAR","Missing newline after block sequence props")}const a=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!s||!o||o==="!"||o===Hc.tagName&&a==="map"||o===xb.tagName&&a==="seq")return yU(e,t,n,i,o);let l=t.schema.tags.find(f=>f.tag===o&&f.collection===a);if(!l){const f=t.schema.knownTags[o];if(f&&f.collection===a)t.schema.tags.push(Object.assign({},f,{default:!1})),l=f;else return f?i(s,"BAD_COLLECTION_TYPE",`${f.tag} used for ${a} collection, but expects ${f.collection??"scalar"}`,!0):i(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),yU(e,t,n,i,o)}const u=yU(e,t,n,i,o,l),c=l.resolve?.(u,f=>i(s,"TAG_RESOLVE_FAILED",f),t.options)??u,d=Us(c)?c:new er(c);return d.range=u.range,d.tag=o,l?.format&&(d.format=l.format),d}function ban(e,t,n){const r=t.offset,i=wan(t,e.options.strict,n);if(!i)return{value:"",type:null,comment:"",range:[r,r,r]};const s=i.mode===">"?er.BLOCK_FOLDED:er.BLOCK_LITERAL,o=t.source?xan(t.source):[];let a=o.length;for(let m=o.length-1;m>=0;--m){const g=o[m][1];if(g===""||g==="\r")a=m;else break}if(a===0){const m=i.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"";let g=r+i.length;return t.source&&(g+=t.source.length),{value:m,type:s,comment:i.comment,range:[r,g,g]}}let l=t.indent+i.indent,u=t.offset+i.length,c=0;for(let m=0;m<a;++m){const[g,y]=o[m];if(y===""||y==="\r")i.indent===0&&g.length>l&&(l=g.length);else{g.length<l&&n(u+g.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),i.indent===0&&(l=g.length),c=m,l===0&&!e.atRoot&&n(u,"BAD_INDENT","Block scalar values in collections must be indented");break}u+=g.length+y.length+1}for(let m=o.length-1;m>=a;--m)o[m][0].length>l&&(a=m+1);let d="",f="",h=!1;for(let m=0;m<c;++m)d+=o[m][0].slice(l)+`
`;for(let m=c;m<a;++m){let[g,y]=o[m];u+=g.length+y.length+1;const v=y[y.length-1]==="\r";if(v&&(y=y.slice(0,-1)),y&&g.length<l){const _=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;n(u-y.length-(v?2:1),"BAD_INDENT",_),g=""}s===er.BLOCK_LITERAL?(d+=f+g.slice(l)+y,f=`
`):g.length>l||y[0]==="	"?(f===" "?f=`
`:!h&&f===`
`&&(f=`

`),d+=f+g.slice(l)+y,f=`
`,h=!0):y===""?f===`
`?d+=`
`:f=`
`:(d+=f+y,f=" ",h=!1)}switch(i.chomp){case"-":break;case"+":for(let m=a;m<o.length;++m)d+=`
`+o[m][0].slice(l);d[d.length-1]!==`
`&&(d+=`
`);break;default:d+=`
`}const p=r+i.length+t.source.length;return{value:d,type:s,comment:i.comment,range:[r,p,p]}}function wan({offset:e,props:t},n,r){if(t[0].type!=="block-scalar-header")return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=t[0],s=i[0];let o=0,a="",l=-1;for(let f=1;f<i.length;++f){const h=i[f];if(!a&&(h==="-"||h==="+"))a=h;else{const p=Number(h);!o&&p?o=p:l===-1&&(l=e+f)}}l!==-1&&r(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let u=!1,c="",d=i.length;for(let f=1;f<t.length;++f){const h=t[f];switch(h.type){case"space":u=!0;case"newline":d+=h.source.length;break;case"comment":n&&!u&&r(h,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),d+=h.source.length,c=h.source.substring(1);break;case"error":r(h,"UNEXPECTED_TOKEN",h.message),d+=h.source.length;break;default:{const p=`Unexpected token in block scalar header: ${h.type}`;r(h,"UNEXPECTED_TOKEN",p);const m=h.source;m&&typeof m=="string"&&(d+=m.length)}}}return{mode:s,indent:o,chomp:a,comment:c,length:d}}function xan(e){const t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),s=[r?.[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let o=1;o<t.length;o+=2)s.push([t[o],t[o+1]]);return s}function _an(e,t,n){const{offset:r,type:i,source:s,end:o}=e;let a,l;const u=(f,h,p)=>n(r+f,h,p);switch(i){case"scalar":a=er.PLAIN,l=Can(s,u);break;case"single-quoted-scalar":a=er.QUOTE_SINGLE,l=Ean(s,u);break;case"double-quoted-scalar":a=er.QUOTE_DOUBLE,l=San(s,u);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[r,r+s.length,r+s.length]}}const c=r+s.length,d=XR(o,c,t,n);return{value:l,type:a,comment:d.comment,range:[r,c,d.offset]}}function Can(e,t){let n="";switch(e[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${e[0]}`;break}case"@":case"`":{n=`reserved character ${e[0]}`;break}}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),bje(e)}function Ean(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),bje(e.slice(1,-1)).replace(/''/g,"'")}function bje(e){let t,n;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=t.exec(e);if(!r)return e;let i=r[1],s=" ",o=t.lastIndex;for(n.lastIndex=o;r=n.exec(e);)r[1]===""?s===`
`?i+=s:s=`
`:(i+=s+r[1],s=" "),o=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=o,r=a.exec(e),i+s+(r?.[1]??"")}function San(e,t){let n="";for(let r=1;r<e.length-1;++r){const i=e[r];if(!(i==="\r"&&e[r+1]===`
`))if(i===`
`){const{fold:s,offset:o}=Tan(e,r);n+=s,r=o}else if(i==="\\"){let s=e[++r];const o=kan[s];if(o)n+=o;else if(s===`
`)for(s=e[r+1];s===" "||s==="	";)s=e[++r+1];else if(s==="\r"&&e[r+1]===`
`)for(s=e[++r+1];s===" "||s==="	";)s=e[++r+1];else if(s==="x"||s==="u"||s==="U"){const a={x:2,u:4,U:8}[s];n+=Aan(e,r+1,a,t),r+=a}else{const a=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(i===" "||i==="	"){const s=r;let o=e[r+1];for(;o===" "||o==="	";)o=e[++r+1];o!==`
`&&!(o==="\r"&&e[r+2]===`
`)&&(n+=r>s?e.slice(s,r+1):i)}else n+=i}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}function Tan(e,t){let n="",r=e[t+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&e[t+2]!==`
`);)r===`
`&&(n+=`
`),t+=1,r=e[t+1];return n||(n=" "),{fold:n,offset:t}}const kan={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function Aan(e,t,n,r){const i=e.substr(t,n),o=i.length===n&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(o)){const a=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}function wje(e,t,n,r){const{value:i,type:s,comment:o,range:a}=t.type==="block-scalar"?ban(e,t,r):_an(t,e.options.strict,r),l=n?e.directives.tagName(n.source,d=>r(n,"TAG_RESOLVE_FAILED",d)):null;let u;e.options.stringKeys&&e.atKey?u=e.schema[Cp]:l?u=Ran(e.schema,i,l,n,r):t.type==="scalar"?u=Ian(e,i,t,r):u=e.schema[Cp];let c;try{const d=u.resolve(i,f=>r(n??t,"TAG_RESOLVE_FAILED",f),e.options);c=ji(d)?d:new er(d)}catch(d){const f=d instanceof Error?d.message:String(d);r(n??t,"TAG_RESOLVE_FAILED",f),c=new er(i)}return c.range=a,c.source=i,s&&(c.type=s),l&&(c.tag=l),u.format&&(c.format=u.format),o&&(c.comment=o),c}function Ran(e,t,n,r,i){if(n==="!")return e[Cp];const s=[];for(const a of e.tags)if(!a.collection&&a.tag===n)if(a.default&&a.test)s.push(a);else return a;for(const a of s)if(a.test?.test(t))return a;const o=e.knownTags[n];return o&&!o.collection?(e.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),e[Cp])}function Ian({atKey:e,directives:t,schema:n},r,i,s){const o=n.tags.find(a=>(a.default===!0||e&&a.default==="key")&&a.test?.test(r))||n[Cp];if(n.compat){const a=n.compat.find(l=>l.default&&l.test?.test(r))??n[Cp];if(o.tag!==a.tag){const l=t.tagString(o.tag),u=t.tagString(a.tag),c=`Value may be parsed as either ${l} or ${u}`;s(i,"TAG_RESOLVE_FAILED",c,!0)}}return o}function Dan(e,t,n){if(t){n??(n=t.length);for(let r=n-1;r>=0;--r){let i=t[r];switch(i.type){case"space":case"comment":case"newline":e-=i.source.length;continue}for(i=t[++r];i?.type==="space";)e+=i.source.length,i=t[++r];break}}return e}const Pan={composeNode:xje,composeEmptyNode:Pie};function xje(e,t,n,r){const i=e.atKey,{spaceBefore:s,comment:o,anchor:a,tag:l}=n;let u,c=!0;switch(t.type){case"alias":u=Oan(e,t,r),(a||l)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":u=wje(e,t,l,r),a&&(u.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":u=van(Pan,e,t,n,r),a&&(u.anchor=a.source.substring(1));break;default:{const d=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;r(t,"UNEXPECTED_TOKEN",d),u=Pie(e,t.offset,void 0,null,n,r),c=!1}}return a&&u.anchor===""&&r(a,"BAD_ALIAS","Anchor cannot be an empty string"),i&&e.options.stringKeys&&(!ji(u)||typeof u.value!="string"||u.tag&&u.tag!=="tag:yaml.org,2002:str")&&r(l??t,"NON_STRING_KEY","With stringKeys, all keys must be strings"),s&&(u.spaceBefore=!0),o&&(t.type==="scalar"&&t.source===""?u.comment=o:u.commentBefore=o),e.options.keepSourceTokens&&c&&(u.srcToken=t),u}function Pie(e,t,n,r,{spaceBefore:i,comment:s,anchor:o,tag:a,end:l},u){const c={type:"scalar",offset:Dan(t,n,r),indent:-1,source:""},d=wje(e,c,a,u);return o&&(d.anchor=o.source.substring(1),d.anchor===""&&u(o,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(d.spaceBefore=!0),s&&(d.comment=s,d.range[2]=l),d}function Oan({options:e},{offset:t,source:n,end:r},i){const s=new wie(n.substring(1));s.source===""&&i(t,"BAD_ALIAS","Alias cannot be an empty string"),s.source.endsWith(":")&&i(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=t+n.length,a=XR(r,o,e.strict,i);return s.range=[t,o,a.offset],a.comment&&(s.comment=a.comment),s}function Nan(e,t,{offset:n,start:r,value:i,end:s},o){const a=Object.assign({_directives:t},e),l=new U8(void 0,a),u={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},c=fC(r,{indicator:"doc-start",next:i??s?.[0],offset:n,onError:o,parentIndent:0,startOnNewline:!0});c.found&&(l.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!c.hasNewline&&o(c.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=i?xje(u,i,c,o):Pie(u,c.end,r,null,c,o);const d=l.contents.range[2],f=XR(s,d,!1,o);return f.comment&&(l.comment=f.comment),l.range=[n,d,f.offset],l}function W2(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+(typeof n=="string"?n.length:1)]}function cbe(e){let t="",n=!1,r=!1;for(let i=0;i<e.length;++i){const s=e[i];switch(s[0]){case"#":t+=(t===""?"":r?`

`:`
`)+(s.substring(1)||" "),n=!0,r=!1;break;case"%":e[i+1]?.[0]!=="#"&&(i+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:t,afterEmptyLine:r}}class $an{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,i,s)=>{const o=W2(n);s?this.warnings.push(new pan(o,r,i)):this.errors.push(new zS(o,r,i))},this.directives=new bl({version:t.version||"1.2"}),this.options=t}decorate(t,n){const{comment:r,afterEmptyLine:i}=cbe(this.prelude);if(r){const s=t.contents;if(n)t.comment=t.comment?`${t.comment}
${r}`:r;else if(i||t.directives.docStart||!s)t.commentBefore=r;else if(zs(s)&&!s.flow&&s.items.length>0){let o=s.items[0];qs(o)&&(o=o.key);const a=o.commentBefore;o.commentBefore=a?`${r}
${a}`:r}else{const o=s.commentBefore;s.commentBefore=o?`${r}
${o}`:r}}n?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:cbe(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,n=!1,r=-1){for(const i of t)yield*this.next(i);yield*this.end(n,r)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(n,r,i)=>{const s=W2(t);s[0]+=n,this.onError(s,"BAD_DIRECTIVE",r,i)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const n=Nan(this.options,this.directives,t,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const n=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,r=new zS(W2(t),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new zS(W2(t),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=XR(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new zS(W2(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const r=Object.assign({_directives:this.directives},this.options),i=new U8(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,n,n],this.decorate(i,!1),yield i}}}const _je="\uFEFF",Cje="",Eje="",qG="";function Man(e){switch(e){case _je:return"byte-order-mark";case Cje:return"doc-mode";case Eje:return"flow-error-end";case qG:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function zd(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const dbe=new Set("0123456789ABCDEFabcdef"),Fan=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),aP=new Set(",[]{}"),Lan=new Set(` ,[]{}
\r	`),vU=e=>!e||Lan.has(e);class jan{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,n=!1){if(t){if(typeof t!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null}this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let t=this.pos,n=this.buffer[t];for(;n===" "||n==="	";)n=this.buffer[++t];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let n=this.buffer[t];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+t];if(n==="\r"){const i=this.buffer[r+t+1];if(i===`
`||!i&&!this.atEnd)return t+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?t+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(t,3);if((r==="---"||r==="...")&&zd(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===_je&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let n=t.length,r=t.indexOf("#");for(;r!==-1;){const s=t[r-1];if(s===" "||s==="	"){n=r-1;break}else r=t.indexOf("#",r+1)}for(;;){const s=t[n-1];if(s===" "||s==="	")n-=1;else break}const i=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-n),yield*this.pushNewline(),"stream"}return yield Cje,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&zd(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!zd(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&zd(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(t===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(t[n]){case"#":yield*this.pushCount(t.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(vU),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,n,r=-1;do t=yield*this.pushNewline(),t>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(t+n>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&i[0]!=="#"||r===0&&(i.startsWith("---")||i.startsWith("..."))&&zd(i[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield Eje,yield*this.parseLineStart();let s=0;for(;i[s]===",";)s+=yield*this.pushCount(1),s+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(s+=yield*this.pushIndicators(),i[s]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-s),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(vU),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||zd(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let n=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let s=0;for(;this.buffer[n-1-s]==="\\";)s+=1;if(s%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let i=r.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const s=this.continueScalar(i+1);if(s===-1)break;i=r.indexOf(`
`,s)}i!==-1&&(n=i-(r[i-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const n=this.buffer[++t];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>zd(n)||n==="#")}*parseBlockScalar(){let t=this.pos-1,n=0,r;e:for(let s=this.pos;r=this.buffer[s];++s)switch(r){case" ":n+=1;break;case`
`:t=s,n=0;break;case"\r":{const o=this.buffer[s+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const s=this.continueScalar(t+1);if(s===-1)break;t=this.buffer.indexOf(`
`,s)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}let i=t+1;for(r=this.buffer[i];r===" ";)r=this.buffer[++i];if(r==="	"){for(;r==="	"||r===" "||r==="\r"||r===`
`;)r=this.buffer[++i];t=i-1}else if(!this.blockScalarKeep)do{let s=t-1,o=this.buffer[s];o==="\r"&&(o=this.buffer[--s]);const a=s;for(;o===" ";)o=this.buffer[--s];if(o===`
`&&s>=this.pos&&s+1+n>a)t=s;else break}while(!0);return yield qG,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,i;for(;i=this.buffer[++r];)if(i===":"){const s=this.buffer[r+1];if(zd(s)||t&&aP.has(s))break;n=r}else if(zd(i)){let s=this.buffer[r+1];if(i==="\r"&&(s===`
`?(r+=1,i=`
`,s=this.buffer[r+1]):n=r),s==="#"||t&&aP.has(s))break;if(i===`
`){const o=this.continueScalar(r+1);if(o===-1)break;r=Math.max(r,o-2)}}else{if(t&&aP.has(i))break;n=r}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield qG,yield*this.pushToIndex(n+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,n){const r=this.buffer.slice(this.pos,t);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(vU))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,n=this.charAt(1);if(zd(n)||t&&aP.has(n))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,n=this.buffer[t];for(;!zd(n)&&n!==">";)n=this.buffer[++t];return yield*this.pushToIndex(n===">"?t+1:t,!1)}else{let t=this.pos+1,n=this.buffer[t];for(;n;)if(Fan.has(n))n=this.buffer[++t];else if(n==="%"&&dbe.has(this.buffer[t+1])&&dbe.has(this.buffer[t+2]))n=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||t&&r==="	");const i=n-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=n),i}*pushUntil(t){let n=this.pos,r=this.buffer[n];for(;!t(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class Ban{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let n=0,r=this.lineStarts.length;for(;n<r;){const s=n+r>>1;this.lineStarts[s]<t?n=s+1:r=s}if(this.lineStarts[n]===t)return{line:n+1,col:1};if(n===0)return{line:0,col:t};const i=this.lineStarts[n-1];return{line:n,col:t-i+1}}}}function Ag(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function fbe(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function Sje(e){switch(e?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function lP(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function ox(e){if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;e[++t]?.type==="space";);return e.splice(t,e.length)}function hbe(e){if(e.start.type==="flow-seq-start")for(const t of e.items)t.sep&&!t.value&&!Ag(t.start,"explicit-key-ind")&&!Ag(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,Sje(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class zan{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new jan,this.onNewLine=t}*parse(t,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(t,n))yield*this.next(r);n||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const n=Man(t);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const r=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const n=t??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&hbe(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const i=r.items[r.items.length-1];if(i.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=n;else{Object.assign(i,{key:n,sep:[]}),this.onKeyLine=!i.explicitKey;return}break}case"block-seq":{const i=r.items[r.items.length-1];i.value?r.items.push({start:[],value:n}):i.value=n;break}case"flow-collection":{const i=r.items[r.items.length-1];!i||i.value?r.items.push({start:[],key:n,sep:[]}):i.sep?i.value=n:Object.assign(i,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const i=n.items[n.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&fbe(i.start)===-1&&(n.indent===0||i.start.every(s=>s.type!=="comment"||s.indent<n.indent))&&(r.type==="document"?r.end=i.start:r.items.push({start:i.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{fbe(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const n=this.startBlockValue(t);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const n=lP(this.peek(2)),r=ox(n);let i;t.end?(i=t.end,i.push(this.sourceToken),delete t.end):i=[this.sourceToken];const s={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:r,key:t,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){const n=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const r=!this.onKeyLine&&this.indent===t.indent,i=r&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let s=[];if(i&&n.sep&&!n.value){const o=[];for(let a=0;a<n.sep.length;++a){const l=n.sep[a];switch(l.type){case"newline":o.push(a);break;case"space":break;case"comment":l.indent>t.indent&&(o.length=0);break;default:o.length=0}}o.length>=2&&(s=n.sep.splice(o[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(s.push(this.sourceToken),t.items.push({start:s}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):i||n.value?(s.push(this.sourceToken),t.items.push({start:s,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Ag(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]});else if(Sje(n.key)&&!Ag(n.sep,"newline")){const o=ox(n.start),a=n.key,l=n.sep;l.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:a,sep:l}]})}else s.length>0?n.sep=n.sep.concat(s,this.sourceToken):n.sep.push(this.sourceToken);else if(Ag(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const o=ox(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?t.items.push({start:s,key:null,sep:[this.sourceToken]}):Ag(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const o=this.flowScalar(this.type);i||n.value?(t.items.push({start:s,key:o,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(o):(Object.assign(n,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{const o=this.startBlockValue(t);if(o){if(o.type==="block-seq"){if(!n.explicitKey&&n.sep&&!Ag(n.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else r&&t.items.push({start:s});this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){const n=t.items[t.items.length-1];switch(this.type){case"newline":if(n.value){const r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=t.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;n.value||Ag(n.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>t.indent){const r=this.startBlockValue(t);if(r){this.stack.push(r);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const n=t.items[t.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?t.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!n||n.value?t.items.push({start:[],key:i,sep:[]}):n.sep?this.stack.push(i):Object.assign(n,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const r=this.startBlockValue(t);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===t.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const i=lP(r),s=ox(i);hbe(t);const o=t.end.splice(1,t.end.length);o.push(this.sourceToken);const a={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:s,key:t,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=lP(t),r=ox(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=lP(t),r=ox(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,n){return this.type!=="comment"||this.indent<=n?!1:t.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function Uan(e){const t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new Ban||null,prettyErrors:t}}function Van(e,t={}){const{lineCounter:n,prettyErrors:r}=Uan(t),i=new zan(n?.addNewLine),s=new $an(t);let o=null;for(const a of s.compose(i.parse(e),!0,e.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new zS(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(o.errors.forEach(lbe(e,n)),o.warnings.forEach(lbe(e,n))),o}const Han="#/definitions/StudyConfig",qan="http://json-schema.org/draft-07/schema#",Wan=JSON.parse('{"Answer":{"additionalProperties":false,"description":"The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks or if skip logic is required based on the answer.\\n\\nAnswers are used to defined correct answers for a task. These are generally used in training tasks or if skip logic is required based on the answer. The answer field is used to define the correct answer to the question. The acceptableLow and acceptableHigh fields are used to define a range of acceptable answers (these are currently only used for training). For example, if the correct answer is 5, and the acceptableLow is 4 and the acceptableHigh is 6, then any answer between 4 and 6 will be considered correct.\\n\\nHere\'s an example of how to use the Answer interface to define the correct answer to a question:\\n\\n```js { \\"type\\": \\"markdown\\", \\"path\\": \\"<study-name>/assets/question.md\\", \\"response\\": [  {    \\"id\\": \\"response1\\",    \\"prompt\\": \\"What is 2 + 2?\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"numerical\\"  } ] \\"correctAnswer\\": [{  \\"id\\": \\"response1\\",  \\"answer\\": 4 }] } ```\\n\\nIn this example, the correct answer to the question \\"What is 2 + 2?\\" is 4. If the participant answers 4, they will be considered correct. If they answer anything other than 4, they will be considered incorrect.","properties":{"acceptableHigh":{"description":"The acceptable high value for the answer. This is used to define a range of acceptable answers.","type":"number"},"acceptableLow":{"description":"The acceptable low value for the answer. This is used to define a range of acceptable answers.","type":"number"},"answer":{"description":"The correct answer to the question."},"id":{"description":"The id of the answer. This is used to identify the answer in the data file.","type":"string"}},"required":["id","answer"],"type":"object"},"BaseComponents":{"additionalProperties":{"additionalProperties":false,"properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"anyOf":[{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"}],"description":"The parameters that are passed to the react component. These can be used within your react component to render different things."},"path":{"anyOf":[{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"}],"description":"The path to the markdown file. This should be a relative path from the public folder."},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"enum":["markdown","react-component","image","website","questionnaire","vega","video"],"type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"type":"object"},"description":"The baseComponents is an optional set of components which can help template other components. For example, suppose you have a single HTML file that you want to display to the user several times. Instead of having the same component twice in the `components` list, you can have a single baseComponent with all the information that the two HTML components will share. A great example is showing the same HTML component but with two different questions;\\n\\n Using baseComponents:\\n\\n```js \\"baseComponents\\": { \\"my-image-component\\": { \\"instructionLocation\\": \\"sidebar\\", \\"nextButtonLocation\\": \\"sidebar\\", \\"path\\": \\"<study-name>/assets/my-image.jpg\\", \\"response\\": [   {     \\"id\\": \\"my-image-id\\",     \\"options\\": [\\"Europe\\", \\"Japan\\", \\"USA\\"],     \\"prompt\\": \\"Your Selected Answer:\\",     \\"type\\": \\"dropdown\\"   } ], \\"type\\": \\"image\\" } } ``` In the above code snippet, we have a single base component which holds the information about the type of component, the path to the image, and the response (which is a dropdown containing three choices). Any component which contains the `\\"baseComponent\\":\\"my-image-component\\"` key-value pair will inherit each of these properties. Thus, if we have three different questions which have the same choices and are concerning the same image, we can define our components like below: ```js \\"components\\": { \\"q1\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with largest GDP\\", \\"instruction\\": \\"Which region has the largest GDP?\\" }, \\"q2\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with lowest GDP\\", \\"instruction\\": \\"Which region has the lowest GDP?\\" }, \\"q3\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with highest exports of Wheat\\", \\"instruction\\": \\"Which region had the most Wheat exported in 2022?\\" } } ```","type":"object"},"ButtonsResponse":{"additionalProperties":false,"description":"The ButtonsResponse interface is used to define the properties of a buttons response. ButtonsResponses render as a list of buttons that the participant can click. When a button is clicked, the value of the button is stored in the data file. Participants can cycle through the options using the arrow keys.\\n\\nExample: ```js {   \\"id\\": \\"buttonsResponse\\",   \\"type\\": \\"buttons\\",   \\"prompt\\": \\"Click a button\\",   \\"location\\": \\"belowStimulus\\",   \\"options\\": [     \\"Option 1\\",     \\"Option 2\\",     \\"Option 3\\"   ] } ``` In this example, the participant can click one of the buttons labeled \\"Option 1\\", \\"Option 2\\", or \\"Option 3\\".","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"optionOrder":{"description":"The order in which the buttons are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"buttons","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"CheckboxResponse":{"additionalProperties":false,"description":"The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.\\n\\n```js { \\"id\\": \\"q7\\", \\"prompt\\": \\"Checkbox example (not required)\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"checkbox\\", \\"options\\": [\\"Option 1\\", \\"Option 2\\", \\"Option 3\\"] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"horizontal":{"description":"Whether to render the checkboxes horizontally. Defaults to false, so they render horizontally.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"maxSelections":{"description":"The maximum number of selections that are required.","type":"number"},"minSelections":{"description":"The minimum number of selections that are required.","type":"number"},"optionOrder":{"description":"The order in which the checkboxes are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"description":"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"checkbox","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"},"withOther":{"description":"Whether to render the checkboxes with an \\"other\\" option.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"ComponentBlock":{"additionalProperties":false,"description":"The ComponentBlock interface is used to define order properties within the sequence. This is used to define the order of components in a study and the skip logic. It supports random assignment of trials using a pure random assignment and a [latin square](https://en.wikipedia.org/wiki/Latin_square).\\n\\nThe pure random assignment is a random assignment with no guarantees. For example, one component _could_ show up in the first position 10 times in a row. However, this situation is unlikely.\\n\\nHere\'s a snippet that shows how to use the random order:\\n\\n```js { \\"order\\": \\"random\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ``` This snippet would produce a random order of the components in the sequence array. For example, the resulting sequence array could be :\\n\\n```js [ [\\"component2\\", \\"component3\\", \\"component1\\"], [\\"component1\\", \\"component3\\", \\"component2\\"], [\\"component3\\", \\"component1\\", \\"component2\\"], ... ] ```\\n\\nThe latin square assignment is a random assignment with some guarantees. It ensures that each component is shown an equal number of times in each position. Here\'s a snippet that shows how to use the latin square order:\\n\\n```js { \\"order\\": \\"latinSquare\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ```\\n\\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component2\\", \\"component3\\", \\"component1\\"], [\\"component3\\", \\"component1\\", \\"component2\\"], ... ] ```\\n\\nThe fixed assignment is a fixed assignment of components. This is used when you want to show the components in a specific order. Here\'s a snippet that shows how to use the fixed order:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ```\\n\\nThis snippet would produce a fixed order of the components in the sequence array. The resulting sequence array would be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component1\\", \\"component2\\", \\"component3\\"], ... ] ```\\n\\nIn addition to the order property, the ComponentBlock interface also includes the `\\"numSamples\\"` property. This is used to reduce the number of components shown to a participant. This property respects the order property and the guarantees provided by the order property. For example, if you have three components in the components array and you set `\\"numSamples\\"` to 2, you would randomize across the three components while only showing a participant two of them. Here\'s a snippet that shows how to use the numSamples property:\\n\\n```js { \\"order\\": \\"latinSquare\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ], \\"numSamples\\": 2 } ```\\n\\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\"], [\\"component2\\", \\"component3\\"], [\\"component3\\", \\"component1\\"], ... ] ```\\n\\nThe interruptions property specifies an array of interruptions. These can be used for breaks or attention checks. Interruptions can be deterministic or random. Please see [InterruptionBlock](../../type-aliases/InterruptionBlock) for more specific information.\\n\\nThe skip property is used to define skip conditions. This is used to skip to a different component or block based on the response to a component or the number of correct or incorrect responses in a block. Please see [SkipConditions](../../type-aliases/SkipConditions) for more specific information.","properties":{"components":{"description":"The components that are included in the order.","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/ComponentBlock"},{"$ref":"#/definitions/DynamicBlock"}]},"type":"array"},"id":{"description":"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.","type":"string"},"interruptions":{"description":"The interruptions property specifies an array of interruptions. These can be used for breaks or attention checks.","items":{"$ref":"#/definitions/InterruptionBlock"},"type":"array"},"numSamples":{"description":"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.","type":"number"},"order":{"description":"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.","enum":["random","latinSquare","fixed"],"type":"string"},"skip":{"$ref":"#/definitions/SkipConditions","description":"The skip conditions for the block."}},"required":["order","components"],"type":"object"},"ComponentBlockCondition":{"additionalProperties":false,"description":"The ComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect components in a block. All answers on all components in the block are checked.\\n\\nAnswers are checked against the correct answers defined in the IndividualComponent\'s [CorrectAnswer](../Answer). If no correct answers are defined, the component is considered correct by default.\\n\\nYou might use this if a participant answers two questions in a block incorrectly. Here\'s an example of how to use the ComponentBlockCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"check\\": \\"block\\",   \\"condition\\": \\"numIncorrect\\",   \\"value\\": 2,   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, when the number of components with incorrect responses in the block is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.\\n\\nWhen the condition is met, the participant will immediately be redirected to the component or block specified in the `\\"to\\"` property. If no conditions are met, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"block","description":"The check we\'ll perform.","type":"string"},"condition":{"description":"The condition to check.","enum":["numCorrect","numIncorrect"],"type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The number of correct or incorrect responses to check for.","type":"number"}},"required":["check","condition","value","to"],"type":"object"},"ConfigResponseBlockLocation":{"enum":["sidebar","aboveStimulus","belowStimulus"],"type":"string"},"DeterministicInterruption":{"additionalProperties":false,"description":"The DeterministicInterruption interface is used to define an interruption that will be shown at a specific location in the block.\\n\\nFor example, if you want to show an interruption after the second component in the block, you would set firstLocation to 2. If you want to show an interruption after every 3 components, you would set spacing to 3. If you want to show an interruption after the second component and then every 3 components, you would set firstLocation to 2 and spacing to 3.\\n\\nThe components property is an array of the components that will be inserted at the location specified by firstLocation and spacing. These components should reference components in the StudyConfig.components section of the config.\\n\\nHere\'s an example of how to use the DeterministicInterruption:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"component6\\" ], \\"interruptions\\": [ {   \\"firstLocation\\": 2,   \\"spacing\\": 3,   \\"components\\": [     \\"interruption1\\",     \\"interruption2\\"   ] } ] } ```\\n\\nThe resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], ... ] ```","properties":{"components":{"description":"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.","items":{"type":"string"},"type":"array"},"firstLocation":{"description":"The Location of the first instance of the interruption. If this is set to 2, the interruption will be shown after the second component (inserted at index 2).","type":"number"},"spacing":{"description":"The number of components between breaks.","type":"number"}},"required":["firstLocation","spacing","components"],"type":"object"},"DropdownResponse":{"additionalProperties":false,"description":"The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.\\n\\nExample: ```js { \\"id\\": \\"q-color\\", \\"prompt\\": \\"What is your favorite color?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"dropdown\\", \\"placeholder\\": \\"Please choose your favorite color\\", \\"options\\": [\\"Red\\", \\"Blue\\"] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"maxSelections":{"description":"The maximum number of selections that are required.","type":"number"},"minSelections":{"description":"The minimum number of selections that are required.","type":"number"},"options":{"description":"The options that are displayed in the dropdown.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"dropdown","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"DynamicBlock":{"additionalProperties":false,"description":"The DynamicBlock interface is used to define a block where displayed components are controlled by a function. This is useful when you want to generate the sequence based on answers to previous questions or other factors.\\n\\nThe functionPath property is a path to the function that generates the components. This should be a relative path from the src/public folder.\\n\\nHere\'s an example of how to use the DynamicBlock:\\n\\n```js {   \\"id\\": \\"funcBlock\\",   \\"order\\": \\"dynamic\\",   \\"functionPath\\": \\"<study-name>/assets/function.js\\",   \\"parameters\\": {     \\"param1\\": \\"value1\\",     \\"param2\\": \\"value2\\"   } } ```","properties":{"functionPath":{"description":"The path to the function that generates the components. This should be a relative path from the src/public folder.","type":"string"},"id":{"description":"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.","type":"string"},"order":{"const":"dynamic","description":"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.","type":"string"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the function. These can be used within your function to render different things.","type":"object"}},"required":["id","order","functionPath"],"type":"object"},"ImageComponent":{"additionalProperties":false,"description":"The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.\\n\\nFor example, to render an image with a path of `path/to/study/assets/image.jpg` and a max width of 50%, you would use the following snippet: ```js { \\"type\\": \\"image\\", \\"path\\": \\"<study-name>/assets/image.jpg\\", \\"style\\": { \\"maxWidth\\": \\"50%\\" } } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"image","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"IndividualComponent":{"anyOf":[{"$ref":"#/definitions/MarkdownComponent"},{"$ref":"#/definitions/ReactComponent"},{"$ref":"#/definitions/ImageComponent"},{"$ref":"#/definitions/WebsiteComponent"},{"$ref":"#/definitions/QuestionnaireComponent"},{"$ref":"#/definitions/VegaComponent"},{"$ref":"#/definitions/VideoComponent"}]},"IndividualComponentAllResponsesCondition":{"additionalProperties":false,"description":"The IndividualComponentAllResponsesCondition interface is used to define a SkipCondition based on all answers to a specific component. The skip logic will be checked for every component in the block that has the specified name.\\n\\n:::info\\n\\nIf you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.\\n\\n:::\\n\\n\\nHere\'s an example of how to use the IndividualComponentAllResponsesCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"responses\\",   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, if all responses to the component with the ID \\"attentionCheck\\" are correct, the participant will be redirected to the end of the study. If any response is incorrect, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"responses","description":"The check we\'ll perform.","type":"string"},"name":{"description":"The name of the component to check.","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"}},"required":["name","check","to"],"type":"object"},"IndividualComponentSingleResponseCondition":{"additionalProperties":false,"description":"The IndividualComponentSingleResponseCondition interface is used to define a SkipCondition based on a single answer to a specific component. The skip logic will be checked for every component in the block that has the specified name.\\n\\n:::info\\n\\nIf you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.\\n\\n:::\\n\\nFor example, if you want to skip to a different component based on a response to a specific component, you would use the IndividualComponentSingleResponseCondition. Here\'s an example of how to use the IndividualComponentSingleResponseCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"response\\",   \\"responseId\\": \\"attentionCheckResponse\\",   \\"value\\": \\"the right answer\\",   \\"comparison\\": \\"equal\\",   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, we assign our skip logic to the component whose ID is \\"attentionCheck\\". If the answer given to the response \\"attentionCheckResponse\\" is equal to \\"the right answer\\", then the user will be redirected to the end of the study. If the response is _not_ equal to \\"the right answer\\", then the participant will continue to the next component in the sequence.","properties":{"check":{"const":"response","description":"The check we\'ll perform.","type":"string"},"comparison":{"description":"The comparison to use.","enum":["equal","notEqual"],"type":"string"},"name":{"description":"The name of the component to check.","type":"string"},"responseId":{"description":"The response id to check.","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The value to check.","type":["string","number"]}},"required":["name","check","responseId","value","comparison","to"],"type":"object"},"InheritedComponent":{"additionalProperties":false,"description":"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"baseComponent":{"type":"string"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"anyOf":[{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"}],"description":"The parameters that are passed to the react component. These can be used within your react component to render different things."},"path":{"anyOf":[{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"}],"description":"The path to the markdown file. This should be a relative path from the public folder."},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"enum":["markdown","react-component","image","website","questionnaire","vega","video"],"type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"required":["baseComponent"],"type":"object"},"InterruptionBlock":{"anyOf":[{"$ref":"#/definitions/DeterministicInterruption"},{"$ref":"#/definitions/RandomInterruption"}],"description":"The InterruptionBlock interface is used to define interruptions in a block. These can be used for breaks or attention checks. Interruptions can be deterministic or random."},"LikertResponse":{"additionalProperties":false,"description":"The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the numItems. For example, numItems: 5 will render 5 radio buttons, and numItems: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as \'Strongly Disagree\' and \'Strongly Agree\'.\\n\\nExample for a five-point Likert Scale:\\n\\n```js { \\"id\\": \\"q-satisfaction\\", \\"prompt\\": \\"Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable).\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"likert\\", \\"leftLabel\\": \\"Not Enjoyable\\", \\"rightLabel\\": \\"Very Enjoyable\\", \\"numItems\\": 5, \\"start\\": 1, \\"spacing\\": 1 } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"leftLabel":{"description":"The left label of the likert scale. E.g Strongly Disagree","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"numItems":{"description":"The number of options to render.","type":"number"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"rightLabel":{"description":"The right label of the likert scale. E.g Strongly Agree","type":"string"},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"spacing":{"description":"The spacing between the options. Defaults to 1.","type":"number"},"start":{"description":"The starting value of the likert scale. Defaults to 1.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"likert","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","numItems","prompt","type"],"type":"object"},"LongTextResponse":{"additionalProperties":false,"description":"The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder. ```js { \\"id\\": \\"q-name\\", \\"prompt\\": \\"What is your first name?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"longText\\", \\"placeholder\\": \\"Please enter your first name\\" } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"longText","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"MarkdownComponent":{"additionalProperties":false,"description":"The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text. Markdown components can have responses (e.g. in a consent form), or no responses (e.g. in a help text file). Here\'s an example with no responses for a simple help text file:\\n\\n```js { \\"type\\": \\"markdown\\", \\"path\\": \\"<study-name>/assets/help.md\\", \\"response\\": [] } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"markdown","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"MatrixResponse":{"additionalProperties":false,"description":"The MatrixResponse interface is used to define the properties of a matrix radio or matrix checkbox response. Question options are rendered as rows of the matrix, each row containing its own radio/checkbox group. Answer options are rendered as column headers of the matrix. These can be customized by passing in the custom strings into the answer options. Alternatively, `answerOptions` can be set to one of the following custom strings: \'satisfaction5\',\'satisfaction7\', \'likely5\', \'likely7\'. This will automatically generate the appropriate headers for the matrix.\\n\\nExample for a 5-scale satisfaction matrix with three questions:\\n\\n```js { \\"id\\": \\"multi-satisfaction\\", \\"prompt\\": \\"Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable) for the following items.\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"matrix-radio\\", \\"answerOptions\\": \\"satisfaction5\\", \\"questionOptions\\": [  \\"The tool we created\\",  \\"The technique we developed\\",  \\"The authors of the tools\\" ] } ```\\n\\nHere\'s an example using custom columns (answerOptions):\\n\\n```js { \\"id\\": \\"multi-custom\\", \\"prompt\\": \\"Which categories do the following items belong to?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"matrix-checkbox\\", \\"answerOptions\\": [  \\"Has Legs\\",  \\"Has Wings\\",  \\"Can Swim\\" ], \\"questionOptions\\": [  \\"Dog\\",  \\"Snake\\",  \\"Eagle\\",  \\"Salmon\\",  \\"Platypus\\" ]\\n\\n} ```","properties":{"answerOptions":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"const":"likely5","type":"string"},{"const":"likely7","type":"string"},{"const":"satisfaction5","type":"string"},{"const":"satisfaction7","type":"string"}],"description":"The answer options (columns). We provide some shortcuts for a likelihood scale (ranging from highly unlikely to highly likely) and a satisfaction scale (ranging from highly unsatisfied to highly satisfied) with either 5 or 7 options to choose from."},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"questionOptions":{"description":"The question options (rows) are the prompts for each response you\'d like to record.","items":{"type":"string"},"type":"array"},"questionOrder":{"description":"The order in which the questions are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"enum":["matrix-radio","matrix-checkbox"],"type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["answerOptions","id","prompt","questionOptions","type"],"type":"object"},"NumberOption":{"additionalProperties":false,"description":"The NumberOption interface is used to define the options for a slider response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.","properties":{"label":{"description":"The label displayed to participants.","type":"string"},"value":{"description":"The value stored in the participant\'s data.","type":"number"}},"required":["label","value"],"type":"object"},"NumericalResponse":{"additionalProperties":false,"description":"The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.\\n\\nExample: ```js { \\"id\\": \\"q-numerical\\", \\"prompt\\": \\"Numerical example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"numerical\\", \\"placeholder\\": \\"Enter your age, range from 0 - 120\\", \\"max\\": 120, \\"min\\": 0 } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"max":{"description":"The maximum value that is accepted in the input.","type":"number"},"min":{"description":"The minimum value that is accepted in the input.","type":"number"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"numerical","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"QuestionnaireComponent":{"additionalProperties":false,"description":"A QuestionnaireComponent is used to render simple questions that require a response. The main use case of this component type is to ask participants questions when you don\'t need to render a stimulus. Please note, that even though we\'re not using a stimulus, the responses still require a `location`. For example this could be used to collect demographic information from a participant using the following snippet:\\n\\n```js { \\"type\\": \\"questionnaire\\", \\"response\\": [  {    \\"id\\": \\"gender\\",    \\"prompt\\": \\"Gender:\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"checkbox\\",    \\"options\\": [\\"Man\\", \\"Woman\\", \\"Genderqueer\\", \\"Third-gender\\", ...]  } ] } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"questionnaire","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["response","type"],"type":"object"},"RadioResponse":{"additionalProperties":false,"description":"The RadioResponse interface is used to define the properties of a radio response. Radios have only one allowable selection. RadioResponses render as a radio input with user specified options, and optionally left and right labels.\\n\\nExample: ```js { \\"id\\": \\"q-radio\\", \\"prompt\\": \\"Radio button example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"radio\\", \\"options\\": [\\"Option 1\\", \\"Option 2\\"] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"horizontal":{"description":"Whether to render the radio buttons horizontally. Defaults to false, so they render horizontally.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"leftLabel":{"description":"The left label of the radio group. Used in Likert scales for example","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"optionOrder":{"description":"The order in which the radio buttons are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"description":"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"rightLabel":{"description":"The right label of the radio group. Used in Likert scales for example","type":"string"},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"radio","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"},"withOther":{"description":"Whether to render the radios with an \\"other\\" option.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"RandomInterruption":{"additionalProperties":false,"description":"The RandomInterruption interface is used to define an interruption that will be shown randomly in the block.\\n\\nFor example, if you want to show a single interruption randomly in the block, you would set `\\"spacing\\"` to \\"random\\" and `\\"numInterruptions\\"` to 1. If you want to show 3 interruptions randomly in the block, you would set `\\"spacing\\"` to \\"random\\" and `\\"numInterruptions\\"` to 3.\\n\\nThe components property is an array of the components that will be inserted randomly in the block. These components should reference components in the StudyConfig.components section of the config.\\n\\nHere\'s an example of how to use the RandomInterruption:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"component6\\" ], \\"interruptions\\": [ {   \\"spacing\\": \\"random\\",   \\"numInterruptions\\": 3,   \\"components\\": [     \\"interruption1\\",     \\"interruption2\\"   ] } ] } ```\\n\\nThe resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"interruption1\\", \\"interruption2\\", \\"component2\\", \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption1\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"interruption1\\", \\"interruption2\\", \\"component2\\", \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"component4\\", \\"interruption1\\", \\"interruption2\\", \\"component5\\", \\"component6\\"], [\\"component1\\", \\"component2\\" \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"interruption1\\", \\"interruption2\\", \\"component4\\", \\"component5\\", \\"interruption1\\", \\"interruption2\\", \\"component6\\"], ... ] ```","properties":{"components":{"description":"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.","items":{"type":"string"},"type":"array"},"numInterruptions":{"description":"The number of times the interruption will be randomly added","type":"number"},"spacing":{"const":"random","description":"If spacing is set to random, reVISit will add interruptions randomly. These interruptions will not ever be displayed as the first component in the block.","type":"string"}},"required":["spacing","numInterruptions","components"],"type":"object"},"RankingResponse":{"additionalProperties":false,"description":"The RankingResponse interface is used to define the properties of a ranking widget response. RankingResponses render as a ranking widget with user specified options.\\n\\nThere are three types of ranking widgets: Ranking Sublist: The participant is asked to rank a subset of items from a larger list. Ranking Categorical: The participant is asked to rank items within categories: HIGH, MEDIUM, and LOW. Ranking Pairwise: The participant is asked to rank items by comparing them in pairs.\\n\\n```js { \\"id\\": \\"ranking-sublist\\", \\"type\\": \\"ranking-sublist\\", \\"prompt\\": \\"Rank your top 2 favorite fruits from the list below\\", \\"location\\": \\"belowStimulus\\", \\"options\\": [\\"Apple\\", \\"Banana\\", \\"Orange\\", \\"Strawberry\\", \\"Grapes\\"], \\"numItems\\": 2 }, { \\"id\\": \\"ranking-categorical\\", \\"type\\": \\"ranking-categorical\\", \\"prompt\\": \\"Sort these hobbies into the categories of HIGH, MEDIUM, and LOW based on your level of interest.\\", \\"location\\": \\"belowStimulus\\", \\"options\\": [\\"Drawing\\", \\"Singing\\", \\"Hiking\\", \\"Dancing\\", \\"Photography\\"] }, { \\"id\\": \\"ranking-pairwise\\", \\"type\\": \\"ranking-pairwise\\", \\"prompt\\": \\"Which meal would you prefer\\", \\"location\\": \\"belowStimulus\\", \\"options\\": [\\"Pizza\\", \\"Sushi\\", \\"Burger\\", \\"Pasta\\", \\"Salad\\", \\"Tacos\\"] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"numItems":{"description":"The number of items to rank. Applies only to sublist and categorical ranking widgets.","type":"number"},"options":{"description":"The options that are displayed as ranking options, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"enum":["ranking-sublist","ranking-categorical","ranking-pairwise"],"type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"ReactComponent":{"additionalProperties":false,"description":"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.\\n\\nUnlike other types of components, the path for a React component is relative to the `src/public/` folder. Similar to our standard assets, we suggest creating a folder named `src/public/{studyName}/assets` to house all of the React component assets for a particular study. Your React component which you link to in the path must be default exported from its file.\\n\\nReact components created this way have a generic prop type passed to the component on render, `<StimulusParams<T>>`, which has the following types.\\n\\n```ts { parameters: T; setAnswer: ({ status, provenanceGraph, answers }: { status: boolean, provenanceGraph?: TrrackedProvenance, answers: Record<string, any> }) => void } ```\\n\\nparameters is the same object passed in from the ReactComponent type below, allowing you to pass options in from the config to your component. setAnswer is a callback function allowing the creator of the ReactComponent to programmatically set the answer, as well as the provenance graph. This can be useful if you don\'t use the default answer interface, and instead have something more unique.\\n\\nSo, for example, if I had the following ReactComponent in my config ```js { type: \'react-component\'; path: \'my_study/CoolComponent.tsx\'; parameters: {  name: \'Zach\';  age: 26; } } ```\\n\\nMy react component, CoolComponent.tsx, would exist in src/public/my_study/assets, and look something like this\\n\\n```ts export default function CoolComponent({ parameters, setAnswer }: StimulusParams<{name: string, age: number}>) { // render something } ```\\n\\nFor in depth examples, see the following studies, and their associated codebases. https://revisit.dev/study/demo-click-accuracy-test (https://github.com/revisit-studies/study/tree/v2.3.1/src/public/demo-click-accuracy-test/assets) https://revisit.dev/study/example-brush-interactions (https://github.com/revisit-studies/study/tree/v2.3.1/src/public/example-brush-interactions/assets)","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},"path":{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"react-component","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"ReactiveResponse":{"additionalProperties":false,"description":"The ReactiveResponse interface is used to define the properties of a reactive response. ReactiveResponses render as a list, that is connected to a WebsiteComponent, VegaComponent, or ReactComponent. When data is sent from the components, it is displayed in the list.\\n\\n```js { \\"id\\": \\"reactiveResponse\\", \\"prompt\\": \\"Answer clicked in the stimulus\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"reactive\\" } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"reactive","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"RepeatedComponentBlockCondition":{"additionalProperties":false,"description":"The RepeatedComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect repeated components. You might use this if you need to check if an attention check was failed multiple times. This is similar to the [ComponentBlockCondition](../ComponentBlockCondition), but it only checks a specific repeated component.\\n\\nHere\'s an example of how to use the RepeatedComponentBlockCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"repeatedComponent\\",   \\"condition\\": \\"numIncorrect\\",   \\"value\\": 2,   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, when the number of incorrect responses to the repeated component with the name \\"attentionCheck\\" is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"repeatedComponent","description":"The check we\'ll perform.","type":"string"},"condition":{"description":"The condition to check.","enum":["numCorrect","numIncorrect"],"type":"string"},"name":{"description":"The name of the repeated component to check (e.g. attentionCheck).","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The number of correct or incorrect responses to check for.","type":"number"}},"required":["name","check","condition","value","to"],"type":"object"},"Response":{"anyOf":[{"$ref":"#/definitions/NumericalResponse"},{"$ref":"#/definitions/ShortTextResponse"},{"$ref":"#/definitions/LongTextResponse"},{"$ref":"#/definitions/LikertResponse"},{"$ref":"#/definitions/DropdownResponse"},{"$ref":"#/definitions/SliderResponse"},{"$ref":"#/definitions/RadioResponse"},{"$ref":"#/definitions/CheckboxResponse"},{"$ref":"#/definitions/RankingResponse"},{"$ref":"#/definitions/ReactiveResponse"},{"$ref":"#/definitions/MatrixResponse"},{"$ref":"#/definitions/ButtonsResponse"},{"$ref":"#/definitions/TextOnlyResponse"}]},"ShortTextResponse":{"additionalProperties":false,"description":"The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.\\n\\n```js { \\"id\\": \\"q-short-text\\", \\"prompt\\": \\"Short text example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"shortText\\", \\"placeholder\\": \\"Enter your answer here\\" } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"shortText","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"SkipConditions":{"description":"The SkipConditions interface is used to define skip conditions. This is used to skip to a different component/block based on the response to a component or based on the number of correct/incorrect responses in a block. Skip conditions work recursively: if you have a nested block, the parent blocks\' skip conditions will be considered when computing the skip logic.\\n\\nSkip conditions are evaluated in the order they are defined in the array. If a condition is met, the participant will be redirected to the component or block specified in the `\\"to\\"` property. If no conditions are met, the participant will continue to the next component in the sequence.\\n\\nSkip conditions allow you to jump to a different component or block. If you intend to skip to a block, you should specify a block id in the sequence. If you intend to skip to a component, you should specify a component id. Skipping backwards is not supported. Skipping to a repeated component will skip to the first instance of the component after the component that triggered the skip.\\n\\nPlease see the interface definitions for more specific information on the different types of skip conditions.","items":{"anyOf":[{"$ref":"#/definitions/IndividualComponentSingleResponseCondition"},{"$ref":"#/definitions/IndividualComponentAllResponsesCondition"},{"$ref":"#/definitions/ComponentBlockCondition"},{"$ref":"#/definitions/RepeatedComponentBlockCondition"}]},"type":"array"},"SliderResponse":{"additionalProperties":false,"description":"The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.\\n\\nExample: ```js { \\"id\\": \\"q-slider\\", \\"prompt\\": \\"How are you feeling?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"slider\\", \\"options\\": [  {    \\"label\\": \\"Bad\\",    \\"value\\": 0  },  {    \\"label\\": \\"OK\\",    \\"value\\": 50  },  {    \\"label\\": \\"Good\\",    \\"value\\": 100  } ] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"options":{"description":"This defines the steps in the slider and the extent of the slider as an array of objects that have a label and a value.","items":{"$ref":"#/definitions/NumberOption"},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"smeqStyle":{"description":"Whether to render the slider with a SMEQ style. Defaults to false.","type":"boolean"},"snap":{"description":"Whether the slider should snap between values. Defaults to false. Slider snapping disables the label above the handle.","type":"boolean"},"spacing":{"description":"The spacing between the ticks. If not provided, the spacing is calculated as the range of the slider divided by power of 10.","type":"number"},"startingValue":{"description":"The starting value of the slider. Defaults to the minimum value.","type":"number"},"step":{"description":"The step value of the slider. If not provided (and snap not enabled), the step value is calculated as the range of the slider divided by 100.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"tlxStyle":{"description":"Whether to render the slider with a NASA-tlx style. Defaults to false.","type":"boolean"},"type":{"const":"slider","type":"string"},"withBar":{"description":"Whether to render the slider with a bar to the left. Defaults to true.","type":"boolean"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"StringOption":{"additionalProperties":false,"description":"The StringOption interface is used to define the options for a dropdown, radio, buttons, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.","properties":{"label":{"description":"The label displayed to participants. Markdown is supported.","type":"string"},"value":{"description":"The value stored in the participant\'s data.","type":"string"}},"required":["label","value"],"type":"object"},"StudyConfig":{"additionalProperties":false,"description":"The StudyConfig interface is used to define the properties of a study configuration. This is a JSON object with four main components: the StudyMetadata, the UIConfig, the Components, and the Sequence. Below is the general template that should be followed when constructing a Study configuration file.\\n\\n```js { \\"$schema\\": \\"https://raw.githubusercontent.com/revisit-studies/study/v2.3.1/src/parser/StudyConfigSchema.json\\", \\"studyMetadata\\": {  ... }, \\"uiConfig\\": {  ... }, \\"components\\": {  ... }, \\"sequence\\": {  ... } } ```\\n\\n:::info For information about each of the individual pieces of the study configuration file, you can visit the documentation for each one individually. ::: <br/>\\n\\nThe `$schema` line is used to verify the schema. If you\'re using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration.","properties":{"$schema":{"description":"A required json schema property. This should point to the github link for the version of the schema you would like. The `$schema` line is used to verify the schema. If you\'re using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration. See examples for more information","type":"string"},"baseComponents":{"$ref":"#/definitions/BaseComponents","description":"The base components that are used in the study. These components can be used to template other components. See [BaseComponents](../../type-aliases/BaseComponents) for more information."},"components":{"additionalProperties":{"anyOf":[{"$ref":"#/definitions/IndividualComponent"},{"$ref":"#/definitions/InheritedComponent"}]},"description":"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.","type":"object"},"importedLibraries":{"description":"A list of libraries that are used in the study. This is used to import external libraries into the study. Library names are valid namespaces to be used later.","items":{"type":"string"},"type":"array"},"sequence":{"anyOf":[{"$ref":"#/definitions/ComponentBlock"},{"$ref":"#/definitions/DynamicBlock"}],"description":"The order of the components in the study. This might include some randomness."},"studyMetadata":{"$ref":"#/definitions/StudyMetadata","description":"The metadata for the study. This is used to identify the study and version in the data file."},"uiConfig":{"$ref":"#/definitions/UIConfig","description":"The UI configuration for the study. This is used to configure the UI of the app."}},"required":["$schema","studyMetadata","uiConfig","components","sequence"],"type":"object"},"StudyMetadata":{"additionalProperties":false,"description":"The StudyMetadata is used to describe certain properties of a study. Some of this data is displayed on the landing page when running the app, such as the title and description. Below is an example of a StudyMetadata entry in your study configuration file:\\n\\n```js \\"studyMetadata\\" : { \\"title\\": \\"My New Study\\", \\"version\\": \\"pilot\\", \\"authors\\": [  \\"Jane Doe\\",  \\"John Doe\\" ], \\"date\\": \\"2024-04-01\\", \\"description\\": \\"This study is meant to test your ability.\\", \\"organizations\\": [  \\"The reVISit Team\\",  \\"The Other Team\\" ] } ```","properties":{"authors":{"description":"The authors of your study.","items":{"type":"string"},"type":"array"},"date":{"description":"The date of your study, may be useful for the researcher.","type":"string"},"description":{"description":"The description of your study, shown on the landing page.","type":"string"},"organizations":{"description":"The organizations that are associated with your study.","items":{"type":"string"},"type":"array"},"title":{"description":"The title of your study, shown on the landing page.","type":"string"},"version":{"description":"The version of your study. When you change a configuration file after a study has already been distributed to participants, you can change the version number so that the participants who see this new configuration file can be identified.","type":"string"}},"required":["title","version","authors","date","description","organizations"],"type":"object"},"Styles":{"additionalProperties":false,"properties":{"background":{"description":"Background","type":"string"},"backgroundColor":{"type":"string"},"backgroundImage":{"type":"string"},"backgroundPosition":{"type":"string"},"backgroundSize":{"type":"string"},"border":{"description":"Border","type":"string"},"borderRadius":{"type":"string"},"bottom":{"type":"string"},"color":{"description":"Typography","type":"string"},"filter":{"description":"Filter","type":"string"},"font":{"type":"string"},"fontFamily":{"type":"string"},"fontSize":{"type":"string"},"fontStyle":{"enum":["normal","italic","oblique"],"type":"string"},"fontWeight":{"type":["string","number"]},"height":{"description":"Sizing","type":"string"},"left":{"type":"string"},"letterSpacing":{"type":"string"},"lineHeight":{"type":["string","number"]},"margin":{"description":"Spacing","type":"string"},"maxHeight":{"type":"string"},"maxWidth":{"type":"string"},"minHeight":{"type":"string"},"minWidth":{"type":"string"},"padding":{"type":"string"},"position":{"description":"Positioning","enum":["static","relative","absolute","fixed","sticky"],"type":"string"},"right":{"type":"string"},"textAlign":{"enum":["start","center","end","justify","left","right","match-parent"],"type":"string"},"textDecoration":{"enum":["none","underline","overline","line-through","underline-overline"],"type":"string"},"textTransform":{"enum":["capitalize","lowercase","none","uppercase"],"type":"string"},"top":{"type":"string"},"transform":{"description":"Transform","type":"string"},"width":{"type":"string"},"wordSpacing":{"type":"string"}},"type":"object"},"TextOnlyResponse":{"additionalProperties":false,"description":"The TextOnlyResponse interface is used to define the properties of a text only response. TextOnlyResponses render as a block of text that is displayed to the user. This can be used to display instructions or other information. It does not accept any input from the user.\\n\\nExample: ```js {   \\"id\\": \\"textOnlyResponse\\",   \\"type\\": \\"textOnly\\",   \\"prompt\\": \\"This is a text only response, it accepts markdown so you can **bold** or _italicize_ text.\\",   \\"location\\": \\"belowStimulus\\",   \\"restartEnumeration\\": true } ```\\n\\nIn this example, the text only response is displayed below the stimulus and the enumeration of the questions is restarted.","properties":{"hidden":{"not":{}},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"not":{}},"prompt":{"description":"The markdown text that is displayed to the user.","type":"string"},"required":{"not":{}},"requiredLabel":{"not":{}},"requiredValue":{"not":{}},"restartEnumeration":{"description":"Whether to restart the enumeration of the questions. Defaults to false.","type":"boolean"},"secondaryText":{"not":{}},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"textOnly","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"not":{}}},"required":["id","prompt","type"],"type":"object"},"UIConfig":{"additionalProperties":false,"description":"The UIConfig is used to configure the UI of the app. This includes the logo, contact email, and whether to show a progress bar. The UIConfig is also used to configure the sidebar, which can be used to display the task instructions and capture responses. Below is an example of how the UI Config would look in your study configuration (note, there are optional fields that are not shown here): ```js uiConfig:{ \\"contactEmail\\": \\"contact@revisit.dev\\", \\"helpTextPath\\": \\"<study-name>/assets/help.md\\", \\"logoPath\\": \\"<study-name>/assets/logo.jpg\\", \\"withProgressBar\\": true, \\"autoDownloadStudy\\": true \\"autoDownloadTime\\": 5000, \\"studyEndMsg\\": \\"Thank you for completing this study. You\'re the best!\\", \\"withSidebar\\": true, \\"windowEventDebounceTime\\": 500, \\"urlParticipantIdParam\\": \\"PROLIFIC_ID\\", \\"numSequences\\": 500 } ``` In the above, the `<study-name>/assets/` path is referring to the path to your individual study assets. It is common practice to have your study directory contain an `assets` directory where all components and images relevant to your study reside. Note that this path is relative to the `public` folder of the repository - as is all other paths you define in reVISit (aside from React components whose paths are relative to `src/public`.)","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. Defaults to true.","type":"boolean"},"autoDownloadStudy":{"description":"Controls whether the study data is automatically downloaded at the end of the study.","type":"boolean"},"autoDownloadTime":{"description":"The time in milliseconds to wait before automatically downloading the study data.","type":"number"},"contactEmail":{"description":"The email address that used during the study if a participant clicks contact.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions."},"logoPath":{"description":"The path to the logo image. This is displayed on the landing page and the header.","type":"string"},"minHeightSize":{"description":"The minimum screen height size for the study","type":"number"},"minWidthSize":{"description":"The minimum screen width size for the study","type":"number"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button."},"nextButtonText":{"description":"The text to display on the next button.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. Defaults to false.","type":"boolean"},"numSequences":{"description":"The number of sequences to generate for the study. This is used to generate the random sequences for the study. Defaults to 1000.","type":"number"},"participantNameField":{"description":"The default name field for a participant. Directs revisit to use the task and response id as a name in UI elements. For example, if you wanted the response \'prolificId\' from the task \'introduction\' to be the name, this field would be \'introduction.prolificId\'","type":"string"},"previousButtonText":{"description":"The text that is displayed on the previous button.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. Defaults to false.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If true, will record audio on all components unless deactivated on individual components. Defaults to false.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If true, will record audio on all components unless deactivated on individual components. This must be set to true if you want to record audio on any component in your study. Defaults to false. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before any component that you want to record the screen on to ensure permissions are granted and screen capture has started.","type":"boolean"},"recordScreenFPS":{"description":"Desired fps for recording screen. If possible, this value will be used, but if it\'s not possible, the user agent will use the closest possible match.","type":"number"},"responseDividers":{"description":"Whether to show the response dividers. Defaults to false.","type":"boolean"},"showTitle":{"description":"Controls whether the title should be hidden in the study.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. Defaults to 300.","type":"number"},"studyEndMsg":{"description":"The message to display when the study ends.","type":"string"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"timeoutReject":{"description":"Whether to redirect a timed out participant to a rejection page. This only works for components where the `nextButtonDisableTime` field is set.","type":"boolean"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.","type":"number"},"urlParticipantIdParam":{"description":"If the participant ID is passed in the URL, this is the name of the querystring parameter that is used to capture the participant ID (e.g. PROLIFIC_ID). This will allow a user to continue a study on different devices and browsers.","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. Defaults to 100. E.g 100 here means 1000ms / 100ms = 10 times a second, 200 here means 1000ms / 200ms = 5 times per second","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered in the study.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question.","type":"boolean"}},"required":["logoPath","contactEmail","withProgressBar","withSidebar"],"type":"object"},"VegaComponent":{"anyOf":[{"$ref":"#/definitions/VegaComponentPath"},{"$ref":"#/definitions/VegaComponentConfig"}]},"VegaComponentConfig":{"additionalProperties":false,"description":"The VegaComponentConfig interface is used to define the properties of a Vega Component. This component is used to render a Vega/Vega-Lite Component by adding Vega/Vega-Lite specs within the reVISit config itself.\\n\\nTo do this, would use the following snippet: ```js { \\"type\\": \\"vega\\", \\"config\\": { ... vega specs here ...}, }\\n\\nIIf you are using Vega, you can use signals with `revisitAnswer` to send the user\'s responses back to the reVISit. For example, you can use the following snippet in your Vega spec\'s signals section: ```js { \\"signals\\": [  {    \\"name\\": \\"revisitAnswer\\",    \\"value\\": {},    \\"on\\": [      {        \\"events\\": \\"rect:click\\",        \\"update\\": \\"{responseId: \'vegaDemoResponse1\', response: datum.category}\\"      }    ]  } ] } In this example, when a user clicks on a rectangle in the Vega chart, the `revisitAnswer` signal is updated with the responseId and response. ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"vega","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["config","response","type"],"type":"object"},"VegaComponentPath":{"additionalProperties":false,"description":"The VegaComponentPath interface is used to define the properties of a Vega Component. This component is used to render a Vega/Vega-Lite Component with path pointing to your Vega/Vega-Lite specs file.\\n\\nFor example, to render a vega based stimuli with a path of `<study-name>/assets/vega.spec.json`, you would use the following snippet: ```js { \\"type\\": \\"vega\\", \\"path\\": \\"<study-name>/assets/vega.spec.json\\", } ```\\n\\nIf you are using Vega, you can use signals with `revisitAnswer` to send the user\'s responses back to the reVISit. For example, you can use the following snippet in your Vega spec file\'s signals section: ```js { \\"signals\\": [  {    \\"name\\": \\"revisitAnswer\\",    \\"value\\": {},    \\"on\\": [      {        \\"events\\": \\"rect:click\\",        \\"update\\": \\"{responseId: \'vegaDemoResponse1\', response: datum.category}\\"      }    ]  } ] } In this example, when a user clicks on a rectangle in the Vega chart, the `revisitAnswer` signal is updated with the responseId and response. This signal is then passed to reVISit as the participant\'s response. ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"vega","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"VideoComponent":{"additionalProperties":false,"description":"The VideoComponent interface is used to define the properties of a video component. This component is used to render a video with optional controls.\\n\\nMost often, video components will be used for trainings, and will have a `forceCompletion` field set to true. This will prevent the participant from moving on until the video has finished playing.\\n\\nAs such, the `forceCompletion` field is set to true by default, and the `withTimeline` field is set to false by default.\\n\\nFor example, to render a training video with a path of `<study-name>/assets/video.mp4`, you would use the following snippet: ```js {   \\"type\\": \\"video\\",   \\"path\\": \\"<study-name>/assets/video.mp4\\", } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"video","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"WebsiteComponent":{"additionalProperties":false,"description":"The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.\\n\\n```js { \\"type\\": \\"website\\", \\"path\\": \\"<study-name>/assets/website.html\\", } ```\\n\\nTo pass a data from the config to the website, you can use the `parameters` field as below:\\n\\n```js { \\"type\\": \\"website\\", \\"path\\": \\"<study-name>/website.html\\", \\"parameters\\": {  \\"barData\\": [0.32, 0.01, 1.2, 1.3, 0.82, 0.4, 0.3] }, \\"response\\": [  {    \\"id\\": \\"barChart\\",    \\"prompt\\": \\"Your selected answer:\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"reactive\\"  } ] } ``` In the `website.html` file, by including `revisit-communicate.js`, you can use the `Revisit.onDataReceive` method to retrieve the data, and `Revisit.postAnswers` to send the user\'s responses back to the reVISit as shown in the example below:\\n\\n```html <script src=\\"../../revisitUtilities/revisit-communicate.js\\"><\/script> <script> Revisit.onDataReceive((data) => {  const barData = data[\'barData\'];  ... });\\n\\n// Call out that \'barChart\' needs to match ID in \'response\' object Revisit.postAnswers({ barChart: userAnswer }); <\/script> ```\\n\\n If the html website implements Trrack library for provenance tracking, you can send the provenance graph back to reVISit by calling `Revisit.postProvenanceGraph` as shown in the example below. You need to call this each time the Trrack state is updated so that reVISit is kept aware of the changes in the provenance graph.\\n\\n```js const trrack = initializeTrrack({ initialState, registry });\\n\\n... Revisit.postProvenance(trrack.graph.backend); ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"},"path":{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"website","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"}}'),Gan={$ref:Han,$schema:qan,definitions:Wan},Yan="#/definitions/GlobalConfig",Kan="http://json-schema.org/draft-07/schema#",Xan={GlobalConfig:{additionalProperties:!1,description:"The GlobalConfig is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples in the public folder for more information",type:"string"},configs:{additionalProperties:{additionalProperties:!1,description:"The key is used to identify the study config file. This key is used in the configList property.",properties:{path:{description:"The path to the study config file. This should be a relative path from the public folder.",type:"string"},test:{description:"Indicates whether the study is a test study. This is used to hide the study from the landing page.",type:"boolean"}},required:["path"],type:"object"},description:"A required property that specifies the options for the configList property.",type:"object"},configsList:{description:"A required property that is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",items:{type:"string"},type:"array"}},required:["$schema","configs","configsList"],type:"object"}},Qan={$ref:Yan,$schema:Kan,definitions:Xan},Jan="#/definitions/LibraryConfig",Zan="http://json-schema.org/draft-07/schema#",eln=JSON.parse('{"Answer":{"additionalProperties":false,"description":"The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks or if skip logic is required based on the answer.\\n\\nAnswers are used to defined correct answers for a task. These are generally used in training tasks or if skip logic is required based on the answer. The answer field is used to define the correct answer to the question. The acceptableLow and acceptableHigh fields are used to define a range of acceptable answers (these are currently only used for training). For example, if the correct answer is 5, and the acceptableLow is 4 and the acceptableHigh is 6, then any answer between 4 and 6 will be considered correct.\\n\\nHere\'s an example of how to use the Answer interface to define the correct answer to a question:\\n\\n```js { \\"type\\": \\"markdown\\", \\"path\\": \\"<study-name>/assets/question.md\\", \\"response\\": [  {    \\"id\\": \\"response1\\",    \\"prompt\\": \\"What is 2 + 2?\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"numerical\\"  } ] \\"correctAnswer\\": [{  \\"id\\": \\"response1\\",  \\"answer\\": 4 }] } ```\\n\\nIn this example, the correct answer to the question \\"What is 2 + 2?\\" is 4. If the participant answers 4, they will be considered correct. If they answer anything other than 4, they will be considered incorrect.","properties":{"acceptableHigh":{"description":"The acceptable high value for the answer. This is used to define a range of acceptable answers.","type":"number"},"acceptableLow":{"description":"The acceptable low value for the answer. This is used to define a range of acceptable answers.","type":"number"},"answer":{"description":"The correct answer to the question."},"id":{"description":"The id of the answer. This is used to identify the answer in the data file.","type":"string"}},"required":["id","answer"],"type":"object"},"BaseComponents":{"additionalProperties":{"additionalProperties":false,"properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"anyOf":[{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"}],"description":"The parameters that are passed to the react component. These can be used within your react component to render different things."},"path":{"anyOf":[{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"}],"description":"The path to the markdown file. This should be a relative path from the public folder."},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"enum":["markdown","react-component","image","website","questionnaire","vega","video"],"type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"type":"object"},"description":"The baseComponents is an optional set of components which can help template other components. For example, suppose you have a single HTML file that you want to display to the user several times. Instead of having the same component twice in the `components` list, you can have a single baseComponent with all the information that the two HTML components will share. A great example is showing the same HTML component but with two different questions;\\n\\n Using baseComponents:\\n\\n```js \\"baseComponents\\": { \\"my-image-component\\": { \\"instructionLocation\\": \\"sidebar\\", \\"nextButtonLocation\\": \\"sidebar\\", \\"path\\": \\"<study-name>/assets/my-image.jpg\\", \\"response\\": [   {     \\"id\\": \\"my-image-id\\",     \\"options\\": [\\"Europe\\", \\"Japan\\", \\"USA\\"],     \\"prompt\\": \\"Your Selected Answer:\\",     \\"type\\": \\"dropdown\\"   } ], \\"type\\": \\"image\\" } } ``` In the above code snippet, we have a single base component which holds the information about the type of component, the path to the image, and the response (which is a dropdown containing three choices). Any component which contains the `\\"baseComponent\\":\\"my-image-component\\"` key-value pair will inherit each of these properties. Thus, if we have three different questions which have the same choices and are concerning the same image, we can define our components like below: ```js \\"components\\": { \\"q1\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with largest GDP\\", \\"instruction\\": \\"Which region has the largest GDP?\\" }, \\"q2\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with lowest GDP\\", \\"instruction\\": \\"Which region has the lowest GDP?\\" }, \\"q3\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with highest exports of Wheat\\", \\"instruction\\": \\"Which region had the most Wheat exported in 2022?\\" } } ```","type":"object"},"ButtonsResponse":{"additionalProperties":false,"description":"The ButtonsResponse interface is used to define the properties of a buttons response. ButtonsResponses render as a list of buttons that the participant can click. When a button is clicked, the value of the button is stored in the data file. Participants can cycle through the options using the arrow keys.\\n\\nExample: ```js {   \\"id\\": \\"buttonsResponse\\",   \\"type\\": \\"buttons\\",   \\"prompt\\": \\"Click a button\\",   \\"location\\": \\"belowStimulus\\",   \\"options\\": [     \\"Option 1\\",     \\"Option 2\\",     \\"Option 3\\"   ] } ``` In this example, the participant can click one of the buttons labeled \\"Option 1\\", \\"Option 2\\", or \\"Option 3\\".","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"optionOrder":{"description":"The order in which the buttons are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"buttons","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"CheckboxResponse":{"additionalProperties":false,"description":"The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.\\n\\n```js { \\"id\\": \\"q7\\", \\"prompt\\": \\"Checkbox example (not required)\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"checkbox\\", \\"options\\": [\\"Option 1\\", \\"Option 2\\", \\"Option 3\\"] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"horizontal":{"description":"Whether to render the checkboxes horizontally. Defaults to false, so they render horizontally.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"maxSelections":{"description":"The maximum number of selections that are required.","type":"number"},"minSelections":{"description":"The minimum number of selections that are required.","type":"number"},"optionOrder":{"description":"The order in which the checkboxes are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"description":"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"checkbox","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"},"withOther":{"description":"Whether to render the checkboxes with an \\"other\\" option.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"ComponentBlock":{"additionalProperties":false,"description":"The ComponentBlock interface is used to define order properties within the sequence. This is used to define the order of components in a study and the skip logic. It supports random assignment of trials using a pure random assignment and a [latin square](https://en.wikipedia.org/wiki/Latin_square).\\n\\nThe pure random assignment is a random assignment with no guarantees. For example, one component _could_ show up in the first position 10 times in a row. However, this situation is unlikely.\\n\\nHere\'s a snippet that shows how to use the random order:\\n\\n```js { \\"order\\": \\"random\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ``` This snippet would produce a random order of the components in the sequence array. For example, the resulting sequence array could be :\\n\\n```js [ [\\"component2\\", \\"component3\\", \\"component1\\"], [\\"component1\\", \\"component3\\", \\"component2\\"], [\\"component3\\", \\"component1\\", \\"component2\\"], ... ] ```\\n\\nThe latin square assignment is a random assignment with some guarantees. It ensures that each component is shown an equal number of times in each position. Here\'s a snippet that shows how to use the latin square order:\\n\\n```js { \\"order\\": \\"latinSquare\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ```\\n\\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component2\\", \\"component3\\", \\"component1\\"], [\\"component3\\", \\"component1\\", \\"component2\\"], ... ] ```\\n\\nThe fixed assignment is a fixed assignment of components. This is used when you want to show the components in a specific order. Here\'s a snippet that shows how to use the fixed order:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ```\\n\\nThis snippet would produce a fixed order of the components in the sequence array. The resulting sequence array would be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component1\\", \\"component2\\", \\"component3\\"], ... ] ```\\n\\nIn addition to the order property, the ComponentBlock interface also includes the `\\"numSamples\\"` property. This is used to reduce the number of components shown to a participant. This property respects the order property and the guarantees provided by the order property. For example, if you have three components in the components array and you set `\\"numSamples\\"` to 2, you would randomize across the three components while only showing a participant two of them. Here\'s a snippet that shows how to use the numSamples property:\\n\\n```js { \\"order\\": \\"latinSquare\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ], \\"numSamples\\": 2 } ```\\n\\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\"], [\\"component2\\", \\"component3\\"], [\\"component3\\", \\"component1\\"], ... ] ```\\n\\nThe interruptions property specifies an array of interruptions. These can be used for breaks or attention checks. Interruptions can be deterministic or random. Please see [InterruptionBlock](../../type-aliases/InterruptionBlock) for more specific information.\\n\\nThe skip property is used to define skip conditions. This is used to skip to a different component or block based on the response to a component or the number of correct or incorrect responses in a block. Please see [SkipConditions](../../type-aliases/SkipConditions) for more specific information.","properties":{"components":{"description":"The components that are included in the order.","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/ComponentBlock"},{"$ref":"#/definitions/DynamicBlock"}]},"type":"array"},"id":{"description":"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.","type":"string"},"interruptions":{"description":"The interruptions property specifies an array of interruptions. These can be used for breaks or attention checks.","items":{"$ref":"#/definitions/InterruptionBlock"},"type":"array"},"numSamples":{"description":"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.","type":"number"},"order":{"description":"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.","enum":["random","latinSquare","fixed"],"type":"string"},"skip":{"$ref":"#/definitions/SkipConditions","description":"The skip conditions for the block."}},"required":["order","components"],"type":"object"},"ComponentBlockCondition":{"additionalProperties":false,"description":"The ComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect components in a block. All answers on all components in the block are checked.\\n\\nAnswers are checked against the correct answers defined in the IndividualComponent\'s [CorrectAnswer](../Answer). If no correct answers are defined, the component is considered correct by default.\\n\\nYou might use this if a participant answers two questions in a block incorrectly. Here\'s an example of how to use the ComponentBlockCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"check\\": \\"block\\",   \\"condition\\": \\"numIncorrect\\",   \\"value\\": 2,   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, when the number of components with incorrect responses in the block is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.\\n\\nWhen the condition is met, the participant will immediately be redirected to the component or block specified in the `\\"to\\"` property. If no conditions are met, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"block","description":"The check we\'ll perform.","type":"string"},"condition":{"description":"The condition to check.","enum":["numCorrect","numIncorrect"],"type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The number of correct or incorrect responses to check for.","type":"number"}},"required":["check","condition","value","to"],"type":"object"},"ConfigResponseBlockLocation":{"enum":["sidebar","aboveStimulus","belowStimulus"],"type":"string"},"DeterministicInterruption":{"additionalProperties":false,"description":"The DeterministicInterruption interface is used to define an interruption that will be shown at a specific location in the block.\\n\\nFor example, if you want to show an interruption after the second component in the block, you would set firstLocation to 2. If you want to show an interruption after every 3 components, you would set spacing to 3. If you want to show an interruption after the second component and then every 3 components, you would set firstLocation to 2 and spacing to 3.\\n\\nThe components property is an array of the components that will be inserted at the location specified by firstLocation and spacing. These components should reference components in the StudyConfig.components section of the config.\\n\\nHere\'s an example of how to use the DeterministicInterruption:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"component6\\" ], \\"interruptions\\": [ {   \\"firstLocation\\": 2,   \\"spacing\\": 3,   \\"components\\": [     \\"interruption1\\",     \\"interruption2\\"   ] } ] } ```\\n\\nThe resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], ... ] ```","properties":{"components":{"description":"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.","items":{"type":"string"},"type":"array"},"firstLocation":{"description":"The Location of the first instance of the interruption. If this is set to 2, the interruption will be shown after the second component (inserted at index 2).","type":"number"},"spacing":{"description":"The number of components between breaks.","type":"number"}},"required":["firstLocation","spacing","components"],"type":"object"},"DropdownResponse":{"additionalProperties":false,"description":"The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.\\n\\nExample: ```js { \\"id\\": \\"q-color\\", \\"prompt\\": \\"What is your favorite color?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"dropdown\\", \\"placeholder\\": \\"Please choose your favorite color\\", \\"options\\": [\\"Red\\", \\"Blue\\"] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"maxSelections":{"description":"The maximum number of selections that are required.","type":"number"},"minSelections":{"description":"The minimum number of selections that are required.","type":"number"},"options":{"description":"The options that are displayed in the dropdown.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"dropdown","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"DynamicBlock":{"additionalProperties":false,"description":"The DynamicBlock interface is used to define a block where displayed components are controlled by a function. This is useful when you want to generate the sequence based on answers to previous questions or other factors.\\n\\nThe functionPath property is a path to the function that generates the components. This should be a relative path from the src/public folder.\\n\\nHere\'s an example of how to use the DynamicBlock:\\n\\n```js {   \\"id\\": \\"funcBlock\\",   \\"order\\": \\"dynamic\\",   \\"functionPath\\": \\"<study-name>/assets/function.js\\",   \\"parameters\\": {     \\"param1\\": \\"value1\\",     \\"param2\\": \\"value2\\"   } } ```","properties":{"functionPath":{"description":"The path to the function that generates the components. This should be a relative path from the src/public folder.","type":"string"},"id":{"description":"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.","type":"string"},"order":{"const":"dynamic","description":"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.","type":"string"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the function. These can be used within your function to render different things.","type":"object"}},"required":["id","order","functionPath"],"type":"object"},"ImageComponent":{"additionalProperties":false,"description":"The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.\\n\\nFor example, to render an image with a path of `path/to/study/assets/image.jpg` and a max width of 50%, you would use the following snippet: ```js { \\"type\\": \\"image\\", \\"path\\": \\"<study-name>/assets/image.jpg\\", \\"style\\": { \\"maxWidth\\": \\"50%\\" } } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"image","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"IndividualComponent":{"anyOf":[{"$ref":"#/definitions/MarkdownComponent"},{"$ref":"#/definitions/ReactComponent"},{"$ref":"#/definitions/ImageComponent"},{"$ref":"#/definitions/WebsiteComponent"},{"$ref":"#/definitions/QuestionnaireComponent"},{"$ref":"#/definitions/VegaComponent"},{"$ref":"#/definitions/VideoComponent"}]},"IndividualComponentAllResponsesCondition":{"additionalProperties":false,"description":"The IndividualComponentAllResponsesCondition interface is used to define a SkipCondition based on all answers to a specific component. The skip logic will be checked for every component in the block that has the specified name.\\n\\n:::info\\n\\nIf you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.\\n\\n:::\\n\\n\\nHere\'s an example of how to use the IndividualComponentAllResponsesCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"responses\\",   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, if all responses to the component with the ID \\"attentionCheck\\" are correct, the participant will be redirected to the end of the study. If any response is incorrect, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"responses","description":"The check we\'ll perform.","type":"string"},"name":{"description":"The name of the component to check.","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"}},"required":["name","check","to"],"type":"object"},"IndividualComponentSingleResponseCondition":{"additionalProperties":false,"description":"The IndividualComponentSingleResponseCondition interface is used to define a SkipCondition based on a single answer to a specific component. The skip logic will be checked for every component in the block that has the specified name.\\n\\n:::info\\n\\nIf you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.\\n\\n:::\\n\\nFor example, if you want to skip to a different component based on a response to a specific component, you would use the IndividualComponentSingleResponseCondition. Here\'s an example of how to use the IndividualComponentSingleResponseCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"response\\",   \\"responseId\\": \\"attentionCheckResponse\\",   \\"value\\": \\"the right answer\\",   \\"comparison\\": \\"equal\\",   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, we assign our skip logic to the component whose ID is \\"attentionCheck\\". If the answer given to the response \\"attentionCheckResponse\\" is equal to \\"the right answer\\", then the user will be redirected to the end of the study. If the response is _not_ equal to \\"the right answer\\", then the participant will continue to the next component in the sequence.","properties":{"check":{"const":"response","description":"The check we\'ll perform.","type":"string"},"comparison":{"description":"The comparison to use.","enum":["equal","notEqual"],"type":"string"},"name":{"description":"The name of the component to check.","type":"string"},"responseId":{"description":"The response id to check.","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The value to check.","type":["string","number"]}},"required":["name","check","responseId","value","comparison","to"],"type":"object"},"InheritedComponent":{"additionalProperties":false,"description":"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"baseComponent":{"type":"string"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"anyOf":[{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"}],"description":"The parameters that are passed to the react component. These can be used within your react component to render different things."},"path":{"anyOf":[{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"}],"description":"The path to the markdown file. This should be a relative path from the public folder."},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"enum":["markdown","react-component","image","website","questionnaire","vega","video"],"type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"required":["baseComponent"],"type":"object"},"InterruptionBlock":{"anyOf":[{"$ref":"#/definitions/DeterministicInterruption"},{"$ref":"#/definitions/RandomInterruption"}],"description":"The InterruptionBlock interface is used to define interruptions in a block. These can be used for breaks or attention checks. Interruptions can be deterministic or random."},"LibraryConfig":{"additionalProperties":false,"description":"LibraryConfig is used to define the properties of a library configuration. This is a JSON object with three main components: baseComponents, components, and the sequences. Libraries are useful for defining components and sequences of these components that are to be reused across multiple studies. We (the reVISit team) provide several libraries that can be used in your study configurations. Check the public/libraries folder in the reVISit-studies repository for available libraries. We also plan to accept community contributions for libraries. If you have a library that you think would be useful for others, please reach out to us. We would love to include it in our repository.\\n\\nBelow is the general template that should be followed when constructing a Library configuration file.\\n\\n```js {  \\"$schema\\": \\"https://raw.githubusercontent.com/revisit-studies/study/v2.3.1/src/parser/LibraryConfigSchema.json\\",  \\"baseComponents\\": {    // BaseComponents here are defined exactly as is in the StudyConfig  },  \\"components\\": {    // Components here are defined exactly as is in the StudyConfig  },  \\"sequences\\": {   // Sequences here are defined as \\"key\\": \\"value\\" pairs where the key is the name of the sequence and the value is a ComponentBlock, just like in the StudyConfig  } } ```","properties":{"$schema":{"description":"A required json schema property. This should point to the github link for the version of the schema you would like. The `$schema` line is used to verify the schema. If you\'re using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration. See examples for more information","type":"string"},"additionalDescription":{"description":"Additional description of the library. It accepts markdown formatting.","type":"string"},"baseComponents":{"$ref":"#/definitions/BaseComponents","description":"The base components that are used in the study. These components can be used to template other components. See [BaseComponents](../../type-aliases/BaseComponents) for more information."},"components":{"additionalProperties":{"anyOf":[{"$ref":"#/definitions/IndividualComponent"},{"$ref":"#/definitions/InheritedComponent"}]},"description":"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.","type":"object"},"description":{"description":"A description of the library.","type":"string"},"doi":{"description":"The DOI of the paper where the content of the library is based on.","type":"string"},"externalLink":{"description":"The external link to the paper/website where the content of the library is based on.","type":"string"},"reference":{"description":"The reference to the paper where the content of the library is based on.","type":"string"},"sequences":{"additionalProperties":{"anyOf":[{"$ref":"#/definitions/ComponentBlock"},{"$ref":"#/definitions/DynamicBlock"}],"description":"The order of the components in the study. This might include some randomness."},"description":"The order of the components in the study. This might include some randomness.","type":"object"}},"required":["$schema","description","components","sequences"],"type":"object"},"LikertResponse":{"additionalProperties":false,"description":"The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the numItems. For example, numItems: 5 will render 5 radio buttons, and numItems: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as \'Strongly Disagree\' and \'Strongly Agree\'.\\n\\nExample for a five-point Likert Scale:\\n\\n```js { \\"id\\": \\"q-satisfaction\\", \\"prompt\\": \\"Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable).\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"likert\\", \\"leftLabel\\": \\"Not Enjoyable\\", \\"rightLabel\\": \\"Very Enjoyable\\", \\"numItems\\": 5, \\"start\\": 1, \\"spacing\\": 1 } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"leftLabel":{"description":"The left label of the likert scale. E.g Strongly Disagree","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"numItems":{"description":"The number of options to render.","type":"number"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"rightLabel":{"description":"The right label of the likert scale. E.g Strongly Agree","type":"string"},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"spacing":{"description":"The spacing between the options. Defaults to 1.","type":"number"},"start":{"description":"The starting value of the likert scale. Defaults to 1.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"likert","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","numItems","prompt","type"],"type":"object"},"LongTextResponse":{"additionalProperties":false,"description":"The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder. ```js { \\"id\\": \\"q-name\\", \\"prompt\\": \\"What is your first name?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"longText\\", \\"placeholder\\": \\"Please enter your first name\\" } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"longText","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"MarkdownComponent":{"additionalProperties":false,"description":"The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text. Markdown components can have responses (e.g. in a consent form), or no responses (e.g. in a help text file). Here\'s an example with no responses for a simple help text file:\\n\\n```js { \\"type\\": \\"markdown\\", \\"path\\": \\"<study-name>/assets/help.md\\", \\"response\\": [] } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"markdown","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"MatrixResponse":{"additionalProperties":false,"description":"The MatrixResponse interface is used to define the properties of a matrix radio or matrix checkbox response. Question options are rendered as rows of the matrix, each row containing its own radio/checkbox group. Answer options are rendered as column headers of the matrix. These can be customized by passing in the custom strings into the answer options. Alternatively, `answerOptions` can be set to one of the following custom strings: \'satisfaction5\',\'satisfaction7\', \'likely5\', \'likely7\'. This will automatically generate the appropriate headers for the matrix.\\n\\nExample for a 5-scale satisfaction matrix with three questions:\\n\\n```js { \\"id\\": \\"multi-satisfaction\\", \\"prompt\\": \\"Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable) for the following items.\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"matrix-radio\\", \\"answerOptions\\": \\"satisfaction5\\", \\"questionOptions\\": [  \\"The tool we created\\",  \\"The technique we developed\\",  \\"The authors of the tools\\" ] } ```\\n\\nHere\'s an example using custom columns (answerOptions):\\n\\n```js { \\"id\\": \\"multi-custom\\", \\"prompt\\": \\"Which categories do the following items belong to?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"matrix-checkbox\\", \\"answerOptions\\": [  \\"Has Legs\\",  \\"Has Wings\\",  \\"Can Swim\\" ], \\"questionOptions\\": [  \\"Dog\\",  \\"Snake\\",  \\"Eagle\\",  \\"Salmon\\",  \\"Platypus\\" ]\\n\\n} ```","properties":{"answerOptions":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"const":"likely5","type":"string"},{"const":"likely7","type":"string"},{"const":"satisfaction5","type":"string"},{"const":"satisfaction7","type":"string"}],"description":"The answer options (columns). We provide some shortcuts for a likelihood scale (ranging from highly unlikely to highly likely) and a satisfaction scale (ranging from highly unsatisfied to highly satisfied) with either 5 or 7 options to choose from."},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"questionOptions":{"description":"The question options (rows) are the prompts for each response you\'d like to record.","items":{"type":"string"},"type":"array"},"questionOrder":{"description":"The order in which the questions are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"enum":["matrix-radio","matrix-checkbox"],"type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["answerOptions","id","prompt","questionOptions","type"],"type":"object"},"NumberOption":{"additionalProperties":false,"description":"The NumberOption interface is used to define the options for a slider response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.","properties":{"label":{"description":"The label displayed to participants.","type":"string"},"value":{"description":"The value stored in the participant\'s data.","type":"number"}},"required":["label","value"],"type":"object"},"NumericalResponse":{"additionalProperties":false,"description":"The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.\\n\\nExample: ```js { \\"id\\": \\"q-numerical\\", \\"prompt\\": \\"Numerical example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"numerical\\", \\"placeholder\\": \\"Enter your age, range from 0 - 120\\", \\"max\\": 120, \\"min\\": 0 } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"max":{"description":"The maximum value that is accepted in the input.","type":"number"},"min":{"description":"The minimum value that is accepted in the input.","type":"number"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"numerical","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"QuestionnaireComponent":{"additionalProperties":false,"description":"A QuestionnaireComponent is used to render simple questions that require a response. The main use case of this component type is to ask participants questions when you don\'t need to render a stimulus. Please note, that even though we\'re not using a stimulus, the responses still require a `location`. For example this could be used to collect demographic information from a participant using the following snippet:\\n\\n```js { \\"type\\": \\"questionnaire\\", \\"response\\": [  {    \\"id\\": \\"gender\\",    \\"prompt\\": \\"Gender:\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"checkbox\\",    \\"options\\": [\\"Man\\", \\"Woman\\", \\"Genderqueer\\", \\"Third-gender\\", ...]  } ] } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"questionnaire","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["response","type"],"type":"object"},"RadioResponse":{"additionalProperties":false,"description":"The RadioResponse interface is used to define the properties of a radio response. Radios have only one allowable selection. RadioResponses render as a radio input with user specified options, and optionally left and right labels.\\n\\nExample: ```js { \\"id\\": \\"q-radio\\", \\"prompt\\": \\"Radio button example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"radio\\", \\"options\\": [\\"Option 1\\", \\"Option 2\\"] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"horizontal":{"description":"Whether to render the radio buttons horizontally. Defaults to false, so they render horizontally.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"leftLabel":{"description":"The left label of the radio group. Used in Likert scales for example","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"optionOrder":{"description":"The order in which the radio buttons are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"description":"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"rightLabel":{"description":"The right label of the radio group. Used in Likert scales for example","type":"string"},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"radio","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"},"withOther":{"description":"Whether to render the radios with an \\"other\\" option.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"RandomInterruption":{"additionalProperties":false,"description":"The RandomInterruption interface is used to define an interruption that will be shown randomly in the block.\\n\\nFor example, if you want to show a single interruption randomly in the block, you would set `\\"spacing\\"` to \\"random\\" and `\\"numInterruptions\\"` to 1. If you want to show 3 interruptions randomly in the block, you would set `\\"spacing\\"` to \\"random\\" and `\\"numInterruptions\\"` to 3.\\n\\nThe components property is an array of the components that will be inserted randomly in the block. These components should reference components in the StudyConfig.components section of the config.\\n\\nHere\'s an example of how to use the RandomInterruption:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"component6\\" ], \\"interruptions\\": [ {   \\"spacing\\": \\"random\\",   \\"numInterruptions\\": 3,   \\"components\\": [     \\"interruption1\\",     \\"interruption2\\"   ] } ] } ```\\n\\nThe resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"interruption1\\", \\"interruption2\\", \\"component2\\", \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption1\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"interruption1\\", \\"interruption2\\", \\"component2\\", \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"component4\\", \\"interruption1\\", \\"interruption2\\", \\"component5\\", \\"component6\\"], [\\"component1\\", \\"component2\\" \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"interruption1\\", \\"interruption2\\", \\"component4\\", \\"component5\\", \\"interruption1\\", \\"interruption2\\", \\"component6\\"], ... ] ```","properties":{"components":{"description":"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.","items":{"type":"string"},"type":"array"},"numInterruptions":{"description":"The number of times the interruption will be randomly added","type":"number"},"spacing":{"const":"random","description":"If spacing is set to random, reVISit will add interruptions randomly. These interruptions will not ever be displayed as the first component in the block.","type":"string"}},"required":["spacing","numInterruptions","components"],"type":"object"},"RankingResponse":{"additionalProperties":false,"description":"The RankingResponse interface is used to define the properties of a ranking widget response. RankingResponses render as a ranking widget with user specified options.\\n\\nThere are three types of ranking widgets: Ranking Sublist: The participant is asked to rank a subset of items from a larger list. Ranking Categorical: The participant is asked to rank items within categories: HIGH, MEDIUM, and LOW. Ranking Pairwise: The participant is asked to rank items by comparing them in pairs.\\n\\n```js { \\"id\\": \\"ranking-sublist\\", \\"type\\": \\"ranking-sublist\\", \\"prompt\\": \\"Rank your top 2 favorite fruits from the list below\\", \\"location\\": \\"belowStimulus\\", \\"options\\": [\\"Apple\\", \\"Banana\\", \\"Orange\\", \\"Strawberry\\", \\"Grapes\\"], \\"numItems\\": 2 }, { \\"id\\": \\"ranking-categorical\\", \\"type\\": \\"ranking-categorical\\", \\"prompt\\": \\"Sort these hobbies into the categories of HIGH, MEDIUM, and LOW based on your level of interest.\\", \\"location\\": \\"belowStimulus\\", \\"options\\": [\\"Drawing\\", \\"Singing\\", \\"Hiking\\", \\"Dancing\\", \\"Photography\\"] }, { \\"id\\": \\"ranking-pairwise\\", \\"type\\": \\"ranking-pairwise\\", \\"prompt\\": \\"Which meal would you prefer\\", \\"location\\": \\"belowStimulus\\", \\"options\\": [\\"Pizza\\", \\"Sushi\\", \\"Burger\\", \\"Pasta\\", \\"Salad\\", \\"Tacos\\"] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"numItems":{"description":"The number of items to rank. Applies only to sublist and categorical ranking widgets.","type":"number"},"options":{"description":"The options that are displayed as ranking options, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"enum":["ranking-sublist","ranking-categorical","ranking-pairwise"],"type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"ReactComponent":{"additionalProperties":false,"description":"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.\\n\\nUnlike other types of components, the path for a React component is relative to the `src/public/` folder. Similar to our standard assets, we suggest creating a folder named `src/public/{studyName}/assets` to house all of the React component assets for a particular study. Your React component which you link to in the path must be default exported from its file.\\n\\nReact components created this way have a generic prop type passed to the component on render, `<StimulusParams<T>>`, which has the following types.\\n\\n```ts { parameters: T; setAnswer: ({ status, provenanceGraph, answers }: { status: boolean, provenanceGraph?: TrrackedProvenance, answers: Record<string, any> }) => void } ```\\n\\nparameters is the same object passed in from the ReactComponent type below, allowing you to pass options in from the config to your component. setAnswer is a callback function allowing the creator of the ReactComponent to programmatically set the answer, as well as the provenance graph. This can be useful if you don\'t use the default answer interface, and instead have something more unique.\\n\\nSo, for example, if I had the following ReactComponent in my config ```js { type: \'react-component\'; path: \'my_study/CoolComponent.tsx\'; parameters: {  name: \'Zach\';  age: 26; } } ```\\n\\nMy react component, CoolComponent.tsx, would exist in src/public/my_study/assets, and look something like this\\n\\n```ts export default function CoolComponent({ parameters, setAnswer }: StimulusParams<{name: string, age: number}>) { // render something } ```\\n\\nFor in depth examples, see the following studies, and their associated codebases. https://revisit.dev/study/demo-click-accuracy-test (https://github.com/revisit-studies/study/tree/v2.3.1/src/public/demo-click-accuracy-test/assets) https://revisit.dev/study/example-brush-interactions (https://github.com/revisit-studies/study/tree/v2.3.1/src/public/example-brush-interactions/assets)","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},"path":{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"react-component","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"ReactiveResponse":{"additionalProperties":false,"description":"The ReactiveResponse interface is used to define the properties of a reactive response. ReactiveResponses render as a list, that is connected to a WebsiteComponent, VegaComponent, or ReactComponent. When data is sent from the components, it is displayed in the list.\\n\\n```js { \\"id\\": \\"reactiveResponse\\", \\"prompt\\": \\"Answer clicked in the stimulus\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"reactive\\" } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"reactive","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"RepeatedComponentBlockCondition":{"additionalProperties":false,"description":"The RepeatedComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect repeated components. You might use this if you need to check if an attention check was failed multiple times. This is similar to the [ComponentBlockCondition](../ComponentBlockCondition), but it only checks a specific repeated component.\\n\\nHere\'s an example of how to use the RepeatedComponentBlockCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"repeatedComponent\\",   \\"condition\\": \\"numIncorrect\\",   \\"value\\": 2,   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, when the number of incorrect responses to the repeated component with the name \\"attentionCheck\\" is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"repeatedComponent","description":"The check we\'ll perform.","type":"string"},"condition":{"description":"The condition to check.","enum":["numCorrect","numIncorrect"],"type":"string"},"name":{"description":"The name of the repeated component to check (e.g. attentionCheck).","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The number of correct or incorrect responses to check for.","type":"number"}},"required":["name","check","condition","value","to"],"type":"object"},"Response":{"anyOf":[{"$ref":"#/definitions/NumericalResponse"},{"$ref":"#/definitions/ShortTextResponse"},{"$ref":"#/definitions/LongTextResponse"},{"$ref":"#/definitions/LikertResponse"},{"$ref":"#/definitions/DropdownResponse"},{"$ref":"#/definitions/SliderResponse"},{"$ref":"#/definitions/RadioResponse"},{"$ref":"#/definitions/CheckboxResponse"},{"$ref":"#/definitions/RankingResponse"},{"$ref":"#/definitions/ReactiveResponse"},{"$ref":"#/definitions/MatrixResponse"},{"$ref":"#/definitions/ButtonsResponse"},{"$ref":"#/definitions/TextOnlyResponse"}]},"ShortTextResponse":{"additionalProperties":false,"description":"The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.\\n\\n```js { \\"id\\": \\"q-short-text\\", \\"prompt\\": \\"Short text example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"shortText\\", \\"placeholder\\": \\"Enter your answer here\\" } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"shortText","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"SkipConditions":{"description":"The SkipConditions interface is used to define skip conditions. This is used to skip to a different component/block based on the response to a component or based on the number of correct/incorrect responses in a block. Skip conditions work recursively: if you have a nested block, the parent blocks\' skip conditions will be considered when computing the skip logic.\\n\\nSkip conditions are evaluated in the order they are defined in the array. If a condition is met, the participant will be redirected to the component or block specified in the `\\"to\\"` property. If no conditions are met, the participant will continue to the next component in the sequence.\\n\\nSkip conditions allow you to jump to a different component or block. If you intend to skip to a block, you should specify a block id in the sequence. If you intend to skip to a component, you should specify a component id. Skipping backwards is not supported. Skipping to a repeated component will skip to the first instance of the component after the component that triggered the skip.\\n\\nPlease see the interface definitions for more specific information on the different types of skip conditions.","items":{"anyOf":[{"$ref":"#/definitions/IndividualComponentSingleResponseCondition"},{"$ref":"#/definitions/IndividualComponentAllResponsesCondition"},{"$ref":"#/definitions/ComponentBlockCondition"},{"$ref":"#/definitions/RepeatedComponentBlockCondition"}]},"type":"array"},"SliderResponse":{"additionalProperties":false,"description":"The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.\\n\\nExample: ```js { \\"id\\": \\"q-slider\\", \\"prompt\\": \\"How are you feeling?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"slider\\", \\"options\\": [  {    \\"label\\": \\"Bad\\",    \\"value\\": 0  },  {    \\"label\\": \\"OK\\",    \\"value\\": 50  },  {    \\"label\\": \\"Good\\",    \\"value\\": 100  } ] } ```","properties":{"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"options":{"description":"This defines the steps in the slider and the extent of the slider as an array of objects that have a label and a value.","items":{"$ref":"#/definitions/NumberOption"},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"smeqStyle":{"description":"Whether to render the slider with a SMEQ style. Defaults to false.","type":"boolean"},"snap":{"description":"Whether the slider should snap between values. Defaults to false. Slider snapping disables the label above the handle.","type":"boolean"},"spacing":{"description":"The spacing between the ticks. If not provided, the spacing is calculated as the range of the slider divided by power of 10.","type":"number"},"startingValue":{"description":"The starting value of the slider. Defaults to the minimum value.","type":"number"},"step":{"description":"The step value of the slider. If not provided (and snap not enabled), the step value is calculated as the range of the slider divided by 100.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"tlxStyle":{"description":"Whether to render the slider with a NASA-tlx style. Defaults to false.","type":"boolean"},"type":{"const":"slider","type":"string"},"withBar":{"description":"Whether to render the slider with a bar to the left. Defaults to true.","type":"boolean"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"StringOption":{"additionalProperties":false,"description":"The StringOption interface is used to define the options for a dropdown, radio, buttons, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.","properties":{"label":{"description":"The label displayed to participants. Markdown is supported.","type":"string"},"value":{"description":"The value stored in the participant\'s data.","type":"string"}},"required":["label","value"],"type":"object"},"Styles":{"additionalProperties":false,"properties":{"background":{"description":"Background","type":"string"},"backgroundColor":{"type":"string"},"backgroundImage":{"type":"string"},"backgroundPosition":{"type":"string"},"backgroundSize":{"type":"string"},"border":{"description":"Border","type":"string"},"borderRadius":{"type":"string"},"bottom":{"type":"string"},"color":{"description":"Typography","type":"string"},"filter":{"description":"Filter","type":"string"},"font":{"type":"string"},"fontFamily":{"type":"string"},"fontSize":{"type":"string"},"fontStyle":{"enum":["normal","italic","oblique"],"type":"string"},"fontWeight":{"type":["string","number"]},"height":{"description":"Sizing","type":"string"},"left":{"type":"string"},"letterSpacing":{"type":"string"},"lineHeight":{"type":["string","number"]},"margin":{"description":"Spacing","type":"string"},"maxHeight":{"type":"string"},"maxWidth":{"type":"string"},"minHeight":{"type":"string"},"minWidth":{"type":"string"},"padding":{"type":"string"},"position":{"description":"Positioning","enum":["static","relative","absolute","fixed","sticky"],"type":"string"},"right":{"type":"string"},"textAlign":{"enum":["start","center","end","justify","left","right","match-parent"],"type":"string"},"textDecoration":{"enum":["none","underline","overline","line-through","underline-overline"],"type":"string"},"textTransform":{"enum":["capitalize","lowercase","none","uppercase"],"type":"string"},"top":{"type":"string"},"transform":{"description":"Transform","type":"string"},"width":{"type":"string"},"wordSpacing":{"type":"string"}},"type":"object"},"TextOnlyResponse":{"additionalProperties":false,"description":"The TextOnlyResponse interface is used to define the properties of a text only response. TextOnlyResponses render as a block of text that is displayed to the user. This can be used to display instructions or other information. It does not accept any input from the user.\\n\\nExample: ```js {   \\"id\\": \\"textOnlyResponse\\",   \\"type\\": \\"textOnly\\",   \\"prompt\\": \\"This is a text only response, it accepts markdown so you can **bold** or _italicize_ text.\\",   \\"location\\": \\"belowStimulus\\",   \\"restartEnumeration\\": true } ```\\n\\nIn this example, the text only response is displayed below the stimulus and the enumeration of the questions is restarted.","properties":{"hidden":{"not":{}},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"not":{}},"prompt":{"description":"The markdown text that is displayed to the user.","type":"string"},"required":{"not":{}},"requiredLabel":{"not":{}},"requiredValue":{"not":{}},"restartEnumeration":{"description":"Whether to restart the enumeration of the questions. Defaults to false.","type":"boolean"},"secondaryText":{"not":{}},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"textOnly","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"not":{}}},"required":["id","prompt","type"],"type":"object"},"VegaComponent":{"anyOf":[{"$ref":"#/definitions/VegaComponentPath"},{"$ref":"#/definitions/VegaComponentConfig"}]},"VegaComponentConfig":{"additionalProperties":false,"description":"The VegaComponentConfig interface is used to define the properties of a Vega Component. This component is used to render a Vega/Vega-Lite Component by adding Vega/Vega-Lite specs within the reVISit config itself.\\n\\nTo do this, would use the following snippet: ```js { \\"type\\": \\"vega\\", \\"config\\": { ... vega specs here ...}, }\\n\\nIIf you are using Vega, you can use signals with `revisitAnswer` to send the user\'s responses back to the reVISit. For example, you can use the following snippet in your Vega spec\'s signals section: ```js { \\"signals\\": [  {    \\"name\\": \\"revisitAnswer\\",    \\"value\\": {},    \\"on\\": [      {        \\"events\\": \\"rect:click\\",        \\"update\\": \\"{responseId: \'vegaDemoResponse1\', response: datum.category}\\"      }    ]  } ] } In this example, when a user clicks on a rectangle in the Vega chart, the `revisitAnswer` signal is updated with the responseId and response. ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"vega","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["config","response","type"],"type":"object"},"VegaComponentPath":{"additionalProperties":false,"description":"The VegaComponentPath interface is used to define the properties of a Vega Component. This component is used to render a Vega/Vega-Lite Component with path pointing to your Vega/Vega-Lite specs file.\\n\\nFor example, to render a vega based stimuli with a path of `<study-name>/assets/vega.spec.json`, you would use the following snippet: ```js { \\"type\\": \\"vega\\", \\"path\\": \\"<study-name>/assets/vega.spec.json\\", } ```\\n\\nIf you are using Vega, you can use signals with `revisitAnswer` to send the user\'s responses back to the reVISit. For example, you can use the following snippet in your Vega spec file\'s signals section: ```js { \\"signals\\": [  {    \\"name\\": \\"revisitAnswer\\",    \\"value\\": {},    \\"on\\": [      {        \\"events\\": \\"rect:click\\",        \\"update\\": \\"{responseId: \'vegaDemoResponse1\', response: datum.category}\\"      }    ]  } ] } In this example, when a user clicks on a rectangle in the Vega chart, the `revisitAnswer` signal is updated with the responseId and response. This signal is then passed to reVISit as the participant\'s response. ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"vega","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"VideoComponent":{"additionalProperties":false,"description":"The VideoComponent interface is used to define the properties of a video component. This component is used to render a video with optional controls.\\n\\nMost often, video components will be used for trainings, and will have a `forceCompletion` field set to true. This will prevent the participant from moving on until the video has finished playing.\\n\\nAs such, the `forceCompletion` field is set to true by default, and the `withTimeline` field is set to false by default.\\n\\nFor example, to render a training video with a path of `<study-name>/assets/video.mp4`, you would use the following snippet: ```js {   \\"type\\": \\"video\\",   \\"path\\": \\"<study-name>/assets/video.mp4\\", } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"video","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"WebsiteComponent":{"additionalProperties":false,"description":"The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.\\n\\n```js { \\"type\\": \\"website\\", \\"path\\": \\"<study-name>/assets/website.html\\", } ```\\n\\nTo pass a data from the config to the website, you can use the `parameters` field as below:\\n\\n```js { \\"type\\": \\"website\\", \\"path\\": \\"<study-name>/website.html\\", \\"parameters\\": {  \\"barData\\": [0.32, 0.01, 1.2, 1.3, 0.82, 0.4, 0.3] }, \\"response\\": [  {    \\"id\\": \\"barChart\\",    \\"prompt\\": \\"Your selected answer:\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"reactive\\"  } ] } ``` In the `website.html` file, by including `revisit-communicate.js`, you can use the `Revisit.onDataReceive` method to retrieve the data, and `Revisit.postAnswers` to send the user\'s responses back to the reVISit as shown in the example below:\\n\\n```html <script src=\\"../../revisitUtilities/revisit-communicate.js\\"><\/script> <script> Revisit.onDataReceive((data) => {  const barData = data[\'barData\'];  ... });\\n\\n// Call out that \'barChart\' needs to match ID in \'response\' object Revisit.postAnswers({ barChart: userAnswer }); <\/script> ```\\n\\n If the html website implements Trrack library for provenance tracking, you can send the provenance graph back to reVISit by calling `Revisit.postProvenanceGraph` as shown in the example below. You need to call this each time the Trrack state is updated so that reVISit is kept aware of the changes in the provenance graph.\\n\\n```js const trrack = initializeTrrack({ initialState, registry });\\n\\n... Revisit.postProvenance(trrack.graph.backend); ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"},"path":{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.co.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"website","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"}}'),tln={$ref:Jan,$schema:Zan,definitions:eln},Tje=new yie({allowUnionTypes:!0});Tje.addSchema(tln);const nln=Tje.getSchema("#/definitions/LibraryConfig");function kje(e,t){return sd(e)?e:{...e,components:e.components.map(n=>typeof n=="object"?kje(n,t):`$${t}.components.${n}`)}}function Aje(e,t,n=[]){return sd(e)?e:{...e,components:(e.components||[]).map(r=>{if(typeof r=="object")return Aje(r,t);const i=r.includes(".se.")?".se.":r.includes(".sequences.")?".sequences.":!1;if(typeof r=="string"&&r.startsWith("$")&&i){const[s,o]=r.split(i),a=s.slice(1);if(!t[a]){const c={message:`Library ${a} not found in imported libraries`,instancePath:"",params:{action:"check the library name"}};return n.push(c),r}let u=t[a].sequences[o];if(!u){const c={message:`Sequence ${o} not found in library ${s}`,instancePath:"",params:{action:"check the sequence name"}};return n.push(c),r}return u=kje(u,a),u}return r})}}function rln(e,t,n){Object.entries(n).forEach(([r,i])=>{Object.entries(i.components).forEach(([s,o])=>{R$(o)&&!i.baseComponents?.[o.baseComponent]&&t.push({message:`Base component \`${o.baseComponent}\` is not defined in baseComponents object in library \`${r}\``,instancePath:`/importedLibraries/${r}/components/${s}`,params:{action:"add the base component to the baseComponents object"}})})})}function iln(e,t){let n=!1,r;try{r=JSON.parse(e),n=nln(r)}catch{n=!1}const i=[],s=[];return r?n||i.push({message:"Library config is not valid",instancePath:"",params:{action:"fix the errors in the library config"}}):i.push({message:`Could not find library \`${t}\``,instancePath:"/importedLibraries/",params:{action:"make sure the library is in the correct location"}}),{...r,errors:i,warnings:s}}async function sln(e){const t=await(await fetch(`${Yi}libraries/${e}/config.json`)).text();return iln(t,e)}async function oln(e,t,n){const r=e.map(async s=>{const o=await sln(s);return o.errors&&t.push(...o.errors),o.warnings&&n.push(...o.warnings),[s,o]}),i=Object.fromEntries(await Promise.all(r));return Object.entries(i).forEach(([s,o])=>{o.components||delete i[s]}),e.forEach(s=>{i[s]&&(i[s].components=Object.fromEntries(Object.entries(i[s].components).map(([o,a])=>{if(R$(a)){const l=bTe({},i[s].baseComponents[a.baseComponent],a);return delete l.baseComponent,[[`$${s}.components.${o}`,l],[`$${s}.co.${o}`,l]]}return[[`$${s}.components.${o}`,a],[`$${s}.co.${o}`,a]]}).reduce((o,[a,l])=>(o.push(a,l),o),[])))}),i}const Rje=new yie({allowUnionTypes:!0});Rje.addSchema(Qan);const pbe=Rje.getSchema("#/definitions/GlobalConfig"),Ije=new yie({allowUnionTypes:!0});Ije.addSchema(Gan);const bU=Ije.getSchema("#/definitions/StudyConfig");function aln(e){const t=[];return[e.configsList.every(r=>e.configs[r]===void 0?(t.push({message:`Config ${r} is not defined in configs object, but is present in configsList`}),!1):!0),t]}function lln(e){const t=JSON.parse(e),n=pbe(t),r=aln(t);if(n&&r[0])return t;throw console.error("Global config parsing errors",[...pbe.errors||[],...r[1]]),Error("There was an issue validating your file global.json")}function Dje(e,t,n=[]){if(!sd(e)){if(e.components.length===0){n.push({message:"Sequence has an empty components array",instancePath:"/sequence/",params:{action:"remove empty components block"}});return}e.id&&t.map((i,s)=>i===e.id?s:null).forEach(i=>{i!==null&&t.splice(i,1)}),e.components.forEach(r=>{typeof r=="string"?t.includes(r)&&t.map((s,o)=>s===r?o:null).forEach(s=>{s!==null&&t.splice(s,1)}):Dje(r,t,n)}),e.skip&&t.push(...e.skip.map(r=>r.to).filter(r=>r!=="end"))}}function uln(e,t){const n=[],r=[];rln(e,n,t),Object.entries(e.components).forEach(([o,a])=>{R$(a)&&!e.baseComponents?.[a.baseComponent]&&n.push({message:`Base component \`${a.baseComponent}\` is not defined in baseComponents object`,instancePath:`/components/${o}`,params:{action:"add the base component to the baseComponents object"}})});const i=mTe(e.sequence);i.forEach(o=>{e.components[o]||n.push({message:e.baseComponents?.[o]?`Component \`${o}\` is a base component and cannot be used in the sequence`:`Component \`${o}\` is not defined in components object`,instancePath:"/sequence/",params:{action:"add the component to the components object"}})}),Object.keys(e.components).filter(o=>!i.includes(o)&&!o.includes(".se.")&&!o.includes(".sequences.")&&!o.includes(".co.")&&!o.includes(".components.")).forEach(o=>{r.push({message:`Component \`${o}\` is defined in components object but not used deterministically in the sequence`,instancePath:"/components/",params:{action:"remove the component from the components object or add it to the sequence"}})});const s=[];return Dje(e.sequence,s),s.forEach(o=>{n.push({message:`Skip target \`${o}\` does not occur after the skip block it is used in`,instancePath:"/sequence/",params:{action:"add the target to the sequence after the skip block"}})}),{errors:n,warnings:r}}async function Oie(e){let t=!1,n;try{n=JSON.parse(e),t=bU(n)}catch{try{n=Van(e).toJSON(),t=bU(n)}catch(s){console.error("Error parsing study config file:",s),t=!1}}let r=bU.errors||[],i=[];if(t&&n){const s=n.importedLibraries||[],o=await oln(s,r,i);Object.values(o).forEach(u=>{n.components={...n.components,...u.components},n.baseComponents={...n.baseComponents,...u.components}}),n.sequence=Aje(n.sequence,o,r);const{errors:a,warnings:l}=uln(n,o);r=[...r,...a],i=[...i,...l]}else r=[...r,{message:"There was an issue validating your config file",instancePath:"root",params:{action:"fix the errors in your file or make sure the global config references the right file path"}}];return{...n,errors:r,warnings:i}}async function cln(e){const t=await(await fetch(`${Yi}${e}`)).text();return await Oie(t)}async function Nie(e,t){const n=t.configsList.find(r=>VEe(r)===e);if(n){const r=t.configs[n];return await cln(`${r.path}`)}return null}async function dln(e){const t={},n=e.configsList.map(async i=>Nie(i,e)),r=await Promise.all(n);return e.configsList.forEach((i,s)=>{t[i]=r[s]}),t}function fln({globalConfig:e}){const t=Kf(),[n,r]=A.useState(null),i=e.configsList.includes(t)||t==="__revisit-widget";A.useEffect(()=>{if(t!=="__revisit-widget")return Nie(t,e).then(p=>{r(p)}),()=>{};if(e&&t){const p=m=>{m.data.type==="revisitWidget/CONFIG"&&Oie(m.data.payload).then(async g=>{r(g);const y=await nU(g);window.parent.postMessage({type:"revisitWidget/SEQUENCE_ARRAY",payload:y},"*")})};return window.addEventListener("message",p),window.parent.postMessage({type:"revisitWidget/READY"},"*"),()=>{window.removeEventListener("message",p)}}return()=>{}},[e,t]);const[s,o]=A.useState([]),[a,l]=A.useState(null),{storageEngine:u}=Ii(),[c]=mc(),d=A.useMemo(()=>c.get("participantId"),[c]);A.useEffect(()=>{async function p(){if(!(!u||!n||!t)){try{await u.initializeStudyDb(t),await u.saveConfig(n),await u.getSequenceArray()||await u.setSequenceArray(await nU(n));const g=n.uiConfig.urlParticipantIdParam&&c.get(n.uiConfig.urlParticipantIdParam)||void 0,y=Object.fromEntries(c.entries()),v=await fetch("https://api.ipify.org?format=json").catch(R=>""),w=v instanceof Response?await v.json():{ip:""},_={language:navigator.language,userAgent:navigator.userAgent,resolution:{width:window.screen.width,height:window.screen.height,availHeight:window.screen.availHeight,availWidth:window.screen.availWidth,colorDepth:window.screen.colorDepth,orientation:window.screen.orientation.type,pixelDepth:window.screen.pixelDepth},ip:w.ip},C=await u.initializeParticipantSession(y,n,_,d||g),S=await u.getModes(t),T=await tH(JSON.stringify(n));let k=n;C.participantConfigHash!==T&&(k=(await u.getAllConfigsFromHash([C.participantConfigHash],t))[C.participantConfigHash]);const I=await Tce(t,k,C.sequence,_,C.answers,S,C.participantId,C.completed,!1);l(I)}catch(m){console.error("Error initializing user store routing:",m);const g=await Tce(t,n,nU(n)[0],{language:"",userAgent:"",resolution:{width:0,height:0,availHeight:0,availWidth:0,colorDepth:0,orientation:"",pixelDepth:0},ip:""},{},{studyNavigatorEnabled:!0,analyticsInterfacePubliclyAccessible:!0,dataCollectionEnabled:!1},"",!1,!0);l(g)}o([{element:b.jsx(_sn,{}),children:[{path:"/",element:b.jsx(ALe,{to:Ss(0),replace:!0})},{path:"/:index/:funcIndex?",element:n.errors.length>0?b.jsxs(b.Fragment,{children:[b.jsx(qr,{order:2,mb:8,children:"Error loading config"}),b.jsx(NP,{issues:n.errors,type:"error"})]}):b.jsx(Iin,{})}]}])}}p()},[u,n,t,c,d]);const f=yEe(s);let h=null;return i?s.length===0?h=b.jsx($l,{visible:!0}):h=f&&a?b.jsx(wTe.Provider,{value:a,children:b.jsx(lht,{store:a.store,children:f})}):b.jsx(c0,{}):h=b.jsx(c0,{}),h}function oN({studyIds:e}){const t=ll(),{studyId:n}=ro(),r=Cd(),i=e.map(o=>({value:o,label:o})).sort((o,a)=>o.label.localeCompare(a.label)),s=r.pathname.includes("analysis");return b.jsx(es.Header,{p:"md",children:b.jsxs(fs,{mt:-7,align:"center",children:[b.jsx(fs.Col,{span:6,children:b.jsxs(At,{align:"center",onClick:()=>t("/"),style:{cursor:"pointer"},children:[b.jsx(E0,{w:40,src:`${Yi}revisitAssets/revisitLogoSquare.svg`,alt:"Revisit Logo"}),b.jsx(Jc,{w:"md"}),b.jsx(qr,{order:4,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:s?"ReVISit Analytics Platform":"ReVISit Studies"})]})}),b.jsx(fs.Col,{span:6,children:b.jsxs(At,{justify:"flex-end",direction:"row",children:[s&&b.jsxs(b.Fragment,{children:[b.jsx(Km,{allowDeselect:!1,placeholder:"Select Study",data:i,value:n,onChange:o=>t(`/analysis/stats/${o}`),mr:16}),b.jsx(Wt,{component:"a",href:`${Yi}${n}`,target:"_blank",leftSection:b.jsx(NEe,{}),mr:"sm",children:"Go to Study"})]}),b.jsx(BEe,{onClick:()=>t("/settings"),style:{cursor:"pointer",marginTop:s?6:void 0}})]})})]})})}const uP=20,hln=5,dg={left:5,right:5,top:10,bottom:10},fg={UNANSWERED:{FILL:"grey",STROKE:"#666"},ANSWERED:{FILL:"green",STROKE:"#166534"},DYNAMIC:{FILL:"teal",STROKE:"#0d9488"},TEXT:"white"};function pln({total:e,answered:t,isDynamic:n}){const r=n?t.length:e,i=A.useMemo(()=>{const u=Math.max(300,r*50);return _u().domain([0,r]).range([dg.left,u-dg.right])},[r]);if(!e||e<=0||Number.isNaN(e))return null;const s=()=>{const u=[];for(let c=0;c<r;c+=1){const d=c<t.length,f=d?`Question ${c+1}: ${t[c]}`:`Question ${c+1}: Not answered`;let h=fg.UNANSWERED.FILL,p=fg.UNANSWERED.STROKE;n?(h=fg.DYNAMIC.FILL,p=fg.DYNAMIC.STROKE):d&&(h=fg.ANSWERED.FILL,p=fg.ANSWERED.STROKE);const m=i(c),g=i(c+1)-i(c)-hln,y=Math.max(g,2);u.push(b.jsx(yt,{label:f,position:"top",withinPortal:!0,children:b.jsxs("g",{children:[b.jsx("rect",{x:m,y:dg.top,width:y,height:uP,fill:h,stroke:p,strokeWidth:"1.5",rx:"3",style:{cursor:"pointer"}}),b.jsxs("text",{x:m+y/2,y:dg.top+uP/2+4,fontSize:"11",fontWeight:"600",fill:fg.TEXT,textAnchor:"middle",pointerEvents:"none",children:["Q",c+1]})]})},c))}return n&&r>0&&u.push(b.jsx("text",{x:i(r)+10,y:dg.top+uP/2+7,fontSize:"20",fontWeight:"bold",fill:fg.DYNAMIC.FILL,children:"?"},"question-mark")),u},o=Math.max(300,i(r)+(n?40:dg.right)),a=uP+dg.top+dg.bottom;return b.jsxs(b.Fragment,{children:[b.jsx("style",{children:`
      .progress-heatmap {
        display: inline-block;
        vertical-align: top;
        width: 50%;
        overflow-x: auto;
        overflow-y: hidden;
        white-space: nowrap;
      }
      .progress-heatmap svg {
        display: inline-block;
        vertical-align: top;
      }
      
      /* Custom scrollbar styling */
      .progress-heatmap::-webkit-scrollbar {
        height: 8px;
      }
      .progress-heatmap::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 4px;
      }
      .progress-heatmap::-webkit-scrollbar-thumb {
        background: #c1c1c1;
        border-radius: 4px;
      }
      .progress-heatmap::-webkit-scrollbar-thumb:hover {
        background: #a8a8a8;
      }
      
      @media (max-width: 900px) {
        .progress-heatmap {
          width: 100% !important;
          display: block;
        }
      }
    `}),b.jsx("div",{className:"progress-heatmap",children:b.jsx("svg",{width:o,height:a,children:s()})})]})}function wU({title:e,titleColor:t,participants:n,showProgressHeatmap:r=!1,showDynamicBadge:i=!1,progressValue:s,progressColor:o,progressLabel:a}){const[l,u]=A.useState(!0);return b.jsxs(b.Fragment,{children:[b.jsxs(An,{gap:"xs",style:{cursor:"pointer"},onClick:()=>u(!l),children:[b.jsx(Tn,{variant:"subtle",color:t,size:"sm",children:l?b.jsx(_X,{size:18}):b.jsx(AEe,{size:18})}),b.jsxs(qr,{order:5,c:t,children:[e," ","(",n.length,")"]})]}),b.jsx(kp,{in:l,children:n.length>0&&b.jsx(fs,{mt:"xs",children:n.map(({assignment:c,progress:d},f)=>b.jsx(fs.Col,{span:12,children:b.jsx(Uy,{shadow:"sm",padding:"sm",radius:"md",withBorder:!0,children:b.jsxs(An,{justify:"space-between",align:"center",children:[b.jsxs("div",{children:[b.jsxs(An,{gap:"xs",align:"center",children:[b.jsxs(He,{fw:500,size:"sm",children:["Participant:"," ",c.participantId||`#${f+1}`]}),i&&c.isDynamic&&b.jsx(eo,{size:"xs",color:"cyan",children:"DYNAMIC"})]}),b.jsxs(He,{size:"xs",c:"dimmed",children:["Started:"," ",new Date(c.createdTime).toLocaleString()]})]}),r&&b.jsx(pln,{total:c.total,answered:c.answered,isDynamic:c.isDynamic}),b.jsx(l$,{size:60,thickness:6,sections:[{value:s(c,d),color:o}],label:mn.createElement(a,{assignment:c,progress:d})})]})})},c.participantId||`${e.toLowerCase()}-${f}`))})})]})}function mln({assignment:e,progress:t}){return b.jsxs(He,{c:"orange",fw:700,ta:"center",size:"xs",children:[e.isDynamic?"?":Math.round(t),"%"]})}function gln(){return b.jsx(So,{children:b.jsx(Tn,{color:"teal",variant:"light",radius:"xl",size:"sm",children:b.jsx(dy,{size:16})})})}function yln({progress:e}){return b.jsxs(He,{c:"red",fw:700,ta:"center",size:"xs",children:[Math.round(e),"%"]})}function vln({studyConfig:e,storageEngine:t,studyId:n,includedParticipants:r,selectedStages:i}){const s=t,[o,a]=A.useState([]),[l,u]=A.useState("connecting"),[c,d]=A.useState(null),[f,h]=A.useState(!1),p=v=>{a(v),d(new Date),h(!1)},m=A.useCallback(async()=>{if(!s||!n||f)return;if(!navigator.onLine){u("disconnected");return}h(!0),u("connecting");const v=setTimeout(()=>{l==="connecting"&&(u("disconnected"),h(!1))},1e4);try{s.initializeStudyDb(n);const w=await s.getAllSequenceAssignments(n);clearTimeout(v),p(w),u("connected")}catch(w){console.error("Reconnection failed:",w),clearTimeout(v),u("disconnected"),h(!1)}},[s,n,f,l]);A.useEffect(()=>{if(!s||!n){u("disconnected");return}u("connecting"),s.initializeStudyDb(n);const v=s._setupSequenceAssignmentListener?.(n,w=>{p(w)});return u(typeof v=="function"?"connected":"disconnected"),()=>{v?.()}},[s,n]),A.useEffect(()=>{const v=()=>{s&&n&&l==="disconnected"&&m()},w=()=>{u("disconnected"),h(!1)};return window.addEventListener("online",v),window.addEventListener("offline",w),()=>{window.removeEventListener("online",v),window.removeEventListener("offline",w)}},[s,n,l,m]);const g=A.useMemo(()=>o.map(v=>{const w=v.total>0?v.answered.length/v.total*100:0,_=v.completed!==null,C=v.rejected;return{assignment:v,progress:w,isCompleted:_,isRejected:C}}).filter(({isCompleted:v,isRejected:w,assignment:_})=>{const C=w?"rejected":v?"completed":"inprogress",S=r.includes(C),T=i.includes("ALL")||i.includes(_.stage||"");return S&&T}).sort((v,w)=>w.assignment.createdTime-v.assignment.createdTime),[o,r,i]),y=A.useMemo(()=>{const v=g.filter(C=>!C.isCompleted&&!C.isRejected),w=g.filter(C=>C.isCompleted&&!C.isRejected),_=g.filter(C=>C.isRejected);return{inProgress:v,completed:w,rejected:_}},[g]);return b.jsxs(zn,{gap:"sm",children:[b.jsx(Uy,{shadow:"sm",padding:"sm",radius:"md",withBorder:!0,style:{position:"sticky",top:0,zIndex:100,backgroundColor:"white",marginBottom:"1rem"},children:b.jsxs(At,{justify:"space-between",align:"center",children:[b.jsxs(An,{gap:"md",children:[b.jsx(qr,{order:5,size:"h5",children:"Live Monitor"}),b.jsxs(He,{size:"sm",c:"dimmed",children:["Total:"," ",g.length]}),b.jsxs(An,{gap:"xs",children:[b.jsxs(eo,{color:"green",variant:"light",size:"sm",children:[g.filter(v=>v.isCompleted).length," ","Completed"]}),b.jsxs(eo,{color:"orange",variant:"light",size:"sm",children:[g.filter(v=>!v.isCompleted&&!v.isRejected).length," ","Active"]}),b.jsxs(eo,{color:"red",variant:"light",size:"sm",children:[g.filter(v=>v.isRejected).length," ","Rejected"]})]})]}),b.jsxs(An,{gap:"xs",children:[l==="disconnected"&&b.jsx(Wt,{size:"xs",variant:"light",color:"blue",leftSection:b.jsx(FEe,{size:12}),loading:f,onClick:m,disabled:!s||!n,children:"Reconnect"}),b.jsx(yt,{label:l==="connected"?`Connected${c?` - Last data update: ${c.toLocaleTimeString()}`:""}`:l==="connecting"?"Connecting...":"Disconnected",position:"bottom-end",children:b.jsx(H5,{color:l==="connected"?"green":l==="connecting"?"yellow":"red",position:"top-end",size:10,withBorder:!0,children:l==="connected"?b.jsx(Unt,{size:22,color:"green"}):b.jsx(Bnt,{size:22,color:l==="connecting"?"orange":"red"})})})]})]})}),b.jsx(qr,{order:4,mt:"lg",children:"Participant Progress"}),b.jsxs(zn,{gap:"md",children:[b.jsx(wU,{title:"In Progress",titleColor:"orange",participants:y.inProgress,showProgressHeatmap:!0,showDynamicBadge:!0,progressValue:(v,w)=>v.isDynamic?50:w,progressColor:"orange",progressLabel:mln}),b.jsx(wU,{title:"Completed",titleColor:"teal",participants:y.completed,progressValue:()=>100,progressColor:"teal",progressLabel:gln}),b.jsx(wU,{title:"Rejected",titleColor:"red",participants:y.rejected,progressValue:(v,w)=>w,progressColor:"red",progressLabel:yln})]})]})}function bln({overviewData:e,mismatchDetails:t}){const n=r=>{if(!t)return!1;const i=t[r];return i.current!==i.calculated};return b.jsxs(vd,{shadow:"sm",p:"md",withBorder:!0,children:[b.jsx(qr,{order:4,mb:"md",children:"Overview Statistics"}),e===null?b.jsx(He,{ta:"center",mb:"md",children:"No data available"}):b.jsxs(At,{justify:"space-between",m:"xs",gap:"xl",wrap:"wrap",children:[b.jsxs("div",{children:[b.jsx(He,{size:"xl",fw:"bold",children:e.participantCounts.total}),b.jsx(He,{size:"sm",c:"dimmed",children:"Total Participants"})]}),b.jsxs("div",{children:[b.jsxs(At,{align:"center",gap:"xs",children:[n("completed")&&t&&b.jsx(yt,{label:`Calculated: ${t.completed.calculated}, Current: ${t.completed.current}`,children:b.jsx(Zc,{size:16,color:"orange"})}),b.jsx(He,{size:"xl",fw:"bold",c:"green",children:e.participantCounts.completed})]}),b.jsx(He,{size:"sm",c:"dimmed",children:"Completed"})]}),b.jsxs("div",{children:[b.jsxs(At,{align:"center",gap:"xs",children:[n("inProgress")&&t&&b.jsx(yt,{label:`Calculated: ${t.inProgress.calculated}, Current: ${t.inProgress.current}`,children:b.jsx(Zc,{size:16,color:"orange"})}),b.jsx(He,{size:"xl",fw:"bold",c:"yellow",children:e.participantCounts.inProgress})]}),b.jsx(He,{size:"sm",c:"dimmed",children:"In Progress"})]}),b.jsxs("div",{children:[b.jsxs(At,{align:"center",gap:"xs",children:[n("rejected")&&t&&b.jsx(yt,{label:`Calculated: ${t.rejected.calculated}, Current: ${t.rejected.current}`,children:b.jsx(Zc,{size:16,color:"orange"})}),b.jsx(He,{size:"xl",fw:"bold",c:"red",children:e.participantCounts.rejected})]}),b.jsx(He,{size:"sm",c:"dimmed",children:"Rejected"})]}),b.jsxs("div",{children:[b.jsx(He,{size:"xl",fw:"bold",children:e.startDate?.toLocaleDateString()||"N/A"}),b.jsx(He,{size:"sm",c:"dimmed",children:"Start Date"})]}),b.jsxs("div",{children:[b.jsx(He,{size:"xl",fw:"bold",children:e.endDate?.toLocaleDateString()||"N/A"}),b.jsx(He,{size:"sm",c:"dimmed",children:"End Date"})]}),b.jsxs("div",{children:[b.jsx(He,{size:"xl",fw:"bold",children:Number.isFinite(e.avgTime)?`${e.avgTime.toFixed(1)} s`:"N/A"}),b.jsx(He,{size:"sm",c:"dimmed",children:"Average Time"})]}),b.jsxs("div",{children:[b.jsx(He,{size:"xl",fw:"bold",children:Number.isFinite(e.avgCleanTime)?`${e.avgCleanTime.toFixed(1)} s`:"N/A"}),b.jsx(He,{size:"sm",c:"dimmed",children:"Average Clean Time"})]}),b.jsxs("div",{children:[b.jsx(He,{size:"xl",fw:"bold",children:Number.isFinite(e.correctnessStats)?`${e.correctnessStats.toFixed(1)}%`:"N/A"}),b.jsx(He,{size:"sm",c:"dimmed",children:"Correctness"})]})]})]})}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Yg(e,t){return typeof e=="function"?e(t):e}function hc(e,t){return n=>{t.setState(r=>({...r,[e]:Yg(n,r[e])}))}}function V8(e){return e instanceof Function}function wln(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function Pje(e,t){const n=[],r=i=>{i.forEach(s=>{n.push(s);const o=t(s);o!=null&&o.length&&r(o)})};return r(e),n}function Cn(e,t,n){let r=[],i;return s=>{let o;n.key&&n.debug&&(o=Date.now());const a=e(s);if(!(a.length!==r.length||a.some((c,d)=>r[d]!==c)))return i;r=a;let u;if(n.key&&n.debug&&(u=Date.now()),i=t(...a),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const c=Math.round((Date.now()-o)*100)/100,d=Math.round((Date.now()-u)*100)/100,f=d/16,h=(p,m)=>{for(p=String(p);p.length<m;)p=" "+p;return p};console.info(`%c ${h(d,5)} /${h(c,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,n?.key)}return i}}function En(e,t,n,r){return{debug:()=>{var i;return(i=e?.debugAll)!=null?i:e[t]},key:!1,onChange:r}}function xln(e,t,n,r){const i=()=>{var o;return(o=s.getValue())!=null?o:e.options.renderFallbackValue},s={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:i,getContext:Cn(()=>[e,n,t,s],(o,a,l,u)=>({table:o,column:a,row:l,cell:u,getValue:u.getValue,renderValue:u.renderValue}),En(e.options,"debugCells"))};return e._features.forEach(o=>{o.createCell==null||o.createCell(s,n,t,e)},{}),s}function _ln(e,t,n,r){var i,s;const a={...e._getDefaultColumnDef(),...t},l=a.accessorKey;let u=(i=(s=a.id)!=null?s:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?i:typeof a.header=="string"?a.header:void 0,c;if(a.accessorFn?c=a.accessorFn:l&&(l.includes(".")?c=f=>{let h=f;for(const m of l.split(".")){var p;h=(p=h)==null?void 0:p[m]}return h}:c=f=>f[a.accessorKey]),!u)throw new Error;let d={id:`${String(u)}`,accessorFn:c,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:Cn(()=>[!0],()=>{var f;return[d,...(f=d.columns)==null?void 0:f.flatMap(h=>h.getFlatColumns())]},En(e.options,"debugColumns")),getLeafColumns:Cn(()=>[e._getOrderColumnsFn()],f=>{var h;if((h=d.columns)!=null&&h.length){let p=d.columns.flatMap(m=>m.getLeafColumns());return f(p)}return[d]},En(e.options,"debugColumns"))};for(const f of e._features)f.createColumn==null||f.createColumn(d,e);return d}const Ba="debugHeaders";function mbe(e,t,n){var r;let s={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),o.push(l)};return a(s),o},getContext:()=>({table:e,header:s,column:t})};return e._features.forEach(o=>{o.createHeader==null||o.createHeader(s,e)}),s}const Cln={createTable:e=>{e.getHeaderGroups=Cn(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>{var s,o;const a=(s=r?.map(d=>n.find(f=>f.id===d)).filter(Boolean))!=null?s:[],l=(o=i?.map(d=>n.find(f=>f.id===d)).filter(Boolean))!=null?o:[],u=n.filter(d=>!(r!=null&&r.includes(d.id))&&!(i!=null&&i.includes(d.id)));return cP(t,[...a,...u,...l],e)},En(e.options,Ba)),e.getCenterHeaderGroups=Cn(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>(n=n.filter(s=>!(r!=null&&r.includes(s.id))&&!(i!=null&&i.includes(s.id))),cP(t,n,e,"center")),En(e.options,Ba)),e.getLeftHeaderGroups=Cn(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var i;const s=(i=r?.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?i:[];return cP(t,s,e,"left")},En(e.options,Ba)),e.getRightHeaderGroups=Cn(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var i;const s=(i=r?.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?i:[];return cP(t,s,e,"right")},En(e.options,Ba)),e.getFooterGroups=Cn(()=>[e.getHeaderGroups()],t=>[...t].reverse(),En(e.options,Ba)),e.getLeftFooterGroups=Cn(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),En(e.options,Ba)),e.getCenterFooterGroups=Cn(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),En(e.options,Ba)),e.getRightFooterGroups=Cn(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),En(e.options,Ba)),e.getFlatHeaders=Cn(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),En(e.options,Ba)),e.getLeftFlatHeaders=Cn(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),En(e.options,Ba)),e.getCenterFlatHeaders=Cn(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),En(e.options,Ba)),e.getRightFlatHeaders=Cn(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),En(e.options,Ba)),e.getCenterLeafHeaders=Cn(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),En(e.options,Ba)),e.getLeftLeafHeaders=Cn(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),En(e.options,Ba)),e.getRightLeafHeaders=Cn(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),En(e.options,Ba)),e.getLeafHeaders=Cn(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var i,s,o,a,l,u;return[...(i=(s=t[0])==null?void 0:s.headers)!=null?i:[],...(o=(a=n[0])==null?void 0:a.headers)!=null?o:[],...(l=(u=r[0])==null?void 0:u.headers)!=null?l:[]].map(c=>c.getLeafHeaders()).flat()},En(e.options,Ba))}};function cP(e,t,n,r){var i,s;let o=0;const a=function(f,h){h===void 0&&(h=1),o=Math.max(o,h),f.filter(p=>p.getIsVisible()).forEach(p=>{var m;(m=p.columns)!=null&&m.length&&a(p.columns,h+1)},0)};a(e);let l=[];const u=(f,h)=>{const p={depth:h,id:[r,`${h}`].filter(Boolean).join("_"),headers:[]},m=[];f.forEach(g=>{const y=[...m].reverse()[0],v=g.column.depth===p.depth;let w,_=!1;if(v&&g.column.parent?w=g.column.parent:(w=g.column,_=!0),y&&y?.column===w)y.subHeaders.push(g);else{const C=mbe(n,w,{id:[r,h,w.id,g?.id].filter(Boolean).join("_"),isPlaceholder:_,placeholderId:_?`${m.filter(S=>S.column===w).length}`:void 0,depth:h,index:m.length});C.subHeaders.push(g),m.push(C)}p.headers.push(g),g.headerGroup=p}),l.push(p),h>0&&u(m,h-1)},c=t.map((f,h)=>mbe(n,f,{depth:o,index:h}));u(c,o-1),l.reverse();const d=f=>f.filter(p=>p.column.getIsVisible()).map(p=>{let m=0,g=0,y=[0];p.subHeaders&&p.subHeaders.length?(y=[],d(p.subHeaders).forEach(w=>{let{colSpan:_,rowSpan:C}=w;m+=_,y.push(C)})):m=1;const v=Math.min(...y);return g=g+v,p.colSpan=m,p.rowSpan=g,{colSpan:m,rowSpan:g}});return d((i=(s=l[0])==null?void 0:s.headers)!=null?i:[]),l}const kE=(e,t,n,r,i,s,o)=>{let a={id:t,index:r,original:n,depth:i,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return a._valuesCache[l]=u.accessorFn(a.original,r),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=u.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var u;return(u=a.getValue(l))!=null?u:e.options.renderFallbackValue},subRows:s??[],getLeafRows:()=>Pje(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let l=[],u=a;for(;;){const c=u.getParentRow();if(!c)break;l.push(c),u=c}return l.reverse()},getAllCells:Cn(()=>[e.getAllLeafColumns()],l=>l.map(u=>xln(e,a,u,u.id)),En(e.options,"debugRows")),_getAllCellsByColumnId:Cn(()=>[a.getAllCells()],l=>l.reduce((u,c)=>(u[c.column.id]=c,u),{}),En(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const u=e._features[l];u==null||u.createRow==null||u.createRow(a,e)}return a},Eln={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},Oje=(e,t,n)=>{var r,i;const s=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((i=e.getValue(t))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(s))};Oje.autoRemove=e=>_f(e);const Nje=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};Nje.autoRemove=e=>_f(e);const $je=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===n?.toLowerCase()};$je.autoRemove=e=>_f(e);const Mje=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};Mje.autoRemove=e=>_f(e)||!(e!=null&&e.length);const Fje=(e,t,n)=>!n.some(r=>{var i;return!((i=e.getValue(t))!=null&&i.includes(r))});Fje.autoRemove=e=>_f(e)||!(e!=null&&e.length);const Lje=(e,t,n)=>n.some(r=>{var i;return(i=e.getValue(t))==null?void 0:i.includes(r)});Lje.autoRemove=e=>_f(e)||!(e!=null&&e.length);const jje=(e,t,n)=>e.getValue(t)===n;jje.autoRemove=e=>_f(e);const Bje=(e,t,n)=>e.getValue(t)==n;Bje.autoRemove=e=>_f(e);const $ie=(e,t,n)=>{let[r,i]=n;const s=e.getValue(t);return s>=r&&s<=i};$ie.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,i=typeof n!="number"?parseFloat(n):n,s=t===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(i)?1/0:i;if(s>o){const a=s;s=o,o=a}return[s,o]};$ie.autoRemove=e=>_f(e)||_f(e[0])&&_f(e[1]);const Nh={includesString:Oje,includesStringSensitive:Nje,equalsString:$je,arrIncludes:Mje,arrIncludesAll:Fje,arrIncludesSome:Lje,equals:jje,weakEquals:Bje,inNumberRange:$ie};function _f(e){return e==null||e===""}const Sln={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:hc("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n?.getValue(e.id);return typeof r=="string"?Nh.includesString:typeof r=="number"?Nh.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Nh.equals:Array.isArray(r)?Nh.arrIncludes:Nh.weakEquals},e.getFilterFn=()=>{var n,r;return V8(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:Nh[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,i;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const i=e.getFilterFn(),s=r?.find(c=>c.id===e.id),o=Yg(n,s?s.value:void 0);if(gbe(i,o,e)){var a;return(a=r?.filter(c=>c.id!==e.id))!=null?a:[]}const l={id:e.id,value:o};if(s){var u;return(u=r?.map(c=>c.id===e.id?l:c))!=null?u:[]}return r!=null&&r.length?[...r,l]:[l]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=i=>{var s;return(s=Yg(t,i))==null?void 0:s.filter(o=>{const a=n.find(l=>l.id===o.id);if(a){const l=a.getFilterFn();if(gbe(l,o.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function gbe(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const Tln=(e,t,n)=>n.reduce((r,i)=>{const s=i.getValue(e);return r+(typeof s=="number"?s:0)},0),kln=(e,t,n)=>{let r;return n.forEach(i=>{const s=i.getValue(e);s!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}),r},Aln=(e,t,n)=>{let r;return n.forEach(i=>{const s=i.getValue(e);s!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}),r},Rln=(e,t,n)=>{let r,i;return n.forEach(s=>{const o=s.getValue(e);o!=null&&(r===void 0?o>=o&&(r=i=o):(r>o&&(r=o),i<o&&(i=o)))}),[r,i]},Iln=(e,t)=>{let n=0,r=0;if(t.forEach(i=>{let s=i.getValue(e);s!=null&&(s=+s)>=s&&(++n,r+=s)}),n)return r/n},Dln=(e,t)=>{if(!t.length)return;const n=t.map(s=>s.getValue(e));if(!wln(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((s,o)=>s-o);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},Pln=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),Oln=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,Nln=(e,t)=>t.length,aN={sum:Tln,min:kln,max:Aln,extent:Rln,mean:Iln,median:Dln,unique:Pln,uniqueCount:Oln,count:Nln},$ln={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:hc("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n?.getValue(e.id);if(typeof r=="number")return aN.sum;if(Object.prototype.toString.call(r)==="[object Date]")return aN.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return V8(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:aN[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function Mln(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(s=>!t.includes(s.id));return n==="remove"?r:[...t.map(s=>e.find(o=>o.id===s)).filter(Boolean),...r]}const Fln={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:hc("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=Cn(n=>[ST(t,n)],n=>n.findIndex(r=>r.id===e.id),En(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=ST(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const i=ST(t,n);return((r=i[i.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=Cn(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>i=>{let s=[];if(!(t!=null&&t.length))s=i;else{const o=[...t],a=[...i];for(;a.length&&o.length;){const l=o.shift(),u=a.findIndex(c=>c.id===l);u>-1&&s.push(a.splice(u,1)[0])}s=[...s,...a]}return Mln(s,n,r)},En(e.options,"debugTable"))}},xU=()=>({left:[],right:[]}),Lln={getInitialState:e=>({columnPinning:xU(),...e}),getDefaultOptions:e=>({onColumnPinningChange:hc("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(i=>i.id).filter(Boolean);t.setColumnPinning(i=>{var s,o;if(n==="right"){var a,l;return{left:((a=i?.left)!=null?a:[]).filter(d=>!(r!=null&&r.includes(d))),right:[...((l=i?.right)!=null?l:[]).filter(d=>!(r!=null&&r.includes(d))),...r]}}if(n==="left"){var u,c;return{left:[...((u=i?.left)!=null?u:[]).filter(d=>!(r!=null&&r.includes(d))),...r],right:((c=i?.right)!=null?c:[]).filter(d=>!(r!=null&&r.includes(d)))}}return{left:((s=i?.left)!=null?s:[]).filter(d=>!(r!=null&&r.includes(d))),right:((o=i?.right)!=null?o:[]).filter(d=>!(r!=null&&r.includes(d)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var i,s,o;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((s=(o=t.options.enableColumnPinning)!=null?o:t.options.enablePinning)!=null?s:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(a=>a.id),{left:r,right:i}=t.getState().columnPinning,s=n.some(a=>r?.includes(a)),o=n.some(a=>i?.includes(a));return s?"left":o?"right":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();return i?(n=(r=t.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=Cn(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,i)=>{const s=[...r??[],...i??[]];return n.filter(o=>!s.includes(o.column.id))},En(t.options,"debugRows")),e.getLeftVisibleCells=Cn(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),En(t.options,"debugRows")),e.getRightVisibleCells=Cn(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),En(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?xU():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:xU())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var i,s;return!!((i=r.left)!=null&&i.length||(s=r.right)!=null&&s.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=Cn(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),En(e.options,"debugColumns")),e.getRightLeafColumns=Cn(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),En(e.options,"debugColumns")),e.getCenterLeafColumns=Cn(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const i=[...n??[],...r??[]];return t.filter(s=>!i.includes(s.id))},En(e.options,"debugColumns"))}},dP={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},_U=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),jln={getDefaultColumnDef:()=>dP,getInitialState:e=>({columnSizing:{},columnSizingInfo:_U(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:hc("columnSizing",e),onColumnSizingInfoChange:hc("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,i;const s=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:dP.minSize,(r=s??e.columnDef.size)!=null?r:dP.size),(i=e.columnDef.maxSize)!=null?i:dP.maxSize)},e.getStart=Cn(n=>[n,ST(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((i,s)=>i+s.getSize(),0),En(t.options,"debugColumns")),e.getAfter=Cn(n=>[n,ST(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((i,s)=>i+s.getSize(),0),En(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...i}=n;return i})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var s;n+=(s=i.column.getSize())!=null?s:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),i=r?.getCanResize();return s=>{if(!r||!i||(s.persist==null||s.persist(),CU(s)&&s.touches&&s.touches.length>1))return;const o=e.getSize(),a=e?e.getLeafHeaders().map(y=>[y.column.id,y.column.getSize()]):[[r.id,r.getSize()]],l=CU(s)?Math.round(s.touches[0].clientX):s.clientX,u={},c=(y,v)=>{typeof v=="number"&&(t.setColumnSizingInfo(w=>{var _,C;const S=t.options.columnResizeDirection==="rtl"?-1:1,T=(v-((_=w?.startOffset)!=null?_:0))*S,k=Math.max(T/((C=w?.startSize)!=null?C:0),-.999999);return w.columnSizingStart.forEach(I=>{let[R,P]=I;u[R]=Math.round(Math.max(P+P*k,0)*100)/100}),{...w,deltaOffset:T,deltaPercentage:k}}),(t.options.columnResizeMode==="onChange"||y==="end")&&t.setColumnSizing(w=>({...w,...u})))},d=y=>c("move",y),f=y=>{c("end",y),t.setColumnSizingInfo(v=>({...v,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},h=n||typeof document<"u"?document:null,p={moveHandler:y=>d(y.clientX),upHandler:y=>{h?.removeEventListener("mousemove",p.moveHandler),h?.removeEventListener("mouseup",p.upHandler),f(y.clientX)}},m={moveHandler:y=>(y.cancelable&&(y.preventDefault(),y.stopPropagation()),d(y.touches[0].clientX),!1),upHandler:y=>{var v;h?.removeEventListener("touchmove",m.moveHandler),h?.removeEventListener("touchend",m.upHandler),y.cancelable&&(y.preventDefault(),y.stopPropagation()),f((v=y.touches[0])==null?void 0:v.clientX)}},g=Bln()?{passive:!1}:!1;CU(s)?(h?.addEventListener("touchmove",m.moveHandler,g),h?.addEventListener("touchend",m.upHandler,g)):(h?.addEventListener("mousemove",p.moveHandler,g),h?.addEventListener("mouseup",p.upHandler,g)),t.setColumnSizingInfo(y=>({...y,startOffset:l,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?_U():(n=e.initialState.columnSizingInfo)!=null?n:_U())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0}}};let fP=null;function Bln(){if(typeof fP=="boolean")return fP;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return fP=e,fP}function CU(e){return e.type==="touchstart"}const zln={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:hc("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const i=e.columns;return(n=i.length?i.some(s=>s.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Cn(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),En(t.options,"debugRows")),e.getVisibleCells=Cn(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],En(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>Cn(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),En(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,s)=>({...i,[s.id]:n||!(s.getCanHide!=null&&s.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function ST(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Uln={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},Vln={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:hc("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,i,s;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&((s=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?s:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Nh.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return V8(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:Nh[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},Hln={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:hc("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var i,s;e.setExpanded(r?{}:(i=(s=e.initialState)==null?void 0:s.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(s=>{const o=s.split(".");r=Math.max(r,o.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var i;const s=r===!0?!0:!!(r!=null&&r[e.id]);let o={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{o[a]=!0}):o=r,n=(i=n)!=null?i:!s,!s&&n)return{...o,[e.id]:!0};if(s&&!n){const{[e.id]:a,...l}=o;return l}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r?.[e.id])},e.getCanExpand=()=>{var n,r,i;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},WG=0,GG=10,EU=()=>({pageIndex:WG,pageSize:GG}),qln={getInitialState:e=>({...e,pagination:{...EU(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:hc("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const i=s=>Yg(r,s);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=r=>{var i;e.setPagination(r?EU():(i=e.initialState.pagination)!=null?i:EU())},e.setPageIndex=r=>{e.setPagination(i=>{let s=Yg(r,i.pageIndex);const o=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return s=Math.max(0,Math.min(s,o)),{...i,pageIndex:s}})},e.resetPageIndex=r=>{var i,s;e.setPageIndex(r?WG:(i=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?i:WG)},e.resetPageSize=r=>{var i,s;e.setPageSize(r?GG:(i=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?i:GG)},e.setPageSize=r=>{e.setPagination(i=>{const s=Math.max(1,Yg(r,i.pageSize)),o=i.pageSize*i.pageIndex,a=Math.floor(o/s);return{...i,pageIndex:a,pageSize:s}})},e.setPageCount=r=>e.setPagination(i=>{var s;let o=Yg(r,(s=e.options.pageCount)!=null?s:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...i,pageCount:o}}),e.getPageOptions=Cn(()=>[e.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((s,o)=>o)),i},En(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:r<i-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},SU=()=>({top:[],bottom:[]}),Wln={getInitialState:e=>({rowPinning:SU(),...e}),getDefaultOptions:e=>({onRowPinningChange:hc("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,i)=>{const s=r?e.getLeafRows().map(l=>{let{id:u}=l;return u}):[],o=i?e.getParentRows().map(l=>{let{id:u}=l;return u}):[],a=new Set([...o,e.id,...s]);t.setRowPinning(l=>{var u,c;if(n==="bottom"){var d,f;return{top:((d=l?.top)!=null?d:[]).filter(m=>!(a!=null&&a.has(m))),bottom:[...((f=l?.bottom)!=null?f:[]).filter(m=>!(a!=null&&a.has(m))),...Array.from(a)]}}if(n==="top"){var h,p;return{top:[...((h=l?.top)!=null?h:[]).filter(m=>!(a!=null&&a.has(m))),...Array.from(a)],bottom:((p=l?.bottom)!=null?p:[]).filter(m=>!(a!=null&&a.has(m)))}}return{top:((u=l?.top)!=null?u:[]).filter(m=>!(a!=null&&a.has(m))),bottom:((c=l?.bottom)!=null?c:[]).filter(m=>!(a!=null&&a.has(m)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=t.options;return typeof r=="function"?r(e):(n=r??i)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:i}=t.getState().rowPinning,s=n.some(a=>r?.includes(a)),o=n.some(a=>i?.includes(a));return s?"top":o?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();if(!i)return-1;const s=(n=i==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(o=>{let{id:a}=o;return a});return(r=s?.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?SU():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:SU())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var i,s;return!!((i=r.top)!=null&&i.length||(s=r.bottom)!=null&&s.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(n??[]).map(o=>{const a=e.getRow(o,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(o=>t.find(a=>a.id===o))).filter(Boolean).map(o=>({...o,position:r}))},e.getTopRows=Cn(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),En(e.options,"debugRows")),e.getBottomRows=Cn(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),En(e.options,"debugRows")),e.getCenterRows=Cn(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const i=new Set([...n??[],...r??[]]);return t.filter(s=>!i.has(s.id))},En(e.options,"debugRows"))}},Gln={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:hc("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(s=>{s.getCanSelect()&&(r[s.id]=!0)}):i.forEach(s=>{delete r[s.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach(s=>{YG(i,s.id,r,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Cn(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?TU(e,n):{rows:[],flatRows:[],rowsById:{}},En(e.options,"debugTable")),e.getFilteredSelectedRowModel=Cn(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?TU(e,n):{rows:[],flatRows:[],rowsById:{}},En(e.options,"debugTable")),e.getGroupedSelectedRowModel=Cn(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?TU(e,n):{rows:[],flatRows:[],rowsById:{}},En(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(i=>!n[i.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const i=e.getIsSelected();t.setRowSelection(s=>{var o;if(n=typeof n<"u"?n:!i,e.getCanSelect()&&i===n)return s;const a={...s};return YG(a,e.id,n,(o=r?.selectChildren)!=null?o:!0,t),a})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Mie(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return KG(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return KG(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var i;n&&e.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},YG=(e,t,n,r,i)=>{var s;const o=i.getRow(t,!0);n?(o.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),o.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(s=o.subRows)!=null&&s.length&&o.getCanSelectSubRows()&&o.subRows.forEach(a=>YG(e,a.id,n,r,i))};function TU(e,t){const n=e.getState().rowSelection,r=[],i={},s=function(o,a){return o.map(l=>{var u;const c=Mie(l,n);if(c&&(r.push(l),i[l.id]=l),(u=l.subRows)!=null&&u.length&&(l={...l,subRows:s(l.subRows)}),c)return l}).filter(Boolean)};return{rows:s(t.rows),flatRows:r,rowsById:i}}function Mie(e,t){var n;return(n=t[e.id])!=null?n:!1}function KG(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let i=!0,s=!1;return e.subRows.forEach(o=>{if(!(s&&!i)&&(o.getCanSelect()&&(Mie(o,t)?s=!0:i=!1),o.subRows&&o.subRows.length)){const a=KG(o,t);a==="all"?s=!0:(a==="some"&&(s=!0),i=!1)}}),i?"all":s?"some":!1}const XG=/([0-9]+)/gm,Yln=(e,t,n)=>zje(My(e.getValue(n)).toLowerCase(),My(t.getValue(n)).toLowerCase()),Kln=(e,t,n)=>zje(My(e.getValue(n)),My(t.getValue(n))),Xln=(e,t,n)=>Fie(My(e.getValue(n)).toLowerCase(),My(t.getValue(n)).toLowerCase()),Qln=(e,t,n)=>Fie(My(e.getValue(n)),My(t.getValue(n))),Jln=(e,t,n)=>{const r=e.getValue(n),i=t.getValue(n);return r>i?1:r<i?-1:0},Zln=(e,t,n)=>Fie(e.getValue(n),t.getValue(n));function Fie(e,t){return e===t?0:e>t?1:-1}function My(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function zje(e,t){const n=e.split(XG).filter(Boolean),r=t.split(XG).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),s=r.shift(),o=parseInt(i,10),a=parseInt(s,10),l=[o,a].sort();if(isNaN(l[0])){if(i>s)return 1;if(s>i)return-1;continue}if(isNaN(l[1]))return isNaN(o)?-1:1;if(o>a)return 1;if(a>o)return-1}return n.length-r.length}const c1={alphanumeric:Yln,alphanumericCaseSensitive:Kln,text:Xln,textCaseSensitive:Qln,datetime:Jln,basic:Zln},eun={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:hc("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const s=i?.getValue(e.id);if(Object.prototype.toString.call(s)==="[object Date]")return c1.datetime;if(typeof s=="string"&&(r=!0,s.split(XG).length>1))return c1.alphanumeric}return r?c1.text:c1.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof n?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return V8(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:c1[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const i=e.getNextSortingOrder(),s=typeof n<"u"&&n!==null;t.setSorting(o=>{const a=o?.find(h=>h.id===e.id),l=o?.findIndex(h=>h.id===e.id);let u=[],c,d=s?n:i==="desc";if(o!=null&&o.length&&e.getCanMultiSort()&&r?a?c="toggle":c="add":o!=null&&o.length&&l!==o.length-1?c="replace":a?c="toggle":c="replace",c==="toggle"&&(s||i||(c="remove")),c==="add"){var f;u=[...o,{id:e.id,desc:d}],u.splice(0,u.length-((f=t.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else c==="toggle"?u=o.map(h=>h.id===e.id?{...h,desc:d}:h):c==="remove"?u=o.filter(h=>h.id!==e.id):u=[{id:e.id,desc:d}];return u})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,i;const s=e.getFirstSortDir(),o=e.getIsSorted();return o?o!==s&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(i=t.options.enableMultiRemove)!=null)||i)?!1:o==="desc"?"asc":"desc":s},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(i=>i.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},tun=[Cln,zln,Fln,Lln,Eln,Sln,Uln,Vln,eun,$ln,Hln,qln,Wln,Gln,jln];function nun(e){var t,n;const r=[...tun,...(t=e._features)!=null?t:[]];let i={_features:r};const s=i._features.reduce((f,h)=>Object.assign(f,h.getDefaultOptions==null?void 0:h.getDefaultOptions(i)),{}),o=f=>i.options.mergeOptions?i.options.mergeOptions(s,f):{...s,...f};let l={...{},...(n=e.initialState)!=null?n:{}};i._features.forEach(f=>{var h;l=(h=f.getInitialState==null?void 0:f.getInitialState(l))!=null?h:l});const u=[];let c=!1;const d={_features:r,options:{...s,...e},initialState:l,_queue:f=>{u.push(f),c||(c=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();c=!1}).catch(h=>setTimeout(()=>{throw h})))},reset:()=>{i.setState(i.initialState)},setOptions:f=>{const h=Yg(f,i.options);i.options=o(h)},getState:()=>i.options.state,setState:f=>{i.options.onStateChange==null||i.options.onStateChange(f)},_getRowId:(f,h,p)=>{var m;return(m=i.options.getRowId==null?void 0:i.options.getRowId(f,h,p))!=null?m:`${p?[p.id,h].join("."):h}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(f,h)=>{let p=(h?i.getPrePaginationRowModel():i.getRowModel()).rowsById[f];if(!p&&(p=i.getCoreRowModel().rowsById[f],!p))throw new Error;return p},_getDefaultColumnDef:Cn(()=>[i.options.defaultColumn],f=>{var h;return f=(h=f)!=null?h:{},{header:p=>{const m=p.header.column.columnDef;return m.accessorKey?m.accessorKey:m.accessorFn?m.id:null},cell:p=>{var m,g;return(m=(g=p.renderValue())==null||g.toString==null?void 0:g.toString())!=null?m:null},...i._features.reduce((p,m)=>Object.assign(p,m.getDefaultColumnDef==null?void 0:m.getDefaultColumnDef()),{}),...f}},En(e,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:Cn(()=>[i._getColumnDefs()],f=>{const h=function(p,m,g){return g===void 0&&(g=0),p.map(y=>{const v=_ln(i,y,g,m),w=y;return v.columns=w.columns?h(w.columns,v,g+1):[],v})};return h(f)},En(e,"debugColumns")),getAllFlatColumns:Cn(()=>[i.getAllColumns()],f=>f.flatMap(h=>h.getFlatColumns()),En(e,"debugColumns")),_getAllFlatColumnsById:Cn(()=>[i.getAllFlatColumns()],f=>f.reduce((h,p)=>(h[p.id]=p,h),{}),En(e,"debugColumns")),getAllLeafColumns:Cn(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(f,h)=>{let p=f.flatMap(m=>m.getLeafColumns());return h(p)},En(e,"debugColumns")),getColumn:f=>i._getAllFlatColumnsById()[f]};Object.assign(i,d);for(let f=0;f<i._features.length;f++){const h=i._features[f];h==null||h.createTable==null||h.createTable(i)}return i}function run(){return e=>Cn(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,s,o){s===void 0&&(s=0);const a=[];for(let u=0;u<i.length;u++){const c=kE(e,e._getRowId(i[u],u,o),i[u],u,s,void 0,o?.id);if(n.flatRows.push(c),n.rowsById[c.id]=c,a.push(c),e.options.getSubRows){var l;c.originalSubRows=e.options.getSubRows(i[u],u),(l=c.originalSubRows)!=null&&l.length&&(c.subRows=r(c.originalSubRows,s+1,c))}}return a};return n.rows=r(t),n},En(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function iun(){return e=>Cn(()=>[e.getState().expanded,e.getPreExpandedRowModel(),e.options.paginateExpandedRows],(t,n,r)=>!n.rows.length||t!==!0&&!Object.keys(t??{}).length||!r?n:Uje(n),En(e.options,"debugTable"))}function Uje(e){const t=[],n=r=>{var i;t.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function sun(){return(e,t)=>Cn(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return;const r=n.flatRows.flatMap(o=>{var a;return(a=o.getUniqueValues(t))!=null?a:[]}).map(Number).filter(o=>!Number.isNaN(o));if(!r.length)return;let i=r[0],s=r[r.length-1];for(const o of r)o<i?i=o:o>s&&(s=o);return[i,s]},En(e.options,"debugTable"))}function Vje(e,t,n){return n.options.filterFromLeafRows?oun(e,t,n):aun(e,t,n)}function oun(e,t,n){var r;const i=[],s={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,u){u===void 0&&(u=0);const c=[];for(let f=0;f<l.length;f++){var d;let h=l[f];const p=kE(n,h.id,h.original,h.index,h.depth,void 0,h.parentId);if(p.columnFilters=h.columnFilters,(d=h.subRows)!=null&&d.length&&u<o){if(p.subRows=a(h.subRows,u+1),h=p,t(h)&&!p.subRows.length){c.push(h),s[h.id]=h,i.push(h);continue}if(t(h)||p.subRows.length){c.push(h),s[h.id]=h,i.push(h);continue}}else h=p,t(h)&&(c.push(h),s[h.id]=h,i.push(h))}return c};return{rows:a(e),flatRows:i,rowsById:s}}function aun(e,t,n){var r;const i=[],s={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,u){u===void 0&&(u=0);const c=[];for(let f=0;f<l.length;f++){let h=l[f];if(t(h)){var d;if((d=h.subRows)!=null&&d.length&&u<o){const m=kE(n,h.id,h.original,h.index,h.depth,void 0,h.parentId);m.subRows=a(h.subRows,u+1),h=m}c.push(h),i.push(h),s[h.id]=h}}return c};return{rows:a(e),flatRows:i,rowsById:s}}function lun(){return(e,t)=>Cn(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter,e.getFilteredRowModel()],(n,r,i)=>{if(!n.rows.length||!(r!=null&&r.length)&&!i)return n;const s=[...r.map(a=>a.id).filter(a=>a!==t),i?"__global__":void 0].filter(Boolean),o=a=>{for(let l=0;l<s.length;l++)if(a.columnFilters[s[l]]===!1)return!1;return!0};return Vje(n.rows,o,e)},En(e.options,"debugTable"))}function uun(){return(e,t)=>Cn(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return new Map;let r=new Map;for(let s=0;s<n.flatRows.length;s++){const o=n.flatRows[s].getUniqueValues(t);for(let a=0;a<o.length;a++){const l=o[a];if(r.has(l)){var i;r.set(l,((i=r.get(l))!=null?i:0)+1)}else r.set(l,1)}}return r},En(e.options,"debugTable"))}function cun(){return e=>Cn(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let f=0;f<t.flatRows.length;f++)t.flatRows[f].columnFilters={},t.flatRows[f].columnFiltersMeta={};return t}const i=[],s=[];(n??[]).forEach(f=>{var h;const p=e.getColumn(f.id);if(!p)return;const m=p.getFilterFn();m&&i.push({id:f.id,filterFn:m,resolvedValue:(h=m.resolveFilterValue==null?void 0:m.resolveFilterValue(f.value))!=null?h:f.value})});const o=(n??[]).map(f=>f.id),a=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(f=>f.getCanGlobalFilter());r&&a&&l.length&&(o.push("__global__"),l.forEach(f=>{var h;s.push({id:f.id,filterFn:a,resolvedValue:(h=a.resolveFilterValue==null?void 0:a.resolveFilterValue(r))!=null?h:r})}));let u,c;for(let f=0;f<t.flatRows.length;f++){const h=t.flatRows[f];if(h.columnFilters={},i.length)for(let p=0;p<i.length;p++){u=i[p];const m=u.id;h.columnFilters[m]=u.filterFn(h,m,u.resolvedValue,g=>{h.columnFiltersMeta[m]=g})}if(s.length){for(let p=0;p<s.length;p++){c=s[p];const m=c.id;if(c.filterFn(h,m,c.resolvedValue,g=>{h.columnFiltersMeta[m]=g})){h.columnFilters.__global__=!0;break}}h.columnFilters.__global__!==!0&&(h.columnFilters.__global__=!1)}}const d=f=>{for(let h=0;h<o.length;h++)if(f.columnFilters[o[h]]===!1)return!1;return!0};return Vje(t.rows,d,e)},En(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function dun(){return e=>Cn(()=>[e.getState().grouping,e.getPreGroupedRowModel()],(t,n)=>{if(!n.rows.length||!t.length)return n.rows.forEach(l=>{l.depth=0,l.parentId=void 0}),n;const r=t.filter(l=>e.getColumn(l)),i=[],s={},o=function(l,u,c){if(u===void 0&&(u=0),u>=r.length)return l.map(p=>(p.depth=u,i.push(p),s[p.id]=p,p.subRows&&(p.subRows=o(p.subRows,u+1,p.id)),p));const d=r[u],f=fun(l,d);return Array.from(f.entries()).map((p,m)=>{let[g,y]=p,v=`${d}:${g}`;v=c?`${c}>${v}`:v;const w=o(y,u+1,v);w.forEach(S=>{S.parentId=v});const _=u?Pje(y,S=>S.subRows):y,C=kE(e,v,_[0].original,m,u,void 0,c);return Object.assign(C,{groupingColumnId:d,groupingValue:g,subRows:w,leafRows:_,getValue:S=>{if(r.includes(S)){if(C._valuesCache.hasOwnProperty(S))return C._valuesCache[S];if(y[0]){var T;C._valuesCache[S]=(T=y[0].getValue(S))!=null?T:void 0}return C._valuesCache[S]}if(C._groupingValuesCache.hasOwnProperty(S))return C._groupingValuesCache[S];const k=e.getColumn(S),I=k?.getAggregationFn();if(I)return C._groupingValuesCache[S]=I(S,_,y),C._groupingValuesCache[S]}}),w.forEach(S=>{i.push(S),s[S.id]=S}),C})},a=o(n.rows,0);return a.forEach(l=>{i.push(l),s[l.id]=l}),{rows:a,flatRows:i,rowsById:s}},En(e.options,"debugTable","getGroupedRowModel",()=>{e._queue(()=>{e._autoResetExpanded(),e._autoResetPageIndex()})}))}function fun(e,t){const n=new Map;return e.reduce((r,i)=>{const s=`${i.getGroupingValue(t)}`,o=r.get(s);return o?o.push(i):r.set(s,[i]),r},n)}function hun(e){return t=>Cn(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:i,pageIndex:s}=n;let{rows:o,flatRows:a,rowsById:l}=r;const u=i*s,c=u+i;o=o.slice(u,c);let d;t.options.paginateExpandedRows?d={rows:o,flatRows:a,rowsById:l}:d=Uje({rows:o,flatRows:a,rowsById:l}),d.flatRows=[];const f=h=>{d.flatRows.push(h),h.subRows.length&&h.subRows.forEach(f)};return d.rows.forEach(f),d},En(t.options,"debugTable"))}function pun(){return e=>Cn(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,i=[],s=r.filter(l=>{var u;return(u=e.getColumn(l.id))==null?void 0:u.getCanSort()}),o={};s.forEach(l=>{const u=e.getColumn(l.id);u&&(o[l.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const a=l=>{const u=l.map(c=>({...c}));return u.sort((c,d)=>{for(let h=0;h<s.length;h+=1){var f;const p=s[h],m=o[p.id],g=m.sortUndefined,y=(f=p?.desc)!=null?f:!1;let v=0;if(g){const w=c.getValue(p.id),_=d.getValue(p.id),C=w===void 0,S=_===void 0;if(C||S){if(g==="first")return C?-1:1;if(g==="last")return C?1:-1;v=C&&S?0:C?g:-g}}if(v===0&&(v=m.sortingFn(c,d,p.id)),v!==0)return y&&(v*=-1),m.invertSorting&&(v*=-1),v}return c.index-d.index}),u.forEach(c=>{var d;i.push(c),(d=c.subRows)!=null&&d.length&&(c.subRows=a(c.subRows))}),u};return{rows:a(n.rows),flatRows:i,rowsById:n.rowsById}},En(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function mun(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=A.useState(()=>({current:nun(t)})),[r,i]=A.useState(()=>n.current.initialState);return n.current.setOptions(s=>({...s,...e,state:{...r,...e.state},onStateChange:o=>{i(o),e.onStateChange==null||e.onStateChange(o)}})),n.current}/**
   * match-sorter-utils
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */const Hje={:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"AE",:"A",:"A",:"A",:"C",:"C",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"I",:"I",:"D",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"U",:"U",:"U",:"U",:"Y",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"ae",:"a",:"a",:"a",:"c",:"c",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"i",:"i",:"d",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"u",:"u",:"u",:"u",:"y",:"y",:"A",:"a",:"A",:"a",:"A",:"a",:"C",:"c",:"C",:"c",:"C",:"c",:"C",:"c",C:"C",c:"c",:"D",:"d",:"D",:"d",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"G",:"G",:"g",:"g",:"G",:"g",:"G",:"g",:"G",:"g",:"H",:"h",:"H",:"h",:"H",:"h",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"IJ",:"ij",:"J",:"j",:"K",:"k",:"K",:"k",K:"K",k:"k",:"L",:"l",:"L",:"l",:"L",:"l",:"L",:"l",:"l",:"l",:"M",:"m",M:"M",m:"m",:"N",:"n",:"N",:"n",:"N",:"n",:"n",N:"N",n:"n",:"O",:"o",:"O",:"o",:"O",:"o",:"OE",:"oe",P:"P",p:"p",:"R",:"r",:"R",:"r",:"R",:"r",R:"R",r:"r",:"R",:"r",:"S",:"s",:"S",:"s",:"S",:"S",:"s",:"s",:"S",:"s",:"T",:"t",:"t",:"T",:"T",:"t",:"T",:"t",T:"T",t:"t",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",V:"V",v:"v",:"W",:"w",:"W",:"w",X:"X",x:"x",:"Y",:"y",:"Y",Y:"Y",y:"y",:"Z",:"z",:"Z",:"z",:"Z",:"z",:"s",:"f",:"O",:"o",:"U",:"u",:"A",:"a",:"I",:"i",:"O",:"o",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"A",:"a",:"AE",:"ae",:"O",:"o",:"TH",:"th",:"P",:"p",:"S",:"s",X:"X",x:"x",:"",:"",:"",:"",A:"A",a:"a",E:"E",e:"e",I:"I",i:"i",:"N",:"n",:"O",:"o",:"O",:"o",:"U",:"u",:"W",:"w",:"Y",:"y",:"A",:"a",:"E",:"e",:"I",:"i",:"O",:"o",:"R",:"r",:"U",:"u",B:"B",b:"b",:"C",:"c",:"E",:"e",F:"F",f:"f",:"G",:"g",:"H",:"h",J:"J",:"j",:"K",:"k",M:"M",m:"m",P:"P",p:"p",Q:"Q",q:"q",:"R",:"r",:"S",:"s",V:"V",v:"v",W:"W",w:"w",X:"X",x:"x",Y:"Y",y:"y",A:"A",a:"a",B:"B",b:"b",:"D",:"d",:"E",:"e",:"E",:"e",:"H",:"h",I:"I",i:"i",:"I",:"i",M:"M",m:"m",O:"O",o:"o",Q:"Q",q:"q",U:"U",u:"u",X:"X",x:"x",Z:"Z",z:"z"},gun=Object.keys(Hje).join("|"),yun=new RegExp(gun,"g");function vun(e){return e.replace(yun,t=>Hje[t])}/**
 * @name match-sorter
 * @license MIT license.
 * @copyright (c) 2099 Kent C. Dodds
 * @author Kent C. Dodds <me@kentcdodds.com> (https://kentcdodds.com)
 */const wl={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0};function bun(e,t,n){var r;if(n=n||{},n.threshold=(r=n.threshold)!=null?r:wl.MATCHES,!n.accessors){const o=ybe(e,t,n);return{rankedValue:e,rank:o,accessorIndex:-1,accessorThreshold:n.threshold,passed:o>=n.threshold}}const i=Eun(e,n.accessors),s={rankedValue:e,rank:wl.NO_MATCH,accessorIndex:-1,accessorThreshold:n.threshold,passed:!1};for(let o=0;o<i.length;o++){const a=i[o];let l=ybe(a.itemValue,t,n);const{minRanking:u,maxRanking:c,threshold:d=n.threshold}=a.attributes;l<u&&l>=wl.MATCHES?l=u:l>c&&(l=c),l=Math.min(l,c),l>=d&&l>s.rank&&(s.rank=l,s.passed=!0,s.accessorIndex=o,s.accessorThreshold=d,s.rankedValue=a.itemValue)}return s}function ybe(e,t,n){return e=vbe(e,n),t=vbe(t,n),t.length>e.length?wl.NO_MATCH:e===t?wl.CASE_SENSITIVE_EQUAL:(e=e.toLowerCase(),t=t.toLowerCase(),e===t?wl.EQUAL:e.startsWith(t)?wl.STARTS_WITH:e.includes(` ${t}`)?wl.WORD_STARTS_WITH:e.includes(t)?wl.CONTAINS:t.length===1?wl.NO_MATCH:wun(e).includes(t)?wl.ACRONYM:xun(e,t))}function wun(e){let t="";return e.split(" ").forEach(r=>{r.split("-").forEach(s=>{t+=s.substr(0,1)})}),t}function xun(e,t){let n=0,r=0;function i(l,u,c){for(let d=c,f=u.length;d<f;d++)if(u[d]===l)return n+=1,d+1;return-1}function s(l){const u=1/l,c=n/t.length;return wl.MATCHES+c*u}const o=i(t[0],e,0);if(o<0)return wl.NO_MATCH;r=o;for(let l=1,u=t.length;l<u;l++){const c=t[l];if(r=i(c,e,r),!(r>-1))return wl.NO_MATCH}const a=r-o;return s(a)}function _un(e,t){return e.rank===t.rank?0:e.rank>t.rank?-1:1}function vbe(e,t){let{keepDiacritics:n}=t;return e=`${e}`,n||(e=vun(e)),e}function Cun(e,t){let n=t;typeof t=="object"&&(n=t.accessor);const r=n(e);return r==null?[]:Array.isArray(r)?r:[String(r)]}function Eun(e,t){const n=[];for(let r=0,i=t.length;r<i;r++){const s=t[r],o=Sun(s),a=Cun(e,s);for(let l=0,u=a.length;l<u;l++)n.push({itemValue:a[l],attributes:o})}return n}const bbe={maxRanking:1/0,minRanking:-1/0};function Sun(e){return typeof e=="function"?bbe:{...bbe,...e}}function ax(e,t,n){let r=n.initialDeps??[],i;return()=>{var s,o,a,l;let u;n.key&&((s=n.debug)!=null&&s.call(n))&&(u=Date.now());const c=e();if(!(c.length!==r.length||c.some((h,p)=>r[p]!==h)))return i;r=c;let f;if(n.key&&((o=n.debug)!=null&&o.call(n))&&(f=Date.now()),i=t(...c),n.key&&((a=n.debug)!=null&&a.call(n))){const h=Math.round((Date.now()-u)*100)/100,p=Math.round((Date.now()-f)*100)/100,m=p/16,g=(y,v)=>{for(y=String(y);y.length<v;)y=" "+y;return y};console.info(`%c ${g(p,5)} /${g(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*m,120))}deg 100% 31%);`,n?.key)}return(l=n?.onChange)==null||l.call(n,i),i}}function kU(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const Tun=(e,t)=>Math.abs(e-t)<1,kun=(e,t,n)=>{let r;return function(...i){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,i),n)}},Aun=e=>e,qje=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let i=t;i<=n;i++)r.push(i);return r},Run=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const i=o=>{const{width:a,height:l}=o;t({width:Math.round(a),height:Math.round(l)})};if(i(n.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const s=new r.ResizeObserver(o=>{const a=o[0];if(a?.borderBoxSize){const l=a.borderBoxSize[0];if(l){i({width:l.inlineSize,height:l.blockSize});return}}i(n.getBoundingClientRect())});return s.observe(n,{box:"border-box"}),()=>{s.unobserve(n)}},wbe={passive:!0},Iun=typeof window>"u"?!0:"onscrollend"in window,Dun=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let i=0;const s=e.options.useScrollendEvent&&Iun?()=>{}:kun(r,()=>{t(i,!1)},e.options.isScrollingResetDelay),o=u=>()=>{const{horizontal:c,isRtl:d}=e.options;i=c?n.scrollLeft*(d&&-1||1):n.scrollTop,s(),t(i,u)},a=o(!0),l=o(!1);return l(),n.addEventListener("scroll",a,wbe),n.addEventListener("scrollend",l,wbe),()=>{n.removeEventListener("scroll",a),n.removeEventListener("scrollend",l)}},Pun=(e,t,n)=>{if(t?.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},Oun=(e,{adjustments:t=0,behavior:n},r)=>{var i,s;const o=e+t;(s=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||s.call(i,{[r.options.horizontal?"left":"top"]:o,behavior:n})};class Nun{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(s=>{this._measureElement(s.target,s)})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var s;return(s=r())==null?void 0:s.observe(i,{box:"border-box"})},unobserve:i=>{var s;return(s=r())==null?void 0:s.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Aun,rangeExtractor:qje,onChange:()=>{},measureElement:Pun,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=ax(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,s=new Map;for(let o=r-1;o>=0;o--){const a=n[o];if(i.has(a.lane))continue;const l=s.get(a.lane);if(l==null||a.end>l.end?s.set(a.lane,a):a.end<l.end&&i.set(a.lane,!0),i.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((o,a)=>o.end===a.end?o.index-a.index:o.end-a.end)[0]:void 0},this.getMeasurementOptions=ax(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,i,s,o)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:o}),{key:!1}),this.getMeasurements=ax(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:o},a)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(c=>{this.itemSizeCache.set(c.key,c.size)}));const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,l);for(let c=l;c<n;c++){const d=s(c),f=this.options.lanes===1?u[c-1]:this.getFurthestMeasurement(u,c),h=f?f.end+this.options.gap:r+i,p=a.get(d),m=typeof p=="number"?p:this.options.estimateSize(c),g=h+m,y=f?f.lane:c%this.options.lanes;u[c]={index:c,start:h,size:m,end:g,key:d,lane:y}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=ax(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(n,r,i)=>this.range=n.length>0&&r>0?$un({measurements:n,outerSize:r,scrollOffset:i}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=ax(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(n,r,i,s)=>r===null?[]:n({startIndex:r.startIndex,endIndex:r.endIndex,overscan:i,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),s=this.measurementsCache[i];if(!s)return;const o=s.key,a=this.elementsCache.get(o);a!==n&&(a&&this.observer.unobserve(a),this.observer.observe(n),this.elementsCache.set(o,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const s=this.itemSizeCache.get(i.key)??i.size,o=r-s;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,o,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=ax(()=>[this.getIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let s=0,o=n.length;s<o;s++){const a=n[s],l=r[a];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return kU(r[Wje(0,r.length-1,i=>kU(r[i]).start,n)])},this.getOffsetForAlignment=(n,r)=>{const i=this.getSize(),s=this.getScrollOffset();r==="auto"&&n>=s+i&&(r="end"),r==="end"&&(n-=i);const o=this.options.horizontal?"scrollWidth":"scrollHeight",l=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[o]:this.scrollElement[o]:0)-i;return Math.max(Math.min(l,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const s=this.getSize(),o=this.getScrollOffset();if(r==="auto")if(i.end>=o+s-this.options.scrollPaddingEnd)r="end";else if(i.start<=o+this.options.scrollPaddingStart)r="start";else return[o,r];const a=i.start-this.options.scrollPaddingStart+(i.size-s)/2;switch(r){case"center":return[this.getOffsetForAlignment(a,r),r];case"end":return[this.getOffsetForAlignment(i.end+this.options.scrollPaddingEnd,r),r];default:return[this.getOffsetForAlignment(i.start-this.options.scrollPaddingStart,r),r]}},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const s=this.getOffsetForIndex(n,r);if(!s)return;const[o,a]=s;this._scrollToOffset(o,{adjustments:void 0,behavior:i}),i!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const[u]=kU(this.getOffsetForIndex(n,a));Tun(u,this.getScrollOffset())||this.scrollToIndex(n,{align:a,behavior:i})}else this.scrollToIndex(n,{align:a,behavior:i})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;return r.length===0?i=this.options.paddingStart:i=this.options.lanes===1?((n=r[r.length-1])==null?void 0:n.end)??0:Math.max(...r.slice(-this.options.lanes).map(s=>s.end)),Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const Wje=(e,t,n,r)=>{for(;e<=t;){const i=(e+t)/2|0,s=n(i);if(s<r)e=i+1;else if(s>r)t=i-1;else return i}return e>0?e-1:0};function $un({measurements:e,outerSize:t,scrollOffset:n}){const r=e.length-1,s=Wje(0,r,a=>e[a].start,n);let o=s;for(;o<r&&e[o].end<n+t;)o++;return{startIndex:s,endIndex:o}}const xbe=typeof document<"u"?A.useLayoutEffect:A.useEffect;function Mun(e){const t=A.useReducer(()=>({}),{})[1],n={...e,onChange:(i,s)=>{var o;s?Hh.flushSync(t):t(),(o=e.onChange)==null||o.call(e,i,s)}},[r]=A.useState(()=>new Nun(n));return r.setOptions(n),xbe(()=>r._didMount(),[]),xbe(()=>r._willUpdate()),r}function Gje(e){return Mun({observeElementRect:Run,observeElementOffset:Dun,scrollToFn:Oun,...e})}var lN={exports:{}},Fun=lN.exports,_be;function Lun(){return _be||(_be=1,(function(e,t){(function(n,r){e.exports=r()})(Fun,(function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",u="day",c="week",d="month",f="quarter",h="year",p="date",m="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(O){var j=["th","st","nd","rd"],B=O%100;return"["+O+(j[(B-20)%10]||j[B]||j[0])+"]"}},w=function(O,j,B){var H=String(O);return!H||H.length>=j?O:""+Array(j+1-H.length).join(B)+O},_={s:w,z:function(O){var j=-O.utcOffset(),B=Math.abs(j),H=Math.floor(B/60),q=B%60;return(j<=0?"+":"-")+w(H,2,"0")+":"+w(q,2,"0")},m:function O(j,B){if(j.date()<B.date())return-O(B,j);var H=12*(B.year()-j.year())+(B.month()-j.month()),q=j.clone().add(H,d),Y=B-q<0,V=j.clone().add(H+(Y?-1:1),d);return+(-(H+(B-q)/(Y?q-V:V-q))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:d,y:h,w:c,d:u,D:p,h:l,m:a,s:o,ms:s,Q:f}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},C="en",S={};S[C]=v;var T="$isDayjsObject",k=function(O){return O instanceof N||!(!O||!O[T])},I=function O(j,B,H){var q;if(!j)return C;if(typeof j=="string"){var Y=j.toLowerCase();S[Y]&&(q=Y),B&&(S[Y]=B,q=Y);var V=j.split("-");if(!q&&V.length>1)return O(V[0])}else{var L=j.name;S[L]=j,q=L}return!H&&q&&(C=q),q||!H&&C},R=function(O,j){if(k(O))return O.clone();var B=typeof j=="object"?j:{};return B.date=O,B.args=arguments,new N(B)},P=_;P.l=I,P.i=k,P.w=function(O,j){return R(O,{locale:j.$L,utc:j.$u,x:j.$x,$offset:j.$offset})};var N=(function(){function O(B){this.$L=I(B.locale,null,!0),this.parse(B),this.$x=this.$x||B.x||{},this[T]=!0}var j=O.prototype;return j.parse=function(B){this.$d=(function(H){var q=H.date,Y=H.utc;if(q===null)return new Date(NaN);if(P.u(q))return new Date;if(q instanceof Date)return new Date(q);if(typeof q=="string"&&!/Z$/i.test(q)){var V=q.match(g);if(V){var L=V[2]-1||0,z=(V[7]||"0").substring(0,3);return Y?new Date(Date.UTC(V[1],L,V[3]||1,V[4]||0,V[5]||0,V[6]||0,z)):new Date(V[1],L,V[3]||1,V[4]||0,V[5]||0,V[6]||0,z)}}return new Date(q)})(B),this.init()},j.init=function(){var B=this.$d;this.$y=B.getFullYear(),this.$M=B.getMonth(),this.$D=B.getDate(),this.$W=B.getDay(),this.$H=B.getHours(),this.$m=B.getMinutes(),this.$s=B.getSeconds(),this.$ms=B.getMilliseconds()},j.$utils=function(){return P},j.isValid=function(){return this.$d.toString()!==m},j.isSame=function(B,H){var q=R(B);return this.startOf(H)<=q&&q<=this.endOf(H)},j.isAfter=function(B,H){return R(B)<this.startOf(H)},j.isBefore=function(B,H){return this.endOf(H)<R(B)},j.$g=function(B,H,q){return P.u(B)?this[H]:this.set(q,B)},j.unix=function(){return Math.floor(this.valueOf()/1e3)},j.valueOf=function(){return this.$d.getTime()},j.startOf=function(B,H){var q=this,Y=!!P.u(H)||H,V=P.p(B),L=function(ae,he){var ie=P.w(q.$u?Date.UTC(q.$y,he,ae):new Date(q.$y,he,ae),q);return Y?ie:ie.endOf(u)},z=function(ae,he){return P.w(q.toDate()[ae].apply(q.toDate("s"),(Y?[0,0,0,0]:[23,59,59,999]).slice(he)),q)},U=this.$W,G=this.$M,Q=this.$D,ne="set"+(this.$u?"UTC":"");switch(V){case h:return Y?L(1,0):L(31,11);case d:return Y?L(1,G):L(0,G+1);case c:var ue=this.$locale().weekStart||0,se=(U<ue?U+7:U)-ue;return L(Y?Q-se:Q+(6-se),G);case u:case p:return z(ne+"Hours",0);case l:return z(ne+"Minutes",1);case a:return z(ne+"Seconds",2);case o:return z(ne+"Milliseconds",3);default:return this.clone()}},j.endOf=function(B){return this.startOf(B,!1)},j.$set=function(B,H){var q,Y=P.p(B),V="set"+(this.$u?"UTC":""),L=(q={},q[u]=V+"Date",q[p]=V+"Date",q[d]=V+"Month",q[h]=V+"FullYear",q[l]=V+"Hours",q[a]=V+"Minutes",q[o]=V+"Seconds",q[s]=V+"Milliseconds",q)[Y],z=Y===u?this.$D+(H-this.$W):H;if(Y===d||Y===h){var U=this.clone().set(p,1);U.$d[L](z),U.init(),this.$d=U.set(p,Math.min(this.$D,U.daysInMonth())).$d}else L&&this.$d[L](z);return this.init(),this},j.set=function(B,H){return this.clone().$set(B,H)},j.get=function(B){return this[P.p(B)]()},j.add=function(B,H){var q,Y=this;B=Number(B);var V=P.p(H),L=function(G){var Q=R(Y);return P.w(Q.date(Q.date()+Math.round(G*B)),Y)};if(V===d)return this.set(d,this.$M+B);if(V===h)return this.set(h,this.$y+B);if(V===u)return L(1);if(V===c)return L(7);var z=(q={},q[a]=r,q[l]=i,q[o]=n,q)[V]||1,U=this.$d.getTime()+B*z;return P.w(U,this)},j.subtract=function(B,H){return this.add(-1*B,H)},j.format=function(B){var H=this,q=this.$locale();if(!this.isValid())return q.invalidDate||m;var Y=B||"YYYY-MM-DDTHH:mm:ssZ",V=P.z(this),L=this.$H,z=this.$m,U=this.$M,G=q.weekdays,Q=q.months,ne=q.meridiem,ue=function(he,ie,le,Ee){return he&&(he[ie]||he(H,Y))||le[ie].slice(0,Ee)},se=function(he){return P.s(L%12||12,he,"0")},ae=ne||function(he,ie,le){var Ee=he<12?"AM":"PM";return le?Ee.toLowerCase():Ee};return Y.replace(y,(function(he,ie){return ie||(function(le){switch(le){case"YY":return String(H.$y).slice(-2);case"YYYY":return P.s(H.$y,4,"0");case"M":return U+1;case"MM":return P.s(U+1,2,"0");case"MMM":return ue(q.monthsShort,U,Q,3);case"MMMM":return ue(Q,U);case"D":return H.$D;case"DD":return P.s(H.$D,2,"0");case"d":return String(H.$W);case"dd":return ue(q.weekdaysMin,H.$W,G,2);case"ddd":return ue(q.weekdaysShort,H.$W,G,3);case"dddd":return G[H.$W];case"H":return String(L);case"HH":return P.s(L,2,"0");case"h":return se(1);case"hh":return se(2);case"a":return ae(L,z,!0);case"A":return ae(L,z,!1);case"m":return String(z);case"mm":return P.s(z,2,"0");case"s":return String(H.$s);case"ss":return P.s(H.$s,2,"0");case"SSS":return P.s(H.$ms,3,"0");case"Z":return V}return null})(he)||V.replace(":","")}))},j.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},j.diff=function(B,H,q){var Y,V=this,L=P.p(H),z=R(B),U=(z.utcOffset()-this.utcOffset())*r,G=this-z,Q=function(){return P.m(V,z)};switch(L){case h:Y=Q()/12;break;case d:Y=Q();break;case f:Y=Q()/3;break;case c:Y=(G-U)/6048e5;break;case u:Y=(G-U)/864e5;break;case l:Y=G/i;break;case a:Y=G/r;break;case o:Y=G/n;break;default:Y=G}return q?Y:P.a(Y)},j.daysInMonth=function(){return this.endOf(d).$D},j.$locale=function(){return S[this.$L]},j.locale=function(B,H){if(!B)return this.$L;var q=this.clone(),Y=I(B,H,!0);return Y&&(q.$L=Y),q},j.clone=function(){return P.w(this.$d,this)},j.toDate=function(){return new Date(this.valueOf())},j.toJSON=function(){return this.isValid()?this.toISOString():null},j.toISOString=function(){return this.$d.toISOString()},j.toString=function(){return this.$d.toUTCString()},O})(),$=N.prototype;return R.prototype=$,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",u],["$M",d],["$y",h],["$D",p]].forEach((function(O){$[O[1]]=function(j){return this.$g(j,O[0],O[1])}})),R.extend=function(O,j){return O.$i||(O(j,N,R),O.$i=!0),R},R.locale=I,R.isDayjs=k,R.unix=function(O){return R(1e3*O)},R.en=S[C],R.Ls=S,R.p={},R}))})(lN)),lN.exports}var jun=Lun();const cn=so(jun);function Bun({direction:e,levelIndex:t,rowIndex:n,cellIndex:r,size:i}){switch(e){case"up":return t===0&&n===0?null:n===0?{levelIndex:t-1,rowIndex:r<=i[t-1][i[t-1].length-1]-1?i[t-1].length-1:i[t-1].length-2,cellIndex:r}:{levelIndex:t,rowIndex:n-1,cellIndex:r};case"down":return n===i[t].length-1?{levelIndex:t+1,rowIndex:0,cellIndex:r}:n===i[t].length-2&&r>=i[t][i[t].length-1]?{levelIndex:t+1,rowIndex:0,cellIndex:r}:{levelIndex:t,rowIndex:n+1,cellIndex:r};case"left":return t===0&&n===0&&r===0?null:n===0&&r===0?{levelIndex:t-1,rowIndex:i[t-1].length-1,cellIndex:i[t-1][i[t-1].length-1]-1}:r===0?{levelIndex:t,rowIndex:n-1,cellIndex:i[t][n-1]-1}:{levelIndex:t,rowIndex:n,cellIndex:r-1};case"right":return n===i[t].length-1&&r===i[t][n]-1?{levelIndex:t+1,rowIndex:0,cellIndex:0}:r===i[t][n]-1?{levelIndex:t,rowIndex:n+1,cellIndex:0}:{levelIndex:t,rowIndex:n,cellIndex:r+1};default:return{levelIndex:t,rowIndex:n,cellIndex:r}}}function Yje({controlsRef:e,direction:t,levelIndex:n,rowIndex:r,cellIndex:i,size:s}){const o=Bun({direction:t,size:s,rowIndex:r,cellIndex:i,levelIndex:n});if(!o)return;const a=e.current?.[o.levelIndex]?.[o.rowIndex]?.[o.cellIndex];a&&(a.disabled||a.getAttribute("data-hidden")||a.getAttribute("data-outside")?Yje({controlsRef:e,direction:t,levelIndex:o.levelIndex,cellIndex:o.cellIndex,rowIndex:o.rowIndex,size:s}):a.focus())}function zun(e){switch(e){case"ArrowDown":return"down";case"ArrowUp":return"up";case"ArrowRight":return"right";case"ArrowLeft":return"left";default:return null}}function Uun(e){return e.current?.map(t=>t.map(n=>n.length))}function Lie({controlsRef:e,levelIndex:t,rowIndex:n,cellIndex:r,event:i}){const s=zun(i.key);if(s){i.preventDefault();const o=Uun(e);Yje({controlsRef:e,direction:s,levelIndex:t,rowIndex:n,cellIndex:r,size:o})}}function Vun(e,t){if(!e||!t)return t;const n=e.getHours(),r=e.getMinutes(),i=e.getSeconds(),s=e.getMilliseconds(),o=new Date(t);return o.setHours(n),o.setMinutes(r),o.setSeconds(i),o.setMilliseconds(s),o}var uN={exports:{}},Hun=uN.exports,Cbe;function qun(){return Cbe||(Cbe=1,(function(e,t){(function(n,r){e.exports=r()})(Hun,(function(){var n={year:0,month:1,day:2,hour:3,minute:4,second:5},r={};return function(i,s,o){var a,l=function(f,h,p){p===void 0&&(p={});var m=new Date(f),g=(function(y,v){v===void 0&&(v={});var w=v.timeZoneName||"short",_=y+"|"+w,C=r[_];return C||(C=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:y,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:w}),r[_]=C),C})(h,p);return g.formatToParts(m)},u=function(f,h){for(var p=l(f,h),m=[],g=0;g<p.length;g+=1){var y=p[g],v=y.type,w=y.value,_=n[v];_>=0&&(m[_]=parseInt(w,10))}var C=m[3],S=C===24?0:C,T=m[0]+"-"+m[1]+"-"+m[2]+" "+S+":"+m[4]+":"+m[5]+":000",k=+f;return(o.utc(T).valueOf()-(k-=k%1e3))/6e4},c=s.prototype;c.tz=function(f,h){f===void 0&&(f=a);var p,m=this.utcOffset(),g=this.toDate(),y=g.toLocaleString("en-US",{timeZone:f}),v=Math.round((g-new Date(y))/1e3/60),w=15*-Math.round(g.getTimezoneOffset()/15)-v;if(!Number(w))p=this.utcOffset(0,h);else if(p=o(y,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(w,!0),h){var _=p.utcOffset();p=p.add(m-_,"minute")}return p.$x.$timezone=f,p},c.offsetName=function(f){var h=this.$x.$timezone||o.tz.guess(),p=l(this.valueOf(),h,{timeZoneName:f}).find((function(m){return m.type.toLowerCase()==="timezonename"}));return p&&p.value};var d=c.startOf;c.startOf=function(f,h){if(!this.$x||!this.$x.$timezone)return d.call(this,f,h);var p=o(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return d.call(p,f,h).tz(this.$x.$timezone,!0)},o.tz=function(f,h,p){var m=p&&h,g=p||h||a,y=u(+o(),g);if(typeof f!="string")return o(f).tz(g);var v=(function(S,T,k){var I=S-60*T*1e3,R=u(I,k);if(T===R)return[I,T];var P=u(I-=60*(R-T)*1e3,k);return R===P?[I,R]:[S-60*Math.min(R,P)*1e3,Math.max(R,P)]})(o.utc(f,m).valueOf(),y,g),w=v[0],_=v[1],C=o(w).utcOffset(_);return C.$x.$timezone=g,C},o.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},o.tz.setDefault=function(f){a=f}}}))})(uN)),uN.exports}var Wun=qun();const Gun=so(Wun);var cN={exports:{}},Yun=cN.exports,Ebe;function Kun(){return Ebe||(Ebe=1,(function(e,t){(function(n,r){e.exports=r()})(Yun,(function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(s,o,a){var l=o.prototype;a.utc=function(m){var g={date:m,utc:!0,args:arguments};return new o(g)},l.utc=function(m){var g=a(this.toDate(),{locale:this.$L,utc:!0});return m?g.add(this.utcOffset(),n):g},l.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var u=l.parse;l.parse=function(m){m.utc&&(this.$u=!0),this.$utils().u(m.$offset)||(this.$offset=m.$offset),u.call(this,m)};var c=l.init;l.init=function(){if(this.$u){var m=this.$d;this.$y=m.getUTCFullYear(),this.$M=m.getUTCMonth(),this.$D=m.getUTCDate(),this.$W=m.getUTCDay(),this.$H=m.getUTCHours(),this.$m=m.getUTCMinutes(),this.$s=m.getUTCSeconds(),this.$ms=m.getUTCMilliseconds()}else c.call(this)};var d=l.utcOffset;l.utcOffset=function(m,g){var y=this.$utils().u;if(y(m))return this.$u?0:y(this.$offset)?d.call(this):this.$offset;if(typeof m=="string"&&(m=(function(C){C===void 0&&(C="");var S=C.match(r);if(!S)return null;var T=(""+S[0]).match(i)||["-",0,0],k=T[0],I=60*+T[1]+ +T[2];return I===0?0:k==="+"?I:-I})(m),m===null))return this;var v=Math.abs(m)<=16?60*m:m;if(v===0)return this.utc(g);var w=this.clone();if(g)return w.$offset=v,w.$u=!1,w;var _=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(w=this.local().add(v+_,n)).$offset=v,w.$x.$localOffset=_,w};var f=l.format;l.format=function(m){var g=m||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return f.call(this,g)},l.valueOf=function(){var m=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*m},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var h=l.toDate;l.toDate=function(m){return m==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var p=l.diff;l.diff=function(m,g,y){if(m&&this.$u===m.$u)return p.call(this,m,g,y);var v=this.local(),w=a(m).local();return p.call(v,w,g,y)}}}))})(cN)),cN.exports}var Xun=Kun();const Qun=so(Xun);cn.extend(Qun);cn.extend(Gun);function Jun(e,t){return t?cn(e).tz(t).utcOffset()+e.getTimezoneOffset():0}const Sbe=(e,t,n)=>{if(!e)return null;if(!t)return e;let r=Jun(e,t);return n==="remove"&&(r*=-1),cn(e).add(r,"minutes").toDate()};function j1(e,t,n,r){return r||!t?t:Array.isArray(t)?t.map(i=>Sbe(i,n,e)):Sbe(t,n,e)}const Zun={locale:"en",timezone:null,firstDayOfWeek:1,weekendDays:[0,6],labelSeparator:"",consistentWeeks:!1},ecn=A.createContext(Zun);function Rd(){const e=A.useContext(ecn),t=A.useCallback(o=>o||e.locale,[e.locale]),n=A.useCallback(o=>o||e.timezone||void 0,[e.timezone]),r=A.useCallback(o=>typeof o=="number"?o:e.firstDayOfWeek,[e.firstDayOfWeek]),i=A.useCallback(o=>Array.isArray(o)?o:e.weekendDays,[e.weekendDays]),s=A.useCallback(o=>typeof o=="string"?o:e.labelSeparator,[e.labelSeparator]);return{...e,getLocale:t,getTimezone:n,getFirstDayOfWeek:r,getWeekendDays:i,getLabelSeparator:s}}function tcn(e,t){const n=Rd(),r=i=>j1("remove",i,n.getTimezone()).toISOString();if(t==="range"&&Array.isArray(e)){const[i,s]=e;return i?s?`${r(i)}  ${r(s)}`:`${r(i)} `:""}return t==="multiple"&&Array.isArray(e)?e.map(i=>i&&r(i)).filter(Boolean).join(", "):!Array.isArray(e)&&e?r(e):""}function Kje({value:e,type:t,name:n,form:r}){return b.jsx("input",{type:"hidden",value:tcn(e,t),name:n,form:r})}Kje.displayName="@mantine/dates/HiddenDatesInput";var Xje={day:"m_396ce5cb"};const ncn={},rcn=(e,{size:t})=>({day:{"--day-size":vn(t,"day-size")}}),jie=tt((e,t)=>{const n=qe("Day",ncn,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,date:u,disabled:c,__staticSelector:d,weekend:f,outside:h,selected:p,renderDay:m,inRange:g,firstInRange:y,lastInRange:v,hidden:w,static:_,highlightToday:C,...S}=n,T=Ot({name:d||"Day",classes:Xje,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:rcn,rootSelector:"day"}),k=Rd();return b.jsx(no,{...T("day",{style:w?{display:"none"}:void 0}),component:_?"div":"button",ref:t,disabled:c,"data-today":cn(u).isSame(j1("add",new Date,k.getTimezone()),"day")||void 0,"data-hidden":w||void 0,"data-highlight-today":C||void 0,"data-disabled":c||void 0,"data-weekend":!c&&!h&&f||void 0,"data-outside":!c&&h||void 0,"data-selected":!c&&p||void 0,"data-in-range":g&&!c||void 0,"data-first-in-range":y&&!c||void 0,"data-last-in-range":v&&!c||void 0,"data-static":_||void 0,unstyled:a,...S,children:m?.(u)||cn(u).date()})});jie.classes=Xje;jie.displayName="@mantine/dates/Day";function icn({locale:e,format:t="dd",firstDayOfWeek:n=1}){const r=cn().day(n),i=[];for(let s=0;s<7;s+=1)typeof t=="string"?i.push(cn(r).add(s,"days").locale(e).format(t)):i.push(t(cn(r).add(s,"days").toDate()));return i}var Qje={weekday:"m_18a3eca"};const scn={},ocn=(e,{size:t})=>({weekdaysRow:{"--wr-fz":ps(t),"--wr-spacing":Mi(t)}}),Bie=tt((e,t)=>{const n=qe("WeekdaysRow",scn,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,locale:u,firstDayOfWeek:c,weekdayFormat:d,cellComponent:f="th",__staticSelector:h,withWeekNumbers:p,...m}=n,g=Ot({name:h||"WeekdaysRow",classes:Qje,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:ocn,rootSelector:"weekdaysRow"}),y=Rd(),v=icn({locale:y.getLocale(u),format:d,firstDayOfWeek:y.getFirstDayOfWeek(c)}).map((w,_)=>b.jsx(f,{...g("weekday"),children:w},_));return b.jsxs(De,{component:"tr",ref:t,...g("weekdaysRow"),...m,children:[p&&b.jsx(f,{...g("weekday"),children:"#"}),v]})});Bie.classes=Qje;Bie.displayName="@mantine/dates/WeekdaysRow";function acn(e,t=1){let n=cn(e);const r=t===0?6:t-1;for(;n.day()!==r;)n=n.add(1,"day");return n.toDate()}function lcn(e,t=1){let n=cn(e);for(;n.day()!==t;)n=n.subtract(1,"day");return n.toDate()}function ucn({month:e,firstDayOfWeek:t=1,consistentWeeks:n}){const r=cn(e).subtract(cn(e).date()-1,"day"),i=cn(r).startOf("day"),s=i.toDate(),o=i.add(+i.daysInMonth()-1,"day").toDate(),a=acn(o,t),l=lcn(s,t),u=[];for(;l<=a;){const c=[];for(let d=0;d<7;d+=1)c.push(new Date(l)),l.setDate(l.getDate()+1);u.push(c)}if(n&&u.length<6){const c=u[u.length-1],d=c[c.length-1],f=new Date(d);for(f.setDate(f.getDate()+1);u.length<6;){const h=[];for(let p=0;p<7;p+=1)h.push(new Date(f)),f.setDate(f.getDate()+1);u.push(h)}}return u}function Jje(e,t){return cn(e).format("YYYY-MM")===cn(t).format("YYYY-MM")}function Zje(e,t){return t instanceof Date?cn(e).isAfter(cn(t).subtract(1,"day"),"day"):!0}function e9e(e,t){return t instanceof Date?cn(e).isBefore(cn(t).add(1,"day"),"day"):!0}function ccn(e,t,n,r,i,s,o){const a=e.flat().filter(c=>e9e(c,n)&&Zje(c,t)&&!i?.(c)&&!r?.(c)?.disabled&&(!s||Jje(c,o))),l=a.find(c=>r?.(c)?.selected);if(l)return l;const u=a.find(c=>cn().isSame(c,"date"));return u||a[0]}var dN={exports:{}},dcn=dN.exports,Tbe;function fcn(){return Tbe||(Tbe=1,(function(e,t){(function(n,r){e.exports=r()})(dcn,(function(){var n="day";return function(r,i,s){var o=function(u){return u.add(4-u.isoWeekday(),n)},a=i.prototype;a.isoWeekYear=function(){return o(this).year()},a.isoWeek=function(u){if(!this.$utils().u(u))return this.add(7*(u-this.isoWeek()),n);var c,d,f,h,p=o(this),m=(c=this.isoWeekYear(),d=this.$u,f=(d?s.utc:s)().year(c).startOf("year"),h=4-f.isoWeekday(),f.isoWeekday()>4&&(h+=7),f.add(h,n));return p.diff(m,"week")+1},a.isoWeekday=function(u){return this.$utils().u(u)?this.day()||7:this.day(this.day()%7?u:u-7)};var l=a.startOf;a.startOf=function(u,c){var d=this.$utils(),f=!!d.u(c)||c;return d.p(u)==="isoweek"?f?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):l.bind(this)(u,c)}}}))})(dN)),dN.exports}var hcn=fcn();const pcn=so(hcn);cn.extend(pcn);function mcn(e){const t=e.find(n=>cn(n).day()===1);return cn(t).isoWeek()}var t9e={month:"m_cc9820d3",monthCell:"m_8f457cd5",weekNumber:"m_6cff9dea"};const gcn={withCellSpacing:!0},ycn=(e,{size:t})=>({weekNumber:{"--wn-fz":ps(t),"--wn-size":vn(t,"wn-size")}}),H8=tt((e,t)=>{const n=qe("Month",gcn,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,__staticSelector:u,locale:c,firstDayOfWeek:d,weekdayFormat:f,month:h,weekendDays:p,getDayProps:m,excludeDate:g,minDate:y,maxDate:v,renderDay:w,hideOutsideDates:_,hideWeekdays:C,getDayAriaLabel:S,static:T,__getDayRef:k,__onDayKeyDown:I,__onDayClick:R,__onDayMouseEnter:P,__preventFocus:N,__stopPropagation:$,withCellSpacing:O,size:j,highlightToday:B,withWeekNumbers:H,...q}=n,Y=Ot({name:u||"Month",classes:t9e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:ycn,rootSelector:"month"}),V=Rd(),L=ucn({month:h,firstDayOfWeek:V.getFirstDayOfWeek(d),consistentWeeks:V.consistentWeeks}),z=ccn(L,y,v,m,g,_,h),{resolvedClassNames:U,resolvedStyles:G}=Bf({classNames:r,styles:o,props:n}),Q=L.map((ne,ue)=>{const se=ne.map((ae,he)=>{const ie=!Jje(ae,h),le=S?.(ae)||cn(ae).locale(c||V.locale).format("D MMMM YYYY"),Ee=m?.(ae),X=cn(ae).isSame(z,"date");return b.jsx("td",{...Y("monthCell"),"data-with-spacing":O||void 0,children:b.jsx(jie,{__staticSelector:u||"Month",classNames:U,styles:G,unstyled:a,"data-mantine-stop-propagation":$||void 0,highlightToday:B,renderDay:w,date:ae,size:j,weekend:V.getWeekendDays(p).includes(ae.getDay()),outside:ie,hidden:_?ie:!1,"aria-label":le,static:T,disabled:g?.(ae)||!e9e(ae,v)||!Zje(ae,y),ref:fe=>k?.(ue,he,fe),...Ee,onKeyDown:fe=>{Ee?.onKeyDown?.(fe),I?.(fe,{rowIndex:ue,cellIndex:he,date:ae})},onMouseEnter:fe=>{Ee?.onMouseEnter?.(fe),P?.(fe,ae)},onClick:fe=>{Ee?.onClick?.(fe),R?.(fe,ae)},onMouseDown:fe=>{Ee?.onMouseDown?.(fe),N&&fe.preventDefault()},tabIndex:N||!X?-1:0})},ae.toString())});return b.jsxs("tr",{...Y("monthRow"),children:[H&&b.jsx("td",{...Y("weekNumber"),children:mcn(ne)}),se]},ue)});return b.jsxs(De,{component:"table",...Y("month"),size:j,ref:t,...q,children:[!C&&b.jsx("thead",{...Y("monthThead"),children:b.jsx(Bie,{__staticSelector:u||"Month",locale:c,firstDayOfWeek:d,weekdayFormat:f,size:j,classNames:U,styles:G,unstyled:a,withWeekNumbers:H})}),b.jsx("tbody",{...Y("monthTbody"),children:Q})]})});H8.classes=t9e;H8.displayName="@mantine/dates/Month";var n9e={pickerControl:"m_dc6a3c71"};const vcn={},bcn=(e,{size:t})=>({pickerControl:{"--dpc-fz":ps(t),"--dpc-size":vn(t,"dpc-size")}}),q8=tt((e,t)=>{const n=qe("PickerControl",vcn,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,firstInRange:u,lastInRange:c,inRange:d,__staticSelector:f,selected:h,disabled:p,...m}=n,g=Ot({name:f||"PickerControl",classes:n9e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:bcn,rootSelector:"pickerControl"});return b.jsx(no,{...g("pickerControl"),ref:t,unstyled:a,"data-picker-control":!0,"data-selected":h&&!p||void 0,"data-disabled":p||void 0,"data-in-range":d&&!p&&!h||void 0,"data-first-in-range":u&&!p||void 0,"data-last-in-range":c&&!p||void 0,disabled:p,...m})});q8.classes=n9e;q8.displayName="@mantine/dates/PickerControl";function r9e(e,t,n){return!t&&!n?!1:!!(t&&cn(e).isBefore(t,"year")||n&&cn(e).isAfter(n,"year"))}function wcn(e,t,n,r){const i=e.flat().filter(a=>!r9e(a,t,n)&&!r?.(a)?.disabled),s=i.find(a=>r?.(a)?.selected);if(s)return s;const o=i.find(a=>cn().isSame(a,"year"));return o||i[0]}function i9e(e){const t=e.getFullYear(),n=t-t%10;let r=0;const i=[[],[],[],[]];for(let s=0;s<4;s+=1){const o=s===3?1:3;for(let a=0;a<o;a+=1)i[s].push(new Date(n+r,0)),r+=1}return i}var s9e={yearsList:"m_9206547b",yearsListCell:"m_c5a19c7d"};const xcn={yearsListFormat:"YYYY",withCellSpacing:!0},W8=tt((e,t)=>{const n=qe("YearsList",xcn,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,decade:u,yearsListFormat:c,locale:d,minDate:f,maxDate:h,getYearControlProps:p,__staticSelector:m,__getControlRef:g,__onControlKeyDown:y,__onControlClick:v,__onControlMouseEnter:w,__preventFocus:_,__stopPropagation:C,withCellSpacing:S,size:T,...k}=n,I=Ot({name:m||"YearsList",classes:s9e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,rootSelector:"yearsList"}),R=Rd(),P=i9e(u),N=wcn(P,f,h,p),$=P.map((O,j)=>{const B=O.map((H,q)=>{const Y=p?.(H),V=cn(H).isSame(N,"year");return b.jsx("td",{...I("yearsListCell"),"data-with-spacing":S||void 0,children:b.jsx(q8,{...I("yearsListControl"),size:T,unstyled:a,"data-mantine-stop-propagation":C||void 0,disabled:r9e(H,f,h),ref:L=>g?.(j,q,L),...Y,onKeyDown:L=>{Y?.onKeyDown?.(L),y?.(L,{rowIndex:j,cellIndex:q,date:H})},onClick:L=>{Y?.onClick?.(L),v?.(L,H)},onMouseEnter:L=>{Y?.onMouseEnter?.(L),w?.(L,H)},onMouseDown:L=>{Y?.onMouseDown?.(L),_&&L.preventDefault()},tabIndex:_||!V?-1:0,children:cn(H).locale(R.getLocale(d)).format(c)})},q)});return b.jsx("tr",{...I("yearsListRow"),children:B},j)});return b.jsx(De,{component:"table",ref:t,size:T,...I("yearsList"),...k,children:b.jsx("tbody",{children:$})})});W8.classes=s9e;W8.displayName="@mantine/dates/YearsList";function o9e(e,t,n){return!t&&!n?!1:!!(t&&cn(e).isBefore(t,"month")||n&&cn(e).isAfter(n,"month"))}function _cn(e,t,n,r){const i=e.flat().filter(a=>!o9e(a,t,n)&&!r?.(a)?.disabled),s=i.find(a=>r?.(a)?.selected);if(s)return s;const o=i.find(a=>cn().isSame(a,"month"));return o||i[0]}function Ccn(e){const t=cn(e).startOf("year").toDate(),n=[[],[],[],[]];let r=0;for(let i=0;i<4;i+=1)for(let s=0;s<3;s+=1)n[i].push(cn(t).add(r,"months").toDate()),r+=1;return n}var a9e={monthsList:"m_2a6c32d",monthsListCell:"m_fe27622f"};const Ecn={monthsListFormat:"MMM",withCellSpacing:!0},G8=tt((e,t)=>{const n=qe("MonthsList",Ecn,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,__staticSelector:u,year:c,monthsListFormat:d,locale:f,minDate:h,maxDate:p,getMonthControlProps:m,__getControlRef:g,__onControlKeyDown:y,__onControlClick:v,__onControlMouseEnter:w,__preventFocus:_,__stopPropagation:C,withCellSpacing:S,size:T,...k}=n,I=Ot({name:u||"MonthsList",classes:a9e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,rootSelector:"monthsList"}),R=Rd(),P=Ccn(c),N=_cn(P,h,p,m),$=P.map((O,j)=>{const B=O.map((H,q)=>{const Y=m?.(H),V=cn(H).isSame(N,"month");return b.jsx("td",{...I("monthsListCell"),"data-with-spacing":S||void 0,children:b.jsx(q8,{...I("monthsListControl"),size:T,unstyled:a,__staticSelector:u||"MonthsList","data-mantine-stop-propagation":C||void 0,disabled:o9e(H,h,p),ref:L=>g?.(j,q,L),...Y,onKeyDown:L=>{Y?.onKeyDown?.(L),y?.(L,{rowIndex:j,cellIndex:q,date:H})},onClick:L=>{Y?.onClick?.(L),v?.(L,H)},onMouseEnter:L=>{Y?.onMouseEnter?.(L),w?.(L,H)},onMouseDown:L=>{Y?.onMouseDown?.(L),_&&L.preventDefault()},tabIndex:_||!V?-1:0,children:cn(H).locale(R.getLocale(f)).format(d)})},q)});return b.jsx("tr",{...I("monthsListRow"),children:B},j)});return b.jsx(De,{component:"table",ref:t,size:T,...I("monthsList"),...k,children:b.jsx("tbody",{children:$})})});G8.classes=a9e;G8.displayName="@mantine/dates/MonthsList";var l9e={calendarHeader:"m_730a79ed",calendarHeaderLevel:"m_f6645d97",calendarHeaderControl:"m_2351eeb0",calendarHeaderControlIcon:"m_367dc749"};const Scn={nextDisabled:!1,previousDisabled:!1,hasNextLevel:!0,withNext:!0,withPrevious:!0},Tcn=(e,{size:t})=>({calendarHeader:{"--dch-control-size":vn(t,"dch-control-size"),"--dch-fz":ps(t)}}),mv=tt((e,t)=>{const n=qe("CalendarHeader",Scn,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,nextIcon:u,previousIcon:c,nextLabel:d,previousLabel:f,onNext:h,onPrevious:p,onLevelClick:m,label:g,nextDisabled:y,previousDisabled:v,hasNextLevel:w,levelControlAriaLabel:_,withNext:C,withPrevious:S,__staticSelector:T,__preventFocus:k,__stopPropagation:I,...R}=n,P=Ot({name:T||"CalendarHeader",classes:l9e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:Tcn,rootSelector:"calendarHeader"}),N=k?$=>$.preventDefault():void 0;return b.jsxs(De,{...P("calendarHeader"),ref:t,...R,children:[S&&b.jsx(no,{...P("calendarHeaderControl"),"data-direction":"previous","aria-label":f,onClick:p,unstyled:a,onMouseDown:N,disabled:v,"data-disabled":v||void 0,tabIndex:k||v?-1:0,"data-mantine-stop-propagation":I||void 0,children:c||b.jsx(g_,{...P("calendarHeaderControlIcon"),"data-direction":"previous",size:"45%"})}),b.jsx(no,{component:w?"button":"div",...P("calendarHeaderLevel"),onClick:w?m:void 0,unstyled:a,onMouseDown:w?N:void 0,disabled:!w,"data-static":!w||void 0,"aria-label":_,tabIndex:k||!w?-1:0,"data-mantine-stop-propagation":I||void 0,children:g}),C&&b.jsx(no,{...P("calendarHeaderControl"),"data-direction":"next","aria-label":d,onClick:h,unstyled:a,onMouseDown:N,disabled:y,"data-disabled":y||void 0,tabIndex:k||y?-1:0,"data-mantine-stop-propagation":I||void 0,children:u||b.jsx(g_,{...P("calendarHeaderControlIcon"),"data-direction":"next",size:"45%"})})]})});mv.classes=l9e;mv.displayName="@mantine/dates/CalendarHeader";function kcn(e){const t=i9e(e);return[t[0][0],t[3][0]]}const Acn={decadeLabelFormat:"YYYY"},Y8=tt((e,t)=>{const n=qe("DecadeLevel",Acn,e),{decade:r,locale:i,minDate:s,maxDate:o,yearsListFormat:a,getYearControlProps:l,__getControlRef:u,__onControlKeyDown:c,__onControlClick:d,__onControlMouseEnter:f,withCellSpacing:h,__preventFocus:p,nextIcon:m,previousIcon:g,nextLabel:y,previousLabel:v,onNext:w,onPrevious:_,nextDisabled:C,previousDisabled:S,levelControlAriaLabel:T,withNext:k,withPrevious:I,decadeLabelFormat:R,classNames:P,styles:N,unstyled:$,__staticSelector:O,__stopPropagation:j,size:B,...H}=n,q=Rd(),[Y,V]=kcn(r),L={__staticSelector:O||"DecadeLevel",classNames:P,styles:N,unstyled:$,size:B},z=typeof C=="boolean"?C:o?!cn(V).endOf("year").isBefore(o):!1,U=typeof S=="boolean"?S:s?!cn(Y).startOf("year").isAfter(s):!1,G=(Q,ne)=>cn(Q).locale(i||q.locale).format(ne);return b.jsxs(De,{"data-decade-level":!0,size:B,ref:t,...H,children:[b.jsx(mv,{label:typeof R=="function"?R(Y,V):`${G(Y,R)}  ${G(V,R)}`,__preventFocus:p,__stopPropagation:j,nextIcon:m,previousIcon:g,nextLabel:y,previousLabel:v,onNext:w,onPrevious:_,nextDisabled:z,previousDisabled:U,hasNextLevel:!1,levelControlAriaLabel:T,withNext:k,withPrevious:I,...L}),b.jsx(W8,{decade:r,locale:i,minDate:s,maxDate:o,yearsListFormat:a,getYearControlProps:l,__getControlRef:u,__onControlKeyDown:c,__onControlClick:d,__onControlMouseEnter:f,__preventFocus:p,__stopPropagation:j,withCellSpacing:h,...L})]})});Y8.classes={...W8.classes,...mv.classes};Y8.displayName="@mantine/dates/DecadeLevel";const Rcn={yearLabelFormat:"YYYY"},K8=tt((e,t)=>{const n=qe("YearLevel",Rcn,e),{year:r,locale:i,minDate:s,maxDate:o,monthsListFormat:a,getMonthControlProps:l,__getControlRef:u,__onControlKeyDown:c,__onControlClick:d,__onControlMouseEnter:f,withCellSpacing:h,__preventFocus:p,nextIcon:m,previousIcon:g,nextLabel:y,previousLabel:v,onNext:w,onPrevious:_,onLevelClick:C,nextDisabled:S,previousDisabled:T,hasNextLevel:k,levelControlAriaLabel:I,withNext:R,withPrevious:P,yearLabelFormat:N,__staticSelector:$,__stopPropagation:O,size:j,classNames:B,styles:H,unstyled:q,...Y}=n,V=Rd(),L={__staticSelector:$||"YearLevel",classNames:B,styles:H,unstyled:q,size:j},z=typeof S=="boolean"?S:o?!cn(r).endOf("year").isBefore(o):!1,U=typeof T=="boolean"?T:s?!cn(r).startOf("year").isAfter(s):!1;return b.jsxs(De,{"data-year-level":!0,size:j,ref:t,...Y,children:[b.jsx(mv,{label:typeof N=="function"?N(r):cn(r).locale(i||V.locale).format(N),__preventFocus:p,__stopPropagation:O,nextIcon:m,previousIcon:g,nextLabel:y,previousLabel:v,onNext:w,onPrevious:_,onLevelClick:C,nextDisabled:z,previousDisabled:U,hasNextLevel:k,levelControlAriaLabel:I,withNext:R,withPrevious:P,...L}),b.jsx(G8,{year:r,locale:i,minDate:s,maxDate:o,monthsListFormat:a,getMonthControlProps:l,__getControlRef:u,__onControlKeyDown:c,__onControlClick:d,__onControlMouseEnter:f,__preventFocus:p,__stopPropagation:O,withCellSpacing:h,...L})]})});K8.classes={...mv.classes,...G8.classes};K8.displayName="@mantine/dates/YearLevel";const Icn={monthLabelFormat:"MMMM YYYY"},X8=tt((e,t)=>{const n=qe("MonthLevel",Icn,e),{month:r,locale:i,firstDayOfWeek:s,weekdayFormat:o,weekendDays:a,getDayProps:l,excludeDate:u,minDate:c,maxDate:d,renderDay:f,hideOutsideDates:h,hideWeekdays:p,getDayAriaLabel:m,__getDayRef:g,__onDayKeyDown:y,__onDayClick:v,__onDayMouseEnter:w,withCellSpacing:_,highlightToday:C,withWeekNumbers:S,__preventFocus:T,__stopPropagation:k,nextIcon:I,previousIcon:R,nextLabel:P,previousLabel:N,onNext:$,onPrevious:O,onLevelClick:j,nextDisabled:B,previousDisabled:H,hasNextLevel:q,levelControlAriaLabel:Y,withNext:V,withPrevious:L,monthLabelFormat:z,classNames:U,styles:G,unstyled:Q,__staticSelector:ne,size:ue,static:se,...ae}=n,he=Rd(),ie={__staticSelector:ne||"MonthLevel",classNames:U,styles:G,unstyled:Q,size:ue},le=typeof B=="boolean"?B:d?!cn(r).endOf("month").isBefore(d):!1,Ee=typeof H=="boolean"?H:c?!cn(r).startOf("month").isAfter(c):!1;return b.jsxs(De,{"data-month-level":!0,size:ue,ref:t,...ae,children:[b.jsx(mv,{label:typeof z=="function"?z(r):cn(r).locale(i||he.locale).format(z),__preventFocus:T,__stopPropagation:k,nextIcon:I,previousIcon:R,nextLabel:P,previousLabel:N,onNext:$,onPrevious:O,onLevelClick:j,nextDisabled:le,previousDisabled:Ee,hasNextLevel:q,levelControlAriaLabel:Y,withNext:V,withPrevious:L,...ie}),b.jsx(H8,{month:r,locale:i,firstDayOfWeek:s,weekdayFormat:o,weekendDays:a,getDayProps:l,excludeDate:u,minDate:c,maxDate:d,renderDay:f,hideOutsideDates:h,hideWeekdays:p,getDayAriaLabel:m,__getDayRef:g,__onDayKeyDown:y,__onDayClick:v,__onDayMouseEnter:w,__preventFocus:T,__stopPropagation:k,static:se,withCellSpacing:_,highlightToday:C,withWeekNumbers:S,...ie})]})});X8.classes={...H8.classes,...mv.classes};X8.displayName="@mantine/dates/MonthLevel";var u9e={levelsGroup:"m_30b26e33"};const Dcn={},gv=tt((e,t)=>{const n=qe("LevelsGroup",Dcn,e),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,__staticSelector:u,...c}=n,d=Ot({name:u||"LevelsGroup",classes:u9e,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,rootSelector:"levelsGroup"});return b.jsx(De,{ref:t,...d("levelsGroup"),...c})});gv.classes=u9e;gv.displayName="@mantine/dates/LevelsGroup";const Pcn={numberOfColumns:1},Q8=tt((e,t)=>{const n=qe("DecadeLevelGroup",Pcn,e),{decade:r,locale:i,minDate:s,maxDate:o,yearsListFormat:a,getYearControlProps:l,__onControlClick:u,__onControlMouseEnter:c,withCellSpacing:d,__preventFocus:f,nextIcon:h,previousIcon:p,nextLabel:m,previousLabel:g,onNext:y,onPrevious:v,nextDisabled:w,previousDisabled:_,classNames:C,styles:S,unstyled:T,__staticSelector:k,__stopPropagation:I,numberOfColumns:R,levelControlAriaLabel:P,decadeLabelFormat:N,size:$,vars:O,...j}=n,B=A.useRef([]),H=Array(R).fill(0).map((q,Y)=>{const V=cn(r).add(Y*10,"years").toDate();return b.jsx(Y8,{size:$,yearsListFormat:a,decade:V,withNext:Y===R-1,withPrevious:Y===0,decadeLabelFormat:N,__onControlClick:u,__onControlMouseEnter:c,__onControlKeyDown:(L,z)=>Lie({levelIndex:Y,rowIndex:z.rowIndex,cellIndex:z.cellIndex,event:L,controlsRef:B}),__getControlRef:(L,z,U)=>{Array.isArray(B.current[Y])||(B.current[Y]=[]),Array.isArray(B.current[Y][L])||(B.current[Y][L]=[]),B.current[Y][L][z]=U},levelControlAriaLabel:typeof P=="function"?P(V):P,locale:i,minDate:s,maxDate:o,__preventFocus:f,__stopPropagation:I,nextIcon:h,previousIcon:p,nextLabel:m,previousLabel:g,onNext:y,onPrevious:v,nextDisabled:w,previousDisabled:_,getYearControlProps:l,__staticSelector:k||"DecadeLevelGroup",classNames:C,styles:S,unstyled:T,withCellSpacing:d},Y)});return b.jsx(gv,{classNames:C,styles:S,__staticSelector:k||"DecadeLevelGroup",ref:t,size:$,unstyled:T,...j,children:H})});Q8.classes={...gv.classes,...Y8.classes};Q8.displayName="@mantine/dates/DecadeLevelGroup";const Ocn={numberOfColumns:1},J8=tt((e,t)=>{const n=qe("YearLevelGroup",Ocn,e),{year:r,locale:i,minDate:s,maxDate:o,monthsListFormat:a,getMonthControlProps:l,__onControlClick:u,__onControlMouseEnter:c,withCellSpacing:d,__preventFocus:f,nextIcon:h,previousIcon:p,nextLabel:m,previousLabel:g,onNext:y,onPrevious:v,onLevelClick:w,nextDisabled:_,previousDisabled:C,hasNextLevel:S,classNames:T,styles:k,unstyled:I,__staticSelector:R,__stopPropagation:P,numberOfColumns:N,levelControlAriaLabel:$,yearLabelFormat:O,size:j,vars:B,...H}=n,q=A.useRef([]),Y=Array(N).fill(0).map((V,L)=>{const z=cn(r).add(L,"years").toDate();return b.jsx(K8,{size:j,monthsListFormat:a,year:z,withNext:L===N-1,withPrevious:L===0,yearLabelFormat:O,__stopPropagation:P,__onControlClick:u,__onControlMouseEnter:c,__onControlKeyDown:(U,G)=>Lie({levelIndex:L,rowIndex:G.rowIndex,cellIndex:G.cellIndex,event:U,controlsRef:q}),__getControlRef:(U,G,Q)=>{Array.isArray(q.current[L])||(q.current[L]=[]),Array.isArray(q.current[L][U])||(q.current[L][U]=[]),q.current[L][U][G]=Q},levelControlAriaLabel:typeof $=="function"?$(z):$,locale:i,minDate:s,maxDate:o,__preventFocus:f,nextIcon:h,previousIcon:p,nextLabel:m,previousLabel:g,onNext:y,onPrevious:v,onLevelClick:w,nextDisabled:_,previousDisabled:C,hasNextLevel:S,getMonthControlProps:l,classNames:T,styles:k,unstyled:I,__staticSelector:R||"YearLevelGroup",withCellSpacing:d},L)});return b.jsx(gv,{classNames:T,styles:k,__staticSelector:R||"YearLevelGroup",ref:t,size:j,unstyled:I,...H,children:Y})});J8.classes={...K8.classes,...gv.classes};J8.displayName="@mantine/dates/YearLevelGroup";const Ncn={numberOfColumns:1},Z8=tt((e,t)=>{const n=qe("MonthLevelGroup",Ncn,e),{month:r,locale:i,firstDayOfWeek:s,weekdayFormat:o,weekendDays:a,getDayProps:l,excludeDate:u,minDate:c,maxDate:d,renderDay:f,hideOutsideDates:h,hideWeekdays:p,getDayAriaLabel:m,__onDayClick:g,__onDayMouseEnter:y,withCellSpacing:v,highlightToday:w,withWeekNumbers:_,__preventFocus:C,nextIcon:S,previousIcon:T,nextLabel:k,previousLabel:I,onNext:R,onPrevious:P,onLevelClick:N,nextDisabled:$,previousDisabled:O,hasNextLevel:j,classNames:B,styles:H,unstyled:q,numberOfColumns:Y,levelControlAriaLabel:V,monthLabelFormat:L,__staticSelector:z,__stopPropagation:U,size:G,static:Q,vars:ne,...ue}=n,se=A.useRef([]),ae=Array(Y).fill(0).map((he,ie)=>{const le=cn(r).add(ie,"months").toDate();return b.jsx(X8,{month:le,withNext:ie===Y-1,withPrevious:ie===0,monthLabelFormat:L,__stopPropagation:U,__onDayClick:g,__onDayMouseEnter:y,__onDayKeyDown:(Ee,X)=>Lie({levelIndex:ie,rowIndex:X.rowIndex,cellIndex:X.cellIndex,event:Ee,controlsRef:se}),__getDayRef:(Ee,X,fe)=>{Array.isArray(se.current[ie])||(se.current[ie]=[]),Array.isArray(se.current[ie][Ee])||(se.current[ie][Ee]=[]),se.current[ie][Ee][X]=fe},levelControlAriaLabel:typeof V=="function"?V(le):V,locale:i,firstDayOfWeek:s,weekdayFormat:o,weekendDays:a,getDayProps:l,excludeDate:u,minDate:c,maxDate:d,renderDay:f,hideOutsideDates:h,hideWeekdays:p,getDayAriaLabel:m,__preventFocus:C,nextIcon:S,previousIcon:T,nextLabel:k,previousLabel:I,onNext:R,onPrevious:P,onLevelClick:N,nextDisabled:$,previousDisabled:O,hasNextLevel:j,classNames:B,styles:H,unstyled:q,__staticSelector:z||"MonthLevelGroup",size:G,static:Q,withCellSpacing:v,highlightToday:w,withWeekNumbers:_},ie)});return b.jsx(gv,{classNames:B,styles:H,__staticSelector:z||"MonthLevelGroup",ref:t,size:G,...ue,children:ae})});Z8.classes={...gv.classes,...X8.classes};Z8.displayName="@mantine/dates/MonthLevelGroup";const kbe=e=>e==="range"?[null,null]:e==="multiple"?[]:null;function QG({type:e,value:t,defaultValue:n,onChange:r,applyTimezone:i=!0}){const s=A.useRef(e),o=Rd(),[a,l,u]=Fi({value:j1("add",t,o.getTimezone(),!i),defaultValue:j1("add",n,o.getTimezone(),!i),finalValue:kbe(e),onChange:d=>{r?.(j1("remove",d,o.getTimezone(),!i))}});let c=a;return s.current!==e&&(s.current=e,t===void 0&&(c=n!==void 0?n:kbe(e),l(c))),[c,l,u]}function AU(e,t){return e?e==="month"?0:e==="year"?1:2:t||0}function $cn(e){return e===0?"month":e===1?"year":"decade"}function G2(e,t,n){return $cn(Xc(AU(e,0),AU(t,0),AU(n,2)))}const Mcn={maxLevel:"decade",minLevel:"month",__updateDateOnYearSelect:!0,__updateDateOnMonthSelect:!0},eL=tt((e,t)=>{const n=qe("Calendar",Mcn,e),{vars:r,maxLevel:i,minLevel:s,defaultLevel:o,level:a,onLevelChange:l,date:u,defaultDate:c,onDateChange:d,numberOfColumns:f,columnsToScroll:h,ariaLabels:p,nextLabel:m,previousLabel:g,onYearSelect:y,onMonthSelect:v,onYearMouseEnter:w,onMonthMouseEnter:_,__updateDateOnYearSelect:C,__updateDateOnMonthSelect:S,firstDayOfWeek:T,weekdayFormat:k,weekendDays:I,getDayProps:R,excludeDate:P,renderDay:N,hideOutsideDates:$,hideWeekdays:O,getDayAriaLabel:j,monthLabelFormat:B,nextIcon:H,previousIcon:q,__onDayClick:Y,__onDayMouseEnter:V,withCellSpacing:L,highlightToday:z,withWeekNumbers:U,monthsListFormat:G,getMonthControlProps:Q,yearLabelFormat:ne,yearsListFormat:ue,getYearControlProps:se,decadeLabelFormat:ae,classNames:he,styles:ie,unstyled:le,minDate:Ee,maxDate:X,locale:fe,__staticSelector:de,size:te,__preventFocus:ee,__stopPropagation:me,onNextDecade:Re,onPreviousDecade:Te,onNextYear:we,onPreviousYear:$e,onNextMonth:Ae,onPreviousMonth:Oe,static:xe,__timezoneApplied:je,...Ue}=n,{resolvedClassNames:nt,resolvedStyles:it}=Bf({classNames:he,styles:ie,props:n}),[wt,Zt]=Fi({value:a?G2(a,s,i):void 0,defaultValue:o?G2(o,s,i):void 0,finalValue:G2(void 0,s,i),onChange:l}),[Qt,Mn]=QG({type:"default",value:u,defaultValue:c,onChange:d,applyTimezone:!je}),jt={__staticSelector:de||"Calendar",styles:it,classNames:nt,unstyled:le,size:te},gn=Rd(),Kn=h||f||1,Un=new Date,Dr=Ee&&Ee>Un?Ee:Un,Jn=Qt||j1("add",Dr,gn.getTimezone()),br=()=>{const In=cn(Jn).add(Kn,"month").toDate();Ae?.(In),Mn(In)},Rn=()=>{const In=cn(Jn).subtract(Kn,"month").toDate();Oe?.(In),Mn(In)},fn=()=>{const In=cn(Jn).add(Kn,"year").toDate();we?.(In),Mn(In)},sr=()=>{const In=cn(Jn).subtract(Kn,"year").toDate();$e?.(In),Mn(In)},ui=()=>{const In=cn(Jn).add(10*Kn,"year").toDate();Re?.(In),Mn(In)},_r=()=>{const In=cn(Jn).subtract(10*Kn,"year").toDate();Te?.(In),Mn(In)};return b.jsxs(De,{ref:t,size:te,"data-calendar":!0,...Ue,children:[wt==="month"&&b.jsx(Z8,{month:Jn,minDate:Ee,maxDate:X,firstDayOfWeek:T,weekdayFormat:k,weekendDays:I,getDayProps:R,excludeDate:P,renderDay:N,hideOutsideDates:$,hideWeekdays:O,getDayAriaLabel:j,onNext:br,onPrevious:Rn,hasNextLevel:i!=="month",onLevelClick:()=>Zt("year"),numberOfColumns:f,locale:fe,levelControlAriaLabel:p?.monthLevelControl,nextLabel:p?.nextMonth??m,nextIcon:H,previousLabel:p?.previousMonth??g,previousIcon:q,monthLabelFormat:B,__onDayClick:Y,__onDayMouseEnter:V,__preventFocus:ee,__stopPropagation:me,static:xe,withCellSpacing:L,highlightToday:z,withWeekNumbers:U,...jt}),wt==="year"&&b.jsx(J8,{year:Jn,numberOfColumns:f,minDate:Ee,maxDate:X,monthsListFormat:G,getMonthControlProps:Q,locale:fe,onNext:fn,onPrevious:sr,hasNextLevel:i!=="month"&&i!=="year",onLevelClick:()=>Zt("decade"),levelControlAriaLabel:p?.yearLevelControl,nextLabel:p?.nextYear??m,nextIcon:H,previousLabel:p?.previousYear??g,previousIcon:q,yearLabelFormat:ne,__onControlMouseEnter:_,__onControlClick:(In,ht)=>{S&&Mn(ht),Zt(G2("month",s,i)),v?.(ht)},__preventFocus:ee,__stopPropagation:me,withCellSpacing:L,...jt}),wt==="decade"&&b.jsx(Q8,{decade:Jn,minDate:Ee,maxDate:X,yearsListFormat:ue,getYearControlProps:se,locale:fe,onNext:ui,onPrevious:_r,numberOfColumns:f,nextLabel:p?.nextDecade??m,nextIcon:H,previousLabel:p?.previousDecade??g,previousIcon:q,decadeLabelFormat:ae,__onControlMouseEnter:w,__onControlClick:(In,ht)=>{C&&Mn(ht),Zt(G2("year",s,i)),y?.(ht)},__preventFocus:ee,__stopPropagation:me,withCellSpacing:L,...jt})]})});eL.classes={...Q8.classes,...J8.classes,...Z8.classes};eL.displayName="@mantine/dates/Calendar";function Fcn(e){const{maxLevel:t,minLevel:n,defaultLevel:r,level:i,onLevelChange:s,nextIcon:o,previousIcon:a,date:l,defaultDate:u,onDateChange:c,numberOfColumns:d,columnsToScroll:f,ariaLabels:h,nextLabel:p,previousLabel:m,onYearSelect:g,onMonthSelect:y,onYearMouseEnter:v,onMonthMouseEnter:w,onNextMonth:_,onPreviousMonth:C,onNextYear:S,onPreviousYear:T,onNextDecade:k,onPreviousDecade:I,withCellSpacing:R,highlightToday:P,__updateDateOnYearSelect:N,__updateDateOnMonthSelect:$,withWeekNumbers:O,firstDayOfWeek:j,weekdayFormat:B,weekendDays:H,getDayProps:q,excludeDate:Y,renderDay:V,hideOutsideDates:L,hideWeekdays:z,getDayAriaLabel:U,monthLabelFormat:G,monthsListFormat:Q,getMonthControlProps:ne,yearLabelFormat:ue,yearsListFormat:se,getYearControlProps:ae,decadeLabelFormat:he,allowSingleDateInRange:ie,allowDeselect:le,minDate:Ee,maxDate:X,locale:fe,...de}=e;return{calendarProps:{maxLevel:t,minLevel:n,defaultLevel:r,level:i,onLevelChange:s,nextIcon:o,previousIcon:a,date:l,defaultDate:u,onDateChange:c,numberOfColumns:d,columnsToScroll:f,ariaLabels:h,nextLabel:p,previousLabel:m,onYearSelect:g,onMonthSelect:y,onYearMouseEnter:v,onMonthMouseEnter:w,onNextMonth:_,onPreviousMonth:C,onNextYear:S,onPreviousYear:T,onNextDecade:k,onPreviousDecade:I,withCellSpacing:R,highlightToday:P,__updateDateOnYearSelect:N,__updateDateOnMonthSelect:$,withWeekNumbers:O,firstDayOfWeek:j,weekdayFormat:B,weekendDays:H,getDayProps:q,excludeDate:Y,renderDay:V,hideOutsideDates:L,hideWeekdays:z,getDayAriaLabel:U,monthLabelFormat:G,monthsListFormat:Q,getMonthControlProps:ne,yearLabelFormat:ue,yearsListFormat:se,getYearControlProps:ae,decadeLabelFormat:he,allowSingleDateInRange:ie,allowDeselect:le,minDate:Ee,maxDate:X,locale:fe},others:de}}function Lcn(e,t){if(e===null)return null;const n=j1("add",new Date(e),t);return Number.isNaN(n.getTime())||!e?null:n}function jcn({date:e,maxDate:t,minDate:n}){return!(e==null||Number.isNaN(e.getTime())||t&&cn(e).isAfter(t,"date")||n&&cn(e).isBefore(n,"date"))}const Bcn={valueFormat:"MMMM D, YYYY",fixOnBlur:!0,preserveTime:!0},zie=tt((e,t)=>{const n=zY("DateInput",Bcn,e),{inputProps:r,wrapperProps:i,value:s,defaultValue:o,onChange:a,clearable:l,clearButtonProps:u,popoverProps:c,getDayProps:d,locale:f,valueFormat:h,dateParser:p,minDate:m,maxDate:g,fixOnBlur:y,onFocus:v,onBlur:w,onClick:_,onKeyDown:C,readOnly:S,name:T,form:k,rightSection:I,unstyled:R,classNames:P,styles:N,allowDeselect:$,preserveTime:O,date:j,defaultDate:B,onDateChange:H,...q}=n,Y=A.useRef(null),V=A.useRef(null),[L,z]=A.useState(!1),{calendarProps:U,others:G}=Fcn(q),Q=Rd(),ue=p||(Ae=>{const Oe=cn(Ae,h,Q.getLocale(f)).toDate();return Number.isNaN(Oe.getTime())?Lcn(Ae,Q.getTimezone()):Oe}),se=$!==void 0?$:l,ae=Ae=>Ae?cn(Ae).locale(Q.getLocale(f)).format(h):"",[he,ie,le]=QG({type:"default",value:s,defaultValue:o,onChange:a}),[Ee,X]=QG({type:"default",value:j,defaultValue:o||B,onChange:H});A.useEffect(()=>{le&&s!==null&&X(s)},[le,s]);const[fe,de]=A.useState(ae(he));A.useEffect(()=>{de(ae(he))},[Q.getLocale(f)]);const te=Ae=>{const Oe=Ae.currentTarget.value;if(de(Oe),z(!0),Oe.trim()===""&&l)ie(null);else{const xe=ue(Oe);jcn({date:xe,minDate:m,maxDate:g})&&(ie(xe),X(xe))}},ee=Ae=>{w?.(Ae),z(!1),y&&de(ae(he))},me=Ae=>{v?.(Ae),z(!0)},Re=Ae=>{_?.(Ae),z(!0)},Te=Ae=>{Ae.key==="Escape"&&z(!1),C?.(Ae)},we=Ae=>({...d?.(Ae),selected:cn(he).isSame(Ae,"day"),onClick:Oe=>{d?.(Ae).onClick?.(Oe);const xe=O?Vun(he,Ae):Ae,je=l&&se&&cn(he).isSame(Ae,"day")?null:xe;ie(je),!le&&de(ae(je)),z(!1)}}),$e=I||(l&&he&&!S?b.jsx(up,{variant:"transparent",onMouseDown:Ae=>Ae.preventDefault(),tabIndex:-1,onClick:()=>{ie(null),!le&&de(""),z(!1)},unstyled:R,size:r.size||"sm",...u}):null);return Nl(()=>{he!==void 0&&!L&&de(ae(he))},[he]),ixe(()=>z(!1),void 0,[Y.current,V.current]),b.jsxs(b.Fragment,{children:[b.jsx(jr.Wrapper,{...i,__staticSelector:"DateInput",ref:Y,children:b.jsxs(kr,{opened:L,trapFocus:!1,position:"bottom-start",disabled:S,withRoles:!1,unstyled:R,...c,children:[b.jsx(kr.Target,{children:b.jsx(jr,{"data-dates-input":!0,"data-read-only":S||void 0,autoComplete:"off",ref:t,value:fe,onChange:te,onBlur:ee,onFocus:me,onClick:Re,onKeyDown:Te,readOnly:S,rightSection:$e,...r,...G,__staticSelector:"DateInput"})}),b.jsx(kr.Dropdown,{onMouseDown:Ae=>Ae.preventDefault(),"data-dates-dropdown":!0,ref:V,children:b.jsx(eL,{__staticSelector:"DateInput",__timezoneApplied:!0,...U,classNames:P,styles:N,unstyled:R,__preventFocus:!0,minDate:m,maxDate:g,locale:f,getDayProps:we,size:r.size,date:Ee,onDateChange:X})})]})}),b.jsx(Kje,{name:T,form:k,value:he,type:"default"})]})});zie.classes={...jr.classes,...eL.classes};zie.displayName="@mantine/dates/DateInput";function Ln(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var Mc={root:"MRT_TableBody-module_root__kGhRy","root-grid":"MRT_TableBody-module_root-grid__WdOGg","root-no-rows":"MRT_TableBody-module_root-no-rows__iyi9K","root-virtualized":"MRT_TableBody-module_root-virtualized__TxPAi","empty-row-tr-grid":"MRT_TableBody-module_empty-row-tr-grid__LTgxw","empty-row-td-grid":"MRT_TableBody-module_empty-row-td-grid__pzlgG","empty-row-td-content":"MRT_TableBody-module_empty-row-td-content__Cc2XW",pinned:"MRT_TableBody-module_pinned__XHpcs"},RU={root:"MRT_TableBodyRow-module_root__2c3D4","root-grid":"MRT_TableBodyRow-module_root-grid__AwXTe","root-virtualized":"MRT_TableBodyRow-module_root-virtualized__zYgxq"},Sh={root:"MRT_TableBodyCell-module_root__Wf-zi","root-grid":"MRT_TableBodyCell-module_root-grid__zIuC-","root-virtualized":"MRT_TableBodyCell-module_root-virtualized__jLl8R","root-data-col":"MRT_TableBodyCell-module_root-data-col__HHcxc","root-nowrap":"MRT_TableBodyCell-module_root-nowrap__-k1Jo","root-cursor-pointer":"MRT_TableBodyCell-module_root-cursor-pointer__4kw7J","root-editable-hover":"MRT_TableBodyCell-module_root-editable-hover__2DKSa","root-cell-hover-reveal":"MRT_TableBodyCell-module_root-cell-hover-reveal__T1fAH","cell-hover-reveal":"MRT_TableBodyCell-module_cell-hover-reveal__Q-1Xj",overflowing:"MRT_TableBodyCell-module_overflowing__QcXP4"};const zt=(e,t)=>e instanceof Function?e(t):e,IU=["string","number"],zcn=["text","autocomplete"],Abe=({cell:e,renderedColumnIndex:t=0,renderedRowIndex:n=0,table:r})=>{var i,s;const{getState:o,options:{enableFilterMatchHighlighting:a,mantineHighlightProps:l}}=r,{column:u,row:c}=e,{columnDef:d}=u,{globalFilter:f,globalFilterFn:h}=o(),p=u.getFilterValue(),m=zt(l,{cell:e,column:u,row:c,table:r});let g=e.getIsAggregated()&&d.AggregatedCell?d.AggregatedCell({cell:e,column:u,row:c,table:r}):c.getIsGrouped()&&!e.getIsGrouped()?null:e.getIsGrouped()&&d.GroupedCell?d.GroupedCell({cell:e,column:u,row:c,table:r}):void 0;const y=g!==void 0;if(y||(g=e.renderValue()),a&&d.enableFilterMatchHighlighting!==!1&&g&&IU.includes(typeof g)&&(p&&IU.includes(typeof p)&&zcn.includes(d.filterVariant)||f&&IU.includes(typeof f)&&u.getCanGlobalFilter())){let v=((s=(i=u.getFilterValue())!==null&&i!==void 0?i:f)!==null&&s!==void 0?s:"").toString();(p?d._filterFn:h)==="fuzzy"&&(v=v.split(" ")),g=b.jsx(AK,Object.assign({color:"yellow.3",highlight:v},m,{children:g?.toString()}))}return d.Cell&&!y&&(g=d.Cell({cell:e,column:u,renderedCellValue:g,renderedColumnIndex:t,renderedRowIndex:n,row:c,table:r})),g},Cf=e=>e.replace(/[^a-zA-Z0-9]/g,"_"),Ucn=e=>{var t,n;return typeof e.primaryShade=="number"?e.primaryShade:(n=(t=e.primaryShade)===null||t===void 0?void 0:t.dark)!==null&&n!==void 0?n:7},Vcn=(e,t)=>e.colors[e.primaryColor][Ucn(e)];function l5(e,t){const n=`data-${e}`;switch(typeof t){case"boolean":return t?{[n]:""}:null;case"number":return{[n]:`${t}`};case"string":return{[n]:t};default:return null}}var Hcn={root:"MRT_CopyButton-module_root__mkXy4"};const qcn=e=>{var{cell:t,children:n,table:r}=e,i=Ln(e,["cell","children","table"]);const{options:{localization:{clickToCopy:s,copiedToClipboard:o},mantineCopyButtonProps:a}}=r,{column:l,row:u}=t,{columnDef:c}=l,d={cell:t,column:l,row:u,table:r},f=Object.assign(Object.assign(Object.assign({},zt(a,d)),zt(c.mantineCopyButtonProps,d)),i);return b.jsx(cCe,{value:t.getValue(),children:({copied:h,copy:p})=>{var m;return b.jsx(yt,{color:h?"green":void 0,label:(m=f?.title)!==null&&m!==void 0?m:h?o:s,openDelay:1e3,withinPortal:!0,children:b.jsx(no,Object.assign({},f,{className:Lt("mrt-copy-button",Hcn.root,f?.className),onClick:g=>{g.stopPropagation(),p()},role:"presentation",title:void 0,children:n}))})}})},tL=e=>{var t,{cell:n,table:r}=e,i=Ln(e,["cell","table"]);const{getState:s,options:{createDisplayMode:o,editDisplayMode:a,mantineEditSelectProps:l,mantineEditTextInputProps:u},refs:{editInputRefs:c},setCreatingRow:d,setEditingCell:f,setEditingRow:h}=r,{column:p,row:m}=n,{columnDef:g}=p,{creatingRow:y,editingRow:v}=s(),w=y?.id===m.id,_=v?.id===m.id,C=g.editVariant==="select",S=g.editVariant==="multi-select",[T,k]=A.useState(()=>n.getValue()),I={cell:n,column:p,row:m,table:r},R=Object.assign(Object.assign(Object.assign({},zt(u,I)),zt(g.mantineEditTextInputProps,I)),i),P=Object.assign(Object.assign(Object.assign({},zt(l,I)),zt(g.mantineEditSelectProps,I)),i),N=B=>{m._valuesCache[p.id]=B,w?d(m):_&&h(m)},$=B=>{var H;(H=R.onBlur)===null||H===void 0||H.call(R,B),N(T),f(null)},O=B=>{var H,q;(H=R.onKeyDown)===null||H===void 0||H.call(R,B),B.key==="Enter"&&((q=c.current[n.id])===null||q===void 0||q.blur())};if(g.Edit)return(t=g.Edit)===null||t===void 0?void 0:t.call(g,{cell:n,column:p,row:m,table:r});const j={disabled:zt(g.enableEditing,m)===!1,label:["custom","modal"].includes(w?o:a)?p.columnDef.header:void 0,name:n.id,onClick:B=>{var H;B.stopPropagation(),(H=R?.onClick)===null||H===void 0||H.call(R,B)},placeholder:["custom","modal"].includes(w?o:a)?void 0:g.header,value:T,variant:a==="table"?"unstyled":"default"};return C?b.jsx(Km,Object.assign({},j,{searchable:!0,value:T},P,{onBlur:$,onChange:(B,H)=>{var q,Y;(Y=(q=P).onChange)===null||Y===void 0||Y.call(q,B,H),k(B)},onClick:B=>{var H;B.stopPropagation(),(H=P?.onClick)===null||H===void 0||H.call(P,B)},ref:B=>{B&&(c.current[n.id]=B,P.ref&&(P.ref.current=B))}})):S?b.jsx(_C,Object.assign({},j,{searchable:!0,value:T},P,{onBlur:$,onChange:B=>{var H,q;(q=(H=P).onChange)===null||q===void 0||q.call(H,T),k(B),document.activeElement!==c.current[n.id]&&N(B)},onClick:B=>{var H;B.stopPropagation(),(H=P?.onClick)===null||H===void 0||H.call(P,B)},ref:B=>{B&&(c.current[n.id]=B,P.ref&&(P.ref.current=B))}})):b.jsx(kl,Object.assign({},j,{onKeyDown:O,value:T??""},R,{onBlur:$,onChange:B=>{var H;(H=R.onChange)===null||H===void 0||H.call(R,B),k(B.target.value)},onClick:B=>{var H;B.stopPropagation(),(H=R?.onClick)===null||H===void 0||H.call(R,B)},ref:B=>{B&&(c.current[n.id]=B,R.ref&&(R.ref.current=B))}}))},c9e=e=>{var t,n,r,i,s,{cell:o,numRows:a=1,renderedColumnIndex:l=0,renderedRowIndex:u=0,rowRef:c,table:d,virtualCell:f}=e,h=Ln(e,["cell","numRows","renderedColumnIndex","renderedRowIndex","rowRef","table","virtualCell"]);const p=Ru(),{getState:m,options:{columnResizeDirection:g,columnResizeMode:y,createDisplayMode:v,editDisplayMode:w,enableClickToCopy:_,enableColumnOrdering:C,enableColumnPinning:S,enableEditing:T,enableGrouping:k,layoutMode:I,mantineSkeletonProps:R,mantineTableBodyCellProps:P},refs:{editInputRefs:N},setEditingCell:$,setHoveredColumn:O}=d,{columnSizingInfo:j,creatingRow:B,density:H,draggingColumn:q,editingCell:Y,editingRow:V,hoveredColumn:L,isLoading:z,showSkeletons:U}=m(),{column:G,row:Q}=o,{columnDef:ne}=G,{columnDefType:ue}=ne,se={cell:o,column:G,renderedColumnIndex:l,renderedRowIndex:u,row:Q,table:d},ae=Object.assign(Object.assign(Object.assign({},zt(P,se)),zt(ne.mantineTableBodyCellProps,se)),h),he=zt(R,se),[ie,le]=A.useState(100);A.useEffect(()=>{if(!z&&!U||ie!==100)return;const it=G.getSize();le(ue==="display"?it/2:Math.round(Math.random()*(it-it/3)+it/3))},[z,U]);const Ee={minWidth:`max(calc(var(--col-${Cf(G?.id)}-size) * 1px), ${(t=ne.minSize)!==null&&t!==void 0?t:30}px)`,width:`calc(var(--col-${Cf(G.id)}-size) * 1px)`};I==="grid"?Ee.flex=`${[0,!1].includes(ne.grow)?0:`var(--col-${Cf(G.id)}-size)`} 0 auto`:I==="grid-no-grow"&&(Ee.flex=`${+(ne.grow||0)} 0 auto`);const X=q?.id===G.id,fe=L?.id===G.id,de=S&&ne.columnDefType!=="group"&&G.getIsPinned(),te=!o.getIsPlaceholder()&&zt(T,Q)&&zt(ne.enableEditing,Q)!==!1,ee=te&&!["custom","modal"].includes(w)&&(w==="table"||V?.id===Q.id||Y?.id===o.id)&&!Q.getIsGrouped(),me=te&&v==="row"&&B?.id===Q.id,Re=zt(_,o)||zt(ne.enableClickToCopy,o)&&zt(ne.enableClickToCopy,o)!==!1,Te=it=>{var wt;(wt=ae?.onDoubleClick)===null||wt===void 0||wt.call(ae,it),te&&w==="cell"&&($(o),setTimeout(()=>{var Zt;const Qt=N.current[o.id];Qt&&(Qt.focus(),(Zt=Qt.select)===null||Zt===void 0||Zt.call(Qt))},100))},we=it=>{var wt;(wt=ae?.onDragEnter)===null||wt===void 0||wt.call(ae,it),k&&L?.id==="drop-zone"&&O(null),C&&q&&O(ne.enableColumnOrdering!==!1?G:null)},$e={cell:o,renderedColumnIndex:l,renderedRowIndex:u,table:d},Ae=A.useRef(null),[Oe,xe]=A.useState(!1),je=()=>{if(!ne.enableCellHoverReveal)return;const it=Ae.current;if(it){const wt=it.scrollWidth>it.clientWidth;xe(wt)}},Ue=()=>{ne.enableCellHoverReveal&&xe(!1)},nt=()=>{var it,wt,Zt;return o.getIsPlaceholder()?(wt=(it=ne.PlaceholderCell)===null||it===void 0?void 0:it.call(ne,{cell:o,column:G,row:Q,table:d}))!==null&&wt!==void 0?wt:null:U!==!1&&(z||U)?b.jsx(QK,Object.assign({height:20,width:ie},he)):ue==="display"&&(["mrt-row-expand","mrt-row-numbers","mrt-row-select"].includes(G.id)||!Q.getIsGrouped())?(Zt=ne.Cell)===null||Zt===void 0?void 0:Zt.call(ne,Object.assign({column:G,renderedCellValue:o.renderValue(),row:Q,rowRef:c},$e)):me||ee?b.jsx(tL,{cell:o,table:d}):Re&&ne.enableClickToCopy!==!1?b.jsx(qcn,{cell:o,table:d,children:b.jsx(Abe,Object.assign({},$e))}):b.jsx(Abe,Object.assign({},$e))};return b.jsx(yA,Object.assign({"data-column-pinned":de||void 0,"data-dragging-column":X||void 0,"data-first-right-pinned":de==="right"&&G.getIsFirstColumn(de)||void 0,"data-hovered-column-target":fe||void 0,"data-index":l,"data-last-left-pinned":de==="left"&&G.getIsLastColumn(de)||void 0,"data-last-row":u===a-1||void 0,"data-resizing":y==="onChange"&&j?.isResizingColumn===G.id&&g||void 0},ae,{__vars:Object.assign({"--mrt-cell-align":(n=ae.align)!==null&&n!==void 0?n:p.dir==="rtl"?"right":"left","--mrt-table-cell-left":de==="left"?`${G.getStart(de)}`:void 0,"--mrt-table-cell-right":de==="right"?`${G.getAfter(de)}`:void 0},ae.__vars),className:Lt(Sh.root,I?.startsWith("grid")&&Sh["root-grid"],f&&Sh["root-virtualized"],te&&w==="cell"&&Sh["root-cursor-pointer"],te&&["cell","table"].includes(w??"")&&ue!=="display"&&Sh["root-editable-hover"],ue==="data"&&Sh["root-data-col"],H==="xs"&&Sh["root-nowrap"],ne.enableCellHoverReveal&&Sh["root-cell-hover-reveal"],ae?.className),onDoubleClick:Te,onDragEnter:we,onMouseEnter:je,onMouseLeave:Ue,style:it=>Object.assign(Object.assign({},Ee),zt(ae.style,it)),children:b.jsx(b.Fragment,{children:(r=ae.children)!==null&&r!==void 0?r:ne.enableCellHoverReveal?b.jsxs("div",{className:Lt(ne.enableCellHoverReveal&&!(me||ee)&&Sh["cell-hover-reveal"],Oe&&Sh.overflowing),ref:Ae,children:[nt(),o.getIsGrouped()&&!ne.GroupedCell&&b.jsxs(b.Fragment,{children:[" (",(i=Q.subRows)===null||i===void 0?void 0:i.length,")"]})]}):b.jsxs(b.Fragment,{children:[nt(),o.getIsGrouped()&&!ne.GroupedCell&&b.jsxs(b.Fragment,{children:[" (",(s=Q.subRows)===null||s===void 0?void 0:s.length,")"]})]})})}))},Wcn=A.memo(c9e,(e,t)=>t.cell===e.cell);var qv={root:"MRT_TableDetailPanel-module_root__vQAlM","root-grid":"MRT_TableDetailPanel-module_root-grid__7UMC6","root-virtual-row":"MRT_TableDetailPanel-module_root-virtual-row__r-X4Z",inner:"MRT_TableDetailPanel-module_inner__o-Fk-","inner-grid":"MRT_TableDetailPanel-module_inner-grid__WLZgF","inner-expanded":"MRT_TableDetailPanel-module_inner-expanded__6tg9T","inner-virtual":"MRT_TableDetailPanel-module_inner-virtual__TItRy"};const Gcn=e=>{var t,n,{parentRowRef:r,renderedRowIndex:i=0,row:s,rowVirtualizer:o,striped:a,table:l,virtualRow:u}=e,c=Ln(e,["parentRowRef","renderedRowIndex","row","rowVirtualizer","striped","table","virtualRow"]);const{getState:d,getVisibleLeafColumns:f,options:{layoutMode:h,mantineDetailPanelProps:p,mantineTableBodyRowProps:m,renderDetailPanel:g}}=l,{isLoading:y}=d(),v=zt(m,{isDetailPanel:!0,row:s,table:l}),w=Object.assign(Object.assign({},zt(p,{row:s,table:l})),c),_=s.getAllCells().filter(S=>S.column.columnDef.columnDefType==="data").map(S=>b.jsx(tL,{cell:S,table:l},S.id)),C=!y&&s.getIsExpanded()&&g?.({internalEditComponents:_,row:s,table:l});return b.jsx(Nm,Object.assign({"data-index":g?i*2+1:i,"data-striped":a,ref:S=>{var T;S&&((T=o?.measureElement)===null||T===void 0||T.call(o,S))}},v,{__vars:Object.assign({"--mrt-parent-row-height":u?`${(n=(t=r.current)===null||t===void 0?void 0:t.getBoundingClientRect())===null||n===void 0?void 0:n.height}px`:void 0,"--mrt-virtual-row-start":u?`${u.start}px`:void 0},v?.__vars),className:Lt("mantine-Table-tr-detail-panel",qv.root,h?.startsWith("grid")&&qv["root-grid"],u&&qv["root-virtual-row"],v?.className),children:b.jsx(yA,Object.assign({colSpan:f().length,component:"td"},w,{__vars:{"--mrt-inner-width":`${l.getTotalSize()}px`},className:Lt("mantine-Table-td-detail-panel",qv.inner,h?.startsWith("grid")&&qv["inner-grid"],s.getIsExpanded()&&qv["inner-expanded"],u&&qv["inner-virtual"]),p:s.getIsExpanded()&&C?"md":0,children:o?s.getIsExpanded()&&C:b.jsx(kp,{in:s.getIsExpanded(),children:C})}))}))},Ycn=(e,t,n)=>{let r=0;return e.columnFiltersMeta[n]&&(r=_un(e.columnFiltersMeta[n],t.columnFiltersMeta[n])),r===0?c1.alphanumeric(e,t,n):r},Kcn=Object.assign(Object.assign({},c1),{fuzzy:Ycn}),Xcn=(e,t)=>Math.max(...Object.values(t.columnFiltersMeta).map(n=>n.rank))-Math.max(...Object.values(e.columnFiltersMeta).map(n=>n.rank)),d9e=(e,t)=>{const{getCenterRows:n,getPrePaginationRowModel:r,getRowModel:i,getState:s,getTopRows:o,options:{createDisplayMode:a,enablePagination:l,enableRowPinning:u,manualPagination:c,positionCreatingRow:d,rowPinningDisplayMode:f}}=e,{creatingRow:h,pagination:p}=s(),m=Qcn(e);let g=[];if(!m)g=!u||f?.includes("sticky")?t?r().rows:i().rows:n();else{if(g=r().rows.sort((y,v)=>Xcn(y,v)),l&&!c&&!t){const y=p.pageIndex*p.pageSize;g=g.slice(y,y+p.pageSize)}u&&!f?.includes("sticky")&&(g=g.filter(y=>!y.getIsPinned()))}if(u&&f?.includes("sticky")){const y=g.filter(v=>v.getIsPinned()).map(v=>v.id);g=[...o().filter(v=>!y.includes(v.id)),...g]}if(d!==void 0&&h&&a==="row"){const y=isNaN(+d)?d==="top"?0:g.length:+d;g=[...g.slice(0,y),h,...g.slice(y)]}return g},f9e=e=>{const{getState:t,options:{enableGlobalFilterRankedResults:n,manualExpanding:r,manualFiltering:i,manualGrouping:s,manualSorting:o}}=e,{expanded:a,globalFilterFn:l}=t();return!r&&!i&&!s&&!o&&n&&l==="fuzzy"&&a!==!0&&!Object.values(a).some(Boolean)},Qcn=e=>{const{globalFilter:t,sorting:n}=e.getState();return f9e(e)&&t&&!Object.values(n).some(Boolean)},u5=({row:e,table:t})=>{const{options:{enableRowSelection:n}}=t;return e.getIsSelected()||zt(n,e)&&e.getCanSelectSubRows()&&e.getIsAllSubRowsSelected()},Jcn=({renderedRowIndex:e=0,row:t,table:n})=>(r,i)=>{var s;const{getState:o,options:{enableBatchRowSelection:a,enableMultiRowSelection:l,enableRowPinning:u,manualPagination:c,rowPinningDisplayMode:d},refs:{lastSelectedRowId:f}}=n,{pagination:{pageIndex:h,pageSize:p}}=o(),m=c?0:p*h,g=u5({row:t,table:n});t.toggleSelected(i??!g);const y=new Set([t.id]);if(a&&l&&r.nativeEvent.shiftKey&&f.current!==null){const v=d9e(n,!0),w=v.findIndex(_=>_.id===f.current);if(w!==-1){const _=u5({row:v?.[w],table:n}),C=e+m,[S,T]=w<C?[w,C]:[C,w];if(g!==_)for(let k=S;k<=T;k++)v[k].toggleSelected(!g),y.add(v[k].id)}}f.current=t.id,t.getCanSelectSubRows()&&t.getIsAllSubRowsSelected()&&((s=t.subRows)===null||s===void 0||s.forEach(v=>v.toggleSelected(!1))),u&&d?.includes("select")&&y.forEach(v=>{n.getRow(v).pin(g?!1:d?.includes("bottom")?"bottom":"top")})},h9e=({table:e})=>(t,n,r)=>{const{options:{enableRowPinning:i,rowPinningDisplayMode:s,selectAllMode:o},refs:{lastSelectedRowId:a}}=e;o==="all"||r?e.toggleAllRowsSelected(n??t.target.checked):e.toggleAllPageRowsSelected(n??t.target.checked),i&&s?.includes("select")&&e.setRowPinning({bottom:[],top:[]}),a.current=null},TT=e=>{var t,n,r,{children:i,columnVirtualizer:s,numRows:o,pinnedRowIds:a,renderedRowIndex:l=0,row:u,rowVirtualizer:c,table:d,tableProps:f,virtualRow:h}=e,p=Ln(e,["children","columnVirtualizer","numRows","pinnedRowIds","renderedRowIndex","row","rowVirtualizer","table","tableProps","virtualRow"]);const{getState:m,options:{enableRowOrdering:g,enableRowPinning:y,enableStickyFooter:v,enableStickyHeader:w,layoutMode:_,mantineTableBodyRowProps:C,memoMode:S,renderDetailPanel:T,rowPinningDisplayMode:k},refs:{tableFooterRef:I,tableHeadRef:R},setHoveredRow:P}=d,{density:N,draggingColumn:$,draggingRow:O,editingCell:j,editingRow:B,hoveredRow:H,isFullScreen:q,rowPinning:Y}=m(),V=u.getVisibleCells(),{virtualColumns:L,virtualPaddingLeft:z,virtualPaddingRight:U}=s??{},G=u5({row:u,table:d}),Q=y&&u.getIsPinned(),ne=Q&&k?.includes("sticky")&&"sticky",ue=O?.id===u.id,se=H?.id===u.id,ae=Object.assign(Object.assign({},zt(C,{renderedRowIndex:l,row:u,table:d})),p),[he,ie]=A.useMemo(()=>!y||!ne||!a||!u.getIsPinned()?[]:[[...a].reverse().indexOf(u.id),a.indexOf(u.id)],[a,Y]),le=(w||q)&&((t=R.current)===null||t===void 0?void 0:t.clientHeight)||0,Ee=v&&((n=I.current)===null||n===void 0?void 0:n.clientHeight)||0,X=parseInt((r=ae?.style)===null||r===void 0?void 0:r.height,10)||(N==="xs"?37:N==="md"?53:69),fe=ee=>{g&&O&&P(u)},de=A.useRef(null);let te=f.striped;return te&&(te===!0&&(te="odd"),te==="odd"&&l%2!==0&&(te=!1),te==="even"&&l%2===0&&(te=!1)),b.jsxs(b.Fragment,{children:[b.jsxs(Nm,Object.assign({"data-dragging-row":ue||void 0,"data-hovered-row-target":se||void 0,"data-index":T?l*2:l,"data-row-pinned":ne||Q||void 0,"data-selected":G||void 0,"data-striped":te,onDragEnter:fe,ref:ee=>{ee&&(de.current=ee,c?.measureElement(ee))}},ae,{__vars:Object.assign(Object.assign({},ae?.__vars),{"--mrt-pinned-row-bottom":!h&&he!==void 0&&Q?`${he*X+(v?Ee-1:0)}`:void 0,"--mrt-pinned-row-top":h?void 0:ie!==void 0&&Q?`${ie*X+(w||q?le-1:0)}`:void 0,"--mrt-virtual-row-start":h?`${h.start}`:void 0}),className:Lt(RU.root,_?.startsWith("grid")&&RU["root-grid"],h&&RU["root-virtualized"],ae?.className),children:[z?b.jsx(De,{component:"td",display:"flex",w:z}):null,i||(L??u.getVisibleCells()).map((ee,me)=>{let Re=ee;s&&(me=ee.index,Re=V[me]);const Te={cell:Re,numRows:o,renderedColumnIndex:me,renderedRowIndex:l,rowRef:de,table:d,virtualCell:s?ee:void 0};return S==="cells"&&Re.column.columnDef.columnDefType==="data"&&!$&&!O&&j?.id!==Re.id&&B?.id!==u.id?b.jsx(Wcn,Object.assign({},Te),Re.id):b.jsx(c9e,Object.assign({},Te),Re.id)}),U?b.jsx(De,{component:"td",display:"flex",w:U}):null]})),T&&!u.getIsGrouped()&&b.jsx(Gcn,{parentRowRef:de,renderedRowIndex:l,row:u,rowVirtualizer:c,striped:te,table:d,virtualRow:h})]})},DU=A.memo(TT,(e,t)=>e.row===t.row);var Y2={root:"MRT_ExpandButton-module_root__IFYio","root-ltr":"MRT_ExpandButton-module_root-ltr__FHNnp",chevron:"MRT_ExpandButton-module_chevron__XzC5P",right:"MRT_ExpandButton-module_right__-pC-A",up:"MRT_ExpandButton-module_up__TZGBo","root-rtl":"MRT_ExpandButton-module_root-rtl__zoudS"};const JG=e=>{var t,n,{row:r,table:i}=e,s=Ln(e,["row","table"]);const o=Ru(),{options:{icons:{IconChevronDown:a},localization:l,mantineExpandButtonProps:u,positionExpandColumn:c,renderDetailPanel:d}}=i,f=Object.assign(Object.assign({},zt(u,{row:r,table:i})),s),h=r.getAllCells().filter(w=>w.column.columnDef.columnDefType==="data").map(w=>b.jsx(tL,{cell:w,table:i},w.id)),p=r.getCanExpand(),m=r.getIsExpanded(),g=!!d?.({internalEditComponents:h,row:r,table:i}),y=w=>{var _;w.stopPropagation(),r.toggleExpanded(),(_=f?.onClick)===null||_===void 0||_.call(f,w)},v=o.dir==="rtl"||c==="last";return b.jsx(yt,{disabled:!p&&!g,label:(t=f?.title)!==null&&t!==void 0?t:m?l.collapse:l.expand,openDelay:1e3,withinPortal:!0,children:b.jsx(Tn,Object.assign({"aria-label":l.expand,color:"gray",disabled:!p&&!g,variant:"subtle"},f,{__vars:{"--mrt-row-depth":`${r.depth}`},className:Lt("mrt-expand-button",Y2.root,Y2[`root-${v?"rtl":"ltr"}`],f?.className),onClick:y,title:void 0,children:(n=f?.children)!==null&&n!==void 0?n:b.jsx(a,{className:Lt("mrt-expand-button-chevron",Y2.chevron,!p&&!d?Y2.right:m?Y2.up:void 0)})}))})},Zcn=e=>{var t,n,{table:r,tableProps:i}=e,s=Ln(e,["table","tableProps"]);const{getState:o,options:{layoutMode:a,localization:l,renderDetailPanel:u,renderEmptyRowsFallback:c},refs:{tablePaperRef:d}}=r,{columnFilters:f,globalFilter:h}=o(),p=A.useMemo(()=>kE(r,"mrt-row-empty",{},0,0),[]),m=Object.assign(Object.assign({},s),{renderedRowIndex:0,row:p,virtualRow:void 0});return b.jsxs(TT,Object.assign({className:Lt("mrt-table-body-row",a?.startsWith("grid")&&Mc["empty-row-tr-grid"]),table:r,tableProps:i},m,{children:[u&&b.jsx(yA,{className:Lt("mrt-table-body-cell",a?.startsWith("grid")&&Mc["empty-row-td-grid"]),colSpan:1,children:b.jsx(JG,{row:p,table:r})}),b.jsx("td",{className:Lt("mrt-table-body-cell",a?.startsWith("grid")&&Mc["empty-row-td-grid"]),colSpan:r.getVisibleLeafColumns().length,children:(t=c?.({table:r}))!==null&&t!==void 0?t:b.jsx(He,{__vars:{"--mrt-paper-width":`${(n=d.current)===null||n===void 0?void 0:n.clientWidth}`},className:Lt(Mc["empty-row-td-content"]),children:h||f.length?l.noResultsFound:l.noRecordsToDisplay})})]}))},edn=e=>{const{getRowModel:t,getState:n,options:{data:r,enableGlobalFilterRankedResults:i,positionCreatingRow:s}}=e,{creatingRow:o,expanded:a,globalFilter:l,pagination:u,rowPinning:c,sorting:d}=n();return A.useMemo(()=>d9e(e),[o,r,i,a,t().rows,l,u.pageIndex,u.pageSize,s,c,d])},p9e=(e,t)=>{const n=qje(e);return t===void 0||(t>=0&&t<Math.max(e.startIndex-e.overscan,0)&&n.unshift(t),t>=0&&t>e.endIndex+e.overscan&&n.push(t)),n},tdn=(e,t)=>{var n;const{getRowModel:r,getState:i,options:{enableRowVirtualization:s,renderDetailPanel:o,rowVirtualizerInstanceRef:a,rowVirtualizerOptions:l},refs:{tableContainerRef:u}}=e,{density:c,draggingRow:d,expanded:f}=i();if(!s)return;const h=zt(l,{table:e}),p=(n=t?.length)!==null&&n!==void 0?n:r().rows.length,m=c==="xs"?42.7:c==="md"?54.7:70.7,g=Gje(Object.assign({count:o?p*2:p,estimateSize:y=>o&&y%2===1?f===!0?100:0:m,getScrollElement:()=>u.current,measureElement:typeof window<"u"&&navigator.userAgent.indexOf("Firefox")===-1?y=>y?.getBoundingClientRect().height:void 0,overscan:4,rangeExtractor:A.useCallback(y=>{var v;return p9e(y,(v=d?.index)!==null&&v!==void 0?v:0)},[d])},h));return g.virtualRows=g.getVirtualItems(),a&&(a.current=g),g},m9e=e=>{var t,n,r,{columnVirtualizer:i,table:s,tableProps:o}=e,a=Ln(e,["columnVirtualizer","table","tableProps"]);const{getBottomRows:l,getIsSomeRowsPinned:u,getRowModel:c,getState:d,getTopRows:f,options:{enableStickyFooter:h,enableStickyHeader:p,layoutMode:m,mantineTableBodyProps:g,memoMode:y,renderDetailPanel:v,rowPinningDisplayMode:w},refs:{tableFooterRef:_,tableHeadRef:C}}=s,{isFullScreen:S,rowPinning:T}=d(),k=Object.assign(Object.assign({},zt(g,{table:s})),a),I=(p||S)&&((t=C.current)===null||t===void 0?void 0:t.clientHeight)||0,R=h&&((n=_.current)===null||n===void 0?void 0:n.clientHeight)||0,P=A.useMemo(()=>{var B,H;return!(!((B=T.bottom)===null||B===void 0)&&B.length)&&!(!((H=T.top)===null||H===void 0)&&H.length)?[]:c().rows.filter(q=>q.getIsPinned()).map(q=>q.id)},[T,c().rows]),N=edn(s),$=tdn(s,N),{virtualRows:O}=$??{},j={columnVirtualizer:i,numRows:N.length,table:s,tableProps:o};return b.jsxs(b.Fragment,{children:[!w?.includes("sticky")&&u("top")&&b.jsx(HS,Object.assign({},k,{__vars:Object.assign({"--mrt-table-head-height":`${I}`},k?.__vars),className:Lt(Mc.pinned,m?.startsWith("grid")&&Mc["root-grid"],k?.className),children:f().map((B,H)=>{const q=Object.assign(Object.assign({},j),{renderedRowIndex:H,row:B});return y==="rows"?b.jsx(DU,Object.assign({},q),B.id):b.jsx(TT,Object.assign({},q),B.id)})})),b.jsx(HS,Object.assign({},k,{__vars:Object.assign({"--mrt-table-body-height":$?`${$.getTotalSize()}px`:void 0},k?.__vars),className:Lt(Mc.root,m?.startsWith("grid")&&Mc["root-grid"],!N.length&&Mc["root-no-rows"],$&&Mc["root-virtualized"],k?.className),children:(r=k?.children)!==null&&r!==void 0?r:N.length?b.jsx(b.Fragment,{children:(O??N).map((B,H)=>{if($)if(v){if(B.index%2===1)return null;H=B.index/2}else H=B.index;const q=$?N[H]:B,Y=Object.assign(Object.assign({},j),{pinnedRowIds:P,renderedRowIndex:H,row:q,rowVirtualizer:$,virtualRow:$?B:void 0}),V=`${q.id}-${q.index}`;return y==="rows"?b.jsx(DU,Object.assign({},Y),V):b.jsx(TT,Object.assign({},Y),V)})}):b.jsx(Zcn,Object.assign({},j))})),!w?.includes("sticky")&&u("bottom")&&b.jsx(HS,Object.assign({},k,{__vars:Object.assign({"--mrt-table-footer-height":`${R}`},k?.__vars),className:Lt(Mc.pinned,m?.startsWith("grid")&&Mc["root-grid"],k?.className),children:l().map((B,H)=>{const q=Object.assign(Object.assign({},j),{renderedRowIndex:H,row:B});return y==="rows"?b.jsx(DU,Object.assign({},q),B.id):b.jsx(TT,Object.assign({},q),B.id)})}))]})},ndn=A.memo(m9e,(e,t)=>e.table.options.data===t.table.options.data);var rdn={"grab-icon":"MRT_GrabHandleButton-module_grab-icon__mQimy"};const Uie=({actionIconProps:e,onDragEnd:t,onDragStart:n,table:{options:{icons:{IconGripHorizontal:r},localization:{move:i}}}})=>{var s,o;return b.jsx(yt,{label:(s=e?.title)!==null&&s!==void 0?s:i,openDelay:1e3,withinPortal:!0,children:b.jsx(Tn,Object.assign({"aria-label":(o=e?.title)!==null&&o!==void 0?o:i,draggable:!0},e,{className:Lt("mrt-grab-handle-button",rdn["grab-icon"],e?.className),color:"gray",onClick:a=>{var l;a.stopPropagation(),(l=e?.onClick)===null||l===void 0||l.call(e,a)},onDragEnd:t,onDragStart:n,size:"sm",title:void 0,variant:"transparent",children:b.jsx(r,{size:"100%"})}))})},idn=e=>{var{row:t,rowRef:n,table:r}=e,i=Ln(e,["row","rowRef","table"]);const{options:{mantineRowDragHandleProps:s}}=r,o=Object.assign(Object.assign({},zt(s,{row:t,table:r})),i),a=u=>{var c;(c=o?.onDragStart)===null||c===void 0||c.call(o,u),u.dataTransfer.setDragImage(n.current,0,0),r.setDraggingRow(t)},l=u=>{var c;(c=o?.onDragEnd)===null||c===void 0||c.call(o,u),r.setDraggingRow(null),r.setHoveredRow(null)};return b.jsx(Uie,{actionIconProps:o,onDragEnd:l,onDragStart:a,table:r})},PU=e=>{var{pinningPosition:t,row:n,table:r}=e,i=Ln(e,["pinningPosition","row","table"]);const{options:{icons:{IconPinned:s,IconX:o},localization:a,rowPinningDisplayMode:l}}=r,u=n.getIsPinned(),[c,d]=A.useState(!1),f=h=>{d(!1),h.stopPropagation(),n.pin(u?!1:t)};return b.jsx(yt,{label:u?a.unpin:a.pin,openDelay:1e3,opened:c,children:b.jsx(Tn,Object.assign({"aria-label":a.pin,color:"gray",onClick:f,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),size:"xs",style:{height:"24px",width:"24px"},variant:"subtle"},i,{children:u?b.jsx(o,{}):b.jsx(s,{fontSize:"small",style:{transform:`rotate(${l==="sticky"?135:t==="top"?180:0}deg)`}})}))})},sdn=e=>{var{row:t,table:n}=e,r=Ln(e,["row","table"]);const{getState:i,options:{enableRowPinning:s,rowPinningDisplayMode:o}}=n,{density:a}=i();if(!zt(s,t))return null;const u=Object.assign({row:t,table:n},r);return o==="top-and-bottom"&&!t.getIsPinned()?b.jsxs(De,{style:{display:"flex",flexDirection:a==="xs"?"row":"column"},children:[b.jsx(PU,Object.assign({pinningPosition:"top"},u)),b.jsx(PU,Object.assign({pinningPosition:"bottom"},u))]}):b.jsx(PU,Object.assign({pinningPosition:o==="bottom"?"bottom":"top"},u))};var OU={root:"MRT_ColumnPinningButtons-module_root__scTtW",left:"MRT_ColumnPinningButtons-module_left__W6Aog",right:"MRT_ColumnPinningButtons-module_right__7AJE3"};const odn=({column:e,table:t})=>{const{options:{icons:{IconPinned:n,IconPinnedOff:r},localization:i}}=t;return b.jsx(At,{className:Lt("mrt-column-pinning-buttons",OU.root),children:e.getIsPinned()?b.jsx(yt,{label:i.unpin,withinPortal:!0,children:b.jsx(Tn,{color:"gray",onClick:()=>e.pin(!1),size:"md",variant:"subtle",children:b.jsx(r,{})})}):b.jsxs(b.Fragment,{children:[b.jsx(yt,{label:i.pinToLeft,withinPortal:!0,children:b.jsx(Tn,{color:"gray",onClick:()=>e.pin("left"),size:"md",variant:"subtle",children:b.jsx(n,{className:OU.left})})}),b.jsx(yt,{label:i.pinToRight,withinPortal:!0,children:b.jsx(Tn,{color:"gray",onClick:()=>e.pin("right"),size:"md",variant:"subtle",children:b.jsx(n,{className:OU.right})})})]})})};var adn={root:"MRT_EditActionButtons-module_root__BfxVZ"};const g9e=e=>{var{row:t,table:n,variant:r="icon"}=e,i=Ln(e,["row","table","variant"]);const{getState:s,options:{icons:{IconCircleX:o,IconDeviceFloppy:a},localization:l,onCreatingRowCancel:u,onCreatingRowSave:c,onEditingRowCancel:d,onEditingRowSave:f},refs:{editInputRefs:h},setCreatingRow:p,setEditingRow:m}=n,{creatingRow:g,editingRow:y,isSaving:v}=s(),w=g?.id===t.id,_=y?.id===t.id,C=()=>{w?(u?.({row:t,table:n}),p(null)):_&&(d?.({row:t,table:n}),m(null)),t._valuesCache={}},S=()=>{var T;(T=Object.values(h?.current).filter(k=>{var I,R;return t.id===((R=(I=k?.name)===null||I===void 0?void 0:I.split("_"))===null||R===void 0?void 0:R[0])}))===null||T===void 0||T.forEach(k=>{k.value!==void 0&&Object.hasOwn(t?._valuesCache,k.name)&&(t._valuesCache[k.name]=k.value)}),w?c?.({exitCreatingMode:()=>p(null),row:t,table:n,values:t._valuesCache}):_&&f?.({exitEditingMode:()=>m(null),row:t,table:n,values:t?._valuesCache})};return b.jsx(De,Object.assign({className:Lt("mrt-edit-action-buttons",adn.root),onClick:T=>T.stopPropagation()},i,{children:r==="icon"?b.jsxs(b.Fragment,{children:[b.jsx(yt,{label:l.cancel,withinPortal:!0,children:b.jsx(Tn,{"aria-label":l.cancel,color:"red",onClick:C,variant:"subtle",children:b.jsx(o,{})})}),b.jsx(yt,{label:l.save,withinPortal:!0,children:b.jsx(Tn,{"aria-label":l.save,color:"blue",loading:v,onClick:S,variant:"subtle",children:b.jsx(a,{})})})]}):b.jsxs(b.Fragment,{children:[b.jsx(Wt,{onClick:C,variant:"subtle",children:l.cancel}),b.jsx(Wt,{loading:v,onClick:S,variant:"filled",children:l.save})]})}))};var hP={root:"MRT_ExpandAllButton-module_root__gkBZD",chevron:"MRT_ExpandAllButton-module_chevron__Iep0j",up:"MRT_ExpandAllButton-module_up__Xth3U",right:"MRT_ExpandAllButton-module_right__bS4L-"};const ldn=e=>{var t,n,{table:r}=e,i=Ln(e,["table"]);const{getCanSomeRowsExpand:s,getIsAllRowsExpanded:o,getIsSomeRowsExpanded:a,getState:l,options:{icons:{IconChevronsDown:u},localization:c,mantineExpandAllButtonProps:d,renderDetailPanel:f},toggleAllRowsExpanded:h}=r,{density:p,isLoading:m}=l(),g=Object.assign(Object.assign({},zt(d,{table:r})),i),y=o();return b.jsx(yt,{label:((t=g?.title)!==null&&t!==void 0?t:y)?c.collapseAll:c.expandAll,openDelay:1e3,withinPortal:!0,children:b.jsx(Tn,Object.assign({"aria-label":c.expandAll,color:"gray",variant:"subtle"},g,{className:Lt("mrt-expand-all-button",hP.root,g?.className,p),disabled:m||!f&&!s(),onClick:()=>h(!y),title:void 0,children:(n=g?.children)!==null&&n!==void 0?n:b.jsx(u,{className:Lt(hP.chevron,y?hP.up:a()?hP.right:void 0)})}))})};var Rbe={root:"MRT_ShowHideColumnsMenu-module_root__2UWak",content:"MRT_ShowHideColumnsMenu-module_content__ehkWQ"},lx={root:"MRT_ShowHideColumnsMenuItems-module_root__wYgv-",menu:"MRT_ShowHideColumnsMenuItems-module_menu__CeATR",grab:"MRT_ShowHideColumnsMenuItems-module_grab__a-d-y",pin:"MRT_ShowHideColumnsMenuItems-module_pin__P437b",switch:"MRT_ShowHideColumnsMenuItems-module_switch__tMsdt",header:"MRT_ShowHideColumnsMenuItems-module_header__xVkKb"};const a_=e=>{var t,n,r,i;return(i=(t=e.id)!==null&&t!==void 0?t:(r=(n=e.accessorKey)===null||n===void 0?void 0:n.toString)===null||r===void 0?void 0:r.call(n))!==null&&i!==void 0?i:e.header},c5=e=>{const t=[],n=r=>{r.forEach(i=>{i.columns?n(i.columns):t.push(i)})};return n(e),t},y9e=({columnDefs:e,tableOptions:t})=>{const{aggregationFns:n={},defaultDisplayColumn:r,filterFns:i={},sortingFns:s={},state:{columnFilterFns:o={}}={}}=t;return e.map(a=>{var l,u;if(a.id||(a.id=a_(a)),a.columnDefType||(a.columnDefType="data"),!((l=a.columns)===null||l===void 0)&&l.length)a.columnDefType="group",a.columns=y9e({columnDefs:a.columns,tableOptions:t});else if(a.columnDefType==="data"){if(Array.isArray(a.aggregationFn)){const c=a.aggregationFn;a.aggregationFn=(d,f,h)=>c.map(p=>{var m;return(m=n[p])===null||m===void 0?void 0:m.call(n,d,f,h)})}Object.keys(i).includes(o[a.id])&&(a.filterFn=(u=i[o[a.id]])!==null&&u!==void 0?u:i.fuzzy,a._filterFn=o[a.id]),Object.keys(s).includes(a.sortingFn)&&(a.sortingFn=s[a.sortingFn])}else a.columnDefType==="display"&&(a=Object.assign(Object.assign({},r),a));return a})},v9e=(e,t,n)=>{e.getCanPin()&&e.pin(t.getIsPinned());const r=[...n];return r.splice(r.indexOf(t.id),0,r.splice(r.indexOf(e.id),1)[0]),r},udn=e=>{const{filterVariant:t}=e;return t==="multi-select"?"arrIncludesSome":t?.includes("range")?"betweenInclusive":["checkbox","date","select"].includes(t||"")?"equals":"fuzzy"},b9e=({allColumns:e,column:t,hoveredColumn:n,setHoveredColumn:r,table:i})=>{var s;const o=os(),{getState:a,options:{enableColumnOrdering:l,enableColumnPinning:u,enableHiding:c,localization:d},setColumnOrder:f}=i,{columnOrder:h}=a(),{columnDef:p}=t,{columnDefType:m}=p,g=m!=="group"&&t.getIsVisible()||m==="group"&&t.getLeafColumns().some(k=>k.getIsVisible()),y=k=>{var I,R;m==="group"?(R=(I=k?.columns)===null||I===void 0?void 0:I.forEach)===null||R===void 0||R.call(I,P=>{P.toggleVisibility(!g)}):k.toggleVisibility()},v=A.useRef(null),[w,_]=A.useState(!1),C=k=>{_(!0),k.dataTransfer.setDragImage(v.current,0,0)},S=k=>{_(!1),r(null),n&&f(v9e(t,n,h))},T=k=>{!w&&p.enableColumnOrdering!==!1&&r(t)};return!p.header||p.visibleInShowHideMenu===!1?null:b.jsxs(b.Fragment,{children:[b.jsx(Nn.Item,Object.assign({className:lx.root,component:"span",onDragEnter:T,ref:v,style:{"--_column-depth":`${(t.depth+.5)*2}rem`,"--_hover-color":Vcn(o)}},l5("dragging",w),l5("order-hovered",n?.id===t.id),{children:b.jsxs(De,{className:lx.menu,children:[m!=="group"&&l&&!e.some(k=>k.columnDef.columnDefType==="group")&&(p.enableColumnOrdering!==!1?b.jsx(Uie,{onDragEnd:S,onDragStart:C,table:i}):b.jsx(De,{className:lx.grab})),u&&(t.getCanPin()?b.jsx(odn,{column:t,table:i}):b.jsx(De,{className:lx.pin})),c?b.jsx(yt,{label:d.toggleVisibility,openDelay:1e3,withinPortal:!0,children:b.jsx(Xg,{checked:g,className:lx.switch,disabled:!t.getCanHide(),label:p.header,onChange:()=>y(t)})}):b.jsx(He,{className:lx.header,children:p.header})]})})),(s=t.columns)===null||s===void 0?void 0:s.map((k,I)=>b.jsx(b9e,{allColumns:e,column:k,hoveredColumn:n,setHoveredColumn:r,table:i},`${I}-${k.id}`))]})};function ow({header:e,id:t,size:n,tableOptions:r}){const{defaultDisplayColumn:i,displayColumnDefOptions:s,localization:o}=r;return Object.assign(Object.assign(Object.assign(Object.assign({},i),{header:e?o[e]:"",size:n}),s?.[t]),{id:t})}const w9e=e=>{const{enableRowPinning:t,rowPinningDisplayMode:n}=e;return!!(t&&!n?.startsWith("select"))},x9e=e=>{const{enableRowDragging:t,enableRowOrdering:n}=e;return!!(t||n)},Vie=e=>{const{enableExpanding:t,enableGrouping:n,renderDetailPanel:r,state:{grouping:i}}=e;return!!(t||n&&i?.length||r)},Hie=e=>{const{createDisplayMode:t,editDisplayMode:n,enableEditing:r,enableRowActions:i,state:{creatingRow:s}}=e;return!!(i||s&&t==="row"||r&&["modal","row"].includes(n??""))},_9e=e=>!!e.enableRowSelection,C9e=e=>!!e.enableRowNumbers,E9e=e=>e.layoutMode==="grid-no-grow",cdn=e=>[w9e(e)&&"mrt-row-pin",x9e(e)&&"mrt-row-drag",e.positionActionsColumn==="first"&&Hie(e)&&"mrt-row-actions",e.positionExpandColumn==="first"&&Vie(e)&&"mrt-row-expand",_9e(e)&&"mrt-row-select",C9e(e)&&"mrt-row-numbers"].filter(Boolean),ddn=e=>[e.positionActionsColumn==="last"&&Hie(e)&&"mrt-row-actions",e.positionExpandColumn==="last"&&Vie(e)&&"mrt-row-expand",E9e(e)&&"mrt-row-spacer"].filter(Boolean),qie=(e,t=!1)=>{const{state:{columnOrder:n=[]}}=e,r=cdn(e),i=ddn(e),s=c5(e.columns).map(a=>a_(a));let o=t?s:Array.from(new Set([...n,...s]));return o=o.filter(a=>!r.includes(a)&&!i.includes(a)),[...r,...o,...i]},fdn=({table:e})=>{const{getAllColumns:t,getAllLeafColumns:n,getCenterLeafColumns:r,getIsAllColumnsVisible:i,getIsSomeColumnsPinned:s,getIsSomeColumnsVisible:o,getLeftLeafColumns:a,getRightLeafColumns:l,getState:u,options:{enableColumnOrdering:c,enableColumnPinning:d,enableHiding:f,localization:h}}=e,{columnOrder:p,columnPinning:m}=u(),g=_=>{n().filter(C=>C.columnDef.enableHiding!==!1).forEach(C=>C.toggleVisibility(_))},y=A.useMemo(()=>{const _=t();return p.length>0&&!_.some(C=>C.columnDef.columnDefType==="group")?[...a(),...Array.from(new Set(p)).map(C=>r().find(S=>S?.id===C)),...l()].filter(Boolean):_},[p,m,t(),r(),a(),l()]),[v,w]=A.useState(null);return b.jsxs(Nn.Dropdown,{className:Lt("mrt-show-hide-columns-menu",Rbe.root),children:[b.jsxs(At,{className:Rbe.content,children:[f&&b.jsx(Wt,{disabled:!o(),onClick:()=>g(!1),variant:"subtle",children:h.hideAll}),c&&b.jsx(Wt,{onClick:()=>e.setColumnOrder(qie(e.options,!0)),variant:"subtle",children:h.resetOrder}),d&&b.jsx(Wt,{disabled:!s(),onClick:()=>e.resetColumnPinning(!0),variant:"subtle",children:h.unpinAll}),f&&b.jsx(Wt,{disabled:i(),onClick:()=>g(!0),variant:"subtle",children:h.showAll})]}),b.jsx(Nn.Divider,{}),y.map((_,C)=>b.jsx(b9e,{allColumns:y,column:_,hoveredColumn:v,setHoveredColumn:w,table:e},`${C}-${_.id}`))]})},hdn=e=>{var{table:t,title:n}=e,r=Ln(e,["table","title"]);const{icons:{IconColumns:i},localization:{showHideColumns:s}}=t.options;return b.jsxs(Nn,{closeOnItemClick:!1,withinPortal:!0,children:[b.jsx(yt,{label:n??s,withinPortal:!0,children:b.jsx(Nn.Target,{children:b.jsx(Tn,Object.assign({"aria-label":n??s,color:"gray",size:"lg",variant:"subtle"},r,{children:b.jsx(i,{})}))})}),b.jsx(fdn,{table:t})]})},pdn={md:"xs",xl:"md",xs:"xl"},mdn=e=>{var{table:{getState:t,options:{icons:{IconBaselineDensityLarge:n,IconBaselineDensityMedium:r,IconBaselineDensitySmall:i},localization:{toggleDensity:s}},setDensity:o},title:a}=e,l=Ln(e,["table","title"]);const{density:u}=t();return b.jsx(yt,{label:a??s,withinPortal:!0,children:b.jsx(Tn,Object.assign({"aria-label":a??s,color:"gray",onClick:()=>o(c=>pdn[c]),size:"lg",variant:"subtle"},l,{children:u==="xs"?b.jsx(i,{}):u==="md"?b.jsx(r,{}):b.jsx(n,{})}))})},gdn=e=>{var{table:{getState:t,options:{icons:{IconFilter:n,IconFilterOff:r},localization:{showHideFilters:i}},setShowColumnFilters:s},title:o}=e,a=Ln(e,["table","title"]);const{showColumnFilters:l}=t();return b.jsx(yt,{label:o??i,withinPortal:!0,children:b.jsx(Tn,Object.assign({"aria-label":o??i,color:"gray",onClick:()=>s(u=>!u),size:"lg",variant:"subtle"},a,{children:l?b.jsx(r,{}):b.jsx(n,{})}))})},ydn=e=>{var{table:{getState:t,options:{icons:{IconMaximize:n,IconMinimize:r},localization:{toggleFullScreen:i}},setIsFullScreen:s},title:o}=e,a=Ln(e,["table","title"]);const{isFullScreen:l}=t(),[u,c]=A.useState(!1),d=()=>{c(!1),s(f=>!f)};return b.jsx(yt,{label:o??i,opened:u,withinPortal:!0,children:b.jsx(Tn,Object.assign({"aria-label":o??i,color:"gray",onClick:d,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),size:"lg",variant:"subtle"},a,{children:l?b.jsx(r,{}):b.jsx(n,{})}))})},vdn=e=>{var{table:{getState:t,options:{icons:{IconSearch:n,IconSearchOff:r},localization:{showHideSearch:i}},refs:{searchInputRef:s},setShowGlobalFilter:o},title:a}=e,l=Ln(e,["table","title"]);const{globalFilter:u,showGlobalFilter:c}=t(),d=()=>{o(!c),setTimeout(()=>{var f;return(f=s.current)===null||f===void 0?void 0:f.focus()},100)};return b.jsx(yt,{label:a??i,withinPortal:!0,children:b.jsx(Tn,Object.assign({"aria-label":a??i,color:"gray",disabled:!!u,onClick:d,size:"lg",variant:"subtle"},l,{children:c?b.jsx(r,{}):b.jsx(n,{})}))})},bdn=e=>{var{handleEdit:t,row:n,table:r}=e,i=Ln(e,["handleEdit","row","table"]);const{options:{editDisplayMode:s,enableEditing:o,icons:{IconDots:a,IconEdit:l},localization:u,positionActionsColumn:c,renderRowActionMenuItems:d}}=r;return b.jsxs(Nn,{closeOnItemClick:!0,position:c==="first"?"bottom-start":c==="last"?"bottom-end":void 0,withinPortal:!0,children:[b.jsx(yt,{label:u.rowActions,openDelay:1e3,withinPortal:!0,children:b.jsx(Nn.Target,{children:b.jsx(Tn,Object.assign({"aria-label":u.rowActions,color:"gray",onClick:f=>f.stopPropagation(),size:"sm",variant:"subtle"},i,{children:b.jsx(a,{})}))})}),b.jsxs(Nn.Dropdown,{onClick:f=>f.stopPropagation(),children:[o&&s!=="table"&&b.jsx(Nn.Item,{leftSection:b.jsx(l,{}),onClick:t,children:u.edit}),d?.({row:n,table:r})]})]})},wdn=({cell:e,row:t,table:n})=>{const{getState:r,options:{createDisplayMode:i,editDisplayMode:s,enableEditing:o,icons:{IconEdit:a},localization:{edit:l},renderRowActionMenuItems:u,renderRowActions:c},setEditingRow:d}=n,{creatingRow:f,editingRow:h}=r(),p=f?.id===t.id,m=h?.id===t.id,g=v=>{v.stopPropagation(),d(Object.assign({},t))},y=p&&i==="row"||m&&s==="row";return b.jsx(b.Fragment,{children:c&&!y?c({cell:e,row:t,table:n}):y?b.jsx(g9e,{row:t,table:n}):!u&&zt(o,t)?b.jsx(yt,{label:l,openDelay:1e3,position:"right",withinPortal:!0,children:b.jsx(Tn,{"aria-label":l,color:"gray",disabled:!!h&&h.id!==t.id,onClick:g,size:"md",variant:"subtle",children:b.jsx(a,{})})}):u?b.jsx(bdn,{handleEdit:g,row:t,table:n}):null})};var NU={root:"MRT_TableFooter-module_root__-JXpw",grid:"MRT_TableFooter-module_grid__J3Ga-",sticky:"MRT_TableFooter-module_sticky__GcoK6"},Ibe={root:"MRT_TableFooterRow-module_root__EuoPr","layout-mode-grid":"MRT_TableFooterRow-module_layout-mode-grid__dUEMF"},$U={root:"MRT_TableFooterCell-module_root__d8Scs",grid:"MRT_TableFooterCell-module_grid__H9jLk",group:"MRT_TableFooterCell-module_group__l3-p-"};const xdn=e=>{var t,n,r,i,s,{footer:o,renderedColumnIndex:a,table:l}=e,u=Ln(e,["footer","renderedColumnIndex","table"]);const c=Ru(),{options:{enableColumnPinning:d,layoutMode:f,mantineTableFooterCellProps:h}}=l,{column:p}=o,{columnDef:m}=p,{columnDefType:g}=m,y=d&&m.columnDefType!=="group"&&p.getIsPinned(),v={column:p,table:l},w=Object.assign(Object.assign(Object.assign({},zt(h,v)),zt(m.mantineTableFooterCellProps,v)),u),_={minWidth:`max(calc(var(--header-${Cf(o?.id)}-size) * 1px), ${(t=m.minSize)!==null&&t!==void 0?t:30}px)`,width:`calc(var(--header-${Cf(o.id)}-size) * 1px)`};return f==="grid"?_.flex=`${[0,!1].includes(m.grow)?0:`var(--header-${Cf(o.id)}-size)`} 0 auto`:f==="grid-no-grow"&&(_.flex=`${+(m.grow||0)} 0 auto`),b.jsx(b_,Object.assign({colSpan:o.colSpan,"data-column-pinned":y||void 0,"data-first-right-pinned":y==="right"&&p.getIsFirstColumn(y)||void 0,"data-index":a,"data-last-left-pinned":y==="left"&&p.getIsLastColumn(y)||void 0},w,{__vars:Object.assign({"--mrt-cell-align":(n=w.align)!==null&&n!==void 0?n:g==="group"?"center":c.dir==="rtl"?"right":"left","--mrt-table-cell-left":y==="left"?`${p.getStart(y)}`:void 0,"--mrt-table-cell-right":y==="right"?`${p.getAfter(y)}`:void 0},w?.__vars),className:Lt($U.root,f?.startsWith("grid")&&$U.grid,g==="group"&&$U.group,w?.className),style:C=>Object.assign(Object.assign({},_),zt(w.style,C)),children:(r=w.children)!==null&&r!==void 0?r:o.isPlaceholder?null:(s=(i=zt(m.Footer,{column:p,footer:o,table:l}))!==null&&i!==void 0?i:m.footer)!==null&&s!==void 0?s:null}))},_dn=e=>{var t,{columnVirtualizer:n,footerGroup:r,table:i}=e,s=Ln(e,["columnVirtualizer","footerGroup","table"]);const{options:{layoutMode:o,mantineTableFooterRowProps:a}}=i,{virtualColumns:l,virtualPaddingLeft:u,virtualPaddingRight:c}=n??{};if(!(!((t=r.headers)===null||t===void 0)&&t.some(f=>typeof f.column.columnDef.footer=="string"&&!!f.column.columnDef.footer||f.column.columnDef.Footer)))return null;const d=Object.assign(Object.assign({},zt(a,{footerGroup:r,table:i})),s);return b.jsxs(Nm,Object.assign({className:Lt(Ibe.root,o?.startsWith("grid")&&Ibe["layout-mode-grid"])},d,{children:[u?b.jsx(De,{component:"th",display:"flex",w:u}):null,(l??r.headers).map((f,h)=>{let p=f;return n&&(h=f.index,p=r.headers[h]),b.jsx(xdn,{footer:p,renderedColumnIndex:h,table:i},p.id)}),c?b.jsx(De,{component:"th",display:"flex",w:c}):null]}))},Cdn=e=>{var{columnVirtualizer:t,table:n}=e,r=Ln(e,["columnVirtualizer","table"]);const{getFooterGroups:i,getState:s,options:{enableStickyFooter:o,layoutMode:a,mantineTableFooterProps:l},refs:{tableFooterRef:u}}=n,{isFullScreen:c}=s(),d=Object.assign(Object.assign({},zt(l,{table:n})),r),f=(c||o)&&o!==!1;return b.jsx(rX,Object.assign({},d,{className:Lt(NU.root,d?.className,f&&NU.sticky,a?.startsWith("grid")&&NU.grid),ref:h=>{u.current=h,d?.ref&&(d.ref.current=h)},children:i().map(h=>b.jsx(_dn,{columnVirtualizer:t,footerGroup:h,table:n},h.id))}))};var hg={root:"MRT_TableHead-module_root__j9NkO","root-grid":"MRT_TableHead-module_root-grid__c3aGl","root-table-row-group":"MRT_TableHead-module_root-table-row-group__d9FO4","root-sticky":"MRT_TableHead-module_root-sticky__0kuDE","banner-tr":"MRT_TableHead-module_banner-tr__EhT-x","banner-th":"MRT_TableHead-module_banner-th__KwM5a",grid:"MRT_TableHead-module_grid__OJ-td"},MU={root:"MRT_TableHeadRow-module_root__hUKv4","layout-mode-grid":"MRT_TableHeadRow-module_layout-mode-grid__4ZGri",sticky:"MRT_TableHeadRow-module_sticky__Ej7Ax"},la={root:"MRT_TableHeadCell-module_root__6y50a","root-grid":"MRT_TableHeadCell-module_root-grid__bAf1d","root-virtualized":"MRT_TableHeadCell-module_root-virtualized__CWLit","root-no-select":"MRT_TableHeadCell-module_root-no-select__BEOVU",content:"MRT_TableHeadCell-module_content__-pzSK","content-spaced":"MRT_TableHeadCell-module_content-spaced__S85Aa","content-center":"MRT_TableHeadCell-module_content-center__c-17L","content-right":"MRT_TableHeadCell-module_content-right__NSRZU","content-wrapper":"MRT_TableHeadCell-module_content-wrapper__py6aJ","content-wrapper-hidden-overflow":"MRT_TableHeadCell-module_content-wrapper-hidden-overflow__QY40r","content-wrapper-nowrap":"MRT_TableHeadCell-module_content-wrapper-nowrap__-4aIg",labels:"MRT_TableHeadCell-module_labels__oiMSr","labels-right":"MRT_TableHeadCell-module_labels-right__6ZJp-","labels-center":"MRT_TableHeadCell-module_labels-center__MM9q8","labels-sortable":"MRT_TableHeadCell-module_labels-sortable__tyuLr","labels-data":"MRT_TableHeadCell-module_labels-data__PvFGO","content-actions":"MRT_TableHeadCell-module_content-actions__utxbm"},Edn={"filter-mode-label":"MRT_TableHeadCellFilterContainer-module_filter-mode-label__8reK-"};const S9e=(e,t,n,r)=>{const i=bun(e.getValue(t),n,{threshold:wl.MATCHES});return r(i),i.passed};S9e.autoRemove=e=>!e;const T9e=(e,t,n)=>{var r;return(r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim().includes(n.toString().toLowerCase().trim())};T9e.autoRemove=e=>!e;const k9e=(e,t,n)=>{var r;return(r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim().startsWith(n.toString().toLowerCase().trim())};k9e.autoRemove=e=>!e;const A9e=(e,t,n)=>{var r;return(r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim().endsWith(n.toString().toLowerCase().trim())};A9e.autoRemove=e=>!e;const nL=(e,t,n)=>{var r;return((r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim())===n?.toString().toLowerCase().trim()};nL.autoRemove=e=>!e;const R9e=(e,t,n)=>{var r;return((r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim())!==n.toString().toLowerCase().trim()};R9e.autoRemove=e=>!e;const rL=(e,t,n)=>{var r;return!isNaN(+n)&&!isNaN(+e.getValue(t))?+e.getValue(t)>+n:((r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim())>n?.toString().toLowerCase().trim()};rL.autoRemove=e=>!e;const Wie=(e,t,n)=>nL(e,t,n)||rL(e,t,n);Wie.autoRemove=e=>!e;const iL=(e,t,n)=>{var r;return!isNaN(+n)&&!isNaN(+e.getValue(t))?+e.getValue(t)<+n:((r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim())<n?.toString().toLowerCase().trim()};iL.autoRemove=e=>!e;const Gie=(e,t,n)=>nL(e,t,n)||iL(e,t,n);Gie.autoRemove=e=>!e;const I9e=(e,t,n)=>(["",void 0].includes(n[0])||rL(e,t,n[0]))&&(!isNaN(+n[0])&&!isNaN(+n[1])&&+n[0]>+n[1]||["",void 0].includes(n[1])||iL(e,t,n[1]));I9e.autoRemove=e=>!e;const D9e=(e,t,n)=>(["",void 0].includes(n[0])||Wie(e,t,n[0]))&&(!isNaN(+n[0])&&!isNaN(+n[1])&&+n[0]>+n[1]||["",void 0].includes(n[1])||Gie(e,t,n[1]));D9e.autoRemove=e=>!e;const P9e=(e,t,n)=>{var r;return!(!((r=e.getValue(t))===null||r===void 0)&&r.toString().trim())};P9e.autoRemove=e=>!e;const O9e=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))===null||r===void 0)&&r.toString().trim())};O9e.autoRemove=e=>!e;const Sdn=Object.assign(Object.assign({},Nh),{between:I9e,betweenInclusive:D9e,contains:T9e,empty:P9e,endsWith:A9e,equals:nL,fuzzy:S9e,greaterThan:rL,greaterThanOrEqualTo:Wie,lessThan:iL,lessThanOrEqualTo:Gie,notEmpty:O9e,notEquals:R9e,startsWith:k9e});function Yie(e,t){var n;if(!t)return"";const r=`filter${t[0].toUpperCase()}${t.slice(1)}`;return(n=e[r])!==null&&n!==void 0?n:""}var Tdn={root:"MRT_FilterCheckBox-module_root__59h9r"};const kdn=e=>{var t,n,r,{column:i,table:s}=e,o=Ln(e,["column","table"]);const{getState:a,options:{localization:l,mantineFilterCheckboxProps:u}}=s,{density:c}=a(),{columnDef:d}=i,f={column:i,table:s},h=Object.assign(Object.assign(Object.assign({},zt(u,f)),zt(d.mantineFilterCheckboxProps,f)),o),p=(t=l.filterByColumn)===null||t===void 0?void 0:t.replace("{column}",d.header),m=i.getFilterValue();return b.jsx(yt,{label:(n=h?.title)!==null&&n!==void 0?n:p,openDelay:1e3,withinPortal:!0,children:b.jsx(Ka,Object.assign({checked:m==="true",className:Lt("mrt-filter-checkbox",Tdn.root),indeterminate:m===void 0,label:(r=h.title)!==null&&r!==void 0?r:p,size:c==="xs"?"sm":"md"},h,{onChange:g=>{var y;i.setFilterValue(i.getFilterValue()===void 0?"true":i.getFilterValue()==="true"?"false":void 0),(y=h?.onChange)===null||y===void 0||y.call(h,g)},onClick:g=>{var y;g.stopPropagation(),(y=h?.onClick)===null||y===void 0||y.call(h,g)},title:void 0}))})};var Adn={root:"MRT_FilterRangeFields-module_root__KfCcg"},K2={root:"MRT_FilterTextInput-module_root__Ss8Ql","date-filter":"MRT_FilterTextInput-module_date-filter__jOBLB","range-filter":"MRT_FilterTextInput-module_range-filter__JQHAL","not-filter-chip":"MRT_FilterTextInput-module_not-filter-chip__u8b1y","filter-chip-badge":"MRT_FilterTextInput-module_filter-chip-badge__Sel2k"};const ZG=e=>{var t,n,r,i,s,o,a,l,{header:u,rangeFilterIndex:c,table:d}=e,f=Ln(e,["header","rangeFilterIndex","table"]);const{options:{columnFilterDisplayMode:h,columnFilterModeOptions:p,icons:{IconX:m},localization:g,mantineFilterAutocompleteProps:y,mantineFilterDateInputProps:v,mantineFilterMultiSelectProps:w={clearable:!0},mantineFilterSelectProps:_,mantineFilterTextInputProps:C,manualFiltering:S},refs:{filterInputRefs:T},setColumnFilterFns:k}=d,{column:I}=u,{columnDef:R}=I,P={column:I,rangeFilterIndex:c,table:d},N=Object.assign(Object.assign(Object.assign({},zt(C,P)),zt(R.mantineFilterTextInputProps,P)),f),$=Object.assign(Object.assign({},zt(_,P)),zt(R.mantineFilterSelectProps,P)),O=Object.assign(Object.assign({},zt(w,P)),zt(R.mantineFilterMultiSelectProps,P)),j=Object.assign(Object.assign({},zt(v,P)),zt(R.mantineFilterDateInputProps,P)),B=Object.assign(Object.assign({},zt(y,P)),zt(R.mantineFilterAutocompleteProps,P)),H=R.filterVariant==="range"||R.filterVariant==="date-range"||c!==void 0,q=R.filterVariant==="select",Y=R.filterVariant==="multi-select",V=R.filterVariant==="date"||R.filterVariant==="date-range",L=R.filterVariant==="autocomplete",z=(t=R?.columnFilterModeOptions)!==null&&t!==void 0?t:p,U=R._filterFn,G=["empty","notEmpty"].includes(U)?Yie(g,U):"",Q=H?c===0?g.min:c===1?g.max:"":(n=N?.placeholder)!==null&&n!==void 0?n:(r=g.filterByColumn)===null||r===void 0?void 0:r.replace("{column}",String(R.header)),ne=I.getFacetedUniqueValues(),ue=A.useMemo(()=>{var ee,me,Re;return((Re=(me=(ee=B?.data)!==null&&ee!==void 0?ee:$?.data)!==null&&me!==void 0?me:O?.data)!==null&&Re!==void 0?Re:(L||q||Y)&&ne?Array.from(ne.keys()).filter(Te=>Te!==null).sort((Te,we)=>Te.localeCompare(we)):[]).filter(Te=>Te!=null)},[B?.data,ne,L,Y,q,O?.data,$?.data]),se=A.useRef(!1),[ae,he]=A.useState(()=>{var ee,me;return Y?I.getFilterValue()||[]:H?((ee=I.getFilterValue())===null||ee===void 0?void 0:ee[c])||"":(me=I.getFilterValue())!==null&&me!==void 0?me:""}),[ie]=sxe(ae,S?400:200);A.useEffect(()=>{se.current&&(H?I.setFilterValue(ee=>{const me=Array.isArray(ee)?ee:["",""];return me[c]=ie,me}):I.setFilterValue(ie??void 0))},[ie]),A.useEffect(()=>{if(!se.current){se.current=!0;return}const ee=I.getFilterValue();ee===void 0?le():he(H&&c!==void 0?(ee??["",""])[c]:ee??"")},[I.getFilterValue()]);const le=()=>{Y?(he([]),I.setFilterValue([])):H?(he(""),I.setFilterValue(ee=>{const me=Array.isArray(ee)?ee:["",""];return me[c]=void 0,me})):q?(he(null),I.setFilterValue(null)):(he(""),I.setFilterValue(void 0))},Ee=()=>{Y?(he([]),I.setFilterValue([])):(he(""),I.setFilterValue(void 0)),k(ee=>{var me;return Object.assign(Object.assign({},ee),{[u.id]:(me=z?.[0])!==null&&me!==void 0?me:"fuzzy"})})},X={"aria-label":Q,className:Lt("mrt-filter-text-input",K2.root,V?K2["date-filter"]:H?K2["range-filter"]:!G&&K2["not-filter-chip"]),disabled:!!G,onChange:he,onClick:ee=>ee.stopPropagation(),placeholder:Q,style:Object.assign({},Y?O?.style:q?$?.style:V?j?.style:N?.style),title:Q,value:Y&&!Array.isArray(ae)?[]:ae,variant:"unstyled"},{className:fe}=X,de=Ln(X,["className"]),te=ae?b.jsx(Tn,{"aria-label":g.clearFilter,color:"var(--mantine-color-gray-7)",onClick:le,size:"sm",title:(i=g.clearFilter)!==null&&i!==void 0?i:"",variant:"transparent",children:b.jsx(m,{})}):null;return R.Filter?b.jsx(b.Fragment,{children:(s=R.Filter)===null||s===void 0?void 0:s.call(R,{column:I,header:u,rangeFilterIndex:c,table:d})}):G?b.jsx(De,{style:de.style,children:b.jsx(eo,{className:K2["filter-chip-badge"],onClick:Ee,rightSection:te,size:"lg",children:G})}):Y?b.jsx(_C,Object.assign({},de,{searchable:!0},O,{className:Lt(fe,O.className),data:ue,onChange:ee=>he(ee),ref:ee=>{ee&&(T.current[`${I.id}-${c??0}`]=ee,O.ref&&(O.ref.current=ee))},rightSection:!((o=ae?.toString())===null||o===void 0)&&o.length&&O?.clearable?te:void 0,style:de.style})):q?b.jsx(Km,Object.assign({},de,{clearable:!0,searchable:!0},$,{className:Lt(fe,$.className),clearButtonProps:{size:"md"},data:ue,ref:ee=>{ee&&(T.current[`${I.id}-${c??0}`]=ee,$.ref&&($.ref.current=ee))},style:de.style})):V?b.jsx(zie,Object.assign({},de,{allowDeselect:!0,clearable:!0,popoverProps:{withinPortal:h!=="popover"}},j,{className:Lt(fe,j.className),onChange:ee=>de.onChange(ee===null?"":ee),ref:ee=>{ee&&(T.current[`${I.id}-${c??0}`]=ee,j.ref&&(j.ref.current=ee))},style:de.style})):L?b.jsx(yK,Object.assign({},de,{onChange:ee=>he(ee),rightSection:!((a=ae?.toString())===null||a===void 0)&&a.length?te:void 0},B,{className:Lt(fe,B.className),data:ue,ref:ee=>{ee&&(T.current[`${I.id}-${c??0}`]=ee,B.ref&&(B.ref.current=ee))},style:de.style})):b.jsx(kl,Object.assign({},de,{onChange:ee=>he(ee.target.value),rightSection:!((l=ae?.toString())===null||l===void 0)&&l.length?te:void 0},N,{className:Lt(fe,N.className),mt:0,ref:ee=>{ee&&(T.current[`${I.id}-${c??0}`]=ee,N.ref&&(N.ref.current=ee))},style:de.style}))},Rdn=e=>{var{header:t,table:n}=e,r=Ln(e,["header","table"]);return b.jsxs(De,Object.assign({},r,{className:Lt("mrt-filter-range-fields",Adn.root,r.className),children:[b.jsx(ZG,{header:t,rangeFilterIndex:0,table:n}),b.jsx(ZG,{header:t,rangeFilterIndex:1,table:n})]}))};var Idn={root:"MRT_FilterRangeSlider-module_root__uwYEk"};const Ddn=e=>{var t,{header:n,table:r}=e,i=Ln(e,["header","table"]);const{options:{mantineFilterRangeSliderProps:s},refs:{filterInputRefs:o}}=r,{column:a}=n,{columnDef:l}=a,u={column:a,table:r},c=Object.assign(Object.assign(Object.assign({},zt(s,u)),zt(l.mantineFilterRangeSliderProps,u)),i);let[d,f]=c.min!==void 0&&c.max!==void 0?[c.min,c.max]:(t=a.getFacetedMinMaxValues())!==null&&t!==void 0?t:[0,1];Array.isArray(d)&&(d=d[0]),Array.isArray(f)&&(f=f[0]),d===null&&(d=0),f===null&&(f=1);const[h,p]=A.useState([d,f]),m=a.getFilterValue(),g=A.useRef(!1);return A.useEffect(()=>{g.current&&(m===void 0?p([d,f]):Array.isArray(m)&&p(m)),g.current=!0},[m,d,f]),b.jsx(BT,Object.assign({className:Lt("mrt-filter-range-slider",Idn.root),max:f,min:d,onChange:y=>{p(y)},onChangeEnd:y=>{Array.isArray(y)&&(y[0]<=d&&y[1]>=f?a.setFilterValue(void 0):a.setFilterValue(y))},value:h},c,{ref:y=>{y&&(o.current[`${a.id}-0`]=y,c?.ref&&(c.ref=y))}}))};var Pdn={symbol:"MRT_FilterOptionMenu-module_symbol__a1Bsy"};const Odn=e=>[{divider:!1,label:e.filterFuzzy,option:"fuzzy",symbol:""},{divider:!1,label:e.filterContains,option:"contains",symbol:"*"},{divider:!1,label:e.filterStartsWith,option:"startsWith",symbol:"a"},{divider:!0,label:e.filterEndsWith,option:"endsWith",symbol:"z"},{divider:!1,label:e.filterEquals,option:"equals",symbol:"="},{divider:!0,label:e.filterNotEquals,option:"notEquals",symbol:""},{divider:!1,label:e.filterBetween,option:"between",symbol:""},{divider:!0,label:e.filterBetweenInclusive,option:"betweenInclusive",symbol:""},{divider:!1,label:e.filterGreaterThan,option:"greaterThan",symbol:">"},{divider:!1,label:e.filterGreaterThanOrEqualTo,option:"greaterThanOrEqualTo",symbol:""},{divider:!1,label:e.filterLessThan,option:"lessThan",symbol:"<"},{divider:!0,label:e.filterLessThanOrEqualTo,option:"lessThanOrEqualTo",symbol:""},{divider:!1,label:e.filterEmpty,option:"empty",symbol:""},{divider:!1,label:e.filterNotEmpty,option:"notEmpty",symbol:"!"}],pP=["between","betweenInclusive","inNumberRange"],FU=["empty","notEmpty"],Ndn=["arrIncludesSome","arrIncludesAll","arrIncludes"],Dbe=["range-slider","date-range","range"],N9e=({header:e,onSelect:t,table:n})=>{var r,i,s,o;const{getState:a,options:{columnFilterModeOptions:l,globalFilterModeOptions:u,localization:c,renderColumnFilterModeMenuItems:d,renderGlobalFilterModeMenuItems:f},setColumnFilterFns:h,setGlobalFilterFn:p}=n,{globalFilterFn:m}=a(),{column:g}=e??{},{columnDef:y}=g??{},v=g?.getFilterValue();let w=(r=y?.columnFilterModeOptions)!==null&&r!==void 0?r:l;Dbe.includes(y?.filterVariant)&&(w=[...pP,...w??[]].filter(T=>pP.includes(T)));const _=A.useMemo(()=>Odn(c).filter(T=>y?w===void 0||w?.includes(T.option):(!u||u.includes(T.option))&&["contains","fuzzy","startsWith"].includes(T.option)),[]),C=T=>{var k;const I=(k=y?._filterFn)!==null&&k!==void 0?k:"";!e||!g?p(T):T!==I&&(h(R=>Object.assign(Object.assign({},R),{[e.id]:T})),FU.includes(T)?v!==" "&&!FU.includes(I)?g.setFilterValue(" "):v&&g.setFilterValue(v):y?.filterVariant==="multi-select"||Ndn.includes(T)?v instanceof String||v?.length?g.setFilterValue([]):v&&g.setFilterValue(v):Dbe.includes(y?.filterVariant)||pP.includes(T)?!Array.isArray(v)||!v?.every(R=>R==="")&&!pP.includes(I)?g.setFilterValue(["",""]):g.setFilterValue(v):Array.isArray(v)?g.setFilterValue(""):v===" "&&FU.includes(I)?g.setFilterValue(void 0):g.setFilterValue(v)),t?.()},S=e&&y?y._filterFn:m;return b.jsx(Nn.Dropdown,{children:(o=e&&g&&y?(s=(i=y.renderColumnFilterModeMenuItems)===null||i===void 0?void 0:i.call(y,{column:g,internalFilterOptions:_,onSelectFilterMode:C,table:n}))!==null&&s!==void 0?s:d?.({column:g,internalFilterOptions:_,onSelectFilterMode:C,table:n}):f?.({internalFilterOptions:_,onSelectFilterMode:C,table:n}))!==null&&o!==void 0?o:_.map(({divider:T,label:k,option:I,symbol:R},P)=>b.jsxs(A.Fragment,{children:[b.jsx(Nn.Item,{color:I===S?"blue":void 0,leftSection:b.jsx("span",{className:Pdn.symbol,children:R}),onClick:()=>C(I),value:I,children:k}),T&&b.jsx(Nn.Divider,{})]},P))})},$9e=e=>{var t,n,{header:r,table:i}=e,s=Ln(e,["header","table"]);const{getState:o,options:{columnFilterDisplayMode:a,columnFilterModeOptions:l,enableColumnFilterModes:u,icons:{IconFilterCog:c},localization:d},refs:{filterInputRefs:f}}=i,{showColumnFilters:h}=o(),{column:p}=r,{columnDef:m}=p,g=m._filterFn,y=(t=m?.columnFilterModeOptions)!==null&&t!==void 0?t:l,v=u&&m.enableColumnFilterModes!==!1&&(y===void 0||!!y?.length);return b.jsx(kp,{in:h||a==="popover",children:b.jsxs(At,Object.assign({direction:"column"},s,{children:[b.jsxs(At,{align:"flex-end",children:[m.filterVariant==="checkbox"?b.jsx(kdn,{column:p,table:i}):m.filterVariant==="range-slider"?b.jsx(Ddn,{header:r,table:i}):["date-range","range"].includes((n=m.filterVariant)!==null&&n!==void 0?n:"")||["between","betweenInclusive","inNumberRange"].includes(m._filterFn)?b.jsx(Rdn,{header:r,table:i}):b.jsx(ZG,{header:r,table:i}),v&&b.jsxs(Nn,{withinPortal:a!=="popover",children:[b.jsx(yt,{label:d.changeFilterMode,position:"bottom-start",withinPortal:!0,children:b.jsx(Nn.Target,{children:b.jsx(Tn,{"aria-label":d.changeFilterMode,color:"gray",size:"md",variant:"subtle",children:b.jsx(c,{})})})}),b.jsx(N9e,{header:r,onSelect:()=>setTimeout(()=>{var w;return(w=f.current[`${p.id}-0`])===null||w===void 0?void 0:w.focus()},100),table:i})]})]}),v?b.jsx(He,{c:"dimmed",className:Edn["filter-mode-label"],component:"label",children:d.filterMode.replace("{filterType}",Yie(d,g))}):null]}))})};var $dn={root:"MRT_TableHeadCellFilterLabel-module_root__Rur2R"};const Mdn=e=>{var t,n,r,{header:i,table:s}=e,o=Ln(e,["header","table"]);const{options:{columnFilterDisplayMode:a,icons:{IconFilter:l},localization:u},refs:{filterInputRefs:c},setShowColumnFilters:d}=s,{column:f}=i,{columnDef:h}=f,p=f.getFilterValue(),[m,g]=A.useState(!1),y=Array.isArray(p)&&p.some(Boolean)||!!p&&!Array.isArray(p),v=h.filterVariant==="range"||h.filterVariant==="date-range"||["between","betweenInclusive","inNumberRange"].includes(h._filterFn),w=h._filterFn,_=h.filterTooltipValueFn||(S=>S),C=a==="popover"&&!y?(t=u.filterByColumn)===null||t===void 0?void 0:t.replace("{column}",String(h.header)):u.filteringByColumn.replace("{column}",String(h.header)).replace("{filterType}",Yie(u,w)).replace("{filterValue}",`"${Array.isArray(f.getFilterValue())?f.getFilterValue().map(S=>_(S)).join(`" ${v?u.and:u.or} "`):_(f.getFilterValue())}"`).replace('" "',"");return b.jsx(b.Fragment,{children:b.jsxs(kr,{keepMounted:h.filterVariant==="range-slider",onChange:g,onClose:()=>g(!1),opened:m,position:"top",shadow:"xl",width:360,withinPortal:!0,children:[b.jsx(bd,{mounted:a==="popover"||!!f.getFilterValue()&&!v||v&&(!!(!((n=f.getFilterValue())===null||n===void 0)&&n[0])||!!(!((r=f.getFilterValue())===null||r===void 0)&&r[1])),transition:"scale",children:()=>b.jsx(kr.Target,{children:b.jsx(yt,{disabled:m,label:C,multiline:!0,w:C.length>40?300:void 0,withinPortal:!0,children:b.jsx(Tn,Object.assign({className:Lt("mrt-table-head-cell-filter-label-icon",$dn.root),size:18},l5("active",y),{onClick:S=>{S.stopPropagation(),a==="popover"?g(T=>!T):d(!0),setTimeout(()=>{const T=c.current[`${f.id}-0`];T?.focus(),T?.select()},100)}},o,{children:b.jsx(l,{size:"100%"})}))})})}),a==="popover"&&b.jsx(kr.Dropdown,{onClick:S=>S.stopPropagation(),onKeyDown:S=>S.key==="Enter"&&g(!1),onMouseDown:S=>S.stopPropagation(),children:b.jsx($9e,{header:i,table:s})})]})})},Fdn=e=>{var{column:t,table:n,tableHeadCellRef:r}=e,i=Ln(e,["column","table","tableHeadCellRef"]);const{getState:s,options:{enableColumnOrdering:o,mantineColumnDragHandleProps:a},setColumnOrder:l,setDraggingColumn:u,setHoveredColumn:c}=n,{columnDef:d}=t,{columnOrder:f,draggingColumn:h,hoveredColumn:p}=s(),m={column:t,table:n},g=Object.assign(Object.assign(Object.assign({},zt(a,m)),zt(d.mantineColumnDragHandleProps,m)),i),y=w=>{var _;(_=g?.onDragStart)===null||_===void 0||_.call(g,w),u(t),w.dataTransfer.setDragImage(r.current,0,0)},v=w=>{var _;(_=g?.onDragEnd)===null||_===void 0||_.call(g,w),p?.id==="drop-zone"?t.toggleGrouping():o&&p&&p?.id!==h?.id&&l(v9e(t,p,f)),u(null),c(null)};return b.jsx(Uie,{actionIconProps:g,onDragEnd:v,onDragStart:y,table:n})};var LU={root:"MRT_TableHeadCellResizeHandle-module_root__paufe","root-ltr":"MRT_TableHeadCellResizeHandle-module_root-ltr__652AZ","root-rtl":"MRT_TableHeadCellResizeHandle-module_root-rtl__5VlSo","root-hide":"MRT_TableHeadCellResizeHandle-module_root-hide__-ILlD"};const Ldn=e=>{var t,{header:n,table:r}=e,i=Ln(e,["header","table"]);const{getState:s,options:{columnResizeDirection:o,columnResizeMode:a},setColumnSizingInfo:l}=r,{density:u}=s(),{column:c}=n,d=n.getResizeHandler(),f=c.getIsResizing()&&a==="onEnd"?`translateX(${(o==="rtl"?-1:1)*((t=s().columnSizingInfo.deltaOffset)!==null&&t!==void 0?t:0)}px)`:void 0;return b.jsx(De,Object.assign({onDoubleClick:()=>{l(h=>Object.assign(Object.assign({},h),{isResizingColumn:!1})),c.resetSize()},onMouseDown:d,onTouchStart:d,role:"separator"},i,{__vars:Object.assign({"--mrt-transform":f},i.__vars),className:Lt("mrt-table-head-cell-resize-handle",LU.root,LU[`root-${o}`],!n.subHeaders.length&&a==="onChange"&&LU["root-hide"],u,i.className)}))};var Pbe={"sort-icon":"MRT_TableHeadCellSortLabel-module_sort-icon__zs1xA","multi-sort-indicator":"MRT_TableHeadCellSortLabel-module_multi-sort-indicator__MGBj2"};const jdn=e=>{var{header:t,table:n}=e,r=Ln(e,["header","table"]);const{getState:i,options:{icons:{IconArrowsSort:s,IconSortAscending:o,IconSortDescending:a},localization:l}}=n,u=t.column,{columnDef:c}=u,{sorting:d}=i(),f=u.getIsSorted(),h=u.getSortIndex(),p=f?f==="desc"?l.sortedByColumnDesc.replace("{column}",c.header):l.sortedByColumnAsc.replace("{column}",c.header):u.getNextSortingOrder()==="desc"?l.sortByColumnDesc.replace("{column}",c.header):l.sortByColumnAsc.replace("{column}",c.header),m=b.jsx(Tn,Object.assign({"aria-label":p},l5("sorted",f),r,{className:Lt("mrt-table-head-sort-button",Pbe["sort-icon"],r.className),children:f==="desc"?b.jsx(a,{size:"100%"}):f==="asc"?b.jsx(o,{size:"100%"}):b.jsx(s,{size:"100%"})}));return b.jsx(yt,{label:p,openDelay:1e3,withinPortal:!0,children:d.length<2||h===-1?m:b.jsx(H5,{className:Lt("mrt-table-head-multi-sort-indicator",Pbe["multi-sort-indicator"]),inline:!0,label:h+1,offset:4,children:m})})};var Obe={left:"MRT_ColumnActionMenu-module_left__cfNmY",right:"MRT_ColumnActionMenu-module_right__-nK56"};const Bdn=e=>{var t,n,r,i,s,o,a,l,u,c,{header:d,table:f}=e,h=Ln(e,["header","table"]);const{getState:p,options:{columnFilterDisplayMode:m,enableColumnFilters:g,enableColumnPinning:y,enableColumnResizing:v,enableGrouping:w,enableHiding:_,enableSorting:C,enableSortingRemoval:S,icons:{IconArrowAutofitContent:T,IconBoxMultiple:k,IconClearAll:I,IconColumns:R,IconDotsVertical:P,IconEyeOff:N,IconFilter:$,IconFilterOff:O,IconPinned:j,IconPinnedOff:B,IconSortAscending:H,IconSortDescending:q},localization:Y,mantineColumnActionsButtonProps:V,renderColumnActionsMenuItems:L},refs:{filterInputRefs:z},setColumnOrder:U,setColumnSizingInfo:G,setShowColumnFilters:Q,toggleAllColumnsVisible:ne}=f,{column:ue}=d,{columnDef:se}=ue,{columnSizing:ae,columnVisibility:he}=p(),ie={column:ue,table:f},le=Object.assign(Object.assign({},zt(V,ie)),zt(se.mantineColumnActionsButtonProps,ie)),Ee=()=>{ue.clearSorting()},X=()=>{ue.toggleSorting(!1)},fe=()=>{ue.toggleSorting(!0)},de=()=>{G(Ae=>Object.assign(Object.assign({},Ae),{isResizingColumn:!1})),ue.resetSize()},te=()=>{ue.toggleVisibility(!1)},ee=Ae=>{ue.pin(Ae)},me=()=>{ue.toggleGrouping(),U(Ae=>["mrt-row-expand",...Ae])},Re=()=>{ue.setFilterValue("")},Te=()=>{Q(!0),setTimeout(()=>{var Ae;return(Ae=z.current[`${ue.id}-0`])===null||Ae===void 0?void 0:Ae.focus()},100)},we=()=>{ne(!0)},$e=b.jsxs(b.Fragment,{children:[C&&ue.getCanSort()&&b.jsxs(b.Fragment,{children:[S!==!1&&b.jsx(Nn.Item,{disabled:!ue.getIsSorted(),leftSection:b.jsx(I,{}),onClick:Ee,children:Y.clearSort}),b.jsx(Nn.Item,{disabled:ue.getIsSorted()==="asc",leftSection:b.jsx(H,{}),onClick:X,children:(t=Y.sortByColumnAsc)===null||t===void 0?void 0:t.replace("{column}",String(se.header))}),b.jsx(Nn.Item,{disabled:ue.getIsSorted()==="desc",leftSection:b.jsx(q,{}),onClick:fe,children:(n=Y.sortByColumnDesc)===null||n===void 0?void 0:n.replace("{column}",String(se.header))}),(g||w||_)&&b.jsx(Nn.Divider,{},3)]}),g&&m!=="popover"&&ue.getCanFilter()&&b.jsxs(b.Fragment,{children:[b.jsx(Nn.Item,{disabled:!ue.getFilterValue(),leftSection:b.jsx(O,{}),onClick:Re,children:Y.clearFilter}),b.jsx(Nn.Item,{leftSection:b.jsx($,{}),onClick:Te,children:(r=Y.filterByColumn)===null||r===void 0?void 0:r.replace("{column}",String(se.header))}),(w||_)&&b.jsx(Nn.Divider,{},2)]}),w&&ue.getCanGroup()&&b.jsxs(b.Fragment,{children:[b.jsx(Nn.Item,{leftSection:b.jsx(k,{}),onClick:me,children:(i=Y[ue.getIsGrouped()?"ungroupByColumn":"groupByColumn"])===null||i===void 0?void 0:i.replace("{column}",String(se.header))}),y&&b.jsx(Nn.Divider,{})]}),y&&ue.getCanPin()&&b.jsxs(b.Fragment,{children:[b.jsx(Nn.Item,{disabled:ue.getIsPinned()==="left"||!ue.getCanPin(),leftSection:b.jsx(j,{className:Obe.left}),onClick:()=>ee("left"),children:Y.pinToLeft}),b.jsx(Nn.Item,{disabled:ue.getIsPinned()==="right"||!ue.getCanPin(),leftSection:b.jsx(j,{className:Obe.right}),onClick:()=>ee("right"),children:Y.pinToRight}),b.jsx(Nn.Item,{disabled:!ue.getIsPinned(),leftSection:b.jsx(B,{}),onClick:()=>ee(!1),children:Y.unpin}),_&&b.jsx(Nn.Divider,{})]}),v&&ue.getCanResize()&&b.jsx(Nn.Item,{disabled:!ae[ue.id],leftSection:b.jsx(T,{}),onClick:de,children:Y.resetColumnSize},0),_&&b.jsxs(b.Fragment,{children:[b.jsx(Nn.Item,{disabled:!ue.getCanHide(),leftSection:b.jsx(N,{}),onClick:te,children:(s=Y.hideColumn)===null||s===void 0?void 0:s.replace("{column}",String(se.header))},0),b.jsx(Nn.Item,{disabled:!Object.values(he).filter(Ae=>!Ae).length,leftSection:b.jsx(R,{}),onClick:we,children:(o=Y.showAllColumns)===null||o===void 0?void 0:o.replace("{column}",String(se.header))},1)]})]});return b.jsxs(Nn,Object.assign({closeOnItemClick:!0,position:"bottom-start",withinPortal:!0},h,{children:[b.jsx(yt,{label:(a=le?.title)!==null&&a!==void 0?a:Y.columnActions,openDelay:1e3,withinPortal:!0,children:b.jsx(Nn.Target,{children:b.jsx(Tn,Object.assign({"aria-label":Y.columnActions,color:"gray",size:"sm",variant:"subtle"},le,{children:b.jsx(P,{size:"100%"})}))})}),b.jsx(Nn.Dropdown,{children:(c=(u=(l=se.renderColumnActionsMenuItems)===null||l===void 0?void 0:l.call(se,{column:ue,internalColumnMenuItems:$e,table:f}))!==null&&u!==void 0?u:L?.({column:ue,internalColumnMenuItems:$e,table:f}))!==null&&c!==void 0?c:$e})]}))},zdn=e=>{var t,n,r,i,s,o,{columnVirtualizer:a,header:l,renderedHeaderIndex:u=0,table:c}=e,d=Ln(e,["columnVirtualizer","header","renderedHeaderIndex","table"]);const f=Ru(),{getState:h,options:{columnFilterDisplayMode:p,columnResizeDirection:m,columnResizeMode:g,enableColumnActions:y,enableColumnDragging:v,enableColumnOrdering:w,enableColumnPinning:_,enableGrouping:C,enableHeaderActionsHoverReveal:S,enableMultiSort:T,layoutMode:k,mantineTableHeadCellProps:I},refs:{tableHeadCellRefs:R},setHoveredColumn:P}=c,{columnSizingInfo:N,draggingColumn:$,grouping:O,hoveredColumn:j}=h(),{column:B}=l,{columnDef:H}=B,{columnDefType:q}=H,Y={column:B,table:c},V=Object.assign(Object.assign(Object.assign({},zt(I,Y)),zt(H.mantineTableHeadCellProps,Y)),d),L={minWidth:`max(calc(var(--header-${Cf(l?.id)}-size) * 1px), ${(t=H.minSize)!==null&&t!==void 0?t:30}px)`,width:`calc(var(--header-${Cf(l.id)}-size) * 1px)`};k==="grid"?L.flex=`${[0,!1].includes(H.grow)?0:`var(--header-${Cf(l.id)}-size)`} 0 auto`:k==="grid-no-grow"&&(L.flex=`${+(H.grow||0)} 0 auto`);const z=_&&H.columnDefType!=="group"&&B.getIsPinned(),U=$?.id===B.id,G=j?.id===B.id,{hovered:Q,ref:ne}=Jze(),[ue,se]=A.useState(!1),ae=(y||H.enableColumnActions)&&H.enableColumnActions!==!1,he=!S||ue||Q&&!c.getVisibleFlatColumns().find(fe=>fe.getIsResizing()),ie=v!==!1&&H.enableColumnDragging!==!1&&(v||w&&H.enableColumnOrdering!==!1||C&&H.enableGrouping!==!1&&!O.includes(B.id))&&he,le=A.useMemo(()=>{let fe=0;return B.getCanSort()&&fe++,he&&(fe+=1.75),ie&&(fe+=1.25),fe},[he,ie]),Ee=fe=>{C&&j?.id==="drop-zone"&&P(null),w&&$&&q!=="group"&&P(H.enableColumnOrdering!==!1?B:null)},X=H?.Header instanceof Function?(n=H?.Header)===null||n===void 0?void 0:n.call(H,{column:B,header:l,table:c}):(r=H?.Header)!==null&&r!==void 0?r:H.header;return b.jsxs(b_,Object.assign({colSpan:l.colSpan,"data-column-pinned":z||void 0,"data-dragging-column":U||void 0,"data-first-right-pinned":z==="right"&&B.getIsFirstColumn(z)||void 0,"data-hovered-column-target":G||void 0,"data-index":u,"data-last-left-pinned":z==="left"&&B.getIsLastColumn(z)||void 0,"data-resizing":g==="onChange"&&N?.isResizingColumn===B.id&&m||void 0},V,{__vars:{"--mrt-table-cell-left":z==="left"?`${B.getStart(z)}`:void 0,"--mrt-table-cell-right":z==="right"?`${B.getAfter(z)}`:void 0},align:q==="group"?"center":f.dir==="rtl"?"right":"left",className:Lt(la.root,k?.startsWith("grid")&&la["root-grid"],T&&B.getCanSort()&&la["root-no-select"],a&&la["root-virtualized"],V?.className),onDragEnter:Ee,ref:fe=>{var de;fe&&(R.current[B.id]=fe,ne.current=fe,q!=="group"&&((de=a?.measureElement)===null||de===void 0||de.call(a,fe)))},style:fe=>Object.assign(Object.assign({},L),zt(V?.style,fe)),children:[l.isPlaceholder?null:(i=V.children)!==null&&i!==void 0?i:b.jsxs(At,{className:Lt("mrt-table-head-cell-content",la.content,(q==="group"||V?.align==="center")&&la["content-center"],V?.align==="right"&&la["content-right"],B.getCanResize()&&la["content-spaced"]),children:[b.jsxs(At,{__vars:{"--mrt-table-head-cell-labels-padding-left":`${le}`},className:Lt("mrt-table-head-cell-labels",la.labels,B.getCanSort()&&q!=="group"&&la["labels-sortable"],V?.align==="right"?la["labels-right"]:V?.align==="center"&&la["labels-center"],q==="data"&&la["labels-data"]),onClick:B.getToggleSortingHandler(),children:[b.jsx(At,{className:Lt("mrt-table-head-cell-content-wrapper",la["content-wrapper"],q==="data"&&la["content-wrapper-hidden-overflow"],((o=(s=H.header)===null||s===void 0?void 0:s.length)!==null&&o!==void 0?o:0)<20&&la["content-wrapper-nowrap"]),children:X}),B.getCanFilter()&&(B.getIsFiltered()||he)&&b.jsx(Mdn,{header:l,table:c}),B.getCanSort()&&(B.getIsSorted()||he)&&b.jsx(jdn,{header:l,table:c})]}),q!=="group"&&b.jsxs(At,{className:Lt("mrt-table-head-cell-content-actions",la["content-actions"]),children:[ie&&b.jsx(Fdn,{column:B,table:c,tableHeadCellRef:{current:R.current[B.id]}}),ae&&he&&b.jsx(Bdn,{header:l,onChange:se,opened:ue,table:c})]}),B.getCanResize()&&b.jsx(Ldn,{header:l,table:c})]}),p==="subheader"&&B.getCanFilter()&&b.jsx($9e,{header:l,table:c})]}))},Udn=e=>{var{columnVirtualizer:t,headerGroup:n,table:r}=e,i=Ln(e,["columnVirtualizer","headerGroup","table"]);const{getState:s,options:{enableStickyHeader:o,layoutMode:a,mantineTableHeadRowProps:l}}=r,{isFullScreen:u}=s(),{virtualColumns:c,virtualPaddingLeft:d,virtualPaddingRight:f}=t??{},h=Object.assign(Object.assign({},zt(l,{headerGroup:n,table:r})),i);return b.jsxs(Nm,Object.assign({},h,{className:Lt(MU.root,(o||u)&&MU.sticky,a?.startsWith("grid")&&MU["layout-mode-grid"],h?.className),children:[d?b.jsx(De,{component:"th",display:"flex",w:d}):null,(c??n.headers).map((p,m)=>{let g=p;return t&&(m=p.index,g=n.headers[m]),b.jsx(zdn,{columnVirtualizer:t,header:g,renderedHeaderIndex:m,table:r},g.id)}),f?b.jsx(De,{component:"th",display:"flex",w:f}):null]}))};var ux={alert:"MRT_ToolbarAlertBanner-module_alert__PAhUK","alert-stacked":"MRT_ToolbarAlertBanner-module_alert-stacked__HR7Nq","alert-bottom":"MRT_ToolbarAlertBanner-module_alert-bottom__u9L-S","alert-badge":"MRT_ToolbarAlertBanner-module_alert-badge__GwDmX","toolbar-alert":"MRT_ToolbarAlertBanner-module_toolbar-alert__3sJGU","head-overlay":"MRT_ToolbarAlertBanner-module_head-overlay__Hw7jK"};const eY=e=>{var t,{renderedRowIndex:n=0,row:r,table:i}=e,s=Ln(e,["renderedRowIndex","row","table"]);const{getState:o,options:{enableMultiRowSelection:a,localization:l,mantineSelectAllCheckboxProps:u,mantineSelectCheckboxProps:c,selectAllMode:d,selectDisplayMode:f}}=i,{density:h,isLoading:p}=o(),m=!r,g=m?d==="page"?i.getIsAllPageRowsSelected():i.getIsAllRowsSelected():void 0,y=m?g:u5({row:r,table:i}),v=Object.assign(Object.assign({},m?zt(u,{table:i}):zt(c,{row:r,table:i})),s),w=r?Jcn({renderedRowIndex:n,row:r,table:i}):void 0,_=h9e({table:i}),C=Object.assign(Object.assign({"aria-label":m?l.toggleSelectAll:l.toggleSelectRow,checked:y,disabled:p||r&&!r.getCanSelect()||r?.id==="mrt-row-create",onChange:S=>{S.stopPropagation(),m?_(S):w(S)},size:h==="xs"?"sm":"md"},v),{onClick:S=>{var T;S.stopPropagation(),(T=v?.onClick)===null||T===void 0||T.call(v,S)},title:void 0});return b.jsx(yt,{label:(t=v?.title)!==null&&t!==void 0?t:m?l.toggleSelectAll:l.toggleSelectRow,openDelay:1e3,withinPortal:!0,children:b.jsx("span",{children:f==="switch"?b.jsx(Xg,Object.assign({},C)):f==="radio"||a===!1?b.jsx(Za,Object.assign({},C)):b.jsx(Ka,Object.assign({indeterminate:!y&&m?i.getIsSomeRowsSelected():r?.getIsSomeSelected()&&r.getCanSelectSubRows()},C))})})},Kie=e=>{var t,n,r,{stackAlertBanner:i,table:s}=e,o=Ln(e,["stackAlertBanner","table"]);const{getFilteredSelectedRowModel:a,getPrePaginationRowModel:l,getState:u,options:{enableRowSelection:c,enableSelectAll:d,icons:{IconX:f},localization:h,mantineToolbarAlertBannerBadgeProps:p,mantineToolbarAlertBannerProps:m,manualPagination:g,positionToolbarAlertBanner:y,renderToolbarAlertBannerContent:v,rowCount:w}}=s,{density:_,grouping:C,rowSelection:S,showAlertBanner:T}=u(),k=Object.assign(Object.assign({},zt(m,{table:s})),o),I=zt(p,{table:s}),R=w??l().flatRows.length,P=A.useMemo(()=>g?Object.values(S).filter(Boolean).length:a().rows.length,[S,R,g]),N=P?b.jsxs(At,{align:"center",gap:"sm",children:[(n=(t=h.selectedCountOfRowCountRowsSelected)===null||t===void 0?void 0:t.replace("{selectedCount}",P.toString()))===null||n===void 0?void 0:n.replace("{rowCount}",R.toString()),b.jsx(Wt,{onClick:O=>h9e({table:s})(O,!1,!0),size:"compact-xs",variant:"subtle",children:h.clearSelection})]}):null,$=C.length>0?b.jsxs(At,{children:[h.groupedBy," ",C.map((O,j)=>b.jsxs(A.Fragment,{children:[j>0?h.thenBy:"",b.jsxs(eo,Object.assign({className:ux["alert-badge"],rightSection:b.jsx(Tn,{color:"white",onClick:()=>s.getColumn(O).toggleGrouping(),size:"xs",variant:"subtle",children:b.jsx(f,{style:{transform:"scale(0.8)"}})}),variant:"filled"},I,{children:[s.getColumn(O).columnDef.header," "]}))]},`${j}-${O}`))]}):null;return b.jsx(kp,{in:T||!!N||!!$,transitionDuration:i?200:0,children:b.jsx(Qc,Object.assign({color:"blue",icon:!1},k,{className:Lt(ux.alert,i&&!y&&ux["alert-stacked"],!i&&y==="bottom"&&ux["alert-bottom"],k?.className),children:(r=v?.({groupedAlert:$,selectedAlert:N,table:s}))!==null&&r!==void 0?r:b.jsxs(At,{className:Lt(ux["toolbar-alert"],y==="head-overlay"&&ux["head-overlay"],_),children:[c&&d&&y==="head-overlay"&&b.jsx(eY,{table:s}),b.jsxs(zn,{children:[k?.children,N,$]})]})}))})},Vdn=e=>{var{columnVirtualizer:t,table:n}=e,r=Ln(e,["columnVirtualizer","table"]);const{getHeaderGroups:i,getSelectedRowModel:s,getState:o,options:{enableStickyHeader:a,layoutMode:l,mantineTableHeadProps:u,positionToolbarAlertBanner:c},refs:{tableHeadRef:d}}=n,{isFullScreen:f,showAlertBanner:h}=o(),p=Object.assign(Object.assign({},zt(u,{table:n})),r),m=a||f;return b.jsx(nX,Object.assign({},p,{className:Lt(hg.root,l?.startsWith("grid")?hg["root-grid"]:hg["root-table-row-group"],m&&hg["root-sticky"],p?.className),pos:m&&l?.startsWith("grid")?"sticky":"relative",ref:g=>{d.current=g,p?.ref&&(p.ref.current=g)},children:c==="head-overlay"&&(h||s().rows.length>0)?b.jsx(Nm,{className:Lt(hg["banner-tr"],l?.startsWith("grid")&&hg.grid),children:b.jsx(b_,{className:Lt(hg["banner-th"],l?.startsWith("grid")&&hg.grid),colSpan:n.getVisibleLeafColumns().length,children:b.jsx(Kie,{table:n})})}):i().map(g=>b.jsx(Udn,{columnVirtualizer:t,headerGroup:g,table:n},g.id))}))};var Nbe={root:"MRT_GlobalFilterTextInput-module_root__Xmcpv",collapse:"MRT_GlobalFilterTextInput-module_collapse__v311d"};const jU=e=>{var{table:t}=e,n=Ln(e,["table"]);const{getState:r,options:{enableGlobalFilterModes:i,icons:{IconSearch:s,IconX:o},localization:a,mantineSearchTextInputProps:l,manualFiltering:u,positionGlobalFilter:c},refs:{searchInputRef:d},setGlobalFilter:f}=t,{globalFilter:h,showGlobalFilter:p}=r(),m=Object.assign(Object.assign({},zt(l,{table:t})),n),g=A.useRef(!1),[y,v]=A.useState(h??""),[w]=sxe(y,u?500:250);A.useEffect(()=>{f(w||void 0)},[w]);const _=()=>{v(""),f(void 0)};return A.useEffect(()=>{g.current&&(h===void 0?_():v(h)),g.current=!0},[h]),b.jsxs(kp,{className:Nbe.collapse,in:p,children:[i&&b.jsxs(Nn,{withinPortal:!0,children:[b.jsx(Nn.Target,{children:b.jsx(Tn,{"aria-label":a.changeSearchMode,color:"gray",size:"sm",variant:"transparent",children:b.jsx(s,{})})}),b.jsx(N9e,{onSelect:_,table:t})]}),b.jsx(kl,Object.assign({leftSection:!i&&b.jsx(s,{}),mt:0,mx:c!=="left"?"mx":void 0,onChange:C=>v(C.target.value),placeholder:a.search,rightSection:y?b.jsx(Tn,{"aria-label":a.clearSearch,color:"gray",disabled:!y?.length,onClick:_,size:"sm",variant:"transparent",children:b.jsx(yt,{label:a.clearSearch,withinPortal:!0,children:b.jsx(o,{})})}):null,value:y??"",variant:"filled"},m,{className:Lt("mrt-global-filter-text-input",Nbe.root,m?.className),ref:C=>{C&&(d.current=C,m?.ref&&(m.ref=C))}}))]})},Hdn=(e,t,n=-1,r=0,i,s)=>kE(e,"mrt-row-create",Object.assign({},...c5(e.options.columns).map(o=>({[a_(o)]:""}))),n,r,i,s),qdn=e=>Object.assign({Cell:({cell:t,row:n,table:r})=>b.jsx(wdn,{cell:t,row:n,table:r})},ow({header:"actions",id:"mrt-row-actions",size:70,tableOptions:e})),Wdn=e=>Object.assign({Cell:({row:t,rowRef:n,table:r})=>b.jsx(idn,{row:t,rowRef:n,table:r}),grow:!1},ow({header:"move",id:"mrt-row-drag",size:60,tableOptions:e})),Gdn=e=>{var t;const{defaultColumn:n,enableExpandAll:r,groupedColumnMode:i,positionExpandColumn:s,renderDetailPanel:o,state:{grouping:a}}=e,l=s==="last"?{align:"right"}:void 0;return Object.assign({Cell:({cell:u,column:c,row:d,table:f})=>{var h,p,m;const g={row:d,table:f},y=(h=d.subRows)===null||h===void 0?void 0:h.length;return e.groupedColumnMode==="remove"&&d.groupingColumnId?b.jsxs(At,{align:"center",gap:"0.25rem",children:[b.jsx(JG,Object.assign({},g)),b.jsx(yt,{label:f.getColumn(d.groupingColumnId).columnDef.header,openDelay:1e3,position:"right",children:b.jsx("span",{children:d.groupingValue})}),!!y&&b.jsxs("span",{children:["(",y,")"]})]}):b.jsxs(b.Fragment,{children:[b.jsx(JG,Object.assign({},g)),(m=(p=c.columnDef).GroupedCell)===null||m===void 0?void 0:m.call(p,{cell:u,column:c,row:d,table:f})]})},Header:r?({table:u})=>{var c;return b.jsxs(At,{align:"center",children:[b.jsx(ldn,{table:u}),i==="remove"&&((c=a?.map(d=>u.getColumn(d).columnDef.header))===null||c===void 0?void 0:c.join(", "))]})}:void 0,mantineTableBodyCellProps:l,mantineTableHeadCellProps:l},ow({header:"expand",id:"mrt-row-expand",size:i==="remove"?(t=n?.size)!==null&&t!==void 0?t:180:o?r?60:70:100,tableOptions:e}))},Ydn=e=>{const{localization:t,rowNumberDisplayMode:n}=e,{pagination:{pageIndex:r,pageSize:i}}=e.state;return Object.assign({Cell:({renderedRowIndex:s=0,row:o})=>{var a;return((a=n==="static"?s+i*r:o.index)!==null&&a!==void 0?a:0)+1},grow:!1,Header:()=>t.rowNumber},ow({header:"rowNumbers",id:"mrt-row-numbers",size:50,tableOptions:e}))},Kdn=e=>Object.assign({Cell:({row:t,table:n})=>b.jsx(sdn,{row:t,table:n}),grow:!1},ow({header:"pin",id:"mrt-row-pin",size:60,tableOptions:e})),Xdn=e=>{const{enableMultiRowSelection:t,enableSelectAll:n}=e;return Object.assign({Cell:({renderedRowIndex:r,row:i,table:s})=>b.jsx(eY,{renderedRowIndex:r,row:i,table:s}),grow:!1,Header:n&&t?({table:r})=>b.jsx(eY,{table:r}):void 0},ow({header:"select",id:"mrt-row-select",size:n?60:70,tableOptions:e}))},Qdn=Object.assign({},aN),Jdn={IconArrowAutofitContent:net,IconArrowsSort:uet,IconBaselineDensityLarge:het,IconBaselineDensityMedium:met,IconBaselineDensitySmall:yet,IconBoxMultiple:bet,IconChevronDown:_X,IconChevronLeft:zet,IconChevronLeftPipe:jet,IconChevronRight:AEe,IconChevronRightPipe:Vet,IconChevronsDown:Wet,IconCircleX:Yet,IconClearAll:Xet,IconColumns:ett,IconDeviceFloppy:ctt,IconDots:DEe,IconDotsVertical:IEe,IconEdit:$N,IconEyeOff:Ctt,IconFilter:Rtt,IconFilterCog:Stt,IconFilterOff:ktt,IconGripHorizontal:$tt,IconMaximize:Ktt,IconMinimize:Qtt,IconPinned:lnt,IconPinnedOff:ont,IconSearch:jEe,IconSearchOff:bnt,IconSortAscending:knt,IconSortDescending:Rnt,IconX:Jm},Zdn={actions:"Actions",and:"and",cancel:"Cancel",changeFilterMode:"Change filter mode",changeSearchMode:"Change search mode",clearFilter:"Clear filter",clearSearch:"Clear search",clearSelection:"Clear selection",clearSort:"Clear sort",clickToCopy:"Click to copy",copy:"Copy",collapse:"Collapse",collapseAll:"Collapse all",columnActions:"Column Actions",copiedToClipboard:"Copied to clipboard",dropToGroupBy:"Drop to group by {column}",edit:"Edit",expand:"Expand",expandAll:"Expand all",filterArrIncludes:"Includes",filterArrIncludesAll:"Includes all",filterArrIncludesSome:"Includes",filterBetween:"Between",filterBetweenInclusive:"Between Inclusive",filterByColumn:"Filter by {column}",filterContains:"Contains",filterEmpty:"Empty",filterEndsWith:"Ends With",filterEquals:"Equals",filterEqualsString:"Equals",filterFuzzy:"Fuzzy",filterGreaterThan:"Greater Than",filterGreaterThanOrEqualTo:"Greater Than Or Equal To",filterInNumberRange:"Between",filterIncludesString:"Contains",filterIncludesStringSensitive:"Contains",filterLessThan:"Less Than",filterLessThanOrEqualTo:"Less Than Or Equal To",filterMode:"Filter Mode: {filterType}",filterNotEmpty:"Not Empty",filterNotEquals:"Not Equals",filterStartsWith:"Starts With",filterWeakEquals:"Equals",filteringByColumn:"Filtering by {column} - {filterType} {filterValue}",goToFirstPage:"Go to first page",goToLastPage:"Go to last page",goToNextPage:"Go to next page",goToPreviousPage:"Go to previous page",grab:"Grab",groupByColumn:"Group by {column}",groupedBy:"Grouped by ",hideAll:"Hide all",hideColumn:"Hide {column} column",max:"Max",min:"Min",move:"Move",noRecordsToDisplay:"No records to display",noResultsFound:"No results found",of:"of",or:"or",pin:"Pin",pinToLeft:"Pin to left",pinToRight:"Pin to right",resetColumnSize:"Reset column size",resetOrder:"Reset order",rowActions:"Row Actions",rowNumber:"#",rowNumbers:"Row Numbers",rowsPerPage:"Rows per page",save:"Save",search:"Search",selectedCountOfRowCountRowsSelected:"{selectedCount} of {rowCount} row(s) selected",select:"Select",showAll:"Show all",showAllColumns:"Show all columns",showHideColumns:"Show/Hide columns",showHideFilters:"Show/Hide filters",showHideSearch:"Show/Hide search",sortByColumnAsc:"Sort by {column} ascending",sortByColumnDesc:"Sort by {column} descending",sortedByColumnAsc:"Sorted by {column} ascending",sortedByColumnDesc:"Sorted by {column} descending",thenBy:", then by ",toggleDensity:"Toggle density",toggleFullScreen:"Toggle full screen",toggleSelectAll:"Toggle select all",toggleSelectRow:"Toggle select row",toggleVisibility:"Toggle visibility",ungroupByColumn:"Ungroup by {column}",unpin:"Unpin",unpinAll:"Unpin all"},efn={filterVariant:"text",maxSize:1e3,minSize:40,size:180},M9e={columnDefType:"display",enableClickToCopy:!1,enableColumnActions:!1,enableColumnDragging:!1,enableColumnFilter:!1,enableColumnOrdering:!1,enableEditing:!1,enableGlobalFilter:!1,enableGrouping:!1,enableHiding:!1,enableResizing:!1,enableSorting:!1},tfn=e=>{var t,{aggregationFns:n,autoResetExpanded:r=!1,columnFilterDisplayMode:i="subheader",columnResizeDirection:s,columnResizeMode:o="onChange",createDisplayMode:a="modal",defaultColumn:l,defaultDisplayColumn:u,editDisplayMode:c="modal",enableBatchRowSelection:d=!0,enableBottomToolbar:f=!0,enableColumnActions:h=!0,enableColumnFilters:p=!0,enableColumnOrdering:m=!1,enableColumnPinning:g=!1,enableColumnResizing:y=!1,enableColumnVirtualization:v,enableDensityToggle:w=!0,enableExpandAll:_=!0,enableExpanding:C,enableFacetedValues:S=!1,enableFilterMatchHighlighting:T=!0,enableFilters:k=!0,enableFullScreenToggle:I=!0,enableGlobalFilter:R=!0,enableGlobalFilterRankedResults:P=!0,enableGrouping:N=!1,enableHeaderActionsHoverReveal:$=!1,enableHiding:O=!0,enableMultiRowSelection:j=!0,enableMultiSort:B=!0,enablePagination:H=!0,enableRowPinning:q=!1,enableRowSelection:Y=!1,enableRowVirtualization:V,enableSelectAll:L=!0,enableSorting:z=!0,enableStickyHeader:U=!1,enableTableFooter:G=!0,enableTableHead:Q=!0,enableToolbarInternalActions:ne=!0,enableTopToolbar:ue=!0,filterFns:se,icons:ae,layoutMode:he,localization:ie,manualFiltering:le,manualGrouping:Ee,manualPagination:X,manualSorting:fe,paginationDisplayMode:de="default",positionActionsColumn:te="first",positionCreatingRow:ee="top",positionExpandColumn:me="first",positionGlobalFilter:Re="right",positionPagination:Te="bottom",positionToolbarAlertBanner:we="top",positionToolbarDropZone:$e="top",rowNumberDisplayMode:Ae="static",rowPinningDisplayMode:Oe="sticky",selectAllMode:xe="page",sortingFns:je}=e,Ue=Ln(e,["aggregationFns","autoResetExpanded","columnFilterDisplayMode","columnResizeDirection","columnResizeMode","createDisplayMode","defaultColumn","defaultDisplayColumn","editDisplayMode","enableBatchRowSelection","enableBottomToolbar","enableColumnActions","enableColumnFilters","enableColumnOrdering","enableColumnPinning","enableColumnResizing","enableColumnVirtualization","enableDensityToggle","enableExpandAll","enableExpanding","enableFacetedValues","enableFilterMatchHighlighting","enableFilters","enableFullScreenToggle","enableGlobalFilter","enableGlobalFilterRankedResults","enableGrouping","enableHeaderActionsHoverReveal","enableHiding","enableMultiRowSelection","enableMultiSort","enablePagination","enableRowPinning","enableRowSelection","enableRowVirtualization","enableSelectAll","enableSorting","enableStickyHeader","enableTableFooter","enableTableHead","enableToolbarInternalActions","enableTopToolbar","filterFns","icons","layoutMode","localization","manualFiltering","manualGrouping","manualPagination","manualSorting","paginationDisplayMode","positionActionsColumn","positionCreatingRow","positionExpandColumn","positionGlobalFilter","positionPagination","positionToolbarAlertBanner","positionToolbarDropZone","rowNumberDisplayMode","rowPinningDisplayMode","selectAllMode","sortingFns"]);const nt=Ru();return ae=A.useMemo(()=>Object.assign(Object.assign({},Jdn),ae),[ae]),ie=A.useMemo(()=>Object.assign(Object.assign({},Zdn),ie),[ie]),n=A.useMemo(()=>Object.assign(Object.assign({},Qdn),n),[]),se=A.useMemo(()=>Object.assign(Object.assign({},Sdn),se),[]),je=A.useMemo(()=>Object.assign(Object.assign({},Kcn),je),[]),l=A.useMemo(()=>Object.assign(Object.assign({},efn),l),[l]),u=A.useMemo(()=>Object.assign(Object.assign({},M9e),u),[u]),[v,V]=A.useMemo(()=>[v,V],[]),s||(s=nt.dir||"ltr"),he=he||(y?"grid-no-grow":"semantic"),he==="semantic"&&(V||v)&&(he="grid"),V&&(U=!0),H===!1&&X===void 0&&(X=!0),!((t=Ue.data)===null||t===void 0)&&t.length||(le=!0,Ee=!0,X=!0,fe=!0),Object.assign({aggregationFns:n,autoResetExpanded:r,columnFilterDisplayMode:i,columnResizeDirection:s,columnResizeMode:o,createDisplayMode:a,defaultColumn:l,defaultDisplayColumn:u,editDisplayMode:c,enableBatchRowSelection:d,enableBottomToolbar:f,enableColumnActions:h,enableColumnFilters:p,enableColumnOrdering:m,enableColumnPinning:g,enableColumnResizing:y,enableColumnVirtualization:v,enableDensityToggle:w,enableExpandAll:_,enableExpanding:C,enableFacetedValues:S,enableFilterMatchHighlighting:T,enableFilters:k,enableFullScreenToggle:I,enableGlobalFilter:R,enableGlobalFilterRankedResults:P,enableGrouping:N,enableHeaderActionsHoverReveal:$,enableHiding:O,enableMultiRowSelection:j,enableMultiSort:B,enablePagination:H,enableRowPinning:q,enableRowSelection:Y,enableRowVirtualization:V,enableSelectAll:L,enableSorting:z,enableStickyHeader:U,enableTableFooter:G,enableTableHead:Q,enableToolbarInternalActions:ne,enableTopToolbar:ue,filterFns:se,getCoreRowModel:run(),getExpandedRowModel:C||N?iun():void 0,getFacetedMinMaxValues:S?sun():void 0,getFacetedRowModel:S?lun():void 0,getFacetedUniqueValues:S?uun():void 0,getFilteredRowModel:p||R||k?cun():void 0,getGroupedRowModel:N?dun():void 0,getPaginationRowModel:H?hun():void 0,getSortedRowModel:z?pun():void 0,getSubRows:it=>it?.subRows,icons:ae,layoutMode:he,localization:ie,manualFiltering:le,manualGrouping:Ee,manualPagination:X,manualSorting:fe,paginationDisplayMode:de,positionActionsColumn:te,positionCreatingRow:ee,positionExpandColumn:me,positionGlobalFilter:Re,positionPagination:Te,positionToolbarAlertBanner:we,positionToolbarDropZone:$e,rowNumberDisplayMode:Ae,rowPinningDisplayMode:Oe,selectAllMode:xe,sortingFns:je},Ue)},BU={children:null,style:{minWidth:0,padding:0,width:0}},nfn=e=>Object.assign(Object.assign(Object.assign(Object.assign({},ow({id:"mrt-row-spacer",size:0,tableOptions:e})),{grow:!0}),M9e),{mantineTableBodyCellProps:BU,mantineTableFooterCellProps:BU,mantineTableHeadCellProps:BU}),rfn=e=>{const{getIsSomeRowsPinned:t,getPrePaginationRowModel:n,getState:r,options:{enablePagination:i,enableRowPinning:s,rowCount:o}}=e,{columnOrder:a,density:l,globalFilter:u,isFullScreen:c,isLoading:d,pagination:f,showSkeletons:h,sorting:p}=r(),m=e.options.columns.length,g=o??n().rows.length,y=A.useReducer(()=>({}),{})[1],v=A.useRef(),w=A.useRef();A.useEffect(()=>{typeof window<"u"&&(v.current=document.body.style.height)},[]),A.useEffect(()=>{if(typeof window<"u")if(c)w.current=document.body.getBoundingClientRect().top,document.body.style.height="100dvh";else{if(document.body.style.height=v.current,!w.current)return;window.scrollTo({behavior:"instant",top:-1*w.current})}},[c]),A.useEffect(()=>{m!==a.length&&e.setColumnOrder(qie(e.options))},[m]),A.useEffect(()=>{if(!i||d||h)return;const{pageIndex:C,pageSize:S}=f,T=C*S;T>=g&&T>0&&e.setPageIndex(Math.ceil(g/S)-1)},[g]);const _=A.useRef(p);A.useEffect(()=>{p.length&&(_.current=p)},[p]),A.useEffect(()=>{f9e(e)&&(u?e.setSorting([]):e.setSorting(()=>_.current||[]))},[u]),A.useEffect(()=>{s&&t()&&setTimeout(()=>{y()},150)},[l])},ifn=e=>{var t,n,r,i,s,o,a,l,u,c,d,f,h,p,m,g,y,v,w,_,C,S,T,k,I,R,P,N,$,O,j,B,H;const q=A.useRef(null),Y=A.useRef(null),V=A.useRef({}),L=A.useRef({}),z=A.useRef(null),U=A.useRef(null),G=A.useRef({}),Q=A.useRef(null),ne=A.useRef(null),ue=A.useRef(null),se=A.useRef(null),ae=A.useMemo(()=>{var tr,pn,Qn;const Cr=(tr=e.initialState)!==null&&tr!==void 0?tr:{};return Cr.columnOrder=(pn=Cr.columnOrder)!==null&&pn!==void 0?pn:qie(Object.assign(Object.assign({},e),{state:Object.assign(Object.assign({},e.initialState),e.state)})),Cr.globalFilterFn=(Qn=e.globalFilterFn)!==null&&Qn!==void 0?Qn:"fuzzy",Cr},[]);e.initialState=ae;const[he,ie]=A.useState((t=ae.creatingRow)!==null&&t!==void 0?t:null),[le,Ee]=A.useState(()=>Object.assign({},...c5(e.columns).map(tr=>{var pn,Qn,Cr,Pr;return{[a_(tr)]:tr.filterFn instanceof Function?(pn=tr.filterFn.name)!==null&&pn!==void 0?pn:"custom":(Pr=(Qn=tr.filterFn)!==null&&Qn!==void 0?Qn:(Cr=ae?.columnFilterFns)===null||Cr===void 0?void 0:Cr[a_(tr)])!==null&&Pr!==void 0?Pr:udn(tr)}}))),[X,fe]=A.useState((n=ae.columnOrder)!==null&&n!==void 0?n:[]),[de,te]=A.useState((r=ae.columnSizingInfo)!==null&&r!==void 0?r:{}),[ee,me]=A.useState((i=ae?.density)!==null&&i!==void 0?i:"md"),[Re,Te]=A.useState((s=ae.draggingColumn)!==null&&s!==void 0?s:null),[we,$e]=A.useState((o=ae.draggingRow)!==null&&o!==void 0?o:null),[Ae,Oe]=A.useState((a=ae.editingCell)!==null&&a!==void 0?a:null),[xe,je]=A.useState((l=ae.editingRow)!==null&&l!==void 0?l:null),[Ue,nt]=A.useState((u=ae.globalFilterFn)!==null&&u!==void 0?u:"fuzzy"),[it,wt]=A.useState((c=ae.grouping)!==null&&c!==void 0?c:[]),[Zt,Qt]=A.useState((d=ae.hoveredColumn)!==null&&d!==void 0?d:null),[Mn,jt]=A.useState((f=ae.hoveredRow)!==null&&f!==void 0?f:null),[gn,Kn]=A.useState((h=ae?.isFullScreen)!==null&&h!==void 0?h:!1),[Un,Dr]=A.useState((p=ae?.pagination)!==null&&p!==void 0?p:{pageIndex:0,pageSize:10}),[Jn,br]=A.useState((m=ae?.showAlertBanner)!==null&&m!==void 0?m:!1),[Rn,fn]=A.useState((g=ae?.showColumnFilters)!==null&&g!==void 0?g:!1),[sr,ui]=A.useState((y=ae?.showGlobalFilter)!==null&&y!==void 0?y:!1),[_r,In]=A.useState((v=ae?.showToolbarDropZone)!==null&&v!==void 0?v:!1);e.state=Object.assign({columnFilterFns:le,columnOrder:X,columnSizingInfo:de,creatingRow:he,density:ee,draggingColumn:Re,draggingRow:we,editingCell:Ae,editingRow:xe,globalFilterFn:Ue,grouping:it,hoveredColumn:Zt,hoveredRow:Mn,isFullScreen:gn,pagination:Un,showAlertBanner:Jn,showColumnFilters:Rn,showGlobalFilter:sr,showToolbarDropZone:_r},e.state);const ht=e,pr=A.useRef([]);ht.columns=ht.state.columnSizingInfo.isResizingColumn||ht.state.draggingColumn||ht.state.draggingRow?pr.current:y9e({columnDefs:[...[w9e(ht)&&Kdn(ht),x9e(ht)&&Wdn(ht),Hie(ht)&&qdn(ht),Vie(ht)&&Gdn(ht),_9e(ht)&&Xdn(ht),C9e(ht)&&Ydn(ht)].filter(Boolean),...ht.columns,...[E9e(ht)&&nfn(ht)].filter(Boolean)],tableOptions:ht}),pr.current=ht.columns,ht.data=A.useMemo(()=>(ht.state.isLoading||ht.state.showSkeletons)&&!ht.data.length?[...Array(Math.min(ht.state.pagination.pageSize,20)).fill(null)].map(()=>Object.assign({},...c5(ht.columns).map(tr=>({[a_(tr)]:null})))):ht.data,[ht.data,ht.state.isLoading,ht.state.showSkeletons]);const Yt=mun(Object.assign(Object.assign({onColumnOrderChange:fe,onColumnSizingInfoChange:te,onGroupingChange:wt,onPaginationChange:Dr},ht),{globalFilterFn:(w=ht.filterFns)===null||w===void 0?void 0:w[Ue??"fuzzy"]}));return Yt.refs={bottomToolbarRef:Y,editInputRefs:V,filterInputRefs:L,lastSelectedRowId:q,searchInputRef:z,tableContainerRef:U,tableFooterRef:se,tableHeadCellRefs:G,tableHeadRef:ue,tablePaperRef:Q,topToolbarRef:ne},Yt.setCreatingRow=tr=>{let pn=tr;tr===!0&&(pn=Hdn(Yt)),ht?.onCreatingRowChange?ht.onCreatingRowChange(pn):ie(pn)},Yt.setColumnFilterFns=(_=ht.onColumnFilterFnsChange)!==null&&_!==void 0?_:Ee,Yt.setDensity=(C=ht.onDensityChange)!==null&&C!==void 0?C:me,Yt.setDraggingColumn=(S=ht.onDraggingColumnChange)!==null&&S!==void 0?S:Te,Yt.setDraggingRow=(T=ht.onDraggingRowChange)!==null&&T!==void 0?T:$e,Yt.setEditingCell=(k=ht.onEditingCellChange)!==null&&k!==void 0?k:Oe,Yt.setEditingRow=(I=ht.onEditingRowChange)!==null&&I!==void 0?I:je,Yt.setGlobalFilterFn=(R=ht.onGlobalFilterFnChange)!==null&&R!==void 0?R:nt,Yt.setHoveredColumn=(P=ht.onHoveredColumnChange)!==null&&P!==void 0?P:Qt,Yt.setHoveredRow=(N=ht.onHoveredRowChange)!==null&&N!==void 0?N:jt,Yt.setIsFullScreen=($=ht.onIsFullScreenChange)!==null&&$!==void 0?$:Kn,Yt.setShowAlertBanner=(O=ht.onShowAlertBannerChange)!==null&&O!==void 0?O:br,Yt.setShowColumnFilters=(j=ht.onShowColumnFiltersChange)!==null&&j!==void 0?j:fn,Yt.setShowGlobalFilter=(B=ht.onShowGlobalFilterChange)!==null&&B!==void 0?B:ui,Yt.setShowToolbarDropZone=(H=ht.onShowToolbarDropZoneChange)!==null&&H!==void 0?H:In,rfn(Yt),Yt},sL=e=>ifn(tfn(e));var sfn={root:"MRT_TablePaper-module_root__q0v5L"},zU={root:"MRT_TableContainer-module_root__JIsGB","root-sticky":"MRT_TableContainer-module_root-sticky__uC4qx","root-fullscreen":"MRT_TableContainer-module_root-fullscreen__aM8Jg"},$be={root:"MRT_Table-module_root__ms2uS","root-grid":"MRT_Table-module_root-grid__2Pynz"};const ofn=e=>{var t,n,r,i;const{getLeftLeafColumns:s,getRightLeafColumns:o,getState:a,getVisibleLeafColumns:l,options:{columnVirtualizerInstanceRef:u,columnVirtualizerOptions:c,enableColumnPinning:d,enableColumnVirtualization:f},refs:{tableContainerRef:h}}=e,{columnPinning:p,draggingColumn:m}=a();if(!f)return;const g=zt(c,{table:e}),y=l(),[v,w]=A.useMemo(()=>d?[s().map(R=>R.getPinnedIndex()),o().map(R=>y.length-R.getPinnedIndex()-1).sort((R,P)=>R-P)]:[[],[]],[y.length,p,d]),_=v.length,C=w.length,S=A.useMemo(()=>m?.id?y.findIndex(R=>R.id===m?.id):void 0,[m?.id]),T=Gje(Object.assign({count:y.length,estimateSize:R=>y[R].getSize(),getScrollElement:()=>h.current,horizontal:!0,overscan:3,rangeExtractor:A.useCallback(R=>{const P=p9e(R,S);return!_&&!C?P:[...new Set([...v,...P,...w])]},[v,w,S])},g)),k=T.getVirtualItems();T.virtualColumns=k;const I=k.length;if(I){const R=T.getTotalSize(),P=((t=k[_])===null||t===void 0?void 0:t.start)||0,N=((n=k[v.length-1])===null||n===void 0?void 0:n.end)||0,$=((r=k[I-C])===null||r===void 0?void 0:r.start)||0,O=((i=k[I-C-1])===null||i===void 0?void 0:i.end)||0;T.virtualPaddingLeft=P-N,T.virtualPaddingRight=R-O-(C?R-$:0)}return u&&(u.current=T),T},afn=e=>{var{table:t}=e,n=Ln(e,["table"]);const{getFlatHeaders:r,getState:i,options:{columns:s,enableTableFooter:o,enableTableHead:a,layoutMode:l,mantineTableProps:u,memoMode:c}}=t,{columnSizing:d,columnSizingInfo:f,columnVisibility:h,density:p}=i(),m=Object.assign(Object.assign({highlightOnHover:!0,horizontalSpacing:p,verticalSpacing:p},zt(u,{table:t})),n),g=A.useMemo(()=>{const C=r(),S={};for(let T=0;T<C.length;T++){const k=C[T],I=k.getSize();S[`--header-${Cf(k.id)}-size`]=I,S[`--col-${Cf(k.column.id)}-size`]=I}return S},[s,d,f,h]),v={columnVirtualizer:ofn(t),table:t},{colorScheme:w}=eVe(),{stripedColor:_}=m;return b.jsxs(Sn,Object.assign({className:Lt("mrt-table",$be.root,l?.startsWith("grid")&&$be["root-grid"],m.className)},m,{__vars:Object.assign(Object.assign(Object.assign({},g),{"--mrt-striped-row-background-color":_,"--mrt-striped-row-hover-background-color":_?w==="dark"?ZUe(_,.08):Z2(_,.12):void 0}),m.__vars),children:[a&&b.jsx(Vdn,Object.assign({},v)),c==="table-body"||f.isResizingColumn?b.jsx(ndn,Object.assign({},v,{tableProps:m})):b.jsx(m9e,Object.assign({},v,{tableProps:m})),o&&b.jsx(Cdn,Object.assign({},v))]}))},lfn=e=>{var t,{open:n,table:r}=e,i=Ln(e,["open","table"]);const{getState:s,options:{mantineCreateRowModalProps:o,mantineEditRowModalProps:a,onCreatingRowCancel:l,onEditingRowCancel:u,renderCreateRowModalContent:c,renderEditRowModalContent:d},setCreatingRow:f,setEditingRow:h}=r,{creatingRow:p,editingRow:m}=s(),g=p??m,y={row:g,table:r},v=Object.assign(Object.assign(Object.assign({},zt(a,y)),p&&zt(o,y)),i),w=g.getAllCells().filter(C=>C.column.columnDef.columnDefType==="data").map(C=>b.jsx(tL,{cell:C,table:r},C.id)),_=()=>{var C;p?(l?.({row:g,table:r}),f(null)):(u?.({row:g,table:r}),h(null)),g._valuesCache={},(C=v.onClose)===null||C===void 0||C.call(v)};return A.createElement(Ti,Object.assign({opened:n,withCloseButton:!1},v,{key:g.id,onClose:_}),(t=p&&c?.({internalEditComponents:w,row:g,table:r})||d?.({internalEditComponents:w,row:g,table:r}))!==null&&t!==void 0?t:b.jsxs(b.Fragment,{children:[b.jsx("form",{onSubmit:C=>C.preventDefault(),children:b.jsx(zn,{gap:"lg",pb:24,pt:16,children:w})}),b.jsx(At,{justify:"flex-end",children:b.jsx(g9e,{row:g,table:r,variant:"text"})})]}))},ufn=typeof window<"u"?A.useLayoutEffect:A.useEffect,cfn=e=>{var{table:t}=e,n=Ln(e,["table"]);const{getState:r,options:{createDisplayMode:i,editDisplayMode:s,enableStickyHeader:o,mantineLoadingOverlayProps:a,mantineTableContainerProps:l},refs:{bottomToolbarRef:u,tableContainerRef:c,topToolbarRef:d}}=t,{creatingRow:f,editingRow:h,isFullScreen:p,isLoading:m,showLoadingOverlay:g}=r(),[y,v]=A.useState(0),w=Object.assign(Object.assign({},zt(l,{table:t})),n),_=zt(a,{table:t});ufn(()=>{var T,k,I,R;const P=typeof document<"u"&&(k=(T=d.current)===null||T===void 0?void 0:T.offsetHeight)!==null&&k!==void 0?k:0,N=typeof document<"u"&&(R=(I=u?.current)===null||I===void 0?void 0:I.offsetHeight)!==null&&R!==void 0?R:0;v(P+N)});const C=i==="modal"&&f,S=s==="modal"&&h;return b.jsxs(De,Object.assign({},w,{__vars:Object.assign({"--mrt-top-toolbar-height":`${y}`},w?.__vars),className:Lt("mrt-table-container",zU.root,o&&zU["root-sticky"],p&&zU["root-fullscreen"],w?.className),ref:T=>{T&&(c.current=T,w?.ref&&(w.ref.current=T))},children:[b.jsx($l,Object.assign({visible:m||g,zIndex:2},_)),b.jsx(afn,{table:t}),(C||S)&&b.jsx(lfn,{open:!0,table:t})]}))};var F9e={"common-toolbar-styles":"common-styles-module_common-toolbar-styles__DnjR8"},X2={root:"MRT_BottomToolbar-module_root__VDeWo","root-fullscreen":"MRT_BottomToolbar-module_root-fullscreen__esE15","custom-toolbar-container":"MRT_BottomToolbar-module_custom-toolbar-container__XcDRF","paginator-container":"MRT_BottomToolbar-module_paginator-container__A3eWY","paginator-container-alert-banner":"MRT_BottomToolbar-module_paginator-container-alert-banner__gyqtO"},Mbe={collapse:"MRT_ProgressBar-module_collapse__rOLJH","collapse-top":"MRT_ProgressBar-module_collapse-top__oCi0h"};const L9e=e=>{var{isTopToolbar:t,table:n}=e,r=Ln(e,["isTopToolbar","table"]);const{getState:i,options:{mantineProgressProps:s}}=n,{isSaving:o,showProgressBars:a}=i(),l=Object.assign(Object.assign({},zt(s,{isTopToolbar:t,table:n})),r);return b.jsx(kp,{className:Lt(Mbe.collapse,t&&Mbe["collapse-top"]),in:o||a,children:b.jsx(Tb,Object.assign({animated:!0,"aria-busy":"true","aria-label":"Loading",radius:0,value:100},l))})};var UU={root:"MRT_TablePagination-module_root__yZ8pm",pagesize:"MRT_TablePagination-module_pagesize__-vmTn","with-top-margin":"MRT_TablePagination-module_with-top-margin__aM5-m"};const Fbe=[5,10,15,20,25,30,50,100].map(e=>e.toString()),j9e=e=>{var t,{position:n="bottom",table:r}=e,i=Ln(e,["position","table"]);const{getPrePaginationRowModel:s,getState:o,options:{enableToolbarInternalActions:a,icons:{IconChevronLeft:l,IconChevronLeftPipe:u,IconChevronRight:c,IconChevronRightPipe:d},localization:f,mantinePaginationProps:h,paginationDisplayMode:p,rowCount:m},setPageIndex:g,setPageSize:y}=r,{pagination:{pageIndex:v=0,pageSize:w=10},showGlobalFilter:_}=o(),C=Object.assign(Object.assign({},zt(h,{table:r})),i),S=m??s().rows.length,T=Math.ceil(S/w),k=T>2,I=v*w,R=Math.min(v*w+w,S),P=C??{},{rowsPerPageOptions:N=Fbe,showRowsPerPage:$=!0,withEdges:O=k}=P,j=Ln(P,["rowsPerPageOptions","showRowsPerPage","withEdges"]),B=n==="top"&&a&&!_;return b.jsxs(De,{className:Lt("mrt-table-pagination",UU.root,B&&UU["with-top-margin"]),children:[C?.showRowsPerPage!==!1&&b.jsxs(An,{gap:"xs",children:[b.jsx(He,{id:"rpp-label",children:f.rowsPerPage}),b.jsx(Km,{allowDeselect:!1,"aria-labelledby":"rpp-label",className:UU.pagesize,data:(t=C?.rowsPerPageOptions)!==null&&t!==void 0?t:Fbe,onChange:H=>y(+H),value:w.toString()})]}),p==="pages"?b.jsx(zf,Object.assign({firstIcon:u,lastIcon:d,nextIcon:c,onChange:H=>g(H-1),previousIcon:l,total:T,value:v+1,withEdges:O},j)):p==="default"?b.jsxs(b.Fragment,{children:[b.jsx(He,{children:`${R===0?0:(I+1).toLocaleString()}-${R.toLocaleString()} ${f.of} ${S.toLocaleString()}`}),b.jsxs(An,{gap:6,children:[O&&b.jsx(Tn,{"aria-label":f.goToFirstPage,color:"gray",disabled:v<=0,onClick:()=>g(0),variant:"subtle",children:b.jsx(u,{})}),b.jsx(Tn,{"aria-label":f.goToPreviousPage,color:"gray",disabled:v<=0,onClick:()=>g(v-1),variant:"subtle",children:b.jsx(l,{})}),b.jsx(Tn,{"aria-label":f.goToNextPage,color:"gray",disabled:R>=S,onClick:()=>g(v+1),variant:"subtle",children:b.jsx(c,{})}),O&&b.jsx(Tn,{"aria-label":f.goToLastPage,color:"gray",disabled:R>=S,onClick:()=>g(T-1),variant:"subtle",children:b.jsx(d,{})})]})]}):null]})};var Lbe={root:"MRT_ToolbarDropZone-module_root__eGTXb",hovered:"MRT_ToolbarDropZone-module_hovered__g7PeJ"};const B9e=e=>{var{table:t}=e,n=Ln(e,["table"]);const{getState:r,options:{enableGrouping:i,localization:s},setHoveredColumn:o,setShowToolbarDropZone:a}=t,{draggingColumn:l,grouping:u,hoveredColumn:c,showToolbarDropZone:d}=r(),f=h=>{o({id:"drop-zone"})};return A.useEffect(()=>{var h;((h=t.options.state)===null||h===void 0?void 0:h.showToolbarDropZone)!==void 0&&a(!!i&&!!l&&l.columnDef.enableGrouping!==!1&&!u.includes(l.id))},[i,l,u]),b.jsx(bd,{mounted:d,transition:"fade",children:()=>{var h,p;return b.jsx(At,Object.assign({className:Lt("mrt-toolbar-dropzone",Lbe.root,c?.id==="drop-zone"&&Lbe.hovered),onDragEnter:f},n,{children:b.jsx(He,{children:s.dropToGroupBy.replace("{column}",(p=(h=l?.columnDef)===null||h===void 0?void 0:h.header)!==null&&p!==void 0?p:"")})}))}})},dfn=e=>{var{table:t}=e,n=Ln(e,["table"]);const{getState:r,options:{enablePagination:i,mantineBottomToolbarProps:s,positionPagination:o,positionToolbarAlertBanner:a,positionToolbarDropZone:l,renderBottomToolbarCustomActions:u},refs:{bottomToolbarRef:c}}=t,{isFullScreen:d}=r(),f=NT("(max-width: 720px)"),h=Object.assign(Object.assign({},zt(s,{table:t})),n),p=f||!!u;return b.jsxs(De,Object.assign({},h,{className:Lt("mrt-bottom-toolbar",X2.root,F9e["common-toolbar-styles"],d&&X2["root-fullscreen"],h?.className),ref:m=>{m&&(c.current=m,h?.ref&&(h.ref.current=m))},children:[b.jsx(L9e,{isTopToolbar:!1,table:t}),a==="bottom"&&b.jsx(Kie,{stackAlertBanner:p,table:t}),["both","bottom"].includes(l??"")&&b.jsx(B9e,{table:t}),b.jsxs(De,{className:X2["custom-toolbar-container"],children:[u?u({table:t}):b.jsx("span",{}),b.jsx(De,{className:Lt(X2["paginator-container"],p&&X2["paginator-container-alert-banner"]),children:i&&["both","bottom"].includes(o??"")&&b.jsx(j9e,{position:"bottom",table:t})})]})]}))};var mP={root:"MRT_TopToolbar-module_root__r4-V9","root-fullscreen":"MRT_TopToolbar-module_root-fullscreen__3itT8","actions-container":"MRT_TopToolbar-module_actions-container__-uL0u","actions-container-stack-alert":"MRT_TopToolbar-module_actions-container-stack-alert__OYDL6"},ffn={root:"MRT_ToolbarInternalButtons-module_root__NKoUG"};const hfn=e=>{var t,{table:n}=e,r=Ln(e,["table"]);const{options:{columnFilterDisplayMode:i,enableColumnFilters:s,enableColumnOrdering:o,enableColumnPinning:a,enableDensityToggle:l,enableFilters:u,enableFullScreenToggle:c,enableGlobalFilter:d,enableHiding:f,initialState:h,renderToolbarInternalActions:p}}=n;return b.jsx(At,Object.assign({},r,{className:Lt("mrt-toolbar-internal-buttons",ffn.root,r?.className),children:(t=p?.({table:n}))!==null&&t!==void 0?t:b.jsxs(b.Fragment,{children:[u&&d&&!h?.showGlobalFilter&&b.jsx(vdn,{table:n}),u&&s&&i!=="popover"&&b.jsx(gdn,{table:n}),(f||o||a)&&b.jsx(hdn,{table:n}),l&&b.jsx(mdn,{table:n}),c&&b.jsx(ydn,{table:n})]})}))},pfn=e=>{var t,{table:n}=e,r=Ln(e,["table"]);const{getState:i,options:{enableGlobalFilter:s,enablePagination:o,enableToolbarInternalActions:a,mantineTopToolbarProps:l,positionGlobalFilter:u,positionPagination:c,positionToolbarAlertBanner:d,positionToolbarDropZone:f,renderTopToolbarCustomActions:h},refs:{topToolbarRef:p}}=n,{isFullScreen:m,showGlobalFilter:g}=i(),y=NT("(max-width:720px)"),v=NT("(max-width:1024px)"),w=Object.assign(Object.assign({},zt(l,{table:n})),r),_=y||!!h||g&&v,C={style:v?void 0:{zIndex:3},table:n};return b.jsxs(De,Object.assign({},w,{className:Lt(F9e["common-toolbar-styles"],mP.root,m&&mP["root-fullscreen"],w?.className),ref:S=>{S&&(p.current=S,w?.ref&&(w.ref.current=S))},children:[d==="top"&&b.jsx(Kie,{stackAlertBanner:_,table:n}),["both","top"].includes(f??"")&&b.jsx(B9e,{table:n}),b.jsxs(At,{className:Lt(mP["actions-container"],_&&mP["actions-container-stack-alert"]),children:[s&&u==="left"&&b.jsx(jU,Object.assign({},C)),(t=h?.({table:n}))!==null&&t!==void 0?t:b.jsx("span",{}),a?b.jsxs(At,{justify:"end",wrap:"wrap-reverse",children:[s&&u==="right"&&b.jsx(jU,Object.assign({},C)),b.jsx(hfn,{table:n})]}):s&&u==="right"&&b.jsx(jU,Object.assign({},C))]}),o&&["both","top"].includes(c??"")&&b.jsx(At,{justify:"end",children:b.jsx(j9e,{position:"top",table:n})}),b.jsx(L9e,{isTopToolbar:!0,table:n})]}))},mfn=e=>{var t,n,{table:r}=e,i=Ln(e,["table"]);const{getState:s,options:{enableBottomToolbar:o,enableTopToolbar:a,mantinePaperProps:l,renderBottomToolbar:u,renderTopToolbar:c},refs:{tablePaperRef:d}}=r,{isFullScreen:f}=s(),h=Object.assign(Object.assign({},zt(l,{table:r})),i);return b.jsxs(vd,Object.assign({shadow:"xs",withBorder:!0},h,{className:Lt("mrt-table-paper",sfn.root,f&&"mrt-table-paper-fullscreen",h?.className),ref:p=>{d.current=p,h?.ref&&(h.ref.current=p)},style:p=>Object.assign(Object.assign({zIndex:f?200:void 0},zt(h?.style,p)),f?{border:0,borderRadius:0,bottom:0,height:"100vh",left:0,margin:0,maxHeight:"100vh",maxWidth:"100vw",padding:0,position:"fixed",right:0,top:0,width:"100vw"}:null),children:[a&&((t=zt(c,{table:r}))!==null&&t!==void 0?t:b.jsx(pfn,{table:r})),b.jsx(cfn,{table:r}),o&&((n=zt(u,{table:r}))!==null&&n!==void 0?n:b.jsx(dfn,{table:r}))]}))},gfn=e=>e.table!==void 0,Xie=e=>{let t;return gfn(e)?t=e.table:t=sL(e),b.jsx(mfn,{table:t})};function yfn(e){return{total:e.length,completed:e.filter(t=>t.completed&&!t.rejected).length,inProgress:e.filter(t=>!t.completed&&!t.rejected).length,rejected:e.filter(t=>t.rejected).length}}function vfn(e){const n=e.filter(s=>!s.rejected).map(s=>{const o=Object.values(s.answers).filter(a=>a.startTime).sort((a,l)=>a.startTime-l.startTime);return{startTime:o.length>0?o[0].startTime:void 0,endTime:o.length>0?o[o.length-1].endTime:void 0}}),r=n.map(s=>s.startTime).filter(s=>s!=null),i=n.map(s=>s.endTime).filter(s=>s!=null);return{startDate:r.length>0?new Date(Math.min(...r)):null,endDate:i.length>0?new Date(Math.max(...i)):null}}function bfn(e){const n=e.filter(r=>!r.rejected).reduce((r,i)=>{const s=Object.values(i.answers).filter(o=>o.endTime!==-1).map(o=>({totalTime:(o.endTime-o.startTime)/1e3,cleanTime:(()=>{const a=gZ(o);return a?a/1e3:0})()}));return s.length>0&&(r.count+=s.length,r.totalTimeSum+=s.reduce((o,a)=>o+a.totalTime,0),r.cleanTimeSum+=s.reduce((o,a)=>o+a.cleanTime,0)),r},{totalTimeSum:0,cleanTimeSum:0,count:0});return{avgTime:n.count>0?n.totalTimeSum/n.count:NaN,avgCleanTime:n.count>0?n.cleanTimeSum/n.count:NaN}}function wfn(e){const t=e.filter(s=>!s.rejected),n=t.some(s=>Object.values(s.answers).some(o=>o.correctAnswer&&o.correctAnswer.length>0));let r=0;const i=t.reduce((s,o)=>{const a=Object.values(o.answers).filter(l=>l.correctAnswer&&l.correctAnswer.length>0);return a.length>0&&a.forEach(l=>{r+=l.correctAnswer.length,Ub(l.answer,l.correctAnswer)&&(s.correctSum+=l.correctAnswer.length)}),s},{correctSum:0});return n?i.correctSum/r*100:NaN}function z9e(e){const t=e.filter(r=>!r.rejected),n={};return t.forEach(r=>{const i=new Set;Object.entries(r.answers).forEach(([s,o])=>{const a=`${s.split("_")[0]}`;if(n[a]||(n[a]={name:a,avgTime:0,avgCleanTime:0,participantCount:0,correctness:0}),o.endTime===-1)return;const l=n[a],u=(o.endTime-o.startTime)/1e3,c=gZ(o),d=c?c/1e3:0;if(l.avgTime+=u,l.avgCleanTime+=d,i.has(a)||(i.add(a),l.participantCount+=1),o.correctAnswer&&o.correctAnswer.length>0){const f=Ub(o.answer,o.correctAnswer);l.correctness+=f?1:0}})}),Object.values(n).map(r=>{const i=Object.values(t).flatMap(a=>Object.keys(a.answers).filter(l=>l.startsWith(r.name)&&a.answers[l]?.correctAnswer?.length>0)),s=Object.values(t).reduce((a,l)=>a+Object.keys(l.answers).filter(u=>u.startsWith(r.name)&&l.answers[u].endTime!==-1).length,0),o=i.length>0;return{...r,avgTime:s?r.avgTime/s:0,avgCleanTime:s?r.avgCleanTime/s:0,correctness:o?r.correctness/i.length*100:NaN}})}function U9e(e){const t=e.filter(r=>!r.rejected),n={};return t.forEach(r=>{Object.entries(r.answers).forEach(([i,s])=>{const o=i.split("_"),a=o.length===4?o[2]:o[0];if(n[a]||(n[a]={name:a,correctness:0,participantCount:0}),s.endTime===-1)return;const l=n[a];if(l.participantCount+=1,s.correctAnswer&&s.correctAnswer.length>0){const u=Ub(s.answer,s.correctAnswer);l.correctness+=u?1:0}})}),Object.values(n).map(r=>{const i=Object.values(t).some(s=>Object.entries(s.answers).some(([o,a])=>{const l=o.split("_");return(l.length===4?l[2]:l[0])===r.name&&a.correctAnswer&&a.correctAnswer.length>0}));return{...r,correctness:i?r.correctness/r.participantCount*100:NaN}})}function V9e(e){return e.type==="slider"?e.options.map(t=>`${t.label} (${t.value})`).join(", "):"options"in e?e.options.join(", "):"answerOptions"in e&&"questionOptions"in e?`Questions: ${e.questionOptions.join(", ")} 
 Answers: ${Array.isArray(e.answerOptions)?e.answerOptions.join(", "):e.answerOptions}`:"numItems"in e?`${e.leftLabel?` ${e.leftLabel} ~ ${e.rightLabel}`:""} (${e.numItems} items)`:"N/A"}const cx=(e,t)=>e==="N/A"?-1:parseFloat(e.replace(t,""))||0;function xfn({visibleParticipants:e}){const t=A.useMemo(()=>z9e(e).map(s=>({component:s.name,participants:s.participantCount,avgTime:Number.isFinite(s.avgTime)?`${s.avgTime.toFixed(1)}s`:"N/A",avgCleanTime:Number.isFinite(s.avgCleanTime)?`${s.avgCleanTime.toFixed(1)}s`:"N/A",correctness:Number.isNaN(s.correctness)?"N/A":`${s.correctness.toFixed(1)}%`})),[e]),n=A.useMemo(()=>[{accessorKey:"component",header:"Component"},{accessorKey:"participants",header:"Participants"},{accessorKey:"avgTime",header:"Avg Time",sortingFn:(i,s)=>{const o=cx(i.original.avgTime,"s"),a=cx(s.original.avgTime,"s");return o-a}},{accessorKey:"avgCleanTime",header:"Avg Clean Time",sortingFn:(i,s)=>{const o=cx(i.original.avgCleanTime,"s"),a=cx(s.original.avgCleanTime,"s");return o-a}},{accessorKey:"correctness",header:"Correctness",sortingFn:(i,s)=>{const o=cx(i.original.correctness,"%"),a=cx(s.original.correctness,"%");return o-a}}],[]),r=sL({columns:n,data:t,enableGlobalFilter:!0,enableColumnFilters:!1,enableSorting:!0,enablePagination:!0,initialState:{pagination:{pageSize:10,pageIndex:0},sorting:[{id:"component",desc:!1}]},mantineSearchTextInputProps:{placeholder:"Search components...",leftSection:b.jsx(jEe,{size:16})},mantinePaperProps:{style:{overflow:"hidden"}},mantineTableContainerProps:{style:{overflow:"auto"}}});return b.jsxs(vd,{shadow:"sm",p:"md",withBorder:!0,children:[b.jsx(qr,{order:4,mb:"md",children:"Component Statistics"}),e.length===0||t.length===0?b.jsx(He,{ta:"center",mb:"md",children:"No data available"}):b.jsx(Xie,{table:r})]})}const jbe=(e,t)=>e==="N/A"?-1:parseFloat(e.replace(t,""))||0;function _fn({visibleParticipants:e,studyConfig:t}){const n=A.useMemo(()=>{const s=U9e(e),o=[];return s.forEach(a=>{const l=t.components[a.name];if(!l)return;const u=Il(l,t).response;u.length!==0&&u.forEach(c=>{const d=Number.isNaN(a.correctness)?"N/A":`${a.correctness.toFixed(1)}%`;o.push({component:a.name,type:c.type,question:c.prompt,options:V9e(c),correctness:d})})}),o},[e,t]),r=A.useMemo(()=>[{accessorKey:"component",header:"Component"},{accessorKey:"type",header:"Type"},{accessorKey:"question",header:"Question"},{accessorKey:"options",header:"Options"},{accessorKey:"correctness",header:"Correctness",sortingFn:(s,o)=>{const a=jbe(s.original.correctness,"%"),l=jbe(o.original.correctness,"%");return a-l}}],[]),i=sL({columns:r,data:n,initialState:{sorting:[{id:"component",desc:!1}]},mantinePaperProps:{style:{overflow:"hidden"}},mantineTableContainerProps:{style:{overflow:"auto"}}});return b.jsxs(vd,{shadow:"sm",p:"md",withBorder:!0,children:[b.jsx(qr,{order:4,mb:"md",children:"Response Statistics"}),e.length===0||n.length===0?b.jsx(He,{ta:"center",mb:"md",children:"No data available"}):b.jsx(Xie,{table:i})]})}function Cfn({visibleParticipants:e,studyConfig:t}){const n=A.useMemo(()=>{if(e.length===0)return null;const r=yfn(e),{avgTime:i,avgCleanTime:s}=bfn(e),{startDate:o,endDate:a}=vfn(e),l=wfn(e),c=z9e(e).map(f=>({component:f.name,participants:f.participantCount,avgTime:Number.isFinite(f.avgTime)?`${f.avgTime.toFixed(1)}s`:"N/A",avgCleanTime:Number.isFinite(f.avgCleanTime)?`${f.avgCleanTime.toFixed(1)}s`:"N/A",correctness:Number.isNaN(f.correctness)?"N/A":`${f.correctness.toFixed(1)}%`})),d=t?(()=>{const f=U9e(e),h=[];return f.forEach(p=>{const m=t.components[p.name];if(!m)return;const g=Il(m,t).response;g.length!==0&&g.forEach(y=>{const v=Number.isNaN(p.correctness)?"N/A":`${p.correctness.toFixed(1)}%`;h.push({component:p.name,type:y.type,question:y.prompt,options:V9e(y),correctness:v})})}),h})():[];return{participantCounts:r,avgTime:i,avgCleanTime:s,startDate:o,endDate:a,correctnessStats:l,responseData:d,componentData:c}},[e,t]);return b.jsxs(zn,{gap:"md",children:[b.jsx(bln,{overviewData:n,mismatchDetails:null}),b.jsxs(An,{align:"flex-start",gap:"md",grow:!0,children:[b.jsx(xfn,{visibleParticipants:e}),b.jsx(_fn,{visibleParticipants:e,studyConfig:t})]})]})}function Efn(e,t){if(!e)return null;if(t?.uiConfig&&t.uiConfig.participantNameField){const[n,r]=t.uiConfig.participantNameField.split("."),i=Object.keys(e.answers).find(s=>s.startsWith(n));if(i)return`${e.answers[i].answer[r]}`}return null}function Sfn({xScale:e,height:t,labelHeight:n=0,scaleStart:r}){return b.jsx("g",{children:b.jsx("line",{stroke:"gray",strokeWidth:1,x1:e(r)+2,x2:e(r)+2,y1:t-45-n,y2:t-25})})}function Tfn(){return A.useCallback((e,t,n)=>{const r=e.split("_").map(s=>Ss(+s)).join("/"),i=`${n}/${r}?participantId=${t}`;window.open(`${Yi}${i}`,"_blank")},[])}const gP=3,dx=25,yP=25,vP=20,Bbe=1,VU=15;function kfn({xScale:e,name:t,height:n,labelHeight:r=0,isCorrect:i,hasCorrect:s,scaleStart:o,scaleEnd:a,incomplete:l,trialOrder:u,participantId:c,studyId:d}){const[f,h]=A.useState(!1),[p,{width:m}]=mf(),g=Tfn();return b.jsxs("g",{onClick:()=>g(u,c,d),onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),style:{cursor:"pointer"},children:[b.jsx("rect",{opacity:1,fill:f?"cornflowerblue":l?"#e9ecef":"lightgray",x:e(o)+Bbe,width:e(a)-e(o)-Bbe*2,y:n-dx,height:dx}),b.jsx("rect",{rx:3,opacity:1,x:e(o)-gP,width:m+gP*2+(s?VU:0),y:n-dx-yP-r,height:vP,fill:"whitesmoke"}),b.jsx("line",{stroke:"black",strokeWidth:1,x1:e(o)-gP,x2:m+e(o)+gP+(s?VU:0),y1:n-dx-yP+vP-r,y2:n-dx-yP+vP-r}),b.jsx("foreignObject",{x:e(o),width:m+(s?VU:0),y:n-dx-yP-r,height:vP,children:b.jsx(So,{style:{width:"fit-content"},children:b.jsxs(An,{wrap:"nowrap",gap:2,children:[b.jsx(He,{lineClamp:1,ref:p,mx:0,style:{width:"fit-content",fontWeight:600},size:"12px",children:t}),l?b.jsx(MEe,{color:"orange",size:"14"}):s?i?b.jsx(dy,{color:"var(--mantine-color-green-6)",style:{marginTop:2,strokeWidth:4},size:"14"}):b.jsx(Jm,{color:"var(--mantine-color-red-6)",style:{marginTop:2,strokeWidth:4},size:14}):""]})})})]})}const HU=25,zbe=8,Q2={left:20,top:20,right:20,bottom:20},Afn=(e,t)=>{const n=e[1].trialOrder.split("_"),r=t[1].trialOrder.split("_");return n[0]===r[0]?+n[1]-+r[1]:+n[0]-+r[0]};function Rfn({participantData:e,width:t,studyId:n,studyConfig:r,maxLength:i}){const s=A.useMemo(()=>{const d=Object.entries(e.answers||{}).filter(f=>f[1].startTime===0);return(Object.entries(e.answers).length-d.length)/Object.entries(e.answers).length},[e.answers]),o=A.useMemo(()=>{const d=Object.values(e.answers||{}).filter(p=>p.startTime).map(p=>[p.startTime,p.endTime]).flat(),f=p4(d);return _u([Q2.left,t*s-(s!==1?0:Q2.right)]).domain([f[0],i?f[0]+i:f[1]]).clamp(!0)},[i,e.answers,s,t]),a=A.useMemo(()=>_u([t*s,t-Q2.right]).domain([0,Object.entries(e.answers||{}).filter(f=>f[1].startTime===0).length]).clamp(!0),[e.answers,s,t]),l=A.useMemo(()=>{const d=Object.entries(e.answers||{}).filter(p=>!!p[1].startTime).sort((p,m)=>p[1].startTime-m[1].startTime);let f=0,h=0;return d.forEach((p,m)=>{const[g,y]=p,v=m>0?d[m-f-1]:null;v&&v[0].length*(zbe+1)+o(v[1].startTime)>o(y.startTime)?f+=1:f=0,f>h&&(h=f)}),(h+1)*HU+Q2.top+Q2.bottom},[e.answers,o]),u=A.useMemo(()=>{let d=0;const f=Object.entries(e.answers||{}).filter(g=>g[1].startTime===0).sort(Afn),p=[...Object.entries(e.answers||{}).filter(g=>!!g[1].startTime).sort((g,y)=>g[1].startTime-y[1].startTime),...f];return p.map((g,y)=>{const v=g[1].startTime===0?a:o,[w,_]=g,C=y>0?p[y-d-1]:null,S=C&&C[1].startTime?o:a,T=C?C[1].startTime?C[1].startTime:f.indexOf(C):0,k=_.startTime?_.startTime:f.indexOf(g),I=_.endTime>0?_.endTime:f.indexOf(g)+1;C&&C[0].length*(zbe+1)+S(T)>v(k)?d+=1:d=0;const R=w.split("_"),P=R.slice(0,R.length-1).join("_"),N=r?.components[P],$=Ub(_.answer,_.correctAnswer),O=!!(N&&N.correctAnswer||_.correctAnswer.length>0);return{line:b.jsx(Sfn,{labelHeight:d*HU,height:l,xScale:v,scaleStart:k},w),label:b.jsx(yt,{withinPortal:!0,position:"bottom-start",px:4,py:0,withArrow:!0,label:b.jsx(zn,{gap:0,children:Object.entries(_.answer).map(j=>{const[B,H]=j,q=N?.correctAnswer?.find(V=>V.id===B)?.answer,Y=H==null||H===""?"N/A":typeof H=="object"?JSON.stringify(H):H;return b.jsx(He,{children:`${B}: ${Y} ${q?`[${typeof q=="object"?JSON.stringify(q):q}]`:""}`},B)})}),children:b.jsx("g",{children:b.jsx(kfn,{incomplete:_.startTime===0,isCorrect:$,hasCorrect:O,labelHeight:d*HU,height:l,name:w,xScale:v,scaleStart:k,scaleEnd:I,trialOrder:_.trialOrder,participantId:e.participantId,studyId:n},w)})},`${w}-tooltip`)}})},[e.answers,e.participantId,a,o,r?.components,l,n]),c=A.useMemo(()=>Object.entries(e.answers||{}).sort((f,h)=>f[1].startTime-h[1].startTime).map(f=>{const[h,p]=f,m=[];let g=[-1,-1],y="visible";if(p.windowEvents)for(let v=0;v<p.windowEvents.length;v+=1)p.windowEvents[v][1]==="visibility"&&(p.windowEvents[v][2]==="hidden"&&y==="visible"?(g=[p.windowEvents[v][0],-1],y="hidden"):p.windowEvents[v][2]==="visible"&&y==="hidden"&&(g[1]=p.windowEvents[v][0],m.push(g),g=[-1,-1],y="visible"));return m.map((v,w)=>b.jsx(yt,{withinPortal:!0,label:"Browsed away",children:b.jsx("rect",{x:o(v[0]),width:o(v[1])-o(v[0]),y:l-5,height:10})},w))}),[o,l,e.answers]);return b.jsx(So,{children:b.jsx(zn,{gap:15,style:{width:"100%"},children:b.jsxs("svg",{style:{width:t,height:l,overflow:"visible"},children:[u.map(d=>d.line),u.map(d=>d.label),c]})})})}function Ifn({metaData:e}){return b.jsx(eX,{w:200,hideLabel:"hide",maxHeight:50,showLabel:"more",children:b.jsxs(zn,{gap:"xs",children:[b.jsxs(De,{children:[b.jsx("strong",{children:"Resolution:"})," ",JSON.stringify(e?.resolution,null,2)]}),b.jsxs(De,{children:[b.jsx("strong",{children:"User Agent:"})," ",e?.userAgent]}),b.jsxs(De,{children:[b.jsx("strong",{children:"IP:"})," ",e?.ip]}),b.jsxs(De,{children:[b.jsx("strong",{children:"Language:"})," ",e?.language]})]})})}function Dfn(e){return e.valueOf()===0||Number.isNaN(e.valueOf())?b.jsx(He,{size:"sm",c:"dimmed",children:"None"}):e.toLocaleDateString([],{hour:"2-digit",minute:"2-digit"})}function Pfn({visibleParticipants:e,studyConfig:t,refresh:n,width:r,stageColors:i,selectedParticipants:s,onSelectionChange:o}){const{studyId:a}=ro(),[l,u]=A.useState({});A.useEffect(()=>{const h=Object.keys(l).filter(p=>l[p]).map(p=>e.find(m=>m.participantId===p)).filter(p=>p!==void 0);o(h)},[l,e,o]);const c=A.useCallback(async()=>{await n()},[n]),d=A.useMemo(()=>[{accessorFn:h=>{const p=Object.entries(h.answers||{}).filter(m=>m[1].startTime===0);return{percent:(Object.entries(h.answers).length-p.length)/(od(h.sequence).length-1),completed:h.completed,rejected:h.rejected}},header:"Status",size:50,Cell:({cell:h})=>{const p=h.getValue();return p.rejected?b.jsxs(zn,{align:"center",justify:"center",gap:4,w:"100%",children:[b.jsx(yt,{label:"Rejected",children:b.jsx(Jm,{size:30,color:"red",style:{marginBottom:-3}})}),b.jsx(He,{size:"xs",c:"dimmed",ta:"center",children:p.rejected.reason})]}):p.completed?b.jsx(An,{align:"center",justify:"center",w:"100%",children:b.jsx(yt,{label:"Completed",children:b.jsx(dy,{size:30,color:"teal",style:{marginBottom:-3}})})}):b.jsx(An,{align:"center",justify:"center",w:"100%",children:b.jsx(yt,{label:"In Progress",children:b.jsx(l$,{size:30,thickness:4,sections:[{value:p.percent*100,color:"blue"}]})})})}},{accessorKey:"participantIndex",header:"#",size:50},{accessorKey:"stage",header:"Stage",size:120,Cell:({cell:h})=>{const p=h.getValue();if(!p||p==="")return b.jsx(eo,{color:"gray",variant:"light",size:"md",children:"N/A"});const m=i[p]||"#F05A30";return b.jsx(eo,{color:m,variant:"filled",size:"md",children:p})}},{accessorKey:"participantId",header:"ID"},...t.uiConfig.participantNameField?[{accessorFn:h=>Efn(h,t),header:"Name"}]:[],{accessorFn:h=>new Date(Math.max(...Object.values(h.answers).filter(p=>p.endTime>0).map(p=>p.endTime))-Math.min(...Object.values(h.answers).filter(p=>p.startTime>0).map(p=>p.startTime))),header:"Duration",Cell:({cell:h})=>Number.isNaN(h.getValue())?"Incomplete":b.jsx(eo,{variant:"light",size:"lg",color:"gray",leftSection:b.jsx(Ftt,{width:18,height:18,style:{paddingTop:1}}),pb:1,children:`${MG(+h.getValue())||"N/A"}`})},{accessorFn:h=>new Date(Math.min(...Object.values(h.answers).filter(p=>p.startTime>0).map(p=>p.startTime))),Cell:({cell:h})=>Dfn(h.getValue()),header:"Start Time"},{accessorFn:h=>Object.values(h.answers).filter(p=>p.correctAnswer.length>0&&p.endTime>0).map(p=>Ub(p.answer,p.correctAnswer)),header:"Correct Answers",Cell:({cell:h})=>b.jsxs(b.Fragment,{children:[b.jsx(eo,{variant:"light",size:"lg",color:"green",leftSection:b.jsx(dy,{width:18,height:18,style:{paddingTop:1}}),pb:1,children:h.getValue().filter(p=>p).length}),b.jsx(eo,{variant:"light",size:"lg",color:"red",leftSection:b.jsx(Jm,{width:18,height:18,style:{paddingTop:1}}),pb:1,children:h.getValue().length-h.getValue().filter(p=>p).length})]})},{accessorKey:"metadata",header:"Metadata",Cell:({cell:h})=>b.jsx(Ifn,{metaData:h.getValue()})}],[t,i]),f=sL({columns:d,data:e,enableColumnResizing:!0,columnResizeMode:"onEnd",enableRowSelection:!0,getRowId:h=>h.participantId,onRowSelectionChange:u,manualPagination:!0,state:{rowSelection:l},paginationDisplayMode:"pages",enablePagination:!1,enableRowVirtualization:!0,mantinePaperProps:{style:{maxHeight:"100%",display:"flex",flexDirection:"column"}},layoutMode:"grid",renderDetailPanel:({row:h})=>{const p=h.original;return p.participantId?b.jsx(Rfn,{maxLength:void 0,studyConfig:t,studyId:a||"",participantData:p,width:r-60}):null},defaultColumn:{minSize:20,maxSize:1e3,size:180},enableDensityToggle:!1,positionToolbarAlertBanner:"none",renderTopToolbarCustomActions:()=>b.jsx(At,{mb:8,p:8,children:b.jsx(NLe,{selectedParticipants:s,refresh:c})})});return e.length>0?b.jsx(Xie,{table:f}):b.jsxs(b.Fragment,{children:[b.jsx(Jc,{h:"xl"}),b.jsx(At,{justify:"center",align:"center",children:b.jsx(He,{children:"No data available"})})]})}function Ofn({response:e,participantData:t,trialId:n,trialConfig:r}){const[i,{toggle:s}]=hY(!0),[o,a]=mf(),l=A.useMemo(()=>e.type==="metadata"?void 0:r.correctAnswer?.find(f=>f.id===e.id),[e.id,e.type,r.correctAnswer]),u=A.useMemo(()=>e.type==="metadata"?[]:t.map(f=>Object.entries(f.answers).filter(([h])=>h.slice(0,h.lastIndexOf("_"))===n)).map(f=>f.filter(([,h])=>h.startTime>0).map(([,h])=>{const p={...h.answer};if(l){const m=h.answer[e.id],g=l.answer;p.result=eZ(m,g)?"correct":"incorrect"}return p})).flat(),[t,e.type,n,l,e.id]),c=A.useMemo(()=>{const d={height:"container",width:"container"};if(e.type==="shortText"||e.type==="longText")return{};if(e.type==="metadata"){const h=t.map(m=>Object.entries(m.answers).filter(([g])=>g.slice(0,g.lastIndexOf("_"))===n)).map(m=>m.filter(([g,y])=>y.endTime!==-1).map(([g,y])=>(y.endTime-y.startTime)/1e3)).flat();return{...d,data:{values:h},mark:"bar",encoding:{x:{field:"data",bin:!0,type:"quantitative",title:"Time (s)"},y:{aggregate:"count",type:"quantitative",title:"Count"}}}}const f={params:[{name:"correctAnswer",value:l?.answer},{name:"variable",value:e.id}],transform:[{calculate:"datum[variable] === correctAnswer ? 'correct' : 'incorrect'",as:"result"},{calculate:"if(datum.result === 'correct', 0, if(datum.result === 'incorrect', 1, 2))",as:"order"}],color:{field:"result",type:"nominal",scale:{domain:["correct","incorrect"],range:["#69DB7C","#ADB5BD"]}},order:{field:"order"}};if(e.type==="matrix-radio"||e.type==="matrix-checkbox"){const h=u.map(m=>Object.entries(m[e.id]||{}).map(([g,y])=>e.type==="matrix-checkbox"?y.split("|").map(v=>({question:g,value:v})):[{question:g,value:y}]).flat()).flat();return{...d,data:{values:h},mark:"bar",params:l!==void 0?f.params:void 0,transform:Array.isArray(l?.answer)?void 0:l!==void 0?f.transform:void 0,encoding:{row:{field:"question",type:"nominal",header:{title:"Question"}},x:{field:"value",type:"ordinal",title:"Answer"},y:{aggregate:"count",type:"quantitative",title:"Count"},color:l!==void 0?f.color:void 0},order:l!==void 0?f.order:void 0,resolve:{scale:{x:"independent"}}}}if(e.type==="numerical"||e.type==="slider"||e.type==="likert"){let h,p;return e.type==="numerical"&&(h=e.min,p=e.max),e.type==="slider"&&(h=Math.min(...e.options.map(g=>g.value)),p=Math.max(...e.options.map(g=>g.value))),e.type==="likert"&&(h=1,p=e.numItems),{...d,data:{values:u},mark:"bar",params:l!==void 0?f.params:void 0,transform:[{bin:e.type==="likert"?{step:1}:{maxbins:10},field:e.id,as:"bins"},...l!==void 0?f.transform:[]],encoding:{x:{field:"bins",scale:h!==void 0&&p!==void 0?{domain:[h,p]}:void 0,type:"quantitative",title:"Answer"},x2:{field:"bins_end"},y:{aggregate:"count",type:"quantitative",title:"Count",stack:!0},color:l!==void 0?f.color:void 0,order:l!==void 0?f.order:void 0}}}if(e.type==="radio"||e.type==="dropdown"||e.type==="checkbox"||e.type==="buttons"||e.type==="ranking-sublist"||e.type==="ranking-categorical"||e.type==="ranking-pairwise")return{...d,data:{values:u},mark:"bar",params:l!==void 0?f.params:void 0,transform:Array.isArray(l?.answer)?void 0:l!==void 0?f.transform:void 0,encoding:{x:{field:e.id,type:"ordinal",title:"Answer"},y:{aggregate:"count",type:"quantitative",title:"Count"},color:l!==void 0?f.color:void 0}}},[t,u,e.id,e.max,e.min,e.numItems,e.options,e.type,n,l]);return b.jsxs(vd,{p:"lg",withBorder:!0,ref:o,children:[b.jsxs(At,{direction:"row",justify:"space-between",onClick:s,children:[b.jsxs(At,{align:"center",children:[e.type==="metadata"&&b.jsx(Jet,{size:20}),e.type==="numerical"&&b.jsx(ent,{size:20}),(e.type==="shortText"||e.type==="longText")&&b.jsx(Aet,{size:20}),e.type==="likert"&&b.jsx(DEe,{size:20}),e.type==="dropdown"&&b.jsx(_nt,{size:20}),e.type==="slider"&&b.jsx(QZe,{size:20}),e.type==="radio"&&b.jsx(hnt,{size:20}),e.type==="checkbox"&&b.jsx(Dnt,{size:20}),(e.type==="ranking-sublist"||e.type==="ranking-categorical"||e.type==="ranking-pairwise")&&b.jsx(vtt,{size:20}),e.type==="matrix-radio"&&b.jsx(Ott,{size:20}),e.type==="matrix-checkbox"&&b.jsx(Pet,{size:20}),e.type==="buttons"&&b.jsx(ntt,{size:20}),e.type==="reactive"&&b.jsx(jtt,{size:20}),e.type==="textOnly"&&b.jsx(Htt,{size:20}),b.jsx(qr,{order:5,ml:4,children:e.id})]}),b.jsx(_X,{style:{rotate:i?"180deg":"none",transition:"rotate 200ms"}})]}),b.jsxs(kp,{in:i,mah:400,children:[b.jsx(De,{style:{top:0,position:"sticky",backgroundColor:"white",zIndex:2},py:"md",children:b.jsx(bC,{})}),b.jsxs(XK,{cols:2,h:360,children:[b.jsx(lp,{mih:200,children:e.type!=="metadata"&&e.type!=="shortText"&&e.type!=="longText"&&e.type!=="reactive"&&e.type!=="textOnly"&&e.type!=="ranking-sublist"&&e.type!=="ranking-categorical"&&e.type!=="ranking-pairwise"?b.jsx(xve,{spec:c,actions:!1,height:270,width:e.type==="matrix-checkbox"||e.type==="matrix-radio"?500:a.width/2-60-(l===void 0?0:60),padding:0,style:{justifySelf:"center"},renderer:"svg"}):b.jsx(At,{direction:"column",gap:"xs",style:{overflowX:"clip"},children:e.type==="metadata"?b.jsx(jh,{block:!0,children:`${JSON.stringify(r,null,2)}`}):b.jsxs(b.Fragment,{children:[b.jsx(He,{fw:700,children:"Response Values: "}),e.type==="textOnly"||e.type==="ranking-sublist"||e.type==="ranking-categorical"||e.type==="ranking-pairwise"?b.jsx(He,{children:"N/A"}):u.map((d,f)=>b.jsx(At,{align:"center",gap:"xs",children:b.jsx(He,{children:d[e.id]})},f))]})})}),b.jsx(lp,{mih:200,children:e.type==="metadata"?b.jsx(xve,{spec:c,actions:!1,width:a.width/2-60,height:270,padding:0,style:{justifySelf:"center"}}):b.jsxs(b.Fragment,{children:[b.jsx(He,{fw:700,children:"Response Specification: "}),b.jsx(jh,{block:!0,children:JSON.stringify(e,null,2)}),b.jsx("br",{}),l&&b.jsxs(b.Fragment,{children:[b.jsx(He,{fw:700,children:"Correct Answer: "}),b.jsx(jh,{block:!0,children:JSON.stringify(l,null,2)})]})]})})]})]})]})}function Nfn({participantData:e,studyConfig:t,trialId:n}){const r=n&&n!=="end"&&Il(t.components[n],t),i=A.useMemo(()=>[{id:"Config and Timing",type:"metadata"},...r?r.response:[]],[r]);return r?b.jsx(At,{w:"100%",direction:"column",gap:"xs",children:i.map(s=>b.jsx(Ofn,{response:s,participantData:e,trialId:n,trialConfig:r},s.id))}):b.jsx(At,{justify:"center",align:"center",pt:"lg",pb:"md",w:"100%",children:b.jsx(He,{children:n!=="end"?"No trial selected":"The end component has no data."})})}function $fn({studyConfig:e,visibleParticipants:t}){const n=A.useMemo(()=>{let i=structuredClone(e.sequence);return i=tQ(i,"root"),i.components.push("end"),i},[e.sequence]),{trialId:r}=ro();return b.jsx(vd,{shadow:"sm",p:"md",withBorder:!0,children:t.length===0?b.jsx(At,{justify:"center",align:"center",pt:"lg",pb:"md",children:b.jsx(He,{children:"No data available."})}):b.jsxs(At,{direction:"row",children:[b.jsx(De,{w:340,children:b.jsx(r5,{configSequence:n,participantSequence:n,fullSequence:n,participantView:!1,studyConfig:e,analysisNavigation:!0})}),b.jsx(bC,{orientation:"vertical",mx:"md"}),b.jsx(Nfn,{participantData:t,studyConfig:e,trialId:r})]})})}function H9e({visibleParticipants:e,studyId:t,gap:n,fileName:r,hasAudio:i,hasScreenRecording:s}){const[o,{open:a,close:l}]=hY(!1),[u,c]=A.useState([]),[d,f]=A.useState(!1),[h,p]=A.useState(!1),{storageEngine:m}=Ii(),g=async()=>typeof e=="function"?await e():e,y=async()=>{const S=await g(),T=r?`${r}.json`:`${t}_all.json`;yZ(JSON.stringify(S,null,2),T)},v=async()=>{const S=await g();c(S),a()},w=async()=>{f(!0);try{const S=await g();if(!m)return;await hsn({storageEngine:m,participants:S,studyId:t,fileName:r})}finally{f(!1)}},_=async()=>{p(!0);try{const S=await g();if(!m)return;await msn({storageEngine:m,participants:S,studyId:t,fileName:r})}finally{p(!1)}},C=typeof e!="function"?`Download ${e.length} participants`:"Download participants data";return b.jsxs(b.Fragment,{children:[b.jsxs(An,{style:{gap:n},children:[b.jsx(yt,{label:`${C} as JSON`,children:b.jsx(Wt,{variant:"light",disabled:e.length===0&&typeof e!="function",onClick:y,px:4,children:b.jsx(ott,{})})}),b.jsx(yt,{label:`${C} as tidy CSV`,children:b.jsx(Wt,{variant:"light",disabled:e.length===0&&typeof e!="function",onClick:v,px:4,children:b.jsx(zEe,{})})}),i&&b.jsx(yt,{label:`${C} audio & transcripts as ZIP`,children:b.jsx(Wt,{variant:"light",disabled:e.length===0&&typeof e!="function",onClick:w,px:4,loading:d,children:b.jsx($Ee,{})})}),s&&b.jsx(yt,{label:`${C} screen recordings ZIP`,children:b.jsx(Wt,{variant:"light",disabled:e.length===0&&typeof e!="function",onClick:_,px:4,loading:h,children:b.jsx(REe,{})})})]}),o&&u.length>0&&b.jsx(I4t,{opened:o,close:l,filename:r?`${r}_tidy.csv`:`${t}_all_tidy.csv`,data:u,studyId:t})]})}function Mfn({studyId:e,refresh:t}){const[n,r]=A.useState(!1),[i,s]=A.useState(!1),[o,a]=A.useState(!1),[l,u]=A.useState(!1),[c,d]=A.useState(""),[f,h]=A.useState({}),[p,m]=A.useState(""),[g,y]=A.useState(""),[v,w]=A.useState(!1),[_,C]=A.useState(!1),{storageEngine:S}=Ii(),T=A.useCallback(async()=>{if(!S)return;C(!0);const Y=await S.getSnapshots(e);h(Y),C(!1)},[S,e]);if(A.useEffect(()=>{T()},[T]),!S)return null;const k=async Y=>{w(!0);let V;switch(Y.type){case"create":V=await S.createSnapshot(e,Y.archive);break;case"rename":V=await S.renameSnapshot(Y.snapshot,Y.newName,e);break;case"restore":V=await S.restoreSnapshot(e,Y.snapshot);break;case"deleteSnapshot":V=await S.removeSnapshotOrLive(Y.snapshot,e);break;case"deleteLive":V=await S.removeSnapshotOrLive(e,e);break;default:throw w(!1),new Error("Unknown action")}V.status==="SUCCESS"?(await T(),w(!1),await t(),V.notifications?.forEach(L=>Ek(L))):(w(!1),Ek({title:V.error.title,message:V.error.message,color:"red"}))},I=()=>k({type:"create",archive:!1}),R=()=>{m(""),r(!1),k({type:"create",archive:!0})},P=()=>{a(!1),k({type:"rename",snapshot:c,newName:g})},N=Y=>k({type:"restore",snapshot:Y}),$=()=>{m(""),s(!1),k({type:"deleteSnapshot",snapshot:c})},O=()=>{m(""),u(!1),k({type:"deleteLive"})},j=()=>Kle({title:"Create a Snapshot",children:b.jsx(He,{mb:30,children:"This will create a snapshot of the live database without impacting the live data."}),labels:{confirm:"Create",cancel:"Cancel"},cancelProps:{variant:"subtle",color:"dark"},onCancel:()=>{},onConfirm:()=>I()}),B=Y=>Kle({title:"Restore Snapshot",children:b.jsx(He,{mb:30,children:"Restoring this snapshot will perform 2 actions. First, we will create a snapshot of the current live database, then we will restore the selected snapshot into the live database."}),labels:{confirm:"Restore",cancel:"Cancel"},confirmProps:{color:"red"},cancelProps:{variant:"subtle",color:"dark"},onCancel:()=>{},onConfirm:()=>N(Y)}),H=Y=>{const V=/-snapshot-(.+)$/,L=Y.match(V);return L&&L[1]?L[1].replace("T"," "):null},q=async Y=>{const V=Y.slice(Y.indexOf("-")+1);return await S.getAllParticipantsData(V)};return b.jsxs(b.Fragment,{children:[b.jsx($l,{visible:v}),b.jsxs(At,{justify:"space-between",align:"center",children:[b.jsxs(De,{style:{width:"70%"},children:[b.jsx(qr,{order:5,children:"Create a Snapshot"}),b.jsxs(He,{children:["This will create a snapshot of the live"," ",b.jsx(He,{span:!0,fw:700,children:e})," ","database. It will"," ",b.jsx(He,{span:!0,fw:700,fs:"italic",children:"not"})," ","remove this data from the live database. The current study data can be restored from a snapshot at any time."]})]}),b.jsx(yt,{label:"Create a snapshot",children:b.jsx(Wt,{onClick:j,children:"Snapshot"})})]}),b.jsx(Jc,{h:"lg"}),b.jsxs(At,{justify:"space-between",align:"center",children:[b.jsxs(De,{style:{width:"70%"},children:[b.jsx(qr,{order:5,children:"Archive Data"}),b.jsxs(He,{children:["This will create a snapshot of the live"," ",b.jsx(He,{span:!0,fw:700,children:e})," ","database. It will then remove this data from the live database. The current study data can be restored from a snapshot at any time."]})]}),b.jsx(yt,{label:"Snapshot and Delete Data",children:b.jsx(Wt,{color:"red",onClick:()=>r(!0),children:"Archive"})})]}),b.jsx(Jc,{h:"lg"}),b.jsxs(At,{justify:"space-between",align:"center",children:[b.jsxs(De,{style:{width:"70%"},children:[b.jsx(qr,{order:5,children:"Delete Data"}),b.jsxs(He,{children:["This will delete the live"," ",b.jsx(He,{span:!0,fw:700,children:e})," ","database. Since this does not create a snapshot the data will be permanently deleted and cannot be restored."]})]}),b.jsx(yt,{label:"Delete Data",children:b.jsx(Wt,{color:"red",onClick:()=>u(!0),children:"Delete"})})]}),b.jsx(Jc,{h:"xl"}),b.jsxs(At,{direction:"column",children:[b.jsx(At,{style:{borderBottom:"1px solid #dedede"},direction:"row",justify:"space-between",mb:"xs",pb:"sm",children:b.jsx(qr,{order:5,children:"Snapshots"})}),b.jsxs(De,{style:{position:"relative"},children:[b.jsx($l,{visible:_}),Object.keys(f).length>0?b.jsxs(Sn,{children:[b.jsx(Sn.Thead,{children:b.jsxs(Sn.Tr,{children:[b.jsx(Sn.Th,{children:"Snapshot Name"}),b.jsx(Sn.Th,{children:"Date Created"}),b.jsx(Sn.Th,{children:"Actions"})]})}),b.jsx(Sn.Tbody,{children:Object.entries(f).map(([Y,V])=>b.jsxs(Sn.Tr,{children:[b.jsx(Sn.Td,{children:V.name}),b.jsx(Sn.Td,{children:H(Y)}),b.jsx(Sn.Td,{children:b.jsxs(At,{children:[b.jsx(yt,{label:"Rename",children:b.jsx(Wt,{color:"green",variant:"light",px:4,style:{margin:"0px 5px"},onClick:()=>{a(!0),d(Y)},children:b.jsx(int,{})})}),b.jsx(yt,{label:"Restore Snapshot",children:b.jsx(Wt,{color:"blue",variant:"light",px:4,style:{margin:"0px 5px"},onClick:()=>{B(Y)},children:b.jsx(FEe,{})})}),b.jsx(yt,{label:"Delete Snapshot",children:b.jsx(Wt,{color:"red",px:4,variant:"light",style:{margin:"0px 10px 0px 5px"},onClick:()=>{s(!0),d(Y)},children:b.jsx(UEe,{})})}),b.jsx(H9e,{visibleParticipants:()=>q(Y),studyId:e,gap:"10px",fileName:V.name})]})})]},Y))})]}):b.jsx(He,{children:"No snapshots."})]})]}),b.jsxs(Ti,{opened:n,onClose:()=>{r(!1),m("")},title:b.jsx(He,{children:"Archive Data"}),children:[b.jsx(He,{mb:"sm",children:"This will create a snapshot of the live database and remove the data from the live database."}),b.jsx(kl,{label:"To archive this data, please enter the name of the study.",placeholder:e,onChange:Y=>m(Y.target.value)}),b.jsxs(At,{mt:"sm",justify:"right",children:[b.jsx(Wt,{mr:5,variant:"subtle",color:"dark",onClick:()=>{r(!1),m("")},children:"Cancel"}),b.jsx(Wt,{color:"red",onClick:R,disabled:p!==e,children:"Archive"})]})]}),b.jsxs(Ti,{opened:i,onClose:()=>{s(!1),m("")},title:b.jsx(He,{children:"Delete Snapshot"}),children:[b.jsxs(He,{mb:"sm",children:["This will permanently remove this snapshot. This action is"," ",b.jsx(He,{span:!0,fw:700,children:"irreversible"}),"."]}),b.jsx(kl,{label:"To delete this snapshot, please enter the name of the study.",placeholder:e,onChange:Y=>m(Y.target.value)}),b.jsxs(At,{mt:"sm",justify:"right",children:[b.jsx(Wt,{mr:5,variant:"subtle",color:"dark",onClick:()=>{s(!1),m("")},children:"Cancel"}),b.jsx(Wt,{color:"red",onClick:$,disabled:p!==e,children:"Delete"})]})]}),b.jsxs(Ti,{opened:o,onClose:()=>{a(!1),y("")},title:b.jsx(He,{children:"Rename Snapshot"}),children:[b.jsx(kl,{label:"Enter the new name of the snapshot.",placeholder:c,onChange:Y=>y(Y.target.value)}),b.jsxs(At,{mt:"sm",justify:"right",children:[b.jsx(Wt,{mr:5,variant:"subtle",color:"dark",onClick:()=>{a(!1),y("")},children:"Cancel"}),b.jsx(Wt,{color:"green",onClick:P,disabled:!g||g.length===0,children:"Rename"})]})]}),b.jsxs(Ti,{opened:l,onClose:()=>{u(!1),m("")},title:b.jsx(He,{children:"Delete Live Data"}),children:[b.jsxs(He,{mb:"sm",children:["This will permanently delete the live"," ",b.jsx(He,{span:!0,fw:700,children:e})," ","data. This action is"," ",b.jsx(He,{span:!0,fw:700,children:"irreversible"}),". Please consider using archive data to create a snapshot of the live data before deleting."]}),b.jsx(kl,{label:"To delete this live data, please enter the name of the study.",placeholder:e,onChange:Y=>m(Y.target.value)}),b.jsxs(At,{mt:"sm",justify:"right",children:[b.jsx(Wt,{mr:5,variant:"subtle",color:"dark",onClick:()=>{u(!1),m("")},children:"Cancel"}),b.jsx(Wt,{color:"red",onClick:O,disabled:p!==e,children:"Delete"})]})]})]})}function Ffn({studyId:e}){const{storageEngine:t}=Ii(),[n,r]=A.useState(!1),[i,s]=A.useState(!1),[o,a]=A.useState(!1),[l,u]=A.useState(!1);A.useEffect(()=>{(async()=>{if(t){const f=await t.getModes(e);s(f.dataCollectionEnabled),a(f.studyNavigatorEnabled),u(f.analyticsInterfacePubliclyAccessible),r(!0)}})()},[t,e]);const c=async(d,f)=>{t&&(await t.setMode(e,d,f),d==="dataCollectionEnabled"?s(f):d==="studyNavigatorEnabled"?a(f):d==="analyticsInterfacePubliclyAccessible"&&u(f))};return n&&b.jsxs(zn,{children:[b.jsx(Xg,{label:"Data Collection Enabled",checked:i,onChange:d=>c("dataCollectionEnabled",d.currentTarget.checked)}),b.jsx(Xg,{label:"Study Navigator Enabled",checked:o,onChange:d=>c("studyNavigatorEnabled",d.currentTarget.checked)}),b.jsx(Xg,{label:"Analytics Interface Publicly Accessible",checked:l,onChange:d=>c("analyticsInterfacePubliclyAccessible",d.currentTarget.checked)})]})}function Lfn({studyId:e}){const{storageEngine:t}=Ii(),[n,r]=A.useState(!1),[i,s]=A.useState({stageName:"DEFAULT",color:"#F05A30"}),[o,a]=A.useState([{stageName:"DEFAULT",color:"#F05A30"}]),[l,u]=A.useState(null),[c,d]=A.useState(""),[f,h]=A.useState("#F05A30"),[p,m]=A.useState(""),[g,y]=A.useState(!1),[v,w]=A.useState(""),[_,C]=A.useState("#F05A30"),[S,T]=A.useState("");A.useEffect(()=>{(async()=>{if(t)try{const B=await t.getStageData(e);s(B.currentStage),a(B.allStages),r(!0)}catch(B){console.error("Failed to load stage data:",B),s({stageName:"DEFAULT",color:"#F05A30"}),a([{stageName:"DEFAULT",color:"#F05A30"}]),r(!0)}})()},[t,e]);const k=async(j,B)=>{t&&(await t.setCurrentStage(e,j,B),s({stageName:j,color:B}))},I=j=>{u(j),d(o[j].stageName),h(o[j].color),m("")},R=async j=>{if(t){await t.updateStageColor(e,j,f);const B=await t.getStageData(e);s(B.currentStage),a(B.allStages),u(null),m("")}},P=()=>{u(null),d(""),h("#F05A30"),m("")},N=()=>{y(!0),w(""),C("#F05A30"),T("")},$=async()=>{if(!v.trim()){T("Stage name cannot be empty");return}const j=v.trim(),B=j.toLowerCase();if(B==="n/a"){T('Stage name "N/A" is reserved and cannot be used');return}if(B==="all"){T('Stage name "ALL" is reserved and cannot be used');return}if(B==="default"){T('Stage name "DEFAULT" is reserved and cannot be used');return}if(o.some(H=>H.stageName===j)){T("A stage with this name already exists");return}if(T(""),t){await t.setCurrentStage(e,j,_);const H=await t.getStageData(e);s(H.currentStage),a(H.allStages),y(!1),w(""),C("#F05A30")}},O=()=>{y(!1),w(""),C("#F05A30"),T("")};return n?b.jsxs(zn,{children:[b.jsx(An,{justify:"space-between",mb:"md",children:!g&&b.jsx(Wt,{size:"sm",onClick:N,children:"Add New Stage"})}),b.jsxs(Sn,{striped:!0,highlightOnHover:!0,withTableBorder:!0,children:[b.jsx(Sn.Thead,{children:b.jsxs(Sn.Tr,{children:[b.jsx(Sn.Th,{style:{width:"80px",whiteSpace:"nowrap"},children:"Current"}),b.jsx(Sn.Th,{children:"Stage Name"}),b.jsx(Sn.Th,{style:{width:"200px"},children:"Color"}),b.jsx(Sn.Th,{style:{width:"80px",whiteSpace:"nowrap"},children:"Edit"})]})}),b.jsxs(Sn.Tbody,{children:[o.map((j,B)=>b.jsxs(Sn.Tr,{children:[b.jsx(Sn.Td,{children:b.jsx(Za,{checked:i.stageName===j.stageName,onChange:()=>k(j.stageName,j.color)})}),b.jsx(Sn.Td,{children:l===B?b.jsx(kl,{value:c,onChange:H=>d(H.currentTarget.value),error:p,size:"xs",disabled:!0}):b.jsx(He,{size:"sm",children:j.stageName})}),b.jsx(Sn.Td,{children:l===B?b.jsx(TN,{value:f,onChange:h,size:"xs"}):b.jsxs(An,{gap:"xs",children:[b.jsx("div",{style:{width:20,height:20,backgroundColor:j.color,border:"1px solid #dee2e6",borderRadius:4}}),b.jsx(He,{size:"sm",c:"dimmed",children:j.color})]})}),b.jsx(Sn.Td,{children:l===B?b.jsxs(An,{gap:"xs",children:[b.jsx(Tn,{size:"sm",color:"green",onClick:()=>R(j.stageName),children:b.jsx(dy,{size:16})}),b.jsx(Tn,{size:"sm",color:"gray",onClick:P,children:b.jsx(Jm,{size:16})})]}):b.jsx(Tn,{size:"sm",onClick:()=>I(B),children:b.jsx($N,{size:16})})})]},j.stageName)),g&&b.jsxs(Sn.Tr,{style:{backgroundColor:"#f8f9fa"},children:[b.jsx(Sn.Td,{}),b.jsx(Sn.Td,{children:b.jsx(kl,{placeholder:"Enter stage name",value:v,onChange:j=>w(j.currentTarget.value),error:S,size:"xs"})}),b.jsx(Sn.Td,{children:b.jsx(TN,{value:_,onChange:C,size:"xs"})}),b.jsx(Sn.Td,{children:b.jsxs(An,{gap:"xs",children:[b.jsx(Tn,{size:"sm",color:"green",onClick:$,children:b.jsx(dy,{size:16})}),b.jsx(Tn,{size:"sm",color:"gray",onClick:O,children:b.jsx(Jm,{size:16})})]})})]})]})]}),p&&b.jsx(He,{size:"sm",c:"red",mt:"xs",children:"Note: Stage names cannot be changed, only colors can be edited."})]}):b.jsxs(zn,{align:"center",p:"md",children:[b.jsx(pc,{size:"sm"}),b.jsx(He,{size:"sm",c:"dimmed",children:"Loading stage data..."})]})}function jfn({studyId:e,refresh:t}){return b.jsx(C0,{children:b.jsxs(go,{multiple:!0,variant:"contained",children:[b.jsxs(go.Item,{value:"ReVISit Modes",children:[b.jsx(go.Control,{children:b.jsx(qr,{order:5,children:"ReVISit Modes"})}),b.jsx(go.Panel,{children:b.jsx(Ffn,{studyId:e})})]},"modes"),b.jsxs(go.Item,{value:"Stage Management",children:[b.jsx(go.Control,{children:b.jsx(qr,{order:5,children:"Stage Management"})}),b.jsx(go.Panel,{children:b.jsx(Lfn,{studyId:e})})]},"stageManagement"),b.jsxs(go.Item,{value:"Data Management",children:[b.jsx(go.Control,{children:b.jsx(qr,{order:5,children:"Data Management"})}),b.jsx(go.Panel,{children:b.jsx(Mfn,{studyId:e,refresh:t})})]},"dataManagement")]})})}function Bfn(e){const[t,n]=A.useState(!1),[r,i]=A.useState(!1);return A.useEffect(()=>{if(!e){n(!1),i(!1);return}const{recordAudio:s,recordScreen:o}=e.uiConfig,a=Object.keys(e.components).map(l=>Il(e.components[l],e));n(s||a.some(l=>l.recordAudio)),i(o||a.some(l=>l.recordScreen))},[e]),{hasAudioRecording:t,hasScreenRecording:r}}function zfn({annotation:e,setAnnotation:t,start:n,current:r,end:i,text:s,tags:o,selectedTags:a,onTextChange:l,deleteRowCallback:u,addRowCallback:c,onSelectTags:d,addRef:f,index:h,editTagCallback:p,createTagCallback:m,onClickLine:g}){const[y,v]=A.useState(e),w=A.useRef(0);A.useEffect(()=>{w.current=h},[h]);const[_,{width:C}]=mf();return A.useMemo(()=>b.jsxs(fs,{style:{width:"100%"},children:[b.jsx(fs.Col,{span:8,children:b.jsx(An,{wrap:"nowrap",gap:0,px:10,style:{width:"100%",borderRadius:"10px",backgroundColor:r>=n&&r<=i?"rgba(100, 149, 237, 0.3)":"white"},children:b.jsx(FT,{ref:T=>T?f(w.current,T):void 0,autosize:!0,minRows:1,maxRows:4,style:{width:"100%"},variant:"unstyled",value:s,onFocus:()=>g(w.current),onChange:T=>{l(w.current,T.currentTarget.value)},onKeyDown:(T=>{T.key==="Enter"&&T.currentTarget.selectionStart!==null?(c(w.current,T.currentTarget.selectionStart),T.preventDefault(),T.stopPropagation()):T.key==="Backspace"&&T.currentTarget.selectionStart===0&&T.currentTarget.selectionEnd===0&&(u(w.current),T.preventDefault(),T.stopPropagation())})})})}),b.jsx(fs.Col,{ref:_,span:2,children:b.jsx(LG,{width:C-20,createTagCallback:m,editTagCallback:p,onSelectTags:T=>d(w.current,T),selectedTags:a,tags:o,tagsEmptyText:"Add Text Tags"})}),b.jsx(fs.Col,{span:2,children:b.jsx(FT,{autosize:!0,style:{width:C-20},minRows:1,maxRows:4,value:y,onChange:T=>v(T.currentTarget.value),placeholder:"Add Annotation",onBlur:()=>t(w.current,y)})})]}),[f,c,y,m,r,u,p,i,g,d,l,_,a,t,n,o,s,C])}async function Ufn(e){if(e){const t=await e.getTags("text");return Array.isArray(t)?t:[]}return[]}function Vfn({currentShownTranscription:e,transcriptList:t,setTranscriptList:n,onClickLine:r}){const{storageEngine:i}=Ii(),{value:s,execute:o}=uf(Ufn,[i]),a=A.useCallback(v=>{i&&i.saveTags(v,"text").then(()=>o(i))},[o,i]),l=A.useRef([]),u=xm((v,w)=>{const _=[...t];_[v].text=w,n(_)}),c=xm((v,w)=>{const _=[...t];_[v].selectedTags=w,n(_)}),d=xm((v,w)=>{const _=[...t];_[v].annotation=w,n(_)}),f=xm(v=>{if(v===0)return;const w=structuredClone(t);w[v-1].text=t[v-1].text+t[v].text,w[v-1].transcriptMappingEnd=t[v].transcriptMappingEnd,w[v-1].selectedTags=[...t[v-1].selectedTags,...t[v].selectedTags.filter(_=>!t[v-1].selectedTags.find(C=>C.id===_.id))],w.splice(v,1),w.filter(_=>_.transcriptMappingStart===w[v-1].transcriptMappingStart).forEach(_=>{_.transcriptMappingEnd=w[v-1].transcriptMappingEnd}),n(w),setTimeout(()=>{l.current[v-1].focus(),l.current[v-1].setSelectionRange(t[v-1].text.length,t[v-1].text.length,"none")},1)}),h=xm((v,w)=>{const _=structuredClone(t),C=_[v];_.splice(v+1,0,{transcriptMappingEnd:C.transcriptMappingEnd,transcriptMappingStart:C.transcriptMappingStart,text:C.text.slice(w),selectedTags:C.selectedTags,annotation:""}),_[v].text=_[v].text.slice(0,w),n(_),setTimeout(()=>{l.current[v+1].focus(),l.current[v+1].setSelectionRange(0,0)},1)}),p=A.useCallback((v,w)=>{if(!s)return;const _=s.findIndex(S=>S.id===v.id),C=Array.from(s);C[_]=w,a(C)},[a,s]),m=A.useCallback(v=>{a([...s||[],v])},[a,s]),g=A.useCallback((v,w)=>{l.current[v]=w},[]),y=A.useMemo(()=>t.map((v,w)=>b.jsx(zfn,{onClickLine:r,editTagCallback:p,createTagCallback:m,annotation:v.annotation,setAnnotation:d,addRef:g,onSelectTags:c,addRowCallback:h,deleteRowCallback:f,onTextChange:u,tags:s||[],selectedTags:v.selectedTags,text:v.text,index:w,start:v.transcriptMappingStart,end:v.transcriptMappingEnd,current:e===null?0:e},w)),[h,c,g,m,e,f,p,r,d,s,u,t]);return b.jsxs(zn,{gap:0,children:[b.jsxs(fs,{style:{width:"100%"},mb:"sm",children:[b.jsx(fs.Col,{span:8,children:b.jsx(He,{fw:700,size:"xl",children:"Transcripts"})}),b.jsx(fs.Col,{span:2,children:b.jsxs(An,{gap:"xs",align:"center",children:[b.jsx(He,{fw:700,size:"xl",children:"Text Tags"}),b.jsx(yt,{w:300,multiline:!0,label:"Text tags allow you to categorize segments of text. Click in the box to add, create, or edit tags.",children:b.jsx(Qm,{size:16})})]})}),b.jsx(fs.Col,{span:2,children:b.jsxs(An,{gap:"xs",align:"center",children:[b.jsx(He,{fw:700,size:"xl",children:"Annotations"}),b.jsx(yt,{w:300,multiline:!0,label:"Annotations allow you to add additional context or notes to segments of text.",children:b.jsx(Qm,{size:16})})]})})]}),b.jsx(zn,{gap:5,children:y})]})}async function Hfn(e,t,n,r){return e&&t&&n&&r?await e.getEditedTranscript(t,r,n):null}function qfn(e,t){return t?t.getParticipantData(e):null}function Wfn(e,t,n,r){return e&&r?e.getTranscription(t,n).then(i=>!i||!i.results?null:{results:i.results.map(o=>({...o,resultEndTime:+o.resultEndTime.split("s")[0]})).flat()}):null}function Gfn({visibleParticipants:e,storageEngine:t}){const n=Hy(),[r,i]=mc(),[s,o]=A.useState(0),a=A.useMemo(()=>r.get("currentTrial")||"",[r]),l=A.useMemo(()=>r.get("participantId")||"",[r]),[u,c]=A.useState(0),{value:d}=uf(qfn,[l,t]),{studyId:f}=ro(),[h,p]=A.useState(),[m,{width:g}]=mf(),[y,v]=A.useState([]),{value:w,status:_}=uf(Wfn,[t,a,l,f]),C=A.useMemo(()=>t&&l&&a?Nc(P=>t.saveEditedTranscript(l,n.user.user?.email||"temp",a,P),1e3,{maxWait:5e3}):P=>null,[a,n.user.user?.email,t,l]);A.useEffect(()=>{!a&&!l&&e.length>0&&i({participantId:e[0].participantId,currentTrial:Object.entries(e[0].answers).find(([P,N])=>+N.trialOrder.split("_")[0]==0)?.[0]||""})},[]);const S=A.useCallback(P=>{v(P),C(P)},[C]),{value:T,status:k}=uf(Hfn,[t,l,a,n.user.user?.email||"temp"]);A.useEffect(()=>{v(T&&k==="success"?T:[])},[T,k]);const I=xm(P=>{if(w&&u!==null&&d&&P>0){let N=u;const $=a?d.answers[a].startTime:d.answers.audioTest.startTime,O=Math.abs(P-$)/1e3;if(O>w.results[N].resultEndTime){for(;O>w.results[N].resultEndTime;)if(N+=1,N>w.results.length-1){N=w.results.length-1;break}}else if(N>0&&O<w.results[N-1].resultEndTime)for(;N>0&&O<w.results[N-1].resultEndTime;)N-=1;if(u===N)return;c(N)}});A.useEffect(()=>{k==="success"&&(!T||T.length===0)&&_==="success"&&w&&S(w.results.map((P,N)=>({transcriptMappingStart:N,transcriptMappingEnd:N,text:P.alternatives[0].transcript?.trim()||"",selectedTags:[],annotation:""})))},[n.user.user?.email,a,T,l,w,_,S,t,k]);const R=A.useCallback(P=>{const N=y[P].transcriptMappingStart;o(N)},[y]);return A.useEffect(()=>{o(0)},[l,a]),b.jsx(An,{wrap:"nowrap",gap:25,children:b.jsxs(zn,{ref:m,style:{width:"100%"},gap:10,children:[!l||!a?b.jsx(So,{children:b.jsx(He,{c:"dimmed",size:"24",children:"Select a Participant and Trial to Analyze"})}):!h||_==="success"&&w===null?b.jsx(So,{children:b.jsx(He,{c:"dimmed",size:"24",children:"No transcripts found for this task"})}):b.jsx(zn,{children:b.jsx(Vfn,{onClickLine:R,transcriptList:y,setTranscriptList:S,currentShownTranscription:u})}),b.jsx($Le,{setHasAudio:p,saveProvenance:()=>null,studyId:f||"",jumpedToLine:s,editedTranscript:y,currentTrial:a,isReplay:!1,visibleParticipants:e.map(P=>P.participantId),rawTranscript:w,onTimeUpdate:I,currentShownTranscription:u,width:g,storageEngine:t})]})})}const Yfn=37;function Kfn(e,t){const n=Object.values(e.answers).map(i=>i.startTime).filter(i=>i!==void 0).sort(),r=Object.values(t.answers).map(i=>i.startTime).filter(i=>i!==void 0).sort();return n.length===0||r.length===0?n.length>0?-1:r.length>0?1:t.participantIndex-e.participantIndex:r[0]-n[0]}async function Xfn(e,t,n){return n&&t&&await t.initializeStudyDb(n),!e||!t||!n?[]:await t.getAllParticipantsData(n)}function Qfn({globalConfig:e}){const{studyId:t}=ro(),[n,r]=A.useState(void 0),[i,s]=A.useState(["completed","inprogress","rejected"]),[o,a]=A.useState(["ALL"]),[l,u]=A.useState([{value:"ALL",label:"ALL"}]),[c,d]=A.useState({}),[f,h]=A.useState([]),{hasAudioRecording:p,hasScreenRecording:m}=Bfn(n),{storageEngine:g}=Ii(),y=ll(),{analysisTab:v}=ro(),{user:w}=Hy(),[_,{width:C}]=mf(),{value:S,execute:T,status:k}=uf(Xfn,[n,g,t]),I=A.useMemo(()=>{if(!S)return{completed:0,inprogress:0,rejected:0};const $=Object.values(S),O=o.includes("ALL")?$:$.filter(j=>o.includes(j.stage||""));return{completed:O.filter(j=>!j.rejected&&j.completed).length,inprogress:O.filter(j=>!j.rejected&&!j.completed).length,rejected:O.filter(j=>j.rejected).length}},[S,o]),R=A.useMemo(()=>f.length===0?{completed:0,inprogress:0,rejected:0}:{completed:f.filter($=>!$.rejected&&$.completed).length,inprogress:f.filter($=>!$.rejected&&!$.completed).length,rejected:f.filter($=>$.rejected).length},[f]),P=A.useMemo(()=>{if(!S)return[];const $=Object.values(S),O=i.includes("completed")?$.filter(Y=>!Y.rejected&&Y.completed):[],j=i.includes("inprogress")?$.filter(Y=>!Y.rejected&&!Y.completed):[],B=i.includes("rejected")?$.filter(Y=>Y.rejected):[],H=[...O,...j,...B];return(o.includes("ALL")?H:H.filter(Y=>o.includes(Y.stage||""))).sort(Kfn)},[S,i,o]),N=A.useCallback(async()=>{if(!(!t||!g))try{const $=await g.getStageData(t),O=$.allStages.map(B=>({value:B.stageName,label:B.stageName}));u([{value:"ALL",label:"ALL"},...O]);const j={};$.allStages.forEach(B=>{j[B.stageName]=B.color}),d(j)}catch($){console.error("Failed to load stages:",$),u([{value:"ALL",label:"ALL"}]),d({})}},[t,g]);return A.useEffect(()=>{N(),h([])},[N,v]),A.useEffect(()=>{if(!t)return()=>{};if(t==="__revisit-widget"){const $=async O=>{if(O.data.type==="revisitWidget/CONFIG"&&g){const j=await Oie(O.data.payload);r(j)}};return window.addEventListener("message",$),window.parent.postMessage({type:"revisitWidget/READY"},"*"),()=>{window.removeEventListener("message",$)}}return Nie(t,e).then($=>{$&&r($)}),()=>{}},[t,e,g]),b.jsxs(b.Fragment,{children:[b.jsx(oN,{studyIds:e.configsList}),b.jsx(es.Main,{style:{height:"100dvh"},children:b.jsxs(zn,{ref:_,style:{height:"100%",maxHeight:"100dvh",overflow:"hidden"},justify:"space-between",children:[b.jsxs(At,{direction:"row",align:"center",justify:"space-between",children:[b.jsxs(At,{direction:"row",align:"center",gap:"md",children:[b.jsx(qr,{order:5,mr:"sm",children:t}),n&&b.jsx(H9e,{visibleParticipants:f.length>0?f:P,studyId:t||"",gap:"10px",hasAudio:p,hasScreenRecording:m})]}),b.jsxs(At,{direction:"row",align:"center",children:[b.jsx(He,{size:"sm",fw:500,children:"Stage:"}),b.jsx(_C,{data:l,value:o,onChange:$=>{$.includes("ALL")&&!o.includes("ALL")?a(["ALL"]):$.includes("ALL")&&o.includes("ALL")?a($.filter(O=>O!=="ALL")):$.length===0?a(["ALL"]):a($)},w:250,size:"sm",clearable:!1,maxValues:5,styles:{input:{minHeight:"36px"}},mx:"sm"}),b.jsx(He,{mt:-2,size:"sm",children:"Participants: "}),b.jsx(Ka.Group,{value:i,onChange:$=>s($),mb:"xs",mt:8,ml:"xs",children:b.jsxs(An,{children:[b.jsx(Ka,{value:"completed",label:f.length>0?`Completed (${R.completed} of ${I.completed})`:`Completed (${I.completed})`}),b.jsx(Ka,{value:"inprogress",label:f.length>0?`In Progress (${R.inprogress} of ${I.inprogress})`:`In Progress (${I.inprogress})`}),b.jsx(Ka,{value:"rejected",label:f.length>0?`Rejected (${R.rejected} of ${I.rejected})`:`Rejected (${I.rejected})`})]})})]})]}),b.jsx($l,{visible:k==="pending"}),k==="success"?b.jsxs(dr,{style:{flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden"},keepMounted:!1,variant:"outline",value:v,onChange:$=>y(`/analysis/stats/${t}/${$}`),children:[b.jsxs(dr.List,{children:[b.jsx(dr.Tab,{value:"summary",leftSection:b.jsx($et,{size:16}),children:"Study Summary"}),b.jsx(dr.Tab,{value:"table",leftSection:b.jsx(Nnt,{size:16}),children:"Participant View"}),b.jsx(dr.Tab,{value:"stats",leftSection:b.jsx(Iet,{size:16}),children:"Trial Stats"}),b.jsx(dr.Tab,{value:"tagging",leftSection:b.jsx(Mnt,{size:16}),children:"Coding"}),g?.getEngine()==="firebase"&&b.jsx(dr.Tab,{value:"live-monitor",leftSection:b.jsx(itt,{size:16}),children:"Live Monitor"}),b.jsx(dr.Tab,{value:"manage",leftSection:b.jsx(BEe,{size:16}),disabled:!w.isAdmin,children:"Manage"})]}),b.jsx(dr.Panel,{style:{overflow:"auto"},value:"summary",pt:"xs",children:n&&b.jsx(Cfn,{studyConfig:n,visibleParticipants:P})}),b.jsx(dr.Panel,{style:{height:`calc(100% - ${Yfn}px)`},value:"table",pt:"xs",children:n&&b.jsx(Pfn,{width:C,stageColors:c,visibleParticipants:P,studyConfig:n,refresh:()=>T(n,g,t),selectedParticipants:f,onSelectionChange:h})}),b.jsx(dr.Panel,{style:{overflow:"auto"},value:"stats",pt:"xs",children:n&&b.jsx($fn,{studyConfig:n,visibleParticipants:P})}),b.jsx(dr.Panel,{value:"tagging",pt:"xs",children:n&&g?.getEngine()==="firebase"?b.jsx(Gfn,{visibleParticipants:P,storageEngine:g}):b.jsx(So,{children:"Think aloud coding is only available when using Firebase."})}),g?.getEngine()==="firebase"&&b.jsx(dr.Panel,{style:{overflow:"auto"},value:"live-monitor",pt:"xs",children:n&&b.jsx(vln,{studyConfig:n,storageEngine:g,studyId:t,includedParticipants:i,selectedStages:o})}),b.jsx(dr.Panel,{value:"manage",pt:"xs",children:t&&w.isAdmin?b.jsx(jfn,{studyId:t,refresh:()=>T(n,g,t)}):b.jsx(C0,{mt:20,children:b.jsx(Qc,{title:"Unauthorized Access",variant:"light",color:"red",icon:b.jsx(Qm,{}),children:"You are not authorized to manage the data for this study."})})})]}):null]})})]})}function Ube({children:e,paramToCheck:t,paramCallback:n}){const{user:r,verifyAdminStatus:i,logout:s}=Hy(),{storageEngine:o}=Ii(),[a,l]=A.useState(!1),u=ro();return A.useEffect(()=>{(async()=>{if(a===!1)if(t&&n&&u[t]){const d=await n(u[t]);d&&l(d)}else l(!0);if(a)try{r&&await i(r)||s()}catch(d){s(),console.warn(d)}})()},[r.isAdmin,a]),r.determiningStatus||!o?b.jsx($l,{visible:r.determiningStatus||!o?.getEngine()}):a&&!r.isAdmin&&!r.determiningStatus?b.jsx(gX,{to:"/login"}):b.jsx(b.Fragment,{children:e})}async function q9e(e,t){if(e&&jc(e)){t(!0);try{return await e.login()}catch(n){Ek({title:"Error",message:n.message,color:"red"})}finally{t(!1)}}return null}function Jfn(){const{user:e}=Hy(),[t,n]=A.useState(!1),{storageEngine:r}=Ii();A.useEffect(()=>{!e.determiningStatus&&!e.isAdmin&&e.adminVerification&&Ek({title:"Unauthorized",message:"You are not authorized to use this application.",color:"red"})},[e.adminVerification]);const i=A.useMemo(()=>r?.getEngine(),[r]);return!e.determiningStatus&&e.isAdmin?b.jsx(gX,{to:"/"}):b.jsx(C0,{children:b.jsx(Uy,{padding:"lg",children:b.jsxs(At,{align:"center",direction:"column",justify:"center",children:[b.jsx(E0,{maw:200,mt:50,mb:100,src:`${Yi}revisitAssets/revisitLogoSquare.svg`,alt:"Revisit Logo"}),b.jsxs(b.Fragment,{children:[b.jsxs(He,{mb:20,children:["To access admin settings, please sign in using"," ",i==="supabase"?" Supabase":" Google","."]}),b.jsxs(Wt,{onClick:()=>q9e(r,n),leftSection:i==="supabase"?b.jsx(xX,{}):b.jsx(qnt,{}),variant:"filled",children:["Sign In With"," ",i==="supabase"?"Supabase":" Google "]})]}),b.jsx($l,{visible:t})]})})})}function Zfn(){const{user:e,triggerAuth:t,logout:n}=Hy(),{storageEngine:r}=Ii(),[i,s]=A.useState(!1),[o,a]=A.useState([]),[l,u]=A.useState(!1),[c,d]=A.useState(!1),[f,h]=A.useState(!1),[p,m]=A.useState(!1),[g,y]=A.useState(!1),[v,w]=A.useState(""),[_,C]=A.useState(null),S=J3e({initialValues:{email:""},validate:{email:WPt("Invalid email")}});A.useEffect(()=>{(async()=>{if(u(!0),r&&jc(r)){const O=await r?.getUserManagementData("authentication");s(O?.isEnabled||!1);const j=await r?.getUserManagementData("adminUsers");j&&j.adminUsersList&&a(j?.adminUsersList.map(B=>B.email).filter(B=>B!==null))}else s(!1);u(!1)})()},[r]);const T=async()=>{if(u(!0),r&&jc(r)){if(r.getEngine()==="supabase"){const{data:O}=await r.getSession();if(O.session&&O.session.user&&O.session.user.email){C({email:O.session.user.email,uid:O.session.user.id}),m(!0),u(!1);return}}const $=await q9e(r,u);$&&$.email?(C({email:$.email,uid:$.uid}),m(!0)):y(!0)}u(!1)},k=async $=>{u(!0),r&&jc(r)&&$&&(await r.changeAuth(!0),await r.addAdminUser($),a([$.email]),s(!0),t()),m(!1),u(!1)},I=async()=>{if(u(!0),r&&jc(r)){await r.addAdminUser({email:S.values.email,uid:null});const $=await r.getUserManagementData("adminUsers");a($?.adminUsersList.map(O=>O.email).filter(O=>O!==null)||[])}u(!1),d(!1),S.setValues({email:""})},R=$=>{h(!0),w($)},P=async()=>{if(u(!0),r&&jc(r)){await r.removeAdminUser(v);const $=await r.getUserManagementData("adminUsers");a($?.adminUsersList.map(O=>O.email).filter(O=>O!==null)||[])}h(!1),u(!1)},N=A.useMemo(()=>r&&jc(r),[r]);return b.jsxs(b.Fragment,{children:[b.jsx(C0,{children:b.jsxs(Uy,{withBorder:!0,style:{backgroundColor:"#FAFAFA"},children:[b.jsx(qr,{mb:20,order:3,children:"Authentication"}),i?b.jsx(At,{children:b.jsx(He,{children:"Authentication is enabled."})}):b.jsxs(At,{justify:"space-between",children:[b.jsx(De,{children:b.jsx(He,{children:"Authentication is currently disabled."})}),b.jsx(yt,{label:"You can only enable auth when using a cloud storage engine (Firebase/Supabase)",disabled:N,children:b.jsx(Wt,{onClick:$=>N?T():$.preventDefault(),color:"green","data-disabled":N?void 0:!0,style:{"&[dataDisabled]":{pointerEvents:"all"}},children:"Enable Authentication"})})]}),i?b.jsxs(At,{mt:40,direction:"column",children:[b.jsxs(At,{style:{borderBottom:"1px solid #dedede"},direction:"row",justify:"space-between",mb:15,pb:15,children:[b.jsx(qr,{order:6,children:"Enabled Users"}),b.jsx(CX,{style:{cursor:"pointer"},onClick:()=>d(!0)})]}),o.length>0?o.map($=>b.jsxs(At,{justify:"space-between",mb:10,children:[b.jsx(He,{children:$}),$===e.user?.email?b.jsx(He,{color:"blue",size:"xs",children:"You"}):b.jsx(Tn,{variant:"subtle",onClick:()=>R($),children:b.jsx(UEe,{color:"red"})})]},$)):null,b.jsx(At,{direction:"row",justify:"left",children:b.jsx(Wt,{onClick:()=>n(),mt:20,children:"Log out"})})]}):null]})}),b.jsx(Ti,{opened:c,onClose:()=>d(!1),title:"Add Admin User",children:b.jsxs(De,{component:"form",onSubmit:S.onSubmit(()=>I()),children:[b.jsx(kl,{leftSection:b.jsx(det,{}),placeholder:"User Email Address",...S.getInputProps("email")}),b.jsxs(At,{mt:30,justify:"right",children:[b.jsx(Wt,{mr:5,variant:"subtle",color:"red",onClick:()=>d(!1),children:"Cancel"}),b.jsx(Wt,{type:"submit",children:"Save"})]})]})}),b.jsxs(Ti,{opened:f,size:"large",onClose:()=>h(!1),title:b.jsxs(He,{fw:700,children:["Remove",v,"?"]}),children:[b.jsxs(He,{mt:40,children:["Are you sure you want to remove",b.jsx("b",{children:v})," ","as an administrator?"]}),b.jsxs(At,{mt:40,justify:"right",children:[b.jsx(Wt,{mr:5,variant:"subtle",color:"red",onClick:()=>h(!1),children:"Cancel"}),b.jsx(Wt,{onClick:()=>P(),children:"Yes, I'm sure."})]})]}),b.jsxs(Ti,{opened:p,size:"md",onClose:()=>m(!1),title:b.jsx(He,{fw:700,children:"Enable Authentication?"}),children:[b.jsxs(He,{mt:40,children:["User"," ",b.jsx("b",{children:_?.email})," ","will be added as an administrator to this application. After enabling authentication, you'll be able to add additional users below. This action cannot be undone."]}),b.jsxs(At,{mt:40,justify:"right",children:[b.jsx(Wt,{mr:5,variant:"subtle",color:"red",onClick:()=>m(!1),children:"Cancel"}),b.jsx(Wt,{onClick:()=>k(_),children:"Yes, I'm sure."})]})]}),b.jsxs(Ti,{opened:g,size:"md",onClose:()=>y(!1),title:b.jsx(He,{fw:700,children:"An Error Occurred."}),children:[b.jsxs(He,{mt:40,children:["An error has occurred when trying to enable authentication. Please consult the"," ",b.jsx("a",{href:"https://revisit.dev/docs/data-and-deployment/authentication-authorization/adding-removing-ui/",target:"_blank",rel:"noreferrer",children:"documentation"})," ","for more information."]}),b.jsx(At,{mt:40,justify:"right",children:b.jsx(Wt,{mr:5,onClick:()=>y(!1),children:"Okay"})})]}),b.jsx($l,{visible:l})]})}var qU={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var Vbe;function ehn(){return Vbe||(Vbe=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(r,i,s){function o(u,c){if(!i[u]){if(!r[u]){var d=typeof Am=="function"&&Am;if(!c&&d)return d(u,!0);if(a)return a(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var h=i[u]={exports:{}};r[u][0].call(h.exports,function(p){var m=r[u][1][p];return o(m||p)},h,h.exports,n,r,i,s)}return i[u].exports}for(var a=typeof Am=="function"&&Am,l=0;l<s.length;l++)o(s[l]);return o})({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var l=0,u=new o(p),c=s.document.createTextNode("");u.observe(c,{characterData:!0}),a=function(){c.data=l=++l%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var d=new s.MessageChannel;d.port1.onmessage=p,a=function(){d.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var g=s.document.createElement("script");g.onreadystatechange=function(){p(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:a=function(){setTimeout(p,0)};var f,h=[];function p(){f=!0;for(var g,y,v=h.length;v;){for(y=h,h=[],g=-1;++g<v;)y[g]();v=h.length}f=!1}r.exports=m;function m(g){h.push(g)===1&&!f&&a()}}).call(this,typeof Si<"u"?Si:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];r.exports=d;function d(C){if(typeof C!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,C!==o&&m(this,C)}d.prototype.catch=function(C){return this.then(null,C)},d.prototype.then=function(C,S){if(typeof C!="function"&&this.state===u||typeof S!="function"&&this.state===l)return this;var T=new this.constructor(o);if(this.state!==c){var k=this.state===u?C:S;h(T,k,this.outcome)}else this.queue.push(new f(T,C,S));return T};function f(C,S,T){this.promise=C,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}f.prototype.callFulfilled=function(C){a.resolve(this.promise,C)},f.prototype.otherCallFulfilled=function(C){h(this.promise,this.onFulfilled,C)},f.prototype.callRejected=function(C){a.reject(this.promise,C)},f.prototype.otherCallRejected=function(C){h(this.promise,this.onRejected,C)};function h(C,S,T){s(function(){var k;try{k=S(T)}catch(I){return a.reject(C,I)}k===C?a.reject(C,new TypeError("Cannot resolve promise with itself")):a.resolve(C,k)})}a.resolve=function(C,S){var T=g(p,S);if(T.status==="error")return a.reject(C,T.value);var k=T.value;if(k)m(C,k);else{C.state=u,C.outcome=S;for(var I=-1,R=C.queue.length;++I<R;)C.queue[I].callFulfilled(S)}return C},a.reject=function(C,S){C.state=l,C.outcome=S;for(var T=-1,k=C.queue.length;++T<k;)C.queue[T].callRejected(S);return C};function p(C){var S=C&&C.then;if(C&&(typeof C=="object"||typeof C=="function")&&typeof S=="function")return function(){S.apply(C,arguments)}}function m(C,S){var T=!1;function k(N){T||(T=!0,a.reject(C,N))}function I(N){T||(T=!0,a.resolve(C,N))}function R(){S(I,k)}var P=g(R);P.status==="error"&&k(P.value)}function g(C,S){var T={};try{T.value=C(S),T.status="success"}catch(k){T.status="error",T.value=k}return T}d.resolve=y;function y(C){return C instanceof this?C:a.resolve(new this(o),C)}d.reject=v;function v(C){var S=new this(o);return a.reject(S,C)}d.all=w;function w(C){var S=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=C.length,k=!1;if(!T)return this.resolve([]);for(var I=new Array(T),R=0,P=-1,N=new this(o);++P<T;)$(C[P],P);return N;function $(O,j){S.resolve(O).then(B,function(H){k||(k=!0,a.reject(N,H))});function B(H){I[j]=H,++R===T&&!k&&(k=!0,a.resolve(N,I))}}}d.race=_;function _(C){var S=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=C.length,k=!1;if(!T)return this.resolve([]);for(var I=-1,R=new this(o);++I<T;)P(C[I]);return R;function P(N){S.resolve(N).then(function($){k||(k=!0,a.resolve(R,$))},function($){k||(k=!0,a.reject(R,$))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof Si<"u"?Si:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ge){return typeof ge}:function(ge){return ge&&typeof Symbol=="function"&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge};function o(ge,Ne){if(!(ge instanceof Ne))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=a();function u(){try{if(!l||!l.open)return!1;var ge=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Ne=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!ge||Ne)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(ge,Ne){ge=ge||[],Ne=Ne||{};try{return new Blob(ge,Ne)}catch(Le){if(Le.name!=="TypeError")throw Le;for(var _e=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,Be=new _e,Ve=0;Ve<ge.length;Ve+=1)Be.append(ge[Ve]);return Be.getBlob(Ne.type)}}typeof Promise>"u"&&n(3);var d=Promise;function f(ge,Ne){Ne&&ge.then(function(_e){Ne(null,_e)},function(_e){Ne(_e)})}function h(ge,Ne,_e){typeof Ne=="function"&&ge.then(Ne),typeof _e=="function"&&ge.catch(_e)}function p(ge){return typeof ge!="string"&&(console.warn(ge+" used as a key, but it is not a string."),ge=String(ge)),ge}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var g="local-forage-detect-blob-support",y=void 0,v={},w=Object.prototype.toString,_="readonly",C="readwrite";function S(ge){for(var Ne=ge.length,_e=new ArrayBuffer(Ne),Be=new Uint8Array(_e),Ve=0;Ve<Ne;Ve++)Be[Ve]=ge.charCodeAt(Ve);return _e}function T(ge){return new d(function(Ne){var _e=ge.transaction(g,C),Be=c([""]);_e.objectStore(g).put(Be,"key"),_e.onabort=function(Ve){Ve.preventDefault(),Ve.stopPropagation(),Ne(!1)},_e.oncomplete=function(){var Ve=navigator.userAgent.match(/Chrome\/(\d+)/),Le=navigator.userAgent.match(/Edge\//);Ne(Le||!Ve||parseInt(Ve[1],10)>=43)}}).catch(function(){return!1})}function k(ge){return typeof y=="boolean"?d.resolve(y):T(ge).then(function(Ne){return y=Ne,y})}function I(ge){var Ne=v[ge.name],_e={};_e.promise=new d(function(Be,Ve){_e.resolve=Be,_e.reject=Ve}),Ne.deferredOperations.push(_e),Ne.dbReady?Ne.dbReady=Ne.dbReady.then(function(){return _e.promise}):Ne.dbReady=_e.promise}function R(ge){var Ne=v[ge.name],_e=Ne.deferredOperations.pop();if(_e)return _e.resolve(),_e.promise}function P(ge,Ne){var _e=v[ge.name],Be=_e.deferredOperations.pop();if(Be)return Be.reject(Ne),Be.promise}function N(ge,Ne){return new d(function(_e,Be){if(v[ge.name]=v[ge.name]||z(),ge.db)if(Ne)I(ge),ge.db.close();else return _e(ge.db);var Ve=[ge.name];Ne&&Ve.push(ge.version);var Le=l.open.apply(l,Ve);Ne&&(Le.onupgradeneeded=function(rt){var ct=Le.result;try{ct.createObjectStore(ge.storeName),rt.oldVersion<=1&&ct.createObjectStore(g)}catch(pt){if(pt.name==="ConstraintError")console.warn('The database "'+ge.name+'" has been upgraded from version '+rt.oldVersion+" to version "+rt.newVersion+', but the storage "'+ge.storeName+'" already exists.');else throw pt}}),Le.onerror=function(rt){rt.preventDefault(),Be(Le.error)},Le.onsuccess=function(){var rt=Le.result;rt.onversionchange=function(ct){ct.target.close()},_e(rt),R(ge)}})}function $(ge){return N(ge,!1)}function O(ge){return N(ge,!0)}function j(ge,Ne){if(!ge.db)return!0;var _e=!ge.db.objectStoreNames.contains(ge.storeName),Be=ge.version<ge.db.version,Ve=ge.version>ge.db.version;if(Be&&(ge.version!==Ne&&console.warn('The database "'+ge.name+`" can't be downgraded from version `+ge.db.version+" to version "+ge.version+"."),ge.version=ge.db.version),Ve||_e){if(_e){var Le=ge.db.version+1;Le>ge.version&&(ge.version=Le)}return!0}return!1}function B(ge){return new d(function(Ne,_e){var Be=new FileReader;Be.onerror=_e,Be.onloadend=function(Ve){var Le=btoa(Ve.target.result||"");Ne({__local_forage_encoded_blob:!0,data:Le,type:ge.type})},Be.readAsBinaryString(ge)})}function H(ge){var Ne=S(atob(ge.data));return c([Ne],{type:ge.type})}function q(ge){return ge&&ge.__local_forage_encoded_blob}function Y(ge){var Ne=this,_e=Ne._initReady().then(function(){var Be=v[Ne._dbInfo.name];if(Be&&Be.dbReady)return Be.dbReady});return h(_e,ge,ge),_e}function V(ge){I(ge);for(var Ne=v[ge.name],_e=Ne.forages,Be=0;Be<_e.length;Be++){var Ve=_e[Be];Ve._dbInfo.db&&(Ve._dbInfo.db.close(),Ve._dbInfo.db=null)}return ge.db=null,$(ge).then(function(Le){return ge.db=Le,j(ge)?O(ge):Le}).then(function(Le){ge.db=Ne.db=Le;for(var rt=0;rt<_e.length;rt++)_e[rt]._dbInfo.db=Le}).catch(function(Le){throw P(ge,Le),Le})}function L(ge,Ne,_e,Be){Be===void 0&&(Be=1);try{var Ve=ge.db.transaction(ge.storeName,Ne);_e(null,Ve)}catch(Le){if(Be>0&&(!ge.db||Le.name==="InvalidStateError"||Le.name==="NotFoundError"))return d.resolve().then(function(){if(!ge.db||Le.name==="NotFoundError"&&!ge.db.objectStoreNames.contains(ge.storeName)&&ge.version<=ge.db.version)return ge.db&&(ge.version=ge.db.version+1),O(ge)}).then(function(){return V(ge).then(function(){L(ge,Ne,_e,Be-1)})}).catch(_e);_e(Le)}}function z(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function U(ge){var Ne=this,_e={db:null};if(ge)for(var Be in ge)_e[Be]=ge[Be];var Ve=v[_e.name];Ve||(Ve=z(),v[_e.name]=Ve),Ve.forages.push(Ne),Ne._initReady||(Ne._initReady=Ne.ready,Ne.ready=Y);var Le=[];function rt(){return d.resolve()}for(var ct=0;ct<Ve.forages.length;ct++){var pt=Ve.forages[ct];pt!==Ne&&Le.push(pt._initReady().catch(rt))}var dt=Ve.forages.slice(0);return d.all(Le).then(function(){return _e.db=Ve.db,$(_e)}).then(function(Et){return _e.db=Et,j(_e,Ne._defaultConfig.version)?O(_e):Et}).then(function(Et){_e.db=Ve.db=Et,Ne._dbInfo=_e;for(var qt=0;qt<dt.length;qt++){var Fn=dt[qt];Fn!==Ne&&(Fn._dbInfo.db=_e.db,Fn._dbInfo.version=_e.version)}})}function G(ge,Ne){var _e=this;ge=p(ge);var Be=new d(function(Ve,Le){_e.ready().then(function(){L(_e._dbInfo,_,function(rt,ct){if(rt)return Le(rt);try{var pt=ct.objectStore(_e._dbInfo.storeName),dt=pt.get(ge);dt.onsuccess=function(){var Et=dt.result;Et===void 0&&(Et=null),q(Et)&&(Et=H(Et)),Ve(Et)},dt.onerror=function(){Le(dt.error)}}catch(Et){Le(Et)}})}).catch(Le)});return f(Be,Ne),Be}function Q(ge,Ne){var _e=this,Be=new d(function(Ve,Le){_e.ready().then(function(){L(_e._dbInfo,_,function(rt,ct){if(rt)return Le(rt);try{var pt=ct.objectStore(_e._dbInfo.storeName),dt=pt.openCursor(),Et=1;dt.onsuccess=function(){var qt=dt.result;if(qt){var Fn=qt.value;q(Fn)&&(Fn=H(Fn));var on=ge(Fn,qt.key,Et++);on!==void 0?Ve(on):qt.continue()}else Ve()},dt.onerror=function(){Le(dt.error)}}catch(qt){Le(qt)}})}).catch(Le)});return f(Be,Ne),Be}function ne(ge,Ne,_e){var Be=this;ge=p(ge);var Ve=new d(function(Le,rt){var ct;Be.ready().then(function(){return ct=Be._dbInfo,w.call(Ne)==="[object Blob]"?k(ct.db).then(function(pt){return pt?Ne:B(Ne)}):Ne}).then(function(pt){L(Be._dbInfo,C,function(dt,Et){if(dt)return rt(dt);try{var qt=Et.objectStore(Be._dbInfo.storeName);pt===null&&(pt=void 0);var Fn=qt.put(pt,ge);Et.oncomplete=function(){pt===void 0&&(pt=null),Le(pt)},Et.onabort=Et.onerror=function(){var on=Fn.error?Fn.error:Fn.transaction.error;rt(on)}}catch(on){rt(on)}})}).catch(rt)});return f(Ve,_e),Ve}function ue(ge,Ne){var _e=this;ge=p(ge);var Be=new d(function(Ve,Le){_e.ready().then(function(){L(_e._dbInfo,C,function(rt,ct){if(rt)return Le(rt);try{var pt=ct.objectStore(_e._dbInfo.storeName),dt=pt.delete(ge);ct.oncomplete=function(){Ve()},ct.onerror=function(){Le(dt.error)},ct.onabort=function(){var Et=dt.error?dt.error:dt.transaction.error;Le(Et)}}catch(Et){Le(Et)}})}).catch(Le)});return f(Be,Ne),Be}function se(ge){var Ne=this,_e=new d(function(Be,Ve){Ne.ready().then(function(){L(Ne._dbInfo,C,function(Le,rt){if(Le)return Ve(Le);try{var ct=rt.objectStore(Ne._dbInfo.storeName),pt=ct.clear();rt.oncomplete=function(){Be()},rt.onabort=rt.onerror=function(){var dt=pt.error?pt.error:pt.transaction.error;Ve(dt)}}catch(dt){Ve(dt)}})}).catch(Ve)});return f(_e,ge),_e}function ae(ge){var Ne=this,_e=new d(function(Be,Ve){Ne.ready().then(function(){L(Ne._dbInfo,_,function(Le,rt){if(Le)return Ve(Le);try{var ct=rt.objectStore(Ne._dbInfo.storeName),pt=ct.count();pt.onsuccess=function(){Be(pt.result)},pt.onerror=function(){Ve(pt.error)}}catch(dt){Ve(dt)}})}).catch(Ve)});return f(_e,ge),_e}function he(ge,Ne){var _e=this,Be=new d(function(Ve,Le){if(ge<0){Ve(null);return}_e.ready().then(function(){L(_e._dbInfo,_,function(rt,ct){if(rt)return Le(rt);try{var pt=ct.objectStore(_e._dbInfo.storeName),dt=!1,Et=pt.openKeyCursor();Et.onsuccess=function(){var qt=Et.result;if(!qt){Ve(null);return}ge===0||dt?Ve(qt.key):(dt=!0,qt.advance(ge))},Et.onerror=function(){Le(Et.error)}}catch(qt){Le(qt)}})}).catch(Le)});return f(Be,Ne),Be}function ie(ge){var Ne=this,_e=new d(function(Be,Ve){Ne.ready().then(function(){L(Ne._dbInfo,_,function(Le,rt){if(Le)return Ve(Le);try{var ct=rt.objectStore(Ne._dbInfo.storeName),pt=ct.openKeyCursor(),dt=[];pt.onsuccess=function(){var Et=pt.result;if(!Et){Be(dt);return}dt.push(Et.key),Et.continue()},pt.onerror=function(){Ve(pt.error)}}catch(Et){Ve(Et)}})}).catch(Ve)});return f(_e,ge),_e}function le(ge,Ne){Ne=m.apply(this,arguments);var _e=this.config();ge=typeof ge!="function"&&ge||{},ge.name||(ge.name=ge.name||_e.name,ge.storeName=ge.storeName||_e.storeName);var Be=this,Ve;if(!ge.name)Ve=d.reject("Invalid arguments");else{var Le=ge.name===_e.name&&Be._dbInfo.db,rt=Le?d.resolve(Be._dbInfo.db):$(ge).then(function(ct){var pt=v[ge.name],dt=pt.forages;pt.db=ct;for(var Et=0;Et<dt.length;Et++)dt[Et]._dbInfo.db=ct;return ct});ge.storeName?Ve=rt.then(function(ct){if(ct.objectStoreNames.contains(ge.storeName)){var pt=ct.version+1;I(ge);var dt=v[ge.name],Et=dt.forages;ct.close();for(var qt=0;qt<Et.length;qt++){var Fn=Et[qt];Fn._dbInfo.db=null,Fn._dbInfo.version=pt}var on=new d(function(Zn,en){var ur=l.open(ge.name,pt);ur.onerror=function(Os){var Aa=ur.result;Aa.close(),en(Os)},ur.onupgradeneeded=function(){var Os=ur.result;Os.deleteObjectStore(ge.storeName)},ur.onsuccess=function(){var Os=ur.result;Os.close(),Zn(Os)}});return on.then(function(Zn){dt.db=Zn;for(var en=0;en<Et.length;en++){var ur=Et[en];ur._dbInfo.db=Zn,R(ur._dbInfo)}}).catch(function(Zn){throw(P(ge,Zn)||d.resolve()).catch(function(){}),Zn})}}):Ve=rt.then(function(ct){I(ge);var pt=v[ge.name],dt=pt.forages;ct.close();for(var Et=0;Et<dt.length;Et++){var qt=dt[Et];qt._dbInfo.db=null}var Fn=new d(function(on,Zn){var en=l.deleteDatabase(ge.name);en.onerror=function(){var ur=en.result;ur&&ur.close(),Zn(en.error)},en.onblocked=function(){console.warn('dropInstance blocked for database "'+ge.name+'" until all open connections are closed')},en.onsuccess=function(){var ur=en.result;ur&&ur.close(),on(ur)}});return Fn.then(function(on){pt.db=on;for(var Zn=0;Zn<dt.length;Zn++){var en=dt[Zn];R(en._dbInfo)}}).catch(function(on){throw(P(ge,on)||d.resolve()).catch(function(){}),on})})}return f(Ve,Ne),Ve}var Ee={_driver:"asyncStorage",_initStorage:U,_support:u(),iterate:Q,getItem:G,setItem:ne,removeItem:ue,clear:se,length:ae,key:he,keys:ie,dropInstance:le};function X(){return typeof openDatabase=="function"}var fe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",de="~~local_forage_type~",te=/^~~local_forage_type~([^~]+)~/,ee="__lfsc__:",me=ee.length,Re="arbf",Te="blob",we="si08",$e="ui08",Ae="uic8",Oe="si16",xe="si32",je="ur16",Ue="ui32",nt="fl32",it="fl64",wt=me+Re.length,Zt=Object.prototype.toString;function Qt(ge){var Ne=ge.length*.75,_e=ge.length,Be,Ve=0,Le,rt,ct,pt;ge[ge.length-1]==="="&&(Ne--,ge[ge.length-2]==="="&&Ne--);var dt=new ArrayBuffer(Ne),Et=new Uint8Array(dt);for(Be=0;Be<_e;Be+=4)Le=fe.indexOf(ge[Be]),rt=fe.indexOf(ge[Be+1]),ct=fe.indexOf(ge[Be+2]),pt=fe.indexOf(ge[Be+3]),Et[Ve++]=Le<<2|rt>>4,Et[Ve++]=(rt&15)<<4|ct>>2,Et[Ve++]=(ct&3)<<6|pt&63;return dt}function Mn(ge){var Ne=new Uint8Array(ge),_e="",Be;for(Be=0;Be<Ne.length;Be+=3)_e+=fe[Ne[Be]>>2],_e+=fe[(Ne[Be]&3)<<4|Ne[Be+1]>>4],_e+=fe[(Ne[Be+1]&15)<<2|Ne[Be+2]>>6],_e+=fe[Ne[Be+2]&63];return Ne.length%3===2?_e=_e.substring(0,_e.length-1)+"=":Ne.length%3===1&&(_e=_e.substring(0,_e.length-2)+"=="),_e}function jt(ge,Ne){var _e="";if(ge&&(_e=Zt.call(ge)),ge&&(_e==="[object ArrayBuffer]"||ge.buffer&&Zt.call(ge.buffer)==="[object ArrayBuffer]")){var Be,Ve=ee;ge instanceof ArrayBuffer?(Be=ge,Ve+=Re):(Be=ge.buffer,_e==="[object Int8Array]"?Ve+=we:_e==="[object Uint8Array]"?Ve+=$e:_e==="[object Uint8ClampedArray]"?Ve+=Ae:_e==="[object Int16Array]"?Ve+=Oe:_e==="[object Uint16Array]"?Ve+=je:_e==="[object Int32Array]"?Ve+=xe:_e==="[object Uint32Array]"?Ve+=Ue:_e==="[object Float32Array]"?Ve+=nt:_e==="[object Float64Array]"?Ve+=it:Ne(new Error("Failed to get type for BinaryArray"))),Ne(Ve+Mn(Be))}else if(_e==="[object Blob]"){var Le=new FileReader;Le.onload=function(){var rt=de+ge.type+"~"+Mn(this.result);Ne(ee+Te+rt)},Le.readAsArrayBuffer(ge)}else try{Ne(JSON.stringify(ge))}catch(rt){console.error("Couldn't convert value into a JSON string: ",ge),Ne(null,rt)}}function gn(ge){if(ge.substring(0,me)!==ee)return JSON.parse(ge);var Ne=ge.substring(wt),_e=ge.substring(me,wt),Be;if(_e===Te&&te.test(Ne)){var Ve=Ne.match(te);Be=Ve[1],Ne=Ne.substring(Ve[0].length)}var Le=Qt(Ne);switch(_e){case Re:return Le;case Te:return c([Le],{type:Be});case we:return new Int8Array(Le);case $e:return new Uint8Array(Le);case Ae:return new Uint8ClampedArray(Le);case Oe:return new Int16Array(Le);case je:return new Uint16Array(Le);case xe:return new Int32Array(Le);case Ue:return new Uint32Array(Le);case nt:return new Float32Array(Le);case it:return new Float64Array(Le);default:throw new Error("Unkown type: "+_e)}}var Kn={serialize:jt,deserialize:gn,stringToBuffer:Qt,bufferToString:Mn};function Un(ge,Ne,_e,Be){ge.executeSql("CREATE TABLE IF NOT EXISTS "+Ne.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],_e,Be)}function Dr(ge){var Ne=this,_e={db:null};if(ge)for(var Be in ge)_e[Be]=typeof ge[Be]!="string"?ge[Be].toString():ge[Be];var Ve=new d(function(Le,rt){try{_e.db=openDatabase(_e.name,String(_e.version),_e.description,_e.size)}catch(ct){return rt(ct)}_e.db.transaction(function(ct){Un(ct,_e,function(){Ne._dbInfo=_e,Le()},function(pt,dt){rt(dt)})},rt)});return _e.serializer=Kn,Ve}function Jn(ge,Ne,_e,Be,Ve,Le){ge.executeSql(_e,Be,Ve,function(rt,ct){ct.code===ct.SYNTAX_ERR?rt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Ne.storeName],function(pt,dt){dt.rows.length?Le(pt,ct):Un(pt,Ne,function(){pt.executeSql(_e,Be,Ve,Le)},Le)},Le):Le(rt,ct)},Le)}function br(ge,Ne){var _e=this;ge=p(ge);var Be=new d(function(Ve,Le){_e.ready().then(function(){var rt=_e._dbInfo;rt.db.transaction(function(ct){Jn(ct,rt,"SELECT * FROM "+rt.storeName+" WHERE key = ? LIMIT 1",[ge],function(pt,dt){var Et=dt.rows.length?dt.rows.item(0).value:null;Et&&(Et=rt.serializer.deserialize(Et)),Ve(Et)},function(pt,dt){Le(dt)})})}).catch(Le)});return f(Be,Ne),Be}function Rn(ge,Ne){var _e=this,Be=new d(function(Ve,Le){_e.ready().then(function(){var rt=_e._dbInfo;rt.db.transaction(function(ct){Jn(ct,rt,"SELECT * FROM "+rt.storeName,[],function(pt,dt){for(var Et=dt.rows,qt=Et.length,Fn=0;Fn<qt;Fn++){var on=Et.item(Fn),Zn=on.value;if(Zn&&(Zn=rt.serializer.deserialize(Zn)),Zn=ge(Zn,on.key,Fn+1),Zn!==void 0){Ve(Zn);return}}Ve()},function(pt,dt){Le(dt)})})}).catch(Le)});return f(Be,Ne),Be}function fn(ge,Ne,_e,Be){var Ve=this;ge=p(ge);var Le=new d(function(rt,ct){Ve.ready().then(function(){Ne===void 0&&(Ne=null);var pt=Ne,dt=Ve._dbInfo;dt.serializer.serialize(Ne,function(Et,qt){qt?ct(qt):dt.db.transaction(function(Fn){Jn(Fn,dt,"INSERT OR REPLACE INTO "+dt.storeName+" (key, value) VALUES (?, ?)",[ge,Et],function(){rt(pt)},function(on,Zn){ct(Zn)})},function(Fn){if(Fn.code===Fn.QUOTA_ERR){if(Be>0){rt(fn.apply(Ve,[ge,pt,_e,Be-1]));return}ct(Fn)}})})}).catch(ct)});return f(Le,_e),Le}function sr(ge,Ne,_e){return fn.apply(this,[ge,Ne,_e,1])}function ui(ge,Ne){var _e=this;ge=p(ge);var Be=new d(function(Ve,Le){_e.ready().then(function(){var rt=_e._dbInfo;rt.db.transaction(function(ct){Jn(ct,rt,"DELETE FROM "+rt.storeName+" WHERE key = ?",[ge],function(){Ve()},function(pt,dt){Le(dt)})})}).catch(Le)});return f(Be,Ne),Be}function _r(ge){var Ne=this,_e=new d(function(Be,Ve){Ne.ready().then(function(){var Le=Ne._dbInfo;Le.db.transaction(function(rt){Jn(rt,Le,"DELETE FROM "+Le.storeName,[],function(){Be()},function(ct,pt){Ve(pt)})})}).catch(Ve)});return f(_e,ge),_e}function In(ge){var Ne=this,_e=new d(function(Be,Ve){Ne.ready().then(function(){var Le=Ne._dbInfo;Le.db.transaction(function(rt){Jn(rt,Le,"SELECT COUNT(key) as c FROM "+Le.storeName,[],function(ct,pt){var dt=pt.rows.item(0).c;Be(dt)},function(ct,pt){Ve(pt)})})}).catch(Ve)});return f(_e,ge),_e}function ht(ge,Ne){var _e=this,Be=new d(function(Ve,Le){_e.ready().then(function(){var rt=_e._dbInfo;rt.db.transaction(function(ct){Jn(ct,rt,"SELECT key FROM "+rt.storeName+" WHERE id = ? LIMIT 1",[ge+1],function(pt,dt){var Et=dt.rows.length?dt.rows.item(0).key:null;Ve(Et)},function(pt,dt){Le(dt)})})}).catch(Le)});return f(Be,Ne),Be}function pr(ge){var Ne=this,_e=new d(function(Be,Ve){Ne.ready().then(function(){var Le=Ne._dbInfo;Le.db.transaction(function(rt){Jn(rt,Le,"SELECT key FROM "+Le.storeName,[],function(ct,pt){for(var dt=[],Et=0;Et<pt.rows.length;Et++)dt.push(pt.rows.item(Et).key);Be(dt)},function(ct,pt){Ve(pt)})})}).catch(Ve)});return f(_e,ge),_e}function Yt(ge){return new d(function(Ne,_e){ge.transaction(function(Be){Be.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Ve,Le){for(var rt=[],ct=0;ct<Le.rows.length;ct++)rt.push(Le.rows.item(ct).name);Ne({db:ge,storeNames:rt})},function(Ve,Le){_e(Le)})},function(Be){_e(Be)})})}function tr(ge,Ne){Ne=m.apply(this,arguments);var _e=this.config();ge=typeof ge!="function"&&ge||{},ge.name||(ge.name=ge.name||_e.name,ge.storeName=ge.storeName||_e.storeName);var Be=this,Ve;return ge.name?Ve=new d(function(Le){var rt;ge.name===_e.name?rt=Be._dbInfo.db:rt=openDatabase(ge.name,"","",0),ge.storeName?Le({db:rt,storeNames:[ge.storeName]}):Le(Yt(rt))}).then(function(Le){return new d(function(rt,ct){Le.db.transaction(function(pt){function dt(on){return new d(function(Zn,en){pt.executeSql("DROP TABLE IF EXISTS "+on,[],function(){Zn()},function(ur,Os){en(Os)})})}for(var Et=[],qt=0,Fn=Le.storeNames.length;qt<Fn;qt++)Et.push(dt(Le.storeNames[qt]));d.all(Et).then(function(){rt()}).catch(function(on){ct(on)})},function(pt){ct(pt)})})}):Ve=d.reject("Invalid arguments"),f(Ve,Ne),Ve}var pn={_driver:"webSQLStorage",_initStorage:Dr,_support:X(),iterate:Rn,getItem:br,setItem:sr,removeItem:ui,clear:_r,length:In,key:ht,keys:pr,dropInstance:tr};function Qn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Cr(ge,Ne){var _e=ge.name+"/";return ge.storeName!==Ne.storeName&&(_e+=ge.storeName+"/"),_e}function Pr(){var ge="_localforage_support_test";try{return localStorage.setItem(ge,!0),localStorage.removeItem(ge),!1}catch{return!0}}function Or(){return!Pr()||localStorage.length>0}function oo(ge){var Ne=this,_e={};if(ge)for(var Be in ge)_e[Be]=ge[Be];return _e.keyPrefix=Cr(ge,Ne._defaultConfig),Or()?(Ne._dbInfo=_e,_e.serializer=Kn,d.resolve()):d.reject()}function ka(ge){var Ne=this,_e=Ne.ready().then(function(){for(var Be=Ne._dbInfo.keyPrefix,Ve=localStorage.length-1;Ve>=0;Ve--){var Le=localStorage.key(Ve);Le.indexOf(Be)===0&&localStorage.removeItem(Le)}});return f(_e,ge),_e}function Nu(ge,Ne){var _e=this;ge=p(ge);var Be=_e.ready().then(function(){var Ve=_e._dbInfo,Le=localStorage.getItem(Ve.keyPrefix+ge);return Le&&(Le=Ve.serializer.deserialize(Le)),Le});return f(Be,Ne),Be}function vc(ge,Ne){var _e=this,Be=_e.ready().then(function(){for(var Ve=_e._dbInfo,Le=Ve.keyPrefix,rt=Le.length,ct=localStorage.length,pt=1,dt=0;dt<ct;dt++){var Et=localStorage.key(dt);if(Et.indexOf(Le)===0){var qt=localStorage.getItem(Et);if(qt&&(qt=Ve.serializer.deserialize(qt)),qt=ge(qt,Et.substring(rt),pt++),qt!==void 0)return qt}}});return f(Be,Ne),Be}function Vn(ge,Ne){var _e=this,Be=_e.ready().then(function(){var Ve=_e._dbInfo,Le;try{Le=localStorage.key(ge)}catch{Le=null}return Le&&(Le=Le.substring(Ve.keyPrefix.length)),Le});return f(Be,Ne),Be}function Bi(ge){var Ne=this,_e=Ne.ready().then(function(){for(var Be=Ne._dbInfo,Ve=localStorage.length,Le=[],rt=0;rt<Ve;rt++){var ct=localStorage.key(rt);ct.indexOf(Be.keyPrefix)===0&&Le.push(ct.substring(Be.keyPrefix.length))}return Le});return f(_e,ge),_e}function ao(ge){var Ne=this,_e=Ne.keys().then(function(Be){return Be.length});return f(_e,ge),_e}function ch(ge,Ne){var _e=this;ge=p(ge);var Be=_e.ready().then(function(){var Ve=_e._dbInfo;localStorage.removeItem(Ve.keyPrefix+ge)});return f(Be,Ne),Be}function Id(ge,Ne,_e){var Be=this;ge=p(ge);var Ve=Be.ready().then(function(){Ne===void 0&&(Ne=null);var Le=Ne;return new d(function(rt,ct){var pt=Be._dbInfo;pt.serializer.serialize(Ne,function(dt,Et){if(Et)ct(Et);else try{localStorage.setItem(pt.keyPrefix+ge,dt),rt(Le)}catch(qt){(qt.name==="QuotaExceededError"||qt.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ct(qt),ct(qt)}})})});return f(Ve,_e),Ve}function bc(ge,Ne){if(Ne=m.apply(this,arguments),ge=typeof ge!="function"&&ge||{},!ge.name){var _e=this.config();ge.name=ge.name||_e.name,ge.storeName=ge.storeName||_e.storeName}var Be=this,Ve;return ge.name?Ve=new d(function(Le){ge.storeName?Le(Cr(ge,Be._defaultConfig)):Le(ge.name+"/")}).then(function(Le){for(var rt=localStorage.length-1;rt>=0;rt--){var ct=localStorage.key(rt);ct.indexOf(Le)===0&&localStorage.removeItem(ct)}}):Ve=d.reject("Invalid arguments"),f(Ve,Ne),Ve}var wc={_driver:"localStorageWrapper",_initStorage:oo,_support:Qn(),iterate:vc,getItem:Nu,setItem:Id,removeItem:ch,clear:ka,length:ao,key:Vn,keys:Bi,dropInstance:bc},lo=function(Ne,_e){return Ne===_e||typeof Ne=="number"&&typeof _e=="number"&&isNaN(Ne)&&isNaN(_e)},dh=function(Ne,_e){for(var Be=Ne.length,Ve=0;Ve<Be;){if(lo(Ne[Ve],_e))return!0;Ve++}return!1},$u=Array.isArray||function(ge){return Object.prototype.toString.call(ge)==="[object Array]"},mr={},Dd={},Rs={INDEXEDDB:Ee,WEBSQL:pn,LOCALSTORAGE:wc},Io=[Rs.INDEXEDDB._driver,Rs.WEBSQL._driver,Rs.LOCALSTORAGE._driver],Is=["dropInstance"],Mu=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Is),ta={description:"",driver:Io.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Yl(ge,Ne){ge[Ne]=function(){var _e=arguments;return ge.ready().then(function(){return ge[Ne].apply(ge,_e)})}}function Ds(){for(var ge=1;ge<arguments.length;ge++){var Ne=arguments[ge];if(Ne)for(var _e in Ne)Ne.hasOwnProperty(_e)&&($u(Ne[_e])?arguments[0][_e]=Ne[_e].slice():arguments[0][_e]=Ne[_e])}return arguments[0]}var fh=(function(){function ge(Ne){o(this,ge);for(var _e in Rs)if(Rs.hasOwnProperty(_e)){var Be=Rs[_e],Ve=Be._driver;this[_e]=Ve,mr[Ve]||this.defineDriver(Be)}this._defaultConfig=Ds({},ta),this._config=Ds({},this._defaultConfig,Ne),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return ge.prototype.config=function(_e){if((typeof _e>"u"?"undefined":s(_e))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Be in _e){if(Be==="storeName"&&(_e[Be]=_e[Be].replace(/\W/g,"_")),Be==="version"&&typeof _e[Be]!="number")return new Error("Database version must be a number.");this._config[Be]=_e[Be]}return"driver"in _e&&_e.driver?this.setDriver(this._config.driver):!0}else return typeof _e=="string"?this._config[_e]:this._config},ge.prototype.defineDriver=function(_e,Be,Ve){var Le=new d(function(rt,ct){try{var pt=_e._driver,dt=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!_e._driver){ct(dt);return}for(var Et=Mu.concat("_initStorage"),qt=0,Fn=Et.length;qt<Fn;qt++){var on=Et[qt],Zn=!dh(Is,on);if((Zn||_e[on])&&typeof _e[on]!="function"){ct(dt);return}}var en=function(){for(var Aa=function(uo){return function(){var zi=new Error("Method "+uo+" is not implemented by the current driver"),Di=d.reject(zi);return f(Di,arguments[arguments.length-1]),Di}},Ns=0,hh=Is.length;Ns<hh;Ns++){var xc=Is[Ns];_e[xc]||(_e[xc]=Aa(xc))}};en();var ur=function(Aa){mr[pt]&&console.info("Redefining LocalForage driver: "+pt),mr[pt]=_e,Dd[pt]=Aa,rt()};"_support"in _e?_e._support&&typeof _e._support=="function"?_e._support().then(ur,ct):ur(!!_e._support):ur(!0)}catch(Os){ct(Os)}});return h(Le,Be,Ve),Le},ge.prototype.driver=function(){return this._driver||null},ge.prototype.getDriver=function(_e,Be,Ve){var Le=mr[_e]?d.resolve(mr[_e]):d.reject(new Error("Driver not found."));return h(Le,Be,Ve),Le},ge.prototype.getSerializer=function(_e){var Be=d.resolve(Kn);return h(Be,_e),Be},ge.prototype.ready=function(_e){var Be=this,Ve=Be._driverSet.then(function(){return Be._ready===null&&(Be._ready=Be._initDriver()),Be._ready});return h(Ve,_e,_e),Ve},ge.prototype.setDriver=function(_e,Be,Ve){var Le=this;$u(_e)||(_e=[_e]);var rt=this._getSupportedDrivers(_e);function ct(){Le._config.driver=Le.driver()}function pt(qt){return Le._extend(qt),ct(),Le._ready=Le._initStorage(Le._config),Le._ready}function dt(qt){return function(){var Fn=0;function on(){for(;Fn<qt.length;){var Zn=qt[Fn];return Fn++,Le._dbInfo=null,Le._ready=null,Le.getDriver(Zn).then(pt).catch(on)}ct();var en=new Error("No available storage method found.");return Le._driverSet=d.reject(en),Le._driverSet}return on()}}var Et=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=Et.then(function(){var qt=rt[0];return Le._dbInfo=null,Le._ready=null,Le.getDriver(qt).then(function(Fn){Le._driver=Fn._driver,ct(),Le._wrapLibraryMethodsWithReady(),Le._initDriver=dt(rt)})}).catch(function(){ct();var qt=new Error("No available storage method found.");return Le._driverSet=d.reject(qt),Le._driverSet}),h(this._driverSet,Be,Ve),this._driverSet},ge.prototype.supports=function(_e){return!!Dd[_e]},ge.prototype._extend=function(_e){Ds(this,_e)},ge.prototype._getSupportedDrivers=function(_e){for(var Be=[],Ve=0,Le=_e.length;Ve<Le;Ve++){var rt=_e[Ve];this.supports(rt)&&Be.push(rt)}return Be},ge.prototype._wrapLibraryMethodsWithReady=function(){for(var _e=0,Be=Mu.length;_e<Be;_e++)Yl(this,Mu[_e])},ge.prototype.createInstance=function(_e){return new ge(_e)},ge})(),Ps=new fh;r.exports=Ps},{3:3}]},{},[4])(4)})})(qU)),qU.exports}var thn=ehn();const W9e=so(thn);var WU,Hbe;function nhn(){if(Hbe)return WU;Hbe=1;var e="Expected a function",t=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,l=typeof Si=="object"&&Si&&Si.Object===Object&&Si,u=typeof self=="object"&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),d=Object.prototype,f=d.toString,h=Math.max,p=Math.min,m=function(){return c.Date.now()};function g(S,T,k){var I,R,P,N,$,O,j=0,B=!1,H=!1,q=!0;if(typeof S!="function")throw new TypeError(e);T=C(T)||0,v(k)&&(B=!!k.leading,H="maxWait"in k,P=H?h(C(k.maxWait)||0,T):P,q="trailing"in k?!!k.trailing:q);function Y(se){var ae=I,he=R;return I=R=void 0,j=se,N=S.apply(he,ae),N}function V(se){return j=se,$=setTimeout(U,T),B?Y(se):N}function L(se){var ae=se-O,he=se-j,ie=T-ae;return H?p(ie,P-he):ie}function z(se){var ae=se-O,he=se-j;return O===void 0||ae>=T||ae<0||H&&he>=P}function U(){var se=m();if(z(se))return G(se);$=setTimeout(U,L(se))}function G(se){return $=void 0,q&&I?Y(se):(I=R=void 0,N)}function Q(){$!==void 0&&clearTimeout($),j=0,I=O=R=$=void 0}function ne(){return $===void 0?N:G(m())}function ue(){var se=m(),ae=z(se);if(I=arguments,R=this,O=se,ae){if($===void 0)return V(O);if(H)return $=setTimeout(U,T),Y(O)}return $===void 0&&($=setTimeout(U,T)),N}return ue.cancel=Q,ue.flush=ne,ue}function y(S,T,k){var I=!0,R=!0;if(typeof S!="function")throw new TypeError(e);return v(k)&&(I="leading"in k?!!k.leading:I,R="trailing"in k?!!k.trailing:R),g(S,T,{leading:I,maxWait:T,trailing:R})}function v(S){var T=typeof S;return!!S&&(T=="object"||T=="function")}function w(S){return!!S&&typeof S=="object"}function _(S){return typeof S=="symbol"||w(S)&&f.call(S)==n}function C(S){if(typeof S=="number")return S;if(_(S))return t;if(v(S)){var T=typeof S.valueOf=="function"?S.valueOf():S;S=v(T)?T+"":T}if(typeof S!="string")return S===0?S:+S;S=S.replace(r,"");var k=s.test(S);return k||o.test(S)?a(S.slice(2),k?2:8):i.test(S)?t:+S}return WU=y,WU}var rhn=nhn();const qbe=so(rhn),fx="#F05A30";class ihn{engine;testing;cloudEngine=!1;connected=!1;localForage=W9e.createInstance({name:"revisit"});collectionPrefix="prod-";studyId;currentParticipantId;participantData;uploadingAssetIds=[];constructor(t,n){this.engine=t,this.testing=n}isConnected(){return this.connected}getEngine(){return this.engine}isCloudEngine(){return this.cloudEngine}__throttleVerifyStudyDatabase=qbe(()=>new Promise((t,n)=>{this._verifyStudyDatabase().then(()=>{t()}).catch(r=>{this.connected=!1,console.error("Error verifying study database:",r),n(r)})}),1e4);__throttleSaveAnswers=qbe(async()=>{await this._saveAnswers()},3e3);async verifyStudyDatabase(){return await this.__throttleVerifyStudyDatabase()}async getStageData(t){const n=await this.getModes(t);if(n&&n.stage)return n.stage;const r={currentStage:{stageName:"DEFAULT",color:fx},allStages:[{stageName:"DEFAULT",color:fx}]};return await this.setCurrentStage(t,"DEFAULT",fx),r}async setCurrentStage(t,n,r=fx){const i=await this.getModes(t);i.stage||(i.stage={currentStage:{stageName:"DEFAULT",color:fx},allStages:[{stageName:"DEFAULT",color:fx}]}),i.stage.allStages.findIndex(a=>a.stageName===n)===-1&&i.stage.allStages.push({stageName:n,color:r}),i.stage.currentStage={stageName:n,color:r};const o={...i,stage:i.stage};await this._setModesDocument(t,o)}async updateStageColor(t,n,r){const i=await this.getModes(t);if(!i.stage)throw new Error("Stage data not initialized");const s=i.stage.allStages.map(u=>u.stageName===n?{...u,color:r}:u),a={currentStage:i.stage.currentStage.stageName===n?{...i.stage.currentStage,color:r}:i.stage.currentStage,allStages:s},l={...i,stage:a};await this._setModesDocument(t,l)}async saveConfig(t){const n=await this._getCurrentConfigHash(),r=await tH(JSON.stringify(t));if(await this._pushToStorage(`configs/${r}`,"config",t),await this._cacheStorageObject(`configs/${r}`,"config"),n&&n!==r){try{await this._deleteFromStorage("","sequenceArray")}catch{}await this.clearCurrentParticipantId()}await this._setCurrentConfigHash(r)}async getAllConfigsFromHash(t,n){const r=t.map(async s=>[s,await this._getFromStorage(`configs/${s}`,"config",n)]),i=await Promise.all(r);return Object.fromEntries(i)}async getCurrentParticipantId(t){if(t)return this.currentParticipantId=t,t;if(this.currentParticipantId)return this.currentParticipantId;if(!this.studyId)throw new Error("Study ID is not set");const n=await this.localForage.getItem(`${this.collectionPrefix}${this.studyId}/currentParticipantId`);return n?(this.currentParticipantId=n,n):(this.currentParticipantId=OLe(),await this.localForage.setItem(`${this.collectionPrefix}${this.studyId}/currentParticipantId`,this.currentParticipantId),this.currentParticipantId)}async clearCurrentParticipantId(){if(this.currentParticipantId=void 0,!this.studyId)throw new Error("Study ID is not set");return await this.localForage.removeItem(`${this.collectionPrefix}${this.studyId}/currentParticipantId`)}async _getSequence(){if(!this.currentParticipantId)throw new Error("Participant not initialized");if(this.studyId===void 0)throw new Error("Study ID is not set");let t=await this.getAllSequenceAssignments(this.studyId);const n=await this.getModes(this.studyId),i=(await this.getStageData(this.studyId)).currentStage.stageName,s=t.filter(d=>d.rejected&&!d.claimed);if(s.length>0){const d=s[0],f=d.timestamp;if(n.dataCollectionEnabled){const h={participantId:this.currentParticipantId,timestamp:f,rejected:!1,claimed:!1,completed:null,createdTime:new Date().getTime(),total:0,answered:[],isDynamic:!1,stage:i};await this._claimSequenceAssignment(d.participantId,d),await this._createSequenceAssignment(this.currentParticipantId,h,!1)}}else if(n.dataCollectionEnabled){const d=new Date().getTime(),f={participantId:this.currentParticipantId,timestamp:d,rejected:!1,claimed:!1,completed:null,createdTime:d,total:0,answered:[],isDynamic:!1,stage:i};await this._createSequenceAssignment(this.currentParticipantId,f,!0)}t=await this.getAllSequenceAssignments(this.studyId);const o=await this.getSequenceArray();if(!o)throw new Error("Latin square not initialized");const a=t.filter(d=>!d.rejected).findIndex(d=>d.participantId===this.currentParticipantId)%o.length;if(o.length===0)throw new Error("Something really bad happened with sequence assignment");if(a===-1)return{currentRow:o[Math.floor(Math.random()*o.length)],creationIndex:1};const l=o[a];if(!l)throw new Error("Latin square is empty");const c=t.sort((d,f)=>d.createdTime-f.createdTime).findIndex(d=>d.participantId===this.currentParticipantId)+1;return{currentRow:l,creationIndex:c}}async initializeParticipantSession(t,n,r,i){if(await this.verifyStudyDatabase(),await this.getCurrentParticipantId(i),!this.currentParticipantId)throw new Error("Participant not initialized");const s=await this._getFromStorage(`participants/${this.currentParticipantId}`,"participantData");if(this.studyId===void 0)throw new Error("Study ID is not set");const o=await this.getModes(this.studyId),l=(await this.getStageData(this.studyId)).currentStage.stageName;if(f2(s))return this.participantData=s,s;const u=await tH(JSON.stringify(n)),{currentRow:c,creationIndex:d}=await this._getSequence();return this.participantData={participantId:this.currentParticipantId,participantConfigHash:u,sequence:c,participantIndex:d,answers:{},searchParams:t,metadata:r,completed:!1,rejected:!1,participantTags:[],stage:l},o.dataCollectionEnabled&&await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData),this.participantData}async getAllParticipantIds(t){const n=this.studyId||t;if(n===void 0)throw new Error("Study ID is not set");return(await this.getAllSequenceAssignments(n)).map(i=>i.participantId)}async saveTags(t,n){await this._pushToStorage(`audio/transcriptAndTags/${n}`,"tags",t)}async getTags(t){return await this._getFromStorage(`audio/transcriptAndTags/${t}`,"tags")}async getAllParticipantAndTaskTags(t,n){const r=await this._getFromStorage(`audio/transcriptAndTags/${t}/${n}`,"participantTags");return r?.participantTags?r:(this.saveAllParticipantAndTaskTags(t,n,{participantTags:[],taskTags:{}}),{participantTags:[],taskTags:{}})}async saveAllParticipantAndTaskTags(t,n,r){return this._pushToStorage(`audio/transcriptAndTags/${t}/${n}`,"participantTags",r)}async getParticipantData(t){if(await this.verifyStudyDatabase(),this.currentParticipantId===null&&!t)throw new Error("Participant not initialized");const n=await this._getFromStorage(`participants/${t||this.currentParticipantId}`,"participantData");return f2(n)?n:null}async getParticipantTags(){await this.verifyStudyDatabase();const t=await this.getParticipantData();if(!t)throw new Error("Participant not initialized");return t.participantTags}async addParticipantTags(t){if(await this.verifyStudyDatabase(),!this.participantData)throw new Error("Participant data not initialized");this.participantData.participantTags=[...new Set([...this.participantData.participantTags,...t])],await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData)}async removeParticipantTags(t){if(await this.verifyStudyDatabase(),!this.participantData)throw new Error("Participant data not initialized");this.participantData.participantTags=this.participantData.participantTags.filter(n=>!t.includes(n)),await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData)}async rejectParticipant(t,n){const r=await this._getFromStorage(`participants/${t}`,"participantData");try{if(!r||!f2(r)||r.rejected)return;r.rejected={reason:n,timestamp:new Date().getTime()},await this._pushToStorage(`participants/${t}`,"participantData",r),await this._rejectParticipantRealtime(t)}catch(i){console.warn("Error rejecting participant:",i)}}async rejectCurrentParticipant(t){if(!this.currentParticipantId)throw new Error("Participant not initialized");return await this.rejectParticipant(this.currentParticipantId,t)}async undoRejectParticipant(t){const n=await this._getFromStorage(`participants/${t}`,"participantData");try{if(!n||!f2(n))return;n.rejected=!1,await this._pushToStorage(`participants/${t}`,"participantData",n),await this._undoRejectParticipantRealtime(t)}catch(r){console.warn("Error undoing participant rejection:",r)}}async undoRejectCurrentParticipant(){if(!this.currentParticipantId)throw new Error("Participant not initialized");return await this.undoRejectParticipant(this.currentParticipantId)}async getAllParticipantsData(t){const n=await this.getAllParticipantIds(t),r=[],i=n.map(async s=>{const o=await this._getFromStorage(`participants/${s}`,"participantData",t);f2(o)&&r.push(o)});return await Promise.all(i),r}async getParticipantsStatusCounts(t){const n=await this.getAllSequenceAssignments(t),r=n.filter(l=>l.completed&&!l.rejected).length,i=n.filter(l=>l.rejected).length,s=n.length-r-i,o=n.length>0?n[0].timestamp:null,a=n.length>0?n.at(-1).timestamp:null;return{completed:r,rejected:i,inProgress:s,minTime:o,maxTime:a}}async _saveAnswers(){if(await this.verifyStudyDatabase(),!this.currentParticipantId||this.participantData===void 0)throw new Error("Participant not initialized");await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData)}async saveAnswers(t){if(!this.currentParticipantId||this.participantData===void 0)throw new Error("Participant not initialized");this.participantData={...this.participantData,answers:t},await this.__throttleSaveAnswers(t)}async updateProgressData(t,n){if(!this.studyId)throw new Error("Study ID is not set");if(this.getEngine()!=="firebase")return;const r=n||this.currentParticipantId;if(!r)throw new Error("Participant not initialized");const s=(await this.getAllSequenceAssignments(this.studyId)).find(o=>o.participantId===r);if(s){const o={...s,total:s.total??t.total,answered:s.answered??t.answered,isDynamic:s.isDynamic??t.isDynamic};o.total=t.total,o.answered=t.answered,o.isDynamic=t.isDynamic,await this._createSequenceAssignment(r,o,!1)}}async verifyCompletion(){if(await this.verifyStudyDatabase(),!this.studyId)throw new Error("Study not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const t=await this.getParticipantData();if(!t)throw new Error("Participant not initialized");if(this.uploadingAssetIds.length>0)return!1;if(t.completed)return!0;const r=await this.getModes(this.studyId),i=Object.values(t.answers).map(o=>o.endTime).reduce((o,a)=>Math.max(o,a),0),s=Object.values(this.participantData?.answers||{}).map(o=>o.endTime).reduce((o,a)=>Math.max(o,a),0);return this.participantData&&i===s?(this.participantData.completed=!0,r.dataCollectionEnabled&&(await this._completeCurrentParticipantRealtime(),await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData),await this._cacheStorageObject(`participants/${this.currentParticipantId}`,"participantData")),!0):!1}async getAsset(t){return t?new Promise(r=>{const i=new XMLHttpRequest;i.responseType="blob",i.onload=()=>{const s=i.response,o=URL.createObjectURL(s);r(o)},i.open("GET",t),i.send()}):null}async getAudio(t,n){const r=await this._getAudioUrl(t,n);return await this.getAsset(r)}async getAudioUrl(t,n){const r=await this._getAudioUrl(t,n);return r||null}async getTranscriptUrl(t,n){if(!this._getTranscriptUrl)return null;const r=await this._getTranscriptUrl(t,n);return r||null}async saveAsset(t,n,r){const i=`${t}/${r}`,s=`${t}/${this.currentParticipantId}`;this.uploadingAssetIds.push(i),await this._pushToStorage(s,r,n),await this._cacheStorageObject(s,r),this.uploadingAssetIds=this.uploadingAssetIds.filter(o=>o!==i)}async saveAudioRecording(t,n){return this.saveAsset("audio",t,n)}async getScreenRecording(t,n){const r=await this._getScreenRecordingUrl(t,n);return this.getAsset(r)}async saveScreenRecording(t,n){return this.saveAsset("screenRecording",t,n)}async getSequenceArray(){await this.verifyStudyDatabase();const t=await this._getFromStorage("","sequenceArray");return Array.isArray(t)?t:null}async setSequenceArray(t){await this.verifyStudyDatabase(),await this._pushToStorage("","sequenceArray",t)}async __testingReset(){this.currentParticipantId=void 0,this.participantData=void 0,this.localForage.setItem(`${this.collectionPrefix}${this.studyId}/currentParticipantId`,void 0)}async createSnapshot(t,n){const r=`${this.collectionPrefix}${t}`;if(!await this._directoryExists(`${r}/participants`))return console.warn(`Source directory ${r} does not exist.`),{status:"FAILED",error:{message:"There is currently no data in your study. A snapshot could not be created.",title:"Failed to Create Snapshot."}};const i=new Date,s=i.getUTCFullYear(),o=(i.getUTCMonth()+1).toString().padStart(2,"0"),a=i.getUTCDate().toString().padStart(2,"0"),l=i.getUTCHours().toString().padStart(2,"0"),u=i.getUTCMinutes().toString().padStart(2,"0"),c=i.getUTCSeconds().toString().padStart(2,"0"),d=`${s}-${o}-${a}T${l}:${u}:${c}`,f=`${this.collectionPrefix}${t}-snapshot-${d}`;this.getEngine()==="localStorage"?await this._copyDirectory(`${r}/`,`${f}/`):(await this._copyDirectory(`${r}/configs`,`${f}/configs`),await this._copyDirectory(`${r}/participants`,`${f}/participants`),await this._copyDirectory(`${r}/audio`,`${f}/audio`),await this._copyDirectory(`${r}/screenRecording`,`${f}/screenRecording`),await this._copyDirectory(r,f),await this._copyRealtimeData(r,f)),await this._addDirectoryNameToSnapshots(f,t);const h=[];if(n){const p=await this.removeSnapshotOrLive(r,t);p.status==="FAILED"?h.push({title:p.error.title,message:p.error.message,color:"red"}):h.push({title:"Success!",message:"Successfully deleted live data.",color:"green"})}return h.push({message:"Successfully created snapshot",title:"Success!",color:"green"}),{status:"SUCCESS",notifications:h}}async removeSnapshotOrLive(t,n){const r=t.startsWith(this.collectionPrefix)?t:`${this.collectionPrefix}${t}`;try{return this.getEngine()==="localStorage"?await this._deleteDirectory(`${r}/`):(await this._deleteDirectory(`${r}/configs`),await this._deleteDirectory(`${r}/participants`),await this._deleteDirectory(`${r}/audio`),await this._deleteDirectory(`${r}/screenRecording`),await this._deleteDirectory(r),await this._deleteRealtimeData(r)),await this._removeDirectoryNameFromSnapshots(r,n),{status:"SUCCESS",notifications:[{message:"Successfully deleted snapshot or live data.",title:"Success!",color:"green"}]}}catch{return{status:"FAILED",error:{title:"Failed to delete live data or snapshot",message:"There was an unspecified error when trying to remove a snapshot or live data."}}}}async restoreSnapshot(t,n){const r=`${this.collectionPrefix}${t}`,i=[];try{const s=await this.createSnapshot(t,!0);return s.status==="FAILED"?(console.warn("No live data to capture."),i.push({title:s.error.title,message:s.error.message,color:"yellow"})):i.push({title:"Success!",message:"Successfully created snapshot of live data.",color:"green"}),await this._copyDirectory(`${n}/configs`,`${r}/configs`),await this._copyDirectory(`${n}/participants`,`${r}/participants`),await this._copyDirectory(`${n}/audio`,`${r}/audio`),await this._copyDirectory(`${n}/screenRecording`,`${r}/screenRecording`),await this._copyDirectory(n,r),await this._copyRealtimeData(n,r),i.push({message:"Successfully restored snapshot to live data.",title:"Success!",color:"green"}),{status:"SUCCESS",notifications:i}}catch(s){return console.error("Error trying to delete a snapshot",s),{status:"FAILED",error:{title:"Failed to restore a snapshot fully.",message:"There was an unspecified error when trying to restore this snapshot."}}}}async renameSnapshot(t,n,r){try{return await this._changeDirectoryNameInSnapshots(t,n,r),{status:"SUCCESS",notifications:[{message:"Successfully renamed snapshot.",title:"Success!",color:"green"}]}}catch(i){return console.error("Error renaming collection in metadata",i),{status:"FAILED",error:{title:"Failed to Rename Snapshot.",message:"There was an error when trying to rename the snapshot."}}}}}class shn extends ihn{studyDatabase=W9e.createInstance({name:"revisit"});constructor(t=!1){super("localStorage",t)}async _getFromStorage(t,n,r){const i=`${this.collectionPrefix}${r||this.studyId}/${t}_${n}`;return await this.studyDatabase.getItem(i)}async _pushToStorage(t,n,r){await this.verifyStudyDatabase();const i=`${this.collectionPrefix}${this.studyId}/${t}_${n}`;await this.studyDatabase.setItem(i,r)}async _deleteFromStorage(t,n){await this.verifyStudyDatabase();const r=`${this.collectionPrefix}${this.studyId}/${t}_${n}`;await this.studyDatabase.removeItem(r)}async _cacheStorageObject(){}async _verifyStudyDatabase(){if(!this.studyDatabase||!this.studyId)throw new Error("Study database not initialized")}async _getCurrentConfigHash(){await this.verifyStudyDatabase();const t=`${this.collectionPrefix}${this.studyId}/configHash`;return await this.studyDatabase.getItem(t)||null}async _setCurrentConfigHash(t){await this.verifyStudyDatabase();const n=`${this.collectionPrefix}${this.studyId}/configHash`;await this.studyDatabase.setItem(n,t)}async getAllSequenceAssignments(t){const n=`${this.collectionPrefix}${t}/sequenceAssignment`,r=await this.studyDatabase.getItem(n);return r?Object.values(r).sort((i,s)=>i.timestamp-s.timestamp):[]}async _createSequenceAssignment(t,n){if(await this.verifyStudyDatabase(),this.studyId===void 0)throw new Error("Study ID is not set");const r=`${this.collectionPrefix}${this.studyId}/sequenceAssignment`,i=await this.studyDatabase.getItem(r)||{};i[t]=n,await this.studyDatabase.setItem(r,i)}async _completeCurrentParticipantRealtime(){if(!this.currentParticipantId)throw new Error("Participant not initialized");if(this.studyId===void 0)throw new Error("Study ID is not set");const t=`${this.collectionPrefix}${this.studyId}/sequenceAssignment`,n=await this.studyDatabase.getItem(t)||{};if(n[this.currentParticipantId])n[this.currentParticipantId]={...n[this.currentParticipantId],completed:new Date().getTime()};else throw new Error("Participant sequence assignment not found");await this.studyDatabase.setItem(t,n)}async _rejectParticipantRealtime(t){await this.verifyStudyDatabase();const n=`${this.collectionPrefix}${this.studyId}/sequenceAssignment`,r=await this.studyDatabase.getItem(n)||{},i=r[t],s=Object.values(r).find(o=>o.claimed&&o.timestamp===i.timestamp);if(i&&s){s.claimed=!1,s.rejected=!0,await this.studyDatabase.setItem(n,r),r[t]={...i,timestamp:new Date().getTime(),rejected:!0},await this.studyDatabase.setItem(n,r);return}i&&(i.rejected=!0,await this.studyDatabase.setItem(n,r))}async _undoRejectParticipantRealtime(t){await this.verifyStudyDatabase();const n=`${this.collectionPrefix}${this.studyId}/sequenceAssignment`,r=await this.studyDatabase.getItem(n)||{},i=r[t];i&&(i.rejected=!1,await this.studyDatabase.setItem(n,r))}async _claimSequenceAssignment(t,n){await this.verifyStudyDatabase();const r=`${this.collectionPrefix}${this.studyId}/sequenceAssignment`,i=await this.studyDatabase.getItem(r)||{};if(i[t])i[t]={...n,claimed:!0},await this.studyDatabase.setItem(r,i);else throw new Error(`Sequence assignment for participant ${t} not found`)}async initializeStudyDb(t){this.studyId=t}async connect(){this.connected=!0}async getModes(t){const n=`${this.collectionPrefix}${t}/modes`,r=await this.studyDatabase.getItem(n);if(r)return r;const i={dataCollectionEnabled:!0,studyNavigatorEnabled:!0,analyticsInterfacePubliclyAccessible:!0};return this.studyDatabase.setItem(n,i),i}async setMode(t,n,r){const i=`${this.collectionPrefix}${t}/modes`,s=await this.studyDatabase.getItem(i);if(!s)throw new Error("Modes not initialized");s[n]=r,this.studyDatabase.setItem(i,s)}async _setModesDocument(t,n){const r=`${this.collectionPrefix}${t}/modes`;await this.studyDatabase.setItem(r,n)}async _getAudioUrl(t,n){if(await this.verifyStudyDatabase(),this.studyId===void 0)throw new Error("Study ID is not set");const r=await this._getFromStorage(`audio/${n||this.currentParticipantId}`,t);if(!r)throw new Error(`Audio for task ${t} and participant ${n||this.currentParticipantId} not found`);return URL.createObjectURL(r)}async _getScreenRecordingUrl(t,n){if(await this.verifyStudyDatabase(),this.studyId===void 0)throw new Error("Study ID is not set");const r=await this._getFromStorage(`screenRecording/${n||this.currentParticipantId}`,t);if(!r)throw new Error(`ScreenRecording for task ${t} and participant ${n||this.currentParticipantId} not found`);return URL.createObjectURL(r)}async _testingReset(t){if(!t)throw new Error("Study ID is required for reset");const r=(await this.studyDatabase.keys()).filter(i=>i.startsWith(`${this.collectionPrefix}${t}/`));await Promise.all(r.map(i=>this.studyDatabase.removeItem(i))),await super.__testingReset()}async getSnapshots(t){const n=`${this.collectionPrefix}${t}/snapshots`;return await this.studyDatabase.getItem(n)||{}}async _directoryExists(t){return(await this.studyDatabase.keys()).some(r=>r.startsWith(t))}async _copyDirectory(t,n){const s=(await this.studyDatabase.keys()).filter(o=>o.startsWith(t)).map(async o=>{if(o.endsWith("/snapshots")||o.endsWith("modes")||o.endsWith("configHash")||o.endsWith("currentParticipantId"))return;const a=await this.studyDatabase.getItem(o),l=o.replace(t,n);await this.studyDatabase.setItem(l,a)});await Promise.all(s)}async _deleteDirectory(t){const i=(await this.studyDatabase.keys()).filter(s=>s.startsWith(t)&&!s.includes("snapshots")).map(s=>this.studyDatabase.removeItem(s));await Promise.all(i)}async _copyRealtimeData(t,n){await this._copyDirectory(t,n)}async _deleteRealtimeData(t){await this._deleteDirectory(t)}async _addDirectoryNameToSnapshots(t,n){await this.verifyStudyDatabase();const r=`${this.collectionPrefix}${n}/snapshots`,i=await this.studyDatabase.getItem(r)||{};i[t]||(i[t]={name:t},await this.studyDatabase.setItem(r,i))}async _removeDirectoryNameFromSnapshots(t,n){await this.verifyStudyDatabase();const r=`${this.collectionPrefix}${n}/snapshots`,i=await this.studyDatabase.getItem(r)||{};i[t]&&(delete i[t],await this.studyDatabase.setItem(r,i))}async _changeDirectoryNameInSnapshots(t,n,r){await this.verifyStudyDatabase();const i=`${this.collectionPrefix}${r}/snapshots`,s=await this.studyDatabase.getItem(i)||{};if(s[t])s[t]={name:n},await this.studyDatabase.setItem(i,s);else throw new Error(`Snapshot with name ${t} does not exist`)}}var GU,Wbe;function oL(){if(Wbe)return GU;Wbe=1;var e=W3e;function t(o,a){var l,u="",c=0,d=!0,f=0,h;function p(){return h=o.charAt(f),f++,h}for(p(),h==="-"&&(u="-",p());h>="0"&&h<="9";)d&&(h=="0"?c++:d=!1),u+=h,p();if(d&&c--,h===".")for(u+=".";p()&&h>="0"&&h<="9";)u+=h;if(h==="e"||h==="E")for(u+=h,p(),(h==="-"||h==="+")&&(u+=h,p());h>="0"&&h<="9";)u+=h,p();for(;h&&h<=" ";)p();if(a&&(h===","||h==="}"||h==="]"||h==="#"||h==="/"&&(o[f]==="/"||o[f]==="*"))&&(h=0),l=+u,!(h||c||!isFinite(l)))return l}function n(o,a){return Object.defineProperty&&Object.defineProperty(o,"__COMMENTS__",{enumerable:!1,writable:!0}),o.__COMMENTS__=a||{}}function r(o){Object.defineProperty(o,"__COMMENTS__",{value:void 0})}function i(o){return o.__COMMENTS__}function s(o){if(!o)return"";var a=o.split(`
`),l,u,c,d;for(c=0;c<a.length;c++)for(l=a[c],d=l.length,u=0;u<d;u++){var f=l[u];if(f==="#")break;if(f==="/"&&(l[u+1]==="/"||l[u+1]==="*")){l[u+1]==="*"&&(c=a.length);break}else if(f>" "){a[c]="# "+l;break}}return a.join(`
`)}return GU={EOL:e.EOL||`
`,tryParseNumber:t,createComment:n,removeComment:r,getComment:i,forceComment:s},GU}var YU,Gbe;function ohn(){return Gbe||(Gbe=1,YU="3.2.1"),YU}var KU,Ybe;function Qie(){if(Ybe)return KU;Ybe=1;function e(a,l){if(Object.prototype.toString.apply(a)!=="[object Array]"){if(a)throw new Error("dsf option must contain an array!");return n}else if(a.length===0)return n;var u=[];function c(d){return{}.toString.call(d)==="[object Function]"}return a.forEach(function(d){if(!d.name||!c(d.parse)||!c(d.stringify))throw new Error("extension does not match the DSF interface");u.push(function(){try{if(l=="parse")return d.parse.apply(null,arguments);if(l=="stringify"){var f=d.stringify.apply(null,arguments);if(f!==void 0&&(typeof f!="string"||f.length===0||f[0]==='"'||[].some.call(f,function(h){return r(h)})))throw new Error("value may not be empty, start with a quote or contain a punctuator character except colon: "+f);return f}else throw new Error("Invalid type")}catch(h){throw new Error("DSF-"+d.name+" failed; "+h.message)}})}),t.bind(null,u)}function t(a,l){if(a)for(var u=0;u<a.length;u++){var c=a[u](l);if(c!==void 0)return c}}function n(){}function r(a){return a==="{"||a==="}"||a==="["||a==="]"||a===","}function i(){return{name:"math",parse:function(a){switch(a){case"+inf":case"inf":case"+Inf":case"Inf":return 1/0;case"-inf":case"-Inf":return-1/0;case"nan":case"NaN":return NaN}},stringify:function(a){if(typeof a=="number"){if(1/a===-1/0)return"-0";if(a===1/0)return"Inf";if(a===-1/0)return"-Inf";if(isNaN(a))return"NaN"}}}}i.description="support for Inf/inf, -Inf/-inf, Nan/naN and -0";function s(a){var l=a&&a.out;return{name:"hex",parse:function(u){if(/^0x[0-9A-Fa-f]+$/.test(u))return parseInt(u,16)},stringify:function(u){if(l&&Number.isInteger(u))return"0x"+u.toString(16)}}}s.description="parse hexadecimal numbers prefixed with 0x";function o(){return{name:"date",parse:function(a){if(/^\d{4}-\d{2}-\d{2}$/.test(a)||/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}(?:.\d+)(?:Z|[+-]\d{2}:\d{2})$/.test(a)){var l=Date.parse(a);if(!isNaN(l))return new Date(l)}},stringify:function(a){if(Object.prototype.toString.call(a)==="[object Date]"){var l=a.toISOString();return l.indexOf("T00:00:00.000Z",l.length-14)!==-1?l.substr(0,10):l}}}}return o.description="support ISO dates",KU={loadDsf:e,std:{math:i,hex:s,date:o}},KU}var XU,Kbe;function ahn(){return Kbe||(Kbe=1,XU=function(e,t){var n=oL(),r=Qie(),i,s,o,a={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},l,u;function c(){s=0,o=" "}function d(O){return O==="{"||O==="}"||O==="["||O==="]"||O===","||O===":"}function f(O){var j,B=0,H=1;for(j=s-1;j>0&&i[j]!==`
`;j--,B++);for(;j>0;j--)i[j]===`
`&&H++;throw new Error(O+" at line "+H+","+B+" >>>"+i.substr(s-B,20)+" ...")}function h(){return o=i.charAt(s),s++,o}function p(O){return i.charAt(s+O)}function m(O){for(var j="",B=o;h();){if(o===B)return h(),O&&B==="'"&&o==="'"&&j.length===0?(h(),g()):j;if(o==="\\")if(h(),o==="u"){for(var H=0,q=0;q<4;q++){h();var Y=o.charCodeAt(0),V;o>="0"&&o<="9"?V=Y-48:o>="a"&&o<="f"?V=Y-97+10:o>="A"&&o<="F"?V=Y-65+10:f("Bad \\u char "+o),H=H*16+V}j+=String.fromCharCode(H)}else if(typeof a[o]=="string")j+=a[o];else break;else o===`
`||o==="\r"?f("Bad string containing newline"):j+=o}f("Bad string")}function g(){for(var O="",j=0,B=0;;){var H=p(-B-5);if(!H||H===`
`)break;B++}function q(){for(var Y=B;o&&o<=" "&&o!==`
`&&Y-- >0;)h()}for(;o&&o<=" "&&o!==`
`;)h();for(o===`
`&&(h(),q());;){if(!o)f("Bad multiline string");else if(o==="'"){if(j++,h(),j===3)return O.slice(-1)===`
`&&(O=O.slice(0,-1)),O;continue}else for(;j>0;)O+="'",j--;o===`
`?(O+=`
`,h(),q()):(o!=="\r"&&(O+=o),h())}}function y(){if(o==='"'||o==="'")return m(!1);for(var O="",j=s,B=-1;;){if(o===":")return O?B>=0&&B!==O.length&&(s=j+B,f("Found whitespace in your key name (use quotes to include)")):f("Found ':' but no key name (for an empty key name use quotes)"),O;o<=" "?o?B<0&&(B=O.length):f("Found EOF while looking for a key name (check your syntax)"):d(o)?f("Found '"+o+"' where a key name was expected (check your syntax or use quotes if the key name includes {}[],: or whitespace)"):O+=o,h()}}function v(){for(;o;){for(;o&&o<=" ";)h();if(o==="#"||o==="/"&&p(0)==="/")for(;o&&o!==`
`;)h();else if(o==="/"&&p(0)==="*"){for(h(),h();o&&!(o==="*"&&p(0)==="/");)h();o&&(h(),h())}else break}}function w(){var O=o;for(d(o)&&f("Found a punctuator character '"+o+"' when expecting a quoteless string (check your syntax)");;){h();var j=o==="\r"||o===`
`||o==="";if(j||o===","||o==="}"||o==="]"||o==="#"||o==="/"&&(p(0)==="/"||p(0)==="*")){var B=O[0];switch(B){case"f":if(O.trim()==="false")return!1;break;case"n":if(O.trim()==="null")return null;break;case"t":if(O.trim()==="true")return!0;break;default:if(B==="-"||B>="0"&&B<="9"){var H=n.tryParseNumber(O);if(H!==void 0)return H}}if(j){O=O.trim();var q=u(O);return q!==void 0?q:O}}O+=o}}function _(O,j){var B;for(O--,B=s-2;B>O&&i[B]<=" "&&i[B]!==`
`;B--);i[B]===`
`&&B--,i[B]==="\r"&&B--;var H=i.substr(O,B-O+1);for(B=0;B<H.length;B++)if(H[B]>" "){var q=H.indexOf(`
`);if(q>=0){var Y=[H.substr(0,q),H.substr(q+1)];return j&&Y[0].trim().length===0&&Y.shift(),Y}else return[H]}return[]}function C(O){function j(H,q){var Y,V,L,z;switch(typeof H){case"string":H.indexOf(q)>=0&&(z=H);break;case"object":if(Object.prototype.toString.apply(H)==="[object Array]")for(Y=0,L=H.length;Y<L;Y++)z=j(H[Y],q)||z;else for(V in H)Object.prototype.hasOwnProperty.call(H,V)&&(z=j(H[V],q)||z)}return z}function B(H){var q=j(O,H);return q?"found '"+H+`' in a string value, your mistake could be with:
  > `+q+`
  (unquoted strings contain everything up to the next line!)`:""}return B("}")||B("]")}function S(){var O=[],j,B,H;try{if(l&&(j=n.createComment(O,{a:[]})),h(),B=s,v(),j&&(H=_(B,!0).join(`
`)),o==="]")return h(),j&&(j.e=[H]),O;for(;o;){if(O.push(k()),B=s,v(),o===","&&(h(),B=s,v()),j){var q=_(B);j.a.push([H||"",q[0]||""]),H=q[1]}if(o==="]")return h(),j&&(j.a[j.a.length-1][1]+=H||""),O;v()}f("End of input while parsing an array (missing ']')")}catch(Y){throw Y.hint=Y.hint||C(O),Y}}function T(O){var j="",B={},H,q,Y;try{if(l&&(H=n.createComment(B,{c:{},o:[]})),O?q=1:(h(),q=s),v(),H&&(Y=_(q,!0).join(`
`)),o==="}"&&!O)return H&&(H.e=[Y]),h(),B;for(;o;){if(j=y(),v(),o!==":"&&f("Expected ':' instead of '"+o+"'"),h(),B[j]=k(),q=s,v(),o===","&&(h(),q=s,v()),H){var V=_(q);H.c[j]=[Y||"",V[0]||""],Y=V[1],H.o.push(j)}if(o==="}"&&!O)return h(),H&&(H.c[j][1]+=Y||""),B;v()}if(O)return B;f("End of input while parsing an object (missing '}')")}catch(L){throw L.hint=L.hint||C(B),L}}function k(){switch(v(),o){case"{":return T();case"[":return S();case"'":case'"':return m(!0);default:return w()}}function I(O,j){var B=s;if(v(),o&&f("Syntax error, found trailing characters"),l){var H=j.join(`
`),q=_(B).join(`
`);if(q||H){var Y=n.createComment(O,n.getComment(O));Y.r=[H,q]}}return O}function R(){v();var O=l?_(1):null;switch(o){case"{":return I(T(),O);case"[":return I(S(),O);default:return I(k(),O)}}function P(){v();var O=l?_(1):null;switch(o){case"{":return I(T(),O);case"[":return I(S(),O)}try{return I(T(!0),O)}catch(j){c();try{return I(k(),O)}catch{throw j}}}if(typeof e!="string")throw new Error("source is not a string");var N=null,$=!0;return t&&typeof t=="object"&&(l=t.keepWsc,N=t.dsf,$=t.legacyRoot!==!1),u=r.loadDsf(N,"parse"),i=e,c(),$?P():R()}),XU}var QU,Xbe;function lhn(){return Xbe||(Xbe=1,QU=function(e,t){var n=oL(),r=Qie(),i={obj:["{","}"],arr:["[","]"],key:["",""],qkey:['"','"'],col:[":",""],com:[",",""],str:["",""],qstr:['"','"'],mstr:["'''","'''"],num:["",""],lit:["",""],dsf:["",""],esc:["\\",""],uni:["\\u",""],rem:["",""]},s=n.EOL,o="  ",a=!1,l=!1,u=!1,c=!1,d=0,f=1,h="",p=null,m=!1,g=i;if(t&&typeof t=="object"){t.quotes=t.quotes==="always"?"strings":t.quotes,(t.eol===`
`||t.eol===`\r
`)&&(s=t.eol),a=t.keepWsc,d=t.condense||0,l=t.bracesSameLine,u=t.quotes==="all"||t.quotes==="keys",c=t.quotes==="all"||t.quotes==="strings"||t.separator===!0,c||t.multiline=="off"?f=0:f=t.multiline=="no-tabs"?2:1,h=t.separator===!0?g.com[0]:"",p=t.dsf,m=t.sortProps,typeof t.space=="number"?o=new Array(t.space+1).join(" "):typeof t.space=="string"&&(o=t.space),t.colors===!0&&(g={obj:["\x1B[37m{\x1B[0m","\x1B[37m}\x1B[0m"],arr:["\x1B[37m[\x1B[0m","\x1B[37m]\x1B[0m"],key:["\x1B[33m","\x1B[0m"],qkey:['\x1B[33m"','"\x1B[0m'],col:["\x1B[37m:\x1B[0m",""],com:["\x1B[37m,\x1B[0m",""],str:["\x1B[37;1m","\x1B[0m"],qstr:['\x1B[37;1m"','"\x1B[0m'],mstr:["\x1B[37;1m'''","'''\x1B[0m"],num:["\x1B[36;1m","\x1B[0m"],lit:["\x1B[36m","\x1B[0m"],dsf:["\x1B[37m","\x1B[0m"],esc:["\x1B[31m\\","\x1B[0m"],uni:["\x1B[31m\\u","\x1B[0m"],rem:["\x1B[35m","\x1B[0m"]});var y,v=Object.keys(i);for(y=v.length-1;y>=0;y--){var w=v[y];g[w].push(i[w][0].length,i[w][1].length)}}var _,C="---\u2028--\uFEFF-",S=new RegExp('[\\\\\\"\0-'+C+"]","g"),T=new RegExp(`^\\s|^"|^'|^#|^\\/\\*|^\\/\\/|^\\{|^\\}|^\\[|^\\]|^:|^,|\\s$|[\0-`+C+"]","g"),k=new RegExp("'''|^[\\s]+$|[\0-"+(f===2?"	":"\b")+"\v\f-"+C+"]","g"),I=new RegExp("^(true|false|null)\\s*((,|\\]|\\}|#|//|/\\*).*)?$"),R={"\b":"b","	":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\"},P=/[,\{\[\}\]\s:#"']|\/\/|\/\*/,N="",$=0;function O(z,U){return $+=z[0].length+z[1].length-z[2]-z[3],z[0]+U+z[1]}function j(z){return z.replace(S,function(U){var G=R[U];return typeof G=="string"?O(g.esc,G):O(g.uni,("0000"+U.charCodeAt(0).toString(16)).slice(-4))})}function B(z,U,G,Q){return z?(T.lastIndex=0,I.lastIndex=0,c||G||T.test(z)||n.tryParseNumber(z,!0)!==void 0||I.test(z)?(S.lastIndex=0,k.lastIndex=0,S.test(z)?!k.test(z)&&!Q&&f?H(z,U):O(g.qstr,j(z)):O(g.qstr,z)):O(g.str,z)):O(g.qstr,"")}function H(z,U){var G,Q=z.replace(/\r/g,"").split(`
`);if(U+=o,Q.length===1)return O(g.mstr,Q[0]);var ne=s+U+g.mstr[0];for(G=0;G<Q.length;G++)ne+=s,Q[G]&&(ne+=U+Q[G]);return ne+s+U+g.mstr[1]}function q(z){return z?u||P.test(z)?(S.lastIndex=0,O(g.qkey,S.test(z)?j(z):z)):O(g.key,z):'""'}function Y(z,U,G,Q){function ne(jt){return jt&&jt[jt[0]==="\r"?1:0]===`
`}function ue(jt){return jt&&!ne(jt)}function se(jt,gn,Kn){if(!jt)return"";jt=n.forceComment(jt);var Un,Dr=jt.length;for(Un=0;Un<Dr&&jt[Un]<=" ";Un++);return Kn&&Un>0&&(jt=jt.substr(Un)),Un<Dr?gn+O(g.rem,jt):jt}var ae=_(z);if(ae!==void 0)return O(g.dsf,ae);switch(typeof z){case"string":return B(z,N,U,Q);case"number":return isFinite(z)?O(g.num,String(z)):O(g.lit,"null");case"boolean":return O(g.lit,String(z));case"object":if(!z)return O(g.lit,"null");var he;a&&(he=n.getComment(z));var ie=Object.prototype.toString.apply(z)==="[object Array]",le=N;N+=o;var Ee=s+le,X=s+N,fe=G||l?"":Ee,de=[],te,ee=d?[]:null,me=c,Re=f,Te=h?"":g.com[0],we=0,$e,Ae,Oe,xe,je,Ue,nt,it,wt;if(ie){for($e=0,Ae=z.length;$e<Ae;$e++){if(te=$e<Ae-1,he?(Ue=he.a[$e]||[],nt=ue(Ue[1]),de.push(se(Ue[0],`
`)+X),ee&&(Ue[0]||Ue[1]||nt)&&(ee=null)):de.push(X),$=0,xe=z[$e],de.push(Y(xe,he?nt:!1,!0)+(te?h:"")),ee){switch(typeof xe){case"string":$=0,c=!0,f=0,ee.push(Y(xe,!1,!0)+(te?g.com[0]:"")),c=me,f=Re;break;case"object":if(xe){ee=null;break}default:ee.push(de[de.length-1]+(te?Te:""));break}te&&($+=g.com[0].length-g.com[2]),we+=$}he&&Ue[1]&&de.push(se(Ue[1],nt?" ":`
`,nt))}Ae===0?he&&he.e&&de.push(se(he.e[0],`
`)+Ee):de.push(Ee),de.length===0?it=O(g.arr,""):(it=fe+O(g.arr,de.join("")),ee&&(wt=ee.join(" "),wt.length-we<=d&&(it=O(g.arr,wt))))}else{var Zt=he?he.o.slice():[],Qt=[];for(Oe in z)Object.prototype.hasOwnProperty.call(z,Oe)&&Zt.indexOf(Oe)<0&&Qt.push(Oe);m&&Qt.sort();var Mn=Zt.concat(Qt);for($e=0,Ae=Mn.length;$e<Ae;$e++)if(te=$e<Ae-1,Oe=Mn[$e],he?(Ue=he.c[Oe]||[],nt=ue(Ue[1]),de.push(se(Ue[0],`
`)+X),ee&&(Ue[0]||Ue[1]||nt)&&(ee=null)):de.push(X),$=0,xe=z[Oe],je=Y(xe,he&&nt),de.push(q(Oe)+g.col[0]+(ne(je)?"":" ")+je+(te?h:"")),he&&Ue[1]&&de.push(se(Ue[1],nt?" ":`
`,nt)),ee){switch(typeof xe){case"string":$=0,c=!0,f=0,je=Y(xe,!1),c=me,f=Re,ee.push(q(Oe)+g.col[0]+" "+je+(te?g.com[0]:""));break;case"object":if(xe){ee=null;break}default:ee.push(de[de.length-1]+(te?Te:""));break}$+=g.col[0].length-g.col[2],te&&($+=g.com[0].length-g.com[2]),we+=$}Ae===0?he&&he.e&&de.push(se(he.e[0],`
`)+Ee):de.push(Ee),de.length===0?it=O(g.obj,""):(it=fe+O(g.obj,de.join("")),ee&&(wt=ee.join(" "),wt.length-we<=d&&(it=O(g.obj,wt))))}return N=le,it}}_=r.loadDsf(p,"stringify");var V="",L=a?L=(n.getComment(e)||{}).r:null;return L&&L[0]&&(V=L[0]+`
`),V+=Y(e,null,!0,!0),L&&(V+=L[1]||""),V}),QU}var JU,Qbe;function uhn(){if(Qbe)return JU;Qbe=1;var e=oL();function t(c,d,f){var h;return c&&(h={b:c}),d&&((h=h||{}).a=d),f&&((h=h||{}).x=f),h}function n(c,d){if(!(c===null||typeof c!="object")){var f=e.getComment(c);f&&e.removeComment(c);var h,p,m,g;if(Object.prototype.toString.apply(c)==="[object Array]"){for(g={a:{}},h=0,p=c.length;h<p;h++)s(g.a,h,f.a[h],n(c[h]))&&(m=!0);!m&&f.e&&(g.e=t(f.e[0],f.e[1]),m=!0)}else{g={s:{}};var y,v=Object.keys(c);for(f&&f.o?(y=[],f.o.concat(v).forEach(function(_){Object.prototype.hasOwnProperty.call(c,_)&&y.indexOf(_)<0&&y.push(_)})):y=v,g.o=y,h=0,p=y.length;h<p;h++){var w=y[h];s(g.s,w,f.c[w],n(c[w]))&&(m=!0)}!m&&f.e&&(g.e=t(f.e[0],f.e[1]),m=!0)}return d&&f&&f.r&&(g.r=t(f.r[0],f.r[1])),m?g:void 0}}function r(){var c="";return[].forEach.call(arguments,function(d){d&&d.trim()!==""&&(c&&(c+="; "),c+=d.trim())}),c}function i(c,d){var f=[];if(l(c,d,f,[]),f.length>0){var h=u(d,null,1);h+=`
# Orphaned comments:
`,f.forEach(function(p){h+=("# "+p.path.join("/")+": "+r(p.b,p.a,p.e)).replace(`
`,"\\n ")+`
`}),u(d,h,1)}}function s(c,d,f,h){var p=t(f?f[0]:void 0,f?f[1]:void 0,h);return p&&(c[d]=p),p}function o(c,d){var f=t(d.b,d.a);return f.path=c,f}function a(c,d,f){if(c){var h,p;if(c.a)for(h=0,p=c.a.length;h<p;h++){var m=f.slice().concat([h]),g=c.a[h];g&&(d.push(o(m,g)),a(g.x,d,m))}else c.o&&c.o.forEach(function(y){var v=f.slice().concat([y]),w=c.s[y];w&&(d.push(o(v,w)),a(w.x,d,v))});c.e&&d.push(o(f,c.e))}}function l(c,d,f,h){if(c){if(d===null||typeof d!="object"){a(c,f,h);return}var p,m=e.createComment(d);if(h.length===0&&c.r&&(m.r=[c.r.b,c.r.a]),Object.prototype.toString.apply(d)==="[object Array]"){m.a=[];var g=c.a||{};for(var y in g)if(g.hasOwnProperty(y)){p=parseInt(y);var v=c.a[y];if(v){var w=h.slice().concat([p]);p<d.length?(m.a[p]=[v.b,v.a],l(v.x,d[p],f,w)):(f.push(o(w,v)),a(v.x,f,w))}}p===0&&c.e&&(m.e=[c.e.b,c.e.a])}else m.c={},m.o=[],(c.o||[]).forEach(function(_){var C=h.slice().concat([_]),S=c.s[_];Object.prototype.hasOwnProperty.call(d,_)?(m.o.push(_),S&&(m.c[_]=[S.b,S.a],l(S.x,d[_],f,C))):S&&(f.push(o(C,S)),a(S.x,f,C))}),c.e&&(m.e=[c.e.b,c.e.a])}}function u(c,d,f){var h=e.createComment(c,e.getComment(c));return h.r||(h.r=["",""]),(d||d==="")&&(h.r[f]=e.forceComment(d)),h.r[f]||""}return JU={extract:function(c){return n(c,!0)},merge:i,header:function(c,d){return u(c,d,0)},footer:function(c,d){return u(c,d,1)}},JU}/*!
 * Hjson v3.2.1
 * https://hjson.github.io
 *
 * Copyright 2014-2017 Christian Zangl, MIT license
 * Details and documentation:
 * https://github.com/hjson/hjson-js
 *
 * This code is based on the the JSON version by Douglas Crockford:
 * https://github.com/douglascrockford/JSON-js (json_parse.js, json2.js)
 */var ZU,Jbe;function chn(){if(Jbe)return ZU;Jbe=1;var e=oL(),t=ohn(),n=ahn(),r=lhn(),i=uhn(),s=Qie();return ZU={parse:n,stringify:r,endOfLine:function(){return e.EOL},setEndOfLine:function(o){(o===`
`||o===`\r
`)&&(e.EOL=o)},version:t,rt:{parse:function(o,a){return(a=a||{}).keepWsc=!0,n(o,a)},stringify:function(o,a){return(a=a||{}).keepWsc=!0,r(o,a)}},comments:i,dsf:s.std},ZU}chn();const dhn=()=>{};var Zbe={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9e=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},fhn=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Jie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,h=u&63;l||(h=64,o||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(G9e(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):fhn(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new hhn;const f=s<<2|a>>4;if(r.push(f),u!==64){const h=a<<4&240|u>>2;if(r.push(h),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class hhn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const phn=function(e){const t=G9e(e);return Jie.encodeByteArray(t,!0)},Y9e=function(e){return phn(e).replace(/\./g,"")},K9e=function(e){try{return Jie.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mhn(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ghn=()=>mhn().__FIREBASE_DEFAULTS__,yhn=()=>{if(typeof process>"u"||typeof Zbe>"u")return;const e=Zbe.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},vhn=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&K9e(e[1]);return t&&JSON.parse(t)},bhn=()=>{try{return dhn()||ghn()||yhn()||vhn()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},whn=e=>{var t;return(t=bhn())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ewe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X9e(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xhn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ep())}function _hn(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Chn(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Ehn(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Q9e(){try{return typeof indexedDB=="object"}catch{return!1}}function Shn(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Thn="FirebaseError";class z0 extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Thn,Object.setPrototypeOf(this,z0.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,AE.prototype.create)}}class AE{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?khn(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new z0(i,a,r)}}function khn(e,t){return e.replace(Ahn,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Ahn=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J9e(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Rhn(e,t){const n=new Ihn(e,t);return n.subscribe.bind(n)}class Ihn{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Dhn(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=eV),i.error===void 0&&(i.error=eV),i.complete===void 0&&(i.complete=eV);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dhn(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function eV(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(e){return e&&e._delegate?e._delegate:e}class g0{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mi;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(mi||(mi={}));const Phn={debug:mi.DEBUG,verbose:mi.VERBOSE,info:mi.INFO,warn:mi.WARN,error:mi.ERROR,silent:mi.SILENT},Ohn=mi.INFO,Nhn={[mi.DEBUG]:"log",[mi.VERBOSE]:"log",[mi.INFO]:"info",[mi.WARN]:"warn",[mi.ERROR]:"error"},$hn=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=Nhn[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class lL{constructor(t){this.name=t,this._logLevel=Ohn,this._logHandler=$hn,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in mi))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Phn[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,mi.DEBUG,...t),this._logHandler(this,mi.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,mi.VERBOSE,...t),this._logHandler(this,mi.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,mi.INFO,...t),this._logHandler(this,mi.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,mi.WARN,...t),this._logHandler(this,mi.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,mi.ERROR,...t),this._logHandler(this,mi.ERROR,...t)}}const Mhn=(e,t)=>t.some(n=>e instanceof n);let twe,nwe;function Fhn(){return twe||(twe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Lhn(){return nwe||(nwe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z9e=new WeakMap,tY=new WeakMap,eBe=new WeakMap,tV=new WeakMap,Zie=new WeakMap;function jhn(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(uy(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Z9e.set(n,e)}).catch(()=>{}),Zie.set(t,e),t}function Bhn(e){if(tY.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});tY.set(e,t)}let nY={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return tY.get(e);if(t==="objectStoreNames")return e.objectStoreNames||eBe.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return uy(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function zhn(e){nY=e(nY)}function Uhn(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(nV(this),t,...n);return eBe.set(r,t.sort?t.sort():[t]),uy(r)}:Lhn().includes(e)?function(...t){return e.apply(nV(this),t),uy(Z9e.get(this))}:function(...t){return uy(e.apply(nV(this),t))}}function Vhn(e){return typeof e=="function"?Uhn(e):(e instanceof IDBTransaction&&Bhn(e),Mhn(e,Fhn())?new Proxy(e,nY):e)}function uy(e){if(e instanceof IDBRequest)return jhn(e);if(tV.has(e))return tV.get(e);const t=Vhn(e);return t!==e&&(tV.set(e,t),Zie.set(t,e)),t}const nV=e=>Zie.get(e);function Hhn(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=uy(o);return r&&o.addEventListener("upgradeneeded",l=>{r(uy(o.result),l.oldVersion,l.newVersion,uy(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const qhn=["get","getKey","getAll","getAllKeys","count"],Whn=["put","add","delete","clear"],rV=new Map;function rwe(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(rV.get(t))return rV.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Whn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qhn.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return rV.set(t,s),s}zhn(e=>({...e,get:(t,n,r)=>rwe(t,n)||e.get(t,n,r),has:(t,n)=>!!rwe(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ghn{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Yhn(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Yhn(e){const t=e.getComponent();return t?.type==="VERSION"}const rY="@firebase/app",iwe="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=new lL("@firebase/app"),Khn="@firebase/app-compat",Xhn="@firebase/analytics-compat",Qhn="@firebase/analytics",Jhn="@firebase/app-check-compat",Zhn="@firebase/app-check",epn="@firebase/auth",tpn="@firebase/auth-compat",npn="@firebase/database",rpn="@firebase/data-connect",ipn="@firebase/database-compat",spn="@firebase/functions",opn="@firebase/functions-compat",apn="@firebase/installations",lpn="@firebase/installations-compat",upn="@firebase/messaging",cpn="@firebase/messaging-compat",dpn="@firebase/performance",fpn="@firebase/performance-compat",hpn="@firebase/remote-config",ppn="@firebase/remote-config-compat",mpn="@firebase/storage",gpn="@firebase/storage-compat",ypn="@firebase/firestore",vpn="@firebase/ai",bpn="@firebase/firestore-compat",wpn="firebase",xpn="11.10.0",_pn={[rY]:"fire-core",[Khn]:"fire-core-compat",[Qhn]:"fire-analytics",[Xhn]:"fire-analytics-compat",[Zhn]:"fire-app-check",[Jhn]:"fire-app-check-compat",[epn]:"fire-auth",[tpn]:"fire-auth-compat",[npn]:"fire-rtdb",[rpn]:"fire-data-connect",[ipn]:"fire-rtdb-compat",[spn]:"fire-fn",[opn]:"fire-fn-compat",[apn]:"fire-iid",[lpn]:"fire-iid-compat",[upn]:"fire-fcm",[cpn]:"fire-fcm-compat",[dpn]:"fire-perf",[fpn]:"fire-perf-compat",[hpn]:"fire-rc",[ppn]:"fire-rc-compat",[mpn]:"fire-gcs",[gpn]:"fire-gcs-compat",[ypn]:"fire-fst",[bpn]:"fire-fst-compat",[vpn]:"fire-vertex","fire-js":"fire-js",[wpn]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cpn=new Map,Epn=new Map,swe=new Map;function owe(e,t){try{e.container.addComponent(t)}catch(n){y0.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function v0(e){const t=e.name;if(swe.has(t))return y0.debug(`There were multiple attempts to register component ${t}.`),!1;swe.set(t,e);for(const n of Cpn.values())owe(n,e);for(const n of Epn.values())owe(n,e);return!0}function $g(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Spn={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ese=new AE("app","Firebase",Spn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=xpn;function Ef(e,t,n){var r;let i=(r=_pn[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),y0.warn(a.join(" "));return}v0(new g0(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tpn="firebase-heartbeat-database",kpn=1,tA="firebase-heartbeat-store";let iV=null;function tBe(){return iV||(iV=Hhn(Tpn,kpn,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(tA)}catch(n){console.warn(n)}}}}).catch(e=>{throw ese.create("idb-open",{originalErrorMessage:e.message})})),iV}async function Apn(e){try{const n=(await tBe()).transaction(tA),r=await n.objectStore(tA).get(nBe(e));return await n.done,r}catch(t){if(t instanceof z0)y0.warn(t.message);else{const n=ese.create("idb-get",{originalErrorMessage:t?.message});y0.warn(n.message)}}}async function awe(e,t){try{const r=(await tBe()).transaction(tA,"readwrite");await r.objectStore(tA).put(t,nBe(e)),await r.done}catch(n){if(n instanceof z0)y0.warn(n.message);else{const r=ese.create("idb-set",{originalErrorMessage:n?.message});y0.warn(r.message)}}}function nBe(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rpn=1024,Ipn=30;class Dpn{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Opn(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=lwe();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Ipn){const o=Npn(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){y0.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=lwe(),{heartbeatsToSend:r,unsentEntries:i}=Ppn(this._heartbeatsCache.heartbeats),s=Y9e(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return y0.warn(n),""}}}function lwe(){return new Date().toISOString().substring(0,10)}function Ppn(e,t=Rpn){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),uwe(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),uwe(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Opn{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Q9e()?Shn().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Apn(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return awe(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return awe(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function uwe(e){return Y9e(JSON.stringify({version:2,heartbeats:e})).length}function Npn(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $pn(e){v0(new g0("platform-logger",t=>new Ghn(t),"PRIVATE")),v0(new g0("heartbeat",t=>new Dpn(t),"PRIVATE")),Ef(rY,iwe,e),Ef(rY,iwe,"esm2017"),Ef("fire-js","")}$pn("");var Mpn="firebase",Fpn="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ef(Mpn,Fpn,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rBe="firebasestorage.googleapis.com",Lpn="storageBucket",jpn=120*1e3,Bpn=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp extends z0{constructor(t,n,r=0){super(sV(t),`Firebase Storage: ${n} (${sV(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wp.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return sV(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Sp;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Sp||(Sp={}));function sV(e){return"storage/"+e}function zpn(){const e="An unknown error occurred, please check the error payload for server response.";return new Wp(Sp.UNKNOWN,e)}function Upn(){return new Wp(Sp.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Vpn(){return new Wp(Sp.CANCELED,"User canceled the upload/download.")}function Hpn(e){return new Wp(Sp.INVALID_URL,"Invalid URL '"+e+"'.")}function qpn(e){return new Wp(Sp.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function cwe(e){return new Wp(Sp.INVALID_ARGUMENT,e)}function iBe(){return new Wp(Sp.APP_DELETED,"The Firebase app was deleted.")}function Wpn(e){return new Wp(Sp.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=hf.makeFromUrl(t,n)}catch{return new hf(t,"")}if(r.path==="")return r;throw qpn(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(_){_.path_=decodeURIComponent(_.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${d}/${c}/b/${i}/o${f}`,"i"),p={bucket:1,path:3},m=n===rBe?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",y=new RegExp(`^https?://${m}/${i}/${g}`,"i"),w=[{regex:a,indices:l,postModify:s},{regex:h,indices:p,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let _=0;_<w.length;_++){const C=w[_],S=C.regex.exec(t);if(S){const T=S[C.indices.bucket];let k=S[C.indices.path];k||(k=""),r=new hf(T,k),C.postModify(r);break}}if(r==null)throw Hpn(t);return r}}class Gpn{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ypn(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...g){u||(u=!0,t.apply(null,g))}function d(g){i=setTimeout(()=>{i=null,e(h,l())},g)}function f(){s&&clearTimeout(s)}function h(g,...y){if(u){f();return}if(g){f(),c.call(null,g,...y);return}if(l()||o){f(),c.call(null,g,...y);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,d(w)}let p=!1;function m(g){p||(p=!0,f(),!u&&(i!==null?(g||(a=2),clearTimeout(i),d(0)):g||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function Kpn(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xpn(e){return e!==void 0}function dwe(e,t,n,r){if(r<t)throw cwe(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw cwe(`Invalid value for '${e}'. Expected ${n} or less.`)}function Qpn(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var d5;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(d5||(d5={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jpn(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zpn{constructor(t,n,r,i,s,o,a,l,u,c,d,f=!0,h=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new bP(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===d5.NO_ERROR,l=s.getStatus();if(!a||Jpn(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===d5.ABORT;r(!1,new bP(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new bP(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Xpn(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=zpn();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?iBe():Vpn();o(l)}else{const l=Upn();o(l)}};this.canceled_?n(!1,new bP(!1,null,!0)):this.backoffId_=Ypn(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Kpn(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class bP{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function emn(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function tmn(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function nmn(e,t){t&&(e["X-Firebase-GMPID"]=t)}function rmn(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function imn(e,t,n,r,i,s,o=!0,a=!1){const l=Qpn(e.urlParams),u=e.url+l,c=Object.assign({},e.headers);return nmn(c,t),emn(c,n),tmn(c,s),rmn(c,r),new Zpn(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function smn(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function omn(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(t,n){this._service=t,n instanceof hf?this._location=n:this._location=hf.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new f5(t,n)}get root(){const t=new hf(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return omn(this._location.path)}get storage(){return this._service}get parent(){const t=smn(this._location.path);if(t===null)return null;const n=new hf(this._location.bucket,t);return new f5(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw Wpn(t)}}function fwe(e,t){const n=t?.[Lpn];return n==null?null:hf.makeFromBucketSpec(n,e)}class amn{constructor(t,n,r,i,s,o=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=rBe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jpn,this._maxUploadRetryTime=Bpn,this._requests=new Set,i!=null?this._bucket=hf.makeFromBucketSpec(i,this._host):this._bucket=fwe(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=hf.makeFromBucketSpec(this._url,t):this._bucket=fwe(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){dwe("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){dwe("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if($g(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new f5(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new Gpn(iBe());{const o=imn(t,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const hwe="@firebase/storage",pwe="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lmn="storage";function umn(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new amn(n,r,i,t,QR)}function cmn(){v0(new g0(lmn,umn,"PUBLIC").setMultipleInstances(!0)),Ef(hwe,pwe,""),Ef(hwe,pwe,"esm2017")}cmn();var mwe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tse;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,k){function I(){}I.prototype=k.prototype,T.D=k.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(R,P,N){for(var $=Array(arguments.length-2),O=2;O<arguments.length;O++)$[O-2]=arguments[O];return k.prototype[P].apply(R,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,k,I){I||(I=0);var R=Array(16);if(typeof k=="string")for(var P=0;16>P;++P)R[P]=k.charCodeAt(I++)|k.charCodeAt(I++)<<8|k.charCodeAt(I++)<<16|k.charCodeAt(I++)<<24;else for(P=0;16>P;++P)R[P]=k[I++]|k[I++]<<8|k[I++]<<16|k[I++]<<24;k=T.g[0],I=T.g[1],P=T.g[2];var N=T.g[3],$=k+(N^I&(P^N))+R[0]+3614090360&4294967295;k=I+($<<7&4294967295|$>>>25),$=N+(P^k&(I^P))+R[1]+3905402710&4294967295,N=k+($<<12&4294967295|$>>>20),$=P+(I^N&(k^I))+R[2]+606105819&4294967295,P=N+($<<17&4294967295|$>>>15),$=I+(k^P&(N^k))+R[3]+3250441966&4294967295,I=P+($<<22&4294967295|$>>>10),$=k+(N^I&(P^N))+R[4]+4118548399&4294967295,k=I+($<<7&4294967295|$>>>25),$=N+(P^k&(I^P))+R[5]+1200080426&4294967295,N=k+($<<12&4294967295|$>>>20),$=P+(I^N&(k^I))+R[6]+2821735955&4294967295,P=N+($<<17&4294967295|$>>>15),$=I+(k^P&(N^k))+R[7]+4249261313&4294967295,I=P+($<<22&4294967295|$>>>10),$=k+(N^I&(P^N))+R[8]+1770035416&4294967295,k=I+($<<7&4294967295|$>>>25),$=N+(P^k&(I^P))+R[9]+2336552879&4294967295,N=k+($<<12&4294967295|$>>>20),$=P+(I^N&(k^I))+R[10]+4294925233&4294967295,P=N+($<<17&4294967295|$>>>15),$=I+(k^P&(N^k))+R[11]+2304563134&4294967295,I=P+($<<22&4294967295|$>>>10),$=k+(N^I&(P^N))+R[12]+1804603682&4294967295,k=I+($<<7&4294967295|$>>>25),$=N+(P^k&(I^P))+R[13]+4254626195&4294967295,N=k+($<<12&4294967295|$>>>20),$=P+(I^N&(k^I))+R[14]+2792965006&4294967295,P=N+($<<17&4294967295|$>>>15),$=I+(k^P&(N^k))+R[15]+1236535329&4294967295,I=P+($<<22&4294967295|$>>>10),$=k+(P^N&(I^P))+R[1]+4129170786&4294967295,k=I+($<<5&4294967295|$>>>27),$=N+(I^P&(k^I))+R[6]+3225465664&4294967295,N=k+($<<9&4294967295|$>>>23),$=P+(k^I&(N^k))+R[11]+643717713&4294967295,P=N+($<<14&4294967295|$>>>18),$=I+(N^k&(P^N))+R[0]+3921069994&4294967295,I=P+($<<20&4294967295|$>>>12),$=k+(P^N&(I^P))+R[5]+3593408605&4294967295,k=I+($<<5&4294967295|$>>>27),$=N+(I^P&(k^I))+R[10]+38016083&4294967295,N=k+($<<9&4294967295|$>>>23),$=P+(k^I&(N^k))+R[15]+3634488961&4294967295,P=N+($<<14&4294967295|$>>>18),$=I+(N^k&(P^N))+R[4]+3889429448&4294967295,I=P+($<<20&4294967295|$>>>12),$=k+(P^N&(I^P))+R[9]+568446438&4294967295,k=I+($<<5&4294967295|$>>>27),$=N+(I^P&(k^I))+R[14]+3275163606&4294967295,N=k+($<<9&4294967295|$>>>23),$=P+(k^I&(N^k))+R[3]+4107603335&4294967295,P=N+($<<14&4294967295|$>>>18),$=I+(N^k&(P^N))+R[8]+1163531501&4294967295,I=P+($<<20&4294967295|$>>>12),$=k+(P^N&(I^P))+R[13]+2850285829&4294967295,k=I+($<<5&4294967295|$>>>27),$=N+(I^P&(k^I))+R[2]+4243563512&4294967295,N=k+($<<9&4294967295|$>>>23),$=P+(k^I&(N^k))+R[7]+1735328473&4294967295,P=N+($<<14&4294967295|$>>>18),$=I+(N^k&(P^N))+R[12]+2368359562&4294967295,I=P+($<<20&4294967295|$>>>12),$=k+(I^P^N)+R[5]+4294588738&4294967295,k=I+($<<4&4294967295|$>>>28),$=N+(k^I^P)+R[8]+2272392833&4294967295,N=k+($<<11&4294967295|$>>>21),$=P+(N^k^I)+R[11]+1839030562&4294967295,P=N+($<<16&4294967295|$>>>16),$=I+(P^N^k)+R[14]+4259657740&4294967295,I=P+($<<23&4294967295|$>>>9),$=k+(I^P^N)+R[1]+2763975236&4294967295,k=I+($<<4&4294967295|$>>>28),$=N+(k^I^P)+R[4]+1272893353&4294967295,N=k+($<<11&4294967295|$>>>21),$=P+(N^k^I)+R[7]+4139469664&4294967295,P=N+($<<16&4294967295|$>>>16),$=I+(P^N^k)+R[10]+3200236656&4294967295,I=P+($<<23&4294967295|$>>>9),$=k+(I^P^N)+R[13]+681279174&4294967295,k=I+($<<4&4294967295|$>>>28),$=N+(k^I^P)+R[0]+3936430074&4294967295,N=k+($<<11&4294967295|$>>>21),$=P+(N^k^I)+R[3]+3572445317&4294967295,P=N+($<<16&4294967295|$>>>16),$=I+(P^N^k)+R[6]+76029189&4294967295,I=P+($<<23&4294967295|$>>>9),$=k+(I^P^N)+R[9]+3654602809&4294967295,k=I+($<<4&4294967295|$>>>28),$=N+(k^I^P)+R[12]+3873151461&4294967295,N=k+($<<11&4294967295|$>>>21),$=P+(N^k^I)+R[15]+530742520&4294967295,P=N+($<<16&4294967295|$>>>16),$=I+(P^N^k)+R[2]+3299628645&4294967295,I=P+($<<23&4294967295|$>>>9),$=k+(P^(I|~N))+R[0]+4096336452&4294967295,k=I+($<<6&4294967295|$>>>26),$=N+(I^(k|~P))+R[7]+1126891415&4294967295,N=k+($<<10&4294967295|$>>>22),$=P+(k^(N|~I))+R[14]+2878612391&4294967295,P=N+($<<15&4294967295|$>>>17),$=I+(N^(P|~k))+R[5]+4237533241&4294967295,I=P+($<<21&4294967295|$>>>11),$=k+(P^(I|~N))+R[12]+1700485571&4294967295,k=I+($<<6&4294967295|$>>>26),$=N+(I^(k|~P))+R[3]+2399980690&4294967295,N=k+($<<10&4294967295|$>>>22),$=P+(k^(N|~I))+R[10]+4293915773&4294967295,P=N+($<<15&4294967295|$>>>17),$=I+(N^(P|~k))+R[1]+2240044497&4294967295,I=P+($<<21&4294967295|$>>>11),$=k+(P^(I|~N))+R[8]+1873313359&4294967295,k=I+($<<6&4294967295|$>>>26),$=N+(I^(k|~P))+R[15]+4264355552&4294967295,N=k+($<<10&4294967295|$>>>22),$=P+(k^(N|~I))+R[6]+2734768916&4294967295,P=N+($<<15&4294967295|$>>>17),$=I+(N^(P|~k))+R[13]+1309151649&4294967295,I=P+($<<21&4294967295|$>>>11),$=k+(P^(I|~N))+R[4]+4149444226&4294967295,k=I+($<<6&4294967295|$>>>26),$=N+(I^(k|~P))+R[11]+3174756917&4294967295,N=k+($<<10&4294967295|$>>>22),$=P+(k^(N|~I))+R[2]+718787259&4294967295,P=N+($<<15&4294967295|$>>>17),$=I+(N^(P|~k))+R[9]+3951481745&4294967295,T.g[0]=T.g[0]+k&4294967295,T.g[1]=T.g[1]+(P+($<<21&4294967295|$>>>11))&4294967295,T.g[2]=T.g[2]+P&4294967295,T.g[3]=T.g[3]+N&4294967295}r.prototype.u=function(T,k){k===void 0&&(k=T.length);for(var I=k-this.blockSize,R=this.B,P=this.h,N=0;N<k;){if(P==0)for(;N<=I;)i(this,T,N),N+=this.blockSize;if(typeof T=="string"){for(;N<k;)if(R[P++]=T.charCodeAt(N++),P==this.blockSize){i(this,R),P=0;break}}else for(;N<k;)if(R[P++]=T[N++],P==this.blockSize){i(this,R),P=0;break}}this.h=P,this.o+=k},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var k=1;k<T.length-8;++k)T[k]=0;var I=8*this.o;for(k=T.length-8;k<T.length;++k)T[k]=I&255,I/=256;for(this.u(T),T=Array(16),k=I=0;4>k;++k)for(var R=0;32>R;R+=8)T[I++]=this.g[k]>>>R&255;return T};function s(T,k){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=k(T)}function o(T,k){this.h=k;for(var I=[],R=!0,P=T.length-1;0<=P;P--){var N=T[P]|0;R&&N==k||(I[P]=N,R=!1)}this.g=I}var a={};function l(T){return-128<=T&&128>T?s(T,function(k){return new o([k|0],0>k?-1:0)}):new o([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return d;if(0>T)return g(u(-T));for(var k=[],I=1,R=0;T>=I;R++)k[R]=T/I|0,I*=4294967296;return new o(k,0)}function c(T,k){if(T.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(T.charAt(0)=="-")return g(c(T.substring(1),k));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(k,8)),R=d,P=0;P<T.length;P+=8){var N=Math.min(8,T.length-P),$=parseInt(T.substring(P,P+N),k);8>N?(N=u(Math.pow(k,N)),R=R.j(N).add(u($))):(R=R.j(I),R=R.add(u($)))}return R}var d=l(0),f=l(1),h=l(16777216);e=o.prototype,e.m=function(){if(m(this))return-g(this).m();for(var T=0,k=1,I=0;I<this.g.length;I++){var R=this.i(I);T+=(0<=R?R:4294967296+R)*k,k*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(p(this))return"0";if(m(this))return"-"+g(this).toString(T);for(var k=u(Math.pow(T,6)),I=this,R="";;){var P=_(I,k).g;I=y(I,P.j(k));var N=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=P,p(I))return N+R;for(;6>N.length;)N="0"+N;R=N+R}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function p(T){if(T.h!=0)return!1;for(var k=0;k<T.g.length;k++)if(T.g[k]!=0)return!1;return!0}function m(T){return T.h==-1}e.l=function(T){return T=y(this,T),m(T)?-1:p(T)?0:1};function g(T){for(var k=T.g.length,I=[],R=0;R<k;R++)I[R]=~T.g[R];return new o(I,~T.h).add(f)}e.abs=function(){return m(this)?g(this):this},e.add=function(T){for(var k=Math.max(this.g.length,T.g.length),I=[],R=0,P=0;P<=k;P++){var N=R+(this.i(P)&65535)+(T.i(P)&65535),$=(N>>>16)+(this.i(P)>>>16)+(T.i(P)>>>16);R=$>>>16,N&=65535,$&=65535,I[P]=$<<16|N}return new o(I,I[I.length-1]&-2147483648?-1:0)};function y(T,k){return T.add(g(k))}e.j=function(T){if(p(this)||p(T))return d;if(m(this))return m(T)?g(this).j(g(T)):g(g(this).j(T));if(m(T))return g(this.j(g(T)));if(0>this.l(h)&&0>T.l(h))return u(this.m()*T.m());for(var k=this.g.length+T.g.length,I=[],R=0;R<2*k;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var P=0;P<T.g.length;P++){var N=this.i(R)>>>16,$=this.i(R)&65535,O=T.i(P)>>>16,j=T.i(P)&65535;I[2*R+2*P]+=$*j,v(I,2*R+2*P),I[2*R+2*P+1]+=N*j,v(I,2*R+2*P+1),I[2*R+2*P+1]+=$*O,v(I,2*R+2*P+1),I[2*R+2*P+2]+=N*O,v(I,2*R+2*P+2)}for(R=0;R<k;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=k;R<2*k;R++)I[R]=0;return new o(I,0)};function v(T,k){for(;(T[k]&65535)!=T[k];)T[k+1]+=T[k]>>>16,T[k]&=65535,k++}function w(T,k){this.g=T,this.h=k}function _(T,k){if(p(k))throw Error("division by zero");if(p(T))return new w(d,d);if(m(T))return k=_(g(T),k),new w(g(k.g),g(k.h));if(m(k))return k=_(T,g(k)),new w(g(k.g),k.h);if(30<T.g.length){if(m(T)||m(k))throw Error("slowDivide_ only works with positive integers.");for(var I=f,R=k;0>=R.l(T);)I=C(I),R=C(R);var P=S(I,1),N=S(R,1);for(R=S(R,2),I=S(I,2);!p(R);){var $=N.add(R);0>=$.l(T)&&(P=P.add(I),N=$),R=S(R,1),I=S(I,1)}return k=y(T,P.j(k)),new w(P,k)}for(P=d;0<=T.l(k);){for(I=Math.max(1,Math.floor(T.m()/k.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),N=u(I),$=N.j(k);m($)||0<$.l(T);)I-=R,N=u(I),$=N.j(k);p(N)&&(N=f),P=P.add(N),T=y(T,$)}return new w(P,T)}e.A=function(T){return _(this,T).h},e.and=function(T){for(var k=Math.max(this.g.length,T.g.length),I=[],R=0;R<k;R++)I[R]=this.i(R)&T.i(R);return new o(I,this.h&T.h)},e.or=function(T){for(var k=Math.max(this.g.length,T.g.length),I=[],R=0;R<k;R++)I[R]=this.i(R)|T.i(R);return new o(I,this.h|T.h)},e.xor=function(T){for(var k=Math.max(this.g.length,T.g.length),I=[],R=0;R<k;R++)I[R]=this.i(R)^T.i(R);return new o(I,this.h^T.h)};function C(T){for(var k=T.g.length+1,I=[],R=0;R<k;R++)I[R]=T.i(R)<<1|T.i(R-1)>>>31;return new o(I,T.h)}function S(T,k){var I=k>>5;k%=32;for(var R=T.g.length-I,P=[],N=0;N<R;N++)P[N]=0<k?T.i(N+I)>>>k|T.i(N+I+1)<<32-k:T.i(N+I);return new o(P,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,tse=o}).apply(typeof mwe<"u"?mwe:typeof self<"u"?self:typeof window<"u"?window:{});var wP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(M,J,re){return M==Array.prototype||M==Object.prototype||(M[J]=re.value),M};function n(M){M=[typeof globalThis=="object"&&globalThis,M,typeof window=="object"&&window,typeof self=="object"&&self,typeof wP=="object"&&wP];for(var J=0;J<M.length;++J){var re=M[J];if(re&&re.Math==Math)return re}throw Error("Cannot find global object")}var r=n(this);function i(M,J){if(J)e:{var re=r;M=M.split(".");for(var be=0;be<M.length-1;be++){var We=M[be];if(!(We in re))break e;re=re[We]}M=M[M.length-1],be=re[M],J=J(be),J!=be&&J!=null&&t(re,M,{configurable:!0,writable:!0,value:J})}}function s(M,J){M instanceof String&&(M+="");var re=0,be=!1,We={next:function(){if(!be&&re<M.length){var Ze=re++;return{value:J(Ze,M[Ze]),done:!1}}return be=!0,{done:!0,value:void 0}}};return We[Symbol.iterator]=function(){return We},We}i("Array.prototype.values",function(M){return M||function(){return s(this,function(J,re){return re})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(M){var J=typeof M;return J=J!="object"?J:M?Array.isArray(M)?"array":J:"null",J=="array"||J=="object"&&typeof M.length=="number"}function u(M){var J=typeof M;return J=="object"&&M!=null||J=="function"}function c(M,J,re){return M.call.apply(M.bind,arguments)}function d(M,J,re){if(!M)throw Error();if(2<arguments.length){var be=Array.prototype.slice.call(arguments,2);return function(){var We=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(We,be),M.apply(J,We)}}return function(){return M.apply(J,arguments)}}function f(M,J,re){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,f.apply(null,arguments)}function h(M,J){var re=Array.prototype.slice.call(arguments,1);return function(){var be=re.slice();return be.push.apply(be,arguments),M.apply(this,be)}}function p(M,J){function re(){}re.prototype=J.prototype,M.aa=J.prototype,M.prototype=new re,M.prototype.constructor=M,M.Qb=function(be,We,Ze){for(var Mt=Array(arguments.length-2),fi=2;fi<arguments.length;fi++)Mt[fi-2]=arguments[fi];return J.prototype[We].apply(be,Mt)}}function m(M){const J=M.length;if(0<J){const re=Array(J);for(let be=0;be<J;be++)re[be]=M[be];return re}return[]}function g(M,J){for(let re=1;re<arguments.length;re++){const be=arguments[re];if(l(be)){const We=M.length||0,Ze=be.length||0;M.length=We+Ze;for(let Mt=0;Mt<Ze;Mt++)M[We+Mt]=be[Mt]}else M.push(be)}}class y{constructor(J,re){this.i=J,this.j=re,this.h=0,this.g=null}get(){let J;return 0<this.h?(this.h--,J=this.g,this.g=J.next,J.next=null):J=this.i(),J}}function v(M){return/^[\s\xa0]*$/.test(M)}function w(){var M=a.navigator;return M&&(M=M.userAgent)?M:""}function _(M){return _[" "](M),M}_[" "]=function(){};var C=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function S(M,J,re){for(const be in M)J.call(re,M[be],be,M)}function T(M,J){for(const re in M)J.call(void 0,M[re],re,M)}function k(M){const J={};for(const re in M)J[re]=M[re];return J}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(M,J){let re,be;for(let We=1;We<arguments.length;We++){be=arguments[We];for(re in be)M[re]=be[re];for(let Ze=0;Ze<I.length;Ze++)re=I[Ze],Object.prototype.hasOwnProperty.call(be,re)&&(M[re]=be[re])}}function P(M){var J=1;M=M.split(":");const re=[];for(;0<J&&M.length;)re.push(M.shift()),J--;return M.length&&re.push(M.join(":")),re}function N(M){a.setTimeout(()=>{throw M},0)}function $(){var M=Y;let J=null;return M.g&&(J=M.g,M.g=M.g.next,M.g||(M.h=null),J.next=null),J}class O{constructor(){this.h=this.g=null}add(J,re){const be=j.get();be.set(J,re),this.h?this.h.next=be:this.g=be,this.h=be}}var j=new y(()=>new B,M=>M.reset());class B{constructor(){this.next=this.g=this.h=null}set(J,re){this.h=J,this.g=re,this.next=null}reset(){this.next=this.g=this.h=null}}let H,q=!1,Y=new O,V=()=>{const M=a.Promise.resolve(void 0);H=()=>{M.then(L)}};var L=()=>{for(var M;M=$();){try{M.h.call(M.g)}catch(re){N(re)}var J=j;J.j(M),100>J.h&&(J.h++,M.next=J.g,J.g=M)}q=!1};function z(){this.s=this.s,this.C=this.C}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(M,J){this.type=M,this.g=this.target=J,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var G=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var M=!1,J=Object.defineProperty({},"passive",{get:function(){M=!0}});try{const re=()=>{};a.addEventListener("test",re,J),a.removeEventListener("test",re,J)}catch{}return M})();function Q(M,J){if(U.call(this,M?M.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,M){var re=this.type=M.type,be=M.changedTouches&&M.changedTouches.length?M.changedTouches[0]:null;if(this.target=M.target||M.srcElement,this.g=J,J=M.relatedTarget){if(C){e:{try{_(J.nodeName);var We=!0;break e}catch{}We=!1}We||(J=null)}}else re=="mouseover"?J=M.fromElement:re=="mouseout"&&(J=M.toElement);this.relatedTarget=J,be?(this.clientX=be.clientX!==void 0?be.clientX:be.pageX,this.clientY=be.clientY!==void 0?be.clientY:be.pageY,this.screenX=be.screenX||0,this.screenY=be.screenY||0):(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0),this.button=M.button,this.key=M.key||"",this.ctrlKey=M.ctrlKey,this.altKey=M.altKey,this.shiftKey=M.shiftKey,this.metaKey=M.metaKey,this.pointerId=M.pointerId||0,this.pointerType=typeof M.pointerType=="string"?M.pointerType:ne[M.pointerType]||"",this.state=M.state,this.i=M,M.defaultPrevented&&Q.aa.h.call(this)}}p(Q,U);var ne={2:"touch",3:"pen",4:"mouse"};Q.prototype.h=function(){Q.aa.h.call(this);var M=this.i;M.preventDefault?M.preventDefault():M.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),se=0;function ae(M,J,re,be,We){this.listener=M,this.proxy=null,this.src=J,this.type=re,this.capture=!!be,this.ha=We,this.key=++se,this.da=this.fa=!1}function he(M){M.da=!0,M.listener=null,M.proxy=null,M.src=null,M.ha=null}function ie(M){this.src=M,this.g={},this.h=0}ie.prototype.add=function(M,J,re,be,We){var Ze=M.toString();M=this.g[Ze],M||(M=this.g[Ze]=[],this.h++);var Mt=Ee(M,J,be,We);return-1<Mt?(J=M[Mt],re||(J.fa=!1)):(J=new ae(J,this.src,Ze,!!be,We),J.fa=re,M.push(J)),J};function le(M,J){var re=J.type;if(re in M.g){var be=M.g[re],We=Array.prototype.indexOf.call(be,J,void 0),Ze;(Ze=0<=We)&&Array.prototype.splice.call(be,We,1),Ze&&(he(J),M.g[re].length==0&&(delete M.g[re],M.h--))}}function Ee(M,J,re,be){for(var We=0;We<M.length;++We){var Ze=M[We];if(!Ze.da&&Ze.listener==J&&Ze.capture==!!re&&Ze.ha==be)return We}return-1}var X="closure_lm_"+(1e6*Math.random()|0),fe={};function de(M,J,re,be,We){if(Array.isArray(J)){for(var Ze=0;Ze<J.length;Ze++)de(M,J[Ze],re,be,We);return null}return re=Oe(re),M&&M[ue]?M.K(J,re,u(be)?!!be.capture:!1,We):te(M,J,re,!1,be,We)}function te(M,J,re,be,We,Ze){if(!J)throw Error("Invalid event type");var Mt=u(We)?!!We.capture:!!We,fi=$e(M);if(fi||(M[X]=fi=new ie(M)),re=fi.add(J,re,be,Mt,Ze),re.proxy)return re;if(be=ee(),re.proxy=be,be.src=M,be.listener=re,M.addEventListener)G||(We=Mt),We===void 0&&(We=!1),M.addEventListener(J.toString(),be,We);else if(M.attachEvent)M.attachEvent(Te(J.toString()),be);else if(M.addListener&&M.removeListener)M.addListener(be);else throw Error("addEventListener and attachEvent are unavailable.");return re}function ee(){function M(re){return J.call(M.src,M.listener,re)}const J=we;return M}function me(M,J,re,be,We){if(Array.isArray(J))for(var Ze=0;Ze<J.length;Ze++)me(M,J[Ze],re,be,We);else be=u(be)?!!be.capture:!!be,re=Oe(re),M&&M[ue]?(M=M.i,J=String(J).toString(),J in M.g&&(Ze=M.g[J],re=Ee(Ze,re,be,We),-1<re&&(he(Ze[re]),Array.prototype.splice.call(Ze,re,1),Ze.length==0&&(delete M.g[J],M.h--)))):M&&(M=$e(M))&&(J=M.g[J.toString()],M=-1,J&&(M=Ee(J,re,be,We)),(re=-1<M?J[M]:null)&&Re(re))}function Re(M){if(typeof M!="number"&&M&&!M.da){var J=M.src;if(J&&J[ue])le(J.i,M);else{var re=M.type,be=M.proxy;J.removeEventListener?J.removeEventListener(re,be,M.capture):J.detachEvent?J.detachEvent(Te(re),be):J.addListener&&J.removeListener&&J.removeListener(be),(re=$e(J))?(le(re,M),re.h==0&&(re.src=null,J[X]=null)):he(M)}}}function Te(M){return M in fe?fe[M]:fe[M]="on"+M}function we(M,J){if(M.da)M=!0;else{J=new Q(J,this);var re=M.listener,be=M.ha||M.src;M.fa&&Re(M),M=re.call(be,J)}return M}function $e(M){return M=M[X],M instanceof ie?M:null}var Ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oe(M){return typeof M=="function"?M:(M[Ae]||(M[Ae]=function(J){return M.handleEvent(J)}),M[Ae])}function xe(){z.call(this),this.i=new ie(this),this.M=this,this.F=null}p(xe,z),xe.prototype[ue]=!0,xe.prototype.removeEventListener=function(M,J,re,be){me(this,M,J,re,be)};function je(M,J){var re,be=M.F;if(be)for(re=[];be;be=be.F)re.push(be);if(M=M.M,be=J.type||J,typeof J=="string")J=new U(J,M);else if(J instanceof U)J.target=J.target||M;else{var We=J;J=new U(be,M),R(J,We)}if(We=!0,re)for(var Ze=re.length-1;0<=Ze;Ze--){var Mt=J.g=re[Ze];We=Ue(Mt,be,!0,J)&&We}if(Mt=J.g=M,We=Ue(Mt,be,!0,J)&&We,We=Ue(Mt,be,!1,J)&&We,re)for(Ze=0;Ze<re.length;Ze++)Mt=J.g=re[Ze],We=Ue(Mt,be,!1,J)&&We}xe.prototype.N=function(){if(xe.aa.N.call(this),this.i){var M=this.i,J;for(J in M.g){for(var re=M.g[J],be=0;be<re.length;be++)he(re[be]);delete M.g[J],M.h--}}this.F=null},xe.prototype.K=function(M,J,re,be){return this.i.add(String(M),J,!1,re,be)},xe.prototype.L=function(M,J,re,be){return this.i.add(String(M),J,!0,re,be)};function Ue(M,J,re,be){if(J=M.i.g[String(J)],!J)return!0;J=J.concat();for(var We=!0,Ze=0;Ze<J.length;++Ze){var Mt=J[Ze];if(Mt&&!Mt.da&&Mt.capture==re){var fi=Mt.listener,co=Mt.ha||Mt.src;Mt.fa&&le(M.i,Mt),We=fi.call(co,be)!==!1&&We}}return We&&!be.defaultPrevented}function nt(M,J,re){if(typeof M=="function")re&&(M=f(M,re));else if(M&&typeof M.handleEvent=="function")M=f(M.handleEvent,M);else throw Error("Invalid listener argument");return 2147483647<Number(J)?-1:a.setTimeout(M,J||0)}function it(M){M.g=nt(()=>{M.g=null,M.i&&(M.i=!1,it(M))},M.l);const J=M.h;M.h=null,M.m.apply(null,J)}class wt extends z{constructor(J,re){super(),this.m=J,this.l=re,this.h=null,this.i=!1,this.g=null}j(J){this.h=arguments,this.g?this.i=!0:it(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zt(M){z.call(this),this.h=M,this.g={}}p(Zt,z);var Qt=[];function Mn(M){S(M.g,function(J,re){this.g.hasOwnProperty(re)&&Re(J)},M),M.g={}}Zt.prototype.N=function(){Zt.aa.N.call(this),Mn(this)},Zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jt=a.JSON.stringify,gn=a.JSON.parse,Kn=class{stringify(M){return a.JSON.stringify(M,void 0)}parse(M){return a.JSON.parse(M,void 0)}};function Un(){}Un.prototype.h=null;function Dr(M){return M.h||(M.h=M.i())}function Jn(){}var br={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rn(){U.call(this,"d")}p(Rn,U);function fn(){U.call(this,"c")}p(fn,U);var sr={},ui=null;function _r(){return ui=ui||new xe}sr.La="serverreachability";function In(M){U.call(this,sr.La,M)}p(In,U);function ht(M){const J=_r();je(J,new In(J))}sr.STAT_EVENT="statevent";function pr(M,J){U.call(this,sr.STAT_EVENT,M),this.stat=J}p(pr,U);function Yt(M){const J=_r();je(J,new pr(J,M))}sr.Ma="timingevent";function tr(M,J){U.call(this,sr.Ma,M),this.size=J}p(tr,U);function pn(M,J){if(typeof M!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){M()},J)}function Qn(){this.g=!0}Qn.prototype.xa=function(){this.g=!1};function Cr(M,J,re,be,We,Ze){M.info(function(){if(M.g)if(Ze)for(var Mt="",fi=Ze.split("&"),co=0;co<fi.length;co++){var Nr=fi[co].split("=");if(1<Nr.length){var Po=Nr[0];Nr=Nr[1];var Oo=Po.split("_");Mt=2<=Oo.length&&Oo[1]=="type"?Mt+(Po+"="+Nr+"&"):Mt+(Po+"=redacted&")}}else Mt=null;else Mt=Ze;return"XMLHTTP REQ ("+be+") [attempt "+We+"]: "+J+`
`+re+`
`+Mt})}function Pr(M,J,re,be,We,Ze,Mt){M.info(function(){return"XMLHTTP RESP ("+be+") [ attempt "+We+"]: "+J+`
`+re+`
`+Ze+" "+Mt})}function Or(M,J,re,be){M.info(function(){return"XMLHTTP TEXT ("+J+"): "+ka(M,re)+(be?" "+be:"")})}function oo(M,J){M.info(function(){return"TIMEOUT: "+J})}Qn.prototype.info=function(){};function ka(M,J){if(!M.g)return J;if(!J)return null;try{var re=JSON.parse(J);if(re){for(M=0;M<re.length;M++)if(Array.isArray(re[M])){var be=re[M];if(!(2>be.length)){var We=be[1];if(Array.isArray(We)&&!(1>We.length)){var Ze=We[0];if(Ze!="noop"&&Ze!="stop"&&Ze!="close")for(var Mt=1;Mt<We.length;Mt++)We[Mt]=""}}}}return jt(re)}catch{return J}}var Nu={NO_ERROR:0,TIMEOUT:8},vc={},Vn;function Bi(){}p(Bi,Un),Bi.prototype.g=function(){return new XMLHttpRequest},Bi.prototype.i=function(){return{}},Vn=new Bi;function ao(M,J,re,be){this.j=M,this.i=J,this.l=re,this.R=be||1,this.U=new Zt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ch}function ch(){this.i=null,this.g="",this.h=!1}var Id={},bc={};function wc(M,J,re){M.L=1,M.v=Zn(dt(J)),M.m=re,M.P=!0,lo(M,null)}function lo(M,J){M.F=Date.now(),mr(M),M.A=dt(M.v);var re=M.A,be=M.R;Array.isArray(be)||(be=[String(be)]),_c(re.i,"t",be),M.C=0,re=M.j.J,M.h=new ch,M.g=iI(M.j,re?J:null,!M.m),0<M.O&&(M.M=new wt(f(M.Y,M,M.g),M.O)),J=M.U,re=M.g,be=M.ca;var We="readystatechange";Array.isArray(We)||(We&&(Qt[0]=We.toString()),We=Qt);for(var Ze=0;Ze<We.length;Ze++){var Mt=de(re,We[Ze],be||J.handleEvent,!1,J.h||J);if(!Mt)break;J.g[Mt.key]=Mt}J=M.H?k(M.H):{},M.m?(M.u||(M.u="POST"),J["Content-Type"]="application/x-www-form-urlencoded",M.g.ea(M.A,M.u,M.m,J)):(M.u="GET",M.g.ea(M.A,M.u,null,J)),ht(),Cr(M.i,M.u,M.A,M.l,M.R,M.m)}ao.prototype.ca=function(M){M=M.target;const J=this.M;J&&lr(M)==3?J.j():this.Y(M)},ao.prototype.Y=function(M){try{if(M==this.g)e:{const Oo=lr(this.g);var J=this.g.Ba();const yh=this.g.Z();if(!(3>Oo)&&(Oo!=3||this.g&&(this.h.h||this.g.oa()||ti(this.g)))){this.J||Oo!=4||J==7||(J==8||0>=yh?ht(3):ht(2)),Rs(this);var re=this.g.Z();this.X=re;t:if(dh(this)){var be=ti(this.g);M="";var We=be.length,Ze=lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Is(this),Io(this);var Mt="";break t}this.h.i=new a.TextDecoder}for(J=0;J<We;J++)this.h.h=!0,M+=this.h.i.decode(be[J],{stream:!(Ze&&J==We-1)});be.length=0,this.h.g+=M,this.C=0,Mt=this.h.g}else Mt=this.g.oa();if(this.o=re==200,Pr(this.i,this.u,this.A,this.l,this.R,Oo,re),this.o){if(this.T&&!this.K){t:{if(this.g){var fi,co=this.g;if((fi=co.g?co.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(fi)){var Nr=fi;break t}}Nr=null}if(re=Nr)Or(this.i,this.l,re,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mu(this,re);else{this.o=!1,this.s=3,Yt(12),Is(this),Io(this);break e}}if(this.P){re=!0;let ra;for(;!this.J&&this.C<Mt.length;)if(ra=$u(this,Mt),ra==bc){Oo==4&&(this.s=4,Yt(14),re=!1),Or(this.i,this.l,null,"[Incomplete Response]");break}else if(ra==Id){this.s=4,Yt(15),Or(this.i,this.l,Mt,"[Invalid Chunk]"),re=!1;break}else Or(this.i,this.l,ra,null),Mu(this,ra);if(dh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oo!=4||Mt.length!=0||this.h.h||(this.s=1,Yt(16),re=!1),this.o=this.o&&re,!re)Or(this.i,this.l,Mt,"[Invalid Chunked Response]"),Is(this),Io(this);else if(0<Mt.length&&!this.W){this.W=!0;var Po=this.j;Po.g==this&&Po.ba&&!Po.M&&(Po.j.info("Great, no buffering proxy detected. Bytes received: "+Mt.length),RE(Po),Po.M=!0,Yt(11))}}else Or(this.i,this.l,Mt,null),Mu(this,Mt);Oo==4&&Is(this),this.o&&!this.J&&(Oo==4?uw(this.j,this):(this.o=!1,mr(this)))}else ci(this.g),re==400&&0<Mt.indexOf("Unknown SID")?(this.s=3,Yt(12)):(this.s=0,Yt(13)),Is(this),Io(this)}}}catch{}finally{}};function dh(M){return M.g?M.u=="GET"&&M.L!=2&&M.j.Ca:!1}function $u(M,J){var re=M.C,be=J.indexOf(`
`,re);return be==-1?bc:(re=Number(J.substring(re,be)),isNaN(re)?Id:(be+=1,be+re>J.length?bc:(J=J.slice(be,be+re),M.C=be+re,J)))}ao.prototype.cancel=function(){this.J=!0,Is(this)};function mr(M){M.S=Date.now()+M.I,Dd(M,M.I)}function Dd(M,J){if(M.B!=null)throw Error("WatchDog timer not null");M.B=pn(f(M.ba,M),J)}function Rs(M){M.B&&(a.clearTimeout(M.B),M.B=null)}ao.prototype.ba=function(){this.B=null;const M=Date.now();0<=M-this.S?(oo(this.i,this.A),this.L!=2&&(ht(),Yt(17)),Is(this),this.s=2,Io(this)):Dd(this,this.S-M)};function Io(M){M.j.G==0||M.J||uw(M.j,M)}function Is(M){Rs(M);var J=M.M;J&&typeof J.ma=="function"&&J.ma(),M.M=null,Mn(M.U),M.g&&(J=M.g,M.g=null,J.abort(),J.ma())}function Mu(M,J){try{var re=M.j;if(re.G!=0&&(re.g==M||Ps(re.h,M))){if(!M.K&&Ps(re.h,M)&&re.G==3){try{var be=re.Da.g.parse(J)}catch{be=null}if(Array.isArray(be)&&be.length==3){var We=be;if(We[0]==0){e:if(!re.u){if(re.g)if(re.g.F+3e3<M.F)lw(re),$s(re);else break e;aw(re),Yt(18)}}else re.za=We[1],0<re.za-re.T&&37500>We[2]&&re.F&&re.v==0&&!re.C&&(re.C=pn(f(re.Za,re),6e3));if(1>=fh(re.h)&&re.ca){try{re.ca()}catch{}re.ca=void 0}}else Yp(re,11)}else if((M.K||re.g==M)&&lw(re),!v(J))for(We=re.Da.g.parse(J),J=0;J<We.length;J++){let Nr=We[J];if(re.T=Nr[0],Nr=Nr[1],re.G==2)if(Nr[0]=="c"){re.K=Nr[1],re.ia=Nr[2];const Po=Nr[3];Po!=null&&(re.la=Po,re.j.info("VER="+re.la));const Oo=Nr[4];Oo!=null&&(re.Aa=Oo,re.j.info("SVER="+re.Aa));const yh=Nr[5];yh!=null&&typeof yh=="number"&&0<yh&&(be=1.5*yh,re.L=be,re.j.info("backChannelRequestTimeoutMs_="+be)),be=re;const ra=M.g;if(ra){const cw=ra.g?ra.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cw){var Ze=be.h;Ze.g||cw.indexOf("spdy")==-1&&cw.indexOf("quic")==-1&&cw.indexOf("h2")==-1||(Ze.j=Ze.l,Ze.g=new Set,Ze.h&&(ge(Ze,Ze.h),Ze.h=null))}if(be.D){const dw=ra.g?ra.g.getResponseHeader("X-HTTP-Session-Id"):null;dw&&(be.ya=dw,on(be.I,be.D,dw))}}re.G=3,re.l&&re.l.ua(),re.ba&&(re.R=Date.now()-M.F,re.j.info("Handshake RTT: "+re.R+"ms")),be=re;var Mt=M;if(be.qa=rI(be,be.J?be.ia:null,be.W),Mt.K){Ne(be.h,Mt);var fi=Mt,co=be.L;co&&(fi.I=co),fi.B&&(Rs(fi),mr(fi)),be.g=Mt}else yv(be);0<re.i.length&&Lu(re)}else Nr[0]!="stop"&&Nr[0]!="close"||Yp(re,7);else re.G==3&&(Nr[0]=="stop"||Nr[0]=="close"?Nr[0]=="stop"?Yp(re,7):di(re):Nr[0]!="noop"&&re.l&&re.l.ta(Nr),re.v=0)}}ht(4)}catch{}}var ta=class{constructor(M,J){this.g=M,this.map=J}};function Yl(M){this.l=M||10,a.PerformanceNavigationTiming?(M=a.performance.getEntriesByType("navigation"),M=0<M.length&&(M[0].nextHopProtocol=="hq"||M[0].nextHopProtocol=="h2")):M=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=M?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ds(M){return M.h?!0:M.g?M.g.size>=M.j:!1}function fh(M){return M.h?1:M.g?M.g.size:0}function Ps(M,J){return M.h?M.h==J:M.g?M.g.has(J):!1}function ge(M,J){M.g?M.g.add(J):M.h=J}function Ne(M,J){M.h&&M.h==J?M.h=null:M.g&&M.g.has(J)&&M.g.delete(J)}Yl.prototype.cancel=function(){if(this.i=_e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const M of this.g.values())M.cancel();this.g.clear()}};function _e(M){if(M.h!=null)return M.i.concat(M.h.D);if(M.g!=null&&M.g.size!==0){let J=M.i;for(const re of M.g.values())J=J.concat(re.D);return J}return m(M.i)}function Be(M){if(M.V&&typeof M.V=="function")return M.V();if(typeof Map<"u"&&M instanceof Map||typeof Set<"u"&&M instanceof Set)return Array.from(M.values());if(typeof M=="string")return M.split("");if(l(M)){for(var J=[],re=M.length,be=0;be<re;be++)J.push(M[be]);return J}J=[],re=0;for(be in M)J[re++]=M[be];return J}function Ve(M){if(M.na&&typeof M.na=="function")return M.na();if(!M.V||typeof M.V!="function"){if(typeof Map<"u"&&M instanceof Map)return Array.from(M.keys());if(!(typeof Set<"u"&&M instanceof Set)){if(l(M)||typeof M=="string"){var J=[];M=M.length;for(var re=0;re<M;re++)J.push(re);return J}J=[],re=0;for(const be in M)J[re++]=be;return J}}}function Le(M,J){if(M.forEach&&typeof M.forEach=="function")M.forEach(J,void 0);else if(l(M)||typeof M=="string")Array.prototype.forEach.call(M,J,void 0);else for(var re=Ve(M),be=Be(M),We=be.length,Ze=0;Ze<We;Ze++)J.call(void 0,be[Ze],re&&re[Ze],M)}var rt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ct(M,J){if(M){M=M.split("&");for(var re=0;re<M.length;re++){var be=M[re].indexOf("="),We=null;if(0<=be){var Ze=M[re].substring(0,be);We=M[re].substring(be+1)}else Ze=M[re];J(Ze,We?decodeURIComponent(We.replace(/\+/g," ")):"")}}}function pt(M){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,M instanceof pt){this.h=M.h,Et(this,M.j),this.o=M.o,this.g=M.g,qt(this,M.s),this.l=M.l;var J=M.i,re=new uo;re.i=J.i,J.g&&(re.g=new Map(J.g),re.h=J.h),Fn(this,re),this.m=M.m}else M&&(J=String(M).match(rt))?(this.h=!1,Et(this,J[1]||"",!0),this.o=en(J[2]||""),this.g=en(J[3]||"",!0),qt(this,J[4]),this.l=en(J[5]||"",!0),Fn(this,J[6]||"",!0),this.m=en(J[7]||"")):(this.h=!1,this.i=new uo(null,this.h))}pt.prototype.toString=function(){var M=[],J=this.j;J&&M.push(ur(J,Aa,!0),":");var re=this.g;return(re||J=="file")&&(M.push("//"),(J=this.o)&&M.push(ur(J,Aa,!0),"@"),M.push(encodeURIComponent(String(re)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),re=this.s,re!=null&&M.push(":",String(re))),(re=this.l)&&(this.g&&re.charAt(0)!="/"&&M.push("/"),M.push(ur(re,re.charAt(0)=="/"?hh:Ns,!0))),(re=this.i.toString())&&M.push("?",re),(re=this.m)&&M.push("#",ur(re,ph)),M.join("")};function dt(M){return new pt(M)}function Et(M,J,re){M.j=re?en(J,!0):J,M.j&&(M.j=M.j.replace(/:$/,""))}function qt(M,J){if(J){if(J=Number(J),isNaN(J)||0>J)throw Error("Bad port number "+J);M.s=J}else M.s=null}function Fn(M,J,re){J instanceof uo?(M.i=J,Ra(M.i,M.h)):(re||(J=ur(J,xc)),M.i=new uo(J,M.h))}function on(M,J,re){M.i.set(J,re)}function Zn(M){return on(M,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),M}function en(M,J){return M?J?decodeURI(M.replace(/%25/g,"%2525")):decodeURIComponent(M):""}function ur(M,J,re){return typeof M=="string"?(M=encodeURI(M).replace(J,Os),re&&(M=M.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M):null}function Os(M){return M=M.charCodeAt(0),"%"+(M>>4&15).toString(16)+(M&15).toString(16)}var Aa=/[#\/\?@]/g,Ns=/[#\?:]/g,hh=/[#\?]/g,xc=/[#\?@]/g,ph=/#/g;function uo(M,J){this.h=this.g=null,this.i=M||null,this.j=!!J}function zi(M){M.g||(M.g=new Map,M.h=0,M.i&&ct(M.i,function(J,re){M.add(decodeURIComponent(J.replace(/\+/g," ")),re)}))}e=uo.prototype,e.add=function(M,J){zi(this),this.i=null,M=Xs(this,M);var re=this.g.get(M);return re||this.g.set(M,re=[]),re.push(J),this.h+=1,this};function Di(M,J){zi(M),J=Xs(M,J),M.g.has(J)&&(M.i=null,M.h-=M.g.get(J).length,M.g.delete(J))}function Do(M,J){return zi(M),J=Xs(M,J),M.g.has(J)}e.forEach=function(M,J){zi(this),this.g.forEach(function(re,be){re.forEach(function(We){M.call(J,We,be,this)},this)},this)},e.na=function(){zi(this);const M=Array.from(this.g.values()),J=Array.from(this.g.keys()),re=[];for(let be=0;be<J.length;be++){const We=M[be];for(let Ze=0;Ze<We.length;Ze++)re.push(J[be])}return re},e.V=function(M){zi(this);let J=[];if(typeof M=="string")Do(this,M)&&(J=J.concat(this.g.get(Xs(this,M))));else{M=Array.from(this.g.values());for(let re=0;re<M.length;re++)J=J.concat(M[re])}return J},e.set=function(M,J){return zi(this),this.i=null,M=Xs(this,M),Do(this,M)&&(this.h-=this.g.get(M).length),this.g.set(M,[J]),this.h+=1,this},e.get=function(M,J){return M?(M=this.V(M),0<M.length?String(M[0]):J):J};function _c(M,J,re){Di(M,J),0<re.length&&(M.i=null,M.g.set(Xs(M,J),m(re)),M.h+=re.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const M=[],J=Array.from(this.g.keys());for(var re=0;re<J.length;re++){var be=J[re];const Ze=encodeURIComponent(String(be)),Mt=this.V(be);for(be=0;be<Mt.length;be++){var We=Ze;Mt[be]!==""&&(We+="="+encodeURIComponent(String(Mt[be]))),M.push(We)}}return this.i=M.join("&")};function Xs(M,J){return J=String(J),M.j&&(J=J.toLowerCase()),J}function Ra(M,J){J&&!M.j&&(zi(M),M.i=null,M.g.forEach(function(re,be){var We=be.toLowerCase();be!=We&&(Di(this,be),_c(this,We,re))},M)),M.j=J}function mh(M,J){const re=new Qn;if(a.Image){const be=new Image;be.onload=h(as,re,"TestLoadImage: loaded",!0,J,be),be.onerror=h(as,re,"TestLoadImage: error",!1,J,be),be.onabort=h(as,re,"TestLoadImage: abort",!1,J,be),be.ontimeout=h(as,re,"TestLoadImage: timeout",!1,J,be),a.setTimeout(function(){be.ontimeout&&be.ontimeout()},1e4),be.src=M}else J(!1)}function Kl(M,J){const re=new Qn,be=new AbortController,We=setTimeout(()=>{be.abort(),as(re,"TestPingServer: timeout",!1,J)},1e4);fetch(M,{signal:be.signal}).then(Ze=>{clearTimeout(We),Ze.ok?as(re,"TestPingServer: ok",!0,J):as(re,"TestPingServer: server error",!1,J)}).catch(()=>{clearTimeout(We),as(re,"TestPingServer: error",!1,J)})}function as(M,J,re,be,We){try{We&&(We.onload=null,We.onerror=null,We.onabort=null,We.ontimeout=null),be(re)}catch{}}function U0(){this.g=new Kn}function gh(M,J,re){const be=re||"";try{Le(M,function(We,Ze){let Mt=We;u(We)&&(Mt=jt(We)),J.push(be+Ze+"="+encodeURIComponent(Mt))})}catch(We){throw J.push(be+"type="+encodeURIComponent("_badmap")),We}}function na(M){this.l=M.Ub||null,this.j=M.eb||!1}p(na,Un),na.prototype.g=function(){return new Fu(this.l,this.j)},na.prototype.i=(function(M){return function(){return M}})({});function Fu(M,J){xe.call(this),this.D=M,this.o=J,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(Fu,xe),e=Fu.prototype,e.open=function(M,J){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=M,this.A=J,this.readyState=1,Ia(this)},e.send=function(M){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const J={headers:this.u,method:this.B,credentials:this.m,cache:void 0};M&&(J.body=M),(this.D||a).fetch(new Request(this.A,J)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,dl(this)),this.readyState=0},e.Sa=function(M){if(this.g&&(this.l=M,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=M.headers,this.readyState=2,Ia(this)),this.g&&(this.readyState=3,Ia(this),this.g)))if(this.responseType==="arraybuffer")M.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in M){if(this.j=M.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;V0(this)}else M.text().then(this.Ra.bind(this),this.ga.bind(this))};function V0(M){M.j.read().then(M.Pa.bind(M)).catch(M.ga.bind(M))}e.Pa=function(M){if(this.g){if(this.o&&M.value)this.response.push(M.value);else if(!this.o){var J=M.value?M.value:new Uint8Array(0);(J=this.v.decode(J,{stream:!M.done}))&&(this.response=this.responseText+=J)}M.done?dl(this):Ia(this),this.readyState==3&&V0(this)}},e.Ra=function(M){this.g&&(this.response=this.responseText=M,dl(this))},e.Qa=function(M){this.g&&(this.response=M,dl(this))},e.ga=function(){this.g&&dl(this)};function dl(M){M.readyState=4,M.l=null,M.j=null,M.v=null,Ia(M)}e.setRequestHeader=function(M,J){this.u.append(M,J)},e.getResponseHeader=function(M){return this.h&&this.h.get(M.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const M=[],J=this.h.entries();for(var re=J.next();!re.done;)re=re.value,M.push(re[0]+": "+re[1]),re=J.next();return M.join(`\r
`)};function Ia(M){M.onreadystatechange&&M.onreadystatechange.call(M)}Object.defineProperty(Fu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(M){this.m=M?"include":"same-origin"}});function Se(M){let J="";return S(M,function(re,be){J+=be,J+=":",J+=re,J+=`\r
`}),J}function oe(M,J,re){e:{for(be in re){var be=!1;break e}be=!0}be||(re=Se(re),typeof M=="string"?re!=null&&encodeURIComponent(String(re)):on(M,J,re))}function ve(M){xe.call(this),this.headers=new Map,this.o=M||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(ve,xe);var Me=/^https?$/i,kt=["POST","PUT"];e=ve.prototype,e.Ha=function(M){this.J=M},e.ea=function(M,J,re,be){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+M);J=J?J.toUpperCase():"GET",this.D=M,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vn.g(),this.v=this.o?Dr(this.o):Dr(Vn),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(J,String(M),!0),this.B=!1}catch(Ze){$t(this,Ze);return}if(M=re||"",re=new Map(this.headers),be)if(Object.getPrototypeOf(be)===Object.prototype)for(var We in be)re.set(We,be[We]);else if(typeof be.keys=="function"&&typeof be.get=="function")for(const Ze of be.keys())re.set(Ze,be.get(Ze));else throw Error("Unknown input type for opt_headers: "+String(be));be=Array.from(re.keys()).find(Ze=>Ze.toLowerCase()=="content-type"),We=a.FormData&&M instanceof a.FormData,!(0<=Array.prototype.indexOf.call(kt,J,void 0))||be||We||re.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ze,Mt]of re)this.g.setRequestHeader(Ze,Mt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_n(this),this.u=!0,this.g.send(M),this.u=!1}catch(Ze){$t(this,Ze)}};function $t(M,J){M.h=!1,M.g&&(M.j=!0,M.g.abort(),M.j=!1),M.l=J,M.m=5,yn(M),rn(M)}function yn(M){M.A||(M.A=!0,je(M,"complete"),je(M,"error"))}e.abort=function(M){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=M||7,je(this,"complete"),je(this,"abort"),rn(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rn(this,!0)),ve.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?jn(this):this.bb())},e.bb=function(){jn(this)};function jn(M){if(M.h&&typeof o<"u"&&(!M.v[1]||lr(M)!=4||M.Z()!=2)){if(M.u&&lr(M)==4)nt(M.Ea,0,M);else if(je(M,"readystatechange"),lr(M)==4){M.h=!1;try{const Mt=M.Z();e:switch(Mt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var J=!0;break e;default:J=!1}var re;if(!(re=J)){var be;if(be=Mt===0){var We=String(M.D).match(rt)[1]||null;!We&&a.self&&a.self.location&&(We=a.self.location.protocol.slice(0,-1)),be=!Me.test(We?We.toLowerCase():"")}re=be}if(re)je(M,"complete"),je(M,"success");else{M.m=6;try{var Ze=2<lr(M)?M.g.statusText:""}catch{Ze=""}M.l=Ze+" ["+M.Z()+"]",yn(M)}}finally{rn(M)}}}}function rn(M,J){if(M.g){_n(M);const re=M.g,be=M.v[0]?()=>{}:null;M.g=null,M.v=null,J||je(M,"ready");try{re.onreadystatechange=be}catch{}}}function _n(M){M.I&&(a.clearTimeout(M.I),M.I=null)}e.isActive=function(){return!!this.g};function lr(M){return M.g?M.g.readyState:0}e.Z=function(){try{return 2<lr(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(M){if(this.g){var J=this.g.responseText;return M&&J.indexOf(M)==0&&(J=J.substring(M.length)),gn(J)}};function ti(M){try{if(!M.g)return null;if("response"in M.g)return M.g.response;switch(M.H){case"":case"text":return M.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in M.g)return M.g.mozResponseArrayBuffer}return null}catch{return null}}function ci(M){const J={};M=(M.g&&2<=lr(M)&&M.g.getAllResponseHeaders()||"").split(`\r
`);for(let be=0;be<M.length;be++){if(v(M[be]))continue;var re=P(M[be]);const We=re[0];if(re=re[1],typeof re!="string")continue;re=re.trim();const Ze=J[We]||[];J[We]=Ze,Ze.push(re)}T(J,function(be){return be.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(M,J,re){return re&&re.internalChannelParams&&re.internalChannelParams[M]||J}function gs(M){this.Aa=0,this.i=[],this.j=new Qn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ei("failFast",!1,M),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ei("baseRetryDelayMs",5e3,M),this.cb=Ei("retryDelaySeedMs",1e4,M),this.Wa=Ei("forwardChannelMaxRetries",2,M),this.wa=Ei("forwardChannelRequestTimeoutMs",2e4,M),this.pa=M&&M.xmlHttpFactory||void 0,this.Xa=M&&M.Tb||void 0,this.Ca=M&&M.useFetchStreams||!1,this.L=void 0,this.J=M&&M.supportsCrossDomainXhr||!1,this.K="",this.h=new Yl(M&&M.concurrentRequestLimit),this.Da=new U0,this.P=M&&M.fastHandshake||!1,this.O=M&&M.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=M&&M.Rb||!1,M&&M.xa&&this.j.xa(),M&&M.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&M&&M.detectBufferingProxy||!1,this.ja=void 0,M&&M.longPollingTimeout&&0<M.longPollingTimeout&&(this.ja=M.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=gs.prototype,e.la=8,e.G=1,e.connect=function(M,J,re,be){Yt(0),this.W=M,this.H=J||{},re&&be!==void 0&&(this.H.OSID=re,this.H.OAID=be),this.F=this.X,this.I=rI(this,null,this.W),Lu(this)};function di(M){if(Xl(M),M.G==3){var J=M.U++,re=dt(M.I);if(on(re,"SID",M.K),on(re,"RID",J),on(re,"TYPE","terminate"),Gp(M,re),J=new ao(M,M.j,J),J.L=2,J.v=Zn(dt(re)),re=!1,a.navigator&&a.navigator.sendBeacon)try{re=a.navigator.sendBeacon(J.v.toString(),"")}catch{}!re&&a.Image&&(new Image().src=J.v,re=!0),re||(J.g=iI(J.j,null),J.g.ea(J.v)),J.F=Date.now(),mr(J)}nI(M)}function $s(M){M.g&&(RE(M),M.g.cancel(),M.g=null)}function Xl(M){$s(M),M.u&&(a.clearTimeout(M.u),M.u=null),lw(M),M.h.cancel(),M.s&&(typeof M.s=="number"&&a.clearTimeout(M.s),M.s=null)}function Lu(M){if(!Ds(M.h)&&!M.s){M.s=!0;var J=M.Ga;H||V(),q||(H(),q=!0),Y.add(J,M),M.B=0}}function H0(M,J){return fh(M.h)>=M.h.j-(M.s?1:0)?!1:M.s?(M.i=J.D.concat(M.i),!0):M.G==1||M.G==2||M.B>=(M.Va?0:M.Wa)?!1:(M.s=pn(f(M.Ga,M,J),tI(M,M.B)),M.B++,!0)}e.Ga=function(M){if(this.s)if(this.s=null,this.G==1){if(!M){this.U=Math.floor(1e5*Math.random()),M=this.U++;const We=new ao(this,this.j,M);let Ze=this.o;if(this.S&&(Ze?(Ze=k(Ze),R(Ze,this.S)):Ze=this.S),this.m!==null||this.O||(We.H=Ze,Ze=null),this.P)e:{for(var J=0,re=0;re<this.i.length;re++){t:{var be=this.i[re];if("__data__"in be.map&&(be=be.map.__data__,typeof be=="string")){be=be.length;break t}be=void 0}if(be===void 0)break;if(J+=be,4096<J){J=re;break e}if(J===4096||re===this.i.length-1){J=re+1;break e}}J=1e3}else J=1e3;J=q0(this,We,J),re=dt(this.I),on(re,"RID",M),on(re,"CVER",22),this.D&&on(re,"X-HTTP-Session-Id",this.D),Gp(this,re),Ze&&(this.O?J="headers="+encodeURIComponent(String(Se(Ze)))+"&"+J:this.m&&oe(re,this.m,Ze)),ge(this.h,We),this.Ua&&on(re,"TYPE","init"),this.P?(on(re,"$req",J),on(re,"SID","null"),We.T=!0,wc(We,re,null)):wc(We,re,J),this.G=2}}else this.G==3&&(M?Pd(this,M):this.i.length==0||Ds(this.h)||Pd(this))};function Pd(M,J){var re;J?re=J.l:re=M.U++;const be=dt(M.I);on(be,"SID",M.K),on(be,"RID",re),on(be,"AID",M.T),Gp(M,be),M.m&&M.o&&oe(be,M.m,M.o),re=new ao(M,M.j,re,M.B+1),M.m===null&&(re.H=M.o),J&&(M.i=J.D.concat(M.i)),J=q0(M,re,1e3),re.I=Math.round(.5*M.wa)+Math.round(.5*M.wa*Math.random()),ge(M.h,re),wc(re,be,J)}function Gp(M,J){M.H&&S(M.H,function(re,be){on(J,be,re)}),M.l&&Le({},function(re,be){on(J,be,re)})}function q0(M,J,re){re=Math.min(M.i.length,re);var be=M.l?f(M.l.Na,M.l,M):null;e:{var We=M.i;let Ze=-1;for(;;){const Mt=["count="+re];Ze==-1?0<re?(Ze=We[0].g,Mt.push("ofs="+Ze)):Ze=0:Mt.push("ofs="+Ze);let fi=!0;for(let co=0;co<re;co++){let Nr=We[co].g;const Po=We[co].map;if(Nr-=Ze,0>Nr)Ze=Math.max(0,We[co].g-100),fi=!1;else try{gh(Po,Mt,"req"+Nr+"_")}catch{be&&be(Po)}}if(fi){be=Mt.join("&");break e}}}return M=M.i.splice(0,re),J.D=M,be}function yv(M){if(!M.g&&!M.u){M.Y=1;var J=M.Fa;H||V(),q||(H(),q=!0),Y.add(J,M),M.v=0}}function aw(M){return M.g||M.u||3<=M.v?!1:(M.Y++,M.u=pn(f(M.Fa,M),tI(M,M.v)),M.v++,!0)}e.Fa=function(){if(this.u=null,eI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var M=2*this.R;this.j.info("BP detection timer enabled: "+M),this.A=pn(f(this.ab,this),M)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Yt(10),$s(this),eI(this))};function RE(M){M.A!=null&&(a.clearTimeout(M.A),M.A=null)}function eI(M){M.g=new ao(M,M.j,"rpc",M.Y),M.m===null&&(M.g.H=M.o),M.g.O=0;var J=dt(M.qa);on(J,"RID","rpc"),on(J,"SID",M.K),on(J,"AID",M.T),on(J,"CI",M.F?"0":"1"),!M.F&&M.ja&&on(J,"TO",M.ja),on(J,"TYPE","xmlhttp"),Gp(M,J),M.m&&M.o&&oe(J,M.m,M.o),M.L&&(M.g.I=M.L);var re=M.g;M=M.ia,re.L=1,re.v=Zn(dt(J)),re.m=null,re.P=!0,lo(re,M)}e.Za=function(){this.C!=null&&(this.C=null,$s(this),aw(this),Yt(19))};function lw(M){M.C!=null&&(a.clearTimeout(M.C),M.C=null)}function uw(M,J){var re=null;if(M.g==J){lw(M),RE(M),M.g=null;var be=2}else if(Ps(M.h,J))re=J.D,Ne(M.h,J),be=1;else return;if(M.G!=0){if(J.o)if(be==1){re=J.m?J.m.length:0,J=Date.now()-J.F;var We=M.B;be=_r(),je(be,new tr(be,re)),Lu(M)}else yv(M);else if(We=J.s,We==3||We==0&&0<J.X||!(be==1&&H0(M,J)||be==2&&aw(M)))switch(re&&0<re.length&&(J=M.h,J.i=J.i.concat(re)),We){case 1:Yp(M,5);break;case 4:Yp(M,10);break;case 3:Yp(M,6);break;default:Yp(M,2)}}}function tI(M,J){let re=M.Ta+Math.floor(Math.random()*M.cb);return M.isActive()||(re*=2),re*J}function Yp(M,J){if(M.j.info("Error code "+J),J==2){var re=f(M.fb,M),be=M.Xa;const We=!be;be=new pt(be||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Et(be,"https"),Zn(be),We?mh(be.toString(),re):Kl(be.toString(),re)}else Yt(2);M.G=0,M.l&&M.l.sa(J),nI(M),Xl(M)}e.fb=function(M){M?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))};function nI(M){if(M.G=0,M.ka=[],M.l){const J=_e(M.h);(J.length!=0||M.i.length!=0)&&(g(M.ka,J),g(M.ka,M.i),M.h.i.length=0,m(M.i),M.i.length=0),M.l.ra()}}function rI(M,J,re){var be=re instanceof pt?dt(re):new pt(re);if(be.g!="")J&&(be.g=J+"."+be.g),qt(be,be.s);else{var We=a.location;be=We.protocol,J=J?J+"."+We.hostname:We.hostname,We=+We.port;var Ze=new pt(null);be&&Et(Ze,be),J&&(Ze.g=J),We&&qt(Ze,We),re&&(Ze.l=re),be=Ze}return re=M.D,J=M.ya,re&&J&&on(be,re,J),on(be,"VER",M.la),Gp(M,be),be}function iI(M,J,re){if(J&&!M.J)throw Error("Can't create secondary domain capable XhrIo object.");return J=M.Ca&&!M.pa?new ve(new na({eb:re})):new ve(M.pa),J.Ha(M.J),J}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function IE(){}e=IE.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Ql(M,J){xe.call(this),this.g=new gs(J),this.l=M,this.h=J&&J.messageUrlParams||null,M=J&&J.messageHeaders||null,J&&J.clientProtocolHeaderRequired&&(M?M["X-Client-Protocol"]="webchannel":M={"X-Client-Protocol":"webchannel"}),this.g.o=M,M=J&&J.initMessageHeaders||null,J&&J.messageContentType&&(M?M["X-WebChannel-Content-Type"]=J.messageContentType:M={"X-WebChannel-Content-Type":J.messageContentType}),J&&J.va&&(M?M["X-WebChannel-Client-Profile"]=J.va:M={"X-WebChannel-Client-Profile":J.va}),this.g.S=M,(M=J&&J.Sb)&&!v(M)&&(this.g.m=M),this.v=J&&J.supportsCrossDomainXhr||!1,this.u=J&&J.sendRawJson||!1,(J=J&&J.httpSessionIdParam)&&!v(J)&&(this.g.D=J,M=this.h,M!==null&&J in M&&(M=this.h,J in M&&delete M[J])),this.j=new W0(this)}p(Ql,xe),Ql.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ql.prototype.close=function(){di(this.g)},Ql.prototype.o=function(M){var J=this.g;if(typeof M=="string"){var re={};re.__data__=M,M=re}else this.u&&(re={},re.__data__=jt(M),M=re);J.i.push(new ta(J.Ya++,M)),J.G==3&&Lu(J)},Ql.prototype.N=function(){this.g.l=null,delete this.j,di(this.g),delete this.g,Ql.aa.N.call(this)};function sI(M){Rn.call(this),M.__headers__&&(this.headers=M.__headers__,this.statusCode=M.__status__,delete M.__headers__,delete M.__status__);var J=M.__sm__;if(J){e:{for(const re in J){M=re;break e}M=void 0}(this.i=M)&&(M=this.i,J=J!==null&&M in J?J[M]:void 0),this.data=J}else this.data=M}p(sI,Rn);function oI(){fn.call(this),this.status=1}p(oI,fn);function W0(M){this.g=M}p(W0,IE),W0.prototype.ua=function(){je(this.g,"a")},W0.prototype.ta=function(M){je(this.g,new sI(M))},W0.prototype.sa=function(M){je(this.g,new oI)},W0.prototype.ra=function(){je(this.g,"b")},Ql.prototype.send=Ql.prototype.o,Ql.prototype.open=Ql.prototype.m,Ql.prototype.close=Ql.prototype.close,Nu.NO_ERROR=0,Nu.TIMEOUT=8,Nu.HTTP_ERROR=6,vc.COMPLETE="complete",Jn.EventType=br,br.OPEN="a",br.CLOSE="b",br.ERROR="c",br.MESSAGE="d",xe.prototype.listen=xe.prototype.K,ve.prototype.listenOnce=ve.prototype.L,ve.prototype.getLastError=ve.prototype.Ka,ve.prototype.getLastErrorCode=ve.prototype.Ba,ve.prototype.getStatus=ve.prototype.Z,ve.prototype.getResponseJson=ve.prototype.Oa,ve.prototype.getResponseText=ve.prototype.oa,ve.prototype.send=ve.prototype.ea,ve.prototype.setWithCredentials=ve.prototype.Ha}).apply(typeof wP<"u"?wP:typeof self<"u"?self:typeof window<"u"?window:{});const gwe="@firebase/firestore",ywe="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Gu.UNAUTHENTICATED=new Gu(null),Gu.GOOGLE_CREDENTIALS=new Gu("google-credentials-uid"),Gu.FIRST_PARTY=new Gu("first-party-uid"),Gu.MOCK_USER=new Gu("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uL="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5=new lL("@firebase/firestore");function pf(e,...t){if(h5.logLevel<=mi.DEBUG){const n=t.map(oBe);h5.debug(`Firestore (${uL}): ${e}`,...n)}}function sBe(e,...t){if(h5.logLevel<=mi.ERROR){const n=t.map(oBe);h5.error(`Firestore (${uL}): ${e}`,...n)}}function oBe(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,aBe(e,r,n)}function aBe(e,t,n){let r=`FIRESTORE (${uL}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw sBe(r),new Error(r)}function kT(e,t,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,e||aBe(t,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class si extends z0{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dmn{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class fmn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Gu.UNAUTHENTICATED)))}shutdown(){}}class hmn{constructor(t){this.t=t,this.currentUser=Gu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){kT(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new AT;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new AT,t.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const l=s;t.enqueueRetryable((async()=>{await l.promise,await i(this.currentUser)}))},a=l=>{pf("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((l=>a(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(pf("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new AT)}}),0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(pf("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kT(typeof r.accessToken=="string",31837,{l:r}),new dmn(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return kT(t===null||typeof t=="string",2055,{h:t}),new Gu(t)}}class pmn{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Gu.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mmn{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new pmn(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Gu.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vwe{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gmn{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$g(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){kT(this.o===void 0,3512);const r=s=>{s.error!=null&&pf("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,pf("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable((()=>r(s)))};const i=s=>{pf("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):pf("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vwe(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(kT(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vwe(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ymn(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vmn(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bmn{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=ymn(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%62))}return r}}function Sf(e,t){return e<t?-1:e>t?1:0}function wmn(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return Sf(r,i);{const s=vmn(),o=xmn(s.encode(bwe(e,n)),s.encode(bwe(t,n)));return o!==0?o:Sf(r,i)}}n+=r>65535?2:1}return Sf(e.length,t.length)}function bwe(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function xmn(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Sf(e[n],t[n]);return Sf(e.length,t.length)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wwe="__name__";class $h{constructor(t,n,r){n===void 0?n=0:n>t.length&&p5(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&p5(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return $h.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof $h?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=$h.compareSegments(t.get(i),n.get(i));if(s!==0)return s}return Sf(t.length,n.length)}static compareSegments(t,n){const r=$h.isNumericId(t),i=$h.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?$h.extractNumericId(t).compare($h.extractNumericId(n)):wmn(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return tse.fromString(t.substring(4,t.length-2))}}class Jd extends $h{construct(t,n,r){return new Jd(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new si(ii.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Jd(n)}static emptyPath(){return new Jd([])}}const _mn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class d1 extends $h{construct(t,n,r){return new d1(t,n,r)}static isValidIdentifier(t){return _mn.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),d1.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wwe}static keyField(){return new d1([wwe])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new si(ii.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new si(ii.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new si(ii.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new si(ii.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new d1(n)}static emptyPath(){return new d1([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(t){this.path=t}static fromPath(t){return new S1(Jd.fromString(t))}static fromName(t){return new S1(Jd.fromString(t).popFirst(5))}static empty(){return new S1(Jd.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Jd.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Jd.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new S1(new Jd(t.slice()))}}function Cmn(e,t,n,r){if(t===!0&&r===!0)throw new si(ii.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Emn(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(e,t){const n={typeString:e};return t&&(n.value=t),n}function JR(e,t){if(!Emn(e))throw new si(ii.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const o=e[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new si(ii.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xwe=-62135596800,_we=1e6;class Fh{static now(){return Fh.fromMillis(Date.now())}static fromDate(t){return Fh.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*_we);return new Fh(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new si(ii.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new si(ii.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<xwe)throw new si(ii.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new si(ii.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_we}_compareTo(t){return this.seconds===t.seconds?Sf(this.nanoseconds,t.nanoseconds):Sf(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Fh._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(JR(t,Fh._jsonSchema))return new Fh(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-xwe;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Fh._jsonSchemaVersion="firestore/timestamp/1.0",Fh._jsonSchema={type:to("string",Fh._jsonSchemaVersion),seconds:to("number"),nanoseconds:to("number")};function Smn(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tmn extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Tmn("Invalid base64 string: "+s):s}})(t);return new _b(n)}static fromUint8Array(t){const n=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(t);return new _b(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Sf(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}_b.EMPTY_BYTE_STRING=new _b("");const Cwe="(default)";class m5{constructor(t,n){this.projectId=t,this.database=n||Cwe}static empty(){return new m5("","")}get isDefaultDatabase(){return this.database===Cwe}isEqual(t){return t instanceof m5&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kmn{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Amn(e){return new kmn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ewe,$r;($r=Ewe||(Ewe={}))[$r.OK=0]="OK",$r[$r.CANCELLED=1]="CANCELLED",$r[$r.UNKNOWN=2]="UNKNOWN",$r[$r.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$r[$r.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$r[$r.NOT_FOUND=5]="NOT_FOUND",$r[$r.ALREADY_EXISTS=6]="ALREADY_EXISTS",$r[$r.PERMISSION_DENIED=7]="PERMISSION_DENIED",$r[$r.UNAUTHENTICATED=16]="UNAUTHENTICATED",$r[$r.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$r[$r.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$r[$r.ABORTED=10]="ABORTED",$r[$r.OUT_OF_RANGE=11]="OUT_OF_RANGE",$r[$r.UNIMPLEMENTED=12]="UNIMPLEMENTED",$r[$r.INTERNAL=13]="INTERNAL",$r[$r.UNAVAILABLE=14]="UNAVAILABLE",$r[$r.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new tse([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rmn=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Imn=1048576;function oV(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dmn{constructor(t,n,r=1e3,i=1.5,s=6e4){this.Fi=t,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&pf("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,(()=>(this.m_=Date.now(),t()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nse{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new AT,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new nse(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new si(ii.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var Swe,Twe;(Twe=Swe||(Swe={})).Fa="default",Twe.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pmn(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kwe=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Omn="firestore.googleapis.com",Awe=!0;class Rwe{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new si(ii.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Omn,this.ssl=Awe}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Awe;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Rmn;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Imn)throw new si(ii.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Cmn("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pmn((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new si(ii.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new si(ii.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new si(ii.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Nmn{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rwe({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new si(ii.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new si(ii.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rwe(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new fmn;switch(r.type){case"firstParty":return new mmn(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new si(ii.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=kwe.get(n);r&&(pf("ComponentProvider","Removing Datastore"),kwe.delete(n),r.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rse{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new rse(this.firestore,t,this._query)}}class Yh{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ise(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Yh(this.firestore,t,this._key)}toJSON(){return{type:Yh._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(JR(n,Yh._jsonSchema))return new Yh(t,r||null,new S1(Jd.fromString(n.referencePath)))}}Yh._jsonSchemaVersion="firestore/documentReference/1.0",Yh._jsonSchema={type:to("string",Yh._jsonSchemaVersion),referencePath:to("string")};class ise extends rse{constructor(t,n,r){super(t,n,Amn(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Yh(this.firestore,null,new S1(t))}withConverter(t){return new ise(this.firestore,t,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iwe="AsyncQueue";class Dwe{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Dmn(this,"async_queue_retry"),this.oc=()=>{const r=oV();r&&pf(Iwe,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=t;const n=oV();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=oV();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new AT;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Zu.push(t),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!Smn(t))throw t;pf(Iwe,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(t){const n=this._c.then((()=>(this.nc=!0,t().catch((r=>{throw this.tc=r,this.nc=!1,sBe("INTERNAL UNHANDLED ERROR: ",Pwe(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=n,n}enqueueAfterDelay(t,n,r){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const i=nse.createAndSchedule(this,t,n,r,(s=>this.lc(s)));return this.ec.push(i),i}ac(){this.tc&&p5(47125,{hc:Pwe(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then((()=>{this.ec.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()}))}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function Pwe(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class $mn extends Nmn{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new Dwe,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Dwe(t),this._firestoreClient=void 0,await t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(t){this._byteString=t}static fromBase64String(t){try{return new _m(_b.fromBase64String(t))}catch(n){throw new si(ii.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new _m(_b.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:_m._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(JR(t,_m._jsonSchema))return _m.fromBase64String(t.bytes)}}_m._jsonSchemaVersion="firestore/bytes/1.0",_m._jsonSchema={type:to("string",_m._jsonSchemaVersion),bytes:to("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lBe{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new si(ii.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new d1(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new si(ii.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new si(ii.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Sf(this._lat,t._lat)||Sf(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:B1._jsonSchemaVersion}}static fromJSON(t){if(JR(t,B1._jsonSchema))return new B1(t.latitude,t.longitude)}}B1._jsonSchemaVersion="firestore/geoPoint/1.0",B1._jsonSchema={type:to("string",B1._jsonSchemaVersion),latitude:to("number"),longitude:to("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,t._values)}toJSON(){return{type:z1._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(JR(t,z1._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new z1(t.vectorValues);throw new si(ii.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}z1._jsonSchemaVersion="firestore/vectorValue/1.0",z1._jsonSchema={type:to("string",z1._jsonSchemaVersion),vectorValues:to("object")};const Mmn=new RegExp("[~\\*/\\[\\]]");function Fmn(e,t,n){if(t.search(Mmn)>=0)throw Owe(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e);try{return new lBe(...t.split("."))._internalPath}catch{throw Owe(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e)}}function Owe(e,t,n,r,i){let s=`Function ${t}() called with invalid data`;s+=". ";let o="";return new si(ii.INVALID_ARGUMENT,s+e+o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uBe{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Yh(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Lmn(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(cBe("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Lmn extends uBe{data(){return super.data()}}function cBe(e,t){return typeof t=="string"?Fmn(e,t):t instanceof lBe?t._internalPath:t._delegate._internalPath}class xP{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class l_ extends uBe{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new fN(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(cBe("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new si(ii.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=l_._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}l_._jsonSchemaVersion="firestore/documentSnapshot/1.0",l_._jsonSchema={type:to("string",l_._jsonSchemaVersion),bundleSource:to("string","DocumentSnapshot"),bundleName:to("string"),bundle:to("string")};class fN extends l_{data(t={}){return super.data(t)}}class RT{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new xP(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new fN(this._firestore,this._userDataWriter,r.key,r,new xP(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new si(ii.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((a=>{const l=new fN(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xP(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((a=>s||a.type!==3)).map((a=>{const l=new fN(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xP(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:jmn(a.type),doc:l,oldIndex:u,newIndex:c}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new si(ii.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=RT._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=bmn.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function jmn(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return p5(61501,{type:e})}}RT._jsonSchemaVersion="firestore/querySnapshot/1.0",RT._jsonSchema={type:to("string",RT._jsonSchemaVersion),bundleSource:to("string","QuerySnapshot"),bundleName:to("string"),bundle:to("string")};(function(t,n=!0){(function(i){uL=i})(QR),v0(new g0("firestore",((r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new $mn(new hmn(r.getProvider("auth-internal")),new gmn(o,r.getProvider("app-check-internal")),(function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new si(ii.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new m5(u.options.projectId,c)})(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a}),"PUBLIC").setMultipleInstances(!0)),Ef(gwe,ywe,t),Ef(gwe,ywe,"esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bmn=new Map,zmn={activated:!1,tokenObservers:[]};function Lf(e){return Bmn.get(e)||Object.assign({},zmn)}const Nwe={RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Umn{constructor(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new ewe,this.pending.promise.catch(n=>{}),await Vmn(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new ewe,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function Vmn(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hmn={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},g5=new AE("appCheck","AppCheck",Hmn);function dBe(e){if(!Lf(e).activated)throw g5.create("use-before-activation",{appName:e.name})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qmn="firebase-app-check-database",Wmn=1,iY="firebase-app-check-store";let _P=null;function Gmn(){return _P||(_P=new Promise((e,t)=>{try{const n=indexedDB.open(qmn,Wmn);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(g5.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(iY,{keyPath:"compositeKey"})}}}catch(n){t(g5.create("storage-open",{originalErrorMessage:n?.message}))}}),_P)}function Ymn(e,t){return Kmn(Xmn(e),t)}async function Kmn(e,t){const r=(await Gmn()).transaction(iY,"readwrite"),s=r.objectStore(iY).put({compositeKey:e,value:t});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(g5.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}function Xmn(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sY=new lL("@firebase/app-check");function $we(e,t){return Q9e()?Ymn(e,t).catch(n=>{sY.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qmn={error:"UNKNOWN_ERROR"};function Jmn(e){return Jie.encodeString(JSON.stringify(e),!1)}async function oY(e,t=!1,n=!1){const r=e.app;dBe(r);const i=Lf(r);let s=i.token,o;if(s&&!US(s)&&(i.token=void 0,s=void 0),!s){const u=await i.cachedTokenPromise;u&&(US(u)?s=u:await $we(r,void 0))}if(!t&&s&&US(s))return{token:s.token};let a=!1;try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=await Lf(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?sY.warn(u.message):n&&sY.error(u),o=u}let l;return s?o?US(s)?l={token:s.token,internalError:o}:l=Fwe(o):(l={token:s.token},i.token=s,await $we(r,s)):l=Fwe(o),a&&n0n(r,l),l}async function Zmn(e){const t=e.app;dBe(t);const{provider:n}=Lf(t);{const{token:r}=await n.getToken();return{token:r}}}function e0n(e,t,n,r){const{app:i}=e,s=Lf(i),o={next:n,error:r,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&US(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),Mwe(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Mwe(e))}function fBe(e,t){const n=Lf(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Mwe(e){const{app:t}=e,n=Lf(t);let r=n.tokenRefresher;r||(r=t0n(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function t0n(e){const{app:t}=e;return new Umn(async()=>{const n=Lf(t);let r;if(n.token?r=await oY(e,!0):r=await oY(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=Lf(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},Nwe.RETRIAL_MIN_WAIT,Nwe.RETRIAL_MAX_WAIT)}function n0n(e,t){const n=Lf(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function US(e){return e.expireTimeMillis-Date.now()>0}function Fwe(e){return{token:Jmn(Qmn),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0n{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=Lf(this.app);for(const n of t)fBe(this.app,n.next);return Promise.resolve()}}function i0n(e,t){return new r0n(e,t)}function s0n(e){return{getToken:t=>oY(e,t),getLimitedUseToken:()=>Zmn(e),addTokenListener:t=>e0n(e,"INTERNAL",t),removeTokenListener:t=>fBe(e.app,t)}}const o0n="@firebase/app-check",a0n="0.10.1",l0n="app-check",Lwe="app-check-internal";function u0n(){v0(new g0(l0n,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return i0n(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(Lwe).initialize()})),v0(new g0(Lwe,e=>{const t=e.getProvider("app-check").getImmediate();return s0n(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ef(o0n,a0n)}u0n();function hBe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c0n=hBe,pBe=new AE("auth","Firebase",hBe());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5=new lL("@firebase/auth");function d0n(e,...t){y5.logLevel<=mi.WARN&&y5.warn(`Auth (${QR}): ${e}`,...t)}function hN(e,...t){y5.logLevel<=mi.ERROR&&y5.error(`Auth (${QR}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jwe(e,...t){throw sse(e,...t)}function mBe(e,...t){return sse(e,...t)}function gBe(e,t,n){const r=Object.assign(Object.assign({},c0n()),{[t]:n});return new AE("auth","Firebase",r).create(t,{appName:e.name})}function pN(e){return gBe(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sse(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return pBe.create(e,...t)}function ri(e,t,...n){if(!e)throw sse(t,...n)}function IT(e){const t="INTERNAL ASSERTION FAILED: "+e;throw hN(t),new Error(t)}function v5(e,t){e||IT(t)}function f0n(){return Bwe()==="http:"||Bwe()==="https:"}function Bwe(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0n(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(f0n()||Chn()||"connection"in navigator)?navigator.onLine:!0}function p0n(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t,n){this.shortDelay=t,this.longDelay=n,v5(n>t,"Short delay should be less than long delay!"),this.isMobile=xhn()||Ehn()}get(){return h0n()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0n(e,t){v5(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yBe{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;IT("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;IT("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;IT("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0n={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0n=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],v0n=new ZR(3e4,6e4);function vBe(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function cL(e,t,n,r,i={}){return bBe(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=J9e(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:l},s);return _hn()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&X9e(e.emulatorConfig.host)&&(u.credentials="include"),yBe.fetch()(await wBe(e,e.config.apiHost,n,a),u)})}async function bBe(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},g0n),t);try{const i=new b0n(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw CP(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw CP(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw CP(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw CP(e,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw gBe(e,c,u);jwe(e,c)}}catch(i){if(i instanceof z0)throw i;jwe(e,"network-request-failed",{message:String(i)})}}async function wBe(e,t,n,r){const i=`${t}${n}?${r}`,s=e,o=s.config.emulator?m0n(e.config,i):`${e.config.apiScheme}://${i}`;return y0n.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class b0n{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mBe(this.auth,"network-request-failed")),v0n.get())})}}function CP(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=mBe(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w0n(e,t){return cL(e,"POST","/v1/accounts:delete",t)}async function b5(e,t){return cL(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function x0n(e,t=!1){const n=aL(e),r=await n.getIdToken(t),i=xBe(r);ri(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:DT(aV(i.auth_time)),issuedAtTime:DT(aV(i.iat)),expirationTime:DT(aV(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function aV(e){return Number(e)*1e3}function xBe(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return hN("JWT malformed, contained fewer than 3 sections"),null;try{const i=K9e(n);return i?JSON.parse(i):(hN("Failed to decode base64 JWT payload"),null)}catch(i){return hN("Caught error parsing JWT payload as JSON",i?.toString()),null}}function zwe(e){const t=xBe(e);return ri(t,"internal-error"),ri(typeof t.exp<"u","internal-error"),ri(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aY(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof z0&&_0n(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function _0n({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0n{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lY{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=DT(this.lastLoginAt),this.creationTime=DT(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w5(e){var t;const n=e.auth,r=await e.getIdToken(),i=await aY(e,b5(n,{idToken:r}));ri(i?.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?_Be(s.providerUserInfo):[],a=S0n(e.providerData,o),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!a?.length,c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new lY(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function E0n(e){const t=aL(e);await w5(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function S0n(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function _Be(e){return e.map(t=>{var{providerId:n}=t,r=_5(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T0n(e,t){const n=await bBe(e,{},async()=>{const r=J9e({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=await wBe(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return e.emulatorConfig&&X9e(e.emulatorConfig.host)&&(l.credentials="include"),yBe.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function k0n(e,t){return cL(e,"POST","/v2/accounts:revokeToken",vBe(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ri(t.idToken,"internal-error"),ri(typeof t.idToken<"u","internal-error"),ri(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):zwe(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){ri(t.length!==0,"internal-error");const n=zwe(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ri(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await T0n(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new u_;return r&&(ri(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(ri(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(ri(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new u_,this.toJSON())}_performRefresh(){return IT("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(e,t){ri(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Kh{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=_5(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new C0n(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new lY(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await aY(this,this.stsTokenManager.getToken(this.auth,t));return ri(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return x0n(this,t)}reload(){return E0n(this)}_assign(t){this!==t&&(ri(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Kh(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){ri(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await w5(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($g(this.auth.app))return Promise.reject(pN(this.auth));const t=await this.getIdToken();return await aY(this,w0n(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,g=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:_,isAnonymous:C,providerData:S,stsTokenManager:T}=n;ri(w&&T,t,"internal-error");const k=u_.fromJSON(this.name,T);ri(typeof w=="string",t,"internal-error"),pg(d,t.name),pg(f,t.name),ri(typeof _=="boolean",t,"internal-error"),ri(typeof C=="boolean",t,"internal-error"),pg(h,t.name),pg(p,t.name),pg(m,t.name),pg(g,t.name),pg(y,t.name),pg(v,t.name);const I=new Kh({uid:w,auth:t,email:f,emailVerified:_,displayName:d,isAnonymous:C,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:k,createdAt:y,lastLoginAt:v});return S&&Array.isArray(S)&&(I.providerData=S.map(R=>Object.assign({},R))),g&&(I._redirectEventId=g),I}static async _fromIdTokenResponse(t,n,r=!1){const i=new u_;i.updateFromServerResponse(n);const s=new Kh({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await w5(s),s}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];ri(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?_Be(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new u_;a.updateFromIdToken(r);const l=new Kh({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new lY(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uwe=new Map;function T1(e){v5(e instanceof Function,"Expected a class definition");let t=Uwe.get(e);return t?(v5(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Uwe.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CBe{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}CBe.type="NONE";const Vwe=CBe;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(e,t,n){return`firebase:${e}:${t}:${n}`}class c_{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=lV(this.userKey,i.apiKey,s),this.fullPersistenceKey=lV("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await b5(this.auth,{idToken:t}).catch(()=>{});return n?Kh._fromGetAccountInfoResponse(this.auth,n,t):null}return Kh._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new c_(T1(Vwe),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||T1(Vwe);const o=lV(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){let d;if(typeof c=="string"){const f=await b5(t,{idToken:c}).catch(()=>{});if(!f)break;d=await Kh._fromGetAccountInfoResponse(t,f,c)}else d=Kh._fromJSON(t,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new c_(s,t,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new c_(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hwe(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(D0n(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(A0n(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(O0n(t))return"Blackberry";if(N0n(t))return"Webos";if(R0n(t))return"Safari";if((t.includes("chrome/")||I0n(t))&&!t.includes("edge/"))return"Chrome";if(P0n(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function A0n(e=Ep()){return/firefox\//i.test(e)}function R0n(e=Ep()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function I0n(e=Ep()){return/crios\//i.test(e)}function D0n(e=Ep()){return/iemobile/i.test(e)}function P0n(e=Ep()){return/android/i.test(e)}function O0n(e=Ep()){return/blackberry/i.test(e)}function N0n(e=Ep()){return/webos/i.test(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EBe(e,t=[]){let n;switch(e){case"Browser":n=Hwe(Ep());break;case"Worker":n=`${Hwe(Ep())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${QR}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0n{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const l=t(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M0n(e,t={}){return cL(e,"GET","/v2/passwordPolicy",vBe(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0n=6;class L0n{constructor(t){var n,r,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:F0n,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0n{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qwe(this),this.idTokenSubscription=new qwe(this),this.beforeStateQueue=new $0n(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pBe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=T1(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await c_.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await b5(this,{idToken:t}),r=await Kh._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if($g(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&l?.user&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ri(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await w5(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=p0n()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if($g(this.app))return Promise.reject(pN(this));const n=t?aL(t):null;return n&&ri(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&ri(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return $g(this.app)?Promise.reject(pN(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return $g(this.app)?Promise.reject(pN(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(T1(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await M0n(this),n=new L0n(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new AE("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await k0n(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&T1(t)||this._popupRedirectResolver;ri(n,this,"argument-error"),this.redirectPersistenceManager=await c_.create(this,[T1(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ri(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ri(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=EBe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;if($g(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n?.error&&d0n(`Error while retrieving App Check token: ${n.error}`),n?.token}}function B0n(e){return aL(e)}class qwe{constructor(t){this.auth=t,this.observer=null,this.addObserver=Rhn(n=>this.observer=n)}get next(){return ri(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function z0n(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(T1);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}new ZR(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new ZR(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new ZR(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new ZR(5e3,15e3);var Wwe="@firebase/auth",Gwe="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0n{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ri(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0n(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function H0n(e){v0(new g0("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ri(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EBe(e)},u=new j0n(r,i,s,l);return z0n(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),v0(new g0("auth-internal",t=>{const n=B0n(t.getProvider("auth").getImmediate());return(r=>new U0n(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ef(Wwe,Gwe,V0n(e)),Ef(Wwe,Gwe,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0n=300;whn("authIdTokenMaxAge");H0n("Browser");async function W0n(){let e;{const t=new shn;await t.connect(),e=t}return e}function J2({title:e}){const t=Cd();return A.useEffect(()=>{document.title=e},[t,e]),null}async function G0n(){const t=await(await fetch(`${Yi}global.json`)).text();return lln(t)}function Y0n(){const[e,t]=A.useState(null),[n,r]=A.useState({});A.useEffect(()=>{async function a(){e&&r(await dln(e))}a()},[e]),A.useEffect(()=>{e||G0n().then(a=>{t(a)})},[e]);const{storageEngine:i,setStorageEngine:s}=Ii();A.useEffect(()=>{if(i!==void 0)return;async function a(){const l=await W0n();s(l)}a()},[s,i]);const o=async a=>i&&jc(i)?!(await i.getModes(a)).analyticsInterfacePubliclyAccessible:!1;return e?b.jsx(OZe,{basename:Yi,children:b.jsx(Vft,{children:b.jsx(YZe,{children:b.jsxs(uZe,{children:[b.jsx(Yv,{path:"/",element:b.jsxs(b.Fragment,{children:[b.jsx(J2,{title:"ReVISit | Home"}),b.jsxs(es,{padding:"md",header:{height:70},children:[b.jsx(oN,{studyIds:e.configsList}),b.jsx(qft,{globalConfig:e,studyConfigs:n})]})]})}),b.jsx(Yv,{path:"/:studyId/*",element:b.jsxs(b.Fragment,{children:[b.jsx(J2,{title:"ReVISit | Study"}),b.jsx(fln,{globalConfig:e})]})}),b.jsx(Yv,{path:"/analysis/stats/:studyId/:analysisTab/:trialId?",element:b.jsxs(b.Fragment,{children:[b.jsx(J2,{title:"ReVISit | Analysis"}),b.jsx(Ube,{paramToCheck:"studyId",paramCallback:o,children:b.jsx(es,{padding:"md",header:{height:70},children:b.jsx(Qfn,{globalConfig:e})})})]})}),b.jsx(Yv,{path:"/analysis/stats/:studyId",element:b.jsx(ALe,{to:"./summary",replace:!0})}),b.jsx(Yv,{path:"/settings",element:b.jsxs(Ube,{children:[b.jsx(J2,{title:"ReVISit | Settings"}),b.jsxs(es,{padding:"md",header:{height:70},children:[b.jsx(oN,{studyIds:e.configsList}),b.jsx(es.Main,{children:b.jsx(Zfn,{})})]})]})}),b.jsx(Yv,{path:"/login",element:b.jsxs(b.Fragment,{children:[b.jsx(J2,{title:"ReVISit | Login"}),b.jsxs(es,{padding:"md",header:{height:70},children:[b.jsx(oN,{studyIds:e.configsList}),b.jsx(es.Main,{children:b.jsx(Jfn,{})})]})]})})]})})})}):null}j7e.createRoot(document.getElementById("root")).render(b.jsx(mn.StrictMode,{children:b.jsx(vJe,{children:b.jsxs(bxe,{children:[b.jsx(k0,{}),b.jsx(Y0n,{})]})})}));
