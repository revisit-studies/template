function E$e(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var xi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function S$e(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var tF={exports:{}},__={},nF={exports:{}},fr={};var pre;function T$e(){if(pre)return fr;pre=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),d=Symbol.iterator;function f(L){return L===null||typeof L!="object"?null:(L=d&&L[d]||L["@@iterator"],typeof L=="function"?L:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,p={};function g(L,H,B){this.props=L,this.context=H,this.refs=p,this.updater=B||h}g.prototype.isReactComponent={},g.prototype.setState=function(L,H){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,H,"setState")},g.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function v(){}v.prototype=g.prototype;function y(L,H,B){this.props=L,this.context=H,this.refs=p,this.updater=B||h}var w=y.prototype=new v;w.constructor=y,m(w,g.prototype),w.isPureReactComponent=!0;var _=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function k(L,H,B){var Y,Q={},ne=null,ce=null;if(H!=null)for(Y in H.ref!==void 0&&(ce=H.ref),H.key!==void 0&&(ne=""+H.key),H)E.call(H,Y)&&!T.hasOwnProperty(Y)&&(Q[Y]=H[Y]);var le=arguments.length-2;if(le===1)Q.children=B;else if(1<le){for(var ue=Array(le),ae=0;ae<le;ae++)ue[ae]=arguments[ae+2];Q.children=ue}if(L&&L.defaultProps)for(Y in le=L.defaultProps,le)Q[Y]===void 0&&(Q[Y]=le[Y]);return{$$typeof:e,type:L,key:ne,ref:ce,props:Q,_owner:S.current}}function R(L,H){return{$$typeof:e,type:L.type,key:H,ref:L.ref,props:L.props,_owner:L._owner}}function I(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function P(L){var H={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(B){return H[B]})}var N=/\/+/g;function M(L,H){return typeof L=="object"&&L!==null&&L.key!=null?P(""+L.key):H.toString(36)}function O(L,H,B,Y,Q){var ne=typeof L;(ne==="undefined"||ne==="boolean")&&(L=null);var ce=!1;if(L===null)ce=!0;else switch(ne){case"string":case"number":ce=!0;break;case"object":switch(L.$$typeof){case e:case t:ce=!0}}if(ce)return ce=L,Q=Q(ce),L=Y===""?"."+M(ce,0):Y,_(Q)?(B="",L!=null&&(B=L.replace(N,"$&/")+"/"),O(Q,H,B,"",function(ae){return ae})):Q!=null&&(I(Q)&&(Q=R(Q,B+(!Q.key||ce&&ce.key===Q.key?"":(""+Q.key).replace(N,"$&/")+"/")+L)),H.push(Q)),1;if(ce=0,Y=Y===""?".":Y+":",_(L))for(var le=0;le<L.length;le++){ne=L[le];var ue=Y+M(ne,le);ce+=O(ne,H,B,ue,Q)}else if(ue=f(L),typeof ue=="function")for(L=ue.call(L),le=0;!(ne=L.next()).done;)ne=ne.value,ue=Y+M(ne,le++),ce+=O(ne,H,B,ue,Q);else if(ne==="object")throw H=String(L),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return ce}function j(L,H,B){if(L==null)return L;var Y=[],Q=0;return O(L,Y,"","",function(ne){return H.call(B,ne,Q++)}),Y}function U(L){if(L._status===-1){var H=L._result;H=H(),H.then(function(B){(L._status===0||L._status===-1)&&(L._status=1,L._result=B)},function(B){(L._status===0||L._status===-1)&&(L._status=2,L._result=B)}),L._status===-1&&(L._status=0,L._result=H)}if(L._status===1)return L._result.default;throw L._result}var q={current:null},W={transition:null},V={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:W,ReactCurrentOwner:S};function z(){throw Error("act(...) is not supported in production builds of React.")}return fr.Children={map:j,forEach:function(L,H,B){j(L,function(){H.apply(this,arguments)},B)},count:function(L){var H=0;return j(L,function(){H++}),H},toArray:function(L){return j(L,function(H){return H})||[]},only:function(L){if(!I(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},fr.Component=g,fr.Fragment=n,fr.Profiler=i,fr.PureComponent=y,fr.StrictMode=r,fr.Suspense=l,fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,fr.act=z,fr.cloneElement=function(L,H,B){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Y=m({},L.props),Q=L.key,ne=L.ref,ce=L._owner;if(H!=null){if(H.ref!==void 0&&(ne=H.ref,ce=S.current),H.key!==void 0&&(Q=""+H.key),L.type&&L.type.defaultProps)var le=L.type.defaultProps;for(ue in H)E.call(H,ue)&&!T.hasOwnProperty(ue)&&(Y[ue]=H[ue]===void 0&&le!==void 0?le[ue]:H[ue])}var ue=arguments.length-2;if(ue===1)Y.children=B;else if(1<ue){le=Array(ue);for(var ae=0;ae<ue;ae++)le[ae]=arguments[ae+2];Y.children=le}return{$$typeof:e,type:L.type,key:Q,ref:ne,props:Y,_owner:ce}},fr.createContext=function(L){return L={$$typeof:s,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:o,_context:L},L.Consumer=L},fr.createElement=k,fr.createFactory=function(L){var H=k.bind(null,L);return H.type=L,H},fr.createRef=function(){return{current:null}},fr.forwardRef=function(L){return{$$typeof:a,render:L}},fr.isValidElement=I,fr.lazy=function(L){return{$$typeof:c,_payload:{_status:-1,_result:L},_init:U}},fr.memo=function(L,H){return{$$typeof:u,type:L,compare:H===void 0?null:H}},fr.startTransition=function(L){var H=W.transition;W.transition={};try{L()}finally{W.transition=H}},fr.unstable_act=z,fr.useCallback=function(L,H){return q.current.useCallback(L,H)},fr.useContext=function(L){return q.current.useContext(L)},fr.useDebugValue=function(){},fr.useDeferredValue=function(L){return q.current.useDeferredValue(L)},fr.useEffect=function(L,H){return q.current.useEffect(L,H)},fr.useId=function(){return q.current.useId()},fr.useImperativeHandle=function(L,H,B){return q.current.useImperativeHandle(L,H,B)},fr.useInsertionEffect=function(L,H){return q.current.useInsertionEffect(L,H)},fr.useLayoutEffect=function(L,H){return q.current.useLayoutEffect(L,H)},fr.useMemo=function(L,H){return q.current.useMemo(L,H)},fr.useReducer=function(L,H,B){return q.current.useReducer(L,H,B)},fr.useRef=function(L){return q.current.useRef(L)},fr.useState=function(L){return q.current.useState(L)},fr.useSyncExternalStore=function(L,H,B){return q.current.useSyncExternalStore(L,H,B)},fr.useTransition=function(){return q.current.useTransition()},fr.version="18.3.1",fr}var mre;function s4(){return mre||(mre=1,nF.exports=T$e()),nF.exports}var gre;function k$e(){if(gre)return __;gre=1;var e=s4(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(a,l,u){var c,d={},f=null,h=null;u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),l.ref!==void 0&&(h=l.ref);for(c in l)r.call(l,c)&&!o.hasOwnProperty(c)&&(d[c]=l[c]);if(a&&a.defaultProps)for(c in l=a.defaultProps,l)d[c]===void 0&&(d[c]=l[c]);return{$$typeof:t,type:a,key:f,ref:h,props:d,_owner:i.current}}return __.Fragment=n,__.jsx=s,__.jsxs=s,__}var yre;function A$e(){return yre||(yre=1,tF.exports=k$e()),tF.exports}var b=A$e(),A=s4();const un=Xo(A),R$e=E$e({__proto__:null,default:un},[A]);var sR={},rF={exports:{}},Ll={},iF={exports:{}},oF={};var vre;function I$e(){return vre||(vre=1,(function(e){function t(W,V){var z=W.length;W.push(V);e:for(;0<z;){var L=z-1>>>1,H=W[L];if(0<i(H,V))W[L]=V,W[z]=H,z=L;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var V=W[0],z=W.pop();if(z!==V){W[0]=z;e:for(var L=0,H=W.length,B=H>>>1;L<B;){var Y=2*(L+1)-1,Q=W[Y],ne=Y+1,ce=W[ne];if(0>i(Q,z))ne<H&&0>i(ce,Q)?(W[L]=ce,W[ne]=z,L=ne):(W[L]=Q,W[Y]=z,L=Y);else if(ne<H&&0>i(ce,z))W[L]=ce,W[ne]=z,L=ne;else break e}}return V}function i(W,V){var z=W.sortIndex-V.sortIndex;return z!==0?z:W.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,f=3,h=!1,m=!1,p=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(W){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=W)r(u),V.sortIndex=V.expirationTime,t(l,V);else break;V=n(u)}}function _(W){if(p=!1,w(W),!m)if(n(l)!==null)m=!0,U(E);else{var V=n(u);V!==null&&q(_,V.startTime-W)}}function E(W,V){m=!1,p&&(p=!1,v(k),k=-1),h=!0;var z=f;try{for(w(V),d=n(l);d!==null&&(!(d.expirationTime>V)||W&&!P());){var L=d.callback;if(typeof L=="function"){d.callback=null,f=d.priorityLevel;var H=L(d.expirationTime<=V);V=e.unstable_now(),typeof H=="function"?d.callback=H:d===n(l)&&r(l),w(V)}else r(l);d=n(l)}if(d!==null)var B=!0;else{var Y=n(u);Y!==null&&q(_,Y.startTime-V),B=!1}return B}finally{d=null,f=z,h=!1}}var S=!1,T=null,k=-1,R=5,I=-1;function P(){return!(e.unstable_now()-I<R)}function N(){if(T!==null){var W=e.unstable_now();I=W;var V=!0;try{V=T(!0,W)}finally{V?M():(S=!1,T=null)}}else S=!1}var M;if(typeof y=="function")M=function(){y(N)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,j=O.port2;O.port1.onmessage=N,M=function(){j.postMessage(null)}}else M=function(){g(N,0)};function U(W){T=W,S||(S=!0,M())}function q(W,V){k=g(function(){W(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){m||h||(m=!0,U(E))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(W){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var z=f;f=V;try{return W()}finally{f=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,V){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var z=f;f=W;try{return V()}finally{f=z}},e.unstable_scheduleCallback=function(W,V,z){var L=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?L+z:L):z=L,W){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=z+H,W={id:c++,callback:V,priorityLevel:W,startTime:z,expirationTime:H,sortIndex:-1},z>L?(W.sortIndex=z,t(u,W),n(l)===null&&W===n(u)&&(p?(v(k),k=-1):p=!0,q(_,z-L))):(W.sortIndex=H,t(l,W),m||h||(m=!0,U(E))),W},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(W){var V=f;return function(){var z=f;f=V;try{return W.apply(this,arguments)}finally{f=z}}}})(oF)),oF}var bre;function D$e(){return bre||(bre=1,iF.exports=I$e()),iF.exports}var wre;function P$e(){if(wre)return Ll;wre=1;var e=s4(),t=D$e();function n(x){for(var C="https://reactjs.org/docs/error-decoder.html?invariant="+x,D=1;D<arguments.length;D++)C+="&args[]="+encodeURIComponent(arguments[D]);return"Minified React error #"+x+"; visit "+C+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(x,C){s(x,C),s(x+"Capture",C)}function s(x,C){for(i[x]=C,x=0;x<C.length;x++)r.add(C[x])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c={},d={};function f(x){return l.call(d,x)?!0:l.call(c,x)?!1:u.test(x)?d[x]=!0:(c[x]=!0,!1)}function h(x,C,D,F){if(D!==null&&D.type===0)return!1;switch(typeof C){case"function":case"symbol":return!0;case"boolean":return F?!1:D!==null?!D.acceptsBooleans:(x=x.toLowerCase().slice(0,5),x!=="data-"&&x!=="aria-");default:return!1}}function m(x,C,D,F){if(C===null||typeof C>"u"||h(x,C,D,F))return!0;if(F)return!1;if(D!==null)switch(D.type){case 3:return!C;case 4:return C===!1;case 5:return isNaN(C);case 6:return isNaN(C)||1>C}return!1}function p(x,C,D,F,K,Z,de){this.acceptsBooleans=C===2||C===3||C===4,this.attributeName=F,this.attributeNamespace=K,this.mustUseProperty=D,this.propertyName=x,this.type=C,this.sanitizeURL=Z,this.removeEmptyString=de}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(x){g[x]=new p(x,0,!1,x,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(x){var C=x[0];g[C]=new p(C,1,!1,x[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(x){g[x]=new p(x,2,!1,x.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(x){g[x]=new p(x,2,!1,x,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(x){g[x]=new p(x,3,!1,x.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(x){g[x]=new p(x,3,!0,x,null,!1,!1)}),["capture","download"].forEach(function(x){g[x]=new p(x,4,!1,x,null,!1,!1)}),["cols","rows","size","span"].forEach(function(x){g[x]=new p(x,6,!1,x,null,!1,!1)}),["rowSpan","start"].forEach(function(x){g[x]=new p(x,5,!1,x.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(x){return x[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(x){var C=x.replace(v,y);g[C]=new p(C,1,!1,x,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(x){var C=x.replace(v,y);g[C]=new p(C,1,!1,x,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(x){var C=x.replace(v,y);g[C]=new p(C,1,!1,x,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(x){g[x]=new p(x,1,!1,x.toLowerCase(),null,!1,!1)}),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(x){g[x]=new p(x,1,!1,x.toLowerCase(),null,!0,!0)});function w(x,C,D,F){var K=g.hasOwnProperty(C)?g[C]:null;(K!==null?K.type!==0:F||!(2<C.length)||C[0]!=="o"&&C[0]!=="O"||C[1]!=="n"&&C[1]!=="N")&&(m(C,D,K,F)&&(D=null),F||K===null?f(C)&&(D===null?x.removeAttribute(C):x.setAttribute(C,""+D)):K.mustUseProperty?x[K.propertyName]=D===null?K.type===3?!1:"":D:(C=K.attributeName,F=K.attributeNamespace,D===null?x.removeAttribute(C):(K=K.type,D=K===3||K===4&&D===!0?"":""+D,F?x.setAttributeNS(F,C,D):x.setAttribute(C,D))))}var _=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),P=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),W=Symbol.iterator;function V(x){return x===null||typeof x!="object"?null:(x=W&&x[W]||x["@@iterator"],typeof x=="function"?x:null)}var z=Object.assign,L;function H(x){if(L===void 0)try{throw Error()}catch(D){var C=D.stack.trim().match(/\n( *(at )?)/);L=C&&C[1]||""}return`
`+L+x}var B=!1;function Y(x,C){if(!x||B)return"";B=!0;var D=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(C)if(C=function(){throw Error()},Object.defineProperty(C.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(C,[])}catch(Qe){var F=Qe}Reflect.construct(x,[],C)}else{try{C.call()}catch(Qe){F=Qe}x.call(C.prototype)}else{try{throw Error()}catch(Qe){F=Qe}x()}}catch(Qe){if(Qe&&F&&typeof Qe.stack=="string"){for(var K=Qe.stack.split(`
`),Z=F.stack.split(`
`),de=K.length-1,Ie=Z.length-1;1<=de&&0<=Ie&&K[de]!==Z[Ie];)Ie--;for(;1<=de&&0<=Ie;de--,Ie--)if(K[de]!==Z[Ie]){if(de!==1||Ie!==1)do if(de--,Ie--,0>Ie||K[de]!==Z[Ie]){var Fe=`
`+K[de].replace(" at new "," at ");return x.displayName&&Fe.includes("<anonymous>")&&(Fe=Fe.replace("<anonymous>",x.displayName)),Fe}while(1<=de&&0<=Ie);break}}}finally{B=!1,Error.prepareStackTrace=D}return(x=x?x.displayName||x.name:"")?H(x):""}function Q(x){switch(x.tag){case 5:return H(x.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return x=Y(x.type,!1),x;case 11:return x=Y(x.type.render,!1),x;case 1:return x=Y(x.type,!0),x;default:return""}}function ne(x){if(x==null)return null;if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x;switch(x){case T:return"Fragment";case S:return"Portal";case R:return"Profiler";case k:return"StrictMode";case M:return"Suspense";case O:return"SuspenseList"}if(typeof x=="object")switch(x.$$typeof){case P:return(x.displayName||"Context")+".Consumer";case I:return(x._context.displayName||"Context")+".Provider";case N:var C=x.render;return x=x.displayName,x||(x=C.displayName||C.name||"",x=x!==""?"ForwardRef("+x+")":"ForwardRef"),x;case j:return C=x.displayName||null,C!==null?C:ne(x.type)||"Memo";case U:C=x._payload,x=x._init;try{return ne(x(C))}catch{}}return null}function ce(x){var C=x.type;switch(x.tag){case 24:return"Cache";case 9:return(C.displayName||"Context")+".Consumer";case 10:return(C._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return x=C.render,x=x.displayName||x.name||"",C.displayName||(x!==""?"ForwardRef("+x+")":"ForwardRef");case 7:return"Fragment";case 5:return C;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ne(C);case 8:return C===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof C=="function")return C.displayName||C.name||null;if(typeof C=="string")return C}return null}function le(x){switch(typeof x){case"boolean":case"number":case"string":case"undefined":return x;case"object":return x;default:return""}}function ue(x){var C=x.type;return(x=x.nodeName)&&x.toLowerCase()==="input"&&(C==="checkbox"||C==="radio")}function ae(x){var C=ue(x)?"checked":"value",D=Object.getOwnPropertyDescriptor(x.constructor.prototype,C),F=""+x[C];if(!x.hasOwnProperty(C)&&typeof D<"u"&&typeof D.get=="function"&&typeof D.set=="function"){var K=D.get,Z=D.set;return Object.defineProperty(x,C,{configurable:!0,get:function(){return K.call(this)},set:function(de){F=""+de,Z.call(this,de)}}),Object.defineProperty(x,C,{enumerable:D.enumerable}),{getValue:function(){return F},setValue:function(de){F=""+de},stopTracking:function(){x._valueTracker=null,delete x[C]}}}}function te(x){x._valueTracker||(x._valueTracker=ae(x))}function se(x){if(!x)return!1;var C=x._valueTracker;if(!C)return!0;var D=C.getValue(),F="";return x&&(F=ue(x)?x.checked?"true":"false":x.value),x=F,x!==D?(C.setValue(x),!0):!1}function we(x){if(x=x||(typeof document<"u"?document:void 0),typeof x>"u")return null;try{return x.activeElement||x.body}catch{return x.body}}function X(x,C){var D=C.checked;return z({},C,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:D??x._wrapperState.initialChecked})}function he(x,C){var D=C.defaultValue==null?"":C.defaultValue,F=C.checked!=null?C.checked:C.defaultChecked;D=le(C.value!=null?C.value:D),x._wrapperState={initialChecked:F,initialValue:D,controlled:C.type==="checkbox"||C.type==="radio"?C.checked!=null:C.value!=null}}function ge(x,C){C=C.checked,C!=null&&w(x,"checked",C,!1)}function re(x,C){ge(x,C);var D=le(C.value),F=C.type;if(D!=null)F==="number"?(D===0&&x.value===""||x.value!=D)&&(x.value=""+D):x.value!==""+D&&(x.value=""+D);else if(F==="submit"||F==="reset"){x.removeAttribute("value");return}C.hasOwnProperty("value")?fe(x,C.type,D):C.hasOwnProperty("defaultValue")&&fe(x,C.type,le(C.defaultValue)),C.checked==null&&C.defaultChecked!=null&&(x.defaultChecked=!!C.defaultChecked)}function ee(x,C,D){if(C.hasOwnProperty("value")||C.hasOwnProperty("defaultValue")){var F=C.type;if(!(F!=="submit"&&F!=="reset"||C.value!==void 0&&C.value!==null))return;C=""+x._wrapperState.initialValue,D||C===x.value||(x.value=C),x.defaultValue=C}D=x.name,D!==""&&(x.name=""),x.defaultChecked=!!x._wrapperState.initialChecked,D!==""&&(x.name=D)}function fe(x,C,D){(C!=="number"||we(x.ownerDocument)!==x)&&(D==null?x.defaultValue=""+x._wrapperState.initialValue:x.defaultValue!==""+D&&(x.defaultValue=""+D))}var Re=Array.isArray;function Oe(x,C,D,F){if(x=x.options,C){C={};for(var K=0;K<D.length;K++)C["$"+D[K]]=!0;for(D=0;D<x.length;D++)K=C.hasOwnProperty("$"+x[D].value),x[D].selected!==K&&(x[D].selected=K),K&&F&&(x[D].defaultSelected=!0)}else{for(D=""+le(D),C=null,K=0;K<x.length;K++){if(x[K].value===D){x[K].selected=!0,F&&(x[K].defaultSelected=!0);return}C!==null||x[K].disabled||(C=x[K])}C!==null&&(C.selected=!0)}}function Ae(x,C){if(C.dangerouslySetInnerHTML!=null)throw Error(n(91));return z({},C,{value:void 0,defaultValue:void 0,children:""+x._wrapperState.initialValue})}function Se(x,C){var D=C.value;if(D==null){if(D=C.children,C=C.defaultValue,D!=null){if(C!=null)throw Error(n(92));if(Re(D)){if(1<D.length)throw Error(n(93));D=D[0]}C=D}C==null&&(C=""),D=C}x._wrapperState={initialValue:le(D)}}function xe(x,C){var D=le(C.value),F=le(C.defaultValue);D!=null&&(D=""+D,D!==x.value&&(x.value=D),C.defaultValue==null&&x.defaultValue!==D&&(x.defaultValue=D)),F!=null&&(x.defaultValue=""+F)}function ke(x){var C=x.textContent;C===x._wrapperState.initialValue&&C!==""&&C!==null&&(x.value=C)}function me(x){switch(x){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Me(x,C){return x==null||x==="http://www.w3.org/1999/xhtml"?me(C):x==="http://www.w3.org/2000/svg"&&C==="foreignObject"?"http://www.w3.org/1999/xhtml":x}var ze,Xe=(function(x){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(C,D,F,K){MSApp.execUnsafeLocalFunction(function(){return x(C,D,F,K)})}:x})(function(x,C){if(x.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in x)x.innerHTML=C;else{for(ze=ze||document.createElement("div"),ze.innerHTML="<svg>"+C.valueOf().toString()+"</svg>",C=ze.firstChild;x.firstChild;)x.removeChild(x.firstChild);for(;C.firstChild;)x.appendChild(C.firstChild)}});function tt(x,C){if(C){var D=x.firstChild;if(D&&D===x.lastChild&&D.nodeType===3){D.nodeValue=C;return}}x.textContent=C}var gt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qt=["Webkit","ms","Moz","O"];Object.keys(gt).forEach(function(x){qt.forEach(function(C){C=C+x.charAt(0).toUpperCase()+x.substring(1),gt[C]=gt[x]})});function zt(x,C,D){return C==null||typeof C=="boolean"||C===""?"":D||typeof C!="number"||C===0||gt.hasOwnProperty(x)&&gt[x]?(""+C).trim():C+"px"}function _n(x,C){x=x.style;for(var D in C)if(C.hasOwnProperty(D)){var F=D.indexOf("--")===0,K=zt(D,C[D],F);D==="float"&&(D="cssFloat"),F?x.setProperty(D,K):x[D]=K}}var $t=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dn(x,C){if(C){if($t[x]&&(C.children!=null||C.dangerouslySetInnerHTML!=null))throw Error(n(137,x));if(C.dangerouslySetInnerHTML!=null){if(C.children!=null)throw Error(n(60));if(typeof C.dangerouslySetInnerHTML!="object"||!("__html"in C.dangerouslySetInnerHTML))throw Error(n(61))}if(C.style!=null&&typeof C.style!="object")throw Error(n(62))}}function Vn(x,C){if(x.indexOf("-")===-1)return typeof C.is=="string";switch(x){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ln=null;function Tr(x){return x=x.target||x.srcElement||window,x.correspondingUseElement&&(x=x.correspondingUseElement),x.nodeType===3?x.parentNode:x}var Xn=null,mr=null,En=null;function nn(x){if(x=l_(x)){if(typeof Xn!="function")throw Error(n(280));var C=x.stateNode;C&&(C=xA(C),Xn(x.stateNode,x.type,C))}}function rr(x){mr?En?En.push(x):En=[x]:mr=x}function ii(){if(mr){var x=mr,C=En;if(En=mr=null,nn(x),C)for(x=0;x<C.length;x++)nn(C[x])}}function br(x,C){return x(C)}function Sn(){}var ht=!1;function cr(x,C,D){if(ht)return x(C,D);ht=!0;try{return br(x,C,D)}finally{ht=!1,(mr!==null||En!==null)&&(Sn(),ii())}}function Ut(x,C){var D=x.stateNode;if(D===null)return null;var F=xA(D);if(F===null)return null;D=F[C];e:switch(C){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(F=!F.disabled)||(x=x.type,F=!(x==="button"||x==="input"||x==="select"||x==="textarea")),x=!F;break e;default:x=!1}if(x)return null;if(D&&typeof D!="function")throw Error(n(231,C,typeof D));return D}var Zn=!1;if(a)try{var sn={};Object.defineProperty(sn,"passive",{get:function(){Zn=!0}}),window.addEventListener("test",sn,sn),window.removeEventListener("test",sn,sn)}catch{Zn=!1}function Yn(x,C,D,F,K,Z,de,Ie,Fe){var Qe=Array.prototype.slice.call(arguments,3);try{C.apply(D,Qe)}catch(yt){this.onError(yt)}}var wr=!1,kr=null,Ar=!1,Qo=null,fa={onError:function(x){wr=!0,kr=x}};function du(x,C,D,F,K,Z,de,Ie,Fe){wr=!1,kr=null,Yn.apply(fa,arguments)}function Ju(x,C,D,F,K,Z,de,Ie,Fe){if(du.apply(this,arguments),wr){if(wr){var Qe=kr;wr=!1,kr=null}else throw Error(n(198));Ar||(Ar=!0,Qo=Qe)}}function Fn(x){var C=x,D=x;if(x.alternate)for(;C.return;)C=C.return;else{x=C;do C=x,(C.flags&4098)!==0&&(D=C.return),x=C.return;while(x)}return C.tag===3?D:null}function Ni(x){if(x.tag===13){var C=x.memoizedState;if(C===null&&(x=x.alternate,x!==null&&(C=x.memoizedState)),C!==null)return C.dehydrated}return null}function Jo(x){if(Fn(x)!==x)throw Error(n(188))}function Tf(x){var C=x.alternate;if(!C){if(C=Fn(x),C===null)throw Error(n(188));return C!==x?null:x}for(var D=x,F=C;;){var K=D.return;if(K===null)break;var Z=K.alternate;if(Z===null){if(F=K.return,F!==null){D=F;continue}break}if(K.child===Z.child){for(Z=K.child;Z;){if(Z===D)return Jo(K),x;if(Z===F)return Jo(K),C;Z=Z.sibling}throw Error(n(188))}if(D.return!==F.return)D=K,F=Z;else{for(var de=!1,Ie=K.child;Ie;){if(Ie===D){de=!0,D=K,F=Z;break}if(Ie===F){de=!0,F=K,D=Z;break}Ie=Ie.sibling}if(!de){for(Ie=Z.child;Ie;){if(Ie===D){de=!0,D=Z,F=K;break}if(Ie===F){de=!0,F=Z,D=K;break}Ie=Ie.sibling}if(!de)throw Error(n(189))}}if(D.alternate!==F)throw Error(n(190))}if(D.tag!==3)throw Error(n(188));return D.stateNode.current===D?x:C}function Zc(x){return x=Tf(x),x!==null?Zu(x):null}function Zu(x){if(x.tag===5||x.tag===6)return x;for(x=x.child;x!==null;){var C=Zu(x);if(C!==null)return C;x=x.sibling}return null}var ec=t.unstable_scheduleCallback,Zo=t.unstable_cancelCallback,kf=t.unstable_shouldYield,fu=t.unstable_requestPaint,dr=t.unstable_now,ed=t.unstable_getCurrentPriorityLevel,wo=t.unstable_ImmediatePriority,hs=t.unstable_UserBlockingPriority,xo=t.unstable_NormalPriority,hu=t.unstable_LowPriority,js=t.unstable_IdlePriority,Al=null,Co=null;function Af(x){if(Co&&typeof Co.onCommitFiberRoot=="function")try{Co.onCommitFiberRoot(Al,x,void 0,(x.current.flags&128)===128)}catch{}}var _o=Math.clz32?Math.clz32:Ce,pe=Math.log,Ne=Math.LN2;function Ce(x){return x>>>=0,x===0?32:31-(pe(x)/Ne|0)|0}var Be=64,He=4194304;function je(x){switch(x&-x){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return x&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return x}}function rt(x,C){var D=x.pendingLanes;if(D===0)return 0;var F=0,K=x.suspendedLanes,Z=x.pingedLanes,de=D&268435455;if(de!==0){var Ie=de&~K;Ie!==0?F=je(Ie):(Z&=de,Z!==0&&(F=je(Z)))}else de=D&~K,de!==0?F=je(de):Z!==0&&(F=je(Z));if(F===0)return 0;if(C!==0&&C!==F&&(C&K)===0&&(K=F&-F,Z=C&-C,K>=Z||K===16&&(Z&4194240)!==0))return C;if((F&4)!==0&&(F|=D&16),C=x.entangledLanes,C!==0)for(x=x.entanglements,C&=F;0<C;)D=31-_o(C),K=1<<D,F|=x[D],C&=~K;return F}function ut(x,C){switch(x){case 1:case 2:case 4:return C+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return C+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pt(x,C){for(var D=x.suspendedLanes,F=x.pingedLanes,K=x.expirationTimes,Z=x.pendingLanes;0<Z;){var de=31-_o(Z),Ie=1<<de,Fe=K[de];Fe===-1?((Ie&D)===0||(Ie&F)!==0)&&(K[de]=ut(Ie,C)):Fe<=C&&(x.expiredLanes|=Ie),Z&=~Ie}}function ft(x){return x=x.pendingLanes&-1073741825,x!==0?x:x&1073741824?1073741824:0}function _t(){var x=Be;return Be<<=1,(Be&4194240)===0&&(Be=64),x}function jt(x){for(var C=[],D=0;31>D;D++)C.push(x);return C}function Pn(x,C,D){x.pendingLanes|=C,C!==536870912&&(x.suspendedLanes=0,x.pingedLanes=0),x=x.eventTimes,C=31-_o(C),x[C]=D}function Xt(x,C){var D=x.pendingLanes&~C;x.pendingLanes=C,x.suspendedLanes=0,x.pingedLanes=0,x.expiredLanes&=C,x.mutableReadLanes&=C,x.entangledLanes&=C,C=x.entanglements;var F=x.eventTimes;for(x=x.expirationTimes;0<D;){var K=31-_o(D),Z=1<<K;C[K]=0,F[K]=-1,x[K]=-1,D&=~Z}}function Qn(x,C){var D=x.entangledLanes|=C;for(x=x.entanglements;D;){var F=31-_o(D),K=1<<F;K&C|x[F]&C&&(x[F]|=C),D&=~K}}var Wt=0;function sr(x){return x&=-x,1<x?4<x?(x&268435455)!==0?16:536870912:4:1}var Eo,ha,So,Rf,tc,If=!1,es=[],Mi=null,Si=null,ps=null,nc=new Map,Uo=new Map,pa=[],Df="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rl(x,C){switch(x){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":ps=null;break;case"pointerover":case"pointerout":nc.delete(C.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uo.delete(C.pointerId)}}function to(x,C,D,F,K,Z){return x===null||x.nativeEvent!==Z?(x={blockedOn:C,domEventName:D,eventSystemFlags:F,nativeEvent:Z,targetContainers:[K]},C!==null&&(C=l_(C),C!==null&&ha(C)),x):(x.eventSystemFlags|=F,C=x.targetContainers,K!==null&&C.indexOf(K)===-1&&C.push(K),x)}function Vm(x,C,D,F,K){switch(C){case"focusin":return Mi=to(Mi,x,C,D,F,K),!0;case"dragenter":return Si=to(Si,x,C,D,F,K),!0;case"mouseover":return ps=to(ps,x,C,D,F,K),!0;case"pointerover":var Z=K.pointerId;return nc.set(Z,to(nc.get(Z)||null,x,C,D,F,K)),!0;case"gotpointercapture":return Z=K.pointerId,Uo.set(Z,to(Uo.get(Z)||null,x,C,D,F,K)),!0}return!1}function Pf(x){var C=dy(x.target);if(C!==null){var D=Fn(C);if(D!==null){if(C=D.tag,C===13){if(C=Ni(D),C!==null){x.blockedOn=C,tc(x.priority,function(){So(D)});return}}else if(C===3&&D.stateNode.current.memoizedState.isDehydrated){x.blockedOn=D.tag===3?D.stateNode.containerInfo:null;return}}}x.blockedOn=null}function Bs(x){if(x.blockedOn!==null)return!1;for(var C=x.targetContainers;0<C.length;){var D=fn(x.domEventName,x.eventSystemFlags,C[0],x.nativeEvent);if(D===null){D=x.nativeEvent;var F=new D.constructor(D.type,D);Ln=F,D.target.dispatchEvent(F),Ln=null}else return C=l_(D),C!==null&&ha(C),x.blockedOn=D,!1;C.shift()}return!0}function pu(x,C,D){Bs(x)&&D.delete(C)}function Wm(){If=!1,Mi!==null&&Bs(Mi)&&(Mi=null),Si!==null&&Bs(Si)&&(Si=null),ps!==null&&Bs(ps)&&(ps=null),nc.forEach(pu),Uo.forEach(pu)}function Ya(x,C){x.blockedOn===C&&(x.blockedOn=null,If||(If=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Wm)))}function ma(x){function C(K){return Ya(K,x)}if(0<es.length){Ya(es[0],x);for(var D=1;D<es.length;D++){var F=es[D];F.blockedOn===x&&(F.blockedOn=null)}}for(Mi!==null&&Ya(Mi,x),Si!==null&&Ya(Si,x),ps!==null&&Ya(ps,x),nc.forEach(C),Uo.forEach(C),D=0;D<pa.length;D++)F=pa[D],F.blockedOn===x&&(F.blockedOn=null);for(;0<pa.length&&(D=pa[0],D.blockedOn===null);)Pf(D),D.blockedOn===null&&pa.shift()}var Ee=_.ReactCurrentBatchConfig,oe=!0;function ve(x,C,D,F){var K=Wt,Z=Ee.transition;Ee.transition=null;try{Wt=1,St(x,C,D,F)}finally{Wt=K,Ee.transition=Z}}function Le(x,C,D,F){var K=Wt,Z=Ee.transition;Ee.transition=null;try{Wt=4,St(x,C,D,F)}finally{Wt=K,Ee.transition=Z}}function St(x,C,D,F){if(oe){var K=fn(x,C,D,F);if(K===null)V$(x,C,F,Dt,D),Rl(x,F);else if(Vm(K,x,C,D,F))F.stopPropagation();else if(Rl(x,F),C&4&&-1<Df.indexOf(x)){for(;K!==null;){var Z=l_(K);if(Z!==null&&Eo(Z),Z=fn(x,C,D,F),Z===null&&V$(x,C,F,Dt,D),Z===K)break;K=Z}K!==null&&F.stopPropagation()}else V$(x,C,F,null,D)}}var Dt=null;function fn(x,C,D,F){if(Dt=null,x=Tr(F),x=dy(x),x!==null)if(C=Fn(x),C===null)x=null;else if(D=C.tag,D===13){if(x=Ni(C),x!==null)return x;x=null}else if(D===3){if(C.stateNode.current.memoizedState.isDehydrated)return C.tag===3?C.stateNode.containerInfo:null;x=null}else C!==x&&(x=null);return Dt=x,null}function Mn(x){switch(x){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ed()){case wo:return 1;case hs:return 4;case xo:case hu:return 16;case js:return 536870912;default:return 16}default:return 16}}var Kt=null,yn=null,or=null;function Yr(){if(or)return or;var x,C=yn,D=C.length,F,K="value"in Kt?Kt.value:Kt.textContent,Z=K.length;for(x=0;x<D&&C[x]===K[x];x++);var de=D-x;for(F=1;F<=de&&C[D-F]===K[Z-F];F++);return or=K.slice(x,1<F?1-F:void 0)}function oi(x){var C=x.keyCode;return"charCode"in x?(x=x.charCode,x===0&&C===13&&(x=13)):x=C,x===10&&(x=13),32<=x||x===13?x:0}function wi(){return!0}function co(){return!1}function si(x){function C(D,F,K,Z,de){this._reactName=D,this._targetInst=K,this.type=F,this.nativeEvent=Z,this.target=de,this.currentTarget=null;for(var Ie in x)x.hasOwnProperty(Ie)&&(D=x[Ie],this[Ie]=D?D(Z):Z[Ie]);return this.isDefaultPrevented=(Z.defaultPrevented!=null?Z.defaultPrevented:Z.returnValue===!1)?wi:co,this.isPropagationStopped=co,this}return z(C.prototype,{preventDefault:function(){this.defaultPrevented=!0;var D=this.nativeEvent;D&&(D.preventDefault?D.preventDefault():typeof D.returnValue!="unknown"&&(D.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var D=this.nativeEvent;D&&(D.stopPropagation?D.stopPropagation():typeof D.cancelBubble!="unknown"&&(D.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),C}var To={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(x){return x.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Il=si(To),mu=z({},To,{view:0,detail:0}),Gm=si(mu),td,rp,Ym,cy=z({},mu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$,button:0,buttons:0,relatedTarget:function(x){return x.relatedTarget===void 0?x.fromElement===x.srcElement?x.toElement:x.fromElement:x.relatedTarget},movementX:function(x){return"movementX"in x?x.movementX:(x!==Ym&&(Ym&&x.type==="mousemove"?(td=x.screenX-Ym.screenX,rp=x.screenY-Ym.screenY):rp=td=0,Ym=x),td)},movementY:function(x){return"movementY"in x?x.movementY:rp}}),Zb=si(cy),JC=z({},cy,{dataTransfer:0}),aA=si(JC),e1=z({},mu,{relatedTarget:0}),t1=si(e1),lA=z({},To,{animationName:0,elapsedTime:0,pseudoElement:0}),ip=si(lA),uA=z({},To,{clipboardData:function(x){return"clipboardData"in x?x.clipboardData:window.clipboardData}}),cA=si(uA),dA=z({},To,{data:0}),ZC=si(dA),Dl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Km(x){var C=this.nativeEvent;return C.getModifierState?C.getModifierState(x):(x=hA[x])?!!C[x]:!1}function $(){return Km}var J=z({},mu,{key:function(x){if(x.key){var C=Dl[x.key]||x.key;if(C!=="Unidentified")return C}return x.type==="keypress"?(x=oi(x),x===13?"Enter":String.fromCharCode(x)):x.type==="keydown"||x.type==="keyup"?fA[x.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$,charCode:function(x){return x.type==="keypress"?oi(x):0},keyCode:function(x){return x.type==="keydown"||x.type==="keyup"?x.keyCode:0},which:function(x){return x.type==="keypress"?oi(x):x.type==="keydown"||x.type==="keyup"?x.keyCode:0}}),ie=si(J),be=z({},cy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ve=si(be),Ze=z({},mu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$}),Pt=si(Ze),ai=z({},To,{propertyName:0,elapsedTime:0,pseudoElement:0}),ts=si(ai),Rr=z({},cy,{deltaX:function(x){return"deltaX"in x?x.deltaX:"wheelDeltaX"in x?-x.wheelDeltaX:0},deltaY:function(x){return"deltaY"in x?x.deltaY:"wheelDeltaY"in x?-x.wheelDeltaY:"wheelDelta"in x?-x.wheelDelta:0},deltaZ:0,deltaMode:0}),ms=si(Rr),gs=[9,13,27,32],Of=a&&"CompositionEvent"in window,zs=null;a&&"documentMode"in document&&(zs=document.documentMode);var n1=a&&"TextEvent"in window&&!zs,r1=a&&(!Of||zs&&8<zs&&11>=zs),ate=" ",lte=!1;function ute(x,C){switch(x){case"keyup":return gs.indexOf(C.keyCode)!==-1;case"keydown":return C.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cte(x){return x=x.detail,typeof x=="object"&&"data"in x?x.data:null}var i1=!1;function x5e(x,C){switch(x){case"compositionend":return cte(C);case"keypress":return C.which!==32?null:(lte=!0,ate);case"textInput":return x=C.data,x===ate&&lte?null:x;default:return null}}function C5e(x,C){if(i1)return x==="compositionend"||!Of&&ute(x,C)?(x=Yr(),or=yn=Kt=null,i1=!1,x):null;switch(x){case"paste":return null;case"keypress":if(!(C.ctrlKey||C.altKey||C.metaKey)||C.ctrlKey&&C.altKey){if(C.char&&1<C.char.length)return C.char;if(C.which)return String.fromCharCode(C.which)}return null;case"compositionend":return r1&&C.locale!=="ko"?null:C.data;default:return null}}var _5e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dte(x){var C=x&&x.nodeName&&x.nodeName.toLowerCase();return C==="input"?!!_5e[x.type]:C==="textarea"}function fte(x,C,D,F){rr(F),C=vA(C,"onChange"),0<C.length&&(D=new Il("onChange","change",null,D,F),x.push({event:D,listeners:C}))}var e_=null,t_=null;function E5e(x){Ite(x,0)}function pA(x){var C=u1(x);if(se(C))return x}function S5e(x,C){if(x==="change")return C}var hte=!1;if(a){var $$;if(a){var L$="oninput"in document;if(!L$){var pte=document.createElement("div");pte.setAttribute("oninput","return;"),L$=typeof pte.oninput=="function"}$$=L$}else $$=!1;hte=$$&&(!document.documentMode||9<document.documentMode)}function mte(){e_&&(e_.detachEvent("onpropertychange",gte),t_=e_=null)}function gte(x){if(x.propertyName==="value"&&pA(t_)){var C=[];fte(C,t_,x,Tr(x)),cr(E5e,C)}}function T5e(x,C,D){x==="focusin"?(mte(),e_=C,t_=D,e_.attachEvent("onpropertychange",gte)):x==="focusout"&&mte()}function k5e(x){if(x==="selectionchange"||x==="keyup"||x==="keydown")return pA(t_)}function A5e(x,C){if(x==="click")return pA(C)}function R5e(x,C){if(x==="input"||x==="change")return pA(C)}function I5e(x,C){return x===C&&(x!==0||1/x===1/C)||x!==x&&C!==C}var nd=typeof Object.is=="function"?Object.is:I5e;function n_(x,C){if(nd(x,C))return!0;if(typeof x!="object"||x===null||typeof C!="object"||C===null)return!1;var D=Object.keys(x),F=Object.keys(C);if(D.length!==F.length)return!1;for(F=0;F<D.length;F++){var K=D[F];if(!l.call(C,K)||!nd(x[K],C[K]))return!1}return!0}function yte(x){for(;x&&x.firstChild;)x=x.firstChild;return x}function vte(x,C){var D=yte(x);x=0;for(var F;D;){if(D.nodeType===3){if(F=x+D.textContent.length,x<=C&&F>=C)return{node:D,offset:C-x};x=F}e:{for(;D;){if(D.nextSibling){D=D.nextSibling;break e}D=D.parentNode}D=void 0}D=yte(D)}}function bte(x,C){return x&&C?x===C?!0:x&&x.nodeType===3?!1:C&&C.nodeType===3?bte(x,C.parentNode):"contains"in x?x.contains(C):x.compareDocumentPosition?!!(x.compareDocumentPosition(C)&16):!1:!1}function wte(){for(var x=window,C=we();C instanceof x.HTMLIFrameElement;){try{var D=typeof C.contentWindow.location.href=="string"}catch{D=!1}if(D)x=C.contentWindow;else break;C=we(x.document)}return C}function F$(x){var C=x&&x.nodeName&&x.nodeName.toLowerCase();return C&&(C==="input"&&(x.type==="text"||x.type==="search"||x.type==="tel"||x.type==="url"||x.type==="password")||C==="textarea"||x.contentEditable==="true")}function D5e(x){var C=wte(),D=x.focusedElem,F=x.selectionRange;if(C!==D&&D&&D.ownerDocument&&bte(D.ownerDocument.documentElement,D)){if(F!==null&&F$(D)){if(C=F.start,x=F.end,x===void 0&&(x=C),"selectionStart"in D)D.selectionStart=C,D.selectionEnd=Math.min(x,D.value.length);else if(x=(C=D.ownerDocument||document)&&C.defaultView||window,x.getSelection){x=x.getSelection();var K=D.textContent.length,Z=Math.min(F.start,K);F=F.end===void 0?Z:Math.min(F.end,K),!x.extend&&Z>F&&(K=F,F=Z,Z=K),K=vte(D,Z);var de=vte(D,F);K&&de&&(x.rangeCount!==1||x.anchorNode!==K.node||x.anchorOffset!==K.offset||x.focusNode!==de.node||x.focusOffset!==de.offset)&&(C=C.createRange(),C.setStart(K.node,K.offset),x.removeAllRanges(),Z>F?(x.addRange(C),x.extend(de.node,de.offset)):(C.setEnd(de.node,de.offset),x.addRange(C)))}}for(C=[],x=D;x=x.parentNode;)x.nodeType===1&&C.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<C.length;D++)x=C[D],x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}var P5e=a&&"documentMode"in document&&11>=document.documentMode,o1=null,j$=null,r_=null,B$=!1;function xte(x,C,D){var F=D.window===D?D.document:D.nodeType===9?D:D.ownerDocument;B$||o1==null||o1!==we(F)||(F=o1,"selectionStart"in F&&F$(F)?F={start:F.selectionStart,end:F.selectionEnd}:(F=(F.ownerDocument&&F.ownerDocument.defaultView||window).getSelection(),F={anchorNode:F.anchorNode,anchorOffset:F.anchorOffset,focusNode:F.focusNode,focusOffset:F.focusOffset}),r_&&n_(r_,F)||(r_=F,F=vA(j$,"onSelect"),0<F.length&&(C=new Il("onSelect","select",null,C,D),x.push({event:C,listeners:F}),C.target=o1)))}function mA(x,C){var D={};return D[x.toLowerCase()]=C.toLowerCase(),D["Webkit"+x]="webkit"+C,D["Moz"+x]="moz"+C,D}var s1={animationend:mA("Animation","AnimationEnd"),animationiteration:mA("Animation","AnimationIteration"),animationstart:mA("Animation","AnimationStart"),transitionend:mA("Transition","TransitionEnd")},z$={},Cte={};a&&(Cte=document.createElement("div").style,"AnimationEvent"in window||(delete s1.animationend.animation,delete s1.animationiteration.animation,delete s1.animationstart.animation),"TransitionEvent"in window||delete s1.transitionend.transition);function gA(x){if(z$[x])return z$[x];if(!s1[x])return x;var C=s1[x],D;for(D in C)if(C.hasOwnProperty(D)&&D in Cte)return z$[x]=C[D];return x}var _te=gA("animationend"),Ete=gA("animationiteration"),Ste=gA("animationstart"),Tte=gA("transitionend"),kte=new Map,Ate="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xm(x,C){kte.set(x,C),o(C,[x])}for(var U$=0;U$<Ate.length;U$++){var H$=Ate[U$],O5e=H$.toLowerCase(),N5e=H$[0].toUpperCase()+H$.slice(1);Xm(O5e,"on"+N5e)}Xm(_te,"onAnimationEnd"),Xm(Ete,"onAnimationIteration"),Xm(Ste,"onAnimationStart"),Xm("dblclick","onDoubleClick"),Xm("focusin","onFocus"),Xm("focusout","onBlur"),Xm(Tte,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var i_="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M5e=new Set("cancel close invalid load scroll toggle".split(" ").concat(i_));function Rte(x,C,D){var F=x.type||"unknown-event";x.currentTarget=D,Ju(F,C,void 0,x),x.currentTarget=null}function Ite(x,C){C=(C&4)!==0;for(var D=0;D<x.length;D++){var F=x[D],K=F.event;F=F.listeners;e:{var Z=void 0;if(C)for(var de=F.length-1;0<=de;de--){var Ie=F[de],Fe=Ie.instance,Qe=Ie.currentTarget;if(Ie=Ie.listener,Fe!==Z&&K.isPropagationStopped())break e;Rte(K,Ie,Qe),Z=Fe}else for(de=0;de<F.length;de++){if(Ie=F[de],Fe=Ie.instance,Qe=Ie.currentTarget,Ie=Ie.listener,Fe!==Z&&K.isPropagationStopped())break e;Rte(K,Ie,Qe),Z=Fe}}}if(Ar)throw x=Qo,Ar=!1,Qo=null,x}function $i(x,C){var D=C[Q$];D===void 0&&(D=C[Q$]=new Set);var F=x+"__bubble";D.has(F)||(Dte(C,x,2,!1),D.add(F))}function q$(x,C,D){var F=0;C&&(F|=4),Dte(D,x,F,C)}var yA="_reactListening"+Math.random().toString(36).slice(2);function o_(x){if(!x[yA]){x[yA]=!0,r.forEach(function(D){D!=="selectionchange"&&(M5e.has(D)||q$(D,!1,x),q$(D,!0,x))});var C=x.nodeType===9?x:x.ownerDocument;C===null||C[yA]||(C[yA]=!0,q$("selectionchange",!1,C))}}function Dte(x,C,D,F){switch(Mn(C)){case 1:var K=ve;break;case 4:K=Le;break;default:K=St}D=K.bind(null,C,D,x),K=void 0,!Zn||C!=="touchstart"&&C!=="touchmove"&&C!=="wheel"||(K=!0),F?K!==void 0?x.addEventListener(C,D,{capture:!0,passive:K}):x.addEventListener(C,D,!0):K!==void 0?x.addEventListener(C,D,{passive:K}):x.addEventListener(C,D,!1)}function V$(x,C,D,F,K){var Z=F;if((C&1)===0&&(C&2)===0&&F!==null)e:for(;;){if(F===null)return;var de=F.tag;if(de===3||de===4){var Ie=F.stateNode.containerInfo;if(Ie===K||Ie.nodeType===8&&Ie.parentNode===K)break;if(de===4)for(de=F.return;de!==null;){var Fe=de.tag;if((Fe===3||Fe===4)&&(Fe=de.stateNode.containerInfo,Fe===K||Fe.nodeType===8&&Fe.parentNode===K))return;de=de.return}for(;Ie!==null;){if(de=dy(Ie),de===null)return;if(Fe=de.tag,Fe===5||Fe===6){F=Z=de;continue e}Ie=Ie.parentNode}}F=F.return}cr(function(){var Qe=Z,yt=Tr(D),wt=[];e:{var mt=kte.get(x);if(mt!==void 0){var Ht=Il,Gt=x;switch(x){case"keypress":if(oi(D)===0)break e;case"keydown":case"keyup":Ht=ie;break;case"focusin":Gt="focus",Ht=t1;break;case"focusout":Gt="blur",Ht=t1;break;case"beforeblur":case"afterblur":Ht=t1;break;case"click":if(D.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ht=Zb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ht=aA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ht=Pt;break;case _te:case Ete:case Ste:Ht=ip;break;case Tte:Ht=ts;break;case"scroll":Ht=Gm;break;case"wheel":Ht=ms;break;case"copy":case"cut":case"paste":Ht=cA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ht=Ve}var Qt=(C&4)!==0,ko=!Qt&&x==="scroll",We=Qt?mt!==null?mt+"Capture":null:mt;Qt=[];for(var Ue=Qe,Ke;Ue!==null;){Ke=Ue;var At=Ke.stateNode;if(Ke.tag===5&&At!==null&&(Ke=At,We!==null&&(At=Ut(Ue,We),At!=null&&Qt.push(s_(Ue,At,Ke)))),ko)break;Ue=Ue.return}0<Qt.length&&(mt=new Ht(mt,Gt,null,D,yt),wt.push({event:mt,listeners:Qt}))}}if((C&7)===0){e:{if(mt=x==="mouseover"||x==="pointerover",Ht=x==="mouseout"||x==="pointerout",mt&&D!==Ln&&(Gt=D.relatedTarget||D.fromElement)&&(dy(Gt)||Gt[op]))break e;if((Ht||mt)&&(mt=yt.window===yt?yt:(mt=yt.ownerDocument)?mt.defaultView||mt.parentWindow:window,Ht?(Gt=D.relatedTarget||D.toElement,Ht=Qe,Gt=Gt?dy(Gt):null,Gt!==null&&(ko=Fn(Gt),Gt!==ko||Gt.tag!==5&&Gt.tag!==6)&&(Gt=null)):(Ht=null,Gt=Qe),Ht!==Gt)){if(Qt=Zb,At="onMouseLeave",We="onMouseEnter",Ue="mouse",(x==="pointerout"||x==="pointerover")&&(Qt=Ve,At="onPointerLeave",We="onPointerEnter",Ue="pointer"),ko=Ht==null?mt:u1(Ht),Ke=Gt==null?mt:u1(Gt),mt=new Qt(At,Ue+"leave",Ht,D,yt),mt.target=ko,mt.relatedTarget=Ke,At=null,dy(yt)===Qe&&(Qt=new Qt(We,Ue+"enter",Gt,D,yt),Qt.target=Ke,Qt.relatedTarget=ko,At=Qt),ko=At,Ht&&Gt)t:{for(Qt=Ht,We=Gt,Ue=0,Ke=Qt;Ke;Ke=a1(Ke))Ue++;for(Ke=0,At=We;At;At=a1(At))Ke++;for(;0<Ue-Ke;)Qt=a1(Qt),Ue--;for(;0<Ke-Ue;)We=a1(We),Ke--;for(;Ue--;){if(Qt===We||We!==null&&Qt===We.alternate)break t;Qt=a1(Qt),We=a1(We)}Qt=null}else Qt=null;Ht!==null&&Pte(wt,mt,Ht,Qt,!1),Gt!==null&&ko!==null&&Pte(wt,ko,Gt,Qt,!0)}}e:{if(mt=Qe?u1(Qe):window,Ht=mt.nodeName&&mt.nodeName.toLowerCase(),Ht==="select"||Ht==="input"&&mt.type==="file")var rn=S5e;else if(dte(mt))if(hte)rn=R5e;else{rn=k5e;var kn=T5e}else(Ht=mt.nodeName)&&Ht.toLowerCase()==="input"&&(mt.type==="checkbox"||mt.type==="radio")&&(rn=A5e);if(rn&&(rn=rn(x,Qe))){fte(wt,rn,D,yt);break e}kn&&kn(x,mt,Qe),x==="focusout"&&(kn=mt._wrapperState)&&kn.controlled&&mt.type==="number"&&fe(mt,"number",mt.value)}switch(kn=Qe?u1(Qe):window,x){case"focusin":(dte(kn)||kn.contentEditable==="true")&&(o1=kn,j$=Qe,r_=null);break;case"focusout":r_=j$=o1=null;break;case"mousedown":B$=!0;break;case"contextmenu":case"mouseup":case"dragend":B$=!1,xte(wt,D,yt);break;case"selectionchange":if(P5e)break;case"keydown":case"keyup":xte(wt,D,yt)}var An;if(Of)e:{switch(x){case"compositionstart":var zn="onCompositionStart";break e;case"compositionend":zn="onCompositionEnd";break e;case"compositionupdate":zn="onCompositionUpdate";break e}zn=void 0}else i1?ute(x,D)&&(zn="onCompositionEnd"):x==="keydown"&&D.keyCode===229&&(zn="onCompositionStart");zn&&(r1&&D.locale!=="ko"&&(i1||zn!=="onCompositionStart"?zn==="onCompositionEnd"&&i1&&(An=Yr()):(Kt=yt,yn="value"in Kt?Kt.value:Kt.textContent,i1=!0)),kn=vA(Qe,zn),0<kn.length&&(zn=new ZC(zn,x,null,D,yt),wt.push({event:zn,listeners:kn}),An?zn.data=An:(An=cte(D),An!==null&&(zn.data=An)))),(An=n1?x5e(x,D):C5e(x,D))&&(Qe=vA(Qe,"onBeforeInput"),0<Qe.length&&(yt=new ZC("onBeforeInput","beforeinput",null,D,yt),wt.push({event:yt,listeners:Qe}),yt.data=An))}Ite(wt,C)})}function s_(x,C,D){return{instance:x,listener:C,currentTarget:D}}function vA(x,C){for(var D=C+"Capture",F=[];x!==null;){var K=x,Z=K.stateNode;K.tag===5&&Z!==null&&(K=Z,Z=Ut(x,D),Z!=null&&F.unshift(s_(x,Z,K)),Z=Ut(x,C),Z!=null&&F.push(s_(x,Z,K))),x=x.return}return F}function a1(x){if(x===null)return null;do x=x.return;while(x&&x.tag!==5);return x||null}function Pte(x,C,D,F,K){for(var Z=C._reactName,de=[];D!==null&&D!==F;){var Ie=D,Fe=Ie.alternate,Qe=Ie.stateNode;if(Fe!==null&&Fe===F)break;Ie.tag===5&&Qe!==null&&(Ie=Qe,K?(Fe=Ut(D,Z),Fe!=null&&de.unshift(s_(D,Fe,Ie))):K||(Fe=Ut(D,Z),Fe!=null&&de.push(s_(D,Fe,Ie)))),D=D.return}de.length!==0&&x.push({event:C,listeners:de})}var $5e=/\r\n?/g,L5e=/\u0000|\uFFFD/g;function Ote(x){return(typeof x=="string"?x:""+x).replace($5e,`
`).replace(L5e,"")}function bA(x,C,D){if(C=Ote(C),Ote(x)!==C&&D)throw Error(n(425))}function wA(){}var W$=null,G$=null;function Y$(x,C){return x==="textarea"||x==="noscript"||typeof C.children=="string"||typeof C.children=="number"||typeof C.dangerouslySetInnerHTML=="object"&&C.dangerouslySetInnerHTML!==null&&C.dangerouslySetInnerHTML.__html!=null}var K$=typeof setTimeout=="function"?setTimeout:void 0,F5e=typeof clearTimeout=="function"?clearTimeout:void 0,Nte=typeof Promise=="function"?Promise:void 0,j5e=typeof queueMicrotask=="function"?queueMicrotask:typeof Nte<"u"?function(x){return Nte.resolve(null).then(x).catch(B5e)}:K$;function B5e(x){setTimeout(function(){throw x})}function X$(x,C){var D=C,F=0;do{var K=D.nextSibling;if(x.removeChild(D),K&&K.nodeType===8)if(D=K.data,D==="/$"){if(F===0){x.removeChild(K),ma(C);return}F--}else D!=="$"&&D!=="$?"&&D!=="$!"||F++;D=K}while(D);ma(C)}function Qm(x){for(;x!=null;x=x.nextSibling){var C=x.nodeType;if(C===1||C===3)break;if(C===8){if(C=x.data,C==="$"||C==="$!"||C==="$?")break;if(C==="/$")return null}}return x}function Mte(x){x=x.previousSibling;for(var C=0;x;){if(x.nodeType===8){var D=x.data;if(D==="$"||D==="$!"||D==="$?"){if(C===0)return x;C--}else D==="/$"&&C++}x=x.previousSibling}return null}var l1=Math.random().toString(36).slice(2),Nf="__reactFiber$"+l1,a_="__reactProps$"+l1,op="__reactContainer$"+l1,Q$="__reactEvents$"+l1,z5e="__reactListeners$"+l1,U5e="__reactHandles$"+l1;function dy(x){var C=x[Nf];if(C)return C;for(var D=x.parentNode;D;){if(C=D[op]||D[Nf]){if(D=C.alternate,C.child!==null||D!==null&&D.child!==null)for(x=Mte(x);x!==null;){if(D=x[Nf])return D;x=Mte(x)}return C}x=D,D=x.parentNode}return null}function l_(x){return x=x[Nf]||x[op],!x||x.tag!==5&&x.tag!==6&&x.tag!==13&&x.tag!==3?null:x}function u1(x){if(x.tag===5||x.tag===6)return x.stateNode;throw Error(n(33))}function xA(x){return x[a_]||null}var J$=[],c1=-1;function Jm(x){return{current:x}}function Li(x){0>c1||(x.current=J$[c1],J$[c1]=null,c1--)}function Ti(x,C){c1++,J$[c1]=x.current,x.current=C}var Zm={},ga=Jm(Zm),Pl=Jm(!1),fy=Zm;function d1(x,C){var D=x.type.contextTypes;if(!D)return Zm;var F=x.stateNode;if(F&&F.__reactInternalMemoizedUnmaskedChildContext===C)return F.__reactInternalMemoizedMaskedChildContext;var K={},Z;for(Z in D)K[Z]=C[Z];return F&&(x=x.stateNode,x.__reactInternalMemoizedUnmaskedChildContext=C,x.__reactInternalMemoizedMaskedChildContext=K),K}function Ol(x){return x=x.childContextTypes,x!=null}function CA(){Li(Pl),Li(ga)}function $te(x,C,D){if(ga.current!==Zm)throw Error(n(168));Ti(ga,C),Ti(Pl,D)}function Lte(x,C,D){var F=x.stateNode;if(C=C.childContextTypes,typeof F.getChildContext!="function")return D;F=F.getChildContext();for(var K in F)if(!(K in C))throw Error(n(108,ce(x)||"Unknown",K));return z({},D,F)}function _A(x){return x=(x=x.stateNode)&&x.__reactInternalMemoizedMergedChildContext||Zm,fy=ga.current,Ti(ga,x),Ti(Pl,Pl.current),!0}function Fte(x,C,D){var F=x.stateNode;if(!F)throw Error(n(169));D?(x=Lte(x,C,fy),F.__reactInternalMemoizedMergedChildContext=x,Li(Pl),Li(ga),Ti(ga,x)):Li(Pl),Ti(Pl,D)}var sp=null,EA=!1,Z$=!1;function jte(x){sp===null?sp=[x]:sp.push(x)}function H5e(x){EA=!0,jte(x)}function eg(){if(!Z$&&sp!==null){Z$=!0;var x=0,C=Wt;try{var D=sp;for(Wt=1;x<D.length;x++){var F=D[x];do F=F(!0);while(F!==null)}sp=null,EA=!1}catch(K){throw sp!==null&&(sp=sp.slice(x+1)),ec(wo,eg),K}finally{Wt=C,Z$=!1}}return null}var f1=[],h1=0,SA=null,TA=0,rc=[],ic=0,hy=null,ap=1,lp="";function py(x,C){f1[h1++]=TA,f1[h1++]=SA,SA=x,TA=C}function Bte(x,C,D){rc[ic++]=ap,rc[ic++]=lp,rc[ic++]=hy,hy=x;var F=ap;x=lp;var K=32-_o(F)-1;F&=~(1<<K),D+=1;var Z=32-_o(C)+K;if(30<Z){var de=K-K%5;Z=(F&(1<<de)-1).toString(32),F>>=de,K-=de,ap=1<<32-_o(C)+K|D<<K|F,lp=Z+x}else ap=1<<Z|D<<K|F,lp=x}function eL(x){x.return!==null&&(py(x,1),Bte(x,1,0))}function tL(x){for(;x===SA;)SA=f1[--h1],f1[h1]=null,TA=f1[--h1],f1[h1]=null;for(;x===hy;)hy=rc[--ic],rc[ic]=null,lp=rc[--ic],rc[ic]=null,ap=rc[--ic],rc[ic]=null}var gu=null,yu=null,Vi=!1,rd=null;function zte(x,C){var D=lc(5,null,null,0);D.elementType="DELETED",D.stateNode=C,D.return=x,C=x.deletions,C===null?(x.deletions=[D],x.flags|=16):C.push(D)}function Ute(x,C){switch(x.tag){case 5:var D=x.type;return C=C.nodeType!==1||D.toLowerCase()!==C.nodeName.toLowerCase()?null:C,C!==null?(x.stateNode=C,gu=x,yu=Qm(C.firstChild),!0):!1;case 6:return C=x.pendingProps===""||C.nodeType!==3?null:C,C!==null?(x.stateNode=C,gu=x,yu=null,!0):!1;case 13:return C=C.nodeType!==8?null:C,C!==null?(D=hy!==null?{id:ap,overflow:lp}:null,x.memoizedState={dehydrated:C,treeContext:D,retryLane:1073741824},D=lc(18,null,null,0),D.stateNode=C,D.return=x,x.child=D,gu=x,yu=null,!0):!1;default:return!1}}function nL(x){return(x.mode&1)!==0&&(x.flags&128)===0}function rL(x){if(Vi){var C=yu;if(C){var D=C;if(!Ute(x,C)){if(nL(x))throw Error(n(418));C=Qm(D.nextSibling);var F=gu;C&&Ute(x,C)?zte(F,D):(x.flags=x.flags&-4097|2,Vi=!1,gu=x)}}else{if(nL(x))throw Error(n(418));x.flags=x.flags&-4097|2,Vi=!1,gu=x}}}function Hte(x){for(x=x.return;x!==null&&x.tag!==5&&x.tag!==3&&x.tag!==13;)x=x.return;gu=x}function kA(x){if(x!==gu)return!1;if(!Vi)return Hte(x),Vi=!0,!1;var C;if((C=x.tag!==3)&&!(C=x.tag!==5)&&(C=x.type,C=C!=="head"&&C!=="body"&&!Y$(x.type,x.memoizedProps)),C&&(C=yu)){if(nL(x))throw qte(),Error(n(418));for(;C;)zte(x,C),C=Qm(C.nextSibling)}if(Hte(x),x.tag===13){if(x=x.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));e:{for(x=x.nextSibling,C=0;x;){if(x.nodeType===8){var D=x.data;if(D==="/$"){if(C===0){yu=Qm(x.nextSibling);break e}C--}else D!=="$"&&D!=="$!"&&D!=="$?"||C++}x=x.nextSibling}yu=null}}else yu=gu?Qm(x.stateNode.nextSibling):null;return!0}function qte(){for(var x=yu;x;)x=Qm(x.nextSibling)}function p1(){yu=gu=null,Vi=!1}function iL(x){rd===null?rd=[x]:rd.push(x)}var q5e=_.ReactCurrentBatchConfig;function u_(x,C,D){if(x=D.ref,x!==null&&typeof x!="function"&&typeof x!="object"){if(D._owner){if(D=D._owner,D){if(D.tag!==1)throw Error(n(309));var F=D.stateNode}if(!F)throw Error(n(147,x));var K=F,Z=""+x;return C!==null&&C.ref!==null&&typeof C.ref=="function"&&C.ref._stringRef===Z?C.ref:(C=function(de){var Ie=K.refs;de===null?delete Ie[Z]:Ie[Z]=de},C._stringRef=Z,C)}if(typeof x!="string")throw Error(n(284));if(!D._owner)throw Error(n(290,x))}return x}function AA(x,C){throw x=Object.prototype.toString.call(C),Error(n(31,x==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":x))}function Vte(x){var C=x._init;return C(x._payload)}function Wte(x){function C(We,Ue){if(x){var Ke=We.deletions;Ke===null?(We.deletions=[Ue],We.flags|=16):Ke.push(Ue)}}function D(We,Ue){if(!x)return null;for(;Ue!==null;)C(We,Ue),Ue=Ue.sibling;return null}function F(We,Ue){for(We=new Map;Ue!==null;)Ue.key!==null?We.set(Ue.key,Ue):We.set(Ue.index,Ue),Ue=Ue.sibling;return We}function K(We,Ue){return We=lg(We,Ue),We.index=0,We.sibling=null,We}function Z(We,Ue,Ke){return We.index=Ke,x?(Ke=We.alternate,Ke!==null?(Ke=Ke.index,Ke<Ue?(We.flags|=2,Ue):Ke):(We.flags|=2,Ue)):(We.flags|=1048576,Ue)}function de(We){return x&&We.alternate===null&&(We.flags|=2),We}function Ie(We,Ue,Ke,At){return Ue===null||Ue.tag!==6?(Ue=KL(Ke,We.mode,At),Ue.return=We,Ue):(Ue=K(Ue,Ke),Ue.return=We,Ue)}function Fe(We,Ue,Ke,At){var rn=Ke.type;return rn===T?yt(We,Ue,Ke.props.children,At,Ke.key):Ue!==null&&(Ue.elementType===rn||typeof rn=="object"&&rn!==null&&rn.$$typeof===U&&Vte(rn)===Ue.type)?(At=K(Ue,Ke.props),At.ref=u_(We,Ue,Ke),At.return=We,At):(At=JA(Ke.type,Ke.key,Ke.props,null,We.mode,At),At.ref=u_(We,Ue,Ke),At.return=We,At)}function Qe(We,Ue,Ke,At){return Ue===null||Ue.tag!==4||Ue.stateNode.containerInfo!==Ke.containerInfo||Ue.stateNode.implementation!==Ke.implementation?(Ue=XL(Ke,We.mode,At),Ue.return=We,Ue):(Ue=K(Ue,Ke.children||[]),Ue.return=We,Ue)}function yt(We,Ue,Ke,At,rn){return Ue===null||Ue.tag!==7?(Ue=Cy(Ke,We.mode,At,rn),Ue.return=We,Ue):(Ue=K(Ue,Ke),Ue.return=We,Ue)}function wt(We,Ue,Ke){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number")return Ue=KL(""+Ue,We.mode,Ke),Ue.return=We,Ue;if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case E:return Ke=JA(Ue.type,Ue.key,Ue.props,null,We.mode,Ke),Ke.ref=u_(We,null,Ue),Ke.return=We,Ke;case S:return Ue=XL(Ue,We.mode,Ke),Ue.return=We,Ue;case U:var At=Ue._init;return wt(We,At(Ue._payload),Ke)}if(Re(Ue)||V(Ue))return Ue=Cy(Ue,We.mode,Ke,null),Ue.return=We,Ue;AA(We,Ue)}return null}function mt(We,Ue,Ke,At){var rn=Ue!==null?Ue.key:null;if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return rn!==null?null:Ie(We,Ue,""+Ke,At);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case E:return Ke.key===rn?Fe(We,Ue,Ke,At):null;case S:return Ke.key===rn?Qe(We,Ue,Ke,At):null;case U:return rn=Ke._init,mt(We,Ue,rn(Ke._payload),At)}if(Re(Ke)||V(Ke))return rn!==null?null:yt(We,Ue,Ke,At,null);AA(We,Ke)}return null}function Ht(We,Ue,Ke,At,rn){if(typeof At=="string"&&At!==""||typeof At=="number")return We=We.get(Ke)||null,Ie(Ue,We,""+At,rn);if(typeof At=="object"&&At!==null){switch(At.$$typeof){case E:return We=We.get(At.key===null?Ke:At.key)||null,Fe(Ue,We,At,rn);case S:return We=We.get(At.key===null?Ke:At.key)||null,Qe(Ue,We,At,rn);case U:var kn=At._init;return Ht(We,Ue,Ke,kn(At._payload),rn)}if(Re(At)||V(At))return We=We.get(Ke)||null,yt(Ue,We,At,rn,null);AA(Ue,At)}return null}function Gt(We,Ue,Ke,At){for(var rn=null,kn=null,An=Ue,zn=Ue=0,bs=null;An!==null&&zn<Ke.length;zn++){An.index>zn?(bs=An,An=null):bs=An.sibling;var Br=mt(We,An,Ke[zn],At);if(Br===null){An===null&&(An=bs);break}x&&An&&Br.alternate===null&&C(We,An),Ue=Z(Br,Ue,zn),kn===null?rn=Br:kn.sibling=Br,kn=Br,An=bs}if(zn===Ke.length)return D(We,An),Vi&&py(We,zn),rn;if(An===null){for(;zn<Ke.length;zn++)An=wt(We,Ke[zn],At),An!==null&&(Ue=Z(An,Ue,zn),kn===null?rn=An:kn.sibling=An,kn=An);return Vi&&py(We,zn),rn}for(An=F(We,An);zn<Ke.length;zn++)bs=Ht(An,We,zn,Ke[zn],At),bs!==null&&(x&&bs.alternate!==null&&An.delete(bs.key===null?zn:bs.key),Ue=Z(bs,Ue,zn),kn===null?rn=bs:kn.sibling=bs,kn=bs);return x&&An.forEach(function(ug){return C(We,ug)}),Vi&&py(We,zn),rn}function Qt(We,Ue,Ke,At){var rn=V(Ke);if(typeof rn!="function")throw Error(n(150));if(Ke=rn.call(Ke),Ke==null)throw Error(n(151));for(var kn=rn=null,An=Ue,zn=Ue=0,bs=null,Br=Ke.next();An!==null&&!Br.done;zn++,Br=Ke.next()){An.index>zn?(bs=An,An=null):bs=An.sibling;var ug=mt(We,An,Br.value,At);if(ug===null){An===null&&(An=bs);break}x&&An&&ug.alternate===null&&C(We,An),Ue=Z(ug,Ue,zn),kn===null?rn=ug:kn.sibling=ug,kn=ug,An=bs}if(Br.done)return D(We,An),Vi&&py(We,zn),rn;if(An===null){for(;!Br.done;zn++,Br=Ke.next())Br=wt(We,Br.value,At),Br!==null&&(Ue=Z(Br,Ue,zn),kn===null?rn=Br:kn.sibling=Br,kn=Br);return Vi&&py(We,zn),rn}for(An=F(We,An);!Br.done;zn++,Br=Ke.next())Br=Ht(An,We,zn,Br.value,At),Br!==null&&(x&&Br.alternate!==null&&An.delete(Br.key===null?zn:Br.key),Ue=Z(Br,Ue,zn),kn===null?rn=Br:kn.sibling=Br,kn=Br);return x&&An.forEach(function(_$e){return C(We,_$e)}),Vi&&py(We,zn),rn}function ko(We,Ue,Ke,At){if(typeof Ke=="object"&&Ke!==null&&Ke.type===T&&Ke.key===null&&(Ke=Ke.props.children),typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case E:e:{for(var rn=Ke.key,kn=Ue;kn!==null;){if(kn.key===rn){if(rn=Ke.type,rn===T){if(kn.tag===7){D(We,kn.sibling),Ue=K(kn,Ke.props.children),Ue.return=We,We=Ue;break e}}else if(kn.elementType===rn||typeof rn=="object"&&rn!==null&&rn.$$typeof===U&&Vte(rn)===kn.type){D(We,kn.sibling),Ue=K(kn,Ke.props),Ue.ref=u_(We,kn,Ke),Ue.return=We,We=Ue;break e}D(We,kn);break}else C(We,kn);kn=kn.sibling}Ke.type===T?(Ue=Cy(Ke.props.children,We.mode,At,Ke.key),Ue.return=We,We=Ue):(At=JA(Ke.type,Ke.key,Ke.props,null,We.mode,At),At.ref=u_(We,Ue,Ke),At.return=We,We=At)}return de(We);case S:e:{for(kn=Ke.key;Ue!==null;){if(Ue.key===kn)if(Ue.tag===4&&Ue.stateNode.containerInfo===Ke.containerInfo&&Ue.stateNode.implementation===Ke.implementation){D(We,Ue.sibling),Ue=K(Ue,Ke.children||[]),Ue.return=We,We=Ue;break e}else{D(We,Ue);break}else C(We,Ue);Ue=Ue.sibling}Ue=XL(Ke,We.mode,At),Ue.return=We,We=Ue}return de(We);case U:return kn=Ke._init,ko(We,Ue,kn(Ke._payload),At)}if(Re(Ke))return Gt(We,Ue,Ke,At);if(V(Ke))return Qt(We,Ue,Ke,At);AA(We,Ke)}return typeof Ke=="string"&&Ke!==""||typeof Ke=="number"?(Ke=""+Ke,Ue!==null&&Ue.tag===6?(D(We,Ue.sibling),Ue=K(Ue,Ke),Ue.return=We,We=Ue):(D(We,Ue),Ue=KL(Ke,We.mode,At),Ue.return=We,We=Ue),de(We)):D(We,Ue)}return ko}var m1=Wte(!0),Gte=Wte(!1),RA=Jm(null),IA=null,g1=null,oL=null;function sL(){oL=g1=IA=null}function aL(x){var C=RA.current;Li(RA),x._currentValue=C}function lL(x,C,D){for(;x!==null;){var F=x.alternate;if((x.childLanes&C)!==C?(x.childLanes|=C,F!==null&&(F.childLanes|=C)):F!==null&&(F.childLanes&C)!==C&&(F.childLanes|=C),x===D)break;x=x.return}}function y1(x,C){IA=x,oL=g1=null,x=x.dependencies,x!==null&&x.firstContext!==null&&((x.lanes&C)!==0&&(Nl=!0),x.firstContext=null)}function oc(x){var C=x._currentValue;if(oL!==x)if(x={context:x,memoizedValue:C,next:null},g1===null){if(IA===null)throw Error(n(308));g1=x,IA.dependencies={lanes:0,firstContext:x}}else g1=g1.next=x;return C}var my=null;function uL(x){my===null?my=[x]:my.push(x)}function Yte(x,C,D,F){var K=C.interleaved;return K===null?(D.next=D,uL(C)):(D.next=K.next,K.next=D),C.interleaved=D,up(x,F)}function up(x,C){x.lanes|=C;var D=x.alternate;for(D!==null&&(D.lanes|=C),D=x,x=x.return;x!==null;)x.childLanes|=C,D=x.alternate,D!==null&&(D.childLanes|=C),D=x,x=x.return;return D.tag===3?D.stateNode:null}var tg=!1;function cL(x){x.updateQueue={baseState:x.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kte(x,C){x=x.updateQueue,C.updateQueue===x&&(C.updateQueue={baseState:x.baseState,firstBaseUpdate:x.firstBaseUpdate,lastBaseUpdate:x.lastBaseUpdate,shared:x.shared,effects:x.effects})}function cp(x,C){return{eventTime:x,lane:C,tag:0,payload:null,callback:null,next:null}}function ng(x,C,D){var F=x.updateQueue;if(F===null)return null;if(F=F.shared,(Nr&2)!==0){var K=F.pending;return K===null?C.next=C:(C.next=K.next,K.next=C),F.pending=C,up(x,D)}return K=F.interleaved,K===null?(C.next=C,uL(F)):(C.next=K.next,K.next=C),F.interleaved=C,up(x,D)}function DA(x,C,D){if(C=C.updateQueue,C!==null&&(C=C.shared,(D&4194240)!==0)){var F=C.lanes;F&=x.pendingLanes,D|=F,C.lanes=D,Qn(x,D)}}function Xte(x,C){var D=x.updateQueue,F=x.alternate;if(F!==null&&(F=F.updateQueue,D===F)){var K=null,Z=null;if(D=D.firstBaseUpdate,D!==null){do{var de={eventTime:D.eventTime,lane:D.lane,tag:D.tag,payload:D.payload,callback:D.callback,next:null};Z===null?K=Z=de:Z=Z.next=de,D=D.next}while(D!==null);Z===null?K=Z=C:Z=Z.next=C}else K=Z=C;D={baseState:F.baseState,firstBaseUpdate:K,lastBaseUpdate:Z,shared:F.shared,effects:F.effects},x.updateQueue=D;return}x=D.lastBaseUpdate,x===null?D.firstBaseUpdate=C:x.next=C,D.lastBaseUpdate=C}function PA(x,C,D,F){var K=x.updateQueue;tg=!1;var Z=K.firstBaseUpdate,de=K.lastBaseUpdate,Ie=K.shared.pending;if(Ie!==null){K.shared.pending=null;var Fe=Ie,Qe=Fe.next;Fe.next=null,de===null?Z=Qe:de.next=Qe,de=Fe;var yt=x.alternate;yt!==null&&(yt=yt.updateQueue,Ie=yt.lastBaseUpdate,Ie!==de&&(Ie===null?yt.firstBaseUpdate=Qe:Ie.next=Qe,yt.lastBaseUpdate=Fe))}if(Z!==null){var wt=K.baseState;de=0,yt=Qe=Fe=null,Ie=Z;do{var mt=Ie.lane,Ht=Ie.eventTime;if((F&mt)===mt){yt!==null&&(yt=yt.next={eventTime:Ht,lane:0,tag:Ie.tag,payload:Ie.payload,callback:Ie.callback,next:null});e:{var Gt=x,Qt=Ie;switch(mt=C,Ht=D,Qt.tag){case 1:if(Gt=Qt.payload,typeof Gt=="function"){wt=Gt.call(Ht,wt,mt);break e}wt=Gt;break e;case 3:Gt.flags=Gt.flags&-65537|128;case 0:if(Gt=Qt.payload,mt=typeof Gt=="function"?Gt.call(Ht,wt,mt):Gt,mt==null)break e;wt=z({},wt,mt);break e;case 2:tg=!0}}Ie.callback!==null&&Ie.lane!==0&&(x.flags|=64,mt=K.effects,mt===null?K.effects=[Ie]:mt.push(Ie))}else Ht={eventTime:Ht,lane:mt,tag:Ie.tag,payload:Ie.payload,callback:Ie.callback,next:null},yt===null?(Qe=yt=Ht,Fe=wt):yt=yt.next=Ht,de|=mt;if(Ie=Ie.next,Ie===null){if(Ie=K.shared.pending,Ie===null)break;mt=Ie,Ie=mt.next,mt.next=null,K.lastBaseUpdate=mt,K.shared.pending=null}}while(!0);if(yt===null&&(Fe=wt),K.baseState=Fe,K.firstBaseUpdate=Qe,K.lastBaseUpdate=yt,C=K.shared.interleaved,C!==null){K=C;do de|=K.lane,K=K.next;while(K!==C)}else Z===null&&(K.shared.lanes=0);vy|=de,x.lanes=de,x.memoizedState=wt}}function Qte(x,C,D){if(x=C.effects,C.effects=null,x!==null)for(C=0;C<x.length;C++){var F=x[C],K=F.callback;if(K!==null){if(F.callback=null,F=D,typeof K!="function")throw Error(n(191,K));K.call(F)}}}var c_={},Mf=Jm(c_),d_=Jm(c_),f_=Jm(c_);function gy(x){if(x===c_)throw Error(n(174));return x}function dL(x,C){switch(Ti(f_,C),Ti(d_,x),Ti(Mf,c_),x=C.nodeType,x){case 9:case 11:C=(C=C.documentElement)?C.namespaceURI:Me(null,"");break;default:x=x===8?C.parentNode:C,C=x.namespaceURI||null,x=x.tagName,C=Me(C,x)}Li(Mf),Ti(Mf,C)}function v1(){Li(Mf),Li(d_),Li(f_)}function Jte(x){gy(f_.current);var C=gy(Mf.current),D=Me(C,x.type);C!==D&&(Ti(d_,x),Ti(Mf,D))}function fL(x){d_.current===x&&(Li(Mf),Li(d_))}var no=Jm(0);function OA(x){for(var C=x;C!==null;){if(C.tag===13){var D=C.memoizedState;if(D!==null&&(D=D.dehydrated,D===null||D.data==="$?"||D.data==="$!"))return C}else if(C.tag===19&&C.memoizedProps.revealOrder!==void 0){if((C.flags&128)!==0)return C}else if(C.child!==null){C.child.return=C,C=C.child;continue}if(C===x)break;for(;C.sibling===null;){if(C.return===null||C.return===x)return null;C=C.return}C.sibling.return=C.return,C=C.sibling}return null}var hL=[];function pL(){for(var x=0;x<hL.length;x++)hL[x]._workInProgressVersionPrimary=null;hL.length=0}var NA=_.ReactCurrentDispatcher,mL=_.ReactCurrentBatchConfig,yy=0,ro=null,ns=null,ys=null,MA=!1,h_=!1,p_=0,V5e=0;function ya(){throw Error(n(321))}function gL(x,C){if(C===null)return!1;for(var D=0;D<C.length&&D<x.length;D++)if(!nd(x[D],C[D]))return!1;return!0}function yL(x,C,D,F,K,Z){if(yy=Z,ro=C,C.memoizedState=null,C.updateQueue=null,C.lanes=0,NA.current=x===null||x.memoizedState===null?K5e:X5e,x=D(F,K),h_){Z=0;do{if(h_=!1,p_=0,25<=Z)throw Error(n(301));Z+=1,ys=ns=null,C.updateQueue=null,NA.current=Q5e,x=D(F,K)}while(h_)}if(NA.current=FA,C=ns!==null&&ns.next!==null,yy=0,ys=ns=ro=null,MA=!1,C)throw Error(n(300));return x}function vL(){var x=p_!==0;return p_=0,x}function $f(){var x={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ys===null?ro.memoizedState=ys=x:ys=ys.next=x,ys}function sc(){if(ns===null){var x=ro.alternate;x=x!==null?x.memoizedState:null}else x=ns.next;var C=ys===null?ro.memoizedState:ys.next;if(C!==null)ys=C,ns=x;else{if(x===null)throw Error(n(310));ns=x,x={memoizedState:ns.memoizedState,baseState:ns.baseState,baseQueue:ns.baseQueue,queue:ns.queue,next:null},ys===null?ro.memoizedState=ys=x:ys=ys.next=x}return ys}function m_(x,C){return typeof C=="function"?C(x):C}function bL(x){var C=sc(),D=C.queue;if(D===null)throw Error(n(311));D.lastRenderedReducer=x;var F=ns,K=F.baseQueue,Z=D.pending;if(Z!==null){if(K!==null){var de=K.next;K.next=Z.next,Z.next=de}F.baseQueue=K=Z,D.pending=null}if(K!==null){Z=K.next,F=F.baseState;var Ie=de=null,Fe=null,Qe=Z;do{var yt=Qe.lane;if((yy&yt)===yt)Fe!==null&&(Fe=Fe.next={lane:0,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null}),F=Qe.hasEagerState?Qe.eagerState:x(F,Qe.action);else{var wt={lane:yt,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null};Fe===null?(Ie=Fe=wt,de=F):Fe=Fe.next=wt,ro.lanes|=yt,vy|=yt}Qe=Qe.next}while(Qe!==null&&Qe!==Z);Fe===null?de=F:Fe.next=Ie,nd(F,C.memoizedState)||(Nl=!0),C.memoizedState=F,C.baseState=de,C.baseQueue=Fe,D.lastRenderedState=F}if(x=D.interleaved,x!==null){K=x;do Z=K.lane,ro.lanes|=Z,vy|=Z,K=K.next;while(K!==x)}else K===null&&(D.lanes=0);return[C.memoizedState,D.dispatch]}function wL(x){var C=sc(),D=C.queue;if(D===null)throw Error(n(311));D.lastRenderedReducer=x;var F=D.dispatch,K=D.pending,Z=C.memoizedState;if(K!==null){D.pending=null;var de=K=K.next;do Z=x(Z,de.action),de=de.next;while(de!==K);nd(Z,C.memoizedState)||(Nl=!0),C.memoizedState=Z,C.baseQueue===null&&(C.baseState=Z),D.lastRenderedState=Z}return[Z,F]}function Zte(){}function ene(x,C){var D=ro,F=sc(),K=C(),Z=!nd(F.memoizedState,K);if(Z&&(F.memoizedState=K,Nl=!0),F=F.queue,xL(rne.bind(null,D,F,x),[x]),F.getSnapshot!==C||Z||ys!==null&&ys.memoizedState.tag&1){if(D.flags|=2048,g_(9,nne.bind(null,D,F,K,C),void 0,null),vs===null)throw Error(n(349));(yy&30)!==0||tne(D,C,K)}return K}function tne(x,C,D){x.flags|=16384,x={getSnapshot:C,value:D},C=ro.updateQueue,C===null?(C={lastEffect:null,stores:null},ro.updateQueue=C,C.stores=[x]):(D=C.stores,D===null?C.stores=[x]:D.push(x))}function nne(x,C,D,F){C.value=D,C.getSnapshot=F,ine(C)&&one(x)}function rne(x,C,D){return D(function(){ine(C)&&one(x)})}function ine(x){var C=x.getSnapshot;x=x.value;try{var D=C();return!nd(x,D)}catch{return!0}}function one(x){var C=up(x,1);C!==null&&ad(C,x,1,-1)}function sne(x){var C=$f();return typeof x=="function"&&(x=x()),C.memoizedState=C.baseState=x,x={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:m_,lastRenderedState:x},C.queue=x,x=x.dispatch=Y5e.bind(null,ro,x),[C.memoizedState,x]}function g_(x,C,D,F){return x={tag:x,create:C,destroy:D,deps:F,next:null},C=ro.updateQueue,C===null?(C={lastEffect:null,stores:null},ro.updateQueue=C,C.lastEffect=x.next=x):(D=C.lastEffect,D===null?C.lastEffect=x.next=x:(F=D.next,D.next=x,x.next=F,C.lastEffect=x)),x}function ane(){return sc().memoizedState}function $A(x,C,D,F){var K=$f();ro.flags|=x,K.memoizedState=g_(1|C,D,void 0,F===void 0?null:F)}function LA(x,C,D,F){var K=sc();F=F===void 0?null:F;var Z=void 0;if(ns!==null){var de=ns.memoizedState;if(Z=de.destroy,F!==null&&gL(F,de.deps)){K.memoizedState=g_(C,D,Z,F);return}}ro.flags|=x,K.memoizedState=g_(1|C,D,Z,F)}function lne(x,C){return $A(8390656,8,x,C)}function xL(x,C){return LA(2048,8,x,C)}function une(x,C){return LA(4,2,x,C)}function cne(x,C){return LA(4,4,x,C)}function dne(x,C){if(typeof C=="function")return x=x(),C(x),function(){C(null)};if(C!=null)return x=x(),C.current=x,function(){C.current=null}}function fne(x,C,D){return D=D!=null?D.concat([x]):null,LA(4,4,dne.bind(null,C,x),D)}function CL(){}function hne(x,C){var D=sc();C=C===void 0?null:C;var F=D.memoizedState;return F!==null&&C!==null&&gL(C,F[1])?F[0]:(D.memoizedState=[x,C],x)}function pne(x,C){var D=sc();C=C===void 0?null:C;var F=D.memoizedState;return F!==null&&C!==null&&gL(C,F[1])?F[0]:(x=x(),D.memoizedState=[x,C],x)}function mne(x,C,D){return(yy&21)===0?(x.baseState&&(x.baseState=!1,Nl=!0),x.memoizedState=D):(nd(D,C)||(D=_t(),ro.lanes|=D,vy|=D,x.baseState=!0),C)}function W5e(x,C){var D=Wt;Wt=D!==0&&4>D?D:4,x(!0);var F=mL.transition;mL.transition={};try{x(!1),C()}finally{Wt=D,mL.transition=F}}function gne(){return sc().memoizedState}function G5e(x,C,D){var F=sg(x);if(D={lane:F,action:D,hasEagerState:!1,eagerState:null,next:null},yne(x))vne(C,D);else if(D=Yte(x,C,D,F),D!==null){var K=Xa();ad(D,x,F,K),bne(D,C,F)}}function Y5e(x,C,D){var F=sg(x),K={lane:F,action:D,hasEagerState:!1,eagerState:null,next:null};if(yne(x))vne(C,K);else{var Z=x.alternate;if(x.lanes===0&&(Z===null||Z.lanes===0)&&(Z=C.lastRenderedReducer,Z!==null))try{var de=C.lastRenderedState,Ie=Z(de,D);if(K.hasEagerState=!0,K.eagerState=Ie,nd(Ie,de)){var Fe=C.interleaved;Fe===null?(K.next=K,uL(C)):(K.next=Fe.next,Fe.next=K),C.interleaved=K;return}}catch{}finally{}D=Yte(x,C,K,F),D!==null&&(K=Xa(),ad(D,x,F,K),bne(D,C,F))}}function yne(x){var C=x.alternate;return x===ro||C!==null&&C===ro}function vne(x,C){h_=MA=!0;var D=x.pending;D===null?C.next=C:(C.next=D.next,D.next=C),x.pending=C}function bne(x,C,D){if((D&4194240)!==0){var F=C.lanes;F&=x.pendingLanes,D|=F,C.lanes=D,Qn(x,D)}}var FA={readContext:oc,useCallback:ya,useContext:ya,useEffect:ya,useImperativeHandle:ya,useInsertionEffect:ya,useLayoutEffect:ya,useMemo:ya,useReducer:ya,useRef:ya,useState:ya,useDebugValue:ya,useDeferredValue:ya,useTransition:ya,useMutableSource:ya,useSyncExternalStore:ya,useId:ya,unstable_isNewReconciler:!1},K5e={readContext:oc,useCallback:function(x,C){return $f().memoizedState=[x,C===void 0?null:C],x},useContext:oc,useEffect:lne,useImperativeHandle:function(x,C,D){return D=D!=null?D.concat([x]):null,$A(4194308,4,dne.bind(null,C,x),D)},useLayoutEffect:function(x,C){return $A(4194308,4,x,C)},useInsertionEffect:function(x,C){return $A(4,2,x,C)},useMemo:function(x,C){var D=$f();return C=C===void 0?null:C,x=x(),D.memoizedState=[x,C],x},useReducer:function(x,C,D){var F=$f();return C=D!==void 0?D(C):C,F.memoizedState=F.baseState=C,x={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:x,lastRenderedState:C},F.queue=x,x=x.dispatch=G5e.bind(null,ro,x),[F.memoizedState,x]},useRef:function(x){var C=$f();return x={current:x},C.memoizedState=x},useState:sne,useDebugValue:CL,useDeferredValue:function(x){return $f().memoizedState=x},useTransition:function(){var x=sne(!1),C=x[0];return x=W5e.bind(null,x[1]),$f().memoizedState=x,[C,x]},useMutableSource:function(){},useSyncExternalStore:function(x,C,D){var F=ro,K=$f();if(Vi){if(D===void 0)throw Error(n(407));D=D()}else{if(D=C(),vs===null)throw Error(n(349));(yy&30)!==0||tne(F,C,D)}K.memoizedState=D;var Z={value:D,getSnapshot:C};return K.queue=Z,lne(rne.bind(null,F,Z,x),[x]),F.flags|=2048,g_(9,nne.bind(null,F,Z,D,C),void 0,null),D},useId:function(){var x=$f(),C=vs.identifierPrefix;if(Vi){var D=lp,F=ap;D=(F&~(1<<32-_o(F)-1)).toString(32)+D,C=":"+C+"R"+D,D=p_++,0<D&&(C+="H"+D.toString(32)),C+=":"}else D=V5e++,C=":"+C+"r"+D.toString(32)+":";return x.memoizedState=C},unstable_isNewReconciler:!1},X5e={readContext:oc,useCallback:hne,useContext:oc,useEffect:xL,useImperativeHandle:fne,useInsertionEffect:une,useLayoutEffect:cne,useMemo:pne,useReducer:bL,useRef:ane,useState:function(){return bL(m_)},useDebugValue:CL,useDeferredValue:function(x){var C=sc();return mne(C,ns.memoizedState,x)},useTransition:function(){var x=bL(m_)[0],C=sc().memoizedState;return[x,C]},useMutableSource:Zte,useSyncExternalStore:ene,useId:gne,unstable_isNewReconciler:!1},Q5e={readContext:oc,useCallback:hne,useContext:oc,useEffect:xL,useImperativeHandle:fne,useInsertionEffect:une,useLayoutEffect:cne,useMemo:pne,useReducer:wL,useRef:ane,useState:function(){return wL(m_)},useDebugValue:CL,useDeferredValue:function(x){var C=sc();return ns===null?C.memoizedState=x:mne(C,ns.memoizedState,x)},useTransition:function(){var x=wL(m_)[0],C=sc().memoizedState;return[x,C]},useMutableSource:Zte,useSyncExternalStore:ene,useId:gne,unstable_isNewReconciler:!1};function id(x,C){if(x&&x.defaultProps){C=z({},C),x=x.defaultProps;for(var D in x)C[D]===void 0&&(C[D]=x[D]);return C}return C}function _L(x,C,D,F){C=x.memoizedState,D=D(F,C),D=D==null?C:z({},C,D),x.memoizedState=D,x.lanes===0&&(x.updateQueue.baseState=D)}var jA={isMounted:function(x){return(x=x._reactInternals)?Fn(x)===x:!1},enqueueSetState:function(x,C,D){x=x._reactInternals;var F=Xa(),K=sg(x),Z=cp(F,K);Z.payload=C,D!=null&&(Z.callback=D),C=ng(x,Z,K),C!==null&&(ad(C,x,K,F),DA(C,x,K))},enqueueReplaceState:function(x,C,D){x=x._reactInternals;var F=Xa(),K=sg(x),Z=cp(F,K);Z.tag=1,Z.payload=C,D!=null&&(Z.callback=D),C=ng(x,Z,K),C!==null&&(ad(C,x,K,F),DA(C,x,K))},enqueueForceUpdate:function(x,C){x=x._reactInternals;var D=Xa(),F=sg(x),K=cp(D,F);K.tag=2,C!=null&&(K.callback=C),C=ng(x,K,F),C!==null&&(ad(C,x,F,D),DA(C,x,F))}};function wne(x,C,D,F,K,Z,de){return x=x.stateNode,typeof x.shouldComponentUpdate=="function"?x.shouldComponentUpdate(F,Z,de):C.prototype&&C.prototype.isPureReactComponent?!n_(D,F)||!n_(K,Z):!0}function xne(x,C,D){var F=!1,K=Zm,Z=C.contextType;return typeof Z=="object"&&Z!==null?Z=oc(Z):(K=Ol(C)?fy:ga.current,F=C.contextTypes,Z=(F=F!=null)?d1(x,K):Zm),C=new C(D,Z),x.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=jA,x.stateNode=C,C._reactInternals=x,F&&(x=x.stateNode,x.__reactInternalMemoizedUnmaskedChildContext=K,x.__reactInternalMemoizedMaskedChildContext=Z),C}function Cne(x,C,D,F){x=C.state,typeof C.componentWillReceiveProps=="function"&&C.componentWillReceiveProps(D,F),typeof C.UNSAFE_componentWillReceiveProps=="function"&&C.UNSAFE_componentWillReceiveProps(D,F),C.state!==x&&jA.enqueueReplaceState(C,C.state,null)}function EL(x,C,D,F){var K=x.stateNode;K.props=D,K.state=x.memoizedState,K.refs={},cL(x);var Z=C.contextType;typeof Z=="object"&&Z!==null?K.context=oc(Z):(Z=Ol(C)?fy:ga.current,K.context=d1(x,Z)),K.state=x.memoizedState,Z=C.getDerivedStateFromProps,typeof Z=="function"&&(_L(x,C,Z,D),K.state=x.memoizedState),typeof C.getDerivedStateFromProps=="function"||typeof K.getSnapshotBeforeUpdate=="function"||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(C=K.state,typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount(),C!==K.state&&jA.enqueueReplaceState(K,K.state,null),PA(x,D,K,F),K.state=x.memoizedState),typeof K.componentDidMount=="function"&&(x.flags|=4194308)}function b1(x,C){try{var D="",F=C;do D+=Q(F),F=F.return;while(F);var K=D}catch(Z){K=`
Error generating stack: `+Z.message+`
`+Z.stack}return{value:x,source:C,stack:K,digest:null}}function SL(x,C,D){return{value:x,source:null,stack:D??null,digest:C??null}}function TL(x,C){try{console.error(C.value)}catch(D){setTimeout(function(){throw D})}}var J5e=typeof WeakMap=="function"?WeakMap:Map;function _ne(x,C,D){D=cp(-1,D),D.tag=3,D.payload={element:null};var F=C.value;return D.callback=function(){WA||(WA=!0,zL=F),TL(x,C)},D}function Ene(x,C,D){D=cp(-1,D),D.tag=3;var F=x.type.getDerivedStateFromError;if(typeof F=="function"){var K=C.value;D.payload=function(){return F(K)},D.callback=function(){TL(x,C)}}var Z=x.stateNode;return Z!==null&&typeof Z.componentDidCatch=="function"&&(D.callback=function(){TL(x,C),typeof F!="function"&&(ig===null?ig=new Set([this]):ig.add(this));var de=C.stack;this.componentDidCatch(C.value,{componentStack:de!==null?de:""})}),D}function Sne(x,C,D){var F=x.pingCache;if(F===null){F=x.pingCache=new J5e;var K=new Set;F.set(C,K)}else K=F.get(C),K===void 0&&(K=new Set,F.set(C,K));K.has(D)||(K.add(D),x=f$e.bind(null,x,C,D),C.then(x,x))}function Tne(x){do{var C;if((C=x.tag===13)&&(C=x.memoizedState,C=C!==null?C.dehydrated!==null:!0),C)return x;x=x.return}while(x!==null);return null}function kne(x,C,D,F,K){return(x.mode&1)===0?(x===C?x.flags|=65536:(x.flags|=128,D.flags|=131072,D.flags&=-52805,D.tag===1&&(D.alternate===null?D.tag=17:(C=cp(-1,1),C.tag=2,ng(D,C,1))),D.lanes|=1),x):(x.flags|=65536,x.lanes=K,x)}var Z5e=_.ReactCurrentOwner,Nl=!1;function Ka(x,C,D,F){C.child=x===null?Gte(C,null,D,F):m1(C,x.child,D,F)}function Ane(x,C,D,F,K){D=D.render;var Z=C.ref;return y1(C,K),F=yL(x,C,D,F,Z,K),D=vL(),x!==null&&!Nl?(C.updateQueue=x.updateQueue,C.flags&=-2053,x.lanes&=~K,dp(x,C,K)):(Vi&&D&&eL(C),C.flags|=1,Ka(x,C,F,K),C.child)}function Rne(x,C,D,F,K){if(x===null){var Z=D.type;return typeof Z=="function"&&!YL(Z)&&Z.defaultProps===void 0&&D.compare===null&&D.defaultProps===void 0?(C.tag=15,C.type=Z,Ine(x,C,Z,F,K)):(x=JA(D.type,null,F,C,C.mode,K),x.ref=C.ref,x.return=C,C.child=x)}if(Z=x.child,(x.lanes&K)===0){var de=Z.memoizedProps;if(D=D.compare,D=D!==null?D:n_,D(de,F)&&x.ref===C.ref)return dp(x,C,K)}return C.flags|=1,x=lg(Z,F),x.ref=C.ref,x.return=C,C.child=x}function Ine(x,C,D,F,K){if(x!==null){var Z=x.memoizedProps;if(n_(Z,F)&&x.ref===C.ref)if(Nl=!1,C.pendingProps=F=Z,(x.lanes&K)!==0)(x.flags&131072)!==0&&(Nl=!0);else return C.lanes=x.lanes,dp(x,C,K)}return kL(x,C,D,F,K)}function Dne(x,C,D){var F=C.pendingProps,K=F.children,Z=x!==null?x.memoizedState:null;if(F.mode==="hidden")if((C.mode&1)===0)C.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(x1,vu),vu|=D;else{if((D&1073741824)===0)return x=Z!==null?Z.baseLanes|D:D,C.lanes=C.childLanes=1073741824,C.memoizedState={baseLanes:x,cachePool:null,transitions:null},C.updateQueue=null,Ti(x1,vu),vu|=x,null;C.memoizedState={baseLanes:0,cachePool:null,transitions:null},F=Z!==null?Z.baseLanes:D,Ti(x1,vu),vu|=F}else Z!==null?(F=Z.baseLanes|D,C.memoizedState=null):F=D,Ti(x1,vu),vu|=F;return Ka(x,C,K,D),C.child}function Pne(x,C){var D=C.ref;(x===null&&D!==null||x!==null&&x.ref!==D)&&(C.flags|=512,C.flags|=2097152)}function kL(x,C,D,F,K){var Z=Ol(D)?fy:ga.current;return Z=d1(C,Z),y1(C,K),D=yL(x,C,D,F,Z,K),F=vL(),x!==null&&!Nl?(C.updateQueue=x.updateQueue,C.flags&=-2053,x.lanes&=~K,dp(x,C,K)):(Vi&&F&&eL(C),C.flags|=1,Ka(x,C,D,K),C.child)}function One(x,C,D,F,K){if(Ol(D)){var Z=!0;_A(C)}else Z=!1;if(y1(C,K),C.stateNode===null)zA(x,C),xne(C,D,F),EL(C,D,F,K),F=!0;else if(x===null){var de=C.stateNode,Ie=C.memoizedProps;de.props=Ie;var Fe=de.context,Qe=D.contextType;typeof Qe=="object"&&Qe!==null?Qe=oc(Qe):(Qe=Ol(D)?fy:ga.current,Qe=d1(C,Qe));var yt=D.getDerivedStateFromProps,wt=typeof yt=="function"||typeof de.getSnapshotBeforeUpdate=="function";wt||typeof de.UNSAFE_componentWillReceiveProps!="function"&&typeof de.componentWillReceiveProps!="function"||(Ie!==F||Fe!==Qe)&&Cne(C,de,F,Qe),tg=!1;var mt=C.memoizedState;de.state=mt,PA(C,F,de,K),Fe=C.memoizedState,Ie!==F||mt!==Fe||Pl.current||tg?(typeof yt=="function"&&(_L(C,D,yt,F),Fe=C.memoizedState),(Ie=tg||wne(C,D,Ie,F,mt,Fe,Qe))?(wt||typeof de.UNSAFE_componentWillMount!="function"&&typeof de.componentWillMount!="function"||(typeof de.componentWillMount=="function"&&de.componentWillMount(),typeof de.UNSAFE_componentWillMount=="function"&&de.UNSAFE_componentWillMount()),typeof de.componentDidMount=="function"&&(C.flags|=4194308)):(typeof de.componentDidMount=="function"&&(C.flags|=4194308),C.memoizedProps=F,C.memoizedState=Fe),de.props=F,de.state=Fe,de.context=Qe,F=Ie):(typeof de.componentDidMount=="function"&&(C.flags|=4194308),F=!1)}else{de=C.stateNode,Kte(x,C),Ie=C.memoizedProps,Qe=C.type===C.elementType?Ie:id(C.type,Ie),de.props=Qe,wt=C.pendingProps,mt=de.context,Fe=D.contextType,typeof Fe=="object"&&Fe!==null?Fe=oc(Fe):(Fe=Ol(D)?fy:ga.current,Fe=d1(C,Fe));var Ht=D.getDerivedStateFromProps;(yt=typeof Ht=="function"||typeof de.getSnapshotBeforeUpdate=="function")||typeof de.UNSAFE_componentWillReceiveProps!="function"&&typeof de.componentWillReceiveProps!="function"||(Ie!==wt||mt!==Fe)&&Cne(C,de,F,Fe),tg=!1,mt=C.memoizedState,de.state=mt,PA(C,F,de,K);var Gt=C.memoizedState;Ie!==wt||mt!==Gt||Pl.current||tg?(typeof Ht=="function"&&(_L(C,D,Ht,F),Gt=C.memoizedState),(Qe=tg||wne(C,D,Qe,F,mt,Gt,Fe)||!1)?(yt||typeof de.UNSAFE_componentWillUpdate!="function"&&typeof de.componentWillUpdate!="function"||(typeof de.componentWillUpdate=="function"&&de.componentWillUpdate(F,Gt,Fe),typeof de.UNSAFE_componentWillUpdate=="function"&&de.UNSAFE_componentWillUpdate(F,Gt,Fe)),typeof de.componentDidUpdate=="function"&&(C.flags|=4),typeof de.getSnapshotBeforeUpdate=="function"&&(C.flags|=1024)):(typeof de.componentDidUpdate!="function"||Ie===x.memoizedProps&&mt===x.memoizedState||(C.flags|=4),typeof de.getSnapshotBeforeUpdate!="function"||Ie===x.memoizedProps&&mt===x.memoizedState||(C.flags|=1024),C.memoizedProps=F,C.memoizedState=Gt),de.props=F,de.state=Gt,de.context=Fe,F=Qe):(typeof de.componentDidUpdate!="function"||Ie===x.memoizedProps&&mt===x.memoizedState||(C.flags|=4),typeof de.getSnapshotBeforeUpdate!="function"||Ie===x.memoizedProps&&mt===x.memoizedState||(C.flags|=1024),F=!1)}return AL(x,C,D,F,Z,K)}function AL(x,C,D,F,K,Z){Pne(x,C);var de=(C.flags&128)!==0;if(!F&&!de)return K&&Fte(C,D,!1),dp(x,C,Z);F=C.stateNode,Z5e.current=C;var Ie=de&&typeof D.getDerivedStateFromError!="function"?null:F.render();return C.flags|=1,x!==null&&de?(C.child=m1(C,x.child,null,Z),C.child=m1(C,null,Ie,Z)):Ka(x,C,Ie,Z),C.memoizedState=F.state,K&&Fte(C,D,!0),C.child}function Nne(x){var C=x.stateNode;C.pendingContext?$te(x,C.pendingContext,C.pendingContext!==C.context):C.context&&$te(x,C.context,!1),dL(x,C.containerInfo)}function Mne(x,C,D,F,K){return p1(),iL(K),C.flags|=256,Ka(x,C,D,F),C.child}var RL={dehydrated:null,treeContext:null,retryLane:0};function IL(x){return{baseLanes:x,cachePool:null,transitions:null}}function $ne(x,C,D){var F=C.pendingProps,K=no.current,Z=!1,de=(C.flags&128)!==0,Ie;if((Ie=de)||(Ie=x!==null&&x.memoizedState===null?!1:(K&2)!==0),Ie?(Z=!0,C.flags&=-129):(x===null||x.memoizedState!==null)&&(K|=1),Ti(no,K&1),x===null)return rL(C),x=C.memoizedState,x!==null&&(x=x.dehydrated,x!==null)?((C.mode&1)===0?C.lanes=1:x.data==="$!"?C.lanes=8:C.lanes=1073741824,null):(de=F.children,x=F.fallback,Z?(F=C.mode,Z=C.child,de={mode:"hidden",children:de},(F&1)===0&&Z!==null?(Z.childLanes=0,Z.pendingProps=de):Z=ZA(de,F,0,null),x=Cy(x,F,D,null),Z.return=C,x.return=C,Z.sibling=x,C.child=Z,C.child.memoizedState=IL(D),C.memoizedState=RL,x):DL(C,de));if(K=x.memoizedState,K!==null&&(Ie=K.dehydrated,Ie!==null))return e$e(x,C,de,F,Ie,K,D);if(Z){Z=F.fallback,de=C.mode,K=x.child,Ie=K.sibling;var Fe={mode:"hidden",children:F.children};return(de&1)===0&&C.child!==K?(F=C.child,F.childLanes=0,F.pendingProps=Fe,C.deletions=null):(F=lg(K,Fe),F.subtreeFlags=K.subtreeFlags&14680064),Ie!==null?Z=lg(Ie,Z):(Z=Cy(Z,de,D,null),Z.flags|=2),Z.return=C,F.return=C,F.sibling=Z,C.child=F,F=Z,Z=C.child,de=x.child.memoizedState,de=de===null?IL(D):{baseLanes:de.baseLanes|D,cachePool:null,transitions:de.transitions},Z.memoizedState=de,Z.childLanes=x.childLanes&~D,C.memoizedState=RL,F}return Z=x.child,x=Z.sibling,F=lg(Z,{mode:"visible",children:F.children}),(C.mode&1)===0&&(F.lanes=D),F.return=C,F.sibling=null,x!==null&&(D=C.deletions,D===null?(C.deletions=[x],C.flags|=16):D.push(x)),C.child=F,C.memoizedState=null,F}function DL(x,C){return C=ZA({mode:"visible",children:C},x.mode,0,null),C.return=x,x.child=C}function BA(x,C,D,F){return F!==null&&iL(F),m1(C,x.child,null,D),x=DL(C,C.pendingProps.children),x.flags|=2,C.memoizedState=null,x}function e$e(x,C,D,F,K,Z,de){if(D)return C.flags&256?(C.flags&=-257,F=SL(Error(n(422))),BA(x,C,de,F)):C.memoizedState!==null?(C.child=x.child,C.flags|=128,null):(Z=F.fallback,K=C.mode,F=ZA({mode:"visible",children:F.children},K,0,null),Z=Cy(Z,K,de,null),Z.flags|=2,F.return=C,Z.return=C,F.sibling=Z,C.child=F,(C.mode&1)!==0&&m1(C,x.child,null,de),C.child.memoizedState=IL(de),C.memoizedState=RL,Z);if((C.mode&1)===0)return BA(x,C,de,null);if(K.data==="$!"){if(F=K.nextSibling&&K.nextSibling.dataset,F)var Ie=F.dgst;return F=Ie,Z=Error(n(419)),F=SL(Z,F,void 0),BA(x,C,de,F)}if(Ie=(de&x.childLanes)!==0,Nl||Ie){if(F=vs,F!==null){switch(de&-de){case 4:K=2;break;case 16:K=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:K=32;break;case 536870912:K=268435456;break;default:K=0}K=(K&(F.suspendedLanes|de))!==0?0:K,K!==0&&K!==Z.retryLane&&(Z.retryLane=K,up(x,K),ad(F,x,K,-1))}return GL(),F=SL(Error(n(421))),BA(x,C,de,F)}return K.data==="$?"?(C.flags|=128,C.child=x.child,C=h$e.bind(null,x),K._reactRetry=C,null):(x=Z.treeContext,yu=Qm(K.nextSibling),gu=C,Vi=!0,rd=null,x!==null&&(rc[ic++]=ap,rc[ic++]=lp,rc[ic++]=hy,ap=x.id,lp=x.overflow,hy=C),C=DL(C,F.children),C.flags|=4096,C)}function Lne(x,C,D){x.lanes|=C;var F=x.alternate;F!==null&&(F.lanes|=C),lL(x.return,C,D)}function PL(x,C,D,F,K){var Z=x.memoizedState;Z===null?x.memoizedState={isBackwards:C,rendering:null,renderingStartTime:0,last:F,tail:D,tailMode:K}:(Z.isBackwards=C,Z.rendering=null,Z.renderingStartTime=0,Z.last=F,Z.tail=D,Z.tailMode=K)}function Fne(x,C,D){var F=C.pendingProps,K=F.revealOrder,Z=F.tail;if(Ka(x,C,F.children,D),F=no.current,(F&2)!==0)F=F&1|2,C.flags|=128;else{if(x!==null&&(x.flags&128)!==0)e:for(x=C.child;x!==null;){if(x.tag===13)x.memoizedState!==null&&Lne(x,D,C);else if(x.tag===19)Lne(x,D,C);else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===C)break e;for(;x.sibling===null;){if(x.return===null||x.return===C)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}F&=1}if(Ti(no,F),(C.mode&1)===0)C.memoizedState=null;else switch(K){case"forwards":for(D=C.child,K=null;D!==null;)x=D.alternate,x!==null&&OA(x)===null&&(K=D),D=D.sibling;D=K,D===null?(K=C.child,C.child=null):(K=D.sibling,D.sibling=null),PL(C,!1,K,D,Z);break;case"backwards":for(D=null,K=C.child,C.child=null;K!==null;){if(x=K.alternate,x!==null&&OA(x)===null){C.child=K;break}x=K.sibling,K.sibling=D,D=K,K=x}PL(C,!0,D,null,Z);break;case"together":PL(C,!1,null,null,void 0);break;default:C.memoizedState=null}return C.child}function zA(x,C){(C.mode&1)===0&&x!==null&&(x.alternate=null,C.alternate=null,C.flags|=2)}function dp(x,C,D){if(x!==null&&(C.dependencies=x.dependencies),vy|=C.lanes,(D&C.childLanes)===0)return null;if(x!==null&&C.child!==x.child)throw Error(n(153));if(C.child!==null){for(x=C.child,D=lg(x,x.pendingProps),C.child=D,D.return=C;x.sibling!==null;)x=x.sibling,D=D.sibling=lg(x,x.pendingProps),D.return=C;D.sibling=null}return C.child}function t$e(x,C,D){switch(C.tag){case 3:Nne(C),p1();break;case 5:Jte(C);break;case 1:Ol(C.type)&&_A(C);break;case 4:dL(C,C.stateNode.containerInfo);break;case 10:var F=C.type._context,K=C.memoizedProps.value;Ti(RA,F._currentValue),F._currentValue=K;break;case 13:if(F=C.memoizedState,F!==null)return F.dehydrated!==null?(Ti(no,no.current&1),C.flags|=128,null):(D&C.child.childLanes)!==0?$ne(x,C,D):(Ti(no,no.current&1),x=dp(x,C,D),x!==null?x.sibling:null);Ti(no,no.current&1);break;case 19:if(F=(D&C.childLanes)!==0,(x.flags&128)!==0){if(F)return Fne(x,C,D);C.flags|=128}if(K=C.memoizedState,K!==null&&(K.rendering=null,K.tail=null,K.lastEffect=null),Ti(no,no.current),F)break;return null;case 22:case 23:return C.lanes=0,Dne(x,C,D)}return dp(x,C,D)}var jne,OL,Bne,zne;jne=function(x,C){for(var D=C.child;D!==null;){if(D.tag===5||D.tag===6)x.appendChild(D.stateNode);else if(D.tag!==4&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===C)break;for(;D.sibling===null;){if(D.return===null||D.return===C)return;D=D.return}D.sibling.return=D.return,D=D.sibling}},OL=function(){},Bne=function(x,C,D,F){var K=x.memoizedProps;if(K!==F){x=C.stateNode,gy(Mf.current);var Z=null;switch(D){case"input":K=X(x,K),F=X(x,F),Z=[];break;case"select":K=z({},K,{value:void 0}),F=z({},F,{value:void 0}),Z=[];break;case"textarea":K=Ae(x,K),F=Ae(x,F),Z=[];break;default:typeof K.onClick!="function"&&typeof F.onClick=="function"&&(x.onclick=wA)}dn(D,F);var de;D=null;for(Qe in K)if(!F.hasOwnProperty(Qe)&&K.hasOwnProperty(Qe)&&K[Qe]!=null)if(Qe==="style"){var Ie=K[Qe];for(de in Ie)Ie.hasOwnProperty(de)&&(D||(D={}),D[de]="")}else Qe!=="dangerouslySetInnerHTML"&&Qe!=="children"&&Qe!=="suppressContentEditableWarning"&&Qe!=="suppressHydrationWarning"&&Qe!=="autoFocus"&&(i.hasOwnProperty(Qe)?Z||(Z=[]):(Z=Z||[]).push(Qe,null));for(Qe in F){var Fe=F[Qe];if(Ie=K?.[Qe],F.hasOwnProperty(Qe)&&Fe!==Ie&&(Fe!=null||Ie!=null))if(Qe==="style")if(Ie){for(de in Ie)!Ie.hasOwnProperty(de)||Fe&&Fe.hasOwnProperty(de)||(D||(D={}),D[de]="");for(de in Fe)Fe.hasOwnProperty(de)&&Ie[de]!==Fe[de]&&(D||(D={}),D[de]=Fe[de])}else D||(Z||(Z=[]),Z.push(Qe,D)),D=Fe;else Qe==="dangerouslySetInnerHTML"?(Fe=Fe?Fe.__html:void 0,Ie=Ie?Ie.__html:void 0,Fe!=null&&Ie!==Fe&&(Z=Z||[]).push(Qe,Fe)):Qe==="children"?typeof Fe!="string"&&typeof Fe!="number"||(Z=Z||[]).push(Qe,""+Fe):Qe!=="suppressContentEditableWarning"&&Qe!=="suppressHydrationWarning"&&(i.hasOwnProperty(Qe)?(Fe!=null&&Qe==="onScroll"&&$i("scroll",x),Z||Ie===Fe||(Z=[])):(Z=Z||[]).push(Qe,Fe))}D&&(Z=Z||[]).push("style",D);var Qe=Z;(C.updateQueue=Qe)&&(C.flags|=4)}},zne=function(x,C,D,F){D!==F&&(C.flags|=4)};function y_(x,C){if(!Vi)switch(x.tailMode){case"hidden":C=x.tail;for(var D=null;C!==null;)C.alternate!==null&&(D=C),C=C.sibling;D===null?x.tail=null:D.sibling=null;break;case"collapsed":D=x.tail;for(var F=null;D!==null;)D.alternate!==null&&(F=D),D=D.sibling;F===null?C||x.tail===null?x.tail=null:x.tail.sibling=null:F.sibling=null}}function va(x){var C=x.alternate!==null&&x.alternate.child===x.child,D=0,F=0;if(C)for(var K=x.child;K!==null;)D|=K.lanes|K.childLanes,F|=K.subtreeFlags&14680064,F|=K.flags&14680064,K.return=x,K=K.sibling;else for(K=x.child;K!==null;)D|=K.lanes|K.childLanes,F|=K.subtreeFlags,F|=K.flags,K.return=x,K=K.sibling;return x.subtreeFlags|=F,x.childLanes=D,C}function n$e(x,C,D){var F=C.pendingProps;switch(tL(C),C.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return va(C),null;case 1:return Ol(C.type)&&CA(),va(C),null;case 3:return F=C.stateNode,v1(),Li(Pl),Li(ga),pL(),F.pendingContext&&(F.context=F.pendingContext,F.pendingContext=null),(x===null||x.child===null)&&(kA(C)?C.flags|=4:x===null||x.memoizedState.isDehydrated&&(C.flags&256)===0||(C.flags|=1024,rd!==null&&(qL(rd),rd=null))),OL(x,C),va(C),null;case 5:fL(C);var K=gy(f_.current);if(D=C.type,x!==null&&C.stateNode!=null)Bne(x,C,D,F,K),x.ref!==C.ref&&(C.flags|=512,C.flags|=2097152);else{if(!F){if(C.stateNode===null)throw Error(n(166));return va(C),null}if(x=gy(Mf.current),kA(C)){F=C.stateNode,D=C.type;var Z=C.memoizedProps;switch(F[Nf]=C,F[a_]=Z,x=(C.mode&1)!==0,D){case"dialog":$i("cancel",F),$i("close",F);break;case"iframe":case"object":case"embed":$i("load",F);break;case"video":case"audio":for(K=0;K<i_.length;K++)$i(i_[K],F);break;case"source":$i("error",F);break;case"img":case"image":case"link":$i("error",F),$i("load",F);break;case"details":$i("toggle",F);break;case"input":he(F,Z),$i("invalid",F);break;case"select":F._wrapperState={wasMultiple:!!Z.multiple},$i("invalid",F);break;case"textarea":Se(F,Z),$i("invalid",F)}dn(D,Z),K=null;for(var de in Z)if(Z.hasOwnProperty(de)){var Ie=Z[de];de==="children"?typeof Ie=="string"?F.textContent!==Ie&&(Z.suppressHydrationWarning!==!0&&bA(F.textContent,Ie,x),K=["children",Ie]):typeof Ie=="number"&&F.textContent!==""+Ie&&(Z.suppressHydrationWarning!==!0&&bA(F.textContent,Ie,x),K=["children",""+Ie]):i.hasOwnProperty(de)&&Ie!=null&&de==="onScroll"&&$i("scroll",F)}switch(D){case"input":te(F),ee(F,Z,!0);break;case"textarea":te(F),ke(F);break;case"select":case"option":break;default:typeof Z.onClick=="function"&&(F.onclick=wA)}F=K,C.updateQueue=F,F!==null&&(C.flags|=4)}else{de=K.nodeType===9?K:K.ownerDocument,x==="http://www.w3.org/1999/xhtml"&&(x=me(D)),x==="http://www.w3.org/1999/xhtml"?D==="script"?(x=de.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild)):typeof F.is=="string"?x=de.createElement(D,{is:F.is}):(x=de.createElement(D),D==="select"&&(de=x,F.multiple?de.multiple=!0:F.size&&(de.size=F.size))):x=de.createElementNS(x,D),x[Nf]=C,x[a_]=F,jne(x,C,!1,!1),C.stateNode=x;e:{switch(de=Vn(D,F),D){case"dialog":$i("cancel",x),$i("close",x),K=F;break;case"iframe":case"object":case"embed":$i("load",x),K=F;break;case"video":case"audio":for(K=0;K<i_.length;K++)$i(i_[K],x);K=F;break;case"source":$i("error",x),K=F;break;case"img":case"image":case"link":$i("error",x),$i("load",x),K=F;break;case"details":$i("toggle",x),K=F;break;case"input":he(x,F),K=X(x,F),$i("invalid",x);break;case"option":K=F;break;case"select":x._wrapperState={wasMultiple:!!F.multiple},K=z({},F,{value:void 0}),$i("invalid",x);break;case"textarea":Se(x,F),K=Ae(x,F),$i("invalid",x);break;default:K=F}dn(D,K),Ie=K;for(Z in Ie)if(Ie.hasOwnProperty(Z)){var Fe=Ie[Z];Z==="style"?_n(x,Fe):Z==="dangerouslySetInnerHTML"?(Fe=Fe?Fe.__html:void 0,Fe!=null&&Xe(x,Fe)):Z==="children"?typeof Fe=="string"?(D!=="textarea"||Fe!=="")&&tt(x,Fe):typeof Fe=="number"&&tt(x,""+Fe):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?Fe!=null&&Z==="onScroll"&&$i("scroll",x):Fe!=null&&w(x,Z,Fe,de))}switch(D){case"input":te(x),ee(x,F,!1);break;case"textarea":te(x),ke(x);break;case"option":F.value!=null&&x.setAttribute("value",""+le(F.value));break;case"select":x.multiple=!!F.multiple,Z=F.value,Z!=null?Oe(x,!!F.multiple,Z,!1):F.defaultValue!=null&&Oe(x,!!F.multiple,F.defaultValue,!0);break;default:typeof K.onClick=="function"&&(x.onclick=wA)}switch(D){case"button":case"input":case"select":case"textarea":F=!!F.autoFocus;break e;case"img":F=!0;break e;default:F=!1}}F&&(C.flags|=4)}C.ref!==null&&(C.flags|=512,C.flags|=2097152)}return va(C),null;case 6:if(x&&C.stateNode!=null)zne(x,C,x.memoizedProps,F);else{if(typeof F!="string"&&C.stateNode===null)throw Error(n(166));if(D=gy(f_.current),gy(Mf.current),kA(C)){if(F=C.stateNode,D=C.memoizedProps,F[Nf]=C,(Z=F.nodeValue!==D)&&(x=gu,x!==null))switch(x.tag){case 3:bA(F.nodeValue,D,(x.mode&1)!==0);break;case 5:x.memoizedProps.suppressHydrationWarning!==!0&&bA(F.nodeValue,D,(x.mode&1)!==0)}Z&&(C.flags|=4)}else F=(D.nodeType===9?D:D.ownerDocument).createTextNode(F),F[Nf]=C,C.stateNode=F}return va(C),null;case 13:if(Li(no),F=C.memoizedState,x===null||x.memoizedState!==null&&x.memoizedState.dehydrated!==null){if(Vi&&yu!==null&&(C.mode&1)!==0&&(C.flags&128)===0)qte(),p1(),C.flags|=98560,Z=!1;else if(Z=kA(C),F!==null&&F.dehydrated!==null){if(x===null){if(!Z)throw Error(n(318));if(Z=C.memoizedState,Z=Z!==null?Z.dehydrated:null,!Z)throw Error(n(317));Z[Nf]=C}else p1(),(C.flags&128)===0&&(C.memoizedState=null),C.flags|=4;va(C),Z=!1}else rd!==null&&(qL(rd),rd=null),Z=!0;if(!Z)return C.flags&65536?C:null}return(C.flags&128)!==0?(C.lanes=D,C):(F=F!==null,F!==(x!==null&&x.memoizedState!==null)&&F&&(C.child.flags|=8192,(C.mode&1)!==0&&(x===null||(no.current&1)!==0?rs===0&&(rs=3):GL())),C.updateQueue!==null&&(C.flags|=4),va(C),null);case 4:return v1(),OL(x,C),x===null&&o_(C.stateNode.containerInfo),va(C),null;case 10:return aL(C.type._context),va(C),null;case 17:return Ol(C.type)&&CA(),va(C),null;case 19:if(Li(no),Z=C.memoizedState,Z===null)return va(C),null;if(F=(C.flags&128)!==0,de=Z.rendering,de===null)if(F)y_(Z,!1);else{if(rs!==0||x!==null&&(x.flags&128)!==0)for(x=C.child;x!==null;){if(de=OA(x),de!==null){for(C.flags|=128,y_(Z,!1),F=de.updateQueue,F!==null&&(C.updateQueue=F,C.flags|=4),C.subtreeFlags=0,F=D,D=C.child;D!==null;)Z=D,x=F,Z.flags&=14680066,de=Z.alternate,de===null?(Z.childLanes=0,Z.lanes=x,Z.child=null,Z.subtreeFlags=0,Z.memoizedProps=null,Z.memoizedState=null,Z.updateQueue=null,Z.dependencies=null,Z.stateNode=null):(Z.childLanes=de.childLanes,Z.lanes=de.lanes,Z.child=de.child,Z.subtreeFlags=0,Z.deletions=null,Z.memoizedProps=de.memoizedProps,Z.memoizedState=de.memoizedState,Z.updateQueue=de.updateQueue,Z.type=de.type,x=de.dependencies,Z.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext}),D=D.sibling;return Ti(no,no.current&1|2),C.child}x=x.sibling}Z.tail!==null&&dr()>C1&&(C.flags|=128,F=!0,y_(Z,!1),C.lanes=4194304)}else{if(!F)if(x=OA(de),x!==null){if(C.flags|=128,F=!0,D=x.updateQueue,D!==null&&(C.updateQueue=D,C.flags|=4),y_(Z,!0),Z.tail===null&&Z.tailMode==="hidden"&&!de.alternate&&!Vi)return va(C),null}else 2*dr()-Z.renderingStartTime>C1&&D!==1073741824&&(C.flags|=128,F=!0,y_(Z,!1),C.lanes=4194304);Z.isBackwards?(de.sibling=C.child,C.child=de):(D=Z.last,D!==null?D.sibling=de:C.child=de,Z.last=de)}return Z.tail!==null?(C=Z.tail,Z.rendering=C,Z.tail=C.sibling,Z.renderingStartTime=dr(),C.sibling=null,D=no.current,Ti(no,F?D&1|2:D&1),C):(va(C),null);case 22:case 23:return WL(),F=C.memoizedState!==null,x!==null&&x.memoizedState!==null!==F&&(C.flags|=8192),F&&(C.mode&1)!==0?(vu&1073741824)!==0&&(va(C),C.subtreeFlags&6&&(C.flags|=8192)):va(C),null;case 24:return null;case 25:return null}throw Error(n(156,C.tag))}function r$e(x,C){switch(tL(C),C.tag){case 1:return Ol(C.type)&&CA(),x=C.flags,x&65536?(C.flags=x&-65537|128,C):null;case 3:return v1(),Li(Pl),Li(ga),pL(),x=C.flags,(x&65536)!==0&&(x&128)===0?(C.flags=x&-65537|128,C):null;case 5:return fL(C),null;case 13:if(Li(no),x=C.memoizedState,x!==null&&x.dehydrated!==null){if(C.alternate===null)throw Error(n(340));p1()}return x=C.flags,x&65536?(C.flags=x&-65537|128,C):null;case 19:return Li(no),null;case 4:return v1(),null;case 10:return aL(C.type._context),null;case 22:case 23:return WL(),null;case 24:return null;default:return null}}var UA=!1,ba=!1,i$e=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function w1(x,C){var D=x.ref;if(D!==null)if(typeof D=="function")try{D(null)}catch(F){fo(x,C,F)}else D.current=null}function NL(x,C,D){try{D()}catch(F){fo(x,C,F)}}var Une=!1;function o$e(x,C){if(W$=oe,x=wte(),F$(x)){if("selectionStart"in x)var D={start:x.selectionStart,end:x.selectionEnd};else e:{D=(D=x.ownerDocument)&&D.defaultView||window;var F=D.getSelection&&D.getSelection();if(F&&F.rangeCount!==0){D=F.anchorNode;var K=F.anchorOffset,Z=F.focusNode;F=F.focusOffset;try{D.nodeType,Z.nodeType}catch{D=null;break e}var de=0,Ie=-1,Fe=-1,Qe=0,yt=0,wt=x,mt=null;t:for(;;){for(var Ht;wt!==D||K!==0&&wt.nodeType!==3||(Ie=de+K),wt!==Z||F!==0&&wt.nodeType!==3||(Fe=de+F),wt.nodeType===3&&(de+=wt.nodeValue.length),(Ht=wt.firstChild)!==null;)mt=wt,wt=Ht;for(;;){if(wt===x)break t;if(mt===D&&++Qe===K&&(Ie=de),mt===Z&&++yt===F&&(Fe=de),(Ht=wt.nextSibling)!==null)break;wt=mt,mt=wt.parentNode}wt=Ht}D=Ie===-1||Fe===-1?null:{start:Ie,end:Fe}}else D=null}D=D||{start:0,end:0}}else D=null;for(G$={focusedElem:x,selectionRange:D},oe=!1,Vt=C;Vt!==null;)if(C=Vt,x=C.child,(C.subtreeFlags&1028)!==0&&x!==null)x.return=C,Vt=x;else for(;Vt!==null;){C=Vt;try{var Gt=C.alternate;if((C.flags&1024)!==0)switch(C.tag){case 0:case 11:case 15:break;case 1:if(Gt!==null){var Qt=Gt.memoizedProps,ko=Gt.memoizedState,We=C.stateNode,Ue=We.getSnapshotBeforeUpdate(C.elementType===C.type?Qt:id(C.type,Qt),ko);We.__reactInternalSnapshotBeforeUpdate=Ue}break;case 3:var Ke=C.stateNode.containerInfo;Ke.nodeType===1?Ke.textContent="":Ke.nodeType===9&&Ke.documentElement&&Ke.removeChild(Ke.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(At){fo(C,C.return,At)}if(x=C.sibling,x!==null){x.return=C.return,Vt=x;break}Vt=C.return}return Gt=Une,Une=!1,Gt}function v_(x,C,D){var F=C.updateQueue;if(F=F!==null?F.lastEffect:null,F!==null){var K=F=F.next;do{if((K.tag&x)===x){var Z=K.destroy;K.destroy=void 0,Z!==void 0&&NL(C,D,Z)}K=K.next}while(K!==F)}}function HA(x,C){if(C=C.updateQueue,C=C!==null?C.lastEffect:null,C!==null){var D=C=C.next;do{if((D.tag&x)===x){var F=D.create;D.destroy=F()}D=D.next}while(D!==C)}}function ML(x){var C=x.ref;if(C!==null){var D=x.stateNode;switch(x.tag){case 5:x=D;break;default:x=D}typeof C=="function"?C(x):C.current=x}}function Hne(x){var C=x.alternate;C!==null&&(x.alternate=null,Hne(C)),x.child=null,x.deletions=null,x.sibling=null,x.tag===5&&(C=x.stateNode,C!==null&&(delete C[Nf],delete C[a_],delete C[Q$],delete C[z5e],delete C[U5e])),x.stateNode=null,x.return=null,x.dependencies=null,x.memoizedProps=null,x.memoizedState=null,x.pendingProps=null,x.stateNode=null,x.updateQueue=null}function qne(x){return x.tag===5||x.tag===3||x.tag===4}function Vne(x){e:for(;;){for(;x.sibling===null;){if(x.return===null||qne(x.return))return null;x=x.return}for(x.sibling.return=x.return,x=x.sibling;x.tag!==5&&x.tag!==6&&x.tag!==18;){if(x.flags&2||x.child===null||x.tag===4)continue e;x.child.return=x,x=x.child}if(!(x.flags&2))return x.stateNode}}function $L(x,C,D){var F=x.tag;if(F===5||F===6)x=x.stateNode,C?D.nodeType===8?D.parentNode.insertBefore(x,C):D.insertBefore(x,C):(D.nodeType===8?(C=D.parentNode,C.insertBefore(x,D)):(C=D,C.appendChild(x)),D=D._reactRootContainer,D!=null||C.onclick!==null||(C.onclick=wA));else if(F!==4&&(x=x.child,x!==null))for($L(x,C,D),x=x.sibling;x!==null;)$L(x,C,D),x=x.sibling}function LL(x,C,D){var F=x.tag;if(F===5||F===6)x=x.stateNode,C?D.insertBefore(x,C):D.appendChild(x);else if(F!==4&&(x=x.child,x!==null))for(LL(x,C,D),x=x.sibling;x!==null;)LL(x,C,D),x=x.sibling}var Us=null,od=!1;function rg(x,C,D){for(D=D.child;D!==null;)Wne(x,C,D),D=D.sibling}function Wne(x,C,D){if(Co&&typeof Co.onCommitFiberUnmount=="function")try{Co.onCommitFiberUnmount(Al,D)}catch{}switch(D.tag){case 5:ba||w1(D,C);case 6:var F=Us,K=od;Us=null,rg(x,C,D),Us=F,od=K,Us!==null&&(od?(x=Us,D=D.stateNode,x.nodeType===8?x.parentNode.removeChild(D):x.removeChild(D)):Us.removeChild(D.stateNode));break;case 18:Us!==null&&(od?(x=Us,D=D.stateNode,x.nodeType===8?X$(x.parentNode,D):x.nodeType===1&&X$(x,D),ma(x)):X$(Us,D.stateNode));break;case 4:F=Us,K=od,Us=D.stateNode.containerInfo,od=!0,rg(x,C,D),Us=F,od=K;break;case 0:case 11:case 14:case 15:if(!ba&&(F=D.updateQueue,F!==null&&(F=F.lastEffect,F!==null))){K=F=F.next;do{var Z=K,de=Z.destroy;Z=Z.tag,de!==void 0&&((Z&2)!==0||(Z&4)!==0)&&NL(D,C,de),K=K.next}while(K!==F)}rg(x,C,D);break;case 1:if(!ba&&(w1(D,C),F=D.stateNode,typeof F.componentWillUnmount=="function"))try{F.props=D.memoizedProps,F.state=D.memoizedState,F.componentWillUnmount()}catch(Ie){fo(D,C,Ie)}rg(x,C,D);break;case 21:rg(x,C,D);break;case 22:D.mode&1?(ba=(F=ba)||D.memoizedState!==null,rg(x,C,D),ba=F):rg(x,C,D);break;default:rg(x,C,D)}}function Gne(x){var C=x.updateQueue;if(C!==null){x.updateQueue=null;var D=x.stateNode;D===null&&(D=x.stateNode=new i$e),C.forEach(function(F){var K=p$e.bind(null,x,F);D.has(F)||(D.add(F),F.then(K,K))})}}function sd(x,C){var D=C.deletions;if(D!==null)for(var F=0;F<D.length;F++){var K=D[F];try{var Z=x,de=C,Ie=de;e:for(;Ie!==null;){switch(Ie.tag){case 5:Us=Ie.stateNode,od=!1;break e;case 3:Us=Ie.stateNode.containerInfo,od=!0;break e;case 4:Us=Ie.stateNode.containerInfo,od=!0;break e}Ie=Ie.return}if(Us===null)throw Error(n(160));Wne(Z,de,K),Us=null,od=!1;var Fe=K.alternate;Fe!==null&&(Fe.return=null),K.return=null}catch(Qe){fo(K,C,Qe)}}if(C.subtreeFlags&12854)for(C=C.child;C!==null;)Yne(C,x),C=C.sibling}function Yne(x,C){var D=x.alternate,F=x.flags;switch(x.tag){case 0:case 11:case 14:case 15:if(sd(C,x),Lf(x),F&4){try{v_(3,x,x.return),HA(3,x)}catch(Qt){fo(x,x.return,Qt)}try{v_(5,x,x.return)}catch(Qt){fo(x,x.return,Qt)}}break;case 1:sd(C,x),Lf(x),F&512&&D!==null&&w1(D,D.return);break;case 5:if(sd(C,x),Lf(x),F&512&&D!==null&&w1(D,D.return),x.flags&32){var K=x.stateNode;try{tt(K,"")}catch(Qt){fo(x,x.return,Qt)}}if(F&4&&(K=x.stateNode,K!=null)){var Z=x.memoizedProps,de=D!==null?D.memoizedProps:Z,Ie=x.type,Fe=x.updateQueue;if(x.updateQueue=null,Fe!==null)try{Ie==="input"&&Z.type==="radio"&&Z.name!=null&&ge(K,Z),Vn(Ie,de);var Qe=Vn(Ie,Z);for(de=0;de<Fe.length;de+=2){var yt=Fe[de],wt=Fe[de+1];yt==="style"?_n(K,wt):yt==="dangerouslySetInnerHTML"?Xe(K,wt):yt==="children"?tt(K,wt):w(K,yt,wt,Qe)}switch(Ie){case"input":re(K,Z);break;case"textarea":xe(K,Z);break;case"select":var mt=K._wrapperState.wasMultiple;K._wrapperState.wasMultiple=!!Z.multiple;var Ht=Z.value;Ht!=null?Oe(K,!!Z.multiple,Ht,!1):mt!==!!Z.multiple&&(Z.defaultValue!=null?Oe(K,!!Z.multiple,Z.defaultValue,!0):Oe(K,!!Z.multiple,Z.multiple?[]:"",!1))}K[a_]=Z}catch(Qt){fo(x,x.return,Qt)}}break;case 6:if(sd(C,x),Lf(x),F&4){if(x.stateNode===null)throw Error(n(162));K=x.stateNode,Z=x.memoizedProps;try{K.nodeValue=Z}catch(Qt){fo(x,x.return,Qt)}}break;case 3:if(sd(C,x),Lf(x),F&4&&D!==null&&D.memoizedState.isDehydrated)try{ma(C.containerInfo)}catch(Qt){fo(x,x.return,Qt)}break;case 4:sd(C,x),Lf(x);break;case 13:sd(C,x),Lf(x),K=x.child,K.flags&8192&&(Z=K.memoizedState!==null,K.stateNode.isHidden=Z,!Z||K.alternate!==null&&K.alternate.memoizedState!==null||(BL=dr())),F&4&&Gne(x);break;case 22:if(yt=D!==null&&D.memoizedState!==null,x.mode&1?(ba=(Qe=ba)||yt,sd(C,x),ba=Qe):sd(C,x),Lf(x),F&8192){if(Qe=x.memoizedState!==null,(x.stateNode.isHidden=Qe)&&!yt&&(x.mode&1)!==0)for(Vt=x,yt=x.child;yt!==null;){for(wt=Vt=yt;Vt!==null;){switch(mt=Vt,Ht=mt.child,mt.tag){case 0:case 11:case 14:case 15:v_(4,mt,mt.return);break;case 1:w1(mt,mt.return);var Gt=mt.stateNode;if(typeof Gt.componentWillUnmount=="function"){F=mt,D=mt.return;try{C=F,Gt.props=C.memoizedProps,Gt.state=C.memoizedState,Gt.componentWillUnmount()}catch(Qt){fo(F,D,Qt)}}break;case 5:w1(mt,mt.return);break;case 22:if(mt.memoizedState!==null){Qne(wt);continue}}Ht!==null?(Ht.return=mt,Vt=Ht):Qne(wt)}yt=yt.sibling}e:for(yt=null,wt=x;;){if(wt.tag===5){if(yt===null){yt=wt;try{K=wt.stateNode,Qe?(Z=K.style,typeof Z.setProperty=="function"?Z.setProperty("display","none","important"):Z.display="none"):(Ie=wt.stateNode,Fe=wt.memoizedProps.style,de=Fe!=null&&Fe.hasOwnProperty("display")?Fe.display:null,Ie.style.display=zt("display",de))}catch(Qt){fo(x,x.return,Qt)}}}else if(wt.tag===6){if(yt===null)try{wt.stateNode.nodeValue=Qe?"":wt.memoizedProps}catch(Qt){fo(x,x.return,Qt)}}else if((wt.tag!==22&&wt.tag!==23||wt.memoizedState===null||wt===x)&&wt.child!==null){wt.child.return=wt,wt=wt.child;continue}if(wt===x)break e;for(;wt.sibling===null;){if(wt.return===null||wt.return===x)break e;yt===wt&&(yt=null),wt=wt.return}yt===wt&&(yt=null),wt.sibling.return=wt.return,wt=wt.sibling}}break;case 19:sd(C,x),Lf(x),F&4&&Gne(x);break;case 21:break;default:sd(C,x),Lf(x)}}function Lf(x){var C=x.flags;if(C&2){try{e:{for(var D=x.return;D!==null;){if(qne(D)){var F=D;break e}D=D.return}throw Error(n(160))}switch(F.tag){case 5:var K=F.stateNode;F.flags&32&&(tt(K,""),F.flags&=-33);var Z=Vne(x);LL(x,Z,K);break;case 3:case 4:var de=F.stateNode.containerInfo,Ie=Vne(x);$L(x,Ie,de);break;default:throw Error(n(161))}}catch(Fe){fo(x,x.return,Fe)}x.flags&=-3}C&4096&&(x.flags&=-4097)}function s$e(x,C,D){Vt=x,Kne(x)}function Kne(x,C,D){for(var F=(x.mode&1)!==0;Vt!==null;){var K=Vt,Z=K.child;if(K.tag===22&&F){var de=K.memoizedState!==null||UA;if(!de){var Ie=K.alternate,Fe=Ie!==null&&Ie.memoizedState!==null||ba;Ie=UA;var Qe=ba;if(UA=de,(ba=Fe)&&!Qe)for(Vt=K;Vt!==null;)de=Vt,Fe=de.child,de.tag===22&&de.memoizedState!==null?Jne(K):Fe!==null?(Fe.return=de,Vt=Fe):Jne(K);for(;Z!==null;)Vt=Z,Kne(Z),Z=Z.sibling;Vt=K,UA=Ie,ba=Qe}Xne(x)}else(K.subtreeFlags&8772)!==0&&Z!==null?(Z.return=K,Vt=Z):Xne(x)}}function Xne(x){for(;Vt!==null;){var C=Vt;if((C.flags&8772)!==0){var D=C.alternate;try{if((C.flags&8772)!==0)switch(C.tag){case 0:case 11:case 15:ba||HA(5,C);break;case 1:var F=C.stateNode;if(C.flags&4&&!ba)if(D===null)F.componentDidMount();else{var K=C.elementType===C.type?D.memoizedProps:id(C.type,D.memoizedProps);F.componentDidUpdate(K,D.memoizedState,F.__reactInternalSnapshotBeforeUpdate)}var Z=C.updateQueue;Z!==null&&Qte(C,Z,F);break;case 3:var de=C.updateQueue;if(de!==null){if(D=null,C.child!==null)switch(C.child.tag){case 5:D=C.child.stateNode;break;case 1:D=C.child.stateNode}Qte(C,de,D)}break;case 5:var Ie=C.stateNode;if(D===null&&C.flags&4){D=Ie;var Fe=C.memoizedProps;switch(C.type){case"button":case"input":case"select":case"textarea":Fe.autoFocus&&D.focus();break;case"img":Fe.src&&(D.src=Fe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(C.memoizedState===null){var Qe=C.alternate;if(Qe!==null){var yt=Qe.memoizedState;if(yt!==null){var wt=yt.dehydrated;wt!==null&&ma(wt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ba||C.flags&512&&ML(C)}catch(mt){fo(C,C.return,mt)}}if(C===x){Vt=null;break}if(D=C.sibling,D!==null){D.return=C.return,Vt=D;break}Vt=C.return}}function Qne(x){for(;Vt!==null;){var C=Vt;if(C===x){Vt=null;break}var D=C.sibling;if(D!==null){D.return=C.return,Vt=D;break}Vt=C.return}}function Jne(x){for(;Vt!==null;){var C=Vt;try{switch(C.tag){case 0:case 11:case 15:var D=C.return;try{HA(4,C)}catch(Fe){fo(C,D,Fe)}break;case 1:var F=C.stateNode;if(typeof F.componentDidMount=="function"){var K=C.return;try{F.componentDidMount()}catch(Fe){fo(C,K,Fe)}}var Z=C.return;try{ML(C)}catch(Fe){fo(C,Z,Fe)}break;case 5:var de=C.return;try{ML(C)}catch(Fe){fo(C,de,Fe)}}}catch(Fe){fo(C,C.return,Fe)}if(C===x){Vt=null;break}var Ie=C.sibling;if(Ie!==null){Ie.return=C.return,Vt=Ie;break}Vt=C.return}}var a$e=Math.ceil,qA=_.ReactCurrentDispatcher,FL=_.ReactCurrentOwner,ac=_.ReactCurrentBatchConfig,Nr=0,vs=null,Ho=null,Hs=0,vu=0,x1=Jm(0),rs=0,b_=null,vy=0,VA=0,jL=0,w_=null,Ml=null,BL=0,C1=1/0,fp=null,WA=!1,zL=null,ig=null,GA=!1,og=null,YA=0,x_=0,UL=null,KA=-1,XA=0;function Xa(){return(Nr&6)!==0?dr():KA!==-1?KA:KA=dr()}function sg(x){return(x.mode&1)===0?1:(Nr&2)!==0&&Hs!==0?Hs&-Hs:q5e.transition!==null?(XA===0&&(XA=_t()),XA):(x=Wt,x!==0||(x=window.event,x=x===void 0?16:Mn(x.type)),x)}function ad(x,C,D,F){if(50<x_)throw x_=0,UL=null,Error(n(185));Pn(x,D,F),((Nr&2)===0||x!==vs)&&(x===vs&&((Nr&2)===0&&(VA|=D),rs===4&&ag(x,Hs)),$l(x,F),D===1&&Nr===0&&(C.mode&1)===0&&(C1=dr()+500,EA&&eg()))}function $l(x,C){var D=x.callbackNode;pt(x,C);var F=rt(x,x===vs?Hs:0);if(F===0)D!==null&&Zo(D),x.callbackNode=null,x.callbackPriority=0;else if(C=F&-F,x.callbackPriority!==C){if(D!=null&&Zo(D),C===1)x.tag===0?H5e(ere.bind(null,x)):jte(ere.bind(null,x)),j5e(function(){(Nr&6)===0&&eg()}),D=null;else{switch(sr(F)){case 1:D=wo;break;case 4:D=hs;break;case 16:D=xo;break;case 536870912:D=js;break;default:D=xo}D=lre(D,Zne.bind(null,x))}x.callbackPriority=C,x.callbackNode=D}}function Zne(x,C){if(KA=-1,XA=0,(Nr&6)!==0)throw Error(n(327));var D=x.callbackNode;if(_1()&&x.callbackNode!==D)return null;var F=rt(x,x===vs?Hs:0);if(F===0)return null;if((F&30)!==0||(F&x.expiredLanes)!==0||C)C=QA(x,F);else{C=F;var K=Nr;Nr|=2;var Z=nre();(vs!==x||Hs!==C)&&(fp=null,C1=dr()+500,wy(x,C));do try{c$e();break}catch(Ie){tre(x,Ie)}while(!0);sL(),qA.current=Z,Nr=K,Ho!==null?C=0:(vs=null,Hs=0,C=rs)}if(C!==0){if(C===2&&(K=ft(x),K!==0&&(F=K,C=HL(x,K))),C===1)throw D=b_,wy(x,0),ag(x,F),$l(x,dr()),D;if(C===6)ag(x,F);else{if(K=x.current.alternate,(F&30)===0&&!l$e(K)&&(C=QA(x,F),C===2&&(Z=ft(x),Z!==0&&(F=Z,C=HL(x,Z))),C===1))throw D=b_,wy(x,0),ag(x,F),$l(x,dr()),D;switch(x.finishedWork=K,x.finishedLanes=F,C){case 0:case 1:throw Error(n(345));case 2:xy(x,Ml,fp);break;case 3:if(ag(x,F),(F&130023424)===F&&(C=BL+500-dr(),10<C)){if(rt(x,0)!==0)break;if(K=x.suspendedLanes,(K&F)!==F){Xa(),x.pingedLanes|=x.suspendedLanes&K;break}x.timeoutHandle=K$(xy.bind(null,x,Ml,fp),C);break}xy(x,Ml,fp);break;case 4:if(ag(x,F),(F&4194240)===F)break;for(C=x.eventTimes,K=-1;0<F;){var de=31-_o(F);Z=1<<de,de=C[de],de>K&&(K=de),F&=~Z}if(F=K,F=dr()-F,F=(120>F?120:480>F?480:1080>F?1080:1920>F?1920:3e3>F?3e3:4320>F?4320:1960*a$e(F/1960))-F,10<F){x.timeoutHandle=K$(xy.bind(null,x,Ml,fp),F);break}xy(x,Ml,fp);break;case 5:xy(x,Ml,fp);break;default:throw Error(n(329))}}}return $l(x,dr()),x.callbackNode===D?Zne.bind(null,x):null}function HL(x,C){var D=w_;return x.current.memoizedState.isDehydrated&&(wy(x,C).flags|=256),x=QA(x,C),x!==2&&(C=Ml,Ml=D,C!==null&&qL(C)),x}function qL(x){Ml===null?Ml=x:Ml.push.apply(Ml,x)}function l$e(x){for(var C=x;;){if(C.flags&16384){var D=C.updateQueue;if(D!==null&&(D=D.stores,D!==null))for(var F=0;F<D.length;F++){var K=D[F],Z=K.getSnapshot;K=K.value;try{if(!nd(Z(),K))return!1}catch{return!1}}}if(D=C.child,C.subtreeFlags&16384&&D!==null)D.return=C,C=D;else{if(C===x)break;for(;C.sibling===null;){if(C.return===null||C.return===x)return!0;C=C.return}C.sibling.return=C.return,C=C.sibling}}return!0}function ag(x,C){for(C&=~jL,C&=~VA,x.suspendedLanes|=C,x.pingedLanes&=~C,x=x.expirationTimes;0<C;){var D=31-_o(C),F=1<<D;x[D]=-1,C&=~F}}function ere(x){if((Nr&6)!==0)throw Error(n(327));_1();var C=rt(x,0);if((C&1)===0)return $l(x,dr()),null;var D=QA(x,C);if(x.tag!==0&&D===2){var F=ft(x);F!==0&&(C=F,D=HL(x,F))}if(D===1)throw D=b_,wy(x,0),ag(x,C),$l(x,dr()),D;if(D===6)throw Error(n(345));return x.finishedWork=x.current.alternate,x.finishedLanes=C,xy(x,Ml,fp),$l(x,dr()),null}function VL(x,C){var D=Nr;Nr|=1;try{return x(C)}finally{Nr=D,Nr===0&&(C1=dr()+500,EA&&eg())}}function by(x){og!==null&&og.tag===0&&(Nr&6)===0&&_1();var C=Nr;Nr|=1;var D=ac.transition,F=Wt;try{if(ac.transition=null,Wt=1,x)return x()}finally{Wt=F,ac.transition=D,Nr=C,(Nr&6)===0&&eg()}}function WL(){vu=x1.current,Li(x1)}function wy(x,C){x.finishedWork=null,x.finishedLanes=0;var D=x.timeoutHandle;if(D!==-1&&(x.timeoutHandle=-1,F5e(D)),Ho!==null)for(D=Ho.return;D!==null;){var F=D;switch(tL(F),F.tag){case 1:F=F.type.childContextTypes,F!=null&&CA();break;case 3:v1(),Li(Pl),Li(ga),pL();break;case 5:fL(F);break;case 4:v1();break;case 13:Li(no);break;case 19:Li(no);break;case 10:aL(F.type._context);break;case 22:case 23:WL()}D=D.return}if(vs=x,Ho=x=lg(x.current,null),Hs=vu=C,rs=0,b_=null,jL=VA=vy=0,Ml=w_=null,my!==null){for(C=0;C<my.length;C++)if(D=my[C],F=D.interleaved,F!==null){D.interleaved=null;var K=F.next,Z=D.pending;if(Z!==null){var de=Z.next;Z.next=K,F.next=de}D.pending=F}my=null}return x}function tre(x,C){do{var D=Ho;try{if(sL(),NA.current=FA,MA){for(var F=ro.memoizedState;F!==null;){var K=F.queue;K!==null&&(K.pending=null),F=F.next}MA=!1}if(yy=0,ys=ns=ro=null,h_=!1,p_=0,FL.current=null,D===null||D.return===null){rs=1,b_=C,Ho=null;break}e:{var Z=x,de=D.return,Ie=D,Fe=C;if(C=Hs,Ie.flags|=32768,Fe!==null&&typeof Fe=="object"&&typeof Fe.then=="function"){var Qe=Fe,yt=Ie,wt=yt.tag;if((yt.mode&1)===0&&(wt===0||wt===11||wt===15)){var mt=yt.alternate;mt?(yt.updateQueue=mt.updateQueue,yt.memoizedState=mt.memoizedState,yt.lanes=mt.lanes):(yt.updateQueue=null,yt.memoizedState=null)}var Ht=Tne(de);if(Ht!==null){Ht.flags&=-257,kne(Ht,de,Ie,Z,C),Ht.mode&1&&Sne(Z,Qe,C),C=Ht,Fe=Qe;var Gt=C.updateQueue;if(Gt===null){var Qt=new Set;Qt.add(Fe),C.updateQueue=Qt}else Gt.add(Fe);break e}else{if((C&1)===0){Sne(Z,Qe,C),GL();break e}Fe=Error(n(426))}}else if(Vi&&Ie.mode&1){var ko=Tne(de);if(ko!==null){(ko.flags&65536)===0&&(ko.flags|=256),kne(ko,de,Ie,Z,C),iL(b1(Fe,Ie));break e}}Z=Fe=b1(Fe,Ie),rs!==4&&(rs=2),w_===null?w_=[Z]:w_.push(Z),Z=de;do{switch(Z.tag){case 3:Z.flags|=65536,C&=-C,Z.lanes|=C;var We=_ne(Z,Fe,C);Xte(Z,We);break e;case 1:Ie=Fe;var Ue=Z.type,Ke=Z.stateNode;if((Z.flags&128)===0&&(typeof Ue.getDerivedStateFromError=="function"||Ke!==null&&typeof Ke.componentDidCatch=="function"&&(ig===null||!ig.has(Ke)))){Z.flags|=65536,C&=-C,Z.lanes|=C;var At=Ene(Z,Ie,C);Xte(Z,At);break e}}Z=Z.return}while(Z!==null)}ire(D)}catch(rn){C=rn,Ho===D&&D!==null&&(Ho=D=D.return);continue}break}while(!0)}function nre(){var x=qA.current;return qA.current=FA,x===null?FA:x}function GL(){(rs===0||rs===3||rs===2)&&(rs=4),vs===null||(vy&268435455)===0&&(VA&268435455)===0||ag(vs,Hs)}function QA(x,C){var D=Nr;Nr|=2;var F=nre();(vs!==x||Hs!==C)&&(fp=null,wy(x,C));do try{u$e();break}catch(K){tre(x,K)}while(!0);if(sL(),Nr=D,qA.current=F,Ho!==null)throw Error(n(261));return vs=null,Hs=0,rs}function u$e(){for(;Ho!==null;)rre(Ho)}function c$e(){for(;Ho!==null&&!kf();)rre(Ho)}function rre(x){var C=are(x.alternate,x,vu);x.memoizedProps=x.pendingProps,C===null?ire(x):Ho=C,FL.current=null}function ire(x){var C=x;do{var D=C.alternate;if(x=C.return,(C.flags&32768)===0){if(D=n$e(D,C,vu),D!==null){Ho=D;return}}else{if(D=r$e(D,C),D!==null){D.flags&=32767,Ho=D;return}if(x!==null)x.flags|=32768,x.subtreeFlags=0,x.deletions=null;else{rs=6,Ho=null;return}}if(C=C.sibling,C!==null){Ho=C;return}Ho=C=x}while(C!==null);rs===0&&(rs=5)}function xy(x,C,D){var F=Wt,K=ac.transition;try{ac.transition=null,Wt=1,d$e(x,C,D,F)}finally{ac.transition=K,Wt=F}return null}function d$e(x,C,D,F){do _1();while(og!==null);if((Nr&6)!==0)throw Error(n(327));D=x.finishedWork;var K=x.finishedLanes;if(D===null)return null;if(x.finishedWork=null,x.finishedLanes=0,D===x.current)throw Error(n(177));x.callbackNode=null,x.callbackPriority=0;var Z=D.lanes|D.childLanes;if(Xt(x,Z),x===vs&&(Ho=vs=null,Hs=0),(D.subtreeFlags&2064)===0&&(D.flags&2064)===0||GA||(GA=!0,lre(xo,function(){return _1(),null})),Z=(D.flags&15990)!==0,(D.subtreeFlags&15990)!==0||Z){Z=ac.transition,ac.transition=null;var de=Wt;Wt=1;var Ie=Nr;Nr|=4,FL.current=null,o$e(x,D),Yne(D,x),D5e(G$),oe=!!W$,G$=W$=null,x.current=D,s$e(D),fu(),Nr=Ie,Wt=de,ac.transition=Z}else x.current=D;if(GA&&(GA=!1,og=x,YA=K),Z=x.pendingLanes,Z===0&&(ig=null),Af(D.stateNode),$l(x,dr()),C!==null)for(F=x.onRecoverableError,D=0;D<C.length;D++)K=C[D],F(K.value,{componentStack:K.stack,digest:K.digest});if(WA)throw WA=!1,x=zL,zL=null,x;return(YA&1)!==0&&x.tag!==0&&_1(),Z=x.pendingLanes,(Z&1)!==0?x===UL?x_++:(x_=0,UL=x):x_=0,eg(),null}function _1(){if(og!==null){var x=sr(YA),C=ac.transition,D=Wt;try{if(ac.transition=null,Wt=16>x?16:x,og===null)var F=!1;else{if(x=og,og=null,YA=0,(Nr&6)!==0)throw Error(n(331));var K=Nr;for(Nr|=4,Vt=x.current;Vt!==null;){var Z=Vt,de=Z.child;if((Vt.flags&16)!==0){var Ie=Z.deletions;if(Ie!==null){for(var Fe=0;Fe<Ie.length;Fe++){var Qe=Ie[Fe];for(Vt=Qe;Vt!==null;){var yt=Vt;switch(yt.tag){case 0:case 11:case 15:v_(8,yt,Z)}var wt=yt.child;if(wt!==null)wt.return=yt,Vt=wt;else for(;Vt!==null;){yt=Vt;var mt=yt.sibling,Ht=yt.return;if(Hne(yt),yt===Qe){Vt=null;break}if(mt!==null){mt.return=Ht,Vt=mt;break}Vt=Ht}}}var Gt=Z.alternate;if(Gt!==null){var Qt=Gt.child;if(Qt!==null){Gt.child=null;do{var ko=Qt.sibling;Qt.sibling=null,Qt=ko}while(Qt!==null)}}Vt=Z}}if((Z.subtreeFlags&2064)!==0&&de!==null)de.return=Z,Vt=de;else e:for(;Vt!==null;){if(Z=Vt,(Z.flags&2048)!==0)switch(Z.tag){case 0:case 11:case 15:v_(9,Z,Z.return)}var We=Z.sibling;if(We!==null){We.return=Z.return,Vt=We;break e}Vt=Z.return}}var Ue=x.current;for(Vt=Ue;Vt!==null;){de=Vt;var Ke=de.child;if((de.subtreeFlags&2064)!==0&&Ke!==null)Ke.return=de,Vt=Ke;else e:for(de=Ue;Vt!==null;){if(Ie=Vt,(Ie.flags&2048)!==0)try{switch(Ie.tag){case 0:case 11:case 15:HA(9,Ie)}}catch(rn){fo(Ie,Ie.return,rn)}if(Ie===de){Vt=null;break e}var At=Ie.sibling;if(At!==null){At.return=Ie.return,Vt=At;break e}Vt=Ie.return}}if(Nr=K,eg(),Co&&typeof Co.onPostCommitFiberRoot=="function")try{Co.onPostCommitFiberRoot(Al,x)}catch{}F=!0}return F}finally{Wt=D,ac.transition=C}}return!1}function ore(x,C,D){C=b1(D,C),C=_ne(x,C,1),x=ng(x,C,1),C=Xa(),x!==null&&(Pn(x,1,C),$l(x,C))}function fo(x,C,D){if(x.tag===3)ore(x,x,D);else for(;C!==null;){if(C.tag===3){ore(C,x,D);break}else if(C.tag===1){var F=C.stateNode;if(typeof C.type.getDerivedStateFromError=="function"||typeof F.componentDidCatch=="function"&&(ig===null||!ig.has(F))){x=b1(D,x),x=Ene(C,x,1),C=ng(C,x,1),x=Xa(),C!==null&&(Pn(C,1,x),$l(C,x));break}}C=C.return}}function f$e(x,C,D){var F=x.pingCache;F!==null&&F.delete(C),C=Xa(),x.pingedLanes|=x.suspendedLanes&D,vs===x&&(Hs&D)===D&&(rs===4||rs===3&&(Hs&130023424)===Hs&&500>dr()-BL?wy(x,0):jL|=D),$l(x,C)}function sre(x,C){C===0&&((x.mode&1)===0?C=1:(C=He,He<<=1,(He&130023424)===0&&(He=4194304)));var D=Xa();x=up(x,C),x!==null&&(Pn(x,C,D),$l(x,D))}function h$e(x){var C=x.memoizedState,D=0;C!==null&&(D=C.retryLane),sre(x,D)}function p$e(x,C){var D=0;switch(x.tag){case 13:var F=x.stateNode,K=x.memoizedState;K!==null&&(D=K.retryLane);break;case 19:F=x.stateNode;break;default:throw Error(n(314))}F!==null&&F.delete(C),sre(x,D)}var are;are=function(x,C,D){if(x!==null)if(x.memoizedProps!==C.pendingProps||Pl.current)Nl=!0;else{if((x.lanes&D)===0&&(C.flags&128)===0)return Nl=!1,t$e(x,C,D);Nl=(x.flags&131072)!==0}else Nl=!1,Vi&&(C.flags&1048576)!==0&&Bte(C,TA,C.index);switch(C.lanes=0,C.tag){case 2:var F=C.type;zA(x,C),x=C.pendingProps;var K=d1(C,ga.current);y1(C,D),K=yL(null,C,F,x,K,D);var Z=vL();return C.flags|=1,typeof K=="object"&&K!==null&&typeof K.render=="function"&&K.$$typeof===void 0?(C.tag=1,C.memoizedState=null,C.updateQueue=null,Ol(F)?(Z=!0,_A(C)):Z=!1,C.memoizedState=K.state!==null&&K.state!==void 0?K.state:null,cL(C),K.updater=jA,C.stateNode=K,K._reactInternals=C,EL(C,F,x,D),C=AL(null,C,F,!0,Z,D)):(C.tag=0,Vi&&Z&&eL(C),Ka(null,C,K,D),C=C.child),C;case 16:F=C.elementType;e:{switch(zA(x,C),x=C.pendingProps,K=F._init,F=K(F._payload),C.type=F,K=C.tag=g$e(F),x=id(F,x),K){case 0:C=kL(null,C,F,x,D);break e;case 1:C=One(null,C,F,x,D);break e;case 11:C=Ane(null,C,F,x,D);break e;case 14:C=Rne(null,C,F,id(F.type,x),D);break e}throw Error(n(306,F,""))}return C;case 0:return F=C.type,K=C.pendingProps,K=C.elementType===F?K:id(F,K),kL(x,C,F,K,D);case 1:return F=C.type,K=C.pendingProps,K=C.elementType===F?K:id(F,K),One(x,C,F,K,D);case 3:e:{if(Nne(C),x===null)throw Error(n(387));F=C.pendingProps,Z=C.memoizedState,K=Z.element,Kte(x,C),PA(C,F,null,D);var de=C.memoizedState;if(F=de.element,Z.isDehydrated)if(Z={element:F,isDehydrated:!1,cache:de.cache,pendingSuspenseBoundaries:de.pendingSuspenseBoundaries,transitions:de.transitions},C.updateQueue.baseState=Z,C.memoizedState=Z,C.flags&256){K=b1(Error(n(423)),C),C=Mne(x,C,F,D,K);break e}else if(F!==K){K=b1(Error(n(424)),C),C=Mne(x,C,F,D,K);break e}else for(yu=Qm(C.stateNode.containerInfo.firstChild),gu=C,Vi=!0,rd=null,D=Gte(C,null,F,D),C.child=D;D;)D.flags=D.flags&-3|4096,D=D.sibling;else{if(p1(),F===K){C=dp(x,C,D);break e}Ka(x,C,F,D)}C=C.child}return C;case 5:return Jte(C),x===null&&rL(C),F=C.type,K=C.pendingProps,Z=x!==null?x.memoizedProps:null,de=K.children,Y$(F,K)?de=null:Z!==null&&Y$(F,Z)&&(C.flags|=32),Pne(x,C),Ka(x,C,de,D),C.child;case 6:return x===null&&rL(C),null;case 13:return $ne(x,C,D);case 4:return dL(C,C.stateNode.containerInfo),F=C.pendingProps,x===null?C.child=m1(C,null,F,D):Ka(x,C,F,D),C.child;case 11:return F=C.type,K=C.pendingProps,K=C.elementType===F?K:id(F,K),Ane(x,C,F,K,D);case 7:return Ka(x,C,C.pendingProps,D),C.child;case 8:return Ka(x,C,C.pendingProps.children,D),C.child;case 12:return Ka(x,C,C.pendingProps.children,D),C.child;case 10:e:{if(F=C.type._context,K=C.pendingProps,Z=C.memoizedProps,de=K.value,Ti(RA,F._currentValue),F._currentValue=de,Z!==null)if(nd(Z.value,de)){if(Z.children===K.children&&!Pl.current){C=dp(x,C,D);break e}}else for(Z=C.child,Z!==null&&(Z.return=C);Z!==null;){var Ie=Z.dependencies;if(Ie!==null){de=Z.child;for(var Fe=Ie.firstContext;Fe!==null;){if(Fe.context===F){if(Z.tag===1){Fe=cp(-1,D&-D),Fe.tag=2;var Qe=Z.updateQueue;if(Qe!==null){Qe=Qe.shared;var yt=Qe.pending;yt===null?Fe.next=Fe:(Fe.next=yt.next,yt.next=Fe),Qe.pending=Fe}}Z.lanes|=D,Fe=Z.alternate,Fe!==null&&(Fe.lanes|=D),lL(Z.return,D,C),Ie.lanes|=D;break}Fe=Fe.next}}else if(Z.tag===10)de=Z.type===C.type?null:Z.child;else if(Z.tag===18){if(de=Z.return,de===null)throw Error(n(341));de.lanes|=D,Ie=de.alternate,Ie!==null&&(Ie.lanes|=D),lL(de,D,C),de=Z.sibling}else de=Z.child;if(de!==null)de.return=Z;else for(de=Z;de!==null;){if(de===C){de=null;break}if(Z=de.sibling,Z!==null){Z.return=de.return,de=Z;break}de=de.return}Z=de}Ka(x,C,K.children,D),C=C.child}return C;case 9:return K=C.type,F=C.pendingProps.children,y1(C,D),K=oc(K),F=F(K),C.flags|=1,Ka(x,C,F,D),C.child;case 14:return F=C.type,K=id(F,C.pendingProps),K=id(F.type,K),Rne(x,C,F,K,D);case 15:return Ine(x,C,C.type,C.pendingProps,D);case 17:return F=C.type,K=C.pendingProps,K=C.elementType===F?K:id(F,K),zA(x,C),C.tag=1,Ol(F)?(x=!0,_A(C)):x=!1,y1(C,D),xne(C,F,K),EL(C,F,K,D),AL(null,C,F,!0,x,D);case 19:return Fne(x,C,D);case 22:return Dne(x,C,D)}throw Error(n(156,C.tag))};function lre(x,C){return ec(x,C)}function m$e(x,C,D,F){this.tag=x,this.key=D,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=C,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=F,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lc(x,C,D,F){return new m$e(x,C,D,F)}function YL(x){return x=x.prototype,!(!x||!x.isReactComponent)}function g$e(x){if(typeof x=="function")return YL(x)?1:0;if(x!=null){if(x=x.$$typeof,x===N)return 11;if(x===j)return 14}return 2}function lg(x,C){var D=x.alternate;return D===null?(D=lc(x.tag,C,x.key,x.mode),D.elementType=x.elementType,D.type=x.type,D.stateNode=x.stateNode,D.alternate=x,x.alternate=D):(D.pendingProps=C,D.type=x.type,D.flags=0,D.subtreeFlags=0,D.deletions=null),D.flags=x.flags&14680064,D.childLanes=x.childLanes,D.lanes=x.lanes,D.child=x.child,D.memoizedProps=x.memoizedProps,D.memoizedState=x.memoizedState,D.updateQueue=x.updateQueue,C=x.dependencies,D.dependencies=C===null?null:{lanes:C.lanes,firstContext:C.firstContext},D.sibling=x.sibling,D.index=x.index,D.ref=x.ref,D}function JA(x,C,D,F,K,Z){var de=2;if(F=x,typeof x=="function")YL(x)&&(de=1);else if(typeof x=="string")de=5;else e:switch(x){case T:return Cy(D.children,K,Z,C);case k:de=8,K|=8;break;case R:return x=lc(12,D,C,K|2),x.elementType=R,x.lanes=Z,x;case M:return x=lc(13,D,C,K),x.elementType=M,x.lanes=Z,x;case O:return x=lc(19,D,C,K),x.elementType=O,x.lanes=Z,x;case q:return ZA(D,K,Z,C);default:if(typeof x=="object"&&x!==null)switch(x.$$typeof){case I:de=10;break e;case P:de=9;break e;case N:de=11;break e;case j:de=14;break e;case U:de=16,F=null;break e}throw Error(n(130,x==null?x:typeof x,""))}return C=lc(de,D,C,K),C.elementType=x,C.type=F,C.lanes=Z,C}function Cy(x,C,D,F){return x=lc(7,x,F,C),x.lanes=D,x}function ZA(x,C,D,F){return x=lc(22,x,F,C),x.elementType=q,x.lanes=D,x.stateNode={isHidden:!1},x}function KL(x,C,D){return x=lc(6,x,null,C),x.lanes=D,x}function XL(x,C,D){return C=lc(4,x.children!==null?x.children:[],x.key,C),C.lanes=D,C.stateNode={containerInfo:x.containerInfo,pendingChildren:null,implementation:x.implementation},C}function y$e(x,C,D,F,K){this.tag=C,this.containerInfo=x,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jt(0),this.expirationTimes=jt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jt(0),this.identifierPrefix=F,this.onRecoverableError=K,this.mutableSourceEagerHydrationData=null}function QL(x,C,D,F,K,Z,de,Ie,Fe){return x=new y$e(x,C,D,Ie,Fe),C===1?(C=1,Z===!0&&(C|=8)):C=0,Z=lc(3,null,null,C),x.current=Z,Z.stateNode=x,Z.memoizedState={element:F,isDehydrated:D,cache:null,transitions:null,pendingSuspenseBoundaries:null},cL(Z),x}function v$e(x,C,D){var F=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:S,key:F==null?null:""+F,children:x,containerInfo:C,implementation:D}}function ure(x){if(!x)return Zm;x=x._reactInternals;e:{if(Fn(x)!==x||x.tag!==1)throw Error(n(170));var C=x;do{switch(C.tag){case 3:C=C.stateNode.context;break e;case 1:if(Ol(C.type)){C=C.stateNode.__reactInternalMemoizedMergedChildContext;break e}}C=C.return}while(C!==null);throw Error(n(171))}if(x.tag===1){var D=x.type;if(Ol(D))return Lte(x,D,C)}return C}function cre(x,C,D,F,K,Z,de,Ie,Fe){return x=QL(D,F,!0,x,K,Z,de,Ie,Fe),x.context=ure(null),D=x.current,F=Xa(),K=sg(D),Z=cp(F,K),Z.callback=C??null,ng(D,Z,K),x.current.lanes=K,Pn(x,K,F),$l(x,F),x}function eR(x,C,D,F){var K=C.current,Z=Xa(),de=sg(K);return D=ure(D),C.context===null?C.context=D:C.pendingContext=D,C=cp(Z,de),C.payload={element:x},F=F===void 0?null:F,F!==null&&(C.callback=F),x=ng(K,C,de),x!==null&&(ad(x,K,de,Z),DA(x,K,de)),de}function tR(x){if(x=x.current,!x.child)return null;switch(x.child.tag){case 5:return x.child.stateNode;default:return x.child.stateNode}}function dre(x,C){if(x=x.memoizedState,x!==null&&x.dehydrated!==null){var D=x.retryLane;x.retryLane=D!==0&&D<C?D:C}}function JL(x,C){dre(x,C),(x=x.alternate)&&dre(x,C)}function b$e(){return null}var fre=typeof reportError=="function"?reportError:function(x){console.error(x)};function ZL(x){this._internalRoot=x}nR.prototype.render=ZL.prototype.render=function(x){var C=this._internalRoot;if(C===null)throw Error(n(409));eR(x,C,null,null)},nR.prototype.unmount=ZL.prototype.unmount=function(){var x=this._internalRoot;if(x!==null){this._internalRoot=null;var C=x.containerInfo;by(function(){eR(null,x,null,null)}),C[op]=null}};function nR(x){this._internalRoot=x}nR.prototype.unstable_scheduleHydration=function(x){if(x){var C=Rf();x={blockedOn:null,target:x,priority:C};for(var D=0;D<pa.length&&C!==0&&C<pa[D].priority;D++);pa.splice(D,0,x),D===0&&Pf(x)}};function eF(x){return!(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)}function rR(x){return!(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11&&(x.nodeType!==8||x.nodeValue!==" react-mount-point-unstable "))}function hre(){}function w$e(x,C,D,F,K){if(K){if(typeof F=="function"){var Z=F;F=function(){var Qe=tR(de);Z.call(Qe)}}var de=cre(C,F,x,0,null,!1,!1,"",hre);return x._reactRootContainer=de,x[op]=de.current,o_(x.nodeType===8?x.parentNode:x),by(),de}for(;K=x.lastChild;)x.removeChild(K);if(typeof F=="function"){var Ie=F;F=function(){var Qe=tR(Fe);Ie.call(Qe)}}var Fe=QL(x,0,!1,null,null,!1,!1,"",hre);return x._reactRootContainer=Fe,x[op]=Fe.current,o_(x.nodeType===8?x.parentNode:x),by(function(){eR(C,Fe,D,F)}),Fe}function iR(x,C,D,F,K){var Z=D._reactRootContainer;if(Z){var de=Z;if(typeof K=="function"){var Ie=K;K=function(){var Fe=tR(de);Ie.call(Fe)}}eR(C,de,x,K)}else de=w$e(D,C,x,K,F);return tR(de)}Eo=function(x){switch(x.tag){case 3:var C=x.stateNode;if(C.current.memoizedState.isDehydrated){var D=je(C.pendingLanes);D!==0&&(Qn(C,D|1),$l(C,dr()),(Nr&6)===0&&(C1=dr()+500,eg()))}break;case 13:by(function(){var F=up(x,1);if(F!==null){var K=Xa();ad(F,x,1,K)}}),JL(x,1)}},ha=function(x){if(x.tag===13){var C=up(x,134217728);if(C!==null){var D=Xa();ad(C,x,134217728,D)}JL(x,134217728)}},So=function(x){if(x.tag===13){var C=sg(x),D=up(x,C);if(D!==null){var F=Xa();ad(D,x,C,F)}JL(x,C)}},Rf=function(){return Wt},tc=function(x,C){var D=Wt;try{return Wt=x,C()}finally{Wt=D}},Xn=function(x,C,D){switch(C){case"input":if(re(x,D),C=D.name,D.type==="radio"&&C!=null){for(D=x;D.parentNode;)D=D.parentNode;for(D=D.querySelectorAll("input[name="+JSON.stringify(""+C)+'][type="radio"]'),C=0;C<D.length;C++){var F=D[C];if(F!==x&&F.form===x.form){var K=xA(F);if(!K)throw Error(n(90));se(F),re(F,K)}}}break;case"textarea":xe(x,D);break;case"select":C=D.value,C!=null&&Oe(x,!!D.multiple,C,!1)}},br=VL,Sn=by;var x$e={usingClientEntryPoint:!1,Events:[l_,u1,xA,rr,ii,VL]},C_={findFiberByHostInstance:dy,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},C$e={bundleType:C_.bundleType,version:C_.version,rendererPackageName:C_.rendererPackageName,rendererConfig:C_.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(x){return x=Zc(x),x===null?null:x.stateNode},findFiberByHostInstance:C_.findFiberByHostInstance||b$e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oR=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oR.isDisabled&&oR.supportsFiber)try{Al=oR.inject(C$e),Co=oR}catch{}}return Ll.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x$e,Ll.createPortal=function(x,C){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eF(C))throw Error(n(200));return v$e(x,C,null,D)},Ll.createRoot=function(x,C){if(!eF(x))throw Error(n(299));var D=!1,F="",K=fre;return C!=null&&(C.unstable_strictMode===!0&&(D=!0),C.identifierPrefix!==void 0&&(F=C.identifierPrefix),C.onRecoverableError!==void 0&&(K=C.onRecoverableError)),C=QL(x,1,!1,null,null,D,!1,F,K),x[op]=C.current,o_(x.nodeType===8?x.parentNode:x),new ZL(C)},Ll.findDOMNode=function(x){if(x==null)return null;if(x.nodeType===1)return x;var C=x._reactInternals;if(C===void 0)throw typeof x.render=="function"?Error(n(188)):(x=Object.keys(x).join(","),Error(n(268,x)));return x=Zc(C),x=x===null?null:x.stateNode,x},Ll.flushSync=function(x){return by(x)},Ll.hydrate=function(x,C,D){if(!rR(C))throw Error(n(200));return iR(null,x,C,!0,D)},Ll.hydrateRoot=function(x,C,D){if(!eF(x))throw Error(n(405));var F=D!=null&&D.hydratedSources||null,K=!1,Z="",de=fre;if(D!=null&&(D.unstable_strictMode===!0&&(K=!0),D.identifierPrefix!==void 0&&(Z=D.identifierPrefix),D.onRecoverableError!==void 0&&(de=D.onRecoverableError)),C=cre(C,null,x,1,D??null,K,!1,Z,de),x[op]=C.current,o_(x),F)for(x=0;x<F.length;x++)D=F[x],K=D._getVersion,K=K(D._source),C.mutableSourceEagerHydrationData==null?C.mutableSourceEagerHydrationData=[D,K]:C.mutableSourceEagerHydrationData.push(D,K);return new nR(C)},Ll.render=function(x,C,D){if(!rR(C))throw Error(n(200));return iR(null,x,C,!1,D)},Ll.unmountComponentAtNode=function(x){if(!rR(x))throw Error(n(40));return x._reactRootContainer?(by(function(){iR(null,null,x,!1,function(){x._reactRootContainer=null,x[op]=null})}),!0):!1},Ll.unstable_batchedUpdates=VL,Ll.unstable_renderSubtreeIntoContainer=function(x,C,D,F){if(!rR(D))throw Error(n(200));if(x==null||x._reactInternals===void 0)throw Error(n(38));return iR(x,C,D,!1,F)},Ll.version="18.3.1-next-f1338f8080-20240426",Ll}var xre;function Tye(){if(xre)return rF.exports;xre=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),rF.exports=P$e(),rF.exports}var Cre;function O$e(){if(Cre)return sR;Cre=1;var e=Tye();return sR.createRoot=e.createRoot,sR.hydrateRoot=e.hydrateRoot,sR}var N$e=O$e();const M$e=Xo(N$e);var Qf=function(){return Qf=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Qf.apply(this,arguments)};function a4(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function d3(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}function $$e(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var TD="right-scroll-bar-position",kD="width-before-scroll-bar",L$e="with-scroll-bars-hidden",F$e="--removed-body-scroll-bar-size";function sF(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function j$e(e,t){var n=A.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var B$e=typeof window<"u"?A.useLayoutEffect:A.useEffect,_re=new WeakMap;function z$e(e,t){var n=j$e(null,function(r){return e.forEach(function(i){return sF(i,r)})});return B$e(function(){var r=_re.get(n);if(r){var i=new Set(r),o=new Set(e),s=n.current;i.forEach(function(a){o.has(a)||sF(a,null)}),o.forEach(function(a){i.has(a)||sF(a,s)})}_re.set(n,e)},[e]),n}function U$e(e){return e}function H$e(e,t){t===void 0&&(t=U$e);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var s=t(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var c=s;s=[],c.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(c){s.push(c),u()},filter:function(c){return s=s.filter(c),n}}}};return i}function q$e(e){e===void 0&&(e={});var t=H$e(null);return t.options=Qf({async:!0,ssr:!1},e),t}var kye=function(e){var t=e.sideCar,n=a4(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return A.createElement(r,Qf({},n))};kye.isSideCarExport=!0;function V$e(e,t){return e.useMedium(t),kye}var Aye=q$e(),aF=function(){},l4=A.forwardRef(function(e,t){var n=A.useRef(null),r=A.useState({onScrollCapture:aF,onWheelCapture:aF,onTouchMoveCapture:aF}),i=r[0],o=r[1],s=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,c=e.enabled,d=e.shards,f=e.sideCar,h=e.noRelative,m=e.noIsolation,p=e.inert,g=e.allowPinchZoom,v=e.as,y=v===void 0?"div":v,w=e.gapMode,_=a4(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=f,S=z$e([n,t]),T=Qf(Qf({},_),i);return A.createElement(A.Fragment,null,c&&A.createElement(E,{sideCar:Aye,removeScrollBar:u,shards:d,noRelative:h,noIsolation:m,inert:p,setCallbacks:o,allowPinchZoom:!!g,lockRef:n,gapMode:w}),s?A.cloneElement(A.Children.only(a),Qf(Qf({},T),{ref:S})):A.createElement(y,Qf({},T,{className:l,ref:S}),a))});l4.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};l4.classNames={fullWidth:kD,zeroRight:TD};var W$e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function G$e(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=W$e();return t&&e.setAttribute("nonce",t),e}function Y$e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function K$e(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var X$e=function(){var e=0,t=null;return{add:function(n){e==0&&(t=G$e())&&(Y$e(t,n),K$e(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Q$e=function(){var e=X$e();return function(t,n){A.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Rye=function(){var e=Q$e(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},J$e={left:0,top:0,right:0,gap:0},lF=function(e){return parseInt(e||"",10)||0},Z$e=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[lF(n),lF(r),lF(i)]},eLe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return J$e;var t=Z$e(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},tLe=Rye(),_w="data-scroll-locked",nLe=function(e,t,n,r){var i=e.left,o=e.top,s=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(L$e,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(_w,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(TD,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(kD,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(TD," .").concat(TD,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(kD," .").concat(kD,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(_w,`] {
    `).concat(F$e,": ").concat(a,`px;
  }
`)},Ere=function(){var e=parseInt(document.body.getAttribute(_w)||"0",10);return isFinite(e)?e:0},rLe=function(){A.useEffect(function(){return document.body.setAttribute(_w,(Ere()+1).toString()),function(){var e=Ere()-1;e<=0?document.body.removeAttribute(_w):document.body.setAttribute(_w,e.toString())}},[])},iLe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;rLe();var o=A.useMemo(function(){return eLe(i)},[i]);return A.createElement(tLe,{styles:nLe(o,!t,i,n?"":"!important")})},g7=!1;if(typeof window<"u")try{var aR=Object.defineProperty({},"passive",{get:function(){return g7=!0,!0}});window.addEventListener("test",aR,aR),window.removeEventListener("test",aR,aR)}catch{g7=!1}var E1=g7?{passive:!1}:!1,oLe=function(e){return e.tagName==="TEXTAREA"},Iye=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!oLe(e)&&n[t]==="visible")},sLe=function(e){return Iye(e,"overflowY")},aLe=function(e){return Iye(e,"overflowX")},Sre=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Dye(e,r);if(i){var o=Pye(e,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},lLe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},uLe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Dye=function(e,t){return e==="v"?sLe(t):aLe(t)},Pye=function(e,t){return e==="v"?lLe(t):uLe(t)},cLe=function(e,t){return e==="h"&&t==="rtl"?-1:1},dLe=function(e,t,n,r,i){var o=cLe(e,window.getComputedStyle(t).direction),s=o*r,a=n.target,l=t.contains(a),u=!1,c=s>0,d=0,f=0;do{if(!a)break;var h=Pye(e,a),m=h[0],p=h[1],g=h[2],v=p-g-o*m;(m||v)&&Dye(e,a)&&(d+=v,f+=m);var y=a.parentNode;a=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(c&&Math.abs(d)<1||!c&&Math.abs(f)<1)&&(u=!0),u},lR=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Tre=function(e){return[e.deltaX,e.deltaY]},kre=function(e){return e&&"current"in e?e.current:e},fLe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},hLe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},pLe=0,S1=[];function mLe(e){var t=A.useRef([]),n=A.useRef([0,0]),r=A.useRef(),i=A.useState(pLe++)[0],o=A.useState(Rye)[0],s=A.useRef(e);A.useEffect(function(){s.current=e},[e]),A.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var p=$$e([e.lockRef.current],(e.shards||[]).map(kre),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=A.useCallback(function(p,g){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!s.current.allowPinchZoom;var v=lR(p),y=n.current,w="deltaX"in p?p.deltaX:y[0]-v[0],_="deltaY"in p?p.deltaY:y[1]-v[1],E,S=p.target,T=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in p&&T==="h"&&S.type==="range")return!1;var k=Sre(T,S);if(!k)return!0;if(k?E=T:(E=T==="v"?"h":"v",k=Sre(T,S)),!k)return!1;if(!r.current&&"changedTouches"in p&&(w||_)&&(r.current=E),!E)return!0;var R=r.current||E;return dLe(R,g,p,R==="h"?w:_)},[]),l=A.useCallback(function(p){var g=p;if(!(!S1.length||S1[S1.length-1]!==o)){var v="deltaY"in g?Tre(g):lR(g),y=t.current.filter(function(E){return E.name===g.type&&(E.target===g.target||g.target===E.shadowParent)&&fLe(E.delta,v)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var w=(s.current.shards||[]).map(kre).filter(Boolean).filter(function(E){return E.contains(g.target)}),_=w.length>0?a(g,w[0]):!s.current.noIsolation;_&&g.cancelable&&g.preventDefault()}}},[]),u=A.useCallback(function(p,g,v,y){var w={name:p,delta:g,target:v,should:y,shadowParent:gLe(v)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),c=A.useCallback(function(p){n.current=lR(p),r.current=void 0},[]),d=A.useCallback(function(p){u(p.type,Tre(p),p.target,a(p,e.lockRef.current))},[]),f=A.useCallback(function(p){u(p.type,lR(p),p.target,a(p,e.lockRef.current))},[]);A.useEffect(function(){return S1.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,E1),document.addEventListener("touchmove",l,E1),document.addEventListener("touchstart",c,E1),function(){S1=S1.filter(function(p){return p!==o}),document.removeEventListener("wheel",l,E1),document.removeEventListener("touchmove",l,E1),document.removeEventListener("touchstart",c,E1)}},[]);var h=e.removeScrollBar,m=e.inert;return A.createElement(A.Fragment,null,m?A.createElement(o,{styles:hLe(i)}):null,h?A.createElement(iLe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function gLe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const yLe=V$e(Aye,mLe);var Xw=A.forwardRef(function(e,t){return A.createElement(l4,Qf({},e,{ref:t,sideCar:yLe}))});Xw.classNames=l4.classNames;function _i(e){return Object.keys(e)}function uF(e){return e&&typeof e=="object"&&!Array.isArray(e)}function Zq(e,t){const n={...e},r=t;return uF(e)&&uF(t)&&Object.keys(t).forEach(i=>{uF(r[i])&&i in e?n[i]=Zq(n[i],r[i]):n[i]=r[i]}),n}function vLe(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function bLe(e){return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:e.match(/^calc\((.*?)\)$/)?.[1].split("*")[0].trim()}function QS(e){const t=bLe(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function cF(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function Oye(e,{shouldScale:t=!1}={}){function n(r){if(r===0||r==="0")return`0${e}`;if(typeof r=="number"){const i=`${r/16}${e}`;return t?cF(i):i}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(o=>n(o)).join(",");if(r.includes(" "))return r.split(" ").map(o=>n(o)).join(" ");if(r.includes(e))return t?cF(r):r;const i=r.replace("px","");if(!Number.isNaN(Number(i))){const o=`${Number(i)/16}${e}`;return t?cF(o):o}}return r}return n}const Ye=Oye("rem",{shouldScale:!0}),f3=Oye("em");function $0(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}function Nye(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(r=>t.test(r))}return!1}function _m(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==A.Fragment:!1}function ua(e){const t=A.createContext(null);return[({children:i,value:o})=>b.jsx(t.Provider,{value:o,children:i}),()=>{const i=A.useContext(t);if(i===null)throw new Error(e);return i}]}function Em(e=null){const t=A.createContext(e);return[({children:i,value:o})=>b.jsx(t.Provider,{value:o,children:i}),()=>A.useContext(t)]}function Are(e,t){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(t);return`${e}-${n}`}}function h3(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function wLe(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function xLe(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function CLe(e,t,n){return h3(e,n)===h3(t,n)}function Mye({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:o="rtl",orientation:s}){return a=>{n?.(a);const l=Array.from(h3(a.currentTarget,e)?.querySelectorAll(t)||[]).filter(m=>CLe(a.currentTarget,m,e)),u=l.findIndex(m=>a.currentTarget===m),c=xLe(u,l,r),d=wLe(u,l,r),f=o==="rtl"?d:c,h=o==="rtl"?c:d;switch(a.key){case"ArrowRight":{s==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[f].focus(),i&&l[f].click());break}case"ArrowLeft":{s==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[h].focus(),i&&l[h].click());break}case"ArrowUp":{s==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[d].focus(),i&&l[d].click());break}case"ArrowDown":{s==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[c].focus(),i&&l[c].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const m=l.length-1;!l[m].disabled&&l[m].focus();break}}}}const _Le={app:100,modal:200,popover:300,overlay:400,max:9999};function ou(e){return _Le[e]}const p3=()=>{};function ELe(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||p3:n=>{n.key==="Escape"&&(e(n),t.onTrigger?.())}}function hn(e,t="size",n=!0){if(e!==void 0)return Nye(e)?n?Ye(e):e:`var(--${t}-${e})`}function Di(e){return hn(e,"mantine-spacing")}function jr(e){return e===void 0?"var(--mantine-radius-default)":hn(e,"mantine-radius")}function lo(e){return hn(e,"mantine-font-size")}function $ye(e){return hn(e,"mantine-line-height",!1)}function eV(e){if(e)return hn(e,"mantine-shadow",!1)}function Ts(e,t){return n=>{e?.(n),t?.(n)}}function tV(e,t){return e in t?QS(t[e]):QS(e)}function JS(e,t){const n=e.map(r=>({value:r,px:tV(r,t)}));return n.sort((r,i)=>r.px-i.px),n}function Td(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function SLe(e,t,n){return n?Array.from(h3(n,t)?.querySelectorAll(e)||[]).findIndex(r=>r===n):null}function TLe(){const[e,t]=A.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function Tc(e,t,n){return t===void 0&&n===void 0?e:t!==void 0&&n===void 0?Math.max(e,t):Math.min(t===void 0&&n!==void 0?e:Math.max(e,t),n)}function Qg(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function kLe(e,t){if(e===t||Number.isNaN(e)&&Number.isNaN(t))return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;const n=Object.keys(e),{length:r}=n;if(r!==Object.keys(t).length)return!1;for(let i=0;i<r;i+=1){const o=n[i];if(!(o in t)||e[o]!==t[o]&&!(Number.isNaN(e[o])&&Number.isNaN(t[o])))return!1}return!0}function Pg(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e}),A.useMemo(()=>(...n)=>t.current?.(...n),[])}function u4(e,t){const n=typeof t=="number"?t:t.delay,r=typeof t=="number"?!1:t.flushOnUnmount,i=Pg(e),o=A.useRef(0),s=A.useRef(()=>{}),a=Object.assign(A.useCallback((...l)=>{window.clearTimeout(o.current);const u=()=>{o.current!==0&&(o.current=0,i(...l))};s.current=u,a.flush=u,o.current=window.setTimeout(u,n)},[i,n]),{flush:s.current});return A.useEffect(()=>()=>{window.clearTimeout(o.current),r&&a.flush()},[a,r]),a}const Rre=["mousedown","touchstart"];function Lye(e,t,n){const r=A.useRef(null);return A.useEffect(()=>{const i=o=>{const{target:s}=o??{};if(Array.isArray(n)){const a=s?.hasAttribute("data-ignore-outside-clicks")||!document.body.contains(s)&&s.tagName!=="HTML";n.every(u=>!!u&&!o.composedPath().includes(u))&&!a&&e()}else r.current&&!r.current.contains(s)&&e()};return(t||Rre).forEach(o=>document.addEventListener(o,i)),()=>{(t||Rre).forEach(o=>document.removeEventListener(o,i))}},[r,e,n]),r}function ALe({timeout:e=2e3}={}){const[t,n]=A.useState(null),[r,i]=A.useState(!1),[o,s]=A.useState(null),a=c=>{window.clearTimeout(o),s(window.setTimeout(()=>i(!1),e)),i(c)};return{copy:c=>{"clipboard"in navigator?navigator.clipboard.writeText(c).then(()=>a(!0)).catch(d=>n(d)):n(new Error("useClipboard: navigator.clipboard is not supported"))},reset:()=>{i(!1),n(null),window.clearTimeout(o)},error:t,copied:r}}function RLe(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function ILe(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function ZS(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=A.useState(n?t:ILe(e)),o=A.useRef(null);return A.useEffect(()=>{if("matchMedia"in window)return o.current=window.matchMedia(e),i(o.current.matches),RLe(o.current,s=>i(s.matches))},[e]),r}function DLe(e,t){return ZS("(prefers-color-scheme: dark)",e==="dark",t)?"dark":"light"}function Fye(e,t,n={leading:!1}){const[r,i]=A.useState(e),o=A.useRef(!1),s=A.useRef(null),a=A.useRef(!1),l=()=>window.clearTimeout(s.current);return A.useEffect(()=>{o.current&&(!a.current&&n.leading?(a.current=!0,i(e)):(l(),s.current=window.setTimeout(()=>{a.current=!1,i(e)},t)))},[e,n.leading,t]),A.useEffect(()=>(o.current=!0,l),[]),[r,l]}const L0=typeof document<"u"?A.useLayoutEffect:A.useEffect;function vl(e,t){const n=A.useRef(!1);A.useEffect(()=>()=>{n.current=!1},[]),A.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function jye({opened:e,shouldReturnFocus:t=!0}){const n=A.useRef(null),r=()=>{n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&n.current?.focus({preventScroll:!0})};return vl(()=>{let i=-1;const o=s=>{s.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",o),e?n.current=document.activeElement:t&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",o)}},[e,t]),r}const PLe=/input|select|textarea|button|object/,Bye="a, input, select, textarea, button, object, [tabindex]";function OLe(e){return e.style.display==="none"}function NLe(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(OLe(n))return!1;n=n.parentNode}return!0}function zye(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function y7(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(zye(e));return(PLe.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&NLe(e)}function Uye(e){const t=zye(e);return(Number.isNaN(t)||t>=0)&&y7(e)}function MLe(e){return Array.from(e.querySelectorAll(Bye)).filter(Uye)}function $Le(e,t){const n=MLe(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],i=e.getRootNode();let o=r===i.activeElement||e===i.activeElement;const s=i.activeElement;if(s.tagName==="INPUT"&&s.getAttribute("type")==="radio"&&(o=n.filter(c=>c.getAttribute("type")==="radio"&&c.getAttribute("name")===s.getAttribute("name")).includes(r)),!o)return;t.preventDefault();const l=n[t.shiftKey?n.length-1:0];l&&l.focus()}function LLe(e=!0){const t=A.useRef(null),n=i=>{let o=i.querySelector("[data-autofocus]");if(!o){const s=Array.from(i.querySelectorAll(Bye));o=s.find(Uye)||s.find(y7)||null,!o&&y7(i)&&(o=i)}o&&o.focus({preventScroll:!0})},r=A.useCallback(i=>{e&&i!==null&&t.current!==i&&(i?(setTimeout(()=>{i.getRootNode()&&n(i)}),t.current=i):t.current=null)},[e]);return A.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>n(t.current));const i=o=>{o.key==="Tab"&&t.current&&$Le(t.current,o)};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[e]),r}const FLe=e=>(e+1)%1e6;function jLe(){const[,e]=A.useReducer(FLe,0);return e}const BLe=un.useId||(()=>{});function zLe(){const e=BLe();return e?`mantine-${e.replace(/:/g,"")}`:""}function Ha(e){const t=zLe(),[n,r]=A.useState(t);return L0(()=>{r(Qg())},[]),typeof e=="string"?e:typeof window>"u"?t:n}function Hye(e,t,n){A.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function m3(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function qye(...e){const t=new Map;return n=>{if(e.forEach(r=>{const i=m3(r,n);i&&t.set(r,i)}),t.size>0)return()=>{e.forEach(r=>{const i=t.get(r);i?i():m3(r,null)}),t.clear()}}}function uo(...e){return A.useCallback(qye(...e),e)}function Vye(e){return{x:Tc(e.x,0,1),y:Tc(e.y,0,1)}}function hT(e,t,n="ltr"){const r=A.useRef(null),i=A.useRef(!1),o=A.useRef(!1),s=A.useRef(0),[a,l]=A.useState(!1);return A.useEffect(()=>{i.current=!0},[]),A.useEffect(()=>{const u=r.current,c=({x:w,y:_})=>{cancelAnimationFrame(s.current),s.current=requestAnimationFrame(()=>{if(i.current&&u){u.style.userSelect="none";const E=u.getBoundingClientRect();if(E.width&&E.height){const S=Tc((w-E.left)/E.width,0,1);e({x:n==="ltr"?S:1-S,y:Tc((_-E.top)/E.height,0,1)})}}})},d=()=>{document.addEventListener("mousemove",g),document.addEventListener("mouseup",m),document.addEventListener("touchmove",y),document.addEventListener("touchend",m)},f=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",m),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",m)},h=()=>{!o.current&&i.current&&(o.current=!0,typeof t?.onScrubStart=="function"&&t.onScrubStart(),l(!0),d())},m=()=>{o.current&&i.current&&(o.current=!1,l(!1),f(),setTimeout(()=>{typeof t?.onScrubEnd=="function"&&t.onScrubEnd()},0))},p=w=>{h(),w.preventDefault(),g(w)},g=w=>c({x:w.clientX,y:w.clientY}),v=w=>{w.cancelable&&w.preventDefault(),h(),y(w)},y=w=>{w.cancelable&&w.preventDefault(),c({x:w.changedTouches[0].clientX,y:w.changedTouches[0].clientY})};return u?.addEventListener("mousedown",p),u?.addEventListener("touchstart",v,{passive:!1}),()=>{u&&(u.removeEventListener("mousedown",p),u.removeEventListener("touchstart",v))}},[n,e]),{ref:r,active:a}}function qi({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[i,o]=A.useState(t!==void 0?t:n),s=(a,...l)=>{o(a),r?.(a,...l)};return e!==void 0?[e,r,!0]:[i,s,!1]}function cg(e,t){const n=t-e+1;return Array.from({length:n},(r,i)=>i+e)}const uR="dots";function ULe({total:e,siblings:t=1,boundaries:n=1,page:r,initialPage:i=1,onChange:o}){const s=Math.max(Math.trunc(e),0),[a,l]=qi({value:r,onChange:o,defaultValue:i,finalValue:i}),u=p=>{p<=0?l(1):p>s?l(s):l(p)},c=()=>u(a+1),d=()=>u(a-1),f=()=>u(1),h=()=>u(s);return{range:A.useMemo(()=>{if(t*2+3+n*2>=s)return cg(1,s);const g=Math.max(a-t,n),v=Math.min(a+t,s-n),y=g>n+2,w=v<s-(n+1);if(!y&&w){const _=t*2+n+2;return[...cg(1,_),uR,...cg(s-(n-1),s)]}if(y&&!w){const _=n+1+2*t;return[...cg(1,n),uR,...cg(s-_,s)]}return[...cg(1,n),uR,...cg(g,v),uR,...cg(s-n+1,s)]},[s,t,a]),active:a,setPage:u,next:c,previous:d,first:f,last:h}}function c4(e,t){return ZS("(prefers-reduced-motion: reduce)",e,t)}const HLe={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function bb(e){const t=A.useRef(0),n=A.useRef(null),[r,i]=A.useState(HLe),o=A.useMemo(()=>typeof window<"u"?new ResizeObserver(s=>{const a=s[0];a&&(cancelAnimationFrame(t.current),t.current=requestAnimationFrame(()=>{if(n.current){const l=a.borderBoxSize?.[0]||a.contentBoxSize?.[0];if(l){const u=l.inlineSize,c=l.blockSize;i({width:u,height:c,x:a.contentRect.x,y:a.contentRect.y,top:a.contentRect.top,left:a.contentRect.left,bottom:a.contentRect.bottom,right:a.contentRect.right})}else i(a.contentRect)}}))}):null,[]);return A.useEffect(()=>(n.current&&o?.observe(n.current,e),()=>{o?.disconnect(),t.current&&cancelAnimationFrame(t.current)}),[n.current]),[n,r]}function qLe(e){const[t,{width:n,height:r}]=bb(e);return{ref:t,width:n,height:r}}function VLe(e,t){if(!e||!t)return!1;if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1)if(!kLe(e[n],t[n]))return!1;return!0}function WLe(e){const t=A.useRef([]),n=A.useRef(0);return VLe(t.current,e)||(t.current=e,n.current+=1),[n.current]}function GLe(e,t){A.useEffect(e,WLe(t))}function YLe(){const[e,t]=A.useState(!1),n=A.useRef(null),r=A.useCallback(()=>t(!0),[]),i=A.useCallback(()=>t(!1),[]);return A.useEffect(()=>{const o=n.current;if(o)return o.addEventListener("mouseenter",r),o.addEventListener("mouseleave",i),()=>{o?.removeEventListener("mouseenter",r),o?.removeEventListener("mouseleave",i)}},[n.current]),{ref:n,hovered:e}}function nV(e=!1,t){const{onOpen:n,onClose:r}=t||{},[i,o]=A.useState(e),s=A.useCallback(()=>{o(u=>u||(n?.(),!0))},[n]),a=A.useCallback(()=>{o(u=>u&&(r?.(),!1))},[r]),l=A.useCallback(()=>{i?a():s()},[a,s,i]);return[i,{open:s,close:a,toggle:l}]}function KLe(e,t,n={autoInvoke:!1}){const r=A.useRef(null),i=A.useCallback((...s)=>{r.current||(r.current=window.setTimeout(()=>{e(s),r.current=null},t))},[t]),o=A.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]);return A.useEffect(()=>(n.autoInvoke&&i(),o),[o,i]),{start:i,clear:o}}function XLe(e){const t=A.useRef(void 0);return A.useEffect(()=>{t.current=e},[e]),t.current}function QLe(){return navigator.userAgent.includes("OPR")}function JLe(){const[e,t]=A.useState(!1);L0(()=>{t(typeof window<"u"&&!QLe()&&"EyeDropper"in window)},[]);const n=A.useCallback((r={})=>e?new window.EyeDropper().open(r):Promise.resolve(void 0),[e]);return{supported:e,open:n}}function ZLe(e,t,n){const r=A.useRef(null),i=A.useRef(null);return A.useEffect(()=>{const o=typeof n=="function"?n():n;return(o||i.current)&&(r.current=new MutationObserver(e),r.current.observe(o||i.current,t)),()=>{r.current?.disconnect()}},[e,t]),i}function eFe(){const[e,t]=A.useState(!1);return A.useEffect(()=>t(!0),[]),e}function tFe(e,t){const n=Pg(e),r=A.useRef(null),i=A.useRef(null),o=A.useRef(!0),s=A.useRef(t),a=A.useRef(-1),l=()=>window.clearTimeout(a.current),u=A.useCallback((...f)=>{n(...f),r.current=f,i.current=f,o.current=!1},[n]),c=A.useCallback(()=>{r.current&&r.current!==i.current?(u(...r.current),a.current=window.setTimeout(c,s.current)):o.current=!0},[u]),d=A.useCallback((...f)=>{o.current?(u(...f),a.current=window.setTimeout(c,s.current)):r.current=f},[u,c]);return A.useEffect(()=>{s.current=t},[t]),[d,l]}function nFe(e,t){return tFe(e,t)[0]}function rFe(e,t){window.dispatchEvent(new CustomEvent(e,{detail:t}))}function iFe(e){function t(r){const i=Object.keys(r).reduce((o,s)=>(o[`${e}:${s}`]=a=>r[s](a.detail),o),{});L0(()=>(Object.keys(i).forEach(o=>{window.removeEventListener(o,i[o]),window.addEventListener(o,i[o])}),()=>Object.keys(i).forEach(o=>{window.removeEventListener(o,i[o])})),[i])}function n(r){return(...i)=>rFe(`${e}:${String(r)}`,i[0])}return[t,n]}var oFe={};function Wye(){return typeof process<"u"&&oFe?"production":"development"}function v7(e,t){return t.length===0?e:t.reduce((n,r)=>Math.abs(r-e)<Math.abs(n-e)?r:n)}function d4(e){const t=un.version;return typeof un.version!="string"||t.startsWith("18.")?e?.ref:e?.props?.ref}function Gye(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Gye(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Nt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Gye(e))&&(r&&(r+=" "),r+=t);return r}const sFe={};function aFe(e){const t={};return e.forEach(n=>{Object.entries(n).forEach(([r,i])=>{t[r]?t[r]=Nt(t[r],i):t[r]=i})}),t}function f4({theme:e,classNames:t,props:n,stylesCtx:r}){const o=(Array.isArray(t)?t:[t]).map(s=>typeof s=="function"?s(e,n,r):s||sFe);return aFe(o)}function g3({theme:e,styles:t,props:n,stylesCtx:r}){return(Array.isArray(t)?t:[t]).reduce((o,s)=>typeof s=="function"?{...o,...s(e,n,r)}:{...o,...s},{})}const rV=A.createContext(null);function Sm(){const e=A.useContext(rV);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function lFe(){return Sm().cssVariablesResolver}function uFe(){return Sm().classNamesPrefix}function h4(){return Sm().getStyleNonce}function cFe(){return Sm().withStaticClasses}function dFe(){return Sm().headless}function fFe(){return Sm().stylesTransform?.sx}function hFe(){return Sm().stylesTransform?.styles}function Yye(){return Sm().env||"default"}function pFe(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function mFe(e){let t=e.replace("#","");if(t.length===3){const s=t.split("");t=[s[0],s[0],s[1],s[1],s[2],s[2]].join("")}if(t.length===8){const s=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:s}}const n=parseInt(t,16),r=n>>16&255,i=n>>8&255,o=n&255;return{r,g:i,b:o,a:1}}function gFe(e){const[t,n,r,i]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:n,b:r,a:i===void 0?1:i}}function yFe(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=e.match(t);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),i=parseInt(n[2],10)/100,o=parseInt(n[3],10)/100,s=n[5]?parseFloat(n[5]):void 0,a=(1-Math.abs(2*o-1))*i,l=r/60,u=a*(1-Math.abs(l%2-1)),c=o-a/2;let d,f,h;return l>=0&&l<1?(d=a,f=u,h=0):l>=1&&l<2?(d=u,f=a,h=0):l>=2&&l<3?(d=0,f=a,h=u):l>=3&&l<4?(d=0,f=u,h=a):l>=4&&l<5?(d=u,f=0,h=a):(d=a,f=0,h=u),{r:Math.round((d+c)*255),g:Math.round((f+c)*255),b:Math.round((h+c)*255),a:s||1}}function p4(e){return pFe(e)?mFe(e):e.startsWith("rgb")?gFe(e):e.startsWith("hsl")?yFe(e):{r:0,g:0,b:0,a:1}}function bE(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r:n,g:r,b:i,a:o}=p4(e),s=1-t,a=l=>Math.round(l*s);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${o})`}function e2(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function dF(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function vFe(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function bFe(e){if(e.startsWith("oklch("))return(vFe(e)||0)/100;const{r:t,g:n,b:r}=p4(e),i=t/255,o=n/255,s=r/255,a=dF(i),l=dF(o),u=dF(s);return .2126*a+.7152*l+.0722*u}function E_(e,t=.179){return e.startsWith("var(")?!1:bFe(e)>t}function rf({color:e,theme:t,colorScheme:n}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:n==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:E_(n==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:n==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:E_(n==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:E_(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[r,i]=e.split("."),o=i?Number(i):void 0,s=r in t.colors;if(s){const a=o!==void 0?t.colors[r][o]:t.colors[r][e2(t,n||"light")];return{color:r,value:a,shade:o,isThemeColor:s,isLight:E_(a,t.luminanceThreshold),variable:i?`--mantine-color-${r}-${o}`:`--mantine-color-${r}-filled`}}return{color:e,value:e,isThemeColor:s,isLight:E_(e,t.luminanceThreshold),shade:o,variable:void 0}}function qr(e,t){const n=rf({color:e||t.primaryColor,theme:t});return n.variable?`var(${n.variable})`:e}function b7(e,t){const n={from:e?.from||t.defaultGradient.from,to:e?.to||t.defaultGradient.to,deg:e?.deg??t.defaultGradient.deg??0},r=qr(n.from,t),i=qr(n.to,t);return`linear-gradient(${n.deg}deg, ${r} 0%, ${i} 100%)`}function Uf(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const o=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${o}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r:n,g:r,b:i}=p4(e);return`rgba(${n}, ${r}, ${i}, ${t})`}const T1=Uf,wFe=({color:e,theme:t,variant:n,gradient:r,autoContrast:i})=>{const o=rf({color:e,theme:t}),s=typeof i=="boolean"?i:t.autoContrast;if(n==="filled"){const a=s&&o.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return o.isThemeColor?o.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:a,border:`${Ye(1)} solid transparent`}:{background:`var(--mantine-color-${o.color}-${o.shade})`,hover:`var(--mantine-color-${o.color}-${o.shade===9?8:o.shade+1})`,color:a,border:`${Ye(1)} solid transparent`}:{background:e,hover:bE(e,.1),color:a,border:`${Ye(1)} solid transparent`}}if(n==="light"){if(o.isThemeColor){if(o.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${Ye(1)} solid transparent`};const a=t.colors[o.color][o.shade];return{background:Uf(a,.1),hover:Uf(a,.12),color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${Ye(1)} solid transparent`}}return{background:Uf(e,.1),hover:Uf(e,.12),color:e,border:`${Ye(1)} solid transparent`}}if(n==="outline")return o.isThemeColor?o.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${Ye(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:Uf(t.colors[o.color][o.shade],.05),color:`var(--mantine-color-${o.color}-${o.shade})`,border:`${Ye(1)} solid var(--mantine-color-${o.color}-${o.shade})`}:{background:"transparent",hover:Uf(e,.05),color:e,border:`${Ye(1)} solid ${e}`};if(n==="subtle"){if(o.isThemeColor){if(o.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${Ye(1)} solid transparent`};const a=t.colors[o.color][o.shade];return{background:"transparent",hover:Uf(a,.12),color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${Ye(1)} solid transparent`}}return{background:"transparent",hover:Uf(e,.12),color:e,border:`${Ye(1)} solid transparent`}}return n==="transparent"?o.isThemeColor?o.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${Ye(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${Ye(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${Ye(1)} solid transparent`}:n==="white"?o.isThemeColor?o.shade===void 0?{background:"var(--mantine-color-white)",hover:bE(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${Ye(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:bE(t.white,.01),color:`var(--mantine-color-${o.color}-${o.shade})`,border:`${Ye(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:bE(t.white,.01),color:e,border:`${Ye(1)} solid transparent`}:n==="gradient"?{background:b7(r,t),hover:b7(r,t),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${Ye(1)} solid var(--mantine-color-default-border)`}:{}},xFe={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},Ire="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",iV={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:xFe,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:wFe,autoContrast:!1,luminanceThreshold:.3,fontFamily:Ire,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:Ire,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:Ye(34),lineHeight:"1.3"},h2:{fontSize:Ye(26),lineHeight:"1.35"},h3:{fontSize:Ye(22),lineHeight:"1.4"},h4:{fontSize:Ye(18),lineHeight:"1.45"},h5:{fontSize:Ye(16),lineHeight:"1.5"},h6:{fontSize:Ye(14),lineHeight:"1.5"}}},fontSizes:{xs:Ye(12),sm:Ye(14),md:Ye(16),lg:Ye(18),xl:Ye(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:Ye(2),sm:Ye(4),md:Ye(8),lg:Ye(16),xl:Ye(32)},spacing:{xs:Ye(10),sm:Ye(12),md:Ye(16),lg:Ye(20),xl:Ye(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${Ye(1)} ${Ye(3)} rgba(0, 0, 0, 0.05), 0 ${Ye(1)} ${Ye(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${Ye(1)} ${Ye(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ye(10)} ${Ye(15)} ${Ye(-5)}, rgba(0, 0, 0, 0.04) 0 ${Ye(7)} ${Ye(7)} ${Ye(-5)}`,md:`0 ${Ye(1)} ${Ye(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ye(20)} ${Ye(25)} ${Ye(-5)}, rgba(0, 0, 0, 0.04) 0 ${Ye(10)} ${Ye(10)} ${Ye(-5)}`,lg:`0 ${Ye(1)} ${Ye(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ye(28)} ${Ye(23)} ${Ye(-7)}, rgba(0, 0, 0, 0.04) 0 ${Ye(12)} ${Ye(12)} ${Ye(-7)}`,xl:`0 ${Ye(1)} ${Ye(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ye(36)} ${Ye(28)} ${Ye(-7)}, rgba(0, 0, 0, 0.04) 0 ${Ye(17)} ${Ye(17)} ${Ye(-7)}`},other:{},components:{}};function Dre(e){return e==="auto"||e==="dark"||e==="light"}function CFe({key:e="mantine-color-scheme-value"}={}){let t;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(e);return Dre(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(e,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{t=r=>{r.storageArea===window.localStorage&&r.key===e&&Dre(r.newValue)&&n(r.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const _Fe="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",Pre="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function fF(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function Ore(e){if(!(e.primaryColor in e.colors))throw new Error(_Fe);if(typeof e.primaryShade=="object"&&(!fF(e.primaryShade.dark)||!fF(e.primaryShade.light)))throw new Error(Pre);if(typeof e.primaryShade=="number"&&!fF(e.primaryShade))throw new Error(Pre)}function EFe(e,t){if(!t)return Ore(e),e;const n=Zq(e,t);return t.fontFamily&&!t.headings?.fontFamily&&(n.headings.fontFamily=t.fontFamily),Ore(n),n}const oV=A.createContext(null),SFe=()=>A.useContext(oV)||iV;function eo(){const e=A.useContext(oV);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function Kye({theme:e,children:t,inherit:n=!0}){const r=SFe(),i=A.useMemo(()=>EFe(n?r:iV,e),[e,r,n]);return b.jsx(oV.Provider,{value:i,children:t})}Kye.displayName="@mantine/core/MantineThemeProvider";function TFe(){const e=eo(),t=h4(),n=_i(e.breakpoints).reduce((r,i)=>{const o=e.breakpoints[i].includes("px"),s=QS(e.breakpoints[i]),a=o?`${s-.1}px`:f3(s-.1),l=o?`${s}px`:f3(s);return`${r}@media (max-width: ${a}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${l}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return b.jsx("style",{"data-mantine-styles":"classes",nonce:t?.(),dangerouslySetInnerHTML:{__html:n}})}function hF(e){return Object.entries(e).map(([t,n])=>`${t}: ${n};`).join("")}function S_(e,t){return(Array.isArray(e)?e:[e]).reduce((r,i)=>`${i}{${r}}`,t)}function kFe(e,t){const n=hF(e.variables),r=n?S_(t,n):"",i=hF(e.dark),o=hF(e.light),s=i?S_(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,i):"",a=o?S_(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,o):"";return`${r}${s}${a}`}function Lh({color:e,theme:t,autoContrast:n}){return(typeof n=="boolean"?n:t.autoContrast)&&rf({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function Nre(e,t){return Lh({color:e.colors[e.primaryColor][e2(e,t)],theme:e,autoContrast:null})}function cR({theme:e,color:t,colorScheme:n,name:r=t,withColorValues:i=!0}){if(!e.colors[t])return{};if(n==="light"){const a=e2(e,"light"),l={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${a===9?8:a+1})`,[`--mantine-color-${r}-light`]:T1(e.colors[t][a],.1),[`--mantine-color-${r}-light-hover`]:T1(e.colors[t][a],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline-hover`]:T1(e.colors[t][a],.05)};return i?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...l}:l}const o=e2(e,"dark"),s={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${o})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${o===9?8:o+1})`,[`--mantine-color-${r}-light`]:T1(e.colors[t][Math.max(0,o-2)],.15),[`--mantine-color-${r}-light-hover`]:T1(e.colors[t][Math.max(0,o-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(o-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(o-4,0)})`,[`--mantine-color-${r}-outline-hover`]:T1(e.colors[t][Math.max(o-4,0)],.05)};return i?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...s}:s}function AFe(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function k1(e,t,n){_i(t).forEach(r=>Object.assign(e,{[`--mantine-${n}-${r}`]:t[r]}))}const Xye=e=>{const t=e2(e,"light"),n=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:Ye(e.defaultRadius),r={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":Nre(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":Nre(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};k1(r.variables,e.breakpoints,"breakpoint"),k1(r.variables,e.spacing,"spacing"),k1(r.variables,e.fontSizes,"font-size"),k1(r.variables,e.lineHeights,"line-height"),k1(r.variables,e.shadows,"shadow"),k1(r.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((o,s)=>{r.variables[`--mantine-primary-color-${s}`]=`var(--mantine-color-${e.primaryColor}-${s})`}),_i(e.colors).forEach(o=>{const s=e.colors[o];if(AFe(s)){Object.assign(r.light,cR({theme:e,name:s.name,color:s.light,colorScheme:"light",withColorValues:!0})),Object.assign(r.dark,cR({theme:e,name:s.name,color:s.dark,colorScheme:"dark",withColorValues:!0}));return}s.forEach((a,l)=>{r.variables[`--mantine-color-${o}-${l}`]=a}),Object.assign(r.light,cR({theme:e,color:o,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,cR({theme:e,color:o,colorScheme:"dark",withColorValues:!1}))});const i=e.headings.sizes;return _i(i).forEach(o=>{r.variables[`--mantine-${o}-font-size`]=i[o].fontSize,r.variables[`--mantine-${o}-line-height`]=i[o].lineHeight,r.variables[`--mantine-${o}-font-weight`]=i[o].fontWeight||e.headings.fontWeight}),r};function RFe({theme:e,generator:t}){const n=Xye(e),r=t?.(e);return r?Zq(n,r):n}const pF=Xye(iV);function IFe(e){const t={variables:{},light:{},dark:{}};return _i(e.variables).forEach(n=>{pF.variables[n]!==e.variables[n]&&(t.variables[n]=e.variables[n])}),_i(e.light).forEach(n=>{pF.light[n]!==e.light[n]&&(t.light[n]=e.light[n])}),_i(e.dark).forEach(n=>{pF.dark[n]!==e.dark[n]&&(t.dark[n]=e.dark[n])}),t}function DFe(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function Qye({cssVariablesSelector:e,deduplicateCssVariables:t}){const n=eo(),r=h4(),i=lFe(),o=RFe({theme:n,generator:i}),s=e===":root"&&t,a=s?IFe(o):o,l=kFe(a,e);return l?b.jsx("style",{"data-mantine-styles":!0,nonce:r?.(),dangerouslySetInnerHTML:{__html:`${l}${s?"":DFe(e)}`}}):null}Qye.displayName="@mantine/CssVariables";function PFe(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function A1(e,t){const n=typeof window<"u"&&"matchMedia"in window&&window.matchMedia("(prefers-color-scheme: dark)")?.matches,r=e!=="auto"?e:n?"dark":"light";t()?.setAttribute("data-mantine-color-scheme",r)}function OFe({manager:e,defaultColorScheme:t,getRootElement:n,forceColorScheme:r}){const i=A.useRef(null),[o,s]=A.useState(()=>e.get(t)),a=r||o,l=A.useCallback(c=>{r||(A1(c,n),s(c),e.set(c))},[e.set,a,r]),u=A.useCallback(()=>{s(t),A1(t,n),e.clear()},[e.clear,t]);return A.useEffect(()=>(e.subscribe(l),e.unsubscribe),[e.subscribe,e.unsubscribe]),L0(()=>{A1(e.get(t),n)},[]),A.useEffect(()=>{if(r)return A1(r,n),()=>{};r===void 0&&A1(o,n),typeof window<"u"&&"matchMedia"in window&&(i.current=window.matchMedia("(prefers-color-scheme: dark)"));const c=d=>{o==="auto"&&A1(d.matches?"dark":"light",n)};return i.current?.addEventListener("change",c),()=>i.current?.removeEventListener("change",c)},[o,r]),{colorScheme:a,setColorScheme:l,clearColorScheme:u}}function NFe({respectReducedMotion:e,getRootElement:t}){L0(()=>{e&&t()?.setAttribute("data-respect-reduced-motion","true")},[e])}PFe();function Jye({theme:e,children:t,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:i=!0,deduplicateCssVariables:o=!0,withCssVariables:s=!0,cssVariablesSelector:a=":root",classNamesPrefix:l="mantine",colorSchemeManager:u=CFe(),defaultColorScheme:c="light",getRootElement:d=()=>document.documentElement,cssVariablesResolver:f,forceColorScheme:h,stylesTransform:m,env:p}){const{colorScheme:g,setColorScheme:v,clearColorScheme:y}=OFe({defaultColorScheme:c,forceColorScheme:h,manager:u,getRootElement:d});return NFe({respectReducedMotion:e?.respectReducedMotion||!1,getRootElement:d}),b.jsx(rV.Provider,{value:{colorScheme:g,setColorScheme:v,clearColorScheme:y,getRootElement:d,classNamesPrefix:l,getStyleNonce:n,cssVariablesResolver:f,cssVariablesSelector:a,withStaticClasses:r,stylesTransform:m,env:p},children:b.jsxs(Kye,{theme:e,children:[s&&b.jsx(Qye,{cssVariablesSelector:a,deduplicateCssVariables:o}),i&&b.jsx(TFe,{}),t]})})}Jye.displayName="@mantine/core/MantineProvider";function of({classNames:e,styles:t,props:n,stylesCtx:r}){const i=eo();return{resolvedClassNames:f4({theme:i,classNames:e,props:n,stylesCtx:r||void 0}),resolvedStyles:g3({theme:i,styles:t,props:n,stylesCtx:r||void 0})}}const MFe={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function $Fe({theme:e,options:t,unstyled:n}){return Nt(t?.focusable&&!n&&(e.focusClassName||MFe[e.focusRing]),t?.active&&!n&&e.activeClassName)}function LFe({selector:e,stylesCtx:t,options:n,props:r,theme:i}){return f4({theme:i,classNames:n?.classNames,props:n?.props||r,stylesCtx:t})[e]}function Mre({selector:e,stylesCtx:t,theme:n,classNames:r,props:i}){return f4({theme:n,classNames:r,props:i,stylesCtx:t})[e]}function FFe({rootSelector:e,selector:t,className:n}){return e===t?n:void 0}function jFe({selector:e,classes:t,unstyled:n}){return n?void 0:t[e]}function BFe({themeName:e,classNamesPrefix:t,selector:n,withStaticClass:r}){return r===!1?[]:e.map(i=>`${t}-${i}-${n}`)}function zFe({themeName:e,theme:t,selector:n,props:r,stylesCtx:i}){return e.map(o=>f4({theme:t,classNames:t.components[o]?.classNames,props:r,stylesCtx:i})?.[n])}function UFe({options:e,classes:t,selector:n,unstyled:r}){return e?.variant&&!r?t[`${n}--${e.variant}`]:void 0}function HFe({theme:e,options:t,themeName:n,selector:r,classNamesPrefix:i,classNames:o,classes:s,unstyled:a,className:l,rootSelector:u,props:c,stylesCtx:d,withStaticClasses:f,headless:h,transformedStyles:m}){return Nt($Fe({theme:e,options:t,unstyled:a||h}),zFe({theme:e,themeName:n,selector:r,props:c,stylesCtx:d}),UFe({options:t,classes:s,selector:r,unstyled:a}),Mre({selector:r,stylesCtx:d,theme:e,classNames:o,props:c}),Mre({selector:r,stylesCtx:d,theme:e,classNames:m,props:c}),LFe({selector:r,stylesCtx:d,options:t,props:c,theme:e}),FFe({rootSelector:u,selector:r,className:l}),jFe({selector:r,classes:s,unstyled:a||h}),f&&!h&&BFe({themeName:n,classNamesPrefix:i,selector:r,withStaticClass:t?.withStaticClass}),t?.className)}function qFe({theme:e,themeName:t,props:n,stylesCtx:r,selector:i}){return t.map(o=>g3({theme:e,styles:e.components[o]?.styles,props:n,stylesCtx:r})[i]).reduce((o,s)=>({...o,...s}),{})}function w7({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...w7({style:r,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function VFe(e){return e.reduce((t,n)=>(n&&Object.keys(n).forEach(r=>{t[r]={...t[r],...$0(n[r])}}),t),{})}function WFe({vars:e,varsResolver:t,theme:n,props:r,stylesCtx:i,selector:o,themeName:s,headless:a}){return VFe([a?{}:t?.(n,r,i),...s.map(l=>n.components?.[l]?.vars?.(n,r,i)),e?.(n,r,i)])?.[o]}function GFe({theme:e,themeName:t,selector:n,options:r,props:i,stylesCtx:o,rootSelector:s,styles:a,style:l,vars:u,varsResolver:c,headless:d,withStylesTransform:f}){return{...!f&&qFe({theme:e,themeName:t,props:i,stylesCtx:o,selector:n}),...!f&&g3({theme:e,styles:a,props:i,stylesCtx:o})[n],...!f&&g3({theme:e,styles:r?.styles,props:r?.props||i,stylesCtx:o})[n],...WFe({theme:e,props:i,stylesCtx:o,vars:u,varsResolver:c,selector:n,themeName:t,headless:d}),...s===n?w7({style:l,theme:e}):null,...w7({style:r?.style,theme:e})}}function YFe({props:e,stylesCtx:t,themeName:n}){const r=eo(),i=hFe()?.();return{getTransformedStyles:s=>i?[...s.map(l=>i(l,{props:e,theme:r,ctx:t})),...n.map(l=>i(r.components[l]?.styles,{props:e,theme:r,ctx:t}))].filter(Boolean):[],withStylesTransform:!!i}}function Rt({name:e,classes:t,props:n,stylesCtx:r,className:i,style:o,rootSelector:s="root",unstyled:a,classNames:l,styles:u,vars:c,varsResolver:d}){const f=eo(),h=uFe(),m=cFe(),p=dFe(),g=(Array.isArray(e)?e:[e]).filter(w=>w),{withStylesTransform:v,getTransformedStyles:y}=YFe({props:n,stylesCtx:r,themeName:g});return(w,_)=>({className:HFe({theme:f,options:_,themeName:g,selector:w,classNamesPrefix:h,classNames:l,classes:t,unstyled:a,className:i,rootSelector:s,props:n,stylesCtx:r,withStaticClasses:m,headless:p,transformedStyles:y([_?.styles,u])}),style:GFe({theme:f,themeName:g,selector:w,options:_,props:n,stylesCtx:r,rootSelector:s,styles:u,style:o,vars:c,varsResolver:d,headless:p,withStylesTransform:v})})}function KFe(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, white ${t*100}%)`;const{r:n,g:r,b:i,a:o}=p4(e),s=a=>Math.round(a+(255-a)*t);return`rgba(${s(n)}, ${s(r)}, ${s(i)}, ${o})`}function F0(e,t){return typeof e=="boolean"?e:t.autoContrast}function $re(e){const t=document.createElement("style");return t.setAttribute("data-mantine-styles","inline"),t.innerHTML="*, *::before, *::after {transition: none !important;}",t.setAttribute("data-mantine-disable-transition","true"),e&&t.setAttribute("nonce",e),document.head.appendChild(t),()=>document.querySelectorAll("[data-mantine-disable-transition]").forEach(r=>r.remove())}function XFe({keepTransitions:e}={}){const t=A.useRef(p3),n=A.useRef(-1),r=A.useContext(rV),i=h4(),o=A.useRef(i?.());if(!r)throw new Error("[@mantine/core] MantineProvider was not found in tree");const s=d=>{r.setColorScheme(d),t.current=e?()=>{}:$re(o.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{t.current?.()},10)},a=()=>{r.clearColorScheme(),t.current=e?()=>{}:$re(o.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{t.current?.()},10)},l=DLe("light",{getInitialValueInEffect:!1}),u=r.colorScheme==="auto"?l:r.colorScheme,c=A.useCallback(()=>s(u==="light"?"dark":"light"),[s,u]);return A.useEffect(()=>()=>{t.current?.(),window.clearTimeout(n.current)},[]),{colorScheme:r.colorScheme,setColorScheme:s,clearColorScheme:a,toggleColorScheme:c}}function qe(e,t,n){const r=eo(),i=r.components[e]?.defaultProps,o=typeof i=="function"?i(r):i;return{...t,...o,...$0(n)}}function mF(e){return _i(e).reduce((t,n)=>e[n]!==void 0?`${t}${vLe(n)}:${e[n]};`:t,"").trim()}function QFe({selector:e,styles:t,media:n,container:r}){const i=t?mF(t):"",o=Array.isArray(n)?n.map(a=>`@media${a.query}{${e}{${mF(a.styles)}}}`):[],s=Array.isArray(r)?r.map(a=>`@container ${a.query}{${e}{${mF(a.styles)}}}`):[];return`${i?`${e}{${i}}`:""}${o.join("")}${s.join("")}`.trim()}function wb(e){const t=h4();return b.jsx("style",{"data-mantine-styles":"inline",nonce:t?.(),dangerouslySetInnerHTML:{__html:QFe(e)}})}function xb(e){const{m:t,mx:n,my:r,mt:i,mb:o,ml:s,mr:a,me:l,ms:u,p:c,px:d,py:f,pt:h,pb:m,pl:p,pr:g,pe:v,ps:y,bd:w,bg:_,c:E,opacity:S,ff:T,fz:k,fw:R,lts:I,ta:P,lh:N,fs:M,tt:O,td:j,w:U,miw:q,maw:W,h:V,mih:z,mah:L,bgsz:H,bgp:B,bgr:Y,bga:Q,pos:ne,top:ce,left:le,bottom:ue,right:ae,inset:te,display:se,flex:we,hiddenFrom:X,visibleFrom:he,lightHidden:ge,darkHidden:re,sx:ee,...fe}=e;return{styleProps:$0({m:t,mx:n,my:r,mt:i,mb:o,ml:s,mr:a,me:l,ms:u,p:c,px:d,py:f,pt:h,pb:m,pl:p,pr:g,pe:v,ps:y,bd:w,bg:_,c:E,opacity:S,ff:T,fz:k,fw:R,lts:I,ta:P,lh:N,fs:M,tt:O,td:j,w:U,miw:q,maw:W,h:V,mih:z,mah:L,bgsz:H,bgp:B,bgr:Y,bga:Q,pos:ne,top:ce,left:le,bottom:ue,right:ae,inset:te,display:se,flex:we,hiddenFrom:X,visibleFrom:he,lightHidden:ge,darkHidden:re,sx:ee}),rest:fe}}const JFe={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function sV(e,t){const n=rf({color:e,theme:t});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function ZFe(e,t){const n=rf({color:e,theme:t});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:sV(e,t)}function e8e(e,t){if(typeof e=="number")return Ye(e);if(typeof e=="string"){const[n,r,...i]=e.split(" ").filter(s=>s.trim()!=="");let o=`${Ye(n)}`;return r&&(o+=` ${r}`),i.length>0&&(o+=` ${sV(i.join(" "),t)}`),o.trim()}return e}const Lre={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function t8e(e){return typeof e=="string"&&e in Lre?Lre[e]:e}const n8e=["h1","h2","h3","h4","h5","h6"];function r8e(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&n8e.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?Ye(e):e}function i8e(e){return e}const o8e=["h1","h2","h3","h4","h5","h6"];function s8e(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&o8e.includes(e)?`var(--mantine-${e}-line-height)`:e}function a8e(e){return typeof e=="number"?Ye(e):e}function l8e(e,t){if(typeof e=="number")return Ye(e);if(typeof e=="string"){const n=e.replace("-","");if(!(n in t.spacing))return Ye(e);const r=`--mantine-spacing-${n}`;return e.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return e}const gF={color:sV,textColor:ZFe,fontSize:r8e,spacing:l8e,identity:i8e,size:a8e,lineHeight:s8e,fontFamily:t8e,border:e8e};function Fre(e){return e.replace("(min-width: ","").replace("em)","")}function u8e({media:e,...t}){const r=Object.keys(e).sort((i,o)=>Number(Fre(i))-Number(Fre(o))).map(i=>({query:i,styles:e[i]}));return{...t,media:r}}function c8e(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function d8e(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function f8e(e){return typeof e=="object"&&e!==null?_i(e).filter(t=>t!=="base"):[]}function h8e(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function Zye({styleProps:e,data:t,theme:n}){return u8e(_i(e).reduce((r,i)=>{if(i==="hiddenFrom"||i==="visibleFrom"||i==="sx")return r;const o=t[i],s=Array.isArray(o.property)?o.property:[o.property],a=d8e(e[i]);if(!c8e(e[i]))return s.forEach(u=>{r.inlineStyles[u]=gF[o.type](a,n)}),r;r.hasResponsiveStyles=!0;const l=f8e(e[i]);return s.forEach(u=>{a&&(r.styles[u]=gF[o.type](a,n)),l.forEach(c=>{const d=`(min-width: ${n.breakpoints[c]})`;r.media[d]={...r.media[d],[u]:gF[o.type](h8e(e[i],c),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function pT(){return`__m__-${A.useId().replace(/:/g,"")}`}function aV(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...aV(r,t)}),{}):typeof e=="function"?e(t):e??{}}function eve(e){return e.startsWith("data-")?e:`data-${e}`}function p8e(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return r===void 0||r===""||r===!1||r===null||(t[eve(n)]=e[n]),t},{})}function tve(e){return e?typeof e=="string"?{[eve(e)]:!0}:Array.isArray(e)?[...e].reduce((t,n)=>({...t,...tve(n)}),{}):p8e(e):null}function x7(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...x7(r,t)}),{}):typeof e=="function"?e(t):e??{}}function m8e({theme:e,style:t,vars:n,styleProps:r}){const i=x7(t,e),o=x7(n,e);return{...i,...o,...r}}const nve=A.forwardRef(({component:e,style:t,__vars:n,className:r,variant:i,mod:o,size:s,hiddenFrom:a,visibleFrom:l,lightHidden:u,darkHidden:c,renderRoot:d,__size:f,...h},m)=>{const p=eo(),g=e||"div",{styleProps:v,rest:y}=xb(h),_=fFe()?.()?.(v.sx),E=pT(),S=Zye({styleProps:v,theme:p,data:JFe}),T={ref:m,style:m8e({theme:p,style:t,vars:n,styleProps:S.inlineStyles}),className:Nt(r,_,{[E]:S.hasResponsiveStyles,"mantine-light-hidden":u,"mantine-dark-hidden":c,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${l}`]:l}),"data-variant":i,"data-size":Nye(s)?void 0:s||void 0,size:f,...tve(o),...y};return b.jsxs(b.Fragment,{children:[S.hasResponsiveStyles&&b.jsx(wb,{selector:`.${E}`,styles:S.styles,media:S.media}),typeof d=="function"?d(T):b.jsx(g,{...T})]})});nve.displayName="@mantine/core/Box";const De=nve;function rve(e){return e}function g8e(e){const t=e;return n=>{const r=A.forwardRef((i,o)=>b.jsx(t,{...n,...i,ref:o}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r}}function nt(e){const t=A.forwardRef(e);return t.extend=rve,t.withProps=n=>{const r=A.forwardRef((i,o)=>b.jsx(t,{...n,...i,ref:o}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t}function Bo(e){const t=A.forwardRef(e);return t.withProps=n=>{const r=A.forwardRef((i,o)=>b.jsx(t,{...n,...i,ref:o}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t.extend=rve,t}const y8e=A.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function su(){return A.useContext(y8e)}var kd=Tye();const wE=Xo(kd);function v8e(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function yF(e){return e?.current?e.current.scrollHeight:"auto"}const T_=typeof window<"u"&&window.requestAnimationFrame;function b8e({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:n=()=>{},opened:r}){const i=A.useRef(null),o=0,s={height:0,overflow:"hidden"},[a,l]=A.useState(r?{}:s),u=m=>{kd.flushSync(()=>l(m))},c=m=>{u(p=>({...p,...m}))};function d(m){const p=e||v8e(m);return{transition:`height ${p}ms ${t}, opacity ${p}ms ${t}`}}vl(()=>{typeof T_=="function"&&T_(r?()=>{c({willChange:"height",display:"block",overflow:"hidden"}),T_(()=>{const m=yF(i);c({...d(m),height:m})})}:()=>{const m=yF(i);c({...d(m),willChange:"height",height:m}),T_(()=>c({height:o,overflow:"hidden"}))})},[r]);const f=m=>{if(!(m.target!==i.current||m.propertyName!=="height"))if(r){const p=yF(i);p===a.height?u({}):c({height:p}),n()}else a.height===o&&(u(s),n())};function h({style:m={},refKey:p="ref",...g}={}){const v=g[p],y={"aria-hidden":!r,...g,[p]:qye(i,v),onTransitionEnd:f,style:{boxSizing:"border-box",...m,...a}};return un.version.startsWith("18")?r||(y.inert=""):y.inert=!r,y}return h}const w8e={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},Fh=nt((e,t)=>{const{children:n,in:r,transitionDuration:i,transitionTimingFunction:o,style:s,onTransitionEnd:a,animateOpacity:l,...u}=qe("Collapse",w8e,e),c=eo(),d=c4(),h=(c.respectReducedMotion?d:!1)?0:i,m=b8e({opened:r,transitionDuration:h,transitionTimingFunction:o,onTransitionEnd:a});return h===0?r?b.jsx(De,{...u,children:n}):null:b.jsx(De,{...m({style:{opacity:r||!l?1:0,transition:l?`opacity ${h}ms ${o}`:"none",...aV(s,c)},ref:t,...u}),children:n})});Fh.displayName="@mantine/core/Collapse";function m4(){return typeof window<"u"}function Kx(e){return ive(e)?(e.nodeName||"").toLowerCase():"#document"}function Yl(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function jh(e){var t;return(t=(ive(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function ive(e){return m4()?e instanceof Node||e instanceof Yl(e).Node:!1}function Fi(e){return m4()?e instanceof Element||e instanceof Yl(e).Element:!1}function Bu(e){return m4()?e instanceof HTMLElement||e instanceof Yl(e).HTMLElement:!1}function C7(e){return!m4()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Yl(e).ShadowRoot}const x8e=new Set(["inline","contents"]);function mT(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Dc(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!x8e.has(i)}const C8e=new Set(["table","td","th"]);function _8e(e){return C8e.has(Kx(e))}const E8e=[":popover-open",":modal"];function g4(e){return E8e.some(t=>{try{return e.matches(t)}catch{return!1}})}const S8e=["transform","translate","scale","rotate","perspective"],T8e=["transform","translate","scale","rotate","perspective","filter"],k8e=["paint","layout","strict","content"];function lV(e){const t=y4(),n=Fi(e)?Dc(e):e;return S8e.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||T8e.some(r=>(n.willChange||"").includes(r))||k8e.some(r=>(n.contain||"").includes(r))}function A8e(e){let t=nm(e);for(;Bu(t)&&!d0(t);){if(lV(t))return t;if(g4(t))return null;t=nm(t)}return null}function y4(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const R8e=new Set(["html","body","#document"]);function d0(e){return R8e.has(Kx(e))}function Dc(e){return Yl(e).getComputedStyle(e)}function v4(e){return Fi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function nm(e){if(Kx(e)==="html")return e;const t=e.assignedSlot||e.parentNode||C7(e)&&e.host||jh(e);return C7(t)?t.host:t}function ove(e){const t=nm(e);return d0(t)?e.ownerDocument?e.ownerDocument.body:e.body:Bu(t)&&mT(t)?t:ove(t)}function zp(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=ove(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=Yl(i);if(o){const a=_7(s);return t.concat(s,s.visualViewport||[],mT(i)?i:[],a&&n?zp(a):[])}return t.concat(i,zp(i,[],n))}function _7(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function jre(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function t2(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&C7(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function sve(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function ave(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function I8e(e){return O8e()?!1:!Bre()&&e.width===0&&e.height===0||Bre()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function D8e(){return/apple/i.test(navigator.vendor)}function Bre(){const e=/android/i;return e.test(sve())||e.test(ave())}function P8e(){return sve().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function O8e(){return ave().includes("jsdom/")}function E7(e,t){const n=["mouse","pen"];return n.push("",void 0),n.includes(e)}function N8e(e){return"nativeEvent"in e}function M8e(e){return e.matches("html,body")}function ov(e){return e?.ownerDocument||document}function vF(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function rw(e){return"composedPath"in e?e.composedPath()[0]:e.target}const $8e="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function L8e(e){return Bu(e)&&e.matches($8e)}const Vd=Math.min,Aa=Math.max,y3=Math.round,dR=Math.floor,lh=e=>({x:e,y:e}),F8e={left:"right",right:"left",bottom:"top",top:"bottom"},j8e={start:"end",end:"start"};function S7(e,t,n){return Aa(e,Vd(t,n))}function rm(e,t){return typeof e=="function"?e(t):e}function Wd(e){return e.split("-")[0]}function Xx(e){return e.split("-")[1]}function uV(e){return e==="x"?"y":"x"}function cV(e){return e==="y"?"height":"width"}const B8e=new Set(["top","bottom"]);function Ad(e){return B8e.has(Wd(e))?"y":"x"}function dV(e){return uV(Ad(e))}function z8e(e,t,n){n===void 0&&(n=!1);const r=Xx(e),i=dV(e),o=cV(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=v3(s)),[s,v3(s)]}function U8e(e){const t=v3(e);return[T7(e),t,T7(t)]}function T7(e){return e.replace(/start|end/g,t=>j8e[t])}const zre=["left","right"],Ure=["right","left"],H8e=["top","bottom"],q8e=["bottom","top"];function V8e(e,t,n){switch(e){case"top":case"bottom":return n?t?Ure:zre:t?zre:Ure;case"left":case"right":return t?H8e:q8e;default:return[]}}function W8e(e,t,n,r){const i=Xx(e);let o=V8e(Wd(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(T7)))),o}function v3(e){return e.replace(/left|right|bottom|top/g,t=>F8e[t])}function G8e(e){return{top:0,right:0,bottom:0,left:0,...e}}function fV(e){return typeof e!="number"?G8e(e):{top:e,right:e,bottom:e,left:e}}function Qw(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Hre(e,t,n){let{reference:r,floating:i}=e;const o=Ad(t),s=dV(t),a=cV(s),l=Wd(t),u=o==="y",c=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:c,y:r.y-i.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(Xx(t)){case"start":h[s]-=f*(n&&u?-1:1);break;case"end":h[s]+=f*(n&&u?-1:1);break}return h}const Y8e=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:d}=Hre(u,r,l),f=r,h={},m=0;for(let p=0;p<a.length;p++){const{name:g,fn:v}=a[p],{x:y,y:w,data:_,reset:E}=await v({x:c,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:u,platform:s,elements:{reference:e,floating:t}});c=y??c,d=w??d,h={...h,[g]:{...h[g],..._}},E&&m<=50&&(m++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(u=E.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):E.rects),{x:c,y:d}=Hre(u,f,l)),p=-1)}return{x:c,y:d,placement:f,strategy:i,middlewareData:h}};async function hV(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=rm(t,e),m=fV(h),g=a[f?d==="floating"?"reference":"floating":d],v=Qw(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(g)))==null||n?g:g.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),y=d==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),_=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},E=Qw(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:w,strategy:l}):y);return{top:(v.top-E.top+m.top)/_.y,bottom:(E.bottom-v.bottom+m.bottom)/_.y,left:(v.left-E.left+m.left)/_.x,right:(E.right-v.right+m.right)/_.x}}const K8e=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=t,{element:u,padding:c=0}=rm(e,t)||{};if(u==null)return{};const d=fV(c),f={x:n,y:r},h=dV(i),m=cV(h),p=await s.getDimensions(u),g=h==="y",v=g?"top":"left",y=g?"bottom":"right",w=g?"clientHeight":"clientWidth",_=o.reference[m]+o.reference[h]-f[h]-o.floating[m],E=f[h]-o.reference[h],S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let T=S?S[w]:0;(!T||!await(s.isElement==null?void 0:s.isElement(S)))&&(T=a.floating[w]||o.floating[m]);const k=_/2-E/2,R=T/2-p[m]/2-1,I=Vd(d[v],R),P=Vd(d[y],R),N=I,M=T-p[m]-P,O=T/2-p[m]/2+k,j=S7(N,O,M),U=!l.arrow&&Xx(i)!=null&&O!==j&&o.reference[m]/2-(O<N?I:P)-p[m]/2<0,q=U?O<N?O-N:O-M:0;return{[h]:f[h]+q,data:{[h]:j,centerOffset:O-j-q,...U&&{alignmentOffset:q}},reset:U}}}),X8e=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:p=!0,...g}=rm(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=Wd(i),y=Ad(a),w=Wd(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(u.floating)),E=f||(w||!p?[v3(a)]:U8e(a)),S=m!=="none";!f&&S&&E.push(...W8e(a,p,m,_));const T=[a,...E],k=await hV(t,g),R=[];let I=((r=o.flip)==null?void 0:r.overflows)||[];if(c&&R.push(k[v]),d){const O=z8e(i,s,_);R.push(k[O[0]],k[O[1]])}if(I=[...I,{placement:i,overflows:R}],!R.every(O=>O<=0)){var P,N;const O=(((P=o.flip)==null?void 0:P.index)||0)+1,j=T[O];if(j&&(!(d==="alignment"?y!==Ad(j):!1)||I.every(W=>Ad(W.placement)===y?W.overflows[0]>0:!0)))return{data:{index:O,overflows:I},reset:{placement:j}};let U=(N=I.filter(q=>q.overflows[0]<=0).sort((q,W)=>q.overflows[1]-W.overflows[1])[0])==null?void 0:N.placement;if(!U)switch(h){case"bestFit":{var M;const q=(M=I.filter(W=>{if(S){const V=Ad(W.placement);return V===y||V==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(V=>V>0).reduce((V,z)=>V+z,0)]).sort((W,V)=>W[1]-V[1])[0])==null?void 0:M[0];q&&(U=q);break}case"initialPlacement":U=a;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function lve(e){const t=Vd(...e.map(o=>o.left)),n=Vd(...e.map(o=>o.top)),r=Aa(...e.map(o=>o.right)),i=Aa(...e.map(o=>o.bottom));return{x:t,y:n,width:r-t,height:i-n}}function Q8e(e){const t=e.slice().sort((i,o)=>i.y-o.y),n=[];let r=null;for(let i=0;i<t.length;i++){const o=t[i];!r||o.y-r.y>r.height/2?n.push([o]):n[n.length-1].push(o),r=o}return n.map(i=>Qw(lve(i)))}const J8e=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:i,platform:o,strategy:s}=t,{padding:a=2,x:l,y:u}=rm(e,t),c=Array.from(await(o.getClientRects==null?void 0:o.getClientRects(r.reference))||[]),d=Q8e(c),f=Qw(lve(c)),h=fV(a);function m(){if(d.length===2&&d[0].left>d[1].right&&l!=null&&u!=null)return d.find(g=>l>g.left-h.left&&l<g.right+h.right&&u>g.top-h.top&&u<g.bottom+h.bottom)||f;if(d.length>=2){if(Ad(n)==="y"){const I=d[0],P=d[d.length-1],N=Wd(n)==="top",M=I.top,O=P.bottom,j=N?I.left:P.left,U=N?I.right:P.right,q=U-j,W=O-M;return{top:M,bottom:O,left:j,right:U,width:q,height:W,x:j,y:M}}const g=Wd(n)==="left",v=Aa(...d.map(I=>I.right)),y=Vd(...d.map(I=>I.left)),w=d.filter(I=>g?I.left===y:I.right===v),_=w[0].top,E=w[w.length-1].bottom,S=y,T=v,k=T-S,R=E-_;return{top:_,bottom:E,left:S,right:T,width:k,height:R,x:S,y:_}}return f}const p=await o.getElementRects({reference:{getBoundingClientRect:m},floating:r.floating,strategy:s});return i.reference.x!==p.reference.x||i.reference.y!==p.reference.y||i.reference.width!==p.reference.width||i.reference.height!==p.reference.height?{reset:{rects:p}}:{}}}},uve=new Set(["left","top"]);async function Z8e(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Wd(n),a=Xx(n),l=Ad(n)==="y",u=uve.has(s)?-1:1,c=o&&l?-1:1,d=rm(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof m=="number"&&(h=a==="end"?m*-1:m),l?{x:h*c,y:f*u}:{x:f*u,y:h*c}}const eje=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await Z8e(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},tje=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:g=>{let{x:v,y}=g;return{x:v,y}}},...l}=rm(e,t),u={x:n,y:r},c=await hV(t,l),d=Ad(Wd(i)),f=uV(d);let h=u[f],m=u[d];if(o){const g=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=h+c[g],w=h-c[v];h=S7(y,h,w)}if(s){const g=d==="y"?"top":"left",v=d==="y"?"bottom":"right",y=m+c[g],w=m-c[v];m=S7(y,m,w)}const p=a.fn({...t,[f]:h,[d]:m});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[f]:o,[d]:s}}}}}},nje=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=rm(e,t),c={x:n,y:r},d=Ad(i),f=uV(d);let h=c[f],m=c[d];const p=rm(a,t),g=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const w=f==="y"?"height":"width",_=o.reference[f]-o.floating[w]+g.mainAxis,E=o.reference[f]+o.reference[w]-g.mainAxis;h<_?h=_:h>E&&(h=E)}if(u){var v,y;const w=f==="y"?"width":"height",_=uve.has(Wd(i)),E=o.reference[d]-o.floating[w]+(_&&((v=s.offset)==null?void 0:v[d])||0)+(_?0:g.crossAxis),S=o.reference[d]+o.reference[w]+(_?0:((y=s.offset)==null?void 0:y[d])||0)-(_?g.crossAxis:0);m<E?m=E:m>S&&(m=S)}return{[f]:h,[d]:m}}}},rje=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:s,elements:a}=t,{apply:l=()=>{},...u}=rm(e,t),c=await hV(t,u),d=Wd(i),f=Xx(i),h=Ad(i)==="y",{width:m,height:p}=o.floating;let g,v;d==="top"||d==="bottom"?(g=d,v=f===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(v=d,g=f==="end"?"top":"bottom");const y=p-c.top-c.bottom,w=m-c.left-c.right,_=Vd(p-c[g],y),E=Vd(m-c[v],w),S=!t.middlewareData.shift;let T=_,k=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=y),S&&!f){const I=Aa(c.left,0),P=Aa(c.right,0),N=Aa(c.top,0),M=Aa(c.bottom,0);h?k=m-2*(I!==0||P!==0?I+P:Aa(c.left,c.right)):T=p-2*(N!==0||M!==0?N+M:Aa(c.top,c.bottom))}await l({...t,availableWidth:k,availableHeight:T});const R=await s.getDimensions(a.floating);return m!==R.width||p!==R.height?{reset:{rects:!0}}:{}}}};function cve(e){const t=Dc(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Bu(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=y3(n)!==o||y3(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function pV(e){return Fi(e)?e:e.contextElement}function Ew(e){const t=pV(e);if(!Bu(t))return lh(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=cve(t);let s=(o?y3(n.width):n.width)/r,a=(o?y3(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const ije=lh(0);function dve(e){const t=Yl(e);return!y4()||!t.visualViewport?ije:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function oje(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Yl(e)?!1:t}function Lv(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=pV(e);let s=lh(1);t&&(r?Fi(r)&&(s=Ew(r)):s=Ew(e));const a=oje(o,n,r)?dve(o):lh(0);let l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,c=i.width/s.x,d=i.height/s.y;if(o){const f=Yl(o),h=r&&Fi(r)?Yl(r):r;let m=f,p=_7(m);for(;p&&r&&h!==m;){const g=Ew(p),v=p.getBoundingClientRect(),y=Dc(p),w=v.left+(p.clientLeft+parseFloat(y.paddingLeft))*g.x,_=v.top+(p.clientTop+parseFloat(y.paddingTop))*g.y;l*=g.x,u*=g.y,c*=g.x,d*=g.y,l+=w,u+=_,m=Yl(p),p=_7(m)}}return Qw({width:c,height:d,x:l,y:u})}function b4(e,t){const n=v4(e).scrollLeft;return t?t.left+n:Lv(jh(e)).left+n}function fve(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-b4(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function sje(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",s=jh(r),a=t?g4(t.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},u=lh(1);const c=lh(0),d=Bu(r);if((d||!d&&!o)&&((Kx(r)!=="body"||mT(s))&&(l=v4(r)),Bu(r))){const h=Lv(r);u=Ew(r),c.x=h.x+r.clientLeft,c.y=h.y+r.clientTop}const f=s&&!d&&!o?fve(s,l):lh(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+f.x,y:n.y*u.y-l.scrollTop*u.y+c.y+f.y}}function aje(e){return Array.from(e.getClientRects())}function lje(e){const t=jh(e),n=v4(e),r=e.ownerDocument.body,i=Aa(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Aa(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+b4(e);const a=-n.scrollTop;return Dc(r).direction==="rtl"&&(s+=Aa(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}const qre=25;function uje(e,t){const n=Yl(e),r=jh(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=y4();(!c||c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const u=b4(r);if(u<=0){const c=r.ownerDocument,d=c.body,f=getComputedStyle(d),h=c.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,m=Math.abs(r.clientWidth-d.clientWidth-h);m<=qre&&(o-=m)}else u<=qre&&(o+=u);return{width:o,height:s,x:a,y:l}}const cje=new Set(["absolute","fixed"]);function dje(e,t){const n=Lv(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Bu(e)?Ew(e):lh(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:s,height:a,x:l,y:u}}function Vre(e,t,n){let r;if(t==="viewport")r=uje(e,n);else if(t==="document")r=lje(jh(e));else if(Fi(t))r=dje(t,n);else{const i=dve(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Qw(r)}function hve(e,t){const n=nm(e);return n===t||!Fi(n)||d0(n)?!1:Dc(n).position==="fixed"||hve(n,t)}function fje(e,t){const n=t.get(e);if(n)return n;let r=zp(e,[],!1).filter(a=>Fi(a)&&Kx(a)!=="body"),i=null;const o=Dc(e).position==="fixed";let s=o?nm(e):e;for(;Fi(s)&&!d0(s);){const a=Dc(s),l=lV(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&cje.has(i.position)||mT(s)&&!l&&hve(e,s))?r=r.filter(c=>c!==s):i=a,s=nm(s)}return t.set(e,r),r}function hje(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?g4(t)?[]:fje(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((u,c)=>{const d=Vre(t,c,i);return u.top=Aa(d.top,u.top),u.right=Vd(d.right,u.right),u.bottom=Vd(d.bottom,u.bottom),u.left=Aa(d.left,u.left),u},Vre(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function pje(e){const{width:t,height:n}=cve(e);return{width:t,height:n}}function mje(e,t,n){const r=Bu(t),i=jh(t),o=n==="fixed",s=Lv(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=lh(0);function u(){l.x=b4(i)}if(r||!r&&!o)if((Kx(t)!=="body"||mT(i))&&(a=v4(t)),r){const h=Lv(t,!0,o,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&u();o&&!r&&i&&u();const c=i&&!r&&!o?fve(i,a):lh(0),d=s.left+a.scrollLeft-l.x-c.x,f=s.top+a.scrollTop-l.y-c.y;return{x:d,y:f,width:s.width,height:s.height}}function bF(e){return Dc(e).position==="static"}function Wre(e,t){if(!Bu(e)||Dc(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return jh(e)===n&&(n=n.ownerDocument.body),n}function pve(e,t){const n=Yl(e);if(g4(e))return n;if(!Bu(e)){let i=nm(e);for(;i&&!d0(i);){if(Fi(i)&&!bF(i))return i;i=nm(i)}return n}let r=Wre(e,t);for(;r&&_8e(r)&&bF(r);)r=Wre(r,t);return r&&d0(r)&&bF(r)&&!lV(r)?n:r||A8e(e)||n}const gje=async function(e){const t=this.getOffsetParent||pve,n=this.getDimensions,r=await n(e.floating);return{reference:mje(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function yje(e){return Dc(e).direction==="rtl"}const vje={convertOffsetParentRelativeRectToViewportRelativeRect:sje,getDocumentElement:jh,getClippingRect:hje,getOffsetParent:pve,getElementRects:gje,getClientRects:aje,getDimensions:pje,getScale:Ew,isElement:Fi,isRTL:yje};function mve(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function bje(e,t){let n=null,r;const i=jh(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const u=e.getBoundingClientRect(),{left:c,top:d,width:f,height:h}=u;if(a||t(),!f||!h)return;const m=dR(d),p=dR(i.clientWidth-(c+f)),g=dR(i.clientHeight-(d+h)),v=dR(c),w={rootMargin:-m+"px "+-p+"px "+-g+"px "+-v+"px",threshold:Aa(0,Vd(1,l))||1};let _=!0;function E(S){const T=S[0].intersectionRatio;if(T!==l){if(!_)return s();T?s(!1,T):r=setTimeout(()=>{s(!1,1e-7)},1e3)}T===1&&!mve(u,e.getBoundingClientRect())&&s(),_=!1}try{n=new IntersectionObserver(E,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,w)}n.observe(e)}return s(!0),o}function wje(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=pV(e),c=i||o?[...u?zp(u):[],...zp(t)]:[];c.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const d=u&&a?bje(u,n):null;let f=-1,h=null;s&&(h=new ResizeObserver(v=>{let[y]=v;y&&y.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let m,p=l?Lv(e):null;l&&g();function g(){const v=Lv(e);p&&!mve(p,v)&&n(),p=v,m=requestAnimationFrame(g)}return n(),()=>{var v;c.forEach(y=>{i&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),d?.(),(v=h)==null||v.disconnect(),h=null,l&&cancelAnimationFrame(m)}}const xje=eje,Cje=tje,_je=X8e,Eje=rje,Gre=K8e,Sje=J8e,Tje=nje,kje=(e,t,n)=>{const r=new Map,i={platform:vje,...n},o={...i.platform,_c:r};return Y8e(e,t,{...i,platform:o})};var Aje=typeof document<"u",Rje=function(){},AD=Aje?A.useLayoutEffect:Rje;function b3(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!b3(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!b3(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function gve(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Yre(e,t){const n=gve(e);return Math.round(t*n)/n}function wF(e){const t=A.useRef(e);return AD(()=>{t.current=e}),t}function Ije(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[c,d]=A.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=A.useState(r);b3(f,r)||h(r);const[m,p]=A.useState(null),[g,v]=A.useState(null),y=A.useCallback(W=>{W!==S.current&&(S.current=W,p(W))},[]),w=A.useCallback(W=>{W!==T.current&&(T.current=W,v(W))},[]),_=o||m,E=s||g,S=A.useRef(null),T=A.useRef(null),k=A.useRef(c),R=l!=null,I=wF(l),P=wF(i),N=wF(u),M=A.useCallback(()=>{if(!S.current||!T.current)return;const W={placement:t,strategy:n,middleware:f};P.current&&(W.platform=P.current),kje(S.current,T.current,W).then(V=>{const z={...V,isPositioned:N.current!==!1};O.current&&!b3(k.current,z)&&(k.current=z,kd.flushSync(()=>{d(z)}))})},[f,t,n,P,N]);AD(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,d(W=>({...W,isPositioned:!1})))},[u]);const O=A.useRef(!1);AD(()=>(O.current=!0,()=>{O.current=!1}),[]),AD(()=>{if(_&&(S.current=_),E&&(T.current=E),_&&E){if(I.current)return I.current(_,E,M);M()}},[_,E,M,I,R]);const j=A.useMemo(()=>({reference:S,floating:T,setReference:y,setFloating:w}),[y,w]),U=A.useMemo(()=>({reference:_,floating:E}),[_,E]),q=A.useMemo(()=>{const W={position:n,left:0,top:0};if(!U.floating)return W;const V=Yre(U.floating,c.x),z=Yre(U.floating,c.y);return a?{...W,transform:"translate("+V+"px, "+z+"px)",...gve(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:z}},[n,a,U.floating,c.x,c.y]);return A.useMemo(()=>({...c,update:M,refs:j,elements:U,floatingStyles:q}),[c,M,j,U,q])}const Dje=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Gre({element:r.current,padding:i}).fn(n):{}:r?Gre({element:r,padding:i}).fn(n):{}}}},yve=(e,t)=>({...xje(e),options:[e,t]}),mV=(e,t)=>({...Cje(e),options:[e,t]}),Kre=(e,t)=>({...Tje(e),options:[e,t]}),w3=(e,t)=>({..._je(e),options:[e,t]}),Pje=(e,t)=>({...Eje(e),options:[e,t]}),lS=(e,t)=>({...Sje(e),options:[e,t]}),vve=(e,t)=>({...Dje(e),options:[e,t]});function Oje(e){return A.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const bve={...R$e},Nje=bve.useInsertionEffect,Mje=Nje||(e=>e());function Tp(e){const t=A.useRef(()=>{});return Mje(()=>{t.current=e}),A.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var uh=typeof document<"u"?A.useLayoutEffect:A.useEffect;let Xre=!1,$je=0;const Qre=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+$je++;function Lje(){const[e,t]=A.useState(()=>Xre?Qre():void 0);return uh(()=>{e==null&&t(Qre())},[]),A.useEffect(()=>{Xre=!0},[]),e}const Fje=bve.useId,wve=Fje||Lje;function jje(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const Bje=A.createContext(null),zje=A.createContext(null),gV=()=>{var e;return((e=A.useContext(Bje))==null?void 0:e.id)||null},yV=()=>A.useContext(zje);function vV(e){return"data-floating-ui-"+e}function xF(e){const t=A.useRef(e);return uh(()=>{t.current=e}),t}const Jre=vV("safe-polygon");function RD(e,t,n){return n&&!E7(n)?0:typeof e=="number"?e:e?.[t]}function Uje(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:i,events:o,elements:s}=e,{enabled:a=!0,delay:l=0,handleClose:u=null,mouseOnly:c=!1,restMs:d=0,move:f=!0}=t,h=yV(),m=gV(),p=xF(u),g=xF(l),v=xF(n),y=A.useRef(),w=A.useRef(-1),_=A.useRef(),E=A.useRef(-1),S=A.useRef(!0),T=A.useRef(!1),k=A.useRef(()=>{}),R=A.useRef(!1),I=A.useCallback(()=>{var q;const W=(q=i.current.openEvent)==null?void 0:q.type;return W?.includes("mouse")&&W!=="mousedown"},[i]);A.useEffect(()=>{if(!a)return;function q(W){let{open:V}=W;V||(clearTimeout(w.current),clearTimeout(E.current),S.current=!0,R.current=!1)}return o.on("openchange",q),()=>{o.off("openchange",q)}},[a,o]),A.useEffect(()=>{if(!a||!p.current||!n)return;function q(V){I()&&r(!1,V,"hover")}const W=ov(s.floating).documentElement;return W.addEventListener("mouseleave",q),()=>{W.removeEventListener("mouseleave",q)}},[s.floating,n,r,a,p,I]);const P=A.useCallback(function(q,W,V){W===void 0&&(W=!0),V===void 0&&(V="hover");const z=RD(g.current,"close",y.current);z&&!_.current?(clearTimeout(w.current),w.current=window.setTimeout(()=>r(!1,q,V),z)):W&&(clearTimeout(w.current),r(!1,q,V))},[g,r]),N=Tp(()=>{k.current(),_.current=void 0}),M=Tp(()=>{if(T.current){const q=ov(s.floating).body;q.style.pointerEvents="",q.removeAttribute(Jre),T.current=!1}}),O=Tp(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);A.useEffect(()=>{if(!a)return;function q(L){if(clearTimeout(w.current),S.current=!1,c&&!E7(y.current)||d>0&&!RD(g.current,"open"))return;const H=RD(g.current,"open",y.current);H?w.current=window.setTimeout(()=>{v.current||r(!0,L,"hover")},H):n||r(!0,L,"hover")}function W(L){if(O())return;k.current();const H=ov(s.floating);if(clearTimeout(E.current),R.current=!1,p.current&&i.current.floatingContext){n||clearTimeout(w.current),_.current=p.current({...i.current.floatingContext,tree:h,x:L.clientX,y:L.clientY,onClose(){M(),N(),O()||P(L,!0,"safe-polygon")}});const Y=_.current;H.addEventListener("mousemove",Y),k.current=()=>{H.removeEventListener("mousemove",Y)};return}(y.current==="touch"?!t2(s.floating,L.relatedTarget):!0)&&P(L)}function V(L){O()||i.current.floatingContext&&(p.current==null||p.current({...i.current.floatingContext,tree:h,x:L.clientX,y:L.clientY,onClose(){M(),N(),O()||P(L)}})(L))}if(Fi(s.domReference)){var z;const L=s.domReference;return n&&L.addEventListener("mouseleave",V),(z=s.floating)==null||z.addEventListener("mouseleave",V),f&&L.addEventListener("mousemove",q,{once:!0}),L.addEventListener("mouseenter",q),L.addEventListener("mouseleave",W),()=>{var H;n&&L.removeEventListener("mouseleave",V),(H=s.floating)==null||H.removeEventListener("mouseleave",V),f&&L.removeEventListener("mousemove",q),L.removeEventListener("mouseenter",q),L.removeEventListener("mouseleave",W)}}},[s,a,e,c,d,f,P,N,M,r,n,v,h,g,p,i,O]),uh(()=>{var q;if(a&&n&&(q=p.current)!=null&&q.__options.blockPointerEvents&&I()){T.current=!0;const V=s.floating;if(Fi(s.domReference)&&V){var W;const z=ov(s.floating).body;z.setAttribute(Jre,"");const L=s.domReference,H=h==null||(W=h.nodesRef.current.find(B=>B.id===m))==null||(W=W.context)==null?void 0:W.elements.floating;return H&&(H.style.pointerEvents=""),z.style.pointerEvents="none",L.style.pointerEvents="auto",V.style.pointerEvents="auto",()=>{z.style.pointerEvents="",L.style.pointerEvents="",V.style.pointerEvents=""}}}},[a,n,m,s,h,p,I]),uh(()=>{n||(y.current=void 0,R.current=!1,N(),M())},[n,N,M]),A.useEffect(()=>()=>{N(),clearTimeout(w.current),clearTimeout(E.current),M()},[a,s.domReference,N,M]);const j=A.useMemo(()=>{function q(W){y.current=W.pointerType}return{onPointerDown:q,onPointerEnter:q,onMouseMove(W){const{nativeEvent:V}=W;function z(){!S.current&&!v.current&&r(!0,V,"hover")}c&&!E7(y.current)||n||d===0||R.current&&W.movementX**2+W.movementY**2<2||(clearTimeout(E.current),y.current==="touch"?z():(R.current=!0,E.current=window.setTimeout(z,d)))}}},[c,r,n,v,d]),U=A.useMemo(()=>({onMouseEnter(){clearTimeout(w.current)},onMouseLeave(q){O()||P(q.nativeEvent,!1)}}),[P,O]);return A.useMemo(()=>a?{reference:j,floating:U}:{},[a,j,U])}const k7=()=>{},xve=A.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:k7,setState:k7,isInstantPhase:!1}),Hje=()=>A.useContext(xve);function qje(e){const{children:t,delay:n,timeoutMs:r=0}=e,[i,o]=A.useReducer((l,u)=>({...l,...u}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),s=A.useRef(null),a=A.useCallback(l=>{o({currentId:l})},[]);return uh(()=>{i.currentId?s.current===null?s.current=i.currentId:i.isInstantPhase||o({isInstantPhase:!0}):(i.isInstantPhase&&o({isInstantPhase:!1}),s.current=null)},[i.currentId,i.isInstantPhase]),A.createElement(xve.Provider,{value:A.useMemo(()=>({...i,setState:o,setCurrentId:a}),[i,a])},t)}function Vje(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,floatingId:i}=e,{id:o,enabled:s=!0}=t,a=o??i,l=Hje(),{currentId:u,setCurrentId:c,initialDelay:d,setState:f,timeoutMs:h}=l;return uh(()=>{s&&u&&(f({delay:{open:1,close:RD(d,"close")}}),u!==a&&r(!1))},[s,a,r,f,u,d]),uh(()=>{function m(){r(!1),f({delay:d,currentId:null})}if(s&&u&&!n&&u===a){if(h){const p=window.setTimeout(m,h);return()=>{clearTimeout(p)}}m()}},[s,n,f,u,a,r,d,h]),uh(()=>{s&&(c===k7||!n||c(a))},[s,n,c,a]),l}function CF(e,t){let n=e.filter(i=>{var o;return i.parentId===t&&((o=i.context)==null?void 0:o.open)}),r=n;for(;r.length;)r=e.filter(i=>{var o;return(o=r)==null?void 0:o.some(s=>{var a;return i.parentId===s.id&&((a=i.context)==null?void 0:a.open)})}),n=n.concat(r);return n}const Wje="data-floating-ui-focusable",Gje={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Yje={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Zre=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e?.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e?.outsidePress)!=null?n:!0}};function Kje(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:i,dataRef:o}=e,{enabled:s=!0,escapeKey:a=!0,outsidePress:l=!0,outsidePressEvent:u="pointerdown",referencePress:c=!1,referencePressEvent:d="pointerdown",ancestorScroll:f=!1,bubbles:h,capture:m}=t,p=yV(),g=Tp(typeof l=="function"?l:()=>!1),v=typeof l=="function"?g:l,y=A.useRef(!1),w=A.useRef(!1),{escapeKey:_,outsidePress:E}=Zre(h),{escapeKey:S,outsidePress:T}=Zre(m),k=A.useRef(!1),R=Tp(j=>{var U;if(!n||!s||!a||j.key!=="Escape"||k.current)return;const q=(U=o.current.floatingContext)==null?void 0:U.nodeId,W=p?CF(p.nodesRef.current,q):[];if(!_&&(j.stopPropagation(),W.length>0)){let V=!0;if(W.forEach(z=>{var L;if((L=z.context)!=null&&L.open&&!z.context.dataRef.current.__escapeKeyBubbles){V=!1;return}}),!V)return}r(!1,N8e(j)?j.nativeEvent:j,"escape-key")}),I=Tp(j=>{var U;const q=()=>{var W;R(j),(W=rw(j))==null||W.removeEventListener("keydown",q)};(U=rw(j))==null||U.addEventListener("keydown",q)}),P=Tp(j=>{var U;const q=y.current;y.current=!1;const W=w.current;if(w.current=!1,u==="click"&&W||q||typeof v=="function"&&!v(j))return;const V=rw(j),z="["+vV("inert")+"]",L=ov(i.floating).querySelectorAll(z);let H=Fi(V)?V:null;for(;H&&!d0(H);){const ne=nm(H);if(d0(ne)||!Fi(ne))break;H=ne}if(L.length&&Fi(V)&&!M8e(V)&&!t2(V,i.floating)&&Array.from(L).every(ne=>!t2(H,ne)))return;if(Bu(V)&&O){const ne=V.clientWidth>0&&V.scrollWidth>V.clientWidth,ce=V.clientHeight>0&&V.scrollHeight>V.clientHeight;let le=ce&&j.offsetX>V.clientWidth;if(ce&&Dc(V).direction==="rtl"&&(le=j.offsetX<=V.offsetWidth-V.clientWidth),le||ne&&j.offsetY>V.clientHeight)return}const B=(U=o.current.floatingContext)==null?void 0:U.nodeId,Y=p&&CF(p.nodesRef.current,B).some(ne=>{var ce;return vF(j,(ce=ne.context)==null?void 0:ce.elements.floating)});if(vF(j,i.floating)||vF(j,i.domReference)||Y)return;const Q=p?CF(p.nodesRef.current,B):[];if(Q.length>0){let ne=!0;if(Q.forEach(ce=>{var le;if((le=ce.context)!=null&&le.open&&!ce.context.dataRef.current.__outsidePressBubbles){ne=!1;return}}),!ne)return}r(!1,j,"outside-press")}),N=Tp(j=>{var U;const q=()=>{var W;P(j),(W=rw(j))==null||W.removeEventListener(u,q)};(U=rw(j))==null||U.addEventListener(u,q)});A.useEffect(()=>{if(!n||!s)return;o.current.__escapeKeyBubbles=_,o.current.__outsidePressBubbles=E;let j=-1;function U(L){r(!1,L,"ancestor-scroll")}function q(){window.clearTimeout(j),k.current=!0}function W(){j=window.setTimeout(()=>{k.current=!1},y4()?5:0)}const V=ov(i.floating);a&&(V.addEventListener("keydown",S?I:R,S),V.addEventListener("compositionstart",q),V.addEventListener("compositionend",W)),v&&V.addEventListener(u,T?N:P,T);let z=[];return f&&(Fi(i.domReference)&&(z=zp(i.domReference)),Fi(i.floating)&&(z=z.concat(zp(i.floating))),!Fi(i.reference)&&i.reference&&i.reference.contextElement&&(z=z.concat(zp(i.reference.contextElement)))),z=z.filter(L=>{var H;return L!==((H=V.defaultView)==null?void 0:H.visualViewport)}),z.forEach(L=>{L.addEventListener("scroll",U,{passive:!0})}),()=>{a&&(V.removeEventListener("keydown",S?I:R,S),V.removeEventListener("compositionstart",q),V.removeEventListener("compositionend",W)),v&&V.removeEventListener(u,T?N:P,T),z.forEach(L=>{L.removeEventListener("scroll",U)}),window.clearTimeout(j)}},[o,i,a,v,u,n,r,f,s,_,E,R,S,I,P,T,N]),A.useEffect(()=>{y.current=!1},[v,u]);const M=A.useMemo(()=>({onKeyDown:R,[Gje[d]]:j=>{c&&r(!1,j.nativeEvent,"reference-press")}}),[R,r,c,d]),O=A.useMemo(()=>({onKeyDown:R,onMouseDown(){w.current=!0},onMouseUp(){w.current=!0},[Yje[u]]:()=>{y.current=!0}}),[R,u]);return A.useMemo(()=>s?{reference:M,floating:O}:{},[s,M,O])}function Xje(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=wve(),o=A.useRef({}),[s]=A.useState(()=>jje()),a=gV()!=null,[l,u]=A.useState(r.reference),c=Tp((h,m,p)=>{o.current.openEvent=h?m:void 0,s.emit("openchange",{open:h,event:m,reason:p,nested:a}),n?.(h,m,p)}),d=A.useMemo(()=>({setPositionReference:u}),[]),f=A.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return A.useMemo(()=>({dataRef:o,open:t,onOpenChange:c,elements:f,events:s,floatingId:i,refs:d}),[t,c,f,s,i,d])}function bV(e){e===void 0&&(e={});const{nodeId:t}=e,n=Xje({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,s]=A.useState(null),[a,l]=A.useState(null),c=i?.domReference||o,d=A.useRef(null),f=yV();uh(()=>{c&&(d.current=c)},[c]);const h=Ije({...e,elements:{...i,...a&&{reference:a}}}),m=A.useCallback(w=>{const _=Fi(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;l(_),h.refs.setReference(_)},[h.refs]),p=A.useCallback(w=>{(Fi(w)||w===null)&&(d.current=w,s(w)),(Fi(h.refs.reference.current)||h.refs.reference.current===null||w!==null&&!Fi(w))&&h.refs.setReference(w)},[h.refs]),g=A.useMemo(()=>({...h.refs,setReference:p,setPositionReference:m,domReference:d}),[h.refs,p,m]),v=A.useMemo(()=>({...h.elements,domReference:c}),[h.elements,c]),y=A.useMemo(()=>({...h,...r,refs:g,elements:v,nodeId:t}),[h,g,v,t,r]);return uh(()=>{r.dataRef.current.floatingContext=y;const w=f?.nodesRef.current.find(_=>_.id===t);w&&(w.context=y)}),A.useMemo(()=>({...h,context:y,refs:g,elements:v}),[h,g,v,y])}function Qje(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:i,dataRef:o,elements:s}=e,{enabled:a=!0,visibleOnly:l=!0}=t,u=A.useRef(!1),c=A.useRef(),d=A.useRef(!0);A.useEffect(()=>{if(!a)return;const h=Yl(s.domReference);function m(){!n&&Bu(s.domReference)&&s.domReference===jre(ov(s.domReference))&&(u.current=!0)}function p(){d.current=!0}return h.addEventListener("blur",m),h.addEventListener("keydown",p,!0),()=>{h.removeEventListener("blur",m),h.removeEventListener("keydown",p,!0)}},[s.domReference,n,a]),A.useEffect(()=>{if(!a)return;function h(m){let{reason:p}=m;(p==="reference-press"||p==="escape-key")&&(u.current=!0)}return i.on("openchange",h),()=>{i.off("openchange",h)}},[i,a]),A.useEffect(()=>()=>{clearTimeout(c.current)},[]);const f=A.useMemo(()=>({onPointerDown(h){I8e(h.nativeEvent)||(d.current=!1)},onMouseLeave(){u.current=!1},onFocus(h){if(u.current)return;const m=rw(h.nativeEvent);if(l&&Fi(m))try{if(D8e()&&P8e())throw Error();if(!m.matches(":focus-visible"))return}catch{if(!d.current&&!L8e(m))return}r(!0,h.nativeEvent,"focus")},onBlur(h){u.current=!1;const m=h.relatedTarget,p=h.nativeEvent,g=Fi(m)&&m.hasAttribute(vV("focus-guard"))&&m.getAttribute("data-type")==="outside";c.current=window.setTimeout(()=>{var v;const y=jre(s.domReference?s.domReference.ownerDocument:document);!m&&y===s.domReference||t2((v=o.current.floatingContext)==null?void 0:v.refs.floating.current,y)||t2(s.domReference,y)||g||r(!1,p,"focus")})}}),[o,s.domReference,r,l]);return A.useMemo(()=>a?{reference:f}:{},[a,f])}const eie="active",tie="selected";function _F(e,t,n){const r=new Map,i=n==="item";let o=e;if(i&&e){const{[eie]:s,[tie]:a,...l}=e;o=l}return{...n==="floating"&&{tabIndex:-1,[Wje]:""},...o,...t.map(s=>{const a=s?s[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((s,a)=>(a&&Object.entries(a).forEach(l=>{let[u,c]=l;if(!(i&&[eie,tie].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof c=="function"){var d;(d=r.get(u))==null||d.push(c),s[u]=function(){for(var f,h=arguments.length,m=new Array(h),p=0;p<h;p++)m[p]=arguments[p];return(f=r.get(u))==null?void 0:f.map(g=>g(...m)).find(g=>g!==void 0)}}}else s[u]=c}),s),{})}}function Jje(e){e===void 0&&(e=[]);const t=e.map(a=>a?.reference),n=e.map(a=>a?.floating),r=e.map(a=>a?.item),i=A.useCallback(a=>_F(a,e,"reference"),t),o=A.useCallback(a=>_F(a,e,"floating"),n),s=A.useCallback(a=>_F(a,e,"item"),r);return A.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:s}),[i,o,s])}const Zje=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function e9e(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:i}=e,{enabled:o=!0,role:s="dialog"}=t,a=(n=Zje.get(s))!=null?n:s,l=wve(),c=gV()!=null,d=A.useMemo(()=>a==="tooltip"||s==="label"?{["aria-"+(s==="label"?"labelledby":"describedby")]:r?i:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":a==="alertdialog"?"dialog":a,"aria-controls":r?i:void 0,...a==="listbox"&&{role:"combobox"},...a==="menu"&&{id:l},...a==="menu"&&c&&{role:"menuitem"},...s==="select"&&{"aria-autocomplete":"none"},...s==="combobox"&&{"aria-autocomplete":"list"}},[a,i,c,r,l,s]),f=A.useMemo(()=>{const m={id:i,...a&&{role:a}};return a==="tooltip"||s==="label"?m:{...m,...a==="menu"&&{"aria-labelledby":l}}},[a,i,l,s]),h=A.useCallback(m=>{let{active:p,selected:g}=m;const v={role:"option",...p&&{id:i+"-option"}};switch(s){case"select":return{...v,"aria-selected":p&&g};case"combobox":return{...v,...p&&{"aria-selected":!0}}}return{}},[i,s]);return A.useMemo(()=>o?{reference:d,floating:f,item:h}:{},[o,d,f,h])}const[t9e,Uc]=ua("ScrollArea.Root component was not found in tree");function Jw(e,t){const n=Pg(t);L0(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const n9e=A.forwardRef((e,t)=>{const{style:n,...r}=e,i=Uc(),[o,s]=A.useState(0),[a,l]=A.useState(0),u=!!(o&&a);return Jw(i.scrollbarX,()=>{const c=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(c),l(c)}),Jw(i.scrollbarY,()=>{const c=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(c),s(c)}),u?b.jsx("div",{...r,ref:t,style:{...n,width:o,height:a}}):null}),r9e=A.forwardRef((e,t)=>{const n=Uc(),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?b.jsx(n9e,{...e,ref:t}):null}),i9e={scrollHideDelay:1e3,type:"hover"},Cve=A.forwardRef((e,t)=>{const n=qe("ScrollAreaRoot",i9e,e),{type:r,scrollHideDelay:i,scrollbars:o,...s}=n,[a,l]=A.useState(null),[u,c]=A.useState(null),[d,f]=A.useState(null),[h,m]=A.useState(null),[p,g]=A.useState(null),[v,y]=A.useState(0),[w,_]=A.useState(0),[E,S]=A.useState(!1),[T,k]=A.useState(!1),R=uo(t,I=>l(I));return b.jsx(t9e,{value:{type:r,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:c,content:d,onContentChange:f,scrollbarX:h,onScrollbarXChange:m,scrollbarXEnabled:E,onScrollbarXEnabledChange:S,scrollbarY:p,onScrollbarYChange:g,scrollbarYEnabled:T,onScrollbarYEnabledChange:k,onCornerWidthChange:y,onCornerHeightChange:_},children:b.jsx(De,{...s,ref:R,__vars:{"--sa-corner-width":o!=="xy"?"0px":`${v}px`,"--sa-corner-height":o!=="xy"?"0px":`${w}px`}})})});Cve.displayName="@mantine/core/ScrollAreaRoot";function _ve(e,t){const n=e/t;return Number.isNaN(n)?0:n}function w4(e){const t=_ve(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Eve(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function o9e(e,[t,n]){return Math.min(n,Math.max(t,e))}function nie(e,t,n="ltr"){const r=w4(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,s=t.content-t.viewport,a=o-r,l=n==="ltr"?[0,s]:[s*-1,0],u=o9e(e,l);return Eve([0,s],[0,a])(u)}function s9e(e,t,n,r="ltr"){const i=w4(n),o=i/2,s=t||o,a=i-s,l=n.scrollbar.paddingStart+s,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,d=r==="ltr"?[0,c]:[c*-1,0];return Eve([l,u],d)(e)}function Sve(e,t){return e>0&&e<t}function jg(e){return e?parseInt(e,10):0}function Cv(e,t,{checkForDefaultPrevented:n=!0}={}){return r=>{e?.(r),(n===!1||!r.defaultPrevented)&&t?.(r)}}const[a9e,Tve]=ua("ScrollAreaScrollbar was not found in tree"),kve=A.forwardRef((e,t)=>{const{sizes:n,hasThumb:r,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:a,onDragScroll:l,onWheelScroll:u,onResize:c,...d}=e,f=Uc(),[h,m]=A.useState(null),p=uo(t,k=>m(k)),g=A.useRef(null),v=A.useRef(""),{viewport:y}=f,w=n.content-n.viewport,_=Pg(u),E=Pg(a),S=u4(c,10),T=k=>{if(g.current){const R=k.clientX-g.current.left,I=k.clientY-g.current.top;l({x:R,y:I})}};return A.useEffect(()=>{const k=R=>{const I=R.target;h?.contains(I)&&_(R,w)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[y,h,w,_]),A.useEffect(E,[n,E]),Jw(h,S),Jw(f.content,S),b.jsx(a9e,{value:{scrollbar:h,hasThumb:r,onThumbChange:Pg(i),onThumbPointerUp:Pg(o),onThumbPositionChange:E,onThumbPointerDown:Pg(s)},children:b.jsx("div",{...d,ref:p,"data-mantine-scrollbar":!0,style:{position:"absolute",...d.style},onPointerDown:Cv(e.onPointerDown,k=>{k.preventDefault(),k.button===0&&(k.target.setPointerCapture(k.pointerId),g.current=h.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",T(k))}),onPointerMove:Cv(e.onPointerMove,T),onPointerUp:Cv(e.onPointerUp,k=>{const R=k.target;R.hasPointerCapture(k.pointerId)&&(k.preventDefault(),R.releasePointerCapture(k.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=v.current,g.current=null}})})}),Ave=A.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:i,...o}=e,s=Uc(),[a,l]=A.useState(),u=A.useRef(null),c=uo(t,u,s.onScrollbarXChange);return A.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),b.jsx(kve,{"data-orientation":"horizontal",...o,ref:c,sizes:n,style:{...i,"--sa-thumb-width":`${w4(n)}px`},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),Sve(h,f)&&d.preventDefault()}},onResize:()=>{u.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:jg(a.paddingLeft),paddingEnd:jg(a.paddingRight)}})}})});Ave.displayName="@mantine/core/ScrollAreaScrollbarX";const Rve=A.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:i,...o}=e,s=Uc(),[a,l]=A.useState(),u=A.useRef(null),c=uo(t,u,s.onScrollbarYChange);return A.useEffect(()=>{u.current&&l(window.getComputedStyle(u.current))},[]),b.jsx(kve,{...o,"data-orientation":"vertical",ref:c,sizes:n,style:{"--sa-thumb-height":`${w4(n)}px`,...i},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),Sve(h,f)&&d.preventDefault()}},onResize:()=>{u.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:jg(a.paddingTop),paddingEnd:jg(a.paddingBottom)}})}})});Rve.displayName="@mantine/core/ScrollAreaScrollbarY";const x4=A.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,{dir:i}=su(),o=Uc(),s=A.useRef(null),a=A.useRef(0),[l,u]=A.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=_ve(l.viewport,l.content),d={...r,sizes:l,onSizesChange:u,hasThumb:c>0&&c<1,onThumbChange:h=>{s.current=h},onThumbPointerUp:()=>{a.current=0},onThumbPointerDown:h=>{a.current=h}},f=(h,m)=>s9e(h,a.current,l,m);return n==="horizontal"?b.jsx(Ave,{...d,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const h=o.viewport.scrollLeft,m=nie(h,l,i);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollLeft=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollLeft=f(h,i))}}):n==="vertical"?b.jsx(Rve,{...d,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const h=o.viewport.scrollTop,m=nie(h,l);l.scrollbar.size===0?s.current.style.setProperty("--thumb-opacity","0"):s.current.style.setProperty("--thumb-opacity","1"),s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollTop=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollTop=f(h))}}):null});x4.displayName="@mantine/core/ScrollAreaScrollbarVisible";const wV=A.forwardRef((e,t)=>{const n=Uc(),{forceMount:r,...i}=e,[o,s]=A.useState(!1),a=e.orientation==="horizontal",l=u4(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?u:c)}},10);return Jw(n.viewport,l),Jw(n.content,l),r||o?b.jsx(x4,{"data-state":o?"visible":"hidden",...i,ref:t}):null});wV.displayName="@mantine/core/ScrollAreaScrollbarAuto";const Ive=A.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Uc(),[o,s]=A.useState(!1);return A.useEffect(()=>{const{scrollArea:a}=i;let l=0;if(a){const u=()=>{window.clearTimeout(l),s(!0)},c=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),n||o?b.jsx(wV,{"data-state":o?"visible":"hidden",...r,ref:t}):null});Ive.displayName="@mantine/core/ScrollAreaScrollbarHover";const l9e=A.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Uc(),o=e.orientation==="horizontal",[s,a]=A.useState("hidden"),l=u4(()=>a("idle"),100);return A.useEffect(()=>{if(s==="idle"){const u=window.setTimeout(()=>a("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[s,i.scrollHideDelay]),A.useEffect(()=>{const{viewport:u}=i,c=o?"scrollLeft":"scrollTop";if(u){let d=u[c];const f=()=>{const h=u[c];d!==h&&(a("scrolling"),l()),d=h};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[i.viewport,o,l]),n||s!=="hidden"?b.jsx(x4,{"data-state":s==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Cv(e.onPointerEnter,()=>a("interacting")),onPointerLeave:Cv(e.onPointerLeave,()=>a("idle"))}):null}),A7=A.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Uc(),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=e.orientation==="horizontal";return A.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?b.jsx(Ive,{...r,ref:t,forceMount:n}):i.type==="scroll"?b.jsx(l9e,{...r,ref:t,forceMount:n}):i.type==="auto"?b.jsx(wV,{...r,ref:t,forceMount:n}):i.type==="always"?b.jsx(x4,{...r,ref:t}):null});A7.displayName="@mantine/core/ScrollAreaScrollbar";function u9e(e,t=()=>{}){let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function i(){const o={left:e.scrollLeft,top:e.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&t(),n=o,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)}const Dve=A.forwardRef((e,t)=>{const{style:n,...r}=e,i=Uc(),o=Tve(),{onThumbPositionChange:s}=o,a=uo(t,c=>o.onThumbChange(c)),l=A.useRef(void 0),u=u4(()=>{l.current&&(l.current(),l.current=void 0)},100);return A.useEffect(()=>{const{viewport:c}=i;if(c){const d=()=>{if(u(),!l.current){const f=u9e(c,s);l.current=f,s()}};return s(),c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[i.viewport,u,s]),b.jsx("div",{"data-state":o.hasThumb?"visible":"hidden",...r,ref:a,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:Cv(e.onPointerDownCapture,c=>{const f=c.target.getBoundingClientRect(),h=c.clientX-f.left,m=c.clientY-f.top;o.onThumbPointerDown({x:h,y:m})}),onPointerUp:Cv(e.onPointerUp,o.onThumbPointerUp)})});Dve.displayName="@mantine/core/ScrollAreaThumb";const R7=A.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Tve();return n||i.hasThumb?b.jsx(Dve,{ref:t,...r}):null});R7.displayName="@mantine/core/ScrollAreaThumb";const Pve=A.forwardRef(({children:e,style:t,...n},r)=>{const i=Uc(),o=uo(r,i.onViewportChange);return b.jsx(De,{...n,ref:o,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t},children:b.jsx("div",{style:{minWidth:"100%"},ref:i.onContentChange,children:e})})});Pve.displayName="@mantine/core/ScrollAreaViewport";var xV={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const Ove={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},c9e=(e,{scrollbarSize:t,overscrollBehavior:n})=>({root:{"--scrollarea-scrollbar-size":Ye(t),"--scrollarea-over-scroll-behavior":n}}),im=nt((e,t)=>{const n=qe("ScrollArea",Ove,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,scrollbarSize:l,vars:u,type:c,scrollHideDelay:d,viewportProps:f,viewportRef:h,onScrollPositionChange:m,children:p,offsetScrollbars:g,scrollbars:v,onBottomReached:y,onTopReached:w,overscrollBehavior:_,...E}=n,[S,T]=A.useState(!1),[k,R]=A.useState(!1),[I,P]=A.useState(!1),N=Rt({name:"ScrollArea",props:n,classes:xV,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:c9e}),M=A.useRef(null),O=Oje([h,M]);return A.useEffect(()=>{if(!M.current||g!=="present")return;const j=M.current,U=new ResizeObserver(()=>{const{scrollHeight:q,clientHeight:W,scrollWidth:V,clientWidth:z}=j;R(q>W),P(V>z)});return U.observe(j),()=>U.disconnect()},[M,g]),b.jsxs(Cve,{type:c==="never"?"always":c,scrollHideDelay:d,ref:t,scrollbars:v,...N("root"),...E,children:[b.jsx(Pve,{...f,...N("viewport",{style:f?.style}),ref:O,"data-offset-scrollbars":g===!0?"xy":g||void 0,"data-scrollbars":v||void 0,"data-horizontal-hidden":g==="present"&&!I?"true":void 0,"data-vertical-hidden":g==="present"&&!k?"true":void 0,onScroll:j=>{f?.onScroll?.(j),m?.({x:j.currentTarget.scrollLeft,y:j.currentTarget.scrollTop});const{scrollTop:U,scrollHeight:q,clientHeight:W}=j.currentTarget;U-(q-W)>=-.6&&y?.(),U===0&&w?.()},children:p}),(v==="xy"||v==="x")&&b.jsx(A7,{...N("scrollbar"),orientation:"horizontal","data-hidden":c==="never"||g==="present"&&!I?!0:void 0,forceMount:!0,onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),children:b.jsx(R7,{...N("thumb")})}),(v==="xy"||v==="y")&&b.jsx(A7,{...N("scrollbar"),orientation:"vertical","data-hidden":c==="never"||g==="present"&&!k?!0:void 0,forceMount:!0,onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),children:b.jsx(R7,{...N("thumb")})}),b.jsx(r9e,{...N("corner"),"data-hovered":S||void 0,"data-hidden":c==="never"||void 0})]})});im.displayName="@mantine/core/ScrollArea";const CV=nt((e,t)=>{const{children:n,classNames:r,styles:i,scrollbarSize:o,scrollHideDelay:s,type:a,dir:l,offsetScrollbars:u,viewportRef:c,onScrollPositionChange:d,unstyled:f,variant:h,viewportProps:m,scrollbars:p,style:g,vars:v,onBottomReached:y,onTopReached:w,..._}=qe("ScrollAreaAutosize",Ove,e);return b.jsx(De,{..._,ref:t,style:[{display:"flex",overflow:"auto"},g],children:b.jsx(De,{style:{display:"flex",flexDirection:"column",flex:1},children:b.jsx(im,{classNames:r,styles:i,scrollHideDelay:s,scrollbarSize:o,type:a,dir:l,offsetScrollbars:u,viewportRef:c,onScrollPositionChange:d,unstyled:f,variant:h,viewportProps:m,vars:v,scrollbars:p,onBottomReached:y,onTopReached:w,children:n})})})});im.classes=xV;CV.displayName="@mantine/core/ScrollAreaAutosize";CV.classes=xV;im.Autosize=CV;var Nve={root:"m_87cf2631"};const d9e={__staticSelector:"UnstyledButton"},Yo=Bo((e,t)=>{const n=qe("UnstyledButton",d9e,e),{className:r,component:i="button",__staticSelector:o,unstyled:s,classNames:a,styles:l,style:u,...c}=n,d=Rt({name:o,props:n,classes:Nve,className:r,style:u,classNames:a,styles:l,unstyled:s});return b.jsx(De,{...d("root",{focusable:!0}),component:i,ref:t,type:i==="button"?"button":void 0,...c})});Yo.classes=Nve;Yo.displayName="@mantine/core/UnstyledButton";var Mve={root:"m_515a97f8"};const f9e={},_V=nt((e,t)=>{const n=qe("VisuallyHidden",f9e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,...u}=n,c=Rt({name:"VisuallyHidden",classes:Mve,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a});return b.jsx(De,{component:"span",ref:t,...c("root"),...u})});_V.classes=Mve;_V.displayName="@mantine/core/VisuallyHidden";var $ve={root:"m_1b7284a3"};const h9e={},p9e=(e,{radius:t,shadow:n})=>({root:{"--paper-radius":t===void 0?void 0:jr(t),"--paper-shadow":eV(n)}}),Os=Bo((e,t)=>{const n=qe("Paper",h9e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,withBorder:l,vars:u,radius:c,shadow:d,variant:f,mod:h,...m}=n,p=Rt({name:"Paper",props:n,classes:$ve,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:p9e});return b.jsx(De,{ref:t,mod:[{"data-with-border":l},h],...p("root"),variant:f,...m})});Os.classes=$ve;Os.displayName="@mantine/core/Paper";function Lve(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return t}function rie(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function iie(e,t,n,r,i){return e==="center"||r==="center"?{left:t}:e==="end"?{[i==="ltr"?"right":"left"]:n}:e==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const m9e={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function g9e({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,arrowX:o,arrowY:s,dir:a}){const[l,u="center"]=e.split("-"),c={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[m9e[l]]:r},d=-t/2;return l==="left"?{...c,...rie(u,s,n,i),right:d,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:l==="right"?{...c,...rie(u,s,n,i),left:d,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:l==="top"?{...c,...iie(u,o,n,i,a),bottom:d,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:l==="bottom"?{...c,...iie(u,o,n,i,a),top:d,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const EV=A.forwardRef(({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,visible:o,arrowX:s,arrowY:a,style:l,...u},c)=>{const{dir:d}=su();return o?b.jsx("div",{...u,ref:c,style:{...l,...g9e({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,dir:d,arrowX:s,arrowY:a})}}):null});EV.displayName="@mantine/core/FloatingArrow";var Fve={root:"m_9814e45f"};const y9e={zIndex:ou("modal")},v9e=(e,{gradient:t,color:n,backgroundOpacity:r,blur:i,radius:o,zIndex:s})=>({root:{"--overlay-bg":t||(n!==void 0||r!==void 0)&&Uf(n||"#000",r??.6)||void 0,"--overlay-filter":i?`blur(${Ye(i)})`:void 0,"--overlay-radius":o===void 0?void 0:jr(o),"--overlay-z-index":s?.toString()}}),Zw=Bo((e,t)=>{const n=qe("Overlay",y9e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,fixed:u,center:c,children:d,radius:f,zIndex:h,gradient:m,blur:p,color:g,backgroundOpacity:v,mod:y,...w}=n,_=Rt({name:"Overlay",props:n,classes:Fve,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:v9e});return b.jsx(De,{ref:t,..._("root"),mod:[{center:c,fixed:u},y],...w,children:d})});Zw.classes=Fve;Zw.displayName="@mantine/core/Overlay";function EF(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}function b9e({target:e,reuseTargetNode:t,...n}){if(e)return typeof e=="string"?document.querySelector(e)||EF(n):e;if(t){const r=document.querySelector("[data-mantine-shared-portal-node]");if(r)return r;const i=EF(n);return i.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(i),i}return EF(n)}const w9e={},jve=nt((e,t)=>{const{children:n,target:r,reuseTargetNode:i,...o}=qe("Portal",w9e,e),[s,a]=A.useState(!1),l=A.useRef(null);return L0(()=>(a(!0),l.current=b9e({target:r,reuseTargetNode:i,...o}),m3(t,l.current),!r&&!i&&l.current&&document.body.appendChild(l.current),()=>{!r&&!i&&l.current&&document.body.removeChild(l.current)}),[r]),!s||!l.current?null:kd.createPortal(b.jsx(b.Fragment,{children:n}),l.current)});jve.displayName="@mantine/core/Portal";const j0=nt(({withinPortal:e=!0,children:t,...n},r)=>Yye()==="test"||!e?b.jsx(b.Fragment,{children:t}):b.jsx(jve,{ref:r,...n,children:t}));j0.displayName="@mantine/core/OptionalPortal";const k_=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),fR={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...k_("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...k_("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...k_("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...k_("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...k_("top"),common:{transformOrigin:"top right"}}},oie={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function x9e({transition:e,state:t,duration:n,timingFunction:r}){const i={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in fR?{transitionProperty:fR[e].transitionProperty,...i,...fR[e].common,...fR[e][oie[t]]}:{}:{transitionProperty:e.transitionProperty,...i,...e.common,...e[oie[t]]}}function C9e({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:i,onExit:o,onEntered:s,onExited:a,enterDelay:l,exitDelay:u}){const c=eo(),d=c4(),f=c.respectReducedMotion?d:!1,[h,m]=A.useState(f?0:e),[p,g]=A.useState(r?"entered":"exited"),v=A.useRef(-1),y=A.useRef(-1),w=A.useRef(-1);function _(){window.clearTimeout(v.current),window.clearTimeout(y.current),cancelAnimationFrame(w.current)}const E=T=>{_();const k=T?i:o,R=T?s:a,I=f?0:T?e:t;m(I),I===0?(typeof k=="function"&&k(),typeof R=="function"&&R(),g(T?"entered":"exited")):w.current=requestAnimationFrame(()=>{wE.flushSync(()=>{g(T?"pre-entering":"pre-exiting")}),w.current=requestAnimationFrame(()=>{typeof k=="function"&&k(),g(T?"entering":"exiting"),v.current=window.setTimeout(()=>{typeof R=="function"&&R(),g(T?"entered":"exited")},I)})})},S=T=>{if(_(),typeof(T?l:u)!="number"){E(T);return}y.current=window.setTimeout(()=>{E(T)},T?l:u)};return vl(()=>{S(r)},[r]),A.useEffect(()=>()=>{_()},[]),{transitionDuration:h,transitionStatus:p,transitionTimingFunction:n||"ease"}}function Hc({keepMounted:e,transition:t="fade",duration:n=250,exitDuration:r=n,mounted:i,children:o,timingFunction:s="ease",onExit:a,onEntered:l,onEnter:u,onExited:c,enterDelay:d,exitDelay:f}){const h=Yye(),{transitionDuration:m,transitionStatus:p,transitionTimingFunction:g}=C9e({mounted:i,exitDuration:r,duration:n,timingFunction:s,onExit:a,onEntered:l,onEnter:u,onExited:c,enterDelay:d,exitDelay:f});return m===0||h==="test"?i?b.jsx(b.Fragment,{children:o({})}):e?o({display:"none"}):null:p==="exited"?e?o({display:"none"}):null:b.jsx(b.Fragment,{children:o(x9e({transition:t,duration:m,state:p,timingFunction:g}))})}Hc.displayName="@mantine/core/Transition";const[_9e,Bve]=ua("Popover component was not found in the tree");function gT({children:e,active:t=!0,refProp:n="ref",innerRef:r}){const i=LLe(t),o=uo(i,r);return _m(e)?A.cloneElement(e,{[n]:o}):e}function zve(e){return b.jsx(_V,{tabIndex:-1,"data-autofocus":!0,...e})}gT.displayName="@mantine/core/FocusTrap";zve.displayName="@mantine/core/FocusTrapInitialFocus";gT.InitialFocus=zve;var Uve={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const E9e={},SV=nt((e,t)=>{const n=qe("PopoverDropdown",E9e,e),{className:r,style:i,vars:o,children:s,onKeyDownCapture:a,variant:l,classNames:u,styles:c,...d}=n,f=Bve(),h=jye({opened:f.opened,shouldReturnFocus:f.returnFocus}),m=f.withRoles?{"aria-labelledby":f.getTargetId(),id:f.getDropdownId(),role:"dialog",tabIndex:-1}:{},p=uo(t,f.floating);return f.disabled?null:b.jsx(j0,{...f.portalProps,withinPortal:f.withinPortal,children:b.jsx(Hc,{mounted:f.opened,...f.transitionProps,transition:f.transitionProps?.transition||"fade",duration:f.transitionProps?.duration??150,keepMounted:f.keepMounted,exitDuration:typeof f.transitionProps?.exitDuration=="number"?f.transitionProps.exitDuration:f.transitionProps?.duration,children:g=>b.jsx(gT,{active:f.trapFocus&&f.opened,innerRef:p,children:b.jsxs(De,{...m,...d,variant:l,onKeyDownCapture:ELe(()=>{f.onClose?.(),f.onDismiss?.()},{active:f.closeOnEscape,onTrigger:h,onKeyDown:a}),"data-position":f.placement,"data-fixed":f.floatingStrategy==="fixed"||void 0,...f.getStyles("dropdown",{className:r,props:n,classNames:u,styles:c,style:[{...g,zIndex:f.zIndex,top:f.y??0,left:f.x??0,width:f.width==="target"?void 0:Ye(f.width)},f.resolvedStyles.dropdown,c?.dropdown,i]}),children:[s,b.jsx(EV,{ref:f.arrowRef,arrowX:f.arrowX,arrowY:f.arrowY,visible:f.withArrow,position:f.placement,arrowSize:f.arrowSize,arrowRadius:f.arrowRadius,arrowOffset:f.arrowOffset,arrowPosition:f.arrowPosition,...f.getStyles("arrow",{props:n,classNames:u,styles:c})})]})})})})});SV.classes=Uve;SV.displayName="@mantine/core/PopoverDropdown";const S9e={refProp:"ref",popupType:"dialog"},Hve=nt((e,t)=>{const{children:n,refProp:r,popupType:i,...o}=qe("PopoverTarget",S9e,e);if(!_m(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=o,a=Bve(),l=uo(a.reference,d4(n),t),u=a.withRoles?{"aria-haspopup":i,"aria-expanded":a.opened,"aria-controls":a.getDropdownId(),id:a.getTargetId()}:{};return A.cloneElement(n,{...s,...u,...a.targetProps,className:Nt(a.targetProps.className,s.className,n.props.className),[r]:l,...a.controlled?null:{onClick:a.onToggle}})});Hve.displayName="@mantine/core/PopoverTarget";function qve({opened:e,floating:t,position:n,positionDependencies:r}){const[i,o]=A.useState(0);A.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current&&e)return wje(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,i,n]),vl(()=>{t.update()},r),vl(()=>{o(s=>s+1)},[e])}function T9e(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function k9e(e,t){const n=T9e(e.middlewares),r=[yve(e.offset)];return n.shift&&r.push(mV(typeof n.shift=="boolean"?{limiter:Kre(),padding:5}:{limiter:Kre(),padding:5,...n.shift})),n.flip&&r.push(typeof n.flip=="boolean"?w3():w3(n.flip)),n.inline&&r.push(typeof n.inline=="boolean"?lS():lS(n.inline)),r.push(vve({element:e.arrowRef,padding:e.arrowOffset})),(n.size||e.width==="target")&&r.push(Pje({...typeof n.size=="boolean"?{}:n.size,apply({rects:i,availableWidth:o,availableHeight:s,...a}){const u=t().refs.floating.current?.style??{};n.size&&(typeof n.size=="object"&&n.size.apply?n.size.apply({rects:i,availableWidth:o,availableHeight:s,...a}):Object.assign(u,{maxWidth:`${o}px`,maxHeight:`${s}px`})),e.width==="target"&&Object.assign(u,{width:`${i.reference.width}px`})}})),r}function A9e(e){const[t,n]=qi({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=A.useRef(t),i=()=>{t&&!e.disabled&&n(!1)},o=()=>!e.disabled&&n(!t),s=bV({strategy:e.strategy,placement:e.position,middleware:k9e(e,()=>s)});return qve({opened:t,position:e.position,positionDependencies:e.positionDependencies||[],floating:s}),vl(()=>{e.onPositionChange?.(s.placement)},[s.placement]),vl(()=>{t!==r.current&&(t?e.onOpen?.():e.onClose?.()),r.current=t},[t,e.onClose,e.onOpen]),{floating:s,controlled:typeof e.opened=="boolean",opened:t,onClose:i,onToggle:o}}const R9e={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:ou("popover"),__staticSelector:"Popover",width:"max-content"},I9e=(e,{radius:t,shadow:n})=>({dropdown:{"--popover-radius":t===void 0?void 0:jr(t),"--popover-shadow":eV(n)}});function Cr(e){const t=qe("Popover",R9e,e),{children:n,position:r,offset:i,onPositionChange:o,positionDependencies:s,opened:a,transitionProps:l,onExitTransitionEnd:u,onEnterTransitionEnd:c,width:d,middlewares:f,withArrow:h,arrowSize:m,arrowOffset:p,arrowRadius:g,arrowPosition:v,unstyled:y,classNames:w,styles:_,closeOnClickOutside:E,withinPortal:S,portalProps:T,closeOnEscape:k,clickOutsideEvents:R,trapFocus:I,onClose:P,onDismiss:N,onOpen:M,onChange:O,zIndex:j,radius:U,shadow:q,id:W,defaultOpened:V,__staticSelector:z,withRoles:L,disabled:H,returnFocus:B,variant:Y,keepMounted:Q,vars:ne,floatingStrategy:ce,withOverlay:le,overlayProps:ue,...ae}=t,te=Rt({name:z,props:t,classes:Uve,classNames:w,styles:_,unstyled:y,rootSelector:"dropdown",vars:ne,varsResolver:I9e}),{resolvedStyles:se}=of({classNames:w,styles:_,props:t}),we=A.useRef(null),[X,he]=A.useState(null),[ge,re]=A.useState(null),{dir:ee}=su(),fe=Ha(W),Re=A9e({middlewares:f,width:d,position:Lve(ee,r),offset:typeof i=="number"?i+(h?m/2:0):i,arrowRef:we,arrowOffset:p,onPositionChange:o,positionDependencies:s,opened:a,defaultOpened:V,onChange:O,onOpen:M,onClose:P,onDismiss:N,strategy:ce,disabled:H});Lye(()=>{E&&(Re.onClose(),N?.())},R,[X,ge]);const Oe=A.useCallback(ke=>{he(ke),Re.floating.refs.setReference(ke)},[Re.floating.refs.setReference]),Ae=A.useCallback(ke=>{re(ke),Re.floating.refs.setFloating(ke)},[Re.floating.refs.setFloating]),Se=A.useCallback(()=>{l?.onExited?.(),u?.()},[l?.onExited,u]),xe=A.useCallback(()=>{l?.onEntered?.(),c?.()},[l?.onEntered,c]);return b.jsxs(_9e,{value:{returnFocus:B,disabled:H,controlled:Re.controlled,reference:Oe,floating:Ae,x:Re.floating.x,y:Re.floating.y,arrowX:Re.floating?.middlewareData?.arrow?.x,arrowY:Re.floating?.middlewareData?.arrow?.y,opened:Re.opened,arrowRef:we,transitionProps:{...l,onExited:Se,onEntered:xe},width:d,withArrow:h,arrowSize:m,arrowOffset:p,arrowRadius:g,arrowPosition:v,placement:Re.floating.placement,trapFocus:I,withinPortal:S,portalProps:T,zIndex:j,radius:U,shadow:q,closeOnEscape:k,onDismiss:N,onClose:Re.onClose,onToggle:Re.onToggle,getTargetId:()=>`${fe}-target`,getDropdownId:()=>`${fe}-dropdown`,withRoles:L,targetProps:ae,__staticSelector:z,classNames:w,styles:_,unstyled:y,variant:Y,keepMounted:Q,getStyles:te,resolvedStyles:se,floatingStrategy:ce},children:[n,le&&b.jsx(Hc,{transition:"fade",mounted:Re.opened,duration:l?.duration||250,exitDuration:l?.exitDuration||250,children:ke=>b.jsx(j0,{withinPortal:S,children:b.jsx(Zw,{...ue,...te("overlay",{className:ue?.className,style:[ke,ue?.style]})})})})]})}Cr.Target=Hve;Cr.Dropdown=SV;Cr.displayName="@mantine/core/Popover";Cr.extend=e=>e;var Rd={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const Vve=A.forwardRef(({className:e,...t},n)=>b.jsxs(De,{component:"span",className:Nt(Rd.barsLoader,e),...t,ref:n,children:[b.jsx("span",{className:Rd.bar}),b.jsx("span",{className:Rd.bar}),b.jsx("span",{className:Rd.bar})]}));Vve.displayName="@mantine/core/Bars";const Wve=A.forwardRef(({className:e,...t},n)=>b.jsxs(De,{component:"span",className:Nt(Rd.dotsLoader,e),...t,ref:n,children:[b.jsx("span",{className:Rd.dot}),b.jsx("span",{className:Rd.dot}),b.jsx("span",{className:Rd.dot})]}));Wve.displayName="@mantine/core/Dots";const Gve=A.forwardRef(({className:e,...t},n)=>b.jsx(De,{component:"span",className:Nt(Rd.ovalLoader,e),...t,ref:n}));Gve.displayName="@mantine/core/Oval";const Yve={bars:Vve,oval:Gve,dots:Wve},D9e={loaders:Yve,type:"oval"},P9e=(e,{size:t,color:n})=>({root:{"--loader-size":hn(t,"loader-size"),"--loader-color":n?qr(n,e):void 0}}),qc=nt((e,t)=>{const n=qe("Loader",D9e,e),{size:r,color:i,type:o,vars:s,className:a,style:l,classNames:u,styles:c,unstyled:d,loaders:f,variant:h,children:m,...p}=n,g=Rt({name:"Loader",props:n,classes:Rd,className:a,style:l,classNames:u,styles:c,unstyled:d,vars:s,varsResolver:P9e});return m?b.jsx(De,{...g("root"),ref:t,...p,children:m}):b.jsx(De,{...g("root"),ref:t,component:f[o],variant:h,size:r,...p})});qc.defaultLoaders=Yve;qc.classes=Rd;qc.displayName="@mantine/core/Loader";var Qx={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const sie={orientation:"horizontal"},O9e=(e,{borderWidth:t})=>({group:{"--ai-border-width":Ye(t)}}),TV=nt((e,t)=>{const n=qe("ActionIconGroup",sie,e),{className:r,style:i,classNames:o,styles:s,unstyled:a,orientation:l,vars:u,borderWidth:c,variant:d,mod:f,...h}=qe("ActionIconGroup",sie,e),m=Rt({name:"ActionIconGroup",props:n,classes:Qx,className:r,style:i,classNames:o,styles:s,unstyled:a,vars:u,varsResolver:O9e,rootSelector:"group"});return b.jsx(De,{...m("group"),ref:t,variant:d,mod:[{"data-orientation":l},f],role:"group",...h})});TV.classes=Qx;TV.displayName="@mantine/core/ActionIconGroup";const aie={},N9e=(e,{radius:t,color:n,gradient:r,variant:i,autoContrast:o,size:s})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:o});return{groupSection:{"--section-height":hn(s,"section-height"),"--section-padding-x":hn(s,"section-padding-x"),"--section-fz":lo(s),"--section-radius":t===void 0?void 0:jr(t),"--section-bg":n||i?a.background:void 0,"--section-color":a.color,"--section-bd":n||i?a.border:void 0}}},kV=nt((e,t)=>{const n=qe("ActionIconGroupSection",aie,e),{className:r,style:i,classNames:o,styles:s,unstyled:a,vars:l,variant:u,gradient:c,radius:d,autoContrast:f,...h}=qe("ActionIconGroupSection",aie,e),m=Rt({name:"ActionIconGroupSection",props:n,classes:Qx,className:r,style:i,classNames:o,styles:s,unstyled:a,vars:l,varsResolver:N9e,rootSelector:"groupSection"});return b.jsx(De,{...m("groupSection"),ref:t,variant:u,...h})});kV.classes=Qx;kV.displayName="@mantine/core/ActionIconGroupSection";const M9e={},$9e=(e,{size:t,radius:n,variant:r,gradient:i,color:o,autoContrast:s})=>{const a=e.variantColorResolver({color:o||e.primaryColor,theme:e,gradient:i,variant:r||"filled",autoContrast:s});return{root:{"--ai-size":hn(t,"ai-size"),"--ai-radius":n===void 0?void 0:jr(n),"--ai-bg":o||r?a.background:void 0,"--ai-hover":o||r?a.hover:void 0,"--ai-hover-color":o||r?a.hoverColor:void 0,"--ai-color":a.color,"--ai-bd":o||r?a.border:void 0}}},on=Bo((e,t)=>{const n=qe("ActionIcon",M9e,e),{className:r,unstyled:i,variant:o,classNames:s,styles:a,style:l,loading:u,loaderProps:c,size:d,color:f,radius:h,__staticSelector:m,gradient:p,vars:g,children:v,disabled:y,"data-disabled":w,autoContrast:_,mod:E,...S}=n,T=Rt({name:["ActionIcon",m],props:n,className:r,style:l,classes:Qx,classNames:s,styles:a,unstyled:i,vars:g,varsResolver:$9e});return b.jsxs(Yo,{...T("root",{active:!y&&!u&&!w}),...S,unstyled:i,variant:o,size:d,disabled:y||u,ref:t,mod:[{loading:u,disabled:y||w},E],children:[b.jsx(Hc,{mounted:!!u,transition:"slide-down",duration:150,children:k=>b.jsx(De,{component:"span",...T("loader",{style:k}),"aria-hidden":!0,children:b.jsx(qc,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...c})})}),b.jsx(De,{component:"span",mod:{loading:u},...T("icon"),children:v})]})});on.classes=Qx;on.displayName="@mantine/core/ActionIcon";on.Group=TV;on.GroupSection=kV;const Kve=A.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...n},r)=>b.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:r,...n,children:b.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));Kve.displayName="@mantine/core/CloseIcon";var Xve={root:"m_86a44da5","root--subtle":"m_220c80f2"};const L9e={variant:"subtle"},F9e=(e,{size:t,radius:n,iconSize:r})=>({root:{"--cb-size":hn(t,"cb-size"),"--cb-radius":n===void 0?void 0:jr(n),"--cb-icon-size":Ye(r)}}),Tm=Bo((e,t)=>{const n=qe("CloseButton",L9e,e),{iconSize:r,children:i,vars:o,radius:s,className:a,classNames:l,style:u,styles:c,unstyled:d,"data-disabled":f,disabled:h,variant:m,icon:p,mod:g,__staticSelector:v,...y}=n,w=Rt({name:v||"CloseButton",props:n,className:a,style:u,classes:Xve,classNames:l,styles:c,unstyled:d,vars:o,varsResolver:F9e});return b.jsxs(Yo,{ref:t,...y,unstyled:d,variant:m,disabled:h,mod:[{disabled:h||f},g],...w("root",{variant:m,active:!h&&!f}),children:[p||b.jsx(Kve,{}),i]})});Tm.classes=Xve;Tm.displayName="@mantine/core/CloseButton";function j9e(e){return A.Children.toArray(e).filter(Boolean)}var Qve={root:"m_4081bf90"};const B9e={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},z9e=(e,{grow:t,preventGrowOverflow:n,gap:r,align:i,justify:o,wrap:s},{childWidth:a})=>({root:{"--group-child-width":t&&n?a:void 0,"--group-gap":Di(r),"--group-align":i,"--group-justify":o,"--group-wrap":s}}),ln=nt((e,t)=>{const n=qe("Group",B9e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,children:l,gap:u,align:c,justify:d,wrap:f,grow:h,preventGrowOverflow:m,vars:p,variant:g,__size:v,mod:y,...w}=n,_=j9e(l),E=_.length,S=Di(u??"md"),k={childWidth:`calc(${100/E}% - (${S} - ${S} / ${E}))`},R=Rt({name:"Group",props:n,stylesCtx:k,className:i,style:o,classes:Qve,classNames:r,styles:s,unstyled:a,vars:p,varsResolver:z9e});return b.jsx(De,{...R("root"),ref:t,variant:g,mod:[{grow:h},y],size:v,...w,children:_})});ln.classes=Qve;ln.displayName="@mantine/core/Group";const[U9e,km]=ua("ModalBase component was not found in tree");function H9e({opened:e,transitionDuration:t}){const[n,r]=A.useState(e),i=A.useRef(-1),s=c4()?0:t;return A.useEffect(()=>(e?(r(!0),window.clearTimeout(i.current)):s===0?r(!1):i.current=window.setTimeout(()=>r(!1),s),()=>window.clearTimeout(i.current)),[e,s]),n}function q9e({id:e,transitionProps:t,opened:n,trapFocus:r,closeOnEscape:i,onClose:o,returnFocus:s}){const a=Ha(e),[l,u]=A.useState(!1),[c,d]=A.useState(!1),f=typeof t?.duration=="number"?t?.duration:200,h=H9e({opened:n,transitionDuration:f});return Hye("keydown",m=>{m.key==="Escape"&&i&&!m.isComposing&&n&&m.target?.getAttribute("data-mantine-stop-propagation")!=="true"&&o()},{capture:!0}),jye({opened:n,shouldReturnFocus:r&&s}),{_id:a,titleMounted:l,bodyMounted:c,shouldLockScroll:h,setTitleMounted:u,setBodyMounted:d}}const Jve=A.forwardRef(({keepMounted:e,opened:t,onClose:n,id:r,transitionProps:i,onExitTransitionEnd:o,onEnterTransitionEnd:s,trapFocus:a,closeOnEscape:l,returnFocus:u,closeOnClickOutside:c,withinPortal:d,portalProps:f,lockScroll:h,children:m,zIndex:p,shadow:g,padding:v,__vars:y,unstyled:w,removeScrollProps:_,...E},S)=>{const{_id:T,titleMounted:k,bodyMounted:R,shouldLockScroll:I,setTitleMounted:P,setBodyMounted:N}=q9e({id:r,transitionProps:i,opened:t,trapFocus:a,closeOnEscape:l,onClose:n,returnFocus:u}),{key:M,...O}=_||{};return b.jsx(j0,{...f,withinPortal:d,children:b.jsx(U9e,{value:{opened:t,onClose:n,closeOnClickOutside:c,onExitTransitionEnd:o,onEnterTransitionEnd:s,transitionProps:{...i,keepMounted:e},getTitleId:()=>`${T}-title`,getBodyId:()=>`${T}-body`,titleMounted:k,bodyMounted:R,setTitleMounted:P,setBodyMounted:N,trapFocus:a,closeOnEscape:l,zIndex:p,unstyled:w},children:b.jsx(Xw,{enabled:I&&h,...O,children:b.jsx(De,{ref:S,...E,__vars:{...y,"--mb-z-index":(p||ou("modal")).toString(),"--mb-shadow":eV(g),"--mb-padding":Di(v)},children:m})},M)})})});Jve.displayName="@mantine/core/ModalBase";function V9e(){const e=km();return A.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var ex={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const Zve=A.forwardRef(({className:e,...t},n)=>{const r=V9e(),i=km();return b.jsx(De,{ref:n,...t,id:r,className:Nt({[ex.body]:!i.unstyled},e)})});Zve.displayName="@mantine/core/ModalBaseBody";const ebe=A.forwardRef(({className:e,onClick:t,...n},r)=>{const i=km();return b.jsx(Tm,{ref:r,...n,onClick:o=>{i.onClose(),t?.(o)},className:Nt({[ex.close]:!i.unstyled},e),unstyled:i.unstyled})});ebe.displayName="@mantine/core/ModalBaseCloseButton";const tbe=A.forwardRef(({transitionProps:e,className:t,innerProps:n,onKeyDown:r,style:i,...o},s)=>{const a=km();return b.jsx(Hc,{mounted:a.opened,transition:"pop",...a.transitionProps,onExited:()=>{a.onExitTransitionEnd?.(),a.transitionProps?.onExited?.()},onEntered:()=>{a.onEnterTransitionEnd?.(),a.transitionProps?.onEntered?.()},...e,children:l=>b.jsx("div",{...n,className:Nt({[ex.inner]:!a.unstyled},n.className),children:b.jsx(gT,{active:a.opened&&a.trapFocus,innerRef:s,children:b.jsx(Os,{...o,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":a.bodyMounted?a.getBodyId():void 0,"aria-labelledby":a.titleMounted?a.getTitleId():void 0,style:[i,l],className:Nt({[ex.content]:!a.unstyled},t),unstyled:a.unstyled,children:o.children})})})})});tbe.displayName="@mantine/core/ModalBaseContent";const nbe=A.forwardRef(({className:e,...t},n)=>{const r=km();return b.jsx(De,{component:"header",ref:n,className:Nt({[ex.header]:!r.unstyled},e),...t})});nbe.displayName="@mantine/core/ModalBaseHeader";const W9e={duration:200,timingFunction:"ease",transition:"fade"};function G9e(e){const t=km();return{...W9e,...t.transitionProps,...e}}const rbe=A.forwardRef(({onClick:e,transitionProps:t,style:n,visible:r,...i},o)=>{const s=km(),a=G9e(t);return b.jsx(Hc,{mounted:r!==void 0?r:s.opened,...a,transition:"fade",children:l=>b.jsx(Zw,{ref:o,fixed:!0,style:[n,l],zIndex:s.zIndex,unstyled:s.unstyled,onClick:u=>{e?.(u),s.closeOnClickOutside&&s.onClose()},...i})})});rbe.displayName="@mantine/core/ModalBaseOverlay";function Y9e(){const e=km();return A.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const ibe=A.forwardRef(({className:e,...t},n)=>{const r=Y9e(),i=km();return b.jsx(De,{component:"h2",ref:n,className:Nt({[ex.title]:!i.unstyled},e),...t,id:r})});ibe.displayName="@mantine/core/ModalBaseTitle";function K9e({children:e}){return b.jsx(b.Fragment,{children:e})}const[X9e,Q9e]=Em({size:"sm"}),J9e={},obe=nt((e,t)=>{const n=qe("InputClearButton",J9e,e),{size:r,variant:i,vars:o,classNames:s,styles:a,...l}=n,u=Q9e(),{resolvedClassNames:c,resolvedStyles:d}=of({classNames:s,styles:a,props:n});return b.jsx(Tm,{variant:i||"transparent",ref:t,size:r||u?.size||"sm",classNames:c,styles:d,__staticSelector:"InputClearButton",...l})});obe.displayName="@mantine/core/InputClearButton";const[Z9e,Jx]=Em({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var Vc={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const lie={},eBe=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${lo(t)} - ${Ye(2)})`}}),C4=nt((e,t)=>{const n=qe("InputDescription",lie,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,size:u,__staticSelector:c,__inheritStyles:d=!0,variant:f,...h}=qe("InputDescription",lie,n),m=Jx(),p=Rt({name:["InputWrapper",c],props:n,classes:Vc,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"description",vars:l,varsResolver:eBe}),g=d&&m?.getStyles||p;return b.jsx(De,{component:"p",ref:t,variant:f,size:u,...g("description",m?.getStyles?{className:i,style:o}:void 0),...h})});C4.classes=Vc;C4.displayName="@mantine/core/InputDescription";const tBe={},nBe=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${lo(t)} - ${Ye(2)})`}}),_4=nt((e,t)=>{const n=qe("InputError",tBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,size:u,__staticSelector:c,__inheritStyles:d=!0,variant:f,...h}=n,m=Rt({name:["InputWrapper",c],props:n,classes:Vc,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"error",vars:l,varsResolver:nBe}),p=Jx(),g=d&&p?.getStyles||m;return b.jsx(De,{component:"p",ref:t,variant:f,size:u,...g("error",p?.getStyles?{className:i,style:o}:void 0),...h})});_4.classes=Vc;_4.displayName="@mantine/core/InputError";const uie={labelElement:"label"},rBe=(e,{size:t})=>({label:{"--input-label-size":lo(t),"--input-asterisk-color":void 0}}),E4=nt((e,t)=>{const n=qe("InputLabel",uie,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,labelElement:u,size:c,required:d,htmlFor:f,onMouseDown:h,children:m,__staticSelector:p,variant:g,mod:v,...y}=qe("InputLabel",uie,n),w=Rt({name:["InputWrapper",p],props:n,classes:Vc,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"label",vars:l,varsResolver:rBe}),_=Jx(),E=_?.getStyles||w;return b.jsxs(De,{...E("label",_?.getStyles?{className:i,style:o}:void 0),component:u,variant:g,size:c,ref:t,htmlFor:u==="label"?f:void 0,mod:[{required:d},v],onMouseDown:S=>{h?.(S),!S.defaultPrevented&&S.detail>1&&S.preventDefault()},...y,children:[m,d&&b.jsx("span",{...E("required"),"aria-hidden":!0,children:" *"})]})});E4.classes=Vc;E4.displayName="@mantine/core/InputLabel";const cie={},AV=nt((e,t)=>{const n=qe("InputPlaceholder",cie,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,__staticSelector:u,variant:c,error:d,mod:f,...h}=qe("InputPlaceholder",cie,n),m=Rt({name:["InputPlaceholder",u],props:n,classes:Vc,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"placeholder"});return b.jsx(De,{...m("placeholder"),mod:[{error:!!d},f],component:"span",variant:c,ref:t,...h})});AV.classes=Vc;AV.displayName="@mantine/core/InputPlaceholder";function iBe(e,{hasDescription:t,hasError:n}){const r=e.findIndex(l=>l==="input"),i=e.slice(0,r),o=e.slice(r+1),s=t&&i.includes("description")||n&&i.includes("error");return{offsetBottom:t&&o.includes("description")||n&&o.includes("error"),offsetTop:s}}const oBe={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},sBe=(e,{size:t})=>({label:{"--input-label-size":lo(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${lo(t)} - ${Ye(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${lo(t)} - ${Ye(2)})`}}),RV=nt((e,t)=>{const n=qe("InputWrapper",oBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,size:u,variant:c,__staticSelector:d,inputContainer:f,inputWrapperOrder:h,label:m,error:p,description:g,labelProps:v,descriptionProps:y,errorProps:w,labelElement:_,children:E,withAsterisk:S,id:T,required:k,__stylesApiProps:R,mod:I,...P}=n,N=Rt({name:["InputWrapper",d],props:R||n,classes:Vc,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:sBe}),M={size:u,variant:c,__staticSelector:d},O=Ha(T),j=typeof S=="boolean"?S:k,U=w?.id||`${O}-error`,q=y?.id||`${O}-description`,W=O,V=!!p&&typeof p!="boolean",z=!!g,L=`${V?U:""} ${z?q:""}`,H=L.trim().length>0?L.trim():void 0,B=v?.id||`${O}-label`,Y=m&&b.jsx(E4,{labelElement:_,id:B,htmlFor:W,required:j,...M,...v,children:m},"label"),Q=z&&b.jsx(C4,{...y,...M,size:y?.size||M.size,id:y?.id||q,children:g},"description"),ne=b.jsx(A.Fragment,{children:f(E)},"input"),ce=V&&A.createElement(_4,{...w,...M,size:w?.size||M.size,key:"error",id:w?.id||U},p),le=h.map(ue=>{switch(ue){case"label":return Y;case"input":return ne;case"description":return Q;case"error":return ce;default:return null}});return b.jsx(Z9e,{value:{getStyles:N,describedBy:H,inputId:W,labelId:B,...iBe(h,{hasDescription:z,hasError:V})},children:b.jsx(De,{ref:t,variant:c,size:u,mod:[{error:!!p},I],...N("root"),...P,children:le})})});RV.classes=Vc;RV.displayName="@mantine/core/InputWrapper";const aBe={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},lBe=(e,t,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":hn(t.size,"input-height"),"--input-fz":lo(t.size),"--input-radius":t.radius===void 0?void 0:jr(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?Ye(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?Ye(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?hn(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),Or=Bo((e,t)=>{const n=qe("Input",aBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,required:l,__staticSelector:u,__stylesApiProps:c,size:d,wrapperProps:f,error:h,disabled:m,leftSection:p,leftSectionProps:g,leftSectionWidth:v,rightSection:y,rightSectionProps:w,rightSectionWidth:_,rightSectionPointerEvents:E,leftSectionPointerEvents:S,variant:T,vars:k,pointer:R,multiline:I,radius:P,id:N,withAria:M,withErrorStyles:O,mod:j,inputSize:U,__clearSection:q,__clearable:W,__defaultRightSection:V,...z}=n,{styleProps:L,rest:H}=xb(z),B=Jx(),Y={offsetBottom:B?.offsetBottom,offsetTop:B?.offsetTop},Q=Rt({name:["Input",u],props:c||n,classes:Vc,className:i,style:o,classNames:r,styles:s,unstyled:a,stylesCtx:Y,rootSelector:"wrapper",vars:k,varsResolver:lBe}),ne=M?{required:l,disabled:m,"aria-invalid":!!h,"aria-describedby":B?.describedBy,id:B?.inputId||N}:{},ce=y||W&&q||V;return b.jsx(X9e,{value:{size:d||"sm"},children:b.jsxs(De,{...Q("wrapper"),...L,...f,mod:[{error:!!h&&O,pointer:R,disabled:m,multiline:I,"data-with-right-section":!!ce,"data-with-left-section":!!p},j],variant:T,size:d,children:[p&&b.jsx("div",{...g,"data-position":"left",...Q("section",{className:g?.className,style:g?.style}),children:p}),b.jsx(De,{component:"input",...H,...ne,ref:t,required:l,mod:{disabled:m,error:!!h&&O},variant:T,__size:U,...Q("input")}),ce&&b.jsx("div",{...w,"data-position":"right",...Q("section",{className:w?.className,style:w?.style}),children:ce})]})})});Or.classes=Vc;Or.Wrapper=RV;Or.Label=E4;Or.Error=_4;Or.Description=C4;Or.Placeholder=AV;Or.ClearButton=obe;Or.displayName="@mantine/core/Input";function IV(e,t,n){const r=qe(e,t,n),{label:i,description:o,error:s,required:a,classNames:l,styles:u,className:c,unstyled:d,__staticSelector:f,__stylesApiProps:h,errorProps:m,labelProps:p,descriptionProps:g,wrapperProps:v,id:y,size:w,style:_,inputContainer:E,inputWrapperOrder:S,withAsterisk:T,variant:k,vars:R,mod:I,...P}=r,{styleProps:N,rest:M}=xb(P),O={label:i,description:o,error:s,required:a,classNames:l,className:c,__staticSelector:f,__stylesApiProps:h||r,errorProps:m,labelProps:p,descriptionProps:g,unstyled:d,styles:u,size:w,style:_,inputContainer:E,inputWrapperOrder:S,withAsterisk:T,variant:k,id:y,mod:I,...v};return{...M,classNames:l,styles:u,unstyled:d,wrapperProps:{...O,...N},inputProps:{required:a,classNames:l,styles:u,unstyled:d,size:w,__staticSelector:f,__stylesApiProps:h||r,error:s,variant:k,id:y}}}const uBe={__staticSelector:"InputBase",withAria:!0},_l=Bo((e,t)=>{const{inputProps:n,wrapperProps:r,...i}=IV("InputBase",uBe,e);return b.jsx(Or.Wrapper,{...r,children:b.jsx(Or,{...n,...i,ref:t})})});_l.classes={...Or.classes,...Or.Wrapper.classes};_l.displayName="@mantine/core/InputBase";const cBe={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var sbe={root:"m_8bffd616"};const dBe={},lt=Bo((e,t)=>{const n=qe("Flex",dBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,gap:u,rowGap:c,columnGap:d,align:f,justify:h,wrap:m,direction:p,...g}=n,v=Rt({name:"Flex",classes:sbe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l}),y=eo(),w=pT(),_=Zye({styleProps:{gap:u,rowGap:c,columnGap:d,align:f,justify:h,wrap:m,direction:p},theme:y,data:cBe});return b.jsxs(b.Fragment,{children:[_.hasResponsiveStyles&&b.jsx(wb,{selector:`.${w}`,styles:_.styles,media:_.media}),b.jsx(De,{ref:t,...v("root",{className:w,style:$0(_.inlineStyles)}),...g})]})});lt.classes=sbe;lt.displayName="@mantine/core/Flex";function fBe(e,t){if(!t||!e)return!1;let n=t.parentNode;for(;n!=null;){if(n===e)return!0;n=n.parentNode}return!1}function hBe({target:e,parent:t,ref:n,displayAfterTransitionEnd:r}){const i=A.useRef(-1),[o,s]=A.useState(!1),[a,l]=A.useState(typeof r=="boolean"?r:!1),u=()=>{if(!e||!t||!n.current)return;const h=e.getBoundingClientRect(),m=t.getBoundingClientRect(),p=window.getComputedStyle(e),g=window.getComputedStyle(t),v=jg(p.borderTopWidth)+jg(g.borderTopWidth),y=jg(p.borderLeftWidth)+jg(g.borderLeftWidth),w={top:h.top-m.top-v,left:h.left-m.left-y,width:h.width,height:h.height};n.current.style.transform=`translateY(${w.top}px) translateX(${w.left}px)`,n.current.style.width=`${w.width}px`,n.current.style.height=`${w.height}px`},c=()=>{window.clearTimeout(i.current),n.current&&(n.current.style.transitionDuration="0ms"),u(),i.current=window.setTimeout(()=>{n.current&&(n.current.style.transitionDuration="")},30)},d=A.useRef(null),f=A.useRef(null);return A.useEffect(()=>{if(u(),e)return d.current=new ResizeObserver(c),d.current.observe(e),t&&(f.current=new ResizeObserver(c),f.current.observe(t)),()=>{d.current?.disconnect(),f.current?.disconnect()}},[t,e]),A.useEffect(()=>{if(t){const h=m=>{fBe(m.target,t)&&(c(),l(!1))};return t.addEventListener("transitionend",h),()=>{t.removeEventListener("transitionend",h)}}},[t]),KLe(()=>{Wye()!=="test"&&s(!0)},20,{autoInvoke:!0}),ZLe(h=>{h.forEach(m=>{m.type==="attributes"&&m.attributeName==="dir"&&c()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:o,hidden:a}}var abe={root:"m_96b553a6"};const pBe={},mBe=(e,{transitionDuration:t})=>({root:{"--transition-duration":typeof t=="number"?`${t}ms`:t}}),DV=nt((e,t)=>{const n=qe("FloatingIndicator",pBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,target:u,parent:c,transitionDuration:d,mod:f,displayAfterTransitionEnd:h,...m}=n,p=Rt({name:"FloatingIndicator",classes:abe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:mBe}),g=A.useRef(null),{initialized:v,hidden:y}=hBe({target:u,parent:c,ref:g,displayAfterTransitionEnd:h}),w=uo(t,g);return!u||!c?null:b.jsx(De,{ref:w,mod:[{initialized:v,hidden:y},f],...p("root"),...m})});DV.displayName="@mantine/core/FloatingIndicator";DV.classes=abe;function x3({style:e,size:t=16,...n}){return b.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:Ye(t),height:Ye(t),display:"block"},...n,children:b.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}x3.displayName="@mantine/core/AccordionChevron";var lbe={root:"m_7f854edf"};const gBe={position:{bottom:0,right:0},zIndex:ou("modal"),withinPortal:!0},yBe=(e,{zIndex:t,position:n})=>({root:{"--affix-z-index":t?.toString(),"--affix-top":Di(n?.top),"--affix-left":Di(n?.left),"--affix-bottom":Di(n?.bottom),"--affix-right":Di(n?.right)}}),PV=nt((e,t)=>{const n=qe("Affix",gBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,portalProps:u,zIndex:c,withinPortal:d,position:f,...h}=n,m=Rt({name:"Affix",classes:lbe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:yBe});return b.jsx(j0,{...u,withinPortal:d,children:b.jsx(De,{ref:t,...m("root"),...h})})});PV.classes=lbe;PV.displayName="@mantine/core/Affix";var ube={root:"m_66836ed3",wrapper:"m_a5d60502",body:"m_667c2793",title:"m_6a03f287",label:"m_698f4f23",icon:"m_667f2a6a",message:"m_7fa78076",closeButton:"m_87f54839"};const vBe={},bBe=(e,{radius:t,color:n,variant:r,autoContrast:i})=>{const o=e.variantColorResolver({color:n||e.primaryColor,theme:e,variant:r||"light",autoContrast:i});return{root:{"--alert-radius":t===void 0?void 0:jr(t),"--alert-bg":n||r?o.background:void 0,"--alert-color":o.color,"--alert-bd":n||r?o.border:void 0}}},pl=nt((e,t)=>{const n=qe("Alert",vBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,radius:u,color:c,title:d,children:f,id:h,icon:m,withCloseButton:p,onClose:g,closeButtonLabel:v,variant:y,autoContrast:w,..._}=n,E=Rt({name:"Alert",classes:ube,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:bBe}),S=Ha(h),T=d&&`${S}-title`||void 0,k=`${S}-body`;return b.jsx(De,{id:S,...E("root",{variant:y}),variant:y,ref:t,..._,role:"alert","aria-describedby":k,"aria-labelledby":T,children:b.jsxs("div",{...E("wrapper"),children:[m&&b.jsx("div",{...E("icon"),children:m}),b.jsxs("div",{...E("body"),children:[d&&b.jsx("div",{...E("title"),"data-with-close-button":p||void 0,children:b.jsx("span",{id:T,...E("label"),children:d})}),f&&b.jsx("div",{id:k,...E("message"),"data-variant":y,children:f})]}),p&&b.jsx(Tm,{...E("closeButton"),onClick:g,variant:"transparent",size:16,iconSize:16,"aria-label":v,unstyled:a})]})})});pl.classes=ube;pl.displayName="@mantine/core/Alert";var cbe={root:"m_b6d8b162"};function wBe(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const xBe={inherit:!1},CBe=(e,{variant:t,lineClamp:n,gradient:r,size:i,color:o})=>({root:{"--text-fz":lo(i),"--text-lh":$ye(i),"--text-gradient":t==="gradient"?b7(r,e):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":o?qr(o,e):void 0}}),$e=Bo((e,t)=>{const n=qe("Text",xBe,e),{lineClamp:r,truncate:i,inline:o,inherit:s,gradient:a,span:l,__staticSelector:u,vars:c,className:d,style:f,classNames:h,styles:m,unstyled:p,variant:g,mod:v,size:y,...w}=n,_=Rt({name:["Text",u],props:n,classes:cbe,className:d,style:f,classNames:h,styles:m,unstyled:p,vars:c,varsResolver:CBe});return b.jsx(De,{..._("root",{focusable:!0}),ref:t,component:l?"span":"p",variant:g,mod:[{"data-truncate":wBe(i),"data-line-clamp":typeof r=="number","data-inline":o,"data-inherit":s},v],size:y,...w})});$e.classes=cbe;$e.displayName="@mantine/core/Text";var dbe={root:"m_849cf0da"};const _Be={underline:"hover"},B0=Bo((e,t)=>{const{underline:n,className:r,unstyled:i,mod:o,...s}=qe("Anchor",_Be,e);return b.jsx($e,{component:"a",ref:t,className:Nt({[dbe.root]:!i},r),...s,mod:[{underline:n},o],__staticSelector:"Anchor",unstyled:i})});B0.classes=dbe;B0.displayName="@mantine/core/Anchor";const[EBe,Zx]=ua("AppShell was not found in tree");var z0={root:"m_89ab340",navbar:"m_45252eee",aside:"m_9cdde9a",header:"m_3b16f56b",main:"m_8983817",footer:"m_3840c879",section:"m_6dcfc7c7"};const SBe={},OV=nt((e,t)=>{const n=qe("AppShellAside",SBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...f}=n,h=Zx();return h.disabled?null:b.jsx(De,{component:"aside",ref:t,mod:[{"with-border":u??h.withBorder},d],...h.getStyles("aside",{className:i,classNames:r,styles:s,style:o}),...f,__vars:{"--app-shell-aside-z-index":`calc(${c??h.zIndex} + 1)`}})});OV.classes=z0;OV.displayName="@mantine/core/AppShellAside";const TBe={},NV=nt((e,t)=>{const n=qe("AppShellFooter",TBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...f}=n,h=Zx();return h.disabled?null:b.jsx(De,{component:"footer",ref:t,mod:[{"with-border":u??h.withBorder},d],...h.getStyles("footer",{className:Nt({[Xw.classNames.zeroRight]:h.offsetScrollbars},i),classNames:r,styles:s,style:o}),...f,__vars:{"--app-shell-footer-z-index":(c??h.zIndex)?.toString()}})});NV.classes=z0;NV.displayName="@mantine/core/AppShellFooter";const kBe={},MV=nt((e,t)=>{const n=qe("AppShellHeader",kBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...f}=n,h=Zx();return h.disabled?null:b.jsx(De,{component:"header",ref:t,mod:[{"with-border":u??h.withBorder},d],...h.getStyles("header",{className:Nt({[Xw.classNames.zeroRight]:h.offsetScrollbars},i),classNames:r,styles:s,style:o}),...f,__vars:{"--app-shell-header-z-index":(c??h.zIndex)?.toString()}})});MV.classes=z0;MV.displayName="@mantine/core/AppShellHeader";const ABe={},$V=nt((e,t)=>{const n=qe("AppShellMain",ABe,e),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=Zx();return b.jsx(De,{component:"main",ref:t,...u.getStyles("main",{className:i,style:o,classNames:r,styles:s}),...l})});$V.classes=z0;$V.displayName="@mantine/core/AppShellMain";function yT(e){return typeof e=="object"?e.base:e}function vT(e){const t=typeof e=="object"&&e!==null&&typeof e.base<"u"&&Object.keys(e).length===1;return typeof e=="number"||typeof e=="string"||t}function bT(e){return!(typeof e!="object"||e===null||Object.keys(e).length===1&&"base"in e)}function RBe({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,aside:r,theme:i}){const o=r?.width,s="translateX(var(--app-shell-aside-width))",a="translateX(calc(var(--app-shell-aside-width) * -1))";if(r?.breakpoint&&!r?.collapsed?.mobile&&(n[r?.breakpoint]=n[r?.breakpoint]||{},n[r?.breakpoint]["--app-shell-aside-width"]="100%",n[r?.breakpoint]["--app-shell-aside-offset"]="0px"),vT(o)){const l=Ye(yT(o));e["--app-shell-aside-width"]=l,e["--app-shell-aside-offset"]=l}if(bT(o)&&(typeof o.base<"u"&&(e["--app-shell-aside-width"]=Ye(o.base),e["--app-shell-aside-offset"]=Ye(o.base)),_i(o).forEach(l=>{l!=="base"&&(t[l]=t[l]||{},t[l]["--app-shell-aside-width"]=Ye(o[l]),t[l]["--app-shell-aside-offset"]=Ye(o[l]))})),r?.collapsed?.desktop){const l=r.breakpoint;t[l]=t[l]||{},t[l]["--app-shell-aside-transform"]=s,t[l]["--app-shell-aside-transform-rtl"]=a,t[l]["--app-shell-aside-offset"]="0px !important"}if(r?.collapsed?.mobile){const l=tV(r.breakpoint,i.breakpoints)-.1;n[l]=n[l]||{},n[l]["--app-shell-aside-width"]="100%",n[l]["--app-shell-aside-offset"]="0px",n[l]["--app-shell-aside-transform"]=s,n[l]["--app-shell-aside-transform-rtl"]=a}}function IBe({baseStyles:e,minMediaStyles:t,footer:n}){const r=n?.height,i="translateY(var(--app-shell-footer-height))",o=n?.offset??!0;if(vT(r)){const s=Ye(yT(r));e["--app-shell-footer-height"]=s,o&&(e["--app-shell-footer-offset"]=s)}bT(r)&&(typeof r.base<"u"&&(e["--app-shell-footer-height"]=Ye(r.base),o&&(e["--app-shell-footer-offset"]=Ye(r.base))),_i(r).forEach(s=>{s!=="base"&&(t[s]=t[s]||{},t[s]["--app-shell-footer-height"]=Ye(r[s]),o&&(t[s]["--app-shell-footer-offset"]=Ye(r[s])))})),n?.collapsed&&(e["--app-shell-footer-transform"]=i,e["--app-shell-footer-offset"]="0px !important")}function DBe({baseStyles:e,minMediaStyles:t,header:n}){const r=n?.height,i="translateY(calc(var(--app-shell-header-height) * -1))",o=n?.offset??!0;if(vT(r)){const s=Ye(yT(r));e["--app-shell-header-height"]=s,o&&(e["--app-shell-header-offset"]=s)}bT(r)&&(typeof r.base<"u"&&(e["--app-shell-header-height"]=Ye(r.base),o&&(e["--app-shell-header-offset"]=Ye(r.base))),_i(r).forEach(s=>{s!=="base"&&(t[s]=t[s]||{},t[s]["--app-shell-header-height"]=Ye(r[s]),o&&(t[s]["--app-shell-header-offset"]=Ye(r[s])))})),n?.collapsed&&(e["--app-shell-header-transform"]=i,e["--app-shell-header-offset"]="0px !important")}function PBe({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,navbar:r,theme:i}){const o=r?.width,s="translateX(calc(var(--app-shell-navbar-width) * -1))",a="translateX(var(--app-shell-navbar-width))";if(r?.breakpoint&&!r?.collapsed?.mobile&&(n[r?.breakpoint]=n[r?.breakpoint]||{},n[r?.breakpoint]["--app-shell-navbar-width"]="100%",n[r?.breakpoint]["--app-shell-navbar-offset"]="0px"),vT(o)){const l=Ye(yT(o));e["--app-shell-navbar-width"]=l,e["--app-shell-navbar-offset"]=l}if(bT(o)&&(typeof o.base<"u"&&(e["--app-shell-navbar-width"]=Ye(o.base),e["--app-shell-navbar-offset"]=Ye(o.base)),_i(o).forEach(l=>{l!=="base"&&(t[l]=t[l]||{},t[l]["--app-shell-navbar-width"]=Ye(o[l]),t[l]["--app-shell-navbar-offset"]=Ye(o[l]))})),r?.collapsed?.desktop){const l=r.breakpoint;t[l]=t[l]||{},t[l]["--app-shell-navbar-transform"]=s,t[l]["--app-shell-navbar-transform-rtl"]=a,t[l]["--app-shell-navbar-offset"]="0px !important"}if(r?.collapsed?.mobile){const l=tV(r.breakpoint,i.breakpoints)-.1;n[l]=n[l]||{},n[l]["--app-shell-navbar-width"]="100%",n[l]["--app-shell-navbar-offset"]="0px",n[l]["--app-shell-navbar-transform"]=s,n[l]["--app-shell-navbar-transform-rtl"]=a}}function SF(e){return Number(e)===0?"0px":Di(e)}function OBe({padding:e,baseStyles:t,minMediaStyles:n}){vT(e)&&(t["--app-shell-padding"]=SF(yT(e))),bT(e)&&(e.base&&(t["--app-shell-padding"]=SF(e.base)),_i(e).forEach(r=>{r!=="base"&&(n[r]=n[r]||{},n[r]["--app-shell-padding"]=SF(e[r]))}))}function NBe({navbar:e,header:t,footer:n,aside:r,padding:i,theme:o}){const s={},a={},l={};PBe({baseStyles:l,minMediaStyles:s,maxMediaStyles:a,navbar:e,theme:o}),RBe({baseStyles:l,minMediaStyles:s,maxMediaStyles:a,aside:r,theme:o}),DBe({baseStyles:l,minMediaStyles:s,header:t}),IBe({baseStyles:l,minMediaStyles:s,footer:n}),OBe({baseStyles:l,minMediaStyles:s,padding:i});const u=JS(_i(s),o.breakpoints).map(f=>({query:`(min-width: ${f3(f.px)})`,styles:s[f.value]})),c=JS(_i(a),o.breakpoints).map(f=>({query:`(max-width: ${f3(f.px)})`,styles:a[f.value]})),d=[...u,...c];return{baseStyles:l,media:d}}function MBe({navbar:e,header:t,aside:n,footer:r,padding:i}){const o=eo(),s=Sm(),{media:a,baseStyles:l}=NBe({navbar:e,header:t,footer:r,aside:n,padding:i,theme:o});return b.jsx(wb,{media:a,styles:l,selector:s.cssVariablesSelector})}const $Be={},LV=nt((e,t)=>{const n=qe("AppShellNavbar",$Be,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,withBorder:u,zIndex:c,mod:d,...f}=n,h=Zx();return h.disabled?null:b.jsx(De,{component:"nav",ref:t,mod:[{"with-border":u??h.withBorder},d],...h.getStyles("navbar",{className:i,classNames:r,styles:s,style:o}),...f,__vars:{"--app-shell-navbar-z-index":`calc(${c??h.zIndex} + 1)`}})});LV.classes=z0;LV.displayName="@mantine/core/AppShellNavbar";const LBe={},FV=Bo((e,t)=>{const n=qe("AppShellSection",LBe,e),{classNames:r,className:i,style:o,styles:s,vars:a,grow:l,mod:u,...c}=n,d=Zx();return b.jsx(De,{ref:t,mod:[{grow:l},u],...d.getStyles("section",{className:i,style:o,classNames:r,styles:s}),...c})});FV.classes=z0;FV.displayName="@mantine/core/AppShellSection";function FBe({transitionDuration:e,disabled:t}){const[n,r]=A.useState(!0),i=A.useRef(-1),o=A.useRef(-1);return Hye("resize",()=>{r(!0),clearTimeout(i.current),i.current=window.setTimeout(()=>A.startTransition(()=>{r(!1)}),200)}),L0(()=>{r(!0),clearTimeout(o.current),o.current=window.setTimeout(()=>A.startTransition(()=>{r(!1)}),e||0)},[t,e]),n}const jBe={withBorder:!0,padding:0,transitionDuration:200,transitionTimingFunction:"ease",zIndex:ou("app")},BBe=(e,{transitionDuration:t,transitionTimingFunction:n})=>({root:{"--app-shell-transition-duration":`${t}ms`,"--app-shell-transition-timing-function":n}}),Ri=nt((e,t)=>{const n=qe("AppShell",jBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,navbar:u,withBorder:c,padding:d,transitionDuration:f,transitionTimingFunction:h,header:m,zIndex:p,layout:g,disabled:v,aside:y,footer:w,offsetScrollbars:_=g!=="alt",mod:E,...S}=n,T=Rt({name:"AppShell",classes:z0,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:BBe}),k=FBe({disabled:v,transitionDuration:f});return b.jsxs(EBe,{value:{getStyles:T,withBorder:c,zIndex:p,disabled:v,offsetScrollbars:_},children:[b.jsx(MBe,{navbar:u,header:m,aside:y,footer:w,padding:d}),b.jsx(De,{ref:t,...T("root"),mod:[{resizing:k,layout:g,disabled:v},E],...S})]})});Ri.classes=z0;Ri.displayName="@mantine/core/AppShell";Ri.Navbar=LV;Ri.Header=MV;Ri.Main=$V;Ri.Aside=OV;Ri.Footer=NV;Ri.Section=FV;function fbe(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>fbe(t))}:e}function jV(e){return e?e.map(t=>fbe(t)):[]}function S4(e){return e.reduce((t,n)=>"group"in n?{...t,...S4(n.items)}:(t[n.value]=n,t),{})}var Ql={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const zBe={error:null},UBe=(e,{size:t,color:n})=>({chevron:{"--combobox-chevron-size":hn(t,"combobox-chevron-size"),"--combobox-chevron-color":n?qr(n,e):void 0}}),BV=nt((e,t)=>{const n=qe("ComboboxChevron",zBe,e),{size:r,error:i,style:o,className:s,classNames:a,styles:l,unstyled:u,vars:c,mod:d,...f}=n,h=Rt({name:"ComboboxChevron",classes:Ql,props:n,style:o,className:s,classNames:a,styles:l,unstyled:u,vars:c,varsResolver:UBe,rootSelector:"chevron"});return b.jsx(De,{component:"svg",...f,...h("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:i},d],ref:t,children:b.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});BV.classes=Ql;BV.displayName="@mantine/core/ComboboxChevron";const[HBe,Wc]=ua("Combobox component was not found in tree"),hbe=A.forwardRef(({size:e,onMouseDown:t,onClick:n,onClear:r,...i},o)=>b.jsx(Or.ClearButton,{ref:o,tabIndex:-1,"aria-hidden":!0,...i,onMouseDown:s=>{s.preventDefault(),t?.(s)},onClick:s=>{r(),n?.(s)}}));hbe.displayName="@mantine/core/ComboboxClearButton";const qBe={},zV=nt((e,t)=>{const{classNames:n,styles:r,className:i,style:o,hidden:s,...a}=qe("ComboboxDropdown",qBe,e),l=Wc();return b.jsx(Cr.Dropdown,{...a,ref:t,role:"presentation","data-hidden":s||void 0,...l.getStyles("dropdown",{className:i,style:o,classNames:n,styles:r})})});zV.classes=Ql;zV.displayName="@mantine/core/ComboboxDropdown";const VBe={refProp:"ref"},pbe=nt((e,t)=>{const{children:n,refProp:r}=qe("ComboboxDropdownTarget",VBe,e);if(Wc(),!_m(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return b.jsx(Cr.Target,{ref:t,refProp:r,children:n})});pbe.displayName="@mantine/core/ComboboxDropdownTarget";const WBe={},UV=nt((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=qe("ComboboxEmpty",WBe,e),l=Wc();return b.jsx(De,{ref:t,...l.getStyles("empty",{className:r,classNames:n,styles:o,style:i}),...a})});UV.classes=Ql;UV.displayName="@mantine/core/ComboboxEmpty";function HV({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:n,withExpandedAttribute:r,targetType:i,autoComplete:o}){const s=Wc(),[a,l]=A.useState(null),u=d=>{if(e?.(d),!s.readOnly&&t){if(d.nativeEvent.isComposing)return;if(d.nativeEvent.code==="ArrowDown"&&(d.preventDefault(),s.store.dropdownOpened?l(s.store.selectNextOption()):(s.store.openDropdown("keyboard"),l(s.store.selectActiveOption()),s.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),d.nativeEvent.code==="ArrowUp"&&(d.preventDefault(),s.store.dropdownOpened?l(s.store.selectPreviousOption()):(s.store.openDropdown("keyboard"),l(s.store.selectActiveOption()),s.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),d.nativeEvent.code==="Enter"||d.nativeEvent.code==="NumpadEnter"){if(d.nativeEvent.keyCode===229)return;const f=s.store.getSelectedOptionIndex();s.store.dropdownOpened&&f!==-1?(d.preventDefault(),s.store.clickSelectedOption()):i==="button"&&(d.preventDefault(),s.store.openDropdown("keyboard"))}d.key==="Escape"&&s.store.closeDropdown("keyboard"),d.nativeEvent.code==="Space"&&i==="button"&&(d.preventDefault(),s.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":r&&!!(s.store.listId&&s.store.dropdownOpened)||void 0,"aria-controls":s.store.dropdownOpened?s.store.listId:void 0,"aria-activedescendant":s.store.dropdownOpened&&a||void 0,autoComplete:o,"data-expanded":s.store.dropdownOpened||void 0,"data-mantine-stop-propagation":s.store.dropdownOpened||void 0}:{},onKeyDown:u}}const GBe={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},mbe=nt((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:o,withExpandedAttribute:s,targetType:a,autoComplete:l,...u}=qe("ComboboxEventsTarget",GBe,e);if(!_m(n))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=Wc(),d=HV({targetType:a,withAriaAttributes:o,withKeyboardNavigation:i,withExpandedAttribute:s,onKeyDown:n.props.onKeyDown,autoComplete:l});return A.cloneElement(n,{...d,...u,[r]:uo(t,c.store.targetRef,d4(n))})});mbe.displayName="@mantine/core/ComboboxEventsTarget";const YBe={},qV=nt((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=qe("ComboboxFooter",YBe,e),l=Wc();return b.jsx(De,{ref:t,...l.getStyles("footer",{className:r,classNames:n,style:i,styles:o}),...a,onMouseDown:u=>{u.preventDefault()}})});qV.classes=Ql;qV.displayName="@mantine/core/ComboboxFooter";const KBe={},VV=nt((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,children:a,label:l,...u}=qe("ComboboxGroup",KBe,e),c=Wc();return b.jsxs(De,{ref:t,...c.getStyles("group",{className:r,classNames:n,style:i,styles:o}),...u,children:[l&&b.jsx("div",{...c.getStyles("groupLabel",{classNames:n,styles:o}),children:l}),a]})});VV.classes=Ql;VV.displayName="@mantine/core/ComboboxGroup";const XBe={},WV=nt((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=qe("ComboboxHeader",XBe,e),l=Wc();return b.jsx(De,{ref:t,...l.getStyles("header",{className:r,classNames:n,style:i,styles:o}),...a,onMouseDown:u=>{u.preventDefault()}})});WV.classes=Ql;WV.displayName="@mantine/core/ComboboxHeader";function gbe({value:e,valuesDivider:t=",",...n}){return b.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...n})}gbe.displayName="@mantine/core/ComboboxHiddenInput";const QBe={},GV=nt((e,t)=>{const n=qe("ComboboxOption",QBe,e),{classNames:r,className:i,style:o,styles:s,vars:a,onClick:l,id:u,active:c,onMouseDown:d,onMouseOver:f,disabled:h,selected:m,mod:p,...g}=n,v=Wc(),y=A.useId(),w=u||y;return b.jsx(De,{...v.getStyles("option",{className:i,classNames:r,styles:s,style:o}),...g,ref:t,id:w,mod:["combobox-option",{"combobox-active":c,"combobox-disabled":h,"combobox-selected":m},p],role:"option",onClick:_=>{h?_.preventDefault():(v.onOptionSubmit?.(n.value,n),l?.(_))},onMouseDown:_=>{_.preventDefault(),d?.(_)},onMouseOver:_=>{v.resetSelectionOnOptionHover&&v.store.resetSelectedOption(),f?.(_)}})});GV.classes=Ql;GV.displayName="@mantine/core/ComboboxOption";const JBe={},YV=nt((e,t)=>{const n=qe("ComboboxOptions",JBe,e),{classNames:r,className:i,style:o,styles:s,id:a,onMouseDown:l,labelledBy:u,...c}=n,d=Wc(),f=Ha(a);return A.useEffect(()=>{d.store.setListId(f)},[f]),b.jsx(De,{ref:t,...d.getStyles("options",{className:i,style:o,classNames:r,styles:s}),...c,id:f,role:"listbox","aria-labelledby":u,onMouseDown:h=>{h.preventDefault(),l?.(h)}})});YV.classes=Ql;YV.displayName="@mantine/core/ComboboxOptions";const ZBe={withAriaAttributes:!0,withKeyboardNavigation:!0},KV=nt((e,t)=>{const n=qe("ComboboxSearch",ZBe,e),{classNames:r,styles:i,unstyled:o,vars:s,withAriaAttributes:a,onKeyDown:l,withKeyboardNavigation:u,size:c,...d}=n,f=Wc(),h=f.getStyles("search"),m=HV({targetType:"input",withAriaAttributes:a,withKeyboardNavigation:u,withExpandedAttribute:!1,onKeyDown:l,autoComplete:"off"});return b.jsx(Or,{ref:uo(t,f.store.searchRef),classNames:[{input:h.className},r],styles:[{input:h.style},i],size:c||f.size,...m,...d,__staticSelector:"Combobox"})});KV.classes=Ql;KV.displayName="@mantine/core/ComboboxSearch";const e7e={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},ybe=nt((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:o,withExpandedAttribute:s,targetType:a,autoComplete:l,...u}=qe("ComboboxTarget",e7e,e);if(!_m(n))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=Wc(),d=HV({targetType:a,withAriaAttributes:o,withKeyboardNavigation:i,withExpandedAttribute:s,onKeyDown:n.props.onKeyDown,autoComplete:l}),f=A.cloneElement(n,{...d,...u});return b.jsx(Cr.Target,{ref:uo(t,c.store.targetRef),children:f})});ybe.displayName="@mantine/core/ComboboxTarget";function t7e(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function n7e(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function r7e(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function wT({defaultOpened:e,opened:t,onOpenedChange:n,onDropdownClose:r,onDropdownOpen:i,loop:o=!0,scrollBehavior:s="instant"}={}){const[a,l]=qi({value:t,defaultValue:e,finalValue:!1,onChange:n}),u=A.useRef(null),c=A.useRef(-1),d=A.useRef(null),f=A.useRef(null),h=A.useRef(-1),m=A.useRef(-1),p=A.useRef(-1),g=A.useCallback((U="unknown")=>{a||(l(!0),i?.(U))},[l,i,a]),v=A.useCallback((U="unknown")=>{a&&(l(!1),r?.(U))},[l,r,a]),y=A.useCallback((U="unknown")=>{a?v(U):g(U)},[v,g,a]),w=A.useCallback(()=>{const U=document.querySelector(`#${u.current} [data-combobox-selected]`);U?.removeAttribute("data-combobox-selected"),U?.removeAttribute("aria-selected")},[]),_=A.useCallback(U=>{const W=document.getElementById(u.current)?.querySelectorAll("[data-combobox-option]");if(!W)return null;const V=U>=W.length?0:U<0?W.length-1:U;return c.current=V,W?.[V]&&!W[V].hasAttribute("data-combobox-disabled")?(w(),W[V].setAttribute("data-combobox-selected","true"),W[V].setAttribute("aria-selected","true"),W[V].scrollIntoView({block:"nearest",behavior:s}),W[V].id):null},[s,w]),E=A.useCallback(()=>{const U=document.querySelector(`#${u.current} [data-combobox-active]`);if(U){const q=document.querySelectorAll(`#${u.current} [data-combobox-option]`),W=Array.from(q).findIndex(V=>V===U);return _(W)}return _(0)},[_]),S=A.useCallback(()=>_(n7e(c.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),o)),[_,o]),T=A.useCallback(()=>_(t7e(c.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),o)),[_,o]),k=A.useCallback(()=>_(r7e(document.querySelectorAll(`#${u.current} [data-combobox-option]`))),[_]),R=A.useCallback((U="selected",q)=>{p.current=window.setTimeout(()=>{const W=document.querySelectorAll(`#${u.current} [data-combobox-option]`),V=Array.from(W).findIndex(z=>z.hasAttribute(`data-combobox-${U}`));c.current=V,q?.scrollIntoView&&W[V]?.scrollIntoView({block:"nearest",behavior:s})},0)},[]),I=A.useCallback(()=>{c.current=-1,w()},[w]),P=A.useCallback(()=>{document.querySelectorAll(`#${u.current} [data-combobox-option]`)?.[c.current]?.click()},[]),N=A.useCallback(U=>{u.current=U},[]),M=A.useCallback(()=>{h.current=window.setTimeout(()=>d.current.focus(),0)},[]),O=A.useCallback(()=>{m.current=window.setTimeout(()=>f.current.focus(),0)},[]),j=A.useCallback(()=>c.current,[]);return A.useEffect(()=>()=>{window.clearTimeout(h.current),window.clearTimeout(m.current),window.clearTimeout(p.current)},[]),{dropdownOpened:a,openDropdown:g,closeDropdown:v,toggleDropdown:y,selectedOptionIndex:c.current,getSelectedOptionIndex:j,selectOption:_,selectFirstOption:k,selectActiveOption:E,selectNextOption:S,selectPreviousOption:T,resetSelectedOption:I,updateSelectedOptionIndex:R,listId:u.current,setListId:N,clickSelectedOption:P,searchRef:d,focusSearchInput:M,targetRef:f,focusTarget:O}}const i7e={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},o7e=(e,{size:t,dropdownPadding:n})=>({options:{"--combobox-option-fz":lo(t),"--combobox-option-padding":hn(t,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:Ye(n),"--combobox-option-fz":lo(t),"--combobox-option-padding":hn(t,"combobox-option-padding")}});function Un(e){const t=qe("Combobox",i7e,e),{classNames:n,styles:r,unstyled:i,children:o,store:s,vars:a,onOptionSubmit:l,onClose:u,size:c,dropdownPadding:d,resetSelectionOnOptionHover:f,__staticSelector:h,readOnly:m,...p}=t,g=wT(),v=s||g,y=Rt({name:h||"Combobox",classes:Ql,props:t,classNames:n,styles:r,unstyled:i,vars:a,varsResolver:o7e}),w=()=>{u?.(),v.closeDropdown()};return b.jsx(HBe,{value:{getStyles:y,store:v,onOptionSubmit:l,size:c,resetSelectionOnOptionHover:f,readOnly:m},children:b.jsx(Cr,{opened:v.dropdownOpened,...p,onChange:_=>!_&&w(),withRoles:!1,unstyled:i,children:o})})}const s7e=e=>e;Un.extend=s7e;Un.classes=Ql;Un.displayName="@mantine/core/Combobox";Un.Target=ybe;Un.Dropdown=zV;Un.Options=YV;Un.Option=GV;Un.Search=KV;Un.Empty=UV;Un.Chevron=BV;Un.Footer=qV;Un.Header=WV;Un.EventsTarget=mbe;Un.DropdownTarget=pbe;Un.Group=VV;Un.ClearButton=hbe;Un.HiddenInput=gbe;var vbe={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const bbe=vbe,T4=A.forwardRef(({__staticSelector:e,__stylesApiProps:t,className:n,classNames:r,styles:i,unstyled:o,children:s,label:a,description:l,id:u,disabled:c,error:d,size:f,labelPosition:h="left",bodyElement:m="div",labelElement:p="label",variant:g,style:v,vars:y,mod:w,..._},E)=>{const S=Rt({name:e,props:t,className:n,style:v,classes:vbe,classNames:r,styles:i,unstyled:o});return b.jsx(De,{...S("root"),ref:E,__vars:{"--label-fz":lo(f),"--label-lh":hn(f,"label-lh")},mod:[{"label-position":h},w],variant:g,size:f,..._,children:b.jsxs(De,{component:m,htmlFor:m==="label"?u:void 0,...S("body"),children:[s,b.jsxs("div",{...S("labelWrapper"),"data-disabled":c||void 0,children:[a&&b.jsx(De,{component:p,htmlFor:p==="label"?u:void 0,...S("label"),"data-disabled":c||void 0,children:a}),l&&b.jsx(Or.Description,{size:f,__inheritStyles:!1,...S("description"),children:l}),d&&typeof d!="boolean"&&b.jsx(Or.Error,{size:f,__inheritStyles:!1,...S("error"),children:d})]})]})})});T4.displayName="@mantine/core/InlineInput";const wbe=A.createContext(null),a7e=wbe.Provider,xbe=()=>A.useContext(wbe),[l7e,u7e]=Em();var Cbe={card:"m_26775b0a"};const c7e={withBorder:!0},d7e=(e,{radius:t})=>({card:{"--card-radius":jr(t)}}),XV=nt((e,t)=>{const n=qe("CheckboxCard",c7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,checked:u,mod:c,withBorder:d,value:f,onClick:h,defaultChecked:m,onChange:p,...g}=n,v=Rt({name:"CheckboxCard",classes:Cbe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:d7e,rootSelector:"card"}),y=xbe(),w=typeof u=="boolean"?u:y?y.value.includes(f||""):void 0,[_,E]=qi({value:w,defaultValue:m,finalValue:!1,onChange:p});return b.jsx(l7e,{value:{checked:_},children:b.jsx(Yo,{ref:t,mod:[{"with-border":d,checked:_},c],...v("card"),...g,role:"checkbox","aria-checked":_,onClick:S=>{h?.(S),y?.onChange(f||""),E(!_)}})})});XV.displayName="@mantine/core/CheckboxCard";XV.classes=Cbe;function QV({children:e,role:t}){const n=Jx();return n?b.jsx("div",{role:t,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy,children:e}):b.jsx(b.Fragment,{children:e})}const f7e={},JV=nt((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:o,wrapperProps:s,children:a,readOnly:l,...u}=qe("CheckboxGroup",f7e,e),[c,d]=qi({value:n,defaultValue:r,finalValue:[],onChange:i}),f=h=>{const m=typeof h=="string"?h:h.currentTarget.value;!l&&d(c.includes(m)?c.filter(p=>p!==m):[...c,m])};return b.jsx(a7e,{value:{value:c,onChange:f,size:o},children:b.jsx(Or.Wrapper,{size:o,ref:t,...s,...u,labelElement:"div",__staticSelector:"CheckboxGroup",children:b.jsx(QV,{role:"group",children:a})})})});JV.classes=Or.Wrapper.classes;JV.displayName="@mantine/core/CheckboxGroup";function ZV({size:e,style:t,...n}){const r=e!==void 0?{width:Ye(e),height:Ye(e),...t}:t;return b.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n,children:b.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function _be({indeterminate:e,...t}){return e?b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...t,children:b.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):b.jsx(ZV,{...t})}var Ebe={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const h7e={icon:_be},p7e=(e,{radius:t,color:n,size:r,iconColor:i,variant:o,autoContrast:s})=>{const a=rf({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--checkbox-size":hn(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:jr(t),"--checkbox-color":o==="outline"?l:qr(n,e),"--checkbox-icon-color":i?qr(i,e):F0(s,e)?Lh({color:n,theme:e,autoContrast:s}):void 0}}},eW=nt((e,t)=>{const n=qe("CheckboxIndicator",h7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,icon:u,indeterminate:c,radius:d,color:f,iconColor:h,autoContrast:m,checked:p,mod:g,variant:v,disabled:y,...w}=n,_=u,E=Rt({name:"CheckboxIndicator",classes:Ebe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:p7e,rootSelector:"indicator"}),S=u7e(),T=typeof p=="boolean"||typeof c=="boolean"?p||c:S?.checked||!1;return b.jsx(De,{ref:t,...E("indicator",{variant:v}),variant:v,mod:[{checked:T,disabled:y},g],...w,children:b.jsx(_,{indeterminate:c,...E("icon")})})});eW.displayName="@mantine/core/CheckboxIndicator";eW.classes=Ebe;var Sbe={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const m7e={labelPosition:"right",icon:_be},g7e=(e,{radius:t,color:n,size:r,iconColor:i,variant:o,autoContrast:s})=>{const a=rf({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--checkbox-size":hn(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:jr(t),"--checkbox-color":o==="outline"?l:qr(n,e),"--checkbox-icon-color":i?qr(i,e):F0(s,e)?Lh({color:n,theme:e,autoContrast:s}):void 0}}},Ia=nt((e,t)=>{const n=qe("Checkbox",m7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,color:u,label:c,id:d,size:f,radius:h,wrapperProps:m,checked:p,labelPosition:g,description:v,error:y,disabled:w,variant:_,indeterminate:E,icon:S,rootRef:T,iconColor:k,onChange:R,autoContrast:I,mod:P,...N}=n,M=xbe(),O=f||M?.size,j=S,U=Rt({name:"Checkbox",props:n,classes:Sbe,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:g7e}),{styleProps:q,rest:W}=xb(N),V=Ha(d),z=M?{checked:M.value.includes(W.value),onChange:B=>{M.onChange(B),R?.(B)}}:{},L=A.useRef(null),H=t||L;return A.useEffect(()=>{H&&"current"in H&&H.current&&(H.current.indeterminate=E||!1)},[E,H]),b.jsx(T4,{...U("root"),__staticSelector:"Checkbox",__stylesApiProps:n,id:V,size:O,labelPosition:g,label:c,description:v,error:y,disabled:w,classNames:r,styles:s,unstyled:a,"data-checked":z.checked||p||void 0,variant:_,ref:T,mod:P,...q,...m,children:b.jsxs(De,{...U("inner"),mod:{"data-label-position":g},children:[b.jsx(De,{component:"input",id:V,ref:H,checked:p,disabled:w,mod:{error:!!y,indeterminate:E},...U("input",{focusable:!0,variant:_}),onChange:R,...W,...z,type:"checkbox"}),b.jsx(j,{indeterminate:E,...U("icon")})]})})});Ia.classes={...Sbe,...bbe};Ia.displayName="@mantine/core/Checkbox";Ia.Group=JV;Ia.Indicator=eW;Ia.Card=XV;function tx(e){return"group"in e}function Tbe({options:e,search:t,limit:n}){const r=t.trim().toLowerCase(),i=[];for(let o=0;o<e.length;o+=1){const s=e[o];if(i.length===n)return i;tx(s)&&i.push({group:s.group,items:Tbe({options:s.items,search:t,limit:n-i.length})}),tx(s)||s.label.toLowerCase().includes(r)&&i.push(s)}return i}function y7e(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function kbe(e,t=new Set){if(Array.isArray(e))for(const n of e)if(tx(n))kbe(n.items,t);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(t.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);t.add(n.value)}}function v7e(e,t){return Array.isArray(e)?e.includes(t):e===t}function Abe({data:e,withCheckIcon:t,value:n,checkIconPosition:r,unstyled:i,renderOption:o}){if(!tx(e)){const a=v7e(n,e.value),l=t&&a&&b.jsx(ZV,{className:Ql.optionsDropdownCheckIcon}),u=b.jsxs(b.Fragment,{children:[r==="left"&&l,b.jsx("span",{children:e.label}),r==="right"&&l]});return b.jsx(Un.Option,{value:e.value,disabled:e.disabled,className:Nt({[Ql.optionsDropdownOption]:!i}),"data-reverse":r==="right"||void 0,"data-checked":a||void 0,"aria-selected":a,active:a,children:typeof o=="function"?o({option:e,checked:a}):u})}const s=e.items.map(a=>b.jsx(Abe,{data:a,value:n,unstyled:i,withCheckIcon:t,checkIconPosition:r,renderOption:o},a.value));return b.jsx(Un.Group,{label:e.group,children:s})}function tW({data:e,hidden:t,hiddenWhenEmpty:n,filter:r,search:i,limit:o,maxDropdownHeight:s,withScrollArea:a=!0,filterOptions:l=!0,withCheckIcon:u=!1,value:c,checkIconPosition:d,nothingFoundMessage:f,unstyled:h,labelId:m,renderOption:p,scrollAreaProps:g,"aria-label":v}){kbe(e);const w=typeof i=="string"?(r||Tbe)({options:e,search:l?i:"",limit:o??1/0}):e,_=y7e(w),E=w.map(S=>b.jsx(Abe,{data:S,withCheckIcon:u,value:c,checkIconPosition:d,unstyled:h,renderOption:p},tx(S)?S.group:S.value));return b.jsx(Un.Dropdown,{hidden:t||n&&_,"data-composed":!0,children:b.jsxs(Un.Options,{labelledBy:m,"aria-label":v,children:[a?b.jsx(im.Autosize,{mah:s??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...g,children:E}):E,_&&f&&b.jsx(Un.Empty,{children:f})]})})}const b7e={},nW=nt((e,t)=>{const n=qe("Autocomplete",b7e,e),{classNames:r,styles:i,unstyled:o,vars:s,dropdownOpened:a,defaultDropdownOpened:l,onDropdownClose:u,onDropdownOpen:c,onFocus:d,onBlur:f,onClick:h,onChange:m,data:p,value:g,defaultValue:v,selectFirstOptionOnChange:y,onOptionSubmit:w,comboboxProps:_,readOnly:E,disabled:S,filter:T,limit:k,withScrollArea:R,maxDropdownHeight:I,size:P,id:N,renderOption:M,autoComplete:O,scrollAreaProps:j,onClear:U,clearButtonProps:q,error:W,clearable:V,rightSection:z,...L}=n,H=Ha(N),B=jV(p),Y=S4(B),[Q,ne]=qi({value:g,defaultValue:v,finalValue:"",onChange:m}),ce=wT({opened:a,defaultOpened:l,onDropdownOpen:c,onDropdownClose:()=>{u?.(),ce.resetSelectedOption()}}),le=se=>{ne(se),ce.resetSelectedOption()},{resolvedClassNames:ue,resolvedStyles:ae}=of({props:n,styles:i,classNames:r});A.useEffect(()=>{y&&ce.selectFirstOption()},[y,Q]);const te=b.jsx(Un.ClearButton,{...q,onClear:()=>{le(""),U?.()}});return b.jsxs(Un,{store:ce,__staticSelector:"Autocomplete",classNames:ue,styles:ae,unstyled:o,readOnly:E,onOptionSubmit:se=>{w?.(se),le(Y[se].label),ce.closeDropdown()},size:P,..._,children:[b.jsx(Un.Target,{autoComplete:O,children:b.jsx(_l,{ref:t,...L,size:P,__staticSelector:"Autocomplete",__clearSection:te,__clearable:V&&!!Q&&!S&&!E,rightSection:z,disabled:S,readOnly:E,value:Q,error:W,onChange:se=>{le(se.currentTarget.value),ce.openDropdown(),y&&ce.selectFirstOption()},onFocus:se=>{ce.openDropdown(),d?.(se)},onBlur:se=>{ce.closeDropdown(),f?.(se)},onClick:se=>{ce.openDropdown(),h?.(se)},classNames:ue,styles:ae,unstyled:o,id:H})}),b.jsx(tW,{data:B,hidden:E||S,filter:T,search:Q,limit:k,hiddenWhenEmpty:!0,withScrollArea:R,maxDropdownHeight:I,unstyled:o,labelId:L.label?`${H}-label`:void 0,"aria-label":L.label?void 0:L["aria-label"],renderOption:M,scrollAreaProps:j})]})});nW.classes={..._l.classes,...Un.classes};nW.displayName="@mantine/core/Autocomplete";var Rbe={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const w7e={},x7e=(e,{radius:t,color:n,gradient:r,variant:i,size:o,autoContrast:s})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:s});return{root:{"--badge-height":hn(o,"badge-height"),"--badge-padding-x":hn(o,"badge-padding-x"),"--badge-fz":hn(o,"badge-fz"),"--badge-radius":t===void 0?void 0:jr(t),"--badge-bg":n||i?a.background:void 0,"--badge-color":n||i?a.color:void 0,"--badge-bd":n||i?a.border:void 0,"--badge-dot-color":i==="dot"?qr(n,e):void 0}}},Ii=Bo((e,t)=>{const n=qe("Badge",w7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,radius:u,color:c,gradient:d,leftSection:f,rightSection:h,children:m,variant:p,fullWidth:g,autoContrast:v,circle:y,mod:w,..._}=n,E=Rt({name:"Badge",props:n,classes:Rbe,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:x7e});return b.jsxs(De,{variant:p,mod:[{block:g,circle:y,"with-right-section":!!h,"with-left-section":!!f},w],...E("root",{variant:p}),ref:t,..._,children:[f&&b.jsx("span",{...E("section"),"data-position":"left",children:f}),b.jsx("span",{...E("label"),children:m}),h&&b.jsx("span",{...E("section"),"data-position":"right",children:h})]})});Ii.classes=Rbe;Ii.displayName="@mantine/core/Badge";var eC={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const die={orientation:"horizontal"},C7e=(e,{borderWidth:t})=>({group:{"--button-border-width":Ye(t)}}),rW=nt((e,t)=>{const n=qe("ButtonGroup",die,e),{className:r,style:i,classNames:o,styles:s,unstyled:a,orientation:l,vars:u,borderWidth:c,variant:d,mod:f,...h}=qe("ButtonGroup",die,e),m=Rt({name:"ButtonGroup",props:n,classes:eC,className:r,style:i,classNames:o,styles:s,unstyled:a,vars:u,varsResolver:C7e,rootSelector:"group"});return b.jsx(De,{...m("group"),ref:t,variant:d,mod:[{"data-orientation":l},f],role:"group",...h})});rW.classes=eC;rW.displayName="@mantine/core/ButtonGroup";const fie={},_7e=(e,{radius:t,color:n,gradient:r,variant:i,autoContrast:o,size:s})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:o});return{groupSection:{"--section-height":hn(s,"section-height"),"--section-padding-x":hn(s,"section-padding-x"),"--section-fz":s?.includes("compact")?lo(s.replace("compact-","")):lo(s),"--section-radius":t===void 0?void 0:jr(t),"--section-bg":n||i?a.background:void 0,"--section-color":a.color,"--section-bd":n||i?a.border:void 0}}},iW=nt((e,t)=>{const n=qe("ButtonGroupSection",fie,e),{className:r,style:i,classNames:o,styles:s,unstyled:a,vars:l,variant:u,gradient:c,radius:d,autoContrast:f,...h}=qe("ButtonGroupSection",fie,e),m=Rt({name:"ButtonGroupSection",props:n,classes:eC,className:r,style:i,classNames:o,styles:s,unstyled:a,vars:l,varsResolver:_7e,rootSelector:"groupSection"});return b.jsx(De,{...m("groupSection"),ref:t,variant:u,...h})});iW.classes=eC;iW.displayName="@mantine/core/ButtonGroupSection";const E7e={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${Ye(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},S7e={},T7e=(e,{radius:t,color:n,gradient:r,variant:i,size:o,justify:s,autoContrast:a})=>{const l=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:a});return{root:{"--button-justify":s,"--button-height":hn(o,"button-height"),"--button-padding-x":hn(o,"button-padding-x"),"--button-fz":o?.includes("compact")?lo(o.replace("compact-","")):lo(o),"--button-radius":t===void 0?void 0:jr(t),"--button-bg":n||i?l.background:void 0,"--button-hover":n||i?l.hover:void 0,"--button-color":l.color,"--button-bd":n||i?l.border:void 0,"--button-hover-color":n||i?l.hoverColor:void 0}}},Mt=Bo((e,t)=>{const n=qe("Button",S7e,e),{style:r,vars:i,className:o,color:s,disabled:a,children:l,leftSection:u,rightSection:c,fullWidth:d,variant:f,radius:h,loading:m,loaderProps:p,gradient:g,classNames:v,styles:y,unstyled:w,"data-disabled":_,autoContrast:E,mod:S,...T}=n,k=Rt({name:"Button",props:n,classes:eC,className:o,style:r,classNames:v,styles:y,unstyled:w,vars:i,varsResolver:T7e}),R=!!u,I=!!c;return b.jsxs(Yo,{ref:t,...k("root",{active:!a&&!m&&!_}),unstyled:w,variant:f,disabled:a||m,mod:[{disabled:a||_,loading:m,block:d,"with-left-section":R,"with-right-section":I},S],...T,children:[b.jsx(Hc,{mounted:!!m,transition:E7e,duration:150,children:P=>b.jsx(De,{component:"span",...k("loader",{style:P}),"aria-hidden":!0,children:b.jsx(qc,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...p})})}),b.jsxs("span",{...k("inner"),children:[u&&b.jsx(De,{component:"span",...k("section"),mod:{position:"left"},children:u}),b.jsx(De,{component:"span",mod:{loading:m},...k("label"),children:l}),c&&b.jsx(De,{component:"span",...k("section"),mod:{position:"right"},children:c})]})]})});Mt.classes=eC;Mt.displayName="@mantine/core/Button";Mt.Group=rW;Mt.GroupSection=iW;const[k7e,A7e]=ua("Card component was not found in tree");var oW={root:"m_e615b15f",section:"m_599a2148"};const R7e={},k4=Bo((e,t)=>{const n=qe("CardSection",R7e,e),{classNames:r,className:i,style:o,styles:s,vars:a,withBorder:l,inheritPadding:u,mod:c,...d}=n,f=A7e();return b.jsx(De,{ref:t,mod:[{"with-border":l,"inherit-padding":u},c],...f.getStyles("section",{className:i,style:o,styles:s,classNames:r}),...d})});k4.classes=oW;k4.displayName="@mantine/core/CardSection";const I7e={},D7e=(e,{padding:t})=>({root:{"--card-padding":Di(t)}}),Js=Bo((e,t)=>{const n=qe("Card",I7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,children:u,padding:c,...d}=n,f=Rt({name:"Card",props:n,classes:oW,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:D7e}),h=A.Children.toArray(u),m=h.map((p,g)=>typeof p=="object"&&p&&"type"in p&&p.type===k4?A.cloneElement(p,{"data-first-section":g===0||void 0,"data-last-section":g===h.length-1||void 0}):p);return b.jsx(k7e,{value:{getStyles:f},children:b.jsx(Os,{ref:t,unstyled:a,...f("root"),...d,children:m})})});Js.classes=oW;Js.displayName="@mantine/core/Card";Js.Section=k4;var Ibe={root:"m_4451eb3a"};const P7e={},za=Bo((e,t)=>{const n=qe("Center",P7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,inline:u,mod:c,...d}=n,f=Rt({name:"Center",props:n,classes:Ibe,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l});return b.jsx(De,{ref:t,mod:[{inline:u},c],...f("root"),...d})});za.classes=Ibe;za.displayName="@mantine/core/Center";var Dbe={root:"m_b183c0a2"};const O7e={},N7e=(e,{color:t})=>({root:{"--code-bg":t?qr(t,e):void 0}}),ku=nt((e,t)=>{const n=qe("Code",O7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,color:u,block:c,variant:d,mod:f,...h}=n,m=Rt({name:"Code",props:n,classes:Dbe,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:N7e});return b.jsx(De,{component:c?"pre":"code",variant:d,ref:t,mod:[{block:c},f],...m("root"),...h,dir:"ltr"})});ku.classes=Dbe;ku.displayName="@mantine/core/Code";var Pbe={root:"m_de3d2490",colorOverlay:"m_862f3d1b",shadowOverlay:"m_98ae7f22",alphaOverlay:"m_95709ac0",childrenOverlay:"m_93e74e3"};const hie={withShadow:!0},M7e=(e,{radius:t,size:n})=>({root:{"--cs-radius":t===void 0?void 0:jr(t),"--cs-size":Ye(n)}}),xh=Bo((e,t)=>{const n=qe("ColorSwatch",hie,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,color:u,size:c,radius:d,withShadow:f,children:h,variant:m,...p}=qe("ColorSwatch",hie,n),g=Rt({name:"ColorSwatch",props:n,classes:Pbe,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:M7e});return b.jsxs(De,{ref:t,variant:m,size:c,...g("root",{focusable:!0}),...p,children:[b.jsx("span",{...g("alphaOverlay")}),f&&b.jsx("span",{...g("shadowOverlay")}),b.jsx("span",{...g("colorOverlay",{style:{backgroundColor:u}})}),b.jsx("span",{...g("childrenOverlay"),children:h})]})});xh.classes=Pbe;xh.displayName="@mantine/core/ColorSwatch";const[$7e,sW]=Em(null),aW=A.forwardRef(({position:e,...t},n)=>b.jsx(De,{ref:n,__vars:{"--thumb-y-offset":`${e.y*100}%`,"--thumb-x-offset":`${e.x*100}%`},...t}));aW.displayName="@mantine/core/ColorPickerThumb";var lW={wrapper:"m_fee9c77",preview:"m_9dddfbac",body:"m_bffecc3e",sliders:"m_3283bb96",thumb:"m_40d572ba",swatch:"m_d8ee6fd8",swatches:"m_5711e686",saturation:"m_202a296e",saturationOverlay:"m_11b3db02",slider:"m_d856d47d",sliderOverlay:"m_8f327113"};const L7e={},uW=nt((e,t)=>{const n=qe("ColorSlider",L7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,onChange:u,onChangeEnd:c,maxValue:d,round:f,size:h="md",focusable:m=!0,value:p,overlays:g,thumbColor:v="transparent",onScrubStart:y,onScrubEnd:w,__staticSelector:_="ColorPicker",...E}=n,S=Rt({name:_,classes:lW,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a}),k=sW()?.getStyles||S,R=eo(),[I,P]=A.useState({y:0,x:p/d}),N=A.useRef(I),M=W=>f?Math.round(W*d):W*d,{ref:O}=hT(({x:W,y:V})=>{N.current={x:W,y:V},u?.(M(W))},{onScrubEnd:()=>{const{x:W}=N.current;c?.(M(W)),w?.()},onScrubStart:y});vl(()=>{P({y:0,x:p/d})},[p]);const j=(W,V)=>{W.preventDefault();const z=Vye(V);u?.(M(z.x)),c?.(M(z.x))},U=W=>{switch(W.key){case"ArrowRight":{j(W,{x:I.x+.05,y:I.y});break}case"ArrowLeft":{j(W,{x:I.x-.05,y:I.y});break}}},q=g.map((W,V)=>A.createElement("div",{...k("sliderOverlay"),style:W,key:V}));return b.jsxs(De,{...E,ref:uo(O,t),...k("slider"),role:"slider","aria-valuenow":p,"aria-valuemax":d,"aria-valuemin":0,tabIndex:m?0:-1,onKeyDown:U,"data-focus-ring":R.focusRing,__vars:{"--cp-thumb-size":`var(--cp-thumb-size-${h})`},children:[q,b.jsx(aW,{position:I,...k("thumb",{style:{top:Ye(1),background:v}})})]})});uW.displayName="@mantine/core/ColorSlider";function wc(e,t=0,n=10**t){return Math.round(n*e)/n}function F7e({h:e,s:t,l:n,a:r}){const i=t*((n<50?n:100-n)/100);return{h:e,s:i>0?2*i/(n+i)*100:0,v:n+i,a:r}}const j7e={grad:360/400,turn:360,rad:360/(Math.PI*2)};function B7e(e,t="deg"){return Number(e)*(j7e[t]||1)}const z7e=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function pie(e){const t=z7e.exec(e);return t?F7e({h:B7e(t[1],t[2]),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)}):{h:0,s:0,v:0,a:1}}function I7({r:e,g:t,b:n,a:r}){const i=Math.max(e,t,n),o=i-Math.min(e,t,n),s=o?i===e?(t-n)/o:i===t?2+(n-e)/o:4+(e-t)/o:0;return{h:wc(60*(s<0?s+6:s),3),s:wc(i?o/i*100:0,3),v:wc(i/255*100,3),a:r}}function D7(e){const t=e[0]==="#"?e.slice(1):e;return t.length===3?I7({r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:1}):I7({r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:1})}function U7e(e){const t=e[0]==="#"?e.slice(1):e,n=s=>wc(parseInt(s,16)/255,3);if(t.length===4){const s=t.slice(0,3),a=n(t[3]+t[3]);return{...D7(s),a}}const r=t.slice(0,6),i=n(t.slice(6,8));return{...D7(r),a:i}}const H7e=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function mie(e){const t=H7e.exec(e);return t?I7({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):{h:0,s:0,v:0,a:1}}const Obe={hex:/^#?([0-9A-F]{3}){1,2}$/i,hexa:/^#?([0-9A-F]{4}){1,2}$/i,rgb:/^rgb\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,rgba:/^rgba\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,hsl:/hsl\(\s*(\d+)\s*,\s*(\d+(?:\.\d+)?%)\s*,\s*(\d+(?:\.\d+)?%)\)/i,hsla:/^hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*(\d*(?:\.\d+)?)\)$/i},q7e={hex:D7,hexa:U7e,rgb:mie,rgba:mie,hsl:pie,hsla:pie};function xE(e){for(const[,t]of Object.entries(Obe))if(t.test(e))return!0;return!1}function sv(e){if(typeof e!="string")return{h:0,s:0,v:0,a:1};if(e==="transparent")return{h:0,s:0,v:0,a:0};const t=e.trim();for(const[n,r]of Object.entries(Obe))if(r.test(t))return q7e[n](t);return{h:0,s:0,v:0,a:1}}const V7e={},Nbe=A.forwardRef((e,t)=>{const{value:n,onChange:r,onChangeEnd:i,color:o,...s}=qe("AlphaSlider",V7e,e);return b.jsx(uW,{...s,ref:t,value:n,onChange:a=>r?.(wc(a,2)),onChangeEnd:a=>i?.(wc(a,2)),maxValue:1,round:!1,"data-alpha":!0,overlays:[{backgroundImage:"linear-gradient(45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(-45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(45deg, transparent 75%, var(--slider-checkers) 75%), linear-gradient(-45deg, var(--mantine-color-body) 75%, var(--slider-checkers) 75%)",backgroundSize:`${Ye(8)} ${Ye(8)}`,backgroundPosition:`0 0, 0 ${Ye(4)}, ${Ye(4)} ${Ye(-4)}, ${Ye(-4)} 0`},{backgroundImage:`linear-gradient(90deg, transparent, ${o})`},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${Ye(1)} inset, rgb(0, 0, 0, .15) 0 0 ${Ye(4)} inset`}]})});Nbe.displayName="@mantine/core/AlphaSlider";function Mbe({h:e,s:t,v:n,a:r}){const i=e/360*6,o=t/100,s=n/100,a=Math.floor(i),l=s*(1-o),u=s*(1-(i-a)*o),c=s*(1-(1-i+a)*o),d=a%6;return{r:wc([s,u,l,l,c,s][d]*255),g:wc([c,s,s,u,l,l][d]*255),b:wc([l,l,c,s,s,u][d]*255),a:wc(r,2)}}function gie(e,t){const{r:n,g:r,b:i,a:o}=Mbe(e);return t?`rgba(${n}, ${r}, ${i}, ${wc(o,2)})`:`rgb(${n}, ${r}, ${i})`}function yie({h:e,s:t,v:n,a:r},i){const o=(200-t)*n/100,s={h:Math.round(e),s:Math.round(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:Math.round(o/2)};return i?`hsla(${s.h}, ${s.s}%, ${s.l}%, ${wc(r,2)})`:`hsl(${s.h}, ${s.s}%, ${s.l}%)`}function ID(e){const t=e.toString(16);return t.length<2?`0${t}`:t}function $be(e){const{r:t,g:n,b:r}=Mbe(e);return`#${ID(t)}${ID(n)}${ID(r)}`}function W7e(e){const t=Math.round(e.a*255);return`${$be(e)}${ID(t)}`}const TF={hex:$be,hexa:e=>W7e(e),rgb:e=>gie(e,!1),rgba:e=>gie(e,!0),hsl:e=>yie(e,!1),hsla:e=>yie(e,!0)};function md(e,t){return t?e in TF?TF[e](t):TF.hex(t):"#000000"}const Lbe=A.forwardRef((e,t)=>{const{value:n,onChange:r,onChangeEnd:i,color:o,...s}=qe("HueSlider",{},e);return b.jsx(uW,{...s,ref:t,value:n,onChange:r,onChangeEnd:i,maxValue:360,thumbColor:`hsl(${n}, 100%, 50%)`,round:!0,"data-hue":!0,overlays:[{backgroundImage:"linear-gradient(to right,hsl(0,100%,50%),hsl(60,100%,50%),hsl(120,100%,50%),hsl(170,100%,50%),hsl(240,100%,50%),hsl(300,100%,50%),hsl(360,100%,50%))"},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${Ye(1)} inset, rgb(0, 0, 0, .15) 0 0 ${Ye(4)} inset`}]})});Lbe.displayName="@mantine/core/HueSlider";function Fbe({className:e,onChange:t,onChangeEnd:n,value:r,saturationLabel:i,focusable:o=!0,size:s,color:a,onScrubStart:l,onScrubEnd:u,...c}){const{getStyles:d}=sW(),[f,h]=A.useState({x:r.s/100,y:1-r.v/100}),m=A.useRef(f),{ref:p}=hT(({x:y,y:w})=>{m.current={x:y,y:w},t({s:Math.round(y*100),v:Math.round((1-w)*100)})},{onScrubEnd:()=>{const{x:y,y:w}=m.current;n({s:Math.round(y*100),v:Math.round((1-w)*100)}),u?.()},onScrubStart:l});A.useEffect(()=>{h({x:r.s/100,y:1-r.v/100})},[r.s,r.v]);const g=(y,w)=>{y.preventDefault();const _=Vye(w);t({s:Math.round(_.x*100),v:Math.round((1-_.y)*100)}),n({s:Math.round(_.x*100),v:Math.round((1-_.y)*100)})},v=y=>{switch(y.key){case"ArrowUp":{g(y,{y:f.y-.05,x:f.x});break}case"ArrowDown":{g(y,{y:f.y+.05,x:f.x});break}case"ArrowRight":{g(y,{x:f.x+.05,y:f.y});break}case"ArrowLeft":{g(y,{x:f.x-.05,y:f.y});break}}};return b.jsxs(De,{...d("saturation"),ref:p,...c,role:"slider","aria-label":i,"aria-valuenow":f.x,"aria-valuetext":md("rgba",r),tabIndex:o?0:-1,onKeyDown:v,children:[b.jsx("div",{...d("saturationOverlay",{style:{backgroundColor:`hsl(${r.h}, 100%, 50%)`}})}),b.jsx("div",{...d("saturationOverlay",{style:{backgroundImage:"linear-gradient(90deg, #fff, transparent)"}})}),b.jsx("div",{...d("saturationOverlay",{style:{backgroundImage:"linear-gradient(0deg, #000, transparent)"}})}),b.jsx(aW,{position:f,...d("thumb",{style:{backgroundColor:a}})})]})}Fbe.displayName="@mantine/core/Saturation";const jbe=A.forwardRef(({className:e,datatype:t,setValue:n,onChangeEnd:r,size:i,focusable:o,data:s,swatchesPerRow:a,...l},u)=>{const c=sW(),d=s.map((f,h)=>A.createElement(xh,{...c.getStyles("swatch"),unstyled:c.unstyled,component:"button",type:"button",color:f,key:h,radius:"sm",onClick:()=>{n(f),r?.(f)},"aria-label":f,tabIndex:o?0:-1,"data-swatch":!0}));return b.jsx(De,{...c.getStyles("swatches"),ref:u,...l,children:d})});jbe.displayName="@mantine/core/Swatches";const G7e={swatchesPerRow:7,withPicker:!0,focusable:!0,size:"md",__staticSelector:"ColorPicker"},Y7e=(e,{size:t,swatchesPerRow:n})=>({wrapper:{"--cp-preview-size":hn(t,"cp-preview-size"),"--cp-width":hn(t,"cp-width"),"--cp-body-spacing":Di(t),"--cp-swatch-size":`${100/n}%`,"--cp-thumb-size":hn(t,"cp-thumb-size"),"--cp-saturation-height":hn(t,"cp-saturation-height")}}),A4=nt((e,t)=>{const n=qe("ColorPicker",G7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,format:u,value:c,defaultValue:d,onChange:f,onChangeEnd:h,withPicker:m,size:p,saturationLabel:g,hueLabel:v,alphaLabel:y,focusable:w,swatches:_,swatchesPerRow:E,fullWidth:S,onColorSwatchClick:T,__staticSelector:k,mod:R,...I}=n,P=Rt({name:k,props:n,classes:lW,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"wrapper",vars:l,varsResolver:Y7e}),N=A.useRef(u),M=A.useRef(""),O=A.useRef(-1),j=A.useRef(!1),U=u==="hexa"||u==="rgba"||u==="hsla",[q,W,V]=qi({value:c,defaultValue:d,finalValue:"#FFFFFF",onChange:f}),[z,L]=A.useState(sv(q)),H=()=>{window.clearTimeout(O.current),j.current=!0},B=()=>{window.clearTimeout(O.current),O.current=window.setTimeout(()=>{j.current=!1},200)},Y=Q=>{L(ne=>{const ce={...ne,...Q};return M.current=md(N.current,ce),ce}),W(M.current)};return vl(()=>{xE(c)&&!j.current&&L(sv(c))},[c]),vl(()=>{N.current=u,W(md(u,z))},[u]),b.jsx($7e,{value:{getStyles:P,unstyled:a},children:b.jsxs(De,{ref:t,...P("wrapper"),size:p,mod:[{"full-width":S},R],...I,children:[m&&b.jsxs(b.Fragment,{children:[b.jsx(Fbe,{value:z,onChange:Y,onChangeEnd:({s:Q,v:ne})=>h?.(md(N.current,{...z,s:Q,v:ne})),color:q,size:p,focusable:w,saturationLabel:g,onScrubStart:H,onScrubEnd:B}),b.jsxs("div",{...P("body"),children:[b.jsxs("div",{...P("sliders"),children:[b.jsx(Lbe,{value:z.h,onChange:Q=>Y({h:Q}),onChangeEnd:Q=>h?.(md(N.current,{...z,h:Q})),size:p,focusable:w,"aria-label":v,onScrubStart:H,onScrubEnd:B}),U&&b.jsx(Nbe,{value:z.a,onChange:Q=>Y({a:Q}),onChangeEnd:Q=>{h?.(md(N.current,{...z,a:Q}))},size:p,color:md("hex",z),focusable:w,"aria-label":y,onScrubStart:H,onScrubEnd:B})]}),U&&b.jsx(xh,{color:q,radius:"sm",size:"var(--cp-preview-size)",...P("preview")})]})]}),Array.isArray(_)&&b.jsx(jbe,{data:_,swatchesPerRow:E,focusable:w,setValue:W,onChangeEnd:Q=>{const ne=md(u,sv(Q));T?.(ne),h?.(ne),V||L(sv(Q))}})]})})});A4.classes=lW;A4.displayName="@mantine/core/ColorPicker";function K7e({style:e,...t}){return b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--ci-eye-dropper-icon-size)",height:"var(--ci-eye-dropper-icon-size)",...e},viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[b.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),b.jsx("path",{d:"M11 7l6 6"}),b.jsx("path",{d:"M4 16l11.7 -11.7a1 1 0 0 1 1.4 0l2.6 2.6a1 1 0 0 1 0 1.4l-11.7 11.7h-4v-4z"})]})}var vie={eyeDropperIcon:"m_b077c2bc",colorPreview:"m_c5ccdcab",dropdown:"m_5ece2cd7"};const bie={format:"hex",fixOnBlur:!0,withPreview:!0,swatchesPerRow:7,withPicker:!0,popoverProps:{transitionProps:{transition:"fade",duration:0}},withEyeDropper:!0},X7e=(e,{size:t})=>({eyeDropperIcon:{"--ci-eye-dropper-icon-size":hn(t,"ci-eye-dropper-icon-size")},colorPreview:{"--ci-preview-size":hn(t,"ci-preview-size")}}),C3=nt((e,t)=>{const n=qe("ColorInput",bie,e),{classNames:r,styles:i,unstyled:o,disallowInput:s,fixOnBlur:a,popoverProps:l,withPreview:u,withEyeDropper:c,eyeDropperIcon:d,closeOnColorSwatchClick:f,eyeDropperButtonProps:h,value:m,defaultValue:p,onChange:g,onChangeEnd:v,onClick:y,onFocus:w,onBlur:_,inputProps:E,format:S,wrapperProps:T,readOnly:k,withPicker:R,swatches:I,disabled:P,leftSection:N,rightSection:M,swatchesPerRow:O,...j}=IV("ColorInput",bie,e),U=Rt({name:"ColorInput",props:n,classes:vie,classNames:r,styles:i,unstyled:o,rootSelector:"wrapper",vars:n.vars,varsResolver:X7e}),{resolvedClassNames:q,resolvedStyles:W}=of({classNames:r,styles:i,props:n}),[V,z]=A.useState(!1),[L,H]=A.useState(""),[B,Y]=qi({value:m,defaultValue:p,finalValue:"",onChange:g}),{supported:Q,open:ne}=JLe(),ce=b.jsx(on,{...h,...U("eyeDropperButton",{className:h?.className,style:h?.style}),variant:"subtle",color:"gray",size:E.size,unstyled:o,onClick:()=>ne().then(te=>{if(te?.sRGBHex){const se=md(S,sv(te.sRGBHex));Y(se),v?.(se)}}).catch(()=>{}),children:d||b.jsx(K7e,{...U("eyeDropperIcon")})}),le=te=>{w?.(te),z(!0)},ue=te=>{a&&Y(L),_?.(te),z(!1)},ae=te=>{y?.(te),z(!0)};return A.useEffect(()=>{(xE(B)||B.trim()==="")&&H(B)},[B]),vl(()=>{xE(B)&&Y(md(S,sv(B)))},[S]),b.jsx(Or.Wrapper,{...T,classNames:q,styles:W,__staticSelector:"ColorInput",children:b.jsxs(Cr,{__staticSelector:"ColorInput",position:"bottom-start",offset:5,opened:V,...l,classNames:q,styles:W,unstyled:o,withRoles:!1,disabled:k||R===!1&&(!Array.isArray(I)||I.length===0),children:[b.jsx(Cr.Target,{children:b.jsx(Or,{autoComplete:"off",...j,...E,classNames:q,styles:W,disabled:P,ref:t,__staticSelector:"ColorInput",onFocus:le,onBlur:ue,onClick:ae,spellCheck:!1,value:B,onChange:te=>{const se=te.currentTarget.value;Y(se),xE(se)&&v?.(md(S,sv(se)))},leftSection:N||(u?b.jsx(xh,{color:xE(B)?B:"#fff",size:"var(--ci-preview-size)",...U("colorPreview")}):null),readOnly:s||k,pointer:s,unstyled:o,rightSection:M||(c&&!P&&!k&&Q?ce:null)})}),b.jsx(Cr.Dropdown,{onMouseDown:te=>te.preventDefault(),className:vie.dropdown,children:b.jsx(A4,{__staticSelector:"ColorInput",value:B,onChange:Y,onChangeEnd:v,format:S,swatches:I,swatchesPerRow:O,withPicker:R,size:E.size,focusable:!1,unstyled:o,styles:W,classNames:q,onColorSwatchClick:()=>f&&z(!1)})})]})})});C3.classes=_l.classes;C3.displayName="@mantine/core/ColorInput";var Bbe={root:"m_7485cace"};const Q7e={},J7e=(e,{size:t,fluid:n})=>({root:{"--container-size":n?void 0:hn(t,"container-size")}}),U0=nt((e,t)=>{const n=qe("Container",Q7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,fluid:u,mod:c,...d}=n,f=Rt({name:"Container",classes:Bbe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:J7e});return b.jsx(De,{ref:t,mod:[{fluid:u},c],...f("root"),...d})});U0.classes=Bbe;U0.displayName="@mantine/core/Container";const Z7e={timeout:1e3};function cW(e){const{children:t,timeout:n,value:r,...i}=qe("CopyButton",Z7e,e),o=ALe({timeout:n}),s=()=>o.copy(r);return b.jsx(b.Fragment,{children:t({copy:s,copied:o.copied,...i})})}cW.displayName="@mantine/core/CopyButton";var zbe={root:"m_3eebeb36",label:"m_9e365f20"};const eze={orientation:"horizontal"},tze=(e,{color:t,variant:n,size:r})=>({root:{"--divider-color":t?qr(t,e):void 0,"--divider-border-style":n,"--divider-size":hn(r,"divider-size")}}),Cb=nt((e,t)=>{const n=qe("Divider",eze,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,color:u,orientation:c,label:d,labelPosition:f,mod:h,...m}=n,p=Rt({name:"Divider",classes:zbe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:tze});return b.jsx(De,{ref:t,mod:[{orientation:c,"with-label":!!d},h],...p("root"),...m,role:"separator",children:d&&b.jsx(De,{component:"span",mod:{position:f},...p("label"),children:d})})});Cb.classes=zbe;Cb.displayName="@mantine/core/Divider";function Ube({open:e,close:t,openDelay:n,closeDelay:r}){const i=A.useRef(-1),o=A.useRef(-1),s=()=>{window.clearTimeout(i.current),window.clearTimeout(o.current)},a=()=>{s(),n===0||n===void 0?e():i.current=window.setTimeout(e,n)},l=()=>{s(),r===0||r===void 0?t():o.current=window.setTimeout(t,r)};return A.useEffect(()=>s,[]),{openDropdown:a,closeDropdown:l}}const[wie,Hbe]=ua("Grid component was not found in tree"),P7=(e,t)=>e==="content"?"auto":e==="auto"?"0rem":e?`${100/(t/e)}%`:void 0,xie=(e,t,n)=>n||e==="auto"?"100%":e==="content"?"unset":P7(e,t),Cie=(e,t)=>{if(e)return e==="auto"||t?"1":"auto"},_ie=(e,t)=>e===0?"0":e?`${100/(t/e)}%`:void 0;function nze({span:e,order:t,offset:n,selector:r}){const i=eo(),o=Hbe(),s=o.breakpoints||i.breakpoints,l=Td(e)===void 0?12:Td(e),u=$0({"--col-order":Td(t)?.toString(),"--col-flex-grow":Cie(l,o.grow),"--col-flex-basis":P7(l,o.columns),"--col-width":l==="content"?"auto":void 0,"--col-max-width":xie(l,o.columns,o.grow),"--col-offset":_ie(Td(n),o.columns)}),c=_i(s).reduce((h,m)=>(h[m]||(h[m]={}),typeof t=="object"&&t[m]!==void 0&&(h[m]["--col-order"]=t[m]?.toString()),typeof e=="object"&&e[m]!==void 0&&(h[m]["--col-flex-grow"]=Cie(e[m],o.grow),h[m]["--col-flex-basis"]=P7(e[m],o.columns),h[m]["--col-width"]=e[m]==="content"?"auto":void 0,h[m]["--col-max-width"]=xie(e[m],o.columns,o.grow)),typeof n=="object"&&n[m]!==void 0&&(h[m]["--col-offset"]=_ie(n[m],o.columns)),h),{}),f=JS(_i(c),s).filter(h=>_i(c[h.value]).length>0).map(h=>({query:o.type==="container"?`mantine-grid (min-width: ${s[h.value]})`:`(min-width: ${s[h.value]})`,styles:c[h.value]}));return b.jsx(wb,{styles:u,media:o.type==="container"?void 0:f,container:o.type==="container"?f:void 0,selector:r})}var dW={container:"m_8478a6da",root:"m_410352e9",inner:"m_dee7bd2f",col:"m_96bdd299"};const rze={span:12},fW=nt((e,t)=>{const n=qe("GridCol",rze,e),{classNames:r,className:i,style:o,styles:s,vars:a,span:l,order:u,offset:c,...d}=n,f=Hbe(),h=pT();return b.jsxs(b.Fragment,{children:[b.jsx(nze,{selector:`.${h}`,span:l,order:u,offset:c}),b.jsx(De,{ref:t,...f.getStyles("col",{className:Nt(i,h),style:o,classNames:r,styles:s}),...d})]})});fW.classes=dW;fW.displayName="@mantine/core/GridCol";function Eie({gutter:e,selector:t,breakpoints:n,type:r}){const i=eo(),o=n||i.breakpoints,s=$0({"--grid-gutter":Di(Td(e))}),a=_i(o).reduce((c,d)=>(c[d]||(c[d]={}),typeof e=="object"&&e[d]!==void 0&&(c[d]["--grid-gutter"]=Di(e[d])),c),{}),u=JS(_i(a),o).filter(c=>_i(a[c.value]).length>0).map(c=>({query:r==="container"?`mantine-grid (min-width: ${o[c.value]})`:`(min-width: ${o[c.value]})`,styles:a[c.value]}));return b.jsx(wb,{styles:s,media:r==="container"?void 0:u,container:r==="container"?u:void 0,selector:t})}const ize={gutter:"md",grow:!1,columns:12},oze=(e,{justify:t,align:n,overflow:r})=>({root:{"--grid-justify":t,"--grid-align":n,"--grid-overflow":r}}),so=nt((e,t)=>{const n=qe("Grid",ize,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,grow:u,gutter:c,columns:d,align:f,justify:h,children:m,breakpoints:p,type:g,...v}=n,y=Rt({name:"Grid",classes:dW,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:oze}),w=pT();return g==="container"&&p?b.jsxs(wie,{value:{getStyles:y,grow:u,columns:d||12,breakpoints:p,type:g},children:[b.jsx(Eie,{selector:`.${w}`,...n}),b.jsx("div",{...y("container"),children:b.jsx(De,{ref:t,...y("root",{className:w}),...v,children:b.jsx("div",{...y("inner"),children:m})})})]}):b.jsxs(wie,{value:{getStyles:y,grow:u,columns:d||12,breakpoints:p,type:g},children:[b.jsx(Eie,{selector:`.${w}`,...n}),b.jsx(De,{ref:t,...y("root",{className:w}),...v,children:b.jsx("div",{...y("inner"),children:m})})]})});so.classes=dW;so.displayName="@mantine/core/Grid";so.Col=fW;function Sie({color:e,theme:t,defaultShade:n}){const r=rf({color:e,theme:t});return r.isThemeColor?r.shade===void 0?`var(--mantine-color-${r.color}-${n})`:`var(${r.variable})`:e}var qbe={root:"m_bcb3f3c2"};const sze={color:"yellow"},aze=(e,{color:t})=>({root:{"--mark-bg-dark":Sie({color:t,theme:e,defaultShade:5}),"--mark-bg-light":Sie({color:t,theme:e,defaultShade:2})}}),hW=nt((e,t)=>{const n=qe("Mark",sze,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,color:u,variant:c,...d}=n,f=Rt({name:"Mark",props:n,className:i,style:o,classes:qbe,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:aze});return b.jsx(De,{component:"mark",ref:t,variant:c,...f("root"),...d})});hW.classes=qbe;hW.displayName="@mantine/core/Mark";function Tie(e){return e.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&")}function lze(e,t){if(t==null)return[{chunk:e,highlighted:!1}];const n=Array.isArray(t)?t.map(Tie):Tie(t);if(!(Array.isArray(n)?n.filter(a=>a.trim().length>0).length>0:n.trim()!==""))return[{chunk:e,highlighted:!1}];const i=typeof n=="string"?n.trim():n.filter(a=>a.trim().length!==0).map(a=>a.trim()).sort((a,l)=>l.length-a.length).join("|"),o=new RegExp(`(${i})`,"gi");return e.split(o).map(a=>({chunk:a,highlighted:o.test(a)})).filter(({chunk:a})=>a)}const uze={},pW=Bo((e,t)=>{const{unstyled:n,children:r,highlight:i,highlightStyles:o,color:s,...a}=qe("Highlight",uze,e),l=lze(r,i);return b.jsx($e,{unstyled:n,ref:t,...a,__staticSelector:"Highlight",children:l.map(({chunk:u,highlighted:c},d)=>c?b.jsx(hW,{unstyled:n,color:s,style:o,"data-highlight":u,children:u},d):b.jsx("span",{children:u},d))})});pW.classes=$e.classes;pW.displayName="@mantine/core/Highlight";const[cze,Vbe]=ua("HoverCard component was not found in the tree"),dze={};function Wbe(e){const{children:t,onMouseEnter:n,onMouseLeave:r,...i}=qe("HoverCardDropdown",dze,e),o=Vbe(),s=Ts(n,o.openDropdown),a=Ts(r,o.closeDropdown);return b.jsx(Cr.Dropdown,{onMouseEnter:s,onMouseLeave:a,...i,children:t})}Wbe.displayName="@mantine/core/HoverCardDropdown";const fze={refProp:"ref"},Gbe=A.forwardRef((e,t)=>{const{children:n,refProp:r,eventPropsWrapperName:i,...o}=qe("HoverCardTarget",fze,e);if(!_m(n))throw new Error("HoverCard.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=Vbe(),a=Ts(n.props.onMouseEnter,s.openDropdown),l=Ts(n.props.onMouseLeave,s.closeDropdown),u={onMouseEnter:a,onMouseLeave:l};return b.jsx(Cr.Target,{refProp:r,ref:t,...o,children:A.cloneElement(n,i?{[i]:u}:u)})});Gbe.displayName="@mantine/core/HoverCardTarget";const hze={openDelay:0,closeDelay:150,initiallyOpened:!1};function ch(e){const{children:t,onOpen:n,onClose:r,openDelay:i,closeDelay:o,initiallyOpened:s,...a}=qe("HoverCard",hze,e),[l,{open:u,close:c}]=nV(s,{onClose:r,onOpen:n}),{openDropdown:d,closeDropdown:f}=Ube({open:u,close:c,openDelay:i,closeDelay:o});return b.jsx(cze,{value:{openDropdown:d,closeDropdown:f},children:b.jsx(Cr,{...a,opened:l,__staticSelector:"HoverCard",children:t})})}ch.displayName="@mantine/core/HoverCard";ch.Target=Gbe;ch.Dropdown=Wbe;ch.extend=e=>e;var Ybe={root:"m_9e117634"};const pze={},mze=(e,{radius:t,fit:n})=>({root:{"--image-radius":t===void 0?void 0:jr(t),"--image-object-fit":n}}),Am=Bo((e,t)=>{const n=qe("Image",pze,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,onError:u,src:c,radius:d,fit:f,fallbackSrc:h,mod:m,...p}=n,[g,v]=A.useState(!c);A.useEffect(()=>v(!c),[c]);const y=Rt({name:"Image",classes:Ybe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:mze});return g&&h?b.jsx(De,{component:"img",ref:t,src:h,...y("root"),onError:u,mod:["fallback",m],...p}):b.jsx(De,{component:"img",ref:t,...y("root"),src:c,onError:w=>{u?.(w),v(!0)},mod:m,...p})});Am.classes=Ybe;Am.displayName="@mantine/core/Image";function gze(e="top-end",t=0){const n={"--indicator-top":void 0,"--indicator-bottom":void 0,"--indicator-left":void 0,"--indicator-right":void 0,"--indicator-translate-x":void 0,"--indicator-translate-y":void 0},r=Ye(t),[i,o]=e.split("-");return i==="top"&&(n["--indicator-top"]=r,n["--indicator-translate-y"]="-50%"),i==="middle"&&(n["--indicator-top"]="50%",n["--indicator-translate-y"]="-50%"),i==="bottom"&&(n["--indicator-bottom"]=r,n["--indicator-translate-y"]="50%"),o==="start"&&(n["--indicator-left"]=r,n["--indicator-translate-x"]="-50%"),o==="center"&&(n["--indicator-left"]="50%",n["--indicator-translate-x"]="-50%"),o==="end"&&(n["--indicator-right"]=r,n["--indicator-translate-x"]="50%"),n}var Kbe={root:"m_e5262200",indicator:"m_760d1fb1",processing:"m_885901b1"};const yze={position:"top-end",offset:0,inline:!1,withBorder:!1,disabled:!1,processing:!1},vze=(e,{color:t,position:n,offset:r,size:i,radius:o,zIndex:s,autoContrast:a})=>({root:{"--indicator-color":t?qr(t,e):void 0,"--indicator-text-color":F0(a,e)?Lh({color:t,theme:e,autoContrast:a}):void 0,"--indicator-size":Ye(i),"--indicator-radius":o===void 0?void 0:jr(o),"--indicator-z-index":s?.toString(),...gze(n,r)}}),R4=nt((e,t)=>{const n=qe("Indicator",yze,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,children:u,position:c,offset:d,inline:f,label:h,radius:m,color:p,withBorder:g,disabled:v,processing:y,zIndex:w,autoContrast:_,mod:E,...S}=n,T=Rt({name:"Indicator",classes:Kbe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:vze});return b.jsxs(De,{ref:t,...T("root"),mod:[{inline:f},E],...S,children:[!v&&b.jsx(De,{mod:{"with-label":!!h,"with-border":g,processing:y},...T("indicator"),children:h}),u]})});R4.classes=Kbe;R4.displayName="@mantine/core/Indicator";function _3(){return _3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_3.apply(null,arguments)}function mW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var bze=A.useLayoutEffect,wze=function(t){var n=un.useRef(t);return bze(function(){n.current=t}),n},kie=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},xze=function(t,n){var r=un.useRef();return un.useCallback(function(i){t.current=i,r.current&&kie(r.current,null),r.current=n,n&&kie(n,i)},[n])},Aie={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},Cze=function(t){Object.keys(Aie).forEach(function(n){t.style.setProperty(n,Aie[n],"important")})},Rie=Cze,Qa=null,Iie=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function _ze(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Qa||(Qa=document.createElement("textarea"),Qa.setAttribute("tabindex","-1"),Qa.setAttribute("aria-hidden","true"),Rie(Qa)),Qa.parentNode===null&&document.body.appendChild(Qa);var i=e.paddingSize,o=e.borderSize,s=e.sizingStyle,a=s.boxSizing;Object.keys(s).forEach(function(f){var h=f;Qa.style[h]=s[h]}),Rie(Qa),Qa.value=t;var l=Iie(Qa,e);Qa.value=t,l=Iie(Qa,e),Qa.value="x";var u=Qa.scrollHeight-i,c=u*n;a==="border-box"&&(c=c+i+o),l=Math.max(c,l);var d=u*r;return a==="border-box"&&(d=d+i+o),l=Math.min(d,l),[l,u]}var Die=function(){},Eze=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},Sze=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],Tze=!!document.documentElement.currentStyle,kze=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=Eze(Sze,n),i=r.boxSizing;if(i==="")return null;Tze&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var o=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),s=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:o,borderSize:s}},Aze=kze;function gW(e,t,n){var r=wze(n);A.useLayoutEffect(function(){var i=function(s){return r.current(s)};if(e)return e.addEventListener(t,i),function(){return e.removeEventListener(t,i)}},[])}var Rze=function(t,n){gW(document.body,"reset",function(r){t.current.form===r.target&&n(r)})},Ize=function(t){gW(window,"resize",t)},Dze=function(t){gW(document.fonts,"loadingdone",t)},Pze=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],Oze=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,o=t.minRows,s=t.onChange,a=s===void 0?Die:s,l=t.onHeightChange,u=l===void 0?Die:l,c=mW(t,Pze),d=c.value!==void 0,f=A.useRef(null),h=xze(f,n),m=A.useRef(0),p=A.useRef(),g=function(){var w=f.current,_=r&&p.current?p.current:Aze(w);if(_){p.current=_;var E=_ze(_,w.value||w.placeholder||"x",o,i),S=E[0],T=E[1];m.current!==S&&(m.current=S,w.style.setProperty("height",S+"px","important"),u(S,{rowHeight:T}))}},v=function(w){d||g(),a(w)};return A.useLayoutEffect(g),Rze(f,function(){if(!d){var y=f.current.value;requestAnimationFrame(function(){var w=f.current;w&&y!==w.value&&g()})}}),Ize(g),Dze(g),A.createElement("textarea",_3({},c,{onChange:v,ref:h}))},Nze=A.forwardRef(Oze);const Mze={},n2=nt((e,t)=>{const{autosize:n,maxRows:r,minRows:i,__staticSelector:o,resize:s,...a}=qe("Textarea",Mze,e),l=n&&Wye()!=="test",u=l?{maxRows:r,minRows:i}:{};return b.jsx(_l,{component:l?Nze:"textarea",ref:t,...a,__staticSelector:o||"Textarea",multiline:!0,"data-no-overflow":n&&r===void 0||void 0,__vars:{"--input-resize":s},...u})});n2.classes=_l.classes;n2.displayName="@mantine/core/Textarea";const[$ze,Lze]=ua("List component was not found in tree");var yW={root:"m_abbac491",item:"m_abb6bec2",itemWrapper:"m_75cd9f71",itemIcon:"m_60f83e5b"};const Fze={},vW=nt((e,t)=>{const n=qe("ListItem",Fze,e),{classNames:r,className:i,style:o,styles:s,vars:a,icon:l,children:u,mod:c,...d}=n,f=Lze(),h=l||f.icon,m={classNames:r,styles:s};return b.jsx(De,{...f.getStyles("item",{...m,className:i,style:o}),component:"li",mod:[{"with-icon":!!h,centered:f.center},c],ref:t,...d,children:b.jsxs("div",{...f.getStyles("itemWrapper",m),children:[h&&b.jsx("span",{...f.getStyles("itemIcon",m),children:h}),b.jsx("span",{...f.getStyles("itemLabel",m),children:u})]})})});vW.classes=yW;vW.displayName="@mantine/core/ListItem";const jze={type:"unordered"},Bze=(e,{size:t,spacing:n})=>({root:{"--list-fz":lo(t),"--list-lh":$ye(t),"--list-spacing":Di(n)}}),ji=nt((e,t)=>{const n=qe("List",jze,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,children:u,type:c,withPadding:d,icon:f,spacing:h,center:m,listStyleType:p,mod:g,...v}=n,y=Rt({name:"List",classes:yW,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:Bze});return b.jsx($ze,{value:{center:m,icon:f,getStyles:y},children:b.jsx(De,{...y("root",{style:{listStyleType:p}}),component:c==="unordered"?"ul":"ol",mod:[{"with-padding":d},g],ref:t,...v,children:u})})});ji.classes=yW;ji.displayName="@mantine/core/List";ji.Item=vW;var Xbe={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const Pie={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:ou("overlay")},zze=(e,{zIndex:t})=>({root:{"--lo-z-index":t?.toString()}}),Jl=nt((e,t)=>{const n=qe("LoadingOverlay",Pie,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,transitionProps:u,loaderProps:c,overlayProps:d,visible:f,zIndex:h,...m}=n,p=eo(),g=Rt({name:"LoadingOverlay",classes:Xbe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:zze}),v={...Pie.overlayProps,...d};return b.jsx(Hc,{transition:"fade",...u,mounted:!!f,children:y=>b.jsxs(De,{...g("root",{style:y}),ref:t,...m,children:[b.jsx(qc,{...g("loader"),unstyled:a,...c}),b.jsx(Zw,{...v,...g("overlay"),darkHidden:!0,unstyled:a,color:d?.color||p.white}),b.jsx(Zw,{...v,...g("overlay"),lightHidden:!0,unstyled:a,color:d?.color||p.colors.dark[5]})]})})});Jl.classes=Xbe;Jl.displayName="@mantine/core/LoadingOverlay";const[Uze,xT]=ua("Menu component was not found in the tree");var tC={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const Hze={},bW=nt((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=qe("MenuDivider",Hze,e),l=xT();return b.jsx(De,{ref:t,...l.getStyles("divider",{className:r,style:i,styles:o,classNames:n}),...a})});bW.classes=tC;bW.displayName="@mantine/core/MenuDivider";const qze={},wW=nt((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,onMouseEnter:a,onMouseLeave:l,onKeyDown:u,children:c,...d}=qe("MenuDropdown",qze,e),f=A.useRef(null),h=xT(),m=Ts(u,v=>{(v.key==="ArrowUp"||v.key==="ArrowDown")&&(v.preventDefault(),f.current?.querySelectorAll("[data-menu-item]:not(:disabled)")[0]?.focus())}),p=Ts(a,()=>(h.trigger==="hover"||h.trigger==="click-hover")&&h.openDropdown()),g=Ts(l,()=>(h.trigger==="hover"||h.trigger==="click-hover")&&h.closeDropdown());return b.jsxs(Cr.Dropdown,{...d,onMouseEnter:p,onMouseLeave:g,role:"menu","aria-orientation":"vertical",ref:uo(t,f),...h.getStyles("dropdown",{className:r,style:i,styles:o,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:m,children:[h.withInitialFocusPlaceholder&&b.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),c]})});wW.classes=tC;wW.displayName="@mantine/core/MenuDropdown";const Vze={},xW=Bo((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,color:a,closeMenuOnClick:l,leftSection:u,rightSection:c,children:d,disabled:f,"data-disabled":h,...m}=qe("MenuItem",Vze,e),p=xT(),g=eo(),{dir:v}=su(),y=A.useRef(null),w=p.getItemIndex(y.current),_=m,E=Ts(_.onMouseLeave,()=>p.setHovered(-1)),S=Ts(_.onMouseEnter,()=>p.setHovered(p.getItemIndex(y.current))),T=Ts(_.onClick,()=>{h||(typeof l=="boolean"?l&&p.closeDropdownImmediately():p.closeOnItemClick&&p.closeDropdownImmediately())}),k=Ts(_.onFocus,()=>p.setHovered(p.getItemIndex(y.current))),R=a?g.variantColorResolver({color:a,theme:g,variant:"light"}):void 0,I=a?rf({color:a,theme:g}):null;return b.jsxs(Yo,{...m,unstyled:p.unstyled,tabIndex:p.menuItemTabIndex,onFocus:k,...p.getStyles("item",{className:r,style:i,styles:o,classNames:n}),ref:uo(y,t),role:"menuitem",disabled:f,"data-menu-item":!0,"data-disabled":f||h||void 0,"data-hovered":p.hovered===w?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:S,onMouseLeave:E,onClick:T,onKeyDown:Mye({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:p.loop,dir:v,orientation:"vertical",onKeyDown:_.onKeyDown}),__vars:{"--menu-item-color":I?.isThemeColor&&I?.shade===void 0?`var(--mantine-color-${I.color}-6)`:R?.color,"--menu-item-hover":R?.hover},children:[u&&b.jsx("div",{...p.getStyles("itemSection",{styles:o,classNames:n}),"data-position":"left",children:u}),d&&b.jsx("div",{...p.getStyles("itemLabel",{styles:o,classNames:n}),children:d}),c&&b.jsx("div",{...p.getStyles("itemSection",{styles:o,classNames:n}),"data-position":"right",children:c})]})});xW.classes=tC;xW.displayName="@mantine/core/MenuItem";const Wze={},CW=nt((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=qe("MenuLabel",Wze,e),l=xT();return b.jsx(De,{ref:t,...l.getStyles("label",{className:r,style:i,styles:o,classNames:n}),...a})});CW.classes=tC;CW.displayName="@mantine/core/MenuLabel";const Gze={refProp:"ref"},Qbe=A.forwardRef((e,t)=>{const{children:n,refProp:r,...i}=qe("MenuTarget",Gze,e);if(!_m(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=xT(),s=n.props,a=Ts(s.onClick,()=>{o.trigger==="click"?o.toggleDropdown():o.trigger==="click-hover"&&(o.setOpenedViaClick(!0),o.opened||o.openDropdown())}),l=Ts(s.onMouseEnter,()=>(o.trigger==="hover"||o.trigger==="click-hover")&&o.openDropdown()),u=Ts(s.onMouseLeave,()=>{(o.trigger==="hover"||o.trigger==="click-hover"&&!o.openedViaClick)&&o.closeDropdown()});return b.jsx(Cr.Target,{refProp:r,popupType:"menu",ref:t,...i,children:A.cloneElement(n,{onClick:a,onMouseEnter:l,onMouseLeave:u,"data-expanded":o.opened?!0:void 0})})});Qbe.displayName="@mantine/core/MenuTarget";const Yze={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function Rn(e){const t=qe("Menu",Yze,e),{children:n,onOpen:r,onClose:i,opened:o,defaultOpened:s,trapFocus:a,onChange:l,closeOnItemClick:u,loop:c,closeOnEscape:d,trigger:f,openDelay:h,closeDelay:m,classNames:p,styles:g,unstyled:v,variant:y,vars:w,menuItemTabIndex:_,keepMounted:E,withInitialFocusPlaceholder:S,...T}=t,k=Rt({name:"Menu",classes:tC,props:t,classNames:p,styles:g,unstyled:v}),[R,{setHovered:I,resetHovered:P}]=TLe(),[N,M]=qi({value:o,defaultValue:s,finalValue:!1,onChange:l}),[O,j]=A.useState(!1),U=()=>{M(!1),j(!1),N&&i?.()},q=()=>{M(!0),!N&&r?.()},W=()=>{N?U():q()},{openDropdown:V,closeDropdown:z}=Ube({open:q,close:U,closeDelay:m,openDelay:h}),L=Y=>SLe("[data-menu-item]","[data-menu-dropdown]",Y),{resolvedClassNames:H,resolvedStyles:B}=of({classNames:p,styles:g,props:t});return vl(()=>{P()},[N]),b.jsx(Uze,{value:{getStyles:k,opened:N,toggleDropdown:W,getItemIndex:L,hovered:R,setHovered:I,openedViaClick:O,setOpenedViaClick:j,closeOnItemClick:u,closeDropdown:f==="click"?U:z,openDropdown:f==="click"?q:V,closeDropdownImmediately:U,loop:c,trigger:f,unstyled:v,menuItemTabIndex:_,withInitialFocusPlaceholder:S},children:b.jsx(Cr,{...T,opened:N,onChange:W,defaultOpened:s,trapFocus:E?!1:a,closeOnEscape:d,__staticSelector:"Menu",classNames:H,styles:B,unstyled:v,variant:y,keepMounted:E,children:n})})}Rn.extend=e=>e;Rn.withProps=g8e(Rn);Rn.classes=tC;Rn.displayName="@mantine/core/Menu";Rn.Item=xW;Rn.Label=CW;Rn.Dropdown=wW;Rn.Target=Qbe;Rn.Divider=bW;const[Kze,nC]=ua("Modal component was not found in tree");var Rm={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const Xze={},I4=nt((e,t)=>{const n=qe("ModalBody",Xze,e),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=nC();return b.jsx(Zve,{ref:t,...u.getStyles("body",{classNames:r,style:o,styles:s,className:i}),...l})});I4.classes=Rm;I4.displayName="@mantine/core/ModalBody";const Qze={},D4=nt((e,t)=>{const n=qe("ModalCloseButton",Qze,e),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=nC();return b.jsx(ebe,{ref:t,...u.getStyles("close",{classNames:r,style:o,styles:s,className:i}),...l})});D4.classes=Rm;D4.displayName="@mantine/core/ModalCloseButton";const Jze={},P4=nt((e,t)=>{const n=qe("ModalContent",Jze,e),{classNames:r,className:i,style:o,styles:s,vars:a,children:l,__hidden:u,...c}=n,d=nC(),f=d.scrollAreaComponent||K9e;return b.jsx(tbe,{...d.getStyles("content",{className:i,style:o,styles:s,classNames:r}),innerProps:d.getStyles("inner",{className:i,style:o,styles:s,classNames:r}),"data-full-screen":d.fullScreen||void 0,"data-modal-content":!0,"data-hidden":u||void 0,ref:t,...c,children:b.jsx(f,{style:{maxHeight:d.fullScreen?"100dvh":`calc(100dvh - (${Ye(d.yOffset)} * 2))`},children:l})})});P4.classes=Rm;P4.displayName="@mantine/core/ModalContent";const Zze={},O4=nt((e,t)=>{const n=qe("ModalHeader",Zze,e),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=nC();return b.jsx(nbe,{ref:t,...u.getStyles("header",{classNames:r,style:o,styles:s,className:i}),...l})});O4.classes=Rm;O4.displayName="@mantine/core/ModalHeader";const eUe={},N4=nt((e,t)=>{const n=qe("ModalOverlay",eUe,e),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=nC();return b.jsx(rbe,{ref:t,...u.getStyles("overlay",{classNames:r,style:o,styles:s,className:i}),...l})});N4.classes=Rm;N4.displayName="@mantine/core/ModalOverlay";const tUe={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:ou("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},nUe=(e,{radius:t,size:n,yOffset:r,xOffset:i})=>({root:{"--modal-radius":t===void 0?void 0:jr(t),"--modal-size":hn(n,"modal-size"),"--modal-y-offset":Ye(r),"--modal-x-offset":Ye(i)}}),M4=nt((e,t)=>{const n=qe("ModalRoot",tUe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,yOffset:u,scrollAreaComponent:c,radius:d,fullScreen:f,centered:h,xOffset:m,__staticSelector:p,...g}=n,v=Rt({name:p,classes:Rm,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:nUe});return b.jsx(Kze,{value:{yOffset:u,scrollAreaComponent:c,getStyles:v,fullScreen:f},children:b.jsx(Jve,{ref:t,...v("root"),"data-full-screen":f||void 0,"data-centered":h||void 0,"data-offset-scrollbars":c===im.Autosize||void 0,unstyled:a,...g})})});M4.classes=Rm;M4.displayName="@mantine/core/ModalRoot";const[rUe,iUe]=Em();function Jbe({children:e}){const[t,n]=A.useState([]),[r,i]=A.useState(ou("modal"));return b.jsx(rUe,{value:{stack:t,addModal:(o,s)=>{n(a=>[...new Set([...a,o])]),i(a=>typeof s=="number"&&typeof a=="number"?Math.max(a,s):a)},removeModal:o=>n(s=>s.filter(a=>a!==o)),getZIndex:o=>`calc(${r} + ${t.indexOf(o)} + 1)`,currentId:t[t.length-1],maxZIndex:r},children:e})}Jbe.displayName="@mantine/core/ModalStack";const oUe={},$4=nt((e,t)=>{const n=qe("ModalTitle",oUe,e),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=nC();return b.jsx(ibe,{ref:t,...u.getStyles("title",{classNames:r,style:o,styles:s,className:i}),...l})});$4.classes=Rm;$4.displayName="@mantine/core/ModalTitle";const sUe={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:ou("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},ni=nt((e,t)=>{const{title:n,withOverlay:r,overlayProps:i,withCloseButton:o,closeButtonProps:s,children:a,radius:l,opened:u,stackId:c,zIndex:d,...f}=qe("Modal",sUe,e),h=iUe(),m=!!n||o,p=h&&c?{closeOnEscape:h.currentId===c,trapFocus:h.currentId===c,zIndex:h.getZIndex(c)}:{},g=r===!1?!1:c&&h?h.currentId===c:u;return A.useEffect(()=>{h&&c&&(u?h.addModal(c,d||ou("modal")):h.removeModal(c))},[u,c,d]),b.jsxs(M4,{ref:t,radius:l,opened:u,zIndex:h&&c?h.getZIndex(c):d,...f,...p,children:[r&&b.jsx(N4,{visible:g,transitionProps:h&&c?{duration:0}:void 0,...i}),b.jsxs(P4,{radius:l,__hidden:h&&c&&u?c!==h.currentId:!1,children:[m&&b.jsxs(O4,{children:[n&&b.jsx($4,{children:n}),o&&b.jsx(D4,{...s})]}),b.jsx(I4,{children:a})]})]})});ni.classes=Rm;ni.displayName="@mantine/core/Modal";ni.Root=M4;ni.Overlay=N4;ni.Content=P4;ni.Body=I4;ni.Header=O4;ni.Title=$4;ni.CloseButton=D4;ni.Stack=Jbe;const[aUe,_W]=Em(),[lUe,uUe]=Em();var L4={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const cUe={},dUe=(e,{gap:t},{size:n})=>({group:{"--pg-gap":t!==void 0?hn(t):hn(n,"pg-gap")}}),EW=nt((e,t)=>{const n=qe("PillGroup",cUe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,size:u,disabled:c,...d}=n,h=_W()?.size||u||void 0,m=Rt({name:"PillGroup",classes:L4,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:dUe,stylesCtx:{size:h},rootSelector:"group"});return b.jsx(lUe,{value:{size:h,disabled:c},children:b.jsx(De,{ref:t,size:h,...m("group"),...d})})});EW.classes=L4;EW.displayName="@mantine/core/PillGroup";const fUe={variant:"default"},hUe=(e,{radius:t},{size:n})=>({root:{"--pill-fz":hn(n,"pill-fz"),"--pill-height":hn(n,"pill-height"),"--pill-radius":t===void 0?void 0:jr(t)}}),Fv=nt((e,t)=>{const n=qe("Pill",fUe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,variant:u,children:c,withRemoveButton:d,onRemove:f,removeButtonProps:h,radius:m,size:p,disabled:g,mod:v,...y}=n,w=uUe(),_=_W(),E=p||w?.size||void 0,S=_?.variant==="filled"?"contrast":u||"default",T=Rt({name:"Pill",classes:L4,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:hUe,stylesCtx:{size:E}});return b.jsxs(De,{component:"span",ref:t,variant:S,size:E,...T("root",{variant:S}),mod:[{"with-remove":d&&!g,disabled:g||w?.disabled},v],...y,children:[b.jsx("span",{...T("label"),children:c}),d&&b.jsx(Tm,{variant:"transparent",radius:m,tabIndex:-1,"aria-hidden":!0,unstyled:a,...h,...T("remove",{className:h?.className,style:h?.style}),onMouseDown:k=>{k.preventDefault(),k.stopPropagation(),h?.onMouseDown?.(k)},onClick:k=>{k.stopPropagation(),f?.(),h?.onClick?.(k)}})]})});Fv.classes=L4;Fv.displayName="@mantine/core/Pill";Fv.Group=EW;var Zbe={field:"m_45c4369d"};const pUe={type:"visible"},SW=nt((e,t)=>{const n=qe("PillsInputField",pUe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,type:u,disabled:c,id:d,pointer:f,mod:h,...m}=n,p=_W(),g=Jx(),v=Rt({name:"PillsInputField",classes:Zbe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"field"}),y=c||p?.disabled;return b.jsx(De,{component:"input",ref:uo(t,p?.fieldRef),"data-type":u,disabled:y,mod:[{disabled:y,pointer:f},h],...v("field"),...m,id:g?.inputId||d,"aria-invalid":p?.hasError,"aria-describedby":g?.describedBy,type:"text",onMouseDown:w=>!f&&w.stopPropagation()})});SW.classes=Zbe;SW.displayName="@mantine/core/PillsInputField";const mUe={},nx=nt((e,t)=>{const n=qe("PillsInput",mUe,e),{children:r,onMouseDown:i,onClick:o,size:s,disabled:a,__staticSelector:l,error:u,variant:c,...d}=n,f=A.useRef(null);return b.jsx(aUe,{value:{fieldRef:f,size:s,disabled:a,hasError:!!u,variant:c},children:b.jsx(_l,{size:s,error:u,variant:c,component:"div",ref:t,onMouseDown:h=>{h.preventDefault(),i?.(h),f.current?.focus()},onClick:h=>{h.preventDefault(),h.currentTarget.closest("fieldset")?.disabled||(f.current?.focus(),o?.(h))},...d,multiline:!0,disabled:a,__staticSelector:l||"PillsInput",withAria:!1,children:r})})});nx.displayName="@mantine/core/PillsInput";nx.Field=SW;function gUe({data:e,value:t}){const n=t.map(i=>i.trim().toLowerCase());return e.reduce((i,o)=>(tx(o)?i.push({group:o.group,items:o.items.filter(s=>n.indexOf(s.value.toLowerCase().trim())===-1)}):n.indexOf(o.value.toLowerCase().trim())===-1&&i.push(o),i),[])}const yUe={maxValues:1/0,withCheckIcon:!0,checkIconPosition:"left",hiddenInputValuesDivider:","},Up=nt((e,t)=>{const n=qe("MultiSelect",yUe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,size:u,value:c,defaultValue:d,onChange:f,onKeyDown:h,variant:m,data:p,dropdownOpened:g,defaultDropdownOpened:v,onDropdownOpen:y,onDropdownClose:w,selectFirstOptionOnChange:_,onOptionSubmit:E,comboboxProps:S,filter:T,limit:k,withScrollArea:R,maxDropdownHeight:I,searchValue:P,defaultSearchValue:N,onSearchChange:M,readOnly:O,disabled:j,onFocus:U,onBlur:q,radius:W,rightSection:V,rightSectionWidth:z,rightSectionPointerEvents:L,rightSectionProps:H,leftSection:B,leftSectionWidth:Y,leftSectionPointerEvents:Q,leftSectionProps:ne,inputContainer:ce,inputWrapperOrder:le,withAsterisk:ue,labelProps:ae,descriptionProps:te,errorProps:se,wrapperProps:we,description:X,label:he,error:ge,maxValues:re,searchable:ee,nothingFoundMessage:fe,withCheckIcon:Re,checkIconPosition:Oe,hidePickedOptions:Ae,withErrorStyles:Se,name:xe,form:ke,id:me,clearable:Me,clearButtonProps:ze,hiddenInputProps:Xe,placeholder:tt,hiddenInputValuesDivider:gt,required:qt,mod:zt,renderOption:_n,onRemove:$t,onClear:dn,scrollAreaProps:Vn,chevronColor:Ln,...Tr}=n,Xn=Ha(me),mr=jV(p),En=S4(mr),nn=wT({opened:g,defaultOpened:v,onDropdownOpen:y,onDropdownClose:()=>{w?.(),nn.resetSelectedOption()}}),{styleProps:rr,rest:{type:ii,autoComplete:br,...Sn}}=xb(Tr),[ht,cr]=qi({value:c,defaultValue:d,finalValue:[],onChange:f}),[Ut,Zn]=qi({value:P,defaultValue:N,finalValue:"",onChange:M}),sn=Fn=>{Zn(Fn),nn.resetSelectedOption()},Yn=Rt({name:"MultiSelect",classes:{},props:n,classNames:r,styles:s,unstyled:a}),{resolvedClassNames:wr,resolvedStyles:kr}=of({props:n,styles:s,classNames:r}),Ar=Fn=>{h?.(Fn),Fn.key===" "&&!ee&&(Fn.preventDefault(),nn.toggleDropdown()),Fn.key==="Backspace"&&Ut.length===0&&ht.length>0&&($t?.(ht[ht.length-1]),cr(ht.slice(0,ht.length-1)))},Qo=ht.map((Fn,Ni)=>b.jsx(Fv,{withRemoveButton:!O&&!En[Fn]?.disabled,onRemove:()=>{cr(ht.filter(Jo=>Fn!==Jo)),$t?.(Fn)},unstyled:a,disabled:j,...Yn("pill"),children:En[Fn]?.label||Fn},`${Fn}-${Ni}`));A.useEffect(()=>{_&&nn.selectFirstOption()},[_,Ut]);const fa=b.jsx(Un.ClearButton,{...ze,onClear:()=>{dn?.(),cr([]),sn("")}}),du=gUe({data:mr,value:ht}),Ju=Me&&ht.length>0&&!j&&!O;return b.jsxs(b.Fragment,{children:[b.jsxs(Un,{store:nn,classNames:wr,styles:kr,unstyled:a,size:u,readOnly:O,__staticSelector:"MultiSelect",onOptionSubmit:Fn=>{E?.(Fn),sn(""),nn.updateSelectedOptionIndex("selected"),ht.includes(En[Fn].value)?(cr(ht.filter(Ni=>Ni!==En[Fn].value)),$t?.(En[Fn].value)):ht.length<re&&cr([...ht,En[Fn].value])},...S,children:[b.jsx(Un.DropdownTarget,{children:b.jsx(nx,{...rr,__staticSelector:"MultiSelect",classNames:wr,styles:kr,unstyled:a,size:u,className:i,style:o,variant:m,disabled:j,radius:W,__defaultRightSection:b.jsx(Un.Chevron,{size:u,error:ge,unstyled:a,color:Ln}),__clearSection:fa,__clearable:Ju,rightSection:V,rightSectionPointerEvents:L||(fa?"all":"none"),rightSectionWidth:z,rightSectionProps:H,leftSection:B,leftSectionWidth:Y,leftSectionPointerEvents:Q,leftSectionProps:ne,inputContainer:ce,inputWrapperOrder:le,withAsterisk:ue,labelProps:ae,descriptionProps:te,errorProps:se,wrapperProps:we,description:X,label:he,error:ge,withErrorStyles:Se,__stylesApiProps:{...n,rightSectionPointerEvents:L||(Ju?"all":"none"),multiline:!0},pointer:!ee,onClick:()=>ee?nn.openDropdown():nn.toggleDropdown(),"data-expanded":nn.dropdownOpened||void 0,id:Xn,required:qt,mod:zt,children:b.jsxs(Fv.Group,{disabled:j,unstyled:a,...Yn("pillsList"),children:[Qo,b.jsx(Un.EventsTarget,{autoComplete:br,children:b.jsx(nx.Field,{...Sn,ref:t,id:Xn,placeholder:tt,type:!ee&&!tt?"hidden":"visible",...Yn("inputField"),unstyled:a,onFocus:Fn=>{U?.(Fn),ee&&nn.openDropdown()},onBlur:Fn=>{q?.(Fn),nn.closeDropdown(),sn("")},onKeyDown:Ar,value:Ut,onChange:Fn=>{sn(Fn.currentTarget.value),ee&&nn.openDropdown(),_&&nn.selectFirstOption()},disabled:j,readOnly:O||!ee,pointer:!ee})})]})})}),b.jsx(tW,{data:Ae?du:mr,hidden:O||j,filter:T,search:Ut,limit:k,hiddenWhenEmpty:!fe,withScrollArea:R,maxDropdownHeight:I,filterOptions:ee,value:ht,checkIconPosition:Oe,withCheckIcon:Re,nothingFoundMessage:fe,unstyled:a,labelId:he?`${Xn}-label`:void 0,"aria-label":he?void 0:Tr["aria-label"],renderOption:_n,scrollAreaProps:Vn})]}),b.jsx(Un.HiddenInput,{name:xe,valuesDivider:gt,value:ht,form:ke,disabled:j,...Xe})]})});Up.classes={..._l.classes,...Un.classes};Up.displayName="@mantine/core/MultiSelect";var e1e={root:"m_f0824112",description:"m_57492dcc",section:"m_690090b5",label:"m_1f6ac4c4",body:"m_f07af9d2",children:"m_e17b862f",chevron:"m_1fd8a00b"};const vUe={},bUe=(e,{variant:t,color:n,childrenOffset:r,autoContrast:i})=>{const o=e.variantColorResolver({color:n||e.primaryColor,theme:e,variant:t||"light",autoContrast:i});return{root:{"--nl-bg":n||t?o.background:void 0,"--nl-hover":n||t?o.hover:void 0,"--nl-color":n||t?o.color:void 0},children:{"--nl-offset":Di(r)}}},TW=Bo((e,t)=>{const n=qe("NavLink",vUe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,opened:u,defaultOpened:c,onChange:d,children:f,onClick:h,active:m,disabled:p,leftSection:g,rightSection:v,label:y,description:w,disableRightSectionRotation:_,noWrap:E,childrenOffset:S,onKeyDown:T,autoContrast:k,mod:R,...I}=n,P=Rt({name:"NavLink",props:n,classes:e1e,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:bUe}),[N,M]=qi({value:u,defaultValue:c,finalValue:!1,onChange:d}),O=!!f,j=U=>{h?.(U),O&&(U.preventDefault(),M(!N))};return b.jsxs(b.Fragment,{children:[b.jsxs(Yo,{...P("root"),component:"a",ref:t,onClick:j,onKeyDown:U=>{T?.(U),U.nativeEvent.code==="Space"&&O&&(U.preventDefault(),M(!N))},unstyled:a,mod:[{disabled:p,active:m,expanded:N},R],...I,children:[g&&b.jsx(De,{component:"span",...P("section"),mod:{position:"left"},children:g}),b.jsxs(De,{...P("body"),mod:{"no-wrap":E},children:[b.jsx(De,{component:"span",...P("label"),children:y}),b.jsx(De,{component:"span",mod:{active:m},...P("description"),children:w})]}),(O||v!==void 0)&&b.jsx(De,{...P("section"),component:"span",mod:{rotate:N&&!_,position:"right"},children:O?v!==void 0?v:b.jsx(x3,{...P("chevron")}):v})]}),O&&b.jsx(Fh,{in:N,...P("collapse"),children:b.jsx("div",{...P("children"),children:f})})]})});TW.classes=e1e;TW.displayName="@mantine/core/NavLink";var t1e={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const wUe={withCloseButton:!0},xUe=(e,{radius:t,color:n})=>({root:{"--notification-radius":t===void 0?void 0:jr(t),"--notification-color":n?qr(n,e):void 0}}),kW=nt((e,t)=>{const n=qe("Notification",wUe,e),{className:r,color:i,radius:o,loading:s,withCloseButton:a,withBorder:l,title:u,icon:c,children:d,onClose:f,closeButtonProps:h,classNames:m,style:p,styles:g,unstyled:v,variant:y,vars:w,mod:_,loaderProps:E,role:S,...T}=n,k=Rt({name:"Notification",classes:t1e,props:n,className:r,style:p,classNames:m,styles:g,unstyled:v,vars:w,varsResolver:xUe});return b.jsxs(De,{...k("root"),mod:[{"data-with-icon":!!c||s,"data-with-border":l},_],ref:t,variant:y,role:S||"alert",...T,children:[c&&!s&&b.jsx("div",{...k("icon"),children:c}),s&&b.jsx(qc,{size:28,color:i,...E,...k("loader")}),b.jsxs("div",{...k("body"),children:[u&&b.jsx("div",{...k("title"),children:u}),b.jsx(De,{...k("description"),mod:{"data-with-title":!!u},children:d})]}),a&&b.jsx(Tm,{iconSize:16,color:"gray",...h,unstyled:v,onClick:f,...k("closeButton")})]})});kW.classes=t1e;kW.displayName="@mantine/core/Notification";function n1e(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var r2;(function(e){e.event="event",e.props="prop"})(r2||(r2={}));function Og(){}function CUe(e){var t,n=void 0;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return t&&r.length===t.length&&r.every(function(o,s){return o===t[s]})||(t=r,n=e.apply(void 0,r)),n}}function i2(e){return!!(e||"").match(/\d/)}function Sw(e){return e==null}function _Ue(e){return typeof e=="number"&&isNaN(e)}function r1e(e){return Sw(e)||_Ue(e)||typeof e=="number"&&!isFinite(e)}function i1e(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function EUe(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function SUe(e,t,n){var r=EUe(n),i=e.search(/[1-9]/);return i=i===-1?e.length:i,e.substring(0,i)+e.substring(i,e.length).replace(r,"$1"+t)}function TUe(e){var t=A.useRef(e);t.current=e;var n=A.useRef(function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return t.current.apply(t,r)});return n.current}function AW(e,t){t===void 0&&(t=!0);var n=e[0]==="-",r=n&&t;e=e.replace("-","");var i=e.split("."),o=i[0],s=i[1]||"";return{beforeDecimal:o,afterDecimal:s,hasNegation:n,addNegation:r}}function kUe(e){if(!e)return e;var t=e[0]==="-";t&&(e=e.substring(1,e.length));var n=e.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(t?"-":"")+r+(i?"."+i:"")}function o1e(e,t,n){for(var r="",i=n?"0":"",o=0;o<=t-1;o++)r+=e[o]||i;return r}function Oie(e,t){return Array(t+1).join(e)}function s1e(e){var t=e+"",n=t[0]==="-"?"-":"";n&&(t=t.substring(1));var r=t.split(/[eE]/g),i=r[0],o=r[1];if(o=Number(o),!o)return n+i;i=i.replace(".","");var s=1+o,a=i.length;return s<0?i="0."+Oie("0",Math.abs(s))+i:s>=a?i=i+Oie("0",s-a):i=(i.substring(0,s)||"0")+"."+i.substring(s),n+i}function Nie(e,t,n){if(["","-"].indexOf(e)!==-1)return e;var r=(e.indexOf(".")!==-1||n)&&t,i=AW(e),o=i.beforeDecimal,s=i.afterDecimal,a=i.hasNegation,l=parseFloat("0."+(s||"0")),u=s.length<=t?"0."+s:l.toFixed(t),c=u.split("."),d=o;o&&Number(c[0])&&(d=o.split("").reverse().reduce(function(p,g,v){return p.length>v?(Number(p[0])+Number(g)).toString()+p.substring(1,p.length):g+p},c[0]));var f=o1e(c[1]||"",t,n),h=a?"-":"",m=r?".":"";return""+h+d+m+f}function Xy(e,t){if(e.value=e.value,e!==null){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}var a1e=CUe(function(e,t){for(var n=0,r=0,i=e.length,o=t.length;e[n]===t[n]&&n<i;)n++;for(;e[i-1-r]===t[o-1-r]&&o-r>n&&i-r>n;)r++;return{from:{start:n,end:i-r},to:{start:n,end:o-r}}}),AUe=function(e,t){var n=Math.min(e.selectionStart,t);return{from:{start:n,end:e.selectionEnd},to:{start:n,end:t}}};function RUe(e,t,n){return Math.min(Math.max(e,t),n)}function kF(e){return Math.max(e.selectionStart,e.selectionEnd)}function IUe(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function DUe(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function PUe(e){var t=e.currentValue,n=e.formattedValue,r=e.currentValueIndex,i=e.formattedValueIndex;return t[r]===n[i]}function OUe(e,t,n,r,i,o,s){s===void 0&&(s=PUe);var a=i.findIndex(function(_){return _}),l=e.slice(0,a);!t&&!n.startsWith(l)&&(t=l,n=l+n,r=r+l.length);for(var u=n.length,c=e.length,d={},f=new Array(u),h=0;h<u;h++){f[h]=-1;for(var m=0,p=c;m<p;m++){var g=s({currentValue:n,lastValue:t,formattedValue:e,currentValueIndex:h,formattedValueIndex:m});if(g&&d[m]!==!0){f[h]=m,d[m]=!0;break}}}for(var v=r;v<u&&(f[v]===-1||!o(n[v]));)v++;var y=v===u||f[v]===-1?c:f[v];for(v=r-1;v>0&&f[v]===-1;)v--;var w=v===-1||f[v]===-1?0:f[v]+1;return w>y?y:r-w<y-r?w:y}function Mie(e,t,n,r){var i=e.length;if(t=RUe(t,0,i),r==="left"){for(;t>=0&&!n[t];)t--;t===-1&&(t=n.indexOf(!0))}else{for(;t<=i&&!n[t];)t++;t>i&&(t=n.lastIndexOf(!0))}return t===-1&&(t=i),t}function NUe(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),n=0,r=t.length;n<r;n++)t[n]=!!(i2(e[n])||i2(e[n-1]));return t}function l1e(e,t,n,r,i,o){o===void 0&&(o=Og);var s=TUe(function(m,p){var g,v;return r1e(m)?(v="",g=""):typeof m=="number"||p?(v=typeof m=="number"?s1e(m):m,g=r(v)):(v=i(m,void 0),g=r(v)),{formattedValue:g,numAsString:v}}),a=A.useState(function(){return s(Sw(e)?t:e,n)}),l=a[0],u=a[1],c=function(m,p){m.formattedValue!==l.formattedValue&&u({formattedValue:m.formattedValue,numAsString:m.value}),o(m,p)},d=e,f=n;Sw(e)&&(d=l.numAsString,f=!0);var h=s(d,f);return A.useMemo(function(){u(h)},[h.formattedValue]),[l,c]}function MUe(e){return e.replace(/[^0-9]/g,"")}function $Ue(e){return e}function LUe(e){var t=e.type;t===void 0&&(t="text");var n=e.displayType;n===void 0&&(n="input");var r=e.customInput,i=e.renderText,o=e.getInputRef,s=e.format;s===void 0&&(s=$Ue);var a=e.removeFormatting;a===void 0&&(a=MUe);var l=e.defaultValue,u=e.valueIsNumericString,c=e.onValueChange,d=e.isAllowed,f=e.onChange;f===void 0&&(f=Og);var h=e.onKeyDown;h===void 0&&(h=Og);var m=e.onMouseUp;m===void 0&&(m=Og);var p=e.onFocus;p===void 0&&(p=Og);var g=e.onBlur;g===void 0&&(g=Og);var v=e.value,y=e.getCaretBoundary;y===void 0&&(y=NUe);var w=e.isValidInputCharacter;w===void 0&&(w=i2);var _=e.isCharacterSame,E=n1e(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),S=l1e(v,l,!!u,s,a,c),T=S[0],k=T.formattedValue,R=T.numAsString,I=S[1],P=A.useRef(),N=A.useRef({formattedValue:k,numAsString:R}),M=function(re,ee){N.current={formattedValue:re.formattedValue,numAsString:re.value},I(re,ee)},O=A.useState(!1),j=O[0],U=O[1],q=A.useRef(null),W=A.useRef({setCaretTimeout:null,focusTimeout:null});A.useEffect(function(){return U(!0),function(){clearTimeout(W.current.setCaretTimeout),clearTimeout(W.current.focusTimeout)}},[]);var V=s,z=function(re,ee){var fe=parseFloat(ee);return{formattedValue:re,value:ee,floatValue:isNaN(fe)?void 0:fe}},L=function(re,ee,fe){re.selectionStart===0&&re.selectionEnd===re.value.length||(Xy(re,ee),W.current.setCaretTimeout=setTimeout(function(){re.value===fe&&re.selectionStart!==ee&&Xy(re,ee)},0))},H=function(re,ee,fe){return Mie(re,ee,y(re),fe)},B=function(re,ee,fe){var Re=y(ee),Oe=OUe(ee,k,re,fe,Re,w,_);return Oe=Mie(ee,Oe,Re),Oe},Y=function(re){var ee=re.formattedValue;ee===void 0&&(ee="");var fe=re.input,Re=re.source,Oe=re.event,Ae=re.numAsString,Se;if(fe){var xe=re.inputValue||fe.value,ke=kF(fe);fe.value=ee,Se=B(xe,ee,ke),Se!==void 0&&L(fe,Se,ee)}ee!==k&&M(z(ee,Ae),{event:Oe,source:Re})};A.useEffect(function(){var re=N.current,ee=re.formattedValue,fe=re.numAsString;(k!==ee||R!==fe)&&M(z(k,R),{event:void 0,source:r2.props})},[k,R]);var Q=q.current?kF(q.current):void 0,ne=typeof window<"u"?A.useLayoutEffect:A.useEffect;ne(function(){var re=q.current;if(k!==N.current.formattedValue&&re){var ee=B(N.current.formattedValue,k,Q);re.value=k,L(re,ee,k)}},[k]);var ce=function(re,ee,fe){var Re=ee.target,Oe=P.current?AUe(P.current,Re.selectionEnd):a1e(k,re),Ae=Object.assign(Object.assign({},Oe),{lastValue:k}),Se=a(re,Ae),xe=V(Se);if(Se=a(xe,void 0),d&&!d(z(xe,Se))){var ke=ee.target,me=kF(ke),Me=B(re,k,me);return ke.value=k,L(ke,Me,k),!1}return Y({formattedValue:xe,numAsString:Se,inputValue:re,event:ee,source:fe,input:ee.target}),!0},le=function(re,ee){ee===void 0&&(ee=0);var fe=re.selectionStart,Re=re.selectionEnd;P.current={selectionStart:fe,selectionEnd:Re+ee}},ue=function(re){var ee=re.target,fe=ee.value,Re=ce(fe,re,r2.event);Re&&f(re),P.current=void 0},ae=function(re){var ee=re.target,fe=re.key,Re=ee.selectionStart,Oe=ee.selectionEnd,Ae=ee.value;Ae===void 0&&(Ae="");var Se;fe==="ArrowLeft"||fe==="Backspace"?Se=Math.max(Re-1,0):fe==="ArrowRight"?Se=Math.min(Re+1,Ae.length):fe==="Delete"&&(Se=Re);var xe=0;fe==="Delete"&&Re===Oe&&(xe=1);var ke=fe==="ArrowLeft"||fe==="ArrowRight";if(Se===void 0||Re!==Oe&&!ke){h(re),le(ee,xe);return}var me=Se;if(ke){var Me=fe==="ArrowLeft"?"left":"right";me=H(Ae,Se,Me),me!==Se&&re.preventDefault()}else fe==="Delete"&&!w(Ae[Se])?me=H(Ae,Se,"right"):fe==="Backspace"&&!w(Ae[Se])&&(me=H(Ae,Se,"left"));me!==Se&&L(ee,me,Ae),h(re),le(ee,xe)},te=function(re){var ee=re.target,fe=function(){var Re=ee.selectionStart,Oe=ee.selectionEnd,Ae=ee.value;if(Ae===void 0&&(Ae=""),Re===Oe){var Se=H(Ae,Re);Se!==Re&&L(ee,Se,Ae)}};fe(),requestAnimationFrame(function(){fe()}),m(re),le(ee)},se=function(re){re.persist&&re.persist();var ee=re.target,fe=re.currentTarget;q.current=ee,W.current.focusTimeout=setTimeout(function(){var Re=ee.selectionStart,Oe=ee.selectionEnd,Ae=ee.value;Ae===void 0&&(Ae="");var Se=H(Ae,Re);Se!==Re&&!(Re===0&&Oe===Ae.length)&&L(ee,Se,Ae),p(Object.assign(Object.assign({},re),{currentTarget:fe}))},0)},we=function(re){q.current=null,clearTimeout(W.current.focusTimeout),clearTimeout(W.current.setCaretTimeout),g(re)},X=j&&IUe()?"numeric":void 0,he=Object.assign({inputMode:X},E,{type:t,value:k,onChange:ue,onKeyDown:ae,onMouseUp:te,onFocus:se,onBlur:we});if(n==="text")return i?un.createElement(un.Fragment,null,i(k,E)||null):un.createElement("span",Object.assign({},E,{ref:o}),k);if(r){var ge=r;return un.createElement(ge,Object.assign({},he,{ref:o}))}return un.createElement("input",Object.assign({},he,{ref:o}))}function $ie(e,t){var n=t.decimalScale,r=t.fixedDecimalScale,i=t.prefix;i===void 0&&(i="");var o=t.suffix;o===void 0&&(o="");var s=t.allowNegative,a=t.thousandsGroupStyle;if(a===void 0&&(a="thousand"),e===""||e==="-")return e;var l=F4(t),u=l.thousandSeparator,c=l.decimalSeparator,d=n!==0&&e.indexOf(".")!==-1||n&&r,f=AW(e,s),h=f.beforeDecimal,m=f.afterDecimal,p=f.addNegation;return n!==void 0&&(m=o1e(m,n,!!r)),u&&(h=SUe(h,u,a)),i&&(h=i+h),o&&(m=m+o),p&&(h="-"+h),e=h+(d&&c||"")+m,e}function F4(e){var t=e.decimalSeparator;t===void 0&&(t=".");var n=e.thousandSeparator,r=e.allowedDecimalSeparators;return n===!0&&(n=","),r||(r=[t,"."]),{decimalSeparator:t,thousandSeparator:n,allowedDecimalSeparators:r}}function FUe(e,t){e===void 0&&(e="");var n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(e),o=r.test(e);return e=e.replace(/-/g,""),i&&!o&&t&&(e="-"+e),e}function jUe(e,t){return new RegExp("(^-)|[0-9]|"+i1e(e),"g")}function BUe(e,t,n){return e===""?!0:!t?.match(/\d/)&&!n?.match(/\d/)&&typeof e=="string"&&!isNaN(Number(e))}function zUe(e,t,n){var r;t===void 0&&(t=DUe(e));var i=n.allowNegative,o=n.prefix;o===void 0&&(o="");var s=n.suffix;s===void 0&&(s="");var a=n.decimalScale,l=t.from,u=t.to,c=u.start,d=u.end,f=F4(n),h=f.allowedDecimalSeparators,m=f.decimalSeparator,p=e[d]===m;if(i2(e)&&(e===o||e===s)&&t.lastValue==="")return e;if(d-c===1&&h.indexOf(e[c])!==-1){var g=a===0?"":m;e=e.substring(0,c)+g+e.substring(c+1,e.length)}var v=function(q,W,V){var z=!1,L=!1;o.startsWith("-")?z=!1:q.startsWith("--")?(z=!1,L=!0):s.startsWith("-")&&q.length===s.length?z=!1:q[0]==="-"&&(z=!0);var H=z?1:0;return L&&(H=2),H&&(q=q.substring(H),W-=H,V-=H),{value:q,start:W,end:V,hasNegation:z}},y=v(e,c,d),w=y.hasNegation;r=y,e=r.value,c=r.start,d=r.end;var _=v(t.lastValue,l.start,l.end),E=_.start,S=_.end,T=_.value,k=e.substring(c,d);e.length&&T.length&&(E>T.length-s.length||S<o.length)&&!(k&&s.startsWith(k))&&(e=T);var R=0;e.startsWith(o)?R+=o.length:c<o.length&&(R=c),e=e.substring(R),d-=R;var I=e.length,P=e.length-s.length;e.endsWith(s)?I=P:(d>P||d>e.length-s.length)&&(I=d),e=e.substring(0,I),e=FUe(w?"-"+e:e,i),e=(e.match(jUe(m))||[]).join("");var N=e.indexOf(m);e=e.replace(new RegExp(i1e(m),"g"),function(q,W){return W===N?".":""});var M=AW(e,i),O=M.beforeDecimal,j=M.afterDecimal,U=M.addNegation;return u.end-u.start<l.end-l.start&&O===""&&p&&!parseFloat(j)&&(e=U?"-":""),e}function UUe(e,t){var n=t.prefix;n===void 0&&(n="");var r=t.suffix;r===void 0&&(r="");var i=Array.from({length:e.length+1}).map(function(){return!0}),o=e[0]==="-";i.fill(!1,0,n.length+(o?1:0));var s=e.length;return i.fill(!1,s-r.length+1,s+1),i}function HUe(e){var t=F4(e),n=t.thousandSeparator,r=t.decimalSeparator,i=e.prefix;i===void 0&&(i="");var o=e.allowNegative;if(o===void 0&&(o=!0),n===r)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+n+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+r+` (default value for decimalSeparator is .)
     `);return i.startsWith("-")&&o&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+i+`
      allowNegative: `+o+`
    `),o=!1),Object.assign(Object.assign({},e),{allowNegative:o})}function qUe(e){e=HUe(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var t=e.suffix,n=e.allowNegative,r=e.allowLeadingZeros,i=e.onKeyDown;i===void 0&&(i=Og);var o=e.onBlur;o===void 0&&(o=Og);var s=e.thousandSeparator,a=e.decimalScale,l=e.fixedDecimalScale,u=e.prefix;u===void 0&&(u="");var c=e.defaultValue,d=e.value,f=e.valueIsNumericString,h=e.onValueChange,m=n1e(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),p=F4(e),g=p.decimalSeparator,v=p.allowedDecimalSeparators,y=function(U){return $ie(U,e)},w=function(U,q){return zUe(U,q,e)},_=Sw(d)?c:d,E=f??BUe(_,u,t);Sw(d)?Sw(c)||(E=E||typeof c=="number"):E=E||typeof d=="number";var S=function(U){return r1e(U)?U:(typeof U=="number"&&(U=s1e(U)),E&&typeof a=="number"?Nie(U,a,!!l):U)},T=l1e(S(d),S(c),!!E,y,w,h),k=T[0],R=k.numAsString,I=k.formattedValue,P=T[1],N=function(U){var q=U.target,W=U.key,V=q.selectionStart,z=q.selectionEnd,L=q.value;if(L===void 0&&(L=""),(W==="Backspace"||W==="Delete")&&z<u.length){U.preventDefault();return}if(V!==z){i(U);return}W==="Backspace"&&L[0]==="-"&&V===u.length+1&&n&&Xy(q,1),a&&l&&(W==="Backspace"&&L[V-1]===g?(Xy(q,V-1),U.preventDefault()):W==="Delete"&&L[V]===g&&U.preventDefault()),v?.includes(W)&&L[V]===g&&Xy(q,V+1);var H=s===!0?",":s;W==="Backspace"&&L[V-1]===H&&Xy(q,V-1),W==="Delete"&&L[V]===H&&Xy(q,V+1),i(U)},M=function(U){var q=R;if(q.match(/\d/g)||(q=""),r||(q=kUe(q)),l&&a&&(q=Nie(q,a,l)),q!==R){var W=$ie(q,e);P({formattedValue:W,value:q,floatValue:parseFloat(q)},{event:U,source:r2.event})}o(U)},O=function(U){return U===g?!0:i2(U)},j=function(U){var q=U.currentValue,W=U.lastValue,V=U.formattedValue,z=U.currentValueIndex,L=U.formattedValueIndex,H=q[z],B=V[L],Y=a1e(W,q),Q=Y.to,ne=function(ce){return w(ce).indexOf(".")+u.length};return d===0&&l&&a&&q[Q.start]===g&&ne(q)<z&&ne(V)>L?!1:z>=Q.start&&z<Q.end&&v&&v.includes(H)&&B===g?!0:H===B};return Object.assign(Object.assign({},m),{value:I,valueIsNumericString:!1,isValidInputCharacter:O,isCharacterSame:j,onValueChange:P,format:y,removeFormatting:w,getCaretBoundary:function(U){return UUe(U,e)},onKeyDown:N,onBlur:M})}function VUe(e){var t=qUe(e);return un.createElement(LUe,Object.assign({},t))}function Lie({direction:e,style:t,...n}){return b.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:e==="up"?"rotate(180deg)":void 0,...t},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:b.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var O7={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const WUe=/^(0\.0*|-0(\.0*)?)$/,GUe=/^-?0\d+(\.\d+)?\.?$/;function N7(e){return typeof e=="string"&&e!==""&&!Number.isNaN(Number(e))}function AF(e){return typeof e=="number"?e<Number.MAX_SAFE_INTEGER:e===""||N7(e)&&Number(e)<Number.MAX_SAFE_INTEGER}function YUe(e){return e.toString().replace(".","").length}function KUe(e,t){return(typeof e=="number"?e<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(e)))&&!Number.isNaN(e)&&YUe(t)<14&&t!==""}function Fie(e,t,n){if(e===void 0)return!0;const r=t===void 0||e>=t,i=n===void 0||e<=n;return r&&i}const XUe={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},QUe=(e,{size:t})=>({controls:{"--ni-chevron-size":hn(t,"ni-chevron-size")}});function JUe(e,t,n){const r=e.toString().replace(/^0+/,""),i=parseFloat(r);return Number.isNaN(i)?r:i>Number.MAX_SAFE_INTEGER?t!==void 0?String(t):r:Tc(i,n,t)}const RW=nt((e,t)=>{const n=qe("NumberInput",XUe,e),{className:r,classNames:i,styles:o,unstyled:s,vars:a,onChange:l,onValueChange:u,value:c,defaultValue:d,max:f,min:h,step:m,hideControls:p,rightSection:g,isAllowed:v,clampBehavior:y,onBlur:w,allowDecimal:_,decimalScale:E,onKeyDown:S,onKeyDownCapture:T,handlersRef:k,startValue:R,disabled:I,rightSectionPointerEvents:P,allowNegative:N,readOnly:M,size:O,rightSectionWidth:j,stepHoldInterval:U,stepHoldDelay:q,allowLeadingZeros:W,withKeyboardEvents:V,trimLeadingZeroesOnBlur:z,...L}=n,H=Rt({name:"NumberInput",classes:O7,props:n,classNames:i,styles:o,unstyled:s,vars:a,varsResolver:QUe}),{resolvedClassNames:B,resolvedStyles:Y}=of({classNames:i,styles:o,props:n}),[Q,ne]=qi({value:c,defaultValue:d,finalValue:"",onChange:l}),ce=q!==void 0&&U!==void 0,le=A.useRef(null),ue=A.useRef(null),ae=A.useRef(0),te=(xe,ke)=>{ke.source==="event"&&ne(KUe(xe.floatValue,xe.value)&&!WUe.test(xe.value)&&!(W&&GUe.test(xe.value))?xe.floatValue:xe.value),u?.(xe,ke)},se=xe=>{const ke=String(xe).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return ke?Math.max(0,(ke[1]?ke[1].length:0)-(ke[2]?+ke[2]:0)):0},we=xe=>{le.current&&typeof xe<"u"&&le.current.setSelectionRange(xe,xe)},X=A.useRef(p3);X.current=()=>{if(!AF(Q))return;let xe;const ke=se(Q),me=se(m),Me=Math.max(ke,me),ze=10**Me;if(!N7(Q)&&(typeof Q!="number"||Number.isNaN(Q)))xe=Tc(R,h,f);else if(f!==void 0){const tt=(Math.round(Number(Q)*ze)+Math.round(m*ze))/ze;xe=tt<=f?tt:f}else xe=(Math.round(Number(Q)*ze)+Math.round(m*ze))/ze;const Xe=xe.toFixed(Me);ne(parseFloat(Xe)),u?.({floatValue:parseFloat(Xe),formattedValue:Xe,value:Xe},{source:"increment"}),setTimeout(()=>we(le.current?.value.length),0)};const he=A.useRef(p3);he.current=()=>{if(!AF(Q))return;let xe;const ke=h!==void 0?h:N?Number.MIN_SAFE_INTEGER:0,me=se(Q),Me=se(m),ze=Math.max(me,Me),Xe=10**ze;if(!N7(Q)&&typeof Q!="number"||Number.isNaN(Q))xe=Tc(R,ke,f);else{const gt=(Math.round(Number(Q)*Xe)-Math.round(m*Xe))/Xe;xe=ke!==void 0&&gt<ke?ke:gt}const tt=xe.toFixed(ze);ne(parseFloat(tt)),u?.({floatValue:parseFloat(tt),formattedValue:tt,value:tt},{source:"decrement"}),setTimeout(()=>we(le.current?.value.length),0)};const ge=xe=>{S?.(xe),!(M||!V)&&(xe.key==="ArrowUp"&&(xe.preventDefault(),X.current()),xe.key==="ArrowDown"&&(xe.preventDefault(),he.current()))},re=xe=>{if(T?.(xe),xe.key==="Backspace"){const ke=le.current;ke.selectionStart===0&&ke.selectionStart===ke.selectionEnd&&(xe.preventDefault(),window.setTimeout(()=>we(0),0))}},ee=xe=>{let ke=Q;y==="blur"&&typeof ke=="number"&&(ke=Tc(ke,h,f)),z&&typeof ke=="string"&&se(ke)<15&&(ke=JUe(ke,f,h)),Q!==ke&&ne(ke),w?.(xe)};m3(k,{increment:X.current,decrement:he.current});const fe=xe=>{xe?X.current():he.current(),ae.current+=1},Re=xe=>{if(fe(xe),ce){const ke=typeof U=="number"?U:U(ae.current);ue.current=window.setTimeout(()=>Re(xe),ke)}},Oe=(xe,ke)=>{xe.preventDefault(),le.current?.focus(),fe(ke),ce&&(ue.current=window.setTimeout(()=>Re(ke),q))},Ae=()=>{ue.current&&window.clearTimeout(ue.current),ue.current=null,ae.current=0},Se=b.jsxs("div",{...H("controls"),children:[b.jsx(Yo,{...H("control"),tabIndex:-1,"aria-hidden":!0,disabled:I||typeof Q=="number"&&f!==void 0&&Q>=f,mod:{direction:"up"},onMouseDown:xe=>xe.preventDefault(),onPointerDown:xe=>{Oe(xe,!0)},onPointerUp:Ae,onPointerLeave:Ae,children:b.jsx(Lie,{direction:"up"})}),b.jsx(Yo,{...H("control"),tabIndex:-1,"aria-hidden":!0,disabled:I||typeof Q=="number"&&h!==void 0&&Q<=h,mod:{direction:"down"},onMouseDown:xe=>xe.preventDefault(),onPointerDown:xe=>{Oe(xe,!1)},onPointerUp:Ae,onPointerLeave:Ae,children:b.jsx(Lie,{direction:"down"})})]});return b.jsx(_l,{component:VUe,allowNegative:N,className:Nt(O7.root,r),size:O,...L,readOnly:M,disabled:I,value:Q,getInputRef:uo(t,le),onValueChange:te,rightSection:p||M||!AF(Q)?g:g||Se,classNames:B,styles:Y,unstyled:s,__staticSelector:"NumberInput",decimalScale:_?E:0,onKeyDown:ge,onKeyDownCapture:re,rightSectionPointerEvents:P??(I?"none":void 0),rightSectionWidth:j??`var(--ni-right-section-width-${O||"sm"})`,allowLeadingZeros:W,onBlur:ee,isAllowed:xe=>y==="strict"?v?v(xe)&&Fie(xe.floatValue,h,f):Fie(xe.floatValue,h,f):v?v(xe):!0})});RW.classes={..._l.classes,...O7};RW.displayName="@mantine/core/NumberInput";const[ZUe,j4]=ua("Pagination.Root component was not found in tree");var CT={root:"m_4addd315",control:"m_326d024a",dots:"m_4ad7767d"};const eHe={withPadding:!0},_T=nt((e,t)=>{const n=qe("PaginationControl",eHe,e),{classNames:r,className:i,style:o,styles:s,vars:a,active:l,disabled:u,withPadding:c,mod:d,...f}=n,h=j4(),m=u||h.disabled;return b.jsx(Yo,{ref:t,disabled:m,mod:[{active:l,disabled:m,"with-padding":c},d],...h.getStyles("control",{className:i,style:o,classNames:r,styles:s,active:!m}),...f})});_T.classes=CT;_T.displayName="@mantine/core/PaginationControl";function ET({style:e,children:t,path:n,...r}){return b.jsx("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)",...e},...r,children:b.jsx("path",{d:n,fill:"currentColor"})})}const tHe=e=>b.jsx(ET,{...e,path:"M8.781 8l-3.3-3.3.943-.943L10.667 8l-4.243 4.243-.943-.943 3.3-3.3z"}),nHe=e=>b.jsx(ET,{...e,path:"M7.219 8l3.3 3.3-.943.943L5.333 8l4.243-4.243.943.943-3.3 3.3z"}),rHe=e=>b.jsx(ET,{...e,path:"M6.85355 3.85355C7.04882 3.65829 7.04882 3.34171 6.85355 3.14645C6.65829 2.95118 6.34171 2.95118 6.14645 3.14645L2.14645 7.14645C1.95118 7.34171 1.95118 7.65829 2.14645 7.85355L6.14645 11.8536C6.34171 12.0488 6.65829 12.0488 6.85355 11.8536C7.04882 11.6583 7.04882 11.3417 6.85355 11.1464L3.20711 7.5L6.85355 3.85355ZM12.8536 3.85355C13.0488 3.65829 13.0488 3.34171 12.8536 3.14645C12.6583 2.95118 12.3417 2.95118 12.1464 3.14645L8.14645 7.14645C7.95118 7.34171 7.95118 7.65829 8.14645 7.85355L12.1464 11.8536C12.3417 12.0488 12.6583 12.0488 12.8536 11.8536C13.0488 11.6583 13.0488 11.3417 12.8536 11.1464L9.20711 7.5L12.8536 3.85355Z"}),iHe=e=>b.jsx(ET,{...e,path:"M2.14645 11.1464C1.95118 11.3417 1.95118 11.6583 2.14645 11.8536C2.34171 12.0488 2.65829 12.0488 2.85355 11.8536L6.85355 7.85355C7.04882 7.65829 7.04882 7.34171 6.85355 7.14645L2.85355 3.14645C2.65829 2.95118 2.34171 2.95118 2.14645 3.14645C1.95118 3.34171 1.95118 3.65829 2.14645 3.85355L5.79289 7.5L2.14645 11.1464ZM8.14645 11.1464C7.95118 11.3417 7.95118 11.6583 8.14645 11.8536C8.34171 12.0488 8.65829 12.0488 8.85355 11.8536L12.8536 7.85355C13.0488 7.65829 13.0488 7.34171 12.8536 7.14645L8.85355 3.14645C8.65829 2.95118 8.34171 2.95118 8.14645 3.14645C7.95118 3.34171 7.95118 3.65829 8.14645 3.85355L11.7929 7.5L8.14645 11.1464Z"}),oHe=e=>b.jsx(ET,{...e,path:"M2 8c0-.733.6-1.333 1.333-1.333.734 0 1.334.6 1.334 1.333s-.6 1.333-1.334 1.333C2.6 9.333 2 8.733 2 8zm9.333 0c0-.733.6-1.333 1.334-1.333C13.4 6.667 14 7.267 14 8s-.6 1.333-1.333 1.333c-.734 0-1.334-.6-1.334-1.333zM6.667 8c0-.733.6-1.333 1.333-1.333s1.333.6 1.333 1.333S8.733 9.333 8 9.333 6.667 8.733 6.667 8z"}),sHe={icon:oHe},B4=nt((e,t)=>{const n=qe("PaginationDots",sHe,e),{classNames:r,className:i,style:o,styles:s,vars:a,icon:l,...u}=n,c=j4(),d=l;return b.jsx(De,{ref:t,...c.getStyles("dots",{className:i,style:o,styles:s,classNames:r}),...u,children:b.jsx(d,{style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});B4.classes=CT;B4.displayName="@mantine/core/PaginationDots";function z4({icon:e,name:t,action:n,type:r}){const i={icon:e},o=A.forwardRef((s,a)=>{const{icon:l,...u}=qe(t,i,s),c=l,d=j4(),f=r==="next"?d.active===d.total:d.active===1;return b.jsx(_T,{disabled:d.disabled||f,ref:a,onClick:d[n],withPadding:!1,...u,children:b.jsx(c,{className:"mantine-rotate-rtl",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});return o.displayName=`@mantine/core/${t}`,o}const u1e=z4({icon:tHe,name:"PaginationNext",action:"onNext",type:"next"}),c1e=z4({icon:nHe,name:"PaginationPrevious",action:"onPrevious",type:"previous"}),d1e=z4({icon:rHe,name:"PaginationFirst",action:"onFirst",type:"previous"}),f1e=z4({icon:iHe,name:"PaginationLast",action:"onLast",type:"next"});function IW({dotsIcon:e}){const t=j4(),n=t.range.map((r,i)=>r==="dots"?b.jsx(B4,{icon:e},i):b.jsx(_T,{active:r===t.active,"aria-current":r===t.active?"page":void 0,onClick:()=>t.onChange(r),disabled:t.disabled,...t.getItemProps?.(r),children:t.getItemProps?.(r)?.children??r},i));return b.jsx(b.Fragment,{children:n})}IW.displayName="@mantine/core/PaginationItems";const aHe={siblings:1,boundaries:1},lHe=(e,{size:t,radius:n,color:r,autoContrast:i})=>({root:{"--pagination-control-radius":n===void 0?void 0:jr(n),"--pagination-control-size":hn(t,"pagination-control-size"),"--pagination-control-fz":lo(t),"--pagination-active-bg":r?qr(r,e):void 0,"--pagination-active-color":F0(i,e)?Lh({color:r,theme:e,autoContrast:i}):void 0}}),U4=nt((e,t)=>{const n=qe("PaginationRoot",aHe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,total:u,value:c,defaultValue:d,onChange:f,disabled:h,siblings:m,boundaries:p,color:g,radius:v,onNextPage:y,onPreviousPage:w,onFirstPage:_,onLastPage:E,getItemProps:S,autoContrast:T,...k}=n,R=Rt({name:"Pagination",classes:CT,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:lHe}),{range:I,setPage:P,next:N,previous:M,active:O,first:j,last:U}=ULe({page:c,initialPage:d,onChange:f,total:u,siblings:m,boundaries:p}),q=Ts(y,N),W=Ts(w,M),V=Ts(_,j),z=Ts(E,U);return b.jsx(ZUe,{value:{total:u,range:I,active:O,disabled:h,getItemProps:S,onChange:P,onNext:q,onPrevious:W,onFirst:V,onLast:z,getStyles:R},children:b.jsx(De,{ref:t,...R("root"),...k})})});U4.classes=CT;U4.displayName="@mantine/core/PaginationRoot";const uHe={withControls:!0,withPages:!0,siblings:1,boundaries:1,gap:8},sf=nt((e,t)=>{const n=qe("Pagination",uHe,e),{withEdges:r,withControls:i,getControlProps:o,nextIcon:s,previousIcon:a,lastIcon:l,firstIcon:u,dotsIcon:c,total:d,gap:f,hideWithOnePage:h,withPages:m,...p}=n;return d<=0||h&&d===1?null:b.jsx(U4,{ref:t,total:d,...p,children:b.jsxs(ln,{gap:f,children:[r&&b.jsx(d1e,{icon:u,...o?.("first")}),i&&b.jsx(c1e,{icon:a,...o?.("previous")}),m&&b.jsx(IW,{dotsIcon:c}),i&&b.jsx(u1e,{icon:s,...o?.("next")}),r&&b.jsx(f1e,{icon:l,...o?.("last")})]})})});sf.classes=CT;sf.displayName="@mantine/core/Pagination";sf.Root=U4;sf.Control=_T;sf.Dots=B4;sf.First=d1e;sf.Last=f1e;sf.Next=u1e;sf.Previous=c1e;sf.Items=IW;const[cHe,h1e]=ua("Progress.Root component was not found in tree");var ST={root:"m_db6d6462",section:"m_2242eb65","stripes-animation":"m_81a374bd",label:"m_91e40b74"};const dHe={},DW=nt((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=qe("ProgressLabel",dHe,e),l=h1e();return b.jsx(De,{ref:t,...l.getStyles("label",{className:r,style:i,classNames:n,styles:o}),...a})});DW.classes=ST;DW.displayName="@mantine/core/ProgressLabel";const fHe={},hHe=(e,{size:t,radius:n,transitionDuration:r})=>({root:{"--progress-size":hn(t,"progress-size"),"--progress-radius":n===void 0?void 0:jr(n),"--progress-transition-duration":typeof r=="number"?`${r}ms`:void 0}}),H4=nt((e,t)=>{const n=qe("ProgressRoot",fHe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,autoContrast:u,transitionDuration:c,...d}=n,f=Rt({name:"Progress",classes:ST,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:hHe});return b.jsx(cHe,{value:{getStyles:f,autoContrast:u},children:b.jsx(De,{ref:t,...f("root"),...d})})});H4.classes=ST;H4.displayName="@mantine/core/ProgressRoot";const pHe={withAria:!0},q4=nt((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,value:a,withAria:l,color:u,striped:c,animated:d,mod:f,...h}=qe("ProgressSection",pHe,e),m=h1e(),p=eo(),g=l?{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":a,"aria-valuetext":`${a}%`}:{};return b.jsx(De,{ref:t,...m.getStyles("section",{className:r,classNames:n,styles:o,style:i}),...h,...g,mod:[{striped:c||d,animated:d},f],__vars:{"--progress-section-width":`${a}%`,"--progress-section-color":qr(u,p),"--progress-label-color":F0(m.autoContrast,p)?Lh({color:u,theme:p,autoContrast:m.autoContrast}):void 0}})});q4.classes=ST;q4.displayName="@mantine/core/ProgressSection";const mHe={},H0=nt((e,t)=>{const n=qe("Progress",mHe,e),{value:r,classNames:i,styles:o,vars:s,color:a,striped:l,animated:u,"aria-label":c,...d}=n,{resolvedClassNames:f,resolvedStyles:h}=of({classNames:i,styles:o,props:n});return b.jsx(H4,{ref:t,classNames:f,styles:h,vars:s,...d,children:b.jsx(q4,{value:r,color:a,striped:l,animated:u,"aria-label":c})})});H0.classes=ST;H0.displayName="@mantine/core/Progress";H0.Section=q4;H0.Root=H4;H0.Label=DW;const[gHe,p1e]=Em(),[yHe,vHe]=Em();var m1e={card:"m_9dc8ae12"};const bHe={withBorder:!0},wHe=(e,{radius:t})=>({card:{"--card-radius":jr(t)}}),PW=nt((e,t)=>{const n=qe("RadioCard",bHe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,checked:u,mod:c,withBorder:d,value:f,onClick:h,name:m,onKeyDown:p,...g}=n,v=Rt({name:"RadioCard",classes:m1e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:wHe,rootSelector:"card"}),{dir:y}=su(),w=p1e(),_=typeof u=="boolean"?u:w?.value===f||!1,E=m||w?.name,S=T=>{if(p?.(T),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(T.nativeEvent.code)){T.preventDefault();const k=Array.from(document.querySelectorAll(`[role="radio"][name="${E||"__mantine"}"]`)),R=k.findIndex(N=>N===T.target),I=R+1>=k.length?0:R+1,P=R-1<0?k.length-1:R-1;T.nativeEvent.code==="ArrowDown"&&(k[I].focus(),k[I].click()),T.nativeEvent.code==="ArrowUp"&&(k[P].focus(),k[P].click()),T.nativeEvent.code==="ArrowLeft"&&(k[y==="ltr"?P:I].focus(),k[y==="ltr"?P:I].click()),T.nativeEvent.code==="ArrowRight"&&(k[y==="ltr"?I:P].focus(),k[y==="ltr"?I:P].click())}};return b.jsx(yHe,{value:{checked:_},children:b.jsx(Yo,{ref:t,mod:[{"with-border":d,checked:_},c],...v("card"),...g,role:"radio","aria-checked":_,name:E,onClick:T=>{h?.(T),w?.onChange(f||"")},onKeyDown:S})})});PW.displayName="@mantine/core/RadioCard";PW.classes=m1e;const xHe={},OW=nt((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:o,wrapperProps:s,children:a,name:l,readOnly:u,...c}=qe("RadioGroup",xHe,e),d=Ha(l),[f,h]=qi({value:n,defaultValue:r,finalValue:"",onChange:i}),m=p=>!u&&h(typeof p=="string"?p:p.currentTarget.value);return b.jsx(gHe,{value:{value:f,onChange:m,size:o,name:d},children:b.jsx(Or.Wrapper,{size:o,ref:t,...s,...c,labelElement:"div",__staticSelector:"RadioGroup",children:b.jsx(QV,{role:"radiogroup",children:a})})})});OW.classes=Or.Wrapper.classes;OW.displayName="@mantine/core/RadioGroup";function g1e({size:e,style:t,...n}){return b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5",style:{width:Ye(e),height:Ye(e),...t},"aria-hidden":!0,...n,children:b.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:"currentColor"})})}var y1e={indicator:"m_717d7ff6",icon:"m_3e4da632","indicator--outline":"m_2980836c"};const CHe={icon:g1e},_He=(e,{radius:t,color:n,size:r,iconColor:i,variant:o,autoContrast:s})=>{const a=rf({color:n||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--radio-size":hn(r,"radio-size"),"--radio-radius":t===void 0?void 0:jr(t),"--radio-color":o==="outline"?l:qr(n,e),"--radio-icon-size":hn(r,"radio-icon-size"),"--radio-icon-color":i?qr(i,e):F0(s,e)?Lh({color:n,theme:e,autoContrast:s}):void 0}}},NW=nt((e,t)=>{const n=qe("RadioIndicator",CHe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,icon:u,radius:c,color:d,iconColor:f,autoContrast:h,checked:m,mod:p,variant:g,disabled:v,...y}=n,w=u,_=Rt({name:"RadioIndicator",classes:y1e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:_He,rootSelector:"indicator"}),E=vHe(),S=typeof m=="boolean"?m:E?.checked||!1;return b.jsx(De,{ref:t,..._("indicator",{variant:g}),variant:g,mod:[{checked:S,disabled:v},p],...y,children:b.jsx(w,{..._("icon")})})});NW.displayName="@mantine/core/RadioIndicator";NW.classes=y1e;var v1e={root:"m_f3f1af94",inner:"m_89c4f5e4",icon:"m_f3ed6b2b",radio:"m_8a3dbb89","radio--outline":"m_1bfe9d39"};const EHe={labelPosition:"right"},SHe=(e,{size:t,radius:n,color:r,iconColor:i,variant:o,autoContrast:s})=>{const a=rf({color:r||e.primaryColor,theme:e}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--radio-size":hn(t,"radio-size"),"--radio-radius":n===void 0?void 0:jr(n),"--radio-color":o==="outline"?l:qr(r,e),"--radio-icon-color":i?qr(i,e):F0(s,e)?Lh({color:r,theme:e,autoContrast:s}):void 0,"--radio-icon-size":hn(t,"radio-icon-size")}}},Na=nt((e,t)=>{const n=qe("Radio",EHe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,id:u,size:c,label:d,labelPosition:f,description:h,error:m,radius:p,color:g,variant:v,disabled:y,wrapperProps:w,icon:_=g1e,rootRef:E,iconColor:S,onChange:T,mod:k,...R}=n,I=Rt({name:"Radio",classes:v1e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:SHe}),P=p1e(),N=P?.size??c,M=n.size?c:N,{styleProps:O,rest:j}=xb(R),U=Ha(u),q=P?{checked:P.value===j.value,name:j.name??P.name,onChange:W=>{P.onChange(W),T?.(W)}}:{};return b.jsx(T4,{...I("root"),__staticSelector:"Radio",__stylesApiProps:n,id:U,size:M,labelPosition:f,label:d,description:h,error:m,disabled:y,classNames:r,styles:s,unstyled:a,"data-checked":q.checked||void 0,variant:v,ref:E,mod:k,...O,...w,children:b.jsxs(De,{...I("inner"),mod:{"label-position":f},children:[b.jsx(De,{...I("radio",{focusable:!0,variant:v}),onChange:T,...j,...q,component:"input",mod:{error:!!m},ref:t,id:U,disabled:y,type:"radio"}),b.jsx(_,{...I("icon"),"aria-hidden":!0})]})})});Na.classes=v1e;Na.displayName="@mantine/core/Radio";Na.Group=OW;Na.Card=PW;Na.Indicator=NW;const THe={duration:100,transition:"fade"};function kHe(e,t){return{...THe,...t,...e}}function AHe({offset:e,position:t,defaultOpened:n}){const[r,i]=A.useState(n),o=A.useRef(null),{x:s,y:a,elements:l,refs:u,update:c,placement:d}=bV({placement:t,middleware:[mV({crossAxis:!0,padding:5,rootBoundary:"document"})]}),f=d.includes("right")?e:t.includes("left")?e*-1:0,h=d.includes("bottom")?e:t.includes("top")?e*-1:0,m=A.useCallback(({clientX:p,clientY:g})=>{u.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:p,y:g,left:p+f,top:g+h,right:p,bottom:g}}})},[l.reference]);return A.useEffect(()=>{if(u.floating.current){const p=o.current;p.addEventListener("mousemove",m);const g=zp(u.floating.current);return g.forEach(v=>{v.addEventListener("scroll",c)}),()=>{p.removeEventListener("mousemove",m),g.forEach(v=>{v.removeEventListener("scroll",c)})}}},[l.reference,u.floating.current,c,m,r]),{handleMouseMove:m,x:s,y:a,opened:r,setOpened:i,boundaryRef:o,floating:u.setFloating}}var V4={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const RHe={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:ou("popover")},IHe=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:jr(t),"--tooltip-bg":n?qr(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),MW=nt((e,t)=>{const n=qe("TooltipFloating",RHe,e),{children:r,refProp:i,withinPortal:o,style:s,className:a,classNames:l,styles:u,unstyled:c,radius:d,color:f,label:h,offset:m,position:p,multiline:g,zIndex:v,disabled:y,defaultOpened:w,variant:_,vars:E,portalProps:S,...T}=n,k=eo(),R=Rt({name:"TooltipFloating",props:n,classes:V4,className:a,style:s,classNames:l,styles:u,unstyled:c,rootSelector:"tooltip",vars:E,varsResolver:IHe}),{handleMouseMove:I,x:P,y:N,opened:M,boundaryRef:O,floating:j,setOpened:U}=AHe({offset:m,position:p,defaultOpened:w});if(!_m(r))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const q=uo(O,d4(r),t),W=r.props,V=L=>{W.onMouseEnter?.(L),I(L),U(!0)},z=L=>{W.onMouseLeave?.(L),U(!1)};return b.jsxs(b.Fragment,{children:[b.jsx(j0,{...S,withinPortal:o,children:b.jsx(De,{...T,...R("tooltip",{style:{...aV(s,k),zIndex:v,display:!y&&M?"block":"none",top:(N&&Math.round(N))??"",left:(P&&Math.round(P))??""}}),variant:_,ref:j,mod:{multiline:g},children:h})}),A.cloneElement(r,{...W,[i]:q,onMouseEnter:V,onMouseLeave:z})]})});MW.classes=V4;MW.displayName="@mantine/core/TooltipFloating";const b1e=A.createContext(!1),DHe=b1e.Provider,PHe=()=>A.useContext(b1e),OHe={openDelay:0,closeDelay:0};function $W(e){const{openDelay:t,closeDelay:n,children:r}=qe("TooltipGroup",OHe,e);return b.jsx(DHe,{value:!0,children:b.jsx(qje,{delay:{open:t,close:n},children:r})})}$W.displayName="@mantine/core/TooltipGroup";$W.extend=e=>e;function NHe(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function MHe(e){const t=NHe(e.middlewares),n=[yve(e.offset)];return t.shift&&n.push(mV(typeof t.shift=="boolean"?{padding:8}:{padding:8,...t.shift})),t.flip&&n.push(typeof t.flip=="boolean"?w3():w3(t.flip)),n.push(vve({element:e.arrowRef,padding:e.arrowOffset})),t.inline?n.push(typeof t.inline=="boolean"?lS():lS(t.inline)):e.inline&&n.push(lS()),n}function $He(e){const[t,n]=A.useState(e.defaultOpened),i=typeof e.opened=="boolean"?e.opened:t,o=PHe(),s=Ha(),a=A.useCallback(S=>{n(S),S&&y(s)},[s]),{x:l,y:u,context:c,refs:d,update:f,placement:h,middlewareData:{arrow:{x:m,y:p}={}}}=bV({strategy:e.strategy,placement:e.position,open:i,onOpenChange:a,middleware:MHe(e)}),{delay:g,currentId:v,setCurrentId:y}=Vje(c,{id:s}),{getReferenceProps:w,getFloatingProps:_}=Jje([Uje(c,{enabled:e.events?.hover,delay:o?g:{open:e.openDelay,close:e.closeDelay},mouseOnly:!e.events?.touch}),Qje(c,{enabled:e.events?.focus,visibleOnly:!0}),e9e(c,{role:"tooltip"}),Kje(c,{enabled:typeof e.opened>"u"})]);qve({opened:i,position:e.position,positionDependencies:e.positionDependencies,floating:{refs:d,update:f}}),vl(()=>{e.onPositionChange?.(h)},[h]);const E=i&&v&&v!==s;return{x:l,y:u,arrowX:m,arrowY:p,reference:d.setReference,floating:d.setFloating,getFloatingProps:_,getReferenceProps:w,isGroupPhase:E,opened:i,placement:h}}const jie={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:ou("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},LHe=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:jr(t),"--tooltip-bg":n?qr(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),ct=nt((e,t)=>{const n=qe("Tooltip",jie,e),{children:r,position:i,refProp:o,label:s,openDelay:a,closeDelay:l,onPositionChange:u,opened:c,defaultOpened:d,withinPortal:f,radius:h,color:m,classNames:p,styles:g,unstyled:v,style:y,className:w,withArrow:_,arrowSize:E,arrowOffset:S,arrowRadius:T,arrowPosition:k,offset:R,transitionProps:I,multiline:P,events:N,zIndex:M,disabled:O,positionDependencies:j,onClick:U,onMouseEnter:q,onMouseLeave:W,inline:V,variant:z,keepMounted:L,vars:H,portalProps:B,mod:Y,floatingStrategy:Q,middlewares:ne,...ce}=qe("Tooltip",jie,n),{dir:le}=su(),ue=A.useRef(null),ae=$He({position:Lve(le,i),closeDelay:l,openDelay:a,onPositionChange:u,opened:c,defaultOpened:d,events:N,arrowRef:ue,arrowOffset:S,offset:typeof R=="number"?R+(_?E/2:0):R,positionDependencies:[...j,r],inline:V,strategy:Q,middlewares:ne}),te=Rt({name:"Tooltip",props:n,classes:V4,className:w,style:y,classNames:p,styles:g,unstyled:v,rootSelector:"tooltip",vars:H,varsResolver:LHe});if(!_m(r))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const se=uo(ae.reference,d4(r),t),we=kHe(I,{duration:100,transition:"fade"}),X=r.props;return b.jsxs(b.Fragment,{children:[b.jsx(j0,{...B,withinPortal:f,children:b.jsx(Hc,{...we,keepMounted:L,mounted:!O&&!!ae.opened,duration:ae.isGroupPhase?10:we.duration,children:he=>b.jsxs(De,{...ce,"data-fixed":Q==="fixed"||void 0,variant:z,mod:[{multiline:P},Y],...ae.getFloatingProps({ref:ae.floating,className:te("tooltip").className,style:{...te("tooltip").style,...he,zIndex:M,top:ae.y??0,left:ae.x??0}}),children:[s,b.jsx(EV,{ref:ue,arrowX:ae.arrowX,arrowY:ae.arrowY,visible:_,position:ae.placement,arrowSize:E,arrowOffset:S,arrowRadius:T,arrowPosition:k,...te("arrow")})]})})}),A.cloneElement(r,ae.getReferenceProps({onClick:U,onMouseEnter:q,onMouseLeave:W,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,className:Nt(w,X.className),...X,[o]:se}))]})});ct.classes=V4;ct.displayName="@mantine/core/Tooltip";ct.Floating=MW;ct.Group=$W;function FHe({size:e,thickness:t,sum:n,value:r,root:i,offset:o}){const s=(e*.9-t*2)/2,a=Math.PI*s*2/100,l=i||r===void 0?`${(100-n)*a}, ${n*a}`:`${r*a}, ${(100-r)*a}`;return{strokeWidth:Number.isNaN(t)?12:t,cx:e/2||0,cy:e/2||0,r:s||0,transform:i?`scale(1, -1) translate(0, -${e})`:void 0,strokeDasharray:l,strokeDashoffset:i?0:o||0}}function w1e({size:e,value:t,offset:n,sum:r,thickness:i,root:o,color:s,lineRoundCaps:a,tooltip:l,getStyles:u,display:c,...d}){const f=eo();return b.jsx(ct.Floating,{disabled:!l,label:l,children:b.jsx(De,{component:"circle",...d,...u("curve"),__vars:{"--curve-color":s?qr(s,f):void 0},fill:"none",strokeLinecap:a?"round":"butt",...FHe({sum:r,size:e,thickness:i,value:t,offset:n,root:o})})})}w1e.displayName="@mantine/core/Curve";function jHe({size:e,thickness:t,sections:n,renderRoundedLineCaps:r,rootColor:i}){const o=n.reduce((c,d)=>c+d.value,0),s=Math.PI*((e*.9-t*2)/2)*2;let a=s;const l=[],u=[];for(let c=0;c<n.length;c+=1)l.push({sum:o,offset:a,data:n[c],root:!1}),a-=n[c].value/100*s;if(l.push({sum:o,offset:a,data:{color:i},root:!0}),u.push({...l[l.length-1],lineRoundCaps:!1}),l.length>2){u.push({...l[0],lineRoundCaps:r}),u.push({...l[l.length-2],lineRoundCaps:r});for(let c=1;c<=l.length-3;c+=1)u.push({...l[c],lineRoundCaps:!1})}else u.push({...l[0],lineRoundCaps:r});return u}var x1e={root:"m_b32e4812",svg:"m_d43b5134",curve:"m_b1ca1fbf",label:"m_b23f9dc4"};function BHe(e,t){return Math.min(e||12,(t||120)/4)}const zHe={size:120,thickness:12},UHe=(e,{size:t,thickness:n,transitionDuration:r})=>({root:{"--rp-size":Ye(t),"--rp-label-offset":Ye(n*2),"--rp-transition-duration":r?`${r}ms`:void 0}}),W4=nt((e,t)=>{const n=qe("RingProgress",zHe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,label:u,sections:c,size:d,thickness:f,roundCaps:h,rootColor:m,transitionDuration:p,...g}=n,v=Rt({name:"RingProgress",classes:x1e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:UHe}),y=BHe(f,d),w=jHe({size:d,thickness:y,sections:c,renderRoundedLineCaps:h,rootColor:m}).map(({data:_,sum:E,root:S,lineRoundCaps:T,offset:k},R)=>A.createElement(w1e,{..._,key:R,size:d,thickness:y,sum:E,offset:k,color:_?.color,root:S,lineRoundCaps:T,getStyles:v}));return b.jsxs(De,{...v("root"),size:d,ref:t,...g,children:[b.jsx("svg",{...v("svg"),children:w}),u&&b.jsx("div",{...v("label"),children:u})]})});W4.classes=x1e;W4.displayName="@mantine/core/RingProgress";var C1e={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const HHe={withItemsBorders:!0},qHe=(e,{radius:t,color:n,transitionDuration:r,size:i,transitionTimingFunction:o})=>({root:{"--sc-radius":t===void 0?void 0:jr(t),"--sc-color":n?qr(n,e):void 0,"--sc-shadow":n?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":r===void 0?void 0:`${r}ms`,"--sc-transition-timing-function":o,"--sc-padding":hn(i,"sc-padding"),"--sc-font-size":lo(i)}}),LW=nt((e,t)=>{const n=qe("SegmentedControl",HHe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,data:u,value:c,defaultValue:d,onChange:f,size:h,name:m,disabled:p,readOnly:g,fullWidth:v,orientation:y,radius:w,color:_,transitionDuration:E,transitionTimingFunction:S,variant:T,autoContrast:k,withItemsBorders:R,mod:I,...P}=n,N=Rt({name:"SegmentedControl",props:n,classes:C1e,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:qHe}),M=eo(),O=u.map(le=>typeof le=="string"?{label:le,value:le}:le),j=eFe(),[U,q]=A.useState(Qg()),[W,V]=A.useState(null),[z,L]=A.useState({}),H=(le,ue)=>{z[ue]=le,L(z)},[B,Y]=qi({value:c,defaultValue:d,finalValue:Array.isArray(u)?O.find(le=>!le.disabled)?.value??u[0]?.value??null:null,onChange:f}),Q=Ha(m),ne=O.map(le=>A.createElement(De,{...N("control"),mod:{active:B===le.value,orientation:y},key:le.value},A.createElement("input",{...N("input"),disabled:p||le.disabled,type:"radio",name:Q,value:le.value,id:`${Q}-${le.value}`,checked:B===le.value,onChange:()=>!g&&Y(le.value),"data-focus-ring":M.focusRing,key:`${le.value}-input`}),A.createElement(De,{component:"label",...N("label"),mod:{active:B===le.value&&!(p||le.disabled),disabled:p||le.disabled,"read-only":g},htmlFor:`${Q}-${le.value}`,ref:ue=>H(ue,le.value),__vars:{"--sc-label-color":_!==void 0?Lh({color:_,theme:M,autoContrast:k}):void 0},key:`${le.value}-label`},b.jsx("span",{...N("innerLabel"),children:le.label})))),ce=uo(t,le=>V(le));return GLe(()=>{q(Qg())},[u.length]),u.length===0?null:b.jsxs(De,{...N("root"),variant:T,size:h,ref:ce,mod:[{"full-width":v,orientation:y,initialized:j,"with-items-borders":R},I],...P,role:"radiogroup","data-disabled":p,children:[typeof B=="string"&&b.jsx(DV,{target:z[B],parent:W,component:"span",transitionDuration:"var(--sc-transition-duration)",...N("indicator")},U),ne]})});LW.classes=C1e;LW.displayName="@mantine/core/SegmentedControl";const VHe={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},om=nt((e,t)=>{const n=qe("Select",VHe,e),{classNames:r,styles:i,unstyled:o,vars:s,dropdownOpened:a,defaultDropdownOpened:l,onDropdownClose:u,onDropdownOpen:c,onFocus:d,onBlur:f,onClick:h,onChange:m,data:p,value:g,defaultValue:v,selectFirstOptionOnChange:y,onOptionSubmit:w,comboboxProps:_,readOnly:E,disabled:S,filter:T,limit:k,withScrollArea:R,maxDropdownHeight:I,size:P,searchable:N,rightSection:M,checkIconPosition:O,withCheckIcon:j,nothingFoundMessage:U,name:q,form:W,searchValue:V,defaultSearchValue:z,onSearchChange:L,allowDeselect:H,error:B,rightSectionPointerEvents:Y,id:Q,clearable:ne,clearButtonProps:ce,hiddenInputProps:le,renderOption:ue,onClear:ae,autoComplete:te,scrollAreaProps:se,__defaultRightSection:we,__clearSection:X,__clearable:he,chevronColor:ge,...re}=n,ee=A.useMemo(()=>jV(p),[p]),fe=A.useMemo(()=>S4(ee),[ee]),Re=Ha(Q),[Oe,Ae,Se]=qi({value:g,defaultValue:v,finalValue:null,onChange:m}),xe=typeof Oe=="string"?fe[Oe]:void 0,ke=XLe(xe),[me,Me,ze]=qi({value:V,defaultValue:z,finalValue:xe?xe.label:"",onChange:L}),Xe=wT({opened:a,defaultOpened:l,onDropdownOpen:()=>{c?.(),Xe.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{u?.(),Xe.resetSelectedOption()}}),tt=$t=>{Me($t),Xe.resetSelectedOption()},{resolvedClassNames:gt,resolvedStyles:qt}=of({props:n,styles:i,classNames:r});A.useEffect(()=>{y&&Xe.selectFirstOption()},[y,me]),A.useEffect(()=>{g===null&&tt(""),typeof g=="string"&&xe&&(ke?.value!==xe.value||ke?.label!==xe.label)&&tt(xe.label)},[g,xe]),A.useEffect(()=>{!Se&&!ze&&tt(typeof Oe=="string"&&fe[Oe]?.label||"")},[p,Oe]);const zt=b.jsx(Un.ClearButton,{...ce,onClear:()=>{Ae(null,null),tt(""),ae?.()}}),_n=ne&&!!Oe&&!S&&!E;return b.jsxs(b.Fragment,{children:[b.jsxs(Un,{store:Xe,__staticSelector:"Select",classNames:gt,styles:qt,unstyled:o,readOnly:E,onOptionSubmit:$t=>{w?.($t);const dn=H&&fe[$t].value===Oe?null:fe[$t],Vn=dn?dn.value:null;Vn!==Oe&&Ae(Vn,dn),!Se&&tt(typeof Vn=="string"&&dn?.label||""),Xe.closeDropdown()},size:P,..._,children:[b.jsx(Un.Target,{targetType:N?"input":"button",autoComplete:te,children:b.jsx(_l,{id:Re,ref:t,__defaultRightSection:b.jsx(Un.Chevron,{size:P,error:B,unstyled:o,color:ge}),__clearSection:zt,__clearable:_n,rightSection:M,rightSectionPointerEvents:Y||(_n?"all":"none"),...re,size:P,__staticSelector:"Select",disabled:S,readOnly:E||!N,value:me,onChange:$t=>{tt($t.currentTarget.value),Xe.openDropdown(),y&&Xe.selectFirstOption()},onFocus:$t=>{N&&Xe.openDropdown(),d?.($t)},onBlur:$t=>{N&&Xe.closeDropdown(),tt(Oe!=null&&fe[Oe]?.label||""),f?.($t)},onClick:$t=>{N?Xe.openDropdown():Xe.toggleDropdown(),h?.($t)},classNames:gt,styles:qt,unstyled:o,pointer:!N,error:B})}),b.jsx(tW,{data:ee,hidden:E||S,filter:T,search:me,limit:k,hiddenWhenEmpty:!U,withScrollArea:R,maxDropdownHeight:I,filterOptions:N&&xe?.label!==me,value:Oe,checkIconPosition:O,withCheckIcon:j,nothingFoundMessage:U,unstyled:o,labelId:re.label?`${Re}-label`:void 0,"aria-label":re.label?void 0:re["aria-label"],renderOption:ue,scrollAreaProps:se})]}),b.jsx(Un.HiddenInput,{value:Oe,name:q,form:W,disabled:S,...le})]})});om.classes={..._l.classes,...Un.classes};om.displayName="@mantine/core/Select";function WHe({spacing:e,verticalSpacing:t,cols:n,selector:r}){const i=eo(),o=t===void 0?e:t,s=$0({"--sg-spacing-x":Di(Td(e)),"--sg-spacing-y":Di(Td(o)),"--sg-cols":Td(n)?.toString()}),a=_i(i.breakpoints).reduce((c,d)=>(c[d]||(c[d]={}),typeof e=="object"&&e[d]!==void 0&&(c[d]["--sg-spacing-x"]=Di(e[d])),typeof o=="object"&&o[d]!==void 0&&(c[d]["--sg-spacing-y"]=Di(o[d])),typeof n=="object"&&n[d]!==void 0&&(c[d]["--sg-cols"]=n[d]),c),{}),u=JS(_i(a),i.breakpoints).filter(c=>_i(a[c.value]).length>0).map(c=>({query:`(min-width: ${i.breakpoints[c.value]})`,styles:a[c.value]}));return b.jsx(wb,{styles:s,media:u,selector:r})}function RF(e){return typeof e=="object"&&e!==null?_i(e):[]}function GHe(e){return e.sort((t,n)=>QS(t)-QS(n))}function YHe({spacing:e,verticalSpacing:t,cols:n}){const r=Array.from(new Set([...RF(e),...RF(t),...RF(n)]));return GHe(r)}function KHe({spacing:e,verticalSpacing:t,cols:n,selector:r}){const i=t===void 0?e:t,o=$0({"--sg-spacing-x":Di(Td(e)),"--sg-spacing-y":Di(Td(i)),"--sg-cols":Td(n)?.toString()}),s=YHe({spacing:e,verticalSpacing:t,cols:n}),a=s.reduce((u,c)=>(u[c]||(u[c]={}),typeof e=="object"&&e[c]!==void 0&&(u[c]["--sg-spacing-x"]=Di(e[c])),typeof i=="object"&&i[c]!==void 0&&(u[c]["--sg-spacing-y"]=Di(i[c])),typeof n=="object"&&n[c]!==void 0&&(u[c]["--sg-cols"]=n[c]),u),{}),l=s.map(u=>({query:`simple-grid (min-width: ${u})`,styles:a[u]}));return b.jsx(wb,{styles:o,container:l,selector:r})}var _1e={container:"m_925c2d2c",root:"m_2415a157"};const XHe={cols:1,spacing:"md",type:"media"},FW=nt((e,t)=>{const n=qe("SimpleGrid",XHe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,cols:u,verticalSpacing:c,spacing:d,type:f,...h}=n,m=Rt({name:"SimpleGrid",classes:_1e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l}),p=pT();return f==="container"?b.jsxs(b.Fragment,{children:[b.jsx(KHe,{...n,selector:`.${p}`}),b.jsx("div",{...m("container"),children:b.jsx(De,{ref:t,...m("root",{className:p}),...h})})]}):b.jsxs(b.Fragment,{children:[b.jsx(WHe,{...n,selector:`.${p}`}),b.jsx(De,{ref:t,...m("root",{className:p}),...h})]})});FW.classes=_1e;FW.displayName="@mantine/core/SimpleGrid";var E1e={root:"m_18320242","skeleton-fade":"m_299c329c"};const QHe={visible:!0,animate:!0},JHe=(e,{width:t,height:n,radius:r,circle:i})=>({root:{"--skeleton-height":Ye(n),"--skeleton-width":Ye(i?n:t),"--skeleton-radius":i?"1000px":r===void 0?void 0:jr(r)}}),Ao=nt((e,t)=>{const n=qe("Skeleton",QHe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,width:u,height:c,circle:d,visible:f,radius:h,animate:m,mod:p,...g}=n,v=Rt({name:"Skeleton",classes:E1e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:JHe});return b.jsx(De,{ref:t,...v("root"),mod:[{visible:f,animate:m},p],...g})});Ao.classes=E1e;Ao.displayName="@mantine/core/Skeleton";const[S1e,G4]=ua("SliderProvider was not found in tree"),jW=A.forwardRef(({size:e,disabled:t,variant:n,color:r,thumbSize:i,radius:o,...s},a)=>{const{getStyles:l}=G4();return b.jsx(De,{tabIndex:-1,variant:n,size:e,ref:a,...l("root"),...s})});jW.displayName="@mantine/core/SliderRoot";const E3=A.forwardRef(({max:e,min:t,value:n,position:r,label:i,dragging:o,onMouseDown:s,onKeyDownCapture:a,labelTransitionProps:l,labelAlwaysOn:u,thumbLabel:c,onFocus:d,onBlur:f,showLabelOnHover:h,isHovered:m,children:p=null,disabled:g},v)=>{const{getStyles:y}=G4(),[w,_]=A.useState(!1),E=u||o||w||h&&m;return b.jsxs(De,{tabIndex:0,role:"slider","aria-label":c,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:v,__vars:{"--slider-thumb-offset":`${r}%`},...y("thumb",{focusable:!0}),mod:{dragging:o,disabled:g},onFocus:S=>{_(!0),typeof d=="function"&&d(S)},onBlur:S=>{_(!1),typeof f=="function"&&f(S)},onTouchStart:s,onMouseDown:s,onKeyDownCapture:a,onClick:S=>S.stopPropagation(),children:[p,b.jsx(Hc,{mounted:i!=null&&!!E,transition:"fade",duration:0,...l,children:S=>b.jsx("div",{...y("label",{style:S}),children:i})})]})});E3.displayName="@mantine/core/SliderThumb";function S3({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function ZHe({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}function T1e({marks:e,min:t,max:n,disabled:r,value:i,offset:o,inverted:s}){const{getStyles:a}=G4();if(!e)return null;const l=e.map((u,c)=>A.createElement(De,{...a("markWrapper"),__vars:{"--mark-offset":`${S3({value:u.value,min:t,max:n})}%`},key:c},b.jsx(De,{...a("mark"),mod:{filled:ZHe({mark:u,value:i,offset:o,inverted:s}),disabled:r}}),u.label&&b.jsx("div",{...a("markLabel"),children:u.label})));return b.jsx("div",{children:l})}T1e.displayName="@mantine/core/SliderMarks";function BW({filled:e,children:t,offset:n,disabled:r,marksOffset:i,inverted:o,containerProps:s,...a}){const{getStyles:l}=G4();return b.jsx(De,{...l("trackContainer"),mod:{disabled:r},...s,children:b.jsxs(De,{...l("track"),mod:{inverted:o,disabled:r},children:[b.jsx(De,{mod:{inverted:o,disabled:r},__vars:{"--slider-bar-width":`calc(${e}% + var(--slider-size))`,"--slider-bar-offset":`calc(${n}% - var(--slider-size))`},...l("bar")}),t,b.jsx(T1e,{...a,offset:i,disabled:r,inverted:o})]})})}BW.displayName="@mantine/core/SliderTrack";function M7({value:e,containerWidth:t,min:n,max:r,step:i,precision:o}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),l=(a!==0?Math.round(a/i)*i:0)+n,u=Math.max(l,n);return o!==void 0?Number(u.toFixed(o)):u}function dc(e,t){return parseFloat(e.toFixed(t))}function k1e(e){if(!e)return 0;const t=e.toString().split(".");return t.length>1?t[1].length:0}function av(e,t){const r=[...t].sort((i,o)=>i.value-o.value).find(i=>i.value>e);return r?r.value:e}function lv(e,t){const r=[...t].sort((i,o)=>o.value-i.value).find(i=>i.value<e);return r?r.value:e}function $7(e){const t=[...e].sort((n,r)=>n.value-r.value);return t.length>0?t[0].value:0}function L7(e){const t=[...e].sort((n,r)=>n.value-r.value);return t.length>0?t[t.length-1].value:100}var Y4={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const eqe={radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},tqe=(e,{size:t,color:n,thumbSize:r,radius:i})=>({root:{"--slider-size":hn(t,"slider-size"),"--slider-color":n?qr(n,e):void 0,"--slider-radius":i===void 0?void 0:jr(i),"--slider-thumb-size":r!==void 0?Ye(r):"calc(var(--slider-size) * 2)"}}),K4=nt((e,t)=>{const n=qe("Slider",eqe,e),{classNames:r,styles:i,value:o,onChange:s,onChangeEnd:a,size:l,min:u,max:c,step:d,precision:f,defaultValue:h,name:m,marks:p,label:g,labelTransitionProps:v,labelAlwaysOn:y,thumbLabel:w,showLabelOnHover:_,thumbChildren:E,disabled:S,unstyled:T,scale:k,inverted:R,className:I,style:P,vars:N,hiddenInputProps:M,restrictToMarks:O,thumbProps:j,...U}=n,q=Rt({name:"Slider",props:n,classes:Y4,classNames:r,className:I,styles:i,style:P,vars:N,varsResolver:tqe,unstyled:T}),{dir:W}=su(),[V,z]=A.useState(!1),[L,H]=qi({value:typeof o=="number"?Tc(o,u,c):o,defaultValue:typeof h=="number"?Tc(h,u,c):h,finalValue:Tc(0,u,c),onChange:s}),B=A.useRef(L),Y=A.useRef(a);A.useEffect(()=>{Y.current=a},[a]);const Q=A.useRef(null),ne=A.useRef(null),ce=S3({value:L,min:u,max:c}),le=k(L),ue=typeof g=="function"?g(le):g,ae=f??k1e(d),te=A.useCallback(({x:re})=>{if(!S){const ee=M7({value:re,min:u,max:c,step:d,precision:ae});H(O&&p?.length?v7(ee,p.map(fe=>fe.value)):ee),B.current=ee}},[S,u,c,d,ae,H,p,O]),se=A.useCallback(()=>{if(!S&&Y.current){const re=O&&p?.length?v7(B.current,p.map(ee=>ee.value)):B.current;Y.current(re)}},[S,p,O]),{ref:we,active:X}=hT(te,{onScrubEnd:se},W),he=A.useCallback(re=>{!S&&Y.current&&Y.current(re)},[S]),ge=re=>{if(!S)switch(re.key){case"ArrowUp":{if(re.preventDefault(),ne.current?.focus(),O&&p){const fe=av(L,p);H(fe),he(fe);break}const ee=dc(Math.min(Math.max(L+d,u),c),ae);H(ee),he(ee);break}case"ArrowRight":{if(re.preventDefault(),ne.current?.focus(),O&&p){const fe=W==="rtl"?lv(L,p):av(L,p);H(fe),he(fe);break}const ee=dc(Math.min(Math.max(W==="rtl"?L-d:L+d,u),c),ae);H(ee),he(ee);break}case"ArrowDown":{if(re.preventDefault(),ne.current?.focus(),O&&p){const fe=lv(L,p);H(fe),he(fe);break}const ee=dc(Math.min(Math.max(L-d,u),c),ae);H(ee),he(ee);break}case"ArrowLeft":{if(re.preventDefault(),ne.current?.focus(),O&&p){const fe=W==="rtl"?av(L,p):lv(L,p);H(fe),he(fe);break}const ee=dc(Math.min(Math.max(W==="rtl"?L+d:L-d,u),c),ae);H(ee),he(ee);break}case"Home":{if(re.preventDefault(),ne.current?.focus(),O&&p){H($7(p)),he($7(p));break}H(u),he(u);break}case"End":{if(re.preventDefault(),ne.current?.focus(),O&&p){H(L7(p)),he(L7(p));break}H(c),he(c);break}}};return b.jsx(S1e,{value:{getStyles:q},children:b.jsxs(jW,{...U,ref:uo(t,Q),onKeyDownCapture:ge,onMouseDownCapture:()=>Q.current?.focus(),size:l,disabled:S,children:[b.jsx(BW,{inverted:R,offset:0,filled:ce,marks:p,min:u,max:c,value:le,disabled:S,containerProps:{ref:we,onMouseEnter:_?()=>z(!0):void 0,onMouseLeave:_?()=>z(!1):void 0},children:b.jsx(E3,{max:c,min:u,value:le,position:ce,dragging:X,label:ue,ref:ne,labelTransitionProps:v,labelAlwaysOn:y,thumbLabel:w,showLabelOnHover:_,isHovered:V,disabled:S,...j,children:E})}),b.jsx("input",{type:"hidden",name:m,value:le,...M})]})})});K4.classes=Y4;K4.displayName="@mantine/core/Slider";function nqe(e){return"TouchEvent"in window&&e instanceof window.TouchEvent?e.touches[0].clientX:e.clientX}const rqe=(e,{size:t,color:n,thumbSize:r,radius:i})=>({root:{"--slider-size":hn(t,"slider-size"),"--slider-color":n?qr(n,e):void 0,"--slider-radius":i===void 0?void 0:jr(i),"--slider-thumb-size":r!==void 0?Ye(r):"calc(var(--slider-size) * 2)"}}),iqe={min:0,max:100,minRange:10,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,showLabelOnHover:!0,disabled:!1,scale:e=>e},zW=nt((e,t)=>{const n=qe("RangeSlider",iqe,e),{classNames:r,styles:i,value:o,onChange:s,onChangeEnd:a,size:l,min:u,max:c,minRange:d,maxRange:f,step:h,precision:m,defaultValue:p,name:g,marks:v,label:y,labelTransitionProps:w,labelAlwaysOn:_,thumbFromLabel:E,thumbToLabel:S,showLabelOnHover:T,thumbChildren:k,disabled:R,unstyled:I,scale:P,inverted:N,className:M,style:O,vars:j,hiddenInputProps:U,restrictToMarks:q,thumbProps:W,...V}=n,z=Rt({name:"Slider",props:n,classes:Y4,classNames:r,className:M,styles:i,style:O,vars:j,varsResolver:rqe,unstyled:I}),{dir:L}=su(),[H,B]=A.useState(-1),[Y,Q]=A.useState(!1),[ne,ce]=qi({value:o,defaultValue:p,finalValue:[u,c],onChange:s}),le=A.useRef(ne),ue=A.useRef([]),ae=A.useRef(null),te=A.useRef(void 0),se=[S3({value:ne[0],min:u,max:c}),S3({value:ne[1],min:u,max:c})],we=m??k1e(h),X=ke=>{ce(ke),le.current=ke};A.useEffect(()=>{Array.isArray(o)&&(le.current=o)},Array.isArray(o)?[o[0],o[1]]:[null,null]);const he=(ke,me,Me)=>{if(me===-1)return;const ze=[...le.current];if(q&&v){const Xe=v7(ke,v.map(_n=>_n.value)),tt=ze[me];ze[me]=Xe;const gt=me===0?1:0,qt=L7(v),zt=$7(v);Xe===qt&&ze[gt]===qt||Xe===zt&&ze[gt]===zt?ze[me]=tt:Xe===ze[gt]&&(tt>ze[gt]?ze[gt]=lv(Xe,v):ze[gt]=av(Xe,v))}else ze[me]=ke,me===0&&(ke>ze[1]-(d-1e-9)&&(ze[1]=Math.min(ke+d,c)),ke>(c-(d-1e-9)||u)&&(ze[me]=le.current[me]),ze[1]-ke>f&&(ze[1]=ke+f)),me===1&&(ke<ze[0]+d&&(ze[0]=Math.max(ke-d,u)),ke<ze[0]+d&&(ze[me]=le.current[me]),ke-ze[0]>f&&(ze[0]=ke-f));if(ze[0]=dc(ze[0],we),ze[1]=dc(ze[1],we),ze[0]>ze[1]){const Xe=ze[0];ze[0]=ze[1],ze[1]=Xe}X(ze),Me&&a?.(le.current)},ge=ke=>{if(!R){const me=M7({value:ke,min:u,max:c,step:h,precision:we});he(me,te.current,!1)}},{ref:re,active:ee}=hT(({x:ke})=>ge(ke),{onScrubEnd:()=>!R&&a?.(le.current)},L);function fe(ke){te.current=ke}const Re=ke=>{re.current.focus();const me=re.current.getBoundingClientRect(),Me=nqe(ke.nativeEvent),ze=M7({value:Me-me.left,max:c,min:u,step:h,containerWidth:me.width}),Xe=Math.abs(ne[0]-ze)>Math.abs(ne[1]-ze)?1:0,tt=L==="ltr"?Xe:Xe===1?0:1;te.current=tt},Oe=()=>H!==1&&H!==0?(B(0),0):H,Ae=ke=>{if(!R)switch(ke.key){case"ArrowUp":{ke.preventDefault();const me=Oe();ue.current[me].focus();const Me=q&&v?av(le.current[me],v):Math.min(Math.max(le.current[me]+h,u),c);he(dc(Me,we),me,!0);break}case"ArrowRight":{ke.preventDefault();const me=Oe();ue.current[me].focus();const Me=q&&v?(L==="rtl"?lv:av)(le.current[me],v):Math.min(Math.max(L==="rtl"?le.current[me]-h:le.current[me]+h,u),c);he(dc(Me,we),me,!0);break}case"ArrowDown":{ke.preventDefault();const me=Oe();ue.current[me].focus();const Me=q&&v?lv(le.current[me],v):Math.min(Math.max(le.current[me]-h,u),c);he(dc(Me,we),me,!0);break}case"ArrowLeft":{ke.preventDefault();const me=Oe();ue.current[me].focus();const Me=q&&v?(L==="rtl"?av:lv)(le.current[me],v):Math.min(Math.max(L==="rtl"?le.current[me]+h:le.current[me]-h,u),c);he(dc(Me,we),me,!0);break}}},Se={max:c,min:u,size:l,labelTransitionProps:w,labelAlwaysOn:_,onBlur:()=>B(-1)},xe=Array.isArray(k);return b.jsx(S1e,{value:{getStyles:z},children:b.jsxs(jW,{...V,size:l,ref:uo(t,ae),disabled:R,onMouseDownCapture:()=>ae.current?.focus(),onKeyDownCapture:()=>{ue.current[0]?.parentElement?.contains(document.activeElement)||ue.current[0]?.focus()},children:[b.jsxs(BW,{offset:se[0],marksOffset:ne[0],filled:se[1]-se[0],marks:v,inverted:N,min:u,max:c,value:ne[1],disabled:R,containerProps:{ref:re,onMouseEnter:T?()=>Q(!0):void 0,onMouseLeave:T?()=>Q(!1):void 0,onTouchStartCapture:Re,onTouchEndCapture:()=>{te.current=-1},onMouseDownCapture:Re,onMouseUpCapture:()=>{te.current=-1},onKeyDownCapture:Ae},children:[b.jsx(E3,{...Se,value:P(ne[0]),position:se[0],dragging:ee,label:typeof y=="function"?y(dc(P(ne[0]),we)):y,ref:ke=>{ue.current[0]=ke},thumbLabel:E,onMouseDown:()=>fe(0),onFocus:()=>B(0),showLabelOnHover:T,isHovered:Y,disabled:R,...W?.(0),children:xe?k[0]:k}),b.jsx(E3,{...Se,thumbLabel:S,value:P(ne[1]),position:se[1],dragging:ee,label:typeof y=="function"?y(dc(P(ne[1]),we)):y,ref:ke=>{ue.current[1]=ke},onMouseDown:()=>fe(1),onFocus:()=>B(1),showLabelOnHover:T,isHovered:Y,disabled:R,...W?.(1),children:xe?k[1]:k})]}),b.jsx("input",{type:"hidden",name:`${g}_from`,value:ne[0],...U}),b.jsx("input",{type:"hidden",name:`${g}_to`,value:ne[1],...U})]})})});zW.classes=Y4;zW.displayName="@mantine/core/RangeSlider";const oqe={},Ou=nt((e,t)=>{const{w:n,h:r,miw:i,mih:o,...s}=qe("Space",oqe,e);return b.jsx(De,{ref:t,...s,w:n,miw:i??n,h:r,mih:o??r})});Ou.displayName="@mantine/core/Space";var A1e={root:"m_559cce2d",content:"m_b912df4e",control:"m_b9131032"};const sqe={maxHeight:100,initialState:!1},aqe=(e,{transitionDuration:t})=>({root:{"--spoiler-transition-duration":t!==void 0?`${t}ms`:void 0}}),UW=nt((e,t)=>{const n=qe("Spoiler",sqe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,initialState:u,maxHeight:c,hideLabel:d,showLabel:f,children:h,controlRef:m,transitionDuration:p,id:g,expanded:v,onExpandedChange:y,...w}=n,_=Rt({name:"Spoiler",classes:A1e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:aqe}),E=Ha(g),S=`${E}-region`,[T,k]=qi({value:v,defaultValue:u,finalValue:!1,onChange:y}),{ref:R,height:I}=qLe(),P=T?d:f,N=P!==null&&c<I;return b.jsxs(De,{..._("root"),id:E,ref:t,"data-has-spoiler":N||void 0,...w,children:[N&&b.jsx(B0,{component:"button",type:"button",ref:m,onClick:()=>k(!T),"aria-expanded":T,"aria-controls":S,..._("control"),children:P}),b.jsx("div",{..._("content",{style:{maxHeight:T?I?Ye(I):void 0:Ye(c)}}),"data-reduce-motion":!0,role:"region",id:S,children:b.jsx("div",{ref:R,children:h})})]})});UW.classes=A1e;UW.displayName="@mantine/core/Spoiler";var R1e={root:"m_6d731127"};const lqe={gap:"md",align:"stretch",justify:"flex-start"},uqe=(e,{gap:t,align:n,justify:r})=>({root:{"--stack-gap":Di(t),"--stack-align":n,"--stack-justify":r}}),Nn=nt((e,t)=>{const n=qe("Stack",lqe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,align:u,justify:c,gap:d,variant:f,...h}=n,m=Rt({name:"Stack",props:n,classes:R1e,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:uqe});return b.jsx(De,{ref:t,...m("root"),variant:f,...h})});Nn.classes=R1e;Nn.displayName="@mantine/core/Stack";const I1e=A.createContext(null),cqe=I1e.Provider,dqe=()=>A.useContext(I1e),fqe={},HW=nt((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:o,wrapperProps:s,children:a,readOnly:l,...u}=qe("SwitchGroup",fqe,e),[c,d]=qi({value:n,defaultValue:r,finalValue:[],onChange:i}),f=h=>{const m=h.currentTarget.value;!l&&d(c.includes(m)?c.filter(p=>p!==m):[...c,m])};return b.jsx(cqe,{value:{value:c,onChange:f,size:o},children:b.jsx(Or.Wrapper,{size:o,ref:t,...s,...u,labelElement:"div",__staticSelector:"SwitchGroup",children:b.jsx(QV,{role:"group",children:a})})})});HW.classes=Or.Wrapper.classes;HW.displayName="@mantine/core/SwitchGroup";var D1e={root:"m_5f93f3bb",input:"m_926b4011",track:"m_9307d992",thumb:"m_93039a1d",trackLabel:"m_8277e082"};const hqe={labelPosition:"right"},pqe=(e,{radius:t,color:n,size:r})=>({root:{"--switch-radius":t===void 0?void 0:jr(t),"--switch-height":hn(r,"switch-height"),"--switch-width":hn(r,"switch-width"),"--switch-thumb-size":hn(r,"switch-thumb-size"),"--switch-label-font-size":hn(r,"switch-label-font-size"),"--switch-track-label-padding":hn(r,"switch-track-label-padding"),"--switch-color":n?qr(n,e):void 0}}),Jg=nt((e,t)=>{const n=qe("Switch",hqe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,color:u,label:c,offLabel:d,onLabel:f,id:h,size:m,radius:p,wrapperProps:g,thumbIcon:v,checked:y,defaultChecked:w,onChange:_,labelPosition:E,description:S,error:T,disabled:k,variant:R,rootRef:I,mod:P,...N}=n,M=dqe(),O=m||M?.size,j=Rt({name:"Switch",props:n,classes:D1e,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:pqe}),{styleProps:U,rest:q}=xb(N),W=Ha(h),V=M?{checked:M.value.includes(q.value),onChange:M.onChange}:{},[z,L]=qi({value:V.checked??y,defaultValue:w,finalValue:!1});return b.jsxs(T4,{...j("root"),__staticSelector:"Switch",__stylesApiProps:n,id:W,size:O,labelPosition:E,label:c,description:S,error:T,disabled:k,bodyElement:"label",labelElement:"span",classNames:r,styles:s,unstyled:a,"data-checked":V.checked||y||void 0,variant:R,ref:I,mod:P,...U,...g,children:[b.jsx("input",{...q,disabled:k,checked:z,"data-checked":V.checked||y||void 0,onChange:H=>{M?V.onChange?.(H):_?.(H),L(H.currentTarget.checked)},id:W,ref:t,type:"checkbox",role:"switch",...j("input")}),b.jsxs(De,{"aria-hidden":"true",component:"span",mod:{error:T,"label-position":E,"without-labels":!f&&!d},...j("track"),children:[b.jsx(De,{component:"span",mod:"reduce-motion",...j("thumb"),children:v}),b.jsx("span",{...j("trackLabel"),children:z?f:d})]})]})});Jg.classes={...D1e,...bbe};Jg.displayName="@mantine/core/Switch";Jg.Group=HW;const[mqe,gqe]=ua("Table component was not found in the tree");var TT={table:"m_b23fa0ef",th:"m_4e7aa4f3",tr:"m_4e7aa4fd",td:"m_4e7aa4ef",tbody:"m_b2404537",thead:"m_b242d975",caption:"m_9e5a3ac7",scrollContainer:"m_a100c15",scrollContainerInner:"m_62259741"};function yqe(e,t){if(!t)return;const n={};return t.columnBorder&&e.withColumnBorders&&(n["data-with-column-border"]=!0),t.rowBorder&&e.withRowBorders&&(n["data-with-row-border"]=!0),t.striped&&e.striped&&(n["data-striped"]=e.striped),t.highlightOnHover&&e.highlightOnHover&&(n["data-hover"]=!0),t.captionSide&&e.captionSide&&(n["data-side"]=e.captionSide),t.stickyHeader&&e.stickyHeader&&(n["data-sticky"]=!0),n}function _b(e,t){const n=`Table${e.charAt(0).toUpperCase()}${e.slice(1)}`,r=nt((i,o)=>{const s=qe(n,{},i),{classNames:a,className:l,style:u,styles:c,...d}=s,f=gqe();return b.jsx(De,{component:e,ref:o,...yqe(f,t),...f.getStyles(e,{className:l,classNames:a,style:u,styles:c,props:s}),...d})});return r.displayName=`@mantine/core/${n}`,r.classes=TT,r}const rx=_b("th",{columnBorder:!0}),kT=_b("td",{columnBorder:!0}),Hp=_b("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),qW=_b("thead",{stickyHeader:!0}),uS=_b("tbody"),VW=_b("tfoot"),P1e=_b("caption",{captionSide:!0});function WW({data:e}){return b.jsxs(b.Fragment,{children:[e.caption&&b.jsx(P1e,{children:e.caption}),e.head&&b.jsx(qW,{children:b.jsx(Hp,{children:e.head.map((t,n)=>b.jsx(rx,{children:t},n))})}),e.body&&b.jsx(uS,{children:e.body.map((t,n)=>b.jsx(Hp,{children:t.map((r,i)=>b.jsx(kT,{children:r},i))},n))}),e.foot&&b.jsx(VW,{children:b.jsx(Hp,{children:e.foot.map((t,n)=>b.jsx(rx,{children:t},n))})})]})}WW.displayName="@mantine/core/TableDataRenderer";const vqe={type:"scrollarea"},bqe=(e,{minWidth:t,maxHeight:n,type:r})=>({scrollContainer:{"--table-min-width":Ye(t),"--table-max-height":Ye(n),"--table-overflow":r==="native"?"auto":void 0}}),GW=nt((e,t)=>{const n=qe("TableScrollContainer",vqe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,children:u,minWidth:c,maxHeight:d,type:f,scrollAreaProps:h,...m}=n,p=Rt({name:"TableScrollContainer",classes:TT,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:bqe,rootSelector:"scrollContainer"});return b.jsx(De,{component:f==="scrollarea"?im:"div",...f==="scrollarea"?d?{offsetScrollbars:"xy",...h}:{offsetScrollbars:"x",...h}:{},ref:t,...p("scrollContainer"),...m,children:b.jsx("div",{...p("scrollContainerInner"),children:u})})});GW.classes=TT;GW.displayName="@mantine/core/TableScrollContainer";const wqe={withRowBorders:!0,verticalSpacing:7},xqe=(e,{layout:t,captionSide:n,horizontalSpacing:r,verticalSpacing:i,borderColor:o,stripedColor:s,highlightOnHoverColor:a,striped:l,highlightOnHover:u,stickyHeaderOffset:c,stickyHeader:d})=>({table:{"--table-layout":t,"--table-caption-side":n,"--table-horizontal-spacing":Di(r),"--table-vertical-spacing":Di(i),"--table-border-color":o?qr(o,e):void 0,"--table-striped-color":l&&s?qr(s,e):void 0,"--table-highlight-on-hover-color":u&&a?qr(a,e):void 0,"--table-sticky-header-offset":d?Ye(c):void 0}}),xn=nt((e,t)=>{const n=qe("Table",wqe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,horizontalSpacing:u,verticalSpacing:c,captionSide:d,stripedColor:f,highlightOnHoverColor:h,striped:m,highlightOnHover:p,withColumnBorders:g,withRowBorders:v,withTableBorder:y,borderColor:w,layout:_,variant:E,data:S,children:T,stickyHeader:k,stickyHeaderOffset:R,mod:I,tabularNums:P,...N}=n,M=Rt({name:"Table",props:n,className:i,style:o,classes:TT,classNames:r,styles:s,unstyled:a,rootSelector:"table",vars:l,varsResolver:xqe});return b.jsx(mqe,{value:{getStyles:M,stickyHeader:k,striped:m===!0?"odd":m||void 0,highlightOnHover:p,withColumnBorders:g,withRowBorders:v,captionSide:d||"bottom"},children:b.jsx(De,{component:"table",variant:E,ref:t,mod:[{"data-with-table-border":y,"data-tabular-nums":P},I],...M("table"),...N,children:T||!!S&&b.jsx(WW,{data:S})})})});xn.classes=TT;xn.displayName="@mantine/core/Table";xn.Td=kT;xn.Th=rx;xn.Tr=Hp;xn.Thead=qW;xn.Tbody=uS;xn.Tfoot=VW;xn.Caption=P1e;xn.ScrollContainer=GW;xn.DataRenderer=WW;const[Cqe,YW]=ua("Tabs component was not found in the tree");var AT={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const _qe={},KW=nt((e,t)=>{const n=qe("TabsList",_qe,e),{children:r,className:i,grow:o,justify:s,classNames:a,styles:l,style:u,mod:c,...d}=n,f=YW();return b.jsx(De,{...d,...f.getStyles("list",{className:i,style:u,classNames:a,styles:l,props:n,variant:f.variant}),ref:t,role:"tablist",variant:f.variant,mod:[{grow:o,orientation:f.orientation,placement:f.orientation==="vertical"&&f.placement,inverted:f.inverted},c],"aria-orientation":f.orientation,__vars:{"--tabs-justify":s},children:r})});KW.classes=AT;KW.displayName="@mantine/core/TabsList";const Eqe={},XW=nt((e,t)=>{const n=qe("TabsPanel",Eqe,e),{children:r,className:i,value:o,classNames:s,styles:a,style:l,mod:u,keepMounted:c,...d}=n,f=YW(),h=f.value===o,m=f.keepMounted||c||h?r:null;return b.jsx(De,{...d,...f.getStyles("panel",{className:i,classNames:s,styles:a,style:[l,h?void 0:{display:"none"}],props:n}),ref:t,mod:[{orientation:f.orientation},u],role:"tabpanel",id:f.getPanelId(o),"aria-labelledby":f.getTabId(o),children:m})});XW.classes=AT;XW.displayName="@mantine/core/TabsPanel";const Sqe={},QW=nt((e,t)=>{const n=qe("TabsTab",Sqe,e),{className:r,children:i,rightSection:o,leftSection:s,value:a,onClick:l,onKeyDown:u,disabled:c,color:d,style:f,classNames:h,styles:m,vars:p,mod:g,tabIndex:v,...y}=n,w=eo(),{dir:_}=su(),E=YW(),S=a===E.value,T=R=>{E.onChange(E.allowTabDeactivation&&a===E.value?null:a),l?.(R)},k={classNames:h,styles:m,props:n};return b.jsxs(Yo,{...y,...E.getStyles("tab",{className:r,style:f,variant:E.variant,...k}),disabled:c,unstyled:E.unstyled,variant:E.variant,mod:[{active:S,disabled:c,orientation:E.orientation,inverted:E.inverted,placement:E.orientation==="vertical"&&E.placement},g],ref:t,role:"tab",id:E.getTabId(a),"aria-selected":S,tabIndex:v!==void 0?v:S||E.value===null?0:-1,"aria-controls":E.getPanelId(a),onClick:T,__vars:{"--tabs-color":d?qr(d,w):void 0},onKeyDown:Mye({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:E.activateTabWithKeyboard,loop:E.loop,orientation:E.orientation||"horizontal",dir:_,onKeyDown:u}),children:[s&&b.jsx("span",{...E.getStyles("tabSection",k),"data-position":"left",children:s}),i&&b.jsx("span",{...E.getStyles("tabLabel",k),children:i}),o&&b.jsx("span",{...E.getStyles("tabSection",k),"data-position":"right",children:o})]})});QW.classes=AT;QW.displayName="@mantine/core/TabsTab";const Bie="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",Tqe={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},kqe=(e,{radius:t,color:n,autoContrast:r})=>({root:{"--tabs-radius":jr(t),"--tabs-color":qr(n,e),"--tabs-text-color":F0(r,e)?Lh({color:n,theme:e,autoContrast:r}):void 0}}),jn=nt((e,t)=>{const n=qe("Tabs",Tqe,e),{defaultValue:r,value:i,onChange:o,orientation:s,children:a,loop:l,id:u,activateTabWithKeyboard:c,allowTabDeactivation:d,variant:f,color:h,radius:m,inverted:p,placement:g,keepMounted:v,classNames:y,styles:w,unstyled:_,className:E,style:S,vars:T,autoContrast:k,mod:R,...I}=n,P=Ha(u),[N,M]=qi({value:i,defaultValue:r,finalValue:null,onChange:o}),O=Rt({name:"Tabs",props:n,classes:AT,className:E,style:S,classNames:y,styles:w,unstyled:_,vars:T,varsResolver:kqe});return b.jsx(Cqe,{value:{placement:g,value:N,orientation:s,id:P,loop:l,activateTabWithKeyboard:c,getTabId:Are(`${P}-tab`,Bie),getPanelId:Are(`${P}-panel`,Bie),onChange:M,allowTabDeactivation:d,variant:f,color:h,radius:m,inverted:p,keepMounted:v,unstyled:_,getStyles:O},children:b.jsx(De,{ref:t,id:P,variant:f,mod:[{orientation:s,inverted:s==="horizontal"&&p,placement:s==="vertical"&&g},R],...O("root"),...I,children:a})})});jn.classes=AT;jn.displayName="@mantine/core/Tabs";jn.Tab=QW;jn.Panel=XW;jn.List=KW;const Aqe={},dl=nt((e,t)=>{const n=qe("TextInput",Aqe,e);return b.jsx(_l,{component:"input",ref:t,...n,__staticSelector:"TextInput"})});dl.classes=_l.classes;dl.displayName="@mantine/core/TextInput";const Rqe=["h1","h2","h3","h4","h5","h6"],Iqe=["xs","sm","md","lg","xl"];function Dqe(e,t){const n=t!==void 0?t:`h${e}`;return Rqe.includes(n)?{fontSize:`var(--mantine-${n}-font-size)`,fontWeight:`var(--mantine-${n}-font-weight)`,lineHeight:`var(--mantine-${n}-line-height)`}:Iqe.includes(n)?{fontSize:`var(--mantine-font-size-${n})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:Ye(n),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var O1e={root:"m_8a5d1357"};const Pqe={order:1},Oqe=(e,{order:t,size:n,lineClamp:r,textWrap:i})=>{const o=Dqe(t,n);return{root:{"--title-fw":o.fontWeight,"--title-lh":o.lineHeight,"--title-fz":o.fontSize,"--title-line-clamp":typeof r=="number"?r.toString():void 0,"--title-text-wrap":i}}},gr=nt((e,t)=>{const n=qe("Title",Pqe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,order:l,vars:u,size:c,variant:d,lineClamp:f,textWrap:h,mod:m,...p}=n,g=Rt({name:"Title",props:n,classes:O1e,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:Oqe});return[1,2,3,4,5,6].includes(l)?b.jsx(De,{...g("root"),component:`h${l}`,variant:d,ref:t,mod:[{order:l,"data-line-clamp":typeof f=="number"},m],size:c,...p}):null});gr.classes=O1e;gr.displayName="@mantine/core/Title";function Nqe(e){let t=e,n=!1;const r=new Set;return{getState(){return t},updateState(i){t=typeof i=="function"?i(t):i},setState(i){this.updateState(i),r.forEach(o=>o(t))},initialize(i){n||(t=i,n=!0)},subscribe(i){return r.add(i),()=>r.delete(i)}}}function Mqe(e){return A.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function $qe(e,t,n){const r=[],i=[],o={};for(const s of e){const a=s.position||t;o[a]=o[a]||0,o[a]+=1,o[a]<=n?i.push(s):r.push(s)}return{notifications:i,queue:r}}const Lqe=()=>Nqe({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),Eb=Lqe(),Fqe=(e=Eb)=>Mqe(e);function rC(e,t){const n=e.getState(),r=t([...n.notifications,...n.queue]),i=$qe(r,n.defaultPosition,n.limit);e.setState({notifications:i.notifications,queue:i.queue,limit:n.limit,defaultPosition:n.defaultPosition})}function jqe(e,t=Eb){const n=e.id||Qg();return rC(t,r=>e.id&&r.some(i=>i.id===e.id)?r:[...r,{...e,id:n}]),n}function N1e(e,t=Eb){return rC(t,n=>n.filter(r=>r.id===e?(r.onClose?.(r),!1):!0)),e}function Bqe(e,t=Eb){return rC(t,n=>n.map(r=>r.id===e.id?{...r,...e}:r)),e.id}function zqe(e=Eb){rC(e,()=>[])}function Uqe(e=Eb){rC(e,t=>t.slice(0,e.getState().limit))}const Sb={show:jqe,hide:N1e,update:Bqe,clean:zqe,cleanQueue:Uqe,updateState:rC};function F7(e,t){return F7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},F7(e,t)}function M1e(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,F7(e,t)}var IF={exports:{}},DF,zie;function Hqe(){if(zie)return DF;zie=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return DF=e,DF}var PF,Uie;function qqe(){if(Uie)return PF;Uie=1;var e=Hqe();function t(){}function n(){}return n.resetWarningCache=t,PF=function(){function r(s,a,l,u,c,d){if(d!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},PF}var Hie;function Vqe(){return Hie||(Hie=1,IF.exports=qqe()()),IF.exports}var Wqe=Vqe();const T3=Xo(Wqe),qie={disabled:!1},k3=un.createContext(null);var Gqe=function(t){return t.scrollTop},CE="unmounted",By="exited",zy="entering",iw="entered",j7="exiting",Im=(function(e){M1e(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=By,o.appearStatus=zy):l=iw:r.unmountOnExit||r.mountOnEnter?l=CE:l=By,o.state={status:l},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===CE?{status:By}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==zy&&s!==iw&&(o=zy):(s===zy||s===iw)&&(o=j7)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===zy){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:wE.findDOMNode(this);s&&Gqe(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===By&&this.setState({status:CE})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[wE.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!s||qie.disabled){this.safeSetState({status:iw},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:zy},function(){o.props.onEntering(u,c),o.onTransitionEnd(f,function(){o.safeSetState({status:iw},function(){o.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:wE.findDOMNode(this);if(!o||qie.disabled){this.safeSetState({status:By},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:j7},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:By},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:wE.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===CE)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=mW(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return un.createElement(k3.Provider,{value:null},typeof s=="function"?s(i,a):un.cloneElement(un.Children.only(s),a))},t})(un.Component);Im.contextType=k3;Im.propTypes={};function R1(){}Im.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:R1,onEntering:R1,onEntered:R1,onExit:R1,onExiting:R1,onExited:R1};Im.UNMOUNTED=CE;Im.EXITED=By;Im.ENTERING=zy;Im.ENTERED=iw;Im.EXITING=j7;function Yqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JW(e,t){var n=function(o){return t&&A.isValidElement(o)?t(o):o},r=Object.create(null);return e&&A.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function Kqe(e,t){e=e||{},t=t||{};function n(c){return c in t?t[c]:e[c]}var r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in t){if(r[l])for(s=0;s<r[l].length;s++){var u=r[l][s];a[r[l][s]]=n(u)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function uv(e,t,n){return n[t]!=null?n[t]:e.props[t]}function Xqe(e,t){return JW(e.children,function(n){return A.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:uv(n,"appear",e),enter:uv(n,"enter",e),exit:uv(n,"exit",e)})})}function Qqe(e,t,n){var r=JW(e.children),i=Kqe(t,r);return Object.keys(i).forEach(function(o){var s=i[o];if(A.isValidElement(s)){var a=o in t,l=o in r,u=t[o],c=A.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[o]=A.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:uv(s,"exit",e),enter:uv(s,"enter",e)}):!l&&a&&!c?i[o]=A.cloneElement(s,{in:!1}):l&&a&&A.isValidElement(u)&&(i[o]=A.cloneElement(s,{onExited:n.bind(null,s),in:u.props.in,exit:uv(s,"exit",e),enter:uv(s,"enter",e)}))}}),i}var Jqe=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Zqe={component:"div",childFactory:function(t){return t}},_g=(function(e){M1e(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=o.handleExited.bind(Yqe(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?Xqe(i,a):Qqe(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=JW(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=_3({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=mW(i,["component","childFactory"]),l=this.state.contextValue,u=Jqe(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?un.createElement(k3.Provider,{value:l},u):un.createElement(k3.Provider,{value:l},un.createElement(o,a,u))},t})(un.Component);_g.propTypes={};_g.defaultProps=Zqe;const $1e=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function eVe(e,t){return e.reduce((n,r)=>(n[r.position||t].push(r),n),$1e.reduce((n,r)=>(n[r]=[],n),{}))}const Vie={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},tVe={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function nVe({state:e,maxHeight:t,position:n,transitionDuration:r}){const[i,o]=n.split("-"),s=o==="center"?`${i}-center`:o,a={opacity:0,maxHeight:t,transform:Vie[s],transitionDuration:`${r}ms, ${r}ms, ${r}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},l={opacity:1,transform:tVe[s]},u={opacity:0,maxHeight:0,transform:Vie[s]};return{...a,...{entering:l,entered:l,exiting:u,exited:u}[e]}}function rVe(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const L1e=A.forwardRef(({data:e,onHide:t,autoClose:n,...r},i)=>{const{autoClose:o,message:s,...a}=e,l=rVe(n,e.autoClose),u=A.useRef(-1),c=()=>window.clearTimeout(u.current),d=()=>{t(e.id),c()},f=()=>{typeof l=="number"&&(u.current=window.setTimeout(d,l))};return A.useEffect(()=>{e.onOpen?.(e)},[]),A.useEffect(()=>(f(),c),[l]),b.jsx(kW,{...r,...a,onClose:d,ref:i,onMouseEnter:c,onMouseLeave:f,children:s})});L1e.displayName="@mantine/notifications/NotificationContainer";var F1e={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const iVe=Im,oVe={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:ou("overlay"),store:Eb,withinPortal:!0},sVe=(e,{zIndex:t,containerWidth:n})=>({root:{"--notifications-z-index":t?.toString(),"--notifications-container-width":Ye(n)}}),Dm=nt((e,t)=>{const n=qe("Notifications",oVe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,position:u,autoClose:c,transitionDuration:d,containerWidth:f,notificationMaxHeight:h,limit:m,zIndex:p,store:g,portalProps:v,withinPortal:y,...w}=n,_=eo(),E=Fqe(g),S=jLe(),T=c4(),k=A.useRef({}),R=A.useRef(0),P=(_.respectReducedMotion?T:!1)?1:d,N=Rt({name:"Notifications",classes:F1e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:sVe});A.useEffect(()=>{g?.updateState(j=>({...j,limit:m||5,defaultPosition:u}))},[m,u]),vl(()=>{E.notifications.length>R.current&&setTimeout(()=>S(),0),R.current=E.notifications.length},[E.notifications]);const M=eVe(E.notifications,u),O=$1e.reduce((j,U)=>(j[U]=M[U].map(({style:q,...W})=>b.jsx(iVe,{timeout:P,onEnter:()=>k.current[W.id].offsetHeight,nodeRef:{current:k.current[W.id]},children:V=>b.jsx(L1e,{ref:z=>{k.current[W.id]=z},data:W,onHide:z=>N1e(z,g),autoClose:c,...N("notification",{style:{...nVe({state:V,position:U,transitionDuration:P,maxHeight:h}),...q}})})},W.id)),j),{});return b.jsxs(j0,{withinPortal:y,...v,children:[b.jsx(De,{...N("root"),"data-position":"top-center",ref:t,...w,children:b.jsx(_g,{children:O["top-center"]})}),b.jsx(De,{...N("root"),"data-position":"top-left",...w,children:b.jsx(_g,{children:O["top-left"]})}),b.jsx(De,{...N("root",{className:Xw.classNames.fullWidth}),"data-position":"top-right",...w,children:b.jsx(_g,{children:O["top-right"]})}),b.jsx(De,{...N("root",{className:Xw.classNames.fullWidth}),"data-position":"bottom-right",...w,children:b.jsx(_g,{children:O["bottom-right"]})}),b.jsx(De,{...N("root"),"data-position":"bottom-left",...w,children:b.jsx(_g,{children:O["bottom-left"]})}),b.jsx(De,{...N("root"),"data-position":"bottom-center",...w,children:b.jsx(_g,{children:O["bottom-center"]})})]})});Dm.classes=F1e;Dm.displayName="@mantine/notifications/Notifications";Dm.show=Sb.show;Dm.hide=Sb.hide;Dm.update=Sb.update;Dm.clean=Sb.clean;Dm.cleanQueue=Sb.cleanQueue;Dm.updateState=Sb.updateState;const j1e=A.createContext({storageEngine:void 0,setStorageEngine:()=>{}}),ri=()=>A.useContext(j1e);function aVe({children:e}){const[t,n]=A.useState(void 0),r=A.useMemo(()=>({storageEngine:t,setStorageEngine:n}),[t]);return b.jsx(j1e.Provider,{value:r,children:e})}var Wie="popstate";function lVe(e={}){function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return B7("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:o2(i)}return cVe(t,n,null,e)}function Xi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Pc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uVe(){return Math.random().toString(36).substring(2,10)}function Gie(e,t){return{usr:e.state,key:e.key,idx:t}}function B7(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?iC(t):t,state:n,key:t&&t.key||r||uVe()}}function o2({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function iC(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function cVe(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,u=c();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function c(){return(s.state||{idx:null}).idx}function d(){a="POP";let g=c(),v=g==null?null:g-u;u=g,l&&l({action:a,location:p.location,delta:v})}function f(g,v){a="PUSH";let y=B7(p.location,g,v);u=c()+1;let w=Gie(y,u),_=p.createHref(y);try{s.pushState(w,"",_)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(_)}o&&l&&l({action:a,location:p.location,delta:1})}function h(g,v){a="REPLACE";let y=B7(p.location,g,v);u=c();let w=Gie(y,u),_=p.createHref(y);s.replaceState(w,"",_),o&&l&&l({action:a,location:p.location,delta:0})}function m(g){return dVe(g)}let p={get action(){return a},get location(){return e(i,s)},listen(g){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Wie,d),l=g,()=>{i.removeEventListener(Wie,d),l=null}},createHref(g){return t(i,g)},createURL:m,encodeLocation(g){let v=m(g);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:h,go(g){return s.go(g)}};return p}function dVe(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Xi(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:o2(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function B1e(e,t,n="/"){return fVe(e,t,n,!1)}function fVe(e,t,n,r){let i=typeof t=="string"?iC(t):t,o=sm(i.pathname||"/",n);if(o==null)return null;let s=z1e(e);hVe(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=EVe(o);a=CVe(s[l],u,r)}return a}function z1e(e,t=[],n=[],r="",i=!1){let o=(s,a,l=i,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&l)return;Xi(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let d=qp([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(Xi(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),z1e(s.children,t,f,d,l)),!(s.path==null&&!s.index)&&t.push({path:d,score:wVe(d,s.index),routesMeta:f})};return e.forEach((s,a)=>{if(s.path===""||!s.path?.includes("?"))o(s,a);else for(let l of U1e(s.path))o(s,a,!0,l)}),t}function U1e(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=U1e(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function hVe(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:xVe(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var pVe=/^:[\w-]+$/,mVe=3,gVe=2,yVe=1,vVe=10,bVe=-2,Yie=e=>e==="*";function wVe(e,t){let n=e.split("/"),r=n.length;return n.some(Yie)&&(r+=bVe),t&&(r+=gVe),n.filter(i=>!Yie(i)).reduce((i,o)=>i+(pVe.test(o)?mVe:o===""?yVe:vVe),r)}function xVe(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function CVe(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=o==="/"?t:t.slice(o.length)||"/",d=A3({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=A3({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:qp([o,d.pathname]),pathnameBase:AVe(qp([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=qp([o,d.pathnameBase]))}return s}function A3(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=_Ve(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:d},f)=>{if(c==="*"){let m=a[f]||"";s=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const h=a[f];return d&&!h?u[c]=void 0:u[c]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function _Ve(e,t=!1,n=!0){Pc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function EVe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Pc(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function sm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var SVe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function TVe(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?iC(e):e,o;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?o=Kie(n.substring(1),"/"):o=Kie(n,t)):o=t,{pathname:o,search:RVe(r),hash:IVe(i)}}function Kie(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function OF(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kVe(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ZW(e){let t=kVe(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function eG(e,t,n,r=!1){let i;typeof e=="string"?i=iC(e):(i={...e},Xi(!i.pathname||!i.pathname.includes("?"),OF("?","pathname","search",i)),Xi(!i.pathname||!i.pathname.includes("#"),OF("#","pathname","hash",i)),Xi(!i.search||!i.search.includes("#"),OF("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=t.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=TVe(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var qp=e=>e.join("/").replace(/\/\/+/g,"/"),AVe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),RVe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,IVe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,DVe=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function PVe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function OVe(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var H1e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function q1e(e,t){let n=e;if(typeof n!="string"||!SVe.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(H1e)try{let o=new URL(window.location.href),s=n.startsWith("//")?new URL(o.protocol+n):new URL(n),a=sm(s.pathname,t);s.origin===o.origin&&a!=null?n=a+s.search+s.hash:i=!0}catch{Pc(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var V1e=["POST","PUT","PATCH","DELETE"];new Set(V1e);var NVe=["GET",...V1e];new Set(NVe);var oC=A.createContext(null);oC.displayName="DataRouter";var X4=A.createContext(null);X4.displayName="DataRouterState";var MVe=A.createContext(!1),W1e=A.createContext({isTransitioning:!1});W1e.displayName="ViewTransition";var $Ve=A.createContext(new Map);$Ve.displayName="Fetchers";var LVe=A.createContext(null);LVe.displayName="Await";var Qu=A.createContext(null);Qu.displayName="Navigation";var RT=A.createContext(null);RT.displayName="Location";var Gc=A.createContext({outlet:null,matches:[],isDataRoute:!1});Gc.displayName="Route";var tG=A.createContext(null);tG.displayName="RouteError";var G1e="REACT_ROUTER_ERROR",FVe="REDIRECT",jVe="ROUTE_ERROR_RESPONSE";function BVe(e){if(e.startsWith(`${G1e}:${FVe}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function zVe(e){if(e.startsWith(`${G1e}:${jVe}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new DVe(t.status,t.statusText,t.data)}catch{}}function s2(e,{relative:t}={}){Xi(sC(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=A.useContext(Qu),{hash:i,pathname:o,search:s}=IT(e,{relative:t}),a=o;return n!=="/"&&(a=o==="/"?n:qp([n,o])),r.createHref({pathname:a,search:s,hash:i})}function sC(){return A.useContext(RT)!=null}function qa(){return Xi(sC(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(RT).location}var Y1e="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function K1e(e){A.useContext(Qu).static||A.useLayoutEffect(e)}function ca(){let{isDataRoute:e}=A.useContext(Gc);return e?tWe():UVe()}function UVe(){Xi(sC(),"useNavigate() may be used only in the context of a <Router> component.");let e=A.useContext(oC),{basename:t,navigator:n}=A.useContext(Qu),{matches:r}=A.useContext(Gc),{pathname:i}=qa(),o=JSON.stringify(ZW(r)),s=A.useRef(!1);return K1e(()=>{s.current=!0}),A.useCallback((l,u={})=>{if(Pc(s.current,Y1e),!s.current)return;if(typeof l=="number"){n.go(l);return}let c=eG(l,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:qp([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,o,i,e])}var HVe=A.createContext(null);function qVe(e){let t=A.useContext(Gc).outlet;return A.useMemo(()=>t&&A.createElement(HVe.Provider,{value:e},t),[t,e])}function Mo(){let{matches:e}=A.useContext(Gc),t=e[e.length-1];return t?t.params:{}}function IT(e,{relative:t}={}){let{matches:n}=A.useContext(Gc),{pathname:r}=qa(),i=JSON.stringify(ZW(n));return A.useMemo(()=>eG(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function X1e(e,t){return Q1e(e,t)}function Q1e(e,t,n,r,i){Xi(sC(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=A.useContext(Qu),{matches:s}=A.useContext(Gc),a=s[s.length-1],l=a?a.params:{},u=a?a.pathname:"/",c=a?a.pathnameBase:"/",d=a&&a.route;{let y=d&&d.path||"";Z1e(u,!d||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let f=qa(),h;if(t){let y=typeof t=="string"?iC(t):t;Xi(c==="/"||y.pathname?.startsWith(c),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${y.pathname}" was given in the \`location\` prop.`),h=y}else h=f;let m=h.pathname||"/",p=m;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=B1e(e,{pathname:p});Pc(d||g!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),Pc(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=KVe(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:qp([c,o.encodeLocation?o.encodeLocation(y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:qp([c,o.encodeLocation?o.encodeLocation(y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathnameBase])})),s,n,r,i);return t&&v?A.createElement(RT.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},v):v}function VVe(){let e=eWe(),t=PVe(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:o},"ErrorBoundary")," or"," ",A.createElement("code",{style:o},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),n?A.createElement("pre",{style:i},n):null,s)}var WVe=A.createElement(VVe,null),J1e=class extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=zVe(e.digest);n&&(e=n)}let t=e!==void 0?A.createElement(Gc.Provider,{value:this.props.routeContext},A.createElement(tG.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?A.createElement(GVe,{error:e},t):t}};J1e.contextType=MVe;var NF=new WeakMap;function GVe({children:e,error:t}){let{basename:n}=A.useContext(Qu);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=BVe(t.digest);if(r){let i=NF.get(t);if(i)throw i;let o=q1e(r.location,n);if(H1e&&!NF.get(t))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw NF.set(t,s),s}return A.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return e}function YVe({routeContext:e,match:t,children:n}){let r=A.useContext(oC);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),A.createElement(Gc.Provider,{value:e},n)}function KVe(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,s=n?.errors;if(s!=null){let c=o.findIndex(d=>d.route.id&&s?.[d.route.id]!==void 0);Xi(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),o=o.slice(0,Math.min(o.length,c+1))}let a=!1,l=-1;if(n)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:f,errors:h}=n,m=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!h||h[d.route.id]===void 0);if(d.route.lazy||m){a=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}let u=n&&r?(c,d)=>{r(c,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:OVe(n.matches),errorInfo:d})}:void 0;return o.reduceRight((c,d,f)=>{let h,m=!1,p=null,g=null;n&&(h=s&&d.route.id?s[d.route.id]:void 0,p=d.route.errorElement||WVe,a&&(l<0&&f===0?(Z1e("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,g=null):l===f&&(m=!0,g=d.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,f+1)),y=()=>{let w;return h?w=p:m?w=g:d.route.Component?w=A.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=c,A.createElement(YVe,{match:d,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?A.createElement(J1e,{location:n.location,revalidation:n.revalidation,component:p,error:h,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0},onError:u}):y()},null)}function nG(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XVe(e){let t=A.useContext(oC);return Xi(t,nG(e)),t}function QVe(e){let t=A.useContext(X4);return Xi(t,nG(e)),t}function JVe(e){let t=A.useContext(Gc);return Xi(t,nG(e)),t}function rG(e){let t=JVe(e),n=t.matches[t.matches.length-1];return Xi(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function ZVe(){return rG("useRouteId")}function eWe(){let e=A.useContext(tG),t=QVe("useRouteError"),n=rG("useRouteError");return e!==void 0?e:t.errors?.[n]}function tWe(){let{router:e}=XVe("useNavigate"),t=rG("useNavigate"),n=A.useRef(!1);return K1e(()=>{n.current=!0}),A.useCallback(async(i,o={})=>{Pc(n.current,Y1e),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var Xie={};function Z1e(e,t,n){!t&&!Xie[e]&&(Xie[e]=!0,Pc(!1,n))}A.memo(nWe);function nWe({routes:e,future:t,state:n,onError:r}){return Q1e(e,void 0,n,r,t)}function iG({to:e,replace:t,state:n,relative:r}){Xi(sC(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=A.useContext(Qu);Pc(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=A.useContext(Gc),{pathname:s}=qa(),a=ca(),l=eG(e,ZW(o),s,r==="path"),u=JSON.stringify(l);return A.useEffect(()=>{a(JSON.parse(u),{replace:t,state:n,relative:r})},[a,u,r,t,n]),null}function rWe(e){return qVe(e.context)}function xp(e){Xi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iWe({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1,unstable_useTransitions:s}){Xi(!sC(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),l=A.useMemo(()=>({basename:a,navigator:i,static:o,unstable_useTransitions:s,future:{}}),[a,i,o,s]);typeof n=="string"&&(n=iC(n));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:h="default"}=n,m=A.useMemo(()=>{let p=sm(u,a);return p==null?null:{location:{pathname:p,search:c,hash:d,state:f,key:h},navigationType:r}},[a,u,c,d,f,h,r]);return Pc(m!=null,`<Router basename="${a}"> is not able to match the URL "${u}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:A.createElement(Qu.Provider,{value:l},A.createElement(RT.Provider,{children:t,value:m}))}function oWe({children:e,location:t}){return X1e(z7(e),t)}function z7(e,t=[]){let n=[];return A.Children.forEach(e,(r,i)=>{if(!A.isValidElement(r))return;let o=[...t,i];if(r.type===A.Fragment){n.push.apply(n,z7(r.props.children,o));return}Xi(r.type===xp,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xi(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=z7(r.props.children,o)),n.push(s)}),n}var DD="get",PD="application/x-www-form-urlencoded";function Q4(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function sWe(e){return Q4(e)&&e.tagName.toLowerCase()==="button"}function aWe(e){return Q4(e)&&e.tagName.toLowerCase()==="form"}function lWe(e){return Q4(e)&&e.tagName.toLowerCase()==="input"}function uWe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function cWe(e,t){return e.button===0&&(!t||t==="_self")&&!uWe(e)}function U7(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function dWe(e,t){let n=U7(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}var hR=null;function fWe(){if(hR===null)try{new FormData(document.createElement("form"),0),hR=!1}catch{hR=!0}return hR}var hWe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function MF(e){return e!=null&&!hWe.has(e)?(Pc(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${PD}"`),null):e}function pWe(e,t){let n,r,i,o,s;if(aWe(e)){let a=e.getAttribute("action");r=a?sm(a,t):null,n=e.getAttribute("method")||DD,i=MF(e.getAttribute("enctype"))||PD,o=new FormData(e)}else if(sWe(e)||lWe(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?sm(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||DD,i=MF(e.getAttribute("formenctype"))||MF(a.getAttribute("enctype"))||PD,o=new FormData(a,e),!fWe()){let{name:u,type:c,value:d}=e;if(c==="image"){let f=u?`${u}.`:"";o.append(`${f}x`,"0"),o.append(`${f}y`,"0")}else u&&o.append(u,d)}}else{if(Q4(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=DD,r=null,i=PD,s=e}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function oG(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function mWe(e,t,n,r){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:t&&sm(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function gWe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yWe(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function vWe(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let s=await gWe(o,n);return s.links?s.links():[]}return[]}));return CWe(r.flat(1).filter(yWe).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Qie(e,t,n,r,i,o){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>n[u].pathname!==l.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==l.params["*"];return o==="assets"?t.filter((l,u)=>s(l,u)||a(l,u)):o==="data"?t.filter((l,u)=>{let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(s(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let d=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function bWe(e,t,{includeHydrateFallback:n}={}){return wWe(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function wWe(e){return[...new Set(e)]}function xWe(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function CWe(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let o=JSON.stringify(xWe(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function ewe(){let e=A.useContext(oC);return oG(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function _We(){let e=A.useContext(X4);return oG(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var sG=A.createContext(void 0);sG.displayName="FrameworkContext";function twe(){let e=A.useContext(sG);return oG(e,"You must render this element inside a <HydratedRouter> element"),e}function EWe(e,t){let n=A.useContext(sG),[r,i]=A.useState(!1),[o,s]=A.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=t,f=A.useRef(null);A.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let p=v=>{v.forEach(y=>{s(y.isIntersecting)})},g=new IntersectionObserver(p,{threshold:.5});return f.current&&g.observe(f.current),()=>{g.disconnect()}}},[e]),A.useEffect(()=>{if(r){let p=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(p)}}},[r]);let h=()=>{i(!0)},m=()=>{i(!1),s(!1)};return n?e!=="intent"?[o,f,{}]:[o,f,{onFocus:A_(a,h),onBlur:A_(l,m),onMouseEnter:A_(u,h),onMouseLeave:A_(c,m),onTouchStart:A_(d,h)}]:[!1,f,{}]}function A_(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function SWe({page:e,...t}){let{router:n}=ewe(),r=A.useMemo(()=>B1e(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?A.createElement(kWe,{page:e,matches:r,...t}):null}function TWe(e){let{manifest:t,routeModules:n}=twe(),[r,i]=A.useState([]);return A.useEffect(()=>{let o=!1;return vWe(e,t,n).then(s=>{o||i(s)}),()=>{o=!0}},[e,t,n]),r}function kWe({page:e,matches:t,...n}){let r=qa(),{future:i,manifest:o,routeModules:s}=twe(),{basename:a}=ewe(),{loaderData:l,matches:u}=_We(),c=A.useMemo(()=>Qie(e,t,u,o,r,"data"),[e,t,u,o,r]),d=A.useMemo(()=>Qie(e,t,u,o,r,"assets"),[e,t,u,o,r]),f=A.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let p=new Set,g=!1;if(t.forEach(y=>{let w=o.routes[y.route.id];!w||!w.hasLoader||(!c.some(_=>_.route.id===y.route.id)&&y.route.id in l&&s[y.route.id]?.shouldRevalidate||w.hasClientLoader?g=!0:p.add(y.route.id))}),p.size===0)return[];let v=mWe(e,a,i.unstable_trailingSlashAwareDataRequests,"data");return g&&p.size>0&&v.searchParams.set("_routes",t.filter(y=>p.has(y.route.id)).map(y=>y.route.id).join(",")),[v.pathname+v.search]},[a,i.unstable_trailingSlashAwareDataRequests,l,r,o,c,t,e,s]),h=A.useMemo(()=>bWe(d,o),[d,o]),m=TWe(d);return A.createElement(A.Fragment,null,f.map(p=>A.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),h.map(p=>A.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),m.map(({key:p,link:g})=>A.createElement("link",{key:p,nonce:n.nonce,...g,crossOrigin:g.crossOrigin??n.crossOrigin})))}function AWe(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var RWe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{RWe&&(window.__reactRouterVersion="7.13.0")}catch{}function IWe({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=A.useRef();i.current==null&&(i.current=lVe({window:r,v5Compat:!0}));let o=i.current,[s,a]=A.useState({action:o.action,location:o.location}),l=A.useCallback(u=>{n===!1?a(u):A.startTransition(()=>a(u))},[n]);return A.useLayoutEffect(()=>o.listen(l),[o,l]),A.createElement(iWe,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:o,unstable_useTransitions:n})}var nwe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rwe=A.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d,unstable_defaultShouldRevalidate:f,...h},m){let{basename:p,unstable_useTransitions:g}=A.useContext(Qu),v=typeof u=="string"&&nwe.test(u),y=q1e(u,p);u=y.to;let w=s2(u,{relative:i}),[_,E,S]=EWe(r,h),T=NWe(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d,unstable_defaultShouldRevalidate:f,unstable_useTransitions:g});function k(I){t&&t(I),I.defaultPrevented||T(I)}let R=A.createElement("a",{...h,...S,href:y.absoluteURL||w,onClick:y.isExternal||o?t:k,ref:AWe(m,E),target:l,"data-discover":!v&&n==="render"?"true":void 0});return _&&!v?A.createElement(A.Fragment,null,R,A.createElement(SWe,{page:w})):R});rwe.displayName="Link";var DWe=A.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...u},c){let d=IT(s,{relative:u.relative}),f=qa(),h=A.useContext(X4),{navigator:m,basename:p}=A.useContext(Qu),g=h!=null&&jWe(d)&&a===!0,v=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,y=f.pathname,w=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;n||(y=y.toLowerCase(),w=w?w.toLowerCase():null,v=v.toLowerCase()),w&&p&&(w=sm(w,p)||w);const _=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let E=y===v||!i&&y.startsWith(v)&&y.charAt(_)==="/",S=w!=null&&(w===v||!i&&w.startsWith(v)&&w.charAt(v.length)==="/"),T={isActive:E,isPending:S,isTransitioning:g},k=E?t:void 0,R;typeof r=="function"?R=r(T):R=[r,E?"active":null,S?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(T):o;return A.createElement(rwe,{...u,"aria-current":k,className:R,ref:c,style:I,to:s,viewTransition:a},typeof l=="function"?l(T):l)});DWe.displayName="NavLink";var PWe=A.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:s=DD,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:d,unstable_defaultShouldRevalidate:f,...h},m)=>{let{unstable_useTransitions:p}=A.useContext(Qu),g=LWe(),v=FWe(a,{relative:u}),y=s.toLowerCase()==="get"?"get":"post",w=typeof a=="string"&&nwe.test(a),_=E=>{if(l&&l(E),E.defaultPrevented)return;E.preventDefault();let S=E.nativeEvent.submitter,T=S?.getAttribute("formmethod")||s,k=()=>g(S||E.currentTarget,{fetcherKey:t,method:T,navigate:n,replace:i,state:o,relative:u,preventScrollReset:c,viewTransition:d,unstable_defaultShouldRevalidate:f});p&&n!==!1?A.startTransition(()=>k()):k()};return A.createElement("form",{ref:m,method:y,action:v,onSubmit:r?l:_,...h,"data-discover":!w&&e==="render"?"true":void 0})});PWe.displayName="Form";function OWe(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iwe(e){let t=A.useContext(oC);return Xi(t,OWe(e)),t}function NWe(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s,unstable_defaultShouldRevalidate:a,unstable_useTransitions:l}={}){let u=ca(),c=qa(),d=IT(e,{relative:o});return A.useCallback(f=>{if(cWe(f,t)){f.preventDefault();let h=n!==void 0?n:o2(c)===o2(d),m=()=>u(e,{replace:h,state:r,preventScrollReset:i,relative:o,viewTransition:s,unstable_defaultShouldRevalidate:a});l?A.startTransition(()=>m()):m()}},[c,u,d,n,r,t,e,i,o,s,a,l])}function au(e){Pc(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=A.useRef(U7(e)),n=A.useRef(!1),r=qa(),i=A.useMemo(()=>dWe(r.search,n.current?null:t.current),[r.search]),o=ca(),s=A.useCallback((a,l)=>{const u=U7(typeof a=="function"?a(new URLSearchParams(i)):a);n.current=!0,o("?"+u,l)},[o,i]);return[i,s]}var MWe=0,$We=()=>`__${String(++MWe)}__`;function LWe(){let{router:e}=iwe("useSubmit"),{basename:t}=A.useContext(Qu),n=ZVe(),r=e.fetch,i=e.navigate;return A.useCallback(async(o,s={})=>{let{action:a,method:l,encType:u,formData:c,body:d}=pWe(o,t);if(s.navigate===!1){let f=s.fetcherKey||$We();await r(f,n,s.action||a,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await i(s.action||a,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,i,t,n])}function FWe(e,{relative:t}={}){let{basename:n}=A.useContext(Qu),r=A.useContext(Gc);Xi(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...IT(e||".",{relative:t})},s=qa();if(e==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let c=a.toString();o.search=c?`?${c}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:qp([n,o.pathname])),o2(o)}function jWe(e,{relative:t}={}){let n=A.useContext(W1e);Xi(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=iwe("useViewTransitionState"),i=IT(e,{relative:t});if(!n.isTransitioning)return!1;let o=sm(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=sm(n.nextLocation.pathname,r)||n.nextLocation.pathname;return A3(i.pathname,s)!=null||A3(i.pathname,o)!=null}const aG=A.createContext(null);aG.displayName="@mantine/modals/ModalsContext";function BWe(){const e=A.useContext(aG);if(!e)throw new Error("[@mantine/modals] useModals hook was called outside of context, wrap your app with ModalsProvider component");return e}function zWe({id:e,cancelProps:t,confirmProps:n,labels:r={cancel:"",confirm:""},closeOnConfirm:i=!0,closeOnCancel:o=!0,groupProps:s,onCancel:a,onConfirm:l,children:u}){const{cancel:c,confirm:d}=r,f=BWe(),h=p=>{typeof t?.onClick=="function"&&t?.onClick(p),typeof a=="function"&&a(),o&&f.closeModal(e)},m=p=>{typeof n?.onClick=="function"&&n?.onClick(p),typeof l=="function"&&l(),i&&f.closeModal(e)};return b.jsxs(b.Fragment,{children:[u&&b.jsx(De,{mb:"md",children:u}),b.jsxs(ln,{mt:u?0:"md",justify:"flex-end",...s,children:[b.jsx(Mt,{variant:"default",...t,onClick:h,children:t?.children||c}),b.jsx(Mt,{...n,onClick:m,children:n?.children||d})]})]})}const[UWe,lG]=iFe("mantine-modals"),Jie=e=>{const t=e.modalId||Qg();return lG("openConfirmModal")({...e,modalId:t}),t};lG("closeModal");lG("closeAllModals");function Zie(e,t){t&&e.type==="confirm"&&e.props.onCancel?.(),e.props.onClose?.()}function HWe(e,t){switch(t.type){case"OPEN":return{current:t.modal,modals:[...e.modals,t.modal]};case"CLOSE":{const n=e.modals.find(i=>i.id===t.modalId);if(!n)return e;Zie(n,t.canceled);const r=e.modals.filter(i=>i.id!==t.modalId);return{current:r[r.length-1]||e.current,modals:r}}case"CLOSE_ALL":return e.modals.length?(e.modals.concat().reverse().forEach(n=>{Zie(n,t.canceled)}),{current:e.current,modals:[]}):e;case"UPDATE":{const{modalId:n,newProps:r}=t,i=e.modals.map(s=>s.id!==n?s:s.type==="content"||s.type==="confirm"?{...s,props:{...s.props,...r}}:s.type==="context"?{...s,props:{...s.props,...r,innerProps:{...s.props.innerProps,...r.innerProps}}}:s),o=e.current?.id===n&&i.find(s=>s.id===n)||e.current;return{...e,modals:i,current:o}}default:return e}}function qWe(e){if(!e)return{confirmProps:{},modalProps:{}};const{id:t,children:n,onCancel:r,onConfirm:i,closeOnConfirm:o,closeOnCancel:s,cancelProps:a,confirmProps:l,groupProps:u,labels:c,...d}=e;return{confirmProps:{id:t,children:n,onCancel:r,onConfirm:i,closeOnConfirm:o,closeOnCancel:s,cancelProps:a,confirmProps:l,groupProps:u,labels:c},modalProps:{id:t,...d}}}function VWe({children:e,modalProps:t,labels:n,modals:r}){const[i,o]=A.useReducer(HWe,{modals:[],current:null}),s=A.useRef(i);s.current=i;const a=A.useCallback(y=>{o({type:"CLOSE_ALL",canceled:y})},[s,o]),l=A.useCallback(({modalId:y,...w})=>{const _=y||Qg();return o({type:"OPEN",modal:{id:_,type:"content",props:w}}),_},[o]),u=A.useCallback(({modalId:y,...w})=>{const _=y||Qg();return o({type:"OPEN",modal:{id:_,type:"confirm",props:w}}),_},[o]),c=A.useCallback((y,{modalId:w,..._})=>{const E=w||Qg();return o({type:"OPEN",modal:{id:E,type:"context",props:_,ctx:y}}),E},[o]),d=A.useCallback((y,w)=>{o({type:"CLOSE",modalId:y,canceled:w})},[s,o]),f=A.useCallback(({modalId:y,...w})=>{o({type:"UPDATE",modalId:y,newProps:w})},[o]),h=A.useCallback(({modalId:y,...w})=>{o({type:"UPDATE",modalId:y,newProps:w})},[o]);UWe({openModal:l,openConfirmModal:u,openContextModal:({modal:y,...w})=>c(y,w),closeModal:d,closeContextModal:d,closeAllModals:a,updateModal:f,updateContextModal:h});const m={modalProps:t||{},modals:i.modals,openModal:l,openConfirmModal:u,openContextModal:c,closeModal:d,closeContextModal:d,closeAll:a,updateModal:f,updateContextModal:h},p=()=>{const y=s.current.current;switch(y?.type){case"context":{const{innerProps:w,..._}=y.props,E=r[y.ctx];return{modalProps:_,content:b.jsx(E,{innerProps:w,context:m,id:y.id})}}case"confirm":{const{modalProps:w,confirmProps:_}=qWe(y.props);return{modalProps:w,content:b.jsx(zWe,{..._,id:y.id,labels:y.props.labels||n})}}case"content":{const{children:w,..._}=y.props;return{modalProps:_,content:w}}default:return{modalProps:{},content:null}}},{modalProps:g,content:v}=p();return b.jsxs(aG.Provider,{value:m,children:[b.jsx(ni,{zIndex:ou("modal")+1,...t,...g,opened:i.modals.length>0,onClose:()=>d(i.current?.id),children:v}),e]})}var WWe={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};const dt=(e,t,n,r)=>{const i=A.forwardRef(({color:o="currentColor",size:s=24,stroke:a=2,title:l,className:u,children:c,...d},f)=>A.createElement("svg",{ref:f,...WWe[e],width:s,height:s,className:["tabler-icon",`tabler-icon-${t}`,u].join(" "),...e==="filled"?{fill:o}:{strokeWidth:a,stroke:o},...d},[l&&A.createElement("title",{key:"svg-title"},l),...r.map(([h,m])=>A.createElement(h,m)),...Array.isArray(c)?c:[c]]));return i.displayName=`${n}`,i};const GWe=[["path",{d:"M14 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M4 6l8 0",key:"svg-1"}],["path",{d:"M16 6l4 0",key:"svg-2"}],["path",{d:"M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-3"}],["path",{d:"M4 12l2 0",key:"svg-4"}],["path",{d:"M10 12l10 0",key:"svg-5"}],["path",{d:"M17 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-6"}],["path",{d:"M4 18l11 0",key:"svg-7"}],["path",{d:"M19 18l1 0",key:"svg-8"}]],YWe=dt("outline","adjustments-horizontal","AdjustmentsHorizontal",GWe);const KWe=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],owe=dt("outline","alert-circle","AlertCircle",KWe);const XWe=[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],Ru=dt("outline","alert-triangle","AlertTriangle",XWe);const QWe=[["path",{d:"M6 4l-3 3l3 3",key:"svg-0"}],["path",{d:"M18 4l3 3l-3 3",key:"svg-1"}],["path",{d:"M4 14m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-2"}],["path",{d:"M10 7h-7",key:"svg-3"}],["path",{d:"M21 7h-7",key:"svg-4"}]],JWe=dt("outline","arrow-autofit-content","ArrowAutofitContent",QWe);const ZWe=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]],H7=dt("outline","arrow-left","ArrowLeft",ZWe);const eGe=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]],eoe=dt("outline","arrow-right","ArrowRight",eGe);const tGe=[["path",{d:"M21 17l-18 0",key:"svg-0"}],["path",{d:"M6 10l-3 -3l3 -3",key:"svg-1"}],["path",{d:"M3 7l18 0",key:"svg-2"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-3"}]],nGe=dt("outline","arrows-left-right","ArrowsLeftRight",tGe);const rGe=[["path",{d:"M18 4l3 3l-3 3",key:"svg-0"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5",key:"svg-2"}],["path",{d:"M21 7h-5a4.978 4.978 0 0 0 -3 1m-4 8a4.984 4.984 0 0 1 -3 1h-3",key:"svg-3"}]],iGe=dt("outline","arrows-shuffle","ArrowsShuffle",rGe);const oGe=[["path",{d:"M3 9l4 -4l4 4m-4 -4v14",key:"svg-0"}],["path",{d:"M21 15l-4 4l-4 -4m4 4v-14",key:"svg-1"}]],sGe=dt("outline","arrows-sort","ArrowsSort",oGe);const aGe=[["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M16 12v1.5a2.5 2.5 0 0 0 5 0v-1.5a9 9 0 1 0 -5.5 8.28",key:"svg-1"}]],lGe=dt("outline","at","At",aGe);const uGe=[["path",{d:"M4 4h16",key:"svg-0"}],["path",{d:"M4 20h16",key:"svg-1"}]],cGe=dt("outline","baseline-density-large","BaselineDensityLarge",uGe);const dGe=[["path",{d:"M4 20h16",key:"svg-0"}],["path",{d:"M4 12h16",key:"svg-1"}],["path",{d:"M4 4h16",key:"svg-2"}]],fGe=dt("outline","baseline-density-medium","BaselineDensityMedium",dGe);const hGe=[["path",{d:"M4 3h16",key:"svg-0"}],["path",{d:"M4 9h16",key:"svg-1"}],["path",{d:"M4 15h16",key:"svg-2"}],["path",{d:"M4 21h16",key:"svg-3"}]],pGe=dt("outline","baseline-density-small","BaselineDensitySmall",hGe);const mGe=[["path",{d:"M6 20a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-0"}],["path",{d:"M16 4a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-1"}],["path",{d:"M16 20a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-2"}],["path",{d:"M11 12a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-3"}],["path",{d:"M21 12a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-4"}],["path",{d:"M5.058 18.306l2.88 -4.606",key:"svg-5"}],["path",{d:"M10.061 10.303l2.877 -4.604",key:"svg-6"}],["path",{d:"M10.065 13.705l2.876 4.6",key:"svg-7"}],["path",{d:"M15.063 5.7l2.881 4.61",key:"svg-8"}]],gGe=dt("outline","binary-tree","BinaryTree",mGe);const yGe=[["path",{d:"M7 3m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M17 17v2a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h2",key:"svg-1"}]],vGe=dt("outline","box-multiple","BoxMultiple",yGe);const bGe=[["path",{d:"M15.5 13a3.5 3.5 0 0 0 -3.5 3.5v1a3.5 3.5 0 0 0 7 0v-1.8",key:"svg-0"}],["path",{d:"M8.5 13a3.5 3.5 0 0 1 3.5 3.5v1a3.5 3.5 0 0 1 -7 0v-1.8",key:"svg-1"}],["path",{d:"M17.5 16a3.5 3.5 0 0 0 0 -7h-.5",key:"svg-2"}],["path",{d:"M19 9.3v-2.8a3.5 3.5 0 0 0 -7 0",key:"svg-3"}],["path",{d:"M6.5 16a3.5 3.5 0 0 1 0 -7h.5",key:"svg-4"}],["path",{d:"M5 9.3v-2.8a3.5 3.5 0 0 1 7 0v10",key:"svg-5"}]],wGe=dt("outline","brain","Brain",bGe);const xGe=[["path",{d:"M4.53 17.05l6.15 -11.72h-.02c.38 -.74 1.28 -1.02 2.01 -.63c.26 .14 .48 .36 .62 .62l1.06 2.01",key:"svg-0"}],["path",{d:"M15.47 6.45c.58 -.59 1.53 -.59 2.11 -.01c.22 .22 .36 .5 .41 .81l1.5 9.11c.1 .62 -.2 1.24 -.76 1.54l-6.07 2.9c-.46 .25 -1.01 .26 -1.46 0l-6.02 -2.92c-.55 -.31 -.85 -.92 -.75 -1.54l1.96 -12.04c.12 -.82 .89 -1.38 1.7 -1.25c.46 .07 .87 .36 1.09 .77l1.24 1.76",key:"svg-1"}],["path",{d:"M4.57 17.18l10.93 -10.68",key:"svg-2"}]],swe=dt("outline","brand-firebase","BrandFirebase",xGe);const CGe=[["path",{d:"M12 9h-7a2 2 0 0 0 -2 2v4a2 2 0 0 0 2 2h3",key:"svg-0"}],["path",{d:"M12 15h7a2 2 0 0 0 2 -2v-4a2 2 0 0 0 -2 -2h-3",key:"svg-1"}],["path",{d:"M8 9v-4a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v5a2 2 0 0 1 -2 2h-4a2 2 0 0 0 -2 2v5a2 2 0 0 0 2 2h4a2 2 0 0 0 2 -2v-4",key:"svg-2"}],["path",{d:"M11 6l0 .01",key:"svg-3"}],["path",{d:"M13 18l0 .01",key:"svg-4"}]],_Ge=dt("outline","brand-python","BrandPython",CGe);const EGe=[["path",{d:"M4 14h8v7l8 -11h-8v-7z",key:"svg-0"}]],uG=dt("outline","brand-supabase","BrandSupabase",EGe);const SGe=[["path",{d:"M4 8h16",key:"svg-0"}],["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M8 4v4",key:"svg-2"}]],TGe=dt("outline","browser","Browser",SGe);const kGe=[["path",{d:"M7 10h10",key:"svg-0"}],["path",{d:"M9 14h5",key:"svg-1"}],["path",{d:"M12.4 3a5.34 5.34 0 0 1 4.906 3.239a5.333 5.333 0 0 1 -1.195 10.6a4.26 4.26 0 0 1 -5.28 1.863l-3.831 2.298v-3.134a2.668 2.668 0 0 1 -1.795 -3.773a4.8 4.8 0 0 1 2.908 -8.933a5.33 5.33 0 0 1 4.287 -2.16",key:"svg-2"}]],AGe=dt("outline","bubble-text","BubbleText",kGe);const RGe=[["path",{d:"M12 3v5m4 4h5",key:"svg-0"}],["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-1"}],["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-2"}]],IGe=dt("outline","chart-donut-2","ChartDonut2",RGe);const DGe=[["path",{d:"M18 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M6 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M6 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-2"}],["path",{d:"M18 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-3"}],["path",{d:"M8 18h8",key:"svg-4"}],["path",{d:"M18 20v1",key:"svg-5"}],["path",{d:"M18 3v1",key:"svg-6"}],["path",{d:"M6 20v1",key:"svg-7"}],["path",{d:"M6 10v-7",key:"svg-8"}],["path",{d:"M12 3v18",key:"svg-9"}],["path",{d:"M18 8v8",key:"svg-10"}],["path",{d:"M8 12h13",key:"svg-11"}],["path",{d:"M21 6h-1",key:"svg-12"}],["path",{d:"M16 6h-13",key:"svg-13"}],["path",{d:"M3 12h1",key:"svg-14"}],["path",{d:"M20 18h1",key:"svg-15"}],["path",{d:"M3 18h1",key:"svg-16"}],["path",{d:"M6 14v2",key:"svg-17"}]],PGe=dt("outline","chart-grid-dots","ChartGridDots",DGe);const OGe=[["path",{d:"M3 3v18h18",key:"svg-0"}],["path",{d:"M20 18v3",key:"svg-1"}],["path",{d:"M16 16v5",key:"svg-2"}],["path",{d:"M12 13v8",key:"svg-3"}],["path",{d:"M8 16v5",key:"svg-4"}],["path",{d:"M3 11c6 0 5 -5 9 -5s3 5 9 5",key:"svg-5"}]],awe=dt("outline","chart-histogram","ChartHistogram",OGe);const NGe=[["path",{d:"M10 3.2a9 9 0 1 0 10.8 10.8a1 1 0 0 0 -1 -1h-6.8a2 2 0 0 1 -2 -2v-7a.9 .9 0 0 0 -1 -.8",key:"svg-0"}],["path",{d:"M15 3.5a9 9 0 0 1 5.5 5.5h-4.5a1 1 0 0 1 -1 -1v-4.5",key:"svg-1"}]],MGe=dt("outline","chart-pie","ChartPie",NGe);const $Ge=[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]],Ch=dt("outline","check","Check",$Ge);const LGe=[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]],J4=dt("outline","chevron-down","ChevronDown",LGe);const FGe=[["path",{d:"M7 6v12",key:"svg-0"}],["path",{d:"M18 6l-6 6l6 6",key:"svg-1"}]],jGe=dt("outline","chevron-left-pipe","ChevronLeftPipe",FGe);const BGe=[["path",{d:"M15 6l-6 6l6 6",key:"svg-0"}]],zGe=dt("outline","chevron-left","ChevronLeft",BGe);const UGe=[["path",{d:"M6 6l6 6l-6 6",key:"svg-0"}],["path",{d:"M17 5v13",key:"svg-1"}]],HGe=dt("outline","chevron-right-pipe","ChevronRightPipe",UGe);const qGe=[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]],lwe=dt("outline","chevron-right","ChevronRight",qGe);const VGe=[["path",{d:"M6 15l6 -6l6 6",key:"svg-0"}]],uwe=dt("outline","chevron-up","ChevronUp",VGe);const WGe=[["path",{d:"M7 7l5 5l5 -5",key:"svg-0"}],["path",{d:"M7 13l5 5l5 -5",key:"svg-1"}]],GGe=dt("outline","chevrons-down","ChevronsDown",WGe);const YGe=[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M10 10l4 4m0 -4l-4 4",key:"svg-1"}]],KGe=dt("outline","circle-x","CircleX",YGe);const XGe=[["path",{d:"M8 6h12",key:"svg-0"}],["path",{d:"M6 12h12",key:"svg-1"}],["path",{d:"M4 18h12",key:"svg-2"}]],QGe=dt("outline","clear-all","ClearAll",XGe);const JGe=[["path",{d:"M9 12h6",key:"svg-0"}],["path",{d:"M12 9v6",key:"svg-1"}],["path",{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2",key:"svg-2"}],["path",{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2",key:"svg-3"}]],ZGe=dt("outline","code-plus","CodePlus",JGe);const eYe=[["path",{d:"M4 6l5.5 0",key:"svg-0"}],["path",{d:"M4 10l5.5 0",key:"svg-1"}],["path",{d:"M4 14l5.5 0",key:"svg-2"}],["path",{d:"M4 18l5.5 0",key:"svg-3"}],["path",{d:"M14.5 6l5.5 0",key:"svg-4"}],["path",{d:"M14.5 10l5.5 0",key:"svg-5"}],["path",{d:"M14.5 14l5.5 0",key:"svg-6"}],["path",{d:"M14.5 18l5.5 0",key:"svg-7"}]],tYe=dt("outline","columns","Columns",eYe);const nYe=[["path",{d:"M7 9.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-1"}],["path",{d:"M4.012 16.737a2 2 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-2"}],["path",{d:"M11 14l2 2l4 -4",key:"svg-3"}]],rYe=dt("outline","copy-check","CopyCheck",nYe);const iYe=[["path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]],Z4=dt("outline","copy","Copy",iYe);const oYe=[["path",{d:"M12 13m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M13.45 11.55l2.05 -2.05",key:"svg-1"}],["path",{d:"M6.4 20a9 9 0 1 1 11.2 0z",key:"svg-2"}]],sYe=dt("outline","dashboard","Dashboard",oYe);const aYe=[["path",{d:"M4 6c0 1.657 3.582 3 8 3s8 -1.343 8 -3s-3.582 -3 -8 -3s-8 1.343 -8 3",key:"svg-0"}],["path",{d:"M4 6v6c0 1.657 3.582 3 8 3c1.118 0 2.183 -.086 3.15 -.241",key:"svg-1"}],["path",{d:"M20 12v-6",key:"svg-2"}],["path",{d:"M4 12v6c0 1.657 3.582 3 8 3c.157 0 .312 -.002 .466 -.005",key:"svg-3"}],["path",{d:"M16 19h6",key:"svg-4"}],["path",{d:"M19 16l3 3l-3 3",key:"svg-5"}]],lYe=dt("outline","database-export","DatabaseExport",aYe);const uYe=[["path",{d:"M12 6m-8 0a8 3 0 1 0 16 0a8 3 0 1 0 -16 0",key:"svg-0"}],["path",{d:"M4 6v6a8 3 0 0 0 16 0v-6",key:"svg-1"}],["path",{d:"M4 12v6a8 3 0 0 0 16 0v-6",key:"svg-2"}]],R3=dt("outline","database","Database",uYe);const cYe=[["path",{d:"M13.5 16h-9.5a1 1 0 0 1 -1 -1v-10a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v7.5",key:"svg-0"}],["path",{d:"M7 20h5",key:"svg-1"}],["path",{d:"M9 16v4",key:"svg-2"}],["path",{d:"M19 16v6",key:"svg-3"}],["path",{d:"M22 19l-3 3l-3 -3",key:"svg-4"}]],cwe=dt("outline","device-desktop-down","DeviceDesktopDown",cYe);const dYe=[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]],fYe=dt("outline","device-floppy","DeviceFloppy",dYe);const hYe=[["path",{d:"M13 9a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-6a1 1 0 0 1 -1 -1v-10z",key:"svg-0"}],["path",{d:"M18 8v-3a1 1 0 0 0 -1 -1h-13a1 1 0 0 0 -1 1v12a1 1 0 0 0 1 1h9",key:"svg-1"}],["path",{d:"M16 9h2",key:"svg-2"}]],pYe=dt("outline","devices","Devices",hYe);const mYe=[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["circle",{cx:"8.5",cy:"8.5",r:".5",fill:"currentColor",key:"svg-1"}],["circle",{cx:"15.5",cy:"15.5",r:".5",fill:"currentColor",key:"svg-2"}],["circle",{cx:"12",cy:"12",r:".5",fill:"currentColor",key:"svg-3"}]],gYe=dt("outline","dice-3","Dice3",mYe);const yYe=[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["circle",{cx:"8.5",cy:"8.5",r:".5",fill:"currentColor",key:"svg-1"}],["circle",{cx:"15.5",cy:"8.5",r:".5",fill:"currentColor",key:"svg-2"}],["circle",{cx:"15.5",cy:"15.5",r:".5",fill:"currentColor",key:"svg-3"}],["circle",{cx:"8.5",cy:"15.5",r:".5",fill:"currentColor",key:"svg-4"}],["circle",{cx:"12",cy:"12",r:".5",fill:"currentColor",key:"svg-5"}]],vYe=dt("outline","dice-5","Dice5",yYe);const bYe=[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]],dwe=dt("outline","dots-vertical","DotsVertical",bYe);const wYe=[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]],fwe=dt("outline","dots","Dots",wYe);const xYe=[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 11l5 5l5 -5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]],CYe=dt("outline","download","Download",xYe);const _Ye=[["path",{d:"M19 11v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2",key:"svg-0"}],["path",{d:"M13 13l9 3l-4 2l-2 4l-3 -9",key:"svg-1"}],["path",{d:"M3 3l0 .01",key:"svg-2"}],["path",{d:"M7 3l0 .01",key:"svg-3"}],["path",{d:"M11 3l0 .01",key:"svg-4"}],["path",{d:"M15 3l0 .01",key:"svg-5"}],["path",{d:"M3 7l0 .01",key:"svg-6"}],["path",{d:"M3 11l0 .01",key:"svg-7"}],["path",{d:"M3 15l0 .01",key:"svg-8"}]],EYe=dt("outline","drag-drop","DragDrop",_Ye);const SYe=[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]],I3=dt("outline","edit","Edit",SYe);const TYe=[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]],kYe=dt("outline","external-link","ExternalLink",TYe);const AYe=[["path",{d:"M10.585 10.587a2 2 0 0 0 2.829 2.828",key:"svg-0"}],["path",{d:"M16.681 16.673a8.717 8.717 0 0 1 -4.681 1.327c-3.6 0 -6.6 -2 -9 -6c1.272 -2.12 2.712 -3.678 4.32 -4.674m2.86 -1.146a9.055 9.055 0 0 1 1.82 -.18c3.6 0 6.6 2 9 6c-.666 1.11 -1.379 2.067 -2.138 2.87",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]],RYe=dt("outline","eye-off","EyeOff",AYe);const IYe=[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6",key:"svg-1"}]],DYe=dt("outline","eye","Eye",IYe);const PYe=[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M10 13l-1 2l1 2",key:"svg-2"}],["path",{d:"M14 13l1 2l-1 2",key:"svg-3"}]],OYe=dt("outline","file-code","FileCode",PYe);const NYe=[["path",{d:"M12 20l-3 1v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v1.5",key:"svg-0"}],["path",{d:"M19.001 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M19.001 15.5v1.5",key:"svg-2"}],["path",{d:"M19.001 21v1.5",key:"svg-3"}],["path",{d:"M22.032 17.25l-1.299 .75",key:"svg-4"}],["path",{d:"M17.27 20l-1.3 .75",key:"svg-5"}],["path",{d:"M15.97 17.25l1.3 .75",key:"svg-6"}],["path",{d:"M20.733 20l1.3 .75",key:"svg-7"}]],MYe=dt("outline","filter-cog","FilterCog",NYe);const $Ye=[["path",{d:"M8 4h12v2.172a2 2 0 0 1 -.586 1.414l-3.914 3.914m-.5 3.5v4l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]],LYe=dt("outline","filter-off","FilterOff",$Ye);const FYe=[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z",key:"svg-0"}]],jYe=dt("outline","filter","Filter",FYe);const BYe=[["path",{d:"M8 4h10a2 2 0 0 1 2 2v10m-.586 3.414a2 2 0 0 1 -1.414 .586h-12a2 2 0 0 1 -2 -2v-12c0 -.547 .22 -1.043 .576 -1.405",key:"svg-0"}],["path",{d:"M7 14l3 -3l2 2l.5 -.5m2 -2l.5 -.5l2 2",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]],hwe=dt("outline","graph-off","GraphOff",BYe);const zYe=[["path",{d:"M4 18v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M7 14l3 -3l2 2l3 -3l2 2",key:"svg-1"}]],pwe=dt("outline","graph","Graph",zYe);const UYe=[["path",{d:"M5 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-4"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-5"}],["path",{d:"M5 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-6"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-7"}],["path",{d:"M19 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-8"}]],HYe=dt("outline","grid-dots","GridDots",UYe);const qYe=[["path",{d:"M5 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M5 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M12 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}],["path",{d:"M19 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-4"}],["path",{d:"M19 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-5"}]],VYe=dt("outline","grip-horizontal","GripHorizontal",qYe);const WYe=[["path",{d:"M8 13v-8.5a1.5 1.5 0 0 1 3 0v7.5",key:"svg-0"}],["path",{d:"M11 11.5v-2a1.5 1.5 0 0 1 3 0v2.5",key:"svg-1"}],["path",{d:"M14 10.5a1.5 1.5 0 0 1 3 0v1.5",key:"svg-2"}],["path",{d:"M17 11.5a1.5 1.5 0 0 1 3 0v4.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7l-.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47",key:"svg-3"}],["path",{d:"M5 3l-1 -1",key:"svg-4"}],["path",{d:"M4 7h-1",key:"svg-5"}],["path",{d:"M14 3l1 -1",key:"svg-6"}],["path",{d:"M15 6h1",key:"svg-7"}]],GYe=dt("outline","hand-click","HandClick",WYe);const YYe=[["path",{d:"M6 20v-2a6 6 0 1 1 12 0v2a1 1 0 0 1 -1 1h-10a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M6 4v2a6 6 0 1 0 12 0v-2a1 1 0 0 0 -1 -1h-10a1 1 0 0 0 -1 1z",key:"svg-1"}]],KYe=dt("outline","hourglass-empty","HourglassEmpty",YYe);const XYe=[["path",{d:"M13 16v-8l2 5l2 -5v8",key:"svg-0"}],["path",{d:"M1 16v-8",key:"svg-1"}],["path",{d:"M5 8v8",key:"svg-2"}],["path",{d:"M1 12h4",key:"svg-3"}],["path",{d:"M7 8h4",key:"svg-4"}],["path",{d:"M9 8v8",key:"svg-5"}],["path",{d:"M20 8v8h3",key:"svg-6"}]],QYe=dt("outline","html","Html",XYe);const JYe=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]],kc=dt("outline","info-circle","InfoCircle",JYe);const ZYe=[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M12 4l0 16",key:"svg-1"}]],eKe=dt("outline","layout-columns","LayoutColumns",ZYe);const tKe=[["path",{d:"M17.5 15.5m-3.5 0a3.5 3.5 0 1 0 7 0a3.5 3.5 0 1 0 -7 0",key:"svg-0"}],["path",{d:"M3 19v-10.5a3.5 3.5 0 0 1 7 0v10.5",key:"svg-1"}],["path",{d:"M3 13h7",key:"svg-2"}],["path",{d:"M21 12v7",key:"svg-3"}]],nKe=dt("outline","letter-case","LetterCase",tKe);const rKe=[["path",{d:"M3.5 5.5l1.5 1.5l2.5 -2.5",key:"svg-0"}],["path",{d:"M3.5 11.5l1.5 1.5l2.5 -2.5",key:"svg-1"}],["path",{d:"M3.5 17.5l1.5 1.5l2.5 -2.5",key:"svg-2"}],["path",{d:"M11 6l9 0",key:"svg-3"}],["path",{d:"M11 12l9 0",key:"svg-4"}],["path",{d:"M11 18l9 0",key:"svg-5"}]],mwe=dt("outline","list-check","ListCheck",rKe);const iKe=[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]],oKe=dt("outline","mail","Mail",iKe);const sKe=[["path",{d:"M4 8v-2a2 2 0 0 1 2 -2h2",key:"svg-0"}],["path",{d:"M4 16v2a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v2",key:"svg-2"}],["path",{d:"M16 20h2a2 2 0 0 0 2 -2v-2",key:"svg-3"}]],aKe=dt("outline","maximize","Maximize",sKe);const lKe=[["path",{d:"M3 3l18 18",key:"svg-0"}],["path",{d:"M9 5a3 3 0 0 1 6 0v5a3 3 0 0 1 -.13 .874m-2 2a3 3 0 0 1 -3.87 -2.872v-1",key:"svg-1"}],["path",{d:"M5 10a7 7 0 0 0 10.846 5.85m2 -2a6.967 6.967 0 0 0 1.152 -3.85",key:"svg-2"}],["path",{d:"M8 21l8 0",key:"svg-3"}],["path",{d:"M12 17l0 4",key:"svg-4"}]],toe=dt("outline","microphone-off","MicrophoneOff",lKe);const uKe=[["path",{d:"M9 2m0 3a3 3 0 0 1 3 -3h0a3 3 0 0 1 3 3v5a3 3 0 0 1 -3 3h0a3 3 0 0 1 -3 -3z",key:"svg-0"}],["path",{d:"M5 10a7 7 0 0 0 14 0",key:"svg-1"}],["path",{d:"M8 21l8 0",key:"svg-2"}],["path",{d:"M12 17l0 4",key:"svg-3"}]],noe=dt("outline","microphone","Microphone",uKe);const cKe=[["path",{d:"M15 19v-2a2 2 0 0 1 2 -2h2",key:"svg-0"}],["path",{d:"M15 5v2a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M5 15h2a2 2 0 0 1 2 2v2",key:"svg-2"}],["path",{d:"M5 9h2a2 2 0 0 0 2 -2v-2",key:"svg-3"}]],dKe=dt("outline","minimize","Minimize",cKe);const fKe=[["path",{d:"M3 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-0"}],["path",{d:"M9 17v-13h10v8",key:"svg-1"}],["path",{d:"M9 8h10",key:"svg-2"}],["path",{d:"M19 16v6",key:"svg-3"}],["path",{d:"M22 19l-3 3l-3 -3",key:"svg-4"}]],gwe=dt("outline","music-down","MusicDown",fKe);const hKe=[["path",{d:"M3 10l2 -2v8",key:"svg-0"}],["path",{d:"M9 8h3a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 0 -1 1v2a1 1 0 0 0 1 1h3",key:"svg-1"}],["path",{d:"M17 8h2.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-1.5h1.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-2.5",key:"svg-2"}]],pKe=dt("outline","number-123","Number123",hKe);const mKe=[["path",{d:"M12 21l-8 -4.5v-9l8 -4.5l8 4.5v4.5",key:"svg-0"}],["path",{d:"M12 12l8 -4.5",key:"svg-1"}],["path",{d:"M12 12v9",key:"svg-2"}],["path",{d:"M12 12l-8 -4.5",key:"svg-3"}],["path",{d:"M22 18h-7",key:"svg-4"}],["path",{d:"M18 15l-3 3l3 3",key:"svg-5"}]],gKe=dt("outline","package-import","PackageImport",mKe);const yKe=[["path",{d:"M12 21a9 9 0 0 1 0 -18c4.97 0 9 3.582 9 8c0 1.06 -.474 2.078 -1.318 2.828c-.844 .75 -1.989 1.172 -3.182 1.172h-2.5a2 2 0 0 0 -1 3.75a1.3 1.3 0 0 1 -1 2.25",key:"svg-0"}],["path",{d:"M8.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12.5 7.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M16.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}]],vKe=dt("outline","palette","Palette",yKe);const bKe=[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]],wKe=dt("outline","pencil","Pencil",bKe);const xKe=[["path",{d:"M3 3l18 18",key:"svg-0"}],["path",{d:"M15 4.5l-3.249 3.249m-2.57 1.433l-2.181 .818l-1.5 1.5l7 7l1.5 -1.5l.82 -2.186m1.43 -2.563l3.25 -3.251",key:"svg-1"}],["path",{d:"M9 15l-4.5 4.5",key:"svg-2"}],["path",{d:"M14.5 4l5.5 5.5",key:"svg-3"}]],CKe=dt("outline","pinned-off","PinnedOff",xKe);const _Ke=[["path",{d:"M9 4v6l-2 4v2h10v-2l-2 -4v-6",key:"svg-0"}],["path",{d:"M12 16l0 5",key:"svg-1"}],["path",{d:"M8 4l8 0",key:"svg-2"}]],EKe=dt("outline","pinned","Pinned",_Ke);const SKe=[["path",{d:"M20 16l-4 4",key:"svg-0"}],["path",{d:"M7 12l5 5l-1.5 1.5a3.536 3.536 0 1 1 -5 -5l1.5 -1.5z",key:"svg-1"}],["path",{d:"M17 12l-5 -5l1.5 -1.5a3.536 3.536 0 1 1 5 5l-1.5 1.5z",key:"svg-2"}],["path",{d:"M3 21l2.5 -2.5",key:"svg-3"}],["path",{d:"M18.5 5.5l2.5 -2.5",key:"svg-4"}],["path",{d:"M10 11l-2 2",key:"svg-5"}],["path",{d:"M13 14l-2 2",key:"svg-6"}],["path",{d:"M16 16l4 4",key:"svg-7"}]],TKe=dt("outline","plug-connected-x","PlugConnectedX",SKe);const kKe=[["path",{d:"M10 20.777a8.942 8.942 0 0 1 -2.48 -.969",key:"svg-0"}],["path",{d:"M14 3.223a9.003 9.003 0 0 1 0 17.554",key:"svg-1"}],["path",{d:"M4.579 17.093a8.961 8.961 0 0 1 -1.227 -2.592",key:"svg-2"}],["path",{d:"M3.124 10.5c.16 -.95 .468 -1.85 .9 -2.675l.169 -.305",key:"svg-3"}],["path",{d:"M6.907 4.579a8.954 8.954 0 0 1 3.093 -1.356",key:"svg-4"}]],ywe=dt("outline","progress","Progress",kKe);const AKe=[["path",{d:"M14 3l-9.371 3.749a1 1 0 0 0 -.629 .928v11.323a1 1 0 0 0 1 1h14a1 1 0 0 0 1 -1v-11a1 1 0 0 0 -1 -1h-14.5",key:"svg-0"}],["path",{d:"M4 12h16",key:"svg-1"}],["path",{d:"M7 12v-2",key:"svg-2"}],["path",{d:"M17 16v.01",key:"svg-3"}],["path",{d:"M13 16v.01",key:"svg-4"}]],RKe=dt("outline","radio","Radio",AKe);const IKe=[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]],vwe=dt("outline","refresh","Refresh",IKe);const DKe=[["path",{d:"M3.06 13a9 9 0 1 0 .49 -4.087",key:"svg-0"}],["path",{d:"M3 4.001v5h5",key:"svg-1"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]],PKe=dt("outline","restore","Restore",DKe);const OKe=[["path",{d:"M6 2h4v4m-4 0h-1v-1",key:"svg-0"}],["path",{d:"M15 11v-1h5v4h-2",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h2",key:"svg-4"}],["path",{d:"M7.5 7.5v2.5",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}],["path",{d:"M3 3l18 18",key:"svg-7"}]],NKe=dt("outline","schema-off","SchemaOff",OKe);const MKe=[["path",{d:"M5 2h5v4h-5z",key:"svg-0"}],["path",{d:"M15 10h5v4h-5z",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h5",key:"svg-4"}],["path",{d:"M7.5 6v4",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}]],bwe=dt("outline","schema","Schema",MKe);const $Ke=[["path",{d:"M5.039 5.062a7 7 0 0 0 9.91 9.89m1.584 -2.434a7 7 0 0 0 -9.038 -9.057",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]],LKe=dt("outline","search-off","SearchOff",$Ke);const FKe=[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]],jKe=dt("outline","search","Search",FKe);const BKe=[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 11l3 3l3 -3",key:"svg-1"}]],zKe=dt("outline","select","Select",BKe);const UKe=[["path",{d:"M12.004 21c-.732 .002 -1.466 -.437 -1.679 -1.317a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.306 .317 1.64 1.78 1.004 2.684",key:"svg-0"}],["path",{d:"M12 15a3 3 0 1 0 0 -6a3 3 0 0 0 0 6z",key:"svg-1"}],["path",{d:"M16 22l5 -5",key:"svg-2"}],["path",{d:"M21 21.5v-4.5h-4.5",key:"svg-3"}]],HKe=dt("outline","settings-share","SettingsShare",UKe);const qKe=[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]],wwe=dt("outline","settings","Settings",qKe);const VKe=[["path",{d:"M4 6l7 0",key:"svg-0"}],["path",{d:"M4 12l7 0",key:"svg-1"}],["path",{d:"M4 18l9 0",key:"svg-2"}],["path",{d:"M15 9l3 -3l3 3",key:"svg-3"}],["path",{d:"M18 6l0 12",key:"svg-4"}]],WKe=dt("outline","sort-ascending","SortAscending",VKe);const GKe=[["path",{d:"M4 6l9 0",key:"svg-0"}],["path",{d:"M4 12l7 0",key:"svg-1"}],["path",{d:"M4 18l7 0",key:"svg-2"}],["path",{d:"M15 15l3 3l3 -3",key:"svg-3"}],["path",{d:"M18 6l0 12",key:"svg-4"}]],YKe=dt("outline","sort-descending","SortDescending",GKe);const KKe=[["path",{d:"M8 10a2 2 0 0 1 2 -2h9a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-9a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M16 8v-3a2 2 0 0 0 -2 -2h-9a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h3",key:"svg-1"}]],XKe=dt("outline","squares","Squares",KKe);const QKe=[["path",{d:"M12.5 21h-7.5a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v7.5",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}],["path",{d:"M16 19h6",key:"svg-3"}],["path",{d:"M19 16l3 3l-3 3",key:"svg-4"}]],xwe=dt("outline","table-export","TableExport",QKe);const JKe=[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]],ZKe=dt("outline","table","Table",JKe);const eXe=[["path",{d:"M3 8v4.172a2 2 0 0 0 .586 1.414l5.71 5.71a2.41 2.41 0 0 0 3.408 0l3.592 -3.592a2.41 2.41 0 0 0 0 -3.408l-5.71 -5.71a2 2 0 0 0 -1.414 -.586h-4.172a2 2 0 0 0 -2 2z",key:"svg-0"}],["path",{d:"M18 19l1.592 -1.592a4.82 4.82 0 0 0 0 -6.816l-4.592 -4.592",key:"svg-1"}],["path",{d:"M7 10h-.01",key:"svg-2"}]],tXe=dt("outline","tags","Tags",eXe);const nXe=[["path",{d:"M4 7h16",key:"svg-0"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-1"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-2"}],["path",{d:"M10 12l4 4m0 -4l-4 4",key:"svg-3"}]],Cwe=dt("outline","trash-x","TrashX",nXe);const rXe=[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-3"}]],cG=dt("outline","user-plus","UserPlus",rXe);const iXe=[["path",{d:"M12 18l.01 0",key:"svg-0"}],["path",{d:"M9.172 15.172a4 4 0 0 1 5.656 0",key:"svg-1"}],["path",{d:"M6.343 12.343a7.963 7.963 0 0 1 3.864 -2.14m4.163 .155a7.965 7.965 0 0 1 3.287 2",key:"svg-2"}],["path",{d:"M3.515 9.515a12 12 0 0 1 3.544 -2.455m3.101 -.92a12 12 0 0 1 10.325 3.374",key:"svg-3"}],["path",{d:"M3 3l18 18",key:"svg-4"}]],oXe=dt("outline","wifi-off","WifiOff",iXe);const sXe=[["path",{d:"M12 18l.01 0",key:"svg-0"}],["path",{d:"M9.172 15.172a4 4 0 0 1 5.656 0",key:"svg-1"}],["path",{d:"M6.343 12.343a8 8 0 0 1 11.314 0",key:"svg-2"}],["path",{d:"M3.515 9.515c4.686 -4.687 12.284 -4.687 17 0",key:"svg-3"}]],aXe=dt("outline","wifi","Wifi",sXe);const lXe=[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]],am=dt("outline","x","X",lXe);const uXe=[["path",{d:"M12 2a9.96 9.96 0 0 1 6.29 2.226a1 1 0 0 1 .04 1.52l-1.51 1.362a1 1 0 0 1 -1.265 .06a6 6 0 1 0 2.103 6.836l.001 -.004h-3.66a1 1 0 0 1 -.992 -.883l-.007 -.117v-2a1 1 0 0 1 1 -1h6.945a1 1 0 0 1 .994 .89c.04 .367 .061 .737 .061 1.11c0 5.523 -4.477 10 -10 10s-10 -4.477 -10 -10s4.477 -10 10 -10z",key:"svg-0"}]],cXe=dt("filled","brand-google-filled","BrandGoogleFilled",uXe);const dXe=[["path",{d:"M9 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z",key:"svg-0"}],["path",{d:"M17 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z",key:"svg-1"}]],fXe=dt("filled","player-pause-filled","PlayerPauseFilled",dXe);const hXe=[["path",{d:"M6 4v16a1 1 0 0 0 1.524 .852l13 -8a1 1 0 0 0 0 -1.704l-13 -8a1 1 0 0 0 -1.524 .852z",key:"svg-0"}]],pXe=dt("filled","player-play-filled","PlayerPlayFilled",hXe);function _we(e){const t=e.split("/")||[];return t[t.length-1].replace(/\.[^\.]+$/,"").replace(".","_").replace(" ","_").replace("/","_")}const Hi="/template/";function roe(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,o=!1;for(;!o;){r===-1&&(r=n.length,o=!0);const s=n.slice(i,r).trim();(s||!o)&&t.push(s),i=r+1,r=n.indexOf(",",i)}return t}function Ewe(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const mXe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,gXe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,yXe={};function ioe(e,t){return(yXe.jsx?gXe:mXe).test(e)}const vXe=/[ \t\n\f\r]/g;function bXe(e){return typeof e=="object"?e.type==="text"?ooe(e.value):!1:ooe(e)}function ooe(e){return e.replace(vXe,"")===""}let DT=class{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}};DT.prototype.normal={};DT.prototype.property={};DT.prototype.space=void 0;function Swe(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new DT(n,r,t)}function q7(e){return e.toLowerCase()}let lu=class{constructor(t,n){this.attribute=n,this.property=t}};lu.prototype.attribute="";lu.prototype.booleanish=!1;lu.prototype.boolean=!1;lu.prototype.commaOrSpaceSeparated=!1;lu.prototype.commaSeparated=!1;lu.prototype.defined=!1;lu.prototype.mustUseProperty=!1;lu.prototype.number=!1;lu.prototype.overloadedBoolean=!1;lu.prototype.property="";lu.prototype.spaceSeparated=!1;lu.prototype.space=void 0;let wXe=0;const ir=Tb(),qo=Tb(),V7=Tb(),Tt=Tb(),ki=Tb(),Tw=Tb(),wu=Tb();function Tb(){return 2**++wXe}const W7=Object.freeze(Object.defineProperty({__proto__:null,boolean:ir,booleanish:qo,commaOrSpaceSeparated:wu,commaSeparated:Tw,number:Tt,overloadedBoolean:V7,spaceSeparated:ki},Symbol.toStringTag,{value:"Module"})),$F=Object.keys(W7);let dG=class extends lu{constructor(t,n,r,i){let o=-1;if(super(t,n),soe(this,"space",i),typeof r=="number")for(;++o<$F.length;){const s=$F[o];soe(this,$F[o],(r&W7[s])===W7[s])}}};dG.prototype.defined=!0;function soe(e,t,n){n&&(e[t]=n)}function aC(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new dG(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[q7(r)]=r,n[q7(o.attribute)]=r}return new DT(t,n,e.space)}const Twe=aC({properties:{ariaActiveDescendant:null,ariaAtomic:qo,ariaAutoComplete:null,ariaBusy:qo,ariaChecked:qo,ariaColCount:Tt,ariaColIndex:Tt,ariaColSpan:Tt,ariaControls:ki,ariaCurrent:null,ariaDescribedBy:ki,ariaDetails:null,ariaDisabled:qo,ariaDropEffect:ki,ariaErrorMessage:null,ariaExpanded:qo,ariaFlowTo:ki,ariaGrabbed:qo,ariaHasPopup:null,ariaHidden:qo,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ki,ariaLevel:Tt,ariaLive:null,ariaModal:qo,ariaMultiLine:qo,ariaMultiSelectable:qo,ariaOrientation:null,ariaOwns:ki,ariaPlaceholder:null,ariaPosInSet:Tt,ariaPressed:qo,ariaReadOnly:qo,ariaRelevant:null,ariaRequired:qo,ariaRoleDescription:ki,ariaRowCount:Tt,ariaRowIndex:Tt,ariaRowSpan:Tt,ariaSelected:qo,ariaSetSize:Tt,ariaSort:null,ariaValueMax:Tt,ariaValueMin:Tt,ariaValueNow:Tt,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function kwe(e,t){return t in e?e[t]:t}function Awe(e,t){return kwe(e,t.toLowerCase())}const xXe=aC({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Tw,acceptCharset:ki,accessKey:ki,action:null,allow:null,allowFullScreen:ir,allowPaymentRequest:ir,allowUserMedia:ir,alt:null,as:null,async:ir,autoCapitalize:null,autoComplete:ki,autoFocus:ir,autoPlay:ir,blocking:ki,capture:null,charSet:null,checked:ir,cite:null,className:ki,cols:Tt,colSpan:null,content:null,contentEditable:qo,controls:ir,controlsList:ki,coords:Tt|Tw,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ir,defer:ir,dir:null,dirName:null,disabled:ir,download:V7,draggable:qo,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ir,formTarget:null,headers:ki,height:Tt,hidden:V7,high:Tt,href:null,hrefLang:null,htmlFor:ki,httpEquiv:ki,id:null,imageSizes:null,imageSrcSet:null,inert:ir,inputMode:null,integrity:null,is:null,isMap:ir,itemId:null,itemProp:ki,itemRef:ki,itemScope:ir,itemType:ki,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ir,low:Tt,manifest:null,max:null,maxLength:Tt,media:null,method:null,min:null,minLength:Tt,multiple:ir,muted:ir,name:null,nonce:null,noModule:ir,noValidate:ir,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ir,optimum:Tt,pattern:null,ping:ki,placeholder:null,playsInline:ir,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ir,referrerPolicy:null,rel:ki,required:ir,reversed:ir,rows:Tt,rowSpan:Tt,sandbox:ki,scope:null,scoped:ir,seamless:ir,selected:ir,shadowRootClonable:ir,shadowRootDelegatesFocus:ir,shadowRootMode:null,shape:null,size:Tt,sizes:null,slot:null,span:Tt,spellCheck:qo,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Tt,step:null,style:null,tabIndex:Tt,target:null,title:null,translate:null,type:null,typeMustMatch:ir,useMap:null,value:qo,width:Tt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ki,axis:null,background:null,bgColor:null,border:Tt,borderColor:null,bottomMargin:Tt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ir,declare:ir,event:null,face:null,frame:null,frameBorder:null,hSpace:Tt,leftMargin:Tt,link:null,longDesc:null,lowSrc:null,marginHeight:Tt,marginWidth:Tt,noResize:ir,noHref:ir,noShade:ir,noWrap:ir,object:null,profile:null,prompt:null,rev:null,rightMargin:Tt,rules:null,scheme:null,scrolling:qo,standby:null,summary:null,text:null,topMargin:Tt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Tt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ir,disableRemotePlayback:ir,prefix:null,property:null,results:Tt,security:null,unselectable:null},space:"html",transform:Awe}),CXe=aC({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:wu,accentHeight:Tt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Tt,amplitude:Tt,arabicForm:null,ascent:Tt,attributeName:null,attributeType:null,azimuth:Tt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Tt,by:null,calcMode:null,capHeight:Tt,className:ki,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Tt,diffuseConstant:Tt,direction:null,display:null,dur:null,divisor:Tt,dominantBaseline:null,download:ir,dx:null,dy:null,edgeMode:null,editable:null,elevation:Tt,enableBackground:null,end:null,event:null,exponent:Tt,externalResourcesRequired:null,fill:null,fillOpacity:Tt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Tw,g2:Tw,glyphName:Tw,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Tt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Tt,horizOriginX:Tt,horizOriginY:Tt,id:null,ideographic:Tt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Tt,k:Tt,k1:Tt,k2:Tt,k3:Tt,k4:Tt,kernelMatrix:wu,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Tt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Tt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Tt,overlineThickness:Tt,paintOrder:null,panose1:null,path:null,pathLength:Tt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ki,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Tt,pointsAtY:Tt,pointsAtZ:Tt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:wu,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:wu,rev:wu,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:wu,requiredFeatures:wu,requiredFonts:wu,requiredFormats:wu,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Tt,specularExponent:Tt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Tt,strikethroughThickness:Tt,string:null,stroke:null,strokeDashArray:wu,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Tt,strokeOpacity:Tt,strokeWidth:null,style:null,surfaceScale:Tt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:wu,tabIndex:Tt,tableValues:null,target:null,targetX:Tt,targetY:Tt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:wu,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Tt,underlineThickness:Tt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Tt,values:null,vAlphabetic:Tt,vMathematical:Tt,vectorEffect:null,vHanging:Tt,vIdeographic:Tt,version:null,vertAdvY:Tt,vertOriginX:Tt,vertOriginY:Tt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Tt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:kwe}),Rwe=aC({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Iwe=aC({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Awe}),Dwe=aC({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),_Xe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},EXe=/[A-Z]/g,aoe=/-[a-z]/g,SXe=/^data[-\w.:]+$/i;function TXe(e,t){const n=q7(t);let r=t,i=lu;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&SXe.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(aoe,AXe);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!aoe.test(o)){let s=o.replace(EXe,kXe);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=dG}return new i(r,t)}function kXe(e){return"-"+e.toLowerCase()}function AXe(e){return e.charAt(1).toUpperCase()}const RXe=Swe([Twe,xXe,Rwe,Iwe,Dwe],"html"),fG=Swe([Twe,CXe,Rwe,Iwe,Dwe],"svg");function loe(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function Pwe(e){return e.join(" ").trim()}var I1={},LF,uoe;function IXe(){if(uoe)return LF;uoe=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,u="/",c="*",d="",f="comment",h="declaration";LF=function(p,g){if(typeof p!="string")throw new TypeError("First argument must be a string");if(!p)return[];g=g||{};var v=1,y=1;function w(M){var O=M.match(t);O&&(v+=O.length);var j=M.lastIndexOf(l);y=~j?M.length-j:y+M.length}function _(){var M={line:v,column:y};return function(O){return O.position=new E(M),k(),O}}function E(M){this.start=M,this.end={line:v,column:y},this.source=g.source}E.prototype.content=p;function S(M){var O=new Error(g.source+":"+v+":"+y+": "+M);if(O.reason=M,O.filename=g.source,O.line=v,O.column=y,O.source=p,!g.silent)throw O}function T(M){var O=M.exec(p);if(O){var j=O[0];return w(j),p=p.slice(j.length),O}}function k(){T(n)}function R(M){var O;for(M=M||[];O=I();)O!==!1&&M.push(O);return M}function I(){var M=_();if(!(u!=p.charAt(0)||c!=p.charAt(1))){for(var O=2;d!=p.charAt(O)&&(c!=p.charAt(O)||u!=p.charAt(O+1));)++O;if(O+=2,d===p.charAt(O-1))return S("End of comment missing");var j=p.slice(2,O-2);return y+=2,w(j),p=p.slice(O),y+=2,M({type:f,comment:j})}}function P(){var M=_(),O=T(r);if(O){if(I(),!T(i))return S("property missing ':'");var j=T(o),U=M({type:h,property:m(O[0].replace(e,d)),value:j?m(j[0].replace(e,d)):d});return T(s),U}}function N(){var M=[];R(M);for(var O;O=P();)O!==!1&&(M.push(O),R(M));return M}return k(),N()};function m(p){return p?p.replace(a,d):d}return LF}var coe;function DXe(){if(coe)return I1;coe=1;var e=I1&&I1.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(I1,"__esModule",{value:!0}),I1.default=n;var t=e(IXe());function n(r,i){var o=null;if(!r||typeof r!="string")return o;var s=(0,t.default)(r),a=typeof i=="function";return s.forEach(function(l){if(l.type==="declaration"){var u=l.property,c=l.value;a?i(u,c,l):c&&(o=o||{},o[u]=c)}}),o}return I1}var R_={},doe;function PXe(){if(doe)return R_;doe=1,Object.defineProperty(R_,"__esModule",{value:!0}),R_.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(u){return!u||n.test(u)||e.test(u)},s=function(u,c){return c.toUpperCase()},a=function(u,c){return"".concat(c,"-")},l=function(u,c){return c===void 0&&(c={}),o(u)?u:(u=u.toLowerCase(),c.reactCompat?u=u.replace(i,a):u=u.replace(r,a),u.replace(t,s))};return R_.camelCase=l,R_}var I_,foe;function OXe(){if(foe)return I_;foe=1;var e=I_&&I_.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(DXe()),n=PXe();function r(i,o){var s={};return!i||typeof i!="string"||(0,t.default)(i,function(a,l){a&&l&&(s[(0,n.camelCase)(a,o)]=l)}),s}return r.default=r,I_=r,I_}var NXe=OXe();const MXe=Xo(NXe),eM=Owe("end"),Bh=Owe("start");function Owe(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function $Xe(e){const t=Bh(e),n=eM(e);if(t&&n)return{start:t,end:n}}function cS(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?hoe(e.position):"start"in e||"end"in e?hoe(e):"line"in e||"column"in e?G7(e):""}function G7(e){return poe(e&&e.line)+":"+poe(e&&e.column)}function hoe(e){return G7(e&&e.start)+"-"+G7(e&&e.end)}function poe(e){return e&&typeof e=="number"?e:1}class Va extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},s=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(s=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const a=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=cS(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=s&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Va.prototype.file="";Va.prototype.name="";Va.prototype.reason="";Va.prototype.message="";Va.prototype.stack="";Va.prototype.column=void 0;Va.prototype.line=void 0;Va.prototype.ancestors=void 0;Va.prototype.cause=void 0;Va.prototype.fatal=void 0;Va.prototype.place=void 0;Va.prototype.ruleId=void 0;Va.prototype.source=void 0;const hG={}.hasOwnProperty,LXe=new Map,FXe=/[A-Z]/g,jXe=new Set(["table","tbody","thead","tfoot","tr"]),BXe=new Set(["td","th"]),Nwe="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function zXe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=KXe(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=YXe(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?fG:RXe,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=Mwe(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function Mwe(e,t,n){if(t.type==="element")return UXe(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return HXe(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return VXe(e,t,n);if(t.type==="mdxjsEsm")return qXe(e,t);if(t.type==="root")return WXe(e,t,n);if(t.type==="text")return GXe(e,t)}function UXe(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=fG,e.schema=i),e.ancestors.push(t);const o=Lwe(e,t.tagName,!1),s=XXe(e,t);let a=mG(e,t);return jXe.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!bXe(l):!0})),$we(e,s,o,t),pG(s,a),e.ancestors.pop(),e.schema=r,e.create(t,o,s,n)}function HXe(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}a2(e,t.position)}function qXe(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);a2(e,t.position)}function VXe(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=fG,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:Lwe(e,t.name,!0),s=QXe(e,t),a=mG(e,t);return $we(e,s,o,t),pG(s,a),e.ancestors.pop(),e.schema=r,e.create(t,o,s,n)}function WXe(e,t,n){const r={};return pG(r,mG(e,t)),e.create(t,e.Fragment,r,n)}function GXe(e,t){return t.value}function $we(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function pG(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function YXe(e,t,n){return r;function r(i,o,s,a){const u=Array.isArray(s.children)?n:t;return a?u(o,s,a):u(o,s)}}function KXe(e,t){return n;function n(r,i,o,s){const a=Array.isArray(o.children),l=Bh(r);return t(i,o,s,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function XXe(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&hG.call(t.properties,i)){const o=JXe(e,i,t.properties[i]);if(o){const[s,a]=o;e.tableCellAlignToStyle&&s==="align"&&typeof a=="string"&&BXe.has(t.tagName)?r=a:n[s]=a}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function QXe(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const s=o.expression;s.type;const a=s.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else a2(e,t.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,o=e.evaluater.evaluateExpression(a.expression)}else a2(e,t.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function mG(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:LXe;for(;++r<t.children.length;){const o=t.children[r];let s;if(e.passKeys){const l=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(l){const u=i.get(l)||0;s=l+"-"+u,i.set(l,u+1)}}const a=Mwe(e,o,s);a!==void 0&&n.push(a)}return n}function JXe(e,t,n){const r=TXe(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Ewe(n):Pwe(n)),r.property==="style"){let i=typeof n=="object"?n:ZXe(e,String(n));return e.stylePropertyNameCase==="css"&&(i=eQe(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?_Xe[r.property]||r.property:r.attribute,n]}}function ZXe(e,t){try{return MXe(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Va("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=Nwe+"#cannot-parse-style-attribute",i}}function Lwe(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,s;for(;++o<i.length;){const a=ioe(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};s=s?{type:"MemberExpression",object:s,property:a,computed:!!(o&&a.type==="Literal"),optional:!1}:a}r=s}else r=ioe(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return hG.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);a2(e)}function a2(e,t){const n=new Va("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Nwe+"#cannot-handle-mdx-estrees-without-createevaluater",n}function eQe(e){const t={};let n;for(n in e)hG.call(e,n)&&(t[tQe(n)]=e[n]);return t}function tQe(e){let t=e.replace(FXe,nQe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function nQe(e){return"-"+e.toLowerCase()}const FF={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},rQe={};function gG(e,t){const n=rQe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Fwe(e,r,i)}function Fwe(e,t,n){if(iQe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return moe(e.children,t,n)}return Array.isArray(e)?moe(e,t,n):""}function moe(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Fwe(e[i],t,n);return r.join("")}function iQe(e){return!!(e&&typeof e=="object")}const goe=document.createElement("i");function yG(e){const t="&"+e+";";goe.innerHTML=t;const n=goe.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Nu(e,t,n,r){const i=e.length;let o=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);o<r.length;)s=r.slice(o,o+1e4),s.unshift(t,0),e.splice(...s),o+=1e4,t+=1e4}function pc(e,t){return e.length>0?(Nu(e,e.length,0,t),e):t}const yoe={}.hasOwnProperty;function jwe(e){const t={};let n=-1;for(;++n<e.length;)oQe(t,e[n]);return t}function oQe(e,t){let n;for(n in t){const i=(yoe.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let s;if(o)for(s in o){yoe.call(i,s)||(i[s]=[]);const a=o[s];sQe(i[s],Array.isArray(a)?a:a?[a]:[])}}}function sQe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Nu(e,0,0,r)}function Bwe(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function $d(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ul=q0(/[A-Za-z]/),Da=q0(/[\dA-Za-z]/),aQe=q0(/[#-'*+\--9=?A-Z^-~]/);function D3(e){return e!==null&&(e<32||e===127)}const Y7=q0(/\d/),lQe=q0(/[\dA-Fa-f]/),uQe=q0(/[!-/:-@[-`{-~]/);function In(e){return e!==null&&e<-2}function Ei(e){return e!==null&&(e<0||e===32)}function yr(e){return e===-2||e===-1||e===32}const tM=q0(new RegExp("\\p{P}|\\p{S}","u")),jv=q0(/\s/);function q0(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function lC(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let s="";if(o===37&&Da(e.charCodeAt(n+1))&&Da(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(s=String.fromCharCode(o));else if(o>55295&&o<57344){const a=e.charCodeAt(n+1);o<56320&&a>56319&&a<57344?(s=String.fromCharCode(o,a),i=1):s=""}else s=String.fromCharCode(o);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Pr(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(l){return yr(l)?(e.enter(n),a(l)):t(l)}function a(l){return yr(l)&&o++<i?(e.consume(l),a):(e.exit(n),t(l))}}const cQe={tokenize:dQe};function dQe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Pr(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),o(a)}function o(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(a)}function s(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return In(a)?(e.consume(a),e.exit("chunkText"),o):(e.consume(a),s)}}const fQe={tokenize:hQe},voe={tokenize:pQe};function hQe(e){const t=this,n=[];let r=0,i,o,s;return a;function a(w){if(r<n.length){const _=n[r];return t.containerState=_[1],e.attempt(_[0].continuation,l,u)(w)}return u(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&y();const _=t.events.length;let E=_,S;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){S=t.events[E][1].end;break}v(r);let T=_;for(;T<t.events.length;)t.events[T][1].end={...S},T++;return Nu(t.events,E+1,0,t.events.slice(_)),t.events.length=T,u(w)}return a(w)}function u(w){if(r===n.length){if(!i)return f(w);if(i.currentConstruct&&i.currentConstruct.concrete)return m(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(voe,c,d)(w)}function c(w){return i&&y(),v(r),f(w)}function d(w){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,m(w)}function f(w){return t.containerState={},e.attempt(voe,h,m)(w)}function h(w){return r++,n.push([t.currentConstruct,t.containerState]),f(w)}function m(w){if(w===null){i&&y(),v(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),p(w)}function p(w){if(w===null){g(e.exit("chunkFlow"),!0),v(0),e.consume(w);return}return In(w)?(e.consume(w),g(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(w),p)}function g(w,_){const E=t.sliceStream(w);if(_&&E.push(null),w.previous=o,o&&(o.next=w),o=w,i.defineSkip(w.start),i.write(E),t.parser.lazy[w.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<s&&(!i.events[S][1].end||i.events[S][1].end.offset>s))return;const T=t.events.length;let k=T,R,I;for(;k--;)if(t.events[k][0]==="exit"&&t.events[k][1].type==="chunkFlow"){if(R){I=t.events[k][1].end;break}R=!0}for(v(r),S=T;S<t.events.length;)t.events[S][1].end={...I},S++;Nu(t.events,k+1,0,t.events.slice(T)),t.events.length=S}}function v(w){let _=n.length;for(;_-- >w;){const E=n[_];t.containerState=E[1],E[0].exit.call(t,e)}n.length=w}function y(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function pQe(e,t,n){return Pr(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ix(e){if(e===null||Ei(e)||jv(e))return 1;if(tM(e))return 2}function nM(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const K7={name:"attention",resolveAll:mQe,tokenize:gQe};function mQe(e,t){let n=-1,r,i,o,s,a,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[r][1].end},f={...e[n][1].start};boe(d,-l),boe(f,l),s={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...e[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:f},o={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...a.end}},e[r][1].end={...s.start},e[n][1].start={...a.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=pc(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=pc(u,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",o,t]]),u=pc(u,nM(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=pc(u,[["exit",o,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=pc(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,Nu(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function gQe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=ix(r);let o;return s;function s(l){return o=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===o)return e.consume(l),a;const u=e.exit("attentionSequence"),c=ix(l),d=!c||c===2&&i||n.includes(l),f=!i||i===2&&c||n.includes(r);return u._open=!!(o===42?d:d&&(i||!f)),u._close=!!(o===42?f:f&&(c||!d)),t(l)}}function boe(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const yQe={name:"autolink",tokenize:vQe};function vQe(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(h){return ul(h)?(e.consume(h),s):h===64?n(h):u(h)}function s(h){return h===43||h===45||h===46||Da(h)?(r=1,a(h)):u(h)}function a(h){return h===58?(e.consume(h),r=0,l):(h===43||h===45||h===46||Da(h))&&r++<32?(e.consume(h),a):(r=0,u(h))}function l(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||D3(h)?n(h):(e.consume(h),l)}function u(h){return h===64?(e.consume(h),c):aQe(h)?(e.consume(h),u):n(h)}function c(h){return Da(h)?d(h):n(h)}function d(h){return h===46?(e.consume(h),r=0,c):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):f(h)}function f(h){if((h===45||Da(h))&&r++<63){const m=h===45?f:d;return e.consume(h),m}return n(h)}}const PT={partial:!0,tokenize:bQe};function bQe(e,t,n){return r;function r(o){return yr(o)?Pr(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||In(o)?t(o):n(o)}}const zwe={continuation:{tokenize:xQe},exit:CQe,name:"blockQuote",tokenize:wQe};function wQe(e,t,n){const r=this;return i;function i(s){if(s===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),o}return n(s)}function o(s){return yr(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function xQe(e,t,n){const r=this;return i;function i(s){return yr(s)?Pr(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):o(s)}function o(s){return e.attempt(zwe,t,n)(s)}}function CQe(e){e.exit("blockQuote")}const Uwe={name:"characterEscape",tokenize:_Qe};function _Qe(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return uQe(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const Hwe={name:"characterReference",tokenize:EQe};function EQe(e,t,n){const r=this;let i=0,o,s;return a;function a(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),l}function l(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),o=31,s=Da,c(d))}function u(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,s=lQe,c):(e.enter("characterReferenceValue"),o=7,s=Y7,c(d))}function c(d){if(d===59&&i){const f=e.exit("characterReferenceValue");return s===Da&&!yG(r.sliceSerialize(f))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(d)&&i++<o?(e.consume(d),c):n(d)}}const woe={partial:!0,tokenize:TQe},xoe={concrete:!0,name:"codeFenced",tokenize:SQe};function SQe(e,t,n){const r=this,i={partial:!0,tokenize:E};let o=0,s=0,a;return l;function l(S){return u(S)}function u(S){const T=r.events[r.events.length-1];return o=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,a=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(S)}function c(S){return S===a?(s++,e.consume(S),c):s<3?n(S):(e.exit("codeFencedFenceSequence"),yr(S)?Pr(e,d,"whitespace")(S):d(S))}function d(S){return S===null||In(S)?(e.exit("codeFencedFence"),r.interrupt?t(S):e.check(woe,p,_)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(S))}function f(S){return S===null||In(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(S)):yr(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Pr(e,h,"whitespace")(S)):S===96&&S===a?n(S):(e.consume(S),f)}function h(S){return S===null||In(S)?d(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(S))}function m(S){return S===null||In(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(S)):S===96&&S===a?n(S):(e.consume(S),m)}function p(S){return e.attempt(i,_,g)(S)}function g(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),v}function v(S){return o>0&&yr(S)?Pr(e,y,"linePrefix",o+1)(S):y(S)}function y(S){return S===null||In(S)?e.check(woe,p,_)(S):(e.enter("codeFlowValue"),w(S))}function w(S){return S===null||In(S)?(e.exit("codeFlowValue"),y(S)):(e.consume(S),w)}function _(S){return e.exit("codeFenced"),t(S)}function E(S,T,k){let R=0;return I;function I(j){return S.enter("lineEnding"),S.consume(j),S.exit("lineEnding"),P}function P(j){return S.enter("codeFencedFence"),yr(j)?Pr(S,N,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):N(j)}function N(j){return j===a?(S.enter("codeFencedFenceSequence"),M(j)):k(j)}function M(j){return j===a?(R++,S.consume(j),M):R>=s?(S.exit("codeFencedFenceSequence"),yr(j)?Pr(S,O,"whitespace")(j):O(j)):k(j)}function O(j){return j===null||In(j)?(S.exit("codeFencedFence"),T(j)):k(j)}}}function TQe(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),o)}function o(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const jF={name:"codeIndented",tokenize:AQe},kQe={partial:!0,tokenize:RQe};function AQe(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),Pr(e,o,"linePrefix",5)(u)}function o(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?l(u):In(u)?e.attempt(kQe,s,l)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||In(u)?(e.exit("codeFlowValue"),s(u)):(e.consume(u),a)}function l(u){return e.exit("codeIndented"),t(u)}}function RQe(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):In(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):Pr(e,o,"linePrefix",5)(s)}function o(s){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):In(s)?i(s):n(s)}}const IQe={name:"codeText",previous:PQe,resolve:DQe,tokenize:OQe};function DQe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function PQe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function OQe(e,t,n){let r=0,i,o;return s;function s(d){return e.enter("codeText"),e.enter("codeTextSequence"),a(d)}function a(d){return d===96?(e.consume(d),r++,a):(e.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),l):d===96?(o=e.enter("codeTextSequence"),i=0,c(d)):In(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||In(d)?(e.exit("codeTextData"),l(d)):(e.consume(d),u)}function c(d){return d===96?(e.consume(d),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(o.type="codeTextData",u(d))}}class NQe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&D_(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),D_(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),D_(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);D_(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);D_(this.left,n.reverse())}}}function D_(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function qwe(e){const t={};let n=-1,r,i,o,s,a,l,u;const c=new NQe(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,MQe(c,n)),n=t[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(s=c.get(o),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=o);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return Nu(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function MQe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const a=s.events,l=[],u={};let c,d,f=-1,h=n,m=0,p=0;const g=[p];for(;h;){for(;e.get(++i)[1]!==h;);o.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),d&&s.defineSkip(h.start),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(p=f+1,g.push(p),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(s.events=[],h?(h._tokenizer=void 0,h.previous=void 0):g.pop(),f=g.length;f--;){const v=a.slice(g[f],g[f+1]),y=o.pop();l.push([y,y+v.length-1]),e.splice(y,2,v)}for(l.reverse(),f=-1;++f<l.length;)u[m+l[f][0]]=m+l[f][1],m+=l[f][1]-l[f][0]-1;return u}const $Qe={resolve:FQe,tokenize:jQe},LQe={partial:!0,tokenize:BQe};function FQe(e){return qwe(e),e}function jQe(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?o(a):In(a)?e.check(LQe,s,o)(a):(e.consume(a),i)}function o(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function s(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function BQe(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Pr(e,o,"linePrefix")}function o(s){if(s===null||In(s))return n(s);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function Vwe(e,t,n,r,i,o,s,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return d;function d(v){return v===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(v),e.exit(o),f):v===null||v===32||v===41||D3(v)?n(v):(e.enter(r),e.enter(s),e.enter(a),e.enter("chunkString",{contentType:"string"}),p(v))}function f(v){return v===62?(e.enter(o),e.consume(v),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(v))}function h(v){return v===62?(e.exit("chunkString"),e.exit(a),f(v)):v===null||v===60||In(v)?n(v):(e.consume(v),v===92?m:h)}function m(v){return v===60||v===62||v===92?(e.consume(v),h):h(v)}function p(v){return!c&&(v===null||v===41||Ei(v))?(e.exit("chunkString"),e.exit(a),e.exit(s),e.exit(r),t(v)):c<u&&v===40?(e.consume(v),c++,p):v===41?(e.consume(v),c--,p):v===null||v===32||v===40||D3(v)?n(v):(e.consume(v),v===92?g:p)}function g(v){return v===40||v===41||v===92?(e.consume(v),p):p(v)}}function Wwe(e,t,n,r,i,o){const s=this;let a=0,l;return u;function u(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(o),c}function c(h){return a>999||h===null||h===91||h===93&&!l||h===94&&!a&&"_hiddenFootnoteSupport"in s.parser.constructs?n(h):h===93?(e.exit(o),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):In(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===null||h===91||h===93||In(h)||a++>999?(e.exit("chunkString"),c(h)):(e.consume(h),l||(l=!yr(h)),h===92?f:d)}function f(h){return h===91||h===92||h===93?(e.consume(h),a++,d):d(h)}}function Gwe(e,t,n,r,i,o){let s;return a;function a(f){return f===34||f===39||f===40?(e.enter(r),e.enter(i),e.consume(f),e.exit(i),s=f===40?41:f,l):n(f)}function l(f){return f===s?(e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):(e.enter(o),u(f))}function u(f){return f===s?(e.exit(o),l(s)):f===null?n(f):In(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),Pr(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===s||f===null||In(f)?(e.exit("chunkString"),u(f)):(e.consume(f),f===92?d:c)}function d(f){return f===s||f===92?(e.consume(f),c):c(f)}}function dS(e,t){let n;return r;function r(i){return In(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):yr(i)?Pr(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const zQe={name:"definition",tokenize:HQe},UQe={partial:!0,tokenize:qQe};function HQe(e,t,n){const r=this;let i;return o;function o(h){return e.enter("definition"),s(h)}function s(h){return Wwe.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function a(h){return i=$d(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),l):n(h)}function l(h){return Ei(h)?dS(e,u)(h):u(h)}function u(h){return Vwe(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return e.attempt(UQe,d,d)(h)}function d(h){return yr(h)?Pr(e,f,"whitespace")(h):f(h)}function f(h){return h===null||In(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function qQe(e,t,n){return r;function r(a){return Ei(a)?dS(e,i)(a):n(a)}function i(a){return Gwe(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function o(a){return yr(a)?Pr(e,s,"whitespace")(a):s(a)}function s(a){return a===null||In(a)?t(a):n(a)}}const VQe={name:"hardBreakEscape",tokenize:WQe};function WQe(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return In(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const GQe={name:"headingAtx",resolve:YQe,tokenize:KQe};function YQe(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Nu(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function KQe(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),o(c)}function o(c){return e.enter("atxHeadingSequence"),s(c)}function s(c){return c===35&&r++<6?(e.consume(c),s):c===null||Ei(c)?(e.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||In(c)?(e.exit("atxHeading"),t(c)):yr(c)?Pr(e,a,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||Ei(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),u)}}const XQe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Coe=["pre","script","style","textarea"],QQe={concrete:!0,name:"htmlFlow",resolveTo:eJe,tokenize:tJe},JQe={partial:!0,tokenize:rJe},ZQe={partial:!0,tokenize:nJe};function eJe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function tJe(e,t,n){const r=this;let i,o,s,a,l;return u;function u(B){return c(B)}function c(B){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(B),d}function d(B){return B===33?(e.consume(B),f):B===47?(e.consume(B),o=!0,p):B===63?(e.consume(B),i=3,r.interrupt?t:z):ul(B)?(e.consume(B),s=String.fromCharCode(B),g):n(B)}function f(B){return B===45?(e.consume(B),i=2,h):B===91?(e.consume(B),i=5,a=0,m):ul(B)?(e.consume(B),i=4,r.interrupt?t:z):n(B)}function h(B){return B===45?(e.consume(B),r.interrupt?t:z):n(B)}function m(B){const Y="CDATA[";return B===Y.charCodeAt(a++)?(e.consume(B),a===Y.length?r.interrupt?t:N:m):n(B)}function p(B){return ul(B)?(e.consume(B),s=String.fromCharCode(B),g):n(B)}function g(B){if(B===null||B===47||B===62||Ei(B)){const Y=B===47,Q=s.toLowerCase();return!Y&&!o&&Coe.includes(Q)?(i=1,r.interrupt?t(B):N(B)):XQe.includes(s.toLowerCase())?(i=6,Y?(e.consume(B),v):r.interrupt?t(B):N(B)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(B):o?y(B):w(B))}return B===45||Da(B)?(e.consume(B),s+=String.fromCharCode(B),g):n(B)}function v(B){return B===62?(e.consume(B),r.interrupt?t:N):n(B)}function y(B){return yr(B)?(e.consume(B),y):I(B)}function w(B){return B===47?(e.consume(B),I):B===58||B===95||ul(B)?(e.consume(B),_):yr(B)?(e.consume(B),w):I(B)}function _(B){return B===45||B===46||B===58||B===95||Da(B)?(e.consume(B),_):E(B)}function E(B){return B===61?(e.consume(B),S):yr(B)?(e.consume(B),E):w(B)}function S(B){return B===null||B===60||B===61||B===62||B===96?n(B):B===34||B===39?(e.consume(B),l=B,T):yr(B)?(e.consume(B),S):k(B)}function T(B){return B===l?(e.consume(B),l=null,R):B===null||In(B)?n(B):(e.consume(B),T)}function k(B){return B===null||B===34||B===39||B===47||B===60||B===61||B===62||B===96||Ei(B)?E(B):(e.consume(B),k)}function R(B){return B===47||B===62||yr(B)?w(B):n(B)}function I(B){return B===62?(e.consume(B),P):n(B)}function P(B){return B===null||In(B)?N(B):yr(B)?(e.consume(B),P):n(B)}function N(B){return B===45&&i===2?(e.consume(B),U):B===60&&i===1?(e.consume(B),q):B===62&&i===4?(e.consume(B),L):B===63&&i===3?(e.consume(B),z):B===93&&i===5?(e.consume(B),V):In(B)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(JQe,H,M)(B)):B===null||In(B)?(e.exit("htmlFlowData"),M(B)):(e.consume(B),N)}function M(B){return e.check(ZQe,O,H)(B)}function O(B){return e.enter("lineEnding"),e.consume(B),e.exit("lineEnding"),j}function j(B){return B===null||In(B)?M(B):(e.enter("htmlFlowData"),N(B))}function U(B){return B===45?(e.consume(B),z):N(B)}function q(B){return B===47?(e.consume(B),s="",W):N(B)}function W(B){if(B===62){const Y=s.toLowerCase();return Coe.includes(Y)?(e.consume(B),L):N(B)}return ul(B)&&s.length<8?(e.consume(B),s+=String.fromCharCode(B),W):N(B)}function V(B){return B===93?(e.consume(B),z):N(B)}function z(B){return B===62?(e.consume(B),L):B===45&&i===2?(e.consume(B),z):N(B)}function L(B){return B===null||In(B)?(e.exit("htmlFlowData"),H(B)):(e.consume(B),L)}function H(B){return e.exit("htmlFlow"),t(B)}}function nJe(e,t,n){const r=this;return i;function i(s){return In(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),o):n(s)}function o(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function rJe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(PT,t,n)}}const iJe={name:"htmlText",tokenize:oJe};function oJe(e,t,n){const r=this;let i,o,s;return a;function a(z){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(z),l}function l(z){return z===33?(e.consume(z),u):z===47?(e.consume(z),E):z===63?(e.consume(z),w):ul(z)?(e.consume(z),k):n(z)}function u(z){return z===45?(e.consume(z),c):z===91?(e.consume(z),o=0,m):ul(z)?(e.consume(z),y):n(z)}function c(z){return z===45?(e.consume(z),h):n(z)}function d(z){return z===null?n(z):z===45?(e.consume(z),f):In(z)?(s=d,q(z)):(e.consume(z),d)}function f(z){return z===45?(e.consume(z),h):d(z)}function h(z){return z===62?U(z):z===45?f(z):d(z)}function m(z){const L="CDATA[";return z===L.charCodeAt(o++)?(e.consume(z),o===L.length?p:m):n(z)}function p(z){return z===null?n(z):z===93?(e.consume(z),g):In(z)?(s=p,q(z)):(e.consume(z),p)}function g(z){return z===93?(e.consume(z),v):p(z)}function v(z){return z===62?U(z):z===93?(e.consume(z),v):p(z)}function y(z){return z===null||z===62?U(z):In(z)?(s=y,q(z)):(e.consume(z),y)}function w(z){return z===null?n(z):z===63?(e.consume(z),_):In(z)?(s=w,q(z)):(e.consume(z),w)}function _(z){return z===62?U(z):w(z)}function E(z){return ul(z)?(e.consume(z),S):n(z)}function S(z){return z===45||Da(z)?(e.consume(z),S):T(z)}function T(z){return In(z)?(s=T,q(z)):yr(z)?(e.consume(z),T):U(z)}function k(z){return z===45||Da(z)?(e.consume(z),k):z===47||z===62||Ei(z)?R(z):n(z)}function R(z){return z===47?(e.consume(z),U):z===58||z===95||ul(z)?(e.consume(z),I):In(z)?(s=R,q(z)):yr(z)?(e.consume(z),R):U(z)}function I(z){return z===45||z===46||z===58||z===95||Da(z)?(e.consume(z),I):P(z)}function P(z){return z===61?(e.consume(z),N):In(z)?(s=P,q(z)):yr(z)?(e.consume(z),P):R(z)}function N(z){return z===null||z===60||z===61||z===62||z===96?n(z):z===34||z===39?(e.consume(z),i=z,M):In(z)?(s=N,q(z)):yr(z)?(e.consume(z),N):(e.consume(z),O)}function M(z){return z===i?(e.consume(z),i=void 0,j):z===null?n(z):In(z)?(s=M,q(z)):(e.consume(z),M)}function O(z){return z===null||z===34||z===39||z===60||z===61||z===96?n(z):z===47||z===62||Ei(z)?R(z):(e.consume(z),O)}function j(z){return z===47||z===62||Ei(z)?R(z):n(z)}function U(z){return z===62?(e.consume(z),e.exit("htmlTextData"),e.exit("htmlText"),t):n(z)}function q(z){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),W}function W(z){return yr(z)?Pr(e,V,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):V(z)}function V(z){return e.enter("htmlTextData"),s(z)}}const vG={name:"labelEnd",resolveAll:uJe,resolveTo:cJe,tokenize:dJe},sJe={tokenize:fJe},aJe={tokenize:hJe},lJe={tokenize:pJe};function uJe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Nu(e,0,e.length,n),e}function cJe(e,t){let n=e.length,r=0,i,o,s,a;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[o][1].start},end:{...e[s][1].end}},c={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[s-2][1].start}};return a=[["enter",l,t],["enter",u,t]],a=pc(a,e.slice(o+1,o+r+3)),a=pc(a,[["enter",c,t]]),a=pc(a,nM(t.parser.constructs.insideSpan.null,e.slice(o+r+4,s-3),t)),a=pc(a,[["exit",c,t],e[s-2],e[s-1],["exit",u,t]]),a=pc(a,e.slice(s+1)),a=pc(a,[["exit",l,t]]),Nu(e,o,e.length,a),e}function dJe(e,t,n){const r=this;let i=r.events.length,o,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return a;function a(f){return o?o._inactive?d(f):(s=r.parser.defined.includes($d(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),l):n(f)}function l(f){return f===40?e.attempt(sJe,c,s?c:d)(f):f===91?e.attempt(aJe,c,s?u:d)(f):s?c(f):d(f)}function u(f){return e.attempt(lJe,c,d)(f)}function c(f){return t(f)}function d(f){return o._balanced=!0,n(f)}}function fJe(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return Ei(d)?dS(e,o)(d):o(d)}function o(d){return d===41?c(d):Vwe(e,s,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function s(d){return Ei(d)?dS(e,l)(d):c(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?Gwe(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function u(d){return Ei(d)?dS(e,c)(d):c(d)}function c(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function hJe(e,t,n){const r=this;return i;function i(a){return Wwe.call(r,e,o,s,"reference","referenceMarker","referenceString")(a)}function o(a){return r.parser.defined.includes($d(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function s(a){return n(a)}}function pJe(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const mJe={name:"labelStartImage",resolveAll:vG.resolveAll,tokenize:gJe};function gJe(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),o}function o(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),s):n(a)}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const yJe={name:"labelStartLink",resolveAll:vG.resolveAll,tokenize:vJe};function vJe(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const BF={name:"lineEnding",tokenize:bJe};function bJe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Pr(e,t,"linePrefix")}}const OD={name:"thematicBreak",tokenize:wJe};function wJe(e,t,n){let r=0,i;return o;function o(u){return e.enter("thematicBreak"),s(u)}function s(u){return i=u,a(u)}function a(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||In(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),yr(u)?Pr(e,a,"whitespace")(u):a(u))}}const jl={continuation:{tokenize:EJe},exit:TJe,name:"list",tokenize:_Je},xJe={partial:!0,tokenize:kJe},CJe={partial:!0,tokenize:SJe};function _Je(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return a;function a(h){const m=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:Y7(h)){if(r.containerState.type||(r.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(OD,n,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return n(h)}function l(h){return Y7(h)&&++s<10?(e.consume(h),l):(!r.interrupt||s<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(PT,r.interrupt?n:c,e.attempt(xJe,f,d))}function c(h){return r.containerState.initialBlankLine=!0,o++,f(h)}function d(h){return yr(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),f):n(h)}function f(h){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function EJe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(PT,i,o);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Pr(e,t,"listItemIndent",r.containerState.size+1)(a)}function o(a){return r.containerState.furtherBlankLines||!yr(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(CJe,t,s)(a))}function s(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Pr(e,e.attempt(jl,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function SJe(e,t,n){const r=this;return Pr(e,i,"listItemIndent",r.containerState.size+1);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(o):n(o)}}function TJe(e){e.exit(this.containerState.type)}function kJe(e,t,n){const r=this;return Pr(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const s=r.events[r.events.length-1];return!yr(o)&&s&&s[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const _oe={name:"setextUnderline",resolveTo:AJe,tokenize:RJe};function AJe(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",s,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function RJe(e,t,n){const r=this;let i;return o;function o(u){let c=r.events.length,d;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){d=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=u,s(u)):n(u)}function s(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),yr(u)?Pr(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||In(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const IJe={tokenize:DJe};function DJe(e){const t=this,n=e.attempt(PT,r,e.attempt(this.parser.constructs.flowInitial,i,Pr(e,e.attempt(this.parser.constructs.flow,i,e.attempt($Qe,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const PJe={resolveAll:Kwe()},OJe=Ywe("string"),NJe=Ywe("text");function Ywe(e){return{resolveAll:Kwe(e==="text"?MJe:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,s,a);return s;function s(c){return u(c)?o(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),o(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const d=i[c];let f=-1;if(d)for(;++f<d.length;){const h=d[f];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function Kwe(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function MJe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,s=-1,a=0,l;for(;o--;){const u=i[o];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)a++,s--;if(s)break;s=-1}else if(u===-2)l=!0,a++;else if(u!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const u={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?s:r.start._bufferIndex+s,_index:r.start._index+o,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const $Je={42:jl,43:jl,45:jl,48:jl,49:jl,50:jl,51:jl,52:jl,53:jl,54:jl,55:jl,56:jl,57:jl,62:zwe},LJe={91:zQe},FJe={[-2]:jF,[-1]:jF,32:jF},jJe={35:GQe,42:OD,45:[_oe,OD],60:QQe,61:_oe,95:OD,96:xoe,126:xoe},BJe={38:Hwe,92:Uwe},zJe={[-5]:BF,[-4]:BF,[-3]:BF,33:mJe,38:Hwe,42:K7,60:[yQe,iJe],91:yJe,92:[VQe,Uwe],93:vG,95:K7,96:IQe},UJe={null:[K7,PJe]},HJe={null:[42,95]},qJe={null:[]},VJe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:HJe,contentInitial:LJe,disable:qJe,document:$Je,flow:jJe,flowInitial:FJe,insideSpan:UJe,string:BJe,text:zJe},Symbol.toStringTag,{value:"Module"}));function WJe(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let s=[],a=[];const l={attempt:T(E),check:T(S),consume:y,enter:w,exit:_,interrupt:T(S,{interrupt:!0})},u={code:null,containerState:{},defineSkip:p,events:[],now:m,parser:e,previous:null,sliceSerialize:f,sliceStream:h,write:d};let c=t.tokenize.call(u,l);return t.resolveAll&&o.push(t),u;function d(P){return s=pc(s,P),g(),s[s.length-1]!==null?[]:(k(t,0),u.events=nM(o,u.events,u),u.events)}function f(P,N){return YJe(h(P),N)}function h(P){return GJe(s,P)}function m(){const{_bufferIndex:P,_index:N,line:M,column:O,offset:j}=r;return{_bufferIndex:P,_index:N,line:M,column:O,offset:j}}function p(P){i[P.line]=P.column,I()}function g(){let P;for(;r._index<s.length;){const N=s[r._index];if(typeof N=="string")for(P=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===P&&r._bufferIndex<N.length;)v(N.charCodeAt(r._bufferIndex));else v(N)}}function v(P){c=c(P)}function y(P){In(P)?(r.line++,r.column=1,r.offset+=P===-3?2:1,I()):P!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=P}function w(P,N){const M=N||{};return M.type=P,M.start=m(),u.events.push(["enter",M,u]),a.push(M),M}function _(P){const N=a.pop();return N.end=m(),u.events.push(["exit",N,u]),N}function E(P,N){k(P,N.from)}function S(P,N){N.restore()}function T(P,N){return M;function M(O,j,U){let q,W,V,z;return Array.isArray(O)?H(O):"tokenize"in O?H([O]):L(O);function L(ne){return ce;function ce(le){const ue=le!==null&&ne[le],ae=le!==null&&ne.null,te=[...Array.isArray(ue)?ue:ue?[ue]:[],...Array.isArray(ae)?ae:ae?[ae]:[]];return H(te)(le)}}function H(ne){return q=ne,W=0,ne.length===0?U:B(ne[W])}function B(ne){return ce;function ce(le){return z=R(),V=ne,ne.partial||(u.currentConstruct=ne),ne.name&&u.parser.constructs.disable.null.includes(ne.name)?Q():ne.tokenize.call(N?Object.assign(Object.create(u),N):u,l,Y,Q)(le)}}function Y(ne){return P(V,z),j}function Q(ne){return z.restore(),++W<q.length?B(q[W]):U}}}function k(P,N){P.resolveAll&&!o.includes(P)&&o.push(P),P.resolve&&Nu(u.events,N,u.events.length-N,P.resolve(u.events.slice(N),u)),P.resolveTo&&(u.events=P.resolveTo(u.events,u))}function R(){const P=m(),N=u.previous,M=u.currentConstruct,O=u.events.length,j=Array.from(a);return{from:O,restore:U};function U(){r=P,u.previous=N,u.currentConstruct=M,u.events.length=O,a=j,I()}}function I(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function GJe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,o)];else{if(s=e.slice(n,i),r>-1){const a=s[0];typeof a=="string"?s[0]=a.slice(r):s.shift()}o>0&&s.push(e[i].slice(0,o))}return s}function YJe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(o)}i=o===-2,r.push(s)}return r.join("")}function KJe(e){const r={constructs:jwe([VJe,...(e||{}).extensions||[]]),content:i(cQe),defined:[],document:i(fQe),flow:i(IJe),lazy:{},string:i(OJe),text:i(NJe)};return r;function i(o){return s;function s(a){return WJe(r,o,a)}}}function XJe(e){for(;!qwe(e););return e}const Eoe=/[\0\t\n\r]/g;function QJe(){let e=1,t="",n=!0,r;return i;function i(o,s,a){const l=[];let u,c,d,f,h;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(s||void 0).decode(o)),d=0,t="",n&&(o.charCodeAt(0)===65279&&d++,n=void 0);d<o.length;){if(Eoe.lastIndex=d,u=Eoe.exec(o),f=u&&u.index!==void 0?u.index:o.length,h=o.charCodeAt(f),!u){t=o.slice(d);break}if(h===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(o.slice(d,f)),e+=f-d),h){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}d=f+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const JJe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function ZJe(e){return e.replace(JJe,eZe)}function eZe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return Bwe(n.slice(o?2:1),o?16:10)}return yG(n)||e}const Xwe={}.hasOwnProperty;function tZe(e,t,n){return typeof t!="string"&&(n=t,t=void 0),nZe(n)(XJe(KJe(n).document().write(QJe()(e,t,!0))))}function nZe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(fe),autolinkProtocol:R,autolinkEmail:R,atxHeading:o(he),blockQuote:o(ae),characterEscape:R,characterReference:R,codeFenced:o(te),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:o(te,s),codeText:o(se,s),codeTextData:R,data:R,codeFlowValue:R,definition:o(we),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:o(X),hardBreakEscape:o(ge),hardBreakTrailing:o(ge),htmlFlow:o(re,s),htmlFlowData:R,htmlText:o(re,s),htmlTextData:R,image:o(ee),label:s,link:o(fe),listItem:o(Oe),listItemValue:f,listOrdered:o(Re,d),listUnordered:o(Re),paragraph:o(Ae),reference:B,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:o(he),strong:o(Se),thematicBreak:o(ke)},exit:{atxHeading:l(),atxHeadingSequence:E,autolink:l(),autolinkEmail:ue,autolinkProtocol:le,blockQuote:l(),characterEscapeValue:I,characterReferenceMarkerHexadecimal:Q,characterReferenceMarkerNumeric:Q,characterReferenceValue:ne,characterReference:ce,codeFenced:l(g),codeFencedFence:p,codeFencedFenceInfo:h,codeFencedFenceMeta:m,codeFlowValue:I,codeIndented:l(v),codeText:l(j),codeTextData:I,data:I,definition:l(),definitionDestinationString:_,definitionLabelString:y,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(N),hardBreakTrailing:l(N),htmlFlow:l(M),htmlFlowData:I,htmlText:l(O),htmlTextData:I,image:l(q),label:V,labelText:W,lineEnding:P,link:l(U),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Y,resourceDestinationString:z,resourceTitleString:L,resource:H,setextHeading:l(k),setextHeadingLineSequence:T,setextHeadingText:S,strong:l(),thematicBreak:l()}};Qwe(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(me){let Me={type:"root",children:[]};const ze={stack:[Me],tokenStack:[],config:t,enter:a,exit:u,buffer:s,resume:c,data:n},Xe=[];let tt=-1;for(;++tt<me.length;)if(me[tt][1].type==="listOrdered"||me[tt][1].type==="listUnordered")if(me[tt][0]==="enter")Xe.push(tt);else{const gt=Xe.pop();tt=i(me,gt,tt)}for(tt=-1;++tt<me.length;){const gt=t[me[tt][0]];Xwe.call(gt,me[tt][1].type)&&gt[me[tt][1].type].call(Object.assign({sliceSerialize:me[tt][2].sliceSerialize},ze),me[tt][1])}if(ze.tokenStack.length>0){const gt=ze.tokenStack[ze.tokenStack.length-1];(gt[1]||Soe).call(ze,void 0,gt[0])}for(Me.position={start:dg(me.length>0?me[0][1].start:{line:1,column:1,offset:0}),end:dg(me.length>0?me[me.length-2][1].end:{line:1,column:1,offset:0})},tt=-1;++tt<t.transforms.length;)Me=t.transforms[tt](Me)||Me;return Me}function i(me,Me,ze){let Xe=Me-1,tt=-1,gt=!1,qt,zt,_n,$t;for(;++Xe<=ze;){const dn=me[Xe];switch(dn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{dn[0]==="enter"?tt++:tt--,$t=void 0;break}case"lineEndingBlank":{dn[0]==="enter"&&(qt&&!$t&&!tt&&!_n&&(_n=Xe),$t=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:$t=void 0}if(!tt&&dn[0]==="enter"&&dn[1].type==="listItemPrefix"||tt===-1&&dn[0]==="exit"&&(dn[1].type==="listUnordered"||dn[1].type==="listOrdered")){if(qt){let Vn=Xe;for(zt=void 0;Vn--;){const Ln=me[Vn];if(Ln[1].type==="lineEnding"||Ln[1].type==="lineEndingBlank"){if(Ln[0]==="exit")continue;zt&&(me[zt][1].type="lineEndingBlank",gt=!0),Ln[1].type="lineEnding",zt=Vn}else if(!(Ln[1].type==="linePrefix"||Ln[1].type==="blockQuotePrefix"||Ln[1].type==="blockQuotePrefixWhitespace"||Ln[1].type==="blockQuoteMarker"||Ln[1].type==="listItemIndent"))break}_n&&(!zt||_n<zt)&&(qt._spread=!0),qt.end=Object.assign({},zt?me[zt][1].start:dn[1].end),me.splice(zt||Xe,0,["exit",qt,dn[2]]),Xe++,ze++}if(dn[1].type==="listItemPrefix"){const Vn={type:"listItem",_spread:!1,start:Object.assign({},dn[1].start),end:void 0};qt=Vn,me.splice(Xe,0,["enter",Vn,dn[2]]),Xe++,ze++,_n=void 0,$t=!0}}}return me[Me][1]._spread=gt,ze}function o(me,Me){return ze;function ze(Xe){a.call(this,me(Xe),Xe),Me&&Me.call(this,Xe)}}function s(){this.stack.push({type:"fragment",children:[]})}function a(me,Me,ze){this.stack[this.stack.length-1].children.push(me),this.stack.push(me),this.tokenStack.push([Me,ze||void 0]),me.position={start:dg(Me.start),end:void 0}}function l(me){return Me;function Me(ze){me&&me.call(this,ze),u.call(this,ze)}}function u(me,Me){const ze=this.stack.pop(),Xe=this.tokenStack.pop();if(Xe)Xe[0].type!==me.type&&(Me?Me.call(this,me,Xe[0]):(Xe[1]||Soe).call(this,me,Xe[0]));else throw new Error("Cannot close `"+me.type+"` ("+cS({start:me.start,end:me.end})+"): its not open");ze.position.end=dg(me.end)}function c(){return gG(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(me){if(this.data.expectingFirstListItemValue){const Me=this.stack[this.stack.length-2];Me.start=Number.parseInt(this.sliceSerialize(me),10),this.data.expectingFirstListItemValue=void 0}}function h(){const me=this.resume(),Me=this.stack[this.stack.length-1];Me.lang=me}function m(){const me=this.resume(),Me=this.stack[this.stack.length-1];Me.meta=me}function p(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const me=this.resume(),Me=this.stack[this.stack.length-1];Me.value=me.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const me=this.resume(),Me=this.stack[this.stack.length-1];Me.value=me.replace(/(\r?\n|\r)$/g,"")}function y(me){const Me=this.resume(),ze=this.stack[this.stack.length-1];ze.label=Me,ze.identifier=$d(this.sliceSerialize(me)).toLowerCase()}function w(){const me=this.resume(),Me=this.stack[this.stack.length-1];Me.title=me}function _(){const me=this.resume(),Me=this.stack[this.stack.length-1];Me.url=me}function E(me){const Me=this.stack[this.stack.length-1];if(!Me.depth){const ze=this.sliceSerialize(me).length;Me.depth=ze}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function T(me){const Me=this.stack[this.stack.length-1];Me.depth=this.sliceSerialize(me).codePointAt(0)===61?1:2}function k(){this.data.setextHeadingSlurpLineEnding=void 0}function R(me){const ze=this.stack[this.stack.length-1].children;let Xe=ze[ze.length-1];(!Xe||Xe.type!=="text")&&(Xe=xe(),Xe.position={start:dg(me.start),end:void 0},ze.push(Xe)),this.stack.push(Xe)}function I(me){const Me=this.stack.pop();Me.value+=this.sliceSerialize(me),Me.position.end=dg(me.end)}function P(me){const Me=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ze=Me.children[Me.children.length-1];ze.position.end=dg(me.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Me.type)&&(R.call(this,me),I.call(this,me))}function N(){this.data.atHardBreak=!0}function M(){const me=this.resume(),Me=this.stack[this.stack.length-1];Me.value=me}function O(){const me=this.resume(),Me=this.stack[this.stack.length-1];Me.value=me}function j(){const me=this.resume(),Me=this.stack[this.stack.length-1];Me.value=me}function U(){const me=this.stack[this.stack.length-1];if(this.data.inReference){const Me=this.data.referenceType||"shortcut";me.type+="Reference",me.referenceType=Me,delete me.url,delete me.title}else delete me.identifier,delete me.label;this.data.referenceType=void 0}function q(){const me=this.stack[this.stack.length-1];if(this.data.inReference){const Me=this.data.referenceType||"shortcut";me.type+="Reference",me.referenceType=Me,delete me.url,delete me.title}else delete me.identifier,delete me.label;this.data.referenceType=void 0}function W(me){const Me=this.sliceSerialize(me),ze=this.stack[this.stack.length-2];ze.label=ZJe(Me),ze.identifier=$d(Me).toLowerCase()}function V(){const me=this.stack[this.stack.length-1],Me=this.resume(),ze=this.stack[this.stack.length-1];if(this.data.inReference=!0,ze.type==="link"){const Xe=me.children;ze.children=Xe}else ze.alt=Me}function z(){const me=this.resume(),Me=this.stack[this.stack.length-1];Me.url=me}function L(){const me=this.resume(),Me=this.stack[this.stack.length-1];Me.title=me}function H(){this.data.inReference=void 0}function B(){this.data.referenceType="collapsed"}function Y(me){const Me=this.resume(),ze=this.stack[this.stack.length-1];ze.label=Me,ze.identifier=$d(this.sliceSerialize(me)).toLowerCase(),this.data.referenceType="full"}function Q(me){this.data.characterReferenceType=me.type}function ne(me){const Me=this.sliceSerialize(me),ze=this.data.characterReferenceType;let Xe;ze?(Xe=Bwe(Me,ze==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Xe=yG(Me);const tt=this.stack[this.stack.length-1];tt.value+=Xe}function ce(me){const Me=this.stack.pop();Me.position.end=dg(me.end)}function le(me){I.call(this,me);const Me=this.stack[this.stack.length-1];Me.url=this.sliceSerialize(me)}function ue(me){I.call(this,me);const Me=this.stack[this.stack.length-1];Me.url="mailto:"+this.sliceSerialize(me)}function ae(){return{type:"blockquote",children:[]}}function te(){return{type:"code",lang:null,meta:null,value:""}}function se(){return{type:"inlineCode",value:""}}function we(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function X(){return{type:"emphasis",children:[]}}function he(){return{type:"heading",depth:0,children:[]}}function ge(){return{type:"break"}}function re(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function fe(){return{type:"link",title:null,url:"",children:[]}}function Re(me){return{type:"list",ordered:me.type==="listOrdered",start:null,spread:me._spread,children:[]}}function Oe(me){return{type:"listItem",spread:me._spread,checked:null,children:[]}}function Ae(){return{type:"paragraph",children:[]}}function Se(){return{type:"strong",children:[]}}function xe(){return{type:"text",value:""}}function ke(){return{type:"thematicBreak"}}}function dg(e){return{line:e.line,column:e.column,offset:e.offset}}function Qwe(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Qwe(e,r):rZe(e,r)}}function rZe(e,t){let n;for(n in t)if(Xwe.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Soe(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+cS({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+cS({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+cS({start:t.start,end:t.end})+") is still open")}function iZe(e){const t=this;t.parser=n;function n(r){return tZe(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function oZe(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function sZe(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function aZe(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function lZe(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function uZe(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function cZe(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=lC(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let s,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=o+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function dZe(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function fZe(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Jwe(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function hZe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Jwe(e,t);const i={src:lC(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function pZe(e,t){const n={src:lC(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function mZe(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function gZe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Jwe(e,t);const i={href:lC(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function yZe(e,t){const n={href:lC(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function vZe(e,t,n){const r=e.all(t),i=n?bZe(n):Zwe(t),o={},s=[];if(typeof t.checked=="boolean"){const c=r[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?s.push(...c.children):s.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:s};return e.patch(t,u),e.applyData(t,u)}function bZe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Zwe(n[r])}return t}function Zwe(e){const t=e.spread;return t??e.children.length>1}function wZe(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function xZe(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function CZe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function _Ze(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function EZe(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=Bh(t.children[1]),l=eM(t.children[t.children.length-1]);a&&l&&(s.position={start:a,end:l}),i.push(s)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function SZe(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,a=s?s.length:t.children.length;let l=-1;const u=[];for(;++l<a;){const d=t.children[l],f={},h=s?s[l]:void 0;h&&(f.align=h);let m={type:"element",tagName:o,properties:f,children:[]};d&&(m.children=e.all(d),e.patch(d,m),m=e.applyData(d,m)),u.push(m)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function TZe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Toe=9,koe=32;function kZe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(Aoe(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(Aoe(t.slice(i),i>0,!1)),o.join("")}function Aoe(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===Toe||o===koe;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===Toe||o===koe;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function AZe(e,t){const n={type:"text",value:kZe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function RZe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const IZe={blockquote:oZe,break:sZe,code:aZe,delete:lZe,emphasis:uZe,footnoteReference:cZe,heading:dZe,html:fZe,imageReference:hZe,image:pZe,inlineCode:mZe,linkReference:gZe,link:yZe,listItem:vZe,list:wZe,paragraph:xZe,root:CZe,strong:_Ze,table:EZe,tableCell:TZe,tableRow:SZe,text:AZe,thematicBreak:RZe,toml:pR,yaml:pR,definition:pR,footnoteDefinition:pR};function pR(){}const exe=-1,rM=0,fS=1,P3=2,bG=3,wG=4,xG=5,CG=6,txe=7,nxe=8,Roe=typeof self=="object"?self:globalThis,DZe=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,s]=t[i];switch(o){case rM:case exe:return n(s,i);case fS:{const a=n([],i);for(const l of s)a.push(r(l));return a}case P3:{const a=n({},i);for(const[l,u]of s)a[r(l)]=r(u);return a}case bG:return n(new Date(s),i);case wG:{const{source:a,flags:l}=s;return n(new RegExp(a,l),i)}case xG:{const a=n(new Map,i);for(const[l,u]of s)a.set(r(l),r(u));return a}case CG:{const a=n(new Set,i);for(const l of s)a.add(r(l));return a}case txe:{const{name:a,message:l}=s;return n(new Roe[a](l),i)}case nxe:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:a}=new Uint8Array(s);return n(new DataView(a),s)}}return n(new Roe[o](s),i)};return r},Ioe=e=>DZe(new Map,e)(0),D1="",{toString:PZe}={},{keys:OZe}=Object,P_=e=>{const t=typeof e;if(t!=="object"||!e)return[rM,t];const n=PZe.call(e).slice(8,-1);switch(n){case"Array":return[fS,D1];case"Object":return[P3,D1];case"Date":return[bG,D1];case"RegExp":return[wG,D1];case"Map":return[xG,D1];case"Set":return[CG,D1];case"DataView":return[fS,n]}return n.includes("Array")?[fS,n]:n.includes("Error")?[txe,n]:[P3,n]},mR=([e,t])=>e===rM&&(t==="function"||t==="symbol"),NZe=(e,t,n,r)=>{const i=(s,a)=>{const l=r.push(s)-1;return n.set(a,l),l},o=s=>{if(n.has(s))return n.get(s);let[a,l]=P_(s);switch(a){case rM:{let c=s;switch(l){case"bigint":a=nxe,c=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([exe],s)}return i([a,c],s)}case fS:{if(l){let f=s;return l==="DataView"?f=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(f=new Uint8Array(s)),i([l,[...f]],s)}const c=[],d=i([a,c],s);for(const f of s)c.push(o(f));return d}case P3:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(t&&"toJSON"in s)return o(s.toJSON());const c=[],d=i([a,c],s);for(const f of OZe(s))(e||!mR(P_(s[f])))&&c.push([o(f),o(s[f])]);return d}case bG:return i([a,s.toISOString()],s);case wG:{const{source:c,flags:d}=s;return i([a,{source:c,flags:d}],s)}case xG:{const c=[],d=i([a,c],s);for(const[f,h]of s)(e||!(mR(P_(f))||mR(P_(h))))&&c.push([o(f),o(h)]);return d}case CG:{const c=[],d=i([a,c],s);for(const f of s)(e||!mR(P_(f)))&&c.push(o(f));return d}}const{message:u}=s;return i([a,{name:l,message:u}],s)};return o},Doe=(e,{json:t,lossy:n}={})=>{const r=[];return NZe(!(t||n),!!t,new Map,r)(e),r},ox=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Ioe(Doe(e,t)):structuredClone(e):(e,t)=>Ioe(Doe(e,t));function MZe(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function $Ze(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function LZe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||MZe,r=e.options.footnoteBackLabel||$Ze,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const c=e.all(u),d=String(u.identifier).toUpperCase(),f=lC(d.toLowerCase());let h=0;const m=[],p=e.footnoteCounts.get(d);for(;p!==void 0&&++h<=p;){m.length>0&&m.push({type:"text",value:" "});let y=typeof n=="string"?n:n(l,h);typeof y=="string"&&(y={type:"text",value:y}),m.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,h),className:["data-footnote-backref"]},children:Array.isArray(y)?y:[y]})}const g=c[c.length-1];if(g&&g.type==="element"&&g.tagName==="p"){const y=g.children[g.children.length-1];y&&y.type==="text"?y.value+=" ":g.children.push({type:"text",value:" "}),g.children.push(...m)}else c.push(...m);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(c,!0)};e.patch(u,v),a.push(v)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...ox(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const iM=(function(e){if(e==null)return zZe;if(typeof e=="function")return oM(e);if(typeof e=="object")return Array.isArray(e)?FZe(e):jZe(e);if(typeof e=="string")return BZe(e);throw new Error("Expected function, string, or object as test")});function FZe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=iM(e[n]);return oM(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function jZe(e){const t=e;return oM(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function BZe(e){return oM(t);function t(n){return n&&n.type===e}}function oM(e){return t;function t(n,r,i){return!!(UZe(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function zZe(){return!0}function UZe(e){return e!==null&&typeof e=="object"&&"type"in e}const rxe=[],HZe=!0,X7=!1,qZe="skip";function ixe(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=iM(i),s=r?-1:1;a(e,void 0,[])();function a(l,u,c){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const h=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return f;function f(){let h=rxe,m,p,g;if((!t||o(l,u,c[c.length-1]||void 0))&&(h=VZe(n(l,c)),h[0]===X7))return h;if("children"in l&&l.children){const v=l;if(v.children&&h[0]!==qZe)for(p=(r?v.children.length:-1)+s,g=c.concat(v);p>-1&&p<v.children.length;){const y=v.children[p];if(m=a(y,p,g)(),m[0]===X7)return m;p=typeof m[1]=="number"?m[1]:p+s}}return h}}}function VZe(e){return Array.isArray(e)?e:typeof e=="number"?[HZe,e]:e==null?rxe:[e]}function sx(e,t,n,r){let i,o,s;typeof t=="function"&&typeof n!="function"?(o=void 0,s=t,i=n):(o=t,s=n,i=r),ixe(e,o,a,i);function a(l,u){const c=u[u.length-1],d=c?c.children.indexOf(l):void 0;return s(l,d,c)}}const Q7={}.hasOwnProperty,WZe={};function GZe(e,t){const n=t||WZe,r=new Map,i=new Map,o=new Map,s={...IZe,...n.handlers},a={all:u,applyData:KZe,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:s,one:l,options:n,patch:YZe,wrap:QZe};return sx(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?r:i,f=String(c.identifier).toUpperCase();d.has(f)||d.set(f,c)}}),a;function l(c,d){const f=c.type,h=a.handlers[f];if(Q7.call(a.handlers,f)&&h)return h(a,c,d);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in c){const{children:p,...g}=c,v=ox(g);return v.children=a.all(c),v}return ox(c)}return(a.options.unknownHandler||XZe)(a,c,d)}function u(c){const d=[];if("children"in c){const f=c.children;let h=-1;for(;++h<f.length;){const m=a.one(f[h],c);if(m){if(h&&f[h-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=Poe(m.value)),!Array.isArray(m)&&m.type==="element")){const p=m.children[0];p&&p.type==="text"&&(p.value=Poe(p.value))}Array.isArray(m)?d.push(...m):d.push(m)}}}return d}}function YZe(e,t){e.position&&(t.position=$Xe(e))}function KZe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&o&&Object.assign(n.properties,ox(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function XZe(e,t){const n=t.data||{},r="value"in t&&!(Q7.call(n,"hProperties")||Q7.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function QZe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Poe(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Ooe(e,t){const n=GZe(e,t),r=n.one(e,void 0),i=LZe(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function JZe(e,t){return e&&"run"in e?async function(n,r){const i=Ooe(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Ooe(n,{file:r,...e||t})}}function Noe(e){if(e)throw e}var zF,Moe;function ZZe(){if(Moe)return zF;Moe=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):t.call(u)==="[object Array]"},o=function(u){if(!u||t.call(u)!=="[object Object]")return!1;var c=e.call(u,"constructor"),d=u.constructor&&u.constructor.prototype&&e.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!c&&!d)return!1;var f;for(f in u);return typeof f>"u"||e.call(u,f)},s=function(u,c){n&&c.name==="__proto__"?n(u,c.name,{enumerable:!0,configurable:!0,value:c.newValue,writable:!0}):u[c.name]=c.newValue},a=function(u,c){if(c==="__proto__")if(e.call(u,c)){if(r)return r(u,c).value}else return;return u[c]};return zF=function l(){var u,c,d,f,h,m,p=arguments[0],g=1,v=arguments.length,y=!1;for(typeof p=="boolean"&&(y=p,p=arguments[1]||{},g=2),(p==null||typeof p!="object"&&typeof p!="function")&&(p={});g<v;++g)if(u=arguments[g],u!=null)for(c in u)d=a(p,c),f=a(u,c),p!==f&&(y&&f&&(o(f)||(h=i(f)))?(h?(h=!1,m=d&&i(d)?d:[]):m=d&&o(d)?d:{},s(p,{name:c,newValue:l(y,m,f)})):typeof f<"u"&&s(p,{name:c,newValue:f}));return p},zF}var eet=ZZe();const UF=Xo(eet);function J7(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function tet(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);a(null,...i);function a(l,...u){const c=e[++o];let d=-1;if(l){s(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,c?net(c,a)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function net(e,t){let n;return r;function r(...s){const a=e.length>s.length;let l;a&&s.push(i);try{l=e.apply(this,s)}catch(u){const c=u;if(a&&n)throw c;return i(c)}a||(l&&l.then&&typeof l.then=="function"?l.then(o,i):l instanceof Error?i(l):o(l))}function i(s,...a){n||(n=!0,t(s,...a))}function o(s){i(null,s)}}const Hf={basename:ret,dirname:iet,extname:oet,join:set,sep:"/"};function ret(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');OT(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else s<0&&(o=!0,s=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function iet(e){if(OT(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function oet(e){OT(e);let t=e.length,n=-1,r=0,i=-1,o=0,s;for(;t--;){const a=e.codePointAt(t);if(a===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),a===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function set(...e){let t=-1,n;for(;++t<e.length;)OT(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":aet(n)}function aet(e){OT(e);const t=e.codePointAt(0)===47;let n=uet(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function uet(e,t){let n="",r=0,i=-1,o=0,s=-1,a,l;for(;++s<=e.length;){if(s<e.length)a=e.codePointAt(s);else{if(a===47)break;a=47}if(a===47){if(!(i===s-1||o===1))if(i!==s-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,o=0;continue}}else if(n.length>0){n="",r=0,i=s,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,o=0}else a===46&&o>-1?o++:o=-1}return n}function OT(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const cet={cwd:det};function det(){return"/"}function Z7(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function fet(e){if(typeof e=="string")e=new URL(e);else if(!Z7(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return het(e)}function het(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const HF=["history","path","basename","stem","extname","dirname"];class oxe{constructor(t){let n;t?Z7(t)?n={path:t}:typeof t=="string"||pet(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":cet.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<HF.length;){const o=HF[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)HF.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Hf.basename(this.path):void 0}set basename(t){VF(t,"basename"),qF(t,"basename"),this.path=Hf.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Hf.dirname(this.path):void 0}set dirname(t){$oe(this.basename,"dirname"),this.path=Hf.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Hf.extname(this.path):void 0}set extname(t){if(qF(t,"extname"),$oe(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Hf.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Z7(t)&&(t=fet(t)),VF(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Hf.basename(this.path,this.extname):void 0}set stem(t){VF(t,"stem"),qF(t,"stem"),this.path=Hf.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Va(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function qF(e,t){if(e&&e.includes(Hf.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Hf.sep+"`")}function VF(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function $oe(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function pet(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const met=(function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),get={}.hasOwnProperty;class _G extends met{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=tet()}copy(){const t=new _G;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(UF(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(YF("data",this.frozen),this.namespace[t]=n,this):get.call(this.namespace,t)&&this.namespace[t]||void 0:t?(YF("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=gR(t),r=this.parser||this.Parser;return WF("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),WF("process",this.parser||this.Parser),GF("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,s){const a=gR(t),l=r.parse(a);r.run(l,a,function(c,d,f){if(c||!d||!f)return u(c);const h=d,m=r.stringify(h,f);bet(m)?f.value=m:f.result=m,u(c,f)});function u(c,d){c||!d?s(c):o?o(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),WF("processSync",this.parser||this.Parser),GF("processSync",this.compiler||this.Compiler),this.process(t,i),Foe("processSync","process",n),r;function i(o,s){n=!0,Noe(o),r=s}}run(t,n,r){Loe(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(s,a){const l=gR(n);i.run(t,l,u);function u(c,d,f){const h=d||t;c?a(c):s?s(h):r(void 0,h,f)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),Foe("runSync","run",r),i;function o(s,a){Noe(s),i=a,r=!0}}stringify(t,n){this.freeze();const r=gR(n),i=this.compiler||this.Compiler;return GF("stringify",i),Loe(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(YF("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...d]=u;l(c,d)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=UF(!0,i.settings,u.settings))}function a(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const d=u[c];o(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===u){f=d;break}if(f===-1)r.push([u,...c]);else if(c.length>0){let[h,...m]=c;const p=r[f][1];J7(p)&&J7(h)&&(h=UF(!0,p,h)),r[f]=[u,h,...m]}}}}const yet=new _G().freeze();function WF(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function GF(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function YF(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Loe(e){if(!J7(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Foe(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function gR(e){return vet(e)?e:new oxe(e)}function vet(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function bet(e){return typeof e=="string"||wet(e)}function wet(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const xet="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",joe=[],Boe={allowDangerousHtml:!0},Cet=/^(https?|ircs?|mailto|xmpp)$/i,_et=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Eet(e){const t=Tet(e),n=ket(e);return Aet(t.runSync(t.parse(n),n),e)}function Tet(e){const t=e.rehypePlugins||joe,n=e.remarkPlugins||joe,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Boe}:Boe;return yet().use(iZe).use(n).use(JZe,r).use(t)}function ket(e){const t=e.children||"",n=new oxe;return typeof t=="string"&&(n.value=t),n}function Aet(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,o=t.disallowedElements,s=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||Ret;for(const c of _et)Object.hasOwn(t,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+xet+c.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),sx(e,u),zXe(e,{Fragment:b.Fragment,components:i,ignoreInvalidStyle:!0,jsx:b.jsx,jsxs:b.jsxs,passKeys:!0,passNode:!0});function u(c,d,f){if(c.type==="raw"&&f&&typeof d=="number")return s?f.children.splice(d,1):f.children[d]={type:"text",value:c.value},d;if(c.type==="element"){let h;for(h in FF)if(Object.hasOwn(FF,h)&&Object.hasOwn(c.properties,h)){const m=c.properties[h],p=FF[h];(p===null||p.includes(c.tagName))&&(c.properties[h]=l(String(m||""),h,c))}}if(c.type==="element"){let h=n?!n.includes(c.tagName):o?o.includes(c.tagName):!1;if(!h&&r&&typeof d=="number"&&(h=!r(c,d,f)),h&&f&&typeof d=="number")return a&&c.children?f.children.splice(d,1,...c.children):f.children.splice(d,1),d}}}function Ret(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||Cet.test(e.slice(0,t))?e:""}let NT=class{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}};NT.prototype.property={};NT.prototype.normal={};NT.prototype.space=null;function sxe(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new NT(n,r,t)}function l2(e){return e.toLowerCase()}let Yc=class{constructor(t,n){this.property=t,this.attribute=n}};Yc.prototype.space=null;Yc.prototype.boolean=!1;Yc.prototype.booleanish=!1;Yc.prototype.overloadedBoolean=!1;Yc.prototype.number=!1;Yc.prototype.commaSeparated=!1;Yc.prototype.spaceSeparated=!1;Yc.prototype.commaOrSpaceSeparated=!1;Yc.prototype.mustUseProperty=!1;Yc.prototype.defined=!1;let Iet=0;const er=kb(),Vo=kb(),axe=kb(),kt=kb(),Ai=kb(),kw=kb(),xu=kb();function kb(){return 2**++Iet}const ez=Object.freeze(Object.defineProperty({__proto__:null,boolean:er,booleanish:Vo,commaOrSpaceSeparated:xu,commaSeparated:kw,number:kt,overloadedBoolean:axe,spaceSeparated:Ai},Symbol.toStringTag,{value:"Module"})),KF=Object.keys(ez);class EG extends Yc{constructor(t,n,r,i){let o=-1;if(super(t,n),zoe(this,"space",i),typeof r=="number")for(;++o<KF.length;){const s=KF[o];zoe(this,KF[o],(r&ez[s])===ez[s])}}}EG.prototype.defined=!0;function zoe(e,t,n){n&&(e[t]=n)}const Det={}.hasOwnProperty;function uC(e){const t={},n={};let r;for(r in e.properties)if(Det.call(e.properties,r)){const i=e.properties[r],o=new EG(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[l2(r)]=r,n[l2(o.attribute)]=r}return new NT(t,n,e.space)}const lxe=uC({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),uxe=uC({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function cxe(e,t){return t in e?e[t]:t}function dxe(e,t){return cxe(e,t.toLowerCase())}const fxe=uC({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:dxe,properties:{xmlns:null,xmlnsXLink:null}}),hxe=uC({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Vo,ariaAutoComplete:null,ariaBusy:Vo,ariaChecked:Vo,ariaColCount:kt,ariaColIndex:kt,ariaColSpan:kt,ariaControls:Ai,ariaCurrent:null,ariaDescribedBy:Ai,ariaDetails:null,ariaDisabled:Vo,ariaDropEffect:Ai,ariaErrorMessage:null,ariaExpanded:Vo,ariaFlowTo:Ai,ariaGrabbed:Vo,ariaHasPopup:null,ariaHidden:Vo,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ai,ariaLevel:kt,ariaLive:null,ariaModal:Vo,ariaMultiLine:Vo,ariaMultiSelectable:Vo,ariaOrientation:null,ariaOwns:Ai,ariaPlaceholder:null,ariaPosInSet:kt,ariaPressed:Vo,ariaReadOnly:Vo,ariaRelevant:null,ariaRequired:Vo,ariaRoleDescription:Ai,ariaRowCount:kt,ariaRowIndex:kt,ariaRowSpan:kt,ariaSelected:Vo,ariaSetSize:kt,ariaSort:null,ariaValueMax:kt,ariaValueMin:kt,ariaValueNow:kt,ariaValueText:null,role:null}}),Pet=uC({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:dxe,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:kw,acceptCharset:Ai,accessKey:Ai,action:null,allow:null,allowFullScreen:er,allowPaymentRequest:er,allowUserMedia:er,alt:null,as:null,async:er,autoCapitalize:null,autoComplete:Ai,autoFocus:er,autoPlay:er,blocking:Ai,capture:null,charSet:null,checked:er,cite:null,className:Ai,cols:kt,colSpan:null,content:null,contentEditable:Vo,controls:er,controlsList:Ai,coords:kt|kw,crossOrigin:null,data:null,dateTime:null,decoding:null,default:er,defer:er,dir:null,dirName:null,disabled:er,download:axe,draggable:Vo,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:er,formTarget:null,headers:Ai,height:kt,hidden:er,high:kt,href:null,hrefLang:null,htmlFor:Ai,httpEquiv:Ai,id:null,imageSizes:null,imageSrcSet:null,inert:er,inputMode:null,integrity:null,is:null,isMap:er,itemId:null,itemProp:Ai,itemRef:Ai,itemScope:er,itemType:Ai,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:er,low:kt,manifest:null,max:null,maxLength:kt,media:null,method:null,min:null,minLength:kt,multiple:er,muted:er,name:null,nonce:null,noModule:er,noValidate:er,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:er,optimum:kt,pattern:null,ping:Ai,placeholder:null,playsInline:er,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:er,referrerPolicy:null,rel:Ai,required:er,reversed:er,rows:kt,rowSpan:kt,sandbox:Ai,scope:null,scoped:er,seamless:er,selected:er,shadowRootClonable:er,shadowRootDelegatesFocus:er,shadowRootMode:null,shape:null,size:kt,sizes:null,slot:null,span:kt,spellCheck:Vo,src:null,srcDoc:null,srcLang:null,srcSet:null,start:kt,step:null,style:null,tabIndex:kt,target:null,title:null,translate:null,type:null,typeMustMatch:er,useMap:null,value:Vo,width:kt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ai,axis:null,background:null,bgColor:null,border:kt,borderColor:null,bottomMargin:kt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:er,declare:er,event:null,face:null,frame:null,frameBorder:null,hSpace:kt,leftMargin:kt,link:null,longDesc:null,lowSrc:null,marginHeight:kt,marginWidth:kt,noResize:er,noHref:er,noShade:er,noWrap:er,object:null,profile:null,prompt:null,rev:null,rightMargin:kt,rules:null,scheme:null,scrolling:Vo,standby:null,summary:null,text:null,topMargin:kt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:kt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:er,disableRemotePlayback:er,prefix:null,property:null,results:kt,security:null,unselectable:null}}),Oet=uC({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:cxe,properties:{about:xu,accentHeight:kt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:kt,amplitude:kt,arabicForm:null,ascent:kt,attributeName:null,attributeType:null,azimuth:kt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:kt,by:null,calcMode:null,capHeight:kt,className:Ai,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:kt,diffuseConstant:kt,direction:null,display:null,dur:null,divisor:kt,dominantBaseline:null,download:er,dx:null,dy:null,edgeMode:null,editable:null,elevation:kt,enableBackground:null,end:null,event:null,exponent:kt,externalResourcesRequired:null,fill:null,fillOpacity:kt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:kw,g2:kw,glyphName:kw,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:kt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:kt,horizOriginX:kt,horizOriginY:kt,id:null,ideographic:kt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:kt,k:kt,k1:kt,k2:kt,k3:kt,k4:kt,kernelMatrix:xu,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:kt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:kt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:kt,overlineThickness:kt,paintOrder:null,panose1:null,path:null,pathLength:kt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ai,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:kt,pointsAtY:kt,pointsAtZ:kt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:xu,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:xu,rev:xu,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:xu,requiredFeatures:xu,requiredFonts:xu,requiredFormats:xu,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:kt,specularExponent:kt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:kt,strikethroughThickness:kt,string:null,stroke:null,strokeDashArray:xu,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:kt,strokeOpacity:kt,strokeWidth:null,style:null,surfaceScale:kt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:xu,tabIndex:kt,tableValues:null,target:null,targetX:kt,targetY:kt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:xu,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:kt,underlineThickness:kt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:kt,values:null,vAlphabetic:kt,vMathematical:kt,vectorEffect:null,vHanging:kt,vIdeographic:kt,version:null,vertAdvY:kt,vertOriginX:kt,vertOriginY:kt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:kt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Net=/^data[-\w.:]+$/i,Uoe=/-[a-z]/g,Met=/[A-Z]/g;function SG(e,t){const n=l2(t);let r=t,i=Yc;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Net.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(Uoe,Let);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!Uoe.test(o)){let s=o.replace(Met,$et);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=EG}return new i(r,t)}function $et(e){return"-"+e.toLowerCase()}function Let(e){return e.charAt(1).toUpperCase()}const sM=sxe([uxe,lxe,fxe,hxe,Pet],"html"),MT=sxe([uxe,lxe,fxe,hxe,Oet],"svg"),Hoe=/[#.]/g;function Fet(e,t){const n=e||"",r={};let i=0,o,s;for(;i<n.length;){Hoe.lastIndex=i;const a=Hoe.exec(n),l=n.slice(i,a?a.index:n.length);l&&(o?o==="#"?r.id=l:Array.isArray(r.className)?r.className.push(l):r.className=[l]:s=l,i+=l.length),a&&(o=a[0],i++)}return{type:"element",tagName:s||t||"div",properties:r,children:[]}}const jet=new Set(["button","menu","reset","submit"]),tz={}.hasOwnProperty;function pxe(e,t,n){const r=n&&Het(n);function i(o,s,...a){let l=-1,u;if(o==null){u={type:"root",children:[]};const c=s;a.unshift(c)}else if(u=Fet(o,t),u.tagName=u.tagName.toLowerCase(),r&&tz.call(r,u.tagName)&&(u.tagName=r[u.tagName]),Bet(s,u.tagName)){let c;for(c in s)tz.call(s,c)&&zet(e,u.properties,c,s[c])}else a.unshift(s);for(;++l<a.length;)nz(u.children,a[l]);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u}return i}function Bet(e,t){return e==null||typeof e!="object"||Array.isArray(e)?!1:t==="input"||!e.type||typeof e.type!="string"?!0:"children"in e&&Array.isArray(e.children)?!1:t==="button"?jet.has(e.type.toLowerCase()):!("value"in e)}function zet(e,t,n,r){const i=SG(e,n);let o=-1,s;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;s=r}else typeof r=="boolean"?s=r:typeof r=="string"?i.spaceSeparated?s=loe(r):i.commaSeparated?s=roe(r):i.commaOrSpaceSeparated?s=loe(roe(r).join(" ")):s=qoe(i,i.property,r):Array.isArray(r)?s=r.concat():s=i.property==="style"?Uet(r):String(r);if(Array.isArray(s)){const a=[];for(;++o<s.length;){const l=qoe(i,i.property,s[o]);a[o]=l}s=a}if(i.property==="className"&&Array.isArray(t.className)){const a=s;s=t.className.concat(a)}t[i.property]=s}}function nz(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)nz(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?nz(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function qoe(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||l2(n)===l2(t)))return!0}return n}function Uet(e){const t=[];let n;for(n in e)tz.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}function Het(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}const qet=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Vet=pxe(sM,"div"),Wet=pxe(MT,"g",qet),XF=/\r?\n|\r/g;function Get(e){const t=String(e),n=[];for(XF.lastIndex=0;XF.test(t);)n.push(XF.lastIndex);return n.push(t.length+1),{toPoint:r,toOffset:i};function r(o){let s=-1;if(typeof o=="number"&&o>-1&&o<n[n.length-1]){for(;++s<n.length;)if(n[s]>o)return{line:s+1,column:o-(s>0?n[s-1]:0)+1,offset:o}}}function i(o){const s=o&&o.line,a=o&&o.column;if(typeof s=="number"&&typeof a=="number"&&!Number.isNaN(s)&&!Number.isNaN(a)&&s-1 in n){const l=(n[s-2]||0)+a-1||0;if(l>-1&&l<n[n.length-1])return l}}}const cv={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},mxe={}.hasOwnProperty,Yet=Object.prototype;function Ket(e,t){const n=t||{};return TG({file:n.file||void 0,location:!1,schema:n.space==="svg"?MT:sM,verbose:n.verbose||!1},e)}function TG(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},ND(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:gxe(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const o=String(e.file),s=Get(o),a=s.toPoint(0),l=s.toPoint(o.length);n.position={start:a,end:l}}return n}case"#documentType":{const r=t;return n={type:"doctype"},ND(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},ND(e,r,n),n}default:return n=Xet(e,t),n}}function gxe(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=TG(e,t[n]);r.push(i)}return r}function Xet(e,t){const n=e.schema;e.schema=t.namespaceURI===cv.svg?MT:sM;let r=-1;const i={};for(;++r<t.attrs.length;){const a=t.attrs[r],l=(a.prefix?a.prefix+":":"")+a.name;mxe.call(Yet,l)||(i[l]=a.value)}const s=(e.schema.space==="svg"?Wet:Vet)(t.tagName,i,gxe(e,t.childNodes));if(ND(e,t,s),s.tagName==="template"){const a=t,l=a.sourceCodeLocation,u=l&&l.startTag&&cw(l.startTag),c=l&&l.endTag&&cw(l.endTag),d=TG(e,a.content);u&&c&&e.file&&(d.position={start:u.end,end:c.start}),s.content=d}return e.schema=n,s}function ND(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=Qet(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function Qet(e,t,n){const r=cw(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const o={};let s;if(n.attrs)for(s in n.attrs)mxe.call(n.attrs,s)&&(o[SG(e.schema,s).property]=cw(n.attrs[s]));n.startTag;const a=cw(n.startTag),l=n.endTag?cw(n.endTag):void 0,u={opening:a};l&&(u.closing=l),u.properties=o,t.data={position:u}}}return r}function cw(e){const t=Voe({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=Voe({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function Voe(e){return e.line&&e.column?e:void 0}const Woe={}.hasOwnProperty;function yxe(e,t){const n=t||{};function r(i,...o){let s=r.invalid;const a=r.handlers;if(i&&Woe.call(i,e)){const l=String(i[e]);s=Woe.call(a,l)?a[l]:r.unknown}if(s)return s.call(this,i,...o)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const Jet={},Zet={}.hasOwnProperty,vxe=yxe("type",{handlers:{root:ttt,element:stt,text:itt,comment:ott,doctype:rtt}});function ett(e,t){const r=(t||Jet).space;return vxe(e,r==="svg"?MT:sM)}function ttt(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=kG(e.children,n,t),cC(e,n),n}function ntt(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=kG(e.children,n,t),cC(e,n),n}function rtt(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return cC(e,t),t}function itt(e){const t={nodeName:"#text",value:e.value,parentNode:null};return cC(e,t),t}function ott(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return cC(e,t),t}function stt(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=MT);const i=[];let o;if(e.properties){for(o in e.properties)if(o!=="children"&&Zet.call(e.properties,o)){const l=att(r,o,e.properties[o]);l&&i.push(l)}}const s=r.space,a={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:cv[s],childNodes:[],parentNode:null};return a.childNodes=kG(e.children,a,r),cC(e,a),e.tagName==="template"&&e.content&&(a.content=ntt(e.content,r)),a}function att(e,t,n){const r=SG(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?Ewe(n):Pwe(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const o=i.name.indexOf(":");o<0?i.prefix="":(i.name=i.name.slice(o+1),i.prefix=r.attribute.slice(0,o)),i.namespace=cv[r.space]}return i}function kG(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const o=vxe(e[r],n);o.parentNode=t,i.push(o)}return i}function cC(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const ltt=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],utt=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Wi="";var ye;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.NUMBER_SIGN=35]="NUMBER_SIGN",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",e[e.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_F=102]="LATIN_SMALL_F",e[e.LATIN_SMALL_X=120]="LATIN_SMALL_X",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",e[e.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})(ye=ye||(ye={}));const Fl={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function bxe(e){return e>=55296&&e<=57343}function ctt(e){return e>=56320&&e<=57343}function dtt(e,t){return(e-55296)*1024+9216+t}function wxe(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function xxe(e){return e>=64976&&e<=65007||utt.has(e)}var Je;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(Je=Je||(Je={}));const ftt=65536;class htt{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=ftt,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t){const{line:n,col:r,offset:i}=this;return{code:t,startLine:n,endLine:n,startCol:r,endCol:r,startOffset:i,endOffset:i}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(ctt(n))return this.pos++,this._addGap(),dtt(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,ye.EOF;return this._err(Je.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,ye.EOF;const r=this.html.charCodeAt(n);return r===ye.CARRIAGE_RETURN?ye.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,ye.EOF;let t=this.html.charCodeAt(this.pos);return t===ye.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,ye.LINE_FEED):t===ye.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,bxe(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===ye.LINE_FEED||t===ye.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){wxe(t)?this._err(Je.controlCharacterInInputStream):xxe(t)&&this._err(Je.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var lr;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(lr=lr||(lr={}));function Cxe(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const vg=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),ptt=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var QF;const mtt=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),gtt=(QF=String.fromCodePoint)!==null&&QF!==void 0?QF:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function ytt(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=mtt.get(e))!==null&&t!==void 0?t:e}var Ss;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Ss||(Ss={}));const vtt=32;var rh;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(rh||(rh={}));function rz(e){return e>=Ss.ZERO&&e<=Ss.NINE}function btt(e){return e>=Ss.UPPER_A&&e<=Ss.UPPER_F||e>=Ss.LOWER_A&&e<=Ss.LOWER_F}function wtt(e){return e>=Ss.UPPER_A&&e<=Ss.UPPER_Z||e>=Ss.LOWER_A&&e<=Ss.LOWER_Z||rz(e)}function xtt(e){return e===Ss.EQUALS||wtt(e)}var ws;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(ws||(ws={}));var Qy;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Qy||(Qy={}));class Ctt{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=ws.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Qy.Strict}startEntity(t){this.decodeMode=t,this.state=ws.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case ws.EntityStart:return t.charCodeAt(n)===Ss.NUM?(this.state=ws.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=ws.NamedEntity,this.stateNamedEntity(t,n));case ws.NumericStart:return this.stateNumericStart(t,n);case ws.NumericDecimal:return this.stateNumericDecimal(t,n);case ws.NumericHex:return this.stateNumericHex(t,n);case ws.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|vtt)===Ss.LOWER_X?(this.state=ws.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=ws.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const o=r-n;this.result=this.result*Math.pow(i,o)+parseInt(t.substr(n,o),i),this.consumed+=o}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(rz(i)||btt(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(rz(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Ss.SEMI)this.consumed+=1;else if(this.decodeMode===Qy.Strict)return 0;return this.emitCodePoint(ytt(this.result),this.consumed),this.errors&&(t!==Ss.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],o=(i&rh.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const s=t.charCodeAt(n);if(this.treeIndex=Exe(r,i,this.treeIndex+Math.max(1,o),s),this.treeIndex<0)return this.result===0||this.decodeMode===Qy.Attribute&&(o===0||xtt(s))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],o=(i&rh.VALUE_LENGTH)>>14,o!==0){if(s===Ss.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==Qy.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&rh.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~rh.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case ws.NamedEntity:return this.result!==0&&(this.decodeMode!==Qy.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case ws.NumericDecimal:return this.emitNumericEntity(0,2);case ws.NumericHex:return this.emitNumericEntity(0,3);case ws.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ws.EntityStart:return 0}}}function _xe(e){let t="";const n=new Ctt(e,r=>t+=gtt(r));return function(i,o){let s=0,a=0;for(;(a=i.indexOf("&",a))>=0;){t+=i.slice(s,a),n.startEntity(o);const u=n.write(i,a+1);if(u<0){s=a+n.end();break}s=a+u,a=u===0?s+1:s}const l=t+i.slice(s);return t="",l}}function Exe(e,t,n,r){const i=(t&rh.BRANCH_LENGTH)>>7,o=t&rh.JUMP_TABLE;if(i===0)return o!==0&&r===o?n:-1;if(o){const l=r-o;return l<0||l>=i?-1:e[n+l]-1}let s=n,a=s+i-1;for(;s<=a;){const l=s+a>>>1,u=e[l];if(u<r)s=l+1;else if(u>r)a=l-1;else return e[l+i]}return-1}_xe(vg);_xe(ptt);var at;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(at=at||(at={}));var Zg;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Zg=Zg||(Zg={}));var Su;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Su=Su||(Su={}));var Ge;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(Ge=Ge||(Ge={}));var G;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SECTION=94]="SECTION",e[e.SELECT=95]="SELECT",e[e.SOURCE=96]="SOURCE",e[e.SMALL=97]="SMALL",e[e.SPAN=98]="SPAN",e[e.STRIKE=99]="STRIKE",e[e.STRONG=100]="STRONG",e[e.STYLE=101]="STYLE",e[e.SUB=102]="SUB",e[e.SUMMARY=103]="SUMMARY",e[e.SUP=104]="SUP",e[e.TABLE=105]="TABLE",e[e.TBODY=106]="TBODY",e[e.TEMPLATE=107]="TEMPLATE",e[e.TEXTAREA=108]="TEXTAREA",e[e.TFOOT=109]="TFOOT",e[e.TD=110]="TD",e[e.TH=111]="TH",e[e.THEAD=112]="THEAD",e[e.TITLE=113]="TITLE",e[e.TR=114]="TR",e[e.TRACK=115]="TRACK",e[e.TT=116]="TT",e[e.U=117]="U",e[e.UL=118]="UL",e[e.SVG=119]="SVG",e[e.VAR=120]="VAR",e[e.WBR=121]="WBR",e[e.XMP=122]="XMP"})(G=G||(G={}));const _tt=new Map([[Ge.A,G.A],[Ge.ADDRESS,G.ADDRESS],[Ge.ANNOTATION_XML,G.ANNOTATION_XML],[Ge.APPLET,G.APPLET],[Ge.AREA,G.AREA],[Ge.ARTICLE,G.ARTICLE],[Ge.ASIDE,G.ASIDE],[Ge.B,G.B],[Ge.BASE,G.BASE],[Ge.BASEFONT,G.BASEFONT],[Ge.BGSOUND,G.BGSOUND],[Ge.BIG,G.BIG],[Ge.BLOCKQUOTE,G.BLOCKQUOTE],[Ge.BODY,G.BODY],[Ge.BR,G.BR],[Ge.BUTTON,G.BUTTON],[Ge.CAPTION,G.CAPTION],[Ge.CENTER,G.CENTER],[Ge.CODE,G.CODE],[Ge.COL,G.COL],[Ge.COLGROUP,G.COLGROUP],[Ge.DD,G.DD],[Ge.DESC,G.DESC],[Ge.DETAILS,G.DETAILS],[Ge.DIALOG,G.DIALOG],[Ge.DIR,G.DIR],[Ge.DIV,G.DIV],[Ge.DL,G.DL],[Ge.DT,G.DT],[Ge.EM,G.EM],[Ge.EMBED,G.EMBED],[Ge.FIELDSET,G.FIELDSET],[Ge.FIGCAPTION,G.FIGCAPTION],[Ge.FIGURE,G.FIGURE],[Ge.FONT,G.FONT],[Ge.FOOTER,G.FOOTER],[Ge.FOREIGN_OBJECT,G.FOREIGN_OBJECT],[Ge.FORM,G.FORM],[Ge.FRAME,G.FRAME],[Ge.FRAMESET,G.FRAMESET],[Ge.H1,G.H1],[Ge.H2,G.H2],[Ge.H3,G.H3],[Ge.H4,G.H4],[Ge.H5,G.H5],[Ge.H6,G.H6],[Ge.HEAD,G.HEAD],[Ge.HEADER,G.HEADER],[Ge.HGROUP,G.HGROUP],[Ge.HR,G.HR],[Ge.HTML,G.HTML],[Ge.I,G.I],[Ge.IMG,G.IMG],[Ge.IMAGE,G.IMAGE],[Ge.INPUT,G.INPUT],[Ge.IFRAME,G.IFRAME],[Ge.KEYGEN,G.KEYGEN],[Ge.LABEL,G.LABEL],[Ge.LI,G.LI],[Ge.LINK,G.LINK],[Ge.LISTING,G.LISTING],[Ge.MAIN,G.MAIN],[Ge.MALIGNMARK,G.MALIGNMARK],[Ge.MARQUEE,G.MARQUEE],[Ge.MATH,G.MATH],[Ge.MENU,G.MENU],[Ge.META,G.META],[Ge.MGLYPH,G.MGLYPH],[Ge.MI,G.MI],[Ge.MO,G.MO],[Ge.MN,G.MN],[Ge.MS,G.MS],[Ge.MTEXT,G.MTEXT],[Ge.NAV,G.NAV],[Ge.NOBR,G.NOBR],[Ge.NOFRAMES,G.NOFRAMES],[Ge.NOEMBED,G.NOEMBED],[Ge.NOSCRIPT,G.NOSCRIPT],[Ge.OBJECT,G.OBJECT],[Ge.OL,G.OL],[Ge.OPTGROUP,G.OPTGROUP],[Ge.OPTION,G.OPTION],[Ge.P,G.P],[Ge.PARAM,G.PARAM],[Ge.PLAINTEXT,G.PLAINTEXT],[Ge.PRE,G.PRE],[Ge.RB,G.RB],[Ge.RP,G.RP],[Ge.RT,G.RT],[Ge.RTC,G.RTC],[Ge.RUBY,G.RUBY],[Ge.S,G.S],[Ge.SCRIPT,G.SCRIPT],[Ge.SECTION,G.SECTION],[Ge.SELECT,G.SELECT],[Ge.SOURCE,G.SOURCE],[Ge.SMALL,G.SMALL],[Ge.SPAN,G.SPAN],[Ge.STRIKE,G.STRIKE],[Ge.STRONG,G.STRONG],[Ge.STYLE,G.STYLE],[Ge.SUB,G.SUB],[Ge.SUMMARY,G.SUMMARY],[Ge.SUP,G.SUP],[Ge.TABLE,G.TABLE],[Ge.TBODY,G.TBODY],[Ge.TEMPLATE,G.TEMPLATE],[Ge.TEXTAREA,G.TEXTAREA],[Ge.TFOOT,G.TFOOT],[Ge.TD,G.TD],[Ge.TH,G.TH],[Ge.THEAD,G.THEAD],[Ge.TITLE,G.TITLE],[Ge.TR,G.TR],[Ge.TRACK,G.TRACK],[Ge.TT,G.TT],[Ge.U,G.U],[Ge.UL,G.UL],[Ge.SVG,G.SVG],[Ge.VAR,G.VAR],[Ge.WBR,G.WBR],[Ge.XMP,G.XMP]]);function dC(e){var t;return(t=_tt.get(e))!==null&&t!==void 0?t:G.UNKNOWN}const xt=G,Ett={[at.HTML]:new Set([xt.ADDRESS,xt.APPLET,xt.AREA,xt.ARTICLE,xt.ASIDE,xt.BASE,xt.BASEFONT,xt.BGSOUND,xt.BLOCKQUOTE,xt.BODY,xt.BR,xt.BUTTON,xt.CAPTION,xt.CENTER,xt.COL,xt.COLGROUP,xt.DD,xt.DETAILS,xt.DIR,xt.DIV,xt.DL,xt.DT,xt.EMBED,xt.FIELDSET,xt.FIGCAPTION,xt.FIGURE,xt.FOOTER,xt.FORM,xt.FRAME,xt.FRAMESET,xt.H1,xt.H2,xt.H3,xt.H4,xt.H5,xt.H6,xt.HEAD,xt.HEADER,xt.HGROUP,xt.HR,xt.HTML,xt.IFRAME,xt.IMG,xt.INPUT,xt.LI,xt.LINK,xt.LISTING,xt.MAIN,xt.MARQUEE,xt.MENU,xt.META,xt.NAV,xt.NOEMBED,xt.NOFRAMES,xt.NOSCRIPT,xt.OBJECT,xt.OL,xt.P,xt.PARAM,xt.PLAINTEXT,xt.PRE,xt.SCRIPT,xt.SECTION,xt.SELECT,xt.SOURCE,xt.STYLE,xt.SUMMARY,xt.TABLE,xt.TBODY,xt.TD,xt.TEMPLATE,xt.TEXTAREA,xt.TFOOT,xt.TH,xt.THEAD,xt.TITLE,xt.TR,xt.TRACK,xt.UL,xt.WBR,xt.XMP]),[at.MATHML]:new Set([xt.MI,xt.MO,xt.MN,xt.MS,xt.MTEXT,xt.ANNOTATION_XML]),[at.SVG]:new Set([xt.TITLE,xt.FOREIGN_OBJECT,xt.DESC]),[at.XLINK]:new Set,[at.XML]:new Set,[at.XMLNS]:new Set};function Sxe(e){return e===xt.H1||e===xt.H2||e===xt.H3||e===xt.H4||e===xt.H5||e===xt.H6}Ge.STYLE,Ge.SCRIPT,Ge.XMP,Ge.IFRAME,Ge.NOEMBED,Ge.NOFRAMES,Ge.PLAINTEXT;const Stt=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var _e;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(_e||(_e={}));const Po={DATA:_e.DATA,RCDATA:_e.RCDATA,RAWTEXT:_e.RAWTEXT,SCRIPT_DATA:_e.SCRIPT_DATA,PLAINTEXT:_e.PLAINTEXT,CDATA_SECTION:_e.CDATA_SECTION};function hS(e){return e>=ye.DIGIT_0&&e<=ye.DIGIT_9}function _E(e){return e>=ye.LATIN_CAPITAL_A&&e<=ye.LATIN_CAPITAL_Z}function Ttt(e){return e>=ye.LATIN_SMALL_A&&e<=ye.LATIN_SMALL_Z}function bg(e){return Ttt(e)||_E(e)}function iz(e){return bg(e)||hS(e)}function Txe(e){return e>=ye.LATIN_CAPITAL_A&&e<=ye.LATIN_CAPITAL_F}function kxe(e){return e>=ye.LATIN_SMALL_A&&e<=ye.LATIN_SMALL_F}function ktt(e){return hS(e)||Txe(e)||kxe(e)}function yR(e){return e+32}function Axe(e){return e===ye.SPACE||e===ye.LINE_FEED||e===ye.TABULATION||e===ye.FORM_FEED}function Att(e){return e===ye.EQUALS_SIGN||iz(e)}function Goe(e){return Axe(e)||e===ye.SOLIDUS||e===ye.GREATER_THAN_SIGN}class Rtt{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=_e.DATA,this.returnState=_e.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new htt(n),this.currentLocation=this.getCurrentLocation(-1)}_err(t){var n,r;(r=(n=this.handler).onParseError)===null||r===void 0||r.call(n,this.preprocessor.getError(t))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(t){this.consumedAfterSnapshot-=t,this.preprocessor.retreat(t)}_reconsumeInState(t,n){this.state=t,this._callState(n)}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:lr.START_TAG,tagName:"",tagID:G.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:lr.END_TAG,tagName:"",tagID:G.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:lr.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:lr.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(Cxe(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(Je.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=dC(t.tagName),t.type===lr.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(Je.endTagWithAttributes),t.selfClosing&&this._err(Je.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case lr.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case lr.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case lr.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:lr.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==t)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=n;return}this._createCharacterToken(t,n)}_emitCodePoint(t){const n=Axe(t)?lr.WHITESPACE_CHARACTER:t===ye.NULL?lr.NULL_CHARACTER:lr.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(lr.CHARACTER,t)}_matchNamedCharacterReference(t){let n=null,r=0,i=!1;for(let o=0,s=vg[0];o>=0&&(o=Exe(vg,s,o+1,t),!(o<0));t=this._consume()){r+=1,s=vg[o];const a=s&rh.VALUE_LENGTH;if(a){const l=(a>>14)-1;if(t!==ye.SEMICOLON&&this._isCharacterReferenceInAttribute()&&Att(this.preprocessor.peek(1))?(n=[ye.AMPERSAND],o+=l):(n=l===0?[vg[o]&~rh.VALUE_LENGTH]:l===1?[vg[++o]]:[vg[++o],vg[++o]],r=0,i=t!==ye.SEMICOLON),l===0){this._consume();break}}}return this._unconsume(r),i&&!this.preprocessor.endOfChunkHit&&this._err(Je.missingSemicolonAfterCharacterReference),this._unconsume(1),n}_isCharacterReferenceInAttribute(){return this.returnState===_e.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===_e.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===_e.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case _e.DATA:{this._stateData(t);break}case _e.RCDATA:{this._stateRcdata(t);break}case _e.RAWTEXT:{this._stateRawtext(t);break}case _e.SCRIPT_DATA:{this._stateScriptData(t);break}case _e.PLAINTEXT:{this._statePlaintext(t);break}case _e.TAG_OPEN:{this._stateTagOpen(t);break}case _e.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case _e.TAG_NAME:{this._stateTagName(t);break}case _e.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case _e.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case _e.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case _e.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case _e.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case _e.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case _e.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case _e.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case _e.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case _e.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case _e.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case _e.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case _e.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case _e.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case _e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case _e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case _e.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case _e.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case _e.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case _e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case _e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case _e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case _e.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case _e.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case _e.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case _e.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case _e.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case _e.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case _e.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case _e.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case _e.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case _e.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case _e.BOGUS_COMMENT:{this._stateBogusComment(t);break}case _e.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case _e.COMMENT_START:{this._stateCommentStart(t);break}case _e.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case _e.COMMENT:{this._stateComment(t);break}case _e.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case _e.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case _e.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case _e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case _e.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case _e.COMMENT_END:{this._stateCommentEnd(t);break}case _e.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case _e.DOCTYPE:{this._stateDoctype(t);break}case _e.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case _e.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case _e.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case _e.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case _e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case _e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case _e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case _e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case _e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case _e.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case _e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case _e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case _e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case _e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case _e.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case _e.CDATA_SECTION:{this._stateCdataSection(t);break}case _e.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case _e.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case _e.CHARACTER_REFERENCE:{this._stateCharacterReference(t);break}case _e.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(t);break}case _e.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}case _e.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(t);break}case _e.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(t);break}case _e.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(t);break}case _e.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(t);break}case _e.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case ye.LESS_THAN_SIGN:{this.state=_e.TAG_OPEN;break}case ye.AMPERSAND:{this.returnState=_e.DATA,this.state=_e.CHARACTER_REFERENCE;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this._emitCodePoint(t);break}case ye.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case ye.AMPERSAND:{this.returnState=_e.RCDATA,this.state=_e.CHARACTER_REFERENCE;break}case ye.LESS_THAN_SIGN:{this.state=_e.RCDATA_LESS_THAN_SIGN;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this._emitChars(Wi);break}case ye.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case ye.LESS_THAN_SIGN:{this.state=_e.RAWTEXT_LESS_THAN_SIGN;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this._emitChars(Wi);break}case ye.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case ye.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_LESS_THAN_SIGN;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this._emitChars(Wi);break}case ye.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case ye.NULL:{this._err(Je.unexpectedNullCharacter),this._emitChars(Wi);break}case ye.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(bg(t))this._createStartTagToken(),this.state=_e.TAG_NAME,this._stateTagName(t);else switch(t){case ye.EXCLAMATION_MARK:{this.state=_e.MARKUP_DECLARATION_OPEN;break}case ye.SOLIDUS:{this.state=_e.END_TAG_OPEN;break}case ye.QUESTION_MARK:{this._err(Je.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=_e.BOGUS_COMMENT,this._stateBogusComment(t);break}case ye.EOF:{this._err(Je.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(Je.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=_e.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(bg(t))this._createEndTagToken(),this.state=_e.TAG_NAME,this._stateTagName(t);else switch(t){case ye.GREATER_THAN_SIGN:{this._err(Je.missingEndTagName),this.state=_e.DATA;break}case ye.EOF:{this._err(Je.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(Je.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=_e.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:{this.state=_e.BEFORE_ATTRIBUTE_NAME;break}case ye.SOLIDUS:{this.state=_e.SELF_CLOSING_START_TAG;break}case ye.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentTagToken();break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),n.tagName+=Wi;break}case ye.EOF:{this._err(Je.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(_E(t)?yR(t):t)}}_stateRcdataLessThanSign(t){t===ye.SOLIDUS?this.state=_e.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=_e.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){bg(t)?(this.state=_e.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=_e.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=_e.BEFORE_ATTRIBUTE_NAME,!1;case ye.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=_e.SELF_CLOSING_START_TAG,!1;case ye.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=_e.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=_e.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===ye.SOLIDUS?this.state=_e.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=_e.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){bg(t)?(this.state=_e.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=_e.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=_e.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case ye.SOLIDUS:{this.state=_e.SCRIPT_DATA_END_TAG_OPEN;break}case ye.EXCLAMATION_MARK:{this.state=_e.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=_e.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){bg(t)?(this.state=_e.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=_e.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=_e.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===ye.HYPHEN_MINUS?(this.state=_e.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=_e.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===ye.HYPHEN_MINUS?(this.state=_e.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=_e.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case ye.HYPHEN_MINUS:{this.state=_e.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case ye.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this._emitChars(Wi);break}case ye.EOF:{this._err(Je.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case ye.HYPHEN_MINUS:{this.state=_e.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case ye.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this.state=_e.SCRIPT_DATA_ESCAPED,this._emitChars(Wi);break}case ye.EOF:{this._err(Je.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=_e.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case ye.HYPHEN_MINUS:{this._emitChars("-");break}case ye.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ye.GREATER_THAN_SIGN:{this.state=_e.SCRIPT_DATA,this._emitChars(">");break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this.state=_e.SCRIPT_DATA_ESCAPED,this._emitChars(Wi);break}case ye.EOF:{this._err(Je.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=_e.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===ye.SOLIDUS?this.state=_e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:bg(t)?(this._emitChars("<"),this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=_e.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){bg(t)?(this.state=_e.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=_e.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=_e.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Fl.SCRIPT,!1)&&Goe(this.preprocessor.peek(Fl.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Fl.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=_e.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case ye.HYPHEN_MINUS:{this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case ye.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this._emitChars(Wi);break}case ye.EOF:{this._err(Je.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case ye.HYPHEN_MINUS:{this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case ye.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Wi);break}case ye.EOF:{this._err(Je.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case ye.HYPHEN_MINUS:{this._emitChars("-");break}case ye.LESS_THAN_SIGN:{this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ye.GREATER_THAN_SIGN:{this.state=_e.SCRIPT_DATA,this._emitChars(">");break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Wi);break}case ye.EOF:{this._err(Je.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===ye.SOLIDUS?(this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Fl.SCRIPT,!1)&&Goe(this.preprocessor.peek(Fl.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Fl.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=_e.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=_e.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:break;case ye.SOLIDUS:case ye.GREATER_THAN_SIGN:case ye.EOF:{this.state=_e.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case ye.EQUALS_SIGN:{this._err(Je.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=_e.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=_e.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:case ye.SOLIDUS:case ye.GREATER_THAN_SIGN:case ye.EOF:{this._leaveAttrName(),this.state=_e.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case ye.EQUALS_SIGN:{this._leaveAttrName(),this.state=_e.BEFORE_ATTRIBUTE_VALUE;break}case ye.QUOTATION_MARK:case ye.APOSTROPHE:case ye.LESS_THAN_SIGN:{this._err(Je.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this.currentAttr.name+=Wi;break}default:this.currentAttr.name+=String.fromCodePoint(_E(t)?yR(t):t)}}_stateAfterAttributeName(t){switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:break;case ye.SOLIDUS:{this.state=_e.SELF_CLOSING_START_TAG;break}case ye.EQUALS_SIGN:{this.state=_e.BEFORE_ATTRIBUTE_VALUE;break}case ye.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentTagToken();break}case ye.EOF:{this._err(Je.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=_e.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:break;case ye.QUOTATION_MARK:{this.state=_e.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case ye.APOSTROPHE:{this.state=_e.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case ye.GREATER_THAN_SIGN:{this._err(Je.missingAttributeValue),this.state=_e.DATA,this.emitCurrentTagToken();break}default:this.state=_e.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case ye.QUOTATION_MARK:{this.state=_e.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case ye.AMPERSAND:{this.returnState=_e.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=_e.CHARACTER_REFERENCE;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this.currentAttr.value+=Wi;break}case ye.EOF:{this._err(Je.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case ye.APOSTROPHE:{this.state=_e.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case ye.AMPERSAND:{this.returnState=_e.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=_e.CHARACTER_REFERENCE;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this.currentAttr.value+=Wi;break}case ye.EOF:{this._err(Je.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:{this._leaveAttrValue(),this.state=_e.BEFORE_ATTRIBUTE_NAME;break}case ye.AMPERSAND:{this.returnState=_e.ATTRIBUTE_VALUE_UNQUOTED,this.state=_e.CHARACTER_REFERENCE;break}case ye.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=_e.DATA,this.emitCurrentTagToken();break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),this.currentAttr.value+=Wi;break}case ye.QUOTATION_MARK:case ye.APOSTROPHE:case ye.LESS_THAN_SIGN:case ye.EQUALS_SIGN:case ye.GRAVE_ACCENT:{this._err(Je.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case ye.EOF:{this._err(Je.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:{this._leaveAttrValue(),this.state=_e.BEFORE_ATTRIBUTE_NAME;break}case ye.SOLIDUS:{this._leaveAttrValue(),this.state=_e.SELF_CLOSING_START_TAG;break}case ye.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=_e.DATA,this.emitCurrentTagToken();break}case ye.EOF:{this._err(Je.eofInTag),this._emitEOFToken();break}default:this._err(Je.missingWhitespaceBetweenAttributes),this.state=_e.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case ye.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=_e.DATA,this.emitCurrentTagToken();break}case ye.EOF:{this._err(Je.eofInTag),this._emitEOFToken();break}default:this._err(Je.unexpectedSolidusInTag),this.state=_e.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case ye.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentComment(n);break}case ye.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),n.data+=Wi;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Fl.DASH_DASH,!0)?(this._createCommentToken(Fl.DASH_DASH.length+1),this.state=_e.COMMENT_START):this._consumeSequenceIfMatch(Fl.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Fl.DOCTYPE.length+1),this.state=_e.DOCTYPE):this._consumeSequenceIfMatch(Fl.CDATA_START,!0)?this.inForeignNode?this.state=_e.CDATA_SECTION:(this._err(Je.cdataInHtmlContent),this._createCommentToken(Fl.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=_e.BOGUS_COMMENT):this._ensureHibernation()||(this._err(Je.incorrectlyOpenedComment),this._createCommentToken(2),this.state=_e.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case ye.HYPHEN_MINUS:{this.state=_e.COMMENT_START_DASH;break}case ye.GREATER_THAN_SIGN:{this._err(Je.abruptClosingOfEmptyComment),this.state=_e.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=_e.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case ye.HYPHEN_MINUS:{this.state=_e.COMMENT_END;break}case ye.GREATER_THAN_SIGN:{this._err(Je.abruptClosingOfEmptyComment),this.state=_e.DATA,this.emitCurrentComment(n);break}case ye.EOF:{this._err(Je.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=_e.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case ye.HYPHEN_MINUS:{this.state=_e.COMMENT_END_DASH;break}case ye.LESS_THAN_SIGN:{n.data+="<",this.state=_e.COMMENT_LESS_THAN_SIGN;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),n.data+=Wi;break}case ye.EOF:{this._err(Je.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case ye.EXCLAMATION_MARK:{n.data+="!",this.state=_e.COMMENT_LESS_THAN_SIGN_BANG;break}case ye.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=_e.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===ye.HYPHEN_MINUS?this.state=_e.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=_e.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===ye.HYPHEN_MINUS?this.state=_e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=_e.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==ye.GREATER_THAN_SIGN&&t!==ye.EOF&&this._err(Je.nestedComment),this.state=_e.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case ye.HYPHEN_MINUS:{this.state=_e.COMMENT_END;break}case ye.EOF:{this._err(Je.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=_e.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case ye.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentComment(n);break}case ye.EXCLAMATION_MARK:{this.state=_e.COMMENT_END_BANG;break}case ye.HYPHEN_MINUS:{n.data+="-";break}case ye.EOF:{this._err(Je.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=_e.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case ye.HYPHEN_MINUS:{n.data+="--!",this.state=_e.COMMENT_END_DASH;break}case ye.GREATER_THAN_SIGN:{this._err(Je.incorrectlyClosedComment),this.state=_e.DATA,this.emitCurrentComment(n);break}case ye.EOF:{this._err(Je.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=_e.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:{this.state=_e.BEFORE_DOCTYPE_NAME;break}case ye.GREATER_THAN_SIGN:{this.state=_e.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case ye.EOF:{this._err(Je.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Je.missingWhitespaceBeforeDoctypeName),this.state=_e.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(_E(t))this._createDoctypeToken(String.fromCharCode(yR(t))),this.state=_e.DOCTYPE_NAME;else switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:break;case ye.NULL:{this._err(Je.unexpectedNullCharacter),this._createDoctypeToken(Wi),this.state=_e.DOCTYPE_NAME;break}case ye.GREATER_THAN_SIGN:{this._err(Je.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=_e.DATA;break}case ye.EOF:{this._err(Je.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=_e.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:{this.state=_e.AFTER_DOCTYPE_NAME;break}case ye.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentDoctype(n);break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),n.name+=Wi;break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(_E(t)?yR(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:break;case ye.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentDoctype(n);break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Fl.PUBLIC,!1)?this.state=_e.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Fl.SYSTEM,!1)?this.state=_e.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(Je.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:{this.state=_e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case ye.QUOTATION_MARK:{this._err(Je.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=_e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case ye.APOSTROPHE:{this._err(Je.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=_e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case ye.GREATER_THAN_SIGN:{this._err(Je.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=_e.DATA,this.emitCurrentDoctype(n);break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Je.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:break;case ye.QUOTATION_MARK:{n.publicId="",this.state=_e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case ye.APOSTROPHE:{n.publicId="",this.state=_e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case ye.GREATER_THAN_SIGN:{this._err(Je.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=_e.DATA,this.emitCurrentDoctype(n);break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Je.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case ye.QUOTATION_MARK:{this.state=_e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),n.publicId+=Wi;break}case ye.GREATER_THAN_SIGN:{this._err(Je.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=_e.DATA;break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case ye.APOSTROPHE:{this.state=_e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),n.publicId+=Wi;break}case ye.GREATER_THAN_SIGN:{this._err(Je.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=_e.DATA;break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:{this.state=_e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case ye.GREATER_THAN_SIGN:{this.state=_e.DATA,this.emitCurrentDoctype(n);break}case ye.QUOTATION_MARK:{this._err(Je.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ye.APOSTROPHE:{this._err(Je.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Je.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:break;case ye.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=_e.DATA;break}case ye.QUOTATION_MARK:{n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ye.APOSTROPHE:{n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Je.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:{this.state=_e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case ye.QUOTATION_MARK:{this._err(Je.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ye.APOSTROPHE:{this._err(Je.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ye.GREATER_THAN_SIGN:{this._err(Je.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_e.DATA,this.emitCurrentDoctype(n);break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Je.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:break;case ye.QUOTATION_MARK:{n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ye.APOSTROPHE:{n.systemId="",this.state=_e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ye.GREATER_THAN_SIGN:{this._err(Je.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_e.DATA,this.emitCurrentDoctype(n);break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Je.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case ye.QUOTATION_MARK:{this.state=_e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),n.systemId+=Wi;break}case ye.GREATER_THAN_SIGN:{this._err(Je.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=_e.DATA;break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case ye.APOSTROPHE:{this.state=_e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter),n.systemId+=Wi;break}case ye.GREATER_THAN_SIGN:{this._err(Je.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=_e.DATA;break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case ye.SPACE:case ye.LINE_FEED:case ye.TABULATION:case ye.FORM_FEED:break;case ye.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=_e.DATA;break}case ye.EOF:{this._err(Je.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Je.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=_e.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case ye.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=_e.DATA;break}case ye.NULL:{this._err(Je.unexpectedNullCharacter);break}case ye.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case ye.RIGHT_SQUARE_BRACKET:{this.state=_e.CDATA_SECTION_BRACKET;break}case ye.EOF:{this._err(Je.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===ye.RIGHT_SQUARE_BRACKET?this.state=_e.CDATA_SECTION_END:(this._emitChars("]"),this.state=_e.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case ye.GREATER_THAN_SIGN:{this.state=_e.DATA;break}case ye.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=_e.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(t){t===ye.NUMBER_SIGN?this.state=_e.NUMERIC_CHARACTER_REFERENCE:iz(t)?(this.state=_e.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(t)):(this._flushCodePointConsumedAsCharacterReference(ye.AMPERSAND),this._reconsumeInState(this.returnState,t))}_stateNamedCharacterReference(t){const n=this._matchNamedCharacterReference(t);if(!this._ensureHibernation())if(n){for(let r=0;r<n.length;r++)this._flushCodePointConsumedAsCharacterReference(n[r]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(ye.AMPERSAND),this.state=_e.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(t){iz(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===ye.SEMICOLON&&this._err(Je.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,t))}_stateNumericCharacterReference(t){this.charRefCode=0,t===ye.LATIN_SMALL_X||t===ye.LATIN_CAPITAL_X?this.state=_e.HEXADEMICAL_CHARACTER_REFERENCE_START:hS(t)?(this.state=_e.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(t)):(this._err(Je.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(ye.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(ye.NUMBER_SIGN),this._reconsumeInState(this.returnState,t))}_stateHexademicalCharacterReferenceStart(t){ktt(t)?(this.state=_e.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(t)):(this._err(Je.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(ye.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(ye.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(t){Txe(t)?this.charRefCode=this.charRefCode*16+t-55:kxe(t)?this.charRefCode=this.charRefCode*16+t-87:hS(t)?this.charRefCode=this.charRefCode*16+t-48:t===ye.SEMICOLON?this.state=_e.NUMERIC_CHARACTER_REFERENCE_END:(this._err(Je.missingSemicolonAfterCharacterReference),this.state=_e.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateDecimalCharacterReference(t){hS(t)?this.charRefCode=this.charRefCode*10+t-48:t===ye.SEMICOLON?this.state=_e.NUMERIC_CHARACTER_REFERENCE_END:(this._err(Je.missingSemicolonAfterCharacterReference),this.state=_e.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateNumericCharacterReferenceEnd(t){if(this.charRefCode===ye.NULL)this._err(Je.nullCharacterReference),this.charRefCode=ye.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(Je.characterReferenceOutsideUnicodeRange),this.charRefCode=ye.REPLACEMENT_CHARACTER;else if(bxe(this.charRefCode))this._err(Je.surrogateCharacterReference),this.charRefCode=ye.REPLACEMENT_CHARACTER;else if(xxe(this.charRefCode))this._err(Je.noncharacterCharacterReference);else if(wxe(this.charRefCode)||this.charRefCode===ye.CARRIAGE_RETURN){this._err(Je.controlCharacterReference);const n=Stt.get(this.charRefCode);n!==void 0&&(this.charRefCode=n)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,t)}}const Rxe=new Set([G.DD,G.DT,G.LI,G.OPTGROUP,G.OPTION,G.P,G.RB,G.RP,G.RT,G.RTC]),Yoe=new Set([...Rxe,G.CAPTION,G.COLGROUP,G.TBODY,G.TD,G.TFOOT,G.TH,G.THEAD,G.TR]),vR=new Map([[G.APPLET,at.HTML],[G.CAPTION,at.HTML],[G.HTML,at.HTML],[G.MARQUEE,at.HTML],[G.OBJECT,at.HTML],[G.TABLE,at.HTML],[G.TD,at.HTML],[G.TEMPLATE,at.HTML],[G.TH,at.HTML],[G.ANNOTATION_XML,at.MATHML],[G.MI,at.MATHML],[G.MN,at.MATHML],[G.MO,at.MATHML],[G.MS,at.MATHML],[G.MTEXT,at.MATHML],[G.DESC,at.SVG],[G.FOREIGN_OBJECT,at.SVG],[G.TITLE,at.SVG]]),Itt=[G.H1,G.H2,G.H3,G.H4,G.H5,G.H6],Dtt=[G.TR,G.TEMPLATE,G.HTML],Ptt=[G.TBODY,G.TFOOT,G.THEAD,G.TEMPLATE,G.HTML],Ott=[G.TABLE,G.TEMPLATE,G.HTML],Ntt=[G.TD,G.TH];class Mtt{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=G.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===G.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===at.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==at.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(Itt,at.HTML)}popUntilTableCellPopped(){this.popUntilPopped(Ntt,at.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.includes(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(Ott,at.HTML)}clearBackToTableBodyContext(){this.clearBackTo(Ptt,at.HTML)}clearBackToTableRowContext(){this.clearBackTo(Dtt,at.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===G.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===G.HTML}hasInScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===at.HTML)return!0;if(vR.get(r)===i)return!1}return!0}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(Sxe(n)&&r===at.HTML)return!0;if(vR.get(n)===r)return!1}return!0}hasInListItemScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===at.HTML)return!0;if((r===G.UL||r===G.OL)&&i===at.HTML||vR.get(r)===i)return!1}return!0}hasInButtonScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===at.HTML)return!0;if(r===G.BUTTON&&i===at.HTML||vR.get(r)===i)return!1}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===at.HTML){if(r===t)return!0;if(r===G.TABLE||r===G.TEMPLATE||r===G.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===at.HTML){if(n===G.TBODY||n===G.THEAD||n===G.TFOOT)return!0;if(n===G.TABLE||n===G.HTML)return!1}}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===at.HTML){if(r===t)return!0;if(r!==G.OPTION&&r!==G.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;Rxe.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;Yoe.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&Yoe.has(this.currentTagId);)this.pop()}}const JF=3;var vd;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(vd=vd||(vd={}));const Koe={type:vd.Marker};class $tt{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,o=this.treeAdapter.getTagName(t),s=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const l=this.entries[a];if(l.type===vd.Marker)break;const{element:u}=l;if(this.treeAdapter.getTagName(u)===o&&this.treeAdapter.getNamespaceURI(u)===s){const c=this.treeAdapter.getAttrList(u);c.length===i&&r.push({idx:a,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<JF)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<JF)return;const i=new Map(n.map(s=>[s.name,s.value]));let o=0;for(let s=0;s<r.length;s++){const a=r[s];a.attrs.every(l=>i.get(l.name)===l.value)&&(o+=1,o>=JF&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(Koe)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:vd.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:vd.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(Koe);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===vd.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===vd.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===vd.Element&&n.element===t)}}function Xoe(e){return{nodeName:"#text",value:e,parentNode:null}}const ow={createDocument(){return{nodeName:"#document",mode:Su.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(o=>o.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const o={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};ow.appendChild(e,o)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(ow.isTextNode(n)){n.value+=t;return}}ow.appendChild(e,Xoe(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&ow.isTextNode(r)?r.value+=t:ow.insertBefore(e,Xoe(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},Ixe="html",Ltt="about:legacy-compat",Ftt="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",Dxe=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],jtt=[...Dxe,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],Btt=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Pxe=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],ztt=[...Pxe,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Qoe(e,t){return t.some(n=>e.startsWith(n))}function Utt(e){return e.name===Ixe&&e.publicId===null&&(e.systemId===null||e.systemId===Ltt)}function Htt(e){if(e.name!==Ixe)return Su.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===Ftt)return Su.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),Btt.has(n))return Su.QUIRKS;let r=t===null?jtt:Dxe;if(Qoe(n,r))return Su.QUIRKS;if(r=t===null?Pxe:ztt,Qoe(n,r))return Su.LIMITED_QUIRKS}return Su.NO_QUIRKS}const Joe={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},qtt="definitionurl",Vtt="definitionURL",Wtt=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),Gtt=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:at.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:at.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:at.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:at.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:at.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:at.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:at.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:at.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:at.XML}],["xml:space",{prefix:"xml",name:"space",namespace:at.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:at.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:at.XMLNS}]]),Ytt=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),Ktt=new Set([G.B,G.BIG,G.BLOCKQUOTE,G.BODY,G.BR,G.CENTER,G.CODE,G.DD,G.DIV,G.DL,G.DT,G.EM,G.EMBED,G.H1,G.H2,G.H3,G.H4,G.H5,G.H6,G.HEAD,G.HR,G.I,G.IMG,G.LI,G.LISTING,G.MENU,G.META,G.NOBR,G.OL,G.P,G.PRE,G.RUBY,G.S,G.SMALL,G.SPAN,G.STRONG,G.STRIKE,G.SUB,G.SUP,G.TABLE,G.TT,G.U,G.UL,G.VAR]);function Xtt(e){const t=e.tagID;return t===G.FONT&&e.attrs.some(({name:r})=>r===Zg.COLOR||r===Zg.SIZE||r===Zg.FACE)||Ktt.has(t)}function Oxe(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===qtt){e.attrs[t].name=Vtt;break}}function Nxe(e){for(let t=0;t<e.attrs.length;t++){const n=Wtt.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function AG(e){for(let t=0;t<e.attrs.length;t++){const n=Gtt.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function Qtt(e){const t=Ytt.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=dC(e.tagName))}function Jtt(e,t){return t===at.MATHML&&(e===G.MI||e===G.MO||e===G.MN||e===G.MS||e===G.MTEXT)}function Ztt(e,t,n){if(t===at.MATHML&&e===G.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Zg.ENCODING){const i=n[r].value.toLowerCase();return i===Joe.TEXT_HTML||i===Joe.APPLICATION_XML}}return t===at.SVG&&(e===G.FOREIGN_OBJECT||e===G.DESC||e===G.TITLE)}function ent(e,t,n,r){return(!r||r===at.HTML)&&Ztt(e,t,n)||(!r||r===at.MATHML)&&Jtt(e,t)}const tnt="hidden",nnt=8,rnt=3;var Pe;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(Pe||(Pe={}));const int={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Mxe=new Set([G.TABLE,G.TBODY,G.TFOOT,G.THEAD,G.TR]),Zoe={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:ow,onParseError:null};let ese=class{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=Pe.INITIAL,this.originalInsertionMode=Pe.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...Zoe,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new Rtt(this.options,this),this.activeFormattingElements=new $tt(this.treeAdapter),this.fragmentContextID=r?dC(this.treeAdapter.getTagName(r)):G.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new Mtt(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...Zoe,...n};t??(t=r.treeAdapter.createElement(Ge.TEMPLATE,at.HTML,[]));const i=r.treeAdapter.createElement("documentmock",at.HTML,[]),o=new this(r,i,t);return o.fragmentContextID===G.TEMPLATE&&o.tmplInsertionModeStack.unshift(Pe.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const o=(i=t.location)!==null&&i!==void 0?i:int,s={code:n,startLine:o.startLine,startCol:o.startCol,startOffset:o.startOffset,endLine:r?o.startLine:o.endLine,endCol:r?o.startCol:o.endCol,endOffset:r?o.startOffset:o.endOffset};this.onParseError(s)}onItemPush(t,n,r){var i,o;(o=(i=this.treeAdapter).onItemPush)===null||o===void 0||o.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let o,s;this.openElements.stackTop===0&&this.fragmentContext?(o=this.fragmentContext,s=this.fragmentContextID):{current:o,currentTagId:s}=this.openElements,this._setContextModes(o,s)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===at.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,at.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=Pe.TEXT}switchToPlaintextParsing(){this.insertionMode=Pe.TEXT,this.originalInsertionMode=Pe.IN_BODY,this.tokenizer.state=Po.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===Ge.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==at.HTML))switch(this.fragmentContextID){case G.TITLE:case G.TEXTAREA:{this.tokenizer.state=Po.RCDATA;break}case G.STYLE:case G.XMP:case G.IFRAME:case G.NOEMBED:case G.NOFRAMES:case G.NOSCRIPT:{this.tokenizer.state=Po.RAWTEXT;break}case G.SCRIPT:{this.tokenizer.state=Po.SCRIPT_DATA;break}case G.PLAINTEXT:{this.tokenizer.state=Po.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const s=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));s&&this.treeAdapter.setNodeSourceCodeLocation(s,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,at.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,at.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(Ge.HTML,at.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,G.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),o=r?i.lastIndexOf(r):i.length,s=i[o-1];if(this.treeAdapter.getNodeSourceCodeLocation(s)){const{endLine:l,endCol:u,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(s,{endLine:l,endCol:u,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),o=n.type===lr.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,o)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===G.SVG&&this.treeAdapter.getTagName(n)===Ge.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===at.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===G.MGLYPH||t.tagID===G.MALIGNMARK)&&!this._isIntegrationPoint(r,n,at.HTML)}_processToken(t){switch(t.type){case lr.CHARACTER:{this.onCharacter(t);break}case lr.NULL_CHARACTER:{this.onNullCharacter(t);break}case lr.COMMENT:{this.onComment(t);break}case lr.DOCTYPE:{this.onDoctype(t);break}case lr.START_TAG:{this._processStartTag(t);break}case lr.END_TAG:{this.onEndTag(t);break}case lr.EOF:{this.onEof(t);break}case lr.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),o=this.treeAdapter.getAttrList(n);return ent(t,i,o,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===vd.Marker||this.openElements.contains(i.element)),r=n<0?t-1:n-1;for(let i=r;i>=0;i--){const o=this.activeFormattingElements.entries[i];this._insertElement(o.token,this.treeAdapter.getNamespaceURI(o.element)),o.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=Pe.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(G.P),this.openElements.popUntilTagNamePopped(G.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case G.TR:{this.insertionMode=Pe.IN_ROW;return}case G.TBODY:case G.THEAD:case G.TFOOT:{this.insertionMode=Pe.IN_TABLE_BODY;return}case G.CAPTION:{this.insertionMode=Pe.IN_CAPTION;return}case G.COLGROUP:{this.insertionMode=Pe.IN_COLUMN_GROUP;return}case G.TABLE:{this.insertionMode=Pe.IN_TABLE;return}case G.BODY:{this.insertionMode=Pe.IN_BODY;return}case G.FRAMESET:{this.insertionMode=Pe.IN_FRAMESET;return}case G.SELECT:{this._resetInsertionModeForSelect(t);return}case G.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case G.HTML:{this.insertionMode=this.headElement?Pe.AFTER_HEAD:Pe.BEFORE_HEAD;return}case G.TD:case G.TH:{if(t>0){this.insertionMode=Pe.IN_CELL;return}break}case G.HEAD:{if(t>0){this.insertionMode=Pe.IN_HEAD;return}break}}this.insertionMode=Pe.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===G.TEMPLATE)break;if(r===G.TABLE){this.insertionMode=Pe.IN_SELECT_IN_TABLE;return}}this.insertionMode=Pe.IN_SELECT}_isElementCausesFosterParenting(t){return Mxe.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case G.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===at.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case G.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return Ett[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Nrt(this,t);return}switch(this.insertionMode){case Pe.INITIAL:{O_(this,t);break}case Pe.BEFORE_HTML:{pS(this,t);break}case Pe.BEFORE_HEAD:{mS(this,t);break}case Pe.IN_HEAD:{gS(this,t);break}case Pe.IN_HEAD_NO_SCRIPT:{yS(this,t);break}case Pe.AFTER_HEAD:{vS(this,t);break}case Pe.IN_BODY:case Pe.IN_CAPTION:case Pe.IN_CELL:case Pe.IN_TEMPLATE:{Lxe(this,t);break}case Pe.TEXT:case Pe.IN_SELECT:case Pe.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case Pe.IN_TABLE:case Pe.IN_TABLE_BODY:case Pe.IN_ROW:{ZF(this,t);break}case Pe.IN_TABLE_TEXT:{Hxe(this,t);break}case Pe.IN_COLUMN_GROUP:{O3(this,t);break}case Pe.AFTER_BODY:{N3(this,t);break}case Pe.AFTER_AFTER_BODY:{MD(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Ort(this,t);return}switch(this.insertionMode){case Pe.INITIAL:{O_(this,t);break}case Pe.BEFORE_HTML:{pS(this,t);break}case Pe.BEFORE_HEAD:{mS(this,t);break}case Pe.IN_HEAD:{gS(this,t);break}case Pe.IN_HEAD_NO_SCRIPT:{yS(this,t);break}case Pe.AFTER_HEAD:{vS(this,t);break}case Pe.TEXT:{this._insertCharacters(t);break}case Pe.IN_TABLE:case Pe.IN_TABLE_BODY:case Pe.IN_ROW:{ZF(this,t);break}case Pe.IN_COLUMN_GROUP:{O3(this,t);break}case Pe.AFTER_BODY:{N3(this,t);break}case Pe.AFTER_AFTER_BODY:{MD(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){oz(this,t);return}switch(this.insertionMode){case Pe.INITIAL:case Pe.BEFORE_HTML:case Pe.BEFORE_HEAD:case Pe.IN_HEAD:case Pe.IN_HEAD_NO_SCRIPT:case Pe.AFTER_HEAD:case Pe.IN_BODY:case Pe.IN_TABLE:case Pe.IN_CAPTION:case Pe.IN_COLUMN_GROUP:case Pe.IN_TABLE_BODY:case Pe.IN_ROW:case Pe.IN_CELL:case Pe.IN_SELECT:case Pe.IN_SELECT_IN_TABLE:case Pe.IN_TEMPLATE:case Pe.IN_FRAMESET:case Pe.AFTER_FRAMESET:{oz(this,t);break}case Pe.IN_TABLE_TEXT:{N_(this,t);break}case Pe.AFTER_BODY:{dnt(this,t);break}case Pe.AFTER_AFTER_BODY:case Pe.AFTER_AFTER_FRAMESET:{fnt(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case Pe.INITIAL:{hnt(this,t);break}case Pe.BEFORE_HEAD:case Pe.IN_HEAD:case Pe.IN_HEAD_NO_SCRIPT:case Pe.AFTER_HEAD:{this._err(t,Je.misplacedDoctype);break}case Pe.IN_TABLE_TEXT:{N_(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,Je.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?Mrt(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case Pe.INITIAL:{O_(this,t);break}case Pe.BEFORE_HTML:{pnt(this,t);break}case Pe.BEFORE_HEAD:{gnt(this,t);break}case Pe.IN_HEAD:{af(this,t);break}case Pe.IN_HEAD_NO_SCRIPT:{bnt(this,t);break}case Pe.AFTER_HEAD:{xnt(this,t);break}case Pe.IN_BODY:{Wa(this,t);break}case Pe.IN_TABLE:{ax(this,t);break}case Pe.IN_TABLE_TEXT:{N_(this,t);break}case Pe.IN_CAPTION:{yrt(this,t);break}case Pe.IN_COLUMN_GROUP:{DG(this,t);break}case Pe.IN_TABLE_BODY:{uM(this,t);break}case Pe.IN_ROW:{cM(this,t);break}case Pe.IN_CELL:{wrt(this,t);break}case Pe.IN_SELECT:{Wxe(this,t);break}case Pe.IN_SELECT_IN_TABLE:{Crt(this,t);break}case Pe.IN_TEMPLATE:{Ert(this,t);break}case Pe.AFTER_BODY:{Trt(this,t);break}case Pe.IN_FRAMESET:{krt(this,t);break}case Pe.AFTER_FRAMESET:{Rrt(this,t);break}case Pe.AFTER_AFTER_BODY:{Drt(this,t);break}case Pe.AFTER_AFTER_FRAMESET:{Prt(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?$rt(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case Pe.INITIAL:{O_(this,t);break}case Pe.BEFORE_HTML:{mnt(this,t);break}case Pe.BEFORE_HEAD:{ynt(this,t);break}case Pe.IN_HEAD:{vnt(this,t);break}case Pe.IN_HEAD_NO_SCRIPT:{wnt(this,t);break}case Pe.AFTER_HEAD:{Cnt(this,t);break}case Pe.IN_BODY:{lM(this,t);break}case Pe.TEXT:{art(this,t);break}case Pe.IN_TABLE:{u2(this,t);break}case Pe.IN_TABLE_TEXT:{N_(this,t);break}case Pe.IN_CAPTION:{vrt(this,t);break}case Pe.IN_COLUMN_GROUP:{brt(this,t);break}case Pe.IN_TABLE_BODY:{sz(this,t);break}case Pe.IN_ROW:{Vxe(this,t);break}case Pe.IN_CELL:{xrt(this,t);break}case Pe.IN_SELECT:{Gxe(this,t);break}case Pe.IN_SELECT_IN_TABLE:{_rt(this,t);break}case Pe.IN_TEMPLATE:{Srt(this,t);break}case Pe.AFTER_BODY:{Kxe(this,t);break}case Pe.IN_FRAMESET:{Art(this,t);break}case Pe.AFTER_FRAMESET:{Irt(this,t);break}case Pe.AFTER_AFTER_BODY:{MD(this,t);break}}}onEof(t){switch(this.insertionMode){case Pe.INITIAL:{O_(this,t);break}case Pe.BEFORE_HTML:{pS(this,t);break}case Pe.BEFORE_HEAD:{mS(this,t);break}case Pe.IN_HEAD:{gS(this,t);break}case Pe.IN_HEAD_NO_SCRIPT:{yS(this,t);break}case Pe.AFTER_HEAD:{vS(this,t);break}case Pe.IN_BODY:case Pe.IN_TABLE:case Pe.IN_CAPTION:case Pe.IN_COLUMN_GROUP:case Pe.IN_TABLE_BODY:case Pe.IN_ROW:case Pe.IN_CELL:case Pe.IN_SELECT:case Pe.IN_SELECT_IN_TABLE:{zxe(this,t);break}case Pe.TEXT:{lrt(this,t);break}case Pe.IN_TABLE_TEXT:{N_(this,t);break}case Pe.IN_TEMPLATE:{Yxe(this,t);break}case Pe.AFTER_BODY:case Pe.IN_FRAMESET:case Pe.AFTER_FRAMESET:case Pe.AFTER_AFTER_BODY:case Pe.AFTER_AFTER_FRAMESET:{IG(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===ye.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case Pe.IN_HEAD:case Pe.IN_HEAD_NO_SCRIPT:case Pe.AFTER_HEAD:case Pe.TEXT:case Pe.IN_COLUMN_GROUP:case Pe.IN_SELECT:case Pe.IN_SELECT_IN_TABLE:case Pe.IN_FRAMESET:case Pe.AFTER_FRAMESET:{this._insertCharacters(t);break}case Pe.IN_BODY:case Pe.IN_CAPTION:case Pe.IN_CELL:case Pe.IN_TEMPLATE:case Pe.AFTER_BODY:case Pe.AFTER_AFTER_BODY:case Pe.AFTER_AFTER_FRAMESET:{$xe(this,t);break}case Pe.IN_TABLE:case Pe.IN_TABLE_BODY:case Pe.IN_ROW:{ZF(this,t);break}case Pe.IN_TABLE_TEXT:{Uxe(this,t);break}}}};function ont(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):Bxe(e,t),n}function snt(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function ant(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let o=0,s=i;s!==n;o++,s=i){i=e.openElements.getCommonAncestor(s);const a=e.activeFormattingElements.getElementEntry(s),l=a&&o>=rnt;!a||l?(l&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(s)):(s=lnt(e,a),r===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(s,r),r=s)}return r}function lnt(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function unt(e,t,n){const r=e.treeAdapter.getTagName(t),i=dC(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const o=e.treeAdapter.getNamespaceURI(t);i===G.TEMPLATE&&o===at.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function cnt(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,o=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,o),e.treeAdapter.appendChild(t,o),e.activeFormattingElements.insertElementAfterBookmark(o,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,o,i.tagID)}function RG(e,t){for(let n=0;n<nnt;n++){const r=ont(e,t);if(!r)break;const i=snt(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const o=ant(e,i,r.element),s=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(o),s&&unt(e,s,o),cnt(e,i,r)}}function oz(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function dnt(e,t){e._appendCommentNode(t,e.openElements.items[0])}function fnt(e,t){e._appendCommentNode(t,e.document)}function IG(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const o=e.openElements.items[1],s=e.treeAdapter.getNodeSourceCodeLocation(o);s&&!s.endTag&&e._setEndLocation(o,t)}}}}function hnt(e,t){e._setDocumentType(t);const n=t.forceQuirks?Su.QUIRKS:Htt(t);Utt(t)||e._err(t,Je.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=Pe.BEFORE_HTML}function O_(e,t){e._err(t,Je.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Su.QUIRKS),e.insertionMode=Pe.BEFORE_HTML,e._processToken(t)}function pnt(e,t){t.tagID===G.HTML?(e._insertElement(t,at.HTML),e.insertionMode=Pe.BEFORE_HEAD):pS(e,t)}function mnt(e,t){const n=t.tagID;(n===G.HTML||n===G.HEAD||n===G.BODY||n===G.BR)&&pS(e,t)}function pS(e,t){e._insertFakeRootElement(),e.insertionMode=Pe.BEFORE_HEAD,e._processToken(t)}function gnt(e,t){switch(t.tagID){case G.HTML:{Wa(e,t);break}case G.HEAD:{e._insertElement(t,at.HTML),e.headElement=e.openElements.current,e.insertionMode=Pe.IN_HEAD;break}default:mS(e,t)}}function ynt(e,t){const n=t.tagID;n===G.HEAD||n===G.BODY||n===G.HTML||n===G.BR?mS(e,t):e._err(t,Je.endTagWithoutMatchingOpenElement)}function mS(e,t){e._insertFakeElement(Ge.HEAD,G.HEAD),e.headElement=e.openElements.current,e.insertionMode=Pe.IN_HEAD,e._processToken(t)}function af(e,t){switch(t.tagID){case G.HTML:{Wa(e,t);break}case G.BASE:case G.BASEFONT:case G.BGSOUND:case G.LINK:case G.META:{e._appendElement(t,at.HTML),t.ackSelfClosing=!0;break}case G.TITLE:{e._switchToTextParsing(t,Po.RCDATA);break}case G.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Po.RAWTEXT):(e._insertElement(t,at.HTML),e.insertionMode=Pe.IN_HEAD_NO_SCRIPT);break}case G.NOFRAMES:case G.STYLE:{e._switchToTextParsing(t,Po.RAWTEXT);break}case G.SCRIPT:{e._switchToTextParsing(t,Po.SCRIPT_DATA);break}case G.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=Pe.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(Pe.IN_TEMPLATE);break}case G.HEAD:{e._err(t,Je.misplacedStartTagForHeadElement);break}default:gS(e,t)}}function vnt(e,t){switch(t.tagID){case G.HEAD:{e.openElements.pop(),e.insertionMode=Pe.AFTER_HEAD;break}case G.BODY:case G.BR:case G.HTML:{gS(e,t);break}case G.TEMPLATE:{Ab(e,t);break}default:e._err(t,Je.endTagWithoutMatchingOpenElement)}}function Ab(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==G.TEMPLATE&&e._err(t,Je.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(G.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,Je.endTagWithoutMatchingOpenElement)}function gS(e,t){e.openElements.pop(),e.insertionMode=Pe.AFTER_HEAD,e._processToken(t)}function bnt(e,t){switch(t.tagID){case G.HTML:{Wa(e,t);break}case G.BASEFONT:case G.BGSOUND:case G.HEAD:case G.LINK:case G.META:case G.NOFRAMES:case G.STYLE:{af(e,t);break}case G.NOSCRIPT:{e._err(t,Je.nestedNoscriptInHead);break}default:yS(e,t)}}function wnt(e,t){switch(t.tagID){case G.NOSCRIPT:{e.openElements.pop(),e.insertionMode=Pe.IN_HEAD;break}case G.BR:{yS(e,t);break}default:e._err(t,Je.endTagWithoutMatchingOpenElement)}}function yS(e,t){const n=t.type===lr.EOF?Je.openElementsLeftAfterEof:Je.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=Pe.IN_HEAD,e._processToken(t)}function xnt(e,t){switch(t.tagID){case G.HTML:{Wa(e,t);break}case G.BODY:{e._insertElement(t,at.HTML),e.framesetOk=!1,e.insertionMode=Pe.IN_BODY;break}case G.FRAMESET:{e._insertElement(t,at.HTML),e.insertionMode=Pe.IN_FRAMESET;break}case G.BASE:case G.BASEFONT:case G.BGSOUND:case G.LINK:case G.META:case G.NOFRAMES:case G.SCRIPT:case G.STYLE:case G.TEMPLATE:case G.TITLE:{e._err(t,Je.abandonedHeadElementChild),e.openElements.push(e.headElement,G.HEAD),af(e,t),e.openElements.remove(e.headElement);break}case G.HEAD:{e._err(t,Je.misplacedStartTagForHeadElement);break}default:vS(e,t)}}function Cnt(e,t){switch(t.tagID){case G.BODY:case G.HTML:case G.BR:{vS(e,t);break}case G.TEMPLATE:{Ab(e,t);break}default:e._err(t,Je.endTagWithoutMatchingOpenElement)}}function vS(e,t){e._insertFakeElement(Ge.BODY,G.BODY),e.insertionMode=Pe.IN_BODY,aM(e,t)}function aM(e,t){switch(t.type){case lr.CHARACTER:{Lxe(e,t);break}case lr.WHITESPACE_CHARACTER:{$xe(e,t);break}case lr.COMMENT:{oz(e,t);break}case lr.START_TAG:{Wa(e,t);break}case lr.END_TAG:{lM(e,t);break}case lr.EOF:{zxe(e,t);break}}}function $xe(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function Lxe(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function _nt(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function Ent(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function Snt(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,at.HTML),e.insertionMode=Pe.IN_FRAMESET)}function Tnt(e,t){e.openElements.hasInButtonScope(G.P)&&e._closePElement(),e._insertElement(t,at.HTML)}function knt(e,t){e.openElements.hasInButtonScope(G.P)&&e._closePElement(),Sxe(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,at.HTML)}function Ant(e,t){e.openElements.hasInButtonScope(G.P)&&e._closePElement(),e._insertElement(t,at.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function Rnt(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(G.P)&&e._closePElement(),e._insertElement(t,at.HTML),n||(e.formElement=e.openElements.current))}function Int(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===G.LI&&i===G.LI||(n===G.DD||n===G.DT)&&(i===G.DD||i===G.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==G.ADDRESS&&i!==G.DIV&&i!==G.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(G.P)&&e._closePElement(),e._insertElement(t,at.HTML)}function Dnt(e,t){e.openElements.hasInButtonScope(G.P)&&e._closePElement(),e._insertElement(t,at.HTML),e.tokenizer.state=Po.PLAINTEXT}function Pnt(e,t){e.openElements.hasInScope(G.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(G.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,at.HTML),e.framesetOk=!1}function Ont(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(Ge.A);n&&(RG(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,at.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Nnt(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,at.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Mnt(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(G.NOBR)&&(RG(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,at.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function $nt(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,at.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function Lnt(e,t){e.treeAdapter.getDocumentMode(e.document)!==Su.QUIRKS&&e.openElements.hasInButtonScope(G.P)&&e._closePElement(),e._insertElement(t,at.HTML),e.framesetOk=!1,e.insertionMode=Pe.IN_TABLE}function Fxe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,at.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function jxe(e){const t=Cxe(e,Zg.TYPE);return t!=null&&t.toLowerCase()===tnt}function Fnt(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,at.HTML),jxe(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function jnt(e,t){e._appendElement(t,at.HTML),t.ackSelfClosing=!0}function Bnt(e,t){e.openElements.hasInButtonScope(G.P)&&e._closePElement(),e._appendElement(t,at.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function znt(e,t){t.tagName=Ge.IMG,t.tagID=G.IMG,Fxe(e,t)}function Unt(e,t){e._insertElement(t,at.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Po.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=Pe.TEXT}function Hnt(e,t){e.openElements.hasInButtonScope(G.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Po.RAWTEXT)}function qnt(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Po.RAWTEXT)}function tse(e,t){e._switchToTextParsing(t,Po.RAWTEXT)}function Vnt(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,at.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===Pe.IN_TABLE||e.insertionMode===Pe.IN_CAPTION||e.insertionMode===Pe.IN_TABLE_BODY||e.insertionMode===Pe.IN_ROW||e.insertionMode===Pe.IN_CELL?Pe.IN_SELECT_IN_TABLE:Pe.IN_SELECT}function Wnt(e,t){e.openElements.currentTagId===G.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,at.HTML)}function Gnt(e,t){e.openElements.hasInScope(G.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,at.HTML)}function Ynt(e,t){e.openElements.hasInScope(G.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(G.RTC),e._insertElement(t,at.HTML)}function Knt(e,t){e._reconstructActiveFormattingElements(),Oxe(t),AG(t),t.selfClosing?e._appendElement(t,at.MATHML):e._insertElement(t,at.MATHML),t.ackSelfClosing=!0}function Xnt(e,t){e._reconstructActiveFormattingElements(),Nxe(t),AG(t),t.selfClosing?e._appendElement(t,at.SVG):e._insertElement(t,at.SVG),t.ackSelfClosing=!0}function nse(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,at.HTML)}function Wa(e,t){switch(t.tagID){case G.I:case G.S:case G.B:case G.U:case G.EM:case G.TT:case G.BIG:case G.CODE:case G.FONT:case G.SMALL:case G.STRIKE:case G.STRONG:{Nnt(e,t);break}case G.A:{Ont(e,t);break}case G.H1:case G.H2:case G.H3:case G.H4:case G.H5:case G.H6:{knt(e,t);break}case G.P:case G.DL:case G.OL:case G.UL:case G.DIV:case G.DIR:case G.NAV:case G.MAIN:case G.MENU:case G.ASIDE:case G.CENTER:case G.FIGURE:case G.FOOTER:case G.HEADER:case G.HGROUP:case G.DIALOG:case G.DETAILS:case G.ADDRESS:case G.ARTICLE:case G.SECTION:case G.SUMMARY:case G.FIELDSET:case G.BLOCKQUOTE:case G.FIGCAPTION:{Tnt(e,t);break}case G.LI:case G.DD:case G.DT:{Int(e,t);break}case G.BR:case G.IMG:case G.WBR:case G.AREA:case G.EMBED:case G.KEYGEN:{Fxe(e,t);break}case G.HR:{Bnt(e,t);break}case G.RB:case G.RTC:{Gnt(e,t);break}case G.RT:case G.RP:{Ynt(e,t);break}case G.PRE:case G.LISTING:{Ant(e,t);break}case G.XMP:{Hnt(e,t);break}case G.SVG:{Xnt(e,t);break}case G.HTML:{_nt(e,t);break}case G.BASE:case G.LINK:case G.META:case G.STYLE:case G.TITLE:case G.SCRIPT:case G.BGSOUND:case G.BASEFONT:case G.TEMPLATE:{af(e,t);break}case G.BODY:{Ent(e,t);break}case G.FORM:{Rnt(e,t);break}case G.NOBR:{Mnt(e,t);break}case G.MATH:{Knt(e,t);break}case G.TABLE:{Lnt(e,t);break}case G.INPUT:{Fnt(e,t);break}case G.PARAM:case G.TRACK:case G.SOURCE:{jnt(e,t);break}case G.IMAGE:{znt(e,t);break}case G.BUTTON:{Pnt(e,t);break}case G.APPLET:case G.OBJECT:case G.MARQUEE:{$nt(e,t);break}case G.IFRAME:{qnt(e,t);break}case G.SELECT:{Vnt(e,t);break}case G.OPTION:case G.OPTGROUP:{Wnt(e,t);break}case G.NOEMBED:{tse(e,t);break}case G.FRAMESET:{Snt(e,t);break}case G.TEXTAREA:{Unt(e,t);break}case G.NOSCRIPT:{e.options.scriptingEnabled?tse(e,t):nse(e,t);break}case G.PLAINTEXT:{Dnt(e,t);break}case G.COL:case G.TH:case G.TD:case G.TR:case G.HEAD:case G.FRAME:case G.TBODY:case G.TFOOT:case G.THEAD:case G.CAPTION:case G.COLGROUP:break;default:nse(e,t)}}function Qnt(e,t){if(e.openElements.hasInScope(G.BODY)&&(e.insertionMode=Pe.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function Jnt(e,t){e.openElements.hasInScope(G.BODY)&&(e.insertionMode=Pe.AFTER_BODY,Kxe(e,t))}function Znt(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function ert(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(G.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(G.FORM):n&&e.openElements.remove(n))}function trt(e){e.openElements.hasInButtonScope(G.P)||e._insertFakeElement(Ge.P,G.P),e._closePElement()}function nrt(e){e.openElements.hasInListItemScope(G.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(G.LI),e.openElements.popUntilTagNamePopped(G.LI))}function rrt(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function irt(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function ort(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function srt(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(Ge.BR,G.BR),e.openElements.pop(),e.framesetOk=!1}function Bxe(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const o=e.openElements.items[i],s=e.openElements.tagIDs[i];if(r===s&&(r!==G.UNKNOWN||e.treeAdapter.getTagName(o)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(o,s))break}}function lM(e,t){switch(t.tagID){case G.A:case G.B:case G.I:case G.S:case G.U:case G.EM:case G.TT:case G.BIG:case G.CODE:case G.FONT:case G.NOBR:case G.SMALL:case G.STRIKE:case G.STRONG:{RG(e,t);break}case G.P:{trt(e);break}case G.DL:case G.UL:case G.OL:case G.DIR:case G.DIV:case G.NAV:case G.PRE:case G.MAIN:case G.MENU:case G.ASIDE:case G.BUTTON:case G.CENTER:case G.FIGURE:case G.FOOTER:case G.HEADER:case G.HGROUP:case G.DIALOG:case G.ADDRESS:case G.ARTICLE:case G.DETAILS:case G.SECTION:case G.SUMMARY:case G.LISTING:case G.FIELDSET:case G.BLOCKQUOTE:case G.FIGCAPTION:{Znt(e,t);break}case G.LI:{nrt(e);break}case G.DD:case G.DT:{rrt(e,t);break}case G.H1:case G.H2:case G.H3:case G.H4:case G.H5:case G.H6:{irt(e);break}case G.BR:{srt(e);break}case G.BODY:{Qnt(e,t);break}case G.HTML:{Jnt(e,t);break}case G.FORM:{ert(e);break}case G.APPLET:case G.OBJECT:case G.MARQUEE:{ort(e,t);break}case G.TEMPLATE:{Ab(e,t);break}default:Bxe(e,t)}}function zxe(e,t){e.tmplInsertionModeStack.length>0?Yxe(e,t):IG(e,t)}function art(e,t){var n;t.tagID===G.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function lrt(e,t){e._err(t,Je.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function ZF(e,t){if(Mxe.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=Pe.IN_TABLE_TEXT,t.type){case lr.CHARACTER:{Hxe(e,t);break}case lr.WHITESPACE_CHARACTER:{Uxe(e,t);break}}else $T(e,t)}function urt(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,at.HTML),e.insertionMode=Pe.IN_CAPTION}function crt(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,at.HTML),e.insertionMode=Pe.IN_COLUMN_GROUP}function drt(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Ge.COLGROUP,G.COLGROUP),e.insertionMode=Pe.IN_COLUMN_GROUP,DG(e,t)}function frt(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,at.HTML),e.insertionMode=Pe.IN_TABLE_BODY}function hrt(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Ge.TBODY,G.TBODY),e.insertionMode=Pe.IN_TABLE_BODY,uM(e,t)}function prt(e,t){e.openElements.hasInTableScope(G.TABLE)&&(e.openElements.popUntilTagNamePopped(G.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function mrt(e,t){jxe(t)?e._appendElement(t,at.HTML):$T(e,t),t.ackSelfClosing=!0}function grt(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,at.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function ax(e,t){switch(t.tagID){case G.TD:case G.TH:case G.TR:{hrt(e,t);break}case G.STYLE:case G.SCRIPT:case G.TEMPLATE:{af(e,t);break}case G.COL:{drt(e,t);break}case G.FORM:{grt(e,t);break}case G.TABLE:{prt(e,t);break}case G.TBODY:case G.TFOOT:case G.THEAD:{frt(e,t);break}case G.INPUT:{mrt(e,t);break}case G.CAPTION:{urt(e,t);break}case G.COLGROUP:{crt(e,t);break}default:$T(e,t)}}function u2(e,t){switch(t.tagID){case G.TABLE:{e.openElements.hasInTableScope(G.TABLE)&&(e.openElements.popUntilTagNamePopped(G.TABLE),e._resetInsertionMode());break}case G.TEMPLATE:{Ab(e,t);break}case G.BODY:case G.CAPTION:case G.COL:case G.COLGROUP:case G.HTML:case G.TBODY:case G.TD:case G.TFOOT:case G.TH:case G.THEAD:case G.TR:break;default:$T(e,t)}}function $T(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,aM(e,t),e.fosterParentingEnabled=n}function Uxe(e,t){e.pendingCharacterTokens.push(t)}function Hxe(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function N_(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)$T(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const qxe=new Set([G.CAPTION,G.COL,G.COLGROUP,G.TBODY,G.TD,G.TFOOT,G.TH,G.THEAD,G.TR]);function yrt(e,t){const n=t.tagID;qxe.has(n)?e.openElements.hasInTableScope(G.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(G.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Pe.IN_TABLE,ax(e,t)):Wa(e,t)}function vrt(e,t){const n=t.tagID;switch(n){case G.CAPTION:case G.TABLE:{e.openElements.hasInTableScope(G.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(G.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Pe.IN_TABLE,n===G.TABLE&&u2(e,t));break}case G.BODY:case G.COL:case G.COLGROUP:case G.HTML:case G.TBODY:case G.TD:case G.TFOOT:case G.TH:case G.THEAD:case G.TR:break;default:lM(e,t)}}function DG(e,t){switch(t.tagID){case G.HTML:{Wa(e,t);break}case G.COL:{e._appendElement(t,at.HTML),t.ackSelfClosing=!0;break}case G.TEMPLATE:{af(e,t);break}default:O3(e,t)}}function brt(e,t){switch(t.tagID){case G.COLGROUP:{e.openElements.currentTagId===G.COLGROUP&&(e.openElements.pop(),e.insertionMode=Pe.IN_TABLE);break}case G.TEMPLATE:{Ab(e,t);break}case G.COL:break;default:O3(e,t)}}function O3(e,t){e.openElements.currentTagId===G.COLGROUP&&(e.openElements.pop(),e.insertionMode=Pe.IN_TABLE,e._processToken(t))}function uM(e,t){switch(t.tagID){case G.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,at.HTML),e.insertionMode=Pe.IN_ROW;break}case G.TH:case G.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(Ge.TR,G.TR),e.insertionMode=Pe.IN_ROW,cM(e,t);break}case G.CAPTION:case G.COL:case G.COLGROUP:case G.TBODY:case G.TFOOT:case G.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Pe.IN_TABLE,ax(e,t));break}default:ax(e,t)}}function sz(e,t){const n=t.tagID;switch(t.tagID){case G.TBODY:case G.TFOOT:case G.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Pe.IN_TABLE);break}case G.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Pe.IN_TABLE,u2(e,t));break}case G.BODY:case G.CAPTION:case G.COL:case G.COLGROUP:case G.HTML:case G.TD:case G.TH:case G.TR:break;default:u2(e,t)}}function cM(e,t){switch(t.tagID){case G.TH:case G.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,at.HTML),e.insertionMode=Pe.IN_CELL,e.activeFormattingElements.insertMarker();break}case G.CAPTION:case G.COL:case G.COLGROUP:case G.TBODY:case G.TFOOT:case G.THEAD:case G.TR:{e.openElements.hasInTableScope(G.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Pe.IN_TABLE_BODY,uM(e,t));break}default:ax(e,t)}}function Vxe(e,t){switch(t.tagID){case G.TR:{e.openElements.hasInTableScope(G.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Pe.IN_TABLE_BODY);break}case G.TABLE:{e.openElements.hasInTableScope(G.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Pe.IN_TABLE_BODY,sz(e,t));break}case G.TBODY:case G.TFOOT:case G.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(G.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Pe.IN_TABLE_BODY,sz(e,t));break}case G.BODY:case G.CAPTION:case G.COL:case G.COLGROUP:case G.HTML:case G.TD:case G.TH:break;default:u2(e,t)}}function wrt(e,t){const n=t.tagID;qxe.has(n)?(e.openElements.hasInTableScope(G.TD)||e.openElements.hasInTableScope(G.TH))&&(e._closeTableCell(),cM(e,t)):Wa(e,t)}function xrt(e,t){const n=t.tagID;switch(n){case G.TD:case G.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Pe.IN_ROW);break}case G.TABLE:case G.TBODY:case G.TFOOT:case G.THEAD:case G.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),Vxe(e,t));break}case G.BODY:case G.CAPTION:case G.COL:case G.COLGROUP:case G.HTML:break;default:lM(e,t)}}function Wxe(e,t){switch(t.tagID){case G.HTML:{Wa(e,t);break}case G.OPTION:{e.openElements.currentTagId===G.OPTION&&e.openElements.pop(),e._insertElement(t,at.HTML);break}case G.OPTGROUP:{e.openElements.currentTagId===G.OPTION&&e.openElements.pop(),e.openElements.currentTagId===G.OPTGROUP&&e.openElements.pop(),e._insertElement(t,at.HTML);break}case G.INPUT:case G.KEYGEN:case G.TEXTAREA:case G.SELECT:{e.openElements.hasInSelectScope(G.SELECT)&&(e.openElements.popUntilTagNamePopped(G.SELECT),e._resetInsertionMode(),t.tagID!==G.SELECT&&e._processStartTag(t));break}case G.SCRIPT:case G.TEMPLATE:{af(e,t);break}}}function Gxe(e,t){switch(t.tagID){case G.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===G.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===G.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===G.OPTGROUP&&e.openElements.pop();break}case G.OPTION:{e.openElements.currentTagId===G.OPTION&&e.openElements.pop();break}case G.SELECT:{e.openElements.hasInSelectScope(G.SELECT)&&(e.openElements.popUntilTagNamePopped(G.SELECT),e._resetInsertionMode());break}case G.TEMPLATE:{Ab(e,t);break}}}function Crt(e,t){const n=t.tagID;n===G.CAPTION||n===G.TABLE||n===G.TBODY||n===G.TFOOT||n===G.THEAD||n===G.TR||n===G.TD||n===G.TH?(e.openElements.popUntilTagNamePopped(G.SELECT),e._resetInsertionMode(),e._processStartTag(t)):Wxe(e,t)}function _rt(e,t){const n=t.tagID;n===G.CAPTION||n===G.TABLE||n===G.TBODY||n===G.TFOOT||n===G.THEAD||n===G.TR||n===G.TD||n===G.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(G.SELECT),e._resetInsertionMode(),e.onEndTag(t)):Gxe(e,t)}function Ert(e,t){switch(t.tagID){case G.BASE:case G.BASEFONT:case G.BGSOUND:case G.LINK:case G.META:case G.NOFRAMES:case G.SCRIPT:case G.STYLE:case G.TEMPLATE:case G.TITLE:{af(e,t);break}case G.CAPTION:case G.COLGROUP:case G.TBODY:case G.TFOOT:case G.THEAD:{e.tmplInsertionModeStack[0]=Pe.IN_TABLE,e.insertionMode=Pe.IN_TABLE,ax(e,t);break}case G.COL:{e.tmplInsertionModeStack[0]=Pe.IN_COLUMN_GROUP,e.insertionMode=Pe.IN_COLUMN_GROUP,DG(e,t);break}case G.TR:{e.tmplInsertionModeStack[0]=Pe.IN_TABLE_BODY,e.insertionMode=Pe.IN_TABLE_BODY,uM(e,t);break}case G.TD:case G.TH:{e.tmplInsertionModeStack[0]=Pe.IN_ROW,e.insertionMode=Pe.IN_ROW,cM(e,t);break}default:e.tmplInsertionModeStack[0]=Pe.IN_BODY,e.insertionMode=Pe.IN_BODY,Wa(e,t)}}function Srt(e,t){t.tagID===G.TEMPLATE&&Ab(e,t)}function Yxe(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(G.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):IG(e,t)}function Trt(e,t){t.tagID===G.HTML?Wa(e,t):N3(e,t)}function Kxe(e,t){var n;if(t.tagID===G.HTML){if(e.fragmentContext||(e.insertionMode=Pe.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===G.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else N3(e,t)}function N3(e,t){e.insertionMode=Pe.IN_BODY,aM(e,t)}function krt(e,t){switch(t.tagID){case G.HTML:{Wa(e,t);break}case G.FRAMESET:{e._insertElement(t,at.HTML);break}case G.FRAME:{e._appendElement(t,at.HTML),t.ackSelfClosing=!0;break}case G.NOFRAMES:{af(e,t);break}}}function Art(e,t){t.tagID===G.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==G.FRAMESET&&(e.insertionMode=Pe.AFTER_FRAMESET))}function Rrt(e,t){switch(t.tagID){case G.HTML:{Wa(e,t);break}case G.NOFRAMES:{af(e,t);break}}}function Irt(e,t){t.tagID===G.HTML&&(e.insertionMode=Pe.AFTER_AFTER_FRAMESET)}function Drt(e,t){t.tagID===G.HTML?Wa(e,t):MD(e,t)}function MD(e,t){e.insertionMode=Pe.IN_BODY,aM(e,t)}function Prt(e,t){switch(t.tagID){case G.HTML:{Wa(e,t);break}case G.NOFRAMES:{af(e,t);break}}}function Ort(e,t){t.chars=Wi,e._insertCharacters(t)}function Nrt(e,t){e._insertCharacters(t),e.framesetOk=!1}function Xxe(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==at.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function Mrt(e,t){if(Xtt(t))Xxe(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===at.MATHML?Oxe(t):r===at.SVG&&(Qtt(t),Nxe(t)),AG(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function $rt(e,t){if(t.tagID===G.P||t.tagID===G.BR){Xxe(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===at.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}Ge.AREA,Ge.BASE,Ge.BASEFONT,Ge.BGSOUND,Ge.BR,Ge.COL,Ge.EMBED,Ge.FRAME,Ge.HR,Ge.IMG,Ge.INPUT,Ge.KEYGEN,Ge.LINK,Ge.META,Ge.PARAM,Ge.SOURCE,Ge.TRACK,Ge.WBR;const Lrt=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),rse={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function Qxe(e,t){const n=Grt(e),r=yxe("type",{handlers:{root:Frt,element:jrt,text:Brt,comment:Zxe,doctype:zrt,raw:Hrt},unknown:qrt}),i={parser:n?new ese(rse):ese.getFragmentParser(void 0,rse),handle(a){r(a,i)},stitches:!1,options:t||{}};r(e,i),fC(i,Bh());const o=n?i.parser.document:i.parser.getFragment(),s=Ket(o,{file:i.options.file});return i.stitches&&sx(s,"comment",function(a,l,u){const c=a;if(c.value.stitch&&u&&l!==void 0){const d=u.children;return d[l]=c.value.stitch,l}}),s.type==="root"&&s.children.length===1&&s.children[0].type===e.type?s.children[0]:s}function Jxe(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function Frt(e,t){Jxe(e.children,t)}function jrt(e,t){Vrt(e,t),Jxe(e.children,t),Wrt(e,t)}function Brt(e,t){const n={type:lr.CHARACTER,chars:e.value,location:LT(e)};fC(t,Bh(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function zrt(e,t){const n={type:lr.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:LT(e)};fC(t,Bh(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function Urt(e,t){t.stitches=!0;const n=Yrt(e);if("children"in e&&"children"in n){const r=Qxe({type:"root",children:e.children},t.options);n.children=r.children}Zxe({type:"comment",value:{stitch:n}},t)}function Zxe(e,t){const n=e.value,r={type:lr.COMMENT,data:n,location:LT(e)};fC(t,Bh(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function Hrt(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,eCe(t,Bh(e)),t.parser.tokenizer.write(e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function qrt(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))Urt(n,t);else{let r="";throw Lrt.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function fC(e,t){eCe(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Po.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function eCe(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function Vrt(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===Po.PLAINTEXT)return;fC(t,Bh(e));const r=t.parser.openElements.current;let i="namespaceURI"in r?r.namespaceURI:cv.html;i===cv.html&&n==="svg"&&(i=cv.svg);const o=ett({...e,children:[]},{space:i===cv.svg?"svg":"html"}),s={type:lr.START_TAG,tagName:n,tagID:dC(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in o?o.attrs:[],location:LT(e)};t.parser.currentToken=s,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function Wrt(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&ltt.includes(n)||t.parser.tokenizer.state===Po.PLAINTEXT)return;fC(t,eM(e));const r={type:lr.END_TAG,tagName:n,tagID:dC(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:LT(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Po.RCDATA||t.parser.tokenizer.state===Po.RAWTEXT||t.parser.tokenizer.state===Po.SCRIPT_DATA)&&(t.parser.tokenizer.state=Po.DATA)}function Grt(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function LT(e){const t=Bh(e)||{line:void 0,column:void 0,offset:void 0},n=eM(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function Yrt(e){return"children"in e?ox({...e,children:[]}):ox(e)}function Krt(e){return function(t,n){return Qxe(t,{...e,file:n})}}function ise(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function Xrt(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Qrt(e,t,n){const i=iM((n||{}).ignore||[]),o=Jrt(t);let s=-1;for(;++s<o.length;)ixe(e,"text",a);function a(u,c){let d=-1,f;for(;++d<c.length;){const h=c[d],m=f?f.children:void 0;if(i(h,m?m.indexOf(h):void 0,f))return;f=h}if(f)return l(u,c)}function l(u,c){const d=c[c.length-1],f=o[s][0],h=o[s][1];let m=0;const g=d.children.indexOf(u);let v=!1,y=[];f.lastIndex=0;let w=f.exec(u.value);for(;w;){const _=w.index,E={index:w.index,input:w.input,stack:[...c,u]};let S=h(...w,E);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?f.lastIndex=_+1:(m!==_&&y.push({type:"text",value:u.value.slice(m,_)}),Array.isArray(S)?y.push(...S):S&&y.push(S),m=_+w[0].length,v=!0),!f.global)break;w=f.exec(u.value)}return v?(m<u.value.length&&y.push({type:"text",value:u.value.slice(m)}),d.children.splice(g,1,...y)):y=[u],g+y.length}}function Jrt(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([Zrt(i[0]),eit(i[1])])}return t}function Zrt(e){return typeof e=="string"?new RegExp(Xrt(e),"g"):e}function eit(e){return typeof e=="function"?e:function(){return e}}const e8="phrasing",t8=["autolink","link","image","label"];function tit(){return{transforms:[lit],enter:{literalAutolink:rit,literalAutolinkEmail:n8,literalAutolinkHttp:n8,literalAutolinkWww:n8},exit:{literalAutolink:ait,literalAutolinkEmail:sit,literalAutolinkHttp:iit,literalAutolinkWww:oit}}}function nit(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:e8,notInConstruct:t8},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:e8,notInConstruct:t8},{character:":",before:"[ps]",after:"\\/",inConstruct:e8,notInConstruct:t8}]}}function rit(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function n8(e){this.config.enter.autolinkProtocol.call(this,e)}function iit(e){this.config.exit.autolinkProtocol.call(this,e)}function oit(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function sit(e){this.config.exit.autolinkEmail.call(this,e)}function ait(e){this.exit(e)}function lit(e){Qrt(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,uit],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),cit]],{ignore:["link","linkReference"]})}function uit(e,t,n,r,i){let o="";if(!tCe(i)||(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!dit(n)))return!1;const s=fit(n+r);if(!s[0])return!1;const a={type:"link",title:null,url:o+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[a,{type:"text",value:s[1]}]:a}function cit(e,t,n,r){return!tCe(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function dit(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function fit(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=ise(e,"(");let o=ise(e,")");for(;r!==-1&&i>o;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[e,n]}function tCe(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||jv(n)||tM(n))&&(!t||n!==47)}nCe.peek=xit;function hit(){this.buffer()}function pit(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function mit(){this.buffer()}function git(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function yit(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=$d(this.sliceSerialize(e)).toLowerCase(),n.label=t}function vit(e){this.exit(e)}function bit(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=$d(this.sliceSerialize(e)).toLowerCase(),n.label=t}function wit(e){this.exit(e)}function xit(){return"["}function nCe(e,t,n,r){const i=n.createTracker(r);let o=i.move("[^");const s=n.enter("footnoteReference"),a=n.enter("reference");return o+=i.move(n.safe(n.associationId(e),{after:"]",before:o})),a(),s(),o+=i.move("]"),o}function Cit(){return{enter:{gfmFootnoteCallString:hit,gfmFootnoteCall:pit,gfmFootnoteDefinitionLabelString:mit,gfmFootnoteDefinition:git},exit:{gfmFootnoteCallString:yit,gfmFootnoteCall:vit,gfmFootnoteDefinitionLabelString:bit,gfmFootnoteDefinition:wit}}}function _it(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:nCe},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,o,s){const a=o.createTracker(s);let l=a.move("[^");const u=o.enter("footnoteDefinition"),c=o.enter("label");return l+=a.move(o.safe(o.associationId(r),{before:l,after:"]"})),c(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((t?`
`:" ")+o.indentLines(o.containerFlow(r,a.current()),t?rCe:Eit))),u(),l}}function Eit(e,t,n){return t===0?e:rCe(e,t,n)}function rCe(e,t,n){return(n?"":"    ")+e}const Sit=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];iCe.peek=Iit;function Tit(){return{canContainEols:["delete"],enter:{strikethrough:Ait},exit:{strikethrough:Rit}}}function kit(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Sit}],handlers:{delete:iCe}}}function Ait(e){this.enter({type:"delete",children:[]},e)}function Rit(e){this.exit(e)}function iCe(e,t,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let s=i.move("~~");return s+=n.containerPhrasing(e,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),o(),s}function Iit(){return"~"}function Dit(e){return e.length}function Pit(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||Dit,o=[],s=[],a=[],l=[];let u=0,c=-1;for(;++c<e.length;){const p=[],g=[];let v=-1;for(e[c].length>u&&(u=e[c].length);++v<e[c].length;){const y=Oit(e[c][v]);if(n.alignDelimiters!==!1){const w=i(y);g[v]=w,(l[v]===void 0||w>l[v])&&(l[v]=w)}p.push(y)}s[c]=p,a[c]=g}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<u;)o[d]=ose(r[d]);else{const p=ose(r);for(;++d<u;)o[d]=p}d=-1;const f=[],h=[];for(;++d<u;){const p=o[d];let g="",v="";p===99?(g=":",v=":"):p===108?g=":":p===114&&(v=":");let y=n.alignDelimiters===!1?1:Math.max(1,l[d]-g.length-v.length);const w=g+"-".repeat(y)+v;n.alignDelimiters!==!1&&(y=g.length+y+v.length,y>l[d]&&(l[d]=y),h[d]=y),f[d]=w}s.splice(1,0,f),a.splice(1,0,h),c=-1;const m=[];for(;++c<s.length;){const p=s[c],g=a[c];d=-1;const v=[];for(;++d<u;){const y=p[d]||"";let w="",_="";if(n.alignDelimiters!==!1){const E=l[d]-(g[d]||0),S=o[d];S===114?w=" ".repeat(E):S===99?E%2?(w=" ".repeat(E/2+.5),_=" ".repeat(E/2-.5)):(w=" ".repeat(E/2),_=w):_=" ".repeat(E)}n.delimiterStart!==!1&&!d&&v.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&y==="")&&(n.delimiterStart!==!1||d)&&v.push(" "),n.alignDelimiters!==!1&&v.push(w),v.push(y),n.alignDelimiters!==!1&&v.push(_),n.padding!==!1&&v.push(" "),(n.delimiterEnd!==!1||d!==u-1)&&v.push("|")}m.push(n.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return m.join(`
`)}function Oit(e){return e==null?"":String(e)}function ose(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function Nit(e,t,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const s=n.indentLines(n.containerFlow(e,o.current()),Mit);return i(),s}function Mit(e,t,n){return">"+(n?"":" ")+e}function $it(e,t){return sse(e,t.inConstruct,!0)&&!sse(e,t.notInConstruct,!1)}function sse(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function ase(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&$it(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Lit(e,t){const n=String(e);let r=n.indexOf(t),i=r,o=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>s&&(s=o):o=1,i=r+t.length,r=n.indexOf(t,i);return s}function Fit(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function jit(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Bit(e,t,n,r){const i=jit(n),o=e.value||"",s=i==="`"?"GraveAccent":"Tilde";if(Fit(e,n)){const d=n.enter("codeIndented"),f=n.indentLines(o,zit);return d(),f}const a=n.createTracker(r),l=i.repeat(Math.max(Lit(o,i)+1,3)),u=n.enter("codeFenced");let c=a.move(l);if(e.lang){const d=n.enter(`codeFencedLang${s}`);c+=a.move(n.safe(e.lang,{before:c,after:" ",encode:["`"],...a.current()})),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${s}`);c+=a.move(" "),c+=a.move(n.safe(e.meta,{before:c,after:`
`,encode:["`"],...a.current()})),d()}return c+=a.move(`
`),o&&(c+=a.move(o+`
`)),c+=a.move(l),u(),c}function zit(e,t,n){return(n?"":"    ")+e}function PG(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Uit(e,t,n,r){const i=PG(n),o=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),a(),e.title&&(a=n.enter(`title${o}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),s(),u}function Hit(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function c2(e){return"&#x"+e.toString(16).toUpperCase()+";"}function M3(e,t,n){const r=ix(e),i=ix(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}oCe.peek=qit;function oCe(e,t,n,r){const i=Hit(n),o=n.enter("emphasis"),s=n.createTracker(r),a=s.move(i);let l=s.move(n.containerPhrasing(e,{after:i,before:a,...s.current()}));const u=l.charCodeAt(0),c=M3(r.before.charCodeAt(r.before.length-1),u,i);c.inside&&(l=c2(u)+l.slice(1));const d=l.charCodeAt(l.length-1),f=M3(r.after.charCodeAt(0),d,i);f.inside&&(l=l.slice(0,-1)+c2(d));const h=s.move(i);return o(),n.attentionEncodeSurroundingInfo={after:f.outside,before:c.outside},a+l+h}function qit(e,t,n){return n.options.emphasis||"*"}function Vit(e,t){let n=!1;return sx(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,X7}),!!((!e.depth||e.depth<3)&&gG(e)&&(t.options.setext||n))}function Wit(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(r);if(Vit(e,n)){const c=n.enter("headingSetext"),d=n.enter("phrasing"),f=n.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return d(),c(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const s="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");o.move(s+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(u)&&(u=c2(u.charCodeAt(0))+u.slice(1)),u=u?s+" "+u:s,n.options.closeAtx&&(u+=" "+s),l(),a(),u}sCe.peek=Git;function sCe(e){return e.value||""}function Git(){return"<"}aCe.peek=Yit;function aCe(e,t,n,r){const i=PG(n),o=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),a(),e.title&&(a=n.enter(`title${o}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),u+=l.move(")"),s(),u}function Yit(){return"!"}lCe.peek=Kit;function lCe(e,t,n,r){const i=e.referenceType,o=n.enter("imageReference");let s=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const u=n.safe(e.alt,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),s();const c=n.stack;n.stack=[],s=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return s(),n.stack=c,o(),i==="full"||!u||u!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function Kit(){return"!"}uCe.peek=Xit;function uCe(e,t,n){let r=e.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const s=n.unsafe[o],a=n.compilePattern(s);let l;if(s.atBreak)for(;l=a.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function Xit(){return"`"}function cCe(e,t){const n=gG(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}dCe.peek=Qit;function dCe(e,t,n,r){const i=PG(n),o=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let a,l;if(cCe(e,n)){const c=n.stack;n.stack=[],a=n.enter("autolink");let d=s.move("<");return d+=s.move(n.containerPhrasing(e,{before:d,after:">",...s.current()})),d+=s.move(">"),a(),n.stack=c,d}a=n.enter("link"),l=n.enter("label");let u=s.move("[");return u+=s.move(n.containerPhrasing(e,{before:u,after:"](",...s.current()})),u+=s.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=s.move("<"),u+=s.move(n.safe(e.url,{before:u,after:">",...s.current()})),u+=s.move(">")):(l=n.enter("destinationRaw"),u+=s.move(n.safe(e.url,{before:u,after:e.title?" ":")",...s.current()}))),l(),e.title&&(l=n.enter(`title${o}`),u+=s.move(" "+i),u+=s.move(n.safe(e.title,{before:u,after:i,...s.current()})),u+=s.move(i),l()),u+=s.move(")"),a(),u}function Qit(e,t,n){return cCe(e,n)?"<":"["}fCe.peek=Jit;function fCe(e,t,n,r){const i=e.referenceType,o=n.enter("linkReference");let s=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),s();const c=n.stack;n.stack=[],s=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return s(),n.stack=c,o(),i==="full"||!u||u!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function Jit(){return"["}function OG(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Zit(e){const t=OG(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function eot(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function hCe(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function tot(e,t,n,r){const i=n.enter("list"),o=n.bulletCurrent;let s=e.ordered?eot(n):OG(n);const a=e.ordered?s==="."?")":".":Zit(n);let l=t&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!e.ordered){const c=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&c&&(!c.children||!c.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),hCe(n)===s&&c){let d=-1;for(;++d<e.children.length;){const f=e.children[d];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=a),n.bulletCurrent=s;const u=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=o,i(),u}function not(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function rot(e,t,n,r){const i=not(n);let o=n.bulletCurrent||OG(n);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let s=o.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const a=n.createTracker(r);a.move(o+" ".repeat(s-o.length)),a.shift(s);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,a.current()),c);return l(),u;function c(d,f,h){return f?(h?"":" ".repeat(s))+d:(h?o:o+" ".repeat(s-o.length))+d}}function iot(e,t,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),s=n.containerPhrasing(e,r);return o(),i(),s}const oot=iM(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function sot(e,t,n,r){return(e.children.some(function(s){return oot(s)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function aot(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}pCe.peek=lot;function pCe(e,t,n,r){const i=aot(n),o=n.enter("strong"),s=n.createTracker(r),a=s.move(i+i);let l=s.move(n.containerPhrasing(e,{after:i,before:a,...s.current()}));const u=l.charCodeAt(0),c=M3(r.before.charCodeAt(r.before.length-1),u,i);c.inside&&(l=c2(u)+l.slice(1));const d=l.charCodeAt(l.length-1),f=M3(r.after.charCodeAt(0),d,i);f.inside&&(l=l.slice(0,-1)+c2(d));const h=s.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:f.outside,before:c.outside},a+l+h}function lot(e,t,n){return n.options.strong||"*"}function uot(e,t,n,r){return n.safe(e.value,r)}function cot(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function dot(e,t,n){const r=(hCe(n)+(n.options.ruleSpaces?" ":"")).repeat(cot(n));return n.options.ruleSpaces?r.slice(0,-1):r}const mCe={blockquote:Nit,break:ase,code:Bit,definition:Uit,emphasis:oCe,hardBreak:ase,heading:Wit,html:sCe,image:aCe,imageReference:lCe,inlineCode:uCe,link:dCe,linkReference:fCe,list:tot,listItem:rot,paragraph:iot,root:sot,strong:pCe,text:uot,thematicBreak:dot};function fot(){return{enter:{table:hot,tableData:lse,tableHeader:lse,tableRow:mot},exit:{codeText:got,table:pot,tableData:r8,tableHeader:r8,tableRow:r8}}}function hot(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function pot(e){this.exit(e),this.data.inTable=void 0}function mot(e){this.enter({type:"tableRow",children:[]},e)}function r8(e){this.exit(e)}function lse(e){this.enter({type:"tableCell",children:[]},e)}function got(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,yot));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function yot(e,t){return t==="|"?t:e}function vot(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:s,tableCell:l,tableRow:a}};function s(h,m,p,g){return u(c(h,p,g),h.align)}function a(h,m,p,g){const v=d(h,p,g),y=u([v]);return y.slice(0,y.indexOf(`
`))}function l(h,m,p,g){const v=p.enter("tableCell"),y=p.enter("phrasing"),w=p.containerPhrasing(h,{...g,before:o,after:o});return y(),v(),w}function u(h,m){return Pit(h,{align:m,alignDelimiters:r,padding:n,stringLength:i})}function c(h,m,p){const g=h.children;let v=-1;const y=[],w=m.enter("table");for(;++v<g.length;)y[v]=d(g[v],m,p);return w(),y}function d(h,m,p){const g=h.children;let v=-1;const y=[],w=m.enter("tableRow");for(;++v<g.length;)y[v]=l(g[v],h,m,p);return w(),y}function f(h,m,p){let g=mCe.inlineCode(h,m,p);return p.stack.includes("tableCell")&&(g=g.replace(/\|/g,"\\$&")),g}}function bot(){return{exit:{taskListCheckValueChecked:use,taskListCheckValueUnchecked:use,paragraph:xot}}}function wot(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Cot}}}function use(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function xot(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let o=-1,s;for(;++o<i.length;){const a=i[o];if(a.type==="paragraph"){s=a;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function Cot(e,t,n,r){const i=e.children[0],o=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",a=n.createTracker(r);o&&a.move(s);let l=mCe.listItem(e,t,n,{...r,...a.current()});return o&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(c){return c+s}}function _ot(){return[tit(),Cit(),Tit(),fot(),bot()]}function Eot(e){return{extensions:[nit(),_it(e),kit(),vot(e),wot()]}}const Sot={tokenize:Dot,partial:!0},gCe={tokenize:Pot,partial:!0},yCe={tokenize:Oot,partial:!0},vCe={tokenize:Not,partial:!0},Tot={tokenize:Mot,partial:!0},bCe={name:"wwwAutolink",tokenize:Rot,previous:xCe},wCe={name:"protocolAutolink",tokenize:Iot,previous:CCe},Pm={name:"emailAutolink",tokenize:Aot,previous:_Ce},zh={};function kot(){return{text:zh}}let _y=48;for(;_y<123;)zh[_y]=Pm,_y++,_y===58?_y=65:_y===91&&(_y=97);zh[43]=Pm;zh[45]=Pm;zh[46]=Pm;zh[95]=Pm;zh[72]=[Pm,wCe];zh[104]=[Pm,wCe];zh[87]=[Pm,bCe];zh[119]=[Pm,bCe];function Aot(e,t,n){const r=this;let i,o;return s;function s(d){return!az(d)||!_Ce.call(r,r.previous)||NG(r.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(d))}function a(d){return az(d)?(e.consume(d),a):d===64?(e.consume(d),l):n(d)}function l(d){return d===46?e.check(Tot,c,u)(d):d===45||d===95||Da(d)?(o=!0,e.consume(d),l):c(d)}function u(d){return e.consume(d),i=!0,l}function c(d){return o&&i&&ul(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function Rot(e,t,n){const r=this;return i;function i(s){return s!==87&&s!==119||!xCe.call(r,r.previous)||NG(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Sot,e.attempt(gCe,e.attempt(yCe,o),n),n)(s))}function o(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function Iot(e,t,n){const r=this;let i="",o=!1;return s;function s(d){return(d===72||d===104)&&CCe.call(r,r.previous)&&!NG(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),e.consume(d),a):n(d)}function a(d){if(ul(d)&&i.length<5)return i+=String.fromCodePoint(d),e.consume(d),a;if(d===58){const f=i.toLowerCase();if(f==="http"||f==="https")return e.consume(d),l}return n(d)}function l(d){return d===47?(e.consume(d),o?u:(o=!0,l)):n(d)}function u(d){return d===null||D3(d)||Ei(d)||jv(d)||tM(d)?n(d):e.attempt(gCe,e.attempt(yCe,c),n)(d)}function c(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function Dot(e,t,n){let r=0;return i;function i(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),i):s===46&&r===3?(e.consume(s),o):n(s)}function o(s){return s===null?n(s):t(s)}}function Pot(e,t,n){let r,i,o;return s;function s(u){return u===46||u===95?e.check(vCe,l,a)(u):u===null||Ei(u)||jv(u)||u!==45&&tM(u)?l(u):(o=!0,e.consume(u),s)}function a(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),s}function l(u){return i||r||!o?n(u):t(u)}}function Oot(e,t){let n=0,r=0;return i;function i(s){return s===40?(n++,e.consume(s),i):s===41&&r<n?o(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(vCe,t,o)(s):s===null||Ei(s)||jv(s)?t(s):(e.consume(s),i)}function o(s){return s===41&&r++,e.consume(s),i}}function Not(e,t,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(e.consume(a),r):a===38?(e.consume(a),o):a===93?(e.consume(a),i):a===60||a===null||Ei(a)||jv(a)?t(a):n(a)}function i(a){return a===null||a===40||a===91||Ei(a)||jv(a)?t(a):r(a)}function o(a){return ul(a)?s(a):n(a)}function s(a){return a===59?(e.consume(a),r):ul(a)?(e.consume(a),s):n(a)}}function Mot(e,t,n){return r;function r(o){return e.consume(o),i}function i(o){return Da(o)?n(o):t(o)}}function xCe(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Ei(e)}function CCe(e){return!ul(e)}function _Ce(e){return!(e===47||az(e))}function az(e){return e===43||e===45||e===46||e===95||Da(e)}function NG(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const $ot={tokenize:qot,partial:!0};function Lot(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:zot,continuation:{tokenize:Uot},exit:Hot}},text:{91:{name:"gfmFootnoteCall",tokenize:Bot},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Fot,resolveTo:jot}}}}function Fot(e,t,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!s||!s._balanced)return n(l);const u=$d(r.sliceSerialize({start:s.end,end:r.now()}));return u.codePointAt(0)!==94||!o.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function jot(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},a=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",o,t],["enter",s,t],["exit",s,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...a),e}function Bot(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,s;return a;function a(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(d){if(o>999||d===93&&!s||d===null||d===91||Ei(d))return n(d);if(d===93){e.exit("chunkString");const f=e.exit("gfmFootnoteCallString");return i.includes($d(r.sliceSerialize(f)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(d)}return Ei(d)||(s=!0),o++,e.consume(d),d===92?c:u}function c(d){return d===91||d===92||d===93?(e.consume(d),o++,u):u(d)}}function zot(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,s=0,a;return l;function l(m){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(m){return m===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(m)}function c(m){if(s>999||m===93&&!a||m===null||m===91||Ei(m))return n(m);if(m===93){e.exit("chunkString");const p=e.exit("gfmFootnoteDefinitionLabelString");return o=$d(r.sliceSerialize(p)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return Ei(m)||(a=!0),s++,e.consume(m),m===92?d:c}function d(m){return m===91||m===92||m===93?(e.consume(m),s++,c):c(m)}function f(m){return m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),i.includes(o)||i.push(o),Pr(e,h,"gfmFootnoteDefinitionWhitespace")):n(m)}function h(m){return t(m)}}function Uot(e,t,n){return e.check(PT,t,e.attempt($ot,t,n))}function Hot(e){e.exit("gfmFootnoteDefinition")}function qot(e,t,n){const r=this;return Pr(e,i,"gfmFootnoteDefinitionIndent",5);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(o):n(o)}}function Vot(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,a){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let u=l;for(;u--;)if(s[u][0]==="exit"&&s[u][1].type==="strikethroughSequenceTemporary"&&s[u][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[u][1].end.offset-s[u][1].start.offset){s[l][1].type="strikethroughSequence",s[u][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},s[u][1].start),end:Object.assign({},s[l][1].end)},d={type:"strikethroughText",start:Object.assign({},s[u][1].end),end:Object.assign({},s[l][1].start)},f=[["enter",c,a],["enter",s[u][1],a],["exit",s[u][1],a],["enter",d,a]],h=a.parser.constructs.insideSpan.null;h&&Nu(f,f.length,0,nM(h,s.slice(u+1,l),a)),Nu(f,f.length,0,[["exit",d,a],["enter",s[l][1],a],["exit",s[l][1],a],["exit",c,a]]),Nu(s,u-1,l-u+3,f),l=u+f.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function o(s,a,l){const u=this.previous,c=this.events;let d=0;return f;function f(m){return u===126&&c[c.length-1][1].type!=="characterEscape"?l(m):(s.enter("strikethroughSequenceTemporary"),h(m))}function h(m){const p=ix(u);if(m===126)return d>1?l(m):(s.consume(m),d++,h);if(d<2&&!n)return l(m);const g=s.exit("strikethroughSequenceTemporary"),v=ix(m);return g._open=!v||v===2&&!!p,g._close=!p||p===2&&!!v,a(m)}}}class Wot{constructor(){this.map=[]}add(t,n,r){Got(this,t,n,r)}consume(t){if(this.map.sort(function(o,s){return o[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const o of i)t.push(o);i=r.pop()}this.map.length=0}}function Got(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function Yot(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Kot(){return{flow:{null:{name:"table",tokenize:Xot,resolveAll:Qot}}}}function Xot(e,t,n){const r=this;let i=0,o=0,s;return a;function a(I){let P=r.events.length-1;for(;P>-1;){const O=r.events[P][1].type;if(O==="lineEnding"||O==="linePrefix")P--;else break}const N=P>-1?r.events[P][1].type:null,M=N==="tableHead"||N==="tableRow"?S:l;return M===S&&r.parser.lazy[r.now().line]?n(I):M(I)}function l(I){return e.enter("tableHead"),e.enter("tableRow"),u(I)}function u(I){return I===124||(s=!0,o+=1),c(I)}function c(I){return I===null?n(I):In(I)?o>1?(o=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),h):n(I):yr(I)?Pr(e,c,"whitespace")(I):(o+=1,s&&(s=!1,i+=1),I===124?(e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),s=!0,c):(e.enter("data"),d(I)))}function d(I){return I===null||I===124||Ei(I)?(e.exit("data"),c(I)):(e.consume(I),I===92?f:d)}function f(I){return I===92||I===124?(e.consume(I),d):d(I)}function h(I){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(I):(e.enter("tableDelimiterRow"),s=!1,yr(I)?Pr(e,m,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):m(I))}function m(I){return I===45||I===58?g(I):I===124?(s=!0,e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),p):E(I)}function p(I){return yr(I)?Pr(e,g,"whitespace")(I):g(I)}function g(I){return I===58?(o+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(I),e.exit("tableDelimiterMarker"),v):I===45?(o+=1,v(I)):I===null||In(I)?_(I):E(I)}function v(I){return I===45?(e.enter("tableDelimiterFiller"),y(I)):E(I)}function y(I){return I===45?(e.consume(I),y):I===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(I),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(I))}function w(I){return yr(I)?Pr(e,_,"whitespace")(I):_(I)}function _(I){return I===124?m(I):I===null||In(I)?!s||i!==o?E(I):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(I)):E(I)}function E(I){return n(I)}function S(I){return e.enter("tableRow"),T(I)}function T(I){return I===124?(e.enter("tableCellDivider"),e.consume(I),e.exit("tableCellDivider"),T):I===null||In(I)?(e.exit("tableRow"),t(I)):yr(I)?Pr(e,T,"whitespace")(I):(e.enter("data"),k(I))}function k(I){return I===null||I===124||Ei(I)?(e.exit("data"),T(I)):(e.consume(I),I===92?R:k)}function R(I){return I===92||I===124?(e.consume(I),k):k(I)}}function Qot(e,t){let n=-1,r=!0,i=0,o=[0,0,0,0],s=[0,0,0,0],a=!1,l=0,u,c,d;const f=new Wot;for(;++n<e.length;){const h=e[n],m=h[1];h[0]==="enter"?m.type==="tableHead"?(a=!1,l!==0&&(cse(f,t,l,u,c),c=void 0,l=0),u={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},f.add(n,0,[["enter",u,t]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(r=!0,d=void 0,o=[0,0,0,0],s=[0,n+1,0,0],a&&(a=!1,c={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},f.add(n,0,[["enter",c,t]])),i=m.type==="tableDelimiterRow"?2:c?3:1):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(o[1]!==0&&(s[0]=s[1],d=bR(f,t,o,i,void 0,d),o=[0,0,0,0]),s[2]=n)):m.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(s[0]=s[1],d=bR(f,t,o,i,void 0,d)),o=s,s=[o[1],n,0,0])):m.type==="tableHead"?(a=!0,l=n):m.type==="tableRow"||m.type==="tableDelimiterRow"?(l=n,o[1]!==0?(s[0]=s[1],d=bR(f,t,o,i,n,d)):s[1]!==0&&(d=bR(f,t,s,i,n,d)),i=0):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(s[3]=n)}for(l!==0&&cse(f,t,l,u,c),f.consume(t.events),n=-1;++n<t.events.length;){const h=t.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=Yot(t.events,n))}return e}function bR(e,t,n,r,i,o){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(o.end=Object.assign({},sw(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const l=sw(t.events,n[1]);if(o={type:s,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",o,t]]),n[2]!==0){const u=sw(t.events,n[2]),c=sw(t.events,n[3]),d={type:a,start:Object.assign({},u),end:Object.assign({},c)};if(e.add(n[2],0,[["enter",d,t]]),r!==2){const f=t.events[n[2]],h=t.events[n[3]];if(f[1].end=Object.assign({},h[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const m=n[2]+1,p=n[3]-n[2]-1;e.add(m,p,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return i!==void 0&&(o.end=Object.assign({},sw(t.events,i)),e.add(i,0,[["exit",o,t]]),o=void 0),o}function cse(e,t,n,r,i){const o=[],s=sw(t.events,n);i&&(i.end=Object.assign({},s),o.push(["exit",i,t])),r.end=Object.assign({},s),o.push(["exit",r,t]),e.add(n+1,0,o)}function sw(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Jot={name:"tasklistCheck",tokenize:est};function Zot(){return{text:{91:Jot}}}function est(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),o)}function o(l){return Ei(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(l)}function a(l){return In(l)?t(l):yr(l)?e.check({tokenize:tst},t,n)(l):n(l)}}function tst(e,t,n){return Pr(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function nst(e){return jwe([kot(),Lot(),Vot(e),Kot(),Zot()])}const rst={};function ist(e){const t=this,n=e||rst,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(nst(n)),o.push(_ot()),s.push(Eot(n))}function dse(e){return!!e&&typeof e=="object"&&e.type==="text"}function ost(e){return!!e&&typeof e=="object"&&e.type==="element"}const sst=e=>({p({node:t,...n}){return e?b.jsx($e,{...n,component:"span",size:"sm"}):b.jsx($e,{...n,pb:8,fw:"inherit",ref:void 0})},h1({node:t,...n}){return b.jsx(gr,{...n,order:1,pb:e?void 0:12})},h2({node:t,...n}){return b.jsx(gr,{...n,order:2,pb:e?void 0:12})},h3({node:t,...n}){return b.jsx(gr,{...n,order:3,pb:e?void 0:12})},h4({node:t,...n}){return b.jsx(gr,{...n,order:4,pb:e?void 0:12})},h5({node:t,...n}){return b.jsx(gr,{...n,order:5,pb:e?void 0:12})},h6({node:t,...n}){return b.jsx(gr,{...n,order:6,pb:e?void 0:12})},a({node:t,...n}){return b.jsx(B0,{...n,ref:void 0})},code({node:t,...n}){return b.jsx(ku,{...n})},ul({node:t,...n}){return b.jsx(ji,{withPadding:!0,...n,pb:e?void 0:8})},ol({node:t,type:n,...r}){return b.jsx(ji,{...r,type:"ordered",withPadding:!0,pb:e?void 0:8})},table({node:t,...n}){return b.jsx(xn,{...n,mb:12,borderColor:"grey"})},thead({node:t,...n}){return b.jsx(xn.Thead,{...n})},tbody({node:t,...n}){return b.jsx(xn.Tbody,{...n})},tr({node:t,...n}){return b.jsx(xn.Tr,{...n})},th({node:t,...n}){return b.jsx(xn.Th,{...n})},td({node:t,...n}){return b.jsx(xn.Td,{...n})},img({node:t,width:n,height:r,src:i,...o}){return b.jsx(Am,{...o,h:r,w:n,src:i?.startsWith("http")?i:`${Hi}${i}`})}});function _h({text:e,required:t,inline:n}){const r=sst(n),i=A.useCallback(()=>o=>{if(!t||!o)return;let s=null,a=null,l=null;sx(o,d=>{dse(d)&&d.value.trim().length>0&&(l=d)}),l&&sx(o,(d,f,h)=>{if(!ost(d)||!d.children)return;d.children.some(p=>p===l)&&(s=d,a=h)});const u=s,c=a;if(u!==null){const d={type:"element",tagName:"span",properties:{style:"color: #fa5252; margin-left: 4px"},children:[{type:"text",value:"*"}]};if(dse(u.children.at(-1))){const h=u.children.at(-1).value.match(/^([\s\S]*?)(\S+)(\s*)$/);if(!h){u.children.push(d);return}const[,m,p,g]=h,v={type:"element",tagName:"span",properties:{},children:[...m.length>0?[{type:"text",value:m}]:[],{type:"element",tagName:"span",properties:{style:"white-space: nowrap"},children:[{type:"text",value:p},d]},...g.length>0?[{type:"text",value:g}]:[]]};u.children.splice(u.children.length-1,1,v)}else{const f={type:"element",tagName:"span",properties:{style:"white-space: nowrap; display: inline-flex;"},children:[u,d]};if(c){const h=c.children.indexOf(u);h!==-1&&c.children.splice(h,1,f)}}}},[t]);return e.length>0&&b.jsx(Eet,{components:r,rehypePlugins:[Krt,i],remarkPlugins:[ist],children:e})}function $D({issues:e,type:t}){const n=["invalid-config","invalid-library-config","undefined-library","undefined-base-component","undefined-component","sequence-validation","skip-validation","unused-component","disabled-sidebar"],r=y=>y.split("-").map(w=>w.charAt(0).toUpperCase()+w.slice(1)).join(" "),i=y=>y&&typeof y=="object"&&"action"in y?y.action:null,o=y=>{if(y.length<=1)return y;const w=new Intl.ListFormat("en",{style:"long",type:"conjunction"}),_=M=>{const O=M.match(/^(.*?)(`[^`]+`)(.*)$/);return O?{prefix:O[1],item:O[2],suffix:O[3]}:null},E=M=>{const O=M[0];return M.every(j=>j.prefix===O.prefix&&j.suffix===O.suffix)},S=(M,O)=>{if(!O)return M;const j=[[/\bdoes not\b/,"do not"],[/\bhas\b/,"have"],[/\bis\b/,"are"],[/\buses\b/,"use"]];let U=M;for(const[q,W]of j)U=U.replace(q,W);return U},T=y.map(_),k=T.filter(M=>M!==null);if(k.length!==T.length||!E(k))return y;const R=k[0],I=[...new Set(k.map(M=>M.item))],P=w.format(I),N=S(R.suffix,I.length>1);return[`${R.prefix}${P}${N}`]},s=y=>{if(y.message==="must have required property"){const{missingProperty:w}=y.params;if(w)return`Missing required property \`${w}\``}if(y.message.startsWith("must have required property")){const{missingProperty:w}=y.params;if(w)return`Missing required property \`${w}\``}return y.message||"No message provided"},a=y=>y.message==="must match a schema in anyOf",l=y=>{if(!y.message.includes("must have required property"))return null;const{missingProperty:w}=y.params;return typeof w=="string"?w:null},u=y=>{const w=y.some(a);let _=y.filter(k=>a(k)?y.length===1:!0);if(w){const k=new Map;if(_.forEach(R=>{const I=l(R);I&&k.set(I,(k.get(I)||0)+1)}),k.size>1){const R=Math.max(...k.values()),I=new Set(Array.from(k.entries()).filter(([,P])=>P===R).map(([P])=>P));I.size<k.size&&(_=_.filter(P=>{const N=l(P);return!N||I.has(N)}))}}const E=_.map(s),S=o(E),T=new Map;return S.forEach(k=>{T.set(k,(T.get(k)||0)+1)}),Array.from(T.entries()).map(([k,R])=>R>1?`${k} (x${R})`:k)},c=()=>{const y=new Map;return e.forEach(w=>{const{category:_}=w,E=i(w.params),S=w.instancePath||"root",T=`${E??""}-${S}`;y.has(_)||y.set(_,new Map);const k=y.get(_);k.has(T)?k.get(T).issues.push(w):k.set(T,{action:E,path:S,issues:[w]})}),n.filter(w=>y.has(w)).map(w=>({category:w,entries:Array.from(y.get(w).values())}))},d=t==="error"?"Errors":"Warnings",f=t==="error"?"Your study could not be built because of errors in the study config.":"There are potential issues in your study config.",h=t==="error"?"red":"orange",m=t==="error"?"Error":"Warning",p=e.length,[g,v]=A.useState(t==="error");return b.jsxs(Os,{withBorder:!0,p:"md",mt:"xs",children:[b.jsx(Yo,{onClick:()=>v(y=>!y),style:{width:"100%"},children:b.jsxs(ln,{justify:"space-between",children:[b.jsxs(ln,{gap:"xs",children:[b.jsx(Ru,{size:16,color:h}),b.jsx($e,{size:"md",fw:"bold",c:h,children:d})]}),b.jsxs(ln,{gap:"xs",children:[!g&&b.jsxs(Ii,{size:"sm",color:h,variant:"light",children:[p," ",m,p===1?"":"s"]}),g?b.jsx(uwe,{size:16}):b.jsx(J4,{size:16})]})]})}),b.jsx($e,{size:"sm",c:"dimmed",children:f}),b.jsx(Fh,{in:g,children:b.jsx(Nn,{gap:"md",mt:"xs",children:c().map(({category:y,entries:w},_,E)=>{const S=w.reduce((T,k)=>T+k.issues.length,0);return b.jsxs(Nn,{gap:0,children:[b.jsxs(ln,{justify:"space-between",children:[b.jsx($e,{size:"sm",fw:"bold",children:r(y)}),b.jsxs(Ii,{size:"sm",variant:"light",color:h,children:[S," ",m,S===1?"":"s"]})]}),b.jsx(ji,{size:"xs",spacing:"xs",mt:"xs",listStyleType:"none",children:w.map((T,k)=>{const R=u(T.issues);return b.jsx(ji.Item,{children:b.jsxs(Nn,{gap:2,children:[T.action&&b.jsx($e,{size:"sm",c:"dimmed",children:T.action}),b.jsxs($e,{size:"sm",children:[b.jsxs(ku,{component:"span",fw:"bold",bg:"none",children:[T.path,":"]}),R.map((I,P)=>b.jsxs($e,{component:"span",children:[P>0&&b.jsx("br",{}),b.jsx(_h,{text:I,inline:!0})]},`${T.path}-${k}-${P}-msg`))]})]})},`${T.path}-${T.action}-${k}`)})}),_<E.length-1&&b.jsx(Cb,{mt:"md"})]},y)})})})]})}const P1=14;function ast({completed:e,inProgress:t,rejected:n}){return b.jsxs(lt,{ml:4,gap:4,children:[b.jsx(ct,{label:"Completed",children:b.jsx(Ii,{variant:"light",color:"green",leftSection:b.jsx(Ch,{width:P1,height:P1,style:{paddingTop:1}}),pb:1,children:e})}),b.jsx(ct,{label:"In Progress",children:b.jsx(Ii,{variant:"light",color:"orange",leftSection:b.jsx(ywe,{width:P1,height:P1,style:{paddingTop:1}}),pb:1,children:t})}),b.jsx(ct,{label:"Rejected",children:b.jsx(Ii,{variant:"light",color:"red",leftSection:b.jsx(am,{width:P1,height:P1,style:{paddingTop:1}}),pb:1,children:n})})]})}async function lz(e){const t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(o=>o.toString(16).padStart(2,"0")).join("")}function M_(e){const t=e;return typeof t=="object"&&t&&t.participantId!==void 0}function mc(e){return!!e&&e.isCloudEngine()}function lst(e,t,n,r,i){const o=Object.values(e).filter(l=>l.endTime>-1).map(l=>l.componentName),s=i!==void 0;return{total:t.map(l=>n.components[l]?1:Object.entries(e).filter(([u,c])=>u.includes(`${l}_`)).length).reduce((l,u)=>l+u,0),answered:o,isDynamic:s}}const ECe=A.createContext({user:{user:null,determiningStatus:!1,isAdmin:!1,adminVerification:!1},logout:async()=>{},triggerAuth:()=>{},verifyAdminStatus:()=>Promise.resolve(!1)}),V0=()=>A.useContext(ECe);function ust({children:e}){const t={user:null,determiningStatus:!0,isAdmin:!1,adminVerification:!1},n={user:null,determiningStatus:!1,isAdmin:!1,adminVerification:!1},r={user:{email:"fakeEmail@fake.com",uid:"fakeUid"},determiningStatus:!1,isAdmin:!0,adminVerification:!0},[i,o]=A.useState(t),[s,a]=A.useState(!1),{storageEngine:l}=ri(),u=async()=>{if(l&&mc(l))try{await l.logout()}catch(h){console.error(`There was an issue signing-out the user: ${h.message}`)}finally{o(n)}},c=A.useCallback(()=>{a(!0)},[]);A.useEffect(()=>{(async()=>{if(l?.getEngine()==="supabase")try{await l.getSession()}catch(m){console.error("Supabase session check failed",m)}})()},[l,c]);const d=async h=>l&&mc(l)?await l.validateUser(h,!0):!1;A.useEffect(()=>{o(t);const h=async g=>{if(o(v=>({user:v.user,isAdmin:v.isAdmin,determiningStatus:!0,adminVerification:!1})),g){const v={user:g,determiningStatus:!1,isAdmin:!1,adminVerification:!0},y=await d(v);v.isAdmin=!!y,o(v)}else u()},p=(async()=>(l&&mc(l)?(await l.getUserManagementData("authentication"))?.isEnabled?l.unsubscribe(h):o(r):l&&o(r),()=>{}))();return()=>{p.then(g=>g())}},[l,s]);const f=A.useMemo(()=>({user:i,triggerAuth:c,logout:u,verifyAdminStatus:d}),[i]);return b.jsx(ECe.Provider,{value:f,children:i.determiningStatus?b.jsx(Jl,{visible:!0}):e})}function Mu(e){return e?Array.isArray(e)?e.map(t=>t.trim()).filter(Boolean):e.split(",").map(t=>t.trim()).filter(Boolean):[]}function cst({urlCondition:e,participantConditions:t,participantSearchParamCondition:n,allowUrlOverride:r}){const i=Mu(e);return r&&i.length>0?i:Mu(t??n)}function fse(e,t){const n=Mu(t);if(n.length===0)return e;const r=i=>{const o=!!(i.conditional&&i.id!=null),s=!o||n.includes(i.id);if(o&&!s)return null;const a=[];for(const l of i.components)if(typeof l=="string")a.push(l);else{const u=r(l);u&&a.push(u)}return{...i,components:a}};return r(e)??{...e,components:[]}}function dst(e){const t=new Set,n=r=>{!r||typeof r!="object"||(r.conditional&&r.id&&t.add(r.id),"components"in r&&Array.isArray(r.components)&&r.components.forEach(i=>{i&&typeof i!="string"&&n(i)}))};return n(e),Array.from(t)}function fst({configName:e,config:t,url:n,modes:r}){const{storageEngine:i}=ri(),[o,s]=A.useState(null);A.useEffect(()=>{i&&i.getParticipantsStatusCounts(e).then(y=>{s(y)})},[e,i]);const{minTime:a,maxTime:l}=A.useMemo(()=>{if(!o)return{minTime:null,maxTime:null};if(!o.minTime||!o.maxTime)return{minTime:null,maxTime:null};const y=typeof o.minTime=="number"?new Date(o.minTime):o.minTime.toDate(),w=typeof o.maxTime=="number"?new Date(o.maxTime):o.maxTime.toDate();return{minTime:y.toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"long",day:"numeric"}),maxTime:w.toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"long",day:"numeric"})}},[o]),u=A.useMemo(()=>r?r.dataCollectionEnabled?o&&(o.inProgress>0||o.completed>0)?"Collecting Data":"Ready to Collect Data":"Data Collection Disabled":"Unknown",[r,o]),c=A.useMemo(()=>dst(t.sequence),[t.sequence]),[d,f]=A.useState(["default"]),[h,m]=A.useState({});A.useEffect(()=>{async function y(){if(i)try{const w=await i.getConditionData(e);m(w.conditionCounts)}catch(w){m({}),console.error("Failed to load condition counts:",w)}}y()},[e,i]);const p=A.useMemo(()=>["default",...c].map(y=>({value:y,label:`${y} (${h[y]||0} participant${(h[y]||0)===1?"":"s"})`})),[c,h]),g=A.useMemo(()=>d.filter(y=>y!=="default"),[d]),v=A.useMemo(()=>g.length>0?`${Hi}${n}?condition=${g.join(",")}`:`${Hi}${n}`,[g,n]);return b.jsx(Js,{shadow:"sm",radius:"md",my:"sm",withBorder:!0,children:t.errors.length>0?b.jsxs(b.Fragment,{children:[b.jsx($e,{size:"md",fw:"bold",children:e}),b.jsx($D,{issues:t.errors,type:"error"}),t.warnings.length>0&&b.jsx($D,{issues:t.warnings,type:"warning"})]}):b.jsxs(b.Fragment,{children:[b.jsx(lt,{direction:"row",justify:"space-between",children:b.jsx($e,{fw:"bold",children:t.studyMetadata.title})}),b.jsxs($e,{c:"dimmed",children:[b.jsx($e,{span:!0,fw:500,children:"Authors: "}),t.studyMetadata.authors.join(", ")]}),b.jsx($e,{c:"dimmed",children:t.studyMetadata.description}),b.jsx($e,{c:"dimmed",ta:"right",style:{paddingRight:5},children:b.jsxs(B0,{target:"_blank",onClick:y=>y.stopPropagation(),href:`https://github.com/revisit-studies/study/tree/main/public/${n}`,children:["View source:"," ",n,b.jsx(kYe,{style:{width:Ye(18),height:Ye(18),marginLeft:Ye(2),marginBottom:Ye(-3)}})]})}),t.warnings.length>0&&b.jsx($D,{issues:t.warnings,type:"warning"}),b.jsx(Cb,{my:"md"}),b.jsxs(lt,{direction:"row",gap:"sm",children:[b.jsxs($e,{fw:"bold",size:"sm",opacity:.7,children:["Study Status:"," ",u]}),o&&b.jsx(ast,{completed:o.completed,inProgress:o.inProgress,rejected:o.rejected}),b.jsxs(lt,{ml:"auto",gap:"sm",opacity:.7,children:[r?.developmentModeEnabled?b.jsx(ct,{label:"Development mode enabled",withinPortal:!0,children:b.jsx(bwe,{size:16,color:"green"})}):b.jsx(ct,{label:"Development mode disabled",withinPortal:!0,children:b.jsx(NKe,{size:16,color:"red"})}),r?.dataSharingEnabled?b.jsx(ct,{label:"Data sharing enabled",withinPortal:!0,children:b.jsx(pwe,{size:16,color:"green"})}):b.jsx(ct,{label:"Data sharing disabled",withinPortal:!0,children:b.jsx(hwe,{size:16,color:"red"})}),i?.getEngine()==="localStorage"?b.jsx(ct,{label:"Local storage enabled",withinPortal:!0,position:"bottom",children:b.jsx(R3,{size:16,color:"green"})}):i?.getEngine()==="firebase"?b.jsx(ct,{label:"Firebase enabled",withinPortal:!0,position:"bottom",children:b.jsx(swe,{size:16,color:"green"})}):i?.getEngine()==="supabase"?b.jsx(ct,{label:"Supabase enabled",withinPortal:!0,position:"bottom",children:b.jsx(uG,{size:16,color:"green"})}):b.jsx(ct,{label:"Unknown storage engine enabled",withinPortal:!0,position:"bottom",children:b.jsx(R3,{size:16,color:"red"})})]})]}),a&&l&&b.jsxs($e,{c:"dimmed",mt:4,children:["Activity:"," ",a," ",""," ",l]}),c.length>0&&b.jsx(lt,{direction:"row",align:"center",gap:"xs",mt:"sm",wrap:"wrap",children:c.map(y=>{const w=new URL(`${Hi}${n}`,window.location.origin);w.searchParams.set("condition",y);const _=w.toString();return b.jsx(cW,{value:_,children:({copied:E,copy:S})=>b.jsx(ct,{label:E?"Copied!":"Copy URL",children:b.jsx(Ii,{size:"sm",variant:"light",rightSection:E?b.jsx(Ch,{size:12}):b.jsx(Z4,{size:12}),onClick:S,style:{cursor:"pointer"},children:y})})},y)})}),b.jsxs(lt,{direction:"row",align:"end",gap:"sm",mt:"md",wrap:"wrap",children:[c.length>0&&b.jsx(Up,{value:d,data:p,w:260,onChange:y=>{if(y.length===0){f(["default"]);return}if(y.includes("default")&&y.length>1){f(y.filter(w=>w!=="default"));return}f(y)}}),b.jsx(Mt,{leftSection:b.jsx(awe,{}),style:{marginLeft:"auto"},variant:"default",component:"a",href:`${Hi}analysis/stats/${n}`,children:"Analyze & Manage Study"}),b.jsx(Mt,{leftSection:b.jsx(mwe,{}),component:"a",href:v,children:"Go to Study"})]})]})},e)}function O1({configNames:e,studyConfigs:t,modesByConfig:n}){return e.map(r=>{const i=t[r];if(!i)return null;const o=_we(r);return b.jsx(fst,{configName:r,config:i,url:o,modes:n[r]??null},r)})}function hst({globalConfig:e,studyConfigs:t}){const{storageEngine:n}=ri(),{configsList:r}=e,[i,o]=A.useState({}),[s,a]=A.useState({}),[l,u]=A.useState(!0);A.useEffect(()=>{let k=!1;async function R(){if(n===void 0){u(!0);return}u(!0);const I={},P={};await Promise.all(r.map(async N=>{if(n){const M=await n.getModes(N);mc(n)&&(I[N]=M.dataSharingEnabled),P[N]=M}else P[N]=null})),k||(o(I),a(P),u(!1))}return R(),()=>{k=!0}},[r,n]);const{user:c}=V0(),d=A.useMemo(()=>r.some(k=>!(k in t)),[r,t]),f=l||d,h=A.useMemo(()=>r.filter(k=>i[k]||c.isAdmin),[r,i,c]),m=A.useMemo(()=>h.filter(k=>k.startsWith("demo-")),[h]),p=A.useMemo(()=>h.filter(k=>k.startsWith("tutorial")),[h]),g=A.useMemo(()=>h.filter(k=>k.startsWith("example-")),[h]),v=A.useMemo(()=>h.filter(k=>k.startsWith("test-")),[h]),y=A.useMemo(()=>h.filter(k=>k.startsWith("library-")),[h]),w=A.useMemo(()=>h.filter(k=>!k.startsWith("demo-")&&!k.startsWith("tutorial")&&!k.startsWith("example-")&&!k.startsWith("test-")&&!k.startsWith("library-")),[h]),[_]=au(),E=A.useMemo(()=>w.length>0?"Others":m.length>0?"Demos":g.length>0?"Examples":p.length>0?"Tutorials":v.length>0?"Tests":y.length>0?"Libraries":"Demos",[w,m,g,p,v,y]),S=A.useMemo(()=>_.get("tab")||E,[E,_]),T=ca();return b.jsx(Ri.Main,{children:b.jsxs(U0,{size:"sm",px:0,children:[b.jsx(Am,{maw:150,mx:"auto",mb:"xl",radius:"md",src:`${Hi}revisitAssets/revisitLogoSquare.svg`,alt:"reVISit"}),f&&b.jsxs(b.Fragment,{children:[b.jsx(jn,{variant:"outline",value:null,mb:"md",children:b.jsxs(jn.List,{children:[b.jsx(jn.Tab,{value:"demos",disabled:!0,children:"Demo Studies"}),b.jsx(jn.Tab,{value:"examples",disabled:!0,children:"Example Studies"}),b.jsx(jn.Tab,{value:"tutorials",disabled:!0,children:"Tutorials"}),b.jsx(jn.Tab,{value:"tests",disabled:!0,children:"Tests"}),b.jsx(jn.Tab,{value:"libraries",disabled:!0,children:"Libraries"})]})}),b.jsx($e,{c:"dimmed",ta:"center",mt:"sm",mb:"md",children:"Loading studies..."}),b.jsxs(Js,{shadow:"sm",radius:"md",my:"sm",withBorder:!0,p:"lg",children:[b.jsx(Ao,{height:28,width:"55%",mb:"md"}),b.jsx(Ao,{height:16,mb:"sm"}),b.jsx(Ao,{height:16,mb:"sm"}),b.jsx(Ao,{height:16,width:"90%",mb:"xl"}),b.jsxs(lt,{justify:"space-between",align:"center",children:[b.jsx(Ao,{height:36,width:190,radius:"md"}),b.jsx(Ao,{height:36,width:140,radius:"md"})]})]}),b.jsxs(Js,{shadow:"sm",radius:"md",my:"sm",withBorder:!0,p:"lg",children:[b.jsx(Ao,{height:28,width:"45%",mb:"md"}),b.jsx(Ao,{height:16,mb:"sm"}),b.jsx(Ao,{height:16,mb:"sm"}),b.jsx(Ao,{height:16,width:"85%",mb:"xl"}),b.jsxs(lt,{justify:"space-between",align:"center",children:[b.jsx(Ao,{height:36,width:190,radius:"md"}),b.jsx(Ao,{height:36,width:140,radius:"md"})]})]}),b.jsxs(Js,{shadow:"sm",radius:"md",my:"sm",withBorder:!0,p:"lg",children:[b.jsx(Ao,{height:28,width:"50%",mb:"md"}),b.jsx(Ao,{height:16,mb:"sm"}),b.jsx(Ao,{height:16,mb:"sm"}),b.jsx(Ao,{height:16,width:"88%",mb:"xl"}),b.jsxs(lt,{justify:"space-between",align:"center",children:[b.jsx(Ao,{height:36,width:190,radius:"md"}),b.jsx(Ao,{height:36,width:140,radius:"md"})]})]})]}),!f&&b.jsxs(b.Fragment,{children:[b.jsxs(jn,{variant:"outline",defaultValue:E,value:S,onChange:k=>T(`/?tab=${k}`),children:[b.jsxs(jn.List,{children:[w.length>0&&b.jsx(jn.Tab,{value:"Others",children:"Your Studies"}),m.length>0&&b.jsx(jn.Tab,{value:"Demos",children:"Demo Studies"}),g.length>0&&b.jsx(jn.Tab,{value:"Examples",children:"Example Studies"}),p.length>0&&b.jsx(jn.Tab,{value:"Tutorials",children:"Tutorials"}),v.length>0&&b.jsx(jn.Tab,{value:"Tests",children:"Tests"}),y.length>0&&b.jsx(jn.Tab,{value:"Libraries",children:"Libraries"})]}),w.length>0&&b.jsx(jn.Panel,{value:"Others",children:b.jsx(O1,{configNames:w,studyConfigs:t,modesByConfig:s})}),m.length>0&&b.jsxs(jn.Panel,{value:"Demos",children:[b.jsx($e,{c:"dimmed",mt:"sm",children:"These studies show off individual features of the reVISit platform."}),b.jsx(O1,{configNames:m,studyConfigs:t,modesByConfig:s})]}),g.length>0&&b.jsxs(jn.Panel,{value:"Examples",children:[b.jsx($e,{c:"dimmed",mt:"sm",children:"These are full studies that demonstrate the capabilities of the reVISit platform."}),b.jsx(O1,{configNames:g,studyConfigs:t,modesByConfig:s})]}),p.length>0&&b.jsxs(jn.Panel,{value:"Tutorials",children:[b.jsx($e,{c:"dimmed",mt:"sm",children:"These studies are designed to help you learn how to use the reVISit platform."}),b.jsx(O1,{configNames:p,studyConfigs:t,modesByConfig:s})]}),v.length>0&&b.jsxs(jn.Panel,{value:"Tests",children:[b.jsx($e,{c:"dimmed",mt:"sm",children:"These studies exist for testing purposes."}),b.jsx(O1,{configNames:v,studyConfigs:t,modesByConfig:s})]}),y.length>0&&b.jsxs(jn.Panel,{value:"Libraries",children:[b.jsx($e,{c:"dimmed",mt:"sm",children:"Here you can see an example of every library that we publish."}),b.jsx(O1,{configNames:y,studyConfigs:t,modesByConfig:s})]})]}),h.length===0&&b.jsxs($e,{c:"dimmed",ta:"center",mt:"xl",children:["No studies found. Studies can be added in your"," ",b.jsx($e,{span:!0,ff:"monospace",children:"global.json"}),"."]})]})]})})}var i8={exports:{}},o8={};var hse;function pst(){if(hse)return o8;hse=1;var e=s4();function t(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,s=e.useMemo,a=e.useDebugValue;return o8.useSyncExternalStoreWithSelector=function(l,u,c,d,f){var h=i(null);if(h.current===null){var m={hasValue:!1,value:null};h.current=m}else m=h.current;h=s(function(){function g(E){if(!v){if(v=!0,y=E,E=d(E),f!==void 0&&m.hasValue){var S=m.value;if(f(S,E))return w=S}return w=E}if(S=w,n(y,E))return S;var T=d(E);return f!==void 0&&f(S,T)?(y=E,S):(y=E,w=T)}var v=!1,y,w,_=c===void 0?null:c;return[function(){return g(u())},_===null?void 0:function(){return g(_())}]},[u,c,d,f]);var p=r(l,h[0],h[1]);return o(function(){m.hasValue=!0,m.value=p},[p]),a(p),p},o8}var pse;function mst(){return pse||(pse=1,i8.exports=pst()),i8.exports}var gst=mst();function yst(e){e()}function vst(){let e=null,t=null;return{clear(){e=null,t=null},notify(){yst(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var mse={notify(){},get:()=>[]};function bst(e,t){let n,r=mse,i=0,o=!1;function s(p){c();const g=r.subscribe(p);let v=!1;return()=>{v||(v=!0,g(),d())}}function a(){r.notify()}function l(){m.onStateChange&&m.onStateChange()}function u(){return o}function c(){i++,n||(n=e.subscribe(l),r=vst())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=mse)}function f(){o||(o=!0,c())}function h(){o&&(o=!1,d())}const m={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>r};return m}var wst=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xst=wst(),Cst=()=>typeof navigator<"u"&&navigator.product==="ReactNative",_st=Cst(),Est=()=>xst||_st?A.useLayoutEffect:A.useEffect,Sst=Est(),Tst=Symbol.for("react-redux-context"),kst=typeof globalThis<"u"?globalThis:{};function Ast(){if(!A.createContext)return{};const e=kst[Tst]??=new Map;let t=e.get(A.createContext);return t||(t=A.createContext(null),e.set(A.createContext,t)),t}var f0=Ast();function Rst(e){const{children:t,context:n,serverState:r,store:i}=e,o=A.useMemo(()=>{const l=bst(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=A.useMemo(()=>i.getState(),[i]);Sst(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,s]);const a=n||f0;return A.createElement(a.Provider,{value:o},t)}var Ist=Rst;function MG(e=f0){return function(){return A.useContext(e)}}var SCe=MG();function TCe(e=f0){const t=e===f0?SCe:MG(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var Dst=TCe();function Pst(e=f0){const t=e===f0?Dst:TCe(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var kCe=Pst(),Ost=(e,t)=>e===t;function Nst(e=f0){const t=e===f0?SCe:MG(e),n=(r,i={})=>{const{equalityFn:o=Ost}=typeof i=="function"?{equalityFn:i}:i,s=t(),{store:a,subscription:l,getServerState:u}=s;A.useRef(!0);const c=A.useCallback({[r.name](f){return r(f)}}[r.name],[r]),d=gst.useSyncExternalStoreWithSelector(l.addNestedSub,a.getState,u||a.getState,c,o);return A.useDebugValue(d),d};return Object.assign(n,{withTypes:()=>n}),n}var Mst=Nst();const $st="/template/assets/VLAT1-vnvZ7yRm.png",Lst=Object.freeze(Object.defineProperty({__proto__:null,default:$st},Symbol.toStringTag,{value:"Module"})),Fst="/template/assets/VLAT10-BMGl61Mu.png",jst=Object.freeze(Object.defineProperty({__proto__:null,default:Fst},Symbol.toStringTag,{value:"Module"})),Bst="/template/assets/VLAT11-Bxb0LCYD.png",zst=Object.freeze(Object.defineProperty({__proto__:null,default:Bst},Symbol.toStringTag,{value:"Module"})),Ust="/template/assets/VLAT12-Ch9t16aS.png",Hst=Object.freeze(Object.defineProperty({__proto__:null,default:Ust},Symbol.toStringTag,{value:"Module"})),qst="/template/assets/VLAT2-Ck6767Xc.png",Vst=Object.freeze(Object.defineProperty({__proto__:null,default:qst},Symbol.toStringTag,{value:"Module"})),Wst="/template/assets/VLAT3-Cwe4YjoY.png",Gst=Object.freeze(Object.defineProperty({__proto__:null,default:Wst},Symbol.toStringTag,{value:"Module"})),Yst="/template/assets/VLAT4-CZ1oExNp.png",Kst=Object.freeze(Object.defineProperty({__proto__:null,default:Yst},Symbol.toStringTag,{value:"Module"})),Xst="/template/assets/VLAT5-C6h4Z1Dz.png",Qst=Object.freeze(Object.defineProperty({__proto__:null,default:Xst},Symbol.toStringTag,{value:"Module"})),Jst="/template/assets/VLAT6-BSRlVaih.png",Zst=Object.freeze(Object.defineProperty({__proto__:null,default:Jst},Symbol.toStringTag,{value:"Module"})),eat="/template/assets/VLAT7-BF4fuAsD.png",tat=Object.freeze(Object.defineProperty({__proto__:null,default:eat},Symbol.toStringTag,{value:"Module"})),nat="/template/assets/VLAT8-Cf_OYzE7.png",rat=Object.freeze(Object.defineProperty({__proto__:null,default:nat},Symbol.toStringTag,{value:"Module"})),iat="/template/assets/VLAT9-CkTk-Ex0.png",oat=Object.freeze(Object.defineProperty({__proto__:null,default:iat},Symbol.toStringTag,{value:"Module"})),$G=[{question:"What was the price of a barrel of oil in February 2015?",img:"VLAT1",name:"0",options:["$57.36","$47.82","$50.24","$39.72","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"line",originID:1,task:"Retrieve Value",CVR:1,P:.95,D:.07},{question:"In which month was the price of a barrel of oil the lowest in 2015?",img:"VLAT1",name:"1",options:["March","May","July","December","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"line",originID:2,task:"Find Extremum",CVR:1,P:.97,D:.06},{question:"What was the price range of a barrel of oil in 2015?",img:"VLAT1",name:"2",options:["$35 - $65","$48.36 - $60.95","$37.04 - $48.36","$37.04 - $60.95","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"line",originID:3,task:"Determine Range",CVR:1,P:.56,D:.66},{question:"Over the course of the second half of 2015, the price of a barrel of oil was",img:"VLAT1",name:"3",options:["Rising","Falling","Staying","Skip"],trueAnswer:1,answer:"",required:!0,chartType:"line",originID:4,task:"Find Correlations/Trends",CVR:1,P:.98,D:.03},{question:"About how much did the price of a barrel of oil fall from April to September in 2015?",img:"VLAT1",name:"4",options:["$4","$15","$17","$45","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"line",originID:5,task:"Make Comparisons",CVR:.2,P:.77,D:.44},{question:"What is the average internet speed in Japan?",img:"VLAT2",name:"5",options:["10 Mbps","14 Mbps","15 Mbps","16 Mbps","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"bar",originID:6,task:"Retrieve Value",CVR:1,P:.88,D:.21},{question:"In which country is the average internet speed the fastest in Asia?",img:"VLAT2",name:"6",options:["China","Hong Kong","South Korea","Vietnam","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"bar",originID:7,task:"Find Extremum",CVR:1,P:.98,D:.05},{question:"What is the range of the average internet speed in Asia?",img:"VLAT2",name:"7",options:["0 - 22 Mbps"," 2 - 20.5 Mbps","3 - 20 Mbps","3.4 - 7.8 Mbps","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"bar",originID:8,task:"Determine Range",CVR:.6,P:.54,D:.61},{question:"How many countries in Asia have an average internet speed that is slower than that of Thailand?",img:"VLAT2",name:"8",options:["5 Countries"," 6 Countries","7 Countries","8 Countries","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"bar",originID:9,task:"Make Comparisons",CVR:.2,P:.4,D:.23},{question:"What is the cost of peanuts in Las Vegas?",img:"VLAT3",name:"9",options:["$12"," $16.7","$23.4","$35.4","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"stackbar",originID:10,task:"Retrieve Value (Absolute Value)",CVR:.2,P:.38,D:.66},{question:"About what is the ratio of the cost of a sandwich to the total cost of room service in Seattle?",img:"VLAT3",name:"10",options:["1 to 10","2 to 10","4 to 10","6 to 10","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"stackbar",originID:11,task:"Retrieve Value (Relative Value)",CVR:.2,P:.36,D:.48},{question:"In which city is the cost of soda the highest?",img:"VLAT3",name:"11",options:["New York City","Las Vegas","Atlanta","Washington D.C.","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"stackbar",originID:12,task:"Find Extremum",CVR:.2,P:.69,D:.45},{question:"The cost of vodka in Atlanta is higher than that of Honolulu.",img:"VLAT3",name:"13",options:["True","False","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"stackbar",originID:14,task:"Make Comparisons (Absolute Value)",CVR:.2,P:.59,D:.52},{question:"The ratio of the cost of Soda to the cost of Water in Orlando is higher than in that of Washington D.C.",img:"VLAT3",name:"14",options:["True","False","Skip"],trueAnswer:1,answer:"",required:!0,chartType:"stackbar",originID:15,task:"Make Comparisons (Relative Value)",CVR:.2,P:.47,D:.32},{question:"What is the approval rating of Republicans among the people who have the education level of Postgraduate Study?",img:"VLAT4",name:"15",options:["38%","47%","53%","62%","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"100% stackbar",originID:16,task:"Retrieve Value (Relative Value)",CVR:1,P:.49,D:.57},{question:"What is the education level of people in which the Democrats have the lowest approval rating?",img:"VLAT4",name:"16",options:["High School Graduate or Less","Some College Degree","College Graduate","Postgraduate study","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"100% stackbar",originID:17,task:"Find Extremum (Relative Value)",CVR:.6,P:.9,D:.21},{question:"The approval rating of Republicans for the people who have the education level of Some College Degree is lower than that for the people who have the education level of Postgraduate Study.",img:"VLAT4",name:"17",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"100% stackbar",originID:18,task:"Make Comparisons (Relative Value)",CVR:1,P:.54,D:.54},{question:"About what is the global smartphone market share of Samsung?",img:"VLAT5",name:"18",options:["15%","25%","33%","50%","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"pie",originID:19,task:"Retrieve Value (Relative Value)",CVR:.6,P:.72,D:.34},{question:"In which company is the global smartphone market share the smallest?",img:"VLAT5",name:"19",options:["Apple","Xiaomi","Lenovo","Others","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"pie",originID:20,task:"Find Extremum (Relative Value)",CVR:.6,P:.98,D:.03},{question:"The global smartphone market share of Apple is larger than that of Huawei.",img:"VLAT5",name:"20",options:["True","False","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"pie",originID:21,task:"Make Comparisons (Relative Value)",CVR:.6,P:1,D:0},{question:"How many people have rated the taxi between 4.0 and 4.2?",img:"VLAT6",name:"21",options:["145","153","200","240","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"histogram",originID:22,task:"Retrieve Value (Derived Value)",CVR:1,P:.84,D:.26},{question:"What is the rating that the people have rated the taxi the most?",img:"VLAT6",name:"22",options:["4.2-4.4","4.4-4.6","4.6-4.8","4.8-5.0","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"histogram",originID:23,task:"Find Extremum (Derived Value)",CVR:1,P:.94,D:.06},{question:"More people have rated the taxi between 4.6 and 4.8 than between 4.2 and 4.4.",img:"VLAT6",name:"24",options:["True","False","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"histogram",originID:25,task:"Make Comparisons (Derived Value)",CVR:1,P:.86,D:.18},{question:"What is the weight for the person who is 165.1 cm tall?",img:"VLAT7",name:"26",options:["53.9kg","67.7kg","70.5kg","82.7kg","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"scatterplot",originID:27,task:"Retrieve Value",CVR:1,P:.85,D:.27},{question:"What is the height for the tallest person among the 85 males?",img:"VLAT7",name:"27",options:["175.3cm","192cm","197.1cm","200cm","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"scatterplot",originID:28,task:"Find Extremum",CVR:1,P:.76,D:.39},{question:"What is the range in weight for the 85 males?",img:"VLAT7",name:"28",options:["40 - 130kg","62.3 - 90.9kg","53.9 - 102.3kg","53.9 - 123.6kg","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"scatterplot",originID:29,task:"Determine Range",CVR:.6,P:.53,D:.49},{question:"What is the height for a person who lies outside the others the most?",img:"VLAT7",name:"30",options:["167.4cm","175.3cm","193cm","197.1cm","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"scatterplot",originID:31,task:"Find Anomalies",CVR:.6,P:.42,D:.29},{question:"A group of males are gathered around the height of 176 cm and the weight of 70 kg.",img:"VLAT7",name:"31",options:["True","False","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"scatterplot",originID:32,task:"Find Clusters",CVR:.2,P:.9,D:.23},{question:"There is a negative linear relationship between the height and the weight of the 85 males.",img:"VLAT7",name:"32",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"scatterplot",originID:33,task:"Find Correlations/Trends",CVR:1,P:.52,D:.66},{question:"The weights for males with the height of 188 cm are all the same.",img:"VLAT7",name:"33",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"scatterplot",originID:34,task:"Make Comparisons",CVR:.6,P:.79,D:.2},{question:"What was the average price of a pound of coffee beans in September 2013?",img:"VLAT8",name:"34",options:["$4.9","$5.0","$5.1","$5.2","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"area",originID:35,task:"Retrieve Value",CVR:1,P:.75,D:.34},{question:"When was the average price of a pound of coffee beans at minimum?",img:"VLAT8",name:"35",options:["April 2013","September 2013","June 2014","December 2014","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"area",originID:36,task:"Find Extremum",CVR:1,P:.44,D:.33},{question:"What was the range of the average price of a pound of coffee beans between January 2013 and December 2014?",img:"VLAT8",name:"36",options:["$4.4 - $6.2","$4.6 - $5.9","$4.6 - $6.0","$4.6 - $6.1","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"area",originID:37,task:"Determine Range",CVR:.6,P:.38,D:.31},{question:"Over the course of 2013, the average price of a pound of coffee beans was",img:"VLAT8",name:"37",options:["Rising","Falling","Staying","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"area",originID:38,task:"Find Correlations/Trends",CVR:1,P:.94,D:.14},{question:"What was the number of girls named 'Amelia' in 2010 in the UK?",img:"VLAT9",name:"39",options:["1500","3800","4200","8000","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"stackarea",originID:40,task:"Retrieve Value (Absolute Value)",CVR:.2,P:.15,D:.29},{question:"About what was the ratio of the number of girls named 'Olivia' to those named 'Isla' in 2014 in the UK?",img:"VLAT9",name:"40",options:["1 to 1","1 to 2","1 to 3","1 to 4","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"stackarea",originID:41,task:"Retrieve Value (Relative Value)",CVR:.6,P:.25,D:.29},{question:"Over the course of years between 2009 and 2014, when was the number of girls named 'Amelia' at the maximum?",img:"VLAT9",name:"41",options:["2009","2011","2012","2014","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"stackarea",originID:42,task:"Find Extremum",CVR:.6,P:.97,D:.04},{question:"The number of girls named 'Isla' was __________ from 2009 to 2012.",img:"VLAT9",name:"43",options:["Rising","Falling","Staying","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"stackarea",originID:44,task:"Find Correlations/Trends",CVR:1,P:.96,D:.09},{question:"In the UK, the number of girls named 'Amelia' in 2014 was more than it was in 2013.",img:"VLAT9",name:"44",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"stackarea",originID:45,task:"Make Comparisons (Absolute Value)",CVR:.6,P:.2,D:.17},{question:"Over the course of years between 2009 and 2014, the number of girls named 'Isla' was always more than 'Olivia'.",img:"VLAT9",name:"45",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"stackarea",originID:46,task:"Make Comparisons (Relative Value)",CVR:.2,P:.24,D:.2},{question:"What is the total length of the metro system in Beijing?",img:"VLAT10",name:"47",options:["330km","400km","530km","560km","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"bubble",originID:47,task:"Retrieve Value",CVR:1,P:.41,D:.46},{question:"Which city's metro system has the largest number of stations?",img:"VLAT10",name:"48",options:["Seoul","Beijing","New York City","Shanghai","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"bubble",originID:48,task:"Find Extremum",CVR:1,P:.69,D:.41},{question:"What is the range of the total length of the metro systems?",img:"VLAT10",name:"49",options:["150 - 600 km","240 - 380 km","240 - 560 km","180 - 560 km","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"bubble",originID:49,task:"Determine Range",CVR:.6,P:.29,D:.46},{question:"Which city's metro system does lie outside the relationship between the total system length and the number of stations most?",img:"VLAT10",name:"51",options:["Tokyo","New York City","Beijing","London","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"bubble",originID:51,task:"Find Anomalies",CVR:.2,P:.53,D:.32},{question:"A group of the metro systems of the world has approximately 300 stations and around a 200 km system length.",img:"VLAT10",name:"52",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"bubble",originID:52,task:"Find Clusters",CVR:.2,P:.59,D:.5},{question:"In general, the ridership of the metro system increases as the number of stations increases.",img:"VLAT10",name:"53",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"bubble",originID:53,task:"Find Correlations/Trends",CVR:.2,P:.26,D:.09},{question:"The metro system in Shanghai has more ridership than the metro system in Beijing.",img:"VLAT10",name:"54",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"bubble",originID:54,task:"Make Comparisons",CVR:1,P:.8,D:.33},{question:"What was the unemployment rate for Indiana (IN) in 2015?",img:"VLAT11",name:"55",options:["1.1 - 2.3%","2.3 - 3.4%","3.4 - 4.6%","4.6 - 5.7%","Skip"],answer:"",trueAnswer:2,required:!0,chartType:"map",originID:55,task:"Retrieve Value (Approximate Value)",CVR:.6,P:.24,D:.01},{question:"In which state was the unemployment rate the highest in 2015?",img:"VLAT11",name:"56",options:["Alaska (AK)","New Mexico (NM)","Florida (FL)","New York (NY)","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"map",originID:56,task:"Find Extremum (Approximate Value)",CVR:.6,P:.97,D:.06},{question:"In 2015, the unemployment rate for Washington (WA) was higher than that of Wisconsin (WI).",img:"VLAT11",name:"57",options:["True","False","Skip"],answer:"",trueAnswer:0,required:!0,chartType:"map",originID:57,task:"Make Comparisons (Approximate Value)",CVR:.6,P:.92,D:.15},{question:"For which website was the number of unique visitors the largest in 2010?",img:"VLAT12",name:"58",options:["Facebook","Amazon","Bing","Google","Skip"],answer:"",trueAnswer:3,required:!0,chartType:"treemap",originID:59,task:"Find Extremum (Relative Value)",CVR:.6,P:.68,D:.37},{question:"The number of unique visitors for Amazon was more than that of Yahoo in 2010.",img:"VLAT12",name:"59",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"treemap",originID:60,task:"Make Comparisons (Relative Value)",CVR:.2,P:.42,D:.38},{question:"Samsung is nested in the Financial category.",img:"VLAT12",name:"60",options:["True","False","Skip"],answer:"",trueAnswer:1,required:!0,chartType:"treemap",originID:61,task:"Identify the Hierarchical Structure",CVR:1,P:.92,D:.13}],ACe=Object.freeze(Object.defineProperty({__proto__:null,VLATQuestions:$G},Symbol.toStringTag,{value:"Module"}));function sat({parameters:e,setAnswer:t,answers:n}){const r="vlatResp",i=`dynamicBlock_1_VlatTrial_${e.qidx}`,o=n[i]?.answer?.[r],[s,a]=A.useState(o||""),[l,u]=A.useState(!1);A.useEffect(()=>{const h=Object.keys(n[i]?.incorrectAnswers||{}).length>0;u(h)},[n,i]),A.useEffect(()=>{t({status:!0,answers:{[r]:s,score:e.score}})},[s,e.score,t]);const c=$G.filter(h=>h.originID===e.activeQuestionIdx)[0],d=Object.assign({"./vlatImg/VLAT1.png":Lst,"./vlatImg/VLAT10.png":jst,"./vlatImg/VLAT11.png":zst,"./vlatImg/VLAT12.png":Hst,"./vlatImg/VLAT2.png":Vst,"./vlatImg/VLAT3.png":Gst,"./vlatImg/VLAT4.png":Kst,"./vlatImg/VLAT5.png":Qst,"./vlatImg/VLAT6.png":Zst,"./vlatImg/VLAT7.png":tat,"./vlatImg/VLAT8.png":rat,"./vlatImg/VLAT9.png":oat}),f={};if(!c)return b.jsx(De,{children:"Loading question..."});for(const h in d)if(h){const m=h.split("/").pop()?.replace(".png","")||"",p=d[h];f[m]=p.default}return b.jsx(De,{children:b.jsxs(so,{children:[b.jsx(so.Col,{span:8,children:b.jsx(Am,{radius:"sm",src:f[c.img]||"",alt:"VIS",w:"100%",maw:900})}),b.jsx(so.Col,{span:4,pt:20,children:b.jsx(Na.Group,{name:"question",label:c.question,value:`${s}`,size:"md",children:b.jsx(Nn,{mt:30,children:c.options.map((h,m)=>b.jsx(Na,{disabled:o!==void 0&&o!==""||l,value:`${String.fromCharCode(65+m)}`,label:`${String.fromCharCode(65+m)}. ${h}`,onClick:()=>a(String.fromCharCode(65+m))},`op${m}`))})})})]})})}const RCe=Object.freeze(Object.defineProperty({__proto__:null,default:sat},Symbol.toStringTag,{value:"Module"}));function aat(e,t,n){const r=Math.sqrt(2*Math.PI);return e.map(i=>{const o=-((i-t)**2)/(2*n**2);return 1/(r*n)*Math.exp(o)})}function LG(e,t,n){return 1/(1+Math.exp(-e*(n+t)))}function lat(e,t,n){return 1-LG(e,t,n)}function uat(e,t,n){const r=LG(e,t,n);return e**2*r*(1-r)}function cat(e){const t={},n=new Set;for(const[r,i,o,s,a]of e)t[r]=[i,o,s,a],n.add(s),n.add(a);return[t,n]}function dat(e,t,n){const r=(t-e)/(n-1);return Array.from({length:n},(i,o)=>e+o*r)}function fat(e){const t=[[1,2.8483115,1.27221185,"Line","RV"],[2,3.040871,1.499349129,"Line","FE"],[3,.25584395,1.374537045,"Line","DR"],[4,3.4258115,1.468088919,"Line","FCT"],[5,1.3189766,1.137137131,"Line","MC"],[6,2.2163635,1.087065104,"Bar","RV"],[7,3.3441315,1.370983684,"Bar","FE"],[8,.1907385,1.072558537,"Bar","DR"],[9,-.766119,.565435838,"Bar","MC"],[10,-.483896,1.308078217,"Stacked","RV"],[11,-.878004,.748876272,"Stacked","RV"],[12,1.011948,.892274374,"Stacked","FE"],[14,.498654,.864483077,"Stacked","MC"],[15,-.2163795,.63115109,"Stacked","MC"],[16,-.021748,1.061661146,"100%","RV"],[17,2.1735685,1.260906618,"100%","FE"],[18,.1964695,1.006552927,"100%","MC"],[19,1.1781005,.952170323,"Pie","RV"],[20,3.4990835,1.266495326,"Pie","FE"],[21,4.577599,1.955349598,"Pie","MC"],[22,1.8068275,1.103396903,"Histogram","RV"],[23,2.825006,1.162700946,"Histogram","FE"],[25,2.1723395,.945254699,"Histogram","MC"],[27,1.85473395,1.128140859,"Scatterplot","RV"],[28,1.226966,1.183203925,"Scatterplot","FE"],[29,.184373,.910403565,"Scatterplot","DR"],[31,-.568358,.598194995,"Scatterplot","FA"],[32,2.1477415,1.293432284,"Scatterplot","FC"],[33,.093807,1.159459154,"Scatterplot","FCT"],[34,1.818106,.805688047,"Scatterplot","MC"],[35,1.3666385,.964108248,"Area","RV"],[36,-.4578085,.596634966,"Area","FE"],[37,-.945452,.576156905,"Area","DR"],[38,2.5183945,1.352297435,"Area","FCT"],[40,-2.567331,.727247878,"Stacked Area","RV"],[41,-1.6333105,.721289353,"Stacked Area","RV"],[42,3.0243125,1.39970206,"Stacked Area","FE"],[44,2.808996,1.391714903,"Stacked Area","FCT"],[45,-2.898462,.485882721,"Stacked Area","MC"],[46,-2.1752885,.564928587,"Stacked Area","MC"],[47,-.5241995,.741666943,"Bubble","RV"],[48,1.0380654,.89755236,"Bubble","FE"],[49,-1.1506875,.851390316,"Bubble","DR"],[51,.210506,.576817469,"Bubble","FA"],[52,.455853,.993160348,"Bubble","FC"],[53,-2.5113305,.431845454,"Bubble","FCT"],[54,1.4998025,1.154025598,"Bubble","MC"],[55,-3.2260095,.367490725,"Map","RV"],[56,3.1477645,1.401881342,"Map","FE"],[57,2.6187185,1.101469613,"Map","MC"],[59,.9082805,.949041643,"Tree","FE"],[60,-.5345505,.671887408,"Tree","MC"],[61,2.5394745,1.109762274,"Tree","ID"]],[n,r]=cat(t),i=new Set,o=[[2.98530963],[2.26547287],[.47080041],[.96055864],[.97129651],[.85147839],[.49167494],[.32598163],[.23617328],[.75140709],[.4379747],[.89021346],[1.95678745],[.46671114],[.43121635],[.48382087],[.7061291],[.25740084],[.57526741],[.41269657],[.44926689],[.34097188],[.6853534],[2.06499294],[.35356854],[.5014103],[.60471721],[.35648783],[.55006742],[.7328309],[.58740872],[.07316467],[.37773089],[.25774662],[1.67778516],[.37425087],[.00468991],[.09117124],[-.072024],[.27787841],[.50850991],[.26712845],[.23313045],[.17836876],[-.06713018],[2.52157004],[.2163555],[.19764337],[.16053735],[.01037715],[.49067257],[.37890493],[.14471502],[-.15786205],[.37664253],[-.12646154],[1.48456846],[.11995221],[.45500459],[.06510908],[.30381369],[.23628236],[-.0132403],[.12346196],[-.16156058],[-.11441727],[-.09874702],[2.06170801],[.03819284],[-.33842136],[-.299268],[-.18361791],[-.27032307],[-.36719226],[-.63351759],[-.13235381],[-.32526859],[-.75094893],[2.00068807],[-.21555599],[-.29719866],[-.73570516],[-.96429984],[-.62994905],[-.5959251],[-.75414598],[-.91139529],[-.23647941],[-1.15477916],[2.13079529],[-1.19334718],[-1.17815316],[-.3703066],[-.86774687],[-.62753559],[-1.24836742],[-.73756034],[-.57090316],[-1.36838053],[-1.10974556],[1.79120327],[-.99938515],[-1.8725358],[2.81432538],[1.95511785],[1.82598207],[1.91495919],[1.64615882],[1.73761896],[1.74653664],[1.51736399],[1.48752685],[1.97221306],[1.19522668],[2.34740724],[1.54242075],[1.95637583],[1.65824094],[1.68725777],[1.97725808],[1.58887618],[1.51179316],[1.44743075],[1.63524539],[1.34980521],[2.94575102],[1.50590524],[1.58325844],[1.33751502],[.97699839],[1.17390674],[1.45071628],[.89705259],[1.26159178],[1.28050271],[1.2415599],[2.4859962],[1.52956813],[.9266179],[1.55897714],[1.66185973],[1.39525797],[1.02554983],[1.56911437],[1.08589595],[1.2344817],[1.0596063],[2.3289334],[.9177088],[.91794547],[1.03755144],[1.35990785],[1.13449186],[.97657427],[.61813711],[.94747231],[.83248912],[1.15351712],[2.19894252],[1.29781779],[1.0320319],[.95034002],[1.17618522],[.97588753],[.87400339],[1.08163796],[.94947705],[1.11457895],[.63173389],[2.29482725],[.90212167],[.87044902],[.22467558],[.79733281],[.31442579],[.38325478],[.70994584],[1.06667696],[.89253087],[.34143484],[2.14695731],[.84056897],[.88750332],[1.08639498],[.88874537],[.7858341],[.7279417],[.12745017],[.29013591],[.4602226],[.74735825]],s=o.reduce((g,v)=>g+v[0],0)/o.length,a=o.reduce((g,v)=>g+(v[0]-s)**2,0)/o.length,l=Math.sqrt(a),u=dat(-5,5,200);let c=aat(u,s,l),d=s;if(Object.keys(e).length>0){for(const[g,v]of Object.entries(e)){const y=parseInt(g,10),[w,_,E,S]=n[y];r.delete(E),r.delete(S),i.add(`${E}::${S}`);const T=u.map(P=>v===0?lat(_,w,P):LG(_,w,P)),k=c.map((P,N)=>P*T[N]),R=k.reduce((P,N)=>P+N,0);c=k.map(P=>P/R)}d=u.reduce((g,v,y)=>g+v*c[y],0)}const f={},h=27-Object.keys(e).length,m=(g,v)=>i.has(`${g}::${v}`);for(const[g,v]of Object.entries(n)){const y=parseInt(g,10),[w,_,E,S]=v,T=r.has(E)||r.has(S);Object.hasOwn(e,y)||(r.size===0||h>r.size&&!m(E,S)||h<=r.size&&T)&&(f[y]=uat(_,w,d))}const p=Object.entries(f).reduce((g,v)=>v[1]>g[1]?v:g)[0];return[parseInt(p,10),d]}function ICe(e,t){const n={};for(let o=0;o<e.length;o+=1)n[parseInt(e[o],10)]=t[o];const[r,i]=fat(n);return[r,i]}const DCe=Object.freeze(Object.defineProperty({__proto__:null,getVLATnextqid:ICe},Symbol.toStringTag,{value:"Module"}));function hat({answers:e,currentStep:t,currentBlock:n}){const r="vlatResp",i=Object.entries(e).filter(([c,d])=>c.startsWith(`${n}_${t}`)&&d.endTime>-1),o=[],s=[];i.forEach(c=>{const d=c[1].parameters.activeQuestionIdx,f=c[1].answer[r]===c[1].correctAnswer[0].answer;o.push(d),s.push(f?1:0)});const[a,l]=ICe(o,s),u=+$G.filter(c=>c.originID===a)[0].trueAnswer;return i.length===27?{component:null}:{component:"$adaptive-vlat.components.VlatTrial",parameters:{activeQuestionIdx:a,qidx:o.length,score:l},correctAnswer:[{id:r,answer:String.fromCharCode(65+u)}]}}const PCe=Object.freeze(Object.defineProperty({__proto__:null,default:hat},Symbol.toStringTag,{value:"Module"}));function pat({answers:e,currentStep:t,currentBlock:n}){const r=Object.entries(e).filter(([i,o])=>i.startsWith(`${n}_${t}`)&&o.endTime>-1);return r.length===0?{component:"$berlin-num.components.q1-choir-probability"}:r.length===1?{component:r[0][1]?.answer?.["q1-choir-probability"]===25?"$berlin-num.components.q2b-loaded-dice":"$berlin-num.components.q2a-dice-odd-numbers"}:r.length===2&&r[0][1]?.answer?.["q1-choir-probability"]===25?{component:r[1][1]?.answer?.["q2b-loaded-dice"]===20?null:"$berlin-num.components.q3-poisonous-mushrooms"}:{component:null}}const OCe=Object.freeze(Object.defineProperty({__proto__:null,default:pat},Symbol.toStringTag,{value:"Module"}));function FG({width:e=60,height:t=36,fps:n=30,fftSize:r=256,barColor:i="#FA5252",barWidth:o=2}){const s=A.useRef(null),a=A.useRef(null),l=A.useRef(null),u=A.useRef(null),c=A.useRef(0),d=A.useRef(null),[f,h]=A.useState(null);return A.useEffect(()=>{let m=0;const p=1e3/n,g=y=>{if(c.current=requestAnimationFrame(g),y-m<p)return;m=y;const w=s.current,_=l.current;if(!w||!_)return;const E=w.getContext("2d");if(!E)return;const S=_.fftSize,T=new Uint8Array(S);_.getByteTimeDomainData(T);const k=Math.max(...T)/128-1,R=E.getImageData(o/2,0,w.width-o/2,w.height);E.putImageData(R,0,0),E.clearRect(w.width-o,0,o,w.height);const I=(1-k)*(w.height/2);E.beginPath(),E.moveTo(w.width-o-10,w.height/2),E.lineTo(w.width-o,w.height/2),E.moveTo(w.width-o,w.height-I),E.lineTo(w.width-o,I),E.strokeStyle=i,E.lineWidth=o,E.stroke()};return(async()=>{const y=s.current;if(!y||!y.getContext("2d"))return;const _=window.devicePixelRatio||1;y.width=e*_,y.height=t*_,y.style.width=`${e}px`,y.style.height=`${t}px`;try{const E=await navigator.mediaDevices.getUserMedia({audio:!0});d.current=E;const S=new window.AudioContext;a.current=S;const T=S.createMediaStreamSource(E);u.current=T;const k=S.createAnalyser();l.current=k,k.fftSize=r,T.connect(k),c.current=requestAnimationFrame(g)}catch(E){console.error("Error accessing microphone:",E),E instanceof Error?h(`Error accessing microphone: ${E.message}. Please grant permission.`):h("An unknown error occurred while accessing the microphone.")}})(),()=>{cancelAnimationFrame(c.current),l.current&&l.current.disconnect(),u.current&&u.current.disconnect(),d.current&&d.current.getTracks().forEach(y=>y.stop()),a.current&&a.current.state!=="closed"&&a.current.close()}},[e,t,n,r,i,o]),b.jsxs(lt,{children:[f&&b.jsx("p",{style:{color:"red",maxWidth:`${e}px`},children:f}),b.jsx("canvas",{ref:s})]})}function gse({setAnswer:e}){return A.useEffect(()=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(n=>{new MediaRecorder(n).start();const i=new AudioContext,o=i.createMediaStreamSource(n),s=i.createAnalyser();s.minDecibels=-45,o.connect(s);const a=s.frequencyBinCount,l=new Uint8Array(a);let u=!1;const c=()=>{if(!u){s.getByteFrequencyData(l);for(let d=0;d<a;d+=1)l[d]>0&&(u=!0,e({status:!0,provenanceGraph:void 0,answers:{audioTest:!0}}));window.requestAnimationFrame(c)}};window.requestAnimationFrame(c)})},[e]),b.jsx(za,{style:{height:"70%",width:"100%"},children:b.jsxs(Nn,{children:[b.jsx($e,{ta:"center",children:"Please allow us to access your microphone. There may be a popup in your browser window asking for access, click accept."}),b.jsx($e,{ta:"center",children:"Once we can confirm that your microphone is on and we hear you say something, the continue button will become available."}),b.jsx($e,{ta:"center",style:{fontWeight:700},children:"If you are not comfortable or able to speak English during this study, please return the study."}),b.jsx(za,{children:b.jsx(FG,{height:200,width:400})})]})})}const NCe=Object.freeze(Object.defineProperty({__proto__:null,AudioTest:gse,default:gse},Symbol.toStringTag,{value:"Module"}));function Ks(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var mat=typeof Symbol=="function"&&Symbol.observable||"@@observable",yse=mat,s8=()=>Math.random().toString(36).substring(7).split("").join("."),gat={INIT:`@@redux/INIT${s8()}`,REPLACE:`@@redux/REPLACE${s8()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${s8()}`},$3=gat;function jG(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function MCe(e,t,n){if(typeof e!="function")throw new Error(Ks(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ks(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ks(1));return n(MCe)(e,t)}let r=e,i=t,o=new Map,s=o,a=0,l=!1;function u(){s===o&&(s=new Map,o.forEach((g,v)=>{s.set(v,g)}))}function c(){if(l)throw new Error(Ks(3));return i}function d(g){if(typeof g!="function")throw new Error(Ks(4));if(l)throw new Error(Ks(5));let v=!0;u();const y=a++;return s.set(y,g),function(){if(v){if(l)throw new Error(Ks(6));v=!1,u(),s.delete(y),o=null}}}function f(g){if(!jG(g))throw new Error(Ks(7));if(typeof g.type>"u")throw new Error(Ks(8));if(typeof g.type!="string")throw new Error(Ks(17));if(l)throw new Error(Ks(9));try{l=!0,i=r(i,g)}finally{l=!1}return(o=s).forEach(y=>{y()}),g}function h(g){if(typeof g!="function")throw new Error(Ks(10));r=g,f({type:$3.REPLACE})}function m(){const g=d;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Ks(11));function y(){const _=v;_.next&&_.next(c())}return y(),{unsubscribe:g(y)}},[yse](){return this}}}return f({type:$3.INIT}),{dispatch:f,subscribe:d,getState:c,replaceReducer:h,[yse]:m}}function yat(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:$3.INIT})>"u")throw new Error(Ks(12));if(typeof n(void 0,{type:$3.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ks(13))})}function vat(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const s=t[o];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{yat(n)}catch(o){i=o}return function(s={},a){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const d=r[c],f=n[d],h=s[d],m=f(h,a);if(typeof m>"u")throw a&&a.type,new Error(Ks(14));u[d]=m,l=l||m!==h}return l=l||r.length!==Object.keys(s).length,l?u:s}}function L3(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function bat(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(Ks(15))};const s={getState:i.getState,dispatch:(l,...u)=>o(l,...u)},a=e.map(l=>l(s));return o=L3(...a)(i.dispatch),{...i,dispatch:o}}}function wat(e){return jG(e)&&"type"in e&&typeof e.type=="string"}var $Ce=Symbol.for("immer-nothing"),vse=Symbol.for("immer-draftable"),zu=Symbol.for("immer-state");function Cd(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var d2=Object.getPrototypeOf;function Bv(e){return!!e&&!!e[zu]}function lm(e){return e?LCe(e)||Array.isArray(e)||!!e[vse]||!!e.constructor?.[vse]||FT(e)||fM(e):!1}var xat=Object.prototype.constructor.toString(),bse=new WeakMap;function LCe(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=bse.get(n);return r===void 0&&(r=Function.toString.call(n),bse.set(n,r)),r===xat}function F3(e,t,n=!0){dM(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function dM(e){const t=e[zu];return t?t.type_:Array.isArray(e)?1:FT(e)?2:fM(e)?3:0}function uz(e,t){return dM(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function FCe(e,t,n){const r=dM(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Cat(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function FT(e){return e instanceof Map}function fM(e){return e instanceof Set}function Uy(e){return e.copy_||e.base_}function cz(e,t){if(FT(e))return new Map(e);if(fM(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=LCe(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[zu];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[s]})}return Object.create(d2(e),r)}else{const r=d2(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function BG(e,t=!1){return hM(e)||Bv(e)||!lm(e)||(dM(e)>1&&Object.defineProperties(e,{set:wR,add:wR,clear:wR,delete:wR}),Object.freeze(e),t&&Object.values(e).forEach(n=>BG(n,!0))),e}function _at(){Cd(2)}var wR={value:_at};function hM(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Eat={};function zv(e){const t=Eat[e];return t||Cd(0,e),t}var f2;function jCe(){return f2}function Sat(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function wse(e,t){t&&(zv("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function dz(e){fz(e),e.drafts_.forEach(Tat),e.drafts_=null}function fz(e){e===f2&&(f2=e.parent_)}function xse(e){return f2=Sat(f2,e)}function Tat(e){const t=e[zu];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Cse(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[zu].modified_&&(dz(t),Cd(4)),lm(e)&&(e=j3(t,e),t.parent_||B3(t,e)),t.patches_&&zv("Patches").generateReplacementPatches_(n[zu].base_,e,t.patches_,t.inversePatches_)):e=j3(t,n,[]),dz(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==$Ce?e:void 0}function j3(e,t,n){if(hM(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[zu];if(!i)return F3(t,(o,s)=>_se(e,i,t,o,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return B3(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let s=o,a=!1;i.type_===3&&(s=new Set(o),o.clear(),a=!0),F3(s,(l,u)=>_se(e,i,o,l,u,n,a),r),B3(e,o,!1),n&&e.patches_&&zv("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function _se(e,t,n,r,i,o,s){if(i==null||typeof i!="object"&&!s)return;const a=hM(i);if(!(a&&!s)){if(Bv(i)){const l=o&&t&&t.type_!==3&&!uz(t.assigned_,r)?o.concat(r):void 0,u=j3(e,i,l);if(FCe(n,r,u),Bv(u))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(lm(i)&&!a){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&a)return;j3(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(FT(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&B3(e,i)}}}function B3(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&BG(t,n)}function kat(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:jCe(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=zG;n&&(i=[r],o=h2);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var zG={get(e,t){if(t===zu)return e;const n=Uy(e);if(!uz(n,t))return Aat(e,n,t);const r=n[t];return e.finalized_||!lm(r)?r:r===a8(e.base_,t)?(l8(e),e.copy_[t]=pz(r,e)):r},has(e,t){return t in Uy(e)},ownKeys(e){return Reflect.ownKeys(Uy(e))},set(e,t,n){const r=BCe(Uy(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=a8(Uy(e),t),o=i?.[zu];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Cat(n,i)&&(n!==void 0||uz(e.base_,t)))return!0;l8(e),hz(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return a8(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,l8(e),hz(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Uy(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Cd(11)},getPrototypeOf(e){return d2(e.base_)},setPrototypeOf(){Cd(12)}},h2={};F3(zG,(e,t)=>{h2[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});h2.deleteProperty=function(e,t){return h2.set.call(this,e,t,void 0)};h2.set=function(e,t,n){return zG.set.call(this,e[0],t,n,e[0])};function a8(e,t){const n=e[zu];return(n?Uy(n):e)[t]}function Aat(e,t,n){const r=BCe(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function BCe(e,t){if(!(t in e))return;let n=d2(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=d2(n)}}function hz(e){e.modified_||(e.modified_=!0,e.parent_&&hz(e.parent_))}function l8(e){e.copy_||(e.copy_=cz(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Rat=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const s=this;return function(l=o,...u){return s.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&Cd(6),r!==void 0&&typeof r!="function"&&Cd(7);let i;if(lm(t)){const o=xse(this),s=pz(t,void 0);let a=!0;try{i=n(s),a=!1}finally{a?dz(o):fz(o)}return wse(o,r),Cse(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===$Ce&&(i=void 0),this.autoFreeze_&&BG(i,!0),r){const o=[],s=[];zv("Patches").generateReplacementPatches_(t,i,o,s),r(o,s)}return i}else Cd(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...a)=>this.produceWithPatches(s,l=>t(l,...a));let r,i;return[this.produce(t,n,(s,a)=>{r=s,i=a}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){lm(e)||Cd(8),Bv(e)&&(e=Iat(e));const t=xse(this),n=pz(e,void 0);return n[zu].isManual_=!0,fz(t),n}finishDraft(e,t){const n=e&&e[zu];(!n||!n.isManual_)&&Cd(9);const{scope_:r}=n;return wse(r,t),Cse(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=zv("Patches").applyPatches_;return Bv(e)?r(e,t):this.produce(e,i=>r(i,t))}};function pz(e,t){const n=FT(e)?zv("MapSet").proxyMap_(e,t):fM(e)?zv("MapSet").proxySet_(e,t):kat(e,t);return(t?t.scope_:jCe()).drafts_.push(n),n}function Iat(e){return Bv(e)||Cd(10,e),zCe(e)}function zCe(e){if(!lm(e)||hM(e))return e;const t=e[zu];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=cz(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=cz(e,!0);return F3(n,(i,o)=>{FCe(n,i,zCe(o))},r),t&&(t.finalized_=!1),n}var mz=new Rat,UCe=mz.produce,Dat=mz.setUseStrictIteration.bind(mz);function Pat(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Oat(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Nat(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var Ese=e=>Array.isArray(e)?e:[e];function Mat(e){const t=Array.isArray(e[0])?e[0]:e;return Nat(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function $at(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var Lat=class{constructor(e){this.value=e}deref(){return this.value}},Fat=typeof WeakRef<"u"?WeakRef:Lat,jat=0,Sse=1;function xR(){return{s:jat,v:void 0,o:null,p:null}}function HCe(e,t={}){let n=xR();const{resultEqualityCheck:r}=t;let i,o=0;function s(){let a=n;const{length:l}=arguments;for(let d=0,f=l;d<f;d++){const h=arguments[d];if(typeof h=="function"||typeof h=="object"&&h!==null){let m=a.o;m===null&&(a.o=m=new WeakMap);const p=m.get(h);p===void 0?(a=xR(),m.set(h,a)):a=p}else{let m=a.p;m===null&&(a.p=m=new Map);const p=m.get(h);p===void 0?(a=xR(),m.set(h,a)):a=p}}const u=a;let c;if(a.s===Sse)c=a.v;else if(c=e.apply(null,arguments),o++,r){const d=i?.deref?.()??i;d!=null&&r(d,c)&&(c=d,o!==0&&o--),i=typeof c=="object"&&c!==null||typeof c=="function"?new Fat(c):c}return u.s=Sse,u.v=c,c}return s.clearCache=()=>{n=xR(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function Bat(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,s=0,a,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),Pat(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:d,memoizeOptions:f=[],argsMemoize:h=HCe,argsMemoizeOptions:m=[]}=c,p=Ese(f),g=Ese(m),v=Mat(i),y=d(function(){return o++,u.apply(null,arguments)},...p),w=h(function(){s++;const E=$at(v,arguments);return a=y.apply(null,E),a},...g);return Object.assign(w,{resultFunc:u,memoizedResultFunc:y,dependencies:v,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>a,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:d,argsMemoize:h})};return Object.assign(r,{withTypes:()=>r}),r}var qCe=Bat(HCe),zat=Object.assign((e,t=qCe)=>{Oat(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((s,a,l)=>(s[n[l]]=a,s),{}))},{withTypes:()=>zat});function VCe(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var Uat=VCe(),Hat=VCe,qat=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?L3:L3.apply(null,arguments)};function Tse(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Vp(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>wat(r)&&r.type===e,n}var WCe=class EE extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,EE.prototype)}static get[Symbol.species](){return EE}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new EE(...t[0].concat(this)):new EE(...t.concat(this))}};function kse(e){return lm(e)?UCe(e,()=>{}):e}function CR(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Vat(e){return typeof e=="boolean"}var Wat=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let s=new WCe;return n&&(Vat(n)?s.push(Uat):s.push(Hat(n.extraArgument))),s},Gat="RTK_autoBatch",Ase=e=>t=>{setTimeout(t,e)},Yat=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,s=!1;const a=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Ase(10):e.type==="callback"?e.queueNotification:Ase(e.timeout),u=()=>{s=!1,o&&(o=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const d=()=>i&&c(),f=r.subscribe(d);return a.add(c),()=>{f(),a.delete(c)}},dispatch(c){try{return i=!c?.meta?.[Gat],o=!i,o&&(s||(s=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},Kat=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new WCe(e);return r&&i.push(Yat(typeof r=="object"?r:void 0)),i};function Xat(e){const t=Wat(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=e||{};let a;if(typeof n=="function")a=n;else if(jG(n))a=vat(n);else throw new Error(Vp(1));let l;typeof r=="function"?l=r(t):l=t();let u=L3;i&&(u=qat({trace:!1,...typeof i=="object"&&i}));const c=bat(...l),d=Kat(c);let f=typeof s=="function"?s(d):d();const h=u(...f);return MCe(a,o,h)}function GCe(e){const t={},n=[];let r;const i={addCase(o,s){const a=typeof o=="string"?o:o.type;if(!a)throw new Error(Vp(28));if(a in t)throw new Error(Vp(29));return t[a]=s,i},addAsyncThunk(o,s){return s.pending&&(t[o.pending.type]=s.pending),s.rejected&&(t[o.rejected.type]=s.rejected),s.fulfilled&&(t[o.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:o.settled,reducer:s.settled}),i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}Dat(!1);function Qat(e){return typeof e=="function"}function Jat(e,t){let[n,r,i]=GCe(t),o;if(Qat(e))o=()=>kse(e());else{const a=kse(e);o=()=>a}function s(a=o(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(Bv(c)){const h=d(c,l);return h===void 0?c:h}else{if(lm(c))return UCe(c,f=>d(f,l));{const f=d(c,l);if(f===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return c},a)}return s.getInitialState=o,s}var Zat=Symbol.for("rtk-slice-createasyncthunk");function elt(e,t){return`${e}/${t}`}function tlt({creators:e}={}){const t=e?.asyncThunk?.[Zat];return function(r){const{name:i,reducerPath:o=i}=r;if(!i)throw new Error(Vp(11));const s=(typeof r.reducers=="function"?r.reducers(ilt()):r.reducers)||{},a=Object.keys(s),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(w,_){const E=typeof w=="string"?w:w.type;if(!E)throw new Error(Vp(12));if(E in l.sliceCaseReducersByType)throw new Error(Vp(13));return l.sliceCaseReducersByType[E]=_,u},addMatcher(w,_){return l.sliceMatchers.push({matcher:w,reducer:_}),u},exposeAction(w,_){return l.actionCreators[w]=_,u},exposeCaseReducer(w,_){return l.sliceCaseReducersByName[w]=_,u}};a.forEach(w=>{const _=s[w],E={reducerName:w,type:elt(i,w),createNotation:typeof r.reducers=="function"};slt(_)?llt(E,_,u,t):olt(E,_,u)});function c(){const[w={},_=[],E=void 0]=typeof r.extraReducers=="function"?GCe(r.extraReducers):[r.extraReducers],S={...w,...l.sliceCaseReducersByType};return Jat(r.initialState,T=>{for(let k in S)T.addCase(k,S[k]);for(let k of l.sliceMatchers)T.addMatcher(k.matcher,k.reducer);for(let k of _)T.addMatcher(k.matcher,k.reducer);E&&T.addDefaultCase(E)})}const d=w=>w,f=new Map,h=new WeakMap;let m;function p(w,_){return m||(m=c()),m(w,_)}function g(){return m||(m=c()),m.getInitialState()}function v(w,_=!1){function E(T){let k=T[w];return typeof k>"u"&&_&&(k=CR(h,E,g)),k}function S(T=d){const k=CR(f,_,()=>new WeakMap);return CR(k,T,()=>{const R={};for(const[I,P]of Object.entries(r.selectors??{}))R[I]=nlt(P,T,()=>CR(h,T,g),_);return R})}return{reducerPath:w,getSelectors:S,get selectors(){return S(E)},selectSlice:E}}const y={name:i,reducer:p,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:g,...v(o),injectInto(w,{reducerPath:_,...E}={}){const S=_??o;return w.inject({reducerPath:S,reducer:p},E),{...y,...v(S,!0)}}};return y}}function nlt(e,t,n,r){function i(o,...s){let a=t(o);return typeof a>"u"&&r&&(a=n()),e(a,...s)}return i.unwrapped=e,i}var rlt=tlt();function ilt(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function olt({type:e,reducerName:t,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!alt(r))throw new Error(Vp(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,s?Tse(e,s):Tse(e))}function slt(e){return e._reducerDefinitionType==="asyncThunk"}function alt(e){return e._reducerDefinitionType==="reducerWithPrepare"}function llt({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Vp(18));const{payloadCreator:o,fulfilled:s,pending:a,rejected:l,settled:u,options:c}=n,d=i(e,o,c);r.exposeAction(t,d),s&&r.addCase(d.fulfilled,s),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(t,{fulfilled:s||_R,pending:a||_R,rejected:l||_R,settled:u||_R})}function _R(){}function Vp(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}function e0(e){return e.baseComponent!==void 0}function aa(e){return e.order==="dynamic"}function h0(e){return aa(e)?[e.id]:e.components.flatMap(t=>typeof t=="string"?t:h0(t))}function YCe(e){return aa(e)?[e]:e.components.flatMap(t=>typeof t=="string"?[]:YCe(t))}function gz(e,t){return YCe(t).find(r=>r.id===e)}function UG(e){return aa(e)?[]:[...e.components.flatMap(t=>typeof t=="string"?t:aa(t)?[]:UG(t)),...e.interruptions?.flatMap(t=>t.components)||[]]}function KCe(e,t,n){let r=0;for(let i=0;i<e.components.length;i+=1){const o=e.components[i];if(typeof o=="string"){if(typeof t=="number"&&t===n+r)return[{currentBlock:e,firstIndex:n,lastIndex:n+h0(e).length-1}];if(typeof t=="string"&&e.orderPath===t)return[{currentBlock:e,firstIndex:n,lastIndex:n+h0(e).length-1}];r+=1}else{const s=KCe(o,t,n+r);if(typeof s=="number")r+=s;else{const a={currentBlock:e,firstIndex:n,lastIndex:s[0].lastIndex};return[...s,a]}}}return r}function XCe(e,t){const n=KCe(e,t,0);return typeof n=="number"?null:n}function QCe(e,t,n){if(e.id===t)return{found:!0,distance:n};let r=0;for(let i=0;i<e.components.length;i+=1){const o=e.components[i];if(typeof o=="string")r+=1;else{const s=QCe(o,t,n+r);if(s.found)return s;r+=s.distance}}return{found:!1,distance:r}}function ult(e,t){const n=QCe(e,t,0);return n.found?n.distance:-1}function JCe(e,t){return typeof e=="string"?e:aa(e)?{...e,orderPath:t,components:[],skip:[],interruptions:[]}:{...e,orderPath:t,order:e.order,components:e.components.map((n,r)=>JCe(n,`${t}-${r}`)),skip:e.skip||[],interruptions:e.interruptions||[]}}var SE={exports:{}};SE.exports;var Rse;function clt(){return Rse||(Rse=1,(function(e,t){var n=200,r="__lodash_hash_undefined__",i=800,o=16,s=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Function]",m="[object GeneratorFunction]",p="[object Map]",g="[object Number]",v="[object Null]",y="[object Object]",w="[object Proxy]",_="[object RegExp]",E="[object Set]",S="[object String]",T="[object Undefined]",k="[object WeakMap]",R="[object ArrayBuffer]",I="[object DataView]",P="[object Float32Array]",N="[object Float64Array]",M="[object Int8Array]",O="[object Int16Array]",j="[object Int32Array]",U="[object Uint8Array]",q="[object Uint8ClampedArray]",W="[object Uint16Array]",V="[object Uint32Array]",z=/[\\^$.*+?()[\]{}|]/g,L=/^\[object .+?Constructor\]$/,H=/^(?:0|[1-9]\d*)$/,B={};B[P]=B[N]=B[M]=B[O]=B[j]=B[U]=B[q]=B[W]=B[V]=!0,B[a]=B[l]=B[R]=B[c]=B[I]=B[d]=B[f]=B[h]=B[p]=B[g]=B[y]=B[_]=B[E]=B[S]=B[k]=!1;var Y=typeof xi=="object"&&xi&&xi.Object===Object&&xi,Q=typeof self=="object"&&self&&self.Object===Object&&self,ne=Y||Q||Function("return this")(),ce=t&&!t.nodeType&&t,le=ce&&!0&&e&&!e.nodeType&&e,ue=le&&le.exports===ce,ae=ue&&Y.process,te=(function(){try{var oe=le&&le.require&&le.require("util").types;return oe||ae&&ae.binding&&ae.binding("util")}catch{}})(),se=te&&te.isTypedArray;function we(oe,ve,Le){switch(Le.length){case 0:return oe.call(ve);case 1:return oe.call(ve,Le[0]);case 2:return oe.call(ve,Le[0],Le[1]);case 3:return oe.call(ve,Le[0],Le[1],Le[2])}return oe.apply(ve,Le)}function X(oe,ve){for(var Le=-1,St=Array(oe);++Le<oe;)St[Le]=ve(Le);return St}function he(oe){return function(ve){return oe(ve)}}function ge(oe,ve){return oe?.[ve]}function re(oe,ve){return function(Le){return oe(ve(Le))}}var ee=Array.prototype,fe=Function.prototype,Re=Object.prototype,Oe=ne["__core-js_shared__"],Ae=fe.toString,Se=Re.hasOwnProperty,xe=(function(){var oe=/[^.]+$/.exec(Oe&&Oe.keys&&Oe.keys.IE_PROTO||"");return oe?"Symbol(src)_1."+oe:""})(),ke=Re.toString,me=Ae.call(Object),Me=RegExp("^"+Ae.call(Se).replace(z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ze=ue?ne.Buffer:void 0,Xe=ne.Symbol,tt=ne.Uint8Array;ze&&ze.allocUnsafe;var gt=re(Object.getPrototypeOf,Object),qt=Object.create,zt=Re.propertyIsEnumerable,_n=ee.splice,$t=Xe?Xe.toStringTag:void 0,dn=(function(){try{var oe=pt(Object,"defineProperty");return oe({},"",{}),oe}catch{}})(),Vn=ze?ze.isBuffer:void 0,Ln=Math.max,Tr=Date.now,Xn=pt(ne,"Map"),mr=pt(Object,"create"),En=(function(){function oe(){}return function(ve){if(!Rl(ve))return{};if(qt)return qt(ve);oe.prototype=ve;var Le=new oe;return oe.prototype=void 0,Le}})();function nn(oe){var ve=-1,Le=oe==null?0:oe.length;for(this.clear();++ve<Le;){var St=oe[ve];this.set(St[0],St[1])}}function rr(){this.__data__=mr?mr(null):{},this.size=0}function ii(oe){var ve=this.has(oe)&&delete this.__data__[oe];return this.size-=ve?1:0,ve}function br(oe){var ve=this.__data__;if(mr){var Le=ve[oe];return Le===r?void 0:Le}return Se.call(ve,oe)?ve[oe]:void 0}function Sn(oe){var ve=this.__data__;return mr?ve[oe]!==void 0:Se.call(ve,oe)}function ht(oe,ve){var Le=this.__data__;return this.size+=this.has(oe)?0:1,Le[oe]=mr&&ve===void 0?r:ve,this}nn.prototype.clear=rr,nn.prototype.delete=ii,nn.prototype.get=br,nn.prototype.has=Sn,nn.prototype.set=ht;function cr(oe){var ve=-1,Le=oe==null?0:oe.length;for(this.clear();++ve<Le;){var St=oe[ve];this.set(St[0],St[1])}}function Ut(){this.__data__=[],this.size=0}function Zn(oe){var ve=this.__data__,Le=fu(ve,oe);if(Le<0)return!1;var St=ve.length-1;return Le==St?ve.pop():_n.call(ve,Le,1),--this.size,!0}function sn(oe){var ve=this.__data__,Le=fu(ve,oe);return Le<0?void 0:ve[Le][1]}function Yn(oe){return fu(this.__data__,oe)>-1}function wr(oe,ve){var Le=this.__data__,St=fu(Le,oe);return St<0?(++this.size,Le.push([oe,ve])):Le[St][1]=ve,this}cr.prototype.clear=Ut,cr.prototype.delete=Zn,cr.prototype.get=sn,cr.prototype.has=Yn,cr.prototype.set=wr;function kr(oe){var ve=-1,Le=oe==null?0:oe.length;for(this.clear();++ve<Le;){var St=oe[ve];this.set(St[0],St[1])}}function Ar(){this.size=0,this.__data__={hash:new nn,map:new(Xn||cr),string:new nn}}function Qo(oe){var ve=ut(this,oe).delete(oe);return this.size-=ve?1:0,ve}function fa(oe){return ut(this,oe).get(oe)}function du(oe){return ut(this,oe).has(oe)}function Ju(oe,ve){var Le=ut(this,oe),St=Le.size;return Le.set(oe,ve),this.size+=Le.size==St?0:1,this}kr.prototype.clear=Ar,kr.prototype.delete=Qo,kr.prototype.get=fa,kr.prototype.has=du,kr.prototype.set=Ju;function Fn(oe){var ve=this.__data__=new cr(oe);this.size=ve.size}function Ni(){this.__data__=new cr,this.size=0}function Jo(oe){var ve=this.__data__,Le=ve.delete(oe);return this.size=ve.size,Le}function Tf(oe){return this.__data__.get(oe)}function Zc(oe){return this.__data__.has(oe)}function Zu(oe,ve){var Le=this.__data__;if(Le instanceof cr){var St=Le.__data__;if(!Xn||St.length<n-1)return St.push([oe,ve]),this.size=++Le.size,this;Le=this.__data__=new kr(St)}return Le.set(oe,ve),this.size=Le.size,this}Fn.prototype.clear=Ni,Fn.prototype.delete=Jo,Fn.prototype.get=Tf,Fn.prototype.has=Zc,Fn.prototype.set=Zu;function ec(oe,ve){var Le=Si(oe),St=!Le&&Mi(oe),Dt=!Le&&!St&&Uo(oe),fn=!Le&&!St&&!Dt&&Pf(oe),Mn=Le||St||Dt||fn,Kt=Mn?X(oe.length,String):[],yn=Kt.length;for(var or in oe)Mn&&(or=="length"||Dt&&(or=="offset"||or=="parent")||fn&&(or=="buffer"||or=="byteLength"||or=="byteOffset")||jt(or,yn))||Kt.push(or);return Kt}function Zo(oe,ve,Le){(Le!==void 0&&!es(oe[ve],Le)||Le===void 0&&!(ve in oe))&&dr(oe,ve,Le)}function kf(oe,ve,Le){var St=oe[ve];(!(Se.call(oe,ve)&&es(St,Le))||Le===void 0&&!(ve in oe))&&dr(oe,ve,Le)}function fu(oe,ve){for(var Le=oe.length;Le--;)if(es(oe[Le][0],ve))return Le;return-1}function dr(oe,ve,Le){ve=="__proto__"&&dn?dn(oe,ve,{configurable:!0,enumerable:!0,value:Le,writable:!0}):oe[ve]=Le}var ed=rt();function wo(oe){return oe==null?oe===void 0?T:v:$t&&$t in Object(oe)?ft(oe):Eo(oe)}function hs(oe){return to(oe)&&wo(oe)==a}function xo(oe){if(!Rl(oe)||Qn(oe))return!1;var ve=pa(oe)?Me:L;return ve.test(If(oe))}function hu(oe){return to(oe)&&Df(oe.length)&&!!B[wo(oe)]}function js(oe){if(!Rl(oe))return sr(oe);var ve=Wt(oe),Le=[];for(var St in oe)St=="constructor"&&(ve||!Se.call(oe,St))||Le.push(St);return Le}function Al(oe,ve,Le,St,Dt){oe!==ve&&ed(ve,function(fn,Mn){if(Dt||(Dt=new Fn),Rl(fn))Co(oe,ve,Mn,Le,Al,St,Dt);else{var Kt=St?St(So(oe,Mn),fn,Mn+"",oe,ve,Dt):void 0;Kt===void 0&&(Kt=fn),Zo(oe,Mn,Kt)}},pu)}function Co(oe,ve,Le,St,Dt,fn,Mn){var Kt=So(oe,Le),yn=So(ve,Le),or=Mn.get(yn);if(or){Zo(oe,Le,or);return}var Yr=fn?fn(Kt,yn,Le+"",oe,ve,Mn):void 0,oi=Yr===void 0;if(oi){var wi=Si(yn),co=!wi&&Uo(yn),si=!wi&&!co&&Pf(yn);Yr=yn,wi||co||si?Si(Kt)?Yr=Kt:nc(Kt)?Yr=Be(Kt):co?(oi=!1,Yr=pe(yn)):si?(oi=!1,Yr=Ce(yn)):Yr=[]:Vm(yn)||Mi(yn)?(Yr=Kt,Mi(Kt)?Yr=Bs(Kt):(!Rl(Kt)||pa(Kt))&&(Yr=_t(yn))):oi=!1}oi&&(Mn.set(yn,Yr),Dt(Yr,yn,St,fn,Mn),Mn.delete(yn)),Zo(oe,Le,Yr)}function Af(oe,ve){return Rf(ha(oe,ve,ma),oe+"")}var _o=dn?function(oe,ve){return dn(oe,"toString",{configurable:!0,enumerable:!1,value:Ya(ve),writable:!0})}:ma;function pe(oe,ve){return oe.slice()}function Ne(oe){var ve=new oe.constructor(oe.byteLength);return new tt(ve).set(new tt(oe)),ve}function Ce(oe,ve){var Le=Ne(oe.buffer);return new oe.constructor(Le,oe.byteOffset,oe.length)}function Be(oe,ve){var Le=-1,St=oe.length;for(ve||(ve=Array(St));++Le<St;)ve[Le]=oe[Le];return ve}function He(oe,ve,Le,St){var Dt=!Le;Le||(Le={});for(var fn=-1,Mn=ve.length;++fn<Mn;){var Kt=ve[fn],yn=void 0;yn===void 0&&(yn=oe[Kt]),Dt?dr(Le,Kt,yn):kf(Le,Kt,yn)}return Le}function je(oe){return Af(function(ve,Le){var St=-1,Dt=Le.length,fn=Dt>1?Le[Dt-1]:void 0,Mn=Dt>2?Le[2]:void 0;for(fn=oe.length>3&&typeof fn=="function"?(Dt--,fn):void 0,Mn&&Pn(Le[0],Le[1],Mn)&&(fn=Dt<3?void 0:fn,Dt=1),ve=Object(ve);++St<Dt;){var Kt=Le[St];Kt&&oe(ve,Kt,St,fn)}return ve})}function rt(oe){return function(ve,Le,St){for(var Dt=-1,fn=Object(ve),Mn=St(ve),Kt=Mn.length;Kt--;){var yn=Mn[++Dt];if(Le(fn[yn],yn,fn)===!1)break}return ve}}function ut(oe,ve){var Le=oe.__data__;return Xt(ve)?Le[typeof ve=="string"?"string":"hash"]:Le.map}function pt(oe,ve){var Le=ge(oe,ve);return xo(Le)?Le:void 0}function ft(oe){var ve=Se.call(oe,$t),Le=oe[$t];try{oe[$t]=void 0;var St=!0}catch{}var Dt=ke.call(oe);return St&&(ve?oe[$t]=Le:delete oe[$t]),Dt}function _t(oe){return typeof oe.constructor=="function"&&!Wt(oe)?En(gt(oe)):{}}function jt(oe,ve){var Le=typeof oe;return ve=ve??s,!!ve&&(Le=="number"||Le!="symbol"&&H.test(oe))&&oe>-1&&oe%1==0&&oe<ve}function Pn(oe,ve,Le){if(!Rl(Le))return!1;var St=typeof ve;return(St=="number"?ps(Le)&&jt(ve,Le.length):St=="string"&&ve in Le)?es(Le[ve],oe):!1}function Xt(oe){var ve=typeof oe;return ve=="string"||ve=="number"||ve=="symbol"||ve=="boolean"?oe!=="__proto__":oe===null}function Qn(oe){return!!xe&&xe in oe}function Wt(oe){var ve=oe&&oe.constructor,Le=typeof ve=="function"&&ve.prototype||Re;return oe===Le}function sr(oe){var ve=[];if(oe!=null)for(var Le in Object(oe))ve.push(Le);return ve}function Eo(oe){return ke.call(oe)}function ha(oe,ve,Le){return ve=Ln(ve===void 0?oe.length-1:ve,0),function(){for(var St=arguments,Dt=-1,fn=Ln(St.length-ve,0),Mn=Array(fn);++Dt<fn;)Mn[Dt]=St[ve+Dt];Dt=-1;for(var Kt=Array(ve+1);++Dt<ve;)Kt[Dt]=St[Dt];return Kt[ve]=Le(Mn),we(oe,this,Kt)}}function So(oe,ve){if(!(ve==="constructor"&&typeof oe[ve]=="function")&&ve!="__proto__")return oe[ve]}var Rf=tc(_o);function tc(oe){var ve=0,Le=0;return function(){var St=Tr(),Dt=o-(St-Le);if(Le=St,Dt>0){if(++ve>=i)return arguments[0]}else ve=0;return oe.apply(void 0,arguments)}}function If(oe){if(oe!=null){try{return Ae.call(oe)}catch{}try{return oe+""}catch{}}return""}function es(oe,ve){return oe===ve||oe!==oe&&ve!==ve}var Mi=hs((function(){return arguments})())?hs:function(oe){return to(oe)&&Se.call(oe,"callee")&&!zt.call(oe,"callee")},Si=Array.isArray;function ps(oe){return oe!=null&&Df(oe.length)&&!pa(oe)}function nc(oe){return to(oe)&&ps(oe)}var Uo=Vn||Ee;function pa(oe){if(!Rl(oe))return!1;var ve=wo(oe);return ve==h||ve==m||ve==u||ve==w}function Df(oe){return typeof oe=="number"&&oe>-1&&oe%1==0&&oe<=s}function Rl(oe){var ve=typeof oe;return oe!=null&&(ve=="object"||ve=="function")}function to(oe){return oe!=null&&typeof oe=="object"}function Vm(oe){if(!to(oe)||wo(oe)!=y)return!1;var ve=gt(oe);if(ve===null)return!0;var Le=Se.call(ve,"constructor")&&ve.constructor;return typeof Le=="function"&&Le instanceof Le&&Ae.call(Le)==me}var Pf=se?he(se):hu;function Bs(oe){return He(oe,pu(oe))}function pu(oe){return ps(oe)?ec(oe):js(oe)}var Wm=je(function(oe,ve,Le){Al(oe,ve,Le)});function Ya(oe){return function(){return oe}}function ma(oe){return oe}function Ee(){return!1}e.exports=Wm})(SE,SE.exports)),SE.exports}var dlt=clt();const ZCe=Xo(dlt);function $u(e,t){return e0(e)&&t.baseComponents?ZCe({},t.baseComponents?.[e.baseComponent],e):e}function Ise(e,t){return t.components[e]===void 0?null:$u(t.components[e],t)}function flt(e){return typeof e=="string"?{label:e,value:e}:{...e,value:e.value??e.label}}function Wp(e){return e.map(t=>flt(t))}function HG(e){return typeof e=="string"?e:e.value??e.label}function Dse(e){const t=e.response.map(n=>n.id);if(e.responseOrder==="random"){const n=e.response.flatMap((i,o)=>i.excludeFromRandomization?[o]:[]),r=e.response.filter(i=>!i.excludeFromRandomization).map(i=>i.id).map(i=>({value:i,sort:Math.random()})).sort((i,o)=>i.sort-o.sort).map(({value:i})=>i);return{response:e.response.map((i,o)=>n.includes(o)?i.id:r.shift())}}return{response:t}}function Pse(e){return e.response.reduce((t,n)=>{if(n.type==="radio"||n.type==="checkbox"||n.type==="buttons"){const r=Wp(n.options);if(n.optionOrder==="random"){const i=[...r].map(o=>({value:o,sort:Math.random()})).sort((o,s)=>o.sort-s.sort).map(({value:o})=>o);t[n.id]=i}else t[n.id]=r}return t},{})}function Ose(e){return e.response.reduce((t,n)=>{if(n.type==="matrix-radio"||n.type==="matrix-checkbox"){const r=n.questionOptions.map(i=>HG(i));if(n.questionOrder==="random"){const i=[...r].map(o=>({value:o,sort:Math.random()})).sort((o,s)=>o.sort-s.sort).map(({value:o})=>o);t[n.id]=i}else t[n.id]=r}return t},{})}async function Nse(e,t,n,r,i,o,s,a,l,u=!1){const c=h0(n),d=Object.fromEntries(c.filter(v=>v!=="end").map((v,y)=>{const w=$u(t.components[v]||{},t);return t.components[v]?[`${v}_${y}`,{answer:{},identifier:`${v}_${y}`,trialOrder:`${y}`,componentName:v,incorrectAnswers:{},startTime:0,endTime:-1,provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0},windowEvents:[],timedOut:!1,helpButtonClickedCount:0,parameters:Object.hasOwn(w,"parameters")?w.parameters:{},correctAnswer:Object.hasOwn(w,"correctAnswer")?w.correctAnswer:[],optionOrders:Pse(w),questionOrders:Ose(w),formOrder:Dse(w)}]:null}).filter(v=>v!==null)),f=Object.assign({},...c.map((v,y)=>{const w=$u(t.components[v]||{response:[]},t);return{[`${v}_${y}`]:{aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}},stimulus:{valid:!w.response.some(_=>_.type==="reactive"&&_.required!==!1),values:{}},provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0}}}})),h=Object.assign({},...c.map((v,y)=>({[`${v}_${y}`]:{aboveStimulus:!0,belowStimulus:!0,sidebar:!0,stimulus:!0,provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0}}}))),m={studyId:e,answers:Object.keys(i).length>0?i:d,sequence:n,config:t,showStudyBrowser:!0,showHelpText:!1,alertModal:{show:!1,message:"",title:""},trialValidation:Object.keys(i).length>0?h:f,reactiveAnswers:{},metadata:r,analysisProvState:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0},analysisIsPlaying:!1,analysisHasAudio:!1,analysisHasScreenRecording:!1,analysisCanPlayScreenRecording:!0,analysisHasProvenance:!1,provenanceJumpTime:0,modes:o,matrixAnswers:{},rankingAnswers:{},participantId:s,funcSequence:{},completed:a,clickedPrevious:!1,storageEngineFailedToConnect:l,isStalledConfig:u},p=rlt({name:"storeSlice",initialState:m,reducers:{setConfig(v,{payload:y}){v.config=y},pushToFuncSequence(v,{payload:y}){if(v.funcSequence[y.funcName]||(v.funcSequence[y.funcName]=[]),v.funcSequence[y.funcName].length>y.funcIndex)return;const w=$u(v.config.components[y.component]||{response:[]},t),_=`${y.funcName}_${y.index}_${y.component}_${y.funcIndex}`;v.funcSequence[y.funcName].push(y.component),v.answers[_]={answer:{},identifier:_,incorrectAnswers:{},componentName:y.component,trialOrder:`${y.index}_${y.funcIndex}`,startTime:0,endTime:-1,provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0},windowEvents:[],timedOut:!1,helpButtonClickedCount:0,parameters:y.parameters||("parameters"in w?w.parameters:{})||{},correctAnswer:y.correctAnswer||w.correctAnswer||[],optionOrders:Pse(w),questionOrders:Ose(w),formOrder:Dse(w)},v.trialValidation[_]={aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},stimulus:{valid:w.response.every(E=>E.type!=="reactive"),values:{}},sidebar:{valid:!1,values:{}},provenanceGraph:{aboveStimulus:void 0,belowStimulus:void 0,stimulus:void 0,sidebar:void 0}}},toggleStudyBrowser:v=>{v.showStudyBrowser=!v.showStudyBrowser},toggleShowHelpText:v=>{v.showHelpText=!v.showHelpText},setAlertModal:(v,y)=>{v.alertModal=y.payload},setReactiveAnswers:(v,y)=>{v.reactiveAnswers=y.payload},saveAnalysisState(v,{payload:y}){v.analysisProvState[y.location]=y.prov},setAnalysisIsPlaying(v,{payload:y}){v.analysisIsPlaying=y},setAnalysisHasAudio(v,{payload:y}){v.analysisHasAudio=y},setAnalysisHasScreenRecording(v,{payload:y}){v.analysisHasScreenRecording=y},setAnalysisCanPlayScreenRecording(v,{payload:y}){v.analysisCanPlayScreenRecording=y},setAnalysisHasProvenance(v,{payload:y}){v.analysisHasProvenance=y},setProvenanceJumpTime(v,{payload:y}){v.provenanceJumpTime=y},setMatrixAnswersRadio:(v,y)=>{if(y.payload){const{responseId:w,questionKey:_,val:E}=y.payload;v.matrixAnswers={...v.matrixAnswers,[w]:{...v.matrixAnswers[w],[_]:E}}}else v.matrixAnswers={}},setMatrixAnswersCheckbox:(v,y)=>{if(y.payload){const{responseId:w,questionKey:_,value:E,isChecked:S,choiceOptions:T}=y.payload,k=v.matrixAnswers[w]?.[_]??"";let R="";S?k.length>0?R=[...k.split("|"),E].sort((I,P)=>T.map(N=>N.value).indexOf(I)-T.map(N=>N.value).indexOf(P)).join("|"):R=`${E}`:R=k.split("|").filter(I=>I!==E).join("|"),v.matrixAnswers={...v.matrixAnswers,[w]:{...v.matrixAnswers[w],[_]:R}}}else v.matrixAnswers={}},setRankingAnswers:(v,y)=>{if(y.payload){const{responseId:w,values:_}=y.payload;v.rankingAnswers={...v.rankingAnswers,[w]:{..._}}}else v.rankingAnswers={}},updateResponseBlockValidation:(v,{payload:y})=>{if(!v.trialValidation[y.identifier])return;const w=v.trialValidation[y.identifier]?.[y.location]?.values;Object.keys(y.values).length>0?v.trialValidation[y.identifier][y.location]={valid:y.status,values:{...w,...y.values}}:v.trialValidation[y.identifier][y.location]={valid:y.status,values:w||{}},y.provenanceGraph&&(v.trialValidation[y.identifier].provenanceGraph[y.location]=y.provenanceGraph)},saveTrialAnswer(v,{payload:y}){v.answers[y.identifier]={...y}},incrementHelpCounter(v,{payload:y}){v.answers[y.identifier].helpButtonClickedCount+=1},saveIncorrectAnswer(v,{payload:y}){const{identifier:w,answer:_,question:E}=y;v.answers[E].incorrectAnswers||(v.answers[E].incorrectAnswers={}),v.answers[E].incorrectAnswers[w]||(v.answers[E].incorrectAnswers[w]={id:w,value:[]}),v.answers[E].incorrectAnswers[w].value.push(_)},deleteDynamicBlockAnswers(v,{payload:y}){const{currentStep:w,funcIndex:_,funcName:E}=y,S=new RegExp(`.*_${w}_.*_${_}`);Object.keys(v.answers).forEach(T=>{T.match(S)&&delete v.answers[T]}),v.funcSequence[E]&&(v.funcSequence[E]=v.funcSequence[y.funcName].filter((T,k)=>k!==_)),v.funcSequence[E]?.length===0&&delete v.funcSequence[E]},setParticipantCompleted(v,{payload:y}){v.completed=y},setClickedPrevious(v,{payload:y}){v.clickedPrevious=y}}});return{store:Xat({reducer:p.reducer,preloadedState:m}),actions:p.actions}}const e_e=A.createContext(null);function Qi(){return A.useContext(e_e).actions}const bo=kCe,Hn=Mst;function hlt(e){return Hn(t=>{if(e.includes("reviewer-"))return!0;const n=t.trialValidation[e]?Object.values(t.trialValidation[e]).every(r=>typeof r=="object"&&"valid"in r?r.valid:!0):!0;return n?Object.values(n).every(r=>r):!1})}const plt=qCe(e=>e.sequence,e=>h0(e));function hC(){return Hn(plt)}function Ga(){return Hn(e=>e.config)}function t_e(){const e=Ga(),t=hC(),n=df(),r=e.components[n],{recordScreen:i,recordAudio:o,clickToRecord:s}=e.uiConfig,a=A.useMemo(()=>i||t.some(f=>e.components[f]?.recordScreen),[t,e,i]),l=A.useMemo(()=>o||t.some(f=>e.components[f]?.recordAudio),[t,e,o]),u=A.useMemo(()=>r?.recordScreen??!!i,[i,r]),c=A.useMemo(()=>r?.recordAudio??!!o,[o,r]),d=A.useMemo(()=>r?.clickToRecord??!!s,[s,r]);return{studyHasAudioRecording:l,studyHasScreenRecording:a,currentComponentHasAudioRecording:c,currentComponentHasScreenRecording:u,currentComponentHasClickToRecord:d}}var LD={exports:{}};function Dp(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var FD={exports:{}};const mlt={},glt=Object.freeze(Object.defineProperty({__proto__:null,default:mlt},Symbol.toStringTag,{value:"Module"})),n_e=S$e(glt);var ylt=FD.exports,Mse;function Sr(){return Mse||(Mse=1,(function(e,t){(function(n,r){e.exports=r()})(ylt,function(){var n=n||(function(r,i){var o;if(typeof window<"u"&&window.crypto&&(o=window.crypto),typeof self<"u"&&self.crypto&&(o=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(o=globalThis.crypto),!o&&typeof window<"u"&&window.msCrypto&&(o=window.msCrypto),!o&&typeof xi<"u"&&xi.crypto&&(o=xi.crypto),!o&&typeof Dp=="function")try{o=n_e}catch{}var s=function(){if(o){if(typeof o.getRandomValues=="function")try{return o.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof o.randomBytes=="function")try{return o.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||(function(){function y(){}return function(w){var _;return y.prototype=w,_=new y,y.prototype=null,_}})(),l={},u=l.lib={},c=u.Base=(function(){return{extend:function(y){var w=a(this);return y&&w.mixIn(y),(!w.hasOwnProperty("init")||this.init===w.init)&&(w.init=function(){w.$super.init.apply(this,arguments)}),w.init.prototype=w,w.$super=this,w},create:function(){var y=this.extend();return y.init.apply(y,arguments),y},init:function(){},mixIn:function(y){for(var w in y)y.hasOwnProperty(w)&&(this[w]=y[w]);y.hasOwnProperty("toString")&&(this.toString=y.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),d=u.WordArray=c.extend({init:function(y,w){y=this.words=y||[],w!=i?this.sigBytes=w:this.sigBytes=y.length*4},toString:function(y){return(y||h).stringify(this)},concat:function(y){var w=this.words,_=y.words,E=this.sigBytes,S=y.sigBytes;if(this.clamp(),E%4)for(var T=0;T<S;T++){var k=_[T>>>2]>>>24-T%4*8&255;w[E+T>>>2]|=k<<24-(E+T)%4*8}else for(var R=0;R<S;R+=4)w[E+R>>>2]=_[R>>>2];return this.sigBytes+=S,this},clamp:function(){var y=this.words,w=this.sigBytes;y[w>>>2]&=4294967295<<32-w%4*8,y.length=r.ceil(w/4)},clone:function(){var y=c.clone.call(this);return y.words=this.words.slice(0),y},random:function(y){for(var w=[],_=0;_<y;_+=4)w.push(s());return new d.init(w,y)}}),f=l.enc={},h=f.Hex={stringify:function(y){for(var w=y.words,_=y.sigBytes,E=[],S=0;S<_;S++){var T=w[S>>>2]>>>24-S%4*8&255;E.push((T>>>4).toString(16)),E.push((T&15).toString(16))}return E.join("")},parse:function(y){for(var w=y.length,_=[],E=0;E<w;E+=2)_[E>>>3]|=parseInt(y.substr(E,2),16)<<24-E%8*4;return new d.init(_,w/2)}},m=f.Latin1={stringify:function(y){for(var w=y.words,_=y.sigBytes,E=[],S=0;S<_;S++){var T=w[S>>>2]>>>24-S%4*8&255;E.push(String.fromCharCode(T))}return E.join("")},parse:function(y){for(var w=y.length,_=[],E=0;E<w;E++)_[E>>>2]|=(y.charCodeAt(E)&255)<<24-E%4*8;return new d.init(_,w)}},p=f.Utf8={stringify:function(y){try{return decodeURIComponent(escape(m.stringify(y)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(y){return m.parse(unescape(encodeURIComponent(y)))}},g=u.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(y){typeof y=="string"&&(y=p.parse(y)),this._data.concat(y),this._nDataBytes+=y.sigBytes},_process:function(y){var w,_=this._data,E=_.words,S=_.sigBytes,T=this.blockSize,k=T*4,R=S/k;y?R=r.ceil(R):R=r.max((R|0)-this._minBufferSize,0);var I=R*T,P=r.min(I*4,S);if(I){for(var N=0;N<I;N+=T)this._doProcessBlock(E,N);w=E.splice(0,I),_.sigBytes-=P}return new d.init(w,P)},clone:function(){var y=c.clone.call(this);return y._data=this._data.clone(),y},_minBufferSize:0});u.Hasher=g.extend({cfg:c.extend(),init:function(y){this.cfg=this.cfg.extend(y),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(y){return this._append(y),this._process(),this},finalize:function(y){y&&this._append(y);var w=this._doFinalize();return w},blockSize:16,_createHelper:function(y){return function(w,_){return new y.init(_).finalize(w)}},_createHmacHelper:function(y){return function(w,_){return new v.HMAC.init(y,_).finalize(w)}}});var v=l.algo={};return l})(Math);return n})})(FD)),FD.exports}var jD={exports:{}},vlt=jD.exports,$se;function pM(){return $se||($se=1,(function(e,t){(function(n,r){e.exports=r(Sr())})(vlt,function(n){return(function(r){var i=n,o=i.lib,s=o.Base,a=o.WordArray,l=i.x64={};l.Word=s.extend({init:function(u,c){this.high=u,this.low=c}}),l.WordArray=s.extend({init:function(u,c){u=this.words=u||[],c!=r?this.sigBytes=c:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,c=u.length,d=[],f=0;f<c;f++){var h=u[f];d.push(h.high),d.push(h.low)}return a.create(d,this.sigBytes)},clone:function(){for(var u=s.clone.call(this),c=u.words=this.words.slice(0),d=c.length,f=0;f<d;f++)c[f]=c[f].clone();return u}})})(),n})})(jD)),jD.exports}var BD={exports:{}},blt=BD.exports,Lse;function wlt(){return Lse||(Lse=1,(function(e,t){(function(n,r){e.exports=r(Sr())})(blt,function(n){return(function(){if(typeof ArrayBuffer=="function"){var r=n,i=r.lib,o=i.WordArray,s=o.init,a=o.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var u=l.byteLength,c=[],d=0;d<u;d++)c[d>>>2]|=l[d]<<24-d%4*8;s.call(this,c,u)}else s.apply(this,arguments)};a.prototype=o}})(),n.lib.WordArray})})(BD)),BD.exports}var zD={exports:{}},xlt=zD.exports,Fse;function Clt(){return Fse||(Fse=1,(function(e,t){(function(n,r){e.exports=r(Sr())})(xlt,function(n){return(function(){var r=n,i=r.lib,o=i.WordArray,s=r.enc;s.Utf16=s.Utf16BE={stringify:function(l){for(var u=l.words,c=l.sigBytes,d=[],f=0;f<c;f+=2){var h=u[f>>>2]>>>16-f%4*8&65535;d.push(String.fromCharCode(h))}return d.join("")},parse:function(l){for(var u=l.length,c=[],d=0;d<u;d++)c[d>>>1]|=l.charCodeAt(d)<<16-d%2*16;return o.create(c,u*2)}},s.Utf16LE={stringify:function(l){for(var u=l.words,c=l.sigBytes,d=[],f=0;f<c;f+=2){var h=a(u[f>>>2]>>>16-f%4*8&65535);d.push(String.fromCharCode(h))}return d.join("")},parse:function(l){for(var u=l.length,c=[],d=0;d<u;d++)c[d>>>1]|=a(l.charCodeAt(d)<<16-d%2*16);return o.create(c,u*2)}};function a(l){return l<<8&4278255360|l>>>8&16711935}})(),n.enc.Utf16})})(zD)),zD.exports}var UD={exports:{}},_lt=UD.exports,jse;function Rb(){return jse||(jse=1,(function(e,t){(function(n,r){e.exports=r(Sr())})(_lt,function(n){return(function(){var r=n,i=r.lib,o=i.WordArray,s=r.enc;s.Base64={stringify:function(l){var u=l.words,c=l.sigBytes,d=this._map;l.clamp();for(var f=[],h=0;h<c;h+=3)for(var m=u[h>>>2]>>>24-h%4*8&255,p=u[h+1>>>2]>>>24-(h+1)%4*8&255,g=u[h+2>>>2]>>>24-(h+2)%4*8&255,v=m<<16|p<<8|g,y=0;y<4&&h+y*.75<c;y++)f.push(d.charAt(v>>>6*(3-y)&63));var w=d.charAt(64);if(w)for(;f.length%4;)f.push(w);return f.join("")},parse:function(l){var u=l.length,c=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var f=0;f<c.length;f++)d[c.charCodeAt(f)]=f}var h=c.charAt(64);if(h){var m=l.indexOf(h);m!==-1&&(u=m)}return a(l,u,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,u,c){for(var d=[],f=0,h=0;h<u;h++)if(h%4){var m=c[l.charCodeAt(h-1)]<<h%4*2,p=c[l.charCodeAt(h)]>>>6-h%4*2,g=m|p;d[f>>>2]|=g<<24-f%4*8,f++}return o.create(d,f)}})(),n.enc.Base64})})(UD)),UD.exports}var HD={exports:{}},Elt=HD.exports,Bse;function Slt(){return Bse||(Bse=1,(function(e,t){(function(n,r){e.exports=r(Sr())})(Elt,function(n){return(function(){var r=n,i=r.lib,o=i.WordArray,s=r.enc;s.Base64url={stringify:function(l,u){u===void 0&&(u=!0);var c=l.words,d=l.sigBytes,f=u?this._safe_map:this._map;l.clamp();for(var h=[],m=0;m<d;m+=3)for(var p=c[m>>>2]>>>24-m%4*8&255,g=c[m+1>>>2]>>>24-(m+1)%4*8&255,v=c[m+2>>>2]>>>24-(m+2)%4*8&255,y=p<<16|g<<8|v,w=0;w<4&&m+w*.75<d;w++)h.push(f.charAt(y>>>6*(3-w)&63));var _=f.charAt(64);if(_)for(;h.length%4;)h.push(_);return h.join("")},parse:function(l,u){u===void 0&&(u=!0);var c=l.length,d=u?this._safe_map:this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var h=0;h<d.length;h++)f[d.charCodeAt(h)]=h}var m=d.charAt(64);if(m){var p=l.indexOf(m);p!==-1&&(c=p)}return a(l,c,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,u,c){for(var d=[],f=0,h=0;h<u;h++)if(h%4){var m=c[l.charCodeAt(h-1)]<<h%4*2,p=c[l.charCodeAt(h)]>>>6-h%4*2,g=m|p;d[f>>>2]|=g<<24-f%4*8,f++}return o.create(d,f)}})(),n.enc.Base64url})})(HD)),HD.exports}var qD={exports:{}},Tlt=qD.exports,zse;function Ib(){return zse||(zse=1,(function(e,t){(function(n,r){e.exports=r(Sr())})(Tlt,function(n){return(function(r){var i=n,o=i.lib,s=o.WordArray,a=o.Hasher,l=i.algo,u=[];(function(){for(var p=0;p<64;p++)u[p]=r.abs(r.sin(p+1))*4294967296|0})();var c=l.MD5=a.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(p,g){for(var v=0;v<16;v++){var y=g+v,w=p[y];p[y]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}var _=this._hash.words,E=p[g+0],S=p[g+1],T=p[g+2],k=p[g+3],R=p[g+4],I=p[g+5],P=p[g+6],N=p[g+7],M=p[g+8],O=p[g+9],j=p[g+10],U=p[g+11],q=p[g+12],W=p[g+13],V=p[g+14],z=p[g+15],L=_[0],H=_[1],B=_[2],Y=_[3];L=d(L,H,B,Y,E,7,u[0]),Y=d(Y,L,H,B,S,12,u[1]),B=d(B,Y,L,H,T,17,u[2]),H=d(H,B,Y,L,k,22,u[3]),L=d(L,H,B,Y,R,7,u[4]),Y=d(Y,L,H,B,I,12,u[5]),B=d(B,Y,L,H,P,17,u[6]),H=d(H,B,Y,L,N,22,u[7]),L=d(L,H,B,Y,M,7,u[8]),Y=d(Y,L,H,B,O,12,u[9]),B=d(B,Y,L,H,j,17,u[10]),H=d(H,B,Y,L,U,22,u[11]),L=d(L,H,B,Y,q,7,u[12]),Y=d(Y,L,H,B,W,12,u[13]),B=d(B,Y,L,H,V,17,u[14]),H=d(H,B,Y,L,z,22,u[15]),L=f(L,H,B,Y,S,5,u[16]),Y=f(Y,L,H,B,P,9,u[17]),B=f(B,Y,L,H,U,14,u[18]),H=f(H,B,Y,L,E,20,u[19]),L=f(L,H,B,Y,I,5,u[20]),Y=f(Y,L,H,B,j,9,u[21]),B=f(B,Y,L,H,z,14,u[22]),H=f(H,B,Y,L,R,20,u[23]),L=f(L,H,B,Y,O,5,u[24]),Y=f(Y,L,H,B,V,9,u[25]),B=f(B,Y,L,H,k,14,u[26]),H=f(H,B,Y,L,M,20,u[27]),L=f(L,H,B,Y,W,5,u[28]),Y=f(Y,L,H,B,T,9,u[29]),B=f(B,Y,L,H,N,14,u[30]),H=f(H,B,Y,L,q,20,u[31]),L=h(L,H,B,Y,I,4,u[32]),Y=h(Y,L,H,B,M,11,u[33]),B=h(B,Y,L,H,U,16,u[34]),H=h(H,B,Y,L,V,23,u[35]),L=h(L,H,B,Y,S,4,u[36]),Y=h(Y,L,H,B,R,11,u[37]),B=h(B,Y,L,H,N,16,u[38]),H=h(H,B,Y,L,j,23,u[39]),L=h(L,H,B,Y,W,4,u[40]),Y=h(Y,L,H,B,E,11,u[41]),B=h(B,Y,L,H,k,16,u[42]),H=h(H,B,Y,L,P,23,u[43]),L=h(L,H,B,Y,O,4,u[44]),Y=h(Y,L,H,B,q,11,u[45]),B=h(B,Y,L,H,z,16,u[46]),H=h(H,B,Y,L,T,23,u[47]),L=m(L,H,B,Y,E,6,u[48]),Y=m(Y,L,H,B,N,10,u[49]),B=m(B,Y,L,H,V,15,u[50]),H=m(H,B,Y,L,I,21,u[51]),L=m(L,H,B,Y,q,6,u[52]),Y=m(Y,L,H,B,k,10,u[53]),B=m(B,Y,L,H,j,15,u[54]),H=m(H,B,Y,L,S,21,u[55]),L=m(L,H,B,Y,M,6,u[56]),Y=m(Y,L,H,B,z,10,u[57]),B=m(B,Y,L,H,P,15,u[58]),H=m(H,B,Y,L,W,21,u[59]),L=m(L,H,B,Y,R,6,u[60]),Y=m(Y,L,H,B,U,10,u[61]),B=m(B,Y,L,H,T,15,u[62]),H=m(H,B,Y,L,O,21,u[63]),_[0]=_[0]+L|0,_[1]=_[1]+H|0,_[2]=_[2]+B|0,_[3]=_[3]+Y|0},_doFinalize:function(){var p=this._data,g=p.words,v=this._nDataBytes*8,y=p.sigBytes*8;g[y>>>5]|=128<<24-y%32;var w=r.floor(v/4294967296),_=v;g[(y+64>>>9<<4)+15]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,g[(y+64>>>9<<4)+14]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,p.sigBytes=(g.length+1)*4,this._process();for(var E=this._hash,S=E.words,T=0;T<4;T++){var k=S[T];S[T]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360}return E},clone:function(){var p=a.clone.call(this);return p._hash=this._hash.clone(),p}});function d(p,g,v,y,w,_,E){var S=p+(g&v|~g&y)+w+E;return(S<<_|S>>>32-_)+g}function f(p,g,v,y,w,_,E){var S=p+(g&y|v&~y)+w+E;return(S<<_|S>>>32-_)+g}function h(p,g,v,y,w,_,E){var S=p+(g^v^y)+w+E;return(S<<_|S>>>32-_)+g}function m(p,g,v,y,w,_,E){var S=p+(v^(g|~y))+w+E;return(S<<_|S>>>32-_)+g}i.MD5=a._createHelper(c),i.HmacMD5=a._createHmacHelper(c)})(Math),n.MD5})})(qD)),qD.exports}var VD={exports:{}},klt=VD.exports,Use;function r_e(){return Use||(Use=1,(function(e,t){(function(n,r){e.exports=r(Sr())})(klt,function(n){return(function(){var r=n,i=r.lib,o=i.WordArray,s=i.Hasher,a=r.algo,l=[],u=a.SHA1=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(c,d){for(var f=this._hash.words,h=f[0],m=f[1],p=f[2],g=f[3],v=f[4],y=0;y<80;y++){if(y<16)l[y]=c[d+y]|0;else{var w=l[y-3]^l[y-8]^l[y-14]^l[y-16];l[y]=w<<1|w>>>31}var _=(h<<5|h>>>27)+v+l[y];y<20?_+=(m&p|~m&g)+1518500249:y<40?_+=(m^p^g)+1859775393:y<60?_+=(m&p|m&g|p&g)-1894007588:_+=(m^p^g)-899497514,v=g,g=p,p=m<<30|m>>>2,m=h,h=_}f[0]=f[0]+h|0,f[1]=f[1]+m|0,f[2]=f[2]+p|0,f[3]=f[3]+g|0,f[4]=f[4]+v|0},_doFinalize:function(){var c=this._data,d=c.words,f=this._nDataBytes*8,h=c.sigBytes*8;return d[h>>>5]|=128<<24-h%32,d[(h+64>>>9<<4)+14]=Math.floor(f/4294967296),d[(h+64>>>9<<4)+15]=f,c.sigBytes=d.length*4,this._process(),this._hash},clone:function(){var c=s.clone.call(this);return c._hash=this._hash.clone(),c}});r.SHA1=s._createHelper(u),r.HmacSHA1=s._createHmacHelper(u)})(),n.SHA1})})(VD)),VD.exports}var WD={exports:{}},Alt=WD.exports,Hse;function qG(){return Hse||(Hse=1,(function(e,t){(function(n,r){e.exports=r(Sr())})(Alt,function(n){return(function(r){var i=n,o=i.lib,s=o.WordArray,a=o.Hasher,l=i.algo,u=[],c=[];(function(){function h(v){for(var y=r.sqrt(v),w=2;w<=y;w++)if(!(v%w))return!1;return!0}function m(v){return(v-(v|0))*4294967296|0}for(var p=2,g=0;g<64;)h(p)&&(g<8&&(u[g]=m(r.pow(p,1/2))),c[g]=m(r.pow(p,1/3)),g++),p++})();var d=[],f=l.SHA256=a.extend({_doReset:function(){this._hash=new s.init(u.slice(0))},_doProcessBlock:function(h,m){for(var p=this._hash.words,g=p[0],v=p[1],y=p[2],w=p[3],_=p[4],E=p[5],S=p[6],T=p[7],k=0;k<64;k++){if(k<16)d[k]=h[m+k]|0;else{var R=d[k-15],I=(R<<25|R>>>7)^(R<<14|R>>>18)^R>>>3,P=d[k-2],N=(P<<15|P>>>17)^(P<<13|P>>>19)^P>>>10;d[k]=I+d[k-7]+N+d[k-16]}var M=_&E^~_&S,O=g&v^g&y^v&y,j=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),U=(_<<26|_>>>6)^(_<<21|_>>>11)^(_<<7|_>>>25),q=T+U+M+c[k]+d[k],W=j+O;T=S,S=E,E=_,_=w+q|0,w=y,y=v,v=g,g=q+W|0}p[0]=p[0]+g|0,p[1]=p[1]+v|0,p[2]=p[2]+y|0,p[3]=p[3]+w|0,p[4]=p[4]+_|0,p[5]=p[5]+E|0,p[6]=p[6]+S|0,p[7]=p[7]+T|0},_doFinalize:function(){var h=this._data,m=h.words,p=this._nDataBytes*8,g=h.sigBytes*8;return m[g>>>5]|=128<<24-g%32,m[(g+64>>>9<<4)+14]=r.floor(p/4294967296),m[(g+64>>>9<<4)+15]=p,h.sigBytes=m.length*4,this._process(),this._hash},clone:function(){var h=a.clone.call(this);return h._hash=this._hash.clone(),h}});i.SHA256=a._createHelper(f),i.HmacSHA256=a._createHmacHelper(f)})(Math),n.SHA256})})(WD)),WD.exports}var GD={exports:{}},Rlt=GD.exports,qse;function Ilt(){return qse||(qse=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),qG())})(Rlt,function(n){return(function(){var r=n,i=r.lib,o=i.WordArray,s=r.algo,a=s.SHA256,l=s.SHA224=a.extend({_doReset:function(){this._hash=new o.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=a._doFinalize.call(this);return u.sigBytes-=4,u}});r.SHA224=a._createHelper(l),r.HmacSHA224=a._createHmacHelper(l)})(),n.SHA224})})(GD)),GD.exports}var YD={exports:{}},Dlt=YD.exports,Vse;function i_e(){return Vse||(Vse=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),pM())})(Dlt,function(n){return(function(){var r=n,i=r.lib,o=i.Hasher,s=r.x64,a=s.Word,l=s.WordArray,u=r.algo;function c(){return a.create.apply(a,arguments)}var d=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],f=[];(function(){for(var m=0;m<80;m++)f[m]=c()})();var h=u.SHA512=o.extend({_doReset:function(){this._hash=new l.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(m,p){for(var g=this._hash.words,v=g[0],y=g[1],w=g[2],_=g[3],E=g[4],S=g[5],T=g[6],k=g[7],R=v.high,I=v.low,P=y.high,N=y.low,M=w.high,O=w.low,j=_.high,U=_.low,q=E.high,W=E.low,V=S.high,z=S.low,L=T.high,H=T.low,B=k.high,Y=k.low,Q=R,ne=I,ce=P,le=N,ue=M,ae=O,te=j,se=U,we=q,X=W,he=V,ge=z,re=L,ee=H,fe=B,Re=Y,Oe=0;Oe<80;Oe++){var Ae,Se,xe=f[Oe];if(Oe<16)Se=xe.high=m[p+Oe*2]|0,Ae=xe.low=m[p+Oe*2+1]|0;else{var ke=f[Oe-15],me=ke.high,Me=ke.low,ze=(me>>>1|Me<<31)^(me>>>8|Me<<24)^me>>>7,Xe=(Me>>>1|me<<31)^(Me>>>8|me<<24)^(Me>>>7|me<<25),tt=f[Oe-2],gt=tt.high,qt=tt.low,zt=(gt>>>19|qt<<13)^(gt<<3|qt>>>29)^gt>>>6,_n=(qt>>>19|gt<<13)^(qt<<3|gt>>>29)^(qt>>>6|gt<<26),$t=f[Oe-7],dn=$t.high,Vn=$t.low,Ln=f[Oe-16],Tr=Ln.high,Xn=Ln.low;Ae=Xe+Vn,Se=ze+dn+(Ae>>>0<Xe>>>0?1:0),Ae=Ae+_n,Se=Se+zt+(Ae>>>0<_n>>>0?1:0),Ae=Ae+Xn,Se=Se+Tr+(Ae>>>0<Xn>>>0?1:0),xe.high=Se,xe.low=Ae}var mr=we&he^~we&re,En=X&ge^~X&ee,nn=Q&ce^Q&ue^ce&ue,rr=ne&le^ne&ae^le&ae,ii=(Q>>>28|ne<<4)^(Q<<30|ne>>>2)^(Q<<25|ne>>>7),br=(ne>>>28|Q<<4)^(ne<<30|Q>>>2)^(ne<<25|Q>>>7),Sn=(we>>>14|X<<18)^(we>>>18|X<<14)^(we<<23|X>>>9),ht=(X>>>14|we<<18)^(X>>>18|we<<14)^(X<<23|we>>>9),cr=d[Oe],Ut=cr.high,Zn=cr.low,sn=Re+ht,Yn=fe+Sn+(sn>>>0<Re>>>0?1:0),sn=sn+En,Yn=Yn+mr+(sn>>>0<En>>>0?1:0),sn=sn+Zn,Yn=Yn+Ut+(sn>>>0<Zn>>>0?1:0),sn=sn+Ae,Yn=Yn+Se+(sn>>>0<Ae>>>0?1:0),wr=br+rr,kr=ii+nn+(wr>>>0<br>>>0?1:0);fe=re,Re=ee,re=he,ee=ge,he=we,ge=X,X=se+sn|0,we=te+Yn+(X>>>0<se>>>0?1:0)|0,te=ue,se=ae,ue=ce,ae=le,ce=Q,le=ne,ne=sn+wr|0,Q=Yn+kr+(ne>>>0<sn>>>0?1:0)|0}I=v.low=I+ne,v.high=R+Q+(I>>>0<ne>>>0?1:0),N=y.low=N+le,y.high=P+ce+(N>>>0<le>>>0?1:0),O=w.low=O+ae,w.high=M+ue+(O>>>0<ae>>>0?1:0),U=_.low=U+se,_.high=j+te+(U>>>0<se>>>0?1:0),W=E.low=W+X,E.high=q+we+(W>>>0<X>>>0?1:0),z=S.low=z+ge,S.high=V+he+(z>>>0<ge>>>0?1:0),H=T.low=H+ee,T.high=L+re+(H>>>0<ee>>>0?1:0),Y=k.low=Y+Re,k.high=B+fe+(Y>>>0<Re>>>0?1:0)},_doFinalize:function(){var m=this._data,p=m.words,g=this._nDataBytes*8,v=m.sigBytes*8;p[v>>>5]|=128<<24-v%32,p[(v+128>>>10<<5)+30]=Math.floor(g/4294967296),p[(v+128>>>10<<5)+31]=g,m.sigBytes=p.length*4,this._process();var y=this._hash.toX32();return y},clone:function(){var m=o.clone.call(this);return m._hash=this._hash.clone(),m},blockSize:1024/32});r.SHA512=o._createHelper(h),r.HmacSHA512=o._createHmacHelper(h)})(),n.SHA512})})(YD)),YD.exports}var KD={exports:{}},Plt=KD.exports,Wse;function Olt(){return Wse||(Wse=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),pM(),i_e())})(Plt,function(n){return(function(){var r=n,i=r.x64,o=i.Word,s=i.WordArray,a=r.algo,l=a.SHA512,u=a.SHA384=l.extend({_doReset:function(){this._hash=new s.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var c=l._doFinalize.call(this);return c.sigBytes-=16,c}});r.SHA384=l._createHelper(u),r.HmacSHA384=l._createHmacHelper(u)})(),n.SHA384})})(KD)),KD.exports}var XD={exports:{}},Nlt=XD.exports,Gse;function Mlt(){return Gse||(Gse=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),pM())})(Nlt,function(n){return(function(r){var i=n,o=i.lib,s=o.WordArray,a=o.Hasher,l=i.x64,u=l.Word,c=i.algo,d=[],f=[],h=[];(function(){for(var g=1,v=0,y=0;y<24;y++){d[g+5*v]=(y+1)*(y+2)/2%64;var w=v%5,_=(2*g+3*v)%5;g=w,v=_}for(var g=0;g<5;g++)for(var v=0;v<5;v++)f[g+5*v]=v+(2*g+3*v)%5*5;for(var E=1,S=0;S<24;S++){for(var T=0,k=0,R=0;R<7;R++){if(E&1){var I=(1<<R)-1;I<32?k^=1<<I:T^=1<<I-32}E&128?E=E<<1^113:E<<=1}h[S]=u.create(T,k)}})();var m=[];(function(){for(var g=0;g<25;g++)m[g]=u.create()})();var p=c.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var g=this._state=[],v=0;v<25;v++)g[v]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(g,v){for(var y=this._state,w=this.blockSize/2,_=0;_<w;_++){var E=g[v+2*_],S=g[v+2*_+1];E=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360;var T=y[_];T.high^=S,T.low^=E}for(var k=0;k<24;k++){for(var R=0;R<5;R++){for(var I=0,P=0,N=0;N<5;N++){var T=y[R+5*N];I^=T.high,P^=T.low}var M=m[R];M.high=I,M.low=P}for(var R=0;R<5;R++)for(var O=m[(R+4)%5],j=m[(R+1)%5],U=j.high,q=j.low,I=O.high^(U<<1|q>>>31),P=O.low^(q<<1|U>>>31),N=0;N<5;N++){var T=y[R+5*N];T.high^=I,T.low^=P}for(var W=1;W<25;W++){var I,P,T=y[W],V=T.high,z=T.low,L=d[W];L<32?(I=V<<L|z>>>32-L,P=z<<L|V>>>32-L):(I=z<<L-32|V>>>64-L,P=V<<L-32|z>>>64-L);var H=m[f[W]];H.high=I,H.low=P}var B=m[0],Y=y[0];B.high=Y.high,B.low=Y.low;for(var R=0;R<5;R++)for(var N=0;N<5;N++){var W=R+5*N,T=y[W],Q=m[W],ne=m[(R+1)%5+5*N],ce=m[(R+2)%5+5*N];T.high=Q.high^~ne.high&ce.high,T.low=Q.low^~ne.low&ce.low}var T=y[0],le=h[k];T.high^=le.high,T.low^=le.low}},_doFinalize:function(){var g=this._data,v=g.words;this._nDataBytes*8;var y=g.sigBytes*8,w=this.blockSize*32;v[y>>>5]|=1<<24-y%32,v[(r.ceil((y+1)/w)*w>>>5)-1]|=128,g.sigBytes=v.length*4,this._process();for(var _=this._state,E=this.cfg.outputLength/8,S=E/8,T=[],k=0;k<S;k++){var R=_[k],I=R.high,P=R.low;I=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,T.push(P),T.push(I)}return new s.init(T,E)},clone:function(){for(var g=a.clone.call(this),v=g._state=this._state.slice(0),y=0;y<25;y++)v[y]=v[y].clone();return g}});i.SHA3=a._createHelper(p),i.HmacSHA3=a._createHmacHelper(p)})(Math),n.SHA3})})(XD)),XD.exports}var QD={exports:{}},$lt=QD.exports,Yse;function Llt(){return Yse||(Yse=1,(function(e,t){(function(n,r){e.exports=r(Sr())})($lt,function(n){return(function(r){var i=n,o=i.lib,s=o.WordArray,a=o.Hasher,l=i.algo,u=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),d=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=s.create([0,1518500249,1859775393,2400959708,2840853838]),m=s.create([1352829926,1548603684,1836072691,2053994217,0]),p=l.RIPEMD160=a.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(S,T){for(var k=0;k<16;k++){var R=T+k,I=S[R];S[R]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360}var P=this._hash.words,N=h.words,M=m.words,O=u.words,j=c.words,U=d.words,q=f.words,W,V,z,L,H,B,Y,Q,ne,ce;B=W=P[0],Y=V=P[1],Q=z=P[2],ne=L=P[3],ce=H=P[4];for(var le,k=0;k<80;k+=1)le=W+S[T+O[k]]|0,k<16?le+=g(V,z,L)+N[0]:k<32?le+=v(V,z,L)+N[1]:k<48?le+=y(V,z,L)+N[2]:k<64?le+=w(V,z,L)+N[3]:le+=_(V,z,L)+N[4],le=le|0,le=E(le,U[k]),le=le+H|0,W=H,H=L,L=E(z,10),z=V,V=le,le=B+S[T+j[k]]|0,k<16?le+=_(Y,Q,ne)+M[0]:k<32?le+=w(Y,Q,ne)+M[1]:k<48?le+=y(Y,Q,ne)+M[2]:k<64?le+=v(Y,Q,ne)+M[3]:le+=g(Y,Q,ne)+M[4],le=le|0,le=E(le,q[k]),le=le+ce|0,B=ce,ce=ne,ne=E(Q,10),Q=Y,Y=le;le=P[1]+z+ne|0,P[1]=P[2]+L+ce|0,P[2]=P[3]+H+B|0,P[3]=P[4]+W+Y|0,P[4]=P[0]+V+Q|0,P[0]=le},_doFinalize:function(){var S=this._data,T=S.words,k=this._nDataBytes*8,R=S.sigBytes*8;T[R>>>5]|=128<<24-R%32,T[(R+64>>>9<<4)+14]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,S.sigBytes=(T.length+1)*4,this._process();for(var I=this._hash,P=I.words,N=0;N<5;N++){var M=P[N];P[N]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360}return I},clone:function(){var S=a.clone.call(this);return S._hash=this._hash.clone(),S}});function g(S,T,k){return S^T^k}function v(S,T,k){return S&T|~S&k}function y(S,T,k){return(S|~T)^k}function w(S,T,k){return S&k|T&~k}function _(S,T,k){return S^(T|~k)}function E(S,T){return S<<T|S>>>32-T}i.RIPEMD160=a._createHelper(p),i.HmacRIPEMD160=a._createHmacHelper(p)})(),n.RIPEMD160})})(QD)),QD.exports}var JD={exports:{}},Flt=JD.exports,Kse;function VG(){return Kse||(Kse=1,(function(e,t){(function(n,r){e.exports=r(Sr())})(Flt,function(n){(function(){var r=n,i=r.lib,o=i.Base,s=r.enc,a=s.Utf8,l=r.algo;l.HMAC=o.extend({init:function(u,c){u=this._hasher=new u.init,typeof c=="string"&&(c=a.parse(c));var d=u.blockSize,f=d*4;c.sigBytes>f&&(c=u.finalize(c)),c.clamp();for(var h=this._oKey=c.clone(),m=this._iKey=c.clone(),p=h.words,g=m.words,v=0;v<d;v++)p[v]^=1549556828,g[v]^=909522486;h.sigBytes=m.sigBytes=f,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var c=this._hasher,d=c.finalize(u);c.reset();var f=c.finalize(this._oKey.clone().concat(d));return f}})})()})})(JD)),JD.exports}var ZD={exports:{}},jlt=ZD.exports,Xse;function Blt(){return Xse||(Xse=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),qG(),VG())})(jlt,function(n){return(function(){var r=n,i=r.lib,o=i.Base,s=i.WordArray,a=r.algo,l=a.SHA256,u=a.HMAC,c=a.PBKDF2=o.extend({cfg:o.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,f){for(var h=this.cfg,m=u.create(h.hasher,d),p=s.create(),g=s.create([1]),v=p.words,y=g.words,w=h.keySize,_=h.iterations;v.length<w;){var E=m.update(f).finalize(g);m.reset();for(var S=E.words,T=S.length,k=E,R=1;R<_;R++){k=m.finalize(k),m.reset();for(var I=k.words,P=0;P<T;P++)S[P]^=I[P]}p.concat(E),y[0]++}return p.sigBytes=w*4,p}});r.PBKDF2=function(d,f,h){return c.create(h).compute(d,f)}})(),n.PBKDF2})})(ZD)),ZD.exports}var eP={exports:{}},zlt=eP.exports,Qse;function W0(){return Qse||(Qse=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),r_e(),VG())})(zlt,function(n){return(function(){var r=n,i=r.lib,o=i.Base,s=i.WordArray,a=r.algo,l=a.MD5,u=a.EvpKDF=o.extend({cfg:o.extend({keySize:128/32,hasher:l,iterations:1}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,d){for(var f,h=this.cfg,m=h.hasher.create(),p=s.create(),g=p.words,v=h.keySize,y=h.iterations;g.length<v;){f&&m.update(f),f=m.update(c).finalize(d),m.reset();for(var w=1;w<y;w++)f=m.finalize(f),m.reset();p.concat(f)}return p.sigBytes=v*4,p}});r.EvpKDF=function(c,d,f){return u.create(f).compute(c,d)}})(),n.EvpKDF})})(eP)),eP.exports}var tP={exports:{}},Ult=tP.exports,Jse;function $s(){return Jse||(Jse=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),W0())})(Ult,function(n){n.lib.Cipher||(function(r){var i=n,o=i.lib,s=o.Base,a=o.WordArray,l=o.BufferedBlockAlgorithm,u=i.enc;u.Utf8;var c=u.Base64,d=i.algo,f=d.EvpKDF,h=o.Cipher=l.extend({cfg:s.extend(),createEncryptor:function(I,P){return this.create(this._ENC_XFORM_MODE,I,P)},createDecryptor:function(I,P){return this.create(this._DEC_XFORM_MODE,I,P)},init:function(I,P,N){this.cfg=this.cfg.extend(N),this._xformMode=I,this._key=P,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(I){return this._append(I),this._process()},finalize:function(I){I&&this._append(I);var P=this._doFinalize();return P},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function I(P){return typeof P=="string"?R:S}return function(P){return{encrypt:function(N,M,O){return I(M).encrypt(P,N,M,O)},decrypt:function(N,M,O){return I(M).decrypt(P,N,M,O)}}}})()});o.StreamCipher=h.extend({_doFinalize:function(){var I=this._process(!0);return I},blockSize:1});var m=i.mode={},p=o.BlockCipherMode=s.extend({createEncryptor:function(I,P){return this.Encryptor.create(I,P)},createDecryptor:function(I,P){return this.Decryptor.create(I,P)},init:function(I,P){this._cipher=I,this._iv=P}}),g=m.CBC=(function(){var I=p.extend();I.Encryptor=I.extend({processBlock:function(N,M){var O=this._cipher,j=O.blockSize;P.call(this,N,M,j),O.encryptBlock(N,M),this._prevBlock=N.slice(M,M+j)}}),I.Decryptor=I.extend({processBlock:function(N,M){var O=this._cipher,j=O.blockSize,U=N.slice(M,M+j);O.decryptBlock(N,M),P.call(this,N,M,j),this._prevBlock=U}});function P(N,M,O){var j,U=this._iv;U?(j=U,this._iv=r):j=this._prevBlock;for(var q=0;q<O;q++)N[M+q]^=j[q]}return I})(),v=i.pad={},y=v.Pkcs7={pad:function(I,P){for(var N=P*4,M=N-I.sigBytes%N,O=M<<24|M<<16|M<<8|M,j=[],U=0;U<M;U+=4)j.push(O);var q=a.create(j,M);I.concat(q)},unpad:function(I){var P=I.words[I.sigBytes-1>>>2]&255;I.sigBytes-=P}};o.BlockCipher=h.extend({cfg:h.cfg.extend({mode:g,padding:y}),reset:function(){var I;h.reset.call(this);var P=this.cfg,N=P.iv,M=P.mode;this._xformMode==this._ENC_XFORM_MODE?I=M.createEncryptor:(I=M.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==I?this._mode.init(this,N&&N.words):(this._mode=I.call(M,this,N&&N.words),this._mode.__creator=I)},_doProcessBlock:function(I,P){this._mode.processBlock(I,P)},_doFinalize:function(){var I,P=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(P.pad(this._data,this.blockSize),I=this._process(!0)):(I=this._process(!0),P.unpad(I)),I},blockSize:128/32});var w=o.CipherParams=s.extend({init:function(I){this.mixIn(I)},toString:function(I){return(I||this.formatter).stringify(this)}}),_=i.format={},E=_.OpenSSL={stringify:function(I){var P,N=I.ciphertext,M=I.salt;return M?P=a.create([1398893684,1701076831]).concat(M).concat(N):P=N,P.toString(c)},parse:function(I){var P,N=c.parse(I),M=N.words;return M[0]==1398893684&&M[1]==1701076831&&(P=a.create(M.slice(2,4)),M.splice(0,4),N.sigBytes-=16),w.create({ciphertext:N,salt:P})}},S=o.SerializableCipher=s.extend({cfg:s.extend({format:E}),encrypt:function(I,P,N,M){M=this.cfg.extend(M);var O=I.createEncryptor(N,M),j=O.finalize(P),U=O.cfg;return w.create({ciphertext:j,key:N,iv:U.iv,algorithm:I,mode:U.mode,padding:U.padding,blockSize:I.blockSize,formatter:M.format})},decrypt:function(I,P,N,M){M=this.cfg.extend(M),P=this._parse(P,M.format);var O=I.createDecryptor(N,M).finalize(P.ciphertext);return O},_parse:function(I,P){return typeof I=="string"?P.parse(I,this):I}}),T=i.kdf={},k=T.OpenSSL={execute:function(I,P,N,M,O){if(M||(M=a.random(64/8)),O)var j=f.create({keySize:P+N,hasher:O}).compute(I,M);else var j=f.create({keySize:P+N}).compute(I,M);var U=a.create(j.words.slice(P),N*4);return j.sigBytes=P*4,w.create({key:j,iv:U,salt:M})}},R=o.PasswordBasedCipher=S.extend({cfg:S.cfg.extend({kdf:k}),encrypt:function(I,P,N,M){M=this.cfg.extend(M);var O=M.kdf.execute(N,I.keySize,I.ivSize,M.salt,M.hasher);M.iv=O.iv;var j=S.encrypt.call(this,I,P,O.key,M);return j.mixIn(O),j},decrypt:function(I,P,N,M){M=this.cfg.extend(M),P=this._parse(P,M.format);var O=M.kdf.execute(N,I.keySize,I.ivSize,P.salt,M.hasher);M.iv=O.iv;var j=S.decrypt.call(this,I,P,O.key,M);return j}})})()})})(tP)),tP.exports}var nP={exports:{}},Hlt=nP.exports,Zse;function qlt(){return Zse||(Zse=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),$s())})(Hlt,function(n){return n.mode.CFB=(function(){var r=n.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize;i.call(this,o,s,l,a),this._prevBlock=o.slice(s,s+l)}}),r.Decryptor=r.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize,u=o.slice(s,s+l);i.call(this,o,s,l,a),this._prevBlock=u}});function i(o,s,a,l){var u,c=this._iv;c?(u=c.slice(0),this._iv=void 0):u=this._prevBlock,l.encryptBlock(u,0);for(var d=0;d<a;d++)o[s+d]^=u[d]}return r})(),n.mode.CFB})})(nP)),nP.exports}var rP={exports:{}},Vlt=rP.exports,eae;function Wlt(){return eae||(eae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),$s())})(Vlt,function(n){return n.mode.CTR=(function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize,u=this._iv,c=this._counter;u&&(c=this._counter=u.slice(0),this._iv=void 0);var d=c.slice(0);a.encryptBlock(d,0),c[l-1]=c[l-1]+1|0;for(var f=0;f<l;f++)o[s+f]^=d[f]}});return r.Decryptor=i,r})(),n.mode.CTR})})(rP)),rP.exports}var iP={exports:{}},Glt=iP.exports,tae;function Ylt(){return tae||(tae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),$s())})(Glt,function(n){return n.mode.CTRGladman=(function(){var r=n.lib.BlockCipherMode.extend();function i(a){if((a>>24&255)===255){var l=a>>16&255,u=a>>8&255,c=a&255;l===255?(l=0,u===255?(u=0,c===255?c=0:++c):++u):++l,a=0,a+=l<<16,a+=u<<8,a+=c}else a+=1<<24;return a}function o(a){return(a[0]=i(a[0]))===0&&(a[1]=i(a[1])),a}var s=r.Encryptor=r.extend({processBlock:function(a,l){var u=this._cipher,c=u.blockSize,d=this._iv,f=this._counter;d&&(f=this._counter=d.slice(0),this._iv=void 0),o(f);var h=f.slice(0);u.encryptBlock(h,0);for(var m=0;m<c;m++)a[l+m]^=h[m]}});return r.Decryptor=s,r})(),n.mode.CTRGladman})})(iP)),iP.exports}var oP={exports:{}},Klt=oP.exports,nae;function Xlt(){return nae||(nae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),$s())})(Klt,function(n){return n.mode.OFB=(function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize,u=this._iv,c=this._keystream;u&&(c=this._keystream=u.slice(0),this._iv=void 0),a.encryptBlock(c,0);for(var d=0;d<l;d++)o[s+d]^=c[d]}});return r.Decryptor=i,r})(),n.mode.OFB})})(oP)),oP.exports}var sP={exports:{}},Qlt=sP.exports,rae;function Jlt(){return rae||(rae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),$s())})(Qlt,function(n){return n.mode.ECB=(function(){var r=n.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(i,o){this._cipher.encryptBlock(i,o)}}),r.Decryptor=r.extend({processBlock:function(i,o){this._cipher.decryptBlock(i,o)}}),r})(),n.mode.ECB})})(sP)),sP.exports}var aP={exports:{}},Zlt=aP.exports,iae;function eut(){return iae||(iae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),$s())})(Zlt,function(n){return n.pad.AnsiX923={pad:function(r,i){var o=r.sigBytes,s=i*4,a=s-o%s,l=o+a-1;r.clamp(),r.words[l>>>2]|=a<<24-l%4*8,r.sigBytes+=a},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Ansix923})})(aP)),aP.exports}var lP={exports:{}},tut=lP.exports,oae;function nut(){return oae||(oae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),$s())})(tut,function(n){return n.pad.Iso10126={pad:function(r,i){var o=i*4,s=o-r.sigBytes%o;r.concat(n.lib.WordArray.random(s-1)).concat(n.lib.WordArray.create([s<<24],1))},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Iso10126})})(lP)),lP.exports}var uP={exports:{}},rut=uP.exports,sae;function iut(){return sae||(sae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),$s())})(rut,function(n){return n.pad.Iso97971={pad:function(r,i){r.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(r,i)},unpad:function(r){n.pad.ZeroPadding.unpad(r),r.sigBytes--}},n.pad.Iso97971})})(uP)),uP.exports}var cP={exports:{}},out=cP.exports,aae;function sut(){return aae||(aae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),$s())})(out,function(n){return n.pad.ZeroPadding={pad:function(r,i){var o=i*4;r.clamp(),r.sigBytes+=o-(r.sigBytes%o||o)},unpad:function(r){for(var i=r.words,o=r.sigBytes-1,o=r.sigBytes-1;o>=0;o--)if(i[o>>>2]>>>24-o%4*8&255){r.sigBytes=o+1;break}}},n.pad.ZeroPadding})})(cP)),cP.exports}var dP={exports:{}},aut=dP.exports,lae;function lut(){return lae||(lae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),$s())})(aut,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})})(dP)),dP.exports}var fP={exports:{}},uut=fP.exports,uae;function cut(){return uae||(uae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),$s())})(uut,function(n){return(function(r){var i=n,o=i.lib,s=o.CipherParams,a=i.enc,l=a.Hex,u=i.format;u.Hex={stringify:function(c){return c.ciphertext.toString(l)},parse:function(c){var d=l.parse(c);return s.create({ciphertext:d})}}})(),n.format.Hex})})(fP)),fP.exports}var hP={exports:{}},dut=hP.exports,cae;function fut(){return cae||(cae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),Rb(),Ib(),W0(),$s())})(dut,function(n){return(function(){var r=n,i=r.lib,o=i.BlockCipher,s=r.algo,a=[],l=[],u=[],c=[],d=[],f=[],h=[],m=[],p=[],g=[];(function(){for(var w=[],_=0;_<256;_++)_<128?w[_]=_<<1:w[_]=_<<1^283;for(var E=0,S=0,_=0;_<256;_++){var T=S^S<<1^S<<2^S<<3^S<<4;T=T>>>8^T&255^99,a[E]=T,l[T]=E;var k=w[E],R=w[k],I=w[R],P=w[T]*257^T*16843008;u[E]=P<<24|P>>>8,c[E]=P<<16|P>>>16,d[E]=P<<8|P>>>24,f[E]=P;var P=I*16843009^R*65537^k*257^E*16843008;h[T]=P<<24|P>>>8,m[T]=P<<16|P>>>16,p[T]=P<<8|P>>>24,g[T]=P,E?(E=k^w[w[w[I^k]]],S^=w[w[S]]):E=S=1}})();var v=[0,1,2,4,8,16,32,64,128,27,54],y=s.AES=o.extend({_doReset:function(){var w;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var _=this._keyPriorReset=this._key,E=_.words,S=_.sigBytes/4,T=this._nRounds=S+6,k=(T+1)*4,R=this._keySchedule=[],I=0;I<k;I++)I<S?R[I]=E[I]:(w=R[I-1],I%S?S>6&&I%S==4&&(w=a[w>>>24]<<24|a[w>>>16&255]<<16|a[w>>>8&255]<<8|a[w&255]):(w=w<<8|w>>>24,w=a[w>>>24]<<24|a[w>>>16&255]<<16|a[w>>>8&255]<<8|a[w&255],w^=v[I/S|0]<<24),R[I]=R[I-S]^w);for(var P=this._invKeySchedule=[],N=0;N<k;N++){var I=k-N;if(N%4)var w=R[I];else var w=R[I-4];N<4||I<=4?P[N]=w:P[N]=h[a[w>>>24]]^m[a[w>>>16&255]]^p[a[w>>>8&255]]^g[a[w&255]]}}},encryptBlock:function(w,_){this._doCryptBlock(w,_,this._keySchedule,u,c,d,f,a)},decryptBlock:function(w,_){var E=w[_+1];w[_+1]=w[_+3],w[_+3]=E,this._doCryptBlock(w,_,this._invKeySchedule,h,m,p,g,l);var E=w[_+1];w[_+1]=w[_+3],w[_+3]=E},_doCryptBlock:function(w,_,E,S,T,k,R,I){for(var P=this._nRounds,N=w[_]^E[0],M=w[_+1]^E[1],O=w[_+2]^E[2],j=w[_+3]^E[3],U=4,q=1;q<P;q++){var W=S[N>>>24]^T[M>>>16&255]^k[O>>>8&255]^R[j&255]^E[U++],V=S[M>>>24]^T[O>>>16&255]^k[j>>>8&255]^R[N&255]^E[U++],z=S[O>>>24]^T[j>>>16&255]^k[N>>>8&255]^R[M&255]^E[U++],L=S[j>>>24]^T[N>>>16&255]^k[M>>>8&255]^R[O&255]^E[U++];N=W,M=V,O=z,j=L}var W=(I[N>>>24]<<24|I[M>>>16&255]<<16|I[O>>>8&255]<<8|I[j&255])^E[U++],V=(I[M>>>24]<<24|I[O>>>16&255]<<16|I[j>>>8&255]<<8|I[N&255])^E[U++],z=(I[O>>>24]<<24|I[j>>>16&255]<<16|I[N>>>8&255]<<8|I[M&255])^E[U++],L=(I[j>>>24]<<24|I[N>>>16&255]<<16|I[M>>>8&255]<<8|I[O&255])^E[U++];w[_]=W,w[_+1]=V,w[_+2]=z,w[_+3]=L},keySize:256/32});r.AES=o._createHelper(y)})(),n.AES})})(hP)),hP.exports}var pP={exports:{}},hut=pP.exports,dae;function put(){return dae||(dae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),Rb(),Ib(),W0(),$s())})(hut,function(n){return(function(){var r=n,i=r.lib,o=i.WordArray,s=i.BlockCipher,a=r.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],d=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=a.DES=s.extend({_doReset:function(){for(var v=this._key,y=v.words,w=[],_=0;_<56;_++){var E=l[_]-1;w[_]=y[E>>>5]>>>31-E%32&1}for(var S=this._subKeys=[],T=0;T<16;T++){for(var k=S[T]=[],R=c[T],_=0;_<24;_++)k[_/6|0]|=w[(u[_]-1+R)%28]<<31-_%6,k[4+(_/6|0)]|=w[28+(u[_+24]-1+R)%28]<<31-_%6;k[0]=k[0]<<1|k[0]>>>31;for(var _=1;_<7;_++)k[_]=k[_]>>>(_-1)*4+3;k[7]=k[7]<<5|k[7]>>>27}for(var I=this._invSubKeys=[],_=0;_<16;_++)I[_]=S[15-_]},encryptBlock:function(v,y){this._doCryptBlock(v,y,this._subKeys)},decryptBlock:function(v,y){this._doCryptBlock(v,y,this._invSubKeys)},_doCryptBlock:function(v,y,w){this._lBlock=v[y],this._rBlock=v[y+1],m.call(this,4,252645135),m.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),m.call(this,1,1431655765);for(var _=0;_<16;_++){for(var E=w[_],S=this._lBlock,T=this._rBlock,k=0,R=0;R<8;R++)k|=d[R][((T^E[R])&f[R])>>>0];this._lBlock=T,this._rBlock=S^k}var I=this._lBlock;this._lBlock=this._rBlock,this._rBlock=I,m.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),m.call(this,16,65535),m.call(this,4,252645135),v[y]=this._lBlock,v[y+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function m(v,y){var w=(this._lBlock>>>v^this._rBlock)&y;this._rBlock^=w,this._lBlock^=w<<v}function p(v,y){var w=(this._rBlock>>>v^this._lBlock)&y;this._lBlock^=w,this._rBlock^=w<<v}r.DES=s._createHelper(h);var g=a.TripleDES=s.extend({_doReset:function(){var v=this._key,y=v.words;if(y.length!==2&&y.length!==4&&y.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var w=y.slice(0,2),_=y.length<4?y.slice(0,2):y.slice(2,4),E=y.length<6?y.slice(0,2):y.slice(4,6);this._des1=h.createEncryptor(o.create(w)),this._des2=h.createEncryptor(o.create(_)),this._des3=h.createEncryptor(o.create(E))},encryptBlock:function(v,y){this._des1.encryptBlock(v,y),this._des2.decryptBlock(v,y),this._des3.encryptBlock(v,y)},decryptBlock:function(v,y){this._des3.decryptBlock(v,y),this._des2.encryptBlock(v,y),this._des1.decryptBlock(v,y)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=s._createHelper(g)})(),n.TripleDES})})(pP)),pP.exports}var mP={exports:{}},mut=mP.exports,fae;function gut(){return fae||(fae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),Rb(),Ib(),W0(),$s())})(mut,function(n){return(function(){var r=n,i=r.lib,o=i.StreamCipher,s=r.algo,a=s.RC4=o.extend({_doReset:function(){for(var c=this._key,d=c.words,f=c.sigBytes,h=this._S=[],m=0;m<256;m++)h[m]=m;for(var m=0,p=0;m<256;m++){var g=m%f,v=d[g>>>2]>>>24-g%4*8&255;p=(p+h[m]+v)%256;var y=h[m];h[m]=h[p],h[p]=y}this._i=this._j=0},_doProcessBlock:function(c,d){c[d]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var c=this._S,d=this._i,f=this._j,h=0,m=0;m<4;m++){d=(d+1)%256,f=(f+c[d])%256;var p=c[d];c[d]=c[f],c[f]=p,h|=c[(c[d]+c[f])%256]<<24-m*8}return this._i=d,this._j=f,h}r.RC4=o._createHelper(a);var u=s.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)l.call(this)}});r.RC4Drop=o._createHelper(u)})(),n.RC4})})(mP)),mP.exports}var gP={exports:{}},yut=gP.exports,hae;function vut(){return hae||(hae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),Rb(),Ib(),W0(),$s())})(yut,function(n){return(function(){var r=n,i=r.lib,o=i.StreamCipher,s=r.algo,a=[],l=[],u=[],c=s.Rabbit=o.extend({_doReset:function(){for(var f=this._key.words,h=this.cfg.iv,m=0;m<4;m++)f[m]=(f[m]<<8|f[m]>>>24)&16711935|(f[m]<<24|f[m]>>>8)&4278255360;var p=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],g=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var m=0;m<4;m++)d.call(this);for(var m=0;m<8;m++)g[m]^=p[m+4&7];if(h){var v=h.words,y=v[0],w=v[1],_=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,E=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,S=_>>>16|E&4294901760,T=E<<16|_&65535;g[0]^=_,g[1]^=S,g[2]^=E,g[3]^=T,g[4]^=_,g[5]^=S,g[6]^=E,g[7]^=T;for(var m=0;m<4;m++)d.call(this)}},_doProcessBlock:function(f,h){var m=this._X;d.call(this),a[0]=m[0]^m[5]>>>16^m[3]<<16,a[1]=m[2]^m[7]>>>16^m[5]<<16,a[2]=m[4]^m[1]>>>16^m[7]<<16,a[3]=m[6]^m[3]>>>16^m[1]<<16;for(var p=0;p<4;p++)a[p]=(a[p]<<8|a[p]>>>24)&16711935|(a[p]<<24|a[p]>>>8)&4278255360,f[h+p]^=a[p]},blockSize:128/32,ivSize:64/32});function d(){for(var f=this._X,h=this._C,m=0;m<8;m++)l[m]=h[m];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<l[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<l[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<l[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<l[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<l[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<l[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<l[6]>>>0?1:0)|0,this._b=h[7]>>>0<l[7]>>>0?1:0;for(var m=0;m<8;m++){var p=f[m]+h[m],g=p&65535,v=p>>>16,y=((g*g>>>17)+g*v>>>15)+v*v,w=((p&4294901760)*p|0)+((p&65535)*p|0);u[m]=y^w}f[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,f[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,f[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,f[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,f[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,f[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,f[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,f[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.Rabbit=o._createHelper(c)})(),n.Rabbit})})(gP)),gP.exports}var yP={exports:{}},but=yP.exports,pae;function wut(){return pae||(pae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),Rb(),Ib(),W0(),$s())})(but,function(n){return(function(){var r=n,i=r.lib,o=i.StreamCipher,s=r.algo,a=[],l=[],u=[],c=s.RabbitLegacy=o.extend({_doReset:function(){var f=this._key.words,h=this.cfg.iv,m=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],p=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var g=0;g<4;g++)d.call(this);for(var g=0;g<8;g++)p[g]^=m[g+4&7];if(h){var v=h.words,y=v[0],w=v[1],_=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,E=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,S=_>>>16|E&4294901760,T=E<<16|_&65535;p[0]^=_,p[1]^=S,p[2]^=E,p[3]^=T,p[4]^=_,p[5]^=S,p[6]^=E,p[7]^=T;for(var g=0;g<4;g++)d.call(this)}},_doProcessBlock:function(f,h){var m=this._X;d.call(this),a[0]=m[0]^m[5]>>>16^m[3]<<16,a[1]=m[2]^m[7]>>>16^m[5]<<16,a[2]=m[4]^m[1]>>>16^m[7]<<16,a[3]=m[6]^m[3]>>>16^m[1]<<16;for(var p=0;p<4;p++)a[p]=(a[p]<<8|a[p]>>>24)&16711935|(a[p]<<24|a[p]>>>8)&4278255360,f[h+p]^=a[p]},blockSize:128/32,ivSize:64/32});function d(){for(var f=this._X,h=this._C,m=0;m<8;m++)l[m]=h[m];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<l[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<l[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<l[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<l[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<l[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<l[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<l[6]>>>0?1:0)|0,this._b=h[7]>>>0<l[7]>>>0?1:0;for(var m=0;m<8;m++){var p=f[m]+h[m],g=p&65535,v=p>>>16,y=((g*g>>>17)+g*v>>>15)+v*v,w=((p&4294901760)*p|0)+((p&65535)*p|0);u[m]=y^w}f[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,f[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,f[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,f[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,f[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,f[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,f[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,f[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.RabbitLegacy=o._createHelper(c)})(),n.RabbitLegacy})})(yP)),yP.exports}var vP={exports:{}},xut=vP.exports,mae;function Cut(){return mae||(mae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),Rb(),Ib(),W0(),$s())})(xut,function(n){return(function(){var r=n,i=r.lib,o=i.BlockCipher,s=r.algo;const a=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],u=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function d(g,v){let y=v>>24&255,w=v>>16&255,_=v>>8&255,E=v&255,S=g.sbox[0][y]+g.sbox[1][w];return S=S^g.sbox[2][_],S=S+g.sbox[3][E],S}function f(g,v,y){let w=v,_=y,E;for(let S=0;S<a;++S)w=w^g.pbox[S],_=d(g,w)^_,E=w,w=_,_=E;return E=w,w=_,_=E,_=_^g.pbox[a],w=w^g.pbox[a+1],{left:w,right:_}}function h(g,v,y){let w=v,_=y,E;for(let S=a+1;S>1;--S)w=w^g.pbox[S],_=d(g,w)^_,E=w,w=_,_=E;return E=w,w=_,_=E,_=_^g.pbox[1],w=w^g.pbox[0],{left:w,right:_}}function m(g,v,y){for(let T=0;T<4;T++){g.sbox[T]=[];for(let k=0;k<256;k++)g.sbox[T][k]=u[T][k]}let w=0;for(let T=0;T<a+2;T++)g.pbox[T]=l[T]^v[w],w++,w>=y&&(w=0);let _=0,E=0,S=0;for(let T=0;T<a+2;T+=2)S=f(g,_,E),_=S.left,E=S.right,g.pbox[T]=_,g.pbox[T+1]=E;for(let T=0;T<4;T++)for(let k=0;k<256;k+=2)S=f(g,_,E),_=S.left,E=S.right,g.sbox[T][k]=_,g.sbox[T][k+1]=E;return!0}var p=s.Blowfish=o.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var g=this._keyPriorReset=this._key,v=g.words,y=g.sigBytes/4;m(c,v,y)}},encryptBlock:function(g,v){var y=f(c,g[v],g[v+1]);g[v]=y.left,g[v+1]=y.right},decryptBlock:function(g,v){var y=h(c,g[v],g[v+1]);g[v]=y.left,g[v+1]=y.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=o._createHelper(p)})(),n.Blowfish})})(vP)),vP.exports}var _ut=LD.exports,gae;function Eut(){return gae||(gae=1,(function(e,t){(function(n,r,i){e.exports=r(Sr(),pM(),wlt(),Clt(),Rb(),Slt(),Ib(),r_e(),qG(),Ilt(),i_e(),Olt(),Mlt(),Llt(),VG(),Blt(),W0(),$s(),qlt(),Wlt(),Ylt(),Xlt(),Jlt(),eut(),nut(),iut(),sut(),lut(),cut(),fut(),put(),gut(),vut(),wut(),Cut())})(_ut,function(n){return n})})(LD)),LD.exports}var Aw=Eut();const o_e=Aw.enc.Hex.parse("000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f");function di(e){const t=Aw.AES.encrypt(e.toString(),o_e,{mode:Aw.mode.ECB}).toString();return btoa(t)}function Ld(e){const t=Aw.AES.decrypt(atob(e),o_e,{mode:Aw.mode.ECB}).toString(Aw.enc.Utf8);return parseInt(t,10)}function Om(){const{funcIndex:e}=Mo(),t=hC(),n=cf(),r=df(),i=e&&typeof n=="number"?`${t[n]}_${n}_${r}_${Ld(e)}`:`${r}_${n}`;return Hn(s=>s.answers[i])}function lf(){const[e]=au();return!!e.get("participantId")}function Sut(){const e=Ga(),{recordScreenFPS:t,recordAudio:n}=e.uiConfig,r=A.useRef(null),[i,o]=A.useState(null),[s,a]=A.useState(!1),[l,u]=A.useState(!1),[c,d]=A.useState(!1),[f,h]=A.useState(!1),[m,p]=A.useState(!1),[g,v]=A.useState(!1),[y,w]=A.useState(!1),[_,E]=A.useState(!1),[S,T]=A.useState(!1),k=A.useRef(null),R=A.useRef(null),I=A.useRef(null),P=A.useRef(null),N=A.useRef(null),M=A.useRef(null),O=Nm(),j=Om(),U=lf(),{storageEngine:q}=ri(),W=df(),[V]=A.useState(document.title),{studyHasScreenRecording:z,studyHasAudioRecording:L,currentComponentHasAudioRecording:H,currentComponentHasScreenRecording:B,currentComponentHasClickToRecord:Y}=t_e();A.useEffect(()=>{T(Y)},[Y]);const Q=A.useCallback(()=>{r.current&&(r.current.srcObject=null),p(!1),v(!1),w(!1),a(!1),u(!1),d(!1),I.current&&(I.current.getTracks().forEach(te=>{te.stop(),I.current?.removeTrack(te)}),I.current=null),N.current&&(N.current.getTracks().forEach(te=>{te.stop(),N.current?.removeTrack(te)}),N.current=null),R.current&&(R.current.stream.getTracks().forEach(te=>{te.stop(),R.current?.stream.removeTrack(te)}),R.current.stream.getVideoTracks().forEach(te=>{te.stop(),R.current?.stream.removeTrack(te)}),R.current.stream.getAudioTracks().forEach(te=>{te.stop(),R.current?.stream.removeTrack(te)}),R.current.stop(),R.current=null),P.current&&(P.current.stream.getTracks().forEach(te=>{te.stop(),P.current?.stream.removeTrack(te)}),P.current.stream.getAudioTracks().forEach(te=>{te.stop(),P.current?.stream.removeTrack(te)}),P.current.stop(),P.current=null)},[]),ne=A.useCallback(te=>{if(!(H||B)||!N.current)return;k.current=new MediaStream([...(B?N.current?.getVideoTracks():[])??[],...(H?I.current?.getAudioTracks():[])??[]]);const se=k.current;se.getAudioTracks().forEach(re=>{re.enabled=!S});const we=new MediaRecorder(se);R.current=we;const X=H&&I.current?new MediaRecorder(I.current):null;P.current=X;let he=[];we.addEventListener("dataavailable",re=>{re.data&&re.data.size>0&&he.push(re.data)});let ge=[];X?.addEventListener("dataavailable",re=>{re.data&&re.data.size>0&&ge.push(re.data)}),we.addEventListener("start",()=>{he=[]}),X?.addEventListener("start",()=>{ge=[]}),B?(we.addEventListener("stop",()=>{const{mimeType:re}=we,ee=new Blob(he,{type:re});q?.saveScreenRecording(ee,te).catch(fe=>{console.error("Error saving screen recording:",fe)})}),X?.addEventListener("stop",()=>{const{mimeType:re}=X,ee=new Blob(ge,{type:re});q?.saveAudioRecording(ee,te).catch(fe=>{console.error("Error saving audio recording:",fe)})})):we.addEventListener("stop",()=>{const{mimeType:re}=we,ee=new Blob(he,{type:re});q?.saveAudioRecording(ee,te).catch(fe=>{console.error("Error saving audio recording:",fe)})}),p(!0),h(!0),d(H),o(null),u(H),a(B),we.start(1e3),X?.start(1e3)},[H,B,q,S]),ce=A.useCallback(()=>{a(!1),d(!1),R.current?.stop(),P.current?.stop()},[]),le=A.useCallback(()=>{a(!1),d(!1),u(!1),R.current?.stop(),P.current&&(P.current.stream.getTracks().forEach(te=>{te.stop(),P.current?.stream.removeTrack(te)}),P.current.stream.getAudioTracks().forEach(te=>{te.stop(),P.current?.stream.removeTrack(te)}),P.current.stop(),P.current=null)},[]);A.useEffect(()=>{W!=="$screen-recording.components.screenRecordingPermission"&&W!=="end"&&f&&!m&&E(!0)},[W,m,f]);const ue=A.useCallback(te=>{navigator.mediaDevices.getUserMedia({audio:!0}).then(se=>{I.current=se,k.current=se,se.getAudioTracks().forEach(he=>{he.enabled=!S});const we=new MediaRecorder(se);P.current=we;let X=[];we.addEventListener("start",()=>{X=[]}),we.addEventListener("dataavailable",he=>{he.data&&he.data.size>0&&X.push(he.data)}),we.addEventListener("stop",()=>{const{mimeType:he}=we,ge=new Blob(X,{type:he});q?.saveAudioRecording(ge,te).catch(re=>{console.error("Error saving audio recording:",re)})}),we.start()}),u(!0)},[q,S]);A.useEffect(()=>{if(!H&&P.current){le(),M.current=null;return}!e||z||!L||!q||j&&j.endTime>0||U||(P.current&&(le(),M.current=null),W!=="end"&&M.current!==O&&H&&(M.current=O,ue(O)))},[W,O,H]),A.useEffect(()=>{!e||!z||!q||j&&j.endTime>0||U||(R.current&&(ce(),M.current=null),W!=="end"&&y&&M.current!==O&&(H||B)&&(M.current=O,ne(O)),W==="end"&&Q())},[W,O,H,B,y]);const ae=A.useCallback(()=>{(async()=>{document.title=`RECORD THIS TAB: ${V}`;try{const se=z?await navigator.mediaDevices.getDisplayMedia({video:{displaySurface:"browser",...t?{frameRate:{ideal:t}}:{}},audio:!1,selfBrowserSurface:"include",preferCurrentTab:!0}):null;N.current=se;const we=L?await navigator.mediaDevices.getUserMedia({audio:!0,video:!1}):null;I.current=we;const X=new MediaStream([...se?.getVideoTracks()||[],...we?.getAudioTracks()??[]]);k.current=X,r.current&&(r.current.srcObject=X,r.current.play()),X.getTracks().forEach(he=>{he.addEventListener("ended",()=>{Q()})}),p(se!==null),v(we!==null),w(se!==null||we!==null),h(!0),d(!!n),o(null)}catch(se){console.error("Error accessing screen:",se),o("Recording permission denied or not supported.")}finally{document.title=V}})()},[V,n,t,Q,L,z]);return A.useEffect(()=>{I.current?.getAudioTracks().forEach(te=>{te.enabled=!S})},[S]),{recordVideoRef:r,studyHasScreenRecording:z,isMuted:S,setIsMuted:T,recordAudio:n,startScreenCapture:ae,stopScreenCapture:Q,startScreenRecording:ne,stopScreenRecording:ce,screenRecordingError:i,isScreenRecording:s,isAudioRecording:l,isScreenCapturing:m,isAudioCapturing:g,isMediaCapturing:y,combinedMediaRecorder:R,audioMediaStream:I,screenWithAudioRecording:c,clickToRecord:Y,isRejected:_}}const s_e=A.createContext(void 0);function a_e(){const e=A.useContext(s_e);if(!e)throw new Error("useRecordingContext must be used within a RecordingProvider");return e}function Tut({setAnswer:e}){const{recordAudio:t,recordVideoRef:n,startScreenCapture:r,stopScreenCapture:i,isScreenCapturing:o,screenRecordingError:s,audioMediaStream:a}=a_e(),[l,u]=A.useState(!1);return A.useEffect(()=>{e({status:o&&(t?l:!0),provenanceGraph:void 0,answers:{screenRecordingPermission:o}})},[o,l,e,t]),A.useEffect(()=>{if(!o)return;const c=a.current;if(!c)return;new MediaRecorder(c).start();const f=new AudioContext,h=f.createMediaStreamSource(c),m=f.createAnalyser();m.minDecibels=-45,h.connect(m);const p=m.frequencyBinCount,g=new Uint8Array(p);let v=!1;const y=()=>{if(!v){m.getByteFrequencyData(g);for(let w=0;w<p;w+=1)g[w]>0&&(v=!0,u(!0));window.requestAnimationFrame(y)}};window.requestAnimationFrame(y)},[a,o,e]),b.jsxs(De,{p:"md",children:[b.jsxs(gr,{order:1,size:"h2",children:["Screen",t&&" and Audio"," ","Recording Permission"]}),t?b.jsxs(b.Fragment,{children:[b.jsxs("p",{children:["This study requires recording of your"," ",b.jsx("strong",{children:"screen"})," ","and"," ",b.jsx("strong",{children:"audio"}),". If you're not comfortable, you may exit and return the study."]}),b.jsx("p",{children:"Follow the steps below to grant screen and audio recording permissions."}),b.jsxs("ol",{children:[b.jsxs("li",{children:[b.jsx("strong",{children:"Click the button below"})," ","to enable screen and audio recording.",b.jsx(Mt,{type:"button",onClick:o?i:r,display:"block",mt:"sm",children:o?"Stop Recording":"Start Recording"}),b.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,muted:!0,style:{width:"400px",border:"1px solid #ccc",marginTop:"1rem"}}),s&&b.jsx("p",{style:{color:"red"},children:s}),b.jsx("p",{children:b.jsx("i",{children:"Note: Please make sure you are recording the correct tab or window. Otherwise, stop and re-share the correct one."})})]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Speak"})," ","into your microphone to check if audio is working.",t&&o?b.jsx(De,{h:200,w:400,bd:"1px solid #ccc",children:b.jsx(FG,{height:200,width:400})}):b.jsx(De,{h:200,w:400,bd:"1px solid #ccc"})]})]}),b.jsx("strong",{children:"Note:"}),b.jsxs("ul",{children:[b.jsxs("li",{children:["After we hear you say something, the"," ",b.jsx("b",{children:"Continue"})," ","button will be enabled."]}),b.jsx("li",{children:"Please do not close the window or screen recording until the entire study is completed."})]})]}):b.jsxs(b.Fragment,{children:[b.jsxs("p",{children:["This study requires recording of your"," ",b.jsx("strong",{children:"screen"}),". If you're not comfortable, you may exit and return the study."]}),b.jsx("strong",{children:"Click the button below"})," ","to enable screen recording.",b.jsx(Mt,{type:"button",onClick:o?i:r,display:"block",mt:"sm",children:o?"Stop Recording":"Start Recording"}),b.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,muted:!0,style:{width:"400px",border:"1px solid #ccc",marginTop:"1rem"}}),s&&b.jsx("p",{style:{color:"red"},children:s}),b.jsx("p",{children:b.jsx("i",{children:"Note: Please make sure you are recording the correct tab or window. Otherwise, stop and re-share the correct one."})}),b.jsx("strong",{children:"Note:"}),b.jsx("ul",{children:b.jsx("li",{children:"Please do not close the window or screen recording until the entire study is completed."})})]})]})}const l_e=Object.freeze(Object.defineProperty({__proto__:null,default:Tut},Symbol.toStringTag,{value:"Module"}));function kut(){return b.jsx("div",{children:"test react file"})}const u_e=Object.freeze(Object.defineProperty({__proto__:null,default:kut},Symbol.toStringTag,{value:"Module"})),Aut=e=>e*Math.PI/180;function Rut({parameters:e,setAnswer:t}){const n=A.useRef(null),r=A.useRef(null),i=A.useRef(null),{blindspotAngle:o}=e,s=Hn(S=>S.answers),a=Object.values(s).find(S=>S.componentName==="$virtual-chinrest.components.card-size"),l=Number(a?.answer?.pixelsPerMM),[u,c]=A.useState([]),[d,f]=A.useState(!1),[h,m]=A.useState(null),[p,g]=A.useState(5),v=A.useCallback(S=>{if(!S.length||!l||!r.current)return;const T=S.reduce((N,M)=>N+M,0)/S.length,R=r.current.getBoundingClientRect().left,P=Math.abs(T-R)/l/Math.tan(Aut(o));m(P),f(!1)},[o,l]),y=()=>{n.current&&(n.current.style.left="740px")},w=A.useCallback(()=>{if(!n.current||!r.current||!l||u.length>=5)return;f(!0);let S=!1,T=0;const k=1e3,R=I=>{if(!n.current)return;if(S){I-T>=k&&(S=!1,n.current.style.left="740px"),i.current=requestAnimationFrame(R);return}const N=parseInt(n.current.style.left||"740",10)-2;N<=0?(S=!0,T=I):n.current.style.left=`${N}px`,i.current=requestAnimationFrame(R)};i.current=requestAnimationFrame(R)},[u,l]),_=()=>{i.current&&cancelAnimationFrame(i.current),f(!1)};A.useEffect(()=>{h!==null&&u.length===5&&t({status:!0,answers:{"dist-calibration-MM":h,"dist-calibration-CM":h/10,"ball-positions":JSON.stringify(u),"square-position":r.current?.getBoundingClientRect().left??0}})},[h,u,t]),A.useEffect(()=>{const S=T=>{if(T.code==="Space"){if(T.preventDefault(),!d)w();else if(n.current){_();const R=n.current.getBoundingClientRect().left;c(I=>{const P=[...I,R];return P.length>=5&&v(P),P}),g(I=>I-1),y()}}};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[d,w,v]),A.useEffect(()=>(m(null),f(!1),c([]),g(5),y(),()=>{m(null),f(!1),c([]),g(5)}),[]),A.useEffect(()=>()=>{i.current&&cancelAnimationFrame(i.current)},[]);const E=()=>{c([]),m(null),f(!1),g(5),y(),t({status:!1,answers:{}})};return l?b.jsx(U0,{size:"md",children:b.jsxs(Nn,{gap:"md",children:[b.jsx($e,{children:"Now we will quickly measure how far away you are sitting. "}),b.jsxs(Nn,{gap:"xs",children:[b.jsxs(ji,{children:[b.jsxs(ji.Item,{children:["Put your left hand on the",b.jsx("b",{children:"space bar"}),"."]}),b.jsx(ji.Item,{children:"Cover your right eye with your right hand."}),b.jsx(ji.Item,{children:"Using your left eye, focus on the black square. Keep your focus on the black square."}),b.jsxs(ji.Item,{children:["The",b.jsx("span",{style:{color:"red",fontWeight:"bold"},children:"red ball"})," ","will disappear as it moves from right to left. Press the space bar as soon as the ball disappears."]})]}),b.jsx($e,{ta:"center",fw:600,children:u.length>=5?"All measurements completed!":"Press the space bar when you are ready to begin."})]}),b.jsxs("div",{style:{position:"relative",width:"900px",height:"100px",backgroundColor:"#ffffff"},children:[b.jsx("div",{ref:n,style:{position:"absolute",width:"30px",height:"30px",backgroundColor:"rgb(255, 0, 0)",borderRadius:"30px",left:"740px"}}),b.jsx("div",{ref:r,style:{position:"absolute",width:"30px",height:"30px",backgroundColor:"rgb(0, 0, 0)",left:"870px"}})]}),b.jsxs($e,{ta:"center",children:["Remaining measurements:"," ",5-u.length]}),u.length>0&&b.jsxs(b.Fragment,{children:[b.jsx($e,{ta:"left",children:' Not happy with your measurements? You can restart by clicking "Retake".'}),b.jsx(Mt,{size:"md-compact",w:"fit-content",color:"indigo",onClick:E,children:"Retake"})]}),h&&b.jsxs(Nn,{gap:"xs",children:[b.jsx($e,{fw:700,size:"lg",children:"Viewing Distance Results"}),b.jsxs($e,{children:["Estimated Viewing Distance:"," ",(h/10).toFixed(1)," ","cm"]})]})]})}):b.jsx("div",{children:"Please complete card calibration first."})}const c_e=Object.freeze(Object.defineProperty({__proto__:null,default:Rut},Symbol.toStringTag,{value:"Module"})),Iut="/template/assets/card-DV7KyiWu.png",Dut=(e,t)=>Math.round(e*t);function Put({parameters:e,setAnswer:t,itemWidthMM:n=85.6,itemHeightMM:r=53.98,fixedCorner:i="top-left"}){const[o,s]=A.useState(300),[a,l]=A.useState(!1),[u,c]=A.useState({min:100,max:500}),[d,f]=A.useState(!1),[h,m]=A.useState(!1),{taskid:p}=e,g=o/n,v=A.useRef(null),y=r/n;A.useEffect(()=>{const S=()=>{const T=window.innerWidth;c({min:Math.round(T*.1),max:Math.round(T*.8)})};return S(),window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]);const w=S=>{s(S),f(!0),m(!1)},_=()=>{if(v.current){if(!d){m(!0);return}t({status:!0,answers:{[p]:g}}),l(!0)}},E=()=>({position:"relative",width:"100%",display:"flex",justifyContent:i.includes("right")?"flex-end":"flex-start",alignItems:i.includes("bottom")?"flex-end":"flex-start"});return b.jsxs(Nn,{gap:"lg",children:[b.jsx($e,{size:"md",children:" Drag the slider until the image is the same size as a credit card held up to the screen."}),b.jsx($e,{size:"md",children:" You can use any card that is the same size as a credit card, like a membership card or driver's license."}),b.jsx($e,{size:"md",children:" If you do not have access to a real card, you can use a ruler to measure the image width to 3.37 inches or 85.6mm. "}),b.jsx($e,{size:"md",children:' Once you are finished, click "Confirm Size" and then "Next". '}),b.jsx(K4,{min:u.min,max:u.max,value:o,label:null,onChange:w,styles:{root:{width:"100%"},track:{cursor:"pointer"},thumb:{cursor:"grab"},bar:{cursor:"pointer"}}}),b.jsx("div",{style:E(),children:b.jsx("div",{ref:v,style:{width:`${o}px`,height:`${Dut(o,y)}px`,overflow:"hidden"},children:b.jsx("img",{src:Iut,alt:"Credit Card",style:{width:"100%",height:"100%",objectFit:"contain"}})})}),a&&b.jsxs("div",{style:{textAlign:"center",color:"green"},children:["Calibration Complete - Pixels per MM:"," ",g?.toFixed(2)]}),h&&b.jsx($e,{c:"red",size:"md",fw:500,children:"Please move the slider to calibrate before confirming."}),b.jsx(Mt,{onClick:_,size:"lg",variant:"transparent",children:"Confirm Size"})]})}const d_e=Object.freeze(Object.defineProperty({__proto__:null,default:Put},Symbol.toStringTag,{value:"Module"}));function Pp(e){if(!e)return{step:null,funcIndex:null};const[t,n]=e.split("_"),r=Number.parseInt(t,10),i=n===void 0?null:Number.parseInt(n,10);return{step:Number.isFinite(r)?r:null,funcIndex:i!==null&&Number.isFinite(i)?i:null}}function uf(){const{studyId:e}=Mo();return`${e}`}function cf(){const{index:e}=Mo(),t=Hn(a=>a.answers),n=A.useMemo(()=>e===void 0?0:e.startsWith("reviewer-")||e.startsWith("__")?e:Ld(e),[e]),[r]=au(),i=r.get("currentTrial")||"",o=i?t[i]?.trialOrder:void 0,{step:s}=Pp(o);return i&&s!==null?s:n}const yae=Object.assign({"../public/libraries/adaptive-vlat/assets/VlatTrial.tsx":RCe,"../public/libraries/adaptive-vlat/assets/dynamic.tsx":PCe,"../public/libraries/adaptive-vlat/assets/utils.ts":DCe,"../public/libraries/adaptive-vlat/assets/vlatQ.tsx":ACe,"../public/libraries/berlin-num/assets/dynamic.tsx":OCe,"../public/libraries/mic-check/assets/AudioTest.tsx":NCe,"../public/libraries/screen-recording/assets/ScreenRecording.tsx":l_e,"../public/libraries/test/assets/test.tsx":u_e,"../public/libraries/virtual-chinrest/assets/ViewingDistanceCalibration.tsx":c_e,"../public/libraries/virtual-chinrest/assets/VirtualChinrestCalibration.tsx":d_e});function df(){const{funcIndex:e}=Mo(),t=Hn(_=>_.answers),[n]=au(),r=Ga(),i=cf(),o=hC(),s=ca(),a=uf(),l=bo(),{pushToFuncSequence:u}=Qi(),c=n.get("currentTrial")||"",d=c?t[c]?.trialOrder:void 0,{step:f,funcIndex:h}=Pp(d),[m,p]=A.useState(null),g=A.useMemo(()=>typeof i=="number"?Ise(o[i],r):i.includes("reviewer-")||i.startsWith("__")?i:null,[i,o,r]),[v,y]=A.useState("__dynamicLoading"),w=A.useMemo(()=>{if(typeof i=="number"&&!g){const _=gz(o[i],r.sequence);if(!_)return null;const E=`../public/${_.functionPath}`;return E in yae?yae[E].default:null}return null},[g,i,o,r.sequence]);return A.useEffect(()=>{!e&&w&&typeof i=="number"&&s(`/${a}/${di(i)}/${di(f===i&&h!==null?h:0)}${window.location.search}`)},[i,h,f,e,s,w,a]),A.useEffect(()=>{if(typeof i!="number"||f===null||f!==i||!e)return;const _=Ld(e);if(h===null){s(`/${a}/${di(i)}${window.location.search}`);return}_!==h&&s(`/${a}/${di(i)}/${di(h)}${window.location.search}`)},[i,h,f,e,s,a]),A.useEffect(()=>{if(typeof i=="number"){const _=Ise(o[i],r),E=o[i],S=e?Ld(e):0,T=Object.entries(t).find(([R,I])=>R.startsWith(`${E}_${i}_`)&&R.endsWith(`${S}`)),k=T?T[1].componentName:null;if(k!==null){y(k),p(S);return}if(!_&&w!==null){const{component:R,parameters:I,correctAnswer:P}=w({answers:t,customParameters:gz(o[i],r.sequence)?.parameters,currentStep:i,currentBlock:o[i]});R!==null?e&&(y(R),p(S),l(u({component:R,funcName:E,index:i,funcIndex:S,parameters:I||void 0,correctAnswer:P||void 0}))):(y("__dynamicLoading"),p(null),s(`/${a}/${di(i+1)}${window.location.search}`))}}},[i,e]),typeof i=="number"&&o[i]==="end"?"end":g?typeof i=="number"?o[i]:i.replace("reviewer-",""):m!==null&&e&&Ld(e)===m?v:"__dynamicLoading"}function Nm(){const e=cf(),t=hC(),n=df(),{funcIndex:r}=Mo();return A.useMemo(()=>r&&typeof e=="number"?`${t[e]}_${e}_${n}_${Ld(r)}`:`${n}_${e}`,[n,e,r,t])}var TE={exports:{}};TE.exports;var vae;function Out(){return vae||(vae=1,(function(e,t){var n=200,r="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Function]",m="[object GeneratorFunction]",p="[object Map]",g="[object Number]",v="[object Null]",y="[object Object]",w="[object Promise]",_="[object Proxy]",E="[object RegExp]",S="[object Set]",T="[object String]",k="[object Symbol]",R="[object Undefined]",I="[object WeakMap]",P="[object ArrayBuffer]",N="[object DataView]",M="[object Float32Array]",O="[object Float64Array]",j="[object Int8Array]",U="[object Int16Array]",q="[object Int32Array]",W="[object Uint8Array]",V="[object Uint8ClampedArray]",z="[object Uint16Array]",L="[object Uint32Array]",H=/[\\^$.*+?()[\]{}|]/g,B=/^\[object .+?Constructor\]$/,Y=/^(?:0|[1-9]\d*)$/,Q={};Q[M]=Q[O]=Q[j]=Q[U]=Q[q]=Q[W]=Q[V]=Q[z]=Q[L]=!0,Q[a]=Q[l]=Q[P]=Q[c]=Q[N]=Q[d]=Q[f]=Q[h]=Q[p]=Q[g]=Q[y]=Q[E]=Q[S]=Q[T]=Q[I]=!1;var ne=typeof xi=="object"&&xi&&xi.Object===Object&&xi,ce=typeof self=="object"&&self&&self.Object===Object&&self,le=ne||ce||Function("return this")(),ue=t&&!t.nodeType&&t,ae=ue&&!0&&e&&!e.nodeType&&e,te=ae&&ae.exports===ue,se=te&&ne.process,we=(function(){try{return se&&se.binding&&se.binding("util")}catch{}})(),X=we&&we.isTypedArray;function he(Ee,oe){for(var ve=-1,Le=Ee==null?0:Ee.length,St=0,Dt=[];++ve<Le;){var fn=Ee[ve];oe(fn,ve,Ee)&&(Dt[St++]=fn)}return Dt}function ge(Ee,oe){for(var ve=-1,Le=oe.length,St=Ee.length;++ve<Le;)Ee[St+ve]=oe[ve];return Ee}function re(Ee,oe){for(var ve=-1,Le=Ee==null?0:Ee.length;++ve<Le;)if(oe(Ee[ve],ve,Ee))return!0;return!1}function ee(Ee,oe){for(var ve=-1,Le=Array(Ee);++ve<Ee;)Le[ve]=oe(ve);return Le}function fe(Ee){return function(oe){return Ee(oe)}}function Re(Ee,oe){return Ee.has(oe)}function Oe(Ee,oe){return Ee?.[oe]}function Ae(Ee){var oe=-1,ve=Array(Ee.size);return Ee.forEach(function(Le,St){ve[++oe]=[St,Le]}),ve}function Se(Ee,oe){return function(ve){return Ee(oe(ve))}}function xe(Ee){var oe=-1,ve=Array(Ee.size);return Ee.forEach(function(Le){ve[++oe]=Le}),ve}var ke=Array.prototype,me=Function.prototype,Me=Object.prototype,ze=le["__core-js_shared__"],Xe=me.toString,tt=Me.hasOwnProperty,gt=(function(){var Ee=/[^.]+$/.exec(ze&&ze.keys&&ze.keys.IE_PROTO||"");return Ee?"Symbol(src)_1."+Ee:""})(),qt=Me.toString,zt=RegExp("^"+Xe.call(tt).replace(H,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_n=te?le.Buffer:void 0,$t=le.Symbol,dn=le.Uint8Array,Vn=Me.propertyIsEnumerable,Ln=ke.splice,Tr=$t?$t.toStringTag:void 0,Xn=Object.getOwnPropertySymbols,mr=_n?_n.isBuffer:void 0,En=Se(Object.keys,Object),nn=sr(le,"DataView"),rr=sr(le,"Map"),ii=sr(le,"Promise"),br=sr(le,"Set"),Sn=sr(le,"WeakMap"),ht=sr(Object,"create"),cr=Si(nn),Ut=Si(rr),Zn=Si(ii),sn=Si(br),Yn=Si(Sn),wr=$t?$t.prototype:void 0,kr=wr?wr.valueOf:void 0;function Ar(Ee){var oe=-1,ve=Ee==null?0:Ee.length;for(this.clear();++oe<ve;){var Le=Ee[oe];this.set(Le[0],Le[1])}}function Qo(){this.__data__=ht?ht(null):{},this.size=0}function fa(Ee){var oe=this.has(Ee)&&delete this.__data__[Ee];return this.size-=oe?1:0,oe}function du(Ee){var oe=this.__data__;if(ht){var ve=oe[Ee];return ve===r?void 0:ve}return tt.call(oe,Ee)?oe[Ee]:void 0}function Ju(Ee){var oe=this.__data__;return ht?oe[Ee]!==void 0:tt.call(oe,Ee)}function Fn(Ee,oe){var ve=this.__data__;return this.size+=this.has(Ee)?0:1,ve[Ee]=ht&&oe===void 0?r:oe,this}Ar.prototype.clear=Qo,Ar.prototype.delete=fa,Ar.prototype.get=du,Ar.prototype.has=Ju,Ar.prototype.set=Fn;function Ni(Ee){var oe=-1,ve=Ee==null?0:Ee.length;for(this.clear();++oe<ve;){var Le=Ee[oe];this.set(Le[0],Le[1])}}function Jo(){this.__data__=[],this.size=0}function Tf(Ee){var oe=this.__data__,ve=Ce(oe,Ee);if(ve<0)return!1;var Le=oe.length-1;return ve==Le?oe.pop():Ln.call(oe,ve,1),--this.size,!0}function Zc(Ee){var oe=this.__data__,ve=Ce(oe,Ee);return ve<0?void 0:oe[ve][1]}function Zu(Ee){return Ce(this.__data__,Ee)>-1}function ec(Ee,oe){var ve=this.__data__,Le=Ce(ve,Ee);return Le<0?(++this.size,ve.push([Ee,oe])):ve[Le][1]=oe,this}Ni.prototype.clear=Jo,Ni.prototype.delete=Tf,Ni.prototype.get=Zc,Ni.prototype.has=Zu,Ni.prototype.set=ec;function Zo(Ee){var oe=-1,ve=Ee==null?0:Ee.length;for(this.clear();++oe<ve;){var Le=Ee[oe];this.set(Le[0],Le[1])}}function kf(){this.size=0,this.__data__={hash:new Ar,map:new(rr||Ni),string:new Ar}}function fu(Ee){var oe=Wt(this,Ee).delete(Ee);return this.size-=oe?1:0,oe}function dr(Ee){return Wt(this,Ee).get(Ee)}function ed(Ee){return Wt(this,Ee).has(Ee)}function wo(Ee,oe){var ve=Wt(this,Ee),Le=ve.size;return ve.set(Ee,oe),this.size+=ve.size==Le?0:1,this}Zo.prototype.clear=kf,Zo.prototype.delete=fu,Zo.prototype.get=dr,Zo.prototype.has=ed,Zo.prototype.set=wo;function hs(Ee){var oe=-1,ve=Ee==null?0:Ee.length;for(this.__data__=new Zo;++oe<ve;)this.add(Ee[oe])}function xo(Ee){return this.__data__.set(Ee,r),this}function hu(Ee){return this.__data__.has(Ee)}hs.prototype.add=hs.prototype.push=xo,hs.prototype.has=hu;function js(Ee){var oe=this.__data__=new Ni(Ee);this.size=oe.size}function Al(){this.__data__=new Ni,this.size=0}function Co(Ee){var oe=this.__data__,ve=oe.delete(Ee);return this.size=oe.size,ve}function Af(Ee){return this.__data__.get(Ee)}function _o(Ee){return this.__data__.has(Ee)}function pe(Ee,oe){var ve=this.__data__;if(ve instanceof Ni){var Le=ve.__data__;if(!rr||Le.length<n-1)return Le.push([Ee,oe]),this.size=++ve.size,this;ve=this.__data__=new Zo(Le)}return ve.set(Ee,oe),this.size=ve.size,this}js.prototype.clear=Al,js.prototype.delete=Co,js.prototype.get=Af,js.prototype.has=_o,js.prototype.set=pe;function Ne(Ee,oe){var ve=Uo(Ee),Le=!ve&&nc(Ee),St=!ve&&!Le&&Df(Ee),Dt=!ve&&!Le&&!St&&pu(Ee),fn=ve||Le||St||Dt,Mn=fn?ee(Ee.length,String):[],Kt=Mn.length;for(var yn in Ee)tt.call(Ee,yn)&&!(fn&&(yn=="length"||St&&(yn=="offset"||yn=="parent")||Dt&&(yn=="buffer"||yn=="byteLength"||yn=="byteOffset")||Rf(yn,Kt)))&&Mn.push(yn);return Mn}function Ce(Ee,oe){for(var ve=Ee.length;ve--;)if(ps(Ee[ve][0],oe))return ve;return-1}function Be(Ee,oe,ve){var Le=oe(Ee);return Uo(Ee)?Le:ge(Le,ve(Ee))}function He(Ee){return Ee==null?Ee===void 0?R:v:Tr&&Tr in Object(Ee)?Eo(Ee):Mi(Ee)}function je(Ee){return Bs(Ee)&&He(Ee)==a}function rt(Ee,oe,ve,Le,St){return Ee===oe?!0:Ee==null||oe==null||!Bs(Ee)&&!Bs(oe)?Ee!==Ee&&oe!==oe:ut(Ee,oe,ve,Le,rt,St)}function ut(Ee,oe,ve,Le,St,Dt){var fn=Uo(Ee),Mn=Uo(oe),Kt=fn?l:So(Ee),yn=Mn?l:So(oe);Kt=Kt==a?y:Kt,yn=yn==a?y:yn;var or=Kt==y,Yr=yn==y,oi=Kt==yn;if(oi&&Df(Ee)){if(!Df(oe))return!1;fn=!0,or=!1}if(oi&&!or)return Dt||(Dt=new js),fn||pu(Ee)?jt(Ee,oe,ve,Le,St,Dt):Pn(Ee,oe,Kt,ve,Le,St,Dt);if(!(ve&i)){var wi=or&&tt.call(Ee,"__wrapped__"),co=Yr&&tt.call(oe,"__wrapped__");if(wi||co){var si=wi?Ee.value():Ee,To=co?oe.value():oe;return Dt||(Dt=new js),St(si,To,ve,Le,Dt)}}return oi?(Dt||(Dt=new js),Xt(Ee,oe,ve,Le,St,Dt)):!1}function pt(Ee){if(!Pf(Ee)||If(Ee))return!1;var oe=to(Ee)?zt:B;return oe.test(Si(Ee))}function ft(Ee){return Bs(Ee)&&Vm(Ee.length)&&!!Q[He(Ee)]}function _t(Ee){if(!es(Ee))return En(Ee);var oe=[];for(var ve in Object(Ee))tt.call(Ee,ve)&&ve!="constructor"&&oe.push(ve);return oe}function jt(Ee,oe,ve,Le,St,Dt){var fn=ve&i,Mn=Ee.length,Kt=oe.length;if(Mn!=Kt&&!(fn&&Kt>Mn))return!1;var yn=Dt.get(Ee);if(yn&&Dt.get(oe))return yn==oe;var or=-1,Yr=!0,oi=ve&o?new hs:void 0;for(Dt.set(Ee,oe),Dt.set(oe,Ee);++or<Mn;){var wi=Ee[or],co=oe[or];if(Le)var si=fn?Le(co,wi,or,oe,Ee,Dt):Le(wi,co,or,Ee,oe,Dt);if(si!==void 0){if(si)continue;Yr=!1;break}if(oi){if(!re(oe,function(To,Il){if(!Re(oi,Il)&&(wi===To||St(wi,To,ve,Le,Dt)))return oi.push(Il)})){Yr=!1;break}}else if(!(wi===co||St(wi,co,ve,Le,Dt))){Yr=!1;break}}return Dt.delete(Ee),Dt.delete(oe),Yr}function Pn(Ee,oe,ve,Le,St,Dt,fn){switch(ve){case N:if(Ee.byteLength!=oe.byteLength||Ee.byteOffset!=oe.byteOffset)return!1;Ee=Ee.buffer,oe=oe.buffer;case P:return!(Ee.byteLength!=oe.byteLength||!Dt(new dn(Ee),new dn(oe)));case c:case d:case g:return ps(+Ee,+oe);case f:return Ee.name==oe.name&&Ee.message==oe.message;case E:case T:return Ee==oe+"";case p:var Mn=Ae;case S:var Kt=Le&i;if(Mn||(Mn=xe),Ee.size!=oe.size&&!Kt)return!1;var yn=fn.get(Ee);if(yn)return yn==oe;Le|=o,fn.set(Ee,oe);var or=jt(Mn(Ee),Mn(oe),Le,St,Dt,fn);return fn.delete(Ee),or;case k:if(kr)return kr.call(Ee)==kr.call(oe)}return!1}function Xt(Ee,oe,ve,Le,St,Dt){var fn=ve&i,Mn=Qn(Ee),Kt=Mn.length,yn=Qn(oe),or=yn.length;if(Kt!=or&&!fn)return!1;for(var Yr=Kt;Yr--;){var oi=Mn[Yr];if(!(fn?oi in oe:tt.call(oe,oi)))return!1}var wi=Dt.get(Ee);if(wi&&Dt.get(oe))return wi==oe;var co=!0;Dt.set(Ee,oe),Dt.set(oe,Ee);for(var si=fn;++Yr<Kt;){oi=Mn[Yr];var To=Ee[oi],Il=oe[oi];if(Le)var mu=fn?Le(Il,To,oi,oe,Ee,Dt):Le(To,Il,oi,Ee,oe,Dt);if(!(mu===void 0?To===Il||St(To,Il,ve,Le,Dt):mu)){co=!1;break}si||(si=oi=="constructor")}if(co&&!si){var Gm=Ee.constructor,td=oe.constructor;Gm!=td&&"constructor"in Ee&&"constructor"in oe&&!(typeof Gm=="function"&&Gm instanceof Gm&&typeof td=="function"&&td instanceof td)&&(co=!1)}return Dt.delete(Ee),Dt.delete(oe),co}function Qn(Ee){return Be(Ee,Wm,ha)}function Wt(Ee,oe){var ve=Ee.__data__;return tc(oe)?ve[typeof oe=="string"?"string":"hash"]:ve.map}function sr(Ee,oe){var ve=Oe(Ee,oe);return pt(ve)?ve:void 0}function Eo(Ee){var oe=tt.call(Ee,Tr),ve=Ee[Tr];try{Ee[Tr]=void 0;var Le=!0}catch{}var St=qt.call(Ee);return Le&&(oe?Ee[Tr]=ve:delete Ee[Tr]),St}var ha=Xn?function(Ee){return Ee==null?[]:(Ee=Object(Ee),he(Xn(Ee),function(oe){return Vn.call(Ee,oe)}))}:Ya,So=He;(nn&&So(new nn(new ArrayBuffer(1)))!=N||rr&&So(new rr)!=p||ii&&So(ii.resolve())!=w||br&&So(new br)!=S||Sn&&So(new Sn)!=I)&&(So=function(Ee){var oe=He(Ee),ve=oe==y?Ee.constructor:void 0,Le=ve?Si(ve):"";if(Le)switch(Le){case cr:return N;case Ut:return p;case Zn:return w;case sn:return S;case Yn:return I}return oe});function Rf(Ee,oe){return oe=oe??s,!!oe&&(typeof Ee=="number"||Y.test(Ee))&&Ee>-1&&Ee%1==0&&Ee<oe}function tc(Ee){var oe=typeof Ee;return oe=="string"||oe=="number"||oe=="symbol"||oe=="boolean"?Ee!=="__proto__":Ee===null}function If(Ee){return!!gt&&gt in Ee}function es(Ee){var oe=Ee&&Ee.constructor,ve=typeof oe=="function"&&oe.prototype||Me;return Ee===ve}function Mi(Ee){return qt.call(Ee)}function Si(Ee){if(Ee!=null){try{return Xe.call(Ee)}catch{}try{return Ee+""}catch{}}return""}function ps(Ee,oe){return Ee===oe||Ee!==Ee&&oe!==oe}var nc=je((function(){return arguments})())?je:function(Ee){return Bs(Ee)&&tt.call(Ee,"callee")&&!Vn.call(Ee,"callee")},Uo=Array.isArray;function pa(Ee){return Ee!=null&&Vm(Ee.length)&&!to(Ee)}var Df=mr||ma;function Rl(Ee,oe){return rt(Ee,oe)}function to(Ee){if(!Pf(Ee))return!1;var oe=He(Ee);return oe==h||oe==m||oe==u||oe==_}function Vm(Ee){return typeof Ee=="number"&&Ee>-1&&Ee%1==0&&Ee<=s}function Pf(Ee){var oe=typeof Ee;return Ee!=null&&(oe=="object"||oe=="function")}function Bs(Ee){return Ee!=null&&typeof Ee=="object"}var pu=X?fe(X):ft;function Wm(Ee){return pa(Ee)?Ne(Ee):_t(Ee)}function Ya(){return[]}function ma(){return!1}e.exports=Rl})(TE,TE.exports)),TE.exports}var Nut=Out();const z3=Xo(Nut);function _d(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(i){return"'"+i+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function p0(e){return!!e&&!!e[Yi]}function um(e){var t;return!!e&&((function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===Hut})(e)||Array.isArray(e)||!!e[Sae]||!!(!((t=e.constructor)===null||t===void 0)&&t[Sae])||WG(e)||GG(e))}function Uv(e,t,n){n===void 0&&(n=!1),pC(e)===0?(n?Object.keys:Iw)(e).forEach((function(r){n&&typeof r=="symbol"||t(r,e[r],e)})):e.forEach((function(r,i){return t(i,r,e)}))}function pC(e){var t=e[Yi];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:WG(e)?2:GG(e)?3:0}function Rw(e,t){return pC(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Mut(e,t){return pC(e)===2?e.get(t):e[t]}function f_e(e,t,n){var r=pC(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function h_e(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function WG(e){return zut&&e instanceof Map}function GG(e){return Uut&&e instanceof Set}function Hy(e){return e.o||e.t}function YG(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=m_e(e);delete t[Yi];for(var n=Iw(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function KG(e,t){return t===void 0&&(t=!1),XG(e)||p0(e)||!um(e)||(pC(e)>1&&(e.set=e.add=e.clear=e.delete=$ut),Object.freeze(e),t&&Uv(e,(function(n,r){return KG(r,!0)}),!0)),e}function $ut(){_d(2)}function XG(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function dh(e){var t=wz[e];return t||_d(18,e),t}function Lut(e,t){wz[e]||(wz[e]=t)}function yz(){return p2}function u8(e,t){t&&(dh("Patches"),e.u=[],e.s=[],e.v=t)}function U3(e){vz(e),e.p.forEach(Fut),e.p=null}function vz(e){e===p2&&(p2=e.l)}function bae(e){return p2={p:[],l:p2,h:e,m:!0,_:0}}function Fut(e){var t=e[Yi];t.i===0||t.i===1?t.j():t.g=!0}function c8(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||dh("ES5").S(t,e,r),r?(n[Yi].P&&(U3(t),_d(4)),um(e)&&(e=H3(t,e),t.l||q3(t,e)),t.u&&dh("Patches").M(n[Yi].t,e,t.u,t.s)):e=H3(t,n,[]),U3(t),t.u&&t.v(t.u,t.s),e!==p_e?e:void 0}function H3(e,t,n){if(XG(t))return t;var r=t[Yi];if(!r)return Uv(t,(function(a,l){return wae(e,r,t,a,l,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return q3(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=YG(r.k):r.o,o=i,s=!1;r.i===3&&(o=new Set(i),i.clear(),s=!0),Uv(o,(function(a,l){return wae(e,r,i,a,l,n,s)})),q3(e,i,!1),n&&e.u&&dh("Patches").N(r,n,e.u,e.s)}return r.o}function wae(e,t,n,r,i,o,s){if(p0(i)){var a=H3(e,i,o&&t&&t.i!==3&&!Rw(t.R,r)?o.concat(r):void 0);if(f_e(n,r,a),!p0(a))return;e.m=!1}else s&&n.add(i);if(um(i)&&!XG(i)){if(!e.h.D&&e._<1)return;H3(e,i),t&&t.A.l||q3(e,i)}}function q3(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&KG(t,n)}function d8(e,t){var n=e[Yi];return(n?Hy(n):e)[t]}function xae(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Ng(e){e.P||(e.P=!0,e.l&&Ng(e.l))}function f8(e){e.o||(e.o=YG(e.t))}function bz(e,t,n){var r=WG(t)?dh("MapSet").F(t,n):GG(t)?dh("MapSet").T(t,n):e.O?(function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:yz(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=a,u=m2;s&&(l=[a],u=kE);var c=Proxy.revocable(l,u),d=c.revoke,f=c.proxy;return a.k=f,a.j=d,f})(t,n):dh("ES5").J(t,n);return(n?n.A:yz()).p.push(r),r}function jut(e){return p0(e)||_d(22,e),(function t(n){if(!um(n))return n;var r,i=n[Yi],o=pC(n);if(i){if(!i.P&&(i.i<4||!dh("ES5").K(i)))return i.t;i.I=!0,r=Cae(n,o),i.I=!1}else r=Cae(n,o);return Uv(r,(function(s,a){i&&Mut(i.t,s)===a||f_e(r,s,t(a))})),o===3?new Set(r):r})(e)}function Cae(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return YG(e)}function But(){function e(o,s){var a=i[o];return a?a.enumerable=s:i[o]=a={configurable:!0,enumerable:s,get:function(){var l=this[Yi];return m2.get(l,o)},set:function(l){var u=this[Yi];m2.set(u,o,l)}},a}function t(o){for(var s=o.length-1;s>=0;s--){var a=o[s][Yi];if(!a.P)switch(a.i){case 5:r(a)&&Ng(a);break;case 4:n(a)&&Ng(a)}}}function n(o){for(var s=o.t,a=o.k,l=Iw(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==Yi){var d=s[c];if(d===void 0&&!Rw(s,c))return!0;var f=a[c],h=f&&f[Yi];if(h?h.t!==d:!h_e(f,d))return!0}}var m=!!s[Yi];return l.length!==Iw(s).length+(m?0:1)}function r(o){var s=o.k;if(s.length!==o.t.length)return!0;var a=Object.getOwnPropertyDescriptor(s,s.length-1);if(a&&!a.get)return!0;for(var l=0;l<s.length;l++)if(!s.hasOwnProperty(l))return!0;return!1}var i={};Lut("ES5",{J:function(o,s){var a=Array.isArray(o),l=(function(c,d){if(c){for(var f=Array(d.length),h=0;h<d.length;h++)Object.defineProperty(f,""+h,e(h,!0));return f}var m=m_e(d);delete m[Yi];for(var p=Iw(m),g=0;g<p.length;g++){var v=p[g];m[v]=e(v,c||!!m[v].enumerable)}return Object.create(Object.getPrototypeOf(d),m)})(a,o),u={i:a?5:4,A:s?s.A:yz(),P:!1,I:!1,R:{},l:s,t:o,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,Yi,{value:u,writable:!0}),l},S:function(o,s,a){a?p0(s)&&s[Yi].A===o&&t(o.p):(o.u&&(function l(u){if(u&&typeof u=="object"){var c=u[Yi];if(c){var d=c.t,f=c.k,h=c.R,m=c.i;if(m===4)Uv(f,(function(w){w!==Yi&&(d[w]!==void 0||Rw(d,w)?h[w]||l(f[w]):(h[w]=!0,Ng(c)))})),Uv(d,(function(w){f[w]!==void 0||Rw(f,w)||(h[w]=!1,Ng(c))}));else if(m===5){if(r(c)&&(Ng(c),h.length=!0),f.length<d.length)for(var p=f.length;p<d.length;p++)h[p]=!1;else for(var g=d.length;g<f.length;g++)h[g]=!0;for(var v=Math.min(f.length,d.length),y=0;y<v;y++)f.hasOwnProperty(y)||(h[y]=!0),h[y]===void 0&&l(f[y])}}}})(o.p[0]),t(o.p))},K:function(o){return o.i===4?n(o):r(o)}})}var _ae,p2,QG=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",zut=typeof Map<"u",Uut=typeof Set<"u",Eae=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",p_e=QG?Symbol.for("immer-nothing"):((_ae={})["immer-nothing"]=!0,_ae),Sae=QG?Symbol.for("immer-draftable"):"__$immer_draftable",Yi=QG?Symbol.for("immer-state"):"__$immer_state",Hut=""+Object.prototype.constructor,Iw=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,m_e=Object.getOwnPropertyDescriptors||function(e){var t={};return Iw(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},wz={},m2={get:function(e,t){if(t===Yi)return e;var n=Hy(e);if(!Rw(n,t))return(function(i,o,s){var a,l=xae(o,s);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0})(e,n,t);var r=n[t];return e.I||!um(r)?r:r===d8(e.t,t)?(f8(e),e.o[t]=bz(e.A.h,r,e)):r},has:function(e,t){return t in Hy(e)},ownKeys:function(e){return Reflect.ownKeys(Hy(e))},set:function(e,t,n){var r=xae(Hy(e),t);if(r?.set)return r.set.call(e.k,n),!0;if(!e.P){var i=d8(Hy(e),t),o=i?.[Yi];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(h_e(n,i)&&(n!==void 0||Rw(e.t,t)))return!0;f8(e),Ng(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return d8(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,f8(e),Ng(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Hy(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){_d(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){_d(12)}},kE={};Uv(m2,(function(e,t){kE[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),kE.deleteProperty=function(e,t){return kE.set.call(this,e,t,void 0)},kE.set=function(e,t,n){return m2.set.call(this,e[0],t,n,e[0])};var qut=(function(){function e(n){var r=this;this.O=Eae,this.D=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var l=r;return function(p){var g=this;p===void 0&&(p=a);for(var v=arguments.length,y=Array(v>1?v-1:0),w=1;w<v;w++)y[w-1]=arguments[w];return l.produce(p,(function(_){var E;return(E=o).call.apply(E,[g,_].concat(y))}))}}var u;if(typeof o!="function"&&_d(6),s!==void 0&&typeof s!="function"&&_d(7),um(i)){var c=bae(r),d=bz(r,i,void 0),f=!0;try{u=o(d),f=!1}finally{f?U3(c):vz(c)}return typeof Promise<"u"&&u instanceof Promise?u.then((function(p){return u8(c,s),c8(p,c)}),(function(p){throw U3(c),p})):(u8(c,s),c8(u,c))}if(!i||typeof i!="object"){if((u=o(i))===void 0&&(u=i),u===p_e&&(u=void 0),r.D&&KG(u,!0),s){var h=[],m=[];dh("Patches").M(i,u,h,m),s(h,m)}return u}_d(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return r.produceWithPatches(u,(function(h){return i.apply(void 0,[h].concat(d))}))};var s,a,l=r.produce(i,o,(function(u,c){s=u,a=c}));return typeof Promise<"u"&&l instanceof Promise?l.then((function(u){return[u,s,a]})):[l,s,a]},typeof n?.useProxies=="boolean"&&this.setUseProxies(n.useProxies),typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){um(n)||_d(8),p0(n)&&(n=jut(n));var r=bae(this),i=bz(this,n,void 0);return i[Yi].C=!0,vz(r),i},t.finishDraft=function(n,r){var i=n&&n[Yi],o=i.A;return u8(o,r),c8(void 0,o)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!Eae&&_d(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=dh("Patches").$;return p0(n)?s(n,r):this.produce(n,(function(a){return s(a,r)}))},e})(),Uu=new qut,g_e=Uu.produce;Uu.produceWithPatches.bind(Uu);Uu.setAutoFreeze.bind(Uu);Uu.setUseProxies.bind(Uu);Uu.applyPatches.bind(Uu);Uu.createDraft.bind(Uu);Uu.finishDraft.bind(Uu);function g2(e){"@babel/helpers - typeof";return g2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g2(e)}function Vut(e,t){if(g2(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(g2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wut(e){var t=Vut(e,"string");return g2(t)=="symbol"?t:t+""}function Gut(e,t,n){return(t=Wut(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tae(Object(n),!0).forEach(function(r){Gut(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tae(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ta(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Aae=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),h8=function(){return Math.random().toString(36).substring(7).split("").join(".")},V3={INIT:"@@redux/INIT"+h8(),REPLACE:"@@redux/REPLACE"+h8(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+h8()}};function Yut(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function y_e(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ta(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ta(1));return n(y_e)(e,t)}if(typeof e!="function")throw new Error(Ta(2));var i=e,o=t,s=[],a=s,l=!1;function u(){a===s&&(a=s.slice())}function c(){if(l)throw new Error(Ta(3));return o}function d(p){if(typeof p!="function")throw new Error(Ta(4));if(l)throw new Error(Ta(5));var g=!0;return u(),a.push(p),function(){if(g){if(l)throw new Error(Ta(6));g=!1,u();var y=a.indexOf(p);a.splice(y,1),s=null}}}function f(p){if(!Yut(p))throw new Error(Ta(7));if(typeof p.type>"u")throw new Error(Ta(8));if(l)throw new Error(Ta(9));try{l=!0,o=i(o,p)}finally{l=!1}for(var g=s=a,v=0;v<g.length;v++){var y=g[v];y()}return p}function h(p){if(typeof p!="function")throw new Error(Ta(10));i=p,f({type:V3.REPLACE})}function m(){var p,g=d;return p={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(Ta(11));function w(){y.next&&y.next(c())}w();var _=g(w);return{unsubscribe:_}}},p[Aae]=function(){return this},p}return f({type:V3.INIT}),r={dispatch:f,subscribe:d,getState:c,replaceReducer:h},r[Aae]=m,r}function Kut(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:V3.INIT});if(typeof r>"u")throw new Error(Ta(12));if(typeof n(void 0,{type:V3.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ta(13))})}function Xut(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var o=Object.keys(n),s;try{Kut(n)}catch(a){s=a}return function(l,u){if(l===void 0&&(l={}),s)throw s;for(var c=!1,d={},f=0;f<o.length;f++){var h=o[f],m=n[h],p=l[h],g=m(p,u);if(typeof g>"u")throw u&&u.type,new Error(Ta(14));d[h]=g,c=c||g!==p}return c=c||o.length!==Object.keys(l).length,c?d:l}}function W3(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function Qut(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(Ta(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=t.map(function(l){return l(s)});return o=W3.apply(void 0,a)(i.dispatch),kae(kae({},i),{},{dispatch:o})}}}function v_e(e){var t=function(r){var i=r.dispatch,o=r.getState;return function(s){return function(a){return typeof a=="function"?a(i,o,e):s(a)}}};return t}var xz=v_e();xz.withExtraArgument=v_e;var b_e=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),jT=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Hv=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Jut=Object.defineProperty,Zut=Object.defineProperties,ect=Object.getOwnPropertyDescriptors,Rae=Object.getOwnPropertySymbols,tct=Object.prototype.hasOwnProperty,nct=Object.prototype.propertyIsEnumerable,Iae=function(e,t,n){return t in e?Jut(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},t0=function(e,t){for(var n in t||(t={}))tct.call(t,n)&&Iae(e,n,t[n]);if(Rae)for(var r=0,i=Rae(t);r<i.length;r++){var n=i[r];nct.call(t,n)&&Iae(e,n,t[n])}return e},p8=function(e,t){return Zut(e,ect(t))},BT=function(e,t,n){return new Promise(function(r,i){var o=function(l){try{a(n.next(l))}catch(u){i(u)}},s=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(o,s)};a((n=n.apply(e,t)).next())})},rct=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?W3:W3.apply(null,arguments)};function w_e(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var ict=function(e){return e&&typeof e.match=="function"};function fh(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var o=t.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return t0(t0({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function oct(e){return w_e(e)&&"type"in e}var sct=(function(e){b_e(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Hv([void 0],n[0].concat(this)))):new(t.bind.apply(t,Hv([void 0],n.concat(this))))},t})(Array),act=(function(e){b_e(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Hv([void 0],n[0].concat(this)))):new(t.bind.apply(t,Hv([void 0],n.concat(this))))},t})(Array);function Cz(e){return um(e)?g_e(e,function(){}):e}function lct(e){return typeof e=="boolean"}function uct(){return function(t){return cct(t)}}function cct(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var r=new sct;return n&&(lct(n)?r.push(xz):r.push(xz.withExtraArgument(n.extraArgument))),r}function dct(e){var t=uct(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,o=n.middleware,s=o===void 0?t():o,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,d=n.enhancers,f=d===void 0?void 0:d,h;if(typeof i=="function")h=i;else if(w_e(i))h=Xut(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var m=s;typeof m=="function"&&(m=m(t));var p=Qut.apply(void 0,m),g=W3;l&&(g=rct(t0({trace:!1},typeof l=="object"&&l)));var v=new act(p),y=v;Array.isArray(f)?y=Hv([p],f):typeof f=="function"&&(y=f(v));var w=g.apply(void 0,y);return y_e(h,c,w)}function x_e(e){var t={},n=[],r,i={addCase:function(o,s){var a=typeof o=="string"?o:o.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[a]=s,i},addMatcher:function(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase:function(o){return r=o,i}};return e(i),[t,n,r]}function fct(e){return typeof e=="function"}function hct(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?x_e(t):[t,n,r],o=i[0],s=i[1],a=i[2],l;if(fct(e))l=function(){return Cz(e())};else{var u=Cz(e);l=function(){return u}}function c(d,f){d===void 0&&(d=l());var h=Hv([o[f.type]],s.filter(function(m){var p=m.matcher;return p(f)}).map(function(m){var p=m.reducer;return p}));return h.filter(function(m){return!!m}).length===0&&(h=[a]),h.reduce(function(m,p){if(p)if(p0(m)){var g=m,v=p(g,f);return v===void 0?m:v}else{if(um(m))return g_e(m,function(y){return p(y,f)});var v=p(m,f);if(v===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}return m},d)}return c.getInitialState=l,c}function pct(e,t){return e+"/"+t}function mct(e){var t=e.name,n=typeof e.initialState=="function"?e.initialState:Cz(e.initialState),r=e.reducers||{},i=Object.keys(r),o={},s={},a={};i.forEach(function(c){var d=r[c],f=pct(t,c),h,m;"reducer"in d?(h=d.reducer,m=d.prepare):h=d,o[c]=h,s[f]=h,a[c]=m?fh(f,m):fh(f)});function l(){var c=typeof e.extraReducers=="function"?x_e(e.extraReducers):[e.extraReducers],d=c[0],f=d===void 0?{}:d,h=c[1],m=h===void 0?[]:h,p=c[2],g=p===void 0?void 0:p,v=t0(t0({},f),s);return hct(n,function(y){for(var w in v)y.addCase(w,v[w]);for(var _=0,E=m;_<E.length;_++){var S=E[_];y.addMatcher(S.matcher,S.reducer)}g&&y.addDefaultCase(g)})}var u;return{name:t,reducer:function(c,d){return u||(u=l()),u(c,d)},actions:a,caseReducers:o,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var gct="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",C_e=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=gct[Math.random()*64|0];return t},yct=["name","message","stack","code"],m8=(function(){function e(t,n){this.payload=t,this.meta=n}return e})(),Dae=(function(){function e(t,n){this.payload=t,this.meta=n}return e})(),vct=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=yct;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,n,r){var i=fh(t+"/fulfilled",function(u,c,d,f){return{payload:u,meta:p8(t0({},f||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),o=fh(t+"/pending",function(u,c,d){return{payload:void 0,meta:p8(t0({},d||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),s=fh(t+"/rejected",function(u,c,d,f,h){return{payload:f,error:(r&&r.serializeError||vct)(u||"Rejected"),meta:p8(t0({},h||{}),{arg:d,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:u?.name==="AbortError",condition:u?.name==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:(function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u})();function l(u){return function(c,d,f){var h=r?.idGenerator?r.idGenerator(u):C_e(),m=new a,p;function g(y){p=y,m.abort()}var v=(function(){return BT(this,null,function(){var y,w,_,E,S,T,k;return jT(this,function(R){switch(R.label){case 0:return R.trys.push([0,4,,5]),E=(y=r?.condition)==null?void 0:y.call(r,u,{getState:d,extra:f}),wct(E)?[4,E]:[3,2];case 1:E=R.sent(),R.label=2;case 2:if(E===!1||m.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return S=new Promise(function(I,P){return m.signal.addEventListener("abort",function(){return P({name:"AbortError",message:p||"Aborted"})})}),c(o(h,u,(w=r?.getPendingMeta)==null?void 0:w.call(r,{requestId:h,arg:u},{getState:d,extra:f}))),[4,Promise.race([S,Promise.resolve(n(u,{dispatch:c,getState:d,extra:f,requestId:h,signal:m.signal,abort:g,rejectWithValue:function(I,P){return new m8(I,P)},fulfillWithValue:function(I,P){return new Dae(I,P)}})).then(function(I){if(I instanceof m8)throw I;return I instanceof Dae?i(I.payload,h,u,I.meta):i(I,h,u)})])];case 3:return _=R.sent(),[3,5];case 4:return T=R.sent(),_=T instanceof m8?s(null,h,u,T.payload,T.meta):s(T,h,u),[3,5];case 5:return k=r&&!r.dispatchConditionRejection&&s.match(_)&&_.meta.condition,k||c(_),[2,_]}})})})();return Object.assign(v,{abort:g,requestId:h,arg:u,unwrap:function(){return v.then(bct)}})}}return Object.assign(l,{pending:o,rejected:s,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function bct(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function wct(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var xct=function(e,t){return ict(e)?e.match(t):e(t)};function Pae(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return e.some(function(r){return xct(r,n)})}}var JG=function(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function")},_z=function(){},__e=function(e,t){return t===void 0&&(t=_z),e.catch(t),e},E_e=function(e,t){return e.addEventListener("abort",t,{once:!0}),function(){return e.removeEventListener("abort",t)}},Dw=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Cct="task",S_e="listener",T_e="completed",ZG="cancelled",_ct="task-"+ZG,Ect="task-"+T_e,k_e=S_e+"-"+ZG,Sct=S_e+"-"+T_e,mM=(function(){function e(t){this.code=t,this.name="TaskAbortError",this.message=Cct+" "+ZG+" (reason: "+t+")"}return e})(),Pw=function(e){if(e.aborted)throw new mM(e.reason)};function A_e(e,t){var n=_z;return new Promise(function(r,i){var o=function(){return i(new mM(e.reason))};if(e.aborted){o();return}n=E_e(e,o),t.finally(function(){return n()}).then(r,i)}).finally(function(){n=_z})}var Tct=function(e,t){return BT(void 0,null,function(){var n,r;return jT(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return i.sent(),[4,e()];case 2:return n=i.sent(),[2,{status:"ok",value:n}];case 3:return r=i.sent(),[2,{status:r instanceof mM?"cancelled":"rejected",error:r}];case 4:return t?.(),[7];case 5:return[2]}})})},G3=function(e){return function(t){return __e(A_e(e,t).then(function(n){return Pw(e),n}))}},R_e=function(e){var t=G3(e);return function(n){return t(new Promise(function(r){return setTimeout(r,n)}))}},kct=Object.assign,Oae={},zT="listenerMiddleware",Act=function(e,t){var n=function(r){return E_e(e,function(){return Dw(r,e.reason)})};return function(r,i){JG(r,"taskExecutor");var o=new AbortController;n(o);var s=Tct(function(){return BT(void 0,null,function(){var a;return jT(this,function(l){switch(l.label){case 0:return Pw(e),Pw(o.signal),[4,r({pause:G3(o.signal),delay:R_e(o.signal),signal:o.signal})];case 1:return a=l.sent(),Pw(o.signal),[2,a]}})})},function(){return Dw(o,Ect)});return i?.autoJoin&&t.push(s),{result:G3(e)(s),cancel:function(){Dw(o,_ct)}}}},Rct=function(e,t){var n=function(r,i){return BT(void 0,null,function(){var o,s,a,l;return jT(this,function(u){switch(u.label){case 0:Pw(t),o=function(){},s=new Promise(function(c,d){var f=e({predicate:r,effect:function(h,m){m.unsubscribe(),c([h,m.getState(),m.getOriginalState()])}});o=function(){f(),d()}}),a=[s],i!=null&&a.push(new Promise(function(c){return setTimeout(c,i,null)})),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,A_e(t,Promise.race(a))];case 2:return l=u.sent(),Pw(t),[2,l];case 3:return o(),[7];case 4:return[2]}})})};return function(r,i){return __e(n(r,i))}},I_e=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,o=e.effect;if(t)i=fh(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return JG(o,"options.listener"),{predicate:i,type:t,effect:o}},Ict=function(e){var t=I_e(e),n=t.type,r=t.predicate,i=t.effect,o=C_e(),s={id:o,effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return s},Ez=function(e){e.pending.forEach(function(t){Dw(t,k_e)})},Dct=function(e){return function(){e.forEach(Ez),e.clear()}},Nae=function(e,t,n){try{e(t,n)}catch(r){setTimeout(function(){throw r},0)}},Pct=fh(zT+"/add"),Oct=fh(zT+"/removeAll"),Nct=fh(zT+"/remove"),Mct=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,Hv([zT+"/error"],e))};function $ct(e){var t=this;e===void 0&&(e={});var n=new Map,r=e.extra,i=e.onError,o=i===void 0?Mct:i;JG(o,"onError");var s=function(h){return h.unsubscribe=function(){return n.delete(h.id)},n.set(h.id,h),function(m){h.unsubscribe(),m?.cancelActive&&Ez(h)}},a=function(h){for(var m=0,p=Array.from(n.values());m<p.length;m++){var g=p[m];if(h(g))return g}},l=function(h){var m=a(function(p){return p.effect===h.effect});return m||(m=Ict(h)),s(m)},u=function(h){var m=I_e(h),p=m.type,g=m.effect,v=m.predicate,y=a(function(w){var _=typeof p=="string"?w.type===p:w.predicate===v;return _&&w.effect===g});return y&&(y.unsubscribe(),h.cancelActive&&Ez(y)),!!y},c=function(h,m,p,g){return BT(t,null,function(){var v,y,w,_;return jT(this,function(E){switch(E.label){case 0:v=new AbortController,y=Rct(l,v.signal),w=[],E.label=1;case 1:return E.trys.push([1,3,4,6]),h.pending.add(v),[4,Promise.resolve(h.effect(m,kct({},p,{getOriginalState:g,condition:function(S,T){return y(S,T).then(Boolean)},take:y,delay:R_e(v.signal),pause:G3(v.signal),extra:r,signal:v.signal,fork:Act(v.signal,w),unsubscribe:h.unsubscribe,subscribe:function(){n.set(h.id,h)},cancelActiveListeners:function(){h.pending.forEach(function(S,T,k){S!==v&&(Dw(S,k_e),k.delete(S))})}})))];case 2:return E.sent(),[3,6];case 3:return _=E.sent(),_ instanceof mM||Nae(o,_,{raisedBy:"effect"}),[3,6];case 4:return[4,Promise.allSettled(w)];case 5:return E.sent(),Dw(v,Sct),h.pending.delete(v),[7];case 6:return[2]}})})},d=Dct(n),f=function(h){return function(m){return function(p){if(!oct(p))return m(p);if(Pct.match(p))return l(p.payload);if(Oct.match(p)){d();return}if(Nct.match(p))return u(p.payload);var g=h.getState(),v=function(){if(g===Oae)throw new Error(zT+": getOriginalState can only be called synchronously");return g},y;try{if(y=m(p),n.size>0)for(var w=h.getState(),_=Array.from(n.values()),E=0,S=_;E<S.length;E++){var T=S[E],k=!1;try{k=T.predicate(p,w,g)}catch(R){k=!1,Nae(o,R,{raisedBy:"predicate"})}k&&c(T,p,h,v)}}finally{g=Oae}return y}}};return{middleware:f,startListening:l,stopListening:u,clearListeners:d}}var Mae;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);But();function Lct(){const e=new Map;return{listen(t,n){return e.has(t)||e.set(t,[]),e.get(t).push(n),()=>{e.set(t,(e.get(t)||[]).filter(r=>r!==n))}},fire(t,n){const r=e.get(t);r&&r.forEach(i=>i(n))}}}let ER;const Fct=new Uint8Array(16);function jct(){if(!ER&&(ER=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ER))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ER(Fct)}const Gs=[];for(let e=0;e<256;++e)Gs.push((e+256).toString(16).slice(1));function Bct(e,t=0){return(Gs[e[t+0]]+Gs[e[t+1]]+Gs[e[t+2]]+Gs[e[t+3]]+"-"+Gs[e[t+4]]+Gs[e[t+5]]+"-"+Gs[e[t+6]]+Gs[e[t+7]]+"-"+Gs[e[t+8]]+Gs[e[t+9]]+"-"+Gs[e[t+10]]+Gs[e[t+11]]+Gs[e[t+12]]+Gs[e[t+13]]+Gs[e[t+14]]+Gs[e[t+15]]).toLowerCase()}const zct=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),$ae={randomUUID:zct};function Lae(e,t,n){if($ae.randomUUID&&!t&&!e)return $ae.randomUUID();e=e||{};const r=e.random||(e.rng||jct)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Bct(r)}let hh=class{static get(){let t=Lae();for(;this.ids.has(t);)t=Lae();return this.ids.set(t,!0),t}};hh.ids=new Map;function Fd(e){return"parent"in e}function D_e(e){return!Fd(e)}function Uct(e){const{label:t=void 0,state:n,initialArtifact:r,initialMetadata:i}=e,o={annotation:[],bookmark:[]},s=Object.keys(i||{}).reduce((l,u)=>(l[u]=[],i&&i[u]&&l[u].push({type:u,id:hh.get(),val:i[u],createdOn:Date.now()}),l),o),a=r?[{id:hh.get(),createdOn:Date.now(),val:r}]:[];return{id:hh.get(),label:t||"Root",event:"Root",children:[],level:0,createdOn:Date.now(),meta:s,artifacts:a,state:{type:"checkpoint",val:n}}}function Hct({parent:e,state:t,label:n,sideEffects:r={do:[],undo:[]},initialMetadata:i,initialArtifact:o,event:s}){const a={annotation:[],bookmark:[]},l=Object.keys(i||{}).reduce((c,d)=>(c[d]=[],i&&i[d]&&c[d].push({type:d,id:hh.get(),val:i[d],createdOn:Date.now()}),c),a),u=o?[{id:hh.get(),createdOn:Date.now(),val:o}]:[];return{id:hh.get(),label:n,event:s,children:[],parent:e.id,createdOn:Date.now(),meta:l,artifacts:u,sideEffects:r,state:t,level:e.level+1}}function go(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if({}.NODE_ENV!=="production"){var i=Jct[e],o=i?typeof i=="function"?i.apply(null,n):i:"unknown error nr: "+e;throw Error("[Immer] "+o)}throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function qv(e){return!!e&&!!e[Hu]}function m0(e){var t;return!!e&&((function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===Zct})(e)||Array.isArray(e)||!!e[bS]||!!(!((t=e.constructor)===null||t===void 0)&&t[bS])||gM(e)||yM(e))}function lx(e,t,n){n===void 0&&(n=!1),g0(e)===0?(n?Object.keys:oY)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function g0(e){var t=e[Hu];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:gM(e)?2:yM(e)?3:0}function y2(e,t){return g0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function bP(e,t){return g0(e)===2?e.get(t):e[t]}function P_e(e,t,n){var r=g0(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function qct(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function gM(e){return Xct&&e instanceof Map}function yM(e){return Qct&&e instanceof Set}function qy(e){return e.o||e.t}function eY(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=edt(e);delete t[Hu];for(var n=oY(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function tY(e,t){return t===void 0&&(t=!1),nY(e)||qv(e)||!m0(e)||(g0(e)>1&&(e.set=e.add=e.clear=e.delete=Vct),Object.freeze(e),t&&lx(e,function(n,r){return tY(r,!0)},!0)),e}function Vct(){go(2)}function nY(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function ph(e){var t=Az[e];return t||go(18,e),t}function Wct(e,t){Az[e]||(Az[e]=t)}function Fae(){return{}.NODE_ENV==="production"||ux||go(0),ux}function g8(e,t){t&&(ph("Patches"),e.u=[],e.s=[],e.v=t)}function Y3(e){Sz(e),e.p.forEach(Gct),e.p=null}function Sz(e){e===ux&&(ux=e.l)}function jae(e){return ux={p:[],l:ux,h:e,m:!0,_:0}}function Gct(e){var t=e[Hu];t.i===0||t.i===1?t.j():t.O=!0}function y8(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||ph("ES5").S(t,e,r),r?(n[Hu].P&&(Y3(t),go(4)),m0(e)&&(e=K3(t,e),t.l||X3(t,e)),t.u&&ph("Patches").M(n[Hu].t,e,t.u,t.s)):e=K3(t,n,[]),Y3(t),t.u&&t.v(t.u,t.s),e!==iY?e:void 0}function K3(e,t,n){if(nY(t))return t;var r=t[Hu];if(!r)return lx(t,function(o,s){return Bae(e,r,t,o,s,n)},!0),t;if(r.A!==e)return t;if(!r.P)return X3(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=eY(r.k):r.o;lx(r.i===3?new Set(i):i,function(o,s){return Bae(e,r,i,o,s,n)}),X3(e,i,!1),n&&e.u&&ph("Patches").R(r,n,e.u,e.s)}return r.o}function Bae(e,t,n,r,i,o){if({}.NODE_ENV!=="production"&&i===n&&go(5),qv(i)){var s=K3(e,i,o&&t&&t.i!==3&&!y2(t.D,r)?o.concat(r):void 0);if(P_e(n,r,s),!qv(s))return;e.m=!1}if(m0(i)&&!nY(i)){if(!e.h.F&&e._<1)return;K3(e,i),t&&t.A.l||X3(e,i)}}function X3(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&tY(t,n)}function v8(e,t){var n=e[Hu];return(n?qy(n):e)[t]}function zae(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Tz(e){e.P||(e.P=!0,e.l&&Tz(e.l))}function b8(e){e.o||(e.o=eY(e.t))}function kz(e,t,n){var r=gM(t)?ph("MapSet").N(t,n):yM(t)?ph("MapSet").T(t,n):e.g?(function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:Fae(),P:!1,I:!1,D:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=a,u=Rz;s&&(l=[a],u=AE);var c=Proxy.revocable(l,u),d=c.revoke,f=c.proxy;return a.k=f,a.j=d,f})(t,n):ph("ES5").J(t,n);return(n?n.A:Fae()).p.push(r),r}function Yct(e){return qv(e)||go(22,e),(function t(n){if(!m0(n))return n;var r,i=n[Hu],o=g0(n);if(i){if(!i.P&&(i.i<4||!ph("ES5").K(i)))return i.t;i.I=!0,r=Uae(n,o),i.I=!1}else r=Uae(n,o);return lx(r,function(s,a){i&&bP(i.t,s)===a||P_e(r,s,t(a))}),o===3?new Set(r):r})(e)}function Uae(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return eY(e)}function Kct(){function e(r){if(!m0(r))return r;if(Array.isArray(r))return r.map(e);if(gM(r))return new Map(Array.from(r.entries()).map(function(s){return[s[0],e(s[1])]}));if(yM(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var o in r)i[o]=e(r[o]);return y2(r,bS)&&(i[bS]=r[bS]),i}function t(r){return qv(r)?e(r):r}var n="add";Wct("Patches",{$:function(r,i){return i.forEach(function(o){for(var s=o.path,a=o.op,l=r,u=0;u<s.length-1;u++){var c=g0(l),d=""+s[u];c!==0&&c!==1||d!=="__proto__"&&d!=="constructor"||go(24),typeof l=="function"&&d==="prototype"&&go(24),typeof(l=bP(l,d))!="object"&&go(15,s.join("/"))}var f=g0(l),h=e(o.value),m=s[s.length-1];switch(a){case"replace":switch(f){case 2:return l.set(m,h);case 3:go(16);default:return l[m]=h}case n:switch(f){case 1:return m==="-"?l.push(h):l.splice(m,0,h);case 2:return l.set(m,h);case 3:return l.add(h);default:return l[m]=h}case"remove":switch(f){case 1:return l.splice(m,1);case 2:return l.delete(m);case 3:return l.delete(o.value);default:return delete l[m]}default:go(17,a)}}),r},R:function(r,i,o,s){switch(r.i){case 0:case 4:case 2:return(function(a,l,u,c){var d=a.t,f=a.o;lx(a.D,function(h,m){var p=bP(d,h),g=bP(f,h),v=m?y2(d,h)?"replace":n:"remove";if(p!==g||v!=="replace"){var y=l.concat(h);u.push(v==="remove"?{op:v,path:y}:{op:v,path:y,value:g}),c.push(v===n?{op:"remove",path:y}:v==="remove"?{op:n,path:y,value:t(p)}:{op:"replace",path:y,value:t(p)})}})})(r,i,o,s);case 5:case 1:return(function(a,l,u,c){var d=a.t,f=a.D,h=a.o;if(h.length<d.length){var m=[h,d];d=m[0],h=m[1];var p=[c,u];u=p[0],c=p[1]}for(var g=0;g<d.length;g++)if(f[g]&&h[g]!==d[g]){var v=l.concat([g]);u.push({op:"replace",path:v,value:t(h[g])}),c.push({op:"replace",path:v,value:t(d[g])})}for(var y=d.length;y<h.length;y++){var w=l.concat([y]);u.push({op:n,path:w,value:t(h[y])})}d.length<h.length&&c.push({op:"replace",path:l.concat(["length"]),value:d.length})})(r,i,o,s);case 3:return(function(a,l,u,c){var d=a.t,f=a.o,h=0;d.forEach(function(m){if(!f.has(m)){var p=l.concat([h]);u.push({op:"remove",path:p,value:m}),c.unshift({op:n,path:p,value:m})}h++}),h=0,f.forEach(function(m){if(!d.has(m)){var p=l.concat([h]);u.push({op:n,path:p,value:m}),c.unshift({op:"remove",path:p,value:m})}h++})})(r,i,o,s)}},M:function(r,i,o,s){o.push({op:"replace",path:[],value:i===iY?void 0:i}),s.push({op:"replace",path:[],value:r})}})}var Hae,ux,rY=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Xct=typeof Map<"u",Qct=typeof Set<"u",qae=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",iY=rY?Symbol.for("immer-nothing"):((Hae={})["immer-nothing"]=!0,Hae),bS=rY?Symbol.for("immer-draftable"):"__$immer_draftable",Hu=rY?Symbol.for("immer-state"):"__$immer_state",Jct={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},Zct=""+Object.prototype.constructor,oY=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,edt=Object.getOwnPropertyDescriptors||function(e){var t={};return oY(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Az={},Rz={get:function(e,t){if(t===Hu)return e;var n=qy(e);if(!y2(n,t))return(function(i,o,s){var a,l=zae(o,s);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0})(e,n,t);var r=n[t];return e.I||!m0(r)?r:r===v8(e.t,t)?(b8(e),e.o[t]=kz(e.A.h,r,e)):r},has:function(e,t){return t in qy(e)},ownKeys:function(e){return Reflect.ownKeys(qy(e))},set:function(e,t,n){var r=zae(qy(e),t);if(r?.set)return r.set.call(e.k,n),!0;if(!e.P){var i=v8(qy(e),t),o=i?.[Hu];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(qct(n,i)&&(n!==void 0||y2(e.t,t)))return!0;b8(e),Tz(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return v8(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,b8(e),Tz(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=qy(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){go(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){go(12)}},AE={};lx(Rz,function(e,t){AE[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),AE.deleteProperty=function(e,t){return{}.NODE_ENV!=="production"&&isNaN(parseInt(t))&&go(13),AE.set.call(this,e,t,void 0)},AE.set=function(e,t,n){return{}.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&go(14),Rz.set.call(this,e[0],t,n,e[0])};var tdt=(function(){function e(n){var r=this;this.g=qae,this.F=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var l=r;return function(p){var g=this;p===void 0&&(p=a);for(var v=arguments.length,y=Array(v>1?v-1:0),w=1;w<v;w++)y[w-1]=arguments[w];return l.produce(p,function(_){var E;return(E=o).call.apply(E,[g,_].concat(y))})}}var u;if(typeof o!="function"&&go(6),s!==void 0&&typeof s!="function"&&go(7),m0(i)){var c=jae(r),d=kz(r,i,void 0),f=!0;try{u=o(d),f=!1}finally{f?Y3(c):Sz(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(p){return g8(c,s),y8(p,c)},function(p){throw Y3(c),p}):(g8(c,s),y8(u,c))}if(!i||typeof i!="object"){if((u=o(i))===void 0&&(u=i),u===iY&&(u=void 0),r.F&&tY(u,!0),s){var h=[],m=[];ph("Patches").M(i,u,h,m),s(h,m)}return u}go(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return r.produceWithPatches(u,function(h){return i.apply(void 0,[h].concat(d))})};var s,a,l=r.produce(i,o,function(u,c){s=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,s,a]}):[l,s,a]},typeof n?.useProxies=="boolean"&&this.setUseProxies(n.useProxies),typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){m0(n)||go(8),qv(n)&&(n=Yct(n));var r=jae(this),i=kz(this,n,void 0);return i[Hu].C=!0,Sz(r),i},t.finishDraft=function(n,r){var i=n&&n[Hu];({}).NODE_ENV!=="production"&&(i&&i.C||go(9),i.I&&go(10));var o=i.A;return g8(o,r),y8(void 0,o)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!qae&&go(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=ph("Patches").$;return qv(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},e})(),qu=new tdt,ndt=qu.produce;qu.produceWithPatches.bind(qu);qu.setAutoFreeze.bind(qu);qu.setUseProxies.bind(qu);qu.applyPatches.bind(qu);qu.createDraft.bind(qu);qu.finishDraft.bind(qu);function rdt(e,t={}){const{artifact:n=void 0,metadata:r=void 0,rootLabel:i="Root"}=t,o=Uct({state:e,label:i,initialArtifact:n,initialMetadata:r}),s={nodes:{[o.id]:o},root:o.id,current:o.id};return mct({name:"provenance-graph",initialState:s,reducers:{addMetadata(a,l){const{id:u,meta:c}=l.payload,d=a.nodes[u].meta,f=Object.keys(c).reduce((h,m)=>(h[m]||(h[m]=[]),h[m].push({type:m,id:hh.get(),val:c[m],createdOn:Date.now()}),h),d);a.nodes[l.payload.id].meta=f},addArtifact(a,l){a.nodes[l.payload.id].artifacts.push({id:hh.get(),createdOn:Date.now(),val:l.payload.artifact})},changeCurrent(a,l){a.current=l.payload},addNode(a,{payload:l}){a.nodes[l.id]=l,a.nodes[l.parent].children.push(l.id),a.current=l.id},load(a,{payload:l}){return l}}})}function idt(e){const t=new Map,{reducer:n,actions:r,getInitialState:i}=rdt(e),o=$ct();o.startListening({matcher:Pae(r.changeCurrent,r.addNode),effect:(a,l)=>{l.cancelActiveListeners(),t.forEach(u=>{const c=Pae(r.addNode)(a),{skipOnNew:d}=u.config;d&&c||u.func(c?"new":"traversal")})}});const s=dct({reducer:n,middleware:a=>a().prepend(o.middleware)});return{initialState:i(),get backend(){return s.getState()},get current(){return s.getState().nodes[s.getState().current]},get root(){return s.getState().nodes[s.getState().root]},currentChange(a,l){const u={id:hh.get(),func:a,config:l};return t.set(u.id,u),()=>t.delete(u.id)},update:s.dispatch,...r}}var odt=globalThis&&globalThis.__extends||(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),sdt=Object.prototype.hasOwnProperty;function Iz(e,t){return sdt.call(e,t)}function Dz(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)Iz(e,i)&&r.push(i);return r}function Wl(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function Pz(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function Vy(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function O_e(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Oz(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(Oz(e[t]))return!0}else if(typeof e=="object"){for(var r=Dz(e),i=r.length,o=0;o<i;o++)if(Oz(e[r[o]]))return!0}}return!1}function Vae(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var N_e=(function(e){odt(t,e);function t(n,r,i,o,s){var a=this.constructor,l=e.call(this,Vae(n,{name:r,index:i,operation:o,tree:s}))||this;return l.name=r,l.index=i,l.operation=o,l.tree=s,Object.setPrototypeOf(l,a.prototype),l.message=Vae(n,{name:r,index:i,operation:o,tree:s}),l}return t})(Error),po=N_e,adt=Wl,dw={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=Q3(n,this.path);r&&(r=Wl(r));var i=_v(n,{op:"remove",path:this.from}).removed;return _v(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=Q3(n,this.from);return _v(n,{op:"add",path:this.path,value:Wl(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:v2(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},ldt={add:function(e,t,n){return Pz(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:dw.move,copy:dw.copy,test:dw.test,_get:dw._get};function Q3(e,t){if(t=="")return e;var n={op:"_get",path:t};return _v(e,n),n.value}function _v(e,t,n,r,i,o){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(t,0,e,t.path):J3(t,0)),t.path===""){var s={newDocument:e};if(t.op==="add")return s.newDocument=t.value,s;if(t.op==="replace")return s.newDocument=t.value,s.removed=e,s;if(t.op==="move"||t.op==="copy")return s.newDocument=Q3(e,t.from),t.op==="move"&&(s.removed=e),s;if(t.op==="test"){if(s.test=v2(e,t.value),s.test===!1)throw new po("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s.newDocument=e,s}else{if(t.op==="remove")return s.removed=e,s.newDocument=null,s;if(t.op==="_get")return t.value=e,s;if(n)throw new po("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return s}}else{r||(e=Wl(e));var a=t.path||"",l=a.split("/"),u=e,c=1,d=l.length,f=void 0,h=void 0,m=void 0;for(typeof n=="function"?m=n:m=J3;;){if(h=l[c],h&&h.indexOf("~")!=-1&&(h=O_e(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&f===void 0&&(u[h]===void 0?f=l.slice(0,c).join("/"):c==d-1&&(f=t.path),f!==void 0&&m(t,0,e,f)),c++,Array.isArray(u)){if(h==="-")h=u.length;else{if(n&&!Pz(h))throw new po("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);Pz(h)&&(h=~~h)}if(c>=d){if(n&&t.op==="add"&&h>u.length)throw new po("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var s=ldt[t.op].call(t,u,h,e);if(s.test===!1)throw new po("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}}else if(c>=d){var s=dw[t.op].call(t,u,h,e);if(s.test===!1)throw new po("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}if(u=u[h],n&&c<d&&(!u||typeof u!="object"))throw new po("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function vM(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new po("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Wl(e));for(var o=new Array(t.length),s=0,a=t.length;s<a;s++)o[s]=_v(e,t[s],n,!0,i,s),e=o[s].newDocument;return o.newDocument=e,o}function udt(e,t,n){var r=_v(e,t);if(r.test===!1)throw new po("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function J3(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new po("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(dw[e.op]){if(typeof e.path!="string")throw new po("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new po('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new po("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new po("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&Oz(e.value))throw new po("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new po("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new po("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var s={op:"_get",path:e.from,value:void 0},a=M_e([s],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new po("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new po("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function M_e(e,t,n){try{if(!Array.isArray(e))throw new po("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)vM(Wl(t),Wl(e),n||!0);else{n=n||J3;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof po)return i;throw i}}function v2(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!v2(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(o=a.length,o!==Object.keys(t).length)return!1;for(i=o;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=o;i--!==0;)if(s=a[i],!v2(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}const cdt=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:po,_areEquals:v2,applyOperation:_v,applyPatch:vM,applyReducer:udt,deepClone:adt,getValueByPointer:Q3,validate:M_e,validator:J3},Symbol.toStringTag,{value:"Module"}));var sY=new WeakMap,ddt=(function(){function e(t){this.observers=new Map,this.obj=t}return e})(),fdt=(function(){function e(t,n){this.callback=t,this.observer=n}return e})();function hdt(e){return sY.get(e)}function pdt(e,t){return e.observers.get(t)}function mdt(e,t){e.observers.delete(t.callback)}function gdt(e,t){t.unobserve()}function ydt(e,t){var n=[],r,i=hdt(e);if(!i)i=new ddt(e),sY.set(e,i);else{var o=pdt(i,t);r=o&&o.observer}if(r)return r;if(r={},i.value=Wl(e),t){r.callback=t,r.next=null;var s=function(){Nz(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(s)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){Nz(r),clearTimeout(r.next),mdt(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new fdt(t,r)),r}function Nz(e,t){t===void 0&&(t=!1);var n=sY.get(e.object);aY(n.value,e.object,e.patches,"",t),e.patches.length&&vM(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function aY(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=Dz(t),s=Dz(e),a=!1,l=s.length-1;l>=0;l--){var u=s[l],c=e[u];if(Iz(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var d=t[u];typeof c=="object"&&c!=null&&typeof d=="object"&&d!=null&&Array.isArray(c)===Array.isArray(d)?aY(c,d,n,r+"/"+Vy(u),i):c!==d&&(i&&n.push({op:"test",path:r+"/"+Vy(u),value:Wl(c)}),n.push({op:"replace",path:r+"/"+Vy(u),value:Wl(d)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+Vy(u),value:Wl(c)}),n.push({op:"remove",path:r+"/"+Vy(u)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&o.length==s.length))for(var l=0;l<o.length;l++){var u=o[l];!Iz(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+Vy(u),value:Wl(t[u])})}}}function $_e(e,t,n){n===void 0&&(n=!1);var r=[];return aY(e,t,r,"",n),r}const vdt=Object.freeze(Object.defineProperty({__proto__:null,compare:$_e,generate:Nz,observe:ydt,unobserve:gdt},Symbol.toStringTag,{value:"Module"}));Object.assign({},cdt,vdt,{JsonPatchError:N_e,deepClone:Wl,escapePathComponent:Vy,unescapePathComponent:O_e});var RE=(e=>(e.TRAVERSAL_START="Traversal_Start",e.TRAVERSAL_END="Traversal_End",e))(RE||{});function wP(e,t){const n=e.state;if(n.type==="checkpoint")return n.val;const{checkpointRef:r}=n,i=t[r],o=L_e(i,e,t);o.shift();const s=o.map(l=>t[l]).map(l=>l.state.val).reduce((l,u)=>[...l,...u],[]),a=wP(i,t);return vM(a,Wl(s),!0,!1).newDocument}function bdt(e,t){const n=Object.keys(e).length;return new Set(t.map(r=>r.path.split("/")[0])).size<n/2?"patch":"checkpoint"}function bM({registry:e,initialState:t}){let n=!1;const r=Lct(),i=idt(t);function o(c){return i.backend.nodes[c]}r.listen(RE.TRAVERSAL_START,()=>{n=!0}),r.listen(RE.TRAVERSAL_END,()=>{n=!1});const s={add(c,d=i.current.id){i.update(i.addMetadata({id:d,meta:c}))},latestOfType(c,d=i.current.id){return i.backend.nodes[d].meta[c]?.at(-1)},allOfType(c,d=i.current.id){return i.backend.nodes[d].meta[c]},latest(c=i.current.id){const d=i.backend.nodes[c].meta,f=Object.keys(d).reduce((h,m)=>{const p=d[m].at(-1);return p&&(h[m]=p),h},{});return Object.keys(f).length>0?f:void 0},all(c=i.current.id){return i.backend.nodes[c].meta},types(c=i.current.id){return Object.keys(i.backend.nodes[c].meta)}},a={add(c,d=i.current.id){i.update(i.addArtifact({id:d,artifact:c}))},latest(c=i.current.id){return i.backend.nodes[c].artifacts.at(-1)},all(c=i.current.id){return i.backend.nodes[c].artifacts}},l={add(c,d=i.current.id){s.add({annotation:c},d)},latest(c=i.current.id){return s.latestOfType("annotation",c)?.val},all(c=i.current.id){return s.allOfType("annotation",c)?.map(d=>d.val)}},u={add(c=i.current.id){s.add({bookmark:!0},c)},remove(c=i.current.id){s.add({bookmark:!1},c)},is(c=i.current.id){return!!s.latestOfType("bookmark",c)?.val},toggle(c=i.current.id){u.is(c)?u.remove(c):u.add(c)}};return{registry:e,get isTraversing(){return n},getState(c=i.current){return wP(c,i.backend.nodes)},graph:i,get current(){return i.current},get root(){return i.root},record({label:c,state:d,sideEffects:f,eventType:h,onlySideEffects:m=!1}){let p=null,g=null;const v=wP(this.current,this.graph.backend.nodes);if(m)g={type:"checkpoint",val:d};else{const y=$_e(v,d);if(bdt(d,y)==="checkpoint")g={type:"checkpoint",val:d};else{const w=this.current.state.type==="checkpoint"?this.current.id:this.current.state.checkpointRef;g={type:"patch",val:y,checkpointRef:w}}}if(!g)throw new Error(`Could not calculate new state. Previous state is: ${JSON.stringify(this.current.state,null,2)}`);if(p=Hct({label:c,state:g,parent:this.current,sideEffects:f,event:h}),!p)throw new Error("State Node creation failed!");i.update(i.addNode(p))},async apply(c,d){const f=e.get(d.type),h=wP(this.current,this.graph.backend.nodes);if(f.config.hasSideEffects){const{do:m=d,undo:p}=f.func(d.payload);this.record({label:c,state:h,sideEffects:{do:[m],undo:[p]},eventType:f.config.eventType})}else{const m=f.func(h,d.payload);this.record({label:c,state:m,sideEffects:{do:[],undo:[]},eventType:f.config.eventType})}},async to(c){r.fire(RE.TRAVERSAL_START);const d=L_e(i.current,i.backend.nodes[c],i.backend.nodes),f=[];for(let h=0;h<d.length-1;++h){const m=o(d[h]),p=o(d[h+1]);xdt(m,p)?Fd(m)&&f.push(...m.sideEffects.undo):Fd(p)&&f.push(...p.sideEffects.do)}for(const h of f){const m=e.get(h.type).func;await m(h.payload)}i.update(i.changeCurrent(c)),r.fire(RE.TRAVERSAL_END)},undo(){const{current:c}=i;return Fd(c)?this.to(c.parent):Promise.resolve(console.warn("Already at root!"))},redo(c="latest"){const{current:d}=i;return d.children.length>0?this.to(d.children[c==="oldest"?0:d.children.length-1]):Promise.resolve(console.warn("Already at latest in this branch!"))},currentChange(c,d=!1){return i.currentChange(c,{skipOnNew:d})},done(){console.log("Setup later for URL sharing.")},tree(){return F_e(i.root,i.backend.nodes)},on(c,d){r.listen(c,d)},export(){return JSON.stringify(i.backend)},exportObject(){return JSON.parse(JSON.stringify(i.backend))},import(c){const d=JSON.parse(c),f=d.current;d.current=d.root,i.update(i.load(d)),this.to(f)},importObject(c){const d=c.current;c.current=c.root,i.update(i.load(c)),this.to(d)},metadata:s,artifact:a,annotations:l,bookmarks:u}}function wdt(e,t,n){let[r,i]=[e,t];r.level>i.level&&([r,i]=[i,r]);let o=i.level-r.level;for(;Fd(i)&&o!==0;)i=n[i.parent],o-=1;if(r.id===i.id)return r.id;for(;r.id!==i.id;)Fd(r)&&(r=n[r.parent]),Fd(i)&&(i=n[i.parent]);return r.id}function L_e(e,t,n){const r=wdt(e,t,n),i=n[r],o=[],s=[];let[a,l]=[e,t];for(;a.id!==i.id;)o.push(a),Fd(a)&&(a=n[a.parent]);for(o.push(a);l.id!==i.id;)s.push(l),Fd(l)&&(l=n[l.parent]);const u=s.reverse();return[...o,...u].map(c=>c.id)}function xdt(e,t){if(Fd(e)&&e.parent===t.id)return!0;if(Fd(t)&&t.parent===e.id)return!1;throw new Error("Incorrect use of function. Nodes are not connected to each other.")}function F_e(e,t){return{...e,children:e.children.map(n=>F_e(t[n],t)),name:`${e.label}`}}Kct();function Cdt(e){return e.length===2?ndt(e):e}class mC{static create(){return new mC}constructor(){this.registry=new Map}has(t){return this.registry.has(t)}register(t,n,r){const i=n.length===2;if(n.length>2)throw new Error("Incorrect action function signature. Action function can only have two arguments at most!");if(this.has(t))throw new Error(`Already registered: ${t}`);const{label:o=t,eventType:s=t}=r||{};return this.registry.set(t,{func:Cdt(n),config:{hasSideEffects:!i,label:typeof o=="string"?()=>o:o,eventType:s}}),fh(t)}get(t){const n=this.registry.get(t);if(!n)throw new Error(`Not registered: ${t}`);return n}}const j_e=A.createContext(null);function _dt(){const e=A.useContext(j_e);if(!e)throw new Error("useWindowEvents must be used within a WindowEventsProvider");return e}function lY(e,t,n,r){if((typeof e=="number"||typeof e=="string")&&(typeof t=="string"||typeof t=="number")){const i=Number(e);if(i){if(n&&r)return i>=n&&i<=r;if(n)return i>=n;if(r)return i<=r}return String(e)===String(t)||Number(e)===Number(t)}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const i=[...e].sort(),o=[...t].sort();return z3(i,o)}if(e!==null&&typeof e=="object"&&!Array.isArray(e)&&Array.isArray(t)){const i=Object.values(e);return i.length!==t.length?!1:Array.isArray(t[0])?i.every((s,a)=>{const l=t[a];if(!Array.isArray(l))return!1;const u=typeof s=="string"?s===""?[]:s.split("|"):[];if(u.length!==l.length)return!1;const c=[...u].sort(),d=[...l].sort();return c.every((f,h)=>f===d[h])}):i.every((s,a)=>String(s)===String(t[a]))}return z3(e,t)}function UT(e,t){let n=!0;return(t||[]).forEach(r=>{const i=e[r.id];(i===void 0||!lY(i,r.answer,r.acceptableLow,r.acceptableHigh))&&(n=!1)}),n}function Wae(e,t,n,r){const i=t.slice(0,t.lastIndexOf("_")),o=Object.entries(r.components).find(([a])=>a===i),s=o?o[1]:null;if(!s)throw new Error(`Component ${i} could not be found in the study components.`);return s.correctAnswer?UT(e,s.correctAnswer):!0}function Edt(){const e=cf(),t=hC(),n=Hn(P=>P.trialValidation),r=Hn(P=>P.sequence),i=Hn(P=>P.answers),o=Hn(P=>P.modes),s=Hn(P=>P.clickedPrevious),a=Ga(),{funcIndex:l}=Mo(),u=Nm(),c=bo(),{saveTrialAnswer:d,setReactiveAnswers:f,setMatrixAnswersRadio:h,setMatrixAnswersCheckbox:m,setRankingAnswers:p}=Qi(),{storageEngine:g}=ri(),v=uf(),y=A.useMemo(()=>o.dataCollectionEnabled,[o]),w=hlt(u),_=lf(),E=typeof e!="number"||_||!w,S=Om(),T=ca(),k=A.useMemo(()=>Date.now(),[l,e]),R=_dt(),I=A.useCallback((P=!0)=>{if(typeof e!="number")return;const N=structuredClone(n[u]),M=N?Object.values(N).reduce((H,B)=>Object.hasOwn(B,"values")?{...H,...B.values}:H,{}):{},{provenanceGraph:O}=N||{},j=Date.now(),{componentName:U}=S,q=R&&"current"in R&&R.current?R.current.splice(0,R.current.length):[];if(y&&(S.endTime===-1||s)){const H={...S,answer:P?M:{},startTime:k,endTime:j,provenanceGraph:O,windowEvents:q,timedOut:!P};c(d({...H})),g&&g.saveAnswers({...i,[u]:H}),c(f({})),c(m(null)),c(h(null)),c(p(null))}let W=e+1;const V=XCe(r,e),z=V!==null&&V.some(H=>H.currentBlock.skip&&H.currentBlock.skip.length>0),L={...i,[u]:{answer:M,startTime:k,endTime:j,provenanceGraph:O,windowEvents:q}};z&&[...V.flatMap(B=>B.currentBlock.skip?B.currentBlock.skip.map(Y=>({...Y,firstIndex:B.firstIndex,lastIndex:B.lastIndex})):[])].some(B=>{let Y=!1;const Q=Object.fromEntries(Object.entries(L).filter(([ce])=>{const le=parseInt(ce.slice(ce.lastIndexOf("_")+1),10);return le>=B.firstIndex&&le<=e})),ne=B.check!=="block"?Object.entries(Q).filter(([ce])=>ce.slice(0,ce.lastIndexOf("_"))===B.name):Object.entries(Q);if(ne.length===0)return!1;if(ne.some(([ce,le])=>!le))throw new Error(`There are components with missing response objects for the skip condition: ${JSON.stringify(B,null,2)}`);if(B.check==="response"||B.check==="responses"){const[ce,le]=ne[0];B.check==="response"?Y=B.comparison==="equal"?B.value===le.answer[B.responseId]:B.value!==le.answer[B.responseId]:Y=!Wae(le.answer,ce,a.components[ce.slice(0,ce.lastIndexOf("_"))],a)}else if(B.check==="block"||B.check==="repeatedComponent"){if(ne.length<B.value)return!1;const ce=ne.map(([ae,te])=>Wae(te.answer,ae,a.components[U.slice(0,U.lastIndexOf("_"))],a)),le=ce.filter(ae=>ae).length,ue=ce.length-le;Y=B.condition==="numCorrect"&&le===B.value||B.condition==="numIncorrect"&&ue===B.value}if(Y){const ce=t.indexOf(B.to),le=ce===-1?ult(r,B.to):-1;return W=ce===-1?le:ce,!0}return!1}),T(l?`/${v}/${di(e)}/${di(Ld(l)+1)}${window.location.search}`:`/${v}/${di(W)}${window.location.search}`)},[e,n,u,S,R,y,s,r,i,k,l,c,d,g,f,m,h,p,a,t,T,v]);return{isNextDisabled:E,goToNextStep:I}}function Sdt(){const e=cf(),{funcIndex:t}=Mo(),n=uf(),r=ca(),i=lf(),o=Ga(),s=bo(),{deleteDynamicBlockAnswers:a}=Qi(),l=Hn(d=>d.answers),u=typeof e!="number"||i||e<=0,c=A.useCallback(()=>{if(typeof e!="number")return;const d=e-1,f=h0(o.sequence);if(t&&(s(a({currentStep:e,funcIndex:Ld(t),funcName:f[e]})),Ld(t)!==0)){r(`/${n}/${di(e)}/${di(Ld(t)-1)}${window.location.search}`);return}const h=f[d];if(gz(h,o.sequence)){const g=Object.keys(l).filter(v=>v.startsWith(`${h}_${d}_`)).length-1;r(`/${n}/${di(d)}/${di(g)}${window.location.search}`)}else r(`/${n}/${di(d)}${window.location.search}`)},[e,t,r,n,o,s,a,l]);return{isPreviousDisabled:u,goToPreviousStep:c}}function Tdt({label:e="Previous",px:t}){const{isPreviousDisabled:n,goToPreviousStep:r}=Sdt(),i=bo(),{setClickedPrevious:o}=Qi(),s=A.useCallback(()=>{i(o(!0)),r()},[r,o,i]);return b.jsx(Mt,{type:"submit",disabled:n,onClick:s,px:t,children:e})}function kdt({label:e="Next",disabled:t=!1,config:n,location:r,checkAnswer:i}){const{isNextDisabled:o,goToNextStep:s}=Edt(),a=Ga(),l=ca(),u=A.useMemo(()=>n?.nextButtonDisableTime??a.uiConfig.nextButtonDisableTime,[n,a]),c=A.useMemo(()=>n?.nextButtonEnableTime??a.uiConfig.nextButtonEnableTime??0,[n,a]),[d,f]=A.useState(void 0);A.useEffect(()=>{const v=Date.now();f(0);const y=setInterval(()=>{f(Date.now()-v)},100);return()=>{clearInterval(y)}},[]),A.useEffect(()=>{d!==void 0&&u&&d>=u&&a.uiConfig.timeoutReject&&l(`./../__timedOut${window.location.search}`)},[u,d,l,a.uiConfig.timeoutReject]);const h=A.useMemo(()=>{if(d===void 0)return!0;const v=u?d<=u:!0,y=c?d>=c:!0;return v&&y},[u,c,d]),m=A.useMemo(()=>n?.nextOnEnter??a.uiConfig.nextOnEnter,[n,a]);A.useEffect(()=>{const v=y=>{y.key==="Enter"&&!t&&!o&&h&&s()};return m?(window.addEventListener("keydown",v),()=>{window.removeEventListener("keydown",v)}):()=>{}},[t,o,h,s,m]);const p=A.useMemo(()=>t||o||!h,[t,o,h]),g=A.useMemo(()=>n?.previousButtonText??a.uiConfig.previousButtonText??"Previous",[n,a]);return b.jsxs(b.Fragment,{children:[b.jsxs(ln,{justify:"right",gap:"xs",mt:"sm",children:[n?.previousButton&&b.jsx(Tdt,{label:g,px:r==="sidebar"&&i?8:void 0}),i,b.jsx(Mt,{type:"submit",disabled:p,onClick:()=>s(),px:r==="sidebar"&&i?8:void 0,children:e})]}),d!==void 0&&b.jsxs(b.Fragment,{children:[c>0&&d<c&&b.jsxs(pl,{mt:"md",title:"Please wait",color:"blue",icon:b.jsx(kc,{}),children:["The next button will be enabled in"," ",Math.ceil((c-d)/1e3)," ","seconds."]}),u&&u-d<1e4&&(u-d>0?b.jsxs(pl,{mt:"md",title:"Next button disables soon",color:"yellow",icon:b.jsx(Ru,{}),children:["The next button disables in"," ",Math.ceil((u-d)/1e3)," ","seconds."]}):!a.uiConfig.timeoutReject&&b.jsxs(pl,{mt:"md",title:"Next button disabled",color:"red",icon:b.jsx(Ru,{}),children:["The next button has timed out and is now disabled.",b.jsx(ln,{justify:"right",mt:"sm",children:b.jsx(Mt,{onClick:()=>s(!1),variant:"link",color:"red",children:"Proceed"})})]}))]})]})}function Adt(e){if(!/^[0-9a-zA-Z-]+$/.test(e))throw new Error(`[@mantine/use-form] Form name "${e}" is invalid, it should contain only letters, numbers and dashes`)}const Rdt=typeof window<"u"?A.useLayoutEffect:A.useEffect;function qs(e,t){Rdt(()=>{if(e)return window.addEventListener(e,t),()=>window.removeEventListener(e,t)},[e])}function Idt(e,t){e&&Adt(e),qs(`mantine-form:${e}:set-field-value`,n=>t.setFieldValue(n.detail.path,n.detail.value)),qs(`mantine-form:${e}:set-values`,n=>t.setValues(n.detail)),qs(`mantine-form:${e}:set-initial-values`,n=>t.setInitialValues(n.detail)),qs(`mantine-form:${e}:set-errors`,n=>t.setErrors(n.detail)),qs(`mantine-form:${e}:set-field-error`,n=>t.setFieldError(n.detail.path,n.detail.error)),qs(`mantine-form:${e}:clear-field-error`,n=>t.clearFieldError(n.detail)),qs(`mantine-form:${e}:clear-errors`,t.clearErrors),qs(`mantine-form:${e}:reset`,t.reset),qs(`mantine-form:${e}:validate`,t.validate),qs(`mantine-form:${e}:validate-field`,n=>t.validateField(n.detail)),qs(`mantine-form:${e}:reorder-list-item`,n=>t.reorderListItem(n.detail.path,n.detail.payload)),qs(`mantine-form:${e}:remove-list-item`,n=>t.removeListItem(n.detail.path,n.detail.index)),qs(`mantine-form:${e}:insert-list-item`,n=>t.insertListItem(n.detail.path,n.detail.item,n.detail.index)),qs(`mantine-form:${e}:set-dirty`,n=>t.setDirty(n.detail)),qs(`mantine-form:${e}:set-touched`,n=>t.setTouched(n.detail)),qs(`mantine-form:${e}:reset-dirty`,n=>t.resetDirty(n.detail)),qs(`mantine-form:${e}:reset-touched`,t.resetTouched)}function Ddt(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}function Mz(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}function Pdt(e){const[t,n]=A.useState(Mz(e)),r=A.useRef(t),i=A.useCallback(l=>{n(u=>{const c=Mz(typeof l=="function"?l(u):l);return r.current=c,c})},[]),o=A.useCallback(()=>i({}),[]),s=A.useCallback(l=>{r.current[l]!==void 0&&i(u=>{const c={...u};return delete c[l],c})},[t]),a=A.useCallback((l,u)=>{u==null||u===!1?s(l):r.current[l]!==u&&i(c=>({...c,[l]:u}))},[t]);return{errorsState:t,setErrors:i,clearErrors:o,setFieldError:a,clearFieldError:s}}function $z(e,t){if(t===null||typeof t!="object")return{};const n={...t};return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}function Gae(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function Yae(e,t,n,r){if(t===void 0)return n;const i=`${String(e)}`;let o=n;r===-1&&(o=$z(`${i}.${t}`,o));const s={...o},a=new Set;return Object.entries(o).filter(([l])=>{if(!l.startsWith(`${i}.`))return!1;const u=Gae(l,i);return Number.isNaN(u)?!1:u>=t}).forEach(([l,u])=>{const c=Gae(l,i),d=l.replace(`${i}.${c}`,`${i}.${c+r}`);s[d]=u,a.add(d),a.has(l)||delete s[l]}),s}function Odt(e,{from:t,to:n},r){const i=`${e}.${t}`,o=`${e}.${n}`,s={...r},a=new Set;return Object.keys(r).forEach(l=>{if(a.has(l))return;let u,c;if(l.startsWith(i)?(u=l,c=l.replace(i,o)):l.startsWith(o)&&(u=l.replace(o,i),c=l),u&&c){const d=s[u],f=s[c];f===void 0?delete s[u]:s[u]=f,d===void 0?delete s[c]:s[c]=d,a.add(u),a.add(c)}}),s}function Kae(e,t,n){typeof n.value=="object"&&(n.value=fw(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function fw(e){if(typeof e!="object")return e;var t=0,n,r,i,o=Object.prototype.toString.call(e);if(o==="[object Object]"?i=Object.create(e.__proto__||null):o==="[object Array]"?i=Array(e.length):o==="[object Set]"?(i=new Set,e.forEach(function(s){i.add(fw(s))})):o==="[object Map]"?(i=new Map,e.forEach(function(s,a){i.set(fw(a),fw(s))})):o==="[object Date]"?i=new Date(+e):o==="[object RegExp]"?i=new RegExp(e.source,e.flags):o==="[object DataView]"?i=new e.constructor(fw(e.buffer)):o==="[object ArrayBuffer]"?i=e.slice(0):o.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)Kae(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||Kae(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}function B_e(e){return typeof e!="string"?[]:e.split(".")}function ea(e,t){const n=B_e(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let i=1;i<n.length&&r!=null;i+=1)r=r[n[i]];return r}function HT(e,t,n){const r=B_e(e);if(r.length===0)return n;const i=fw(n);if(r.length===1)return i[r[0]]=t,i;let o=i[r[0]];for(let s=1;s<r.length-1;s+=1){if(o===void 0)return i;o=o[r[s]]}return o[r[r.length-1]]=t,i}function Ndt(e,{from:t,to:n},r){const i=ea(e,r);if(!Array.isArray(i))return r;const o=[...i],s=i[t];return o.splice(t,1),o.splice(n,0,s),HT(e,o,r)}function Mdt(e,t,n,r){const i=ea(e,r);if(!Array.isArray(i))return r;const o=[...i];return o.splice(typeof n=="number"?n:o.length,0,t),HT(e,o,r)}function $dt(e,t,n){const r=ea(e,n);return Array.isArray(r)?HT(e,r.filter((i,o)=>o!==t),n):n}function Ldt(e,t,n,r){const i=ea(e,r);if(!Array.isArray(i)||i.length<=n)return r;const o=[...i];return o[n]=t,HT(e,o,r)}function Fdt({$values:e,$errors:t,$status:n}){const r=A.useCallback((a,l)=>{n.clearFieldDirty(a),t.setErrors(u=>Odt(a,l,u)),e.setValues({values:Ndt(a,l,e.refValues.current),updateState:!0})},[]),i=A.useCallback((a,l)=>{n.clearFieldDirty(a),t.setErrors(u=>Yae(a,l,u,-1)),e.setValues({values:$dt(a,l,e.refValues.current),updateState:!0})},[]),o=A.useCallback((a,l,u)=>{n.clearFieldDirty(a),t.setErrors(c=>Yae(a,u,c,1)),e.setValues({values:Mdt(a,l,u,e.refValues.current),updateState:!0})},[]),s=A.useCallback((a,l,u)=>{n.clearFieldDirty(a),e.setValues({values:Ldt(a,u,l,e.refValues.current),updateState:!0})},[]);return{reorderListItem:r,removeListItem:i,insertListItem:o,replaceListItem:s}}var w8,Xae;function uY(){return Xae||(Xae=1,w8=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n}),w8}var jdt=uY();const IE=Xo(jdt);function $_(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(i=>i.startsWith(`${t}.`));return e[t]||r.some(i=>e[i])||!1}return n.some(r=>e[r])}function Bdt({initialDirty:e,initialTouched:t,mode:n,$values:r}){const[i,o]=A.useState(t),[s,a]=A.useState(e),l=A.useRef(t),u=A.useRef(e),c=A.useCallback(S=>{const T=typeof S=="function"?S(l.current):S;l.current=T,n==="controlled"&&o(T)},[]),d=A.useCallback((S,T=!1)=>{const k=typeof S=="function"?S(u.current):S;u.current=k,(n==="controlled"||T)&&a(k)},[]),f=A.useCallback(()=>c({}),[]),h=A.useCallback(S=>{const T=S?{...r.refValues.current,...S}:r.refValues.current;r.setValuesSnapshot(T),d({})},[]),m=A.useCallback((S,T)=>{c(k=>$_(k,S)===T?k:{...k,[S]:T})},[]),p=A.useCallback((S,T,k)=>{d(R=>$_(R,S)===T?R:{...R,[S]:T},k)},[]),g=A.useCallback((S,T)=>{const k=$_(u.current,S),R=!IE(ea(S,r.getValuesSnapshot()),T),I=$z(S,u.current);I[S]=R,d(I,k!==R)},[]),v=A.useCallback(S=>$_(l.current,S),[]),y=A.useCallback(S=>d(T=>{if(typeof S!="string")return T;const k=$z(S,T);return delete k[S],IE(k,T)?T:k}),[]),w=A.useCallback(S=>{if(S){const k=ea(S,u.current);if(typeof k=="boolean")return k;const R=ea(S,r.refValues.current),I=ea(S,r.valuesSnapshot.current);return!IE(R,I)}return Object.keys(u.current).length>0?$_(u.current):!IE(r.refValues.current,r.valuesSnapshot.current)},[]),_=A.useCallback(()=>u.current,[]),E=A.useCallback(()=>l.current,[]);return{touchedState:i,dirtyState:s,touchedRef:l,dirtyRef:u,setTouched:c,setDirty:d,resetDirty:h,resetTouched:f,isTouched:v,setFieldTouched:m,setFieldDirty:p,setTouchedState:o,setDirtyState:a,clearFieldDirty:y,isDirty:w,getDirty:_,getTouched:E,setCalculatedFieldDirty:g}}function zdt({initialValues:e,onValuesChange:t,mode:n}){const r=A.useRef(!1),[i,o]=A.useState(e||{}),s=A.useRef(i),a=A.useRef(i),l=A.useCallback(({values:p,subscribers:g,updateState:v=!0,mergeWithPreviousValues:y=!0})=>{const w=s.current,_=p instanceof Function?p(s.current):p,E=y?{...w,..._}:_;s.current=E,v&&o(E),t?.(E,w),g?.filter(Boolean).forEach(S=>S({updatedValues:E,previousValues:w}))},[t]),u=A.useCallback(p=>{const g=ea(p.path,s.current),v=p.value instanceof Function?p.value(g):p.value;if(g!==v){const y=s.current,w=HT(p.path,v,s.current);l({values:w,updateState:p.updateState}),p.subscribers?.filter(Boolean).forEach(_=>_({path:p.path,updatedValues:w,previousValues:y}))}},[l]),c=A.useCallback(p=>{a.current=p},[]),d=A.useCallback((p,g)=>{r.current||(r.current=!0,l({values:p,updateState:n==="controlled"}),c(p),g())},[l]),f=A.useCallback(()=>{l({values:a.current,updateState:!0,mergeWithPreviousValues:!1})},[l]),h=A.useCallback(()=>s.current,[]),m=A.useCallback(()=>a.current,[]);return{initialized:r,stateValues:i,refValues:s,valuesSnapshot:a,setValues:l,setFieldValue:u,resetValues:f,setValuesSnapshot:c,initialize:d,getValues:h,getValuesSnapshot:m}}function Udt({$status:e}){const t=A.useRef({}),n=A.useCallback((i,o)=>{A.useEffect(()=>(t.current[i]=t.current[i]||[],t.current[i].push(o),()=>{t.current[i]=t.current[i].filter(s=>s!==o)}),[o])},[]),r=A.useCallback(i=>t.current[i]?t.current[i].map(o=>s=>o({previousValue:ea(i,s.previousValues),value:ea(i,s.updatedValues),touched:e.isTouched(i),dirty:e.isDirty(i)})):[],[]);return{subscribers:t,watch:n,getFieldSubscribers:r}}function Qae(e,t){return e?`${e}-${t.toString()}`:t.toString()}const SR=Symbol("root-rule");function Jae(e){const t=Mz(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function Lz(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((i,o)=>{const s=e[o],a=`${n===""?"":`${n}.`}${o}`,l=ea(a,t);let u=!1;return typeof s=="function"&&(i[a]=s(l,t,a)),typeof s=="object"&&Array.isArray(l)&&(u=!0,l.forEach((c,d)=>Lz(s,t,`${a}.${d}`,i)),SR in s&&(i[a]=s[SR](l,t,a))),typeof s=="object"&&typeof l=="object"&&l!==null&&(u||Lz(s,t,a,i),SR in s&&(i[a]=s[SR](l,t,a))),i},r)}function Fz(e,t){return Jae(typeof e=="function"?e(t):Lz(e,t))}function TR(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=Fz(t,n),i=Object.keys(r.errors).find(o=>e.split(".").every((s,a)=>s===o.split(".")[a]));return{hasError:!!i,error:i?r.errors[i]:null}}const Hdt="__MANTINE_FORM_INDEX__";function Zae(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]+/g,`.${Hdt}`)):!1:!1}function z_e({name:e,mode:t="controlled",initialValues:n,initialErrors:r={},initialDirty:i={},initialTouched:o={},clearInputErrorOnChange:s=!0,validateInputOnChange:a=!1,validateInputOnBlur:l=!1,onValuesChange:u,transformValues:c=p=>p,enhanceGetInputProps:d,validate:f,onSubmitPreventDefault:h="always",touchTrigger:m="change"}={}){const p=Pdt(r),g=zdt({initialValues:n,onValuesChange:u,mode:t}),v=Bdt({initialDirty:i,initialTouched:o,$values:g,mode:t}),y=Fdt({$values:g,$errors:p,$status:v}),w=Udt({$status:v}),[_,E]=A.useState(0),[S,T]=A.useState({}),[k,R]=A.useState(!1),I=A.useCallback(()=>{g.resetValues(),p.clearErrors(),v.resetDirty(),v.resetTouched(),t==="uncontrolled"&&E(Q=>Q+1)},[]),P=A.useCallback(Q=>{s&&p.clearErrors(),t==="uncontrolled"&&E(ne=>ne+1),Object.keys(w.subscribers.current).forEach(ne=>{const ce=ea(ne,g.refValues.current),le=ea(ne,Q);ce!==le&&w.getFieldSubscribers(ne).forEach(ue=>ue({previousValues:Q,updatedValues:g.refValues.current}))})},[s]),N=A.useCallback(Q=>{const ne=g.refValues.current;g.initialize(Q,()=>t==="uncontrolled"&&E(ce=>ce+1)),P(ne)},[P]),M=A.useCallback((Q,ne,ce)=>{const le=Zae(Q,a),ue=ne instanceof Function?ne(ea(Q,g.refValues.current)):ne;v.setCalculatedFieldDirty(Q,ue),m==="change"&&v.setFieldTouched(Q,!0),!le&&s&&p.clearFieldError(Q),g.setFieldValue({path:Q,value:ne,updateState:t==="controlled",subscribers:[...w.getFieldSubscribers(Q),le?ae=>{const te=TR(Q,f,ae.updatedValues);te.hasError?p.setFieldError(Q,te.error):p.clearFieldError(Q)}:null,ce?.forceUpdate!==!1&&t!=="controlled"?()=>T(ae=>({...ae,[Q]:(ae[Q]||0)+1})):null]})},[u,f]),O=A.useCallback(Q=>{const ne=g.refValues.current;g.setValues({values:Q,updateState:t==="controlled"}),P(ne)},[u,P]),j=A.useCallback(()=>{const Q=Fz(f,g.refValues.current);return p.setErrors(Q.errors),Q},[f]),U=A.useCallback(Q=>{const ne=TR(Q,f,g.refValues.current);return ne.hasError?p.setFieldError(Q,ne.error):p.clearFieldError(Q),ne},[f]),q=(Q,{type:ne="input",withError:ce=!0,withFocus:le=!0,...ue}={})=>{const te={onChange:Ddt(se=>M(Q,se,{forceUpdate:!1})),"data-path":Qae(e,Q)};return ce&&(te.error=p.errorsState[Q]),ne==="checkbox"?te[t==="controlled"?"checked":"defaultChecked"]=ea(Q,g.refValues.current):te[t==="controlled"?"value":"defaultValue"]=ea(Q,g.refValues.current),le&&(te.onFocus=()=>v.setFieldTouched(Q,!0),te.onBlur=()=>{if(Zae(Q,l)){const se=TR(Q,f,g.refValues.current);se.hasError?p.setFieldError(Q,se.error):p.clearFieldError(Q)}}),Object.assign(te,d?.({inputProps:te,field:Q,options:{type:ne,withError:ce,withFocus:le,...ue},form:Y}))},W=(Q,ne)=>ce=>{h==="always"&&ce?.preventDefault();const le=j();if(le.hasErrors)h==="validation-failed"&&ce?.preventDefault(),ne?.(le.errors,g.refValues.current,ce);else{const ue=Q?.(c(g.refValues.current),ce);ue instanceof Promise&&(R(!0),ue.finally(()=>R(!1)))}},V=Q=>c(Q||g.refValues.current),z=A.useCallback(Q=>{Q.preventDefault(),I()},[]),L=A.useCallback(Q=>Q?!TR(Q,f,g.refValues.current).hasError:!Fz(f,g.refValues.current).hasErrors,[f]),H=Q=>`${_}-${Q}-${S[Q]||0}`,B=A.useCallback(Q=>document.querySelector(`[data-path="${Qae(e,Q)}"]`),[]),Y={watch:w.watch,initialized:g.initialized.current,values:g.stateValues,getValues:g.getValues,getInitialValues:g.getValuesSnapshot,setInitialValues:g.setValuesSnapshot,initialize:N,setValues:O,setFieldValue:M,submitting:k,setSubmitting:R,errors:p.errorsState,setErrors:p.setErrors,setFieldError:p.setFieldError,clearFieldError:p.clearFieldError,clearErrors:p.clearErrors,resetDirty:v.resetDirty,setTouched:v.setTouched,setDirty:v.setDirty,isTouched:v.isTouched,resetTouched:v.resetTouched,isDirty:v.isDirty,getTouched:v.getTouched,getDirty:v.getDirty,reorderListItem:y.reorderListItem,insertListItem:y.insertListItem,removeListItem:y.removeListItem,replaceListItem:y.replaceListItem,reset:I,validate:j,validateField:U,getInputProps:q,onSubmit:W,onReset:z,isValid:L,getTransformedValues:V,key:H,getInputNode:B};return Idt(e,Y),Y}function qdt(e,t){const n=t;return r=>typeof r!="string"?n:e.test(r)?null:n}function Vdt(e){return qdt(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,e)}function U_e(e,t){const n=e.minSelections&&t.length<e.minSelections,r=e.maxSelections&&t.length>e.maxSelections;return n?`Please select at least ${e.minSelections} options`:r?`Please select at most ${e.maxSelections} options`:null}function H_e(e,t){const n=e.minSelections&&t.length<e.minSelections,r=e.maxSelections&&t.length>e.maxSelections;return n&&r?`Please select between ${e.minSelections} and ${e.maxSelections} options`:n?`Please select at least ${e.minSelections} options`:r?`Please select at most ${e.maxSelections} options`:null}function jz(e,t){const n=typeof t=="string"?parseFloat(t):t,{min:r,max:i}=e;return r!==void 0&&i!==void 0&&(n<r||n>i)?`Please enter a value between ${r} and ${i}`:r!==void 0&&n<r?`Please enter a value of ${r} or greater`:i!==void 0&&n>i?`Please enter a value of ${i} or less`:null}function q_e(e,t){return Object.values(t).some(r=>r==="")?"Please answer all questions in the matrix to continue.":null}const Wdt=()=>typeof window>"u"?new URLSearchParams(""):new URLSearchParams(window.location.search),V_e=(e,t)=>{let n={};const r=Wdt();return e.forEach(i=>{const o=t?t[i.id]:{},s=t&&t[`${i.id}-dontKnow`]!==void 0?t[`${i.id}-dontKnow`]:!1,a=i.withDontKnow?{[`${i.id}-dontKnow`]:s}:{},l=t&&t[`${i.id}-other`]!==void 0?t[`${i.id}-other`]:"",u=i.withOther?{[`${i.id}-other`]:l}:{};if(o)n={...n,[i.id]:o,...a,...u};else{let c="";i.paramCapture?c=r.get(i.paramCapture):i.type==="reactive"||i.type==="ranking-sublist"||i.type==="ranking-categorical"||i.type==="ranking-pairwise"?c=[]:i.type==="matrix-radio"||i.type==="matrix-checkbox"?c=Object.fromEntries(i.questionOptions.map(d=>[HG(d),""])):i.type==="slider"&&i.startingValue&&(c=i.startingValue.toString()),n={...n,[i.id]:c,...a,...u}}}),{...n}},Gdt=(e,t,n)=>{const r=e.filter(o=>o.type==="reactive");let i=null;return r.forEach(o=>{Object.prototype.hasOwnProperty.call(n,o.id)&&(i===null&&(i={...t}),i[o.id]=n[o.id])}),i??t},Ydt=e=>{let t={};return e.forEach(n=>{n.required&&(t={...t,[n.id]:(r,i)=>{if(typeof r=="object"&&!Array.isArray(r)&&r!==null)return n.type==="matrix-checkbox"||n.type==="matrix-radio"?q_e(n,r):n.type==="ranking-sublist"||n.type==="ranking-categorical"||n.type==="ranking-pairwise"?Object.keys(r).length>0?null:"Empty Input":Object.values(r).every(o=>o!=="")?null:"Empty Input";if(Array.isArray(r)){if(n.requiredValue!=null&&!Array.isArray(n.requiredValue))return"Incorrect required value. Contact study administrator.";if(n.requiredValue!=null&&Array.isArray(n.requiredValue)){if(n.requiredValue.length!==r.length)return"Incorrect input";const o=[...n.requiredValue].sort(),s=[...r].sort();return o.every((a,l)=>a===s[l])?null:"Incorrect input"}return n.type==="checkbox"?H_e(n,r):n.type==="dropdown"?U_e(n,r):r.length===0?"Empty input":null}if(n.required&&n.requiredValue!=null&&r!=null)return r.toString()!==n.requiredValue.toString()?"Incorrect input":null;if(n.required){if((r==null||r==="")&&!i[`${n.id}-dontKnow`])return"Empty input";if(n.type==="numerical")return jz(n,r)}return r===null?"Empty input":null}})}),t};function Kdt(e,t,n){const[r,i]=A.useState(null),o=z_e({initialValues:V_e(e,n),validate:Ydt(e)});return A.useEffect(()=>{r!==t&&(i(t),o.reset())},[r,o,t]),o}function Eh(e,t,n){const{requiredValue:r,requiredLabel:i}=e;let o="";if(t.checked&&Array.isArray(r))o=r&&[...r].sort().toString()!==[...t.checked].sort().toString()?`Please ${n?"select":"enter"} ${i||r.toString()} to continue.`:null;else if(t.checked&&e.required&&e.type==="checkbox")o=H_e(e,t.checked);else if(t.value&&e.type==="dropdown")o=U_e(e,t.value);else if(t.value&&typeof t.value=="number"&&e.type==="numerical"&&jz(e,t.value))o=jz(e,t.value);else{if(t.value&&typeof t.value=="object"&&!Array.isArray(t.value)&&(e.type==="matrix-radio"||e.type==="matrix-checkbox"))return q_e(e,t.value);o=t.value&&r&&r.toString()!==t.value.toString()?`Please ${n?"select":"enter"} ${i||(n?n.find(s=>s.value===r)?.label:r.toString())} to continue.`:null}return o}function W_e({horizontal:e,children:t,style:n}){return e?b.jsx(ln,{mt:Ye(4),gap:"lg",style:n,children:t}):b.jsx(Nn,{gap:"md",style:n,children:t})}const Xdt="_fixDisabled_1k5ri_1",Qdt="_fixDisabledIcon_1k5ri_16",Jdt="_fixDisabledLabel_1k5ri_20",bd={fixDisabled:Xdt,fixDisabledIcon:Qdt,fixDisabledLabel:Jdt},Zdt="_fixDisabled_d4mus_1",cm={fixDisabled:Zdt};function Oc({prompt:e,required:t,index:n,enumerateQuestions:r,infoText:i}){return b.jsxs(lt,{direction:"row",wrap:"nowrap",gap:4,children:[r&&b.jsx(De,{style:{minWidth:"fit-content",fontSize:16,fontWeight:500},children:`${n}. `}),b.jsx(De,{style:{display:"block"},className:"no-last-child-bottom-padding",children:b.jsx(_h,{text:e,required:t})}),i&&b.jsx(ct,{label:i,multiline:!0,maw:400,position:"bottom",children:b.jsx(kc,{size:16,opacity:.5,style:{marginTop:6}})})]})}function y0({label:e,infoText:t,button:n=!1}){return b.jsxs(lt,{direction:"row",gap:4,align:"center",justify:n?"center":void 0,children:[n?b.jsx($e,{size:"sm",children:e}):b.jsx(_h,{text:e,inline:!0}),t&&b.jsx(ct,{label:t,multiline:!0,maw:400,position:"bottom",children:b.jsx(kc,{size:16,opacity:.5})})]})}function eft({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i,otherValue:o}){const{prompt:s,required:a,secondaryText:l,horizontal:u,withOther:c,options:d,infoText:f}=e,h=Om(),m=A.useMemo(()=>h?h.optionOrders:{},[h]),p=A.useMemo(()=>Wp(m[e.id]||d),[m,d,e.id]),[g,v]=A.useState(!1),y=A.useMemo(()=>Eh(e,n,p),[e,n,p]);return b.jsxs(Ia.Group,{label:s.length>0&&b.jsx(Oc,{prompt:s,required:a,index:r,enumerateQuestions:i,infoText:f}),description:l,...n,error:y,errorProps:{c:a?"red":"orange"},style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:[b.jsx(De,{mt:"xs",children:b.jsxs(W_e,{horizontal:!!u,style:{flexGrow:1},children:[p.map(w=>b.jsx(Ia,{disabled:t,value:w.value,label:b.jsx(y0,{label:w.label,infoText:w.infoText}),classNames:{input:bd.fixDisabled,label:bd.fixDisabledLabel,icon:bd.fixDisabledIcon}},w.value)),c&&b.jsx(Ia,{disabled:t,value:"__other",checked:g,onClick:w=>v(w.currentTarget.checked),label:u?"Other":b.jsx(Or,{mt:-8,placeholder:"Other",disabled:!g,...o,classNames:{input:cm.fixDisabled}}),classNames:{input:bd.fixDisabled,label:bd.fixDisabledLabel,icon:bd.fixDisabledIcon}},"__other")]})}),u&&c&&b.jsx(Or,{mt:"sm",placeholder:"Other",disabled:!g,...o,w:216,classNames:{input:cm.fixDisabled}})]})}function tft({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:o,prompt:s,required:a,options:l,secondaryText:u,infoText:c}=e,d=Wp(l),f=e.minSelections&&e.minSelections>=1||e.maxSelections&&e.maxSelections>1,h=({option:m})=>b.jsx(y0,{label:m.label,infoText:m.infoText});return f?b.jsx(Up,{disabled:t,label:s.length>0&&b.jsx(Oc,{prompt:s,required:a,index:r,enumerateQuestions:i,infoText:c}),description:u,placeholder:n.value.length===0?o:void 0,data:d,radius:"md",size:"md",...n,value:n.value===""?[]:Array.isArray(n.value)?n.value:[n.value],error:Eh(e,n,d),withErrorStyles:a,errorProps:{c:a?"red":"orange"},classNames:{input:cm.fixDisabled},maxDropdownHeight:200,clearable:!0,searchable:!0,renderOption:h}):b.jsx(om,{disabled:t,label:s.length>0&&b.jsx(Oc,{prompt:s,required:a,index:r,enumerateQuestions:i,infoText:c}),description:u,placeholder:o,data:d,radius:"md",size:"md",...n,value:n.value===""?null:n.value,error:Eh(e,n,d),withErrorStyles:a,errorProps:{c:a?"red":"orange"},classNames:{input:cm.fixDisabled},maxDropdownHeight:200,renderOption:h})}function nft({response:e,answer:t,index:n,enumerateQuestions:r}){const{prompt:i,required:o,secondaryText:s,infoText:a}=e;return b.jsx(Or.Wrapper,{label:i.length>0&&b.jsx(Oc,{prompt:i,required:o,index:n,enumerateQuestions:r,infoText:a}),description:s,size:"md",children:t.value&&b.jsx(ji,{children:Array.isArray(t.value)?t.value.map(l=>b.jsx(ji.Item,{children:l},l)):typeof t.value=="object"?Object.entries(t.value).map(([l,u])=>b.jsx(ji.Item,{children:`${l}: ${typeof u=="object"?JSON.stringify(u):u}`},l)):b.jsx(ji.Item,{children:t.value})})})}const rft="_fixDisabled_14ab8_1",ift="_fixDisabledIcon_14ab8_16",oft="_fixDisabledLabel_14ab8_20",Eg={fixDisabled:rft,fixDisabledIcon:ift,fixDisabledLabel:oft};function G_e({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i,stretch:o,otherValue:s}){const{prompt:a,required:l,leftLabel:u,rightLabel:c,secondaryText:d,infoText:f,horizontal:h,withOther:m,options:p,labelLocation:g}=e,v=Om(),y=A.useMemo(()=>v?v.optionOrders:{},[v]),w=A.useMemo(()=>Wp(y[e.id]||p),[y,p,e.id]),[_,E]=A.useState(!1),S=A.useMemo(()=>Eh(e,n,w),[e,n,w]),T=A.useMemo(()=>h&&g?g:"inline",[g,h]);return b.jsxs(Na.Group,{name:`radioInput${e.id}`,label:a.length>0&&b.jsx(Oc,{prompt:a,required:l,index:r,enumerateQuestions:i,infoText:f}),description:d,...n,error:S,errorProps:{c:l?"red":"orange"},style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:[h&&T==="above"&&(u||c)&&b.jsxs(ln,{gap:"lg",justify:"space-between",mt:0,children:[u&&b.jsx($e,{children:u}),c&&b.jsx($e,{children:c})]}),b.jsxs(ln,{gap:"lg",align:"flex-end",mt:h?0:"sm",children:[h&&T==="inline"&&u&&b.jsx($e,{children:u}),b.jsxs(W_e,{horizontal:!!h,style:{flexGrow:1},children:[w.map(k=>b.jsxs("div",{style:{display:"flex",flexDirection:h?"column":"row",gap:h?"unset":Ye(12),flex:o?1:"unset",alignItems:"center"},children:[h&&b.jsx(y0,{label:k.label,infoText:k.infoText}),b.jsx(Na,{disabled:t,value:k.value,label:b.jsx(y0,{label:k.label,infoText:k.infoText}),styles:{label:{display:h?"none":"initial"}},onChange:()=>E(!1),classNames:{radio:Eg.fixDisabled,label:Eg.fixDisabledLabel,icon:Eg.fixDisabledIcon}})]},`${k.value}-${e.id}`)),m&&b.jsxs("div",{style:{display:"flex",flexDirection:h?"column":"row",gap:h?"unset":Ye(12),flex:o?1:"unset",alignItems:"center"},children:[h&&b.jsx($e,{size:"sm",children:"Other"}),b.jsx(Na,{disabled:t,value:"other",checked:_,onClick:k=>E(k.currentTarget.checked),label:!h&&b.jsx(Or,{mt:-8,placeholder:"Other",disabled:!_,...s,classNames:{input:cm.fixDisabled}}),mt:0,classNames:{radio:Eg.fixDisabled,label:Eg.fixDisabledLabel,icon:Eg.fixDisabledIcon}})]})]}),h&&T==="inline"&&c&&b.jsx($e,{children:c})]}),h&&m&&b.jsx(Or,{mt:"sm",placeholder:"Other",disabled:!_,...s,w:216,classNames:{input:cm.fixDisabled}}),h&&T==="below"&&(u||c)&&b.jsxs(ln,{gap:"lg",justify:"space-between",mt:"sm",children:[u&&b.jsx($e,{children:u}),c&&b.jsx($e,{children:c})]})]},e.id)}function sft({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{numItems:o,start:s,spacing:a}=e,l=[],u=s??1,c=a??1;for(let f=0;f<+o;f+=1){const h=u+f*c;l.push({label:`${h}`,value:`${h}`})}const d={...e,type:"radio",options:l,horizontal:!0};return b.jsx(G_e,{disabled:t,response:d,answer:n,index:r,enumerateQuestions:i,stretch:!0})}function aft({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:o,required:s,placeholder:a,secondaryText:l,infoText:u}=e;return b.jsx(RW,{disabled:t,placeholder:a,label:o.length>0&&b.jsx(Oc,{prompt:o,required:s,index:r,enumerateQuestions:i,infoText:u}),description:l,radius:"md",size:"md",...n,error:Eh(e,n),withErrorStyles:s,errorProps:{c:s?"red":"orange"},classNames:{input:cm.fixDisabled}})}function lft(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return A.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const wM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function gC(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function cY(e){return"nodeType"in e}function El(e){var t,n;return e?gC(e)?e:cY(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function dY(e){const{Document:t}=El(e);return e instanceof t}function qT(e){return gC(e)?!1:e instanceof El(e).HTMLElement}function Y_e(e){return e instanceof El(e).SVGElement}function yC(e){return e?gC(e)?e.document:cY(e)?dY(e)?e:qT(e)||Y_e(e)?e.ownerDocument:document:document:document}const Gd=wM?A.useLayoutEffect:A.useEffect;function xM(e){const t=A.useRef(e);return Gd(()=>{t.current=e}),A.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function uft(){const e=A.useRef(null),t=A.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=A.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function b2(e,t){t===void 0&&(t=[e]);const n=A.useRef(e);return Gd(()=>{n.current!==e&&(n.current=e)},t),n}function VT(e,t){const n=A.useRef();return A.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Z3(e){const t=xM(e),n=A.useRef(null),r=A.useCallback(i=>{i!==n.current&&t?.(i,n.current),n.current=i},[]);return[n,r]}function eO(e){const t=A.useRef();return A.useEffect(()=>{t.current=e},[e]),t.current}let x8={};function WT(e,t){return A.useMemo(()=>{if(t)return t;const n=x8[e]==null?0:x8[e]+1;return x8[e]=n,e+"-"+n},[e,t])}function K_e(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((o,s)=>{const a=Object.entries(s);for(const[l,u]of a){const c=o[l];c!=null&&(o[l]=c+e*u)}return o},{...t})}}const Ow=K_e(1),tO=K_e(-1);function cft(e){return"clientX"in e&&"clientY"in e}function CM(e){if(!e)return!1;const{KeyboardEvent:t}=El(e.target);return t&&e instanceof t}function dft(e){if(!e)return!1;const{TouchEvent:t}=El(e.target);return t&&e instanceof t}function nO(e){if(dft(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return cft(e)?{x:e.clientX,y:e.clientY}:null}const v0=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[v0.Translate.toString(e),v0.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),ele="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function fft(e){return e.matches(ele)?e:e.querySelector(ele)}const hft={display:"none"};function pft(e){let{id:t,value:n}=e;return un.createElement("div",{id:t,style:hft},n)}function mft(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return un.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function gft(){const[e,t]=A.useState("");return{announce:A.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const X_e=A.createContext(null);function yft(e){const t=A.useContext(X_e);A.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function vft(){const[e]=A.useState(()=>new Set),t=A.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[A.useCallback(r=>{let{type:i,event:o}=r;e.forEach(s=>{var a;return(a=s[i])==null?void 0:a.call(s,o)})},[e]),t]}const bft={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},wft={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function xft(e){let{announcements:t=wft,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=bft}=e;const{announce:o,announcement:s}=gft(),a=WT("DndLiveRegion"),[l,u]=A.useState(!1);if(A.useEffect(()=>{u(!0)},[]),yft(A.useMemo(()=>({onDragStart(d){let{active:f}=d;o(t.onDragStart({active:f}))},onDragMove(d){let{active:f,over:h}=d;t.onDragMove&&o(t.onDragMove({active:f,over:h}))},onDragOver(d){let{active:f,over:h}=d;o(t.onDragOver({active:f,over:h}))},onDragEnd(d){let{active:f,over:h}=d;o(t.onDragEnd({active:f,over:h}))},onDragCancel(d){let{active:f,over:h}=d;o(t.onDragCancel({active:f,over:h}))}}),[o,t])),!l)return null;const c=un.createElement(un.Fragment,null,un.createElement(pft,{id:r,value:i.draggable}),un.createElement(mft,{id:a,announcement:s}));return n?kd.createPortal(c,n):c}var os;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(os||(os={}));function rO(){}function tle(e,t){return A.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Cft(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return A.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Yd=Object.freeze({x:0,y:0});function _ft(e,t){const n=nO(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function Eft(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Sft(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Tft(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),s=i-r,a=o-n;if(r<i&&n<o){const l=t.width*t.height,u=e.width*e.height,c=s*a,d=c/(l+u-c);return Number(d.toFixed(4))}return 0}const _M=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const o of r){const{id:s}=o,a=n.get(s);if(a){const l=Tft(a,t);l>0&&i.push({id:s,data:{droppableContainer:o,value:l}})}}return i.sort(Eft)};function kft(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Q_e(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Yd}function Aft(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.reduce((s,a)=>({...s,top:s.top+e*a.y,bottom:s.bottom+e*a.y,left:s.left+e*a.x,right:s.right+e*a.x}),{...n})}}const Rft=Aft(1);function J_e(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Ift(e,t,n){const r=J_e(t);if(!r)return e;const{scaleX:i,scaleY:o,x:s,y:a}=r,l=e.left-s-(1-i)*parseFloat(n),u=e.top-a-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),c=i?e.width/i:e.width,d=o?e.height/o:e.height;return{width:c,height:d,top:u,right:l+c,bottom:u+d,left:l}}const Dft={ignoreTransform:!1};function vC(e,t){t===void 0&&(t=Dft);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:c}=El(e).getComputedStyle(e);u&&(n=Ift(n,u,c))}const{top:r,left:i,width:o,height:s,bottom:a,right:l}=n;return{top:r,left:i,width:o,height:s,bottom:a,right:l}}function nle(e){return vC(e,{ignoreTransform:!0})}function Pft(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Oft(e,t){return t===void 0&&(t=El(e).getComputedStyle(e)),t.position==="fixed"}function Nft(e,t){t===void 0&&(t=El(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const o=t[i];return typeof o=="string"?n.test(o):!1})}function fY(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(dY(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!qT(i)||Y_e(i)||n.includes(i))return n;const o=El(e).getComputedStyle(i);return i!==e&&Nft(i,o)&&n.push(i),Oft(i,o)?n:r(i.parentNode)}return e?r(e):n}function Z_e(e){const[t]=fY(e,1);return t??null}function C8(e){return!wM||!e?null:gC(e)?e:cY(e)?dY(e)||e===yC(e).scrollingElement?window:qT(e)?e:null:null}function eEe(e){return gC(e)?e.scrollX:e.scrollLeft}function tEe(e){return gC(e)?e.scrollY:e.scrollTop}function Bz(e){return{x:eEe(e),y:tEe(e)}}var Cs;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Cs||(Cs={}));function nEe(e){return!wM||!e?!1:e===document.scrollingElement}function rEe(e){const t={x:0,y:0},n=nEe(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,s=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:i,isLeft:o,isBottom:s,isRight:a,maxScroll:r,minScroll:t}}const Mft={x:.2,y:.2};function $ft(e,t,n,r,i){let{top:o,left:s,right:a,bottom:l}=n;r===void 0&&(r=10),i===void 0&&(i=Mft);const{isTop:u,isBottom:c,isLeft:d,isRight:f}=rEe(e),h={x:0,y:0},m={x:0,y:0},p={height:t.height*i.y,width:t.width*i.x};return!u&&o<=t.top+p.height?(h.y=Cs.Backward,m.y=r*Math.abs((t.top+p.height-o)/p.height)):!c&&l>=t.bottom-p.height&&(h.y=Cs.Forward,m.y=r*Math.abs((t.bottom-p.height-l)/p.height)),!f&&a>=t.right-p.width?(h.x=Cs.Forward,m.x=r*Math.abs((t.right-p.width-a)/p.width)):!d&&s<=t.left+p.width&&(h.x=Cs.Backward,m.x=r*Math.abs((t.left+p.width-s)/p.width)),{direction:h,speed:m}}function Lft(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:s}=window;return{top:0,left:0,right:o,bottom:s,width:o,height:s}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function iEe(e){return e.reduce((t,n)=>Ow(t,Bz(n)),Yd)}function Fft(e){return e.reduce((t,n)=>t+eEe(n),0)}function jft(e){return e.reduce((t,n)=>t+tEe(n),0)}function oEe(e,t){if(t===void 0&&(t=vC),!e)return;const{top:n,left:r,bottom:i,right:o}=t(e);Z_e(e)&&(i<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Bft=[["x",["left","right"],Fft],["y",["top","bottom"],jft]];class hY{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=fY(n),i=iEe(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,s,a]of Bft)for(const l of s)Object.defineProperty(this,l,{get:()=>{const u=a(r),c=i[o]-u;return this.rect[l]+c},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}let wS=class{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}};function zft(e){const{EventTarget:t}=El(e);return e instanceof t?e:yC(e)}function _8(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var hc;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(hc||(hc={}));function rle(e){e.preventDefault()}function Uft(e){e.stopPropagation()}var Kr;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Kr||(Kr={}));const sEe={start:[Kr.Space,Kr.Enter],cancel:[Kr.Esc],end:[Kr.Space,Kr.Enter,Kr.Tab]},Hft=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Kr.Right:return{...n,x:n.x+25};case Kr.Left:return{...n,x:n.x-25};case Kr.Down:return{...n,y:n.y+25};case Kr.Up:return{...n,y:n.y-25}}};class pY{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new wS(yC(n)),this.windowListeners=new wS(El(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(hc.Resize,this.handleCancel),this.windowListeners.add(hc.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(hc.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&oEe(r),n(Yd)}handleKeyDown(t){if(CM(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:o=sEe,coordinateGetter:s=Hft,scrollBehavior:a="smooth"}=i,{code:l}=t;if(o.end.includes(l)){this.handleEnd(t);return}if(o.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:u}=r.current,c=u?{x:u.left,y:u.top}:Yd;this.referenceCoordinates||(this.referenceCoordinates=c);const d=s(t,{active:n,context:r.current,currentCoordinates:c});if(d){const f=tO(d,c),h={x:0,y:0},{scrollableAncestors:m}=r.current;for(const p of m){const g=t.code,{isTop:v,isRight:y,isLeft:w,isBottom:_,maxScroll:E,minScroll:S}=rEe(p),T=Lft(p),k={x:Math.min(g===Kr.Right?T.right-T.width/2:T.right,Math.max(g===Kr.Right?T.left:T.left+T.width/2,d.x)),y:Math.min(g===Kr.Down?T.bottom-T.height/2:T.bottom,Math.max(g===Kr.Down?T.top:T.top+T.height/2,d.y))},R=g===Kr.Right&&!y||g===Kr.Left&&!w,I=g===Kr.Down&&!_||g===Kr.Up&&!v;if(R&&k.x!==d.x){const P=p.scrollLeft+f.x,N=g===Kr.Right&&P<=E.x||g===Kr.Left&&P>=S.x;if(N&&!f.y){p.scrollTo({left:P,behavior:a});return}N?h.x=p.scrollLeft-P:h.x=g===Kr.Right?p.scrollLeft-E.x:p.scrollLeft-S.x,h.x&&p.scrollBy({left:-h.x,behavior:a});break}else if(I&&k.y!==d.y){const P=p.scrollTop+f.y,N=g===Kr.Down&&P<=E.y||g===Kr.Up&&P>=S.y;if(N&&!f.x){p.scrollTo({top:P,behavior:a});return}N?h.y=p.scrollTop-P:h.y=g===Kr.Down?p.scrollTop-E.y:p.scrollTop-S.y,h.y&&p.scrollBy({top:-h.y,behavior:a});break}}this.handleMove(t,Ow(tO(d,this.referenceCoordinates),h))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}pY.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=sEe,onActivation:i}=t,{active:o}=n;const{code:s}=e.nativeEvent;if(r.start.includes(s)){const a=o.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),i?.({event:e.nativeEvent}),!0)}return!1}}];function ile(e){return!!(e&&"distance"in e)}function ole(e){return!!(e&&"delay"in e)}class mY{constructor(t,n,r){var i;r===void 0&&(r=zft(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:s}=o;this.props=t,this.events=n,this.document=yC(s),this.documentListeners=new wS(this.document),this.listeners=new wS(r),this.windowListeners=new wS(El(s)),this.initialCoordinates=(i=nO(o))!=null?i:Yd,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(hc.Resize,this.handleCancel),this.windowListeners.add(hc.DragStart,rle),this.windowListeners.add(hc.VisibilityChange,this.handleCancel),this.windowListeners.add(hc.ContextMenu,rle),this.documentListeners.add(hc.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(ole(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(ile(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(hc.Click,Uft,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(hc.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:o}=this,{onMove:s,options:{activationConstraint:a}}=o;if(!i)return;const l=(n=nO(t))!=null?n:Yd,u=tO(i,l);if(!r&&a){if(ile(a)){if(a.tolerance!=null&&_8(u,a.tolerance))return this.handleCancel();if(_8(u,a.distance))return this.handleStart()}if(ole(a)&&_8(u,a.tolerance))return this.handleCancel();this.handlePending(a,u);return}t.cancelable&&t.preventDefault(),s(l)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Kr.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const qft={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class gY extends mY{constructor(t){const{event:n}=t,r=yC(n.target);super(t,qft,r)}}gY.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const Vft={move:{name:"mousemove"},end:{name:"mouseup"}};var zz;(function(e){e[e.RightClick=2]="RightClick"})(zz||(zz={}));class Wft extends mY{constructor(t){super(t,Vft,yC(t.event.target))}}Wft.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===zz.RightClick?!1:(r?.({event:n}),!0)}}];const E8={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Gft extends mY{constructor(t){super(t,E8)}static setup(){return window.addEventListener(E8.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(E8.move.name,t)};function t(){}}}Gft.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r?.({event:n}),!0)}}];var xS;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(xS||(xS={}));var iO;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(iO||(iO={}));function Yft(e){let{acceleration:t,activator:n=xS.Pointer,canScroll:r,draggingRect:i,enabled:o,interval:s=5,order:a=iO.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:c,delta:d,threshold:f}=e;const h=Xft({delta:d,disabled:!o}),[m,p]=uft(),g=A.useRef({x:0,y:0}),v=A.useRef({x:0,y:0}),y=A.useMemo(()=>{switch(n){case xS.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case xS.DraggableRect:return i}},[n,i,l]),w=A.useRef(null),_=A.useCallback(()=>{const S=w.current;if(!S)return;const T=g.current.x*v.current.x,k=g.current.y*v.current.y;S.scrollBy(T,k)},[]),E=A.useMemo(()=>a===iO.TreeOrder?[...u].reverse():u,[a,u]);A.useEffect(()=>{if(!o||!u.length||!y){p();return}for(const S of E){if(r?.(S)===!1)continue;const T=u.indexOf(S),k=c[T];if(!k)continue;const{direction:R,speed:I}=$ft(S,k,y,t,f);for(const P of["x","y"])h[P][R[P]]||(I[P]=0,R[P]=0);if(I.x>0||I.y>0){p(),w.current=S,m(_,s),g.current=I,v.current=R;return}}g.current={x:0,y:0},v.current={x:0,y:0},p()},[t,_,r,p,o,s,JSON.stringify(y),JSON.stringify(h),m,u,E,c,JSON.stringify(f)])}const Kft={x:{[Cs.Backward]:!1,[Cs.Forward]:!1},y:{[Cs.Backward]:!1,[Cs.Forward]:!1}};function Xft(e){let{delta:t,disabled:n}=e;const r=eO(t);return VT(i=>{if(n||!r||!i)return Kft;const o={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Cs.Backward]:i.x[Cs.Backward]||o.x===-1,[Cs.Forward]:i.x[Cs.Forward]||o.x===1},y:{[Cs.Backward]:i.y[Cs.Backward]||o.y===-1,[Cs.Forward]:i.y[Cs.Forward]||o.y===1}}},[n,t,r])}function Qft(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return VT(i=>{var o;return t==null?null:(o=r??i)!=null?o:null},[r,t])}function Jft(e,t){return A.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,o=i.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,r)}));return[...n,...o]},[]),[e,t])}var w2;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(w2||(w2={}));var Uz;(function(e){e.Optimized="optimized"})(Uz||(Uz={}));const sle=new Map;function Zft(e,t){let{dragging:n,dependencies:r,config:i}=t;const[o,s]=A.useState(null),{frequency:a,measure:l,strategy:u}=i,c=A.useRef(e),d=g(),f=b2(d),h=A.useCallback(function(v){v===void 0&&(v=[]),!f.current&&s(y=>y===null?v:y.concat(v.filter(w=>!y.includes(w))))},[f]),m=A.useRef(null),p=VT(v=>{if(d&&!n)return sle;if(!v||v===sle||c.current!==e||o!=null){const y=new Map;for(let w of e){if(!w)continue;if(o&&o.length>0&&!o.includes(w.id)&&w.rect.current){y.set(w.id,w.rect.current);continue}const _=w.node.current,E=_?new hY(l(_),_):null;w.rect.current=E,E&&y.set(w.id,E)}return y}return v},[e,o,n,d,l]);return A.useEffect(()=>{c.current=e},[e]),A.useEffect(()=>{d||h()},[n,d]),A.useEffect(()=>{o&&o.length>0&&s(null)},[JSON.stringify(o)]),A.useEffect(()=>{d||typeof a!="number"||m.current!==null||(m.current=setTimeout(()=>{h(),m.current=null},a))},[a,d,h,...r]),{droppableRects:p,measureDroppableContainers:h,measuringScheduled:o!=null};function g(){switch(u){case w2.Always:return!1;case w2.BeforeDragging:return n;default:return!n}}}function yY(e,t){return VT(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function eht(e,t){return yY(e,t)}function tht(e){let{callback:t,disabled:n}=e;const r=xM(t),i=A.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return A.useEffect(()=>()=>i?.disconnect(),[i]),i}function EM(e){let{callback:t,disabled:n}=e;const r=xM(t),i=A.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return A.useEffect(()=>()=>i?.disconnect(),[i]),i}function nht(e){return new hY(vC(e),e)}function ale(e,t,n){t===void 0&&(t=nht);const[r,i]=A.useState(null);function o(){i(l=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=l??n)!=null?u:null}const c=t(e);return JSON.stringify(l)===JSON.stringify(c)?l:c})}const s=tht({callback(l){if(e)for(const u of l){const{type:c,target:d}=u;if(c==="childList"&&d instanceof HTMLElement&&d.contains(e)){o();break}}}}),a=EM({callback:o});return Gd(()=>{o(),e?(a?.observe(e),s?.observe(document.body,{childList:!0,subtree:!0})):(a?.disconnect(),s?.disconnect())},[e]),r}function rht(e){const t=yY(e);return Q_e(e,t)}const lle=[];function iht(e){const t=A.useRef(e),n=VT(r=>e?r&&r!==lle&&e&&t.current&&e.parentNode===t.current.parentNode?r:fY(e):lle,[e]);return A.useEffect(()=>{t.current=e},[e]),n}function oht(e){const[t,n]=A.useState(null),r=A.useRef(e),i=A.useCallback(o=>{const s=C8(o.target);s&&n(a=>a?(a.set(s,Bz(s)),new Map(a)):null)},[]);return A.useEffect(()=>{const o=r.current;if(e!==o){s(o);const a=e.map(l=>{const u=C8(l);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,Bz(u)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=e}return()=>{s(e),s(o)};function s(a){a.forEach(l=>{const u=C8(l);u?.removeEventListener("scroll",i)})}},[i,e]),A.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,s)=>Ow(o,s),Yd):iEe(e):Yd,[e,t])}function ule(e,t){t===void 0&&(t=[]);const n=A.useRef(null);return A.useEffect(()=>{n.current=null},t),A.useEffect(()=>{const r=e!==Yd;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?tO(e,n.current):Yd}function sht(e){A.useEffect(()=>{if(!wM)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function aht(e,t){return A.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:o}=r;return n[i]=s=>{o(s,t)},n},{}),[e,t])}function aEe(e){return A.useMemo(()=>e?Pft(e):null,[e])}const cle=[];function lht(e,t){t===void 0&&(t=vC);const[n]=e,r=aEe(n?El(n):null),[i,o]=A.useState(cle);function s(){o(()=>e.length?e.map(l=>nEe(l)?r:new hY(t(l),l)):cle)}const a=EM({callback:s});return Gd(()=>{a?.disconnect(),s(),e.forEach(l=>a?.observe(l))},[e]),i}function lEe(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return qT(t)?t:e}function uht(e){let{measure:t}=e;const[n,r]=A.useState(null),i=A.useCallback(u=>{for(const{target:c}of u)if(qT(c)){r(d=>{const f=t(c);return d?{...d,width:f.width,height:f.height}:f});break}},[t]),o=EM({callback:i}),s=A.useCallback(u=>{const c=lEe(u);o?.disconnect(),c&&o?.observe(c),r(c?t(c):null)},[t,o]),[a,l]=Z3(s);return A.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const cht=[{sensor:gY,options:{}},{sensor:pY,options:{}}],dht={current:{}},xP={draggable:{measure:nle},droppable:{measure:nle,strategy:w2.WhileDragging,frequency:Uz.Optimized},dragOverlay:{measure:vC}};class CS extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const fht={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new CS,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:rO},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:xP,measureDroppableContainers:rO,windowRect:null,measuringScheduled:!1},uEe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:rO,draggableNodes:new Map,over:null,measureDroppableContainers:rO},GT=A.createContext(uEe),cEe=A.createContext(fht);function hht(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new CS}}}function pht(e,t){switch(t.type){case os.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case os.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case os.DragEnd:case os.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case os.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new CS(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case os.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const s=new CS(e.droppable.containers);return s.set(n,{...o,disabled:i}),{...e,droppable:{...e.droppable,containers:s}}}case os.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new CS(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function mht(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=A.useContext(GT),o=eO(r),s=eO(n?.id);return A.useEffect(()=>{if(!t&&!r&&o&&s!=null){if(!CM(o)||document.activeElement===o.target)return;const a=i.get(s);if(!a)return;const{activatorNode:l,node:u}=a;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const c of[l.current,u.current]){if(!c)continue;const d=fft(c);if(d){d.focus();break}}})}},[r,t,i,s,o]),null}function dEe(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,o)=>o({transform:i,...r}),n):n}function ght(e){return A.useMemo(()=>({draggable:{...xP.draggable,...e?.draggable},droppable:{...xP.droppable,...e?.droppable},dragOverlay:{...xP.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function yht(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const o=A.useRef(!1),{x:s,y:a}=typeof i=="boolean"?{x:i,y:i}:i;Gd(()=>{if(!s&&!a||!t){o.current=!1;return}if(o.current||!r)return;const u=t?.node.current;if(!u||u.isConnected===!1)return;const c=n(u),d=Q_e(c,r);if(s||(d.x=0),a||(d.y=0),o.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const f=Z_e(u);f&&f.scrollBy({top:d.y,left:d.x})}},[t,s,a,r,n])}const SM=A.createContext({...Yd,scaleX:1,scaleY:1});var Sg;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Sg||(Sg={}));const vY=A.memo(function(t){var n,r,i,o;let{id:s,accessibility:a,autoScroll:l=!0,children:u,sensors:c=cht,collisionDetection:d=_M,measuring:f,modifiers:h,...m}=t;const p=A.useReducer(pht,void 0,hht),[g,v]=p,[y,w]=vft(),[_,E]=A.useState(Sg.Uninitialized),S=_===Sg.Initialized,{draggable:{active:T,nodes:k,translate:R},droppable:{containers:I}}=g,P=T!=null?k.get(T):null,N=A.useRef({initial:null,translated:null}),M=A.useMemo(()=>{var En;return T!=null?{id:T,data:(En=P?.data)!=null?En:dht,rect:N}:null},[T,P]),O=A.useRef(null),[j,U]=A.useState(null),[q,W]=A.useState(null),V=b2(m,Object.values(m)),z=WT("DndDescribedBy",s),L=A.useMemo(()=>I.getEnabled(),[I]),H=ght(f),{droppableRects:B,measureDroppableContainers:Y,measuringScheduled:Q}=Zft(L,{dragging:S,dependencies:[R.x,R.y],config:H.droppable}),ne=Qft(k,T),ce=A.useMemo(()=>q?nO(q):null,[q]),le=mr(),ue=eht(ne,H.draggable.measure);yht({activeNode:T!=null?k.get(T):null,config:le.layoutShiftCompensation,initialRect:ue,measure:H.draggable.measure});const ae=ale(ne,H.draggable.measure,ue),te=ale(ne?ne.parentElement:null),se=A.useRef({activatorEvent:null,active:null,activeNode:ne,collisionRect:null,collisions:null,droppableRects:B,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:I,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),we=I.getNodeFor((n=se.current.over)==null?void 0:n.id),X=uht({measure:H.dragOverlay.measure}),he=(r=X.nodeRef.current)!=null?r:ne,ge=S?(i=X.rect)!=null?i:ae:null,re=!!(X.nodeRef.current&&X.rect),ee=rht(re?null:ae),fe=aEe(he?El(he):null),Re=iht(S?we??ne:null),Oe=lht(Re),Ae=dEe(h,{transform:{x:R.x-ee.x,y:R.y-ee.y,scaleX:1,scaleY:1},activatorEvent:q,active:M,activeNodeRect:ae,containerNodeRect:te,draggingNodeRect:ge,over:se.current.over,overlayNodeRect:X.rect,scrollableAncestors:Re,scrollableAncestorRects:Oe,windowRect:fe}),Se=ce?Ow(ce,R):null,xe=oht(Re),ke=ule(xe),me=ule(xe,[ae]),Me=Ow(Ae,ke),ze=ge?Rft(ge,Ae):null,Xe=M&&ze?d({active:M,collisionRect:ze,droppableRects:B,droppableContainers:L,pointerCoordinates:Se}):null,tt=Sft(Xe,"id"),[gt,qt]=A.useState(null),zt=re?Ae:Ow(Ae,me),_n=kft(zt,(o=gt?.rect)!=null?o:null,ae),$t=A.useRef(null),dn=A.useCallback((En,nn)=>{let{sensor:rr,options:ii}=nn;if(O.current==null)return;const br=k.get(O.current);if(!br)return;const Sn=En.nativeEvent,ht=new rr({active:O.current,activeNode:br,event:Sn,options:ii,context:se,onAbort(Ut){if(!k.get(Ut))return;const{onDragAbort:sn}=V.current,Yn={id:Ut};sn?.(Yn),y({type:"onDragAbort",event:Yn})},onPending(Ut,Zn,sn,Yn){if(!k.get(Ut))return;const{onDragPending:kr}=V.current,Ar={id:Ut,constraint:Zn,initialCoordinates:sn,offset:Yn};kr?.(Ar),y({type:"onDragPending",event:Ar})},onStart(Ut){const Zn=O.current;if(Zn==null)return;const sn=k.get(Zn);if(!sn)return;const{onDragStart:Yn}=V.current,wr={activatorEvent:Sn,active:{id:Zn,data:sn.data,rect:N}};kd.unstable_batchedUpdates(()=>{Yn?.(wr),E(Sg.Initializing),v({type:os.DragStart,initialCoordinates:Ut,active:Zn}),y({type:"onDragStart",event:wr}),U($t.current),W(Sn)})},onMove(Ut){v({type:os.DragMove,coordinates:Ut})},onEnd:cr(os.DragEnd),onCancel:cr(os.DragCancel)});$t.current=ht;function cr(Ut){return async function(){const{active:sn,collisions:Yn,over:wr,scrollAdjustedTranslate:kr}=se.current;let Ar=null;if(sn&&kr){const{cancelDrop:Qo}=V.current;Ar={activatorEvent:Sn,active:sn,collisions:Yn,delta:kr,over:wr},Ut===os.DragEnd&&typeof Qo=="function"&&await Promise.resolve(Qo(Ar))&&(Ut=os.DragCancel)}O.current=null,kd.unstable_batchedUpdates(()=>{v({type:Ut}),E(Sg.Uninitialized),qt(null),U(null),W(null),$t.current=null;const Qo=Ut===os.DragEnd?"onDragEnd":"onDragCancel";if(Ar){const fa=V.current[Qo];fa?.(Ar),y({type:Qo,event:Ar})}})}}},[k]),Vn=A.useCallback((En,nn)=>(rr,ii)=>{const br=rr.nativeEvent,Sn=k.get(ii);if(O.current!==null||!Sn||br.dndKit||br.defaultPrevented)return;const ht={active:Sn};En(rr,nn.options,ht)===!0&&(br.dndKit={capturedBy:nn.sensor},O.current=ii,dn(rr,nn))},[k,dn]),Ln=Jft(c,Vn);sht(c),Gd(()=>{ae&&_===Sg.Initializing&&E(Sg.Initialized)},[ae,_]),A.useEffect(()=>{const{onDragMove:En}=V.current,{active:nn,activatorEvent:rr,collisions:ii,over:br}=se.current;if(!nn||!rr)return;const Sn={active:nn,activatorEvent:rr,collisions:ii,delta:{x:Me.x,y:Me.y},over:br};kd.unstable_batchedUpdates(()=>{En?.(Sn),y({type:"onDragMove",event:Sn})})},[Me.x,Me.y]),A.useEffect(()=>{const{active:En,activatorEvent:nn,collisions:rr,droppableContainers:ii,scrollAdjustedTranslate:br}=se.current;if(!En||O.current==null||!nn||!br)return;const{onDragOver:Sn}=V.current,ht=ii.get(tt),cr=ht&&ht.rect.current?{id:ht.id,rect:ht.rect.current,data:ht.data,disabled:ht.disabled}:null,Ut={active:En,activatorEvent:nn,collisions:rr,delta:{x:br.x,y:br.y},over:cr};kd.unstable_batchedUpdates(()=>{qt(cr),Sn?.(Ut),y({type:"onDragOver",event:Ut})})},[tt]),Gd(()=>{se.current={activatorEvent:q,active:M,activeNode:ne,collisionRect:ze,collisions:Xe,droppableRects:B,draggableNodes:k,draggingNode:he,draggingNodeRect:ge,droppableContainers:I,over:gt,scrollableAncestors:Re,scrollAdjustedTranslate:Me},N.current={initial:ge,translated:ze}},[M,ne,Xe,ze,k,he,ge,B,I,gt,Re,Me]),Yft({...le,delta:R,draggingRect:ze,pointerCoordinates:Se,scrollableAncestors:Re,scrollableAncestorRects:Oe});const Tr=A.useMemo(()=>({active:M,activeNode:ne,activeNodeRect:ae,activatorEvent:q,collisions:Xe,containerNodeRect:te,dragOverlay:X,draggableNodes:k,droppableContainers:I,droppableRects:B,over:gt,measureDroppableContainers:Y,scrollableAncestors:Re,scrollableAncestorRects:Oe,measuringConfiguration:H,measuringScheduled:Q,windowRect:fe}),[M,ne,ae,q,Xe,te,X,k,I,B,gt,Y,Re,Oe,H,Q,fe]),Xn=A.useMemo(()=>({activatorEvent:q,activators:Ln,active:M,activeNodeRect:ae,ariaDescribedById:{draggable:z},dispatch:v,draggableNodes:k,over:gt,measureDroppableContainers:Y}),[q,Ln,M,ae,v,z,k,gt,Y]);return un.createElement(X_e.Provider,{value:w},un.createElement(GT.Provider,{value:Xn},un.createElement(cEe.Provider,{value:Tr},un.createElement(SM.Provider,{value:_n},u)),un.createElement(mht,{disabled:a?.restoreFocus===!1})),un.createElement(xft,{...a,hiddenTextDescribedById:z}));function mr(){const En=j?.autoScrollEnabled===!1,nn=typeof l=="object"?l.enabled===!1:l===!1,rr=S&&!En&&!nn;return typeof l=="object"?{...l,enabled:rr}:{enabled:rr}}}),vht=A.createContext(null),dle="button",bht="Draggable";function wht(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const o=WT(bht),{activators:s,activatorEvent:a,active:l,activeNodeRect:u,ariaDescribedById:c,draggableNodes:d,over:f}=A.useContext(GT),{role:h=dle,roleDescription:m="draggable",tabIndex:p=0}=i??{},g=l?.id===t,v=A.useContext(g?SM:vht),[y,w]=Z3(),[_,E]=Z3(),S=aht(s,t),T=b2(n);Gd(()=>(d.set(t,{id:t,key:o,node:y,activatorNode:_,data:T}),()=>{const R=d.get(t);R&&R.key===o&&d.delete(t)}),[d,t]);const k=A.useMemo(()=>({role:h,tabIndex:p,"aria-disabled":r,"aria-pressed":g&&h===dle?!0:void 0,"aria-roledescription":m,"aria-describedby":c.draggable}),[r,h,p,g,m,c.draggable]);return{active:l,activatorEvent:a,activeNodeRect:u,attributes:k,isDragging:g,listeners:r?void 0:S,node:y,over:f,setNodeRef:w,setActivatorNodeRef:E,transform:v}}function fEe(){return A.useContext(cEe)}const xht="Droppable",Cht={timeout:25};function hEe(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const o=WT(xht),{active:s,dispatch:a,over:l,measureDroppableContainers:u}=A.useContext(GT),c=A.useRef({disabled:n}),d=A.useRef(!1),f=A.useRef(null),h=A.useRef(null),{disabled:m,updateMeasurementsFor:p,timeout:g}={...Cht,...i},v=b2(p??r),y=A.useCallback(()=>{if(!d.current){d.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{u(Array.isArray(v.current)?v.current:[v.current]),h.current=null},g)},[g]),w=EM({callback:y,disabled:m||!s}),_=A.useCallback((k,R)=>{w&&(R&&(w.unobserve(R),d.current=!1),k&&w.observe(k))},[w]),[E,S]=Z3(_),T=b2(t);return A.useEffect(()=>{!w||!E.current||(w.disconnect(),d.current=!1,w.observe(E.current))},[E,w]),A.useEffect(()=>(a({type:os.RegisterDroppable,element:{id:r,key:o,disabled:n,node:E,rect:f,data:T}}),()=>a({type:os.UnregisterDroppable,key:o,id:r})),[r]),A.useEffect(()=>{n!==c.current.disabled&&(a({type:os.SetDroppableDisabled,id:r,key:o,disabled:n}),c.current.disabled=n)},[r,o,n,a]),{active:s,rect:f,isOver:l?.id===r,node:E,over:l,setNodeRef:S}}function _ht(e){let{animation:t,children:n}=e;const[r,i]=A.useState(null),[o,s]=A.useState(null),a=eO(n);return!n&&!r&&a&&i(a),Gd(()=>{if(!o)return;const l=r?.key,u=r?.props.id;if(l==null||u==null){i(null);return}Promise.resolve(t(u,o)).then(()=>{i(null)})},[t,r,o]),un.createElement(un.Fragment,null,n,r?A.cloneElement(r,{ref:s}):null)}const Eht={x:0,y:0,scaleX:1,scaleY:1};function Sht(e){let{children:t}=e;return un.createElement(GT.Provider,{value:uEe},un.createElement(SM.Provider,{value:Eht},t))}const Tht={position:"fixed",touchAction:"none"},kht=e=>CM(e)?"transform 250ms ease":void 0,Aht=A.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:i,children:o,className:s,rect:a,style:l,transform:u,transition:c=kht}=e;if(!a)return null;const d=i?u:{...u,scaleX:1,scaleY:1},f={...Tht,width:a.width,height:a.height,top:a.top,left:a.left,transform:v0.Transform.toString(d),transformOrigin:i&&r?_ft(r,a):void 0,transition:typeof c=="function"?c(r):c,...l};return un.createElement(n,{className:s,style:f,ref:t},o)}),Rht=e=>t=>{let{active:n,dragOverlay:r}=t;const i={},{styles:o,className:s}=e;if(o!=null&&o.active)for(const[a,l]of Object.entries(o.active))l!==void 0&&(i[a]=n.node.style.getPropertyValue(a),n.node.style.setProperty(a,l));if(o!=null&&o.dragOverlay)for(const[a,l]of Object.entries(o.dragOverlay))l!==void 0&&r.node.style.setProperty(a,l);return s!=null&&s.active&&n.node.classList.add(s.active),s!=null&&s.dragOverlay&&r.node.classList.add(s.dragOverlay),function(){for(const[l,u]of Object.entries(i))n.node.style.setProperty(l,u);s!=null&&s.active&&n.node.classList.remove(s.active)}},Iht=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:v0.Transform.toString(t)},{transform:v0.Transform.toString(n)}]},Dht={duration:250,easing:"ease",keyframes:Iht,sideEffects:Rht({styles:{active:{opacity:"0"}}})};function Pht(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=e;return xM((o,s)=>{if(t===null)return;const a=n.get(o);if(!a)return;const l=a.node.current;if(!l)return;const u=lEe(s);if(!u)return;const{transform:c}=El(s).getComputedStyle(s),d=J_e(c);if(!d)return;const f=typeof t=="function"?t:Oht(t);return oEe(l,i.draggable.measure),f({active:{id:o,data:a.data,node:l,rect:i.draggable.measure(l)},draggableNodes:n,dragOverlay:{node:s,rect:i.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:i,transform:d})})}function Oht(e){const{duration:t,easing:n,sideEffects:r,keyframes:i}={...Dht,...e};return o=>{let{active:s,dragOverlay:a,transform:l,...u}=o;if(!t)return;const c={x:a.rect.left-s.rect.left,y:a.rect.top-s.rect.top},d={scaleX:l.scaleX!==1?s.rect.width*l.scaleX/a.rect.width:1,scaleY:l.scaleY!==1?s.rect.height*l.scaleY/a.rect.height:1},f={x:l.x-c.x,y:l.y-c.y,...d},h=i({...u,active:s,dragOverlay:a,transform:{initial:l,final:f}}),[m]=h,p=h[h.length-1];if(JSON.stringify(m)===JSON.stringify(p))return;const g=r?.({active:s,dragOverlay:a,...u}),v=a.node.animate(h,{duration:t,easing:n,fill:"forwards"});return new Promise(y=>{v.onfinish=()=>{g?.(),y()}})}}let fle=0;function Nht(e){return A.useMemo(()=>{if(e!=null)return fle++,fle},[e])}const bY=un.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:i,transition:o,modifiers:s,wrapperElement:a="div",className:l,zIndex:u=999}=e;const{activatorEvent:c,active:d,activeNodeRect:f,containerNodeRect:h,draggableNodes:m,droppableContainers:p,dragOverlay:g,over:v,measuringConfiguration:y,scrollableAncestors:w,scrollableAncestorRects:_,windowRect:E}=fEe(),S=A.useContext(SM),T=Nht(d?.id),k=dEe(s,{activatorEvent:c,active:d,activeNodeRect:f,containerNodeRect:h,draggingNodeRect:g.rect,over:v,overlayNodeRect:g.rect,scrollableAncestors:w,scrollableAncestorRects:_,transform:S,windowRect:E}),R=yY(f),I=Pht({config:r,draggableNodes:m,droppableContainers:p,measuringConfiguration:y}),P=R?g.setRef:void 0;return un.createElement(Sht,null,un.createElement(_ht,{animation:I},d&&T?un.createElement(Aht,{key:T,id:d.id,ref:P,as:a,activatorEvent:c,adjustScale:t,className:l,transition:o,rect:R,style:{zIndex:u,...i},transform:k},n):null))});function wY(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Mht(e,t){return e.reduce((n,r,i)=>{const o=t.get(r);return o&&(n[i]=o),n},Array(e.length))}function kR(e){return e!==null&&e>=0}function $ht(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Lht(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const pEe=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const o=wY(t,r,n),s=t[i],a=o[i];return!a||!s?null:{x:a.left-s.left,y:a.top-s.top,scaleX:a.width/s.width,scaleY:a.height/s.height}},AR={scaleX:1,scaleY:1},x2=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:o,overIndex:s}=e;const a=(t=o[n])!=null?t:r;if(!a)return null;if(i===n){const u=o[s];return u?{x:0,y:n<s?u.top+u.height-(a.top+a.height):u.top-a.top,...AR}:null}const l=Fht(o,i,n);return i>n&&i<=s?{x:0,y:-a.height-l,...AR}:i<n&&i>=s?{x:0,y:a.height+l,...AR}:{x:0,y:0,...AR}};function Fht(e,t,n){const r=e[t],i=e[t-1],o=e[t+1];return r?n<t?i?r.top-(i.top+i.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const mEe="Sortable",gEe=un.createContext({activeIndex:-1,containerId:mEe,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:pEe,disabled:{draggable:!1,droppable:!1}});function C2(e){let{children:t,id:n,items:r,strategy:i=pEe,disabled:o=!1}=e;const{active:s,dragOverlay:a,droppableRects:l,over:u,measureDroppableContainers:c}=fEe(),d=WT(mEe,n),f=a.rect!==null,h=A.useMemo(()=>r.map(S=>typeof S=="object"&&"id"in S?S.id:S),[r]),m=s!=null,p=s?h.indexOf(s.id):-1,g=u?h.indexOf(u.id):-1,v=A.useRef(h),y=!$ht(h,v.current),w=g!==-1&&p===-1||y,_=Lht(o);Gd(()=>{y&&m&&c(h)},[y,h,m,c]),A.useEffect(()=>{v.current=h},[h]);const E=A.useMemo(()=>({activeIndex:p,containerId:d,disabled:_,disableTransforms:w,items:h,overIndex:g,useDragOverlay:f,sortedRects:Mht(h,l),strategy:i}),[p,d,_.draggable,_.droppable,w,h,g,l,f,i]);return un.createElement(gEe.Provider,{value:E},t)}const jht=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return wY(n,r,i).indexOf(t)},Bht=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:o,newIndex:s,previousItems:a,previousContainerId:l,transition:u}=e;return!u||!r||a!==o&&i===s?!1:n?!0:s!==i&&t===l},zht={duration:200,easing:"ease"},yEe="transform",Uht=v0.Transition.toString({property:yEe,duration:0,easing:"linear"}),Hht={roleDescription:"sortable"};function qht(e){let{disabled:t,index:n,node:r,rect:i}=e;const[o,s]=A.useState(null),a=A.useRef(n);return Gd(()=>{if(!t&&n!==a.current&&r.current){const l=i.current;if(l){const u=vC(r.current,{ignoreTransform:!0}),c={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(c.x||c.y)&&s(c)}}n!==a.current&&(a.current=n)},[t,n,r,i]),A.useEffect(()=>{o&&s(null)},[o]),o}function Vht(e){let{animateLayoutChanges:t=Bht,attributes:n,disabled:r,data:i,getNewIndex:o=jht,id:s,strategy:a,resizeObserverConfig:l,transition:u=zht}=e;const{items:c,containerId:d,activeIndex:f,disabled:h,disableTransforms:m,sortedRects:p,overIndex:g,useDragOverlay:v,strategy:y}=A.useContext(gEe),w=Wht(r,h),_=c.indexOf(s),E=A.useMemo(()=>({sortable:{containerId:d,index:_,items:c},...i}),[d,i,_,c]),S=A.useMemo(()=>c.slice(c.indexOf(s)),[c,s]),{rect:T,node:k,isOver:R,setNodeRef:I}=hEe({id:s,data:E,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...l}}),{active:P,activatorEvent:N,activeNodeRect:M,attributes:O,setNodeRef:j,listeners:U,isDragging:q,over:W,setActivatorNodeRef:V,transform:z}=wht({id:s,data:E,attributes:{...Hht,...n},disabled:w.draggable}),L=lft(I,j),H=!!P,B=H&&!m&&kR(f)&&kR(g),Y=!v&&q,Q=Y&&B?z:null,ce=B?Q??(a??y)({rects:p,activeNodeRect:M,activeIndex:f,overIndex:g,index:_}):null,le=kR(f)&&kR(g)?o({id:s,items:c,activeIndex:f,overIndex:g}):_,ue=P?.id,ae=A.useRef({activeId:ue,items:c,newIndex:le,containerId:d}),te=c!==ae.current.items,se=t({active:P,containerId:d,isDragging:q,isSorting:H,id:s,index:_,items:c,newIndex:ae.current.newIndex,previousItems:ae.current.items,previousContainerId:ae.current.containerId,transition:u,wasDragging:ae.current.activeId!=null}),we=qht({disabled:!se,index:_,node:k,rect:T});return A.useEffect(()=>{H&&ae.current.newIndex!==le&&(ae.current.newIndex=le),d!==ae.current.containerId&&(ae.current.containerId=d),c!==ae.current.items&&(ae.current.items=c)},[H,le,d,c]),A.useEffect(()=>{if(ue===ae.current.activeId)return;if(ue!=null&&ae.current.activeId==null){ae.current.activeId=ue;return}const he=setTimeout(()=>{ae.current.activeId=ue},50);return()=>clearTimeout(he)},[ue]),{active:P,activeIndex:f,attributes:O,data:E,rect:T,index:_,newIndex:le,items:c,isOver:R,isSorting:H,isDragging:q,listeners:U,node:k,overIndex:g,over:W,setNodeRef:L,setActivatorNodeRef:V,setDroppableNodeRef:I,setDraggableNodeRef:j,transform:we??ce,transition:X()};function X(){if(we||te&&ae.current.newIndex===_)return Uht;if(!(Y&&!CM(N)||!u)&&(H||se))return v0.Transition.toString({...u,property:yEe})}}function Wht(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(r=e?.droppable)!=null?r:t.droppable}}Kr.Down,Kr.Right,Kr.Up,Kr.Left;const Ght="_item_11oxa_1",Yht="_itemDragging_11oxa_11",hle={item:Ght,itemDragging:Yht};function n0({item:e,index:t}){const{attributes:n,listeners:r,setNodeRef:i,transform:o,transition:s,isDragging:a}=Vht({id:e.symbol}),l={transform:v0.Transform.toString(o),transition:s};return b.jsxs(Os,{ref:i,style:{...l,margin:"0 auto",minWidth:"200px"},className:Nt(hle.item,{[hle.itemDragging]:a}),...n,...r,withBorder:!0,p:"sm",children:[t!==void 0&&b.jsx($e,{c:"dimmed",mr:"sm",children:t}),b.jsx(y0,{label:e.option.label,infoText:e.option.infoText})]})}function _2({id:e,title:t,children:n}){const{setNodeRef:r,isOver:i}=hEe({id:e});return b.jsxs(Os,{ref:r,style:{backgroundColor:i?"#f0f8ff":void 0,borderColor:i?"#4dabf7":void 0,maxWidth:"600px"},withBorder:!0,p:"sm",children:[b.jsx($e,{fw:500,ta:"center",mb:"sm",children:t}),n]})}const xY=e=>Wp(e).map(t=>({id:t.value,symbol:t.value,option:t})),CY=(e,t)=>{const{setRankingAnswers:n}=Qi(),r=bo();return{sensors:Cft(tle(gY,{activationConstraint:{distance:5}}),tle(pY)),updateAnswer:s=>{t?.(s),r(n({responseId:e,values:s}))}}};function Kht({options:e,responseId:t,answer:n,disabled:r,numItems:i,setError:o}){const{onChange:s}=n,{sensors:a,updateAnswer:l}=CY(t,s),u=A.useMemo(()=>xY(e),[e]),[c,d]=A.useState(null),f=A.useMemo(()=>{let y=[];return n?.value&&Object.keys(n.value).length>0&&(y=Object.entries(n.value).sort((_,E)=>parseInt(_[1],10)-parseInt(E[1],10)).map(([_])=>u.find(E=>E.id===_)).filter(Boolean),i&&i>0&&(y=y.slice(0,i))),{selected:y,unassigned:u.filter(w=>!y.find(_=>_.id===w.id))}},[u,n,i]),[h,m]=A.useState(f);A.useEffect(()=>{m(f)},[f]);const p=y=>{d(y.active.id)},g=y=>{if(d(null),r||!y.over)return;const w=y.active.id,_=y.over.id,E=h.selected.find(P=>P.symbol===w),S=h.unassigned.find(P=>P.symbol===w),T=_==="selected"||h.selected.find(P=>P.symbol===_),k=_==="unassigned",R={...h};if(E&&T){const P=h.selected.findIndex(M=>M.symbol===w),N=_==="selected"?h.selected.length-1:h.selected.findIndex(M=>M.symbol===_);R.selected=wY(h.selected,P,N)}else if(S&&T){if(i&&h.selected.length>=i){o?.(`You can only add up to ${i} items.`);return}R.unassigned=h.unassigned.filter(P=>P.symbol!==w),R.selected=[...h.selected,S]}else if(E&&k)R.selected=h.selected.filter(P=>P.symbol!==w),R.unassigned=[...h.unassigned,E];else return;o?.(null),m(R);const I={};R.selected.forEach((P,N)=>{I[P.id]=N.toString()}),l(I)},v=c?u.find(y=>y.symbol===c):null;return b.jsxs(vY,{sensors:a,collisionDetection:_M,onDragStart:p,onDragEnd:g,children:[b.jsxs(Nn,{gap:"md",w:"600px",mx:"auto",children:[b.jsxs(_2,{id:"selected",title:"",children:[b.jsx($e,{size:"md",fw:500,ta:"center",mb:"sm",children:"HIGH"}),b.jsx(C2,{items:h.selected.map(y=>y.symbol),strategy:x2,children:b.jsx(Nn,{children:h.selected.map((y,w)=>b.jsx(n0,{item:y,index:w+1},y.symbol))})}),b.jsx($e,{size:"md",fw:500,ta:"center",mt:"sm",children:"LOW"})]}),b.jsx(_2,{id:"unassigned",title:"Available Items",children:b.jsx(C2,{items:h.unassigned.map(y=>y.symbol),strategy:x2,children:b.jsx(Nn,{children:h.unassigned.map(y=>b.jsx(n0,{item:y},y.symbol))})})})]}),b.jsx(bY,{children:v?b.jsx(n0,{item:v}):void 0})]})}function Xht({options:e,disabled:t,answer:n,responseId:r,numItems:i,setError:o}){const{onChange:s}=n,{sensors:a,updateAnswer:l}=CY(r,s),u=A.useMemo(()=>xY(e),[e]),[c,d]=A.useState(null),f=A.useMemo(()=>{const y={unassigned:[...u],HIGH:[],MEDIUM:[],LOW:[]};return n?.value&&Object.entries(n.value).forEach(([w,_])=>{const E=u.find(S=>S.id===w);E&&["HIGH","MEDIUM","LOW"].includes(_)&&(y[_].push(E),y.unassigned=y.unassigned.filter(S=>S.id!==w))}),y},[u,n]),[h,m]=A.useState(f);A.useEffect(()=>{m(f)},[f]);const p=y=>{d(y.active.id)},g=y=>{if(d(null),t||!y.over)return;const w=y.active.id,_=y.over.id,E=Object.keys(h).find(S=>h[S].find(T=>T.id===w));!E||E===_||["unassigned","HIGH","MEDIUM","LOW"].includes(_)&&m(S=>{const T=S[E].find(I=>I.id===w);if(!T)return S;if(_!=="unassigned"&&i&&S[_].length>=i)return o?.(`You can only add up to ${i} items.`),S;o?.(null);const k={...S};k[E]=k[E].filter(I=>I.id!==w),k[_]=[...k[_],T];const R={};return["HIGH","MEDIUM","LOW"].forEach(I=>{k[I].forEach(P=>{R[P.id]=I})}),l(R),k})},v=c?u.find(y=>y.id===c):null;return b.jsxs(vY,{sensors:a,collisionDetection:_M,onDragStart:p,onDragEnd:g,children:[b.jsx(Nn,{gap:"md",w:"600px",mx:"auto",children:["HIGH","MEDIUM","LOW","unassigned"].map(y=>b.jsx(_2,{id:y,title:y==="unassigned"?"Available Items":y,children:b.jsx(C2,{items:h[y].map(w=>w.symbol),strategy:x2,children:b.jsx(Nn,{children:h[y].map(w=>b.jsx(n0,{item:w},w.symbol))})})},y))}),b.jsx(bY,{children:v?b.jsx(n0,{item:v}):void 0})]})}function Qht(e,t){const n={};Object.entries(e).forEach(([i,o])=>{const s=o.match(/^pair-(\d+)-(high|low)$/);if(s){const a=s[1],l=i.split("_")[0];n[a]||(n[a]=new Set),n[a].add(l)}});const r=[...n[t]||[]].sort().join("|");return r?Object.entries(n).some(([i,o])=>i!==t&&[...o].sort().join("|")===r):!1}function Jht({options:e,disabled:t,answer:n,responseId:r,setError:i}){const{onChange:o}=n,{sensors:s,updateAnswer:a}=CY(r,o),l=A.useMemo(()=>xY(e),[e]),[u,c]=A.useState(["0"]),[d,f]=A.useState(null),[h,m]=A.useState(0),[p,g]=A.useState(1),{pairs:v,unassigned:y}=A.useMemo(()=>{const T={};return Object.entries(n?.value||{}).forEach(([k,R])=>{const I=R.match(/^pair-(\d+)-(high|low)$/);if(I){const[,P,N]=I;T[P]||(T[P]={high:[],low:[]}),T[P][N].push(k)}}),u.forEach(k=>{T[k]||(T[k]={high:[],low:[]})}),{pairs:T,unassigned:l}},[l,n,u]),w=T=>{f(T.active.id)},_=T=>{if(f(null),t||!T.over)return;const k=T.active.id,R=T.over.id,I={...n.value};if(R==="unassigned"){delete I[k],i?.(null),a(I);return}const P=!k.includes("_"),N=P?k:k.split("_")[0],M=R.match(/^pair-(\d+)-(high|low)$/);if(M){const[,O,j]=M;if(Object.entries(I).filter(([z,L])=>L===R&&z!==k).length>=1){i?.("You can only place one item in each box.");return}const W=`pair-${O}-${j==="high"?"low":"high"}`;if(Object.entries(I).some(([z,L])=>{const H=z.split("_")[0];return L===W&&H===N})){const z=l.find(L=>L.id===N)?.option.label;i?.(`Item "${z}" cannot be in both HIGH and LOW.`);return}if(P){const z={...I,[`${k}_temp`]:R};if(Qht(z,O)){i?.("This would create a duplicate pair.");return}}}P?(I[`${k}_${h}`]=R,m(O=>O+1)):(delete I[k],I[k]=R),i?.(null),a(I)},E=A.useMemo(()=>{if(!d)return null;const T=d.includes("_")?d.split("_")[0]:d;return l.find(k=>k.id===T)||null},[d,l]),S=T=>{if(t)return;const k={...n.value};Object.keys(k).forEach(R=>{k[R].startsWith(`pair-${T}-`)&&delete k[R]}),c(R=>R.filter(I=>I!==T)),i?.(null),a(k)};return b.jsxs(vY,{sensors:s,collisionDetection:_M,onDragStart:w,onDragEnd:_,children:[b.jsx(lt,{justify:"flex-end",mb:"md",children:b.jsx(Mt,{variant:"outline",onClick:()=>{t||(c(T=>[...T,p.toString()]),g(T=>T+1))},children:"Add New Pair"})}),b.jsxs(Nn,{gap:"md",w:"650px",mx:"auto",children:[Object.entries(v).map(([T,k])=>b.jsxs(ln,{justify:"center",wrap:"nowrap",align:"flex",children:[["high","low"].map(R=>b.jsx(De,{style:{width:"300px"},children:b.jsx(_2,{id:`pair-${T}-${R}`,title:R.toUpperCase(),children:b.jsx(C2,{items:k[R],strategy:x2,children:b.jsx(Nn,{children:k[R].map(I=>{const P=I.split("_")[0],N=l.find(M=>M.id===P);return N?b.jsx(n0,{item:{...N,id:P,symbol:I}},I):null})})})})},R)),b.jsx(Mt,{variant:"white",color:"red",size:"xs",onClick:()=>S(T),disabled:t,children:"X"})]},T)),b.jsx(_2,{id:"unassigned",title:"Available Items",children:b.jsx(C2,{items:y.map(T=>T.id),strategy:x2,children:b.jsx(Nn,{children:y.map(T=>b.jsx(n0,{item:T},T.id))})})})]}),b.jsx(bY,{children:E?b.jsx(n0,{item:E}):void 0})]})}function Zht({response:e,answer:t,index:n,disabled:r,enumerateQuestions:i}){const{prompt:o,required:s,options:a,secondaryText:l,infoText:u,numItems:c}=e,[d,f]=A.useState(null),h={disabled:r,options:a,answer:t,responseId:e.id,numItems:c};return b.jsxs(De,{children:[o.length>0&&b.jsx(Oc,{prompt:o,required:s,index:n,enumerateQuestions:i,infoText:u}),l&&b.jsx($e,{c:"dimmed",size:"sm",mt:0,children:l}),d&&b.jsx($e,{c:s?"red":"orange",size:"sm",mt:"xs",children:d}),b.jsxs(De,{mt:"md",children:[e.type==="ranking-sublist"&&b.jsx(Kht,{...h,setError:f}),e.type==="ranking-categorical"&&b.jsx(Xht,{...h,setError:f}),e.type==="ranking-pairwise"&&b.jsx(Jht,{...h,setError:f})]})]})}const ept="_track_w59g7_1",tpt="_fixDisabled_w59g7_11",ple={track:ept,fixDisabled:tpt};function npt(e,t){const n=Math.abs(t-e);return n===0?1:10**(Math.ceil(Math.log10(n))-1)}function rpt(e,t,n){if(!Number.isFinite(e)||!Number.isFinite(t)||t<=e)return[];const r=n??npt(e,t);if(!Number.isFinite(r)||r<=0)return[];const i=r.toString(),o=i.includes("e-")?Number(i.split("e-")[1]):i.split(".")[1]?.length??0,s=d=>Number(d.toFixed(o)),a=Math.abs(r)/1e6,l=Math.ceil((e+a)/r),u=Math.floor((t-a)/r),c=[];for(let d=l;d<=u;d+=1){const f=s(d*r);f>e+a&&f<t-a&&c.push(f)}return c}function ipt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:o,required:s,options:a,secondaryText:l,infoText:u,snap:c,step:d,withBar:f,tlxStyle:h,smeqStyle:m,spacing:p}=e,[g,v]=A.useMemo(()=>[Math.min(...a.map(P=>P.value)),Math.max(...a.map(P=>P.value))],[a]),y=a.some(P=>P.label!==""),w=Eh(e,n),_=A.useMemo(()=>rpt(g,v,p),[g,v,p]),[E,S]=A.useState(n.value??(g+v)/2),T=(E-g)/(v-g),[k,R]=A.useState(!1),{ref:I}=hT(({y:P})=>{const N=Math.max(g,Math.min(v,g+(1-P)*(v-g))),M=d??(c?.001:(v-g)/100),O=Math.round((N-g)/M)*M+g;S(O),n?.onChange?.(O)});return b.jsx(Or.Wrapper,{label:o.length>0&&b.jsx(Oc,{prompt:o,required:s,index:r,enumerateQuestions:i,infoText:u}),description:l,error:w,style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},errorProps:{c:s?"red":"orange"},children:m?b.jsx(De,{style:{overflow:"hidden"},children:b.jsxs(lt,{direction:"row",align:"flex-start",gap:"sm",m:"md",justify:"center",wrap:"nowrap",children:[b.jsx(De,{style:{height:450,position:"relative",minWidth:30,textAlign:"right",flexShrink:0},children:_.map(P=>{const N=(P-g)/(v-g)*100;return b.jsx(De,{style:{position:"absolute",bottom:`${N}%`,fontSize:"var(--mantine-font-size-xs)",color:"var(--mantine-color-gray-7)",right:0,transform:"translateY(50%)"},children:P},P)})}),b.jsxs(De,{ref:I,style:{width:22,height:450,position:"relative",flexShrink:0},onMouseEnter:()=>R(!0),onMouseLeave:()=>R(!1),children:[b.jsx(De,{style:{position:"absolute",left:20,top:0,width:2,height:"100%",backgroundColor:"var(--mantine-color-gray-5)"}}),_.map(P=>{const N=(P-g)/(v-g)*100;return b.jsx(De,{style:{position:"absolute",bottom:`${N}%`,left:2,width:20,height:1,backgroundColor:"var(--mantine-color-gray-7)",transform:"translateY(50%)"}},P)}),a.map(P=>{const N=(P.value-g)/(v-g)*100;return b.jsx(De,{style:{position:"absolute",bottom:`${N}%`,left:P.label!==""?20:2,width:(P.label!=="",20),height:1,backgroundColor:"var(--mantine-color-gray-7)",transform:"translateY(50%)"}},P.value)}),b.jsx(De,{style:{backgroundColor:"var(--mantine-color-red-6)",width:20,height:1,border:"1px solid var(--mantine-color-red-6)",position:"absolute",bottom:`calc(${T*100}% - 1px)`},children:b.jsx(ct,{label:Math.round(E),opened:k,position:"right",withArrow:!0,children:b.jsx(De,{style:{width:20,height:1}})})})]}),b.jsx(De,{style:{height:450,position:"relative",minWidth:200},children:a.map(P=>{if(!P.label)return null;const N=(P.value-g)/(v-g)*100;return b.jsx(De,{style:{fontSize:"var(--mantine-font-size-xs)",color:"var(--mantine-color-gray-7)",position:"absolute",bottom:`${N}%`,transform:"translateY(50%)",left:20},children:P.label},P.value)})})]})}):b.jsx(K4,{disabled:t,marks:[..._.map(P=>({value:P})),...a],min:g,max:v,step:d??(c?.001:(v-g)/100),h:y?40:void 0,...n,classNames:{track:h?ple.track:"",bar:ple.fixDisabled},restrictToMarks:c,label:P=>P,showLabelOnHover:!0,styles:P=>({mark:{...h?{height:20,width:1,marginTop:-6,marginLeft:2,borderRadius:0}:{},...f===!1?{borderColor:"var(--mantine-color-gray-2)"}:{}},bar:f===!1||h?{display:"none"}:{},markLabel:{fontSize:P.fontSizes.sm,color:P.colors.gray[7],transform:"translate(calc((var(--mark-offset) * -1) + (var(--slider-size) / 2)), calc(var(--mantine-spacing-xs) / 2)"},thumb:{...h?{borderColor:"var(--mantine-color-red-6)",width:1,borderWidth:1,height:22,borderRadius:0,backgroundColor:"var(--mantine-color-red-6)",transform:"translate(-50%, -62%)"}:{}}}),flex:1,mt:h?"sm":"xs"})})}function opt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:o,prompt:s,required:a,secondaryText:l,infoText:u}=e;return b.jsx(dl,{disabled:t,placeholder:o,label:s.length>0&&b.jsx(Oc,{prompt:s,required:a,index:r,enumerateQuestions:i,infoText:u}),description:l,radius:"md",size:"md",...n,value:n.value||"",error:Eh(e,n),withErrorStyles:a,errorProps:{c:a?"red":"orange"},classNames:{input:cm.fixDisabled}})}function spt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:o,prompt:s,required:a,secondaryText:l,infoText:u}=e;return b.jsx(n2,{disabled:t,placeholder:o,label:s.length>0&&b.jsx(Oc,{prompt:s,required:a,index:r,enumerateQuestions:i,infoText:u}),description:l,radius:"md",size:"md",...n,value:n.value||"",error:Eh(e,n),withErrorStyles:a,errorProps:{c:a?"red":"orange"},classNames:{input:cm.fixDisabled}})}const apt={likely5:["Highly Unlikely","Unlikely","Neutral","Likely","Highly Likely"],likely7:["Highly Unlikely","Unlikely","Slightly Unlikely","Neutral","Slightly Likely","Likely","Highly Likely"],satisfaction5:["Highly Unsatisfied","Unsatisfied","Neutral","Satisfied","Highly Satisfied"],satisfaction7:["Highly Unsatisfied","Unsatisfied","Slightly Unsatisfied","Neutral","Slightly Satisfied","Satisfied","Highly Satisfied"]};function lpt({_choices:e,_n:t,idx:n,question:r,answer:i,onChange:o,disabled:s}){return b.jsx("div",{style:{flex:1,display:"grid",gridTemplateColumns:`repeat(${t}, 1fr)`,justifyItems:"center"},children:e.map(a=>b.jsx(Ia,{disabled:s,checked:(i.value[r]||"").split("|").includes(a.value),onChange:l=>o(l,r,a),value:a.value,classNames:{input:bd.fixDisabled,icon:bd.fixDisabledIcon}},`${a.label}-${n}`))})}function upt({_choices:e,_n:t,idx:n,question:r,response:i,answer:o,onChange:s,disabled:a}){return b.jsx(Na.Group,{name:`radioInput${i.id}-${n}`,style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))",flex:1},onChange:l=>s(l,r),value:o.value[r],children:b.jsx("div",{style:{flex:1,display:"grid",gridTemplateColumns:`repeat(${t}, 1fr)`,justifyItems:"center"},children:e.map(l=>b.jsx(Na,{disabled:a,value:l.value,classNames:{radio:Eg.fixDisabled,icon:Eg.fixDisabledIcon}},`${l.label}-${n}`))})},`${i.id}-${n}`)}function cpt({response:e,answer:t,index:n,disabled:r,enumerateQuestions:i}){const{setMatrixAnswersRadio:o,setMatrixAnswersCheckbox:s}=Qi(),a=bo(),{answerOptions:l,prompt:u,secondaryText:c,required:d,infoText:f}=e,h=A.useMemo(()=>Wp(typeof l=="string"?apt[l]:l),[l]),m=A.useMemo(()=>Wp(e.questionOptions),[e.questionOptions]),p=A.useMemo(()=>Object.fromEntries(m.map(T=>[T.value,T])),[m]),{questionOrders:g}=Om(),v=A.useMemo(()=>g[e.id]||m.map(T=>T.value),[g,m,e.id]),y=(T,k)=>{const R={type:"radio",questionKey:k,val:T,responseId:e.id};a(o(R))},w=(T,k,R)=>{const I=T.target.checked,P={questionKey:k,responseId:e.id,value:R.value,label:R.label,isChecked:I,choiceOptions:h};a(s(P))},_=Eh(e,t),E=h.length,S=v.length;return b.jsxs(b.Fragment,{children:[u.length>0&&b.jsx(Oc,{prompt:u,required:d,index:n,enumerateQuestions:i,infoText:f}),b.jsx($e,{c:"dimmed",size:"sm",mt:0,children:c}),b.jsxs(De,{style:{display:"grid",gridTemplateColumns:"auto 1fr",gridTemplateRows:"auto 1fr"},m:"md",mt:"xs",children:[b.jsx("div",{style:{borderBottom:"1px solid var(--mantine-color-dark-0)",borderRight:"1px solid var(--mantine-color-dark-0)"}}),b.jsx("div",{style:{height:"100%",display:"grid",gridTemplateColumns:`repeat(${E}, 1fr)`,alignItems:"center",justifyItems:"center",borderBottom:"1px solid var(--mantine-color-dark-0)"},children:h.map((T,k)=>b.jsx(De,{style:{textAlign:"center",fontSize:"0.8em"},mb:"sm",ml:"xs",mr:"xs",children:b.jsx(y0,{label:T.label,infoText:T.infoText})},`choice-${k}-label`))}),b.jsx("div",{style:{height:"100%",display:"grid",gridTemplateRows:`repeat(${S}, 1fr)`},children:v.map((T,k)=>b.jsx(De,{style:{height:"80px",width:"100%",display:"flex",alignItems:"safe center",justifyContent:"end",borderRight:"1px solid var(--mantine-color-dark-0)",backgroundColor:`${(k+1)%2===0?"var(--mantine-color-gray-2)":"white"}`,overflowY:"auto"},ta:"right",p:"sm",miw:140,maw:400,children:b.jsx(y0,{label:p[T]?.label||T,infoText:p[T]?.infoText})},`question-${k}-label`))}),b.jsx("div",{style:{height:"100%",display:"grid",gridTemplateRows:`repeat(${S},1fr)`},children:v.map((T,k)=>b.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",backgroundColor:`${(k+1)%2===0?"var(--mantine-color-gray-2)":"white"}`},children:e.type==="matrix-radio"?b.jsx(upt,{disabled:r,idx:k,question:T,answer:t,_choices:h,_n:E,onChange:y,response:e}):b.jsx(lpt,{disabled:r,idx:k,question:T,answer:t,_choices:h,_n:E,onChange:w})},`question-${k}`))})]}),_&&b.jsx($e,{c:d?"red":"orange",size:"sm",mt:"xs",children:_})]})}const dpt="_root_152zr_1",fpt={root:dpt};function hpt({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:o,required:s,secondaryText:a,options:l,infoText:u}=e,c=Om(),d=A.useMemo(()=>c?c.optionOrders:{},[c]),f=A.useMemo(()=>Wp(d[e.id]||l),[d,l,e.id]),h=A.useMemo(()=>Eh(e,n,f),[e,n,f]);return b.jsx(gT,{children:b.jsx(Na.Group,{name:`radioInput${e.id}`,label:o.length>0&&b.jsx(Oc,{prompt:o,required:s,index:r,enumerateQuestions:i,infoText:u}),description:a,...n,error:h,errorProps:{c:s?"red":"orange"},style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:b.jsx(lt,{justify:"space-between",align:"center",gap:"xl",mt:"xs",children:f.map((m,p)=>b.jsx(Na.Card,{value:m.value,disabled:t,ta:"center",className:fpt.root,p:"xs",children:b.jsx(y0,{label:m.label,infoText:m.infoText,button:!0})},`radio-${p}`))})},e.id)})}function ppt({response:e}){const{prompt:t}=e;return b.jsx(lt,{direction:"row",wrap:"nowrap",gap:4,children:b.jsx(De,{style:{display:"block"},className:"no-last-child-bottom-padding",children:b.jsx(_h,{text:t,required:!1})})})}const _Y=e=>{A.useEffect(()=>{if(!e)return()=>{};const t=document.createElement("link");return t.type="text/css",t.rel="stylesheet",t.href=`${Hi}${e}`,t.dataset.stylesheetPath=e,document.head.appendChild(t),()=>{t.parentNode&&t.parentNode.removeChild(t)}},[e])};function mpt({response:e,form:t,storedAnswer:n,index:r,config:i,dontKnowCheckbox:o,otherInput:s,disabled:a}){const l=Ga(),u=lf(),c=Hn(I=>I.sequence),d=A.useMemo(()=>h0(c),[c]),f=cf(),h=A.useMemo(()=>typeof f=="number"?d[f+1]:void 0,[f,d]),m=A.useMemo(()=>h?l.components[h]:void 0,[h,l]),p=Hn(I=>I.completed),g=A.useMemo(()=>(u||Object.keys(n||{}).length>0&&!m?.previousButton||p?{value:n[e.id]}:t)||{value:void 0},[u,n,e.id,t,m?.previousButton,p]),v=(Object.keys(n||{}).length>0?{checked:n[`${e.id}-dontKnow`]}:o)||{checked:void 0},y=(Object.keys(n||{}).length>0?{value:n[`${e.id}-other`]}:s)||{value:void 0},w=Object.keys(n||{}).length>0||a||p,[_]=au(),E=A.useMemo(()=>i?.enumerateQuestions??l.uiConfig.enumerateQuestions??!1,[i,l]);_Y(e.stylesheetPath);const S=A.useMemo(()=>{if(p)return!0;if(typeof f=="number"){const I=d[f];for(let P=0;P<c.components.length;P+=1){const N=c.components[P];if(typeof N=="string"&&N===I){if(P+1<c.components.length&&typeof c.components[P+1]!="string")return!1;break}}}if(typeof f=="number"&&f+1<d.length&&m?.previousButton)return!1;if(e.paramCapture){const I=_.get(e.paramCapture);return w||!!I}return w||a},[p,f,d,e.paramCapture,w,a,c.components,m?.previousButton,_]),T=A.useMemo(()=>e.paramCapture?_.get(e.paramCapture)||"":e.type==="reactive"||e.type==="checkbox"?[]:e.type==="matrix-radio"||e.type==="matrix-checkbox"?Object.fromEntries(e.questionOptions.map(I=>[HG(I),""])):e.type==="slider"&&e.startingValue?e.startingValue.toString():"",[e.paramCapture,e.questionOptions,e.startingValue,e.type,_]),k=e.style||{},R=A.useMemo(()=>e.withDivider??i?.responseDividers??l.uiConfig.responseDividers,[e,i,l]);return b.jsxs(De,{mb:R?"xl":"lg",className:"response",id:e.id,style:k,children:[e.type==="numerical"&&b.jsx(aft,{response:e,disabled:S||o?.checked,answer:g,index:r,enumerateQuestions:E}),e.type==="shortText"&&b.jsx(opt,{response:e,disabled:S||o?.checked,answer:g,index:r,enumerateQuestions:E}),e.type==="longText"&&b.jsx(spt,{response:e,disabled:S||o?.checked,answer:g,index:r,enumerateQuestions:E}),e.type==="likert"&&b.jsx(sft,{response:e,disabled:S||o?.checked,answer:g,index:r,enumerateQuestions:E}),e.type==="dropdown"&&b.jsx(tft,{response:e,disabled:S||o?.checked,answer:g,index:r,enumerateQuestions:E}),e.type==="slider"&&b.jsx(ipt,{response:e,disabled:S||o?.checked,answer:g,index:r,enumerateQuestions:E}),e.type==="radio"&&b.jsx(G_e,{response:e,disabled:S||o?.checked,answer:g,index:r,enumerateQuestions:E,otherValue:y}),e.type==="checkbox"&&b.jsx(eft,{response:e,disabled:S||o?.checked,answer:g,index:r,enumerateQuestions:E,otherValue:y}),(e.type==="ranking-sublist"||e.type==="ranking-categorical"||e.type==="ranking-pairwise")&&b.jsx(Zht,{response:e,disabled:S||o?.checked,answer:g,index:r,enumerateQuestions:E}),e.type==="reactive"&&b.jsx(nft,{response:e,answer:g,index:r,enumerateQuestions:E}),(e.type==="matrix-radio"||e.type==="matrix-checkbox")&&b.jsx(cpt,{disabled:S||o?.checked,response:e,answer:g,index:r,enumerateQuestions:E}),e.type==="buttons"&&b.jsx(hpt,{response:e,disabled:S||o?.checked,answer:g,index:r,enumerateQuestions:E}),e.type==="textOnly"&&b.jsx(ppt,{response:e}),e.withDontKnow&&b.jsx(Ia,{mt:"xs",disabled:S,label:"I don't know",classNames:{input:bd.fixDisabled,label:bd.fixDisabledLabel,icon:bd.fixDisabledIcon},...o,checked:v.checked,onChange:I=>{o?.onChange(I.currentTarget.checked),t.onChange(T)}}),(e.type==="divider"||R)&&b.jsx(Cb,{mt:"xl",mb:"xs"})]})}function mle({response:e,correctAnswer:t,alertConfig:n,identifier:r,attemptsUsed:i,trainingAttempts:o}){const s=bo(),{toggleShowHelpText:a,incrementHelpCounter:l}=Qi();return n[e.id]?.visible?b.jsxs(pl,{mb:"md",title:n[e.id].title,color:n[e.id].color,children:[n[e.id].message,n[e.id].message.includes("Please try again")&&b.jsxs(b.Fragment,{children:[b.jsx("br",{}),b.jsx("br",{}),"If you're unsure"," ",b.jsx(B0,{style:{fontSize:14},onClick:()=>{s(a()),s(l({identifier:r}))},children:"review the help text."})," "]}),b.jsx("br",{}),b.jsx("br",{}),i>=o&&o>=0&&t&&` The correct answer was: ${t}.`]}):null}function gpt(e,t){const n=[];for(const r of e)t.includes(r)&&n.push(r);return n}function Hz({config:e,location:t,status:n,style:r}){const i=bo(),{updateResponseBlockValidation:o,saveIncorrectAnswer:s}=Qi(),a=cf(),l=Hn(ae=>ae.analysisProvState[t]),u=A.useMemo(()=>l?.form||n?.answer,[l,n]),c=Om(),d=A.useMemo(()=>c?.formOrder||{},[c]),f=ca(),h=A.useMemo(()=>d?.response?d.response.map(ae=>e?.response?.find(te=>te.id===ae)).filter(ae=>ae!==void 0):[],[e?.response,d]),m=A.useMemo(()=>h.filter(ae=>ae.location?ae.location===t:t==="belowStimulus"),[h,t]),p=A.useMemo(()=>m.map(ae=>ae.type!=="textOnly"&&ae.type!=="divider"?{...ae,required:ae.required===void 0?!0:ae.required}:ae),[m]),g=A.useMemo(()=>h.map(ae=>ae.type!=="textOnly"&&ae.type!=="divider"?{...ae,required:ae.required===void 0?!0:ae.required}:ae),[h]),{actions:v,trrack:y}=A.useMemo(()=>{const ae=mC.create(),te=ae.register("update",(we,X)=>(we.form=X,we)),se=bM({registry:ae,initialState:{form:null}});return{actions:{updateFormAction:te},trrack:se}},[]),w=Hn(ae=>ae.reactiveAnswers),_=Hn(ae=>ae.matrixAnswers),E=Hn(ae=>ae.rankingAnswers),S=Hn(ae=>ae.trialValidation),T=Ga(),R=A.useMemo(()=>e?.provideFeedback??T.uiConfig.provideFeedback,[e,T])&&(e?.correctAnswer?.length||0)>0,I=A.useMemo(()=>e?.allowFailedTraining??T.uiConfig.allowFailedTraining??!0,[e,T]),[P,N]=A.useState(0),M=A.useMemo(()=>e?.trainingAttempts??T.uiConfig.trainingAttempts??2,[e,T]),[O,j]=A.useState(!1),[U,q]=A.useState(!1),V=P>=M&&M>=0||U,z=A.useMemo(()=>t===(e?.nextButtonLocation??T.uiConfig.nextButtonLocation??"belowStimulus"),[e,T,t]),L=Nm(),H=Kdt(p,a,u||{});A.useEffect(()=>{u&&(H.setInitialValues(V_e(m,u)),H.reset(),o({location:t,identifier:L,status:H.isValid(),values:structuredClone(H.values),provenanceGraph:y.graph.backend}))},[m,u]),A.useEffect(()=>{if(w){const ae=Gdt(p,H.values,w);z3(ae,H.values)||H.setValues(ae)}},[w]),A.useEffect(()=>{const ae=p.filter(we=>we.type==="matrix-radio"||we.type==="matrix-checkbox"),te=p.filter(we=>we.type==="ranking-sublist"||we.type==="ranking-categorical"||we.type==="ranking-pairwise"),se={...H.values};ae.forEach(we=>{const{id:X}=we;se[X]={...H.getInputProps(X).value,..._[X]}}),te.forEach(we=>{const{id:X}=we;se[X]={...H.getInputProps(X).value,...E[X]}}),H.setValues(se)},[_,E]),A.useEffect(()=>{y.apply("Update form field",v.updateFormAction(structuredClone(H.values))),i(o({location:t,identifier:L,status:H.isValid(),values:structuredClone(H.values),provenanceGraph:y.graph.backend}))},[H.values,L,t,i,o]);const[B,Y]=A.useState(Object.fromEntries(g.map(ae=>[ae.id,{visible:!1,title:"Correct Answer",message:"The correct answer is: ",color:"green"}]))),Q=(ae,te,se,we,X)=>{Y(he=>({...he,[ae]:{visible:te,title:se,message:we,color:X}}))},ne=A.useCallback(()=>{const ae=P+1;N(ae);const te=structuredClone(S[L]),se=te?Object.values(te).reduce((X,he)=>Object.hasOwn(he,"values")?{...X,...he.values}:X,{}):{},we=Object.fromEntries(g.map(X=>{const he=e?.correctAnswer?.find(re=>re.id===X.id)?.answer,ge=se[X.id];return[X.id,lY(ge,he)]}));R&&(g.forEach(X=>{if(we[X.id]&&!B[X.id]?.message.includes("You've failed to answer this question correctly"))Q(X.id,!0,"Correct Answer","You have answered the question correctly.","green");else{i(s({question:L,identifier:X.id,answer:se[X.id]}));let he="";if(M===-1?he="Please try again.":ae>=M?(he=`You didn't answer this question correctly after ${M} attempts. ${I?"You can continue to the next question.":"Unfortunately you have not met the criteria for continuing this study."}`,I||setTimeout(()=>{f(`./../__trainingFailed${window.location.search}`)},5e3)):M-ae===1?he="Please try again. You have 1 attempt left.":he=`Please try again. You have ${M-ae} attempts left.`,X.type==="checkbox"){const ge=e?.correctAnswer?.find(Re=>Re.id===X.id)?.answer,re=se[X.id],ee=gpt(re,ge),fe=ge.length===ee.length&&re.length>ge.length?"However, you have selected too many boxes. ":"";he=`You have successfully checked ${ee.length}/${ge.length} correct boxes. ${fe}${he}`}Q(X.id,!0,"Incorrect Answer",he,"red")}}),q(Object.values(we).every(X=>X)),j(I&&ae>=M||Object.values(we).every(X=>X)&&ae<=M))},[P,g,e,R,M,I,f,L,i,B,s,S]),ce=e?.nextOnEnter??T.uiConfig.nextOnEnter;A.useEffect(()=>{if(ce){const ae=te=>{te.key==="Enter"&&ne()};return window.addEventListener("keydown",ae),()=>{window.removeEventListener("keydown",ae)}}return()=>{}},[ne,ce]);const le=A.useMemo(()=>e?.nextButtonText??T.uiConfig.nextButtonText??"Next",[e,T]);let ue=0;return b.jsxs(b.Fragment,{children:[b.jsx(De,{className:`responseBlock responseBlock-${t}`,style:r,children:g.map(ae=>{const te=e.correctAnswer?.find(X=>X.id===ae.id)?.answer,se=Array.isArray(te)&&te.length>0?JSON.stringify(te):te,we=m.some(X=>X.id===ae.id);return we&&(ae.type!=="textOnly"?ue+=1:ae.restartEnumeration&&(ue=0)),b.jsx(un.Fragment,{children:we?ae.hidden?"":b.jsxs(b.Fragment,{children:[b.jsx(mpt,{storedAnswer:u,form:{...H.getInputProps(ae.id,{type:ae.type==="checkbox"?"checkbox":"input"})},dontKnowCheckbox:{...H.getInputProps(`${ae.id}-dontKnow`,{type:"checkbox"})},otherInput:{...H.getInputProps(`${ae.id}-other`)},response:ae,index:ue,config:e,disabled:V}),b.jsx(mle,{response:ae,correctAnswer:se,alertConfig:B,identifier:L,attemptsUsed:P,trainingAttempts:M})]}):b.jsx(mle,{response:ae,correctAnswer:se,alertConfig:B,identifier:L,attemptsUsed:P,trainingAttempts:M})},`${ae.id}-${a}`)})}),z&&b.jsx(kdt,{disabled:R&&!O||!H.isValid(),label:le,config:e,location:t,checkAnswer:z&&R?b.jsx(Mt,{disabled:U||P>=M&&M>=0,onClick:()=>ne(),px:t==="sidebar"?8:void 0,children:"Check Answer"}):null})]})}const L_="@REVISIT_COMMS";function ypt({currentConfig:e,provState:t,answers:n}){const{setReactiveAnswers:r,updateResponseBlockValidation:i}=Qi(),o=bo(),s=kCe(),a=Nm(),l=A.useRef(null),u=A.useMemo(()=>crypto.randomUUID?crypto.randomUUID():`testID-${Date.now()}`,[]),c=df(),d=A.useCallback((f,h)=>{l.current?.contentWindow?.postMessage({error:!1,type:`${L_}/${f}`,iframeId:u,message:h},"*")},[l,u]);return A.useEffect(()=>{t&&d("PROVENANCE",t)},[t,d]),A.useEffect(()=>{n&&d("ANSWERS",n)},[n,d]),A.useEffect(()=>{const f=h=>{const{data:m}=h;if(typeof m=="object"&&u===m.iframeId)switch(m.type){case`${L_}/WINDOW_READY`:e.parameters&&d("STUDY_DATA",e.parameters);break;case`${L_}/READY`:break;case`${L_}/ANSWERS`:o(r(m.message)),o(i({location:"stimulus",identifier:a,status:!0,values:m.message}));break;case`${L_}/PROVENANCE`:o(i({location:"stimulus",identifier:a,values:{},status:!0,provenanceGraph:m.message}));break}};return window.addEventListener("message",f),()=>window.removeEventListener("message",f)},[o,s,u,e,d,r,i,a]),b.jsx("iframe",{ref:l,style:{width:"100%",flexGrow:1,border:0},src:e.path.startsWith("http")?e.path:`${Hi}${e.path}?trialid=${c}&id=${u}`})}async function TM(e){const n=await(await fetch(e)).text();if(!n.includes("<title>ReVISit</title>"))return n}async function vpt(e){const t=await fetch(`${Hi}${e}`);let n;try{n=await t.json()}catch(r){console.error("Invalid JSON:",r)}return n}function dm({email:e,path:t}){const n=qa();return b.jsxs(U0,{fluid:!0,my:50,maw:800,mx:"auto",children:[b.jsx(gr,{order:2,children:b.jsx($e,{span:!0,c:"orange",children:"404"})}),b.jsxs($e,{children:[b.jsx($e,{span:!0,fw:700,children:t||n.pathname})," ","not found."]}),b.jsx(Ou,{h:"lg"}),b.jsxs(ji,{children:[b.jsx(ji.Item,{children:b.jsx($e,{children:"If you're trying to access your study please check the URL and verify that the global config file is correctly configured. Then try again."})}),b.jsx(ji.Item,{children:b.jsxs($e,{children:["If you're a participant, please contact the study administrator"," ",e&&b.jsxs(b.Fragment,{children:["at"," ",b.jsxs(B0,{c:"blue",href:`mailto:${e}`,children:[e," "]})]}),"."]})})]})]})}function bpt({currentConfig:e}){const t=A.useMemo(()=>e.path.startsWith("http")?e.path:`${Hi}${e.path}`,[e.path]),[n,r]=A.useState(!0),[i,o]=A.useState(!1);return A.useEffect(()=>{async function s(){let a=await TM(t);a=a?.includes("File not found")?void 0:a,o(!!a),r(!1)}s()},[t]),n||i?b.jsx(Am,{mx:"auto",src:t}):b.jsx(dm,{path:e.path})}class wpt extends un.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){return this.state.hasError?b.jsx($e,{children:this.state.error.toString()}):this.props.children}}const gle=Object.assign({"../public/libraries/adaptive-vlat/assets/VlatTrial.tsx":RCe,"../public/libraries/adaptive-vlat/assets/dynamic.tsx":PCe,"../public/libraries/adaptive-vlat/assets/utils.ts":DCe,"../public/libraries/adaptive-vlat/assets/vlatQ.tsx":ACe,"../public/libraries/berlin-num/assets/dynamic.tsx":OCe,"../public/libraries/mic-check/assets/AudioTest.tsx":NCe,"../public/libraries/screen-recording/assets/ScreenRecording.tsx":l_e,"../public/libraries/test/assets/test.tsx":u_e,"../public/libraries/virtual-chinrest/assets/ViewingDistanceCalibration.tsx":c_e,"../public/libraries/virtual-chinrest/assets/VirtualChinrestCalibration.tsx":d_e});function xpt({currentConfig:e,provState:t,answers:n}){const r=`../public/${e.path}`,i=r in gle?gle[r].default:null,o=Nm(),s=bo(),{updateResponseBlockValidation:a,setReactiveAnswers:l}=Qi(),u=A.useCallback(({status:c,provenanceGraph:d,answers:f})=>{s(a({location:"stimulus",identifier:o,status:c,values:f,provenanceGraph:d})),s(l(f))},[l,s,a,o]);return b.jsx(A.Suspense,{fallback:b.jsx("div",{children:"Loading..."}),children:i?b.jsx(wpt,{children:b.jsx(i,{parameters:e.parameters,setAnswer:u,answers:n,provenanceState:t})}):b.jsx(dm,{path:e.path})})}function Cpt({currentConfig:e}){const[t,n]=A.useState(!0),[r,i]=A.useState(""),[o,s]=A.useState(!0);return A.useEffect(()=>{async function a(){const l=await TM(`${Hi}${e.path}`);l!==void 0?i(l):n(!1),s(!1)}a()},[e.path]),o||t?b.jsx(_h,{text:r}):b.jsx(dm,{path:e.path})}function vEe(){const e=cf(),{setAlertModal:t}=Qi(),n=bo();A.useEffect(()=>{window.history.pushState(null,"",window.location.href),window.onpopstate=()=>{window.history.pushState(null,"",window.location.href),n(t({show:!0,message:"Using the browser's back button is prohibited during the study.",title:"Prohibited"}))}},[e,t,n])}var yle=Object.prototype.hasOwnProperty;function vle(e,t,n){for(n of e.keys())if(_S(n,t))return n}function _S(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&_S(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=vle(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=vle(t,i),!i)||!_S(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(yle.call(e,n)&&++r&&!yle.call(t,n)||!(n in t)||!_S(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function _pt(e){var t=A.useRef(e),n=A.useRef(0);return _S(e,t.current)||(t.current=e,n.current+=1),A.useMemo(function(){return t.current},[n.current])}function Ept(e,t){return A.useEffect(e,_pt(t))}const xc=(e,t=null)=>{const[n,r]=A.useState("idle"),[i,o]=A.useState(null),[s,a]=A.useState(null),l=A.useRef(null),u=A.useRef(!1);A.useEffect(()=>(u.current=!0,()=>{u.current=!1}),[]);const c=A.useCallback((...d)=>{r("pending"),a(null);const f=Promise.resolve(e(...d)).then(h=>(u.current&&f===l.current&&(o(h),r("success")),h)).catch(h=>{throw u.current&&f===l.current&&(o(null),a(h),r("error")),h});return l.current=f,f},[e]);return Ept(()=>{if(t)try{c(...t)}catch{}},[c,t]),{execute:c,status:n,value:i,error:s}};function bEe(e){const t=e.endTime===-1?void 0:e.endTime-e.startTime,n=(e.windowEvents||[]).filter(s=>s!==void 0).filter(([s,a,l])=>a==="visibility");let r=0,i=0;for(;i<n.length-1;){if(n[i][2]==="hidden"){for(let s=i+1;s<n.length;s+=1)if(n[s][2]==="visible"){r+=n[s][0]-n[i][0],i=s;break}}i+=1}const o=t?t-r:void 0;return o&&o>=0?o:-1}const Spt="_root_1spq0_1",Tpt="_description_1spq0_9",kpt="_title_1spq0_10",Apt="_closeButton_1spq0_14",Rpt={root:Spt,description:Tpt,title:kpt,closeButton:Apt},E2=e=>{const{title:t,message:n,color:r}=e;Sb.show({title:t,message:n,position:"top-center",classNames:Rpt,color:r||"blue",autoClose:r==="red"||r==="yellow"?!1:5e3})},Ipt=["condition","stage","status","rejectReason","rejectTime","percentComplete","description","instruction","responsePrompt","answer","correctAnswer","duration","cleanedDuration","meta","transcript","startTime","endTime","responseMin","responseMax","configHash"],wEe=["participantId","trialId","trialOrder","responseId"],Dpt=50;async function Ppt(e,t){const n=Math.max(1,t);let r=0;const i=async()=>{const s=r;r+=1,!(s>=e.length)&&(await e[s](),await i())},o=Array.from({length:Math.min(n,e.length)},()=>i());await Promise.all(o)}function EY(e,t){const n=`data:text/json;charset=utf-8,${encodeURIComponent(e)}`,r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove()}function Opt(e,t,n,r){const i=(Object.entries(e.answers).filter(([l,u])=>u.endTime!==-1).length/Object.entries(e.answers).length*100).toFixed(2),o=new Set,s=Mu(e.conditions??e.searchParams?.condition),a=s.length>0?s.join(","):"default";return[[{participantId:e.participantId,trialId:"participantTags",trialOrder:null,responseId:"participantTags",answer:JSON.stringify(e.participantTags),...t.includes("condition")?{condition:a}:{},...t.includes("stage")?{stage:e.stage}:{}},...Object.values(e.answers).map(l=>{const u=l.componentName,{trialOrder:c}=l,d=n.components[u],f=$u(d,n),h=l.endTime===-1?void 0:l.endTime-l.startTime,m=bEe(l),p=Object.keys(l.answer).length===0?{"":void 0}:l.answer,g=Object.entries(p).map(([y,w])=>{const _={participantId:e.participantId,trialId:u,trialOrder:c,responseId:y};Object.entries(l.parameters).forEach(([S,T])=>{_[`parameters_${S}`]=T,o.add(`parameters_${S}`)});const E=f.response.find(S=>S.id===y);if(t.includes("condition")&&(_.condition=a),t.includes("stage")&&(_.stage=e.stage),t.includes("status")&&(_.status=e.rejected?"rejected":e.completed?"completed":"in progress"),t.includes("rejectReason")&&(_.rejectReason=e.rejected?e.rejected.reason:void 0),t.includes("rejectTime")&&(_.rejectTime=e.rejected?new Date(e.rejected.timestamp).toISOString():void 0),t.includes("configHash")&&(_.configHash=e.participantConfigHash),t.includes("percentComplete")&&(_.percentComplete=i),t.includes("description")&&(_.description=f.description),t.includes("instruction")&&(_.instruction=f.instruction),t.includes("responsePrompt")&&(_.responsePrompt=E?.prompt),t.includes("answer")&&(_.answer=typeof w=="object"?JSON.stringify(w):w),t.includes("transcript")){const S=l.identifier||`${u}_${c}`;_.transcript=r?.[`${e.participantId}_${S}`]??void 0}if(t.includes("correctAnswer")){const S=f.correctAnswer?.find(R=>R.id===y)?.answer,k=l.correctAnswer.find(R=>R.id===y)?.answer||S;_.correctAnswer=typeof k=="object"?JSON.stringify(k):k}return t.includes("startTime")&&(_.startTime=new Date(l.startTime).toISOString()),t.includes("endTime")&&(_.endTime=new Date(l.endTime).toISOString()),t.includes("duration")&&(_.duration=h),t.includes("cleanedDuration")&&(_.cleanedDuration=m),t.includes("meta")&&(_.meta=JSON.stringify(f.meta,null,2)),t.includes("responseMin")&&(_.responseMin=E?.type==="numerical"?E.min:void 0),t.includes("responseMax")&&(_.responseMax=E?.type==="numerical"?E.max:void 0),_}).flat(),v={focus:l.windowEvents.filter(y=>y[1]==="focus").length,input:l.windowEvents.filter(y=>y[1]==="input").length,keydown:l.windowEvents.filter(y=>y[1]==="keydown").length,keyup:l.windowEvents.filter(y=>y[1]==="keyup").length,mousemove:l.windowEvents.filter(y=>y[1]==="mousemove").length,mousedown:l.windowEvents.filter(y=>y[1]==="mousedown").length,mouseup:l.windowEvents.filter(y=>y[1]==="mouseup").length,resize:l.windowEvents.filter(y=>y[1]==="resize").length,scroll:l.windowEvents.filter(y=>y[1]==="scroll").length,visibility:l.windowEvents.filter(y=>y[1]==="visibility").length};return g.push({participantId:e.participantId,trialId:u,trialOrder:c,responseId:"windowEvents",answer:JSON.stringify(v),...t.includes("condition")?{condition:a}:{},...t.includes("stage")?{stage:e.stage}:{}}),g}).flat()],Array.from(o)]}async function Npt(e,t,n,r,i){if(!n)return{header:[],rows:[]};const o=[...wEe,...e],s=[...new Set(t.map(g=>g.participantConfigHash))],a=await n.getAllConfigsFromHash(s,r),l={},u=n.getEngine()==="firebase"&&!!i;if(e.includes("transcript")&&u){const v=t.flatMap(y=>Object.values(y.answers).filter(w=>(w?.endTime??-1)>0||(w?.startTime??-1)>0).map(w=>({answer:w,participantId:y.participantId}))).map(({answer:y,participantId:w})=>async()=>{const _=y.identifier||`${y.componentName}_${y.trialOrder}`,E=`${w}_${_}`;try{const T=(await n.getTranscription(_,w))?.results?.map(k=>k.alternatives?.[0]?.transcript).join(" ");l[E]=T||null}catch{l[E]=null}});await Ppt(v,Dpt)}const c=t.some(g=>{const v=g.studyCondition;return Mu(g.conditions??v??g.searchParams?.condition).length>0}),d=o.filter(g=>g!=="condition"||c),f=await Promise.all(t.map(async g=>await Opt(g,o,a[g.participantConfigHash],l))),h=f.map(g=>g[0]),m=new Set(f.map(g=>g[1]).flat()),p=h.flat().sort((g,v)=>g!==v?g.participantId.localeCompare(v.participantId):g.trialOrder-v.trialOrder);return{header:[...d,...m],rows:p}}function Mpt({opened:e,close:t,filename:n,data:r,studyId:i,hasAudio:o}){const[s,a]=A.useState(!1),[l,u]=A.useState(0),[c,d]=A.useState(!1),[f,h]=A.useState(["condition","stage","status","rejectReason","description","rejectTime","percentComplete","instruction","responsePrompt","answer","correctAnswer","duration","cleanedDuration"]),{storageEngine:m}=ri(),{value:p,status:g,error:v}=xc(Npt,[f,r,m,i,o]),w=m?.getEngine()==="firebase"&&!!o,_=r.length,E=f.includes("transcript")&&_>50,S=A.useCallback(async(R=!1)=>{if(p){if(E&&!R){d(!0);return}d(!1),a(!0),u(0);try{const I=[p.header.join(",")],P=p.rows.length,N=100;await(async()=>{let O=0;for(;O<P;){const j=Math.min(O+N,P);for(let U=O;U<j;U+=1){const q=p.rows[U],W=p.header.map(V=>{const z=q[V]??"";return`"${(typeof z=="object"?JSON.stringify(z):`${z}`).replace(/"/g,'""')}"`}).join(",");I.push(W)}u(P===0?100:Math.round(j/P*100)),O=j,O<P&&await new Promise(U=>{setTimeout(U,0)})}})(),EY(I.join(`
`),n)}finally{u(100),setTimeout(()=>{a(!1),u(0)},250)}}},[n,p,E]),T=A.useCallback(()=>{p&&(window.parent.postMessage({type:"revisitWidget/PYTHON_EXPORT_TIDY",payload:p},"*"),E2({title:"Success",message:"Data sent to python notebook",color:"green"}))},[p]),k=A.useMemo(()=>{if(!p)return"";const R=p.rows.length>5?5:p.rows.length,I=R===1?"":"s";return`This is a preview of the first ${I?R:""} row${I} of the CSV. The full CSV contains ${p.rows.length} row${I}.`},[p]);return b.jsxs(ni,{opened:e,size:"90%",onClose:t,title:"Tidy CSV Exporter",centered:!0,withCloseButton:!1,closeOnClickOutside:!(s||c&&E),closeOnEscape:!(s||c&&E),children:[c&&E&&b.jsxs(pl,{color:"orange",icon:b.jsx(Ru,{}),mb:"sm",children:["This export includes transcripts for"," ",_," ","selected participants, so it may take a while."]}),s&&b.jsx(H0,{value:l,animated:!0}),b.jsxs(De,{children:[b.jsx($e,{size:"sm",fw:500,mb:"xs",children:b.jsxs(lt,{align:"center",gap:"xs",children:[b.jsx(eKe,{size:16}),"Optional columns:"]})}),b.jsx(lt,{wrap:"wrap",gap:"4px",children:Ipt.filter(R=>R!=="transcript"||w).map(R=>{const I=f.includes(R);return b.jsx(Mt,{variant:I?"light":"white",color:I?"blue":"gray",size:"xs",onClick:()=>{h(I?f.filter(N=>N!==R):[...f,R])},styles:{root:{fontSize:"14px",height:"auto",padding:"4px 8px",borderRadius:"6px"}},children:R},R)})})]}),b.jsx(Ou,{h:"md"}),b.jsxs(De,{h:400,style:{width:"100%",overflow:"scroll"},children:[g==="success"&&p?b.jsxs(xn,{striped:!0,captionSide:"bottom",withTableBorder:!0,children:[b.jsx(xn.Thead,{children:b.jsx(xn.Tr,{children:p.header.map(R=>b.jsx(xn.Th,{style:{whiteSpace:"nowrap",minWidth:["description","instruction","participantId"].includes(R)?200:void 0},children:b.jsxs(lt,{direction:"row",justify:"space-between",align:"center",children:[R,!wEe.includes(R)&&b.jsx(on,{onClick:()=>h(f.filter(I=>I!==R)),style:{marginBottom:-3,marginLeft:8},variant:"subtle",color:"gray",children:b.jsx(am,{size:16})})]})},R))})}),b.jsx(xn.Tbody,{children:p.rows.slice(0,5).map((R,I)=>b.jsx(xn.Tr,{children:p.header.map(P=>b.jsx(xn.Td,{style:{whiteSpace:["description","instruction","participantId"].includes(P)?"normal":"nowrap"},children:R[P]},`${I} - ${P}`))},I))})]}):g==="error"&&v?b.jsx(pl,{variant:"light",children:v.message}):null,b.jsx(Jl,{visible:g==="pending"||g==="idle"})]}),b.jsx(Ou,{h:"sm"}),b.jsx(lt,{justify:"center",fz:"sm",c:"dimmed",children:b.jsx($e,{children:k})}),b.jsx(Ou,{h:"md"}),b.jsxs(ln,{justify:"right",children:[!(c&&E)&&b.jsx(Mt,{onClick:t,color:"dark",variant:"subtle",disabled:s,children:"Close"}),c&&E&&b.jsx(Mt,{variant:"subtle",color:"gray",onClick:()=>d(!1),disabled:s,children:"Cancel"}),b.jsx(Mt,{leftSection:b.jsx(xwe,{}),onClick:()=>{S(c)},"data-autofocus":!0,disabled:s||!p,color:c&&E?"orange":void 0,children:c&&E?"Continue Download":"Download"}),i==="__revisit-widget"&&b.jsx(Mt,{onClick:T,disabled:s,children:b.jsx(_Ge,{})})]})]})}function $pt(){const e=Ga(),{storageEngine:t}=ri(),n=bo(),{setParticipantCompleted:r}=Qi(),i=lf(),[o,s]=A.useState(!1),a=A.useRef(t);A.useEffect(()=>{a.current=t},[t]),A.useEffect(()=>{if(!i){let S=!1,T=null;const k=async()=>{if(S)return;const R=a.current;if(!R){T=setTimeout(()=>{k()},2e3);return}try{if(await R.verifyCompletion()){s(!0),n(r(!0));return}}catch(I){console.error("An error occurred while verifying completion",I)}S||(T=setTimeout(()=>{k()},2e3))};return k(),()=>{S=!0,T&&(clearTimeout(T),T=null)}}s(!0),n(r(!0))},[]),vEe();const[l,u]=A.useState(),[c,d]=A.useState(""),f=e.studyMetadata.title.replace(" ","_");A.useEffect(()=>{async function S(){if(t){const T=await t.getCurrentParticipantId(),k=await t.getParticipantData();d(T),u(k)}}S()},[t]);const h=A.useCallback(async()=>{EY(JSON.stringify(l,null,2),`${f}_${c}.json`)},[f,l,c]),m=e.uiConfig.autoDownloadStudy||!1,p=m&&e.uiConfig.autoDownloadTime||-1,[g,v]=A.useState(Math.floor(p/1e3));A.useEffect(()=>{if(o){const S=setInterval(()=>{v(T=>T-1)},1e3);return g<=0?(m&&h(),clearInterval(S),()=>clearInterval(S)):()=>clearInterval(S)}return()=>{}},[m,o,g,h]);const y=uf(),[w,_]=A.useState(!1);A.useEffect(()=>{(async()=>{if(t){const T=await t.getModes(y);_(T.dataCollectionEnabled)}})()},[t,y]);const E=A.useMemo(()=>{const{studyEndMsg:S,urlParticipantIdParam:T}=e.uiConfig;return!T||!S?.includes("{PARTICIPANT_ID}")?S:S.replace(/\{PARTICIPANT_ID\}/g,()=>c)},[e,c]);return b.jsx(za,{style:{height:"100%"},children:b.jsx(lt,{direction:"column",children:o||!w?E?b.jsx(_h,{text:E}):b.jsx($e,{size:"xl",display:"block",children:"Thank you for completing the study. You may close this window now."}):b.jsxs(b.Fragment,{children:[b.jsx($e,{size:"xl",display:"block",children:"Please wait while your answers are uploaded."}),b.jsx(Ou,{h:"lg"}),b.jsx(za,{children:b.jsx(qc,{color:"blue"})})]})})})}function Lpt(){const{storageEngine:e}=ri();return A.useEffect(()=>{e&&e.rejectCurrentParticipant("Failed training").catch(()=>{console.error("Failed to reject participant who failed training")})},[e]),b.jsx($e,{children:"Thank you for participating. Unfortunately you didn't answer the training correctly, which means you are not eligible to participate in the study. You may close this window now."})}function Fpt(){return b.jsx($e,{children:"Thank you for participating. Unfortunately, you have not answered the questions within the given time limit. Because of this, you are no longer eligible to participate in the study. You may close this window now."})}const ble={};function qz(e,t){e===void 0&&(e=ble),t===void 0&&(t=ble);const n=Object.keys(e),r=Object.keys(t);return e===t||n.length===r.length&&n.every(i=>e[i]===t[i])}var jpt=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Bpt=Object.prototype.hasOwnProperty;function Vz(e,t){return Bpt.call(e,t)}function Wz(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)Vz(e,i)&&r.push(i);return r}function Iu(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function Gz(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function Wy(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function xEe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Yz(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(Yz(e[t]))return!0}else if(typeof e=="object"){for(var r=Wz(e),i=r.length,o=0;o<i;o++)if(Yz(e[r[o]]))return!0}}return!1}function wle(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var CEe=(function(e){jpt(t,e);function t(n,r,i,o,s){var a=this.constructor,l=e.call(this,wle(n,{name:r,index:i,operation:o,tree:s}))||this;return l.name=r,l.index=i,l.operation=o,l.tree=s,Object.setPrototypeOf(l,a.prototype),l.message=wle(n,{name:r,index:i,operation:o,tree:s}),l}return t})(Error),mo=CEe,zpt=Iu,hw={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=oO(n,this.path);r&&(r=Iu(r));var i=Ev(n,{op:"remove",path:this.from}).removed;return Ev(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=oO(n,this.from);return Ev(n,{op:"add",path:this.path,value:Iu(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:S2(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},Upt={add:function(e,t,n){return Gz(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:hw.move,copy:hw.copy,test:hw.test,_get:hw._get};function oO(e,t){if(t=="")return e;var n={op:"_get",path:t};return Ev(e,n),n.value}function Ev(e,t,n,r,i,o){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(t,0,e,t.path):sO(t,0)),t.path===""){var s={newDocument:e};if(t.op==="add")return s.newDocument=t.value,s;if(t.op==="replace")return s.newDocument=t.value,s.removed=e,s;if(t.op==="move"||t.op==="copy")return s.newDocument=oO(e,t.from),t.op==="move"&&(s.removed=e),s;if(t.op==="test"){if(s.test=S2(e,t.value),s.test===!1)throw new mo("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s.newDocument=e,s}else{if(t.op==="remove")return s.removed=e,s.newDocument=null,s;if(t.op==="_get")return t.value=e,s;if(n)throw new mo("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return s}}else{r||(e=Iu(e));var a=t.path||"",l=a.split("/"),u=e,c=1,d=l.length,f=void 0,h=void 0,m=void 0;for(typeof n=="function"?m=n:m=sO;;){if(h=l[c],h&&h.indexOf("~")!=-1&&(h=xEe(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&l[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&f===void 0&&(u[h]===void 0?f=l.slice(0,c).join("/"):c==d-1&&(f=t.path),f!==void 0&&m(t,0,e,f)),c++,Array.isArray(u)){if(h==="-")h=u.length;else{if(n&&!Gz(h))throw new mo("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);Gz(h)&&(h=~~h)}if(c>=d){if(n&&t.op==="add"&&h>u.length)throw new mo("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var s=Upt[t.op].call(t,u,h,e);if(s.test===!1)throw new mo("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}}else if(c>=d){var s=hw[t.op].call(t,u,h,e);if(s.test===!1)throw new mo("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}if(u=u[h],n&&c<d&&(!u||typeof u!="object"))throw new mo("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function kM(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new mo("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Iu(e));for(var o=new Array(t.length),s=0,a=t.length;s<a;s++)o[s]=Ev(e,t[s],n,!0,i,s),e=o[s].newDocument;return o.newDocument=e,o}function Hpt(e,t,n){var r=Ev(e,t);if(r.test===!1)throw new mo("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function sO(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new mo("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(hw[e.op]){if(typeof e.path!="string")throw new mo("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new mo('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new mo("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new mo("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&Yz(e.value))throw new mo("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new mo("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new mo("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var s={op:"_get",path:e.from,value:void 0},a=_Ee([s],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new mo("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new mo("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function _Ee(e,t,n){try{if(!Array.isArray(e))throw new mo("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)kM(Iu(t),Iu(e),n||!0);else{n=n||sO;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof mo)return i;throw i}}function S2(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!S2(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(o=a.length,o!==Object.keys(t).length)return!1;for(i=o;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=o;i--!==0;)if(s=a[i],!S2(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}const qpt=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:mo,_areEquals:S2,applyOperation:Ev,applyPatch:kM,applyReducer:Hpt,deepClone:zpt,getValueByPointer:oO,validate:_Ee,validator:sO},Symbol.toStringTag,{value:"Module"}));var SY=new WeakMap,Vpt=(function(){function e(t){this.observers=new Map,this.obj=t}return e})(),Wpt=(function(){function e(t,n){this.callback=t,this.observer=n}return e})();function Gpt(e){return SY.get(e)}function Ypt(e,t){return e.observers.get(t)}function Kpt(e,t){e.observers.delete(t.callback)}function Xpt(e,t){t.unobserve()}function Qpt(e,t){var n=[],r,i=Gpt(e);if(!i)i=new Vpt(e),SY.set(e,i);else{var o=Ypt(i,t);r=o&&o.observer}if(r)return r;if(r={},i.value=Iu(e),t){r.callback=t,r.next=null;var s=function(){Kz(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(s)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){Kz(r),clearTimeout(r.next),Kpt(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new Wpt(t,r)),r}function Kz(e,t){t===void 0&&(t=!1);var n=SY.get(e.object);TY(n.value,e.object,e.patches,"",t),e.patches.length&&kM(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function TY(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=Wz(t),s=Wz(e),a=!1,l=s.length-1;l>=0;l--){var u=s[l],c=e[u];if(Vz(t,u)&&!(t[u]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var d=t[u];typeof c=="object"&&c!=null&&typeof d=="object"&&d!=null&&Array.isArray(c)===Array.isArray(d)?TY(c,d,n,r+"/"+Wy(u),i):c!==d&&(i&&n.push({op:"test",path:r+"/"+Wy(u),value:Iu(c)}),n.push({op:"replace",path:r+"/"+Wy(u),value:Iu(d)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+Wy(u),value:Iu(c)}),n.push({op:"remove",path:r+"/"+Wy(u)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&o.length==s.length))for(var l=0;l<o.length;l++){var u=o[l];!Vz(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+Wy(u),value:Iu(t[u])})}}}function Jpt(e,t,n){n===void 0&&(n=!1);var r=[];return TY(e,t,r,"",n),r}const Zpt=Object.freeze(Object.defineProperty({__proto__:null,compare:Jpt,generate:Kz,observe:Qpt,unobserve:Xpt},Symbol.toStringTag,{value:"Module"}));Object.assign({},qpt,Zpt,{JsonPatchError:CEe,deepClone:Iu,escapePathComponent:Wy,unescapePathComponent:xEe});var S8,xle;function emt(){if(xle)return S8;xle=1;var e=/("(?:[^\\"]|\\.)*")|[:,]/g;return S8=function(n,r){var i,o,s;return r=r||{},i=JSON.stringify([1],void 0,r.indent===void 0?2:r.indent).slice(2,-3),o=i===""?1/0:r.maxLength===void 0?80:r.maxLength,s=r.replacer,(function a(l,u,c){var d,f,h,m,p,g,v,y,w,_,E,S;if(l&&typeof l.toJSON=="function"&&(l=l.toJSON()),E=JSON.stringify(l,s),E===void 0)return E;if(v=o-u.length-c,E.length<=v&&(w=E.replace(e,function(T,k){return k||T+" "}),w.length<=v))return w;if(s!=null&&(l=JSON.parse(E),s=void 0),typeof l=="object"&&l!==null){if(y=u+i,h=[],f=0,Array.isArray(l))for(_="[",d="]",v=l.length;f<v;f++)h.push(a(l[f],y,f===v-1?0:1)||"null");else for(_="{",d="}",g=Object.keys(l),v=g.length;f<v;f++)m=g[f],p=JSON.stringify(m)+": ",S=a(l[m],y,p.length+(f===v-1?0:1)),S!==void 0&&h.push(p+S);if(h.length>0)return[_,i+h.join(`,
`+y),d].join(`
`+u)}return E})(n,"",0)},S8}var tmt=emt();const T8=Xo(tmt);var RR={exports:{}},k8,Cle;function AM(){if(Cle)return k8;Cle=1;const e="2.0.0",t=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,r=16,i=t-6;return k8={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},k8}var A8,_le;function RM(){if(_le)return A8;_le=1;var e={};return A8=typeof process=="object"&&e&&e.NODE_DEBUG&&/\bsemver\b/i.test(e.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{},A8}var Ele;function YT(){return Ele||(Ele=1,(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=AM(),o=RM();t=e.exports={};const s=t.re=[],a=t.safeRe=[],l=t.src=[],u=t.safeSrc=[],c=t.t={};let d=0;const f="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[f,r]],m=g=>{for(const[v,y]of h)g=g.split(`${v}*`).join(`${v}{0,${y}}`).split(`${v}+`).join(`${v}{1,${y}}`);return g},p=(g,v,y)=>{const w=m(v),_=d++;o(g,_,v),c[g]=_,l[_]=v,u[_]=w,s[_]=new RegExp(v,y?"g":void 0),a[_]=new RegExp(w,y?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),p("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${l[c.NONNUMERICIDENTIFIER]}|${l[c.NUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NONNUMERICIDENTIFIER]}|${l[c.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${f}+`),p("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`),p("FULL",`^${l[c.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`),p("LOOSE",`^${l[c.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${l[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${l[c.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?)?)?`),p("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`),p("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),p("COERCE",`${l[c.COERCEPLAIN]}(?:$|[^\\d])`),p("COERCEFULL",l[c.COERCEPLAIN]+`(?:${l[c.PRERELEASE]})?(?:${l[c.BUILD]})?(?:$|[^\\d])`),p("COERCERTL",l[c.COERCE],!0),p("COERCERTLFULL",l[c.COERCEFULL],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",p("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",p("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})\\s+-\\s+(${l[c.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[c.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(RR,RR.exports)),RR.exports}var R8,Sle;function kY(){if(Sle)return R8;Sle=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return R8=r=>r?typeof r!="object"?e:r:t,R8}var I8,Tle;function EEe(){if(Tle)return I8;Tle=1;const e=/^[0-9]+$/,t=(r,i)=>{const o=e.test(r),s=e.test(i);return o&&s&&(r=+r,i=+i),r===i?0:o&&!s?-1:s&&!o?1:r<i?-1:1};return I8={compareIdentifiers:t,rcompareIdentifiers:(r,i)=>t(i,r)},I8}var D8,kle;function Sl(){if(kle)return D8;kle=1;const e=RM(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:n}=AM(),{safeRe:r,t:i}=YT(),o=kY(),{compareIdentifiers:s}=EEe();class a{constructor(u,c){if(c=o(c),u instanceof a){if(u.loose===!!c.loose&&u.includePrerelease===!!c.includePrerelease)return u;u=u.version}else if(typeof u!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof u}".`);if(u.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",u,c),this.options=c,this.loose=!!c.loose,this.includePrerelease=!!c.includePrerelease;const d=u.trim().match(c.loose?r[i.LOOSE]:r[i.FULL]);if(!d)throw new TypeError(`Invalid Version: ${u}`);if(this.raw=u,this.major=+d[1],this.minor=+d[2],this.patch=+d[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");d[4]?this.prerelease=d[4].split(".").map(f=>{if(/^[0-9]+$/.test(f)){const h=+f;if(h>=0&&h<n)return h}return f}):this.prerelease=[],this.build=d[5]?d[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(u){if(e("SemVer.compare",this.version,this.options,u),!(u instanceof a)){if(typeof u=="string"&&u===this.version)return 0;u=new a(u,this.options)}return u.version===this.version?0:this.compareMain(u)||this.comparePre(u)}compareMain(u){return u instanceof a||(u=new a(u,this.options)),s(this.major,u.major)||s(this.minor,u.minor)||s(this.patch,u.patch)}comparePre(u){if(u instanceof a||(u=new a(u,this.options)),this.prerelease.length&&!u.prerelease.length)return-1;if(!this.prerelease.length&&u.prerelease.length)return 1;if(!this.prerelease.length&&!u.prerelease.length)return 0;let c=0;do{const d=this.prerelease[c],f=u.prerelease[c];if(e("prerelease compare",c,d,f),d===void 0&&f===void 0)return 0;if(f===void 0)return 1;if(d===void 0)return-1;if(d===f)continue;return s(d,f)}while(++c)}compareBuild(u){u instanceof a||(u=new a(u,this.options));let c=0;do{const d=this.build[c],f=u.build[c];if(e("build compare",c,d,f),d===void 0&&f===void 0)return 0;if(f===void 0)return 1;if(d===void 0)return-1;if(d===f)continue;return s(d,f)}while(++c)}inc(u,c,d){if(u.startsWith("pre")){if(!c&&d===!1)throw new Error("invalid increment argument: identifier is empty");if(c){const f=`-${c}`.match(this.options.loose?r[i.PRERELEASELOOSE]:r[i.PRERELEASE]);if(!f||f[1]!==c)throw new Error(`invalid identifier: ${c}`)}}switch(u){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",c,d);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",c,d);break;case"prepatch":this.prerelease.length=0,this.inc("patch",c,d),this.inc("pre",c,d);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",c,d),this.inc("pre",c,d);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const f=Number(d)?1:0;if(this.prerelease.length===0)this.prerelease=[f];else{let h=this.prerelease.length;for(;--h>=0;)typeof this.prerelease[h]=="number"&&(this.prerelease[h]++,h=-2);if(h===-1){if(c===this.prerelease.join(".")&&d===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(f)}}if(c){let h=[c,f];d===!1&&(h=[c]),s(this.prerelease[0],c)===0?isNaN(this.prerelease[1])&&(this.prerelease=h):this.prerelease=h}break}default:throw new Error(`invalid increment argument: ${u}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return D8=a,D8}var P8,Ale;function bC(){if(Ale)return P8;Ale=1;const e=Sl();return P8=(n,r,i=!1)=>{if(n instanceof e)return n;try{return new e(n,r)}catch(o){if(!i)return null;throw o}},P8}var O8,Rle;function nmt(){if(Rle)return O8;Rle=1;const e=bC();return O8=(n,r)=>{const i=e(n,r);return i?i.version:null},O8}var N8,Ile;function rmt(){if(Ile)return N8;Ile=1;const e=bC();return N8=(n,r)=>{const i=e(n.trim().replace(/^[=v]+/,""),r);return i?i.version:null},N8}var M8,Dle;function imt(){if(Dle)return M8;Dle=1;const e=Sl();return M8=(n,r,i,o,s)=>{typeof i=="string"&&(s=o,o=i,i=void 0);try{return new e(n instanceof e?n.version:n,i).inc(r,o,s).version}catch{return null}},M8}var $8,Ple;function omt(){if(Ple)return $8;Ple=1;const e=bC();return $8=(n,r)=>{const i=e(n,null,!0),o=e(r,null,!0),s=i.compare(o);if(s===0)return null;const a=s>0,l=a?i:o,u=a?o:i,c=!!l.prerelease.length;if(!!u.prerelease.length&&!c){if(!u.patch&&!u.minor)return"major";if(u.compareMain(l)===0)return u.minor&&!u.patch?"minor":"patch"}const f=c?"pre":"";return i.major!==o.major?f+"major":i.minor!==o.minor?f+"minor":i.patch!==o.patch?f+"patch":"prerelease"},$8}var L8,Ole;function smt(){if(Ole)return L8;Ole=1;const e=Sl();return L8=(n,r)=>new e(n,r).major,L8}var F8,Nle;function amt(){if(Nle)return F8;Nle=1;const e=Sl();return F8=(n,r)=>new e(n,r).minor,F8}var j8,Mle;function lmt(){if(Mle)return j8;Mle=1;const e=Sl();return j8=(n,r)=>new e(n,r).patch,j8}var B8,$le;function umt(){if($le)return B8;$le=1;const e=bC();return B8=(n,r)=>{const i=e(n,r);return i&&i.prerelease.length?i.prerelease:null},B8}var z8,Lle;function ff(){if(Lle)return z8;Lle=1;const e=Sl();return z8=(n,r,i)=>new e(n,i).compare(new e(r,i)),z8}var U8,Fle;function cmt(){if(Fle)return U8;Fle=1;const e=ff();return U8=(n,r,i)=>e(r,n,i),U8}var H8,jle;function dmt(){if(jle)return H8;jle=1;const e=ff();return H8=(n,r)=>e(n,r,!0),H8}var q8,Ble;function AY(){if(Ble)return q8;Ble=1;const e=Sl();return q8=(n,r,i)=>{const o=new e(n,i),s=new e(r,i);return o.compare(s)||o.compareBuild(s)},q8}var V8,zle;function fmt(){if(zle)return V8;zle=1;const e=AY();return V8=(n,r)=>n.sort((i,o)=>e(i,o,r)),V8}var W8,Ule;function hmt(){if(Ule)return W8;Ule=1;const e=AY();return W8=(n,r)=>n.sort((i,o)=>e(o,i,r)),W8}var G8,Hle;function IM(){if(Hle)return G8;Hle=1;const e=ff();return G8=(n,r,i)=>e(n,r,i)>0,G8}var Y8,qle;function RY(){if(qle)return Y8;qle=1;const e=ff();return Y8=(n,r,i)=>e(n,r,i)<0,Y8}var K8,Vle;function SEe(){if(Vle)return K8;Vle=1;const e=ff();return K8=(n,r,i)=>e(n,r,i)===0,K8}var X8,Wle;function TEe(){if(Wle)return X8;Wle=1;const e=ff();return X8=(n,r,i)=>e(n,r,i)!==0,X8}var Q8,Gle;function IY(){if(Gle)return Q8;Gle=1;const e=ff();return Q8=(n,r,i)=>e(n,r,i)>=0,Q8}var J8,Yle;function DY(){if(Yle)return J8;Yle=1;const e=ff();return J8=(n,r,i)=>e(n,r,i)<=0,J8}var Z8,Kle;function kEe(){if(Kle)return Z8;Kle=1;const e=SEe(),t=TEe(),n=IM(),r=IY(),i=RY(),o=DY();return Z8=(a,l,u,c)=>{switch(l){case"===":return typeof a=="object"&&(a=a.version),typeof u=="object"&&(u=u.version),a===u;case"!==":return typeof a=="object"&&(a=a.version),typeof u=="object"&&(u=u.version),a!==u;case"":case"=":case"==":return e(a,u,c);case"!=":return t(a,u,c);case">":return n(a,u,c);case">=":return r(a,u,c);case"<":return i(a,u,c);case"<=":return o(a,u,c);default:throw new TypeError(`Invalid operator: ${l}`)}},Z8}var ej,Xle;function pmt(){if(Xle)return ej;Xle=1;const e=Sl(),t=bC(),{safeRe:n,t:r}=YT();return ej=(o,s)=>{if(o instanceof e)return o;if(typeof o=="number"&&(o=String(o)),typeof o!="string")return null;s=s||{};let a=null;if(!s.rtl)a=o.match(s.includePrerelease?n[r.COERCEFULL]:n[r.COERCE]);else{const h=s.includePrerelease?n[r.COERCERTLFULL]:n[r.COERCERTL];let m;for(;(m=h.exec(o))&&(!a||a.index+a[0].length!==o.length);)(!a||m.index+m[0].length!==a.index+a[0].length)&&(a=m),h.lastIndex=m.index+m[1].length+m[2].length;h.lastIndex=-1}if(a===null)return null;const l=a[2],u=a[3]||"0",c=a[4]||"0",d=s.includePrerelease&&a[5]?`-${a[5]}`:"",f=s.includePrerelease&&a[6]?`+${a[6]}`:"";return t(`${l}.${u}.${c}${d}${f}`,s)},ej}var tj,Qle;function mmt(){if(Qle)return tj;Qle=1;class e{constructor(){this.max=1e3,this.map=new Map}get(n){const r=this.map.get(n);if(r!==void 0)return this.map.delete(n),this.map.set(n,r),r}delete(n){return this.map.delete(n)}set(n,r){if(!this.delete(n)&&r!==void 0){if(this.map.size>=this.max){const o=this.map.keys().next().value;this.delete(o)}this.map.set(n,r)}return this}}return tj=e,tj}var nj,Jle;function hf(){if(Jle)return nj;Jle=1;const e=/\s+/g;class t{constructor(j,U){if(U=i(U),j instanceof t)return j.loose===!!U.loose&&j.includePrerelease===!!U.includePrerelease?j:new t(j.raw,U);if(j instanceof o)return this.raw=j.value,this.set=[[j]],this.formatted=void 0,this;if(this.options=U,this.loose=!!U.loose,this.includePrerelease=!!U.includePrerelease,this.raw=j.trim().replace(e," "),this.set=this.raw.split("||").map(q=>this.parseRange(q.trim())).filter(q=>q.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const q=this.set[0];if(this.set=this.set.filter(W=>!p(W[0])),this.set.length===0)this.set=[q];else if(this.set.length>1){for(const W of this.set)if(W.length===1&&g(W[0])){this.set=[W];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let j=0;j<this.set.length;j++){j>0&&(this.formatted+="||");const U=this.set[j];for(let q=0;q<U.length;q++)q>0&&(this.formatted+=" "),this.formatted+=U[q].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(j){const q=((this.options.includePrerelease&&h)|(this.options.loose&&m))+":"+j,W=r.get(q);if(W)return W;const V=this.options.loose,z=V?l[u.HYPHENRANGELOOSE]:l[u.HYPHENRANGE];j=j.replace(z,N(this.options.includePrerelease)),s("hyphen replace",j),j=j.replace(l[u.COMPARATORTRIM],c),s("comparator trim",j),j=j.replace(l[u.TILDETRIM],d),s("tilde trim",j),j=j.replace(l[u.CARETTRIM],f),s("caret trim",j);let L=j.split(" ").map(Q=>y(Q,this.options)).join(" ").split(/\s+/).map(Q=>P(Q,this.options));V&&(L=L.filter(Q=>(s("loose invalid filter",Q,this.options),!!Q.match(l[u.COMPARATORLOOSE])))),s("range list",L);const H=new Map,B=L.map(Q=>new o(Q,this.options));for(const Q of B){if(p(Q))return[Q];H.set(Q.value,Q)}H.size>1&&H.has("")&&H.delete("");const Y=[...H.values()];return r.set(q,Y),Y}intersects(j,U){if(!(j instanceof t))throw new TypeError("a Range is required");return this.set.some(q=>v(q,U)&&j.set.some(W=>v(W,U)&&q.every(V=>W.every(z=>V.intersects(z,U)))))}test(j){if(!j)return!1;if(typeof j=="string")try{j=new a(j,this.options)}catch{return!1}for(let U=0;U<this.set.length;U++)if(M(this.set[U],j,this.options))return!0;return!1}}nj=t;const n=mmt(),r=new n,i=kY(),o=DM(),s=RM(),a=Sl(),{safeRe:l,t:u,comparatorTrimReplace:c,tildeTrimReplace:d,caretTrimReplace:f}=YT(),{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:m}=AM(),p=O=>O.value==="<0.0.0-0",g=O=>O.value==="",v=(O,j)=>{let U=!0;const q=O.slice();let W=q.pop();for(;U&&q.length;)U=q.every(V=>W.intersects(V,j)),W=q.pop();return U},y=(O,j)=>(s("comp",O,j),O=S(O,j),s("caret",O),O=_(O,j),s("tildes",O),O=k(O,j),s("xrange",O),O=I(O,j),s("stars",O),O),w=O=>!O||O.toLowerCase()==="x"||O==="*",_=(O,j)=>O.trim().split(/\s+/).map(U=>E(U,j)).join(" "),E=(O,j)=>{const U=j.loose?l[u.TILDELOOSE]:l[u.TILDE];return O.replace(U,(q,W,V,z,L)=>{s("tilde",O,q,W,V,z,L);let H;return w(W)?H="":w(V)?H=`>=${W}.0.0 <${+W+1}.0.0-0`:w(z)?H=`>=${W}.${V}.0 <${W}.${+V+1}.0-0`:L?(s("replaceTilde pr",L),H=`>=${W}.${V}.${z}-${L} <${W}.${+V+1}.0-0`):H=`>=${W}.${V}.${z} <${W}.${+V+1}.0-0`,s("tilde return",H),H})},S=(O,j)=>O.trim().split(/\s+/).map(U=>T(U,j)).join(" "),T=(O,j)=>{s("caret",O,j);const U=j.loose?l[u.CARETLOOSE]:l[u.CARET],q=j.includePrerelease?"-0":"";return O.replace(U,(W,V,z,L,H)=>{s("caret",O,W,V,z,L,H);let B;return w(V)?B="":w(z)?B=`>=${V}.0.0${q} <${+V+1}.0.0-0`:w(L)?V==="0"?B=`>=${V}.${z}.0${q} <${V}.${+z+1}.0-0`:B=`>=${V}.${z}.0${q} <${+V+1}.0.0-0`:H?(s("replaceCaret pr",H),V==="0"?z==="0"?B=`>=${V}.${z}.${L}-${H} <${V}.${z}.${+L+1}-0`:B=`>=${V}.${z}.${L}-${H} <${V}.${+z+1}.0-0`:B=`>=${V}.${z}.${L}-${H} <${+V+1}.0.0-0`):(s("no pr"),V==="0"?z==="0"?B=`>=${V}.${z}.${L}${q} <${V}.${z}.${+L+1}-0`:B=`>=${V}.${z}.${L}${q} <${V}.${+z+1}.0-0`:B=`>=${V}.${z}.${L} <${+V+1}.0.0-0`),s("caret return",B),B})},k=(O,j)=>(s("replaceXRanges",O,j),O.split(/\s+/).map(U=>R(U,j)).join(" ")),R=(O,j)=>{O=O.trim();const U=j.loose?l[u.XRANGELOOSE]:l[u.XRANGE];return O.replace(U,(q,W,V,z,L,H)=>{s("xRange",O,q,W,V,z,L,H);const B=w(V),Y=B||w(z),Q=Y||w(L),ne=Q;return W==="="&&ne&&(W=""),H=j.includePrerelease?"-0":"",B?W===">"||W==="<"?q="<0.0.0-0":q="*":W&&ne?(Y&&(z=0),L=0,W===">"?(W=">=",Y?(V=+V+1,z=0,L=0):(z=+z+1,L=0)):W==="<="&&(W="<",Y?V=+V+1:z=+z+1),W==="<"&&(H="-0"),q=`${W+V}.${z}.${L}${H}`):Y?q=`>=${V}.0.0${H} <${+V+1}.0.0-0`:Q&&(q=`>=${V}.${z}.0${H} <${V}.${+z+1}.0-0`),s("xRange return",q),q})},I=(O,j)=>(s("replaceStars",O,j),O.trim().replace(l[u.STAR],"")),P=(O,j)=>(s("replaceGTE0",O,j),O.trim().replace(l[j.includePrerelease?u.GTE0PRE:u.GTE0],"")),N=O=>(j,U,q,W,V,z,L,H,B,Y,Q,ne)=>(w(q)?U="":w(W)?U=`>=${q}.0.0${O?"-0":""}`:w(V)?U=`>=${q}.${W}.0${O?"-0":""}`:z?U=`>=${U}`:U=`>=${U}${O?"-0":""}`,w(B)?H="":w(Y)?H=`<${+B+1}.0.0-0`:w(Q)?H=`<${B}.${+Y+1}.0-0`:ne?H=`<=${B}.${Y}.${Q}-${ne}`:O?H=`<${B}.${Y}.${+Q+1}-0`:H=`<=${H}`,`${U} ${H}`.trim()),M=(O,j,U)=>{for(let q=0;q<O.length;q++)if(!O[q].test(j))return!1;if(j.prerelease.length&&!U.includePrerelease){for(let q=0;q<O.length;q++)if(s(O[q].semver),O[q].semver!==o.ANY&&O[q].semver.prerelease.length>0){const W=O[q].semver;if(W.major===j.major&&W.minor===j.minor&&W.patch===j.patch)return!0}return!1}return!0};return nj}var rj,Zle;function DM(){if(Zle)return rj;Zle=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,d){if(d=n(d),c instanceof t){if(c.loose===!!d.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),s("comparator",c,d),this.options=d,this.loose=!!d.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(c){const d=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],f=c.match(d);if(!f)throw new TypeError(`Invalid comparator: ${c}`);this.operator=f[1]!==void 0?f[1]:"",this.operator==="="&&(this.operator=""),f[2]?this.semver=new a(f[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(s("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new a(c,this.options)}catch{return!1}return o(c,this.operator,this.semver,this.options)}intersects(c,d){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(c.value,d).test(this.value):c.operator===""?c.value===""?!0:new l(this.value,d).test(c.semver):(d=n(d),d.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||o(this.semver,"<",c.semver,d)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||o(this.semver,">",c.semver,d)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}rj=t;const n=kY(),{safeRe:r,t:i}=YT(),o=kEe(),s=RM(),a=Sl(),l=hf();return rj}var ij,eue;function PM(){if(eue)return ij;eue=1;const e=hf();return ij=(n,r,i)=>{try{r=new e(r,i)}catch{return!1}return r.test(n)},ij}var oj,tue;function gmt(){if(tue)return oj;tue=1;const e=hf();return oj=(n,r)=>new e(n,r).set.map(i=>i.map(o=>o.value).join(" ").trim().split(" ")),oj}var sj,nue;function ymt(){if(nue)return sj;nue=1;const e=Sl(),t=hf();return sj=(r,i,o)=>{let s=null,a=null,l=null;try{l=new t(i,o)}catch{return null}return r.forEach(u=>{l.test(u)&&(!s||a.compare(u)===-1)&&(s=u,a=new e(s,o))}),s},sj}var aj,rue;function vmt(){if(rue)return aj;rue=1;const e=Sl(),t=hf();return aj=(r,i,o)=>{let s=null,a=null,l=null;try{l=new t(i,o)}catch{return null}return r.forEach(u=>{l.test(u)&&(!s||a.compare(u)===1)&&(s=u,a=new e(s,o))}),s},aj}var lj,iue;function bmt(){if(iue)return lj;iue=1;const e=Sl(),t=hf(),n=IM();return lj=(i,o)=>{i=new t(i,o);let s=new e("0.0.0");if(i.test(s)||(s=new e("0.0.0-0"),i.test(s)))return s;s=null;for(let a=0;a<i.set.length;++a){const l=i.set[a];let u=null;l.forEach(c=>{const d=new e(c.semver.version);switch(c.operator){case">":d.prerelease.length===0?d.patch++:d.prerelease.push(0),d.raw=d.format();case"":case">=":(!u||n(d,u))&&(u=d);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${c.operator}`)}}),u&&(!s||n(s,u))&&(s=u)}return s&&i.test(s)?s:null},lj}var uj,oue;function wmt(){if(oue)return uj;oue=1;const e=hf();return uj=(n,r)=>{try{return new e(n,r).range||"*"}catch{return null}},uj}var cj,sue;function PY(){if(sue)return cj;sue=1;const e=Sl(),t=DM(),{ANY:n}=t,r=hf(),i=PM(),o=IM(),s=RY(),a=DY(),l=IY();return cj=(c,d,f,h)=>{c=new e(c,h),d=new r(d,h);let m,p,g,v,y;switch(f){case">":m=o,p=a,g=s,v=">",y=">=";break;case"<":m=s,p=l,g=o,v="<",y="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(i(c,d,h))return!1;for(let w=0;w<d.set.length;++w){const _=d.set[w];let E=null,S=null;if(_.forEach(T=>{T.semver===n&&(T=new t(">=0.0.0")),E=E||T,S=S||T,m(T.semver,E.semver,h)?E=T:g(T.semver,S.semver,h)&&(S=T)}),E.operator===v||E.operator===y||(!S.operator||S.operator===v)&&p(c,S.semver))return!1;if(S.operator===y&&g(c,S.semver))return!1}return!0},cj}var dj,aue;function xmt(){if(aue)return dj;aue=1;const e=PY();return dj=(n,r,i)=>e(n,r,">",i),dj}var fj,lue;function Cmt(){if(lue)return fj;lue=1;const e=PY();return fj=(n,r,i)=>e(n,r,"<",i),fj}var hj,uue;function _mt(){if(uue)return hj;uue=1;const e=hf();return hj=(n,r,i)=>(n=new e(n,i),r=new e(r,i),n.intersects(r,i)),hj}var pj,cue;function Emt(){if(cue)return pj;cue=1;const e=PM(),t=ff();return pj=(n,r,i)=>{const o=[];let s=null,a=null;const l=n.sort((f,h)=>t(f,h,i));for(const f of l)e(f,r,i)?(a=f,s||(s=f)):(a&&o.push([s,a]),a=null,s=null);s&&o.push([s,null]);const u=[];for(const[f,h]of o)f===h?u.push(f):!h&&f===l[0]?u.push("*"):h?f===l[0]?u.push(`<=${h}`):u.push(`${f} - ${h}`):u.push(`>=${f}`);const c=u.join(" || "),d=typeof r.raw=="string"?r.raw:String(r);return c.length<d.length?c:r},pj}var mj,due;function Smt(){if(due)return mj;due=1;const e=hf(),t=DM(),{ANY:n}=t,r=PM(),i=ff(),o=(d,f,h={})=>{if(d===f)return!0;d=new e(d,h),f=new e(f,h);let m=!1;e:for(const p of d.set){for(const g of f.set){const v=l(p,g,h);if(m=m||v!==null,v)continue e}if(m)return!1}return!0},s=[new t(">=0.0.0-0")],a=[new t(">=0.0.0")],l=(d,f,h)=>{if(d===f)return!0;if(d.length===1&&d[0].semver===n){if(f.length===1&&f[0].semver===n)return!0;h.includePrerelease?d=s:d=a}if(f.length===1&&f[0].semver===n){if(h.includePrerelease)return!0;f=a}const m=new Set;let p,g;for(const k of d)k.operator===">"||k.operator===">="?p=u(p,k,h):k.operator==="<"||k.operator==="<="?g=c(g,k,h):m.add(k.semver);if(m.size>1)return null;let v;if(p&&g){if(v=i(p.semver,g.semver,h),v>0)return null;if(v===0&&(p.operator!==">="||g.operator!=="<="))return null}for(const k of m){if(p&&!r(k,String(p),h)||g&&!r(k,String(g),h))return null;for(const R of f)if(!r(k,String(R),h))return!1;return!0}let y,w,_,E,S=g&&!h.includePrerelease&&g.semver.prerelease.length?g.semver:!1,T=p&&!h.includePrerelease&&p.semver.prerelease.length?p.semver:!1;S&&S.prerelease.length===1&&g.operator==="<"&&S.prerelease[0]===0&&(S=!1);for(const k of f){if(E=E||k.operator===">"||k.operator===">=",_=_||k.operator==="<"||k.operator==="<=",p){if(T&&k.semver.prerelease&&k.semver.prerelease.length&&k.semver.major===T.major&&k.semver.minor===T.minor&&k.semver.patch===T.patch&&(T=!1),k.operator===">"||k.operator===">="){if(y=u(p,k,h),y===k&&y!==p)return!1}else if(p.operator===">="&&!r(p.semver,String(k),h))return!1}if(g){if(S&&k.semver.prerelease&&k.semver.prerelease.length&&k.semver.major===S.major&&k.semver.minor===S.minor&&k.semver.patch===S.patch&&(S=!1),k.operator==="<"||k.operator==="<="){if(w=c(g,k,h),w===k&&w!==g)return!1}else if(g.operator==="<="&&!r(g.semver,String(k),h))return!1}if(!k.operator&&(g||p)&&v!==0)return!1}return!(p&&_&&!g&&v!==0||g&&E&&!p&&v!==0||T||S)},u=(d,f,h)=>{if(!d)return f;const m=i(d.semver,f.semver,h);return m>0?d:m<0||f.operator===">"&&d.operator===">="?f:d},c=(d,f,h)=>{if(!d)return f;const m=i(d.semver,f.semver,h);return m<0?d:m>0||f.operator==="<"&&d.operator==="<="?f:d};return mj=o,mj}var gj,fue;function Tmt(){if(fue)return gj;fue=1;const e=YT(),t=AM(),n=Sl(),r=EEe(),i=bC(),o=nmt(),s=rmt(),a=imt(),l=omt(),u=smt(),c=amt(),d=lmt(),f=umt(),h=ff(),m=cmt(),p=dmt(),g=AY(),v=fmt(),y=hmt(),w=IM(),_=RY(),E=SEe(),S=TEe(),T=IY(),k=DY(),R=kEe(),I=pmt(),P=DM(),N=hf(),M=PM(),O=gmt(),j=ymt(),U=vmt(),q=bmt(),W=wmt(),V=PY(),z=xmt(),L=Cmt(),H=_mt(),B=Emt(),Y=Smt();return gj={parse:i,valid:o,clean:s,inc:a,diff:l,major:u,minor:c,patch:d,prerelease:f,compare:h,rcompare:m,compareLoose:p,compareBuild:g,sort:v,rsort:y,gt:w,lt:_,eq:E,neq:S,gte:T,lte:k,cmp:R,coerce:I,Comparator:P,Range:N,satisfies:M,toComparators:O,maxSatisfying:j,minSatisfying:U,minVersion:q,validRange:W,outside:V,gtr:z,ltr:L,intersects:H,simplifyRange:B,subset:Y,SemVer:n,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:t.SEMVER_SPEC_VERSION,RELEASE_TYPES:t.RELEASE_TYPES,compareIdentifiers:r.compareIdentifiers,rcompareIdentifiers:r.rcompareIdentifiers},gj}var AEe=Tmt();function uu(e,t,n){return e.fields=t||[],e.fname=n,e}function vo(e){return e==null?null:e.fname}function Ma(e){return e==null?null:e.fields}function REe(e){return e.length===1?kmt(e[0]):Amt(e)}const kmt=e=>function(t){return t[e]},Amt=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function it(e){throw Error(e)}function OM(e){const t=[],n=e.length;let r=null,i=0,o="",s,a,l;e=e+"";function u(){t.push(o+e.substring(s,a)),o="",s=a+1}for(s=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(s,a++),s=a;else if(l===r)u(),r=null,i=-1;else{if(r)continue;s===i&&l==='"'||s===i&&l==="'"?(s=a+1,r=l):l==="."&&!i?a>s?u():s=a+1:l==="["?(a>s&&u(),i=s=a+1):l==="]"&&(i||it("Access path missing open bracket: "+e),i>0&&u(),i=0,s=a+1)}return i&&it("Access path missing closing bracket: "+e),r&&it("Access path missing closing quote: "+e),a>s&&(a++,u()),t}function Nc(e,t,n){const r=OM(e);return e=r.length===1?r[0]:e,uu((n&&n.get||REe)(r),[e],t||e)}const KT=Nc("id"),bl=uu(e=>e,[],"identity"),Mg=uu(()=>0,[],"zero"),wC=uu(()=>1,[],"one"),Mc=uu(()=>!0,[],"true"),wg=uu(()=>!1,[],"false"),IEe=new Set([...Object.getOwnPropertyNames(Object.prototype).filter(e=>typeof Object.prototype[e]=="function"),"__proto__"]);function Rmt(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const DEe=0,OY=1,PEe=2,OEe=3,NEe=4;function MEe(e,t,n=Rmt){let r=e||DEe;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=OY&&n(t||"error","ERROR",arguments),this},warn(){return r>=PEe&&n(t||"warn","WARN",arguments),this},info(){return r>=OEe&&n(t||"log","INFO",arguments),this},debug(){return r>=NEe&&n(t||"log","DEBUG",arguments),this}}}var cn=Array.isArray;function Gn(e){return e===Object(e)}const hue=e=>e!=="__proto__";function NM(...e){return e.reduce((t,n)=>{for(const r in n)if(r==="signals")t.signals=Imt(t.signals,n.signals);else{const i=r==="legend"?{layout:1}:r==="style"?!0:null;MM(t,r,n[r],i)}return t},{})}function MM(e,t,n,r){if(!hue(t))return;let i,o;if(Gn(n)&&!cn(n)){o=Gn(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?MM(o,i,n[i]):hue(i)&&(o[i]=n[i])}else e[t]=n}function Imt(e,t){if(e==null)return t;const n={},r=[];function i(o){n[o.name]||(n[o.name]=1,r.push(o))}return t.forEach(i),e.forEach(i),r}function Er(e){return e[e.length-1]}function Pa(e){return e==null||e===""?null:+e}const $Ee=e=>t=>e*Math.exp(t),LEe=e=>t=>Math.log(e*t),FEe=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),jEe=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,aO=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function $M(e,t,n,r){const i=n(e[0]),o=n(Er(e)),s=(o-i)*t;return[r(i-s),r(o-s)]}function BEe(e,t){return $M(e,t,Pa,bl)}function zEe(e,t){var n=Math.sign(e[0]);return $M(e,t,LEe(n),$Ee(n))}function UEe(e,t,n){return $M(e,t,aO(n),aO(1/n))}function HEe(e,t,n){return $M(e,t,FEe(n),jEe(n))}function LM(e,t,n,r,i){const o=r(e[0]),s=r(Er(e)),a=t!=null?r(t):(o+s)/2;return[i(a+(o-a)*n),i(a+(s-a)*n)]}function NY(e,t,n){return LM(e,t,n,Pa,bl)}function MY(e,t,n){const r=Math.sign(e[0]);return LM(e,t,n,LEe(r),$Ee(r))}function lO(e,t,n,r){return LM(e,t,n,aO(r),aO(1/r))}function $Y(e,t,n,r){return LM(e,t,n,FEe(r),jEe(r))}function qEe(e){return 1+~~(new Date(e).getMonth()/3)}function VEe(e){return 1+~~(new Date(e).getUTCMonth()/3)}function wn(e){return e!=null?cn(e)?e:[e]:[]}function WEe(e,t,n){let r=e[0],i=e[1],o;return i<r&&(o=i,i=r,r=o),o=i-r,o>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-o),r+o]}function nr(e){return typeof e=="function"}const Dmt="descending";function LY(e,t,n){n=n||{},t=wn(t)||[];const r=[],i=[],o={},s=n.comparator||Pmt;return wn(e).forEach((a,l)=>{a!=null&&(r.push(t[l]===Dmt?-1:1),i.push(a=nr(a)?a:Nc(a,null,n)),(Ma(a)||[]).forEach(u=>o[u]=1))}),i.length===0?null:uu(s(i,r),Object.keys(o))}const XT=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),Pmt=(e,t)=>e.length===1?Omt(e[0],t[0]):Nmt(e,t,e.length),Omt=(e,t)=>function(n,r){return XT(e(n),e(r))*t},Nmt=(e,t,n)=>(t.push(0),function(r,i){let o,s=0,a=-1;for(;s===0&&++a<n;)o=e[a],s=XT(o(r),o(i));return s*t[a]});function Ua(e){return nr(e)?e:()=>e}function FY(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function tr(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function Sh(e,t){let n=0,r,i,o,s;if(e&&(r=e.length))if(t==null){for(i=e[n];n<r&&(i==null||i!==i);i=e[++n]);for(o=s=i;n<r;++n)i=e[n],i!=null&&(i<o&&(o=i),i>s&&(s=i))}else{for(i=t(e[n]);n<r&&(i==null||i!==i);i=t(e[++n]));for(o=s=i;n<r;++n)i=t(e[n]),i!=null&&(i<o&&(o=i),i>s&&(s=i))}return[o,s]}function GEe(e,t){const n=e.length;let r=-1,i,o,s,a,l;if(t==null){for(;++r<n;)if(o=e[r],o!=null&&o>=o){i=s=o;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)o=e[r],o!=null&&(i>o&&(i=o,a=r),s<o&&(s=o,l=r))}else{for(;++r<n;)if(o=t(e[r],r,e),o!=null&&o>=o){i=s=o;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)o=t(e[r],r,e),o!=null&&(i>o&&(i=o,a=r),s<o&&(s=o,l=r))}return[a,l]}function Dn(e,t){return Object.hasOwn(e,t)}const IR={};function xC(e){let t={},n;function r(o){return Dn(t,o)&&t[o]!==IR}const i={size:0,empty:0,object:t,has:r,get(o){return r(o)?t[o]:void 0},set(o,s){return r(o)||(++i.size,t[o]===IR&&--i.empty),t[o]=s,this},delete(o){return r(o)&&(--i.size,++i.empty,t[o]=IR),this},clear(){i.size=i.empty=0,i.object=t={}},test(o){return arguments.length?(n=o,i):n},clean(){const o={};let s=0;for(const a in t){const l=t[a];l!==IR&&(!n||!n(l))&&(o[a]=l,++s)}i.size=s,i.empty=0,i.object=t=o}};return e&&Object.keys(e).forEach(o=>{i.set(o,e[o])}),i}function YEe(e,t,n,r,i,o){if(!n&&n!==0)return o;const s=+n;let a=e[0],l=Er(e),u;l<a&&(u=a,a=l,l=u),u=Math.abs(t-a);const c=Math.abs(l-t);return u<c&&u<=s?r:c<=s?i:o}function It(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),tr(r,n)}function pw(e,t,n,r){let i=t[0],o=t[t.length-1],s;return i>o&&(s=i,i=o,o=s),n=n===void 0||n,r=r===void 0||r,(n?i<=e:i<e)&&(r?e<=o:e<o)}function jY(e){return typeof e=="boolean"}function r0(e){return Object.prototype.toString.call(e)==="[object Date]"}function KEe(e){return e&&nr(e[Symbol.iterator])}function b0(e){return typeof e=="number"}function BY(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Vr(e){return typeof e=="string"}function zY(e,t,n){e&&(e=t?wn(e).map(a=>a.replace(/\\(.)/g,"$1")):wn(e));const r=e&&e.length,i=n&&n.get||REe,o=a=>i(t?[a]:OM(a));let s;if(!r)s=function(){return""};else if(r===1){const a=o(e[0]);s=function(l){return""+a(l)}}else{const a=e.map(o);s=function(l){let u=""+a[0](l),c=0;for(;++c<r;)u+="|"+a[c](l);return u}}return uu(s,e,"key")}function XEe(e,t){const n=e[0],r=Er(e),i=+t;return i?i===1?r:n+i*(r-n):n}const Mmt=1e4;function QEe(e){e=+e||Mmt;let t,n,r;const i=()=>{t={},n={},r=0},o=(s,a)=>(++r>e&&(n=t,t={},r=1),t[s]=a);return i(),{clear:i,has:s=>Dn(t,s)||Dn(n,s),get:s=>Dn(t,s)?t[s]:Dn(n,s)?o(s,n[s]):void 0,set:(s,a)=>Dn(t,s)?t[s]=a:o(s,a)}}function JEe(e,t,n,r){const i=t.length,o=n.length;if(!o)return t;if(!i)return n;const s=r||new t.constructor(i+o);let a=0,l=0,u=0;for(;a<i&&l<o;++u)s[u]=e(t[a],n[l])>0?n[l++]:t[a++];for(;a<i;++a,++u)s[u]=t[a];for(;l<o;++l,++u)s[u]=n[l];return s}function DE(e,t){let n="";for(;--t>=0;)n+=e;return n}function ZEe(e,t,n,r){const i=n||" ",o=e+"",s=t-o.length;return s<=0?o:r==="left"?DE(i,s)+o:r==="center"?DE(i,~~(s/2))+o+DE(i,Math.ceil(s/2)):o+DE(i,s)}function QT(e){return e&&Er(e)-e[0]||0}function an(e){return cn(e)?`[${e.map(t=>t===null?"null":an(t))}]`:Gn(e)||Vr(e)?JSON.stringify(e).replaceAll("\u2028","\\u2028").replaceAll("\u2029","\\u2029"):e}function UY(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const $mt=e=>b0(e)||r0(e)?e:Date.parse(e);function HY(e,t){return t=t||$mt,e==null||e===""?null:t(e)}function qY(e){return e==null||e===""?null:e+""}function Kd(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function eSe(e,t,n,r){const i=r??"",o=e+"",s=o.length,a=Math.max(0,t-i.length);return s<=t?o:n==="left"?i+o.slice(s-a):n==="center"?o.slice(0,Math.ceil(a/2))+i+o.slice(s-~~(a/2)):o.slice(0,a)+i}function Tg(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const o=t(e[i]);o&&n(o,i,e)}}else e.forEach(n)}var pue={},yj={},vj=34,F_=10,bj=13;function tSe(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function Lmt(e,t){var n=tSe(e);return function(r,i){return t(n(r),i,e)}}function mue(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Bl(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function Fmt(e){return e<0?"-"+Bl(-e,6):e>9999?"+"+Bl(e,6):Bl(e,4)}function jmt(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":Fmt(e.getUTCFullYear())+"-"+Bl(e.getUTCMonth()+1,2)+"-"+Bl(e.getUTCDate(),2)+(i?"T"+Bl(t,2)+":"+Bl(n,2)+":"+Bl(r,2)+"."+Bl(i,3)+"Z":r?"T"+Bl(t,2)+":"+Bl(n,2)+":"+Bl(r,2)+"Z":n||t?"T"+Bl(t,2)+":"+Bl(n,2)+"Z":"")}function Bmt(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(d,f){var h,m,p=i(d,function(g,v){if(h)return h(g,v-1);m=g,h=f?Lmt(g,f):tSe(g)});return p.columns=m||[],p}function i(d,f){var h=[],m=d.length,p=0,g=0,v,y=m<=0,w=!1;d.charCodeAt(m-1)===F_&&--m,d.charCodeAt(m-1)===bj&&--m;function _(){if(y)return yj;if(w)return w=!1,pue;var S,T=p,k;if(d.charCodeAt(T)===vj){for(;p++<m&&d.charCodeAt(p)!==vj||d.charCodeAt(++p)===vj;);return(S=p)>=m?y=!0:(k=d.charCodeAt(p++))===F_?w=!0:k===bj&&(w=!0,d.charCodeAt(p)===F_&&++p),d.slice(T+1,S-1).replace(/""/g,'"')}for(;p<m;){if((k=d.charCodeAt(S=p++))===F_)w=!0;else if(k===bj)w=!0,d.charCodeAt(p)===F_&&++p;else if(k!==n)continue;return d.slice(T,S)}return y=!0,d.slice(T,m)}for(;(v=_())!==yj;){for(var E=[];v!==pue&&v!==yj;)E.push(v),v=_();f&&(E=f(E,g++))==null||h.push(E)}return h}function o(d,f){return d.map(function(h){return f.map(function(m){return c(h[m])}).join(e)})}function s(d,f){return f==null&&(f=mue(d)),[f.map(c).join(e)].concat(o(d,f)).join(`
`)}function a(d,f){return f==null&&(f=mue(d)),o(d,f).join(`
`)}function l(d){return d.map(u).join(`
`)}function u(d){return d.map(c).join(e)}function c(d){return d==null?"":d instanceof Date?jmt(d):t.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:r,parseRows:i,format:s,formatBody:a,formatRows:l,formatRow:u,formatValue:c}}function zmt(e){return e}function Umt(e){if(e==null)return zmt;var t,n,r=e.scale[0],i=e.scale[1],o=e.translate[0],s=e.translate[1];return function(a,l){l||(t=n=0);var u=2,c=a.length,d=new Array(c);for(d[0]=(t+=a[0])*r+o,d[1]=(n+=a[1])*i+s;u<c;)d[u]=a[u],++u;return d}}function Hmt(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function qmt(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return gue(e,n)})}:gue(e,t)}function gue(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,o=nSe(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:o}:r==null?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function nSe(e,t){var n=Umt(e.transform),r=e.arcs;function i(c,d){d.length&&d.pop();for(var f=r[c<0?~c:c],h=0,m=f.length;h<m;++h)d.push(n(f[h],h));c<0&&Hmt(d,m)}function o(c){return n(c)}function s(c){for(var d=[],f=0,h=c.length;f<h;++f)i(c[f],d);return d.length<2&&d.push(d[0]),d}function a(c){for(var d=s(c);d.length<4;)d.push(d[0]);return d}function l(c){return c.map(a)}function u(c){var d=c.type,f;switch(d){case"GeometryCollection":return{type:d,geometries:c.geometries.map(u)};case"Point":f=o(c.coordinates);break;case"MultiPoint":f=c.coordinates.map(o);break;case"LineString":f=s(c.arcs);break;case"MultiLineString":f=c.arcs.map(s);break;case"Polygon":f=l(c.arcs);break;case"MultiPolygon":f=c.arcs.map(l);break;default:return null}return{type:d,coordinates:f}}return u(t)}function Vmt(e,t){var n={},r={},i={},o=[],s=-1;t.forEach(function(u,c){var d=e.arcs[u<0?~u:u],f;d.length<3&&!d[1][0]&&!d[1][1]&&(f=t[++s],t[s]=u,t[c]=f)}),t.forEach(function(u){var c=a(u),d=c[0],f=c[1],h,m;if(h=i[d])if(delete i[h.end],h.push(u),h.end=f,m=r[f]){delete r[m.start];var p=m===h?h:h.concat(m);r[p.start=h.start]=i[p.end=m.end]=p}else r[h.start]=i[h.end]=h;else if(h=r[f])if(delete r[h.start],h.unshift(u),h.start=d,m=i[d]){delete i[m.end];var g=m===h?h:m.concat(h);r[g.start=m.start]=i[g.end=h.end]=g}else r[h.start]=i[h.end]=h;else h=[u],r[h.start=d]=i[h.end=f]=h});function a(u){var c=e.arcs[u<0?~u:u],d=c[0],f;return e.transform?(f=[0,0],c.forEach(function(h){f[0]+=h[0],f[1]+=h[1]})):f=c[c.length-1],u<0?[f,d]:[d,f]}function l(u,c){for(var d in u){var f=u[d];delete c[f.start],delete f.start,delete f.end,f.forEach(function(h){n[h<0?~h:h]=1}),o.push(f)}}return l(i,r),l(r,i),t.forEach(function(u){n[u<0?~u:u]||o.push([u])}),o}function Wmt(e){return nSe(e,Gmt.apply(this,arguments))}function Gmt(e,t,n){var r,i,o;if(arguments.length>1)r=Ymt(e,t,n);else for(i=0,r=new Array(o=e.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:Vmt(e,r)}}function Ymt(e,t,n){var r=[],i=[],o;function s(d){var f=d<0?~d:d;(i[f]||(i[f]=[])).push({i:d,g:o})}function a(d){d.forEach(s)}function l(d){d.forEach(a)}function u(d){d.forEach(l)}function c(d){switch(o=d,d.type){case"GeometryCollection":d.geometries.forEach(c);break;case"LineString":a(d.arcs);break;case"MultiLineString":case"Polygon":l(d.arcs);break;case"MultiPolygon":u(d.arcs);break}}return c(t),i.forEach(n==null?function(d){r.push(d[0].i)}:function(d){n(d[0].g,d[d.length-1].g)&&r.push(d[0].i)}),r}function Gp(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Kmt(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function CC(e){let t,n,r;e.length!==2?(t=Gp,n=(a,l)=>Gp(e(a),l),r=(a,l)=>e(a)-l):(t=e===Gp||e===Kmt?e:Xmt,n=e,r=e);function i(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function s(a,l,u=0,c=a.length){const d=i(a,l,u,c-1);return d>u&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:s,right:o}}function Xmt(){return 0}function rSe(e){return e===null?NaN:+e}function*Qmt(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const iSe=CC(Gp),w0=iSe.right,Jmt=iSe.left;CC(rSe).center;function Zmt(e,t){let n=0,r,i=0,o=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,o+=r*(s-i));else{let s=-1;for(let a of e)(a=t(a,++s,e))!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i))}if(n>1)return o/(n-1)}function egt(e,t){const n=Zmt(e,t);return n&&Math.sqrt(n)}function oSe(e,t){let n,r;for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));return[n,r]}class ml{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],s=t+o,a=Math.abs(t)<Math.abs(o)?t-(s-o):o-(s-t);a&&(n[r++]=a),t=s}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,o,s=0;if(n>0){for(s=t[--n];n>0&&(r=s,i=t[--n],s=r+i,o=i-(s-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(i=o*2,r=s+i,i==r-s&&(s=r))}return s}}class yue extends Map{constructor(t,n=lSe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Xz(this,t))}has(t){return super.has(Xz(this,t))}set(t,n){return super.set(sSe(this,t),n)}delete(t){return super.delete(aSe(this,t))}}class uO extends Set{constructor(t,n=lSe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(Xz(this,t))}add(t){return super.add(sSe(this,t))}delete(t){return super.delete(aSe(this,t))}}function Xz({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function sSe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function aSe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function lSe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function tgt(e,t){return Array.from(t,n=>e[n])}function ngt(e=Gp){if(e===Gp)return uSe;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function uSe(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const rgt=Math.sqrt(50),igt=Math.sqrt(10),ogt=Math.sqrt(2);function cO(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=rgt?10:o>=igt?5:o>=ogt?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(e*u),l=Math.round(t*u),a/u<e&&++a,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(e/u),l=Math.round(t/u),a*u<e&&++a,l*u>t&&--l),l<a&&.5<=n&&n<2?cO(e,t,n*2):[a,l,u]}function Qz(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?cO(t,e,n):cO(e,t,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function Jz(e,t,n){return t=+t,e=+e,n=+n,cO(e,t,n)[2]}function x0(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Jz(t,e,n):Jz(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Sv(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Zz(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function cSe(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?uSe:ngt(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),h=Math.max(n,Math.floor(t-u*d/l+f)),m=Math.min(r,Math.floor(t+(l-u)*d/l+f));cSe(e,t,h,m,i)}const o=e[t];let s=n,a=r;for(j_(e,n,t),i(e[r],o)>0&&j_(e,n,r);s<a;){for(j_(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}i(e[n],o)===0?j_(e,n,a):(++a,j_(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function j_(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function eU(e,t,n){if(e=Float64Array.from(Qmt(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Zz(e);if(t>=1)return Sv(e);var r,i=(r-1)*t,o=Math.floor(i),s=Sv(cSe(e,o).subarray(0,o+1)),a=Zz(e.subarray(o+1));return s+(a-s)*(i-o)}}function dSe(e,t,n=rSe){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return s+(a-s)*(i-o)}}function sgt(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function fSe(e,t){return eU(e,.5,t)}function*agt(e){for(const t of e)yield*t}function hSe(e){return Array.from(agt(e))}function Du(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function pSe(e,t){let n=0;for(let r of e)(r=+r)&&(n+=r);return n}function lgt(e,...t){e=new uO(e),t=t.map(ugt);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function ugt(e){return e instanceof uO?e:new uO(e)}function cgt(...e){const t=new uO;for(const n of e)for(const r of n)t.add(r);return t}function dgt(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function dO(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function cx(e){return e=dO(Math.abs(e)),e?e[1]:NaN}function fgt(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function hgt(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var pgt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vv(e){if(!(t=pgt.exec(e)))throw new Error("invalid format: "+e);var t;return new VY({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Vv.prototype=VY.prototype;function VY(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}VY.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function mgt(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var mSe;function ggt(e,t){var n=dO(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(mSe=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+dO(e,Math.max(0,t+o-1))[0]}function vue(e,t){var n=dO(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const bue={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:dgt,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>vue(e*100,t),r:vue,s:ggt,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function wue(e){return e}var xue=Array.prototype.map,Cue=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function gSe(e){var t=e.grouping===void 0||e.thousands===void 0?wue:fgt(xue.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?wue:hgt(xue.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Vv(d);var f=d.fill,h=d.align,m=d.sign,p=d.symbol,g=d.zero,v=d.width,y=d.comma,w=d.precision,_=d.trim,E=d.type;E==="n"?(y=!0,E="g"):bue[E]||(w===void 0&&(w=12),_=!0,E="g"),(g||f==="0"&&h==="=")&&(g=!0,f="0",h="=");var S=p==="$"?n:p==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",T=p==="$"?r:/[%p]/.test(E)?s:"",k=bue[E],R=/[defgprs%]/.test(E);w=w===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function I(P){var N=S,M=T,O,j,U;if(E==="c")M=k(P)+M,P="";else{P=+P;var q=P<0||1/P<0;if(P=isNaN(P)?l:k(Math.abs(P),w),_&&(P=mgt(P)),q&&+P==0&&m!=="+"&&(q=!1),N=(q?m==="("?m:a:m==="-"||m==="("?"":m)+N,M=(E==="s"?Cue[8+mSe/3]:"")+M+(q&&m==="("?")":""),R){for(O=-1,j=P.length;++O<j;)if(U=P.charCodeAt(O),48>U||U>57){M=(U===46?i+P.slice(O+1):P.slice(O))+M,P=P.slice(0,O);break}}}y&&!g&&(P=t(P,1/0));var W=N.length+P.length+M.length,V=W<v?new Array(v-W+1).join(f):"";switch(y&&g&&(P=t(V+P,V.length?v-M.length:1/0),V=""),h){case"<":P=N+P+M+V;break;case"=":P=N+V+P+M;break;case"^":P=V.slice(0,W=V.length>>1)+N+P+M+V.slice(W);break;default:P=V+N+P+M;break}return o(P)}return I.toString=function(){return d+""},I}function c(d,f){var h=u((d=Vv(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(cx(f)/3)))*3,p=Math.pow(10,-m),g=Cue[8+m/3];return function(v){return h(p*v)+g}}return{format:u,formatPrefix:c}}var DR,FM,WY;ygt({thousands:",",grouping:[3],currency:["$",""]});function ygt(e){return DR=gSe(e),FM=DR.format,WY=DR.formatPrefix,DR}function ySe(e){return Math.max(0,-cx(Math.abs(e)))}function vSe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cx(t)/3)))*3-cx(Math.abs(e)))}function bSe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,cx(t)-cx(e))+1}const wj=new Date,xj=new Date;function ds(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),t(o,a),e(o);while(u<o&&o<s);return l},i.filter=o=>ds(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(wj.setTime(+o),xj.setTime(+s),e(wj),e(xj),Math.floor(n(wj,xj))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const dx=ds(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);dx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ds(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):dx);dx.range;const Op=1e3,Cc=Op*60,Np=Cc*60,fm=Np*24,GY=fm*7,_ue=fm*30,Cj=fm*365,Mp=ds(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Op)},(e,t)=>(t-e)/Op,e=>e.getUTCSeconds());Mp.range;const jM=ds(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Op)},(e,t)=>{e.setTime(+e+t*Cc)},(e,t)=>(t-e)/Cc,e=>e.getMinutes());jM.range;const BM=ds(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Cc)},(e,t)=>(t-e)/Cc,e=>e.getUTCMinutes());BM.range;const zM=ds(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Op-e.getMinutes()*Cc)},(e,t)=>{e.setTime(+e+t*Np)},(e,t)=>(t-e)/Np,e=>e.getHours());zM.range;const UM=ds(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Np)},(e,t)=>(t-e)/Np,e=>e.getUTCHours());UM.range;const Yp=ds(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Cc)/fm,e=>e.getDate()-1);Yp.range;const i0=ds(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fm,e=>e.getUTCDate()-1);i0.range;const wSe=ds(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fm,e=>Math.floor(e/fm));wSe.range;function Db(e){return ds(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Cc)/GY)}const _C=Db(0),fO=Db(1),vgt=Db(2),bgt=Db(3),fx=Db(4),wgt=Db(5),xgt=Db(6);_C.range;fO.range;vgt.range;bgt.range;fx.range;wgt.range;xgt.range;function Pb(e){return ds(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/GY)}const EC=Pb(0),hO=Pb(1),Cgt=Pb(2),_gt=Pb(3),hx=Pb(4),Egt=Pb(5),Sgt=Pb(6);EC.range;hO.range;Cgt.range;_gt.range;hx.range;Egt.range;Sgt.range;const T2=ds(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());T2.range;const k2=ds(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());k2.range;const Th=ds(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Th.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ds(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Th.range;const kh=ds(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());kh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ds(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});kh.range;function xSe(e,t,n,r,i,o){const s=[[Mp,1,Op],[Mp,5,5*Op],[Mp,15,15*Op],[Mp,30,30*Op],[o,1,Cc],[o,5,5*Cc],[o,15,15*Cc],[o,30,30*Cc],[i,1,Np],[i,3,3*Np],[i,6,6*Np],[i,12,12*Np],[r,1,fm],[r,2,2*fm],[n,1,GY],[t,1,_ue],[t,3,3*_ue],[e,1,Cj]];function a(u,c,d){const f=c<u;f&&([u,c]=[c,u]);const h=d&&typeof d.range=="function"?d:l(u,c,d),m=h?h.range(u,+c+1):[];return f?m.reverse():m}function l(u,c,d){const f=Math.abs(c-u)/d,h=CC(([,,g])=>g).right(s,f);if(h===s.length)return e.every(x0(u/Cj,c/Cj,d));if(h===0)return dx.every(Math.max(x0(u,c,d),1));const[m,p]=s[f/s[h-1][2]<s[h][2]/f?h-1:h];return m.every(p)}return[a,l]}const[Tgt,kgt]=xSe(kh,k2,EC,wSe,UM,BM),[Agt,Rgt]=xSe(Th,T2,_C,Yp,zM,jM),oa="year",Zl="quarter",$a="month",ls="week",eu="date",Ra="day",Ah="dayofyear",Vu="hours",Wu="minutes",$c="seconds",Xd="milliseconds",YY=[oa,Zl,$a,ls,eu,Ra,Ah,Vu,Wu,$c,Xd],_j=YY.reduce((e,t,n)=>(e[t]=1+n,e),{});function KY(e){const t=wn(e).slice(),n={};return t.length||it("Missing time unit."),t.forEach(i=>{Dn(_j,i)?n[i]=1:it(`Invalid time unit: ${i}.`)}),(n[ls]||n[Ra]?1:0)+(n[Zl]||n[$a]||n[eu]?1:0)+(n[Ah]?1:0)>1&&it(`Incompatible time units: ${e}`),t.sort((i,o)=>_j[i]-_j[o]),t}const Igt={[oa]:"%Y ",[Zl]:"Q%q ",[$a]:"%b ",[eu]:"%d ",[ls]:"W%U ",[Ra]:"%a ",[Ah]:"%j ",[Vu]:"%H:00",[Wu]:"00:%M",[$c]:":%S",[Xd]:".%L",[`${oa}-${$a}`]:"%Y-%m ",[`${oa}-${$a}-${eu}`]:"%Y-%m-%d ",[`${Vu}-${Wu}`]:"%H:%M"};function CSe(e,t){const n=tr({},Igt,t),r=KY(e),i=r.length;let o="",s=0,a,l;for(s=0;s<i;)for(a=r.length;a>s;--a)if(l=r.slice(s,a).join("-"),n[l]!=null){o+=n[l],s=a;break}return o.trim()}const Jy=new Date;function XY(e){return Jy.setFullYear(e),Jy.setMonth(0),Jy.setDate(1),Jy.setHours(0,0,0,0),Jy}function _Se(e){return SSe(new Date(e))}function ESe(e){return tU(new Date(e))}function SSe(e){return Yp.count(XY(e.getFullYear())-1,e)}function tU(e){return _C.count(XY(e.getFullYear())-1,e)}function nU(e){return XY(e).getDay()}function Dgt(e,t,n,r,i,o,s){if(0<=e&&e<100){const a=new Date(-1,t,n,r,i,o,s);return a.setFullYear(e),a}return new Date(e,t,n,r,i,o,s)}function TSe(e){return ASe(new Date(e))}function kSe(e){return rU(new Date(e))}function ASe(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return i0.count(t-1,e)}function rU(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return EC.count(t-1,e)}function iU(e){return Jy.setTime(Date.UTC(e,0,1)),Jy.getUTCDay()}function Pgt(e,t,n,r,i,o,s){if(0<=e&&e<100){const a=new Date(Date.UTC(-1,t,n,r,i,o,s));return a.setUTCFullYear(n.y),a}return new Date(Date.UTC(e,t,n,r,i,o,s))}function RSe(e,t,n,r,i){const o=t||1,s=Er(e),a=(v,y,w)=>(w=w||v,Ogt(n[w],r[w],v===s&&o,y)),l=new Date,u=Kd(e),c=u[oa]?a(oa):Ua(2012),d=u[$a]?a($a):u[Zl]?a(Zl):Mg,f=u[ls]&&u[Ra]?a(Ra,1,ls+Ra):u[ls]?a(ls,1):u[Ra]?a(Ra,1):u[eu]?a(eu,1):u[Ah]?a(Ah,1):wC,h=u[Vu]?a(Vu):Mg,m=u[Wu]?a(Wu):Mg,p=u[$c]?a($c):Mg,g=u[Xd]?a(Xd):Mg;return function(v){l.setTime(+v);const y=c(l);return i(y,d(l),f(l,y),h(l),m(l),p(l),g(l))}}function Ogt(e,t,n,r){const i=n<=1?e:r?(o,s)=>r+n*Math.floor((e(o,s)-r)/n):(o,s)=>n*Math.floor(e(o,s)/n);return t?(o,s)=>t(i(o,s),s):i}function px(e,t,n){return t+e*7-(n+6)%7}const Ngt={[oa]:e=>e.getFullYear(),[Zl]:e=>Math.floor(e.getMonth()/3),[$a]:e=>e.getMonth(),[eu]:e=>e.getDate(),[Vu]:e=>e.getHours(),[Wu]:e=>e.getMinutes(),[$c]:e=>e.getSeconds(),[Xd]:e=>e.getMilliseconds(),[Ah]:e=>SSe(e),[ls]:e=>tU(e),[ls+Ra]:(e,t)=>px(tU(e),e.getDay(),nU(t)),[Ra]:(e,t)=>px(1,e.getDay(),nU(t))},Mgt={[Zl]:e=>3*e,[ls]:(e,t)=>px(e,0,nU(t))};function ISe(e,t){return RSe(e,t||1,Ngt,Mgt,Dgt)}const $gt={[oa]:e=>e.getUTCFullYear(),[Zl]:e=>Math.floor(e.getUTCMonth()/3),[$a]:e=>e.getUTCMonth(),[eu]:e=>e.getUTCDate(),[Vu]:e=>e.getUTCHours(),[Wu]:e=>e.getUTCMinutes(),[$c]:e=>e.getUTCSeconds(),[Xd]:e=>e.getUTCMilliseconds(),[Ah]:e=>ASe(e),[ls]:e=>rU(e),[Ra]:(e,t)=>px(1,e.getUTCDay(),iU(t)),[ls+Ra]:(e,t)=>px(rU(e),e.getUTCDay(),iU(t))},Lgt={[Zl]:e=>3*e,[ls]:(e,t)=>px(e,0,iU(t))};function DSe(e,t){return RSe(e,t||1,$gt,Lgt,Pgt)}const Fgt={[oa]:Th,[Zl]:T2.every(3),[$a]:T2,[ls]:_C,[eu]:Yp,[Ra]:Yp,[Ah]:Yp,[Vu]:zM,[Wu]:jM,[$c]:Mp,[Xd]:dx},jgt={[oa]:kh,[Zl]:k2.every(3),[$a]:k2,[ls]:EC,[eu]:i0,[Ra]:i0,[Ah]:i0,[Vu]:UM,[Wu]:BM,[$c]:Mp,[Xd]:dx};function SC(e){return Fgt[e]}function TC(e){return jgt[e]}function PSe(e,t,n){return e?e.offset(t,n):void 0}function OSe(e,t,n){return PSe(SC(e),t,n)}function NSe(e,t,n){return PSe(TC(e),t,n)}function MSe(e,t,n,r){return e?e.range(t,n,r):void 0}function $Se(e,t,n,r){return MSe(SC(e),t,n,r)}function LSe(e,t,n,r){return MSe(TC(e),t,n,r)}const PE=1e3,OE=PE*60,NE=OE*60,HM=NE*24,Bgt=HM*7,Eue=HM*30,oU=HM*365,FSe=[oa,$a,eu,Vu,Wu,$c,Xd],ME=FSe.slice(0,-1),$E=ME.slice(0,-1),LE=$E.slice(0,-1),zgt=LE.slice(0,-1),Ugt=[oa,ls],Sue=[oa,$a],jSe=[oa],B_=[[ME,1,PE],[ME,5,5*PE],[ME,15,15*PE],[ME,30,30*PE],[$E,1,OE],[$E,5,5*OE],[$E,15,15*OE],[$E,30,30*OE],[LE,1,NE],[LE,3,3*NE],[LE,6,6*NE],[LE,12,12*NE],[zgt,1,HM],[Ugt,1,Bgt],[Sue,1,Eue],[Sue,3,3*Eue],[jSe,1,oU]];function BSe(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(QT(t))/n;let i=CC(a=>a[2]).right(B_,r),o,s;return i===B_.length?(o=jSe,s=x0(t[0]/oU,t[1]/oU,n)):i?(i=B_[r/B_[i-1][2]<B_[i][2]/r?i-1:i],o=i[0],s=i[1]):(o=FSe,s=Math.max(x0(t[0],t[1],n),1)),{units:o,step:s}}function Ej(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Sj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function z_(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function zSe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,u=U_(i),c=H_(i),d=U_(o),f=H_(o),h=U_(s),m=H_(s),p=U_(a),g=H_(a),v=U_(l),y=H_(l),w={a:q,A:W,b:V,B:z,c:null,d:Due,e:Due,f:d0t,g:x0t,G:_0t,H:l0t,I:u0t,j:c0t,L:USe,m:f0t,M:h0t,p:L,q:H,Q:Nue,s:Mue,S:p0t,u:m0t,U:g0t,V:y0t,w:v0t,W:b0t,x:null,X:null,y:w0t,Y:C0t,Z:E0t,"%":Oue},_={a:B,A:Y,b:Q,B:ne,c:null,d:Pue,e:Pue,f:A0t,g:F0t,G:B0t,H:S0t,I:T0t,j:k0t,L:qSe,m:R0t,M:I0t,p:ce,q:le,Q:Nue,s:Mue,S:D0t,u:P0t,U:O0t,V:N0t,w:M0t,W:$0t,x:null,X:null,y:L0t,Y:j0t,Z:z0t,"%":Oue},E={a:I,A:P,b:N,B:M,c:O,d:Rue,e:Rue,f:i0t,g:Aue,G:kue,H:Iue,I:Iue,j:e0t,L:r0t,m:Zgt,M:t0t,p:R,q:Jgt,Q:s0t,s:a0t,S:n0t,u:Ggt,U:Ygt,V:Kgt,w:Wgt,W:Xgt,x:j,X:U,y:Aue,Y:kue,Z:Qgt,"%":o0t};w.x=S(n,w),w.X=S(r,w),w.c=S(t,w),_.x=S(n,_),_.X=S(r,_),_.c=S(t,_);function S(ue,ae){return function(te){var se=[],we=-1,X=0,he=ue.length,ge,re,ee;for(te instanceof Date||(te=new Date(+te));++we<he;)ue.charCodeAt(we)===37&&(se.push(ue.slice(X,we)),(re=Tue[ge=ue.charAt(++we)])!=null?ge=ue.charAt(++we):re=ge==="e"?" ":"0",(ee=ae[ge])&&(ge=ee(te,re)),se.push(ge),X=we+1);return se.push(ue.slice(X,we)),se.join("")}}function T(ue,ae){return function(te){var se=z_(1900,void 0,1),we=k(se,ue,te+="",0),X,he;if(we!=te.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(ae&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(X=Sj(z_(se.y,0,1)),he=X.getUTCDay(),X=he>4||he===0?hO.ceil(X):hO(X),X=i0.offset(X,(se.V-1)*7),se.y=X.getUTCFullYear(),se.m=X.getUTCMonth(),se.d=X.getUTCDate()+(se.w+6)%7):(X=Ej(z_(se.y,0,1)),he=X.getDay(),X=he>4||he===0?fO.ceil(X):fO(X),X=Yp.offset(X,(se.V-1)*7),se.y=X.getFullYear(),se.m=X.getMonth(),se.d=X.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),he="Z"in se?Sj(z_(se.y,0,1)).getUTCDay():Ej(z_(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(he+5)%7:se.w+se.U*7-(he+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,Sj(se)):Ej(se)}}function k(ue,ae,te,se){for(var we=0,X=ae.length,he=te.length,ge,re;we<X;){if(se>=he)return-1;if(ge=ae.charCodeAt(we++),ge===37){if(ge=ae.charAt(we++),re=E[ge in Tue?ae.charAt(we++):ge],!re||(se=re(ue,te,se))<0)return-1}else if(ge!=te.charCodeAt(se++))return-1}return se}function R(ue,ae,te){var se=u.exec(ae.slice(te));return se?(ue.p=c.get(se[0].toLowerCase()),te+se[0].length):-1}function I(ue,ae,te){var se=h.exec(ae.slice(te));return se?(ue.w=m.get(se[0].toLowerCase()),te+se[0].length):-1}function P(ue,ae,te){var se=d.exec(ae.slice(te));return se?(ue.w=f.get(se[0].toLowerCase()),te+se[0].length):-1}function N(ue,ae,te){var se=v.exec(ae.slice(te));return se?(ue.m=y.get(se[0].toLowerCase()),te+se[0].length):-1}function M(ue,ae,te){var se=p.exec(ae.slice(te));return se?(ue.m=g.get(se[0].toLowerCase()),te+se[0].length):-1}function O(ue,ae,te){return k(ue,t,ae,te)}function j(ue,ae,te){return k(ue,n,ae,te)}function U(ue,ae,te){return k(ue,r,ae,te)}function q(ue){return s[ue.getDay()]}function W(ue){return o[ue.getDay()]}function V(ue){return l[ue.getMonth()]}function z(ue){return a[ue.getMonth()]}function L(ue){return i[+(ue.getHours()>=12)]}function H(ue){return 1+~~(ue.getMonth()/3)}function B(ue){return s[ue.getUTCDay()]}function Y(ue){return o[ue.getUTCDay()]}function Q(ue){return l[ue.getUTCMonth()]}function ne(ue){return a[ue.getUTCMonth()]}function ce(ue){return i[+(ue.getUTCHours()>=12)]}function le(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var ae=S(ue+="",w);return ae.toString=function(){return ue},ae},parse:function(ue){var ae=T(ue+="",!1);return ae.toString=function(){return ue},ae},utcFormat:function(ue){var ae=S(ue+="",_);return ae.toString=function(){return ue},ae},utcParse:function(ue){var ae=T(ue+="",!0);return ae.toString=function(){return ue},ae}}}var Tue={"-":"",_:" ",0:"0"},Ls=/^\s*\d+/,Hgt=/^%/,qgt=/[\\^$*+?|[\]().{}]/g;function Wr(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Vgt(e){return e.replace(qgt,"\\$&")}function U_(e){return new RegExp("^(?:"+e.map(Vgt).join("|")+")","i")}function H_(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Wgt(e,t,n){var r=Ls.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Ggt(e,t,n){var r=Ls.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Ygt(e,t,n){var r=Ls.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Kgt(e,t,n){var r=Ls.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Xgt(e,t,n){var r=Ls.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function kue(e,t,n){var r=Ls.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Aue(e,t,n){var r=Ls.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Qgt(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Jgt(e,t,n){var r=Ls.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Zgt(e,t,n){var r=Ls.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Rue(e,t,n){var r=Ls.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function e0t(e,t,n){var r=Ls.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Iue(e,t,n){var r=Ls.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function t0t(e,t,n){var r=Ls.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function n0t(e,t,n){var r=Ls.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function r0t(e,t,n){var r=Ls.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function i0t(e,t,n){var r=Ls.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function o0t(e,t,n){var r=Hgt.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function s0t(e,t,n){var r=Ls.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function a0t(e,t,n){var r=Ls.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Due(e,t){return Wr(e.getDate(),t,2)}function l0t(e,t){return Wr(e.getHours(),t,2)}function u0t(e,t){return Wr(e.getHours()%12||12,t,2)}function c0t(e,t){return Wr(1+Yp.count(Th(e),e),t,3)}function USe(e,t){return Wr(e.getMilliseconds(),t,3)}function d0t(e,t){return USe(e,t)+"000"}function f0t(e,t){return Wr(e.getMonth()+1,t,2)}function h0t(e,t){return Wr(e.getMinutes(),t,2)}function p0t(e,t){return Wr(e.getSeconds(),t,2)}function m0t(e){var t=e.getDay();return t===0?7:t}function g0t(e,t){return Wr(_C.count(Th(e)-1,e),t,2)}function HSe(e){var t=e.getDay();return t>=4||t===0?fx(e):fx.ceil(e)}function y0t(e,t){return e=HSe(e),Wr(fx.count(Th(e),e)+(Th(e).getDay()===4),t,2)}function v0t(e){return e.getDay()}function b0t(e,t){return Wr(fO.count(Th(e)-1,e),t,2)}function w0t(e,t){return Wr(e.getFullYear()%100,t,2)}function x0t(e,t){return e=HSe(e),Wr(e.getFullYear()%100,t,2)}function C0t(e,t){return Wr(e.getFullYear()%1e4,t,4)}function _0t(e,t){var n=e.getDay();return e=n>=4||n===0?fx(e):fx.ceil(e),Wr(e.getFullYear()%1e4,t,4)}function E0t(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Wr(t/60|0,"0",2)+Wr(t%60,"0",2)}function Pue(e,t){return Wr(e.getUTCDate(),t,2)}function S0t(e,t){return Wr(e.getUTCHours(),t,2)}function T0t(e,t){return Wr(e.getUTCHours()%12||12,t,2)}function k0t(e,t){return Wr(1+i0.count(kh(e),e),t,3)}function qSe(e,t){return Wr(e.getUTCMilliseconds(),t,3)}function A0t(e,t){return qSe(e,t)+"000"}function R0t(e,t){return Wr(e.getUTCMonth()+1,t,2)}function I0t(e,t){return Wr(e.getUTCMinutes(),t,2)}function D0t(e,t){return Wr(e.getUTCSeconds(),t,2)}function P0t(e){var t=e.getUTCDay();return t===0?7:t}function O0t(e,t){return Wr(EC.count(kh(e)-1,e),t,2)}function VSe(e){var t=e.getUTCDay();return t>=4||t===0?hx(e):hx.ceil(e)}function N0t(e,t){return e=VSe(e),Wr(hx.count(kh(e),e)+(kh(e).getUTCDay()===4),t,2)}function M0t(e){return e.getUTCDay()}function $0t(e,t){return Wr(hO.count(kh(e)-1,e),t,2)}function L0t(e,t){return Wr(e.getUTCFullYear()%100,t,2)}function F0t(e,t){return e=VSe(e),Wr(e.getUTCFullYear()%100,t,2)}function j0t(e,t){return Wr(e.getUTCFullYear()%1e4,t,4)}function B0t(e,t){var n=e.getUTCDay();return e=n>=4||n===0?hx(e):hx.ceil(e),Wr(e.getUTCFullYear()%1e4,t,4)}function z0t(){return"+0000"}function Oue(){return"%"}function Nue(e){return+e}function Mue(e){return Math.floor(+e/1e3)}var N1,QY,WSe,JY,GSe;U0t({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function U0t(e){return N1=zSe(e),QY=N1.format,WSe=N1.parse,JY=N1.utcFormat,GSe=N1.utcParse,N1}function FE(e){const t={};return n=>t[n]||(t[n]=e(n))}function H0t(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let o=q0t(r,i);const s=o<r.length?r.slice(o):"";for(;--o>i;)if(r[o]!=="0"){++o;break}return r.slice(0,o)+s}}function q0t(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function YSe(e){const t=FE(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=Vv(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return H0t(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,o,s){s=Vv(s??",f");const a=x0(r,i,o),l=Math.max(Math.abs(r),Math.abs(i));let u;if(s.precision==null)switch(s.type){case"s":return isNaN(u=vSe(a,l))||(s.precision=u),n(s,l);case"":case"e":case"g":case"p":case"r":{isNaN(u=bSe(a,l))||(s.precision=u-(s.type==="e"));break}case"f":case"%":{isNaN(u=ySe(a))||(s.precision=u-(s.type==="%")*2);break}}return t(s)}}}let sU;KSe();function KSe(){return sU=YSe({format:FM,formatPrefix:WY})}function XSe(e){return YSe(gSe(e))}function pO(e){return arguments.length?sU=XSe(e):sU}function $ue(e,t,n){n=n||{},Gn(n)||it(`Invalid time multi-format specifier: ${n}`);const r=t($c),i=t(Wu),o=t(Vu),s=t(eu),a=t(ls),l=t($a),u=t(Zl),c=t(oa),d=e(n[Xd]||".%L"),f=e(n[$c]||":%S"),h=e(n[Wu]||"%I:%M"),m=e(n[Vu]||"%I %p"),p=e(n[eu]||n[Ra]||"%a %d"),g=e(n[ls]||"%b %d"),v=e(n[$a]||"%B"),y=e(n[Zl]||"%B"),w=e(n[oa]||"%Y");return _=>(r(_)<_?d:i(_)<_?f:o(_)<_?h:s(_)<_?m:l(_)<_?a(_)<_?p:g:c(_)<_?u(_)<_?v:y:w)(_)}function QSe(e){const t=FE(e.format),n=FE(e.utcFormat);return{timeFormat:r=>Vr(r)?t(r):$ue(t,SC,r),utcFormat:r=>Vr(r)?n(r):$ue(n,TC,r),timeParse:FE(e.parse),utcParse:FE(e.utcParse)}}let aU;JSe();function JSe(){return aU=QSe({format:QY,parse:WSe,utcFormat:JY,utcParse:GSe})}function ZSe(e){return QSe(zSe(e))}function A2(e){return arguments.length?aU=ZSe(e):aU}const lU=(e,t)=>tr({},e,t);function e2e(e,t){const n=e?XSe(e):pO(),r=t?ZSe(t):A2();return lU(n,r)}function ZY(e,t){const n=arguments.length;return n&&n!==2&&it("defaultLocale expects either zero or two arguments."),n?lU(pO(e),A2(t)):lU(pO(),A2())}function V0t(){return KSe(),JSe(),ZY()}const W0t=/^(data:|([A-Za-z]+:)?\/\/)/,G0t=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,Y0t=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Lue="file://";function K0t(e){return t=>({options:t||{},sanitize:Q0t,load:X0t,fileAccess:!1,file:J0t(),http:eyt})}async function X0t(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t?.http)}async function Q0t(e,t){t=tr({},this.options,t);const n=this.fileAccess,r={href:null};let i,o,s;const a=G0t.test(e.replace(Y0t,""));(e==null||typeof e!="string"||!a)&&it("Sanitize failure, invalid URI: "+an(e));const l=W0t.test(e);return(s=t.baseURL)&&!l&&(!e.startsWith("/")&&!s.endsWith("/")&&(e="/"+e),e=s+e),o=(i=e.startsWith(Lue))||t.mode==="file"||t.mode!=="http"&&!l&&n,i?e=e.slice(Lue.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),o=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!o}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function J0t(e){return Z0t}async function Z0t(){it("No file system access.")}async function eyt(e,t){const n=tr({},this.options.http,t),r=t&&t.response,i=await fetch(e,n);return i.ok?nr(i[r])?i[r]():i.text():it(i.status+""+i.statusText)}const tyt=e=>e!=null&&e===e,nyt=e=>e==="true"||e==="false"||e===!0||e===!1,ryt=e=>!Number.isNaN(Date.parse(e)),t2e=e=>!Number.isNaN(+e)&&!(e instanceof Date),iyt=e=>t2e(e)&&Number.isInteger(+e),uU={boolean:UY,integer:Pa,number:Pa,date:HY,string:qY,unknown:bl},PR=[nyt,iyt,t2e,ryt],oyt=["boolean","integer","number","date"];function n2e(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=PR.length,i=PR.map((o,s)=>s+1);for(let o=0,s=0,a,l;o<n;++o)for(l=t?e[o][t]:e[o],a=0;a<r;++a)if(i[a]&&tyt(l)&&!PR[a](l)&&(i[a]=0,++s,s===PR.length))return"string";return oyt[i.reduce((o,s)=>o===0?s:o,0)-1]}function r2e(e,t){return t.reduce((n,r)=>(n[r]=n2e(e,r),n),{})}function Fue(e){const t=function(n,r){const i={delimiter:e};return eK(n,r?tr(r,i):i)};return t.responseType="text",t}function eK(e,t){return t.header&&(e=t.header.map(an).join(t.delimiter)+`
`+e),Bmt(t.delimiter).parse(e+"")}eK.responseType="text";function syt(e){return typeof Buffer=="function"&&nr(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function tK(e,t){const n=t&&t.property?Nc(t.property):bl;return Gn(e)&&!syt(e)?ayt(n(e),t):n(JSON.parse(e))}tK.responseType="json";function ayt(e,t){return!cn(e)&&KEe(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const lyt={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function i2e(e,t){let n,r,i,o;return e=tK(e,t),t&&t.feature?(n=qmt,i=t.feature):t&&t.mesh?(n=Wmt,i=t.mesh,o=lyt[t.filter]):it("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,o):it("Invalid TopoJSON object: "+i),r&&r.features||[r]}i2e.responseType="json";const CP={dsv:eK,csv:Fue(","),tsv:Fue("	"),json:tK,topojson:i2e};function nK(e,t){return arguments.length>1?(CP[e]=t,this):Dn(CP,e)?CP[e]:null}function o2e(e){const t=nK(e);return t&&t.responseType||"text"}function s2e(e,t,n,r){t=t||{};const i=nK(t.type||"json");return i||it("Unknown data format type: "+t.type),e=i(e,t),t.parse&&uyt(e,t.parse,n,r),Dn(e,"columns")&&delete e.columns,e}function uyt(e,t,n,r){if(!e.length)return;const i=A2();n=n||i.timeParse,r=r||i.utcParse;let o=e.columns||Object.keys(e[0]),s,a,l,u,c,d;t==="auto"&&(t=r2e(e,o)),o=Object.keys(t);const f=o.map(h=>{const m=t[h];let p,g;if(m&&(m.startsWith("date:")||m.startsWith("utc:")))return p=m.split(/:(.+)?/,2),g=p[1],(g[0]==="'"&&g[g.length-1]==="'"||g[0]==='"'&&g[g.length-1]==='"')&&(g=g.slice(1,-1)),(p[0]==="utc"?r:n)(g);if(!uU[m])throw Error("Illegal format pattern: "+h+":"+m);return uU[m]});for(l=0,c=e.length,d=o.length;l<c;++l)for(s=e[l],u=0;u<d;++u)a=o[u],s[a]=f[u](s[a])}const qM=K0t();function VM(e){const t=e||bl,n=[],r={};return n.add=i=>{const o=t(i);return r[o]||(r[o]=1,n.push(i)),n},n.remove=i=>{const o=t(i);if(r[o]){r[o]=0;const s=n.indexOf(i);s>=0&&n.splice(s,1)}return n},n}async function _P(e,t){try{await t(e)}catch(n){e.error(n)}}const a2e=Symbol("vega_id");let cyt=1;function WM(e){return!!(e&&mn(e))}function mn(e){return e[a2e]}function l2e(e,t){return e[a2e]=t,e}function Zr(e){const t=e===Object(e)?e:{data:e};return mn(t)?t:l2e(t,cyt++)}function rK(e){return GM(e,Zr({}))}function GM(e,t){for(const n in e)t[n]=e[n];return t}function u2e(e,t){return l2e(t,mn(e))}function Ob(e,t){return e?t?(n,r)=>e(n,r)||mn(t(n))-mn(t(r)):(n,r)=>e(n,r)||mn(n)-mn(r):null}function c2e(e){return e&&e.constructor===Nb}function Nb(){const e=[],t=[],n=[],r=[],i=[];let o=null,s=!1;return{constructor:Nb,insert(a){const l=wn(a),u=l.length;for(let c=0;c<u;++c)e.push(l[c]);return this},remove(a){const l=nr(a)?r:t,u=wn(a),c=u.length;for(let d=0;d<c;++d)l.push(u[d]);return this},modify(a,l,u){const c={field:l,value:Ua(u)};return nr(a)?(c.filter=a,i.push(c)):(c.tuple=a,n.push(c)),this},encode(a,l){return nr(a)?i.push({filter:a,field:l}):n.push({tuple:a,field:l}),this},clean(a){return o=a,this},reflow(){return s=!0,this},pulse(a,l){const u={},c={};let d,f,h,m,p,g;for(d=0,f=l.length;d<f;++d)u[mn(l[d])]=1;for(d=0,f=t.length;d<f;++d)p=t[d],u[mn(p)]=-1;for(d=0,f=r.length;d<f;++d)m=r[d],l.forEach(y=>{m(y)&&(u[mn(y)]=-1)});for(d=0,f=e.length;d<f;++d)p=e[d],g=mn(p),u[g]?u[g]=1:a.add.push(Zr(e[d]));for(d=0,f=l.length;d<f;++d)p=l[d],u[mn(p)]<0&&a.rem.push(p);function v(y,w,_){_?y[w]=_(y):a.encode=w,s||(c[mn(y)]=y)}for(d=0,f=n.length;d<f;++d)h=n[d],p=h.tuple,m=h.field,g=u[mn(p)],g>0&&(v(p,m,h.value),a.modifies(m));for(d=0,f=i.length;d<f;++d)h=i[d],m=h.filter,l.forEach(y=>{m(y)&&u[mn(y)]>0&&v(y,h.field,h.value)}),a.modifies(h.field);if(s)a.mod=t.length||r.length?l.filter(y=>u[mn(y)]>0):l.slice();else for(g in c)a.mod.push(c[g]);return(o||o==null&&(t.length||r.length))&&a.clean(!0),a}}}const EP="_:mod:_";function YM(){Object.defineProperty(this,EP,{writable:!0,value:{}})}YM.prototype={set(e,t,n,r){const i=this,o=i[e],s=i[EP];return t!=null&&t>=0?(o[t]!==n||r)&&(o[t]=n,s[t+":"+e]=-1,s[e]=-1):(o!==n||r)&&(i[e]=n,s[e]=cn(n)?1+n.length:-1),i},modified(e,t){const n=this[EP];if(arguments.length){if(cn(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[EP]={},this}};let dyt=0;const fyt="pulse",hyt=new YM,pyt=1,myt=2;function Ci(e,t,n,r){this.id=++dyt,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function jue(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}Ci.prototype={targets(){return this._targets||(this._targets=VM(KT))},set(e){return this.value!==e?(this.value=e,1):0},skip:jue(pyt),modified:jue(myt),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new YM,i=this._argops=this._argops||[],o=[];let s,a,l,u;const c=(d,f,h)=>{h instanceof Ci?(h!==this&&(t&&h.targets().add(this),o.push(h)),i.push({op:h,name:d,index:f})):r.set(d,f,h)};for(s in e)if(a=e[s],s===fyt)wn(a).forEach(d=>{d instanceof Ci?d!==this&&(d.targets().add(this),o.push(d)):it("Pulse parameters must be operator instances.")}),this.source=a;else if(cn(a))for(r.set(s,-1,Array(l=a.length)),u=0;u<l;++u)c(s,u,a[u]);else c(s,-1,a);return this.marshall().clear(),n&&(i.initonly=!0),o},marshall(e){const t=this._argval||hyt,n=this._argops;let r,i,o,s;if(n){const a=n.length;for(i=0;i<a;++i)r=n[i],o=r.op,s=o.modified()&&o.stamp===e,t.set(r.name,r.index,o.value,s);if(n.initonly){for(i=0;i<a;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function gyt(e,t,n,r){let i=1,o;return e instanceof Ci?o=e:e&&e.prototype instanceof Ci?o=new e:nr(e)?o=new Ci(null,e):(i=0,o=new Ci(e,t)),this.rank(o),i&&(r=n,n=t),n&&this.connect(o,o.parameters(n,r)),this.touch(o),o}function yyt(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank){this.rerank(e);return}}let vyt=0;function KM(e,t,n){this.id=++vyt,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function xg(e,t,n){return new KM(e,t,n)}KM.prototype={_filter:Mc,_apply:bl,targets(){return this._targets||(this._targets=VM(KT))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=xg(e);return this.targets().add(t),t},apply(e){const t=xg(null,e);return this.targets().add(t),t},merge(){const e=xg();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=xg();return this.targets().add(xg(null,null,FY(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(xg(null,null,()=>n=!0)),t.targets().add(xg(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=Mc,this._targets=null}};function byt(e,t,n,r){const i=this,o=xg(n,r),s=function(u){u.dataflow=i;try{o.receive(u)}catch(c){i.error(c)}finally{i.run()}};let a;typeof e=="string"&&typeof document<"u"?a=document.querySelectorAll(e):a=wn(e);const l=a.length;for(let u=0;u<l;++u)a[u].addEventListener(t,s);return o}function wyt(e,t){const n=this.locale();return s2e(e,t,n.timeParse,n.utcParse)}function xyt(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function Cyt(e,t){const n=this;let r=0,i;try{i=await n.loader().load(e,{context:"dataflow",response:o2e(t&&t.type)});try{i=n.parse(i,t)}catch(o){r=-2,n.warn("Data ingestion failed",e,o)}}catch(o){r=-1,n.warn("Loading failed",e,o)}return{data:i,status:r}}async function _yt(e,t,n){const r=this,i=r._pending||Eyt(r);i.requests+=1;const o=await r.request(t,n);return r.pulse(e,r.changeset().remove(Mc).insert(o.data||[])),i.done(),o}function Eyt(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const Syt={skip:!0};function Tyt(e,t,n,r,i){return(e instanceof Ci?Ayt:kyt)(this,e,t,n,r,i),this}function kyt(e,t,n,r,i,o){const s=tr({},o,Syt);let a,l;nr(n)||(n=Ua(n)),r===void 0?a=u=>e.touch(n(u)):nr(r)?(l=new Ci(null,r,i,!1),a=u=>{l.evaluate(u);const c=n(u),d=l.value;c2e(d)?e.pulse(c,d,o):e.update(c,d,s)}):a=u=>e.update(n(u),r,s),t.apply(a)}function Ayt(e,t,n,r,i,o){if(r===void 0)t.targets().add(n);else{const s=o||{},a=new Ci(null,Ryt(n,r),i,!1);a.modified(s.force),a.rank=t.rank,t.targets().add(a),n&&(a.skip(!0),a.value=n.value,a.targets().add(n),e.connect(n,[a]))}}function Ryt(e,t){return t=nr(t)?t:Ua(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}function Iyt(e){e.rank=++this._rank}function Dyt(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&it("Cycle detected in dataflow graph.")}const mO={},Vf=1,kg=2,Cp=4,Pyt=Vf|kg,Bue=Vf|Cp,M1=Vf|kg|Cp,zue=8,q_=16,Uue=32,Hue=64;function o0(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function Tj(e,t){const n=[];return Tg(e,t,r=>n.push(r)),n}function que(e,t){const n={};return e.visit(t,r=>{n[mn(r)]=1}),r=>n[mn(r)]?null:r}function OR(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}o0.prototype={StopPropagation:mO,ADD:Vf,REM:kg,MOD:Cp,ADD_REM:Pyt,ADD_MOD:Bue,ALL:M1,REFLOW:zue,SOURCE:q_,NO_SOURCE:Uue,NO_FIELDS:Hue,fork(e){return new o0(this.dataflow).init(this,e)},clone(){const e=this.fork(M1);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(M1|q_)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new o0(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&Hue)&&(n.fields=e.fields),t&Vf?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&kg?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&Cp?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&Uue?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||M1;return t&Vf&&this.add.length||t&kg&&this.rem.length||t&Cp&&this.mod.length},reflow(e){if(e)return this.fork(M1).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(Cp,que(this,Vf))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return cn(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?cn(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&Vf&&(n.addF=OR(n.addF,t)),e&kg&&(n.remF=OR(n.remF,t)),e&Cp&&(n.modF=OR(n.modF,t)),e&q_&&(n.srcF=OR(n.srcF,t)),n},materialize(e){e=e||M1;const t=this;return e&Vf&&t.addF&&(t.add=Tj(t.add,t.addF),t.addF=null),e&kg&&t.remF&&(t.rem=Tj(t.rem,t.remF),t.remF=null),e&Cp&&t.modF&&(t.mod=Tj(t.mod,t.modF),t.modF=null),e&q_&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&q_)return Tg(n.source,n.srcF,r),n;e&Vf&&Tg(n.add,n.addF,r),e&kg&&Tg(n.rem,n.remF,r),e&Cp&&Tg(n.mod,n.modF,r);const i=n.source;if(e&zue&&i){const o=n.add.length+n.mod.length;o===i.length||(o?Tg(i,que(n,Bue),r):Tg(i,n.srcF,r))}return n}};function iK(e,t,n,r){const i=this;let o=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const s of n)if(s.stamp===t){if(s.fields){const a=i.fields||(i.fields={});for(const l in s.fields)a[l]=1}s.changed(i.ADD)&&(o|=i.ADD),s.changed(i.REM)&&(o|=i.REM),s.changed(i.MOD)&&(o|=i.MOD)}this.changes=o}It(iK,o0,{fork(e){const t=new o0(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?cn(e)?e.some(r=>n[r]):n[e]:0},filter(){it("MultiPulse does not support filtering.")},materialize(){it("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let o=0;if(e&n.SOURCE)for(;o<i;++o)r[o].visit(e,t);else for(;o<i;++o)r[o].stamp===n.stamp&&r[o].visit(e,t);return n}});async function Oyt(e,t,n){const r=this,i=[];if(r._pulse)return d2e(r);if(r._pending&&await r._pending,t&&await _P(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const o=++r._clock;r._pulse=new o0(r,o,e),r._touched.forEach(c=>r._enqueue(c,!0)),r._touched=VM(KT);let s=0,a,l,u;try{for(;r._heap.size()>0;){if(a=r._heap.pop(),a.rank!==a.qrank){r._enqueue(a,!0);continue}l=a.run(r._getPulse(a,e)),l.then?l=await l:l.async&&(i.push(l.async),l=mO),l!==mO&&a._targets&&a._targets.forEach(c=>r._enqueue(c)),++s}}catch(c){r._heap.clear(),u=c}if(r._input={},r._pulse=null,r.debug(`Pulse ${o}: ${s} operators`),u&&(r._postrun=[],r.error(u)),r._postrun.length){const c=r._postrun.sort((d,f)=>f.priority-d.priority);r._postrun=[];for(let d=0;d<c.length;++d)await _P(r,c[d].callback)}return n&&await _P(r,n),i.length&&Promise.all(i).then(c=>r.runAsync(null,()=>{c.forEach(d=>{try{d(r)}catch(f){r.error(f)}})})),r}async function Nyt(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function Myt(e,t,n){return this._pulse?d2e(this):(this.evaluate(e,t,n),this)}function $yt(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function d2e(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function Lyt(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function Fyt(e,t){const n=e.source,r=this._clock;return n&&cn(n)?new iK(this,r,n.map(i=>i.pulse),t):this._input[e.id]||jyt(this._pulse,n&&n.pulse)}function jyt(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==mO&&(e.source=t.source),e)}const oK={skip:!1,force:!1};function Byt(e,t){const n=t||oK;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function zyt(e,t,n){const r=n||oK;return(e.set(t)||r.force)&&this.touch(e,r),this}function Uyt(e,t,n){this.touch(e,n||oK);const r=new o0(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this}function Hyt(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),f2e(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,qyt(t,0,e)):r=n,r}}}function f2e(e,t,n,r){let i,o;const s=e[n];for(;n>t;){if(o=n-1>>1,i=e[o],r(s,i)<0){e[n]=i,n=o;continue}break}return e[n]=s}function qyt(e,t,n){const r=t,i=e.length,o=e[t];let s=(t<<1)+1,a;for(;s<i;)a=s+1,a<i&&n(e[s],e[a])>=0&&(s=a),e[t]=e[s],t=s,s=(t<<1)+1;return e[t]=o,f2e(e,r,t,n)}function Nw(){this.logger(MEe()),this.logLevel(OY),this._clock=0,this._rank=0,this._locale=ZY();try{this._loader=qM()}catch{}this._touched=VM(KT),this._input={},this._pulse=null,this._heap=Hyt((e,t)=>e.qrank-t.qrank),this._postrun=[]}function V_(e){return function(){return this._log[e].apply(this,arguments)}}Nw.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:V_("error"),warn:V_("warn"),info:V_("info"),debug:V_("debug"),logLevel:V_("level"),cleanThreshold:1e4,add:gyt,connect:yyt,rank:Iyt,rerank:Dyt,pulse:Uyt,touch:Byt,update:zyt,changeset:Nb,ingest:xyt,parse:wyt,preload:_yt,request:Cyt,events:byt,on:Tyt,evaluate:Oyt,run:Myt,runAsync:Nyt,runAfter:$yt,_enqueue:Lyt,_getPulse:Fyt};function et(e,t){Ci.call(this,e,null,t)}It(et,Ci,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const mx={};function h2e(e){const t=p2e(e);return t&&t.Definition||null}function p2e(e){return e=e&&e.toLowerCase(),Dn(mx,e)?mx[e]:null}function*m2e(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function sK(e,t,n){const r=Float64Array.from(m2e(e,n));return r.sort(Gp),t.map(i=>dSe(r,i))}function aK(e,t){return sK(e,[.25,.5,.75],t)}function lK(e,t){const n=e.length,r=egt(e,t),i=aK(e,t),o=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,o)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function g2e(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let o=e.extent[0],s=e.extent[1],a,l,u,c,d,f;const h=e.span||s-o||Math.abs(o)||1;if(e.step)a=e.step;else if(e.steps){for(c=h/t,d=0,f=e.steps.length;d<f&&e.steps[d]<c;++d);a=e.steps[Math.max(0,d-1)]}else{for(l=Math.ceil(Math.log(t)/r),u=e.minstep||0,a=Math.max(u,Math.pow(n,Math.round(Math.log(h)/r)-l));Math.ceil(h/a)>t;)a*=n;for(d=0,f=i.length;d<f;++d)c=a/i[d],c>=u&&h/c<=t&&(a=c)}c=Math.log(a);const m=c>=0?0:~~(-c/r)+1,p=Math.pow(n,-m-1);return(e.nice||e.nice===void 0)&&(c=Math.floor(o/a+p)*a,o=o<c?c-a:c,s=Math.ceil(s/a)*a),{start:o,stop:s===o?o+a:s,step:a}}var Lc=Math.random;function Vyt(e){Lc=e}function y2e(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(m2e(e,r)),o=i.length,s=t;let a,l,u,c;for(u=0,c=Array(s);u<s;++u){for(a=0,l=0;l<o;++l)a+=i[~~(Lc()*o)];c[u]=a/o}return c.sort(Gp),[eU(c,n/2),eU(c,1-n/2)]}function v2e(e,t,n,r){r=r||(f=>f);const i=e.length,o=new Float64Array(i);let s=0,a=1,l=r(e[0]),u=l,c=l+t,d;for(;a<i;++a){if(d=r(e[a]),d>=c){for(u=(l+u)/2;s<a;++s)o[s]=u;c=d+t,l=d}u=d}for(u=(l+u)/2;s<a;++s)o[s]=u;return n?Wyt(o,t+t/4):o}function Wyt(e,t){const n=e.length;let r=0,i=1,o,s;for(;e[r]===e[i];)++i;for(;i<n;){for(o=i+1;e[i]===e[o];)++o;if(e[i]-e[i-1]<t){for(s=i+(r+o-i-i>>1);s<i;)e[s++]=e[i];for(;s>i;)e[s--]=e[r]}r=i,i=o}return e}function Gyt(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function Yyt(e,t){t==null&&(t=e,e=0);let n,r,i;const o={min(s){return arguments.length?(n=s||0,i=r-n,o):n},max(s){return arguments.length?(r=s||0,i=r-n,o):r},sample(){return n+Math.floor(i*Lc())},pdf(s){return s===Math.floor(s)&&s>=n&&s<r?1/i:0},cdf(s){const a=Math.floor(s);return a<n?0:a>=r?1:(a-n+1)/i},icdf(s){return s>=0&&s<=1?n-1+Math.floor(s*i):NaN}};return o.min(e).max(t)}const b2e=Math.sqrt(2*Math.PI),Kyt=Math.SQRT2;let W_=NaN;function XM(e,t){e=e||0,t=t??1;let n=0,r=0,i,o;if(W_===W_)n=W_,W_=NaN;else{do n=Lc()*2-1,r=Lc()*2-1,i=n*n+r*r;while(i===0||i>1);o=Math.sqrt(-2*Math.log(i)/i),n*=o,W_=r*o}return e+n*t}function uK(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*b2e)}function QM(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,i=Math.abs(r);let o;if(i>37)o=0;else{const s=Math.exp(-i*i/2);let a;i<7.07106781186547?(a=.0352624965998911*i+.700383064443688,a=a*i+6.37396220353165,a=a*i+33.912866078383,a=a*i+112.079291497871,a=a*i+221.213596169931,a=a*i+220.206867912376,o=s*a,a=.0883883476483184*i+1.75566716318264,a=a*i+16.064177579207,a=a*i+86.7807322029461,a=a*i+296.564248779674,a=a*i+637.333633378831,a=a*i+793.826512519948,a=a*i+440.413735824752,o=o/a):(a=i+.65,a=i+4/a,a=i+3/a,a=i+2/a,a=i+1/a,o=s/a/2.506628274631)}return r>0?1-o:o}function JM(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*Kyt*Xyt(2*e-1)}function Xyt(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function cK(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>XM(n,r),pdf:o=>uK(o,n,r),cdf:o=>QM(o,n,r),icdf:o=>JM(o,n,r)};return i.mean(e).stdev(t)}function dK(e,t){const n=cK();let r=0;const i={data(o){return arguments.length?(e=o,r=o?o.length:0,i.bandwidth(t)):e},bandwidth(o){return arguments.length?(t=o,!t&&e&&(t=lK(e)),i):t},sample(){return e[~~(Lc()*r)]+t*n.sample()},pdf(o){let s=0,a=0;for(;a<r;++a)s+=n.pdf((o-e[a])/t);return s/t/r},cdf(o){let s=0,a=0;for(;a<r;++a)s+=n.cdf((o-e[a])/t);return s/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function fK(e,t){return e=e||0,t=t??1,Math.exp(e+XM()*t)}function hK(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*b2e*e)}function pK(e,t,n){return QM(Math.log(e),t,n)}function mK(e,t,n){return Math.exp(JM(e,t,n))}function w2e(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>fK(n,r),pdf:o=>hK(o,n,r),cdf:o=>pK(o,n,r),icdf:o=>mK(o,n,r)};return i.mean(e).stdev(t)}function x2e(e,t){let n=0,r;function i(s){const a=[];let l=0,u;for(u=0;u<n;++u)l+=a[u]=s[u]==null?1:+s[u];for(u=0;u<n;++u)a[u]/=l;return a}const o={weights(s){return arguments.length?(r=i(t=s||[]),o):t},distributions(s){return arguments.length?(s?(n=s.length,e=s):(n=0,e=[]),o.weights(t)):e},sample(){const s=Lc();let a=e[n-1],l=r[0],u=0;for(;u<n-1;l+=r[++u])if(s<l){a=e[u];break}return a.sample()},pdf(s){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].pdf(s);return a},cdf(s){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].cdf(s);return a},icdf(){throw Error("Mixture icdf not supported.")}};return o.distributions(e).weights(t)}function gK(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*Lc()}function yK(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function vK(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function bK(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function C2e(e,t){let n,r;const i={min(o){return arguments.length?(n=o||0,i):n},max(o){return arguments.length?(r=o??1,i):r},sample:()=>gK(n,r),pdf:o=>yK(o,n,r),cdf:o=>vK(o,n,r),icdf:o=>bK(o,n,r)};return t==null&&(t=e??1,e=0),i.min(e).max(t)}function wK(e,t,n){let r=0,i=0;for(const o of e){const s=n(o);t(o)==null||s==null||isNaN(s)||(r+=(s-r)/++i)}return{coef:[r],predict:()=>r,rSquared:0}}function JT(e,t,n,r){const i=r-e*e,o=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-o*e,o]}function ZM(e,t,n,r){e=e.filter(h=>{let m=t(h),p=n(h);return m!=null&&(m=+m)>=m&&p!=null&&(p=+p)>=p}),r&&e.sort((h,m)=>t(h)-t(m));const i=e.length,o=new Float64Array(i),s=new Float64Array(i);let a=0,l=0,u=0,c,d,f;for(f of e)o[a]=c=+t(f),s[a]=d=+n(f),++a,l+=(c-l)/a,u+=(d-u)/a;for(a=0;a<i;++a)o[a]-=l,s[a]-=u;return[o,s,l,u]}function ZT(e,t,n,r){let i=-1,o,s;for(const a of e)o=t(a),s=n(a),o!=null&&(o=+o)>=o&&s!=null&&(s=+s)>=s&&r(o,s,++i)}function kC(e,t,n,r,i){let o=0,s=0;return ZT(e,t,n,(a,l)=>{const u=l-i(a),c=l-r;o+=u*u,s+=c*c}),1-o/s}function xK(e,t,n){let r=0,i=0,o=0,s=0,a=0;ZT(e,t,n,(c,d)=>{++a,r+=(c-r)/a,i+=(d-i)/a,o+=(c*d-o)/a,s+=(c*c-s)/a});const l=JT(r,i,o,s),u=c=>l[0]+l[1]*c;return{coef:l,predict:u,rSquared:kC(e,t,n,i,u)}}function _2e(e,t,n){let r=0,i=0,o=0,s=0,a=0;ZT(e,t,n,(c,d)=>{++a,c=Math.log(c),r+=(c-r)/a,i+=(d-i)/a,o+=(c*d-o)/a,s+=(c*c-s)/a});const l=JT(r,i,o,s),u=c=>l[0]+l[1]*Math.log(c);return{coef:l,predict:u,rSquared:kC(e,t,n,i,u)}}function E2e(e,t,n){const[r,i,o,s]=ZM(e,t,n);let a=0,l=0,u=0,c=0,d=0,f,h,m;ZT(e,t,n,(y,w)=>{f=r[d++],h=Math.log(w),m=f*w,a+=(w*h-a)/d,l+=(m-l)/d,u+=(m*h-u)/d,c+=(f*m-c)/d});const[p,g]=JT(l/s,a/s,u/s,c/s),v=y=>Math.exp(p+g*(y-o));return{coef:[Math.exp(p-g*o),g],predict:v,rSquared:kC(e,t,n,s,v)}}function S2e(e,t,n){let r=0,i=0,o=0,s=0,a=0,l=0;ZT(e,t,n,(d,f)=>{const h=Math.log(d),m=Math.log(f);++l,r+=(h-r)/l,i+=(m-i)/l,o+=(h*m-o)/l,s+=(h*h-s)/l,a+=(f-a)/l});const u=JT(r,i,o,s),c=d=>u[0]*Math.pow(d,u[1]);return u[0]=Math.exp(u[0]),{coef:u,predict:c,rSquared:kC(e,t,n,a,c)}}function CK(e,t,n){const[r,i,o,s]=ZM(e,t,n),a=r.length;let l=0,u=0,c=0,d=0,f=0,h,m,p,g;for(h=0;h<a;)m=r[h],p=i[h++],g=m*m,l+=(g-l)/h,u+=(g*m-u)/h,c+=(g*g-c)/h,d+=(m*p-d)/h,f+=(g*p-f)/h;const v=c-l*l,y=l*v-u*u,w=(f*l-d*u)/y,_=(d*v-f*u)/y,E=-w*l,S=T=>(T=T-o,w*T*T+_*T+E+s);return{coef:[E-_*o+w*o*o+s,_-2*w*o,w],predict:S,rSquared:kC(e,t,n,s,S)}}function T2e(e,t,n,r){if(r===0)return wK(e,t,n);if(r===1)return xK(e,t,n);if(r===2)return CK(e,t,n);const[i,o,s,a]=ZM(e,t,n),l=i.length,u=[],c=[],d=r+1;let f,h,m,p,g;for(f=0;f<d;++f){for(m=0,p=0;m<l;++m)p+=Math.pow(i[m],f)*o[m];for(u.push(p),g=new Float64Array(d),h=0;h<d;++h){for(m=0,p=0;m<l;++m)p+=Math.pow(i[m],f+h);g[h]=p}c.push(g)}c.push(u);const v=Jyt(c),y=w=>{w-=s;let _=a+v[0]+v[1]*w+v[2]*w*w;for(f=3;f<d;++f)_+=v[f]*Math.pow(w,f);return _};return{coef:Qyt(d,v,-s,a),predict:y,rSquared:kC(e,t,n,a,y)}}function Qyt(e,t,n,r){const i=Array(e);let o,s,a,l;for(o=0;o<e;++o)i[o]=0;for(o=e-1;o>=0;--o)for(a=t[o],l=1,i[o]+=a,s=1;s<=o;++s)l*=(o+1-s)/s,i[o-s]+=a*Math.pow(n,s)*l;return i[0]+=r,i}function Jyt(e){const t=e.length-1,n=[];let r,i,o,s,a;for(r=0;r<t;++r){for(s=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][s])&&(s=i);for(o=r;o<t+1;++o)a=e[o][r],e[o][r]=e[o][s],e[o][s]=a;for(i=r+1;i<t;++i)for(o=t;o>=r;o--)e[o][i]-=e[o][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(a=0,o=i+1;o<t;++o)a+=e[o][i]*n[o];n[i]=(e[t][i]-a)/e[i][i]}return n}const Vue=2,Wue=1e-12;function k2e(e,t,n,r){const[i,o,s,a]=ZM(e,t,n,!0),l=i.length,u=Math.max(2,~~(r*l)),c=new Float64Array(l),d=new Float64Array(l),f=new Float64Array(l).fill(1);for(let h=-1;++h<=Vue;){const m=[0,u-1];for(let g=0;g<l;++g){const v=i[g],y=m[0],w=m[1],_=v-i[y]>i[w]-v?y:w;let E=0,S=0,T=0,k=0,R=0;const I=1/Math.abs(i[_]-v||1);for(let M=y;M<=w;++M){const O=i[M],j=o[M],U=Zyt(Math.abs(v-O)*I)*f[M],q=O*U;E+=U,S+=q,T+=j*U,k+=j*q,R+=O*q}const[P,N]=JT(S/E,T/E,k/E,R/E);c[g]=P+N*v,d[g]=Math.abs(o[g]-c[g]),evt(i,g+1,m)}if(h===Vue)break;const p=fSe(d);if(Math.abs(p)<Wue)break;for(let g=0,v,y;g<l;++g)v=d[g]/(6*p),f[g]=v>=1?Wue:(y=1-v*v)*y}return tvt(i,c,s,a)}function Zyt(e){return(e=1-e*e*e)*e*e}function evt(e,t,n){const r=e[t];let i=n[0],o=n[1]+1;if(!(o>=e.length))for(;t>i&&e[o]-r<=r-e[i];)n[0]=++i,n[1]=o,++o}function tvt(e,t,n,r){const i=e.length,o=[];let s=0,a=0,l=[],u;for(;s<i;++s)u=e[s]+n,l[0]===u?l[1]+=(t[s]-l[1])/++a:(a=0,l[1]+=r,l=[u,t[s]],o.push(l));return l[1]+=r,o}const nvt=.5*Math.PI/180;function e6(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=p=>[p,e(p)],o=t[0],s=t[1],a=s-o,l=a/r,u=[i(o)],c=[];if(n===r){for(let p=1;p<r;++p)u.push(i(o+p/n*a));return u.push(i(s)),u}else{c.push(i(s));for(let p=n;--p>0;)c.push(i(o+p/n*a))}let d=u[0],f=c[c.length-1];const h=1/a,m=rvt(d[1],c);for(;f;){const p=i((d[0]+f[0])/2);p[0]-d[0]>=l&&ivt(d,p,f,h,m)>nvt?c.push(p):(d=f,u.push(f),c.pop()),f=c[c.length-1]}return u}function rvt(e,t){let n=e,r=e;const i=t.length;for(let o=0;o<i;++o){const s=t[o][1];s<n&&(n=s),s>r&&(r=s)}return 1/(r-n)}function ivt(e,t,n,r,i){const o=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),s=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(o-s)}function ovt(e){return t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}}function cU(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:ovt(e)}function A2e(e,t,n){return n||e+(t?"_"+t:"")}const kj=()=>{},svt={init:kj,add:kj,rem:kj,idx:0},R2={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.valid?e.sum:void 0,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,t)=>{e.exp=0,e.exp_r=t},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,t)=>e.exp=e.exp_r*e.exp+t,rem:(e,t)=>e.exp=(e.exp-t/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},ek=Object.keys(R2).filter(e=>e!=="__count__");function avt(e,t){return(n,r)=>tr({name:e,aggregate_param:r,out:n||e},svt,t)}[...ek,"__count__"].forEach(e=>{R2[e]=avt(e,R2[e])});function R2e(e,t,n){return R2[e](n,t)}function I2e(e,t){return e.idx-t.idx}function lvt(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(i=>{t[i]||n(t[i]=R2[i]())})};return e.forEach(n),Object.values(t).sort(I2e)}function uvt(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.aggregate_param==null?e.init(this):e.init(this,e.aggregate_param))}function cvt(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function dvt(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function fvt(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function D2e(e,t){const n=t||bl,r=lvt(e),i=e.slice().sort(I2e);function o(s){this._ops=r,this._out=i,this.cell=s,this.init()}return o.prototype.init=uvt,o.prototype.add=cvt,o.prototype.rem=dvt,o.prototype.set=fvt,o.prototype.get=n,o.fields=e.map(s=>s.out),o}function _K(e){this._key=e?Nc(e):mn,this.reset()}const da=_K.prototype;da.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};da.add=function(e){this._add.push(e)};da.rem=function(e){this._rem.push(e)};da.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,o=Array(r-i),s={};let a,l,u;for(a=0;a<i;++a)s[n(t[a])]=1;for(a=0,l=0;a<r;++a)s[n(u=e[a])]?s[n(u)]=0:o[l++]=u;return this._rem=[],this._add=o};da.distinct=function(e){const t=this.values(),n={};let r=t.length,i=0,o;for(;--r>=0;)o=e(t[r])+"",Dn(n,o)||(n[o]=1,++i);return i};da.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=GEe(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};da.argmin=function(e){return this.extent(e)[0]||{}};da.argmax=function(e){return this.extent(e)[1]||{}};da.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};da.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};da.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=aK(this.values(),e),this._get=e),this._q};da.q1=function(e){return this.quartile(e)[0]};da.q2=function(e){return this.quartile(e)[1]};da.q3=function(e){return this.quartile(e)[2]};da.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=y2e(this.values(),1e3,.05,e),this._get=e),this._ci};da.ci0=function(e){return this.ci(e)[0]};da.ci1=function(e){return this.ci(e)[1]};function C0(e){et.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}C0.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:ek},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};It(C0,et,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):Object.create(null),t.visit(t.SOURCE,o=>n.add(o))):(n.value=n.value||n.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),i=n.length;function o(a){let l,u,c,d;for(l in a)for(c=a[l].tuple,u=0;u<i;++u)r[u][d=c[n[u]]]=d}o(e._prev),o(t);function s(a,l,u){const c=n[u],d=r[u++];for(const f in d){const h=a?a+"|"+f:f;l[c]=d[f],u<i?s(h,l,u):t[h]||e.cell(h,l)}}s("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(y){const w=wn(Ma(y)),_=w.length;let E=0,S;for(;E<_;++E)r[S=w[E]]||(r[S]=1,t.push(S))}this._dims=wn(e.groupby),this._dnames=this._dims.map(y=>{const w=vo(y);return i(y),n.push(w),w}),this.cellkey=e.key?e.key:cU(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const o=e.fields||[null],s=e.ops||["count"],a=e.aggregate_params||[null],l=e.as||[],u=o.length,c={};let d,f,h,m,p,g,v;for(u!==s.length&&it("Unmatched number of fields and aggregate ops."),v=0;v<u;++v){if(d=o[v],f=s[v],h=a[v]||null,d==null&&f!=="count"&&it("Null aggregate field specified."),p=vo(d),g=A2e(f,p,l[v]),n.push(g),f==="count"){this._counts.push(g);continue}m=c[p],m||(i(d),m=c[p]=[],m.field=d,this._measures.push(m)),f!=="count"&&(this._countOnly=!1),m.push(R2e(f,h,g))}return this._measures=this._measures.map(y=>D2e(y,y.field)),Object.create(null)},cellkey:cU(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,i=r.length;n.agg=Array(i);for(let o=0;o<i;++o)n.agg[o]=new r[o](n)}return n.store&&(n.data=new _K),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,o={};for(let s=0;s<i;++s)o[n[s]]=r[s](e);return t?u2e(t.tuple,o):Zr(o)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let i=0,o=r.length;i<o;++i)r[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,o=e.add,s=e.rem,a=e.mod;let l,u,c,d;if(r)for(u in r)l=r[u],(!i||l.num)&&s.push(l.tuple);for(c=0,d=this._alen;c<d;++c)o.push(this.celltuple(t[c])),t[c]=null;for(c=0,d=this._mlen;c<d;++c)l=n[c],(l.num===0&&i?s:a).push(this.celltuple(l)),n[c]=null;return this._alen=this._mlen=0,this._prev=null,e}});const hvt=1e-14;function EK(e){et.call(this,null,e)}EK.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};It(EK,et,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),i=r.start,o=r.step,s=e.as||["bin0","bin1"],a=s[0],l=s[1];let u;return e.modified()?(t=t.reflow(!0),u=t.SOURCE):u=t.modified(Ma(e.field))?t.ADD_MOD:t.ADD,t.visit(u,n?c=>{const d=r(c);c[a]=d,c[l]=d==null?null:i+o*(1+(d-i)/o)}:c=>c[a]=r(c)),t.modifies(n?s:a)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=g2e(e),r=n.step;let i=n.start,o=i+Math.ceil((n.stop-i)/r)*r,s,a;(s=e.anchor)!=null&&(a=s-(i+r*Math.floor((s-i)/r)),i+=a,o+=a);const l=function(u){let c=Pa(t(u));return c==null?null:c<i?-1/0:c>o?1/0:(c=Math.max(i,Math.min(c,o-r)),i+r*Math.floor(hvt+(c-i)/r))};return l.start=i,l.stop=n.stop,l.step=r,this.value=uu(l,Ma(t),e.name||"bin_"+vo(t))}});function P2e(e,t,n){const r=e;let i=t||[],o=n||[],s={},a=0;return{add:l=>o.push(l),remove:l=>s[r(l)]=++a,size:()=>i.length,data:(l,u)=>(a&&(i=i.filter(c=>!s[r(c)]),s={},a=0),u&&l&&i.sort(l),o.length&&(i=l?JEe(l,i,o.sort(l)):i.concat(o),o=[]),i)}}function SK(e){et.call(this,[],e)}SK.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};It(SK,et,{transform(e,t){const n=t.fork(t.ALL),r=P2e(mn,this.value,n.materialize(n.ADD).add),i=e.sort,o=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(o),this.value=n.source=r.data(Ob(i),o),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function O2e(e){Ci.call(this,null,pvt,e)}It(O2e,Ci);function pvt(e){return this.value&&!e.modified()?this.value:LY(e.fields,e.orders)}function TK(e){et.call(this,null,e)}TK.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function mvt(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}It(TK,et,{transform(e,t){const n=d=>f=>{for(var h=mvt(a(f),e.case,o)||[],m,p=0,g=h.length;p<g;++p)s.test(m=h[p])||d(m)},r=this._parameterCheck(e,t),i=this._counts,o=this._match,s=this._stop,a=e.field,l=e.as||["text","count"],u=n(d=>i[d]=1+(i[d]||0)),c=n(d=>i[d]-=1);return r?t.visit(t.SOURCE,u):(t.visit(t.ADD,u),t.visit(t.REM,c)),this._finish(t,l)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],o=t[1],s=e.fork(e.NO_SOURCE|e.NO_FIELDS);let a,l,u;for(a in n)l=r[a],u=n[a]||0,!l&&u?(r[a]=l=Zr({}),l[i]=a,l[o]=u,s.add.push(l)):u===0?(l&&s.rem.push(l),n[a]=null,r[a]=null):l[o]!==u&&(l[o]=u,s.mod.push(l));return s.modifies(t)}});function kK(e){et.call(this,null,e)}kK.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};It(kK,et,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],o=r[1],s=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let a=this.value;return s?(a&&(n.rem=a),a=t.materialize(t.SOURCE).source,n.add=this.value=gvt(a,i,o,e.filter||Mc)):n.mod=a,n.source=this.value,n.modifies(r)}});function gvt(e,t,n,r){for(var i=[],o={},s=e.length,a=0,l,u;a<s;++a)for(o[t]=u=e[a],l=0;l<s;++l)o[n]=e[l],r(o)&&(i.push(Zr(o)),o={},o[t]=u);return i}const Gue={kde:dK,mixture:x2e,normal:cK,lognormal:w2e,uniform:C2e},yvt="distributions",Yue="function",vvt="field";function N2e(e,t){const n=e[Yue];Dn(Gue,n)||it("Unknown distribution function: "+n);const r=Gue[n]();for(const i in e)i===vvt?r.data((e.from||t()).map(e[i])):i===yvt?r[i](e[i].map(o=>N2e(o,t))):typeof r[i]===Yue&&r[i](e[i]);return r}function AK(e){et.call(this,null,e)}const M2e=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],bvt={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:M2e},{name:"weights",type:"number",array:!0}]};AK.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:M2e.concat(bvt)},{name:"as",type:"string",array:!0,default:["value","density"]}]};It(AK,et,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=N2e(e.distribution,wvt(t)),i=e.steps||e.minsteps||25,o=e.steps||e.maxsteps||200;let s=e.method||"pdf";s!=="pdf"&&s!=="cdf"&&it("Invalid density method: "+s),!e.extent&&!r.data&&it("Missing density extent parameter."),s=r[s];const a=e.as||["value","density"],l=e.extent||Sh(r.data()),u=e6(s,l,i,o).map(c=>{const d={};return d[a[0]]=c[0],d[a[1]]=c[1],Zr(d)});this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function wvt(e){return()=>e.materialize(e.SOURCE).source}function $2e(e,t){return e?e.map((n,r)=>t[r]||vo(n)):null}function RK(e,t,n){const r=[],i=d=>d(l);let o,s,a,l,u,c;if(t==null)r.push(e.map(n));else for(o={},s=0,a=e.length;s<a;++s)l=e[s],u=t.map(i),c=o[u],c||(o[u]=c=[],c.dims=u,r.push(c)),c.push(n(l));return r}const L2e="bin";function IK(e){et.call(this,null,e)}IK.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:L2e}]};const xvt=(e,t)=>QT(Sh(e,t))/30;It(IK,et,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=RK(t.source,e.groupby,bl),i=e.smooth||!1,o=e.field,s=e.step||xvt(n,o),a=Ob((m,p)=>o(m)-o(p)),l=e.as||L2e,u=r.length;let c=1/0,d=-1/0,f=0,h;for(;f<u;++f){const m=r[f].sort(a);h=-1;for(const p of v2e(m,s,i,o))p<c&&(c=p),p>d&&(d=p),m[++h][l]=p}return this.value={start:c,stop:d,step:s},t.reflow(!0).modifies(l)}});function F2e(e){Ci.call(this,null,Cvt,e),this.modified(!0)}It(F2e,Ci);function Cvt(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:uu(n=>t(n,e),Ma(t),vo(t))}function DK(e){et.call(this,[void 0,void 0],e)}DK.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};It(DK,et,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let o=n[0],s=n[1];if((i||o==null)&&(o=1/0,s=-1/0),t.visit(i?t.SOURCE:t.ADD,a=>{const l=Pa(r(a));l!=null&&(l<o&&(o=l),l>s&&(s=l))}),!Number.isFinite(o)||!Number.isFinite(s)){let a=vo(r);a&&(a=` for field "${a}"`),t.dataflow.warn(`Infinite extent${a}: [${o}, ${s}]`),o=s=void 0}this.value=[o,s]}});function PK(e,t){Ci.call(this,e),this.parent=t,this.count=0}It(PK,Ci,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function t6(e){et.call(this,{},e),this._keys=xC();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,i=t.active;r<i;++r)n(t[r],r,t)}}It(t6,et,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let o=Dn(i,e)&&i[e],s,a;return o?o.value.stamp<n.stamp&&(o.init(n),this.activate(o)):(a=r||(a=this._group[e])&&a.tuple,s=n.dataflow,o=new PK(n.fork(n.NO_SOURCE),this),s.add(o).connect(t(s,e,a)),i[e]=o,this.activate(o)),o},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&t[i]!=null;++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,o=this._keys,s=e.modified("key"),a=l=>this.subflow(l,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,l=>{const u=mn(l),c=o.get(u);c!==void 0&&(o.delete(u),a(c).rem(l))}),t.visit(t.ADD,l=>{const u=r(l);o.set(mn(l),u),a(u).add(l)}),s||t.modified(r.fields)?t.visit(t.MOD,l=>{const u=mn(l),c=o.get(u),d=r(l);c===d?a(d).mod(l):(o.set(u,d),a(c).rem(l),a(d).add(l))}):t.changed(t.MOD)&&t.visit(t.MOD,l=>{a(o.get(mn(l))).mod(l)}),s&&t.visit(t.REFLOW,l=>{const u=mn(l),c=o.get(u),d=r(l);c!==d&&(o.set(u,d),a(c).rem(l),a(d).add(l))}),t.clean()?n.runAfter(()=>{this.clean(),o.clean()}):o.empty>n.cleanThreshold&&n.runAfter(o.clean),t}});function j2e(e){Ci.call(this,null,_vt,e)}It(j2e,Ci);function _vt(e){return this.value&&!e.modified()?this.value:cn(e.name)?wn(e.name).map(t=>Nc(t)):Nc(e.name,e.as)}function OK(e){et.call(this,xC(),e)}OK.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};It(OK,et,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),o=i.add,s=i.rem,a=i.mod,l=e.expr;let u=!0;t.visit(t.REM,d=>{const f=mn(d);r.has(f)?r.delete(f):s.push(d)}),t.visit(t.ADD,d=>{l(d,e)?o.push(d):r.set(mn(d),1)});function c(d){const f=mn(d),h=l(d,e),m=r.get(f);h&&m?(r.delete(f),o.push(d)):!h&&!m?(r.set(f,1),s.push(d)):u&&h&&!m&&a.push(d)}return t.visit(t.MOD,c),e.modified()&&(u=!1,t.visit(t.REFLOW,c)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}});function NK(e){et.call(this,[],e)}NK.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};It(NK,et,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=$2e(r,e.as||[]),o=e.index||null,s=i.length;return n.rem=this.value,t.visit(t.SOURCE,a=>{const l=r.map(m=>m(a)),u=l.reduce((m,p)=>Math.max(m,p.length),0);let c=0,d,f,h;for(;c<u;++c){for(f=rK(a),d=0;d<s;++d)f[i[d]]=(h=l[d][c])==null?null:h;o&&(f[o]=c),n.add.push(f)}}),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(i)}});function MK(e){et.call(this,[],e)}MK.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};It(MK,et,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(vo),o=e.as||["key","value"],s=o[0],a=o[1],l=r.length;return n.rem=this.value,t.visit(t.SOURCE,u=>{for(let c=0,d;c<l;++c)d=rK(u),d[s]=i[c],d[a]=r[c](u),n.add.push(d)}),this.value=n.source=n.add,n.modifies(o)}});function $K(e){et.call(this,null,e)}$K.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};It($K,et,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),o=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(o,s=>s[r]=n(s,e))}});function B2e(e){et.call(this,[],e)}It(B2e,et,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i=this.value,o=e.size-i.length,s,a,l;if(o>0){for(s=[];--o>=0;)s.push(l=Zr(r(e))),i.push(l);n.add=n.add.length?n.materialize(n.ADD).add.concat(s):s}else a=i.slice(0,-o),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(a):a,i=i.slice(-o);return n.source=this.value=i,n}});const NR={value:"value",median:fSe,mean:sgt,min:Zz,max:Sv},Evt=[];function LK(e){et.call(this,[],e)}LK.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function Svt(e){var t=e.method||NR.value,n;if(NR[t]==null)it("Unrecognized imputation method: "+t);else return t===NR.value?(n=e.value!==void 0?e.value:0,()=>n):NR[t]}function Tvt(e){const t=e.field;return n=>n?t(n):NaN}It(LK,et,{transform(e,t){var n=t.fork(t.ALL),r=Svt(e),i=Tvt(e),o=vo(e.field),s=vo(e.key),a=(e.groupby||[]).map(vo),l=kvt(t.source,e.groupby,e.key,e.keyvals),u=[],c=this.value,d=l.domain.length,f,h,m,p,g,v,y,w,_,E;for(g=0,w=l.length;g<w;++g)for(f=l[g],m=f.values,h=NaN,y=0;y<d;++y)if(f[y]==null){for(p=l.domain[y],E={_impute:!0},v=0,_=m.length;v<_;++v)E[a[v]]=m[v];E[s]=p,E[o]=Number.isNaN(h)?h=r(f,i):h,u.push(Zr(E))}return u.length&&(n.add=n.materialize(n.ADD).add.concat(u)),c.length&&(n.rem=n.materialize(n.REM).rem.concat(c)),this.value=u,n}});function kvt(e,t,n,r){var i=v=>v(g),o=[],s=r?r.slice():[],a={},l={},u,c,d,f,h,m,p,g;for(s.forEach((v,y)=>a[v]=y+1),f=0,p=e.length;f<p;++f)g=e[f],m=n(g),h=a[m]||(a[m]=s.push(m)),c=(u=t?t.map(i):Evt)+"",(d=l[c])||(d=l[c]=[],o.push(d),d.values=u),d[h-1]=g;return o.domain=s,o}function FK(e){C0.call(this,e)}FK.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:ek},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};It(FK,C0,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,o=>n.add(o))):(i=n.value=n.value||this.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),n.changes(),t.visit(t.SOURCE,o=>{tr(o,i[n.cellkey(o)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function jK(e){et.call(this,null,e)}jK.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};It(jK,et,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=RK(r,e.groupby,e.field),o=(e.groupby||[]).map(vo),s=e.bandwidth,a=e.cumulative?"cdf":"pdf",l=e.as||["value","density"],u=[];let c=e.extent,d=e.steps||e.minsteps||25,f=e.steps||e.maxsteps||200;a!=="pdf"&&a!=="cdf"&&it("Invalid density method: "+a),e.resolve==="shared"&&(c||(c=Sh(r,e.field)),d=f=e.steps||f),i.forEach(h=>{const m=dK(h,s)[a],p=e.counts?h.length:1,g=c||Sh(h);e6(m,g,d,f).forEach(v=>{const y={};for(let w=0;w<o.length;++w)y[o[w]]=h.dims[w];y[l[0]]=v[0],y[l[1]]=v[1]*p,u.push(Zr(y))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function z2e(e){Ci.call(this,null,Avt,e)}It(z2e,Ci);function Avt(e){return this.value&&!e.modified()?this.value:zY(e.fields,e.flat)}function U2e(e){et.call(this,[],e),this._pending=null}It(U2e,et,{transform(e,t){const n=t.dataflow;return this._pending?Aj(this,t,this._pending):Rvt(e)?t.StopPropagation:e.values?Aj(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(i=>(this._pending=wn(i.data),o=>o.touch(this)))}:n.request(e.url,e.format).then(r=>Aj(this,t,wn(r.data)))}});function Rvt(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function Aj(e,t,n){n.forEach(Zr);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function BK(e){et.call(this,{},e)}BK.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};It(BK,et,{transform(e,t){const n=e.fields,r=e.index,i=e.values,o=e.default==null?null:e.default,s=e.modified(),a=n.length;let l=s?t.SOURCE:t.ADD,u=t,c=e.as,d,f,h;return i?(f=i.length,a>1&&!c&&it('Multi-field lookup requires explicit "as" parameter.'),c&&c.length!==a*f&&it('The "as" parameter has too few output field names.'),c=c||i.map(vo),d=function(m){for(var p=0,g=0,v,y;p<a;++p)if(y=r.get(n[p](m)),y==null)for(v=0;v<f;++v,++g)m[c[g]]=o;else for(v=0;v<f;++v,++g)m[c[g]]=i[v](y)}):(c||it("Missing output field names."),d=function(m){for(var p=0,g;p<a;++p)g=r.get(n[p](m)),m[c[p]]=g??o}),s?u=t.reflow(!0):(h=n.some(m=>t.modified(m.fields)),l|=h?t.MOD:0),t.visit(l,d),u.modifies(c)}});function H2e(e){Ci.call(this,null,Ivt,e)}It(H2e,Ci);function Ivt(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,i=-1/0,o,s;for(o=0;o<n;++o)s=t[o],s[0]<r&&(r=s[0]),s[1]>i&&(i=s[1]);return[r,i]}function q2e(e){Ci.call(this,null,Dvt,e)}It(q2e,Ci);function Dvt(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function V2e(e){et.call(this,null,e)}It(V2e,et,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function zK(e){C0.call(this,e)}zK.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:ek,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};It(zK,C0,{_transform:C0.prototype.transform,transform(e,t){return this._transform(Pvt(e,t),t)}});function Pvt(e,t){const n=e.field,r=e.value,i=(e.op==="count"?"__count__":e.op)||"sum",o=Ma(n).concat(Ma(r)),s=Nvt(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:s.map(()=>i),fields:s.map(a=>Ovt(a,n,r,o)),as:s.map(a=>a+""),modified:e.modified.bind(e)}}function Ovt(e,t,n,r){return uu(i=>t(i)===e?n(i):NaN,r,e+"")}function Nvt(e,t,n){const r={},i=[];return n.visit(n.SOURCE,o=>{const s=e(o);r[s]||(r[s]=1,i.push(s))}),i.sort(XT),t?i.slice(0,t):i}function W2e(e){t6.call(this,e)}It(W2e,t6,{transform(e,t){const n=e.subflow,r=e.field,i=o=>this.subflow(mn(o),n,t,o);return(e.modified("field")||r&&t.modified(Ma(r)))&&it("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,o=>{const s=i(o);r(o).forEach(a=>s.mod(a))}),t.visit(t.ADD,o=>{const s=i(o);r(o).forEach(a=>s.add(Zr(a)))}),t.visit(t.REM,o=>{const s=i(o);r(o).forEach(a=>s.rem(a))})):(t.visit(t.MOD,o=>i(o).mod(o)),t.visit(t.ADD,o=>i(o).add(o)),t.visit(t.REM,o=>i(o).rem(o))),t.clean()&&t.runAfter(()=>this.clean()),t}});function UK(e){et.call(this,null,e)}UK.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};It(UK,et,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=$2e(e.fields,e.as||[]),o=r?(a,l)=>Mvt(a,l,r,i):GM;let s;return this.value?s=this.value:(t=t.addAll(),s=this.value={}),t.visit(t.REM,a=>{const l=mn(a);n.rem.push(s[l]),s[l]=null}),t.visit(t.ADD,a=>{const l=o(a,Zr({}));s[mn(a)]=l,n.add.push(l)}),t.visit(t.MOD,a=>{n.mod.push(o(a,s[mn(a)]))}),n}});function Mvt(e,t,n,r){for(let i=0,o=n.length;i<o;++i)t[r[i]]=n[i](e);return t}function G2e(e){et.call(this,null,e)}It(G2e,et,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function HK(e){et.call(this,null,e)}HK.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const $vt=1e-14;It(HK,et,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=t.materialize(t.SOURCE).source,o=RK(i,e.groupby,e.field),s=(e.groupby||[]).map(vo),a=[],l=e.step||.01,u=e.probs||Du(l/2,1-$vt,l),c=u.length;return o.forEach(d=>{const f=sK(d,u);for(let h=0;h<c;++h){const m={};for(let p=0;p<s.length;++p)m[s[p]]=d.dims[p];m[r[0]]=u[h],m[r[1]]=f[h],a.push(Zr(m))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=a,n}});function Y2e(e){et.call(this,null,e)}It(Y2e,et,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,i=>{const o=mn(i);n.rem.push(r[o]),r[o]=null}),t.visit(t.ADD,i=>{const o=rK(i);r[mn(i)]=o,n.add.push(o)}),t.visit(t.MOD,i=>{const o=r[mn(i)];for(const s in i)o[s]=i[s],n.modifies(s);n.mod.push(o)})),n}});function qK(e){et.call(this,[],e),this.count=0}qK.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};It(qK,et,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,o=this.value.reduce((c,d)=>(c[mn(d)]=1,c),{});let s=this.value,a=this.count,l=0;function u(c){let d,f;s.length<i?s.push(c):(f=~~((a+1)*Lc()),f<s.length&&f>=l&&(d=s[f],o[mn(d)]&&n.rem.push(d),s[f]=c)),++a}if(t.rem.length&&(t.visit(t.REM,c=>{const d=mn(c);o[d]&&(o[d]=-1,n.rem.push(c)),--a}),s=s.filter(c=>o[mn(c)]!==-1)),(t.rem.length||r)&&s.length<i&&t.source&&(l=a=s.length,t.visit(t.SOURCE,c=>{o[mn(c)]||u(c)}),l=-1),r&&s.length>i){const c=s.length-i;for(let d=0;d<c;++d)o[mn(s[d])]=-1,n.rem.push(s[d]);s=s.slice(c)}return t.mod.length&&t.visit(t.MOD,c=>{o[mn(c)]&&n.mod.push(c)}),t.add.length&&t.visit(t.ADD,u),(t.add.length||l<0)&&(n.add=s.filter(c=>!o[mn(c)])),this.count=a,this.value=n.source=s,n}});function VK(e){et.call(this,null,e)}VK.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};It(VK,et,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Du(e.start,e.stop,e.step||1).map(i=>{const o={};return o[r]=i,Zr(o)}),n.add=t.add.concat(this.value),n}});function K2e(e){et.call(this,null,e),this.modified(!0)}It(K2e,et,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function WK(e){et.call(this,null,e)}const X2e=["unit0","unit1"];WK.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:YY,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:X2e}]};It(WK,et,{transform(e,t){const n=e.field,r=e.interval!==!1,i=e.timezone==="utc",o=this._floor(e,t),s=(i?TC:SC)(o.unit).offset,a=e.as||X2e,l=a[0],u=a[1],c=o.step;let d=o.start||1/0,f=o.stop||-1/0,h=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(Ma(n)))&&(t=t.reflow(!0),h=t.SOURCE,d=1/0,f=-1/0),t.visit(h,m=>{const p=n(m);let g,v;p==null?(m[l]=null,r&&(m[u]=null)):(m[l]=g=v=o(p),r&&(m[u]=v=s(g,c)),g<d&&(d=g),v>f&&(f=v))}),o.start=d,o.stop=f,t.modifies(r?a:l)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:BSe({extent:e.extent||Sh(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),o=KY(r),s=this.value||{},a=(n?DSe:ISe)(o,i);return a.unit=Er(o),a.units=o,a.step=i,a.start=s.start,a.stop=s.stop,this.value=a}});function Q2e(e){et.call(this,xC(),e)}It(Q2e,et,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,o=a=>i.set(r(a),a);let s=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,o)):t.changed()?(t.visit(t.REM,a=>i.delete(r(a))),t.visit(t.ADD,o)):s=!1,this.modified(s),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}});function J2e(e){et.call(this,null,e)}It(J2e,et,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(Ob(e.sort)):t.source).map(e.field))}});function Lvt(e,t,n,r){const i=I2[e](t,n);return{init:i.init||Mg,update:function(o,s){s[r]=i.next(o)}}}const I2={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=I2.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||it("ntile num must be greater than zero.");const n=I2.cume_dist(),r=n.next;return{init:n.init,next:i=>Math.ceil(t*r(i))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||it("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=Fvt(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};function Fvt(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const jvt=Object.keys(I2);function Z2e(e){const t=wn(e.ops),n=wn(e.fields),r=wn(e.params),i=wn(e.aggregate_params),o=wn(e.as),s=this.outputs=[],a=this.windows=[],l={},u={},c=[],d=[];let f=!0;function h(m){wn(Ma(m)).forEach(p=>l[p]=1)}h(e.sort),t.forEach((m,p)=>{const g=n[p],v=r[p],y=i[p]||null,w=vo(g),_=A2e(m,w,o[p]);if(h(g),s.push(_),Dn(I2,m))a.push(Lvt(m,g,v,_));else{if(g==null&&m!=="count"&&it("Null aggregate field specified."),m==="count"){c.push(_);return}f=!1;let E=u[w];E||(E=u[w]=[],E.field=g,d.push(E)),E.push(R2e(m,y,_))}}),(c.length||d.length)&&(this.cell=Bvt(d,c,f)),this.inputs=Object.keys(l)}const eTe=Z2e.prototype;eTe.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};eTe.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,o=r&&r.length;let s;if(n){for(s=e.p0;s<e.i0;++s)n.rem(i[s]);for(s=e.p1;s<e.i1;++s)n.add(i[s]);n.set(t)}for(s=0;s<o;++s)r[s].update(e,t)};function Bvt(e,t,n){e=e.map(l=>D2e(l,l.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,o=r.agg=Array(i),s=0;s<i;++s)o[s]=new e[s](r);if(r.store)var a=r.data=new _K;return r.add=function(l){if(r.num+=1,!n){a&&a.add(l);for(let u=0;u<i;++u)o[u].add(o[u].get(l),l)}},r.rem=function(l){if(r.num-=1,!n){a&&a.rem(l);for(let u=0;u<i;++u)o[u].rem(o[u].get(l),l)}},r.set=function(l){let u,c;for(a&&a.values(),u=0,c=t.length;u<c;++u)l[t[u]]=r.num;if(!n)for(u=0,c=o.length;u<c;++u)o[u].set(l)},r.init=function(){r.num=0,a&&a.reset();for(let l=0;l<i;++l)o[l].init()},r}function GK(e){et.call(this,{},e),this._mlen=0,this._mods=[]}GK.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:jvt.concat(ek)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};It(GK,et,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=Ob(e.sort),i=cU(e.groupby),o=a=>this.group(i(a));let s=this.state;(!s||n)&&(s=this.state=new Z2e(e)),n||t.modified(s.inputs)?(this.value={},t.visit(t.SOURCE,a=>o(a).add(a))):(t.visit(t.REM,a=>o(a).remove(a)),t.visit(t.ADD,a=>o(a).add(a)));for(let a=0,l=this._mlen;a<l;++a)zvt(this._mods[a],s,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(s.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=P2e(mn),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function zvt(e,t,n,r){const i=r.sort,o=i&&!r.ignorePeers,s=r.frame||[null,0],a=e.data(n),l=a.length,u=o?CC(i):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:a,compare:i||Ua(-1)};t.init();for(let d=0;d<l;++d)Uvt(c,s,d,l),o&&Hvt(c,u),t.update(c,a[d])}function Uvt(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function Hvt(e,t){const n=e.i0,r=e.i1-1,i=e.compare,o=e.data,s=o.length-1;n>0&&!i(o[n],o[n-1])&&(e.i0=t.left(o,o[n])),r<s&&!i(o[r],o[r+1])&&(e.i1=t.right(o,o[r]))}const qvt=Object.freeze(Object.defineProperty({__proto__:null,aggregate:C0,bin:EK,collect:SK,compare:O2e,countpattern:TK,cross:kK,density:AK,dotbin:IK,expression:F2e,extent:DK,facet:t6,field:j2e,filter:OK,flatten:NK,fold:MK,formula:$K,generate:B2e,impute:LK,joinaggregate:FK,kde:jK,key:z2e,load:U2e,lookup:BK,multiextent:H2e,multivalues:q2e,params:V2e,pivot:zK,prefacet:W2e,project:UK,proxy:G2e,quantile:HK,relay:Y2e,sample:qK,sequence:VK,sieve:K2e,subflow:PK,timeunit:WK,tupleindex:Q2e,values:J2e,window:GK},Symbol.toStringTag,{value:"Module"}));function ei(e){return function(){return e}}const Kue=Math.abs,wa=Math.atan2,Ey=Math.cos,Vvt=Math.max,Rj=Math.min,Ff=Math.sin,dv=Math.sqrt,Ea=1e-12,gx=Math.PI,gO=gx/2,tTe=2*gx;function Wvt(e){return e>1?0:e<-1?gx:Math.acos(e)}function Xue(e){return e>=1?gO:e<=-1?-gO:Math.asin(e)}const dU=Math.PI,fU=2*dU,Gy=1e-6,Gvt=fU-Gy;function nTe(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Yvt(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return nTe;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let YK=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?nTe:Yvt(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-t,u=i-n,c=s-t,d=a-n,f=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>Gy)if(!(Math.abs(d*l-u*c)>Gy)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-s,m=i-a,p=l*l+u*u,g=h*h+m*m,v=Math.sqrt(p),y=Math.sqrt(f),w=o*Math.tan((dU-Math.acos((p+f-g)/(2*v*y)))/2),_=w/y,E=w/v;Math.abs(_-1)>Gy&&this._append`L${t+_*c},${n+_*d}`,this._append`A${o},${o},0,0,${+(d*h>c*m)},${this._x1=t+E*l},${this._y1=n+E*u}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=t+a,c=n+l,d=1^s,f=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Gy||Math.abs(this._y1-c)>Gy)&&this._append`L${u},${c}`,r&&(f<0&&(f=f%fU+fU),f>Gvt?this._append`A${r},${r},0,1,${d},${t-a},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:f>Gy&&this._append`A${r},${r},0,${+(f>=dU)},${d},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function n6(){return new YK}n6.prototype=YK.prototype;function r6(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new YK(t)}function Kvt(e){return e.innerRadius}function Xvt(e){return e.outerRadius}function Qvt(e){return e.startAngle}function Jvt(e){return e.endAngle}function Zvt(e){return e&&e.padAngle}function ebt(e,t,n,r,i,o,s,a){var l=n-e,u=r-t,c=s-i,d=a-o,f=d*l-c*u;if(!(f*f<Ea))return f=(c*(t-o)-d*(e-i))/f,[e+f*l,t+f*u]}function MR(e,t,n,r,i,o,s){var a=e-n,l=t-r,u=(s?o:-o)/dv(a*a+l*l),c=u*l,d=-u*a,f=e+c,h=t+d,m=n+c,p=r+d,g=(f+m)/2,v=(h+p)/2,y=m-f,w=p-h,_=y*y+w*w,E=i-o,S=f*p-m*h,T=(w<0?-1:1)*dv(Vvt(0,E*E*_-S*S)),k=(S*w-y*T)/_,R=(-S*y-w*T)/_,I=(S*w+y*T)/_,P=(-S*y+w*T)/_,N=k-g,M=R-v,O=I-g,j=P-v;return N*N+M*M>O*O+j*j&&(k=I,R=P),{cx:k,cy:R,x01:-c,y01:-d,x11:k*(i/E-1),y11:R*(i/E-1)}}function tbt(){var e=Kvt,t=Xvt,n=ei(0),r=null,i=Qvt,o=Jvt,s=Zvt,a=null,l=r6(u);function u(){var c,d,f=+e.apply(this,arguments),h=+t.apply(this,arguments),m=i.apply(this,arguments)-gO,p=o.apply(this,arguments)-gO,g=Kue(p-m),v=p>m;if(a||(a=c=l()),h<f&&(d=h,h=f,f=d),!(h>Ea))a.moveTo(0,0);else if(g>tTe-Ea)a.moveTo(h*Ey(m),h*Ff(m)),a.arc(0,0,h,m,p,!v),f>Ea&&(a.moveTo(f*Ey(p),f*Ff(p)),a.arc(0,0,f,p,m,v));else{var y=m,w=p,_=m,E=p,S=g,T=g,k=s.apply(this,arguments)/2,R=k>Ea&&(r?+r.apply(this,arguments):dv(f*f+h*h)),I=Rj(Kue(h-f)/2,+n.apply(this,arguments)),P=I,N=I,M,O;if(R>Ea){var j=Xue(R/f*Ff(k)),U=Xue(R/h*Ff(k));(S-=j*2)>Ea?(j*=v?1:-1,_+=j,E-=j):(S=0,_=E=(m+p)/2),(T-=U*2)>Ea?(U*=v?1:-1,y+=U,w-=U):(T=0,y=w=(m+p)/2)}var q=h*Ey(y),W=h*Ff(y),V=f*Ey(E),z=f*Ff(E);if(I>Ea){var L=h*Ey(w),H=h*Ff(w),B=f*Ey(_),Y=f*Ff(_),Q;if(g<gx)if(Q=ebt(q,W,B,Y,L,H,V,z)){var ne=q-Q[0],ce=W-Q[1],le=L-Q[0],ue=H-Q[1],ae=1/Ff(Wvt((ne*le+ce*ue)/(dv(ne*ne+ce*ce)*dv(le*le+ue*ue)))/2),te=dv(Q[0]*Q[0]+Q[1]*Q[1]);P=Rj(I,(f-te)/(ae-1)),N=Rj(I,(h-te)/(ae+1))}else P=N=0}T>Ea?N>Ea?(M=MR(B,Y,q,W,h,N,v),O=MR(L,H,V,z,h,N,v),a.moveTo(M.cx+M.x01,M.cy+M.y01),N<I?a.arc(M.cx,M.cy,N,wa(M.y01,M.x01),wa(O.y01,O.x01),!v):(a.arc(M.cx,M.cy,N,wa(M.y01,M.x01),wa(M.y11,M.x11),!v),a.arc(0,0,h,wa(M.cy+M.y11,M.cx+M.x11),wa(O.cy+O.y11,O.cx+O.x11),!v),a.arc(O.cx,O.cy,N,wa(O.y11,O.x11),wa(O.y01,O.x01),!v))):(a.moveTo(q,W),a.arc(0,0,h,y,w,!v)):a.moveTo(q,W),!(f>Ea)||!(S>Ea)?a.lineTo(V,z):P>Ea?(M=MR(V,z,L,H,f,-P,v),O=MR(q,W,B,Y,f,-P,v),a.lineTo(M.cx+M.x01,M.cy+M.y01),P<I?a.arc(M.cx,M.cy,P,wa(M.y01,M.x01),wa(O.y01,O.x01),!v):(a.arc(M.cx,M.cy,P,wa(M.y01,M.x01),wa(M.y11,M.x11),!v),a.arc(0,0,f,wa(M.cy+M.y11,M.cx+M.x11),wa(O.cy+O.y11,O.cx+O.x11),v),a.arc(O.cx,O.cy,P,wa(O.y11,O.x11),wa(O.y01,O.x01),!v))):a.arc(0,0,f,E,_,v)}if(a.closePath(),c)return a=null,c+""||null}return u.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-gx/2;return[Ey(d)*c,Ff(d)*c]},u.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:ei(+c),u):e},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:ei(+c),u):t},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:ei(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:ei(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:ei(+c),u):i},u.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:ei(+c),u):o},u.padAngle=function(c){return arguments.length?(s=typeof c=="function"?c:ei(+c),u):s},u.context=function(c){return arguments.length?(a=c??null,u):a},u}function rTe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function iTe(e){this._context=e}iTe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function KK(e){return new iTe(e)}function oTe(e){return e[0]}function sTe(e){return e[1]}function aTe(e,t){var n=ei(!0),r=null,i=KK,o=null,s=r6(a);e=typeof e=="function"?e:e===void 0?oTe:ei(e),t=typeof t=="function"?t:t===void 0?sTe:ei(t);function a(l){var u,c=(l=rTe(l)).length,d,f=!1,h;for(r==null&&(o=i(h=s())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(d,u,l),+t(d,u,l));if(h)return o=null,h+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:ei(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:ei(+l),a):t},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ei(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function lTe(e,t,n){var r=null,i=ei(!0),o=null,s=KK,a=null,l=r6(u);e=typeof e=="function"?e:e===void 0?oTe:ei(+e),t=typeof t=="function"?t:ei(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?sTe:ei(+n);function u(d){var f,h,m,p=(d=rTe(d)).length,g,v=!1,y,w=new Array(p),_=new Array(p);for(o==null&&(a=s(y=l())),f=0;f<=p;++f){if(!(f<p&&i(g=d[f],f,d))===v)if(v=!v)h=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),m=f-1;m>=h;--m)a.point(w[m],_[m]);a.lineEnd(),a.areaEnd()}v&&(w[f]=+e(g,f,d),_[f]=+t(g,f,d),a.point(r?+r(g,f,d):w[f],n?+n(g,f,d):_[f]))}if(y)return a=null,y+""||null}function c(){return aTe().defined(i).curve(s).context(o)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:ei(+d),r=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:ei(+d),u):e},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:ei(+d),u):r},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:ei(+d),n=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:ei(+d),u):t},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:ei(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:ei(!!d),u):i},u.curve=function(d){return arguments.length?(s=d,o!=null&&(a=s(o)),u):s},u.context=function(d){return arguments.length?(d==null?o=a=null:a=s(o=d),u):o},u}const nbt={draw(e,t){const n=dv(t/gx);e.moveTo(n,0),e.arc(0,0,n,0,tTe)}};function rbt(e,t){let n=null,r=r6(i);e=typeof e=="function"?e:ei(e||nbt),t=typeof t=="function"?t:ei(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:ei(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:ei(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function _0(){}function yO(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function i6(e){this._context=e}i6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:yO(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:yO(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ibt(e){return new i6(e)}function uTe(e){this._context=e}uTe.prototype={areaStart:_0,areaEnd:_0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:yO(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function obt(e){return new uTe(e)}function cTe(e){this._context=e}cTe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:yO(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sbt(e){return new cTe(e)}function dTe(e,t){this._basis=new i6(e),this._beta=t}dTe.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],o=e[n]-r,s=t[n]-i,a=-1,l;++a<=n;)l=a/n,this._basis.point(this._beta*e[a]+(1-this._beta)*(r+l*o),this._beta*t[a]+(1-this._beta)*(i+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const abt=(function e(t){function n(r){return t===1?new i6(r):new dTe(r,t)}return n.beta=function(r){return e(+r)},n})(.85);function vO(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function XK(e,t){this._context=e,this._k=(1-t)/6}XK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:vO(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:vO(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const lbt=(function e(t){function n(r){return new XK(r,t)}return n.tension=function(r){return e(+r)},n})(0);function QK(e,t){this._context=e,this._k=(1-t)/6}QK.prototype={areaStart:_0,areaEnd:_0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:vO(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ubt=(function e(t){function n(r){return new QK(r,t)}return n.tension=function(r){return e(+r)},n})(0);function JK(e,t){this._context=e,this._k=(1-t)/6}JK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:vO(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const cbt=(function e(t){function n(r){return new JK(r,t)}return n.tension=function(r){return e(+r)},n})(0);function ZK(e,t,n){var r=e._x1,i=e._y1,o=e._x2,s=e._y2;if(e._l01_a>Ea){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Ea){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/c,s=(s*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,o,s,e._x2,e._y2)}function fTe(e,t){this._context=e,this._alpha=t}fTe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:ZK(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const dbt=(function e(t){function n(r){return t?new fTe(r,t):new XK(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function hTe(e,t){this._context=e,this._alpha=t}hTe.prototype={areaStart:_0,areaEnd:_0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:ZK(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const fbt=(function e(t){function n(r){return t?new hTe(r,t):new QK(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function pTe(e,t){this._context=e,this._alpha=t}pTe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ZK(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const hbt=(function e(t){function n(r){return t?new pTe(r,t):new JK(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function mTe(e){this._context=e}mTe.prototype={areaStart:_0,areaEnd:_0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function pbt(e){return new mTe(e)}function Que(e){return e<0?-1:1}function Jue(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(Que(o)+Que(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function Zue(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Ij(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function bO(e){this._context=e}bO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ij(this,this._t0,Zue(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ij(this,Zue(this,n=Jue(this,e,t)),n);break;default:Ij(this,this._t0,n=Jue(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function gTe(e){this._context=new yTe(e)}(gTe.prototype=Object.create(bO.prototype)).point=function(e,t){bO.prototype.point.call(this,t,e)};function yTe(e){this._context=e}yTe.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function mbt(e){return new bO(e)}function gbt(e){return new gTe(e)}function vTe(e){this._context=e}vTe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=ece(e),i=ece(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ece(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function ybt(e){return new vTe(e)}function o6(e,t){this._context=e,this._t=t}o6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function vbt(e){return new o6(e,.5)}function bbt(e){return new o6(e,0)}function wbt(e){return new o6(e,1)}function s0(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const xbt=()=>typeof Image<"u"?Image:null;function Uh(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function G0(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const hU=Symbol("implicit");function eX(){var e=new yue,t=[],n=[],r=hU;function i(o){let s=e.get(o);if(s===void 0){if(r!==hU)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new yue;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return eX(t,n).unknown(r)},Uh.apply(i,arguments),i}function AC(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function tk(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Y0(){}var Wv=.7,yx=1/Wv,Mw="\\s*([+-]?\\d+)\\s*",D2="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Cbt=/^#([0-9a-f]{3,8})$/,_bt=new RegExp(`^rgb\\(${Mw},${Mw},${Mw}\\)$`),Ebt=new RegExp(`^rgb\\(${mh},${mh},${mh}\\)$`),Sbt=new RegExp(`^rgba\\(${Mw},${Mw},${Mw},${D2}\\)$`),Tbt=new RegExp(`^rgba\\(${mh},${mh},${mh},${D2}\\)$`),kbt=new RegExp(`^hsl\\(${D2},${mh},${mh}\\)$`),Abt=new RegExp(`^hsla\\(${D2},${mh},${mh},${D2}\\)$`),tce={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};AC(Y0,Gv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:nce,formatHex:nce,formatHex8:Rbt,formatHsl:Ibt,formatRgb:rce,toString:rce});function nce(){return this.rgb().formatHex()}function Rbt(){return this.rgb().formatHex8()}function Ibt(){return bTe(this).formatHsl()}function rce(){return this.rgb().formatRgb()}function Gv(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Cbt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ice(t):n===3?new ks(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?$R(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?$R(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=_bt.exec(e))?new ks(t[1],t[2],t[3],1):(t=Ebt.exec(e))?new ks(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Sbt.exec(e))?$R(t[1],t[2],t[3],t[4]):(t=Tbt.exec(e))?$R(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=kbt.exec(e))?ace(t[1],t[2]/100,t[3]/100,1):(t=Abt.exec(e))?ace(t[1],t[2]/100,t[3]/100,t[4]):tce.hasOwnProperty(e)?ice(tce[e]):e==="transparent"?new ks(NaN,NaN,NaN,0):null}function ice(e){return new ks(e>>16&255,e>>8&255,e&255,1)}function $R(e,t,n,r){return r<=0&&(e=t=n=NaN),new ks(e,t,n,r)}function tX(e){return e instanceof Y0||(e=Gv(e)),e?(e=e.rgb(),new ks(e.r,e.g,e.b,e.opacity)):new ks}function E0(e,t,n,r){return arguments.length===1?tX(e):new ks(e,t,n,r??1)}function ks(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}AC(ks,E0,tk(Y0,{brighter(e){return e=e==null?yx:Math.pow(yx,e),new ks(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Wv:Math.pow(Wv,e),new ks(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ks(Tv(this.r),Tv(this.g),Tv(this.b),wO(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oce,formatHex:oce,formatHex8:Dbt,formatRgb:sce,toString:sce}));function oce(){return`#${fv(this.r)}${fv(this.g)}${fv(this.b)}`}function Dbt(){return`#${fv(this.r)}${fv(this.g)}${fv(this.b)}${fv((isNaN(this.opacity)?1:this.opacity)*255)}`}function sce(){const e=wO(this.opacity);return`${e===1?"rgb(":"rgba("}${Tv(this.r)}, ${Tv(this.g)}, ${Tv(this.b)}${e===1?")":`, ${e})`}`}function wO(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Tv(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function fv(e){return e=Tv(e),(e<16?"0":"")+e.toString(16)}function ace(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ed(e,t,n,r)}function bTe(e){if(e instanceof Ed)return new Ed(e.h,e.s,e.l,e.opacity);if(e instanceof Y0||(e=Gv(e)),!e)return new Ed;if(e instanceof Ed)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Ed(s,a,l,e.opacity)}function P2(e,t,n,r){return arguments.length===1?bTe(e):new Ed(e,t,n,r??1)}function Ed(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}AC(Ed,P2,tk(Y0,{brighter(e){return e=e==null?yx:Math.pow(yx,e),new Ed(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Wv:Math.pow(Wv,e),new Ed(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ks(Dj(e>=240?e-240:e+120,i,r),Dj(e,i,r),Dj(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ed(lce(this.h),LR(this.s),LR(this.l),wO(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=wO(this.opacity);return`${e===1?"hsl(":"hsla("}${lce(this.h)}, ${LR(this.s)*100}%, ${LR(this.l)*100}%${e===1?")":`, ${e})`}`}}));function lce(e){return e=(e||0)%360,e<0?e+360:e}function LR(e){return Math.max(0,Math.min(1,e||0))}function Dj(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const wTe=Math.PI/180,xTe=180/Math.PI,xO=18,CTe=.96422,_Te=1,ETe=.82521,STe=4/29,$w=6/29,TTe=3*$w*$w,Pbt=$w*$w*$w;function kTe(e){if(e instanceof gh)return new gh(e.l,e.a,e.b,e.opacity);if(e instanceof $p)return ATe(e);e instanceof ks||(e=tX(e));var t=Mj(e.r),n=Mj(e.g),r=Mj(e.b),i=Pj((.2225045*t+.7168786*n+.0606169*r)/_Te),o,s;return t===n&&n===r?o=s=i:(o=Pj((.4360747*t+.3850649*n+.1430804*r)/CTe),s=Pj((.0139322*t+.0971045*n+.7141733*r)/ETe)),new gh(116*i-16,500*(o-i),200*(i-s),e.opacity)}function CO(e,t,n,r){return arguments.length===1?kTe(e):new gh(e,t,n,r??1)}function gh(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}AC(gh,CO,tk(Y0,{brighter(e){return new gh(this.l+xO*(e??1),this.a,this.b,this.opacity)},darker(e){return new gh(this.l-xO*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=CTe*Oj(t),e=_Te*Oj(e),n=ETe*Oj(n),new ks(Nj(3.1338561*t-1.6168667*e-.4906146*n),Nj(-.9787684*t+1.9161415*e+.033454*n),Nj(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function Pj(e){return e>Pbt?Math.pow(e,1/3):e/TTe+STe}function Oj(e){return e>$w?e*e*e:TTe*(e-STe)}function Nj(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Mj(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Obt(e){if(e instanceof $p)return new $p(e.h,e.c,e.l,e.opacity);if(e instanceof gh||(e=kTe(e)),e.a===0&&e.b===0)return new $p(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*xTe;return new $p(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function _O(e,t,n,r){return arguments.length===1?Obt(e):new $p(e,t,n,r??1)}function $p(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function ATe(e){if(isNaN(e.h))return new gh(e.l,0,0,e.opacity);var t=e.h*wTe;return new gh(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}AC($p,_O,tk(Y0,{brighter(e){return new $p(this.h,this.c,this.l+xO*(e??1),this.opacity)},darker(e){return new $p(this.h,this.c,this.l-xO*(e??1),this.opacity)},rgb(){return ATe(this).rgb()}}));var RTe=-.14861,nX=1.78277,rX=-.29227,s6=-.90649,O2=1.97294,uce=O2*s6,cce=O2*nX,dce=nX*rX-s6*RTe;function Nbt(e){if(e instanceof kv)return new kv(e.h,e.s,e.l,e.opacity);e instanceof ks||(e=tX(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(dce*r+uce*t-cce*n)/(dce+uce-cce),o=r-i,s=(O2*(n-i)-rX*o)/s6,a=Math.sqrt(s*s+o*o)/(O2*i*(1-i)),l=a?Math.atan2(s,o)*xTe-120:NaN;return new kv(l<0?l+360:l,a,i,e.opacity)}function pU(e,t,n,r){return arguments.length===1?Nbt(e):new kv(e,t,n,r??1)}function kv(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}AC(kv,pU,tk(Y0,{brighter(e){return e=e==null?yx:Math.pow(yx,e),new kv(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Wv:Math.pow(Wv,e),new kv(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*wTe,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new ks(255*(t+n*(RTe*r+nX*i)),255*(t+n*(rX*r+s6*i)),255*(t+n*(O2*r)),this.opacity)}}));function ITe(e,t,n,r,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*r+s*i)/6}function DTe(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],s=r>0?e[r-1]:2*i-o,a=r<t-1?e[r+2]:2*o-i;return ITe((n-r/t)*t,s,i,o,a)}}function PTe(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],s=e[(r+1)%t],a=e[(r+2)%t];return ITe((n-r/t)*t,i,o,s,a)}}const a6=e=>()=>e;function OTe(e,t){return function(n){return e+n*t}}function Mbt(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function l6(e,t){var n=t-e;return n?OTe(e,n>180||n<-180?n-360*Math.round(n/360):n):a6(isNaN(e)?t:e)}function $bt(e){return(e=+e)==1?As:function(t,n){return n-t?Mbt(t,n,e):a6(isNaN(t)?n:t)}}function As(e,t){var n=t-e;return n?OTe(e,n):a6(isNaN(e)?t:e)}const N2=(function e(t){var n=$bt(t);function r(i,o){var s=n((i=E0(i)).r,(o=E0(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=As(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r})(1);function NTe(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),s,a;for(s=0;s<n;++s)a=E0(t[s]),r[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return r=e(r),i=e(i),o=e(o),a.opacity=1,function(l){return a.r=r(l),a.g=i(l),a.b=o(l),a+""}}}var Lbt=NTe(DTe),Fbt=NTe(PTe);function iX(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function MTe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function jbt(e,t){return(MTe(t)?iX:$Te)(e,t)}function $Te(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=K0(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function LTe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function gc(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function FTe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=K0(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var mU=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$j=new RegExp(mU.source,"g");function Bbt(e){return function(){return e}}function zbt(e){return function(t){return e(t)+""}}function oX(e,t){var n=mU.lastIndex=$j.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=mU.exec(e))&&(i=$j.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:gc(r,i)})),n=$j.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?zbt(l[0].x):Bbt(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}function K0(e,t){var n=typeof t,r;return t==null||n==="boolean"?a6(t):(n==="number"?gc:n==="string"?(r=Gv(t))?(t=r,N2):oX:t instanceof Gv?N2:t instanceof Date?LTe:MTe(t)?iX:Array.isArray(t)?$Te:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?FTe:gc)(e,t)}function Ubt(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function Hbt(e,t){var n=l6(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function nk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var fce=180/Math.PI,gU={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function jTe(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*fce,skewX:Math.atan(l)*fce,scaleX:s,scaleY:a}}var FR;function qbt(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?gU:jTe(t.a,t.b,t.c,t.d,t.e,t.f)}function Vbt(e){return e==null||(FR||(FR=document.createElementNS("http://www.w3.org/2000/svg","g")),FR.setAttribute("transform",e),!(e=FR.transform.baseVal.consolidate()))?gU:(e=e.matrix,jTe(e.a,e.b,e.c,e.d,e.e,e.f))}function BTe(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,d,f,h,m){if(u!==d||c!==f){var p=h.push("translate(",null,t,null,n);m.push({i:p-4,x:gc(u,d)},{i:p-2,x:gc(c,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function s(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:gc(u,c)})):c&&d.push(i(d)+"rotate("+c+r)}function a(u,c,d,f){u!==c?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:gc(u,c)}):c&&d.push(i(d)+"skewX("+c+r)}function l(u,c,d,f,h,m){if(u!==d||c!==f){var p=h.push(i(h)+"scale(",null,",",null,")");m.push({i:p-4,x:gc(u,d)},{i:p-2,x:gc(c,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,d,f),s(u.rotate,c.rotate,d,f),a(u.skewX,c.skewX,d,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(h){for(var m=-1,p=f.length,g;++m<p;)d[(g=f[m]).i]=g.x(h);return d.join("")}}}var zTe=BTe(qbt,"px, ","px)","deg)"),UTe=BTe(Vbt,", ",")",")"),Wbt=1e-12;function hce(e){return((e=Math.exp(e))+1/e)/2}function Gbt(e){return((e=Math.exp(e))-1/e)/2}function Ybt(e){return((e=Math.exp(2*e))-1)/(e+1)}const Kbt=(function e(t,n,r){function i(o,s){var a=o[0],l=o[1],u=o[2],c=s[0],d=s[1],f=s[2],h=c-a,m=d-l,p=h*h+m*m,g,v;if(p<Wbt)v=Math.log(f/u)/t,g=function(T){return[a+T*h,l+T*m,u*Math.exp(t*T*v)]};else{var y=Math.sqrt(p),w=(f*f-u*u+r*p)/(2*u*n*y),_=(f*f-u*u-r*p)/(2*f*n*y),E=Math.log(Math.sqrt(w*w+1)-w),S=Math.log(Math.sqrt(_*_+1)-_);v=(S-E)/t,g=function(T){var k=T*v,R=hce(E),I=u/(n*y)*(R*Ybt(t*k+E)-Gbt(E));return[a+I*h,l+I*m,u*R/hce(t*k+E)]}}return g.duration=v*1e3*t/Math.SQRT2,g}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return e(s,a,l)},i})(Math.SQRT2,2,4);function HTe(e){return function(t,n){var r=e((t=P2(t)).h,(n=P2(n)).h),i=As(t.s,n.s),o=As(t.l,n.l),s=As(t.opacity,n.opacity);return function(a){return t.h=r(a),t.s=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const Xbt=HTe(l6);var Qbt=HTe(As);function Jbt(e,t){var n=As((e=CO(e)).l,(t=CO(t)).l),r=As(e.a,t.a),i=As(e.b,t.b),o=As(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=o(s),e+""}}function qTe(e){return function(t,n){var r=e((t=_O(t)).h,(n=_O(n)).h),i=As(t.c,n.c),o=As(t.l,n.l),s=As(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const Zbt=qTe(l6);var e1t=qTe(As);function VTe(e){return(function t(n){n=+n;function r(i,o){var s=e((i=pU(i)).h,(o=pU(o)).h),a=As(i.s,o.s),l=As(i.l,o.l),u=As(i.opacity,o.opacity);return function(c){return i.h=s(c),i.s=a(c),i.l=l(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=t,r})(1)}const t1t=VTe(l6);var n1t=VTe(As);function sX(e,t){t===void 0&&(t=e,e=K0);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function r1t(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const i1t=Object.freeze(Object.defineProperty({__proto__:null,interpolate:K0,interpolateArray:jbt,interpolateBasis:DTe,interpolateBasisClosed:PTe,interpolateCubehelix:t1t,interpolateCubehelixLong:n1t,interpolateDate:LTe,interpolateDiscrete:Ubt,interpolateHcl:Zbt,interpolateHclLong:e1t,interpolateHsl:Xbt,interpolateHslLong:Qbt,interpolateHue:Hbt,interpolateLab:Jbt,interpolateNumber:gc,interpolateNumberArray:iX,interpolateObject:FTe,interpolateRgb:N2,interpolateRgbBasis:Lbt,interpolateRgbBasisClosed:Fbt,interpolateRound:nk,interpolateString:oX,interpolateTransformCss:zTe,interpolateTransformSvg:UTe,interpolateZoom:Kbt,piecewise:sX,quantize:r1t},Symbol.toStringTag,{value:"Module"}));function o1t(e){return function(){return e}}function yU(e){return+e}var pce=[0,1];function Gl(e){return e}function vU(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:o1t(isNaN(t)?NaN:.5)}function s1t(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function a1t(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=vU(i,r),o=n(s,o)):(r=vU(r,i),o=n(o,s)),function(a){return o(r(a))}}function l1t(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=vU(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var l=w0(e,a,1,r)-1;return o[l](i[l](a))}}function rk(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function u6(){var e=pce,t=pce,n=K0,r,i,o,s=Gl,a,l,u;function c(){var f=Math.min(e.length,t.length);return s!==Gl&&(s=s1t(e[0],e[f-1])),a=f>2?l1t:a1t,l=u=null,d}function d(f){return f==null||isNaN(f=+f)?o:(l||(l=a(e.map(r),t,n)))(r(s(f)))}return d.invert=function(f){return s(i((u||(u=a(t,e.map(r),gc)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,yU),c()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),c()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),n=nk,c()},d.clamp=function(f){return arguments.length?(s=f?!0:Gl,c()):s!==Gl},d.interpolate=function(f){return arguments.length?(n=f,c()):n},d.unknown=function(f){return arguments.length?(o=f,d):o},function(f,h){return r=f,i=h,c()}}function WTe(){return u6()(Gl,Gl)}function GTe(e,t,n,r){var i=x0(e,t,n),o;switch(r=Vv(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=vSe(i,s))&&(r.precision=o),WY(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=bSe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=ySe(i))&&(r.precision=o-(r.type==="%")*2);break}}return FM(r)}function Mb(e){var t=e.domain;return e.ticks=function(n){var r=t();return Qz(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return GTe(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=Jz(s,a,n),u===l)return r[i]=s,r[o]=a,t(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return e},e}function Yv(){var e=WTe();return e.copy=function(){return rk(e,Yv())},Uh.apply(e,arguments),Mb(e)}function YTe(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,yU),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return YTe(e).unknown(t)},e=arguments.length?Array.from(e,yU):[0,1],Mb(n)}function KTe(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function mce(e){return Math.log(e)}function gce(e){return Math.exp(e)}function u1t(e){return-Math.log(-e)}function c1t(e){return-Math.exp(-e)}function d1t(e){return isFinite(e)?+("1e"+e):e<0?0:e}function f1t(e){return e===10?d1t:e===Math.E?Math.exp:t=>Math.pow(e,t)}function h1t(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function yce(e){return(t,n)=>-e(-t,n)}function aX(e){const t=e(mce,gce),n=t.domain;let r=10,i,o;function s(){return i=h1t(r),o=f1t(r),n()[0]<0?(i=yce(i),o=yce(o),e(u1t,c1t)):e(mce,gce),t}return t.base=function(a){return arguments.length?(r=+a,s()):r},t.domain=function(a){return arguments.length?(n(a),s()):n()},t.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let f=i(u),h=i(c),m,p;const g=a==null?10:+a;let v=[];if(!(r%1)&&h-f<g){if(f=Math.floor(f),h=Math.ceil(h),u>0){for(;f<=h;++f)for(m=1;m<r;++m)if(p=f<0?m/o(-f):m*o(f),!(p<u)){if(p>c)break;v.push(p)}}else for(;f<=h;++f)for(m=r-1;m>=1;--m)if(p=f>0?m/o(-f):m*o(f),!(p<u)){if(p>c)break;v.push(p)}v.length*2<g&&(v=Qz(u,c,g))}else v=Qz(f,h,Math.min(h-f,g)).map(o);return d?v.reverse():v},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Vv(l)).precision==null&&(l.trim=!0),l=FM(l)),a===1/0)return l;const u=Math.max(1,r*a/t.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},t.nice=()=>n(KTe(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),t}function XTe(){const e=aX(u6()).domain([1,10]);return e.copy=()=>rk(e,XTe()).base(e.base()),Uh.apply(e,arguments),e}function vce(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function bce(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function lX(e){var t=1,n=e(vce(t),bce(t));return n.constant=function(r){return arguments.length?e(vce(t=+r),bce(t)):t},Mb(n)}function QTe(){var e=lX(u6());return e.copy=function(){return rk(e,QTe()).constant(e.constant())},Uh.apply(e,arguments)}function wce(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function p1t(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function m1t(e){return e<0?-e*e:e*e}function uX(e){var t=e(Gl,Gl),n=1;function r(){return n===1?e(Gl,Gl):n===.5?e(p1t,m1t):e(wce(n),wce(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Mb(t)}function cX(){var e=uX(u6());return e.copy=function(){return rk(e,cX()).exponent(e.exponent())},Uh.apply(e,arguments),e}function g1t(){return cX.apply(null,arguments).exponent(.5)}function JTe(){var e=[],t=[],n=[],r;function i(){var s=0,a=Math.max(1,t.length);for(n=new Array(a-1);++s<a;)n[s-1]=dSe(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:t[w0(n,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Gp),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return JTe().domain(e).range(t).unknown(r)},Uh.apply(o,arguments)}function ZTe(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[w0(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return ZTe().domain([e,t]).range(i).unknown(o)},Uh.apply(Mb(s),arguments)}function eke(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[w0(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return eke().domain(e).range(t).unknown(n)},Uh.apply(i,arguments)}function y1t(e){return new Date(e)}function v1t(e){return e instanceof Date?+e:+new Date(+e)}function dX(e,t,n,r,i,o,s,a,l,u){var c=WTe(),d=c.invert,f=c.domain,h=u(".%L"),m=u(":%S"),p=u("%I:%M"),g=u("%I %p"),v=u("%a %d"),y=u("%b %d"),w=u("%B"),_=u("%Y");function E(S){return(l(S)<S?h:a(S)<S?m:s(S)<S?p:o(S)<S?g:r(S)<S?i(S)<S?v:y:n(S)<S?w:_)(S)}return c.invert=function(S){return new Date(d(S))},c.domain=function(S){return arguments.length?f(Array.from(S,v1t)):f().map(y1t)},c.ticks=function(S){var T=f();return e(T[0],T[T.length-1],S??10)},c.tickFormat=function(S,T){return T==null?E:u(T)},c.nice=function(S){var T=f();return(!S||typeof S.range!="function")&&(S=t(T[0],T[T.length-1],S??10)),S?f(KTe(T,S)):c},c.copy=function(){return rk(c,dX(e,t,n,r,i,o,s,a,l,u))},c}function b1t(){return Uh.apply(dX(Agt,Rgt,Th,T2,_C,Yp,zM,jM,Mp,QY).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function w1t(){return Uh.apply(dX(Tgt,kgt,kh,k2,EC,i0,UM,BM,Mp,JY).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function c6(){var e=0,t=1,n,r,i,o,s=Gl,a=!1,l;function u(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(o(d)-n)*i,a?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(d){return arguments.length?(a=!!d,u):a},u.interpolator=function(d){return arguments.length?(s=d,u):s};function c(d){return function(f){var h,m;return arguments.length?([h,m]=f,s=d(h,m),u):[s(0),s(1)]}}return u.range=c(K0),u.rangeRound=c(nk),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(e),r=d(t),i=n===r?0:1/(r-n),u}}function X0(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function fX(){var e=Mb(c6()(Gl));return e.copy=function(){return X0(e,fX())},G0.apply(e,arguments)}function tke(){var e=aX(c6()).domain([1,10]);return e.copy=function(){return X0(e,tke()).base(e.base())},G0.apply(e,arguments)}function nke(){var e=lX(c6());return e.copy=function(){return X0(e,nke()).constant(e.constant())},G0.apply(e,arguments)}function hX(){var e=uX(c6());return e.copy=function(){return X0(e,hX()).exponent(e.exponent())},G0.apply(e,arguments)}function x1t(){return hX.apply(null,arguments).exponent(.5)}function d6(){var e=0,t=.5,n=1,r=1,i,o,s,a,l,u=Gl,c,d=!1,f;function h(p){return isNaN(p=+p)?f:(p=.5+((p=+c(p))-o)*(r*p<r*o?a:l),u(d?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([e,t,n]=p,i=c(e=+e),o=c(t=+t),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,h):[e,t,n]},h.clamp=function(p){return arguments.length?(d=!!p,h):d},h.interpolator=function(p){return arguments.length?(u=p,h):u};function m(p){return function(g){var v,y,w;return arguments.length?([v,y,w]=g,u=sX(p,[v,y,w]),h):[u(0),u(.5),u(1)]}}return h.range=m(K0),h.rangeRound=m(nk),h.unknown=function(p){return arguments.length?(f=p,h):f},function(p){return c=p,i=p(e),o=p(t),s=p(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,h}}function rke(){var e=Mb(d6()(Gl));return e.copy=function(){return X0(e,rke())},G0.apply(e,arguments)}function ike(){var e=aX(d6()).domain([.1,1,10]);return e.copy=function(){return X0(e,ike()).base(e.base())},G0.apply(e,arguments)}function oke(){var e=lX(d6());return e.copy=function(){return X0(e,oke()).constant(e.constant())},G0.apply(e,arguments)}function pX(){var e=uX(d6());return e.copy=function(){return X0(e,pX()).exponent(e.exponent())},G0.apply(e,arguments)}function C1t(){return pX.apply(null,arguments).exponent(.5)}function Hh(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const _1t=Hh("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),E1t=Hh("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),S1t=Hh("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),T1t=Hh("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),k1t=Hh("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),A1t=Hh("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),R1t=Hh("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),I1t=Hh("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),D1t=Hh("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),P1t=Hh("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function mX(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const O1t="identity",vx="linear",hm="log",ik="pow",ok="sqrt",f6="symlog",Kv="time",Xv="utc",yh="sequential",RC="diverging",bx="quantile",h6="quantize",p6="threshold",gX="ordinal",bU="point",ske="band",yX="bin-ordinal",fs="continuous",sk="discrete",ak="discretizing",Kc="interpolating",vX="temporal";function N1t(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function M1t(e){return function(t){const n=e.range();let r=t[0],i=t[1],o=-1,s,a,l,u;for(i<r&&(a=r,r=i,i=a),l=0,u=n.length;l<u;++l)n[l]>=r&&n[l]<=i&&(o<0&&(o=l),s=l);if(!(o<0))return r=e.invertExtent(n[o]),i=e.invertExtent(n[s]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function bX(){const e=eX().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,o,s=!1,a=0,l=0,u=.5;delete e.unknown;function c(){const d=t().length,f=r[1]<r[0],h=r[1-f],m=mX(d,a,l);let p=r[f-0];i=(h-p)/(m||1),s&&(i=Math.floor(i)),p+=(h-p-i*(d-a))*u,o=i*(1-a),s&&(p=Math.round(p),o=Math.round(o));const g=Du(d).map(v=>p+i*v);return n(f?g.reverse():g)}return e.domain=function(d){return arguments.length?(t(d),c()):t()},e.range=function(d){return arguments.length?(r=[+d[0],+d[1]],c()):r.slice()},e.rangeRound=function(d){return r=[+d[0],+d[1]],s=!0,c()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(d){return arguments.length?(s=!!d,c()):s},e.padding=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),a=l,c()):a},e.paddingInner=function(d){return arguments.length?(a=Math.max(0,Math.min(1,d)),c()):a},e.paddingOuter=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),c()):l},e.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),c()):u},e.invertRange=function(d){if(d[0]==null||d[1]==null)return;const f=r[1]<r[0],h=f?n().reverse():n(),m=h.length-1;let p=+d[0],g=+d[1],v,y,w;if(!(p!==p||g!==g)&&(g<p&&(w=p,p=g,g=w),!(g<h[0]||p>r[1-f])))return v=Math.max(0,w0(h,p)-1),y=p===g?v:w0(h,g)-1,p-h[v]>o+1e-10&&++v,f&&(w=v,v=m-y,y=m-w),v>y?void 0:t().slice(v,y+1)},e.invert=function(d){const f=e.invertRange([d,d]);return f&&f[0]},e.copy=function(){return bX().domain(t()).range(r).round(s).paddingInner(a).paddingOuter(l).align(u)},c()}function ake(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return ake(t())},e}function $1t(){return ake(bX().paddingInner(1))}var L1t=Array.prototype.map;function F1t(e){return L1t.call(e,Pa)}const j1t=Array.prototype.slice;function lke(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(w0(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=F1t(r),n):e.slice()},n.range=function(r){return arguments.length?(t=j1t.call(r),n):t.slice()},n.tickFormat=function(r,i){return GTe(e[0],Er(e),r??10,i)},n.copy=function(){return lke().domain(n.domain()).range(n.range())},n}const EO=new Map,uke=Symbol("vega_scale");function cke(e){return e[uke]=!0,e}function xce(e){return e&&e[uke]===!0}function B1t(e,t,n){const r=function(){const o=t();return o.invertRange||(o.invertRange=o.invert?N1t(o):o.invertExtent?M1t(o):void 0),o.type=e,cke(o)};return r.metadata=Kd(wn(n)),r}function Gr(e,t,n){return arguments.length>1?(EO.set(e,B1t(e,t,n)),this):dke(e)?EO.get(e):void 0}Gr(O1t,YTe);Gr(vx,Yv,fs);Gr(hm,XTe,[fs,hm]);Gr(ik,cX,fs);Gr(ok,g1t,fs);Gr(f6,QTe,fs);Gr(Kv,b1t,[fs,vX]);Gr(Xv,w1t,[fs,vX]);Gr(yh,fX,[fs,Kc]);Gr(`${yh}-${vx}`,fX,[fs,Kc]);Gr(`${yh}-${hm}`,tke,[fs,Kc,hm]);Gr(`${yh}-${ik}`,hX,[fs,Kc]);Gr(`${yh}-${ok}`,x1t,[fs,Kc]);Gr(`${yh}-${f6}`,nke,[fs,Kc]);Gr(`${RC}-${vx}`,rke,[fs,Kc]);Gr(`${RC}-${hm}`,ike,[fs,Kc,hm]);Gr(`${RC}-${ik}`,pX,[fs,Kc]);Gr(`${RC}-${ok}`,C1t,[fs,Kc]);Gr(`${RC}-${f6}`,oke,[fs,Kc]);Gr(bx,JTe,[ak,bx]);Gr(h6,ZTe,ak);Gr(p6,eke,ak);Gr(yX,lke,[sk,ak]);Gr(gX,eX,sk);Gr(ske,bX,sk);Gr(bU,$1t,sk);function dke(e){return EO.has(e)}function $b(e,t){const n=EO.get(e);return n&&n.metadata[t]}function wX(e){return $b(e,fs)}function wx(e){return $b(e,sk)}function wU(e){return $b(e,ak)}function fke(e){return $b(e,hm)}function z1t(e){return $b(e,vX)}function hke(e){return $b(e,Kc)}function pke(e){return $b(e,bx)}const U1t=["clamp","base","constant","exponent"];function mke(e,t){const n=t[0],r=Er(t)-n;return function(i){return e(n+i*r)}}function m6(e,t,n){return sX(xX(t||"rgb",n),e)}function gke(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function yke(e,t,n){const r=n-t;let i,o,s;return!r||!Number.isFinite(r)?Ua(.5):(i=(o=e.type).indexOf("-"),o=i<0?o:o.slice(i+1),s=Gr(o)().domain([t,n]).range([0,1]),U1t.forEach(a=>e[a]?s[a](e[a]()):0),s)}function xX(e,t){const n=i1t[H1t(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function H1t(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const q1t={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},V1t={accent:E1t,category10:_1t,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:S1t,observable10:T1t,paired:k1t,pastel1:A1t,pastel2:R1t,set1:I1t,set2:D1t,set3:P1t,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function vke(e){if(cn(e))return e;const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function bke(e,t){for(const n in e)CX(n,t(e[n]))}const Cce={};bke(V1t,vke);bke(q1t,e=>m6(vke(e)));function CX(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(Cce[e]=t,this):Cce[e]}const SP="symbol",W1t="discrete",G1t="gradient",Y1t=e=>cn(e)?e.map(t=>String(t)):String(e),K1t=(e,t)=>e[1]-t[1],X1t=(e,t)=>t[1]-e[1];function _X(e,t,n){let r;return b0(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(QT(e.domain())/n||1)+1))),Gn(t)&&(r=t.step,t=t.interval),Vr(t)&&(t=e.type===Kv?SC(t):e.type==Xv?TC(t):it("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function wke(e,t,n){let r=e.range(),i=r[0],o=Er(r),s=K1t;if(i>o&&(r=o,o=i,i=r,s=X1t),i=Math.floor(i),o=Math.ceil(o),t=t.map(a=>[a,e(a)]).filter(a=>i<=a[1]&&a[1]<=o).sort(s).map(a=>a[0]),n>0&&t.length>1){const a=[t[0],Er(t)];for(;t.length>n&&t.length>=3;)t=t.filter((l,u)=>!(u%2));t.length<3&&(t=a)}return t}function EX(e,t){return e.bins?wke(e,e.bins,t):e.ticks?e.ticks(t):e.domain()}function xke(e,t,n,r,i,o){const s=t.type;let a=Y1t;if(s===Kv||i===Kv)a=e.timeFormat(r);else if(s===Xv||i===Xv)a=e.utcFormat(r);else if(fke(s)){const l=e.formatFloat(r);if(o||t.bins)a=l;else{const u=Cke(t,n,!1);a=c=>u(c)?l(c):""}}else if(t.tickFormat){const l=t.domain();a=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(a=e.format(r));return a}function Cke(e,t,n){const r=EX(e,t),i=e.base(),o=Math.log(i),s=Math.max(1,i*t/r.length),a=l=>{let u=l/Math.pow(i,Math.round(Math.log(l)/o));return u*i<i-.5&&(u*=i),u<=s};return n?r.filter(a):a}const xU={[bx]:"quantiles",[h6]:"thresholds",[p6]:"domain"},_ke={[bx]:"quantiles",[h6]:"domain"};function Eke(e,t){return e.bins?Z1t(e.bins):e.type===hm?Cke(e,t,!0):xU[e.type]?J1t(e[xU[e.type]]()):EX(e,t)}function Q1t(e,t,n){const r=t[_ke[t.type]](),i=r.length;let o=i>1?r[1]-r[0]:r[0],s;for(s=1;s<i;++s)o=Math.min(o,r[s]-r[s-1]);return e.formatSpan(0,o,30,n)}function J1t(e){const t=[-1/0].concat(e);return t.max=1/0,t}function Z1t(e){const t=e.slice(0,-1);return t.max=Er(e),t}const ewt=e=>xU[e.type]||e.bins;function Ske(e,t,n,r,i,o,s){const a=_ke[t.type]&&o!==Kv&&o!==Xv?Q1t(e,t,i):xke(e,t,n,i,o,s);return r===SP&&ewt(t)?twt(a):r===W1t?nwt(a):rwt(a)}const twt=e=>(t,n,r)=>{const i=_ce(r[n+1],_ce(r.max,1/0)),o=Ece(t,e),s=Ece(i,e);return o&&s?o+"  "+s:s?"< "+s:" "+o},_ce=(e,t)=>e??t,nwt=e=>(t,n)=>n?e(t):null,rwt=e=>t=>e(t),Ece=(e,t)=>Number.isFinite(e)?t(e):null;function iwt(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+Er(t),o=i-r;if(e.type===p6){const s=n?o/n:.1;r-=s,i+=s,o=i-r}return s=>(s-r)/o}function owt(e,t,n,r){const i=r||t.type;return Vr(n)&&z1t(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&i===Kv?e.timeFormat("%A, %d %B %Y, %X"):!n&&i===Xv?e.utcFormat("%A, %d %B %Y, %X UTC"):Ske(e,t,5,null,n,r,!0)}function Tke(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=owt(e,t,n.format,n.formatType);if(wU(t.type)){const o=Eke(t).slice(1).map(i),s=o.length;return`${s} boundar${s===1?"y":"ies"}: ${o.join(", ")}`}else if(wx(t.type)){const o=t.domain(),s=o.length,a=s>r?o.slice(0,r-2).map(i).join(", ")+", ending with "+o.slice(-1).map(i):o.map(i).join(", ");return`${s} value${s===1?"":"s"}: ${a}`}else{const o=t.domain();return`values from ${i(o[0])} to ${i(Er(o))}`}}let kke=0;function swt(){kke=0}const SO="p_";function SX(e){return e&&e.gradient}function Ake(e,t,n){const r=e.gradient;let i=e.id,o=r==="radial"?SO:"";return i||(i=e.id="gradient_"+kke++,r==="radial"?(e.x1=jf(e.x1,.5),e.y1=jf(e.y1,.5),e.r1=jf(e.r1,0),e.x2=jf(e.x2,.5),e.y2=jf(e.y2,.5),e.r2=jf(e.r2,.5),o=SO):(e.x1=jf(e.x1,0),e.y1=jf(e.y1,0),e.x2=jf(e.x2,1),e.y2=jf(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+o+i+")"}function jf(e,t){return e??t}function Rke(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(i,o){return n.push({offset:i,color:o}),r}}}const Sce={basis:{curve:ibt},"basis-closed":{curve:obt},"basis-open":{curve:sbt},bundle:{curve:abt,tension:"beta",value:.85},cardinal:{curve:lbt,tension:"tension",value:0},"cardinal-open":{curve:cbt,tension:"tension",value:0},"cardinal-closed":{curve:ubt,tension:"tension",value:0},"catmull-rom":{curve:dbt,tension:"alpha",value:.5},"catmull-rom-closed":{curve:fbt,tension:"alpha",value:.5},"catmull-rom-open":{curve:hbt,tension:"alpha",value:.5},linear:{curve:KK},"linear-closed":{curve:pbt},monotone:{horizontal:gbt,vertical:mbt},natural:{curve:ybt},step:{curve:vbt},"step-after":{curve:wbt},"step-before":{curve:bbt}};function TX(e,t,n){var r=Dn(Sce,e)&&Sce[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&n!=null&&(i=i[r.tension](n))),i}const awt={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},lwt=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,uwt=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,cwt=/^((\s+,?\s*)|(,\s*))/,dwt=/^[01]/;function xx(e){const t=[];return(e.match(lwt)||[]).forEach(r=>{let i=r[0];const o=i.toLowerCase(),s=awt[o],a=fwt(o,s,r.slice(1).trim()),l=a.length;if(l<s||l&&l%s!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([i,...a.slice(0,s)]),l!==s){o==="m"&&(i=i==="M"?"L":"l");for(let u=s;u<l;u+=s)t.push([i,...a.slice(u,u+s)])}}),t}function fwt(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let o=0;o<t;++o){const s=e==="a"&&(o===3||o===4)?dwt:uwt,a=n.slice(i).match(s);if(a===null)throw Error("Invalid SVG path, incorrect parameter type");i+=a[0].length,r.push(+a[0]);const l=n.slice(i).match(cwt);l!==null&&(i+=l[0].length)}return r}const S0=Math.PI/180,hwt=1e-14,Zy=Math.PI/2,Jf=Math.PI*2,$1=Math.sqrt(3)/2;var Lj={},Fj={},Ike=[].join;function pwt(e,t,n,r,i,o,s,a,l){const u=Ike.call(arguments);if(Lj[u])return Lj[u];const c=s*S0,d=Math.sin(c),f=Math.cos(c);n=Math.abs(n),r=Math.abs(r);const h=f*(a-e)*.5+d*(l-t)*.5,m=f*(l-t)*.5-d*(a-e)*.5;let p=h*h/(n*n)+m*m/(r*r);p>1&&(p=Math.sqrt(p),n*=p,r*=p);const g=f/n,v=d/n,y=-d/r,w=f/r,_=g*a+v*l,E=y*a+w*l,S=g*e+v*t,T=y*e+w*t;let R=1/((S-_)*(S-_)+(T-E)*(T-E))-.25;R<0&&(R=0);let I=Math.sqrt(R);o==i&&(I=-I);const P=.5*(_+S)-I*(T-E),N=.5*(E+T)+I*(S-_),M=Math.atan2(E-N,_-P);let j=Math.atan2(T-N,S-P)-M;j<0&&o===1?j+=Jf:j>0&&o===0&&(j-=Jf);const U=Math.ceil(Math.abs(j/(Zy+.001))),q=[];for(let W=0;W<U;++W){const V=M+W*j/U,z=M+(W+1)*j/U;q[W]=[P,N,V,z,n,r,d,f]}return Lj[u]=q}function mwt(e){const t=Ike.call(e);if(Fj[t])return Fj[t];var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7];const c=u*s,d=-l*a,f=l*s,h=u*a,m=Math.cos(i),p=Math.sin(i),g=Math.cos(o),v=Math.sin(o),y=.5*(o-i),w=Math.sin(y*.5),_=8/3*w*w/Math.sin(y),E=n+m-_*p,S=r+p+_*m,T=n+g,k=r+v,R=T+_*v,I=k-_*g;return Fj[t]=[c*E+d*S,f*E+h*S,c*R+d*I,f*R+h*I,c*T+d*k,f*T+h*k]}const uc=["l",0,0,0,0,0,0,0];function gwt(e,t,n){const r=uc[0]=e[0];if(r==="a"||r==="A")uc[1]=t*e[1],uc[2]=n*e[2],uc[3]=e[3],uc[4]=e[4],uc[5]=e[5],uc[6]=t*e[6],uc[7]=n*e[7];else if(r==="h"||r==="H")uc[1]=t*e[1];else if(r==="v"||r==="V")uc[1]=n*e[1];else for(var i=1,o=e.length;i<o;++i)uc[i]=(i%2==1?t:n)*e[i];return uc}function M2(e,t,n,r,i,o){var s,a=null,l=0,u=0,c=0,d=0,f,h,m,p,g=0,v=0;n==null&&(n=0),r==null&&(r=0),i==null&&(i=1),o==null&&(o=i),e.beginPath&&e.beginPath();for(var y=0,w=t.length;y<w;++y){switch(s=t[y],(i!==1||o!==1)&&(s=gwt(s,i,o)),s[0]){case"l":l+=s[1],u+=s[2],e.lineTo(l+n,u+r);break;case"L":l=s[1],u=s[2],e.lineTo(l+n,u+r);break;case"h":l+=s[1],e.lineTo(l+n,u+r);break;case"H":l=s[1],e.lineTo(l+n,u+r);break;case"v":u+=s[1],e.lineTo(l+n,u+r);break;case"V":u=s[1],e.lineTo(l+n,u+r);break;case"m":l+=s[1],u+=s[2],g=l,v=u,e.moveTo(l+n,u+r);break;case"M":l=s[1],u=s[2],g=l,v=u,e.moveTo(l+n,u+r);break;case"c":f=l+s[5],h=u+s[6],c=l+s[3],d=u+s[4],e.bezierCurveTo(l+s[1]+n,u+s[2]+r,c+n,d+r,f+n,h+r),l=f,u=h;break;case"C":l=s[5],u=s[6],c=s[3],d=s[4],e.bezierCurveTo(s[1]+n,s[2]+r,c+n,d+r,l+n,u+r);break;case"s":f=l+s[3],h=u+s[4],c=2*l-c,d=2*u-d,e.bezierCurveTo(c+n,d+r,l+s[1]+n,u+s[2]+r,f+n,h+r),c=l+s[1],d=u+s[2],l=f,u=h;break;case"S":f=s[3],h=s[4],c=2*l-c,d=2*u-d,e.bezierCurveTo(c+n,d+r,s[1]+n,s[2]+r,f+n,h+r),l=f,u=h,c=s[1],d=s[2];break;case"q":f=l+s[3],h=u+s[4],c=l+s[1],d=u+s[2],e.quadraticCurveTo(c+n,d+r,f+n,h+r),l=f,u=h;break;case"Q":f=s[3],h=s[4],e.quadraticCurveTo(s[1]+n,s[2]+r,f+n,h+r),l=f,u=h,c=s[1],d=s[2];break;case"t":f=l+s[1],h=u+s[2],a[0].match(/[QqTt]/)===null?(c=l,d=u):a[0]==="t"?(c=2*l-m,d=2*u-p):a[0]==="q"&&(c=2*l-c,d=2*u-d),m=c,p=d,e.quadraticCurveTo(c+n,d+r,f+n,h+r),l=f,u=h,c=l+s[1],d=u+s[2];break;case"T":f=s[1],h=s[2],c=2*l-c,d=2*u-d,e.quadraticCurveTo(c+n,d+r,f+n,h+r),l=f,u=h;break;case"a":Tce(e,l+n,u+r,[s[1],s[2],s[3],s[4],s[5],s[6]+l+n,s[7]+u+r]),l+=s[6],u+=s[7];break;case"A":Tce(e,l+n,u+r,[s[1],s[2],s[3],s[4],s[5],s[6]+n,s[7]+r]),l=s[6],u=s[7];break;case"z":case"Z":l=g,u=v,e.closePath();break}a=s}}function Tce(e,t,n,r){const i=pwt(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let o=0;o<i.length;++o){const s=mwt(i[o]);e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5])}}const kce=.5773502691896257,Ace={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,Jf)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,o=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-o),e.lineTo(i,-o),e.lineTo(0,-n),e.lineTo(-i,-o),e.lineTo(-r,-o),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=$1*n,i=r-n*kce,o=n/4;e.moveTo(0,-r-i),e.lineTo(-o,r-i),e.lineTo(o,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=$1*n,i=r-n*kce;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=$1*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=$1*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=$1*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=$1*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function Dke(e){return Dn(Ace,e)?Ace[e]:ywt(e)}var jj={};function ywt(e){if(!Dn(jj,e)){const t=xx(e);jj[e]={draw:function(n,r){M2(n,t,0,0,Math.sqrt(r)/2)}}}return jj[e]}const fg=.448084975506;function vwt(e){return e.x}function bwt(e){return e.y}function wwt(e){return e.width}function xwt(e){return e.height}function hp(e){return typeof e=="function"?e:()=>+e}function jR(e,t,n){return Math.max(t,Math.min(e,n))}function Pke(){var e=vwt,t=bwt,n=wwt,r=xwt,i=hp(0),o=i,s=i,a=i,l=null;function u(c,d,f){var h,m=d??+e.call(this,c),p=f??+t.call(this,c),g=+n.call(this,c),v=+r.call(this,c),y=Math.min(g,v)/2,w=jR(+i.call(this,c),0,y),_=jR(+o.call(this,c),0,y),E=jR(+s.call(this,c),0,y),S=jR(+a.call(this,c),0,y);if(l||(l=h=n6()),w<=0&&_<=0&&E<=0&&S<=0)l.rect(m,p,g,v);else{var T=m+g,k=p+v;l.moveTo(m+w,p),l.lineTo(T-_,p),l.bezierCurveTo(T-fg*_,p,T,p+fg*_,T,p+_),l.lineTo(T,k-S),l.bezierCurveTo(T,k-fg*S,T-fg*S,k,T-S,k),l.lineTo(m+E,k),l.bezierCurveTo(m+fg*E,k,m,k-fg*E,m,k-E),l.lineTo(m,p+w),l.bezierCurveTo(m,p+fg*w,m+fg*w,p,m+w,p),l.closePath()}if(h)return l=null,h+""||null}return u.x=function(c){return arguments.length?(e=hp(c),u):e},u.y=function(c){return arguments.length?(t=hp(c),u):t},u.width=function(c){return arguments.length?(n=hp(c),u):n},u.height=function(c){return arguments.length?(r=hp(c),u):r},u.cornerRadius=function(c,d,f,h){return arguments.length?(i=hp(c),o=d!=null?hp(d):i,a=f!=null?hp(f):i,s=h!=null?hp(h):o,u):i},u.context=function(c){return arguments.length?(l=c??null,u):l},u}function Oke(){var e,t,n,r,i=null,o,s,a,l;function u(d,f,h){const m=h/2;if(o){var p=a-f,g=d-s;if(p||g){var v=Math.hypot(p,g),y=(p/=v)*l,w=(g/=v)*l,_=Math.atan2(g,p);i.moveTo(s-y,a-w),i.lineTo(d-p*m,f-g*m),i.arc(d,f,m,_-Math.PI,_),i.lineTo(s+y,a+w),i.arc(s,a,l,_,_+Math.PI)}else i.arc(d,f,m,0,Jf);i.closePath()}else o=1;s=d,a=f,l=m}function c(d){var f,h=d.length,m,p=!1,g;for(i==null&&(i=g=n6()),f=0;f<=h;++f)!(f<h&&r(m=d[f],f,d))===p&&(p=!p)&&(o=0),p&&u(+e(m,f,d),+t(m,f,d),+n(m,f,d));if(g)return i=null,g+""||null}return c.x=function(d){return arguments.length?(e=d,c):e},c.y=function(d){return arguments.length?(t=d,c):t},c.size=function(d){return arguments.length?(n=d,c):n},c.defined=function(d){return arguments.length?(r=d,c):r},c.context=function(d){return arguments.length?(d==null?i=null:i=d,c):i},c}function lk(e,t){return e??t}const uk=e=>e.x||0,ck=e=>e.y||0,Cwt=e=>e.width||0,_wt=e=>e.height||0,Ewt=e=>(e.x||0)+(e.width||0),Swt=e=>(e.y||0)+(e.height||0),Twt=e=>e.startAngle||0,kwt=e=>e.endAngle||0,Awt=e=>e.padAngle||0,Rwt=e=>e.innerRadius||0,Iwt=e=>e.outerRadius||0,Dwt=e=>e.cornerRadius||0,Pwt=e=>lk(e.cornerRadiusTopLeft,e.cornerRadius)||0,Owt=e=>lk(e.cornerRadiusTopRight,e.cornerRadius)||0,Nwt=e=>lk(e.cornerRadiusBottomRight,e.cornerRadius)||0,Mwt=e=>lk(e.cornerRadiusBottomLeft,e.cornerRadius)||0,$wt=e=>lk(e.size,64),Lwt=e=>e.size||1,g6=e=>e.defined!==!1,Fwt=e=>Dke(e.shape||"circle"),jwt=tbt().startAngle(Twt).endAngle(kwt).padAngle(Awt).innerRadius(Rwt).outerRadius(Iwt).cornerRadius(Dwt),Bwt=lTe().x(uk).y1(ck).y0(Swt).defined(g6),zwt=lTe().y(ck).x1(uk).x0(Ewt).defined(g6),Uwt=aTe().x(uk).y(ck).defined(g6),Hwt=Pke().x(uk).y(ck).width(Cwt).height(_wt).cornerRadius(Pwt,Owt,Nwt,Mwt),qwt=rbt().type(Fwt).size($wt),Vwt=Oke().x(uk).y(ck).defined(g6).size(Lwt);function kX(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function Wwt(e,t){return jwt.context(e)(t)}function Gwt(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?zwt:Bwt).curve(TX(r,n.orient,n.tension)).context(e)(t)}function Ywt(e,t){const n=t[0],r=n.interpolate||"linear";return Uwt.curve(TX(r,n.orient,n.tension)).context(e)(t)}function IC(e,t,n,r){return Hwt.context(e)(t,n,r)}function Kwt(e,t){return(t.mark.shape||t.shape).context(e)(t)}function Xwt(e,t){return qwt.context(e)(t)}function Qwt(e,t){return Vwt.context(e)(t)}var Nke=1;function Jwt(){Nke=1}function AX(e,t,n){var r=t.clip,i=e._defs,o=t.clip_id||(t.clip_id="clip"+Nke++),s=i.clipping[o]||(i.clipping[o]={id:o});return nr(r)?s.path=r(null):kX(n)?s.path=IC(null,n,0,0):(s.width=n.width||0,s.height=n.height||0),"url(#"+o+")"}function Ko(e){this.clear(),e&&this.union(e)}Ko.prototype={clone(){return new Ko(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:o,y2:s}=this,a=Math.cos(e),l=Math.sin(e),u=t-t*a+n*l,c=n-t*l-n*a;return[a*r-l*i+u,l*r+a*i+c,a*r-l*s+u,l*r+a*s+c,a*o-l*i+u,l*o+a*i+c,a*o-l*s+u,l*o+a*s+c]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function y6(e){this.mark=e,this.bounds=this.bounds||new Ko}function v6(e){y6.call(this,e),this.items=this.items||[]}It(v6,y6);class Mke{constructor(t){this._pending=0,this._loader=t||qM()}pending(){return this._pending}sanitizeURL(t){const n=this;return Rce(n),n._loader.sanitize(t,{context:"href"}).then(r=>(G_(n),r)).catch(()=>(G_(n),null))}loadImage(t){const n=this,r=xbt();return Rce(n),n._loader.sanitize(t,{context:"image"}).then(i=>{const o=i.href;if(!o||!r)throw{url:o};const s=new r,a=Dn(i,"crossOrigin")?i.crossOrigin:"anonymous";return a!=null&&(s.crossOrigin=a),s.onload=()=>G_(n),s.onerror=()=>G_(n),s.src=o,s}).catch(i=>(G_(n),{complete:!1,width:0,height:0,src:i&&i.url||""}))}ready(){const t=this;return new Promise(n=>{function r(i){t.pending()?setTimeout(()=>{r(!0)},10):n(i)}r(!1)})}}function Rce(e){e._pending+=1}function G_(e){e._pending-=1}function Mm(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?Zwt(t,r):0))}return e}function Zwt(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const ext=Jf-1e-8;let b6,TP,kP,hv,CU,AP,_U,EU;const Bg=(e,t)=>b6.add(e,t),RP=(e,t)=>Bg(TP=e,kP=t),Ice=e=>Bg(e,b6.y1),Dce=e=>Bg(b6.x1,e),ev=(e,t)=>CU*e+_U*t,tv=(e,t)=>AP*e+EU*t,Bj=(e,t)=>Bg(ev(e,t),tv(e,t)),zj=(e,t)=>RP(ev(e,t),tv(e,t));function dk(e,t){return b6=e,t?(hv=t*S0,CU=EU=Math.cos(hv),AP=Math.sin(hv),_U=-AP):(CU=EU=1,hv=AP=_U=0),txt}const txt={beginPath(){},closePath(){},moveTo:zj,lineTo:zj,rect(e,t,n,r){hv?(Bj(e+n,t),Bj(e+n,t+r),Bj(e,t+r),zj(e,t)):(Bg(e+n,t+r),RP(e,t))},quadraticCurveTo(e,t,n,r){const i=ev(e,t),o=tv(e,t),s=ev(n,r),a=tv(n,r);Pce(TP,i,s,Ice),Pce(kP,o,a,Dce),RP(s,a)},bezierCurveTo(e,t,n,r,i,o){const s=ev(e,t),a=tv(e,t),l=ev(n,r),u=tv(n,r),c=ev(i,o),d=tv(i,o);Oce(TP,s,l,c,Ice),Oce(kP,a,u,d,Dce),RP(c,d)},arc(e,t,n,r,i,o){if(r+=hv,i+=hv,TP=n*Math.cos(i)+e,kP=n*Math.sin(i)+t,Math.abs(i-r)>ext)Bg(e-n,t-n),Bg(e+n,t+n);else{const s=u=>Bg(n*Math.cos(u)+e,n*Math.sin(u)+t);let a,l;if(s(r),s(i),i!==r)if(r=r%Jf,r<0&&(r+=Jf),i=i%Jf,i<0&&(i+=Jf),i<r&&(o=!o,a=r,r=i,i=a),o)for(i-=Jf,a=r-r%Zy,l=0;l<4&&a>i;++l,a-=Zy)s(a);else for(a=r-r%Zy+Zy,l=0;l<4&&a<i;++l,a=a+Zy)s(a)}}};function Pce(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function Oce(e,t,n,r,i){const o=r-e+3*t-3*n,s=e+n-2*t,a=e-t;let l=0,u=0,c;Math.abs(o)>hwt?(c=s*s+a*o,c>=0&&(c=Math.sqrt(c),l=(-s+c)/o,u=(-s-c)/o)):l=.5*a/s,0<l&&l<1&&i(Nce(l,e,t,n,r)),0<u&&u<1&&i(Nce(u,e,t,n,r))}function Nce(e,t,n,r,i){const o=1-e,s=o*o,a=e*e;return s*o*t+3*s*e*n+3*o*a*r+a*e*i}var a0=(a0=s0(1,1))?a0.getContext("2d"):null;const SU=new Ko;function RX(e){return function(t,n){if(!a0)return!0;e(a0,t),SU.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:o,y2:s}=SU;for(let a=i;a<=s;++a)for(let l=r;l<=o;++l)if(a0.isPointInPath(l,a))return!0;return!1}}function IX(e,t){return t.contains(e.x||0,e.y||0)}function $ke(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,o=e.height||0;return t.intersects(SU.set(n,r,n+i,r+o))}function Lke(e,t){const n=e.x||0,r=e.y||0,i=e.x2!=null?e.x2:n,o=e.y2!=null?e.y2:r;return mw(t,n,r,i,o)}function mw(e,t,n,r,i){const{x1:o,y1:s,x2:a,y2:l}=e,u=r-t,c=i-n;let d=0,f=1,h,m,p,g;for(g=0;g<4;++g){if(g===0&&(h=-u,m=-(o-t)),g===1&&(h=u,m=a-t),g===2&&(h=-c,m=-(s-n)),g===3&&(h=c,m=l-n),Math.abs(h)<1e-10&&m<0)return!1;if(p=m/h,h<0){if(p>f)return!1;p>d&&(d=p)}else if(h>0){if(p<d)return!1;p<f&&(f=p)}}return!0}function Cx(e,t){e.globalCompositeOperation=t.blend||"source-over"}function dd(e,t){return e??t}function Mce(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function nxt(e,t,n){const r=n.width(),i=n.height();let o;if(t.gradient==="radial")o=e.createRadialGradient(n.x1+dd(t.x1,.5)*r,n.y1+dd(t.y1,.5)*i,Math.max(r,i)*dd(t.r1,0),n.x1+dd(t.x2,.5)*r,n.y1+dd(t.y2,.5)*i,Math.max(r,i)*dd(t.r2,.5));else{const s=dd(t.x1,0),a=dd(t.y1,0),l=dd(t.x2,1),u=dd(t.y2,0);if(s===l||a===u||r===i)o=e.createLinearGradient(n.x1+s*r,n.y1+a*i,n.x1+l*r,n.y1+u*i);else{const c=s0(Math.ceil(r),Math.ceil(i)),d=c.getContext("2d");return d.scale(r,i),d.fillStyle=Mce(d.createLinearGradient(s,a,l,u),t.stops),d.fillRect(0,0,r,i),e.createPattern(c,"no-repeat")}}return Mce(o,t.stops)}function Fke(e,t,n){return SX(n)?nxt(e,n,t.bounds):n}function TO(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=Fke(e,t,t.fill),!0):!1}var rxt=[];function _x(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=Fke(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||rxt),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function ixt(e,t){return e.zindex-t.zindex||e.index-t.index}function DX(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,i,o;for(i=0,o=t.length;i<o;++i)r=t[i],r.index=i,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(ixt)}function Qd(e,t){var n=e.items,r,i;if(!n||!n.length)return;const o=DX(e);if(o&&o.length){for(r=0,i=n.length;r<i;++r)n[r].zindex||t(n[r]);n=o}for(r=0,i=n.length;r<i;++r)t(n[r])}function kO(e,t){var n=e.items,r,i;if(!n||!n.length)return null;const o=DX(e);for(o&&o.length&&(n=o),i=n.length;--i>=0;)if(r=t(n[i]))return r;if(n===o){for(n=e.items,i=n.length;--i>=0;)if(!n[i].zindex&&(r=t(n[i])))return r}return null}function PX(e){return function(t,n,r){Qd(n,i=>{(!r||r.intersects(i.bounds))&&jke(e,t,i,i)})}}function oxt(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&jke(e,t,n.items[0],n.items)}}function jke(e,t,n,r){var i=n.opacity==null?1:n.opacity;i!==0&&(e(t,r)||(Cx(t,n),n.fill&&TO(t,n,i)&&t.fill(),n.stroke&&_x(t,n,i)&&t.stroke()))}function w6(e){return e=e||Mc,function(t,n,r,i,o,s){return r*=t.pixelRatio,i*=t.pixelRatio,kO(n,a=>{const l=a.bounds;if(!(l&&!l.contains(o,s)||!l)&&e(t,a,r,i,o,s))return a})}}function fk(e,t){return function(n,r,i,o){var s=Array.isArray(r)?r[0]:r,a=t??s.fill,l=s.stroke&&n.isPointInStroke,u,c;return l&&(u=s.strokeWidth,c=s.strokeCap,n.lineWidth=u??1,n.lineCap=c??"butt"),e(n,r)?!1:a&&n.isPointInPath(i,o)||l&&n.isPointInStroke(i,o)}}function OX(e){return w6(fk(e))}function Av(e,t){return"translate("+e+","+t+")"}function NX(e){return"rotate("+e+")"}function sxt(e,t){return"scale("+e+","+t+")"}function Bke(e){return Av(e.x||0,e.y||0)}function axt(e){return Av(e.x||0,e.y||0)+(e.angle?" "+NX(e.angle):"")}function lxt(e){return Av(e.x||0,e.y||0)+(e.angle?" "+NX(e.angle):"")+(e.scaleX||e.scaleY?" "+sxt(e.scaleX||1,e.scaleY||1):"")}function MX(e,t,n){function r(s,a){s("transform",axt(a)),s("d",t(null,a))}function i(s,a){return t(dk(s,a.angle),a),Mm(s,a).translate(a.x||0,a.y||0)}function o(s,a){var l=a.x||0,u=a.y||0,c=a.angle||0;s.translate(l,u),c&&s.rotate(c*=S0),s.beginPath(),t(s,a),c&&s.rotate(-c),s.translate(-l,-u)}return{type:e,tag:"path",nested:!1,attr:r,bound:i,draw:PX(o),pick:OX(o),isect:n||RX(o)}}var uxt=MX("arc",Wwt);function cxt(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",i=e.length,o=1/0,s,a;--i>=0;)e[i].defined!==!1&&(a=Math.abs(e[i][r]-n),a<o&&(o=a,s=e[i]));return s}function dxt(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,i,o,s;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],o=e[r].y-t[1],s=i*i+o*o,s<n))return e[r];return null}function fxt(e,t){for(var n=e.length,r,i,o;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],i=e[n].y-t[1],o=r*r+i*i,r=e[n].size||1,o<r*r))return e[n];return null}function $X(e,t,n){function r(l,u){var c=u.mark.items;c.length&&l("d",t(null,c))}function i(l,u){var c=u.items;return c.length===0?l:(t(dk(l),c),Mm(l,c[0]))}function o(l,u){l.beginPath(),t(l,u)}const s=fk(o);function a(l,u,c,d,f,h){var m=u.items,p=u.bounds;return!m||!m.length||p&&!p.contains(f,h)?null:(c*=l.pixelRatio,d*=l.pixelRatio,s(l,m,c,d)?m[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:i,draw:oxt(o),pick:a,isect:IX,tip:n}}var hxt=$X("area",Gwt,cxt);function pxt(e,t){var n=t.clip;e.save(),nr(n)?(e.beginPath(),n(e),e.clip()):zke(e,t.group)}function zke(e,t){e.beginPath(),kX(t)?IC(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function Uke(e){const t=dd(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function mxt(e,t){e("transform",Bke(t))}function Hke(e,t){const n=Uke(t);e("d",IC(null,t,n,n))}function gxt(e,t){e("class","background"),e("aria-hidden",!0),Hke(e,t)}function yxt(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?Hke(e,t):e("d","")}function vxt(e,t,n){const r=t.clip?AX(n,t,t):null;e("clip-path",r)}function bxt(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let i=0;i<r;++i)e.union(n[i].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Mm(e,t),e.translate(t.x||0,t.y||0)}function $2(e,t,n,r){const i=Uke(t);e.beginPath(),IC(e,t,(n||0)+i,(r||0)+i)}const wxt=fk($2),xxt=fk($2,!1),Cxt=fk($2,!0);function _xt(e,t,n,r){Qd(t,i=>{const o=i.x||0,s=i.y||0,a=i.strokeForeground,l=i.opacity==null?1:i.opacity;(i.stroke||i.fill)&&l&&($2(e,i,o,s),Cx(e,i),i.fill&&TO(e,i,l)&&e.fill(),i.stroke&&!a&&_x(e,i,l)&&e.stroke()),e.save(),e.translate(o,s),i.clip&&zke(e,i),n&&n.translate(-o,-s),Qd(i,u=>{(u.marktype==="group"||r==null||r.includes(u.marktype))&&this.draw(e,u,n,r)}),n&&n.translate(o,s),e.restore(),a&&i.stroke&&l&&($2(e,i,o,s),Cx(e,i),_x(e,i,l)&&e.stroke())})}function Ext(e,t,n,r,i,o){if(t.bounds&&!t.bounds.contains(i,o)||!t.items)return null;const s=n*e.pixelRatio,a=r*e.pixelRatio;return kO(t,l=>{let u,c,d;const f=l.bounds;if(f&&!f.contains(i,o))return;c=l.x||0,d=l.y||0;const h=c+(l.width||0),m=d+(l.height||0),p=l.clip;if(p&&(i<c||i>h||o<d||o>m))return;if(e.save(),e.translate(c,d),c=i-c,d=o-d,p&&kX(l)&&!Cxt(e,l,s,a))return e.restore(),null;const g=l.strokeForeground,v=t.interactive!==!1;return v&&g&&l.stroke&&xxt(e,l,s,a)?(e.restore(),l):(u=kO(l,y=>Sxt(y,c,d)?this.pick(y,n,r,c,d):null),!u&&v&&(l.fill||!g&&l.stroke)&&wxt(e,l,s,a)&&(u=l),e.restore(),u||null)})}function Sxt(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var Txt={type:"group",tag:"g",nested:!1,attr:mxt,bound:bxt,draw:_xt,pick:Ext,isect:$ke,content:vxt,background:gxt,foreground:yxt},L2={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function LX(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function FX(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function jX(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function x6(e,t){return e==="center"?t/2:e==="right"?t:0}function C6(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function kxt(e,t,n){const r=LX(t,n),i=FX(t,r),o=jX(t,r),s=(t.x||0)-x6(t.align,i),a=(t.y||0)-C6(t.baseline,o),l=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",l,L2["xmlns:xlink"],"xlink:href"),e("transform",Av(s,a)),e("width",i),e("height",o),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function Axt(e,t){const n=t.image,r=FX(t,n),i=jX(t,n),o=(t.x||0)-x6(t.align,r),s=(t.y||0)-C6(t.baseline,i);return e.set(o,s,o+r,s+i)}function Rxt(e,t,n){Qd(t,r=>{if(n&&!n.intersects(r.bounds))return;const i=LX(r,this);let o=FX(r,i),s=jX(r,i);if(o===0||s===0)return;let a=(r.x||0)-x6(r.align,o),l=(r.y||0)-C6(r.baseline,s),u,c,d,f;r.aspect!==!1&&(c=i.width/i.height,d=r.width/r.height,c===c&&d===d&&c!==d&&(d<c?(f=o/c,l+=(s-f)/2,s=f):(f=s*c,a+=(o-f)/2,o=f))),(i.complete||i.toDataURL)&&(Cx(e,r),e.globalAlpha=(u=r.opacity)!=null?u:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(i,a,l,o,s))})}var Ixt={type:"image",tag:"image",nested:!1,attr:kxt,bound:Axt,draw:Rxt,pick:w6(),isect:Mc,get:LX,xOffset:x6,yOffset:C6},Dxt=$X("line",Ywt,dxt);function Pxt(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",lxt(t)),e("d",t.path)}function IP(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,i=t.y||0,o=t.scaleX||1,s=t.scaleY||1,a=(t.angle||0)*S0,l=t.pathCache;(!l||l.path!==n)&&((t.pathCache=l=xx(n)).path=n),a&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(a),M2(e,l,0,0,o,s),e.rotate(-a),e.translate(-r,-i)):M2(e,l,r,i,o,s)}function Oxt(e,t){return IP(dk(e,t.angle),t)?e.set(0,0,0,0):Mm(e,t,!0)}var Nxt={type:"path",tag:"path",nested:!1,attr:Pxt,bound:Oxt,draw:PX(IP),pick:OX(IP),isect:RX(IP)};function Mxt(e,t){e("d",IC(null,t))}function $xt(e,t){var n,r;return Mm(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function $ce(e,t){e.beginPath(),IC(e,t)}var Lxt={type:"rect",tag:"path",nested:!1,attr:Mxt,bound:$xt,draw:PX($ce),pick:OX($ce),isect:$ke};function Fxt(e,t){e("transform",Bke(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function jxt(e,t){var n,r;return Mm(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function qke(e,t,n){var r,i,o,s;return t.stroke&&_x(e,t,n)?(r=t.x||0,i=t.y||0,o=t.x2!=null?t.x2:r,s=t.y2!=null?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(o,s),!0):!1}function Bxt(e,t,n){Qd(t,r=>{if(!(n&&!n.intersects(r.bounds))){var i=r.opacity==null?1:r.opacity;i&&qke(e,r,i)&&(Cx(e,r),e.stroke())}})}function zxt(e,t,n,r){return e.isPointInStroke?qke(e,t,1)&&e.isPointInStroke(n,r):!1}var Uxt={type:"rule",tag:"line",nested:!1,attr:Fxt,bound:jxt,draw:Bxt,pick:w6(zxt),isect:Lke},Hxt=MX("shape",Kwt),qxt=MX("symbol",Xwt,IX);const Lce=QEe();var Lu={height:qh,measureWidth:BX,estimateWidth:AO,width:AO,canvas:Vke};Vke(!0);function Vke(e){Lu.width=e&&a0?BX:AO}function AO(e,t){return Wke(k0(e,t),qh(e))}function Wke(e,t){return~~(.8*e.length*t)}function BX(e,t){return qh(e)<=0||!(t=k0(e,t))?0:Gke(t,_6(e))}function Gke(e,t){const n=`(${t}) ${e}`;let r=Lce.get(n);return r===void 0&&(a0.font=t,r=a0.measureText(e).width,Lce.set(n,r)),r}function qh(e){return e.fontSize!=null?+e.fontSize||0:11}function T0(e){return e.lineHeight!=null?e.lineHeight:qh(e)+2}function Vxt(e){return cn(e)?e.length>1?e:e[0]:e}function hk(e){return Vxt(e.lineBreak&&e.text&&!cn(e.text)?e.text.split(e.lineBreak):e.text)}function zX(e){const t=hk(e);return(cn(t)?t.length-1:0)*T0(e)}function k0(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?Gxt(e,n):n}function Wxt(e){if(Lu.width===BX){const t=_6(e);return n=>Gke(n,t)}else if(Lu.width===AO){const t=qh(e);return n=>Wke(n,t)}else return t=>Lu.width(e,t)}function Gxt(e,t){var n=+e.limit,r=Wxt(e);if(r(t)<n)return t;var i=e.ellipsis||"",o=e.dir==="rtl",s=0,a=t.length,l;if(n-=r(i),o){for(;s<a;)l=s+a>>>1,r(t.slice(l))>n?s=l+1:a=l;return i+t.slice(s)}else{for(;s<a;)l=1+(s+a>>>1),r(t.slice(0,l))<n?s=l:a=l-1;return t.slice(0,s)+i}}function pk(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function _6(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+qh(e)+"px "+pk(e,t)}function UX(e){var t=e.baseline,n=qh(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*T0(e):t==="line-bottom"?.29*n-.5*T0(e):0)}const Yxt={left:"start",center:"middle",right:"end"},ES=new Ko;function E6(e){var t=e.x||0,n=e.y||0,r=e.radius||0,i;return r&&(i=(e.theta||0)-Zy,t+=r*Math.cos(i),n+=r*Math.sin(i)),ES.x1=t,ES.y1=n,ES}function Kxt(e,t){var n=t.dx||0,r=(t.dy||0)+UX(t),i=E6(t),o=i.x1,s=i.y1,a=t.angle||0,l;e("text-anchor",Yxt[t.align]||"start"),a?(l=Av(o,s)+" "+NX(a),(n||r)&&(l+=" "+Av(n,r))):l=Av(o+n,s+r),e("transform",l)}function HX(e,t,n){var r=Lu.height(t),i=t.align,o=E6(t),s=o.x1,a=o.y1,l=t.dx||0,u=(t.dy||0)+UX(t)-Math.round(.8*r),c=hk(t),d;if(cn(c)?(r+=T0(t)*(c.length-1),d=c.reduce((f,h)=>Math.max(f,Lu.width(t,h)),0)):d=Lu.width(t,c),i==="center"?l-=d/2:i==="right"&&(l-=d),e.set(l+=s,u+=a,l+d,u+r),t.angle&&!n)e.rotate(t.angle*S0,s,a);else if(n===2)return e.rotatedPoints(t.angle*S0,s,a);return e}function Xxt(e,t,n){Qd(t,r=>{var i=r.opacity==null?1:r.opacity,o,s,a,l,u,c,d;if(!(n&&!n.intersects(r.bounds)||i===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=_6(r),e.textAlign=r.align||"left",o=E6(r),s=o.x1,a=o.y1,r.angle&&(e.save(),e.translate(s,a),e.rotate(r.angle*S0),s=a=0),s+=r.dx||0,a+=(r.dy||0)+UX(r),c=hk(r),Cx(e,r),cn(c))for(u=T0(r),l=0;l<c.length;++l)d=k0(r,c[l]),r.fill&&TO(e,r,i)&&e.fillText(d,s,a),r.stroke&&_x(e,r,i)&&e.strokeText(d,s,a),a+=u;else d=k0(r,c),r.fill&&TO(e,r,i)&&e.fillText(d,s,a),r.stroke&&_x(e,r,i)&&e.strokeText(d,s,a);r.angle&&e.restore()}})}function Qxt(e,t,n,r,i,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var s=E6(t),a=s.x1,l=s.y1,u=HX(ES,t,1),c=-t.angle*S0,d=Math.cos(c),f=Math.sin(c),h=d*i-f*o+(a-d*a+f*l),m=f*i+d*o+(l-f*a-d*l);return u.contains(h,m)}function Jxt(e,t){const n=HX(ES,e,2);return mw(t,n[0],n[1],n[2],n[3])||mw(t,n[0],n[1],n[4],n[5])||mw(t,n[4],n[5],n[6],n[7])||mw(t,n[2],n[3],n[6],n[7])}var Zxt={type:"text",tag:"text",nested:!1,attr:Kxt,bound:HX,draw:Xxt,pick:w6(Qxt),isect:Jxt},eCt=$X("trail",Qwt,fxt),Gu={arc:uxt,area:hxt,group:Txt,image:Ixt,line:Dxt,path:Nxt,rect:Lxt,rule:Uxt,shape:Hxt,symbol:qxt,text:Zxt,trail:eCt};function TU(e,t,n){var r=Gu[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new Ko),e,n)}var Fce={mark:null};function Yke(e,t,n){var r=Gu[e.marktype],i=r.bound,o=e.items,s=o&&o.length,a,l,u,c;if(r.nested)return s?u=o[0]:(Fce.mark=e,u=Fce),c=TU(u,i,n),t=t&&t.union(c)||c,t;if(t=t||e.bounds&&e.bounds.clear()||new Ko,s)for(a=0,l=o.length;a<l;++a)t.union(TU(o[a],i,n));return e.bounds=t}const tCt=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function Kke(e,t){return JSON.stringify(e,tCt,t)}function Xke(e){const t=typeof e=="string"?JSON.parse(e):e;return Qke(t)}function Qke(e){var t=e.marktype,n=e.items,r,i,o;if(n)for(i=0,o=n.length;i<o;++i)r=t?"mark":"group",n[i][r]=e,n[i].zindex&&(n[i][r].zdirty=!0),(t||r)==="group"&&Qke(n[i]);return t&&Yke(e),e}class Jke{constructor(t){arguments.length?this.root=Xke(t):(this.root=jce({marktype:"group",name:"root",role:"frame"}),this.root.items=[new v6(this.root)])}toJSON(t){return Kke(this.root,t||0)}mark(t,n,r){n=n||this.root.items[0];const i=jce(t,n);return n.items[r]=i,i.zindex&&(i.group.zdirty=!0),i}}function jce(e,t){const n={bounds:new Ko,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function zg(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function qX(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function as(e,t,n,r){var i=e.childNodes[t],o;return(!i||i.tagName.toLowerCase()!==n.toLowerCase())&&(o=i||null,i=zg(e.ownerDocument,n,r),e.insertBefore(i,o)),i}function yc(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function Zke(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function S6(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function nCt(e,t,n,r){var i=e&&e.mark,o,s;if(i&&(o=Gu[i.marktype]).tip){for(s=S6(t,n),s[0]-=r[0],s[1]-=r[1];e=e.mark.group;)s[0]-=e.x||0,s[1]-=e.y||0;e=o.tip(i.items,s)}return e}let VX=class{constructor(t,n){this._active=null,this._handlers={},this._loader=t||qM(),this._tooltip=n||rCt}initialize(t,n,r){return this._el=t,this._obj=r||null,this.origin(n)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()}scene(t){return arguments.length?(this._scene=t,this):this._scene}on(){}off(){}_handlerIndex(t,n,r){for(let i=t?t.length:0;--i>=0;)if(t[i].type===n&&(!r||t[i].handler===r))return i;return-1}handlers(t){const n=this._handlers,r=[];if(t)r.push(...n[this.eventName(t)]);else for(const i in n)r.push(...n[i]);return r}eventName(t){const n=t.indexOf(".");return n<0?t:t.slice(0,n)}handleHref(t,n,r){this._loader.sanitize(r,{context:"href"}).then(i=>{const o=new MouseEvent(t.type,t),s=zg(null,"a");for(const a in i)s.setAttribute(a,i[a]);s.dispatchEvent(o)}).catch(()=>{})}handleTooltip(t,n,r){if(n&&n.tooltip!=null){n=nCt(n,t,this.canvas(),this._origin);const i=r&&n&&n.tooltip||null;this._tooltip.call(this._obj,this,t,n,i)}}getItemBoundingClientRect(t){const n=this.canvas();if(!n)return;const r=n.getBoundingClientRect(),i=this._origin,o=t.bounds,s=o.width(),a=o.height();let l=o.x1+i[0]+r.left,u=o.y1+i[1]+r.top;for(;t.mark&&(t=t.mark.group);)l+=t.x||0,u+=t.y||0;return{x:l,y:u,width:s,height:a,left:l,top:u,right:l+s,bottom:u+a}}};function rCt(e,t,n,r){e.element().setAttribute("title",r||"")}class mk{constructor(t){this._el=null,this._bgcolor=null,this._loader=new Mke(t)}initialize(t,n,r,i,o){return this._el=t,this.resize(n,r,i,o)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(t){return arguments.length===0?this._bgcolor:(this._bgcolor=t,this)}resize(t,n,r,i){return this._width=t,this._height=n,this._origin=r||[0,0],this._scale=i||1,this}dirty(){}render(t,n){const r=this;return r._call=function(){r._render(t,n)},r._call(),r._call=null,r}_render(){}renderAsync(t,n){const r=this.render(t,n);return this._ready?this._ready.then(()=>r):Promise.resolve(r)}_load(t,n){var r=this,i=r._loader[t](n);if(!r._ready){const o=r._call;r._ready=r._loader.ready().then(s=>{s&&o(),r._ready=null})}return i}sanitizeURL(t){return this._load("sanitizeURL",t)}loadImage(t){return this._load("loadImage",t)}}const iCt="keydown",oCt="keypress",sCt="keyup",eAe="dragenter",DP="dragleave",tAe="dragover",kU="pointerdown",aCt="pointerup",RO="pointermove",PP="pointerout",nAe="pointerover",AU="mousedown",lCt="mouseup",rAe="mousemove",IO="mouseout",iAe="mouseover",DO="click",uCt="dblclick",cCt="wheel",oAe="mousewheel",PO="touchstart",OO="touchmove",NO="touchend",dCt=[iCt,oCt,sCt,eAe,DP,tAe,kU,aCt,RO,PP,nAe,AU,lCt,rAe,IO,iAe,DO,uCt,cCt,oAe,PO,OO,NO],RU=RO,SS=IO,IU=DO;class gk extends VX{constructor(t,n){super(t,n),this._down=null,this._touch=null,this._first=!0,this._events={},this.events=dCt,this.pointermove=zce([RO,rAe],[nAe,iAe],[PP,IO]),this.dragover=zce([tAe],[eAe],[DP]),this.pointerout=Uce([PP,IO]),this.dragleave=Uce([DP])}initialize(t,n,r){return this._canvas=t&&qX(t,"canvas"),[DO,AU,kU,RO,PP,DP].forEach(i=>Bce(this,i)),super.initialize(t,n,r)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(t){this.fire(oAe,t)}pointerdown(t){this._down=this._active,this.fire(kU,t)}mousedown(t){this._down=this._active,this.fire(AU,t)}click(t){this._down===this._active&&(this.fire(DO,t),this._down=null)}touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(PO,t,!0)}touchmove(t){this.fire(OO,t,!0)}touchend(t){this.fire(NO,t,!0),this._touch=null}fire(t,n,r){const i=r?this._touch:this._active,o=this._handlers[t];if(n.vegaType=t,t===IU&&i&&i.href?this.handleHref(n,i,i.href):(t===RU||t===SS)&&this.handleTooltip(n,i,t!==SS),o)for(let s=0,a=o.length;s<a;++s)o[s].handler.call(this._obj,n,i)}on(t,n){const r=this.eventName(t),i=this._handlers;return this._handlerIndex(i[r],t,n)<0&&(Bce(this,t),(i[r]||(i[r]=[])).push({type:t,handler:n})),this}off(t,n){const r=this.eventName(t),i=this._handlers[r],o=this._handlerIndex(i,t,n);return o>=0&&i.splice(o,1),this}pickEvent(t){const n=S6(t,this._canvas),r=this._origin;return this.pick(this._scene,n[0],n[1],n[0]-r[0],n[1]-r[1])}pick(t,n,r,i,o){const s=this.context();return Gu[t.marktype].pick.call(this,s,t,n,r,i,o)}}const fCt=e=>e===PO||e===OO||e===NO?[PO,OO,NO]:[e];function Bce(e,t){fCt(t).forEach(n=>hCt(e,n))}function hCt(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function jE(e,t,n){t.forEach(r=>e.fire(r,n))}function zce(e,t,n){return function(r){const i=this._active,o=this.pickEvent(r);o===i?jE(this,e,r):((!i||!i.exit)&&jE(this,n,r),this._active=o,jE(this,t,r),jE(this,e,r))}}function Uce(e){return function(t){jE(this,e,t),this._active=null}}function pCt(){return typeof window<"u"&&window.devicePixelRatio||1}function mCt(e,t,n,r,i,o){const s=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,a=e.getContext("2d"),l=s?pCt():i;e.width=t*l,e.height=n*l;for(const u in o)a[u]=o[u];return s&&l!==1&&(e.style.width=t+"px",e.style.height=n+"px"),a.pixelRatio=l,a.setTransform(l,0,0,l,l*r[0],l*r[1]),e}class MO extends mk{constructor(t){super(t),this._options={},this._redraw=!1,this._dirty=new Ko,this._tempb=new Ko}initialize(t,n,r,i,o,s){return this._options=s||{},this._canvas=this._options.externalContext?null:s0(1,1,this._options.type),t&&this._canvas&&(yc(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),super.initialize(t,n,r,i,o)}resize(t,n,r,i){if(super.resize(t,n,r,i),this._canvas)mCt(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const o=this._options.externalContext;o||it("CanvasRenderer is missing a valid canvas or context"),o.scale(this._scale,this._scale),o.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(t){const n=this._tempb.clear().union(t.bounds);let r=t.mark.group;for(;r;)n.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(n)}_render(t,n){const r=this.context(),i=this._origin,o=this._width,s=this._height,a=this._dirty,l=gCt(i,o,s);r.save();const u=this._redraw||a.empty()?(this._redraw=!1,l.expand(1)):yCt(r,l.intersect(a),i);return this.clear(-i[0],-i[1],o,s),this.draw(r,t,u,n),r.restore(),a.clear(),this}draw(t,n,r,i){if(n.marktype!=="group"&&i!=null&&!i.includes(n.marktype))return;const o=Gu[n.marktype];n.clip&&pxt(t,n),o.draw.call(this,t,n,r,i),n.clip&&t.restore()}clear(t,n,r,i){const o=this._options,s=this.context();o.type!=="pdf"&&!o.externalContext&&s.clearRect(t,n,r,i),this._bgcolor!=null&&(s.fillStyle=this._bgcolor,s.fillRect(t,n,r,i))}}const gCt=(e,t,n)=>new Ko().set(0,0,t,n).translate(-e[0],-e[1]);function yCt(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}class sAe extends VX{constructor(t,n){super(t,n);const r=this;r._hrefHandler=Uj(r,(i,o)=>{o&&o.href&&r.handleHref(i,o,o.href)}),r._tooltipHandler=Uj(r,(i,o)=>{r.handleTooltip(i,o,i.type!==SS)})}initialize(t,n,r){let i=this._svg;return i&&(i.removeEventListener(IU,this._hrefHandler),i.removeEventListener(RU,this._tooltipHandler),i.removeEventListener(SS,this._tooltipHandler)),this._svg=i=t&&qX(t,"svg"),i&&(i.addEventListener(IU,this._hrefHandler),i.addEventListener(RU,this._tooltipHandler),i.addEventListener(SS,this._tooltipHandler)),super.initialize(t,n,r)}canvas(){return this._svg}on(t,n){const r=this.eventName(t),i=this._handlers;if(this._handlerIndex(i[r],t,n)<0){const s={type:t,handler:n,listener:Uj(this,n)};(i[r]||(i[r]=[])).push(s),this._svg&&this._svg.addEventListener(r,s.listener)}return this}off(t,n){const r=this.eventName(t),i=this._handlers[r],o=this._handlerIndex(i,t,n);return o>=0&&(this._svg&&this._svg.removeEventListener(r,i[o].listener),i.splice(o,1)),this}}const Uj=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)},aAe="aria-hidden",WX="aria-label",GX="role",YX="aria-roledescription",lAe="graphics-object",KX="graphics-symbol",uAe=(e,t,n)=>({[GX]:e,[YX]:t,[WX]:n||void 0}),vCt=Kd(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),Hce={axis:{desc:"axis",caption:xCt},legend:{desc:"legend",caption:CCt},"title-text":{desc:"title",caption:e=>`Title text '${Vce(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${Vce(e)}'`}},qce={ariaRole:GX,ariaRoleDescription:YX,description:WX};function cAe(e,t){const n=t.aria===!1;if(e(aAe,n||void 0),n||t.description==null)for(const r in qce)e(qce[r],void 0);else{const r=t.mark.marktype;e(WX,t.description),e(GX,t.ariaRole||(r==="group"?lAe:KX)),e(YX,t.ariaRoleDescription||`${r} mark`)}}function dAe(e){return e.aria===!1?{[aAe]:!0}:vCt[e.role]?null:Hce[e.role]?wCt(e,Hce[e.role]):bCt(e)}function bCt(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return uAe(n?lAe:KX,`${t} mark container`,e.description)}function wCt(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return uAe(t.role||KX,t.desc,n.description||r(n))}catch{return null}}function Vce(e){return wn(e.text).join(" ")}function xCt(e){const t=e.datum,n=e.orient,r=t.title?fAe(e):null,i=e.context,o=i.scales[t.scale].value,s=i.dataflow.locale(),a=o.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(r?` titled '${r}'`:"")+` for a ${wx(a)?"discrete":a} scale with ${Tke(s,o,e)}`}function CCt(e){const t=e.datum,n=t.title?fAe(e):null,r=`${t.type||""} legend`.trim(),i=t.scales,o=Object.keys(i),s=e.context,a=s.scales[i[o[0]]].value,l=s.dataflow.locale();return ECt(r)+(n?` titled '${n}'`:"")+` for ${_Ct(o)} with ${Tke(l,a,e)}`}function fAe(e){try{return wn(Er(e.items).items[0].text).join(" ")}catch{return null}}function _Ct(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+Er(e)}function ECt(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const hAe=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),SCt=e=>hAe(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function XX(){let e="",t="",n="";const r=[],i=()=>t=n="",o=l=>{t&&(e+=`${t}>${n}`,i()),r.push(l)},s=(l,u)=>(u!=null&&(t+=` ${l}="${SCt(u)}"`),a),a={open(l,...u){o(l),t="<"+l;for(const c of u)for(const d in c)s(d,c[d]);return a},close(){const l=r.pop();return t?e+=t+(n?`>${n}</${l}>`:"/>"):e+=`</${l}>`,i(),a},attr:s,text:l=>(n+=hAe(l),a),toString:()=>e};return a}const pAe=e=>mAe(XX(),e)+"";function mAe(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let i=0;i<r;++i)e.attr(n[i].name,n[i].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const r of n)r.nodeType===3?e.text(r.nodeValue):mAe(e,r)}return e.close()}const $O={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},LO={blend:"mix-blend-mode"},gAe={fill:"none","stroke-miterlimit":10},Y_=0,Wce="http://www.w3.org/2000/xmlns/",ss=L2.xmlns;class QX extends mk{constructor(t){super(t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}initialize(t,n,r,i,o){return this._defs={},this._clearDefs(),t&&(this._svg=as(t,0,"svg",ss),this._svg.setAttributeNS(Wce,"xmlns",ss),this._svg.setAttributeNS(Wce,"xmlns:xlink",L2["xmlns:xlink"]),this._svg.setAttribute("version",L2.version),this._svg.setAttribute("class","marks"),yc(t,1),this._root=as(this._svg,Y_,"g",ss),Ug(this._root,gAe),yc(this._svg,Y_+1)),this.background(this._bgcolor),super.initialize(t,n,r,i,o)}background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),super.background(...arguments)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svg&&(Ug(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this}canvas(){return this._svg}svg(){const t=this._svg,n=this._bgcolor;if(!t)return null;let r;n&&(t.removeAttribute("style"),r=as(t,Y_,"rect",ss),Ug(r,{width:this._width,height:this._height,fill:n}));const i=pAe(t);return n&&(t.removeChild(r),this._svg.style.setProperty("background-color",n)),i}_render(t,n){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t,void 0,n),yc(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this}dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))}isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const n=++this._dirtyID;let r,i,o,s,a,l,u;for(a=0,l=t.length;a<l;++a)if(r=t[a],i=r.mark,i.marktype!==o&&(o=i.marktype,s=Gu[o]),i.zdirty&&i.dirty!==n&&(this._dirtyAll=!1,Gce(r,n),i.items.forEach(c=>{c.dirty=n})),!i.zdirty){if(r.exit){s.nested&&i.items.length?(u=i.items[0],u._svg&&this._update(s,u._svg,u)):r._svg&&(u=r._svg.parentNode,u&&u.removeChild(r._svg)),r._svg=null;continue}r=s.nested?i.items[0]:r,r._update!==n&&(!r._svg||!r._svg.ownerSVGElement?(this._dirtyAll=!1,Gce(r,n)):this._update(s,r._svg,r),r._update=n)}return!this._dirtyAll}mark(t,n,r,i){if(!this.isDirty(n))return n._svg;const o=this._svg,s=n.marktype,a=Gu[s],l=n.interactive===!1?"none":null,u=a.tag==="g",c=Yce(n,t,r,"g",o);if(s!=="group"&&i!=null&&!i.includes(s))return yc(c,0),n._svg;c.setAttribute("class",Zke(n));const d=dAe(n);for(const p in d)tl(c,p,d[p]);u||tl(c,"pointer-events",l),tl(c,"clip-path",n.clip?AX(this,n,n.group):null);let f=null,h=0;const m=p=>{const g=this.isDirty(p),v=Yce(p,c,f,a.tag,o);g&&(this._update(a,v,p),u&&ACt(this,v,p,i)),f=v,++h};return a.nested?n.items.length&&m(n.items[0]):Qd(n,m),yc(c,h),c}_update(t,n,r){Lp=n,ka=n.__values__,cAe(TS,r),t.attr(TS,r,this);const i=ICt[t.type];i&&i.call(this,t,n,r),Lp&&this.style(Lp,r)}style(t,n){if(n!=null){for(const r in $O){let i=r==="font"?pk(n):n[r];if(i===ka[r])continue;const o=$O[r];i==null?t.removeAttribute(o):(SX(i)&&(i=Ake(i,this._defs.gradient,yAe())),t.setAttribute(o,i+"")),ka[r]=i}for(const r in LO)OP(t,LO[r],n[r])}}defs(){const t=this._svg,n=this._defs;let r=n.el,i=0;for(const o in n.gradient)r||(n.el=r=as(t,Y_+1,"defs",ss)),i=TCt(r,n.gradient[o],i);for(const o in n.clipping)r||(n.el=r=as(t,Y_+1,"defs",ss)),i=kCt(r,n.clipping[o],i);r&&(i===0?(t.removeChild(r),n.el=null):yc(r,i))}_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}}function Gce(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function TCt(e,t,n){let r,i,o;if(t.gradient==="radial"){let s=as(e,n++,"pattern",ss);Ug(s,{id:SO+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),s=as(s,0,"rect",ss),Ug(s,{width:1,height:1,fill:`url(${yAe()}#${t.id})`}),e=as(e,n++,"radialGradient",ss),Ug(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=as(e,n++,"linearGradient",ss),Ug(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)o=as(e,r,"stop",ss),o.setAttribute("offset",t.stops[r].offset),o.setAttribute("stop-color",t.stops[r].color);return yc(e,r),n}function kCt(e,t,n){let r;return e=as(e,n,"clipPath",ss),e.setAttribute("id",t.id),t.path?(r=as(e,0,"path",ss),r.setAttribute("d",t.path)):(r=as(e,0,"rect",ss),Ug(r,{x:0,y:0,width:t.width,height:t.height})),yc(e,1),n+1}function ACt(e,t,n,r){t=t.lastChild.previousSibling;let i,o=0;Qd(n,s=>{i=e.mark(t,s,i,r),++o}),yc(t,1+o)}function Yce(e,t,n,r,i){let o=e._svg,s;if(!o&&(s=t.ownerDocument,o=zg(s,r,ss),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},r==="g"))){const a=zg(s,"path",ss);o.appendChild(a),a.__data__=e;const l=zg(s,"g",ss);o.appendChild(l),l.__data__=e;const u=zg(s,"path",ss);o.appendChild(u),u.__data__=e,u.__values__={fill:"default"}}return(o.ownerSVGElement!==i||RCt(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}function RCt(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let Lp=null,ka=null;const ICt={group(e,t,n){const r=Lp=t.childNodes[2];ka=r.__values__,e.foreground(TS,n,this),ka=t.__values__,Lp=t.childNodes[1],e.content(TS,n,this);const i=Lp=t.childNodes[0];e.background(TS,n,this);const o=n.mark.interactive===!1?"none":null;if(o!==ka.events&&(tl(r,"pointer-events",o),tl(i,"pointer-events",o),ka.events=o),n.strokeForeground&&n.stroke){const s=n.fill;tl(r,"display",null),this.style(i,n),tl(i,"stroke",null),s&&(n.fill=null),ka=r.__values__,this.style(r,n),s&&(n.fill=s),Lp=null}else tl(r,"display","none")},image(e,t,n){n.smooth===!1?(OP(t,"image-rendering","optimizeSpeed"),OP(t,"image-rendering","pixelated")):OP(t,"image-rendering",null)},text(e,t,n){const r=hk(n);let i,o,s,a;cn(r)?(o=r.map(l=>k0(n,l)),i=o.join(`
`),i!==ka.text&&(yc(t,0),s=t.ownerDocument,a=T0(n),o.forEach((l,u)=>{const c=zg(s,"tspan",ss);c.__data__=n,c.textContent=l,u&&(c.setAttribute("x",0),c.setAttribute("dy",a)),t.appendChild(c)}),ka.text=i)):(o=k0(n,r),o!==ka.text&&(t.textContent=o,ka.text=o)),tl(t,"font-family",pk(n)),tl(t,"font-size",qh(n)+"px"),tl(t,"font-style",n.fontStyle),tl(t,"font-variant",n.fontVariant),tl(t,"font-weight",n.fontWeight)}};function TS(e,t,n){t!==ka[e]&&(n?DCt(Lp,e,t,n):tl(Lp,e,t),ka[e]=t)}function OP(e,t,n){n!==ka[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),ka[t]=n)}function Ug(e,t){for(const n in t)tl(e,n,t[n])}function tl(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function DCt(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function yAe(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}class vAe extends mk{constructor(t){super(t),this._text=null,this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(t){const n=XX();n.open("svg",tr({},L2,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const r=this._bgcolor;return r&&r!=="transparent"&&r!=="none"&&n.open("rect",{width:this._width,height:this._height,fill:r}).close(),n.open("g",gAe,{transform:"translate("+this._origin+")"}),this.mark(n,t),n.close(),this.defs(n),this._text=n.close()+"",this}mark(t,n){const r=Gu[n.marktype],i=r.tag,o=[cAe,r.attr];t.open("g",{class:Zke(n),"clip-path":n.clip?AX(this,n,n.group):null},dAe(n),{"pointer-events":i!=="g"&&n.interactive===!1?"none":null});const s=a=>{const l=this.href(a);if(l&&t.open("a",l),t.open(i,this.attr(n,a,o,i!=="g"?i:null)),i==="text"){const u=hk(a);if(cn(u)){const c={x:0,dy:T0(a)};for(let d=0;d<u.length;++d)t.open("tspan",d?c:null).text(k0(a,u[d])).close()}else t.text(k0(a,u))}else if(i==="g"){const u=a.strokeForeground,c=a.fill,d=a.stroke;u&&d&&(a.stroke=null),t.open("path",this.attr(n,a,r.background,"bgrect")).close(),t.open("g",this.attr(n,a,r.content)),Qd(a,f=>this.mark(t,f)),t.close(),u&&d?(c&&(a.fill=null),a.stroke=d,t.open("path",this.attr(n,a,r.foreground,"bgrect")).close(),c&&(a.fill=c)):t.open("path",this.attr(n,a,r.foreground,"bgfore")).close()}t.close(),l&&t.close()};return r.nested?n.items&&n.items.length&&s(n.items[0]):Qd(n,s),t.close()}href(t){const n=t.href;let r;if(n){if(r=this._hrefs&&this._hrefs[n])return r;this.sanitizeURL(n).then(i=>{i["xlink:href"]=i.href,i.href=null,(this._hrefs||(this._hrefs={}))[n]=i})}return null}attr(t,n,r,i){const o={},s=(a,l,u,c)=>{o[c||a]=l};return Array.isArray(r)?r.forEach(a=>a(s,n,this)):r(s,n,this),i&&PCt(o,n,t,i,this._defs),o}defs(t){const n=this._defs.gradient,r=this._defs.clipping;if(Object.keys(n).length+Object.keys(r).length!==0){t.open("defs");for(const o in n){const s=n[o],a=s.stops;s.gradient==="radial"?(t.open("pattern",{id:SO+o,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+o+")"}).close(),t.close(),t.open("radialGradient",{id:o,fx:s.x1,fy:s.y1,fr:s.r1,cx:s.x2,cy:s.y2,r:s.r2})):t.open("linearGradient",{id:o,x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2});for(let l=0;l<a.length;++l)t.open("stop",{offset:a[l].offset,"stop-color":a[l].color}).close();t.close()}for(const o in r){const s=r[o];t.open("clipPath",{id:o}),s.path?t.open("path",{d:s.path}).close():t.open("rect",{x:0,y:0,width:s.width,height:s.height}).close(),t.close()}t.close()}}}function PCt(e,t,n,r,i){let o;if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(o=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),r==="text"&&(e["font-family"]=pk(t),e["font-size"]=qh(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const s in $O){let a=t[s];const l=$O[s];a==="transparent"&&(l==="fill"||l==="stroke")||a!=null&&(SX(a)&&(a=Ake(a,i.gradient,"")),e[l]=a)}for(const s in LO){const a=t[s];a!=null&&(o=o||[],o.push(`${LO[s]}: ${a};`))}return o&&(e.style=o.join(" ")),e}const gd={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};function OCt(e){gd.svgMarkTypes=e.svgMarkTypes??["text"],gd.svgOnTop=e.svgOnTop??!0,gd.debug=e.debug??!1}class DU extends mk{constructor(t){super(t),this._svgRenderer=new QX(t),this._canvasRenderer=new MO(t)}initialize(t,n,r,i,o){this._root_el=as(t,0,"div");const s=as(this._root_el,0,"div"),a=as(this._root_el,1,"div");return this._root_el.style.position="relative",gd.debug||(s.style.height="100%",a.style.position="absolute",a.style.top="0",a.style.left="0",a.style.height="100%",a.style.width="100%"),this._svgEl=gd.svgOnTop?a:s,this._canvasEl=gd.svgOnTop?s:a,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,n,r,i,o),this._svgRenderer.initialize(this._svgEl,n,r,i,o),super.initialize(t,n,r,i,o)}dirty(t){return gd.svgMarkTypes.includes(t.mark.marktype)?this._svgRenderer.dirty(t):this._canvasRenderer.dirty(t),this}_render(t,n){const i=(n??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter(o=>!gd.svgMarkTypes.includes(o));this._svgRenderer.render(t,gd.svgMarkTypes),this._canvasRenderer.render(t,i)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svgRenderer.resize(t,n,r,i),this._canvasRenderer.resize(t,n,r,i),this}background(t){return gd.svgOnTop?this._canvasRenderer.background(t):this._svgRenderer.background(t),this}}class bAe extends gk{constructor(t,n){super(t,n)}initialize(t,n,r){const i=as(as(t,0,"div"),gd.svgOnTop?0:1,"div");return super.initialize(i,n,r)}}const wAe="canvas",xAe="hybrid",CAe="png",_Ae="svg",EAe="none",Hg={Canvas:wAe,PNG:CAe,SVG:_Ae,Hybrid:xAe,None:EAe},Qv={};Qv[wAe]=Qv[CAe]={renderer:MO,headless:MO,handler:gk};Qv[_Ae]={renderer:QX,headless:vAe,handler:sAe};Qv[xAe]={renderer:DU,headless:DU,handler:bAe};Qv[EAe]={};function T6(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(Qv[e]=t,this):Qv[e]}function SAe(e,t,n){const r=[],i=new Ko().union(t),o=e.marktype;return o?TAe(e,i,n,r):o==="group"?kAe(e,i,n,r):it("Intersect scene must be mark node or group item.")}function TAe(e,t,n,r){if(NCt(e,t,n)){const i=e.items,o=e.marktype,s=i.length;let a=0;if(o==="group")for(;a<s;++a)kAe(i[a],t,n,r);else for(const l=Gu[o].isect;a<s;++a){const u=i[a];AAe(u,t,l)&&r.push(u)}}return r}function NCt(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function kAe(e,t,n,r){n&&n(e.mark)&&AAe(e,t,Gu.group.isect)&&r.push(e);const i=e.items,o=i&&i.length;if(o){const s=e.x||0,a=e.y||0;t.translate(-s,-a);for(let l=0;l<o;++l)TAe(i[l],t,n,r);t.translate(s,a)}return r}function AAe(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const Hj=new Ko;function RAe(e){const t=e.clip;if(nr(t))t(dk(Hj.clear()));else if(t)Hj.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(Hj)}const MCt=1e-9;function JX(e,t,n){return e===t?!0:n==="path"?IAe(e,t):e instanceof Date&&t instanceof Date?+e==+t:b0(e)&&b0(t)?Math.abs(e-t)<=MCt:!e||!t||!Gn(e)&&!Gn(t)?e==t:$Ct(e,t)}function IAe(e,t){return JX(xx(e),xx(t))}function $Ct(e,t){var n=Object.keys(e),r=Object.keys(t),i,o;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),o=n.length-1;o>=0;o--)if(n[o]!=r[o])return!1;for(o=n.length-1;o>=0;o--)if(i=n[o],!JX(e[i],t[i],i))return!1;return typeof e==typeof t}function LCt(){Jwt(),swt()}const Ex="top",Sd="left",Id="right",A0="bottom",FCt="top-left",jCt="top-right",BCt="bottom-left",zCt="bottom-right",ZX="start",PU="middle",il="end",UCt="x",HCt="y",k6="group",eQ="axis",tQ="title",qCt="frame",VCt="scope",nQ="legend",DAe="row-header",PAe="row-footer",OAe="row-title",NAe="column-header",MAe="column-footer",$Ae="column-title",WCt="padding",GCt="symbol",LAe="fit",FAe="fit-x",jAe="fit-y",YCt="pad",rQ="none",BR="all",OU="each",iQ="flush",qg="column",Vg="row";function BAe(e){et.call(this,null,e)}It(BAe,et,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,o=Gu[i],s=o.bound;let a=r.bounds,l;if(o.nested)r.items.length&&n.dirty(r.items[0]),a=zR(r,s),r.items.forEach(u=>{u.bounds.clear().union(a)});else if(i===k6||e.modified())switch(t.visit(t.MOD,u=>n.dirty(u)),a.clear(),r.items.forEach(u=>a.union(zR(u,s))),r.role){case eQ:case nQ:case tQ:t.reflow()}else l=t.changed(t.REM),t.visit(t.ADD,u=>{a.union(zR(u,s))}),t.visit(t.MOD,u=>{l=l||a.alignsWith(u.bounds),n.dirty(u),a.union(zR(u,s))}),l&&(a.clear(),r.items.forEach(u=>a.union(u.bounds)));return RAe(r),t.modifies("bounds")}});function zR(e,t,n){return t(e.bounds.clear(),e,n)}const Kce=":vega_identifier:";function oQ(e){et.call(this,0,e)}oQ.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};It(oQ,et,{transform(e,t){const n=KCt(t.dataflow),r=e.as;let i=n.value;return t.visit(t.ADD,o=>o[r]=o[r]||++i),n.set(this.value=i),t}});function KCt(e){return e._signals[Kce]||(e._signals[Kce]=e.add(0))}function zAe(e){et.call(this,null,e)}It(zAe,et,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,XCt(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===k6?v6:y6;return t.visit(t.ADD,i=>r.call(i,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function XCt(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function UAe(e){et.call(this,null,e)}const Xce={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,i)=>!i||!HAe(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},HAe=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),Qce=(e,t)=>{for(var n=1,r=e.length,i=e[0].bounds,o;n<r;i=o,++n)if(HAe(i,o=e[n].bounds,t))return!0},QCt=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},JCt=(e,t,n)=>{var r=e.range(),i=new Ko;return t===Ex||t===A0?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),o=>i.encloses(o.bounds)},Jce=e=>(e.forEach(t=>t.opacity=1),e),Zce=(e,t)=>e.reflow(t.modified()).modifies("opacity");It(UAe,et,{transform(e,t){const n=Xce[e.method]||Xce.parity,r=e.separation||0;let i=t.materialize(t.SOURCE).source,o,s;if(!i||!i.length)return;if(!e.method)return e.modified("method")&&(Jce(i),t=Zce(t,e)),t;if(i=i.filter(QCt),!i.length)return;if(e.sort&&(i=i.slice().sort(e.sort)),o=Jce(i),t=Zce(t,e),o.length>=3&&Qce(o,r)){do o=n(o,r);while(o.length>=3&&Qce(o,r));o.length<3&&!Er(i).opacity&&(o.length>1&&(Er(o).opacity=0),Er(i).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(s=JCt(e.boundScale,e.boundOrient,+e.boundTolerance),i.forEach(l=>{s(l)||(l.opacity=0)}));const a=o[0].mark.bounds.clear();return i.forEach(l=>{l.opacity&&a.union(l.bounds)}),t}});function qAe(e){et.call(this,null,e)}It(qAe,et,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const Sa=new Ko;function gw(e,t,n){return e[t]===n?0:(e[t]=n,1)}function ZCt(e){var t=e.items[0].orient;return t===Sd||t===Id}function e_t(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function t_t(e,t,n,r){var i=t.items[0],o=i.datum,s=i.translate!=null?i.translate:.5,a=i.orient,l=e_t(o),u=i.range,c=i.offset,d=i.position,f=i.minExtent,h=i.maxExtent,m=o.title&&i.items[l[2]].items[0],p=i.titlePadding,g=i.bounds,v=m&&zX(m),y=0,w=0,_,E;switch(Sa.clear().union(g),g.clear(),(_=l[0])>-1&&g.union(i.items[_].bounds),(_=l[1])>-1&&g.union(i.items[_].bounds),a){case Ex:y=d||0,w=-c,E=Math.max(f,Math.min(h,-g.y1)),g.add(0,-E).add(u,0),m&&UR(e,m,E,p,v,0,-1,g);break;case Sd:y=-c,w=d||0,E=Math.max(f,Math.min(h,-g.x1)),g.add(-E,0).add(0,u),m&&UR(e,m,E,p,v,1,-1,g);break;case Id:y=n+c,w=d||0,E=Math.max(f,Math.min(h,g.x2)),g.add(0,0).add(E,u),m&&UR(e,m,E,p,v,1,1,g);break;case A0:y=d||0,w=r+c,E=Math.max(f,Math.min(h,g.y2)),g.add(0,0).add(u,E),m&&UR(e,m,E,p,0,0,1,g);break;default:y=i.x,w=i.y}return Mm(g.translate(y,w),i),gw(i,"x",y+s)|gw(i,"y",w+s)&&(i.bounds=Sa,e.dirty(i),i.bounds=g,e.dirty(i)),i.mark.bounds.clear().union(g)}function UR(e,t,n,r,i,o,s,a){const l=t.bounds;if(t.auto){const u=s*(n+i+r);let c=0,d=0;e.dirty(t),o?c=(t.x||0)-(t.x=u):d=(t.y||0)-(t.y=u),t.mark.bounds.clear().union(l.translate(-c,-d)),e.dirty(t)}a.union(l)}const ede=(e,t)=>Math.floor(Math.min(e,t)),tde=(e,t)=>Math.ceil(Math.max(e,t));function n_t(e){var t=e.items,n=t.length,r=0,i,o;const s={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(i=t[r],o=i.items,i.marktype===k6)switch(i.role){case eQ:case nQ:case tQ:break;case DAe:s.rowheaders.push(...o);break;case PAe:s.rowfooters.push(...o);break;case NAe:s.colheaders.push(...o);break;case MAe:s.colfooters.push(...o);break;case OAe:s.rowtitle=o[0];break;case $Ae:s.coltitle=o[0];break;default:s.marks.push(...o)}return s}function r_t(e){return new Ko().set(0,0,e.width||0,e.height||0)}function i_t(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function Gi(e,t,n){const r=Gn(e)?e[t]:e;return r??(n!==void 0?n:0)}function nde(e){return e<0?Math.ceil(-e):0}function VAe(e,t,n){var r=!n.nodirty,i=n.bounds===iQ?r_t:i_t,o=Sa.set(0,0,0,0),s=Gi(n.align,qg),a=Gi(n.align,Vg),l=Gi(n.padding,qg),u=Gi(n.padding,Vg),c=n.columns||t.length,d=c<=0?1:Math.ceil(t.length/c),f=t.length,h=Array(f),m=Array(c),p=0,g=Array(f),v=Array(d),y=0,w=Array(f),_=Array(f),E=Array(f),S,T,k,R,I,P,N,M,O,j,U;for(T=0;T<c;++T)m[T]=0;for(T=0;T<d;++T)v[T]=0;for(T=0;T<f;++T)P=t[T],I=E[T]=i(P),P.x=P.x||0,w[T]=0,P.y=P.y||0,_[T]=0,k=T%c,R=~~(T/c),p=Math.max(p,N=Math.ceil(I.x2)),y=Math.max(y,M=Math.ceil(I.y2)),m[k]=Math.max(m[k],N),v[R]=Math.max(v[R],M),h[T]=l+nde(I.x1),g[T]=u+nde(I.y1),r&&e.dirty(t[T]);for(T=0;T<f;++T)T%c===0&&(h[T]=0),T<c&&(g[T]=0);if(s===OU)for(k=1;k<c;++k){for(U=0,T=k;T<f;T+=c)U<h[T]&&(U=h[T]);for(T=k;T<f;T+=c)h[T]=U+m[k-1]}else if(s===BR){for(U=0,T=0;T<f;++T)T%c&&U<h[T]&&(U=h[T]);for(T=0;T<f;++T)T%c&&(h[T]=U+p)}else for(s=!1,k=1;k<c;++k)for(T=k;T<f;T+=c)h[T]+=m[k-1];if(a===OU)for(R=1;R<d;++R){for(U=0,T=R*c,S=T+c;T<S;++T)U<g[T]&&(U=g[T]);for(T=R*c;T<S;++T)g[T]=U+v[R-1]}else if(a===BR){for(U=0,T=c;T<f;++T)U<g[T]&&(U=g[T]);for(T=c;T<f;++T)g[T]=U+y}else for(a=!1,R=1;R<d;++R)for(T=R*c,S=T+c;T<S;++T)g[T]+=v[R-1];for(O=0,T=0;T<f;++T)O=h[T]+(T%c?O:0),w[T]+=O-t[T].x;for(k=0;k<c;++k)for(j=0,T=k;T<f;T+=c)j+=g[T],_[T]+=j-t[T].y;if(s&&Gi(n.center,qg)&&d>1)for(T=0;T<f;++T)I=s===BR?p:m[T%c],O=I-E[T].x2-t[T].x-w[T],O>0&&(w[T]+=O/2);if(a&&Gi(n.center,Vg)&&c!==1)for(T=0;T<f;++T)I=a===BR?y:v[~~(T/c)],j=I-E[T].y2-t[T].y-_[T],j>0&&(_[T]+=j/2);for(T=0;T<f;++T)o.union(E[T].translate(w[T],_[T]));switch(O=Gi(n.anchor,UCt),j=Gi(n.anchor,HCt),Gi(n.anchor,qg)){case il:O-=o.width();break;case PU:O-=o.width()/2}switch(Gi(n.anchor,Vg)){case il:j-=o.height();break;case PU:j-=o.height()/2}for(O=Math.round(O),j=Math.round(j),o.clear(),T=0;T<f;++T)t[T].mark.bounds.clear();for(T=0;T<f;++T)P=t[T],P.x+=w[T]+=O,P.y+=_[T]+=j,o.union(P.mark.bounds.union(P.bounds.translate(w[T],_[T]))),r&&e.dirty(P);return o}function o_t(e,t,n){var r=n_t(t),i=r.marks,o=n.bounds===iQ?s_t:a_t,s=n.offset,a=n.columns||i.length,l=a<=0?1:Math.ceil(i.length/a),u=l*a,c,d,f,h,m,p,g;const v=VAe(e,i,n);v.empty()&&v.set(0,0,0,0),r.rowheaders&&(p=Gi(n.headerBand,Vg,null),c=HR(e,r.rowheaders,i,a,l,-Gi(s,"rowHeader"),ede,0,o,"x1",0,a,1,p)),r.colheaders&&(p=Gi(n.headerBand,qg,null),d=HR(e,r.colheaders,i,a,a,-Gi(s,"columnHeader"),ede,1,o,"y1",0,1,a,p)),r.rowfooters&&(p=Gi(n.footerBand,Vg,null),f=HR(e,r.rowfooters,i,a,l,Gi(s,"rowFooter"),tde,0,o,"x2",a-1,a,1,p)),r.colfooters&&(p=Gi(n.footerBand,qg,null),h=HR(e,r.colfooters,i,a,a,Gi(s,"columnFooter"),tde,1,o,"y2",u-a,1,a,p)),r.rowtitle&&(m=Gi(n.titleAnchor,Vg),g=Gi(s,"rowTitle"),g=m===il?f+g:c-g,p=Gi(n.titleBand,Vg,.5),rde(e,r.rowtitle,g,0,v,p)),r.coltitle&&(m=Gi(n.titleAnchor,qg),g=Gi(s,"columnTitle"),g=m===il?h+g:d-g,p=Gi(n.titleBand,qg,.5),rde(e,r.coltitle,g,1,v,p))}function s_t(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function a_t(e,t){return e.bounds[t]}function HR(e,t,n,r,i,o,s,a,l,u,c,d,f,h){var m=n.length,p=0,g=0,v,y,w,_,E,S,T,k,R;if(!m)return p;for(v=c;v<m;v+=d)n[v]&&(p=s(p,l(n[v],u)));if(!t.length)return p;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),p+=o,y=0,_=t.length;y<_;++y)e.dirty(t[y]),t[y].mark.bounds.clear();for(v=c,y=0,_=t.length;y<_;++y,v+=d){for(S=t[y],E=S.mark.bounds,w=v;w>=0&&(T=n[w])==null;w-=f);a?(k=h==null?T.x:Math.round(T.bounds.x1+h*T.bounds.width()),R=p):(k=p,R=h==null?T.y:Math.round(T.bounds.y1+h*T.bounds.height())),E.union(S.bounds.translate(k-(S.x||0),R-(S.y||0))),S.x=k,S.y=R,e.dirty(S),g=s(g,E[u])}return g}function rde(e,t,n,r,i,o){if(t){e.dirty(t);var s=n,a=n;r?s=Math.round(i.x1+o*i.width()):a=Math.round(i.y1+o*i.height()),t.bounds.translate(s-(t.x||0),a-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=s,t.y=a,e.dirty(t)}}function l_t(e,t){const n=e[t]||{};return(r,i)=>n[r]!=null?n[r]:e[r]!=null?e[r]:i}function u_t(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function c_t(e,t,n,r,i,o,s){const a=l_t(n,t),l=u_t(e,a("offset",0)),u=a("anchor",ZX),c=u===il?1:u===PU?.5:0,d={align:OU,bounds:a("bounds",iQ),columns:a("direction")==="vertical"?1:e.length,padding:a("margin",8),center:a("center"),nodirty:!0};switch(t){case Sd:d.anchor={x:Math.floor(r.x1)-l,column:il,y:c*(s||r.height()+2*r.y1),row:u};break;case Id:d.anchor={x:Math.ceil(r.x2)+l,y:c*(s||r.height()+2*r.y1),row:u};break;case Ex:d.anchor={y:Math.floor(i.y1)-l,row:il,x:c*(o||i.width()+2*i.x1),column:u};break;case A0:d.anchor={y:Math.ceil(i.y2)+l,x:c*(o||i.width()+2*i.x1),column:u};break;case FCt:d.anchor={x:l,y:l};break;case jCt:d.anchor={x:o-l,y:l,column:il};break;case BCt:d.anchor={x:l,y:s-l,row:il};break;case zCt:d.anchor={x:o-l,y:s-l,column:il,row:il};break}return d}function d_t(e,t){var n=t.items[0],r=n.datum,i=n.orient,o=n.bounds,s=n.x,a=n.y,l,u;return n._bounds?n._bounds.clear().union(o):n._bounds=o.clone(),o.clear(),h_t(e,n,n.items[0].items[0]),o=f_t(n,o),l=2*n.padding,u=2*n.padding,o.empty()||(l=Math.ceil(o.width()+l),u=Math.ceil(o.height()+u)),r.type===GCt&&p_t(n.items[0].items[0].items[0].items),i!==rQ&&(n.x=s=0,n.y=a=0),n.width=l,n.height=u,Mm(o.set(s,a,s+l,a+u),n),n.mark.bounds.clear().union(o),n}function f_t(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function h_t(e,t,n){var r=t.padding,i=r-n.x,o=r-n.y;if(!t.datum.title)(i||o)&&K_(e,n,i,o);else{var s=t.items[1].items[0],a=s.anchor,l=t.titlePadding||0,u=r-s.x,c=r-s.y;switch(s.orient){case Sd:i+=Math.ceil(s.bounds.width())+l;break;case Id:case A0:break;default:o+=s.bounds.height()+l}switch((i||o)&&K_(e,n,i,o),s.orient){case Sd:c+=L1(t,n,s,a,1,1);break;case Id:u+=L1(t,n,s,il,0,0)+l,c+=L1(t,n,s,a,1,1);break;case A0:u+=L1(t,n,s,a,0,0),c+=L1(t,n,s,il,-1,0,1)+l;break;default:u+=L1(t,n,s,a,0,0)}(u||c)&&K_(e,s,u,c),(u=Math.round(s.bounds.x1-r))<0&&(K_(e,n,-u,0),K_(e,s,-u,0))}}function L1(e,t,n,r,i,o,s){const a=e.datum.type!=="symbol",l=n.datum.vgrad,u=a&&(o||!l)&&!s?t.items[0]:t,c=u.bounds[i?"y2":"x2"]-e.padding,d=l&&o?c:0,f=l&&o?0:c,h=i<=0?0:zX(n);return Math.round(r===ZX?d:r===il?f-h:.5*(c-h))}function K_(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function p_t(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function m_t(e,t,n,r,i){var o=t.items[0],s=o.frame,a=o.orient,l=o.anchor,u=o.offset,c=o.padding,d=o.items[0].items[0],f=o.items[1]&&o.items[1].items[0],h=a===Sd||a===Id?r:n,m=0,p=0,g=0,v=0,y=0,w;if(s!==k6?a===Sd?(m=i.y2,h=i.y1):a===Id?(m=i.y1,h=i.y2):(m=i.x1,h=i.x2):a===Sd&&(m=r,h=0),w=l===ZX?m:l===il?h:(m+h)/2,f&&f.text){switch(a){case Ex:case A0:y=d.bounds.height()+c;break;case Sd:v=d.bounds.width()+c;break;case Id:v=-d.bounds.width()-c;break}Sa.clear().union(f.bounds),Sa.translate(v-(f.x||0),y-(f.y||0)),gw(f,"x",v)|gw(f,"y",y)&&(e.dirty(f),f.bounds.clear().union(Sa),f.mark.bounds.clear().union(Sa),e.dirty(f)),Sa.clear().union(f.bounds)}else Sa.clear();switch(Sa.union(d.bounds),a){case Ex:p=w,g=i.y1-Sa.height()-u;break;case Sd:p=i.x1-Sa.width()-u,g=w;break;case Id:p=i.x2+Sa.width()+u,g=w;break;case A0:p=w,g=i.y2+u;break;default:p=o.x,g=o.y}return gw(o,"x",p)|gw(o,"y",g)&&(Sa.translate(p,g),e.dirty(o),o.bounds.clear().union(Sa),t.bounds.clear().union(Sa),e.dirty(o)),o.bounds}function WAe(e){et.call(this,null,e)}It(WAe,et,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&o_t(n,r,e.layout),y_t(n,r,e)}),g_t(e.mark.group)?t.reflow():t}});function g_t(e){return e&&e.mark.role!=="legend-entry"}function y_t(e,t,n){var r=t.items,i=Math.max(0,t.width||0),o=Math.max(0,t.height||0),s=new Ko().set(0,0,i,o),a=s.clone(),l=s.clone(),u=[],c,d,f,h,m,p;for(m=0,p=r.length;m<p;++m)switch(d=r[m],d.role){case eQ:h=ZCt(d)?a:l,h.union(t_t(e,d,i,o));break;case tQ:c=d;break;case nQ:u.push(d_t(e,d));break;case qCt:case VCt:case DAe:case PAe:case OAe:case NAe:case MAe:case $Ae:a.union(d.bounds),l.union(d.bounds);break;default:s.union(d.bounds)}if(u.length){const g={};u.forEach(v=>{f=v.orient||Id,f!==rQ&&(g[f]||(g[f]=[])).push(v)});for(const v in g){const y=g[v];VAe(e,y,c_t(y,v,n.legends,a,l,i,o))}u.forEach(v=>{const y=v.bounds;if(y.equals(v._bounds)||(v.bounds=v._bounds,e.dirty(v),v.bounds=y,e.dirty(v)),n.autosize&&(n.autosize.type===LAe||n.autosize.type===FAe||n.autosize.type===jAe))switch(v.orient){case Sd:case Id:s.add(y.x1,0).add(y.x2,0);break;case Ex:case A0:s.add(0,y.y1).add(0,y.y2)}else s.union(y)})}s.union(a).union(l),c&&s.union(m_t(e,c,i,o,s)),t.clip&&s.set(0,0,t.width||0,t.height||0),v_t(e,t,s,n)}function v_t(e,t,n,r){const i=r.autosize||{},o=i.type;if(e._autosize<1||!o)return;let s=e._width,a=e._height,l=Math.max(0,t.width||0),u=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,t.height||0),d=Math.max(0,Math.ceil(-n.y1));const f=Math.max(0,Math.ceil(n.x2-l)),h=Math.max(0,Math.ceil(n.y2-c));if(i.contains===WCt){const m=e.padding();s-=m.left+m.right,a-=m.top+m.bottom}o===rQ?(u=0,d=0,l=s,c=a):o===LAe?(l=Math.max(0,s-u-f),c=Math.max(0,a-d-h)):o===FAe?(l=Math.max(0,s-u-f),a=c+d+h):o===jAe?(s=l+u+f,c=Math.max(0,a-d-h)):o===YCt&&(s=l+u+f,a=c+d+h),e._resizeView(s,a,l,c,[u,d],i.resize)}const b_t=Object.freeze(Object.defineProperty({__proto__:null,bound:BAe,identifier:oQ,mark:zAe,overlap:UAe,render:qAe,viewlayout:WAe},Symbol.toStringTag,{value:"Module"}));function GAe(e){et.call(this,null,e)}It(GAe,et,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.scale,s=e.count==null?e.values?e.values.length:10:e.count,a=_X(o,s,e.minstep),l=e.format||xke(n,o,a,e.formatSpecifier,e.formatType,!!e.values),u=e.values?wke(o,e.values,a):EX(o,a);return i&&(r.rem=i),i=u.map((c,d)=>Zr({index:d/(u.length-1||1),value:c,label:l(c)})),e.extra&&i.length&&i.push(Zr({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}});function YAe(e){et.call(this,null,e)}function w_t(){return Zr({})}function x_t(e){const t=xC().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}It(YAe,et,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||w_t,o=e.key||mn,s=this.value;return cn(r.encode)&&(r.encode=null),s&&(e.modified("key")||t.modified(o))&&it("DataJoin does not support modified key function or fields."),s||(t=t.addAll(),this.value=s=x_t(o)),t.visit(t.ADD,a=>{const l=o(a);let u=s.get(l);u?u.exit?(s.empty--,r.add.push(u)):r.mod.push(u):(u=i(a),s.set(l,u),r.add.push(u)),u.datum=a,u.exit=!1}),t.visit(t.MOD,a=>{const l=o(a),u=s.get(l);u&&(u.datum=a,r.mod.push(u))}),t.visit(t.REM,a=>{const l=o(a),u=s.get(l);a===u.datum&&!u.exit&&(r.rem.push(u),u.exit=!0,++s.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&s.empty>n.cleanThreshold)&&n.runAfter(s.clean),r}});function KAe(e){et.call(this,null,e)}It(KAe,et,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,o=t.encode;if(cn(o))if(n.changed()||o.every(d=>i[d]))o=o[0],n.encode=null;else return t.StopPropagation;var s=o==="enter",a=i.update||wg,l=i.enter||wg,u=i.exit||wg,c=(o&&!s?i[o]:a)||wg;if(t.changed(t.ADD)&&(t.visit(t.ADD,d=>{l(d,e),a(d,e)}),n.modifies(l.output),n.modifies(a.output),c!==wg&&c!==a&&(t.visit(t.ADD,d=>{c(d,e)}),n.modifies(c.output))),t.changed(t.REM)&&u!==wg&&(t.visit(t.REM,d=>{u(d,e)}),n.modifies(u.output)),s||c!==wg){const d=t.MOD|(e.modified()?t.REFLOW:0);s?(t.visit(d,f=>{const h=l(f,e)||r;(c(f,e)||h)&&n.mod.push(f)}),n.mod.length&&n.modifies(l.output)):t.visit(d,f=>{(c(f,e)||r)&&n.mod.push(f)}),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation}});function XAe(e){et.call(this,[],e)}It(XAe,et,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.type||SP,s=e.scale,a=+e.limit,l=_X(s,e.count==null?5:e.count,e.minstep),u=!!e.values||o===SP,c=e.format||Ske(n,s,l,o,e.formatSpecifier,e.formatType,u),d=e.values||Eke(s,l),f,h,m,p,g;return i&&(r.rem=i),o===SP?(a&&d.length>a?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),i=d.slice(0,a-1),g=!0):i=d,nr(m=e.size)?(!e.values&&s(i[0])===0&&(i=i.slice(1)),p=i.reduce((v,y)=>Math.max(v,m(y,e)),0)):m=Ua(p=m||8),i=i.map((v,y)=>Zr({index:y,label:c(v,y,i),value:v,offset:p,size:m(v,e)})),g&&(g=d[i.length],i.push(Zr({index:i.length,label:`${d.length-i.length} entries`,value:g,offset:p,size:m(g,e)})))):o===G1t?(f=s.domain(),h=yke(s,f[0],Er(f)),d.length<3&&!e.values&&f[0]!==Er(f)&&(d=[f[0],Er(f)]),i=d.map((v,y)=>Zr({index:y,label:c(v,y,d),value:v,perc:h(v)}))):(m=d.length-1,h=iwt(s),i=d.map((v,y)=>Zr({index:y,label:c(v,y,d),value:v,perc:y?h(v):0,perc2:y===m?1:h(d[y+1])}))),r.source=i,r.add=i,this.value=i,r}});const C_t=e=>e.source.x,__t=e=>e.source.y,E_t=e=>e.target.x,S_t=e=>e.target.y;function sQ(e){et.call(this,{},e)}sQ.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};It(sQ,et,{transform(e,t){var n=e.sourceX||C_t,r=e.sourceY||__t,i=e.targetX||E_t,o=e.targetY||S_t,s=e.as||"path",a=e.orient||"vertical",l=e.shape||"line",u=ide.get(l+"-"+a)||ide.get(l);return u||it("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,c=>{c[s]=u(n(c),r(c),i(c),o(c))}),t.reflow(e.modified()).modifies(s)}});const QAe=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,T_t=(e,t,n,r)=>QAe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),JAe=(e,t,n,r)=>{var i=n-e,o=r-t,s=Math.hypot(i,o)/2,a=180*Math.atan2(o,i)/Math.PI;return"M"+e+","+t+"A"+s+","+s+" "+a+" 0 1 "+n+","+r},k_t=(e,t,n,r)=>JAe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),ZAe=(e,t,n,r)=>{const i=n-e,o=r-t,s=.2*(i+o),a=.2*(o-i);return"M"+e+","+t+"C"+(e+s)+","+(t+a)+" "+(n+a)+","+(r-s)+" "+n+","+r},A_t=(e,t,n,r)=>ZAe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),R_t=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,I_t=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,D_t=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n),l=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*o+"A"+t+","+t+" 0 0,"+(l?1:0)+" "+t*s+","+t*a+"L"+r*s+","+r*a},P_t=(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},O_t=(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},N_t=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n),l=(t+r)/2;return"M"+t*i+","+t*o+"C"+l*i+","+l*o+" "+l*s+","+l*a+" "+r*s+","+r*a},ide=xC({line:QAe,"line-radial":T_t,arc:JAe,"arc-radial":k_t,curve:ZAe,"curve-radial":A_t,"orthogonal-horizontal":R_t,"orthogonal-vertical":I_t,"orthogonal-radial":D_t,"diagonal-horizontal":P_t,"diagonal-vertical":O_t,"diagonal-radial":N_t});function aQ(e){et.call(this,null,e)}aQ.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};It(aQ,et,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],i=n[1],o=e.field||wC,s=e.startAngle||0,a=e.endAngle!=null?e.endAngle:2*Math.PI,l=t.source,u=l.map(o),c=u.length,d=s,f=(a-s)/pSe(u),h=Du(c),m,p,g;for(e.sort&&h.sort((v,y)=>u[v]-u[y]),m=0;m<c;++m)g=u[h[m]],p=l[h[m]],p[r]=d,p[i]=d+=g*f;return this.value=u,t.reflow(e.modified()).modifies(n)}});const M_t=5;function $_t(e){const t=e.type;return!e.bins&&(t===vx||t===ik||t===ok)}function eRe(e){return wX(e)&&e!==yh}const L_t=Kd(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function tRe(e){et.call(this,null,e),this.modified(!0)}It(tRe,et,{transform(e,t){var n=t.dataflow,r=this.value,i=F_t(e);(!r||i!==r.type)&&(this.value=r=Gr(i)());for(i in e)if(!L_t[i]){if(i==="padding"&&eRe(r.type))continue;nr(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return q_t(r,e,H_t(r,e,B_t(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function F_t(e){var t=e.type,n="",r;return t===yh?yh+"-"+vx:(j_t(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?yh+"-":r===3?RC+"-":""),(n+t||vx).toLowerCase())}function j_t(e){const t=e.type;return wX(t)&&t!==Kv&&t!==Xv&&(e.scheme||e.range&&e.range.length&&e.range.every(Vr))}function B_t(e,t,n){const r=z_t(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,o=e.type,s=t.zero||t.zero===void 0&&$_t(e),a,l;if(!i)return 0;if((s||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(a=(i=i.slice()).length-1||1,s&&(i[0]>0&&(i[0]=0),i[a]<0&&(i[a]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[a]=t.domainMax),t.domainMid!=null)){l=t.domainMid;const u=l>i[a]?a+1:l<i[0]?0:a;u!==a&&n.warn("Scale domainMid exceeds domain min or max.",l),i.splice(u,0,l)}return eRe(o)&&t.padding&&i[0]!==Er(i)&&(i=U_t(o,i,t.range,t.padding,t.exponent,t.constant)),e.domain(nRe(o,i,n)),o===gX&&e.unknown(t.domainImplicit?hU:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&_X(e,t.nice)||null),i.length}function z_t(e,t,n){return t?(e.domain(nRe(e.type,t,n)),t.length):-1}function U_t(e,t,n,r,i,o){var s=Math.abs(Er(n)-n[0]),a=s/(s-2*r),l=e===hm?MY(t,null,a):e===ok?lO(t,null,a,.5):e===ik?lO(t,null,a,i||1):e===f6?$Y(t,null,a,o||1):NY(t,null,a);return t=t.slice(),t[0]=l[0],t[t.length-1]=l[1],t}function nRe(e,t,n){if(fke(e)){var r=Math.abs(t.reduce((i,o)=>i+(o<0?-1:o>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+an(t))}return t}function H_t(e,t,n){let r=t.bins;if(r&&!cn(r)){const i=e.domain(),o=i[0],s=Er(i),a=r.step;let l=r.start==null?o:r.start,u=r.stop==null?s:r.stop;a||it("Scale bins parameter missing step property."),l<o&&(l=a*Math.ceil(o/a)),u>s&&(u=a*Math.floor(s/a)),r=Du(l,u+a/2,a)}return r?e.bins=r:e.bins&&delete e.bins,e.type===yX&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function q_t(e,t,n){var r=e.type,i=t.round||!1,o=t.range;if(t.rangeStep!=null)o=V_t(r,t,n);else if(t.scheme&&(o=W_t(r,t,n),nr(o))){if(e.interpolator)return e.interpolator(o);it(`Scale type ${r} does not support interpolating color schemes.`)}if(o&&hke(r))return e.interpolator(m6(NU(o,t.reverse),t.interpolate,t.interpolateGamma));o&&t.interpolate&&e.interpolate?e.interpolate(xX(t.interpolate,t.interpolateGamma)):nr(e.round)?e.round(i):nr(e.rangeRound)&&e.interpolate(i?nk:K0),o&&e.range(NU(o,t.reverse))}function V_t(e,t,n){e!==ske&&e!==bU&&it("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===bU?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*mX(n,i,r)]}function W_t(e,t,n){var r=t.schemeExtent,i,o;return cn(t.scheme)?o=m6(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),o=CX(i),o||it(`Unrecognized scheme name: ${t.scheme}`)),n=e===p6?n+1:e===yX?n-1:e===bx||e===h6?+t.schemeCount||M_t:n,hke(e)?ode(o,r,t.reverse):nr(o)?gke(ode(o,r),n):e===gX?o:o.slice(0,n)}function ode(e,t,n){return nr(e)&&(t||n)?mke(e,NU(t||[0,1],n)):e}function NU(e,t){return t?e.slice().reverse():e}function rRe(e){et.call(this,null,e)}It(rRe,et,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(Ob(e.sort)),this.modified(n),t}});const sde="zero",iRe="center",oRe="normalize",sRe=["y0","y1"];function lQ(e){et.call(this,null,e)}lQ.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:sde,values:[sde,iRe,oRe]},{name:"as",type:"string",array:!0,length:2,default:sRe}]};It(lQ,et,{transform(e,t){var n=e.as||sRe,r=n[0],i=n[1],o=Ob(e.sort),s=e.field||wC,a=e.offset===iRe?G_t:e.offset===oRe?Y_t:K_t,l,u,c,d;for(l=X_t(t.source,e.groupby,o,s),u=0,c=l.length,d=l.max;u<c;++u)a(l[u],d,s,r,i);return t.reflow(e.modified()).modifies(n)}});function G_t(e,t,n,r,i){for(var o=(t-e.sum)/2,s=e.length,a=0,l;a<s;++a)l=e[a],l[r]=o,l[i]=o+=Math.abs(n(l))}function Y_t(e,t,n,r,i){for(var o=1/e.sum,s=0,a=e.length,l=0,u=0,c;l<a;++l)c=e[l],c[r]=s,c[i]=s=o*(u+=Math.abs(n(c)))}function K_t(e,t,n,r,i){for(var o=0,s=0,a=e.length,l=0,u,c;l<a;++l)c=e[l],u=+n(c),u<0?(c[r]=s,c[i]=s+=u):(c[r]=o,c[i]=o+=u)}function X_t(e,t,n,r){var i=[],o=p=>p(c),s,a,l,u,c,d,f,h,m;if(t==null)i.push(e.slice());else for(s={},a=0,l=e.length;a<l;++a)c=e[a],d=t.map(o),f=s[d],f||(s[d]=f=[],i.push(f)),f.push(c);for(d=0,m=0,u=i.length;d<u;++d){for(f=i[d],a=0,h=0,l=f.length;a<l;++a)h+=Math.abs(r(f[a]));f.sum=h,h>m&&(m=h),n&&f.sort(n)}return i.max=m,i}const Q_t=Object.freeze(Object.defineProperty({__proto__:null,axisticks:GAe,datajoin:YAe,encode:KAe,legendentries:XAe,linkpath:sQ,pie:aQ,scale:tRe,sortitems:rRe,stack:lQ},Symbol.toStringTag,{value:"Module"}));var Cn=1e-6,FO=1e-12,hr=Math.PI,yo=hr/2,jO=hr/4,wl=hr*2,Io=180/hr,ur=hr/180,_r=Math.abs,DC=Math.atan,Fc=Math.atan2,Tn=Math.cos,qR=Math.ceil,aRe=Math.exp,MU=Math.hypot,BO=Math.log,qj=Math.pow,gn=Math.sin,_c=Math.sign||function(e){return e>0?1:e<0?-1:0},xl=Math.sqrt,uQ=Math.tan;function lRe(e){return e>1?0:e<-1?hr:Math.acos(e)}function tu(e){return e>1?yo:e<-1?-yo:Math.asin(e)}function na(){}function zO(e,t){e&&lde.hasOwnProperty(e.type)&&lde[e.type](e,t)}var ade={Feature:function(e,t){zO(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)zO(n[r].geometry,t)}},lde={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){$U(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)$U(n[r],t,0)},Polygon:function(e,t){ude(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)ude(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)zO(n[r],t)}};function $U(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function ude(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)$U(e[n],t,1);t.polygonEnd()}function kp(e,t){e&&ade.hasOwnProperty(e.type)?ade[e.type](e,t):zO(e,t)}var UO=new ml,HO=new ml,uRe,cRe,LU,FU,jU,Rh={point:na,lineStart:na,lineEnd:na,polygonStart:function(){UO=new ml,Rh.lineStart=J_t,Rh.lineEnd=Z_t},polygonEnd:function(){var e=+UO;HO.add(e<0?wl+e:e),this.lineStart=this.lineEnd=this.point=na},sphere:function(){HO.add(wl)}};function J_t(){Rh.point=eEt}function Z_t(){dRe(uRe,cRe)}function eEt(e,t){Rh.point=dRe,uRe=e,cRe=t,e*=ur,t*=ur,LU=e,FU=Tn(t=t/2+jO),jU=gn(t)}function dRe(e,t){e*=ur,t*=ur,t=t/2+jO;var n=e-LU,r=n>=0?1:-1,i=r*n,o=Tn(t),s=gn(t),a=jU*s,l=FU*o+a*Tn(i),u=a*r*gn(i);UO.add(Fc(u,l)),LU=e,FU=o,jU=s}function tEt(e){return HO=new ml,kp(e,Rh),HO*2}function qO(e){return[Fc(e[1],e[0]),tu(e[2])]}function Jv(e){var t=e[0],n=e[1],r=Tn(n);return[r*Tn(t),r*gn(t),gn(n)]}function VR(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Sx(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Vj(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function WR(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function VO(e){var t=xl(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var io,Hl,ho,Tu,Yy,fRe,hRe,Lw,kS,Ag,pm,_p={point:BU,lineStart:cde,lineEnd:dde,polygonStart:function(){_p.point=mRe,_p.lineStart=nEt,_p.lineEnd=rEt,kS=new ml,Rh.polygonStart()},polygonEnd:function(){Rh.polygonEnd(),_p.point=BU,_p.lineStart=cde,_p.lineEnd=dde,UO<0?(io=-(ho=180),Hl=-(Tu=90)):kS>Cn?Tu=90:kS<-Cn&&(Hl=-90),pm[0]=io,pm[1]=ho},sphere:function(){io=-(ho=180),Hl=-(Tu=90)}};function BU(e,t){Ag.push(pm=[io=e,ho=e]),t<Hl&&(Hl=t),t>Tu&&(Tu=t)}function pRe(e,t){var n=Jv([e*ur,t*ur]);if(Lw){var r=Sx(Lw,n),i=[r[1],-r[0],0],o=Sx(i,r);VO(o),o=qO(o);var s=e-Yy,a=s>0?1:-1,l=o[0]*Io*a,u,c=_r(s)>180;c^(a*Yy<l&&l<a*e)?(u=o[1]*Io,u>Tu&&(Tu=u)):(l=(l+360)%360-180,c^(a*Yy<l&&l<a*e)?(u=-o[1]*Io,u<Hl&&(Hl=u)):(t<Hl&&(Hl=t),t>Tu&&(Tu=t))),c?e<Yy?_u(io,e)>_u(io,ho)&&(ho=e):_u(e,ho)>_u(io,ho)&&(io=e):ho>=io?(e<io&&(io=e),e>ho&&(ho=e)):e>Yy?_u(io,e)>_u(io,ho)&&(ho=e):_u(e,ho)>_u(io,ho)&&(io=e)}else Ag.push(pm=[io=e,ho=e]);t<Hl&&(Hl=t),t>Tu&&(Tu=t),Lw=n,Yy=e}function cde(){_p.point=pRe}function dde(){pm[0]=io,pm[1]=ho,_p.point=BU,Lw=null}function mRe(e,t){if(Lw){var n=e-Yy;kS.add(_r(n)>180?n+(n>0?360:-360):n)}else fRe=e,hRe=t;Rh.point(e,t),pRe(e,t)}function nEt(){Rh.lineStart()}function rEt(){mRe(fRe,hRe),Rh.lineEnd(),_r(kS)>Cn&&(io=-(ho=180)),pm[0]=io,pm[1]=ho,Lw=null}function _u(e,t){return(t-=e)<0?t+360:t}function iEt(e,t){return e[0]-t[0]}function fde(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function oEt(e){var t,n,r,i,o,s,a;if(Tu=ho=-(io=Hl=1/0),Ag=[],kp(e,_p),n=Ag.length){for(Ag.sort(iEt),t=1,r=Ag[0],o=[r];t<n;++t)i=Ag[t],fde(r,i[0])||fde(r,i[1])?(_u(r[0],i[1])>_u(r[0],r[1])&&(r[1]=i[1]),_u(i[0],r[1])>_u(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(s=-1/0,n=o.length-1,t=0,r=o[n];t<=n;r=i,++t)i=o[t],(a=_u(r[1],i[0]))>s&&(s=a,io=i[0],ho=r[1])}return Ag=pm=null,io===1/0||Hl===1/0?[[NaN,NaN],[NaN,NaN]]:[[io,Hl],[ho,Tu]]}var BE,WO,GO,YO,KO,XO,QO,JO,zU,UU,HU,gRe,yRe,ol,sl,al,Dd={sphere:na,point:cQ,lineStart:hde,lineEnd:pde,polygonStart:function(){Dd.lineStart=lEt,Dd.lineEnd=uEt},polygonEnd:function(){Dd.lineStart=hde,Dd.lineEnd=pde}};function cQ(e,t){e*=ur,t*=ur;var n=Tn(t);yk(n*Tn(e),n*gn(e),gn(t))}function yk(e,t,n){++BE,GO+=(e-GO)/BE,YO+=(t-YO)/BE,KO+=(n-KO)/BE}function hde(){Dd.point=sEt}function sEt(e,t){e*=ur,t*=ur;var n=Tn(t);ol=n*Tn(e),sl=n*gn(e),al=gn(t),Dd.point=aEt,yk(ol,sl,al)}function aEt(e,t){e*=ur,t*=ur;var n=Tn(t),r=n*Tn(e),i=n*gn(e),o=gn(t),s=Fc(xl((s=sl*o-al*i)*s+(s=al*r-ol*o)*s+(s=ol*i-sl*r)*s),ol*r+sl*i+al*o);WO+=s,XO+=s*(ol+(ol=r)),QO+=s*(sl+(sl=i)),JO+=s*(al+(al=o)),yk(ol,sl,al)}function pde(){Dd.point=cQ}function lEt(){Dd.point=cEt}function uEt(){vRe(gRe,yRe),Dd.point=cQ}function cEt(e,t){gRe=e,yRe=t,e*=ur,t*=ur,Dd.point=vRe;var n=Tn(t);ol=n*Tn(e),sl=n*gn(e),al=gn(t),yk(ol,sl,al)}function vRe(e,t){e*=ur,t*=ur;var n=Tn(t),r=n*Tn(e),i=n*gn(e),o=gn(t),s=sl*o-al*i,a=al*r-ol*o,l=ol*i-sl*r,u=MU(s,a,l),c=tu(u),d=u&&-c/u;zU.add(d*s),UU.add(d*a),HU.add(d*l),WO+=c,XO+=c*(ol+(ol=r)),QO+=c*(sl+(sl=i)),JO+=c*(al+(al=o)),yk(ol,sl,al)}function dEt(e){BE=WO=GO=YO=KO=XO=QO=JO=0,zU=new ml,UU=new ml,HU=new ml,kp(e,Dd);var t=+zU,n=+UU,r=+HU,i=MU(t,n,r);return i<FO&&(t=XO,n=QO,r=JO,WO<Cn&&(t=GO,n=YO,r=KO),i=MU(t,n,r),i<FO)?[NaN,NaN]:[Fc(n,t)*Io,tu(r/i)*Io]}function qU(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function VU(e,t){return _r(e)>hr&&(e-=Math.round(e/wl)*wl),[e,t]}VU.invert=VU;function bRe(e,t,n){return(e%=wl)?t||n?qU(gde(e),yde(t,n)):gde(e):t||n?yde(t,n):VU}function mde(e){return function(t,n){return t+=e,_r(t)>hr&&(t-=Math.round(t/wl)*wl),[t,n]}}function gde(e){var t=mde(e);return t.invert=mde(-e),t}function yde(e,t){var n=Tn(e),r=gn(e),i=Tn(t),o=gn(t);function s(a,l){var u=Tn(l),c=Tn(a)*u,d=gn(a)*u,f=gn(l),h=f*n+c*r;return[Fc(d*i-h*o,c*n-f*r),tu(h*i+d*o)]}return s.invert=function(a,l){var u=Tn(l),c=Tn(a)*u,d=gn(a)*u,f=gn(l),h=f*i-d*o;return[Fc(d*i+f*o,c*n+h*r),tu(h*n-c*r)]},s}function fEt(e){e=bRe(e[0]*ur,e[1]*ur,e.length>2?e[2]*ur:0);function t(n){return n=e(n[0]*ur,n[1]*ur),n[0]*=Io,n[1]*=Io,n}return t.invert=function(n){return n=e.invert(n[0]*ur,n[1]*ur),n[0]*=Io,n[1]*=Io,n},t}function hEt(e,t,n,r,i,o){if(n){var s=Tn(t),a=gn(t),l=r*n;i==null?(i=t+r*wl,o=t-l/2):(i=vde(s,i),o=vde(s,o),(r>0?i<o:i>o)&&(i+=r*wl));for(var u,c=i;r>0?c>o:c<o;c-=l)u=qO([s,-a*Tn(c),-a*gn(c)]),e.point(u[0],u[1])}}function vde(e,t){t=Jv(t),t[0]-=e,VO(t);var n=lRe(-t[1]);return((-t[2]<0?-n:n)+wl-Cn)%wl}function wRe(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:na,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function NP(e,t){return _r(e[0]-t[0])<Cn&&_r(e[1]-t[1])<Cn}function GR(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function xRe(e,t,n,r,i){var o=[],s=[],a,l;if(e.forEach(function(m){if(!((p=m.length-1)<=0)){var p,g=m[0],v=m[p],y;if(NP(g,v)){if(!g[2]&&!v[2]){for(i.lineStart(),a=0;a<p;++a)i.point((g=m[a])[0],g[1]);i.lineEnd();return}v[0]+=2*Cn}o.push(y=new GR(g,m,null,!0)),s.push(y.o=new GR(g,null,y,!1)),o.push(y=new GR(v,m,null,!1)),s.push(y.o=new GR(v,null,y,!0))}}),!!o.length){for(s.sort(t),bde(o),bde(s),a=0,l=s.length;a<l;++a)s[a].e=n=!n;for(var u=o[0],c,d;;){for(var f=u,h=!0;f.v;)if((f=f.n)===u)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(h)for(a=0,l=c.length;a<l;++a)i.point((d=c[a])[0],d[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(h)for(c=f.p.z,a=c.length-1;a>=0;--a)i.point((d=c[a])[0],d[1]);else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,c=f.z,h=!h}while(!f.v);i.lineEnd()}}}function bde(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function Wj(e){return _r(e[0])<=hr?e[0]:_c(e[0])*((_r(e[0])+hr)%wl-hr)}function pEt(e,t){var n=Wj(t),r=t[1],i=gn(r),o=[gn(n),-Tn(n),0],s=0,a=0,l=new ml;i===1?r=yo+Cn:i===-1&&(r=-yo-Cn);for(var u=0,c=e.length;u<c;++u)if(f=(d=e[u]).length)for(var d,f,h=d[f-1],m=Wj(h),p=h[1]/2+jO,g=gn(p),v=Tn(p),y=0;y<f;++y,m=_,g=S,v=T,h=w){var w=d[y],_=Wj(w),E=w[1]/2+jO,S=gn(E),T=Tn(E),k=_-m,R=k>=0?1:-1,I=R*k,P=I>hr,N=g*S;if(l.add(Fc(N*R*gn(I),v*T+N*Tn(I))),s+=P?k+R*wl:k,P^m>=n^_>=n){var M=Sx(Jv(h),Jv(w));VO(M);var O=Sx(o,M);VO(O);var j=(P^k>=0?-1:1)*tu(O[2]);(r>j||r===j&&(M[0]||M[1]))&&(a+=P^k>=0?1:-1)}}return(s<-Cn||s<Cn&&l<-FO)^a&1}function CRe(e,t,n,r){return function(i){var o=t(i),s=wRe(),a=t(s),l=!1,u,c,d,f={point:h,lineStart:p,lineEnd:g,polygonStart:function(){f.point=v,f.lineStart=y,f.lineEnd=w,c=[],u=[]},polygonEnd:function(){f.point=h,f.lineStart=p,f.lineEnd=g,c=hSe(c);var _=pEt(u,r);c.length?(l||(i.polygonStart(),l=!0),xRe(c,gEt,_,n,i)):_&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(_,E){e(_,E)&&i.point(_,E)}function m(_,E){o.point(_,E)}function p(){f.point=m,o.lineStart()}function g(){f.point=h,o.lineEnd()}function v(_,E){d.push([_,E]),a.point(_,E)}function y(){a.lineStart(),d=[]}function w(){v(d[0][0],d[0][1]),a.lineEnd();var _=a.clean(),E=s.result(),S,T=E.length,k,R,I;if(d.pop(),u.push(d),d=null,!!T){if(_&1){if(R=E[0],(k=R.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),S=0;S<k;++S)i.point((I=R[S])[0],I[1]);i.lineEnd()}return}T>1&&_&2&&E.push(E.pop().concat(E.shift())),c.push(E.filter(mEt))}}return f}}function mEt(e){return e.length>1}function gEt(e,t){return((e=e.x)[0]<0?e[1]-yo-Cn:yo-e[1])-((t=t.x)[0]<0?t[1]-yo-Cn:yo-t[1])}const wde=CRe(function(){return!0},yEt,bEt,[-hr,-yo]);function yEt(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,s){var a=o>0?hr:-hr,l=_r(o-t);_r(l-hr)<Cn?(e.point(t,n=(n+s)/2>0?yo:-yo),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(o,n),i=0):r!==a&&l>=hr&&(_r(t-r)<Cn&&(t-=r*Cn),_r(o-a)<Cn&&(o-=a*Cn),n=vEt(t,n,o,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),i=0),e.point(t=o,n=s),r=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function vEt(e,t,n,r){var i,o,s=gn(e-n);return _r(s)>Cn?DC((gn(t)*(o=Tn(r))*gn(n)-gn(r)*(i=Tn(t))*gn(e))/(i*o*s)):(t+r)/2}function bEt(e,t,n,r){var i;if(e==null)i=n*yo,r.point(-hr,i),r.point(0,i),r.point(hr,i),r.point(hr,0),r.point(hr,-i),r.point(0,-i),r.point(-hr,-i),r.point(-hr,0),r.point(-hr,i);else if(_r(e[0]-t[0])>Cn){var o=e[0]<t[0]?hr:-hr;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function wEt(e){var t=Tn(e),n=2*ur,r=t>0,i=_r(t)>Cn;function o(c,d,f,h){hEt(h,e,n,f,c,d)}function s(c,d){return Tn(c)*Tn(d)>t}function a(c){var d,f,h,m,p;return{lineStart:function(){m=h=!1,p=1},point:function(g,v){var y=[g,v],w,_=s(g,v),E=r?_?0:u(g,v):_?u(g+(g<0?hr:-hr),v):0;if(!d&&(m=h=_)&&c.lineStart(),_!==h&&(w=l(d,y),(!w||NP(d,w)||NP(y,w))&&(y[2]=1)),_!==h)p=0,_?(c.lineStart(),w=l(y,d),c.point(w[0],w[1])):(w=l(d,y),c.point(w[0],w[1],2),c.lineEnd()),d=w;else if(i&&d&&r^_){var S;!(E&f)&&(S=l(y,d,!0))&&(p=0,r?(c.lineStart(),c.point(S[0][0],S[0][1]),c.point(S[1][0],S[1][1]),c.lineEnd()):(c.point(S[1][0],S[1][1]),c.lineEnd(),c.lineStart(),c.point(S[0][0],S[0][1],3)))}_&&(!d||!NP(d,y))&&c.point(y[0],y[1]),d=y,h=_,f=E},lineEnd:function(){h&&c.lineEnd(),d=null},clean:function(){return p|(m&&h)<<1}}}function l(c,d,f){var h=Jv(c),m=Jv(d),p=[1,0,0],g=Sx(h,m),v=VR(g,g),y=g[0],w=v-y*y;if(!w)return!f&&c;var _=t*v/w,E=-t*y/w,S=Sx(p,g),T=WR(p,_),k=WR(g,E);Vj(T,k);var R=S,I=VR(T,R),P=VR(R,R),N=I*I-P*(VR(T,T)-1);if(!(N<0)){var M=xl(N),O=WR(R,(-I-M)/P);if(Vj(O,T),O=qO(O),!f)return O;var j=c[0],U=d[0],q=c[1],W=d[1],V;U<j&&(V=j,j=U,U=V);var z=U-j,L=_r(z-hr)<Cn,H=L||z<Cn;if(!L&&W<q&&(V=q,q=W,W=V),H?L?q+W>0^O[1]<(_r(O[0]-j)<Cn?q:W):q<=O[1]&&O[1]<=W:z>hr^(j<=O[0]&&O[0]<=U)){var B=WR(R,(-I+M)/P);return Vj(B,T),[O,qO(B)]}}}function u(c,d){var f=r?e:hr-e,h=0;return c<-f?h|=1:c>f&&(h|=2),d<-f?h|=4:d>f&&(h|=8),h}return CRe(s,a,o,r?[0,-e]:[-hr,e-hr])}function xEt(e,t,n,r,i,o){var s=e[0],a=e[1],l=t[0],u=t[1],c=0,d=1,f=l-s,h=u-a,m;if(m=n-s,!(!f&&m>0)){if(m/=f,f<0){if(m<c)return;m<d&&(d=m)}else if(f>0){if(m>d)return;m>c&&(c=m)}if(m=i-s,!(!f&&m<0)){if(m/=f,f<0){if(m>d)return;m>c&&(c=m)}else if(f>0){if(m<c)return;m<d&&(d=m)}if(m=r-a,!(!h&&m>0)){if(m/=h,h<0){if(m<c)return;m<d&&(d=m)}else if(h>0){if(m>d)return;m>c&&(c=m)}if(m=o-a,!(!h&&m<0)){if(m/=h,h<0){if(m>d)return;m>c&&(c=m)}else if(h>0){if(m<c)return;m<d&&(d=m)}return c>0&&(e[0]=s+c*f,e[1]=a+c*h),d<1&&(t[0]=s+d*f,t[1]=a+d*h),!0}}}}}var zE=1e9,YR=-zE;function _Re(e,t,n,r){function i(u,c){return e<=u&&u<=n&&t<=c&&c<=r}function o(u,c,d,f){var h=0,m=0;if(u==null||(h=s(u,d))!==(m=s(c,d))||l(u,c)<0^d>0)do f.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+d+4)%4)!==m);else f.point(c[0],c[1])}function s(u,c){return _r(u[0]-e)<Cn?c>0?0:3:_r(u[0]-n)<Cn?c>0?2:1:_r(u[1]-t)<Cn?c>0?1:0:c>0?3:2}function a(u,c){return l(u.x,c.x)}function l(u,c){var d=s(u,1),f=s(c,1);return d!==f?d-f:d===0?c[1]-u[1]:d===1?u[0]-c[0]:d===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,d=wRe(),f,h,m,p,g,v,y,w,_,E,S,T={point:k,lineStart:N,lineEnd:M,polygonStart:I,polygonEnd:P};function k(j,U){i(j,U)&&c.point(j,U)}function R(){for(var j=0,U=0,q=h.length;U<q;++U)for(var W=h[U],V=1,z=W.length,L=W[0],H,B,Y=L[0],Q=L[1];V<z;++V)H=Y,B=Q,L=W[V],Y=L[0],Q=L[1],B<=r?Q>r&&(Y-H)*(r-B)>(Q-B)*(e-H)&&++j:Q<=r&&(Y-H)*(r-B)<(Q-B)*(e-H)&&--j;return j}function I(){c=d,f=[],h=[],S=!0}function P(){var j=R(),U=S&&j,q=(f=hSe(f)).length;(U||q)&&(u.polygonStart(),U&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),q&&xRe(f,a,j,o,u),u.polygonEnd()),c=u,f=h=m=null}function N(){T.point=O,h&&h.push(m=[]),E=!0,_=!1,y=w=NaN}function M(){f&&(O(p,g),v&&_&&d.rejoin(),f.push(d.result())),T.point=k,_&&c.lineEnd()}function O(j,U){var q=i(j,U);if(h&&m.push([j,U]),E)p=j,g=U,v=q,E=!1,q&&(c.lineStart(),c.point(j,U));else if(q&&_)c.point(j,U);else{var W=[y=Math.max(YR,Math.min(zE,y)),w=Math.max(YR,Math.min(zE,w))],V=[j=Math.max(YR,Math.min(zE,j)),U=Math.max(YR,Math.min(zE,U))];xEt(W,V,e,t,n,r)?(_||(c.lineStart(),c.point(W[0],W[1])),c.point(V[0],V[1]),q||c.lineEnd(),S=!1):q&&(c.lineStart(),c.point(j,U),S=!1)}y=j,w=U,_=q}return T}}function xde(e,t,n){var r=Du(e,t-Cn,n).concat(t);return function(i){return r.map(function(o){return[i,o]})}}function Cde(e,t,n){var r=Du(e,t-Cn,n).concat(t);return function(i){return r.map(function(o){return[o,i]})}}function CEt(){var e,t,n,r,i,o,s,a,l=10,u=l,c=90,d=360,f,h,m,p,g=2.5;function v(){return{type:"MultiLineString",coordinates:y()}}function y(){return Du(qR(r/c)*c,n,c).map(m).concat(Du(qR(a/d)*d,s,d).map(p)).concat(Du(qR(t/l)*l,e,l).filter(function(w){return _r(w%c)>Cn}).map(f)).concat(Du(qR(o/u)*u,i,u).filter(function(w){return _r(w%d)>Cn}).map(h))}return v.lines=function(){return y().map(function(w){return{type:"LineString",coordinates:w}})},v.outline=function(){return{type:"Polygon",coordinates:[m(r).concat(p(s).slice(1),m(n).reverse().slice(1),p(a).reverse().slice(1))]}},v.extent=function(w){return arguments.length?v.extentMajor(w).extentMinor(w):v.extentMinor()},v.extentMajor=function(w){return arguments.length?(r=+w[0][0],n=+w[1][0],a=+w[0][1],s=+w[1][1],r>n&&(w=r,r=n,n=w),a>s&&(w=a,a=s,s=w),v.precision(g)):[[r,a],[n,s]]},v.extentMinor=function(w){return arguments.length?(t=+w[0][0],e=+w[1][0],o=+w[0][1],i=+w[1][1],t>e&&(w=t,t=e,e=w),o>i&&(w=o,o=i,i=w),v.precision(g)):[[t,o],[e,i]]},v.step=function(w){return arguments.length?v.stepMajor(w).stepMinor(w):v.stepMinor()},v.stepMajor=function(w){return arguments.length?(c=+w[0],d=+w[1],v):[c,d]},v.stepMinor=function(w){return arguments.length?(l=+w[0],u=+w[1],v):[l,u]},v.precision=function(w){return arguments.length?(g=+w,f=xde(o,i,90),h=Cde(t,e,g),m=xde(a,s,90),p=Cde(r,n,g),v):g},v.extentMajor([[-180,-90+Cn],[180,90-Cn]]).extentMinor([[-180,-80-Cn],[180,80+Cn]])}const F2=e=>e;var Gj=new ml,WU=new ml,ERe,SRe,GU,YU,Ap={point:na,lineStart:na,lineEnd:na,polygonStart:function(){Ap.lineStart=_Et,Ap.lineEnd=SEt},polygonEnd:function(){Ap.lineStart=Ap.lineEnd=Ap.point=na,Gj.add(_r(WU)),WU=new ml},result:function(){var e=Gj/2;return Gj=new ml,e}};function _Et(){Ap.point=EEt}function EEt(e,t){Ap.point=TRe,ERe=GU=e,SRe=YU=t}function TRe(e,t){WU.add(YU*e-GU*t),GU=e,YU=t}function SEt(){TRe(ERe,SRe)}var Tx=1/0,ZO=Tx,j2=-Tx,eN=j2,tN={point:TEt,lineStart:na,lineEnd:na,polygonStart:na,polygonEnd:na,result:function(){var e=[[Tx,ZO],[j2,eN]];return j2=eN=-(ZO=Tx=1/0),e}};function TEt(e,t){e<Tx&&(Tx=e),e>j2&&(j2=e),t<ZO&&(ZO=t),t>eN&&(eN=t)}var KU=0,XU=0,UE=0,nN=0,rN=0,yw=0,QU=0,JU=0,HE=0,kRe,ARe,Zf,eh,vc={point:Zv,lineStart:_de,lineEnd:Ede,polygonStart:function(){vc.lineStart=REt,vc.lineEnd=IEt},polygonEnd:function(){vc.point=Zv,vc.lineStart=_de,vc.lineEnd=Ede},result:function(){var e=HE?[QU/HE,JU/HE]:yw?[nN/yw,rN/yw]:UE?[KU/UE,XU/UE]:[NaN,NaN];return KU=XU=UE=nN=rN=yw=QU=JU=HE=0,e}};function Zv(e,t){KU+=e,XU+=t,++UE}function _de(){vc.point=kEt}function kEt(e,t){vc.point=AEt,Zv(Zf=e,eh=t)}function AEt(e,t){var n=e-Zf,r=t-eh,i=xl(n*n+r*r);nN+=i*(Zf+e)/2,rN+=i*(eh+t)/2,yw+=i,Zv(Zf=e,eh=t)}function Ede(){vc.point=Zv}function REt(){vc.point=DEt}function IEt(){RRe(kRe,ARe)}function DEt(e,t){vc.point=RRe,Zv(kRe=Zf=e,ARe=eh=t)}function RRe(e,t){var n=e-Zf,r=t-eh,i=xl(n*n+r*r);nN+=i*(Zf+e)/2,rN+=i*(eh+t)/2,yw+=i,i=eh*e-Zf*t,QU+=i*(Zf+e),JU+=i*(eh+t),HE+=i*3,Zv(Zf=e,eh=t)}function IRe(e){this._context=e}IRe.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,wl);break}}},result:na};var ZU=new ml,Yj,DRe,PRe,qE,VE,B2={point:na,lineStart:function(){B2.point=PEt},lineEnd:function(){Yj&&ORe(DRe,PRe),B2.point=na},polygonStart:function(){Yj=!0},polygonEnd:function(){Yj=null},result:function(){var e=+ZU;return ZU=new ml,e}};function PEt(e,t){B2.point=ORe,DRe=qE=e,PRe=VE=t}function ORe(e,t){qE-=e,VE-=t,ZU.add(xl(qE*qE+VE*VE)),qE=e,VE=t}let Sde,iN,Tde,kde;class Ade{constructor(t){this._append=t==null?NRe:OEt(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==Tde||this._append!==iN){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Tde=r,iN=this._append,kde=this._,this._=i}this._+=kde;break}}}result(){const t=this._;return this._="",t.length?t:null}}function NRe(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function OEt(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return NRe;if(t!==Sde){const n=10**t;Sde=t,iN=function(i){let o=1;this._+=i[0];for(const s=i.length;o<s;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return iN}function MRe(e,t){let n=3,r=4.5,i,o;function s(a){return a&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),kp(a,i(o))),o.result()}return s.area=function(a){return kp(a,i(Ap)),Ap.result()},s.measure=function(a){return kp(a,i(B2)),B2.result()},s.bounds=function(a){return kp(a,i(tN)),tN.result()},s.centroid=function(a){return kp(a,i(vc)),vc.result()},s.projection=function(a){return arguments.length?(i=a==null?(e=null,F2):(e=a).stream,s):e},s.context=function(a){return arguments.length?(o=a==null?(t=null,new Ade(n)):new IRe(t=a),typeof r!="function"&&o.pointRadius(r),s):t},s.pointRadius=function(a){return arguments.length?(r=typeof a=="function"?a:(o.pointRadius(+a),+a),s):r},s.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const l=Math.floor(a);if(!(l>=0))throw new RangeError(`invalid digits: ${a}`);n=l}return t===null&&(o=new Ade(n)),s},s.projection(e).digits(n).context(t)}function A6(e){return function(t){var n=new eH;for(var r in e)n[r]=e[r];return n.stream=t,n}}function eH(){}eH.prototype={constructor:eH,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function dQ(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),kp(n,e.stream(tN)),t(tN.result()),r!=null&&e.clipExtent(r),e}function R6(e,t,n){return dQ(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),a=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(o-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([a,l])},n)}function fQ(e,t,n){return R6(e,[[0,0],t],n)}function hQ(e,t,n){return dQ(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),s=(i-o*(r[1][0]+r[0][0]))/2,a=-o*r[0][1];e.scale(150*o).translate([s,a])},n)}function pQ(e,t,n){return dQ(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),s=-o*r[0][0],a=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,a])},n)}var Rde=16,NEt=Tn(30*ur);function Ide(e,t){return+t?$Et(e,t):MEt(e)}function MEt(e){return A6({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function $Et(e,t){function n(r,i,o,s,a,l,u,c,d,f,h,m,p,g){var v=u-r,y=c-i,w=v*v+y*y;if(w>4*t&&p--){var _=s+f,E=a+h,S=l+m,T=xl(_*_+E*E+S*S),k=tu(S/=T),R=_r(_r(S)-1)<Cn||_r(o-d)<Cn?(o+d)/2:Fc(E,_),I=e(R,k),P=I[0],N=I[1],M=P-r,O=N-i,j=y*M-v*O;(j*j/w>t||_r((v*M+y*O)/w-.5)>.3||s*f+a*h+l*m<NEt)&&(n(r,i,o,s,a,l,P,N,R,_/=T,E/=T,S,p,g),g.point(P,N),n(P,N,R,_,E,S,u,c,d,f,h,m,p,g))}}return function(r){var i,o,s,a,l,u,c,d,f,h,m,p,g={point:v,lineStart:y,lineEnd:_,polygonStart:function(){r.polygonStart(),g.lineStart=E},polygonEnd:function(){r.polygonEnd(),g.lineStart=y}};function v(k,R){k=e(k,R),r.point(k[0],k[1])}function y(){d=NaN,g.point=w,r.lineStart()}function w(k,R){var I=Jv([k,R]),P=e(k,R);n(d,f,c,h,m,p,d=P[0],f=P[1],c=k,h=I[0],m=I[1],p=I[2],Rde,r),r.point(d,f)}function _(){g.point=v,r.lineEnd()}function E(){y(),g.point=S,g.lineEnd=T}function S(k,R){w(i=k,R),o=d,s=f,a=h,l=m,u=p,g.point=w}function T(){n(d,f,c,h,m,p,o,s,i,a,l,u,Rde,r),g.lineEnd=_,_()}return g}}var LEt=A6({point:function(e,t){this.stream.point(e*ur,t*ur)}});function FEt(e){return A6({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function jEt(e,t,n,r,i){function o(s,a){return s*=r,a*=i,[t+e*s,n-e*a]}return o.invert=function(s,a){return[(s-t)/e*r,(n-a)/e*i]},o}function Dde(e,t,n,r,i,o){if(!o)return jEt(e,t,n,r,i);var s=Tn(o),a=gn(o),l=s*e,u=a*e,c=s/e,d=a/e,f=(a*n-s*t)/e,h=(a*t+s*n)/e;function m(p,g){return p*=r,g*=i,[l*p-u*g+t,n-u*p-l*g]}return m.invert=function(p,g){return[r*(c*p-d*g+f),i*(h-d*p-c*g)]},m}function Vh(e){return $Re(function(){return e})()}function $Re(e){var t,n=150,r=480,i=250,o=0,s=0,a=0,l=0,u=0,c,d=0,f=1,h=1,m=null,p=wde,g=null,v,y,w,_=F2,E=.5,S,T,k,R,I;function P(j){return k(j[0]*ur,j[1]*ur)}function N(j){return j=k.invert(j[0],j[1]),j&&[j[0]*Io,j[1]*Io]}P.stream=function(j){return R&&I===j?R:R=LEt(FEt(c)(p(S(_(I=j)))))},P.preclip=function(j){return arguments.length?(p=j,m=void 0,O()):p},P.postclip=function(j){return arguments.length?(_=j,g=v=y=w=null,O()):_},P.clipAngle=function(j){return arguments.length?(p=+j?wEt(m=j*ur):(m=null,wde),O()):m*Io},P.clipExtent=function(j){return arguments.length?(_=j==null?(g=v=y=w=null,F2):_Re(g=+j[0][0],v=+j[0][1],y=+j[1][0],w=+j[1][1]),O()):g==null?null:[[g,v],[y,w]]},P.scale=function(j){return arguments.length?(n=+j,M()):n},P.translate=function(j){return arguments.length?(r=+j[0],i=+j[1],M()):[r,i]},P.center=function(j){return arguments.length?(o=j[0]%360*ur,s=j[1]%360*ur,M()):[o*Io,s*Io]},P.rotate=function(j){return arguments.length?(a=j[0]%360*ur,l=j[1]%360*ur,u=j.length>2?j[2]%360*ur:0,M()):[a*Io,l*Io,u*Io]},P.angle=function(j){return arguments.length?(d=j%360*ur,M()):d*Io},P.reflectX=function(j){return arguments.length?(f=j?-1:1,M()):f<0},P.reflectY=function(j){return arguments.length?(h=j?-1:1,M()):h<0},P.precision=function(j){return arguments.length?(S=Ide(T,E=j*j),O()):xl(E)},P.fitExtent=function(j,U){return R6(P,j,U)},P.fitSize=function(j,U){return fQ(P,j,U)},P.fitWidth=function(j,U){return hQ(P,j,U)},P.fitHeight=function(j,U){return pQ(P,j,U)};function M(){var j=Dde(n,0,0,f,h,d).apply(null,t(o,s)),U=Dde(n,r-j[0],i-j[1],f,h,d);return c=bRe(a,l,u),T=qU(t,U),k=qU(c,T),S=Ide(T,E),O()}function O(){return R=I=null,P}return function(){return t=e.apply(this,arguments),P.invert=t.invert&&N,M()}}function mQ(e){var t=0,n=hr/3,r=$Re(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*ur,n=o[1]*ur):[t*Io,n*Io]},i}function BEt(e){var t=Tn(e);function n(r,i){return[r*t,gn(i)/t]}return n.invert=function(r,i){return[r/t,tu(i*t)]},n}function zEt(e,t){var n=gn(e),r=(n+gn(t))/2;if(_r(r)<Cn)return BEt(e);var i=1+n*(2*r-n),o=xl(i)/r;function s(a,l){var u=xl(i-2*r*gn(l))/r;return[u*gn(a*=r),o-u*Tn(a)]}return s.invert=function(a,l){var u=o-l,c=Fc(a,_r(u))*_c(u);return u*r<0&&(c-=hr*_c(a)*_c(u)),[c/r,tu((i-(a*a+u*u)*r*r)/(2*r))]},s}function oN(){return mQ(zEt).scale(155.424).center([0,33.6442])}function LRe(){return oN().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function UEt(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function HEt(){var e,t,n=LRe(),r,i=oN().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,s=oN().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,l,u={point:function(f,h){l=[f,h]}};function c(f){var h=f[0],m=f[1];return l=null,r.point(h,m),l||(o.point(h,m),l)||(a.point(h,m),l)}c.invert=function(f){var h=n.scale(),m=n.translate(),p=(f[0]-m[0])/h,g=(f[1]-m[1])/h;return(g>=.12&&g<.234&&p>=-.425&&p<-.214?i:g>=.166&&g<.234&&p>=-.214&&p<-.115?s:n).invert(f)},c.stream=function(f){return e&&t===f?e:e=UEt([n.stream(t=f),i.stream(f),s.stream(f)])},c.precision=function(f){return arguments.length?(n.precision(f),i.precision(f),s.precision(f),d()):n.precision()},c.scale=function(f){return arguments.length?(n.scale(f),i.scale(f*.35),s.scale(f),c.translate(n.translate())):n.scale()},c.translate=function(f){if(!arguments.length)return n.translate();var h=n.scale(),m=+f[0],p=+f[1];return r=n.translate(f).clipExtent([[m-.455*h,p-.238*h],[m+.455*h,p+.238*h]]).stream(u),o=i.translate([m-.307*h,p+.201*h]).clipExtent([[m-.425*h+Cn,p+.12*h+Cn],[m-.214*h-Cn,p+.234*h-Cn]]).stream(u),a=s.translate([m-.205*h,p+.212*h]).clipExtent([[m-.214*h+Cn,p+.166*h+Cn],[m-.115*h-Cn,p+.234*h-Cn]]).stream(u),d()},c.fitExtent=function(f,h){return R6(c,f,h)},c.fitSize=function(f,h){return fQ(c,f,h)},c.fitWidth=function(f,h){return hQ(c,f,h)},c.fitHeight=function(f,h){return pQ(c,f,h)};function d(){return e=t=null,c}return c.scale(1070)}function FRe(e){return function(t,n){var r=Tn(t),i=Tn(n),o=e(r*i);return o===1/0?[2,0]:[o*i*gn(t),o*gn(n)]}}function vk(e){return function(t,n){var r=xl(t*t+n*n),i=e(r),o=gn(i),s=Tn(i);return[Fc(t*o,r*s),tu(r&&n*o/r)]}}var jRe=FRe(function(e){return xl(2/(1+e))});jRe.invert=vk(function(e){return 2*tu(e/2)});function qEt(){return Vh(jRe).scale(124.75).clipAngle(180-.001)}var BRe=FRe(function(e){return(e=lRe(e))&&e/gn(e)});BRe.invert=vk(function(e){return e});function VEt(){return Vh(BRe).scale(79.4188).clipAngle(180-.001)}function I6(e,t){return[e,BO(uQ((yo+t)/2))]}I6.invert=function(e,t){return[e,2*DC(aRe(t))-yo]};function WEt(){return zRe(I6).scale(961/wl)}function zRe(e){var t=Vh(e),n=t.center,r=t.scale,i=t.translate,o=t.clipExtent,s=null,a,l,u;t.scale=function(d){return arguments.length?(r(d),c()):r()},t.translate=function(d){return arguments.length?(i(d),c()):i()},t.center=function(d){return arguments.length?(n(d),c()):n()},t.clipExtent=function(d){return arguments.length?(d==null?s=a=l=u=null:(s=+d[0][0],a=+d[0][1],l=+d[1][0],u=+d[1][1]),c()):s==null?null:[[s,a],[l,u]]};function c(){var d=hr*r(),f=t(fEt(t.rotate()).invert([0,0]));return o(s==null?[[f[0]-d,f[1]-d],[f[0]+d,f[1]+d]]:e===I6?[[Math.max(f[0]-d,s),a],[Math.min(f[0]+d,l),u]]:[[s,Math.max(f[1]-d,a)],[l,Math.min(f[1]+d,u)]])}return c()}function KR(e){return uQ((yo+e)/2)}function GEt(e,t){var n=Tn(e),r=e===t?gn(e):BO(n/Tn(t))/BO(KR(t)/KR(e)),i=n*qj(KR(e),r)/r;if(!r)return I6;function o(s,a){i>0?a<-yo+Cn&&(a=-yo+Cn):a>yo-Cn&&(a=yo-Cn);var l=i/qj(KR(a),r);return[l*gn(r*s),i-l*Tn(r*s)]}return o.invert=function(s,a){var l=i-a,u=_c(r)*xl(s*s+l*l),c=Fc(s,_r(l))*_c(l);return l*r<0&&(c-=hr*_c(s)*_c(l)),[c/r,2*DC(qj(i/u,1/r))-yo]},o}function YEt(){return mQ(GEt).scale(109.5).parallels([30,30])}function sN(e,t){return[e,t]}sN.invert=sN;function KEt(){return Vh(sN).scale(152.63)}function XEt(e,t){var n=Tn(e),r=e===t?gn(e):(n-Tn(t))/(t-e),i=n/r+e;if(_r(r)<Cn)return sN;function o(s,a){var l=i-a,u=r*s;return[l*gn(u),i-l*Tn(u)]}return o.invert=function(s,a){var l=i-a,u=Fc(s,_r(l))*_c(l);return l*r<0&&(u-=hr*_c(s)*_c(l)),[u/r,i-_c(r)*xl(s*s+l*l)]},o}function QEt(){return mQ(XEt).scale(131.154).center([0,13.9389])}var AS=1.340264,RS=-.081106,IS=893e-6,DS=.003796,aN=xl(3)/2,JEt=12;function URe(e,t){var n=tu(aN*gn(t)),r=n*n,i=r*r*r;return[e*Tn(n)/(aN*(AS+3*RS*r+i*(7*IS+9*DS*r))),n*(AS+RS*r+i*(IS+DS*r))]}URe.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,o=0,s,a,l;o<JEt&&(a=n*(AS+RS*r+i*(IS+DS*r))-t,l=AS+3*RS*r+i*(7*IS+9*DS*r),n-=s=a/l,r=n*n,i=r*r*r,!(_r(s)<FO));++o);return[aN*e*(AS+3*RS*r+i*(7*IS+9*DS*r))/Tn(n),tu(gn(n)/aN)]};function ZEt(){return Vh(URe).scale(177.158)}function HRe(e,t){var n=Tn(t),r=Tn(e)*n;return[n*gn(e)/r,gn(t)/r]}HRe.invert=vk(DC);function eSt(){return Vh(HRe).scale(144.049).clipAngle(60)}function tSt(){var e=1,t=0,n=0,r=1,i=1,o=0,s,a,l=null,u,c,d,f=1,h=1,m=A6({point:function(_,E){var S=w([_,E]);this.stream.point(S[0],S[1])}}),p=F2,g,v;function y(){return f=e*r,h=e*i,g=v=null,w}function w(_){var E=_[0]*f,S=_[1]*h;if(o){var T=S*s-E*a;E=E*s+S*a,S=T}return[E+t,S+n]}return w.invert=function(_){var E=_[0]-t,S=_[1]-n;if(o){var T=S*s+E*a;E=E*s-S*a,S=T}return[E/f,S/h]},w.stream=function(_){return g&&v===_?g:g=m(p(v=_))},w.postclip=function(_){return arguments.length?(p=_,l=u=c=d=null,y()):p},w.clipExtent=function(_){return arguments.length?(p=_==null?(l=u=c=d=null,F2):_Re(l=+_[0][0],u=+_[0][1],c=+_[1][0],d=+_[1][1]),y()):l==null?null:[[l,u],[c,d]]},w.scale=function(_){return arguments.length?(e=+_,y()):e},w.translate=function(_){return arguments.length?(t=+_[0],n=+_[1],y()):[t,n]},w.angle=function(_){return arguments.length?(o=_%360*ur,a=gn(o),s=Tn(o),y()):o*Io},w.reflectX=function(_){return arguments.length?(r=_?-1:1,y()):r<0},w.reflectY=function(_){return arguments.length?(i=_?-1:1,y()):i<0},w.fitExtent=function(_,E){return R6(w,_,E)},w.fitSize=function(_,E){return fQ(w,_,E)},w.fitWidth=function(_,E){return hQ(w,_,E)},w.fitHeight=function(_,E){return pQ(w,_,E)},w}function qRe(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}qRe.invert=function(e,t){var n=t,r=25,i;do{var o=n*n,s=o*o;n-=i=(n*(1.007226+o*(.015085+s*(-.044475+.028874*o-.005916*s)))-t)/(1.007226+o*(.015085*3+s*(-.044475*7+.028874*9*o-.005916*11*s)))}while(_r(i)>Cn&&--r>0);return[e/(.8707+(o=n*n)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),n]};function nSt(){return Vh(qRe).scale(175.295)}function VRe(e,t){return[Tn(t)*gn(e),gn(t)]}VRe.invert=vk(tu);function rSt(){return Vh(VRe).scale(249.5).clipAngle(90+Cn)}function WRe(e,t){var n=Tn(t),r=1+Tn(e)*n;return[n*gn(e)/r,gn(t)/r]}WRe.invert=vk(function(e){return 2*DC(e)});function iSt(){return Vh(WRe).scale(250).clipAngle(142)}function GRe(e,t){return[BO(uQ((yo+t)/2)),-e]}GRe.invert=function(e,t){return[-t,2*DC(aRe(e))-yo]};function oSt(){var e=zRe(GRe),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}var sSt=Math.abs,tH=Math.cos,lN=Math.sin,aSt=1e-6,YRe=Math.PI,nH=YRe/2,Pde=lSt(2);function Ode(e){return e>1?nH:e<-1?-nH:Math.asin(e)}function lSt(e){return e>0?Math.sqrt(e):0}function uSt(e,t){var n=e*lN(t),r=30,i;do t-=i=(t+lN(t)-n)/(1+tH(t));while(sSt(i)>aSt&&--r>0);return t/2}function cSt(e,t,n){function r(i,o){return[e*i*tH(o=uSt(n,o)),t*lN(o)]}return r.invert=function(i,o){return o=Ode(o/t),[i/(e*tH(o)),Ode((2*o+lN(2*o))/n)]},r}var dSt=cSt(Pde/nH,Pde,YRe);function fSt(){return Vh(dSt).scale(169.529)}const hSt=MRe(),rH=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function pSt(e,t){return function n(){const r=t();return r.type=e,r.path=MRe().projection(r),r.copy=r.copy||function(){const i=n();return rH.forEach(o=>{r[o]&&i[o](r[o]())}),i.path.pointRadius(r.path.pointRadius()),i},cke(r)}}function gQ(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(uN[e]=pSt(e,t),this):uN[e]||null}function KRe(e){return e&&e.path||hSt}const uN={albers:LRe,albersusa:HEt,azimuthalequalarea:qEt,azimuthalequidistant:VEt,conicconformal:YEt,conicequalarea:oN,conicequidistant:QEt,equalEarth:ZEt,equirectangular:KEt,gnomonic:eSt,identity:tSt,mercator:WEt,mollweide:fSt,naturalEarth1:nSt,orthographic:rSt,stereographic:iSt,transversemercator:oSt};for(const e in uN)gQ(e,uN[e]);function mSt(){}const pp=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function XRe(){var e=1,t=1,n=a;function r(l,u){return u.map(c=>i(l,c))}function i(l,u){var c=[],d=[];return o(l,u,f=>{n(f,l,u),gSt(f)>0?c.push([f]):d.push(f)}),d.forEach(f=>{for(var h=0,m=c.length,p;h<m;++h)if(ySt((p=c[h])[0],f)!==-1){p.push(f);return}}),{type:"MultiPolygon",value:u,coordinates:c}}function o(l,u,c){var d=[],f=[],h,m,p,g,v,y;for(h=m=-1,g=l[0]>=u,pp[g<<1].forEach(w);++h<e-1;)p=g,g=l[h+1]>=u,pp[p|g<<1].forEach(w);for(pp[g<<0].forEach(w);++m<t-1;){for(h=-1,g=l[m*e+e]>=u,v=l[m*e]>=u,pp[g<<1|v<<2].forEach(w);++h<e-1;)p=g,g=l[m*e+e+h+1]>=u,y=v,v=l[m*e+h+1]>=u,pp[p|g<<1|v<<2|y<<3].forEach(w);pp[g|v<<3].forEach(w)}for(h=-1,v=l[m*e]>=u,pp[v<<2].forEach(w);++h<e-1;)y=v,v=l[m*e+h+1]>=u,pp[v<<2|y<<3].forEach(w);pp[v<<3].forEach(w);function w(_){var E=[_[0][0]+h,_[0][1]+m],S=[_[1][0]+h,_[1][1]+m],T=s(E),k=s(S),R,I;(R=f[T])?(I=d[k])?(delete f[R.end],delete d[I.start],R===I?(R.ring.push(S),c(R.ring)):d[R.start]=f[I.end]={start:R.start,end:I.end,ring:R.ring.concat(I.ring)}):(delete f[R.end],R.ring.push(S),f[R.end=k]=R):(R=d[k])?(I=f[T])?(delete d[R.start],delete f[I.end],R===I?(R.ring.push(S),c(R.ring)):d[I.start]=f[R.end]={start:I.start,end:R.end,ring:I.ring.concat(R.ring)}):(delete d[R.start],R.ring.unshift(E),d[R.start=T]=R):d[T]=f[k]={start:T,end:k,ring:[E,S]}}}function s(l){return l[0]*2+l[1]*(e+1)*4}function a(l,u,c){l.forEach(d=>{var f=d[0],h=d[1],m=f|0,p=h|0,g,v=u[p*e+m];f>0&&f<e&&m===f&&(g=u[p*e+m-1],d[0]=f+(c-g)/(v-g)-.5),h>0&&h<t&&p===h&&(g=u[(p-1)*e+m],d[1]=h+(c-g)/(v-g)-.5)})}return r.contour=i,r.size=function(l){if(!arguments.length)return[e,t];var u=Math.floor(l[0]),c=Math.floor(l[1]);return u>=0&&c>=0||it("invalid size"),e=u,t=c,r},r.smooth=function(l){return arguments.length?(n=l?a:mSt,r):n===a},r}function gSt(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function ySt(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=vSt(e,t[n]))return i;return 0}function vSt(e,t){for(var n=t[0],r=t[1],i=-1,o=0,s=e.length,a=s-1;o<s;a=o++){var l=e[o],u=l[0],c=l[1],d=e[a],f=d[0],h=d[1];if(bSt(l,d,t))return 0;c>r!=h>r&&n<(f-u)*(r-c)/(h-c)+u&&(i=-i)}return i}function bSt(e,t,n){var r;return wSt(e,t,n)&&xSt(e[r=+(e[0]===t[0])],n[r],t[r])}function wSt(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function xSt(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function QRe(e,t,n){return function(r){var i=Sh(r),o=n?Math.min(i[0],0):i[0],s=i[1],a=s-o,l=t?x0(o,s,e):a/(e+1);return Du(o+l,s,l)}}function yQ(e){et.call(this,null,e)}yQ.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};It(yQ,et,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||bl,o=XRe().smooth(e.smooth!==!1),s=e.thresholds||CSt(r,i,e),a=e.as===null?null:e.as||"contour",l=[];return r.forEach(u=>{const c=i(u),d=o.size([c.width,c.height])(c.values,cn(s)?s:s(c.values));_St(d,c,u,e),d.forEach(f=>{l.push(GM(u,Zr(a!=null?{[a]:f}:f)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function CSt(e,t,n){const r=QRe(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(i=>Sv(t(i).values)))}function _St(e,t,n,r){let i=r.scale||t.scale,o=r.translate||t.translate;if(nr(i)&&(i=i(n,r)),nr(o)&&(o=o(n,r)),(i===1||i==null)&&!o)return;const s=(b0(i)?i:i[0])||1,a=(b0(i)?i:i[1])||1,l=o&&o[0]||0,u=o&&o[1]||0;e.forEach(JRe(t,s,a,l,u))}function JRe(e,t,n,r,i){const o=e.x1||0,s=e.y1||0,a=t*n<0;function l(d){d.forEach(u)}function u(d){a&&d.reverse(),d.forEach(c)}function c(d){d[0]=(d[0]-o)*t+r,d[1]=(d[1]-s)*n+i}return function(d){return d.coordinates.forEach(l),d}}function Nde(e,t,n){const r=e>=0?e:lK(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function Kj(e){return nr(e)?e:Ua(+e)}function ZRe(){var e=l=>l[0],t=l=>l[1],n=wC,r=[-1,-1],i=960,o=500,s=2;function a(l,u){const c=Nde(r[0],l,e)>>s,d=Nde(r[1],l,t)>>s,f=c?c+2:0,h=d?d+2:0,m=2*f+(i>>s),p=2*h+(o>>s),g=new Float32Array(m*p),v=new Float32Array(m*p);let y=g;l.forEach(_=>{const E=f+(+e(_)>>s),S=h+(+t(_)>>s);E>=0&&E<m&&S>=0&&S<p&&(g[E+S*m]+=+n(_))}),c>0&&d>0?(F1(m,p,g,v,c),j1(m,p,v,g,d),F1(m,p,g,v,c),j1(m,p,v,g,d),F1(m,p,g,v,c),j1(m,p,v,g,d)):c>0?(F1(m,p,g,v,c),F1(m,p,v,g,c),F1(m,p,g,v,c),y=v):d>0&&(j1(m,p,g,v,d),j1(m,p,v,g,d),j1(m,p,g,v,d),y=v);const w=u?Math.pow(2,-2*s):1/pSe(y);for(let _=0,E=m*p;_<E;++_)y[_]*=w;return{values:y,scale:1<<s,width:m,height:p,x1:f,y1:h,x2:f+(i>>s),y2:h+(o>>s)}}return a.x=function(l){return arguments.length?(e=Kj(l),a):e},a.y=function(l){return arguments.length?(t=Kj(l),a):t},a.weight=function(l){return arguments.length?(n=Kj(l),a):n},a.size=function(l){if(!arguments.length)return[i,o];var u=+l[0],c=+l[1];return u>=0&&c>=0||it("invalid size"),i=u,o=c,a},a.cellSize=function(l){return arguments.length?((l=+l)>=1||it("invalid cell size"),s=Math.floor(Math.log(l)/Math.LN2),a):1<<s},a.bandwidth=function(l){return arguments.length?(l=wn(l),l.length===1&&(l=[+l[0],+l[0]]),l.length!==2&&it("invalid bandwidth"),r=l,a):r},a}function F1(e,t,n,r,i){const o=(i<<1)+1;for(let s=0;s<t;++s)for(let a=0,l=0;a<e+i;++a)a<e&&(l+=n[a+s*e]),a>=i&&(a>=o&&(l-=n[a-o+s*e]),r[a-i+s*e]=l/Math.min(a+1,e-1+o-a,o))}function j1(e,t,n,r,i){const o=(i<<1)+1;for(let s=0;s<e;++s)for(let a=0,l=0;a<t+i;++a)a<t&&(l+=n[s+a*e]),a>=i&&(a>=o&&(l-=n[s+(a-o)*e]),r[s+(a-i)*e]=l/Math.min(a+1,t-1+o-a,o))}function vQ(e){et.call(this,null,e)}vQ.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const ESt=["x","y","weight","size","cellSize","bandwidth"];function eIe(e,t){return ESt.forEach(n=>t[n]!=null?e[n](t[n]):0),e}It(vQ,et,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=SSt(r,e.groupby),o=(e.groupby||[]).map(vo),s=eIe(ZRe(),e),a=e.as||"grid",l=[];function u(c,d){for(let f=0;f<o.length;++f)c[o[f]]=d[f];return c}return l=i.map(c=>Zr(u({[a]:s(c,e.counts)},c.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function SSt(e,t){var n=[],r=c=>c(a),i,o,s,a,l,u;if(t==null)n.push(e);else for(i={},o=0,s=e.length;o<s;++o)a=e[o],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function bQ(e){et.call(this,null,e)}bQ.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};It(bQ,et,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=XRe().smooth(e.smooth!==!1),i=e.values,o=e.thresholds||QRe(e.count||10,e.nice,!!i),s=e.size,a,l;return i||(i=t.materialize(t.SOURCE).source,a=eIe(ZRe(),e)(i,!0),l=JRe(a,a.scale||1,a.scale||1,0,0),s=[a.width,a.height],i=a.values),o=cn(o)?o:o(i),i=r.size(s)(i,o),l&&i.forEach(l),this.value&&(n.rem=this.value),this.value=n.source=n.add=(i||[]).map(Zr),n}});const iH="Feature",wQ="FeatureCollection",TSt="MultiPoint";function xQ(e){et.call(this,null,e)}xQ.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};It(xQ,et,{transform(e,t){var n=this._features,r=this._points,i=e.fields,o=i&&i[0],s=i&&i[1],a=e.geojson||!i&&bl,l=t.ADD,u;u=e.modified()||t.changed(t.REM)||t.modified(Ma(a))||o&&t.modified(Ma(o))||s&&t.modified(Ma(s)),(!this.value||u)&&(l=t.SOURCE,this._features=n=[],this._points=r=[]),a&&t.visit(l,c=>n.push(a(c))),o&&s&&(t.visit(l,c=>{var d=o(c),f=s(c);d!=null&&f!=null&&(d=+d)===d&&(f=+f)===f&&r.push([d,f])}),n=n.concat({type:iH,geometry:{type:TSt,coordinates:r}})),this.value={type:wQ,features:n}}});function CQ(e){et.call(this,null,e)}CQ.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};It(CQ,et,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||bl,o=e.as||"path",s=n.SOURCE;!r||e.modified()?(this.value=r=KRe(e.projection),n.materialize().reflow()):s=i===bl||t.modified(i.fields)?n.ADD_MOD:n.ADD;const a=kSt(r,e.pointRadius);return n.visit(s,l=>l[o]=r(i(l))),r.pointRadius(a),n.modifies(o)}});function kSt(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function _Q(e){et.call(this,null,e)}_Q.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};It(_Q,et,{transform(e,t){var n=e.projection,r=e.fields[0],i=e.fields[1],o=e.as||["x","y"],s=o[0],a=o[1],l;function u(c){const d=n([r(c),i(c)]);d?(c[s]=d[0],c[a]=d[1]):(c[s]=void 0,c[a]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,u):(l=t.modified(r.fields)||t.modified(i.fields),t.visit(l?t.ADD_MOD:t.ADD,u)),t.modifies(o)}});function EQ(e){et.call(this,null,e)}EQ.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};It(EQ,et,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",o=n.ADD;return(!r||e.modified())&&(this.value=r=ASt(KRe(e.projection),e.field||Nc("datum"),e.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,s=>s[i]=r),n.modifies(i)}});function ASt(e,t,n){const r=n==null?i=>e(t(i)):i=>{var o=e.pointRadius(),s=e.pointRadius(n)(t(i));return e.pointRadius(o),s};return r.context=i=>(e.context(i),r),r}function SQ(e){et.call(this,[],e),this.generator=CEt()}SQ.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};It(SQ,et,{transform(e,t){var n=this.value,r=this.generator,i;if(!n.length||e.modified())for(const o in e)nr(r[o])&&r[o](e[o]);return i=r(),n.length?t.mod.push(u2e(n[0],i)):t.add.push(Zr(i)),n[0]=i,t}});function TQ(e){et.call(this,null,e)}TQ.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};It(TQ,et,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",i=e.field||bl,o=ISt(e.opacity,e),s=RSt(e.color,e),a=e.as||"image",l={$x:0,$y:0,$value:0,$max:r?Sv(n.map(u=>Sv(i(u).values))):0};return n.forEach(u=>{const c=i(u),d=tr({},u,l);r||(d.$max=Sv(c.values||[])),u[a]=DSt(c,d,s.dep?s:Ua(s(d)),o.dep?o:Ua(o(d)))}),t.reflow(!0).modifies(a)}});function RSt(e,t){let n;return nr(e)?(n=r=>E0(e(r,t)),n.dep=tIe(e)):n=Ua(E0(e||"#888")),n}function ISt(e,t){let n;return nr(e)?(n=r=>e(r,t),n.dep=tIe(e)):e?n=Ua(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function tIe(e){if(!nr(e))return!1;const t=Kd(Ma(e));return t.$x||t.$y||t.$value||t.$max}function DSt(e,t,n,r){const i=e.width,o=e.height,s=e.x1||0,a=e.y1||0,l=e.x2||i,u=e.y2||o,c=e.values,d=c?g=>c[g]:Mg,f=s0(l-s,u-a),h=f.getContext("2d"),m=h.getImageData(0,0,l-s,u-a),p=m.data;for(let g=a,v=0;g<u;++g){t.$y=g-a;for(let y=s,w=g*i;y<l;++y,v+=4){t.$x=y-s,t.$value=d(y+w);const _=n(t);p[v+0]=_.r,p[v+1]=_.g,p[v+2]=_.b,p[v+3]=~~(255*r(t))}}return h.putImageData(m,0,0),f}function nIe(e){et.call(this,null,e),this.modified(!0)}It(nIe,et,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=OSt(e.type),rH.forEach(r=>{e[r]!=null&&Mde(n,r,e[r])})):rH.forEach(r=>{e.modified(r)&&Mde(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&PSt(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function PSt(e,t){const n=NSt(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function OSt(e){const t=gQ((e||"mercator").toLowerCase());return t||it("Unrecognized projection type: "+e),t()}function Mde(e,t,n){nr(e[t])&&e[t](n)}function NSt(e){return e=wn(e),e.length===1?e[0]:{type:wQ,features:e.reduce((t,n)=>t.concat(MSt(n)),[])}}function MSt(e){return e.type===wQ?e.features:wn(e).filter(t=>t!=null).map(t=>t.type===iH?t:{type:iH,geometry:t})}const $St=Object.freeze(Object.defineProperty({__proto__:null,contour:bQ,geojson:xQ,geopath:CQ,geopoint:_Q,geoshape:EQ,graticule:SQ,heatmap:TQ,isocontour:yQ,kde2d:vQ,projection:nIe},Symbol.toStringTag,{value:"Module"}));function LSt(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var o,s=n.length,a,l=0,u=0;for(o=0;o<s;++o)a=n[o],l+=a.x,u+=a.y;for(l=(l/s-e)*r,u=(u/s-t)*r,o=0;o<s;++o)a=n[o],a.x-=l,a.y-=u}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(e=+o,i):e},i.y=function(o){return arguments.length?(t=+o,i):t},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function FSt(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return rIe(this.cover(t,n),t,n,e)}function rIe(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o=e._root,s={data:r},a=e._x0,l=e._y0,u=e._x1,c=e._y1,d,f,h,m,p,g,v,y;if(!o)return e._root=s,e;for(;o.length;)if((p=t>=(d=(a+u)/2))?a=d:u=d,(g=n>=(f=(l+c)/2))?l=f:c=f,i=o,!(o=o[v=g<<1|p]))return i[v]=s,e;if(h=+e._x.call(null,o.data),m=+e._y.call(null,o.data),t===h&&n===m)return s.next=o,i?i[v]=s:e._root=s,e;do i=i?i[v]=new Array(4):e._root=new Array(4),(p=t>=(d=(a+u)/2))?a=d:u=d,(g=n>=(f=(l+c)/2))?l=f:c=f;while((v=g<<1|p)===(y=(m>=f)<<1|h>=d));return i[y]=o,i[v]=s,e}function jSt(e){var t,n,r=e.length,i,o,s=new Array(r),a=new Array(r),l=1/0,u=1/0,c=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(s[n]=i,a[n]=o,i<l&&(l=i),i>c&&(c=i),o<u&&(u=o),o>d&&(d=o));if(l>c||u>d)return this;for(this.cover(l,u).cover(c,d),n=0;n<r;++n)rIe(this,s[n],a[n],e[n]);return this}function BSt(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var s=i-n||1,a=this._root,l,u;n>e||e>=i||r>t||t>=o;)switch(u=(t<r)<<1|e<n,l=new Array(4),l[u]=a,a=l,s*=2,u){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function zSt(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function USt(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function cl(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function HSt(e,t,n){var r,i=this._x0,o=this._y0,s,a,l,u,c=this._x1,d=this._y1,f=[],h=this._root,m,p;for(h&&f.push(new cl(h,i,o,c,d)),n==null?n=1/0:(i=e-n,o=t-n,c=e+n,d=t+n,n*=n);m=f.pop();)if(!(!(h=m.node)||(s=m.x0)>c||(a=m.y0)>d||(l=m.x1)<i||(u=m.y1)<o))if(h.length){var g=(s+l)/2,v=(a+u)/2;f.push(new cl(h[3],g,v,l,u),new cl(h[2],s,v,g,u),new cl(h[1],g,a,l,v),new cl(h[0],s,a,g,v)),(p=(t>=v)<<1|e>=g)&&(m=f[f.length-1],f[f.length-1]=f[f.length-1-p],f[f.length-1-p]=m)}else{var y=e-+this._x.call(null,h.data),w=t-+this._y.call(null,h.data),_=y*y+w*w;if(_<n){var E=Math.sqrt(n=_);i=e-E,o=t-E,c=e+E,d=t+E,r=h.data}}return r}function qSt(e){if(isNaN(c=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e)))return this;var t,n=this._root,r,i,o,s=this._x0,a=this._y0,l=this._x1,u=this._y1,c,d,f,h,m,p,g,v;if(!n)return this;if(n.length)for(;;){if((m=c>=(f=(s+l)/2))?s=f:l=f,(p=d>=(h=(a+u)/2))?a=h:u=h,t=n,!(n=n[g=p<<1|m]))return this;if(!n.length)break;(t[g+1&3]||t[g+2&3]||t[g+3&3])&&(r=t,v=g)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):t?(o?t[g]=o:delete t[g],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[v]=n:this._root=n),this):(this._root=o,this)}function VSt(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function WSt(){return this._root}function GSt(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function YSt(e){var t=[],n,r=this._root,i,o,s,a,l;for(r&&t.push(new cl(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,o=n.x0,s=n.y0,a=n.x1,l=n.y1)&&r.length){var u=(o+a)/2,c=(s+l)/2;(i=r[3])&&t.push(new cl(i,u,c,a,l)),(i=r[2])&&t.push(new cl(i,o,c,u,l)),(i=r[1])&&t.push(new cl(i,u,s,a,c)),(i=r[0])&&t.push(new cl(i,o,s,u,c))}return this}function KSt(e){var t=[],n=[],r;for(this._root&&t.push(new cl(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var o,s=r.x0,a=r.y0,l=r.x1,u=r.y1,c=(s+l)/2,d=(a+u)/2;(o=i[0])&&t.push(new cl(o,s,a,c,d)),(o=i[1])&&t.push(new cl(o,c,a,l,d)),(o=i[2])&&t.push(new cl(o,s,d,c,u)),(o=i[3])&&t.push(new cl(o,c,d,l,u))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function XSt(e){return e[0]}function QSt(e){return arguments.length?(this._x=e,this):this._x}function JSt(e){return e[1]}function ZSt(e){return arguments.length?(this._y=e,this):this._y}function kQ(e,t,n){var r=new AQ(t??XSt,n??JSt,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function AQ(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function $de(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Tl=kQ.prototype=AQ.prototype;Tl.copy=function(){var e=new AQ(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=$de(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=$de(r));return e};Tl.add=FSt;Tl.addAll=jSt;Tl.cover=BSt;Tl.data=zSt;Tl.extent=USt;Tl.find=HSt;Tl.remove=qSt;Tl.removeAll=VSt;Tl.root=WSt;Tl.size=GSt;Tl.visit=YSt;Tl.visitAfter=KSt;Tl.x=QSt;Tl.y=ZSt;function fl(e){return function(){return e}}function Wg(e){return(e()-.5)*1e-6}function e2t(e){return e.x+e.vx}function t2t(e){return e.y+e.vy}function n2t(e){var t,n,r,i=1,o=1;typeof e!="function"&&(e=fl(e==null?1:+e));function s(){for(var u,c=t.length,d,f,h,m,p,g,v=0;v<o;++v)for(d=kQ(t,e2t,t2t).visitAfter(a),u=0;u<c;++u)f=t[u],p=n[f.index],g=p*p,h=f.x+f.vx,m=f.y+f.vy,d.visit(y);function y(w,_,E,S,T){var k=w.data,R=w.r,I=p+R;if(k){if(k.index>f.index){var P=h-k.x-k.vx,N=m-k.y-k.vy,M=P*P+N*N;M<I*I&&(P===0&&(P=Wg(r),M+=P*P),N===0&&(N=Wg(r),M+=N*N),M=(I-(M=Math.sqrt(M)))/M*i,f.vx+=(P*=M)*(I=(R*=R)/(g+R)),f.vy+=(N*=M)*I,k.vx-=P*(I=1-I),k.vy-=N*I)}return}return _>h+I||S<h-I||E>m+I||T<m-I}}function a(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(t){var u,c=t.length,d;for(n=new Array(c),u=0;u<c;++u)d=t[u],n[d.index]=+e(d,u,t)}}return s.initialize=function(u,c){t=u,r=c,l()},s.iterations=function(u){return arguments.length?(o=+u,s):o},s.strength=function(u){return arguments.length?(i=+u,s):i},s.radius=function(u){return arguments.length?(e=typeof u=="function"?u:fl(+u),l(),s):e},s}function r2t(e){return e.index}function Lde(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function i2t(e){var t=r2t,n=d,r,i=fl(30),o,s,a,l,u,c=1;e==null&&(e=[]);function d(g){return 1/Math.min(a[g.source.index],a[g.target.index])}function f(g){for(var v=0,y=e.length;v<c;++v)for(var w=0,_,E,S,T,k,R,I;w<y;++w)_=e[w],E=_.source,S=_.target,T=S.x+S.vx-E.x-E.vx||Wg(u),k=S.y+S.vy-E.y-E.vy||Wg(u),R=Math.sqrt(T*T+k*k),R=(R-o[w])/R*g*r[w],T*=R,k*=R,S.vx-=T*(I=l[w]),S.vy-=k*I,E.vx+=T*(I=1-I),E.vy+=k*I}function h(){if(s){var g,v=s.length,y=e.length,w=new Map(s.map((E,S)=>[t(E,S,s),E])),_;for(g=0,a=new Array(v);g<y;++g)_=e[g],_.index=g,typeof _.source!="object"&&(_.source=Lde(w,_.source)),typeof _.target!="object"&&(_.target=Lde(w,_.target)),a[_.source.index]=(a[_.source.index]||0)+1,a[_.target.index]=(a[_.target.index]||0)+1;for(g=0,l=new Array(y);g<y;++g)_=e[g],l[g]=a[_.source.index]/(a[_.source.index]+a[_.target.index]);r=new Array(y),m(),o=new Array(y),p()}}function m(){if(s)for(var g=0,v=e.length;g<v;++g)r[g]=+n(e[g],g,e)}function p(){if(s)for(var g=0,v=e.length;g<v;++g)o[g]=+i(e[g],g,e)}return f.initialize=function(g,v){s=g,u=v,h()},f.links=function(g){return arguments.length?(e=g,h(),f):e},f.id=function(g){return arguments.length?(t=g,f):t},f.iterations=function(g){return arguments.length?(c=+g,f):c},f.strength=function(g){return arguments.length?(n=typeof g=="function"?g:fl(+g),m(),f):n},f.distance=function(g){return arguments.length?(i=typeof g=="function"?g:fl(+g),p(),f):i},f}var o2t={value:()=>{}};function RQ(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new MP(n)}function MP(e){this._=e}function s2t(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}MP.prototype=RQ.prototype={constructor:MP,on:function(e,t){var n=this._,r=s2t(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=a2t(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=Fde(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Fde(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new MP(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function a2t(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Fde(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=o2t,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var kx=0,WE=0,X_=0,iIe=1e3,cN,GE,dN=0,eb=0,D6=0,z2=typeof performance=="object"&&performance.now?performance:Date,oIe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function P6(){return eb||(oIe(l2t),eb=z2.now()+D6)}function l2t(){eb=0}function U2(){this._call=this._time=this._next=null}U2.prototype=IQ.prototype={constructor:U2,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?P6():+n)+(t==null?0:+t),!this._next&&GE!==this&&(GE?GE._next=this:cN=this,GE=this),this._call=e,this._time=n,oH()},stop:function(){this._call&&(this._call=null,this._time=1/0,oH())}};function IQ(e,t,n){var r=new U2;return r.restart(e,t,n),r}function u2t(){P6(),++kx;for(var e=cN,t;e;)(t=eb-e._time)>=0&&e._call.call(void 0,t),e=e._next;--kx}function jde(){eb=(dN=z2.now())+D6,kx=WE=0;try{u2t()}finally{kx=0,d2t(),eb=0}}function c2t(){var e=z2.now(),t=e-dN;t>iIe&&(D6-=t,dN=e)}function d2t(){for(var e,t=cN,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:cN=n);GE=e,oH(r)}function oH(e){if(!kx){WE&&(WE=clearTimeout(WE));var t=e-eb;t>24?(e<1/0&&(WE=setTimeout(jde,e-z2.now()-D6)),X_&&(X_=clearInterval(X_))):(X_||(dN=z2.now(),X_=setInterval(c2t,iIe)),kx=1,oIe(jde))}}function Bde(e,t,n){var r=new U2;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}function f2t(e,t,n){var r=new U2,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(o,s,a){s=+s,a=a==null?P6():+a,r._restart(function l(u){u+=i,r._restart(l,i+=s,a),o(u)},s,a)},r.restart(e,t,n),r)}const h2t=1664525,p2t=1013904223,zde=4294967296;function m2t(){let e=1;return()=>(e=(h2t*e+p2t)%zde)/zde}function g2t(e){return e.x}function y2t(e){return e.y}var v2t=10,b2t=Math.PI*(3-Math.sqrt(5));function w2t(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,a=new Map,l=IQ(d),u=RQ("tick","end"),c=m2t();e==null&&(e=[]);function d(){f(),u.call("tick",t),n<r&&(l.stop(),u.call("end",t))}function f(p){var g,v=e.length,y;p===void 0&&(p=1);for(var w=0;w<p;++w)for(n+=(o-n)*i,a.forEach(function(_){_(n)}),g=0;g<v;++g)y=e[g],y.fx==null?y.x+=y.vx*=s:(y.x=y.fx,y.vx=0),y.fy==null?y.y+=y.vy*=s:(y.y=y.fy,y.vy=0);return t}function h(){for(var p=0,g=e.length,v;p<g;++p){if(v=e[p],v.index=p,v.fx!=null&&(v.x=v.fx),v.fy!=null&&(v.y=v.fy),isNaN(v.x)||isNaN(v.y)){var y=v2t*Math.sqrt(.5+p),w=p*b2t;v.x=y*Math.cos(w),v.y=y*Math.sin(w)}(isNaN(v.vx)||isNaN(v.vy))&&(v.vx=v.vy=0)}}function m(p){return p.initialize&&p.initialize(e,c),p}return h(),t={tick:f,restart:function(){return l.restart(d),t},stop:function(){return l.stop(),t},nodes:function(p){return arguments.length?(e=p,h(),a.forEach(m),t):e},alpha:function(p){return arguments.length?(n=+p,t):n},alphaMin:function(p){return arguments.length?(r=+p,t):r},alphaDecay:function(p){return arguments.length?(i=+p,t):+i},alphaTarget:function(p){return arguments.length?(o=+p,t):o},velocityDecay:function(p){return arguments.length?(s=1-p,t):1-s},randomSource:function(p){return arguments.length?(c=p,a.forEach(m),t):c},force:function(p,g){return arguments.length>1?(g==null?a.delete(p):a.set(p,m(g)),t):a.get(p)},find:function(p,g,v){var y=0,w=e.length,_,E,S,T,k;for(v==null?v=1/0:v*=v,y=0;y<w;++y)T=e[y],_=p-T.x,E=g-T.y,S=_*_+E*E,S<v&&(k=T,v=S);return k},on:function(p,g){return arguments.length>1?(u.on(p,g),t):u.on(p)}}}function x2t(){var e,t,n,r,i=fl(-30),o,s=1,a=1/0,l=.81;function u(h){var m,p=e.length,g=kQ(e,g2t,y2t).visitAfter(d);for(r=h,m=0;m<p;++m)t=e[m],g.visit(f)}function c(){if(e){var h,m=e.length,p;for(o=new Array(m),h=0;h<m;++h)p=e[h],o[p.index]=+i(p,h,e)}}function d(h){var m=0,p,g,v=0,y,w,_;if(h.length){for(y=w=_=0;_<4;++_)(p=h[_])&&(g=Math.abs(p.value))&&(m+=p.value,v+=g,y+=g*p.x,w+=g*p.y);h.x=y/v,h.y=w/v}else{p=h,p.x=p.data.x,p.y=p.data.y;do m+=o[p.data.index];while(p=p.next)}h.value=m}function f(h,m,p,g){if(!h.value)return!0;var v=h.x-t.x,y=h.y-t.y,w=g-m,_=v*v+y*y;if(w*w/l<_)return _<a&&(v===0&&(v=Wg(n),_+=v*v),y===0&&(y=Wg(n),_+=y*y),_<s&&(_=Math.sqrt(s*_)),t.vx+=v*h.value*r/_,t.vy+=y*h.value*r/_),!0;if(h.length||_>=a)return;(h.data!==t||h.next)&&(v===0&&(v=Wg(n),_+=v*v),y===0&&(y=Wg(n),_+=y*y),_<s&&(_=Math.sqrt(s*_)));do h.data!==t&&(w=o[h.data.index]*r/_,t.vx+=v*w,t.vy+=y*w);while(h=h.next)}return u.initialize=function(h,m){e=h,n=m,c()},u.strength=function(h){return arguments.length?(i=typeof h=="function"?h:fl(+h),c(),u):i},u.distanceMin=function(h){return arguments.length?(s=h*h,u):Math.sqrt(s)},u.distanceMax=function(h){return arguments.length?(a=h*h,u):Math.sqrt(a)},u.theta=function(h){return arguments.length?(l=h*h,u):Math.sqrt(l)},u}function C2t(e){var t=fl(.1),n,r,i;typeof e!="function"&&(e=fl(e==null?0:+e));function o(a){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vx+=(i[l]-c.x)*r[l]*a}function s(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:fl(+a),s(),o):t},o.x=function(a){return arguments.length?(e=typeof a=="function"?a:fl(+a),s(),o):e},o}function _2t(e){var t=fl(.1),n,r,i;typeof e!="function"&&(e=fl(e==null?0:+e));function o(a){for(var l=0,u=n.length,c;l<u;++l)c=n[l],c.vy+=(i[l]-c.y)*r[l]*a}function s(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:fl(+a),s(),o):t},o.y=function(a){return arguments.length?(e=typeof a=="function"?a:fl(+a),s(),o):e},o}const Ude={center:LSt,collide:n2t,nbody:x2t,link:i2t,x:C2t,y:_2t},YE="forces",sH=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],E2t=["static","iterations"],sIe=["x","y","vx","vy"];function DQ(e){et.call(this,null,e)}DQ.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:sIe}]};It(DQ,et,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(sH),o=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&aIe(n,e,0,t)):(this.value=n=T2t(t.source,e),n.on("tick",S2t(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(E2t)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/o)),e.static)for(n.stop();--o>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let a=this._argops,l=0,u=a.length,c;l<u;++l)if(c=a[l],!(c.name!==YE||c.op._argval.force!=="link")){for(var r=c.op._argops,i=0,o=r.length,s;i<o;++i)if(r[i].name==="links"&&(s=r[i].op.source)){n.pulse(s,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(sIe)}});function S2t(e,t){return()=>e.touch(t).run()}function T2t(e,t){const n=w2t(e),r=n.stop,i=n.restart;let o=!1;return n.stopped=()=>o,n.restart=()=>(o=!1,i()),n.stop=()=>(o=!0,r()),aIe(n,t,!0).on("end",()=>o=!0)}function aIe(e,t,n,r){var i=wn(t.forces),o,s,a,l;for(o=0,s=sH.length;o<s;++o)a=sH[o],a!==YE&&t.modified(a)&&e[a](t[a]);for(o=0,s=i.length;o<s;++o)l=YE+o,a=n||t.modified(YE,o)?A2t(i[o]):r&&k2t(i[o],r)?e.force(l):null,a&&e.force(l,a);for(s=e.numForces||0;o<s;++o)e.force(YE+o,null);return e.numForces=i.length,e}function k2t(e,t){var n,r;for(n in e)if(nr(r=e[n])&&t.modified(Ma(r)))return 1;return 0}function A2t(e){var t,n;Dn(Ude,e.force)||it("Unrecognized force: "+e.force),t=Ude[e.force]();for(n in e)nr(t[n])&&R2t(t[n],e[n],e);return t}function R2t(e,t,n){e(nr(t)?r=>t(r,n):t)}const I2t=Object.freeze(Object.defineProperty({__proto__:null,force:DQ},Symbol.toStringTag,{value:"Module"}));function D2t(e,t){return e.parent===t.parent?1:2}function P2t(e){return e.reduce(O2t,0)/e.length}function O2t(e,t){return e+t.x}function N2t(e){return 1+e.reduce(M2t,0)}function M2t(e,t){return Math.max(e,t.y)}function $2t(e){for(var t;t=e.children;)e=t[0];return e}function L2t(e){for(var t;t=e.children;)e=t[t.length-1];return e}function F2t(){var e=D2t,t=1,n=1,r=!1;function i(o){var s,a=0;o.eachAfter(function(f){var h=f.children;h?(f.x=P2t(h),f.y=N2t(h)):(f.x=s?a+=e(f,s):0,f.y=0,s=f)});var l=$2t(o),u=L2t(o),c=l.x-e(l,u)/2,d=u.x+e(u,l)/2;return o.eachAfter(r?function(f){f.x=(f.x-o.x)*t,f.y=(o.y-f.y)*n}:function(f){f.x=(f.x-c)/(d-c)*t,f.y=(1-(o.y?f.y/o.y:1))*n})}return i.separation=function(o){return arguments.length?(e=o,i):e},i.size=function(o){return arguments.length?(r=!1,t=+o[0],n=+o[1],i):r?null:[t,n]},i.nodeSize=function(o){return arguments.length?(r=!0,t=+o[0],n=+o[1],i):r?[t,n]:null},i}function j2t(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function B2t(){return this.eachAfter(j2t)}function z2t(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function U2t(e,t){for(var n=this,r=[n],i,o,s=-1;n=r.pop();)if(e.call(t,n,++s,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function H2t(e,t){for(var n=this,r=[n],i=[],o,s,a,l=-1;n=r.pop();)if(i.push(n),o=n.children)for(s=0,a=o.length;s<a;++s)r.push(o[s]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function q2t(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function V2t(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function W2t(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function G2t(e){for(var t=this,n=Y2t(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function Y2t(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function K2t(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function X2t(){return Array.from(this)}function Q2t(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function J2t(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*Z2t(){var e=this,t,n=[e],r,i,o;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function PQ(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=nTt)):t===void 0&&(t=tTt);for(var n=new Ax(e),r,i=[n],o,s,a,l;r=i.pop();)if((s=t(r.data))&&(l=(s=Array.from(s)).length))for(r.children=s,a=l-1;a>=0;--a)i.push(o=s[a]=new Ax(s[a])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(lIe)}function eTt(){return PQ(this).eachBefore(rTt)}function tTt(e){return e.children}function nTt(e){return Array.isArray(e)?e[1]:null}function rTt(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function lIe(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Ax(e){this.data=e,this.depth=this.height=0,this.parent=null}Ax.prototype=PQ.prototype={constructor:Ax,count:B2t,each:z2t,eachAfter:H2t,eachBefore:U2t,find:q2t,sum:V2t,sort:W2t,path:G2t,ancestors:K2t,descendants:X2t,leaves:Q2t,links:J2t,copy:eTt,[Symbol.iterator]:Z2t};function $P(e){return e==null?null:uIe(e)}function uIe(e){if(typeof e!="function")throw new Error;return e}function nv(){return 0}function aw(e){return function(){return e}}const iTt=1664525,oTt=1013904223,Hde=4294967296;function sTt(){let e=1;return()=>(e=(iTt*e+oTt)%Hde)/Hde}function aTt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function lTt(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function uTt(e,t){for(var n=0,r=(e=lTt(Array.from(e),t)).length,i=[],o,s;n<r;)o=e[n],s&&cIe(s,o)?++n:(s=dTt(i=cTt(i,o)),n=0);return s}function cTt(e,t){var n,r;if(Xj(t,e))return[t];for(n=0;n<e.length;++n)if(XR(t,e[n])&&Xj(KE(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(XR(KE(e[n],e[r]),t)&&XR(KE(e[n],t),e[r])&&XR(KE(e[r],t),e[n])&&Xj(dIe(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function XR(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function cIe(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function Xj(e,t){for(var n=0;n<t.length;++n)if(!cIe(e,t[n]))return!1;return!0}function dTt(e){switch(e.length){case 1:return fTt(e[0]);case 2:return KE(e[0],e[1]);case 3:return dIe(e[0],e[1],e[2])}}function fTt(e){return{x:e.x,y:e.y,r:e.r}}function KE(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,s=t.y,a=t.r,l=o-n,u=s-r,c=a-i,d=Math.sqrt(l*l+u*u);return{x:(n+o+l/d*c)/2,y:(r+s+u/d*c)/2,r:(d+i+a)/2}}function dIe(e,t,n){var r=e.x,i=e.y,o=e.r,s=t.x,a=t.y,l=t.r,u=n.x,c=n.y,d=n.r,f=r-s,h=r-u,m=i-a,p=i-c,g=l-o,v=d-o,y=r*r+i*i-o*o,w=y-s*s-a*a+l*l,_=y-u*u-c*c+d*d,E=h*m-f*p,S=(m*_-p*w)/(E*2)-r,T=(p*g-m*v)/E,k=(h*w-f*_)/(E*2)-i,R=(f*v-h*g)/E,I=T*T+R*R-1,P=2*(o+S*T+k*R),N=S*S+k*k-o*o,M=-(Math.abs(I)>1e-6?(P+Math.sqrt(P*P-4*I*N))/(2*I):N/P);return{x:r+S+T*M,y:i+k+R*M,r:M}}function qde(e,t,n){var r=e.x-t.x,i,o,s=e.y-t.y,a,l,u=r*r+s*s;u?(o=t.r+n.r,o*=o,l=e.r+n.r,l*=l,o>l?(i=(u+l-o)/(2*u),a=Math.sqrt(Math.max(0,l/u-i*i)),n.x=e.x-i*r-a*s,n.y=e.y-i*s+a*r):(i=(u+o-l)/(2*u),a=Math.sqrt(Math.max(0,o/u-i*i)),n.x=t.x+i*r-a*s,n.y=t.y+i*s+a*r)):(n.x=t.x+n.r,n.y=t.y)}function Vde(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function Wde(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function QR(e){this._=e,this.next=null,this.previous=null}function hTt(e,t){if(!(o=(e=aTt(e)).length))return 0;var n,r,i,o,s,a,l,u,c,d,f;if(n=e[0],n.x=0,n.y=0,!(o>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;qde(r,n,i=e[2]),n=new QR(n),r=new QR(r),i=new QR(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<o;++l){qde(n._,r._,i=e[l]),i=new QR(i),u=r.next,c=n.previous,d=r._.r,f=n._.r;do if(d<=f){if(Vde(u._,i._)){r=u,n.next=r,r.previous=n,--l;continue e}d+=u._.r,u=u.next}else{if(Vde(c._,i._)){n=c,n.next=r,r.previous=n,--l;continue e}f+=c._.r,c=c.previous}while(u!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,s=Wde(n);(i=i.next)!==r;)(a=Wde(i))<s&&(n=i,s=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=uTt(n,t),l=0;l<o;++l)n=e[l],n.x-=i.x,n.y-=i.y;return i.r}function pTt(e){return Math.sqrt(e.value)}function mTt(){var e=null,t=1,n=1,r=nv;function i(o){const s=sTt();return o.x=t/2,o.y=n/2,e?o.eachBefore(Gde(e)).eachAfter(Qj(r,.5,s)).eachBefore(Yde(1)):o.eachBefore(Gde(pTt)).eachAfter(Qj(nv,1,s)).eachAfter(Qj(r,o.r/Math.min(t,n),s)).eachBefore(Yde(Math.min(t,n)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(e=$P(o),i):e},i.size=function(o){return arguments.length?(t=+o[0],n=+o[1],i):[t,n]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:aw(+o),i):r},i}function Gde(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function Qj(e,t,n){return function(r){if(i=r.children){var i,o,s=i.length,a=e(r)*t||0,l;if(a)for(o=0;o<s;++o)i[o].r+=a;if(l=hTt(i,n),a)for(o=0;o<s;++o)i[o].r-=a;r.r=l+a}}}function Yde(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function fIe(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function bk(e,t,n,r,i){for(var o=e.children,s,a=-1,l=o.length,u=e.value&&(r-t)/e.value;++a<l;)s=o[a],s.y0=n,s.y1=i,s.x0=t,s.x1=t+=s.value*u}function gTt(){var e=1,t=1,n=0,r=!1;function i(s){var a=s.height+1;return s.x0=s.y0=n,s.x1=e,s.y1=t/a,s.eachBefore(o(t,a)),r&&s.eachBefore(fIe),s}function o(s,a){return function(l){l.children&&bk(l,l.x0,s*(l.depth+1)/a,l.x1,s*(l.depth+2)/a);var u=l.x0,c=l.y0,d=l.x1-n,f=l.y1-n;d<u&&(u=d=(u+d)/2),f<c&&(c=f=(c+f)/2),l.x0=u,l.y0=c,l.x1=d,l.y1=f}}return i.round=function(s){return arguments.length?(r=!!s,i):r},i.size=function(s){return arguments.length?(e=+s[0],t=+s[1],i):[e,t]},i.padding=function(s){return arguments.length?(n=+s,i):n},i}var yTt={depth:-1},Kde={},Jj={};function vTt(e){return e.id}function bTt(e){return e.parentId}function Xde(){var e=vTt,t=bTt,n;function r(i){var o=Array.from(i),s=e,a=t,l,u,c,d,f,h,m,p,g=new Map;if(n!=null){const v=o.map((_,E)=>wTt(n(_,E,i))),y=v.map(Qde),w=new Set(v).add("");for(const _ of y)w.has(_)||(w.add(_),v.push(_),y.push(Qde(_)),o.push(Jj));s=(_,E)=>v[E],a=(_,E)=>y[E]}for(c=0,l=o.length;c<l;++c)u=o[c],h=o[c]=new Ax(u),(m=s(u,c,i))!=null&&(m+="")&&(p=h.id=m,g.set(p,g.has(p)?Kde:h)),(m=a(u,c,i))!=null&&(m+="")&&(h.parent=m);for(c=0;c<l;++c)if(h=o[c],m=h.parent){if(f=g.get(m),!f)throw new Error("missing: "+m);if(f===Kde)throw new Error("ambiguous: "+m);f.children?f.children.push(h):f.children=[h],h.parent=f}else{if(d)throw new Error("multiple roots");d=h}if(!d)throw new Error("no root");if(n!=null){for(;d.data===Jj&&d.children.length===1;)d=d.children[0],--l;for(let v=o.length-1;v>=0&&(h=o[v],h.data===Jj);--v)h.data=null}if(d.parent=yTt,d.eachBefore(function(v){v.depth=v.parent.depth+1,--l}).eachBefore(lIe),d.parent=null,l>0)throw new Error("cycle");return d}return r.id=function(i){return arguments.length?(e=$P(i),r):e},r.parentId=function(i){return arguments.length?(t=$P(i),r):t},r.path=function(i){return arguments.length?(n=$P(i),r):n},r}function wTt(e){e=`${e}`;let t=e.length;return aH(e,t-1)&&!aH(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function Qde(e){let t=e.length;if(t<2)return"";for(;--t>1&&!aH(e,t););return e.slice(0,t)}function aH(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if((n&1)===0)return!0}return!1}function xTt(e,t){return e.parent===t.parent?1:2}function Zj(e){var t=e.children;return t?t[0]:e.t}function e9(e){var t=e.children;return t?t[t.length-1]:e.t}function CTt(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function _Tt(e){for(var t=0,n=0,r=e.children,i=r.length,o;--i>=0;)o=r[i],o.z+=t,o.m+=t,t+=o.s+(n+=o.c)}function ETt(e,t,n){return e.a.parent===t.parent?e.a:n}function LP(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}LP.prototype=Object.create(Ax.prototype);function STt(e){for(var t=new LP(e,0),n,r=[t],i,o,s,a;n=r.pop();)if(o=n._.children)for(n.children=new Array(a=o.length),s=a-1;s>=0;--s)r.push(i=n.children[s]=new LP(o[s],s)),i.parent=n;return(t.parent=new LP(null,0)).children=[t],t}function TTt(){var e=xTt,t=1,n=1,r=null;function i(u){var c=STt(u);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(s),r)u.eachBefore(l);else{var d=u,f=u,h=u;u.eachBefore(function(y){y.x<d.x&&(d=y),y.x>f.x&&(f=y),y.depth>h.depth&&(h=y)});var m=d===f?1:e(d,f)/2,p=m-d.x,g=t/(f.x+m+p),v=n/(h.depth||1);u.eachBefore(function(y){y.x=(y.x+p)*g,y.y=y.depth*v})}return u}function o(u){var c=u.children,d=u.parent.children,f=u.i?d[u.i-1]:null;if(c){_Tt(u);var h=(c[0].z+c[c.length-1].z)/2;f?(u.z=f.z+e(u._,f._),u.m=u.z-h):u.z=h}else f&&(u.z=f.z+e(u._,f._));u.parent.A=a(u,f,u.parent.A||d[0])}function s(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function a(u,c,d){if(c){for(var f=u,h=u,m=c,p=f.parent.children[0],g=f.m,v=h.m,y=m.m,w=p.m,_;m=e9(m),f=Zj(f),m&&f;)p=Zj(p),h=e9(h),h.a=u,_=m.z+y-f.z-g+e(m._,f._),_>0&&(CTt(ETt(m,u,d),u,_),g+=_,v+=_),y+=m.m,g+=f.m,w+=p.m,v+=h.m;m&&!e9(h)&&(h.t=m,h.m+=y-v),f&&!Zj(p)&&(p.t=f,p.m+=g-w,d=u)}return d}function l(u){u.x*=t,u.y=u.depth*n}return i.separation=function(u){return arguments.length?(e=u,i):e},i.size=function(u){return arguments.length?(r=!1,t=+u[0],n=+u[1],i):r?null:[t,n]},i.nodeSize=function(u){return arguments.length?(r=!0,t=+u[0],n=+u[1],i):r?[t,n]:null},i}function O6(e,t,n,r,i){for(var o=e.children,s,a=-1,l=o.length,u=e.value&&(i-n)/e.value;++a<l;)s=o[a],s.x0=t,s.x1=r,s.y0=n,s.y1=n+=s.value*u}var hIe=(1+Math.sqrt(5))/2;function pIe(e,t,n,r,i,o){for(var s=[],a=t.children,l,u,c=0,d=0,f=a.length,h,m,p=t.value,g,v,y,w,_,E,S;c<f;){h=i-n,m=o-r;do g=a[d++].value;while(!g&&d<f);for(v=y=g,E=Math.max(m/h,h/m)/(p*e),S=g*g*E,_=Math.max(y/S,S/v);d<f;++d){if(g+=u=a[d].value,u<v&&(v=u),u>y&&(y=u),S=g*g*E,w=Math.max(y/S,S/v),w>_){g-=u;break}_=w}s.push(l={value:g,dice:h<m,children:a.slice(c,d)}),l.dice?bk(l,n,r,i,p?r+=m*g/p:o):O6(l,n,r,p?n+=h*g/p:i,o),p-=g,c=d}return s}const mIe=(function e(t){function n(r,i,o,s,a){pIe(t,r,i,o,s,a)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n})(hIe);function kTt(){var e=mIe,t=!1,n=1,r=1,i=[0],o=nv,s=nv,a=nv,l=nv,u=nv;function c(f){return f.x0=f.y0=0,f.x1=n,f.y1=r,f.eachBefore(d),i=[0],t&&f.eachBefore(fIe),f}function d(f){var h=i[f.depth],m=f.x0+h,p=f.y0+h,g=f.x1-h,v=f.y1-h;g<m&&(m=g=(m+g)/2),v<p&&(p=v=(p+v)/2),f.x0=m,f.y0=p,f.x1=g,f.y1=v,f.children&&(h=i[f.depth+1]=o(f)/2,m+=u(f)-h,p+=s(f)-h,g-=a(f)-h,v-=l(f)-h,g<m&&(m=g=(m+g)/2),v<p&&(p=v=(p+v)/2),e(f,m,p,g,v))}return c.round=function(f){return arguments.length?(t=!!f,c):t},c.size=function(f){return arguments.length?(n=+f[0],r=+f[1],c):[n,r]},c.tile=function(f){return arguments.length?(e=uIe(f),c):e},c.padding=function(f){return arguments.length?c.paddingInner(f).paddingOuter(f):c.paddingInner()},c.paddingInner=function(f){return arguments.length?(o=typeof f=="function"?f:aw(+f),c):o},c.paddingOuter=function(f){return arguments.length?c.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):c.paddingTop()},c.paddingTop=function(f){return arguments.length?(s=typeof f=="function"?f:aw(+f),c):s},c.paddingRight=function(f){return arguments.length?(a=typeof f=="function"?f:aw(+f),c):a},c.paddingBottom=function(f){return arguments.length?(l=typeof f=="function"?f:aw(+f),c):l},c.paddingLeft=function(f){return arguments.length?(u=typeof f=="function"?f:aw(+f),c):u},c}function ATt(e,t,n,r,i){var o=e.children,s,a=o.length,l,u=new Array(a+1);for(u[0]=l=s=0;s<a;++s)u[s+1]=l+=o[s].value;c(0,a,e.value,t,n,r,i);function c(d,f,h,m,p,g,v){if(d>=f-1){var y=o[d];y.x0=m,y.y0=p,y.x1=g,y.y1=v;return}for(var w=u[d],_=h/2+w,E=d+1,S=f-1;E<S;){var T=E+S>>>1;u[T]<_?E=T+1:S=T}_-u[E-1]<u[E]-_&&d+1<E&&--E;var k=u[E]-w,R=h-k;if(g-m>v-p){var I=h?(m*R+g*k)/h:g;c(d,E,k,m,p,I,v),c(E,f,R,I,p,g,v)}else{var P=h?(p*R+v*k)/h:v;c(d,E,k,m,p,g,P),c(E,f,R,m,P,g,v)}}}function RTt(e,t,n,r,i){(e.depth&1?O6:bk)(e,t,n,r,i)}const ITt=(function e(t){function n(r,i,o,s,a){if((l=r._squarify)&&l.ratio===t)for(var l,u,c,d,f=-1,h,m=l.length,p=r.value;++f<m;){for(u=l[f],c=u.children,d=u.value=0,h=c.length;d<h;++d)u.value+=c[d].value;u.dice?bk(u,i,o,s,p?o+=(a-o)*u.value/p:a):O6(u,i,o,p?i+=(s-i)*u.value/p:s,a),p-=u.value}else r._squarify=l=pIe(t,r,i,o,s,a),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n})(hIe);function lH(e,t,n){const r={};return e.each(i=>{const o=i.data;n(o)&&(r[t(o)]=i)}),e.lookup=r,e}function OQ(e){et.call(this,null,e)}OQ.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const DTt=e=>e.values;It(OQ,et,{transform(e,t){t.source||it("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),o=this.value;return(!o||r||t.changed())&&(o&&o.each(s=>{s.children&&WM(s.data)&&i.rem.push(s.data)}),this.value=o=PQ({values:wn(e.keys).reduce((s,a)=>(s.key(a),s),PTt()).entries(i.source)},DTt),n&&o.each(s=>{s.children&&(s=Zr(s.data),i.add.push(s),i.source.push(s))}),lH(o,mn,mn)),i.source.root=o,i}});function PTt(){const e=[],t={entries:i=>r(n(i,0),0),key:i=>(e.push(i),t)};function n(i,o){if(o>=e.length)return i;const s=i.length,a=e[o++],l={},u={};let c=-1,d,f,h;for(;++c<s;)d=a(f=i[c])+"",(h=l[d])?h.push(f):l[d]=[f];for(d in l)u[d]=n(l[d],o);return u}function r(i,o){if(++o>e.length)return i;const s=[];for(const a in i)s.push({key:a,values:r(i[a],o)});return s}return t}function $m(e){et.call(this,null,e)}const OTt=(e,t)=>e.parent===t.parent?1:2;It($m,et,{transform(e,t){(!t.source||!t.source.root)&&it(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,o=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(Ob(e.sort,s=>s.data)),NTt(n,this.params,e),n.separation&&n.separation(e.separation!==!1?OTt:wC);try{this.value=n(i)}catch(s){it(s)}return i.each(s=>MTt(s,r,o)),t.reflow(e.modified()).modifies(o).modifies("leaf")}});function NTt(e,t,n){for(let r,i=0,o=t.length;i<o;++i)r=t[i],r in n&&e[r](n[r])}function MTt(e,t,n){const r=e.data,i=t.length-1;for(let o=0;o<i;++o)r[n[o]]=e[t[o]];r[n[i]]=e.children?e.children.length:0}const uH=["x","y","r","depth","children"];function NQ(e){$m.call(this,e)}NQ.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:uH.length,default:uH}]};It(NQ,$m,{layout:mTt,params:["radius","size","padding"],fields:uH});const cH=["x0","y0","x1","y1","depth","children"];function MQ(e){$m.call(this,e)}MQ.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:cH.length,default:cH}]};It(MQ,$m,{layout:gTt,params:["size","round","padding"],fields:cH});function $Q(e){et.call(this,null,e)}$Q.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};It($Q,et,{transform(e,t){t.source||it("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),o=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),o&&(n=i.source.length?lH(Xde().id(e.key).parentId(e.parentKey)(i.source),e.key,Mc):lH(Xde()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const Jde={tidy:TTt,cluster:F2t},dH=["x","y","depth","children"];function LQ(e){$m.call(this,e)}LQ.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:dH.length,default:dH}]};It(LQ,$m,{layout(e){const t=e||"tidy";if(Dn(Jde,t))return Jde[t]();it("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:dH});function FQ(e){et.call(this,[],e)}FQ.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};It(FQ,et,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),o={};return r||it("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,s=>o[mn(s)]=1),r.each(s=>{const a=s.data,l=s.parent&&s.parent.data;l&&o[mn(a)]&&o[mn(l)]&&i.add.push(Zr({source:l,target:a}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,s=>o[mn(s)]=1),n.forEach(s=>{(o[mn(s.source)]||o[mn(s.target)])&&i.mod.push(s)})),i}});const Zde={binary:ATt,dice:bk,slice:O6,slicedice:RTt,squarify:mIe,resquarify:ITt},fH=["x0","y0","x1","y1","depth","children"];function jQ(e){$m.call(this,e)}jQ.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:fH.length,default:fH}]};It(jQ,$m,{layout(){const e=kTt();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{Dn(Zde,t)?e.tile(Zde[t]):it("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:fH});const $Tt=Object.freeze(Object.defineProperty({__proto__:null,nest:OQ,pack:NQ,partition:MQ,stratify:$Q,tree:LQ,treelinks:FQ,treemap:jQ},Symbol.toStringTag,{value:"Module"})),t9=4278190080;function LTt(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function FTt(e,t,n,r,i){const o=e.width,s=e.height,a=r||i,l=s0(o,s).getContext("2d"),u=s0(o,s).getContext("2d"),c=a&&s0(o,s).getContext("2d");n.forEach(k=>FP(l,k,!1)),FP(u,t,!1),a&&FP(c,t,!0);const d=n9(l,o,s),f=n9(u,o,s),h=a&&n9(c,o,s),m=e.bitmap(),p=a&&e.bitmap();let g,v,y,w,_,E,S,T;for(v=0;v<s;++v)for(g=0;g<o;++g)_=v*o+g,E=d[_]&t9,T=f[_]&t9,S=a&&h[_]&t9,(E||S||T)&&(y=e(g),w=e(v),!i&&(E||T)&&m.set(y,w),a&&(E||S)&&p.set(y,w));return[m,p]}function n9(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function FP(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(i=>{i.items.forEach(o=>FP(e,o.items,n))}):Gu[r].draw(e,{items:n?t.map(jTt):t})}function jTt(e){const t=GM(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const mp=5,Ja=31,H2=32,Rg=new Uint32Array(H2+1),wd=new Uint32Array(H2+1);wd[0]=0;Rg[0]=~wd[0];for(let e=1;e<=H2;++e)wd[e]=wd[e-1]<<1|1,Rg[e]=~wd[e];function BTt(e,t){const n=new Uint32Array(~~((e*t+H2)/H2));function r(o,s){n[o]|=s}function i(o,s){n[o]&=s}return{array:n,get:(o,s)=>{const a=s*e+o;return n[a>>>mp]&1<<(a&Ja)},set:(o,s)=>{const a=s*e+o;r(a>>>mp,1<<(a&Ja))},clear:(o,s)=>{const a=s*e+o;i(a>>>mp,~(1<<(a&Ja)))},getRange:(o,s,a,l)=>{let u=l,c,d,f,h;for(;u>=s;--u)if(c=u*e+o,d=u*e+a,f=c>>>mp,h=d>>>mp,f===h){if(n[f]&Rg[c&Ja]&wd[(d&Ja)+1])return!0}else{if(n[f]&Rg[c&Ja]||n[h]&wd[(d&Ja)+1])return!0;for(let m=f+1;m<h;++m)if(n[m])return!0}return!1},setRange:(o,s,a,l)=>{let u,c,d,f,h;for(;s<=l;++s)if(u=s*e+o,c=s*e+a,d=u>>>mp,f=c>>>mp,d===f)r(d,Rg[u&Ja]&wd[(c&Ja)+1]);else for(r(d,Rg[u&Ja]),r(f,wd[(c&Ja)+1]),h=d+1;h<f;++h)r(h,4294967295)},clearRange:(o,s,a,l)=>{let u,c,d,f,h;for(;s<=l;++s)if(u=s*e+o,c=s*e+a,d=u>>>mp,f=c>>>mp,d===f)i(d,wd[u&Ja]|Rg[(c&Ja)+1]);else for(i(d,wd[u&Ja]),i(f,Rg[(c&Ja)+1]),h=d+1;h<f;++h)i(h,0)},outOfBounds:(o,s,a,l)=>o<0||s<0||l>=t||a>=e}}function zTt(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),o=~~((t+2*n+r)/r),s=a=>~~((a+n)/r);return s.invert=a=>a*r-n,s.bitmap=()=>BTt(i,o),s.ratio=r,s.padding=n,s.width=e,s.height=t,s}function UTt(e,t,n,r){const i=e.width,o=e.height;return function(s){const a=s.datum.datum.items[r].items,l=a.length,u=s.datum.fontSize,c=Lu.width(s.datum,s.datum.text);let d=0,f,h,m,p,g,v,y;for(let w=0;w<l;++w)f=a[w].x,m=a[w].y,h=a[w].x2===void 0?f:a[w].x2,p=a[w].y2===void 0?m:a[w].y2,g=(f+h)/2,v=(m+p)/2,y=Math.abs(h-f+p-m),y>=d&&(d=y,s.x=g,s.y=v);return g=c/2,v=u/2,f=s.x-g,h=s.x+g,m=s.y-v,p=s.y+v,s.align="center",f<0&&h<=i?s.align="left":0<=f&&i<h&&(s.align="right"),s.baseline="middle",m<0&&p<=o?s.baseline="top":0<=m&&o<p&&(s.baseline="bottom"),!0}}function fN(e,t,n,r,i,o){let s=n/2;return e-s<0||e+s>i||t-(s=r/2)<0||t+s>o}function Gg(e,t,n,r,i,o,s,a){const l=i*o/(r*2),u=e(t-l),c=e(t+l),d=e(n-(o=o/2)),f=e(n+o);return s.outOfBounds(u,d,c,f)||s.getRange(u,d,c,f)||a&&a.getRange(u,d,c,f)}function HTt(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1];function l(u,c,d,f,h){const m=e.invert(u),p=e.invert(c);let g=d,v=o,y;if(!fN(m,p,f,h,i,o)&&!Gg(e,m,p,h,f,g,s,a)&&!Gg(e,m,p,h,f,h,s,null)){for(;v-g>=1;)y=(g+v)/2,Gg(e,m,p,h,f,y,s,a)?v=y:g=y;if(g>d)return[m,p,g,!0]}}return function(u){const c=u.datum.datum.items[r].items,d=c.length,f=u.datum.fontSize,h=Lu.width(u.datum,u.datum.text);let m=n?f:0,p=!1,g=!1,v=0,y,w,_,E,S,T,k,R,I,P,N,M,O,j,U,q,W;for(let V=0;V<d;++V){for(y=c[V].x,_=c[V].y,w=c[V].x2===void 0?y:c[V].x2,E=c[V].y2===void 0?_:c[V].y2,y>w&&(W=y,y=w,w=W),_>E&&(W=_,_=E,E=W),I=e(y),N=e(w),P=~~((I+N)/2),M=e(_),j=e(E),O=~~((M+j)/2),k=P;k>=I;--k)for(R=O;R>=M;--R)q=l(k,R,m,h,f),q&&([u.x,u.y,m,p]=q);for(k=P;k<=N;++k)for(R=O;R<=j;++R)q=l(k,R,m,h,f),q&&([u.x,u.y,m,p]=q);!p&&!n&&(U=Math.abs(w-y+E-_),S=(y+w)/2,T=(_+E)/2,U>=v&&!fN(S,T,h,f,i,o)&&!Gg(e,S,T,f,h,f,s,null)&&(v=U,u.x=S,u.y=T,g=!0))}return p||g?(S=h/2,T=f/2,s.setRange(e(u.x-S),e(u.y-T),e(u.x+S),e(u.y+T)),u.align="center",u.baseline="middle",!0):!1}}const qTt=[-1,-1,1,1],VTt=[-1,1,-1,1];function WTt(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1],l=e.bitmap();return function(u){const c=u.datum.datum.items[r].items,d=c.length,f=u.datum.fontSize,h=Lu.width(u.datum,u.datum.text),m=[];let p=n?f:0,g=!1,v=!1,y=0,w,_,E,S,T,k,R,I,P,N,M,O;for(let j=0;j<d;++j){for(w=c[j].x,E=c[j].y,_=c[j].x2===void 0?w:c[j].x2,S=c[j].y2===void 0?E:c[j].y2,m.push([e((w+_)/2),e((E+S)/2)]);m.length;)if([R,I]=m.pop(),!(s.get(R,I)||a.get(R,I)||l.get(R,I))){l.set(R,I);for(let U=0;U<4;++U)T=R+qTt[U],k=I+VTt[U],l.outOfBounds(T,k,T,k)||m.push([T,k]);if(T=e.invert(R),k=e.invert(I),P=p,N=o,!fN(T,k,h,f,i,o)&&!Gg(e,T,k,f,h,P,s,a)&&!Gg(e,T,k,f,h,f,s,null)){for(;N-P>=1;)M=(P+N)/2,Gg(e,T,k,f,h,M,s,a)?N=M:P=M;P>p&&(u.x=T,u.y=k,p=P,g=!0)}}!g&&!n&&(O=Math.abs(_-w+S-E),T=(w+_)/2,k=(E+S)/2,O>=y&&!fN(T,k,h,f,i,o)&&!Gg(e,T,k,f,h,f,s,null)&&(y=O,u.x=T,u.y=k,v=!0))}return g||v?(T=h/2,k=f/2,s.setRange(e(u.x-T),e(u.y-k),e(u.x+T),e(u.y+k)),u.align="center",u.baseline="middle",!0):!1}}const GTt=["right","center","left"],YTt=["bottom","middle","top"];function KTt(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1],l=r.length;return function(u){const c=u.boundary,d=u.datum.fontSize;if(c[2]<0||c[5]<0||c[0]>i||c[3]>o)return!1;let f=u.textWidth??0,h,m,p,g,v,y,w,_,E,S,T,k,R,I,P;for(let N=0;N<l;++N){if(h=(n[N]&3)-1,m=(n[N]>>>2&3)-1,p=h===0&&m===0||r[N]<0,g=h&&m?Math.SQRT1_2:1,v=r[N]<0?-1:1,y=c[1+h]+r[N]*h*g,T=c[4+m]+v*d*m/2+r[N]*m*g,_=T-d/2,E=T+d/2,k=e(y),I=e(_),P=e(E),!f)if(efe(k,k,I,P,s,a,y,y,_,E,c,p))f=Lu.width(u.datum,u.datum.text);else continue;if(S=y+v*f*h/2,y=S-f/2,w=S+f/2,k=e(y),R=e(w),efe(k,R,I,P,s,a,y,w,_,E,c,p))return u.x=h?h*v<0?w:y:S,u.y=m?m*v<0?E:_:T,u.align=GTt[h*v+1],u.baseline=YTt[m*v+1],s.setRange(k,I,R,P),!0}return!1}}function efe(e,t,n,r,i,o,s,a,l,u,c,d){return!(i.outOfBounds(e,n,t,r)||(d&&o||i).getRange(e,n,t,r))}const r9=0,i9=4,o9=8,s9=0,a9=1,l9=2,XTt={"top-left":r9+s9,top:r9+a9,"top-right":r9+l9,left:i9+s9,middle:i9+a9,right:i9+l9,"bottom-left":o9+s9,bottom:o9+a9,"bottom-right":o9+l9},QTt={naive:UTt,"reduced-search":HTt,floodfill:WTt};function JTt(e,t,n,r,i,o,s,a,l,u,c){if(!e.length)return e;const d=Math.max(r.length,i.length),f=ZTt(r,d),h=ekt(i,d),m=tkt(e[0].datum),p=m==="group"&&e[0].datum.items[l].marktype,g=p==="area",v=nkt(m,p,a,l),y=u===null||u===1/0,w=g&&c==="naive";let _=-1,E=-1;const S=e.map(I=>{const P=y?Lu.width(I,I.text):void 0;return _=Math.max(_,P),E=Math.max(E,I.fontSize),{datum:I,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:v(I),textWidth:P}});u=u===null||u===1/0?Math.max(_,E)+Math.max(...r):u;const T=zTt(t[0],t[1],u);let k;if(!w){n&&S.sort((N,M)=>n(N.datum,M.datum));let I=!1;for(let N=0;N<h.length&&!I;++N)I=h[N]===5||f[N]<0;const P=(m&&s||g)&&e.map(N=>N.datum);k=o.length||P?FTt(T,P||[],o,I,g):LTt(T,s&&S)}const R=g?QTt[c](T,k,s,l):KTt(T,k,h,f);return S.forEach(I=>I.opacity=+R(I)),S}function ZTt(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}function ekt(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=XTt[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}function tkt(e){return e&&e.mark&&e.mark.marktype}function nkt(e,t,n,r){const i=o=>[o.x,o.x,o.x,o.y,o.y,o.y];return e?e==="line"||e==="area"?o=>i(o.datum):t==="line"?o=>{const s=o.datum.items[r].items;return i(s.length?s[n==="start"?0:s.length-1]:{x:NaN,y:NaN})}:o=>{const s=o.datum.bounds;return[s.x1,(s.x1+s.x2)/2,s.x2,s.y1,(s.y1+s.y2)/2,s.y2]}:i}const hH=["x","y","opacity","align","baseline"],gIe=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function BQ(e){et.call(this,null,e)}BQ.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:gIe},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:hH.length,default:hH}]};It(BQ,et,{transform(e,t){function n(o){const s=e[o];return nr(s)&&t.modified(s.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&it("Size parameter should be specified as a [width, height] array.");const i=e.as||hH;return JTt(t.materialize(t.SOURCE).source||[],e.size,e.sort,wn(e.offset==null?1:e.offset),wn(e.anchor||gIe),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(o=>{const s=o.datum;s[i[0]]=o.x,s[i[1]]=o.y,s[i[2]]=o.opacity,s[i[3]]=o.align,s[i[4]]=o.baseline}),t.reflow(r).modifies(i)}});const rkt=Object.freeze(Object.defineProperty({__proto__:null,label:BQ},Symbol.toStringTag,{value:"Module"}));function yIe(e,t){var n=[],r=function(c){return c(a)},i,o,s,a,l,u;if(t==null)n.push(e);else for(i={},o=0,s=e.length;o<s;++o)a=e[o],l=t.map(r),u=i[l],u||(i[l]=u=[],u.dims=l,n.push(u)),u.push(a);return n}function zQ(e){et.call(this,null,e)}zQ.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};It(zQ,et,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=yIe(r,e.groupby),o=(e.groupby||[]).map(vo),s=o.length,a=e.as||[vo(e.x),vo(e.y)],l=[];i.forEach(u=>{k2e(u,e.x,e.y,e.bandwidth||.3).forEach(c=>{const d={};for(let f=0;f<s;++f)d[o[f]]=u.dims[f];d[a[0]]=c[0],d[a[1]]=c[1],l.push(Zr(d))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});const pH={constant:wK,linear:xK,log:_2e,exp:E2e,pow:S2e,quad:CK,poly:T2e},ikt=(e,t)=>e==="poly"?t:e==="quad"?2:1;function UQ(e){et.call(this,null,e)}UQ.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(pH)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};It(UQ,et,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=yIe(r,e.groupby),o=(e.groupby||[]).map(vo),s=e.method||"linear",a=e.order==null?3:e.order,l=ikt(s,a),u=e.as||[vo(e.x),vo(e.y)],c=pH[s],d=[];let f=e.extent;Dn(pH,s)||it("Invalid regression method: "+s),f!=null&&s==="log"&&f[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),f=null),i.forEach(h=>{if(h.length<=l){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const p=c(h,e.x,e.y,a);if(e.params){d.push(Zr({keys:h.dims,coef:p.coef,rSquared:p.rSquared}));return}const g=f||Sh(h,e.x),v=y=>{const w={};for(let _=0;_<o.length;++_)w[o[_]]=h.dims[_];w[u[0]]=y[0],w[u[1]]=y[1],d.push(Zr(w))};s==="linear"||s==="constant"?g.forEach(y=>v([y,p.predict(y)])):e6(p.predict,g,25,200).forEach(v)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=d}return n}});const okt=Object.freeze(Object.defineProperty({__proto__:null,loess:zQ,regression:UQ},Symbol.toStringTag,{value:"Module"})),Kp=11102230246251565e-32,xa=134217729,skt=(3+8*Kp)*Kp;function u9(e,t,n,r,i){let o,s,a,l,u=t[0],c=r[0],d=0,f=0;c>u==c>-u?(o=u,u=t[++d]):(o=c,c=r[++f]);let h=0;if(d<e&&f<n)for(c>u==c>-u?(s=u+o,a=o-(s-u),u=t[++d]):(s=c+o,a=o-(s-c),c=r[++f]),o=s,a!==0&&(i[h++]=a);d<e&&f<n;)c>u==c>-u?(s=o+u,l=s-o,a=o-(s-l)+(u-l),u=t[++d]):(s=o+c,l=s-o,a=o-(s-l)+(c-l),c=r[++f]),o=s,a!==0&&(i[h++]=a);for(;d<e;)s=o+u,l=s-o,a=o-(s-l)+(u-l),u=t[++d],o=s,a!==0&&(i[h++]=a);for(;f<n;)s=o+c,l=s-o,a=o-(s-l)+(c-l),c=r[++f],o=s,a!==0&&(i[h++]=a);return(o!==0||h===0)&&(i[h++]=o),h}function akt(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function wk(e){return new Float64Array(e)}const lkt=(3+16*Kp)*Kp,ukt=(2+12*Kp)*Kp,ckt=(9+64*Kp)*Kp*Kp,B1=wk(4),tfe=wk(8),nfe=wk(12),rfe=wk(16),Za=wk(4);function dkt(e,t,n,r,i,o,s){let a,l,u,c,d,f,h,m,p,g,v,y,w,_,E,S,T,k;const R=e-i,I=n-i,P=t-o,N=r-o;_=R*N,f=xa*R,h=f-(f-R),m=R-h,f=xa*N,p=f-(f-N),g=N-p,E=m*g-(_-h*p-m*p-h*g),S=P*I,f=xa*P,h=f-(f-P),m=P-h,f=xa*I,p=f-(f-I),g=I-p,T=m*g-(S-h*p-m*p-h*g),v=E-T,d=E-v,B1[0]=E-(v+d)+(d-T),y=_+v,d=y-_,w=_-(y-d)+(v-d),v=w-S,d=w-v,B1[1]=w-(v+d)+(d-S),k=y+v,d=k-y,B1[2]=y-(k-d)+(v-d),B1[3]=k;let M=akt(4,B1),O=ukt*s;if(M>=O||-M>=O||(d=e-R,a=e-(R+d)+(d-i),d=n-I,u=n-(I+d)+(d-i),d=t-P,l=t-(P+d)+(d-o),d=r-N,c=r-(N+d)+(d-o),a===0&&l===0&&u===0&&c===0)||(O=ckt*s+skt*Math.abs(M),M+=R*c+N*a-(P*u+I*l),M>=O||-M>=O))return M;_=a*N,f=xa*a,h=f-(f-a),m=a-h,f=xa*N,p=f-(f-N),g=N-p,E=m*g-(_-h*p-m*p-h*g),S=l*I,f=xa*l,h=f-(f-l),m=l-h,f=xa*I,p=f-(f-I),g=I-p,T=m*g-(S-h*p-m*p-h*g),v=E-T,d=E-v,Za[0]=E-(v+d)+(d-T),y=_+v,d=y-_,w=_-(y-d)+(v-d),v=w-S,d=w-v,Za[1]=w-(v+d)+(d-S),k=y+v,d=k-y,Za[2]=y-(k-d)+(v-d),Za[3]=k;const j=u9(4,B1,4,Za,tfe);_=R*c,f=xa*R,h=f-(f-R),m=R-h,f=xa*c,p=f-(f-c),g=c-p,E=m*g-(_-h*p-m*p-h*g),S=P*u,f=xa*P,h=f-(f-P),m=P-h,f=xa*u,p=f-(f-u),g=u-p,T=m*g-(S-h*p-m*p-h*g),v=E-T,d=E-v,Za[0]=E-(v+d)+(d-T),y=_+v,d=y-_,w=_-(y-d)+(v-d),v=w-S,d=w-v,Za[1]=w-(v+d)+(d-S),k=y+v,d=k-y,Za[2]=y-(k-d)+(v-d),Za[3]=k;const U=u9(j,tfe,4,Za,nfe);_=a*c,f=xa*a,h=f-(f-a),m=a-h,f=xa*c,p=f-(f-c),g=c-p,E=m*g-(_-h*p-m*p-h*g),S=l*u,f=xa*l,h=f-(f-l),m=l-h,f=xa*u,p=f-(f-u),g=u-p,T=m*g-(S-h*p-m*p-h*g),v=E-T,d=E-v,Za[0]=E-(v+d)+(d-T),y=_+v,d=y-_,w=_-(y-d)+(v-d),v=w-S,d=w-v,Za[1]=w-(v+d)+(d-S),k=y+v,d=k-y,Za[2]=y-(k-d)+(v-d),Za[3]=k;const q=u9(U,nfe,4,Za,rfe);return rfe[q-1]}function JR(e,t,n,r,i,o){const s=(t-o)*(n-i),a=(e-i)*(r-o),l=s-a,u=Math.abs(s+a);return Math.abs(l)>=lkt*u?l:-dkt(e,t,n,r,i,o,u)}const ife=Math.pow(2,-52),ZR=new Uint32Array(512);class hN{static from(t,n=gkt,r=ykt){const i=t.length,o=new Float64Array(i*2);for(let s=0;s<i;s++){const a=t[s];o[2*s]=n(a),o[2*s+1]=r(a)}return new hN(o)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:o}=this,s=t.length>>1;let a=1/0,l=1/0,u=-1/0,c=-1/0;for(let R=0;R<s;R++){const I=t[2*R],P=t[2*R+1];I<a&&(a=I),P<l&&(l=P),I>u&&(u=I),P>c&&(c=P),this._ids[R]=R}const d=(a+u)/2,f=(l+c)/2;let h,m,p;for(let R=0,I=1/0;R<s;R++){const P=c9(d,f,t[2*R],t[2*R+1]);P<I&&(h=R,I=P)}const g=t[2*h],v=t[2*h+1];for(let R=0,I=1/0;R<s;R++){if(R===h)continue;const P=c9(g,v,t[2*R],t[2*R+1]);P<I&&P>0&&(m=R,I=P)}let y=t[2*m],w=t[2*m+1],_=1/0;for(let R=0;R<s;R++){if(R===h||R===m)continue;const I=pkt(g,v,y,w,t[2*R],t[2*R+1]);I<_&&(p=R,_=I)}let E=t[2*p],S=t[2*p+1];if(_===1/0){for(let P=0;P<s;P++)this._dists[P]=t[2*P]-t[0]||t[2*P+1]-t[1];vw(this._ids,this._dists,0,s-1);const R=new Uint32Array(s);let I=0;for(let P=0,N=-1/0;P<s;P++){const M=this._ids[P],O=this._dists[M];O>N&&(R[I++]=M,N=O)}this.hull=R.subarray(0,I),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(JR(g,v,y,w,E,S)<0){const R=m,I=y,P=w;m=p,y=E,w=S,p=R,E=I,S=P}const T=mkt(g,v,y,w,E,S);this._cx=T.x,this._cy=T.y;for(let R=0;R<s;R++)this._dists[R]=c9(t[2*R],t[2*R+1],T.x,T.y);vw(this._ids,this._dists,0,s-1),this._hullStart=h;let k=3;r[h]=n[p]=m,r[m]=n[h]=p,r[p]=n[m]=h,i[h]=0,i[m]=1,i[p]=2,o.fill(-1),o[this._hashKey(g,v)]=h,o[this._hashKey(y,w)]=m,o[this._hashKey(E,S)]=p,this.trianglesLen=0,this._addTriangle(h,m,p,-1,-1,-1);for(let R=0,I,P;R<this._ids.length;R++){const N=this._ids[R],M=t[2*N],O=t[2*N+1];if(R>0&&Math.abs(M-I)<=ife&&Math.abs(O-P)<=ife||(I=M,P=O,N===h||N===m||N===p))continue;let j=0;for(let z=0,L=this._hashKey(M,O);z<this._hashSize&&(j=o[(L+z)%this._hashSize],!(j!==-1&&j!==r[j]));z++);j=n[j];let U=j,q;for(;q=r[U],JR(M,O,t[2*U],t[2*U+1],t[2*q],t[2*q+1])>=0;)if(U=q,U===j){U=-1;break}if(U===-1)continue;let W=this._addTriangle(U,N,r[U],-1,-1,i[U]);i[N]=this._legalize(W+2),i[U]=W,k++;let V=r[U];for(;q=r[V],JR(M,O,t[2*V],t[2*V+1],t[2*q],t[2*q+1])<0;)W=this._addTriangle(V,N,q,i[N],-1,i[V]),i[N]=this._legalize(W+2),r[V]=V,k--,V=q;if(U===j)for(;q=n[U],JR(M,O,t[2*q],t[2*q+1],t[2*U],t[2*U+1])<0;)W=this._addTriangle(q,N,U,-1,i[U],i[q]),this._legalize(W+2),i[q]=W,r[U]=U,k--,U=q;this._hullStart=n[N]=U,r[U]=n[V]=N,r[N]=V,o[this._hashKey(M,O)]=N,o[this._hashKey(t[2*U],t[2*U+1])]=U}this.hull=new Uint32Array(k);for(let R=0,I=this._hullStart;R<k;R++)this.hull[R]=I,I=r[I];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(fkt(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let o=0,s=0;for(;;){const a=r[t],l=t-t%3;if(s=l+(t+2)%3,a===-1){if(o===0)break;t=ZR[--o];continue}const u=a-a%3,c=l+(t+1)%3,d=u+(a+2)%3,f=n[s],h=n[t],m=n[c],p=n[d];if(hkt(i[2*f],i[2*f+1],i[2*h],i[2*h+1],i[2*m],i[2*m+1],i[2*p],i[2*p+1])){n[t]=p,n[a]=f;const v=r[d];if(v===-1){let w=this._hullStart;do{if(this._hullTri[w]===d){this._hullTri[w]=t;break}w=this._hullPrev[w]}while(w!==this._hullStart)}this._link(t,v),this._link(a,r[s]),this._link(s,d);const y=u+(a+1)%3;o<ZR.length&&(ZR[o++]=y)}else{if(o===0)break;t=ZR[--o]}}return s}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,o,s){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=r,this._link(a,i),this._link(a+1,o),this._link(a+2,s),this.trianglesLen+=3,a}}function fkt(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function c9(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}function hkt(e,t,n,r,i,o,s,a){const l=e-s,u=t-a,c=n-s,d=r-a,f=i-s,h=o-a,m=l*l+u*u,p=c*c+d*d,g=f*f+h*h;return l*(d*g-p*h)-u*(c*g-p*f)+m*(c*h-d*f)<0}function pkt(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,u=o-t,c=s*s+a*a,d=l*l+u*u,f=.5/(s*u-a*l),h=(u*c-a*d)*f,m=(s*d-l*c)*f;return h*h+m*m}function mkt(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,u=o-t,c=s*s+a*a,d=l*l+u*u,f=.5/(s*u-a*l),h=e+(u*c-a*d)*f,m=t+(s*d-l*c)*f;return{x:h,y:m}}function vw(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const o=e[i],s=t[o];let a=i-1;for(;a>=n&&t[e[a]]>s;)e[a+1]=e[a--];e[a+1]=o}else{const i=n+r>>1;let o=n+1,s=r;Q_(e,i,o),t[e[n]]>t[e[r]]&&Q_(e,n,r),t[e[o]]>t[e[r]]&&Q_(e,o,r),t[e[n]]>t[e[o]]&&Q_(e,n,o);const a=e[o],l=t[a];for(;;){do o++;while(t[e[o]]<l);do s--;while(t[e[s]]>l);if(s<o)break;Q_(e,o,s)}e[n+1]=e[s],e[s]=a,r-o+1>=s-n?(vw(e,t,o,r),vw(e,t,n,s-1)):(vw(e,t,n,s-1),vw(e,t,o,r))}}function Q_(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function gkt(e){return e[0]}function ykt(e){return e[1]}const ofe=1e-6;class pv{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>ofe||Math.abs(this._y1-o)>ofe)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class mH{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let vkt=class{constructor(t,[n,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let o,s;const a=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let p=0,g=0,v=r.length,y,w;p<v;p+=3,g+=2){const _=r[p]*2,E=r[p+1]*2,S=r[p+2]*2,T=t[_],k=t[_+1],R=t[E],I=t[E+1],P=t[S],N=t[S+1],M=R-T,O=I-k,j=P-T,U=N-k,q=(M*U-O*j)*2;if(Math.abs(q)<1e-9){if(o===void 0){o=s=0;for(const V of n)o+=t[V*2],s+=t[V*2+1];o/=n.length,s/=n.length}const W=1e9*Math.sign((o-T)*U-(s-k)*j);y=(T+P)/2-W*U,w=(k+N)/2+W*j}else{const W=1/q,V=M*M+O*O,z=j*j+U*U;y=T+(U*V-O*z)*W,w=k+(M*z-j*V)*W}a[g]=y,a[g+1]=w}let l=n[n.length-1],u,c=l*4,d,f=t[2*l],h,m=t[2*l+1];i.fill(0);for(let p=0;p<n.length;++p)l=n[p],u=c,d=f,h=m,c=l*4,f=t[2*l],m=t[2*l+1],i[u+2]=i[c]=h-m,i[u+3]=i[c+1]=f-d}render(t){const n=t==null?t=new pv:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:s,vectors:a}=this;if(o.length<=1)return null;for(let c=0,d=r.length;c<d;++c){const f=r[c];if(f<c)continue;const h=Math.floor(c/3)*2,m=Math.floor(f/3)*2,p=s[h],g=s[h+1],v=s[m],y=s[m+1];this._renderSegment(p,g,v,y,t)}let l,u=o[o.length-1];for(let c=0;c<o.length;++c){l=u,u=o[c];const d=Math.floor(i[u]/3)*2,f=s[d],h=s[d+1],m=l*4,p=this._project(f,h,a[m+2],a[m+3]);p&&this._renderSegment(f,h,p[0],p[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new pv:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new pv:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let s=2;s<o;s+=2)(i[s]!==i[s-2]||i[s+1]!==i[s-1])&&n.lineTo(i[s],i[s+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new mH;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,o){let s;const a=this._regioncode(t,n),l=this._regioncode(r,i);a===0&&l===0?(o.moveTo(t,n),o.lineTo(r,i)):(s=this._clipSegment(t,n,r,i,a,l))&&(o.moveTo(s[0],s[1]),o.lineTo(s[2],s[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let o=0,s=n.length;o<s;o+=2)for(let a=0,l=i.length;a<l;a+=2)if(n[o]===i[a]&&n[o+1]===i[a+1]&&n[(o+2)%s]===i[(a+l-2)%l]&&n[(o+3)%s]===i[(a+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,s=r[t];if(s===-1)return null;const a=[];let l=s;do{const u=Math.floor(l/3);if(a.push(n[u*2],n[u*2+1]),l=l%3===2?l-2:l+1,o[l]!==t)break;l=i[l]}while(l!==s&&l!==-1);return a}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,o,s,a=n[r-2],l=n[r-1],u,c=this._regioncode(a,l),d,f=0;for(let h=0;h<r;h+=2)if(o=a,s=l,a=n[h],l=n[h+1],u=c,c=this._regioncode(a,l),u===0&&c===0)d=f,f=0,i?i.push(a,l):i=[a,l];else{let m,p,g,v,y;if(u===0){if((m=this._clipSegment(o,s,a,l,u,c))===null)continue;[p,g,v,y]=m}else{if((m=this._clipSegment(a,l,o,s,c,u))===null)continue;[v,y,p,g]=m,d=f,f=this._edgecode(p,g),d&&f&&this._edge(t,d,f,i,i.length),i?i.push(p,g):i=[p,g]}d=f,f=this._edgecode(v,y),d&&f&&this._edge(t,d,f,i,i.length),i?i.push(v,y):i=[v,y]}if(i)d=f,f=this._edgecode(i[0],i[1]),d&&f&&this._edge(t,d,f,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,o,s){const a=o<s;for(a&&([t,n,r,i,o,s]=[r,i,t,n,s,o]);;){if(o===0&&s===0)return a?[r,i,t,n]:[t,n,r,i];if(o&s)return null;let l,u,c=o||s;c&8?(l=t+(r-t)*(this.ymax-n)/(i-n),u=this.ymax):c&4?(l=t+(r-t)*(this.ymin-n)/(i-n),u=this.ymin):c&2?(u=n+(i-n)*(this.xmax-t)/(r-t),l=this.xmax):(u=n+(i-n)*(this.xmin-t)/(r-t),l=this.xmin),o?(t=l,n=u,o=this._regioncode(t,n)):(r=l,i=u,s=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,o,s){let a=Array.from(n),l;if((l=this._project(a[0],a[1],r,i))&&a.unshift(l[0],l[1]),(l=this._project(a[a.length-2],a[a.length-1],o,s))&&a.push(l[0],l[1]),a=this._clipFinite(t,a))for(let u=0,c=a.length,d,f=this._edgecode(a[c-2],a[c-1]);u<c;u+=2)d=f,f=this._edgecode(a[u],a[u+1]),d&&f&&(u=this._edge(t,d,f,a,u),c=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,n,r,i,o){for(;n!==r;){let s,a;switch(n){case 5:n=4;continue;case 4:n=6,s=this.xmax,a=this.ymin;break;case 6:n=2;continue;case 2:n=10,s=this.xmax,a=this.ymax;break;case 10:n=8;continue;case 8:n=9,s=this.xmin,a=this.ymax;break;case 9:n=1;continue;case 1:n=5,s=this.xmin,a=this.ymin;break}(i[o]!==s||i[o+1]!==a)&&this.contains(t,s,a)&&(i.splice(o,0,s,a),o+=2)}return o}_project(t,n,r,i){let o=1/0,s,a,l;if(i<0){if(n<=this.ymin)return null;(s=(this.ymin-n)/i)<o&&(l=this.ymin,a=t+(o=s)*r)}else if(i>0){if(n>=this.ymax)return null;(s=(this.ymax-n)/i)<o&&(l=this.ymax,a=t+(o=s)*r)}if(r>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/r)<o&&(a=this.xmax,l=n+(o=s)*i)}else if(r<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/r)<o&&(a=this.xmin,l=n+(o=s)*i)}return[a,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}};const bkt=2*Math.PI,z1=Math.pow;function wkt(e){return e[0]}function xkt(e){return e[1]}function Ckt(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],o=2*t[r+1],s=2*t[r+2];if((n[s]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[s+1]-n[i+1])>1e-10)return!1}return!0}function _kt(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class HQ{static from(t,n=wkt,r=xkt,i){return new HQ("length"in t?Ekt(t,n,r,i):Float64Array.from(Skt(t,n,r,i)))}constructor(t){this._delaunator=new hN(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&Ckt(t)){this.collinear=Int32Array.from({length:n.length/2},(f,h)=>h).sort((f,h)=>n[2*f]-n[2*h]||n[2*f+1]-n[2*h+1]);const l=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[n[2*l],n[2*l+1],n[2*u],n[2*u+1]],d=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let f=0,h=n.length/2;f<h;++f){const m=_kt(n[2*f],n[2*f+1],d);n[2*f]=m[0],n[2*f+1]=m[1]}this._delaunator=new hN(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let l=0,u=r.length;l<u;++l){const c=o[l%3===2?l-2:l+1];(r[l]===-1||s[c]===-1)&&(s[c]=l)}for(let l=0,u=i.length;l<u;++l)a[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],s[i[0]]=1,i.length===2&&(s[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new vkt(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:o,triangles:s,collinear:a}=this;if(a){const d=a.indexOf(t);d>0&&(yield a[d-1]),d<a.length-1&&(yield a[d+1]);return}const l=n[t];if(l===-1)return;let u=l,c=-1;do{if(yield c=s[u],u=u%3===2?u-2:u+1,s[u]!==t)return;if(u=o[u],u===-1){const d=r[(i[t]+1)%r.length];d!==c&&(yield d);return}}while(u!==l)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let o;for(;(o=this._step(r,t,n))>=0&&o!==r&&o!==i;)r=o;return o}_step(t,n,r){const{inedges:i,hull:o,_hullIndex:s,halfedges:a,triangles:l,points:u}=this;if(i[t]===-1||!u.length)return(t+1)%(u.length>>1);let c=t,d=z1(n-u[t*2],2)+z1(r-u[t*2+1],2);const f=i[t];let h=f;do{let m=l[h];const p=z1(n-u[m*2],2)+z1(r-u[m*2+1],2);if(p<d&&(d=p,c=m),h=h%3===2?h-2:h+1,l[h]!==t)break;if(h=a[h],h===-1){if(h=o[(s[t]+1)%o.length],h!==m&&z1(n-u[h*2],2)+z1(r-u[h*2+1],2)<d)return h;break}}while(h!==f);return c}render(t){const n=t==null?t=new pv:void 0,{points:r,halfedges:i,triangles:o}=this;for(let s=0,a=i.length;s<a;++s){const l=i[s];if(l<s)continue;const u=o[s]*2,c=o[l]*2;t.moveTo(r[u],r[u+1]),t.lineTo(r[c],r[c+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new pv:void 0,{points:i}=this;for(let o=0,s=i.length;o<s;o+=2){const a=i[o],l=i[o+1];t.moveTo(a+n,l),t.arc(a,l,n,0,bkt)}return r&&r.value()}renderHull(t){const n=t==null?t=new pv:void 0,{hull:r,points:i}=this,o=r[0]*2,s=r.length;t.moveTo(i[o],i[o+1]);for(let a=1;a<s;++a){const l=2*r[a];t.lineTo(i[l],i[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new mH;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new pv:void 0,{points:i,triangles:o}=this,s=o[t*=3]*2,a=o[t+1]*2,l=o[t+2]*2;return n.moveTo(i[s],i[s+1]),n.lineTo(i[a],i[a+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new mH;return this.renderTriangle(t,n),n.value()}}function Ekt(e,t,n,r){const i=e.length,o=new Float64Array(i*2);for(let s=0;s<i;++s){const a=e[s];o[s*2]=t.call(r,a,s,e),o[s*2+1]=n.call(r,a,s,e)}return o}function*Skt(e,t,n,r){let i=0;for(const o of e)yield t.call(r,o,i,e),yield n.call(r,o,i,e),++i}function qQ(e){et.call(this,null,e)}qQ.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const Tkt=[-1e5,-1e5,1e5,1e5];It(qQ,et,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:Tkt;const o=this.value=HQ.from(r,e.x,e.y).voronoi(i);for(let s=0,a=r.length;s<a;++s){const l=o.cellPolygon(s);r[s][n]=l&&!Akt(l)?kkt(l):null}return t.reflow(e.modified()).modifies(n)}});function kkt(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}function Akt(e){return e.length===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]}const Rkt=Object.freeze(Object.defineProperty({__proto__:null,voronoi:qQ},Symbol.toStringTag,{value:"Module"}));var d9=Math.PI/180,XE=64,jP=2048;function Ikt(){var e=[256,256],t,n,r,i,o,s,a,l=vIe,u=[],c=Math.random,d={};d.layout=function(){for(var m=f(s0()),p=$kt((e[0]>>5)*e[1]),g=null,v=u.length,y=-1,w=[],_=u.map(S=>({text:t(S),font:n(S),style:i(S),weight:o(S),rotate:s(S),size:~~(r(S)+1e-14),padding:a(S),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:S})).sort((S,T)=>T.size-S.size);++y<v;){var E=_[y];E.x=e[0]*(c()+.5)>>1,E.y=e[1]*(c()+.5)>>1,Dkt(m,E,_,y),E.hasText&&h(p,E,g)&&(w.push(E),g?Okt(g,E):g=[{x:E.x+E.x0,y:E.y+E.y0},{x:E.x+E.x1,y:E.y+E.y1}],E.x-=e[0]>>1,E.y-=e[1]>>1)}return w};function f(m){m.width=m.height=1;var p=Math.sqrt(m.getContext("2d").getImageData(0,0,1,1).data.length>>2);m.width=(XE<<5)/p,m.height=jP/p;var g=m.getContext("2d");return g.fillStyle=g.strokeStyle="red",g.textAlign="center",{context:g,ratio:p}}function h(m,p,g){for(var v=p.x,y=p.y,w=Math.hypot(e[0],e[1]),_=l(e),E=c()<.5?1:-1,S=-E,T,k,R;(T=_(S+=E))&&(k=~~T[0],R=~~T[1],!(Math.min(Math.abs(k),Math.abs(R))>=w));)if(p.x=v+k,p.y=y+R,!(p.x+p.x0<0||p.y+p.y0<0||p.x+p.x1>e[0]||p.y+p.y1>e[1])&&(!g||!Pkt(p,m,e[0]))&&(!g||Nkt(p,g))){for(var I=p.sprite,P=p.width>>5,N=e[0]>>5,M=p.x-(P<<4),O=M&127,j=32-O,U=p.y1-p.y0,q=(p.y+p.y0)*N+(M>>5),W,V=0;V<U;V++){W=0;for(var z=0;z<=P;z++)m[q+z]|=W<<j|(z<P?(W=I[V*P+z])>>>O:0);q+=N}return p.sprite=null,!0}return!1}return d.words=function(m){return arguments.length?(u=m,d):u},d.size=function(m){return arguments.length?(e=[+m[0],+m[1]],d):e},d.font=function(m){return arguments.length?(n=Sy(m),d):n},d.fontStyle=function(m){return arguments.length?(i=Sy(m),d):i},d.fontWeight=function(m){return arguments.length?(o=Sy(m),d):o},d.rotate=function(m){return arguments.length?(s=Sy(m),d):s},d.text=function(m){return arguments.length?(t=Sy(m),d):t},d.spiral=function(m){return arguments.length?(l=Lkt[m]||m,d):l},d.fontSize=function(m){return arguments.length?(r=Sy(m),d):r},d.padding=function(m){return arguments.length?(a=Sy(m),d):a},d.random=function(m){return arguments.length?(c=m,d):c},d}function Dkt(e,t,n,r){if(!t.sprite){var i=e.context,o=e.ratio;i.clearRect(0,0,(XE<<5)/o,jP/o);var s=0,a=0,l=0,u=n.length,c,d,f,h,m;for(--r;++r<u;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font,c=i.measureText(t.text+"m").width*o,f=t.size<<1,t.rotate){var p=Math.sin(t.rotate*d9),g=Math.cos(t.rotate*d9),v=c*g,y=c*p,w=f*g,_=f*p;c=Math.max(Math.abs(v+_),Math.abs(v-_))+31>>5<<5,f=~~Math.max(Math.abs(y+w),Math.abs(y-w))}else c=c+31>>5<<5;if(f>l&&(l=f),s+c>=XE<<5&&(s=0,a+=l,l=0),a+f>=jP)break;i.translate((s+(c>>1))/o,(a+(f>>1))/o),t.rotate&&i.rotate(t.rotate*d9),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=c,t.height=f,t.xoff=s,t.yoff=a,t.x1=c>>1,t.y1=f>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,s+=c}for(var E=i.getImageData(0,0,(XE<<5)/o,jP/o).data,S=[];--r>=0;)if(t=n[r],!!t.hasText){for(c=t.width,d=c>>5,f=t.y1-t.y0,h=0;h<f*d;h++)S[h]=0;if(s=t.xoff,s==null)return;a=t.yoff;var T=0,k=-1;for(m=0;m<f;m++){for(h=0;h<c;h++){var R=d*m+(h>>5),I=E[(a+m)*(XE<<5)+(s+h)<<2]?1<<31-h%32:0;S[R]|=I,T|=I}T?k=m:(t.y0++,f--,m--,a++)}t.y1=t.y0+k,t.sprite=S.slice(0,(t.y1-t.y0)*d)}}}function Pkt(e,t,n){n>>=5;for(var r=e.sprite,i=e.width>>5,o=e.x-(i<<4),s=o&127,a=32-s,l=e.y1-e.y0,u=(e.y+e.y0)*n+(o>>5),c,d=0;d<l;d++){c=0;for(var f=0;f<=i;f++)if((c<<a|(f<i?(c=r[d*i+f])>>>s:0))&t[u+f])return!0;u+=n}return!1}function Okt(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function Nkt(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function vIe(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function Mkt(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(o){var s=o<0?-1:1;switch(Math.sqrt(1+4*s*o)-s&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t;break}return[r,i]}}function $kt(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function Sy(e){return typeof e=="function"?e:function(){return e}}var Lkt={archimedean:vIe,rectangular:Mkt};const bIe=["x","y","font","fontSize","fontStyle","fontWeight","angle"],Fkt=["text","font","rotate","fontSize","fontStyle","fontWeight"];function VQ(e){et.call(this,Ikt(),e)}VQ.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:bIe}]};It(VQ,et,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&it("Wordcloud size dimensions must be non-zero.");function n(m){const p=e[m];return nr(p)&&t.modified(p.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||Fkt.some(n)))return;const i=t.materialize(t.SOURCE).source,o=this.value,s=e.as||bIe;let a=e.fontSize||14,l;if(nr(a)?l=e.fontSizeRange:a=Ua(a),l){const m=a,p=Gr("sqrt")().domain(Sh(i,m)).range(l);a=g=>p(m(g))}i.forEach(m=>{m[s[0]]=NaN,m[s[1]]=NaN,m[s[3]]=0});const u=o.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(a).random(Lc).layout(),c=o.size(),d=c[0]>>1,f=c[1]>>1,h=u.length;for(let m=0,p,g;m<h;++m)p=u[m],g=p.datum,g[s[0]]=p.x+d,g[s[1]]=p.y+f,g[s[2]]=p.font,g[s[3]]=p.size,g[s[4]]=p.style,g[s[5]]=p.weight,g[s[6]]=p.rotate;return t.reflow(r).modifies(s)}});const jkt=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:VQ},Symbol.toStringTag,{value:"Module"})),Bkt=e=>new Uint8Array(e),zkt=e=>new Uint16Array(e),PS=e=>new Uint32Array(e);function Ukt(){let e=8,t=[],n=PS(0),r=eI(0,e),i=eI(0,e);return{data:()=>t,seen:()=>n=Hkt(n,t.length),add(o){for(let s=0,a=t.length,l=o.length,u;s<l;++s)u=o[s],u._index=a++,t.push(u)},remove(o,s){const a=t.length,l=Array(a-o),u=t;let c,d,f;for(d=0;!s[d]&&d<a;++d)l[d]=t[d],u[d]=d;for(f=d;d<a;++d)c=t[d],s[d]?u[d]=-1:(u[d]=f,r[f]=r[d],i[f]=i[d],l[f]=c,c._index=f++),r[d]=0;return t=l,u},size:()=>t.length,curr:()=>r,prev:()=>i,reset:o=>i[o]=r[o],all:()=>e<257?255:e<65537?65535:4294967295,set(o,s){r[o]|=s},clear(o,s){r[o]&=~s},resize(o,s){const a=r.length;(o>a||s>e)&&(e=Math.max(s,e),r=eI(o,e,r),i=eI(o,e))}}}function Hkt(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function eI(e,t,n){const r=(t<257?Bkt:t<65537?zkt:PS)(e);return n&&r.set(n),r}function sfe(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(i,o){const s=this,a=s.bisect(s.range,i.value),l=i.index,u=a[0],c=a[1],d=l.length;let f;for(f=0;f<u;++f)o[l[f]]|=r;for(f=c;f<d;++f)o[l[f]]|=r;return s}}}function afe(){let e=PS(0),t=[],n=0;function r(a,l,u){if(!l.length)return[];const c=n,d=l.length,f=PS(d);let h=Array(d),m,p,g;for(g=0;g<d;++g)h[g]=a(l[g]),f[g]=g;if(h=qkt(h,f),c)m=t,p=e,t=Array(c+d),e=PS(c+d),Vkt(u,m,p,c,h,f,d,t,e);else{if(u>0)for(g=0;g<d;++g)f[g]+=u;t=h,e=f}return n=c+d,{index:f,value:h}}function i(a,l){const u=n;let c,d,f;for(d=0;!l[e[d]]&&d<u;++d);for(f=d;d<u;++d)l[c=e[d]]||(e[f]=c,t[f]=t[d],++f);n=u-a}function o(a){for(let l=0,u=n;l<u;++l)e[l]=a[e[l]]}function s(a,l){let u;return l?u=l.length:(l=t,u=n),[Jmt(l,a[0],0,u),w0(l,a[1],0,u)]}return{insert:r,remove:i,bisect:s,reindex:o,index:()=>e,size:()=>n}}function qkt(e,t){return e.sort.call(t,(n,r)=>{const i=e[n],o=e[r];return i<o?-1:i>o?1:0}),tgt(e,t)}function Vkt(e,t,n,r,i,o,s,a,l){let u=0,c=0,d;for(d=0;u<r&&c<s;++d)t[u]<i[c]?(a[d]=t[u],l[d]=n[u++]):(a[d]=i[c],l[d]=o[c++]+e);for(;u<r;++u,++d)a[d]=t[u],l[d]=n[u];for(;c<s;++c,++d)a[d]=i[c],l[d]=o[c]+e}function WQ(e){et.call(this,Ukt(),e),this._indices=null,this._dims=null}WQ.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};It(WQ,et,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},o=this._dims=[],s=r.length;let a=0,l,u;for(;a<s;++a)l=n[a].fname,u=i[l]||(i[l]=afe()),o.push(sfe(u,a,r[a]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,o=this._indices,s=this._dims,a=this.value,l=a.curr(),u=a.prev(),c=a.all(),d=n.rem=n.add,f=n.mod,h=i.length,m={};let p,g,v,y,w,_,E,S,T;if(u.set(l),t.rem.length&&(w=this.remove(e,t,n)),t.add.length&&a.add(t.add),t.mod.length)for(_={},y=t.mod,E=0,S=y.length;E<S;++E)_[y[E]._index]=1;for(E=0;E<h;++E)T=r[E],(!s[E]||e.modified("fields",E)||t.modified(T.fields))&&(v=T.fname,(p=m[v])||(o[v]=g=afe(),m[v]=p=g.insert(T,t.source,0)),s[E]=sfe(g,E,i[E]).onAdd(p,l));for(E=0,S=a.data().length;E<S;++E)w[E]||(u[E]!==l[E]?d.push(E):_[E]&&l[E]!==c&&f.push(E));return a.mask=(1<<h)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,o=this._dims,s=this._indices,a=e.fields,l={},u=n.add,c=i.size()+r.length,d=o.length;let f=i.size(),h,m,p;i.resize(c,d),i.add(r);const g=i.curr(),v=i.prev(),y=i.all();for(h=0;h<d;++h)m=a[h].fname,p=l[m]||(l[m]=s[m].insert(a[h],r,f)),o[h].onAdd(p,g);for(;f<c;++f)v[f]=y,g[f]!==y&&u.push(f)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),o=r.all(),s=e.mod;let a,l,u;for(a=0,l=s.length;a<l;++a)u=s[a]._index,i[u]!==o&&n.push(u)},remove(e,t,n){const r=this._indices,i=this.value,o=i.curr(),s=i.prev(),a=i.all(),l={},u=n.rem,c=t.rem;let d,f,h,m;for(d=0,f=c.length;d<f;++d)h=c[d]._index,l[h]=1,s[h]=m=o[h],o[h]=a,m!==a&&u.push(h);for(h in r)r[h].remove(f,l);return this.reindex(t,f,l),l},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter(()=>{const o=i.remove(t,n);for(const s in r)r[s].reindex(o)})},update(e,t,n){const r=this._dims,i=e.query,o=t.stamp,s=r.length;let a=0,l,u;for(n.filters=0,u=0;u<s;++u)e.modified("query",u)&&(l=u,++a);if(a===1)a=r[l].one,this.incrementOne(r[l],i[l],n.add,n.rem);else for(u=0,a=0;u<s;++u)e.modified("query",u)&&(a|=r[u].one,this.incrementAll(r[u],i[u],o,n.add),n.rem=n.add);return a},incrementAll(e,t,n,r){const i=this.value,o=i.seen(),s=i.curr(),a=i.prev(),l=e.index(),u=e.bisect(e.range),c=e.bisect(t),d=c[0],f=c[1],h=u[0],m=u[1],p=e.one;let g,v,y;if(d<h)for(g=d,v=Math.min(h,f);g<v;++g)y=l[g],o[y]!==n&&(a[y]=s[y],o[y]=n,r.push(y)),s[y]^=p;else if(d>h)for(g=h,v=Math.min(d,m);g<v;++g)y=l[g],o[y]!==n&&(a[y]=s[y],o[y]=n,r.push(y)),s[y]^=p;if(f>m)for(g=Math.max(d,m),v=f;g<v;++g)y=l[g],o[y]!==n&&(a[y]=s[y],o[y]=n,r.push(y)),s[y]^=p;else if(f<m)for(g=Math.max(h,f),v=m;g<v;++g)y=l[g],o[y]!==n&&(a[y]=s[y],o[y]=n,r.push(y)),s[y]^=p;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value,o=i.curr(),s=e.index(),a=e.bisect(e.range),l=e.bisect(t),u=l[0],c=l[1],d=a[0],f=a[1],h=e.one;let m,p,g;if(u<d)for(m=u,p=Math.min(d,c);m<p;++m)g=s[m],o[g]^=h,n.push(g);else if(u>d)for(m=d,p=Math.min(u,f);m<p;++m)g=s[m],o[g]^=h,r.push(g);if(c>f)for(m=Math.max(u,f),p=c;m<p;++m)g=s[m],o[g]^=h,n.push(g);else if(c<f)for(m=Math.max(d,c),p=f;m<p;++m)g=s[m],o[g]^=h,r.push(g);e.range=t.slice()}});function GQ(e){et.call(this,null,e)}GQ.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};It(GQ,et,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if((i&n)===0)return t.StopPropagation;const o=t.fork(t.ALL),s=r.data(),a=r.curr(),l=r.prev(),u=c=>a[c]&n?null:s[c];return o.filter(o.MOD,u),i&i-1?(o.filter(o.ADD,c=>{const d=a[c]&n;return!d&&d^l[c]&n?s[c]:null}),o.filter(o.REM,c=>{const d=a[c]&n;return d&&!(d^(d^l[c]&n))?s[c]:null})):(o.filter(o.ADD,u),o.filter(o.REM,c=>(a[c]&n)===i?s[c]:null)),o.filter(o.SOURCE,c=>u(c._index))}});const Wkt=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:WQ,resolvefilter:GQ},Symbol.toStringTag,{value:"Module"})),Gkt="RawCode",tb="Literal",Ykt="Property",Kkt="Identifier",Xkt="ArrayExpression",Qkt="BinaryExpression",wIe="CallExpression",Jkt="ConditionalExpression",Zkt="LogicalExpression",eAt="MemberExpression",tAt="ObjectExpression",nAt="UnaryExpression";function pf(e){this.type=e}pf.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=rAt(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function rAt(e){switch(e.type){case Xkt:return e.elements;case Qkt:case Zkt:return[e.left,e.right];case wIe:return[e.callee].concat(e.arguments);case Jkt:return[e.test,e.consequent,e.alternate];case eAt:return[e.object,e.property];case tAt:return e.properties;case Ykt:return[e.key,e.value];case nAt:return[e.argument];case Kkt:case tb:case Gkt:default:return[]}}var Wh,Jt,ot,La,fi,N6=1,xk=2,nb=3,Q0=4,M6=5,Lb=6,zl=7,Ck=8,iAt=9;Wh={};Wh[N6]="Boolean";Wh[xk]="<end>";Wh[nb]="Identifier";Wh[Q0]="Keyword";Wh[M6]="Null";Wh[Lb]="Numeric";Wh[zl]="Punctuator";Wh[Ck]="String";Wh[iAt]="RegularExpression";var oAt="ArrayExpression",sAt="BinaryExpression",aAt="CallExpression",lAt="ConditionalExpression",xIe="Identifier",uAt="Literal",cAt="LogicalExpression",dAt="MemberExpression",fAt="ObjectExpression",hAt="Property",pAt="UnaryExpression",Rs="Unexpected token %0",mAt="Unexpected number",gAt="Unexpected string",yAt="Unexpected identifier",vAt="Unexpected reserved word",bAt="Unexpected end of input",gH="Invalid regular expression",f9="Invalid regular expression: missing /",CIe="Octal literals are not allowed in strict mode.",wAt="Duplicate data property in object literal not allowed in strict mode",ra="ILLEGAL",q2="Disabled.",xAt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),CAt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function $6(e,t){if(!e)throw new Error("ASSERT: "+t)}function Ep(e){return e>=48&&e<=57}function YQ(e){return"0123456789abcdefABCDEF".includes(e)}function OS(e){return"01234567".includes(e)}function _At(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function V2(e){return e===10||e===13||e===8232||e===8233}function _k(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&xAt.test(String.fromCharCode(e))}function pN(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&CAt.test(String.fromCharCode(e))}const EAt={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function _Ie(){for(;ot<La;){const e=Jt.charCodeAt(ot);if(_At(e)||V2(e))++ot;else break}}function yH(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)ot<La&&YQ(Jt[ot])?(r=Jt[ot++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):Ur({},Rs,ra);return String.fromCharCode(i)}function SAt(){var e,t,n,r;for(e=Jt[ot],t=0,e==="}"&&Ur({},Rs,ra);ot<La&&(e=Jt[ot++],!!YQ(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&Ur({},Rs,ra),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function EIe(){var e,t;for(e=Jt.charCodeAt(ot++),t=String.fromCharCode(e),e===92&&(Jt.charCodeAt(ot)!==117&&Ur({},Rs,ra),++ot,e=yH("u"),(!e||e==="\\"||!_k(e.charCodeAt(0)))&&Ur({},Rs,ra),t=e);ot<La&&(e=Jt.charCodeAt(ot),!!pN(e));)++ot,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),Jt.charCodeAt(ot)!==117&&Ur({},Rs,ra),++ot,e=yH("u"),(!e||e==="\\"||!pN(e.charCodeAt(0)))&&Ur({},Rs,ra),t+=e);return t}function TAt(){var e,t;for(e=ot++;ot<La;){if(t=Jt.charCodeAt(ot),t===92)return ot=e,EIe();if(pN(t))++ot;else break}return Jt.slice(e,ot)}function kAt(){var e,t,n;return e=ot,t=Jt.charCodeAt(ot)===92?EIe():TAt(),t.length===1?n=nb:EAt.hasOwnProperty(t)?n=Q0:t==="null"?n=M6:t==="true"||t==="false"?n=N6:n=nb,{type:n,value:t,start:e,end:ot}}function h9(){var e=ot,t=Jt.charCodeAt(ot),n,r=Jt[ot],i,o,s;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++ot,{type:zl,value:String.fromCharCode(t),start:e,end:ot};default:if(n=Jt.charCodeAt(ot+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return ot+=2,{type:zl,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:ot};case 33:case 61:return ot+=2,Jt.charCodeAt(ot)===61&&++ot,{type:zl,value:Jt.slice(e,ot),start:e,end:ot}}}if(s=Jt.substr(ot,4),s===">>>=")return ot+=4,{type:zl,value:s,start:e,end:ot};if(o=s.substr(0,3),o===">>>"||o==="<<="||o===">>=")return ot+=3,{type:zl,value:o,start:e,end:ot};if(i=o.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return ot+=2,{type:zl,value:i,start:e,end:ot};if(i==="//"&&Ur({},Rs,ra),"<>=!+-*%&|^/".includes(r))return++ot,{type:zl,value:r,start:e,end:ot};Ur({},Rs,ra)}function AAt(e){let t="";for(;ot<La&&YQ(Jt[ot]);)t+=Jt[ot++];return t.length===0&&Ur({},Rs,ra),_k(Jt.charCodeAt(ot))&&Ur({},Rs,ra),{type:Lb,value:parseInt("0x"+t,16),start:e,end:ot}}function RAt(e){let t="0"+Jt[ot++];for(;ot<La&&OS(Jt[ot]);)t+=Jt[ot++];return(_k(Jt.charCodeAt(ot))||Ep(Jt.charCodeAt(ot)))&&Ur({},Rs,ra),{type:Lb,value:parseInt(t,8),octal:!0,start:e,end:ot}}function lfe(){var e,t,n;if(n=Jt[ot],$6(Ep(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=ot,e="",n!=="."){if(e=Jt[ot++],n=Jt[ot],e==="0"){if(n==="x"||n==="X")return++ot,AAt(t);if(OS(n))return RAt(t);n&&Ep(n.charCodeAt(0))&&Ur({},Rs,ra)}for(;Ep(Jt.charCodeAt(ot));)e+=Jt[ot++];n=Jt[ot]}if(n==="."){for(e+=Jt[ot++];Ep(Jt.charCodeAt(ot));)e+=Jt[ot++];n=Jt[ot]}if(n==="e"||n==="E")if(e+=Jt[ot++],n=Jt[ot],(n==="+"||n==="-")&&(e+=Jt[ot++]),Ep(Jt.charCodeAt(ot)))for(;Ep(Jt.charCodeAt(ot));)e+=Jt[ot++];else Ur({},Rs,ra);return _k(Jt.charCodeAt(ot))&&Ur({},Rs,ra),{type:Lb,value:parseFloat(e),start:t,end:ot}}function IAt(){var e="",t,n,r,i,o=!1;for(t=Jt[ot],$6(t==="'"||t==='"',"String literal must starts with a quote"),n=ot,++ot;ot<La;)if(r=Jt[ot++],r===t){t="";break}else if(r==="\\")if(r=Jt[ot++],!r||!V2(r.charCodeAt(0)))switch(r){case"u":case"x":Jt[ot]==="{"?(++ot,e+=SAt()):e+=yH(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:OS(r)?(i="01234567".indexOf(r),i!==0&&(o=!0),ot<La&&OS(Jt[ot])&&(o=!0,i=i*8+"01234567".indexOf(Jt[ot++]),"0123".includes(r)&&ot<La&&OS(Jt[ot])&&(i=i*8+"01234567".indexOf(Jt[ot++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&Jt[ot]===`
`&&++ot;else{if(V2(r.charCodeAt(0)))break;e+=r}return t!==""&&Ur({},Rs,ra),{type:Ck,value:e,octal:o,start:n,end:ot}}function DAt(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";Ur({},gH)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{Ur({},gH)}try{return new RegExp(e,t)}catch{return null}}function PAt(){var e,t,n,r,i;for(e=Jt[ot],$6(e==="/","Regular expression literal must start with a slash"),t=Jt[ot++],n=!1,r=!1;ot<La;)if(e=Jt[ot++],t+=e,e==="\\")e=Jt[ot++],V2(e.charCodeAt(0))&&Ur({},f9),t+=e;else if(V2(e.charCodeAt(0)))Ur({},f9);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||Ur({},f9),i=t.substr(1,t.length-2),{value:i,literal:t}}function OAt(){var e,t,n;for(t="",n="";ot<La&&(e=Jt[ot],!!pN(e.charCodeAt(0)));)++ot,e==="\\"&&ot<La?Ur({},Rs,ra):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&Ur({},gH,n),{value:n,literal:t}}function NAt(){var e,t,n,r;return fi=null,_Ie(),e=ot,t=PAt(),n=OAt(),r=DAt(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:ot}}function MAt(e){return e.type===nb||e.type===Q0||e.type===N6||e.type===M6}function SIe(){if(_Ie(),ot>=La)return{type:xk,start:ot,end:ot};const e=Jt.charCodeAt(ot);return _k(e)?kAt():e===40||e===41||e===59?h9():e===39||e===34?IAt():e===46?Ep(Jt.charCodeAt(ot+1))?lfe():h9():Ep(e)?lfe():h9()}function ql(){const e=fi;return ot=e.end,fi=SIe(),ot=e.end,e}function TIe(){const e=ot;fi=SIe(),ot=e}function $At(e){const t=new pf(oAt);return t.elements=e,t}function ufe(e,t,n){const r=new pf(e==="||"||e==="&&"?cAt:sAt);return r.operator=e,r.left=t,r.right=n,r}function LAt(e,t){const n=new pf(aAt);return n.callee=e,n.arguments=t,n}function FAt(e,t,n){const r=new pf(lAt);return r.test=e,r.consequent=t,r.alternate=n,r}function KQ(e){const t=new pf(xIe);return t.name=e,t}function QE(e){const t=new pf(uAt);return t.value=e.value,t.raw=Jt.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function cfe(e,t,n){const r=new pf(dAt);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function jAt(e){const t=new pf(fAt);return t.properties=e,t}function dfe(e,t,n){const r=new pf(hAt);return r.key=t,r.value=n,r.kind=e,r}function BAt(e,t){const n=new pf(pAt);return n.operator=e,n.argument=t,n.prefix=!0,n}function Ur(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(o,s)=>($6(s<r.length,"Message reference must be in range"),r[s]));throw n=new Error(i),n.index=ot,n.description=i,n}function L6(e){e.type===xk&&Ur(e,bAt),e.type===Lb&&Ur(e,mAt),e.type===Ck&&Ur(e,gAt),e.type===nb&&Ur(e,yAt),e.type===Q0&&Ur(e,vAt),Ur(e,Rs,e.value)}function Fa(e){const t=ql();(t.type!==zl||t.value!==e)&&L6(t)}function Bi(e){return fi.type===zl&&fi.value===e}function p9(e){return fi.type===Q0&&fi.value===e}function zAt(){const e=[];for(ot=fi.start,Fa("[");!Bi("]");)Bi(",")?(ql(),e.push(null)):(e.push(rb()),Bi("]")||Fa(","));return ql(),$At(e)}function ffe(){ot=fi.start;const e=ql();return e.type===Ck||e.type===Lb?(e.octal&&Ur(e,CIe),QE(e)):KQ(e.value)}function UAt(){var e,t,n,r;if(ot=fi.start,e=fi,e.type===nb)return n=ffe(),Fa(":"),r=rb(),dfe("init",n,r);if(e.type===xk||e.type===zl)L6(e);else return t=ffe(),Fa(":"),r=rb(),dfe("init",t,r)}function HAt(){var e=[],t,n,r,i={},o=String;for(ot=fi.start,Fa("{");!Bi("}");)t=UAt(),t.key.type===xIe?n=t.key.name:n=o(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?Ur({},wAt):i[r]=!0,e.push(t),Bi("}")||Fa(",");return Fa("}"),jAt(e)}function qAt(){Fa("(");const e=XQ();return Fa(")"),e}const VAt={if:1};function WAt(){var e,t,n;if(Bi("("))return qAt();if(Bi("["))return zAt();if(Bi("{"))return HAt();if(e=fi.type,ot=fi.start,e===nb||VAt[fi.value])n=KQ(ql().value);else if(e===Ck||e===Lb)fi.octal&&Ur(fi,CIe),n=QE(ql());else{if(e===Q0)throw new Error(q2);e===N6?(t=ql(),t.value=t.value==="true",n=QE(t)):e===M6?(t=ql(),t.value=null,n=QE(t)):Bi("/")||Bi("/=")?(n=QE(NAt()),TIe()):L6(ql())}return n}function GAt(){const e=[];if(Fa("("),!Bi(")"))for(;ot<La&&(e.push(rb()),!Bi(")"));)Fa(",");return Fa(")"),e}function YAt(){ot=fi.start;const e=ql();return MAt(e)||L6(e),KQ(e.value)}function KAt(){return Fa("."),YAt()}function XAt(){Fa("[");const e=XQ();return Fa("]"),e}function QAt(){var e,t,n;for(e=WAt();;)if(Bi("."))n=KAt(),e=cfe(".",e,n);else if(Bi("("))t=GAt(),e=LAt(e,t);else if(Bi("["))n=XAt(),e=cfe("[",e,n);else break;return e}function hfe(){const e=QAt();if(fi.type===zl&&(Bi("++")||Bi("--")))throw new Error(q2);return e}function BP(){var e,t;if(fi.type!==zl&&fi.type!==Q0)t=hfe();else{if(Bi("++")||Bi("--"))throw new Error(q2);if(Bi("+")||Bi("-")||Bi("~")||Bi("!"))e=ql(),t=BP(),t=BAt(e.value,t);else{if(p9("delete")||p9("void")||p9("typeof"))throw new Error(q2);t=hfe()}}return t}function pfe(e){let t=0;if(e.type!==zl&&e.type!==Q0)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function JAt(){var e,t,n,r,i,o,s,a,l,u;if(e=fi,l=BP(),r=fi,i=pfe(r),i===0)return l;for(r.prec=i,ql(),t=[e,fi],s=BP(),o=[l,r,s];(i=pfe(fi))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)s=o.pop(),a=o.pop().value,l=o.pop(),t.pop(),n=ufe(a,l,s),o.push(n);r=ql(),r.prec=i,o.push(r),t.push(fi),n=BP(),o.push(n)}for(u=o.length-1,n=o[u],t.pop();u>1;)t.pop(),n=ufe(o[u-1].value,o[u-2],n),u-=2;return n}function rb(){var e,t,n;return e=JAt(),Bi("?")&&(ql(),t=rb(),Fa(":"),n=rb(),e=FAt(e,t,n)),e}function XQ(){const e=rb();if(Bi(","))throw new Error(q2);return e}function kIe(e){Jt=e,ot=0,La=Jt.length,fi=null,TIe();const t=XQ();if(fi.type!==xk)throw new Error("Unexpect token after expression.");return t}var AIe={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function RIe(e){function t(s,a,l,u){let c=e(a[0]);return l&&(c=l+"("+c+")",l.lastIndexOf("new ",0)===0&&(c="("+c+")")),c+"."+s+(u<0?"":u===0?"()":"("+a.slice(1).map(e).join(",")+")")}function n(s,a,l){return u=>t(s,u,a,l)}const r="new Date",i="String",o="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(s){s.length<3&&it("Missing arguments to clamp function."),s.length>3&&it("Too many arguments to clamp function.");const a=s.map(e);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),btoa:"btoa",atob:"atob",regexp:o,test:n("test",o),if:function(s){s.length<3&&it("Missing arguments to if function."),s.length>3&&it("Too many arguments to if function.");const a=s.map(e);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}function ZAt(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function IIe(e){e=e||{};const t=e.allowed?Kd(e.allowed):{},n=e.forbidden?Kd(e.forbidden):{},r=e.constants||AIe,i=(e.functions||RIe)(d),o=e.globalvar,s=e.fieldvar,a=nr(o)?o:m=>`${o}["${m}"]`;[...Object.getOwnPropertyNames(Object.prototype).filter(m=>typeof Object.prototype[m]=="function")];let l={},u={},c=0;function d(m){if(Vr(m))return m;const p=f[m.type];return p==null&&it("Unsupported type: "+m.type),p(m)}const f={Literal:m=>m.raw,Identifier:m=>{const p=m.name;return c>0?p:Dn(n,p)?it("Illegal identifier: "+p):Dn(r,p)?r[p]:Dn(t,p)?p:(l[p]=1,a(p))},MemberExpression:m=>{const p=!m.computed,g=d(m.object);p&&(c+=1);const v=d(m.property);return g===s&&(u[ZAt(v)]=1),p&&(c-=1),g+(p?"."+v:"["+v+"]")},CallExpression:m=>{m.callee.type!=="Identifier"&&it("Illegal callee type: "+m.callee.type);const p=m.callee.name,g=m.arguments,v=Dn(i,p)&&i[p];return v||it("Unrecognized function: "+p),nr(v)?v(g):v+"("+g.map(d).join(",")+")"},ArrayExpression:m=>"["+m.elements.map(d).join(",")+"]",BinaryExpression:m=>"("+d(m.left)+" "+m.operator+" "+d(m.right)+")",UnaryExpression:m=>"("+m.operator+d(m.argument)+")",ConditionalExpression:m=>"("+d(m.test)+"?"+d(m.consequent)+":"+d(m.alternate)+")",LogicalExpression:m=>"("+d(m.left)+m.operator+d(m.right)+")",ObjectExpression:m=>{for(const p of m.properties){const g=p.key.name;IEe.has(g)&&it("Illegal property: "+g)}return"{"+m.properties.map(d).join(",")+"}"},Property:m=>{c+=1;const p=d(m.key);return c-=1,p+":"+d(m.value)}};function h(m){const p={code:d(m),globals:Object.keys(l),fields:Object.keys(u)};return l={},u={},p}return h.functions=i,h.constants=r,h}const mfe=Symbol("vega_selection_getter");function DIe(e){return(!e.getter||!e.getter[mfe])&&(e.getter=Nc(e.field),e.getter[mfe]=!0),e.getter}const QQ="intersect",gfe="union",eRt="vlMulti",tRt="vlPoint",yfe="or",nRt="and",Kf="_vgsid_",W2=Nc(Kf),rRt="E",iRt="R",oRt="R-E",sRt="R-LE",aRt="R-RE",lRt="E-LT",uRt="E-LTE",cRt="E-GT",dRt="E-GTE",fRt="E-VALID",hRt="E-ONE",mN="index:unit";function vfe(e,t){for(var n=t.fields,r=t.values,i=n.length,o=0,s,a;o<i;++o)if(a=n[o],s=DIe(a)(e),r0(s)&&(s=Pa(s)),r0(r[o])&&(r[o]=Pa(r[o])),cn(r[o])&&r0(r[o][0])&&(r[o]=r[o].map(Pa)),a.type===rRt){if(cn(r[o])?!r[o].includes(s):s!==r[o])return!1}else if(a.type===iRt){if(!pw(s,r[o]))return!1}else if(a.type===aRt){if(!pw(s,r[o],!0,!1))return!1}else if(a.type===oRt){if(!pw(s,r[o],!1,!1))return!1}else if(a.type===sRt){if(!pw(s,r[o],!1,!0))return!1}else if(a.type===lRt){if(s>=r[o])return!1}else if(a.type===uRt){if(s>r[o])return!1}else if(a.type===cRt){if(s<=r[o])return!1}else if(a.type===dRt){if(s<r[o])return!1}else if(a.type===fRt){if(s===null||isNaN(s))return!1}else if(a.type===hRt&&r[o].indexOf(s)===-1)return!1;return!0}function pRt(e,t,n){for(var r=this.context.data[e],i=r?r.values.value:[],o=r?r[mN]&&r[mN].value:void 0,s=n===QQ,a=i.length,l=0,u,c,d,f,h;l<a;++l)if(u=i[l],o&&s){if(c=c||{},d=c[f=u.unit]||0,d===-1)continue;if(h=vfe(t,u),c[f]=h?-1:++d,h&&o.size===1)return!0;if(!h&&d===o.get(f).count)return!1}else if(h=vfe(t,u),s^h)return h;return a&&s}const PIe=CC(W2),mRt=PIe.left,gRt=PIe.right;function yRt(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],o=r?r[mN]&&r[mN].value:void 0,s=n===QQ,a=W2(t),l=mRt(i,a);if(l===i.length||W2(i[l])!==a)return!1;if(o&&s){if(o.size===1)return!0;if(gRt(i,a)-l<o.size)return!1}return!0}function vRt(e,t){return cn(e)||it("First argument to selectionTuples must be an array."),Gn(t)||it("Second argument to selectionTuples must be an object."),e.map(n=>tr(t.fields?{values:t.fields.map(r=>DIe(r)(n.datum))}:{[Kf]:W2(n.datum)},t))}function bRt(e,t,n,r){for(var i=this.context.data[e],o=i?i.values.value:[],s={},a={},l={},u,c,d,f,h,m,p,g,v,y,w=o.length,_=0,E,S;_<w;++_)if(u=o[_],f=u.unit,c=u.fields,d=u.values,c&&d){for(E=0,S=c.length;E<S;++E)h=c[E],p=s[h.field]||(s[h.field]={}),g=p[f]||(p[f]=[]),l[h.field]=v=h.type.charAt(0),y=m9[`${v}_union`],p[f]=y(g,wn(d[E]));n&&(g=a[f]||(a[f]=[]),g.push(wn(d).reduce((T,k,R)=>(T[c[R].field]=k,T),{})))}else h=Kf,m=W2(u),p=s[h]||(s[h]={}),g=p[f]||(p[f]=[]),g.push(m),n&&(g=a[f]||(a[f]=[]),g.push({[Kf]:m}));if(t=t||gfe,s[Kf]?s[Kf]=m9[`${Kf}_${t}`](...Object.values(s[Kf])):Object.keys(s).forEach(T=>{s[T]=Object.keys(s[T]).map(k=>s[T][k]).reduce((k,R)=>k===void 0?R:m9[`${l[T]}_${t}`](k,R))}),o=Object.keys(a),n&&o.length){const T=r?tRt:eRt;s[T]=t===gfe?{[yfe]:o.reduce((k,R)=>(k.push(...a[R]),k),[])}:{[nRt]:o.map(k=>({[yfe]:a[k]}))}}return s}var m9={[`${Kf}_union`]:cgt,[`${Kf}_intersect`]:lgt,E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.includes(t[n])||e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.includes(n)):t},R_union:function(e,t){var n=Pa(t[0]),r=Pa(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=Pa(t[0]),r=Pa(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const wRt=":",xRt="@";function JQ(e,t,n,r){t[0].type!==tb&&it("First argument to selection functions must be a string literal.");const i=t[0].value,o=t.length>=2&&Er(t).value,s="unit",a=xRt+s,l=wRt+i;o===QQ&&!Dn(r,a)&&(r[a]=n.getData(i).indataRef(n,s)),Dn(r,l)||(r[l]=n.getData(i).tuplesRef())}function OIe(e){const t=this.context.data[e];return t?t.values.value:[]}function CRt(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function _Rt(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(Mc).insert(t)),1}function ERt(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const Ek=e=>function(t,n){const r=this.context.dataflow.locale();return t===null?"null":r[e](n)(t)},SRt=Ek("format"),NIe=Ek("timeFormat"),TRt=Ek("utcFormat"),kRt=Ek("timeParse"),ARt=Ek("utcParse"),tI=new Date(2e3,0,1);function F6(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(tI.setYear(2e3),tI.setMonth(e),tI.setDate(t),NIe.call(this,tI,n))}function RRt(e){return F6.call(this,e,1,"%B")}function IRt(e){return F6.call(this,e,1,"%b")}function DRt(e){return F6.call(this,0,2+e,"%A")}function PRt(e){return F6.call(this,0,2+e,"%a")}const ORt=":",NRt="@",vH="%",MIe="$";function ZQ(e,t,n,r){t[0].type!==tb&&it("First argument to data functions must be a string literal.");const i=t[0].value,o=ORt+i;if(!Dn(o,r))try{r[o]=n.getData(i).tuplesRef()}catch{}}function MRt(e,t,n,r){t[0].type!==tb&&it("First argument to indata must be a string literal."),t[1].type!==tb&&it("Second argument to indata must be a string literal.");const i=t[0].value,o=t[1].value,s=NRt+o;Dn(s,r)||(r[s]=n.getData(i).indataRef(n,o))}function gl(e,t,n,r){if(t[0].type===tb)bfe(n,r,t[0].value);else for(e in n.scales)bfe(n,r,e)}function bfe(e,t,n){const r=vH+n;if(!Dn(t,r))try{t[r]=e.scaleRef(n)}catch{}}function Gh(e,t){if(Vr(e)){const n=t.scales[e];return n&&xce(n.value)?n.value:void 0}else if(nr(e))return xce(e)?e:void 0}function $Rt(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=gl,n._range=gl,n._scale=gl;const r=i=>"_["+(i.type===tb?an(vH+i.value):an(vH)+"+"+e(i))+"]";return{_bandwidth:i=>`this.__bandwidth(${r(i[0])})`,_range:i=>`${r(i[0])}.range()`,_scale:i=>`${r(i[0])}(${e(i[1])})`}}function eJ(e,t){return function(n,r,i){if(n){const o=Gh(n,(i||this).context);return o&&o.path[e](r)}else return t(r)}}const LRt=eJ("area",tEt),FRt=eJ("bounds",oEt),jRt=eJ("centroid",dEt);function BRt(e,t){const n=Gh(e,(t||this).context);return n&&n.scale()}function zRt(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function tJ(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function URt(){return tJ(this.context.dataflow,"warn",arguments)}function HRt(){return tJ(this.context.dataflow,"info",arguments)}function qRt(){return tJ(this.context.dataflow,"debug",arguments)}function g9(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function bH(e){const t=E0(e),n=g9(t.r),r=g9(t.g),i=g9(t.b);return .2126*n+.7152*r+.0722*i}function VRt(e,t){const n=bH(e),r=bH(t),i=Math.max(n,r),o=Math.min(n,r);return(i+.05)/(o+.05)}function WRt(){const e=[].slice.call(arguments);return e.unshift({}),tr(...e)}function $Ie(e,t){return e===t||e!==e&&t!==t?!0:cn(e)?cn(t)&&e.length===t.length?GRt(e,t):!1:Gn(e)&&Gn(t)?LIe(e,t):!1}function GRt(e,t){for(let n=0,r=e.length;n<r;++n)if(!$Ie(e[n],t[n]))return!1;return!0}function LIe(e,t){for(const n in e)if(!$Ie(e[n],t[n]))return!1;return!0}function wfe(e){return t=>LIe(e,t)}function YRt(e,t,n,r,i,o){const s=this.context.dataflow,a=this.context.data[e],l=a.input,u=s.stamp();let c=a.changes,d,f;if(s._trigger===!1||!(l.value.length||t||r))return 0;if((!c||c.stamp<u)&&(a.changes=c=s.changeset(),c.stamp=u,s.runAfter(()=>{a.modified=!0,s.pulse(l,c).run()},!0,1)),n&&(d=n===!0?Mc:cn(n)||WM(n)?n:wfe(n),c.remove(d)),t&&c.insert(t),r&&(d=wfe(r),l.value.some(d)?c.remove(d):c.insert(r)),i){if(nr(i))throw Error("modify parameter must be a data tuple, not a function");for(f in o)c.modify(i,f,o[f])}return 1}function KRt(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.hypot(n,r)}function XRt(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const xfe={};function QRt(e,t){const n=xfe[t]||(xfe[t]=Nc(t));return cn(e)?e.map(n):n(e)}function j6(e){return cn(e)||ArrayBuffer.isView(e)?e:null}function nJ(e){return j6(e)||(Vr(e)?e:null)}function JRt(e,...t){return j6(e).join(...t)}function ZRt(e,...t){return nJ(e).indexOf(...t)}function eIt(e,...t){return nJ(e).lastIndexOf(...t)}function tIt(e,...t){return nJ(e).slice(...t)}function nIt(e,t,n){return nr(n)&&it("Function argument passed to replace."),!Vr(t)&&!BY(t)&&it("Please pass a string or RegExp argument to replace."),String(e).replace(t,n)}function rIt(e){return j6(e).slice().reverse()}function iIt(e){return j6(e).slice().sort(XT)}function oIt(e,t,n){return mX(e||0,t||0,n||0)}function sIt(e,t){const n=Gh(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function aIt(e,t){const n=Gh(e,(t||this).context);return n?n.copy():void 0}function lIt(e,t){const n=Gh(e,(t||this).context);return n?n.domain():[]}function uIt(e,t,n){const r=Gh(e,(n||this).context);return r?cn(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function cIt(e,t){const n=Gh(e,(t||this).context);return n&&n.range?n.range():[]}function dIt(e,t,n){const r=Gh(e,(n||this).context);return r?r(t):void 0}function fIt(e,t,n,r,i){e=Gh(e,(i||this).context);const o=Rke(t,n);let s=e.domain(),a=s[0],l=Er(s),u=bl;return l-a?u=yke(e,a,l):e=(e.interpolator?Gr("sequential")().interpolator(e.interpolator()):Gr("linear")().interpolate(e.interpolate()).range(e.range())).domain([a=0,l=1]),e.ticks&&(s=e.ticks(+r||15),a!==s[0]&&s.unshift(a),l!==Er(s)&&s.push(l)),s.forEach(c=>o.stop(u(c),e(c))),o}function hIt(e,t,n){const r=Gh(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function pIt(e){let t=null;return function(n){return n?M2(n,t=t||xx(e)):e}}const FIe=e=>e.data;function jIe(e,t){const n=OIe.call(t,e);return n.root&&n.root.lookup||{}}function mIt(e,t,n){const r=jIe(e,this),i=r[t],o=r[n];return i&&o?i.path(o).map(FIe):void 0}function gIt(e,t){const n=jIe(e,this)[t];return n?n.ancestors().map(FIe):void 0}const BIe=()=>typeof window<"u"&&window||null;function yIt(){const e=BIe();return e?e.screen:{}}function vIt(){const e=BIe();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function bIt(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function zIe(e,t,n){if(!e)return[];const[r,i]=e,o=new Ko().set(r[0],r[1],i[0],i[1]),s=n||this.context.dataflow.scenegraph().root;return SAe(s,o,wIt(t))}function wIt(e){let t=null;if(e){const n=wn(e.marktype),r=wn(e.markname);t=i=>(!n.length||n.some(o=>i.marktype===o))&&(!r.length||r.some(o=>i.name===o))}return t}function xIt(e,t,n,r=5){e=wn(e);const i=e[e.length-1];return i===void 0||Math.hypot(i[0]-t,i[1]-n)>r?[...e,[t,n]]:e}function CIt(e){return wn(e).reduce((t,[n,r],i)=>t+=i==0?`M ${n},${r} `:i===e.length-1?" Z":`L ${n},${r} `,"")}function _It(e,t,n){const{x:r,y:i,mark:o}=n,s=new Ko().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[l,u]of t)l<s.x1&&(s.x1=l),l>s.x2&&(s.x2=l),u<s.y1&&(s.y1=u),u>s.y2&&(s.y2=u);return s.translate(r,i),zIe([[s.x1,s.y1],[s.x2,s.y2]],e,o).filter(l=>EIt(l.x,l.y,t))}function EIt(e,t,n){let r=0;for(let i=0,o=n.length-1;i<n.length;o=i++){const[s,a]=n[o],[l,u]=n[i];u>t!=a>t&&e<(s-l)*(t-u)/(a-u)+l&&r++}return r&1}const G2={random(){return Lc()},cumulativeNormal:QM,cumulativeLogNormal:pK,cumulativeUniform:vK,densityNormal:uK,densityLogNormal:hK,densityUniform:yK,quantileNormal:JM,quantileLogNormal:mK,quantileUniform:bK,sampleNormal:XM,sampleLogNormal:fK,sampleUniform:gK,isArray:cn,isBoolean:jY,isDate:r0,isDefined(e){return e!==void 0},isNumber:b0,isObject:Gn,isRegExp:BY,isString:Vr,isTuple:WM,isValid(e){return e!=null&&e===e},toBoolean:UY,toDate(e){return HY(e)},toNumber:Pa,toString:qY,indexof:ZRt,join:JRt,lastindexof:eIt,replace:nIt,reverse:rIt,sort:iIt,slice:tIt,flush:YEe,lerp:XEe,merge:WRt,pad:ZEe,peek:Er,pluck:QRt,span:QT,inrange:pw,truncate:eSe,rgb:E0,lab:CO,hcl:_O,hsl:P2,luminance:bH,contrast:VRt,sequence:Du,format:SRt,utcFormat:TRt,utcParse:ARt,utcOffset:NSe,utcSequence:LSe,timeFormat:NIe,timeParse:kRt,timeOffset:OSe,timeSequence:$Se,timeUnitSpecifier:CSe,monthFormat:RRt,monthAbbrevFormat:IRt,dayFormat:DRt,dayAbbrevFormat:PRt,quarter:qEe,utcquarter:VEe,week:ESe,utcweek:kSe,dayofyear:_Se,utcdayofyear:TSe,warn:URt,info:HRt,debug:qRt,extent(e){return Sh(e)},inScope:zRt,intersect:zIe,clampRange:WEe,pinchDistance:KRt,pinchAngle:XRt,screen:yIt,containerSize:bIt,windowSize:vIt,bandspace:oIt,setdata:_Rt,pathShape:pIt,panLinear:BEe,panLog:zEe,panPow:UEe,panSymlog:HEe,zoomLinear:NY,zoomLog:MY,zoomPow:lO,zoomSymlog:$Y,encode:ERt,modify:YRt,lassoAppend:xIt,lassoPath:CIt,intersectLasso:_It},SIt=["view","item","group","xy","x","y"],TIt="event.vega.",UIe="this.",rJ={},HIe={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${an(MIe+e)}]`,functions:kIt,constants:AIe,visitors:rJ},wH=IIe(HIe);function kIt(e){const t=RIe(e);SIt.forEach(n=>t[n]=TIt+n);for(const n in G2)t[n]=UIe+n;return tr(t,$Rt(e,G2,rJ)),t}function zo(e,t,n){return arguments.length===1?G2[e]:(G2[e]=t,n&&(rJ[e]=n),wH&&(wH.functions[e]=UIe+e),this)}zo("bandwidth",sIt,gl);zo("copy",aIt,gl);zo("domain",lIt,gl);zo("range",cIt,gl);zo("invert",uIt,gl);zo("scale",dIt,gl);zo("gradient",fIt,gl);zo("geoArea",LRt,gl);zo("geoBounds",FRt,gl);zo("geoCentroid",jRt,gl);zo("geoShape",hIt,gl);zo("geoScale",BRt,gl);zo("indata",CRt,MRt);zo("data",OIe,ZQ);zo("treePath",mIt,ZQ);zo("treeAncestors",gIt,ZQ);zo("vlSelectionTest",pRt,JQ);zo("vlSelectionIdTest",yRt,JQ);zo("vlSelectionResolve",bRt,JQ);zo("vlSelectionTuples",vRt);function Ih(e,t){const n={};let r;try{e=Vr(e)?e:an(e)+"",r=kIe(e)}catch{it("Expression parse error: "+e)}r.visit(o=>{if(o.type!==wIe)return;const s=o.callee.name,a=HIe.visitors[s];a&&a(s,o.arguments,t,n)});const i=wH(r);return i.globals.forEach(o=>{const s=MIe+o;!Dn(n,s)&&t.getSignal(o)&&(n[s]=t.signalRef(o))}),{$expr:tr({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function AIt(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const RIt=Kd(["rule"]),Cfe=Kd(["group","image","rect"]);function IIt(e,t){let n="";return RIt[t]||(e.x2&&(e.x?(Cfe[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(Cfe[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function iJ(e){return(e+"").toLowerCase()}function DIt(e){return iJ(e)==="operator"}function PIt(e){return iJ(e)==="collect"}function J_(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function OIt(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${r}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${r} : `}var NIt={operator:(e,t)=>J_(e,["_"],t.code),parameter:(e,t)=>J_(e,["datum","_"],t.code),event:(e,t)=>J_(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return J_(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const o in r){const s="o["+an(o)+"]";i+=`$=${r[o].code};if(${s}!==$)${s}=$,m=1;`}return i+=IIt(r,n),i+="return m;",J_(e,["item","_"],i)},codegen:{get(e){const t=`[${e.map(an).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=(o,s)=>{const a=t[s];let l,u;return o.path?(l=`a${o.path}`,u=`b${o.path}`):((n=n||{})["f"+s]=o,l=`this.f${s}(a)`,u=`this.f${s}(b)`),OIt(l,u,-a,a)},i=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?i.bind(n):i}}};function MIt(e){const t=this;DIt(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function $It(e){const t=this;if(e.params){const n=t.get(e.id);n||it("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function LIt(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=cn(i)?i.map(o=>_fe(o,n,t)):_fe(i,n,t)}return t}function _fe(e,t,n){if(!e||!Gn(e))return e;for(let r=0,i=Efe.length,o;r<i;++r)if(o=Efe[r],Dn(e,o.key))return o.parse(e,t,n);return e}var Efe=[{key:"$ref",parse:FIt},{key:"$key",parse:BIt},{key:"$expr",parse:jIt},{key:"$field",parse:zIt},{key:"$encode",parse:HIt},{key:"$compare",parse:UIt},{key:"$context",parse:qIt},{key:"$subflow",parse:VIt},{key:"$tupleid",parse:WIt}];function FIt(e,t){return t.get(e.$ref)||it("Operator not defined: "+e.$ref)}function jIt(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=uu(t.parameterExpression(e.$expr),e.$fields))}function BIt(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=zY(e.$key,e.$flat,t.expr.codegen))}function zIt(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=Nc(e.$field,e.$name,t.expr.codegen))}function UIt(e,t){const n="c:"+e.$compare+"_"+e.$order,r=wn(e.$compare).map(i=>i&&i.$tupleid?mn:i);return t.fn[n]||(t.fn[n]=LY(r,e.$order,t.expr.codegen))}function HIt(e,t){const n=e.$encode,r={};for(const i in n){const o=n[i];r[i]=uu(t.encodeExpression(o.$expr),o.$fields),r[i].output=o.$output}return r}function qIt(e,t){return t}function VIt(e,t){const n=e.$subflow;return function(r,i,o){const s=t.fork().parse(n),a=s.get(n.operators[0].id),l=s.signals.parent;return l&&l.set(o),a.detachSubflow=()=>t.detach(s),a}}function WIt(){return mn}function GIt(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,i;e.source?r=t.events(e.source,e.type,n):e.merge&&(i=e.merge.map(o=>t.get(o)),r=i[0].merge.apply(i[0],i.slice(1))),e.between&&(i=e.between.map(o=>t.get(o)),r=r.between(i[0],i[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&it("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function YIt(e){var t=this,n=Gn(n=e.source)?n.$ref:n,r=t.get(n),i=null,o=e.update,s=void 0;r||it("Source not defined: "+e.source),i=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),o&&o.$expr&&(o.$params&&(s=t.parseParameters(o.$params)),o=t.handlerExpression(o.$expr)),t.update(e,r,i,o,s)}const KIt={skip:!0};function XIt(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(o=>{const s=t.signals[o];e.signals(o,s)&&(r[o]=s.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(o=>{const s=t.data[o];e.data(o,s)&&(i[o]=s.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(o=>o.getState(e))),n}function QIt(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(o=>{n.update(t.signals[o],i[o],KIt)}),Object.keys(r||{}).forEach(o=>{n.pulse(t.data[o].input,n.changeset().remove(Mc).insert(r[o]))}),(e.subcontext||[]).forEach((o,s)=>{const a=t.subcontext[s];a&&a.setState(o)})}function qIe(e,t,n,r){return new VIe(e,t,n,r)}function VIe(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||NIt,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function Sfe(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}VIe.prototype=Sfe.prototype={fork(){const e=new Sfe(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),PIt(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let o=n.get(e.parent.$ref);o?(r.connect(o,[t]),t.targets().add(o)):(n.unresolved=n.unresolved||[]).push(()=>{o=n.get(e.parent.$ref),r.connect(o,[t]),t.targets().add(o)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const o in e.data){const s=n.data[o]||(n.data[o]={});e.data[o].forEach(a=>s[a]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[iJ(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:AIt,parseOperator:MIt,parseOperatorParameters:$It,parseParameters:LIt,parseStream:GIt,parseUpdate:YIt,getState:XIt,setState:QIt};function JIt(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),WIe(t,e.description()))}function WIe(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function ZIt(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const y9="default";function eDt(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:y9,item:null}));e.on(e.events("view","pointermove"),t,(n,r)=>{const i=t.value,o=i?Vr(i)?i:i.user:y9,s=r.item&&r.item.cursor||null;return i&&o===i.user&&s==i.item?i:{user:o,item:s}}),e.add(null,function(n){let r=n.cursor,i=this.value;return Vr(r)||(i=r.item,r=r.user),xH(e,r&&r!==y9?r:i||r),i},{cursor:t})}function xH(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function gN(e,t){var n=e._runtime.data;return Dn(n,t)||it("Unrecognized data set: "+t),n[t]}function tDt(e,t){return arguments.length<2?gN(this,e).values.value:B6.call(this,e,Nb().remove(Mc).insert(t))}function B6(e,t){c2e(t)||it("Second argument to changes must be a changeset.");const n=gN(this,e);return n.modified=!0,this.pulse(n.input,t)}function nDt(e,t){return B6.call(this,e,Nb().insert(t))}function rDt(e,t){return B6.call(this,e,Nb().remove(t))}function GIe(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function YIe(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function z6(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function iDt(e){var t=z6(e),n=GIe(e),r=YIe(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(i=>{try{i(n,r)}catch(o){e.error(o)}})}function oDt(e,t,n){var r=e._renderer,i=r&&r.canvas(),o,s,a;return i&&(a=z6(e),s=t.changedTouches?t.changedTouches[0]:t,o=S6(s,i),o[0]-=a[0],o[1]-=a[1]),t.dataflow=e,t.item=n,t.vega=sDt(e,n,o),t}function sDt(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function i(s){var a=r,l;if(s){for(l=t;l;l=l.mark.group)if(l.mark.name===s){a=l;break}}return a&&a.mark&&a.mark.interactive?a:{}}function o(s){if(!s)return n;Vr(s)&&(s=i(s));const a=n.slice();for(;s;)a[0]-=s.x||0,a[1]-=s.y||0,s=s.mark&&s.mark.group;return a}return{view:Ua(e),item:Ua(t||{}),group:i,xy:o,x:s=>o(s)[0],y:s=>o(s)[1]}}const Tfe="view",aDt="timer",lDt="window",uDt={trap:!1};function cDt(e){const t=tr({defaults:{}},e),n=(r,i)=>{i.forEach(o=>{cn(r[o])&&(r[o]=Kd(r[o]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function KIe(e,t,n,r){e._eventListeners.push({type:n,sources:wn(t),handler:r})}function dDt(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return r===!1||i===!0?!1:r===!0||i===!1?!0:r?r[t]:i?!i[t]:e.preventDefault()}function nI(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||Gn(r)&&!r[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function fDt(e,t,n){var r=this,i=new KM(n),o=function(u,c){r.runAsync(null,()=>{e===Tfe&&dDt(r,t)&&u.preventDefault(),i.receive(oDt(r,u,c))})},s;if(e===aDt)nI(r,"timer",t)&&r.timer(o,t);else if(e===Tfe)nI(r,"view",t)&&r.addEventListener(t,o,uDt);else if(e===lDt?nI(r,"window",t)&&typeof window<"u"&&(s=[window]):typeof document<"u"&&nI(r,"selector",t)&&(s=Array.from(document.querySelectorAll(e))),!s)r.warn("Can not resolve event source: "+e);else{for(var a=0,l=s.length;a<l;++a)s[a].addEventListener(t,o);KIe(r,s,t,o)}return i}function kfe(e){return e.item}function Afe(e){return e.item.mark.source}function Rfe(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function hDt(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","pointerover",kfe),Afe,Rfe(e)),this.on(this.events("view","pointerout",kfe),Afe,Rfe(t)),this}function pDt(){var e=this._tooltip,t=this._timers,n=this._handler.handlers(),r=this._eventListeners,i,o,s,a,l;for(i=t.length;--i>=0;)t[i].stop();for(i=r.length;--i>=0;)for(s=r[i],o=s.sources.length;--o>=0;)s.sources[o].removeEventListener(s.type,s.handler);for(e&&e.call(this,this._handler,null,null,null),i=n.length;--i>=0;)l=n[i].type,a=n[i].handler,this._handler.off(l,a);return this}function Fu(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return n!=null&&(r.textContent=n),r}const mDt="vega-bind",gDt="vega-bind-name",yDt="vega-bind-radio";function vDt(e,t,n){if(!t)return;const r=n.param;let i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:s=>{s!=e.signal(r.signal)&&e.runAsync(null,()=>{i.source=!0,e.signal(r.signal,s)})}},r.debounce&&(i.update=FY(r.debounce,i.update))),(r.input==null&&r.element?bDt:xDt)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}function bDt(e,t,n,r){const i=n.event||"input",o=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,o),KIe(r,t,i,o),e.set=s=>{t.value=s,t.dispatchEvent(wDt(i))}}function wDt(e){return typeof Event<"u"?new Event(e):{type:e}}function xDt(e,t,n,r){const i=r.signal(n.signal),o=Fu("div",{class:mDt}),s=n.input==="radio"?o:o.appendChild(Fu("label"));s.appendChild(Fu("span",{class:gDt},n.name||n.signal)),t.appendChild(o);let a=CDt;switch(n.input){case"checkbox":a=_Dt;break;case"select":a=EDt;break;case"radio":a=SDt;break;case"range":a=TDt;break}a(e,s,n,i)}function CDt(e,t,n,r){const i=Fu("input");for(const o in n)o!=="signal"&&o!=="element"&&i.setAttribute(o==="input"?"type":o,n[o]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=o=>i.value=o}function _Dt(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const o=Fu("input",i);t.appendChild(o),o.addEventListener("change",()=>e.update(o.checked)),e.elements=[o],e.set=s=>o.checked=!!s||null}function EDt(e,t,n,r){const i=Fu("select",{name:n.signal}),o=n.labels||[];n.options.forEach((s,a)=>{const l={value:s};yN(s,r)&&(l.selected=!0),i.appendChild(Fu("option",l,(o[a]||s)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=s=>{for(let a=0,l=n.options.length;a<l;++a)if(yN(n.options[a],s)){i.selectedIndex=a;return}}}function SDt(e,t,n,r){const i=Fu("span",{class:yDt}),o=n.labels||[];t.appendChild(i),e.elements=n.options.map((s,a)=>{const l={type:"radio",name:n.signal,value:s};yN(s,r)&&(l.checked=!0);const u=Fu("input",l);u.addEventListener("change",()=>e.update(s));const c=Fu("label",{},(o[a]||s)+"");return c.prepend(u),i.appendChild(c),u}),e.set=s=>{const a=e.elements,l=a.length;for(let u=0;u<l;++u)yN(a[u].value,s)&&(a[u].checked=!0)}}function TDt(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const i=n.max!=null?n.max:Math.max(100,+r)||100,o=n.min||Math.min(0,i,+r)||0,s=n.step||x0(o,i,100),a=Fu("input",{type:"range",name:n.signal,min:o,max:i,step:s});a.value=r;const l=Fu("span",{},+r);t.appendChild(a),t.appendChild(l);const u=()=>{l.textContent=a.value,e.update(+a.value)};a.addEventListener("input",u),a.addEventListener("change",u),e.elements=[a],e.set=c=>{a.value=c,l.textContent=c}}function yN(e,t){return e===t||e+""==t+""}function XIe(e,t,n,r,i,o){return t=t||new r(e.loader()),t.initialize(n,GIe(e),YIe(e),z6(e),i,o).background(e.background())}function oJ(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function kDt(e,t,n,r){const i=new r(e.loader(),oJ(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,z6(e),e);return t&&t.handlers().forEach(o=>{i.on(o.type,o.handler)}),i}function ADt(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,o=T6(r);e=n._el=e?v9(n,e,!0):null,JIt(n),o||n.error("Unrecognized renderer type: "+r);const s=o.handler||gk,a=e?o.renderer:o.headless;return n._renderer=a?XIe(n,n._renderer,e,a):null,n._handler=kDt(n,n._handler,e,s),n._redraw=!0,e&&i!=="none"&&(t=t?n._elBind=v9(n,t,!0):e.appendChild(Fu("form",{class:"vega-bindings"})),n._bind.forEach(l=>{l.param.element&&i!=="container"&&(l.element=v9(n,l.param.element,!!l.param.input))}),n._bind.forEach(l=>{vDt(n,l.element||t,l)})),n}function v9(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const Z_=e=>+e||0,RDt=e=>({top:e,bottom:e,left:e,right:e});function Ife(e){return Gn(e)?{top:Z_(e.top),bottom:Z_(e.bottom),left:Z_(e.left),right:Z_(e.right)}:RDt(Z_(e))}async function sJ(e,t,n,r){const i=T6(t),o=i&&i.headless;return o||it("Unrecognized renderer type: "+t),await e.runAsync(),XIe(e,null,null,o,n,r).renderAsync(e._scenegraph.root)}async function IDt(e,t){e!==Hg.Canvas&&e!==Hg.SVG&&e!==Hg.PNG&&it("Unrecognized image type: "+e);const n=await sJ(this,e,t);return e===Hg.SVG?DDt(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function DDt(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function PDt(e,t){return(await sJ(this,Hg.Canvas,e,t)).canvas()}async function ODt(e){return(await sJ(this,Hg.SVG,e)).svg()}function NDt(e,t,n){return qIe(e,mx,G2,n).parse(t)}function MDt(e){var t=this._runtime.scales;return Dn(t,e)||it("Unrecognized scale or projection: "+e),t[e].value}var QIe="width",JIe="height",aJ="padding",Dfe={skip:!0};function ZIe(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===aJ?r.left+r.right:0)}function eDe(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===aJ?r.top+r.bottom:0)}function $Dt(e){var t=e._signals,n=t[QIe],r=t[JIe],i=t[aJ];function o(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,a=>{e._width=a.size,e._viewWidth=ZIe(e,a.size),o()},{size:n}),e._resizeHeight=e.add(null,a=>{e._height=a.size,e._viewHeight=eDe(e,a.size),o()},{size:r});const s=e.add(null,o,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,s.rank=i.rank+1}function LDt(e,t,n,r,i,o){this.runAfter(s=>{let a=0;s._autosize=0,s.width()!==n&&(a=1,s.signal(QIe,n,Dfe),s._resizeWidth.skip(!0)),s.height()!==r&&(a=1,s.signal(JIe,r,Dfe),s._resizeHeight.skip(!0)),s._viewWidth!==e&&(s._resize=1,s._viewWidth=e),s._viewHeight!==t&&(s._resize=1,s._viewHeight=t),(s._origin[0]!==i[0]||s._origin[1]!==i[1])&&(s._resize=1,s._origin=i),a&&s.run("enter"),o&&s.runAfter(l=>l.resize())},!1,1)}function FDt(e){return this._runtime.getState(e||{data:jDt,signals:BDt,recurse:!0})}function jDt(e,t){return t.modified&&cn(t.input.value)&&!e.startsWith("_:vega:_")}function BDt(e,t){return!(e==="parent"||t instanceof mx.proxy)}function zDt(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function UDt(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(f2t(n,t))}function HDt(e,t,n,r){const i=e.element();i&&i.setAttribute("title",qDt(r))}function qDt(e){return e==null?"":cn(e)?tDe(e):Gn(e)&&!r0(e)?VDt(e):e+""}function VDt(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(cn(n)?tDe(n):nDe(n))}).join(`
`)}function tDe(e){return"["+e.map(nDe).join(", ")+"]"}function nDe(e){return cn(e)?"[]":Gn(e)&&!r0(e)?"{}":e}function WDt(){if(this.renderer()==="canvas"&&this._renderer._canvas){let e=null;const t=()=>{e?.();const n=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);n.addEventListener("change",t),e=()=>{n.removeEventListener("change",t)},this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1,this._redraw=!0,this._resize=1,this.resize().runAsync()};t()}}function rDe(e,t){const n=this;if(t=t||{},Nw.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const o=tr({},e.locale,t.locale);n.locale(e2e(o.number,o.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||Hg.Canvas,n._scenegraph=new Jke;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||HDt,n._redraw=!0,n._handler=new gk().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=cDt(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=NDt(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(o=>({state:null,param:tr({},o)})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=ZIe(n,n._width),n._viewHeight=eDe(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,$Dt(n),ZIt(n),eDt(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind),t.watchPixelRatio&&n._watchPixelRatio()}function rI(e,t){return Dn(e._signals,t)?e._signals[t]:it("Unrecognized signal name: "+an(t))}function iDe(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function Pfe(e,t,n,r){let i=iDe(n,r);return i||(i=oJ(e,()=>r(t,n.value)),i.handler=r,e.on(n,null,i)),e}function Ofe(e,t,n){const r=iDe(t,n);return r&&t._targets.remove(r),e}It(rDe,Nw,{async evaluate(e,t,n){if(await Nw.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,iDt(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&_P(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&WIe(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=rI(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",Ife(e)):Ife(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(T6(e)||it("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(Nw.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(rI(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:LDt,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=oJ(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,i,o;--r>=0;)if(o=n[r].type,i=n[r].handler,e===o&&(t===i||t===i.raw)){this._handler.off(o,i);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.includes(e)||t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return Pfe(this,e,rI(this,e),t)},removeSignalListener(e,t){return Ofe(this,rI(this,e),t)},addDataListener(e,t){return Pfe(this,e,gN(this,e).values,t)},removeDataListener(e,t){return Ofe(this,gN(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=xH(this,null);this._globalCursor=!!e,t&&xH(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:UDt,events:fDt,finalize:pDt,hover:hDt,data:tDt,change:B6,insert:nDt,remove:rDt,scale:MDt,initialize:ADt,toImageURL:IDt,toCanvas:PDt,toSVG:ODt,getState:FDt,setState:zDt,_watchPixelRatio:WDt});const GDt="view",vN="[",bN="]",oDe="{",sDe="}",YDt=":",aDe=",",KDt="@",XDt=">",QDt=/[[\]{}]/,JDt={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let lDe,uDe;function cDe(e,t,n){return lDe=t||GDt,uDe=n||JDt,dDe(e.trim()).map(CH)}function ZDt(e){return uDe[e]}function NS(e,t,n,r,i){const o=e.length;let s=0,a;for(;t<o;++t){if(a=e[t],!s&&a===n)return t;i&&i.includes(a)?--s:r&&r.includes(a)&&++s}return t}function dDe(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=NS(e,i,aDe,vN+oDe,bN+sDe),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function CH(e){return e[0]==="["?ePt(e):tPt(e)}function ePt(e){const t=e.length;let n=1,r;if(n=NS(e,n,bN,vN,bN),n===t)throw"Empty between selector: "+e;if(r=dDe(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==XDt)throw"Expected '>' after between selector: "+e;r=r.map(CH);const i=CH(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function tPt(e){const t={source:lDe},n=[];let r=[0,0],i=0,o=0,s=e.length,a=0,l,u;if(e[s-1]===sDe){if(a=e.lastIndexOf(oDe),a>=0){try{r=nPt(e.substring(a+1,s-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,a).trim(),s=e.length}else throw"Unmatched right brace: "+e;a=0}if(!s)throw e;if(e[0]===KDt&&(i=++a),l=NS(e,a,YDt),l<s&&(n.push(e.substring(o,l).trim()),o=a=++l),a=NS(e,a,vN),a===s)n.push(e.substring(o,s).trim());else if(n.push(e.substring(o,a).trim()),u=[],o=++a,o===s)throw"Unmatched left bracket: "+e;for(;a<s;){if(a=NS(e,a,bN),a===s)throw"Unmatched left bracket: "+e;if(u.push(e.substring(o,a).trim()),a<s-1&&e[++a]!==vN)throw"Expected left bracket: "+e;o=++a}if(!(s=n.length)||QDt.test(n[s-1]))throw"Invalid event selector: "+e;return s>1?(t.type=n[1],i?t.markname=n[0].slice(1):ZDt(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),u!=null&&(t.filter=u),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function nPt(e){const t=e.split(aDe);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function rPt(e){return Gn(e)?e:{type:e||"pad"}}const eE=e=>+e||0,iPt=e=>({top:e,bottom:e,left:e,right:e});function oPt(e){return Gn(e)?e.signal?e:{top:eE(e.top),bottom:eE(e.bottom),left:eE(e.left),right:eE(e.right)}:iPt(eE(e))}const Is=e=>Gn(e)&&!cn(e)?tr({},e):{value:e};function Nfe(e,t,n,r){return n!=null?(Gn(n)&&!cn(n)||cn(n)&&n.length&&Gn(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function la(e,t,n){for(const r in t)Nfe(e,r,t[r]);for(const r in n)Nfe(e,r,n[r],"update")}function PC(e,t,n){for(const r in t)n&&Dn(n,r)||(e[r]=tr(e[r]||{},t[r]));return e}function lw(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const lJ="mark",uJ="frame",cJ="scope",sPt="axis",aPt="axis-domain",lPt="axis-grid",uPt="axis-label",cPt="axis-tick",dPt="axis-title",fPt="legend",hPt="legend-band",pPt="legend-entry",mPt="legend-gradient",fDe="legend-label",gPt="legend-symbol",yPt="legend-title",vPt="title",bPt="title-text",wPt="title-subtitle";function xPt(e,t,n,r,i){const o={},s={};let a,l,u,c;l="lineBreak",t==="text"&&i[l]!=null&&!lw(l,e)&&b9(o,l,i[l]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),c=n===uJ?i.group:n===lJ?tr({},i.mark,i[t]):null;for(l in c)u=lw(l,e)||(l==="fill"||l==="stroke")&&(lw("fill",e)||lw("stroke",e)),u||b9(o,l,c[l]);wn(r).forEach(d=>{const f=i.style&&i.style[d];for(const h in f)lw(h,e)||b9(o,h,f[h])}),e=tr({},e);for(l in o)c=o[l],c.signal?(a=a||{})[l]=c:s[l]=c;return e.enter=tr(s,e.enter),a&&(e.update=tr(a,e.update)),e}function b9(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const hDe=e=>Vr(e)?an(e):e.signal?`(${e.signal})`:pDe(e);function U6(e){if(e.gradient!=null)return _Pt(e);let t=e.signal?`(${e.signal})`:e.color?CPt(e.color):e.field!=null?pDe(e.field):e.value!==void 0?an(e.value):void 0;return e.scale!=null&&(t=EPt(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${zP(e.exponent)})`),e.mult!=null&&(t+=`*${zP(e.mult)}`),e.offset!=null&&(t+=`+${zP(e.offset)}`),e.round&&(t=`round(${t})`),t}const iI=(e,t,n,r)=>`(${e}(${[t,n,r].map(U6).join(",")})+'')`;function CPt(e){return e.c?iI("hcl",e.h,e.c,e.l):e.h||e.s?iI("hsl",e.h,e.s,e.l):e.l||e.a?iI("lab",e.l,e.a,e.b):e.r||e.g||e.b?iI("rgb",e.r,e.g,e.b):null}function _Pt(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:an(n));for(;t.length&&Er(t)==null;)t.pop();return t.unshift(hDe(e.gradient)),`gradient(${t.join(",")})`}function zP(e){return Gn(e)?"("+U6(e)+")":e}function pDe(e){return mDe(Gn(e)?e:{datum:e})}function mDe(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):it("Invalid field reference: "+an(e));return e.signal||(r=Vr(r)?OM(r).map(an).join("]["):mDe(r)),t+"["+r+"]"}function EPt(e,t){const n=hDe(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+zP(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function SPt(e){let t="";return e.forEach(n=>{const r=U6(n);t+=n.test?`(${n.test})?${r}:`:r}),Er(t)===":"&&(t+="null"),t}function gDe(e,t,n,r,i,o){const s={};o=o||{},o.encoders={$encode:s},e=xPt(e,t,n,r,i.config);for(const a in e)s[a]=TPt(e[a],t,o,i);return o}function TPt(e,t,n,r){const i={},o={};for(const s in e)e[s]!=null&&(i[s]=APt(kPt(e[s]),r,n,o));return{$expr:{marktype:t,channels:i},$fields:Object.keys(o),$output:Object.keys(e)}}function kPt(e){return cn(e)?SPt(e):U6(e)}function APt(e,t,n,r){const i=Ih(e,t);return i.$fields.forEach(o=>r[o]=1),tr(n,i.$params),i.$expr}const RPt="outer",IPt=["value","update","init","react","bind"];function Mfe(e,t){it(e+' for "outer" push: '+an(t))}function yDe(e,t){const n=e.name;if(e.push===RPt)t.signals[n]||Mfe("No prior signal definition",n),IPt.forEach(r=>{e[r]!==void 0&&Mfe("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function _H(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function H6(e,t,n,r){return new _H(e,t,n,r)}function wN(e,t){return H6("operator",e,t)}function pn(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function Y2(e,t){return t?{$field:e,$name:t}:{$field:e}}const EH=Y2("key");function $fe(e,t){return{$compare:e,$order:t}}function DPt(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const PPt="ascending",OPt="descending";function NPt(e){return Gn(e)?(e.order===OPt?"-":"+")+q6(e.op,e.field):""}function q6(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const dJ="scope",SH="view";function cs(e){return e&&e.signal}function MPt(e){return e&&e.expr}function UP(e){if(cs(e))return!0;if(Gn(e)){for(const t in e)if(UP(e[t]))return!0}return!1}function yd(e,t){return e??t}function Rv(e){return e&&e.signal||e}const Lfe="timer";function K2(e,t){return(e.merge?LPt:e.stream?FPt:e.type?jPt:it("Invalid stream specification: "+an(e)))(e,t)}function $Pt(e){return e===dJ?SH:e||SH}function LPt(e,t){const n=e.merge.map(i=>K2(i,t)),r=fJ({merge:n},e,t);return t.addStream(r).id}function FPt(e,t){const n=K2(e.stream,t),r=fJ({stream:n},e,t);return t.addStream(r).id}function jPt(e,t){let n;e.type===Lfe?(n=t.event(Lfe,e.throttle),e={between:e.between,filter:e.filter}):n=t.event($Pt(e.source),e.type);const r=fJ({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function fJ(e,t,n){let r=t.between;return r&&(r.length!==2&&it('Stream "between" parameter must have 2 entries: '+an(t)),e.between=[K2(r[0],n),K2(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(BPt(t.marktype,t.markname,t.markrole)),t.source===dJ&&r.push("inScope(event.item)"),r.length&&(e.filter=Ih("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function BPt(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const zPt={code:"_.$value",ast:{type:"Identifier",value:"value"}};function UPt(e,t,n){const r=e.encode,i={target:n};let o=e.events,s=e.update,a=[];o||it("Signal update missing events specification."),Vr(o)&&(o=cDe(o,t.isSubscope()?dJ:SH)),o=wn(o).filter(l=>l.signal||l.scale?(a.push(l),0):1),a.length>1&&(a=[qPt(a)]),o.length&&a.push(o.length>1?{merge:o}:o[0]),r!=null&&(s&&it("Signal encode and update are mutually exclusive."),s="encode(item(),"+an(r)+")"),i.update=Vr(s)?Ih(s,t):s.expr!=null?Ih(s.expr,t):s.value!=null?s.value:s.signal!=null?{$expr:zPt,$params:{$value:t.signalRef(s.signal)}}:it("Invalid signal update specification."),e.force&&(i.options={force:!0}),a.forEach(l=>t.addUpdate(tr(HPt(l,t),i)))}function HPt(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):K2(e,t)}}function qPt(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function VPt(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?it("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=Ih(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(i=>UPt(i,t,n.id))}const bi=e=>(t,n,r)=>H6(e,n,t||void 0,r),vDe=bi("aggregate"),WPt=bi("axisticks"),bDe=bi("bound"),mf=bi("collect"),Ffe=bi("compare"),GPt=bi("datajoin"),wDe=bi("encode"),YPt=bi("expression"),KPt=bi("facet"),XPt=bi("field"),QPt=bi("key"),JPt=bi("legendentries"),ZPt=bi("load"),e3t=bi("mark"),t3t=bi("multiextent"),n3t=bi("multivalues"),r3t=bi("overlap"),i3t=bi("params"),xDe=bi("prefacet"),o3t=bi("projection"),s3t=bi("proxy"),a3t=bi("relay"),CDe=bi("render"),l3t=bi("scale"),Fb=bi("sieve"),u3t=bi("sortitems"),_De=bi("viewlayout"),c3t=bi("values");let d3t=0;const EDe={min:"min",max:"max",count:"sum"};function f3t(e,t){const n=e.type||"linear";dke(n)||it("Unrecognized scale type: "+an(n)),t.addScale(e.name,{type:n,domain:void 0})}function h3t(e,t){const n=t.getScale(e.name).params;let r;n.domain=SDe(e.domain,e,t),e.range!=null&&(n.range=kDe(e,t,n)),e.interpolate!=null&&_3t(e.interpolate,n),e.nice!=null&&(n.nice=C3t(e.nice,t)),e.bins!=null&&(n.bins=x3t(e.bins,t));for(r in e)Dn(n,r)||r==="name"||(n[r]=Ec(e[r],t))}function Ec(e,t){return Gn(e)?e.signal?t.signalRef(e.signal):it("Unsupported object: "+an(e)):e}function HP(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>Ec(n,t))}function V6(e){it("Can not find data set: "+an(e))}function SDe(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&it("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(cn(e)?p3t:e.fields?g3t:m3t)(e,t,n)}function p3t(e,t,n){return e.map(r=>Ec(r,n))}function m3t(e,t,n){const r=n.getData(e.data);return r||V6(e.data),wx(t.type)?r.valuesRef(n,e.field,TDe(e.sort,!1)):pke(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function g3t(e,t,n){const r=e.data,i=e.fields.reduce((o,s)=>(s=Vr(s)?{data:r,field:s}:cn(s)||s.signal?y3t(s,n):s,o.push(s),o),[]);return(wx(t.type)?v3t:pke(t.type)?b3t:w3t)(e,n,i)}function y3t(e,t){const n="_:vega:_"+d3t++,r=mf({});if(cn(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+an(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,Fb({})]),{data:n,field:"data"}}function v3t(e,t,n){const r=TDe(e.sort,!0);let i,o;const s=n.map(u=>{const c=t.getData(u.data);return c||V6(u.data),c.countsRef(t,u.field,r)}),a={groupby:EH,pulse:s};r&&(i=r.op||"count",o=r.field?q6(i,r.field):"count",a.ops=[EDe[i]],a.fields=[t.fieldRef(o)],a.as=[o]),i=t.add(vDe(a));const l=t.add(mf({pulse:pn(i)}));return o=t.add(c3t({field:EH,sort:t.sortRef(r),pulse:pn(l)})),pn(o)}function TDe(e,t){return e&&(!e.field&&!e.op?Gn(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?it("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!EDe[e.op]&&it("Multiple domain scales can not be sorted using "+e.op)),e}function b3t(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||V6(i.data),o.domainRef(t,i.field)});return pn(t.add(n3t({values:r})))}function w3t(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||V6(i.data),o.extentRef(t,i.field)});return pn(t.add(t3t({extents:r})))}function x3t(e,t){return e.signal||cn(e)?HP(e,t):t.objectProperty(e)}function C3t(e,t){return e.signal?t.signalRef(e.signal):Gn(e)?{interval:Ec(e.interval),step:Ec(e.step)}:Ec(e)}function _3t(e,t){t.interpolate=Ec(e.type||e),e.gamma!=null&&(t.interpolateGamma=Ec(e.gamma))}function kDe(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(Vr(i)){if(r&&Dn(r,i))return e=tr({},e,{range:r[i]}),kDe(e,t,n);i==="width"?i=[0,{signal:"width"}]:i==="height"?i=wx(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:it("Unrecognized scale range value: "+an(i))}else if(i.scheme){n.scheme=cn(i.scheme)?HP(i.scheme,t):Ec(i.scheme,t),i.extent&&(n.schemeExtent=HP(i.extent,t)),i.count&&(n.schemeCount=Ec(i.count,t));return}else if(i.step){n.rangeStep=Ec(i.step,t);return}else{if(wx(e.type)&&!cn(i))return SDe(i,e,t);cn(i)||it("Unsupported range type: "+an(i))}return i.map(o=>(cn(o)?HP:Ec)(o,t))}function E3t(e,t){const n=t.config.projection||{},r={};for(const i in e)i!=="name"&&(r[i]=TH(e[i],i,t));for(const i in n)r[i]==null&&(r[i]=TH(n[i],i,t));t.addProjection(e.name,r)}function TH(e,t,n){return cn(e)?e.map(r=>TH(r,t,n)):Gn(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:it("Unsupported parameter object: "+an(e)):e}const gf="top",OC="left",NC="right",R0="bottom",ADe="center",S3t="vertical",T3t="start",k3t="middle",A3t="end",kH="index",hJ="label",R3t="offset",Rx="perc",I3t="perc2",Ac="value",Sk="guide-label",pJ="guide-title",D3t="group-title",P3t="group-subtitle",jfe="symbol",qP="gradient",AH="discrete",RH="size",O3t="shape",N3t="fill",M3t="stroke",$3t="strokeWidth",L3t="strokeDash",F3t="opacity",mJ=[RH,O3t,N3t,M3t,$3t,L3t,F3t],Tk={name:1,style:1,interactive:1},Dr={value:0},Rc={value:1},W6="group",RDe="rect",gJ="rule",j3t="symbol",jb="text";function X2(e){return e.type=W6,e.interactive=e.interactive||!1,e}function cu(e,t){const n=(r,i)=>yd(e[r],yd(t[r],i));return n.isVertical=r=>S3t===yd(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>yd(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>yd(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>yd(e.columns,yd(t.columns,+n.isVertical(!0))),n}function IDe(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function B3t(e,t,n){const r=t.config.style[n];return r&&r[e]}function G6(e,t,n){return`item.anchor === '${T3t}' ? ${e} : item.anchor === '${A3t}' ? ${t} : ${n}`}const yJ=G6(an(OC),an(NC),an(ADe));function z3t(e){const t=e("tickBand");let n=e("tickOffset"),r,i;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},Gn(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,i=!0,n=0):(r=.5,i=!1):(r=e("bandPosition"),i=e("tickExtra")),{extra:i,band:r,offset:n}}function DDe(e,t){return t?e?Gn(e)?Object.assign({},e,{offset:DDe(e.offset,t)}):{value:e,offset:t}:t:e}function Yu(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=PC(e.encode,t,Tk)):e.interactive=!1,e}function U3t(e,t,n,r){const i=cu(e,n),o=i.isVertical(),s=i.gradientThickness(),a=i.gradientLength();let l,u,c,d,f;o?(u=[0,1],c=[0,0],d=s,f=a):(u=[0,0],c=[1,0],d=a,f=s);const h={enter:l={opacity:Dr,x:Dr,y:Dr,width:Is(d),height:Is(f)},update:tr({},l,{opacity:Rc,fill:{gradient:t,start:u,stop:c}}),exit:{opacity:Dr}};return la(h,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),Yu({type:RDe,role:mPt,encode:h},r)}function H3t(e,t,n,r,i){const o=cu(e,n),s=o.isVertical(),a=o.gradientThickness(),l=o.gradientLength();let u,c,d,f,h="";s?(u="y",d="y2",c="x",f="width",h="1-"):(u="x",d="x2",c="y",f="height");const m={opacity:Dr,fill:{scale:t,field:Ac}};m[u]={signal:h+"datum."+Rx,mult:l},m[c]=Dr,m[d]={signal:h+"datum."+I3t,mult:l},m[f]=Is(a);const p={enter:m,update:tr({},m,{opacity:Rc}),exit:{opacity:Dr}};return la(p,{stroke:o("gradientStrokeColor"),strokeWidth:o("gradientStrokeWidth")},{opacity:o("gradientOpacity")}),Yu({type:RDe,role:hPt,key:Ac,from:i,encode:p},r)}const q3t=`datum.${Rx}<=0?"${OC}":datum.${Rx}>=1?"${NC}":"${ADe}"`,V3t=`datum.${Rx}<=0?"${R0}":datum.${Rx}>=1?"${gf}":"${k3t}"`;function Bfe(e,t,n,r){const i=cu(e,t),o=i.isVertical(),s=Is(i.gradientThickness()),a=i.gradientLength();let l=i("labelOverlap"),u,c,d,f,h="";const m={enter:u={opacity:Dr},update:c={opacity:Rc,text:{field:hJ}},exit:{opacity:Dr}};return la(m,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:yd(e.labelLimit,t.gradientLabelLimit)}),o?(u.align={value:"left"},u.baseline=c.baseline={signal:V3t},d="y",f="x",h="1-"):(u.align=c.align={signal:q3t},u.baseline={value:"top"},d="x",f="y"),u[d]=c[d]={signal:h+"datum."+Rx,mult:a},u[f]=c[f]=s,s.offset=yd(e.labelOffset,t.gradientLabelOffset)||0,l=l?{separation:i("labelSeparation"),method:l,order:"datum."+kH}:void 0,Yu({type:jb,role:fDe,style:Sk,key:Ac,from:r,encode:m,overlap:l},n)}function W3t(e,t,n,r,i){const o=cu(e,t),s=n.entries,a=!!(s&&s.interactive),l=s?s.name:void 0,u=o("clipHeight"),c=o("symbolOffset"),d={data:"value"},f=`(${i}) ? datum.${R3t} : datum.${RH}`,h=u?Is(u):{field:RH},m=`datum.${kH}`,p=`max(1, ${i})`;let g,v,y,w,_;h.mult=.5,g={enter:v={opacity:Dr,x:{signal:f,mult:.5,offset:c},y:h},update:y={opacity:Rc,x:v.x,y:v.y},exit:{opacity:Dr}};let E=null,S=null;e.fill||(E=t.symbolBaseFillColor,S=t.symbolBaseStrokeColor),la(g,{fill:o("symbolFillColor",E),shape:o("symbolType"),size:o("symbolSize"),stroke:o("symbolStrokeColor",S),strokeDash:o("symbolDash"),strokeDashOffset:o("symbolDashOffset"),strokeWidth:o("symbolStrokeWidth")},{opacity:o("symbolOpacity")}),mJ.forEach(I=>{e[I]&&(y[I]=v[I]={scale:e[I],field:Ac})});const T=Yu({type:j3t,role:gPt,key:Ac,from:d,clip:u?!0:void 0,encode:g},n.symbols),k=Is(c);k.offset=o("labelOffset"),g={enter:v={opacity:Dr,x:{signal:f,offset:k},y:h},update:y={opacity:Rc,text:{field:hJ},x:v.x,y:v.y},exit:{opacity:Dr}},la(g,{align:o("labelAlign"),baseline:o("labelBaseline"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontStyle:o("labelFontStyle"),fontWeight:o("labelFontWeight"),limit:o("labelLimit")});const R=Yu({type:jb,role:fDe,style:Sk,key:Ac,from:d,encode:g},n.labels);return g={enter:{noBound:{value:!u},width:Dr,height:u?Is(u):Dr,opacity:Dr},exit:{opacity:Dr},update:y={opacity:Rc,row:{signal:null},column:{signal:null}}},o.isVertical(!0)?(w=`ceil(item.mark.items.length / ${p})`,y.row.signal=`${m}%${w}`,y.column.signal=`floor(${m} / ${w})`,_={field:["row",m]}):(y.row.signal=`floor(${m} / ${p})`,y.column.signal=`${m} % ${p}`,_={field:m}),y.column.signal=`(${i})?${y.column.signal}:${m}`,r={facet:{data:r,name:"value",groupby:kH}},X2({role:cJ,from:r,encode:PC(g,s,Tk),marks:[T,R],name:l,interactive:a,sort:_})}function G3t(e,t){const n=cu(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const vJ='item.orient === "left"',bJ='item.orient === "right"',Y6=`(${vJ} || ${bJ})`,Y3t=`datum.vgrad && ${Y6}`,K3t=G6('"top"','"bottom"','"middle"'),X3t=G6('"right"','"left"','"center"'),Q3t=`datum.vgrad && ${bJ} ? (${X3t}) : (${Y6} && !(datum.vgrad && ${vJ})) ? "left" : ${yJ}`,J3t=`item._anchor || (${Y6} ? "middle" : "start")`,Z3t=`${Y3t} ? (${vJ} ? -90 : 90) : 0`,eOt=`${Y6} ? (datum.vgrad ? (${bJ} ? "bottom" : "top") : ${K3t}) : "top"`;function tOt(e,t,n,r){const i=cu(e,t),o={enter:{opacity:Dr},update:{opacity:Rc,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Dr}};return la(o,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:J3t},angle:{signal:Z3t},align:{signal:Q3t},baseline:{signal:eOt},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),Yu({type:jb,role:yPt,style:pJ,from:r,encode:o},n)}function nOt(e,t){let n;return Gn(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+zfe(e.path)+")":e.sphere&&(n="geoShape("+zfe(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function zfe(e){return Gn(e)&&e.signal?e.signal:an(e)}function PDe(e){const t=e.role||"";return t.startsWith("axis")||t.startsWith("legend")||t.startsWith("title")?t:e.type===W6?cJ:t||lJ}function rOt(e){return{marktype:e.type,name:e.name||void 0,role:e.role||PDe(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function iOt(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function wJ(e,t){const n=h2e(e.type);n||it("Unrecognized transform type: "+an(e.type));const r=H6(n.type.toLowerCase(),null,ODe(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function ODe(e,t,n){const r={},i=e.params.length;for(let o=0;o<i;++o){const s=e.params[o];r[s.name]=oOt(s,t,n)}return r}function oOt(e,t,n){const r=e.type,i=t[e.name];if(r==="index")return sOt(e,t,n);if(i===void 0){e.required&&it("Missing required "+an(t.type)+" parameter: "+an(e.name));return}else{if(r==="param")return aOt(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!cs(i)?i.map(o=>Ufe(e,o,n)):Ufe(e,i,n)}function Ufe(e,t,n){const r=e.type;if(cs(t))return qfe(r)?it("Expression references can not be signals."):w9(r)?n.fieldRef(t):Vfe(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||w9(r);return i&&lOt(t)?n.exprRef(t.expr,t.as):i&&uOt(t)?Y2(t.field,t.as):qfe(r)?Ih(t,n):cOt(r)?pn(n.getData(t).values):w9(r)?Y2(t):Vfe(r)?n.compareRef(t):t}}function sOt(e,t,n){return Vr(t.from)||it('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function aOt(e,t,n){const r=t[e.name];return e.array?(cn(r)||it("Expected an array of sub-parameters. Instead: "+an(r)),r.map(i=>Hfe(e,i,n))):Hfe(e,r,n)}function Hfe(e,t,n){const r=e.params.length;let i;for(let s=0;s<r;++s){i=e.params[s];for(const a in i.key)if(i.key[a]!==t[a]){i=null;break}if(i)break}i||it("Unsupported parameter: "+an(t));const o=tr(ODe(i,t,n),i.key);return pn(n.add(i3t(o)))}const lOt=e=>e&&e.expr,uOt=e=>e&&e.field,cOt=e=>e==="data",qfe=e=>e==="expr",w9=e=>e==="field",Vfe=e=>e==="compare";function dOt(e,t,n){let r,i,o,s,a;return e?(r=e.facet)&&(t||it("Only group marks can be faceted."),r.field!=null?s=a=VP(r,n):(e.data?a=pn(n.getData(e.data).aggregate):(o=wJ(tr({type:"aggregate",groupby:wn(r.groupby)},r.aggregate),n),o.params.key=n.keyRef(r.groupby),o.params.pulse=VP(r,n),s=a=pn(n.add(o))),i=n.keyRef(r.groupby,!0))):s=pn(n.add(mf(null,[{}]))),s||(s=VP(e,n)),{key:i,pulse:s,parent:a}}function VP(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:pn(t.getData(e.data).output)}function ib(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}ib.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let o=t[0],s=null,a=1;for(o&&o.type==="load"&&(o=t[1]),e.add(t[0]);a<n;++a)t[a].params.pulse=pn(t[a-1]),e.add(t[a]),t[a].type==="aggregate"&&(s=t[a]);return new ib(e,o,i,r,s)};function NDe(e){return Vr(e)?e:null}function Wfe(e,t,n){const r=q6(n.op,n.field);let i;if(t.ops){for(let o=0,s=t.as.length;o<s;++o)if(t.as[o]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function tE(e,t,n,r,i,o,s){const a=t[n]||(t[n]={}),l=NPt(o);let u=NDe(i),c,d;if(u!=null&&(e=t.scope,u=u+(l?"|"+l:""),c=a[u]),!c){const f=o?{field:EH,pulse:t.countsRef(e,i,o)}:{field:e.fieldRef(i),pulse:pn(t.output)};l&&(f.sort=e.sortRef(o)),d=e.add(H6(r,void 0,f)),s&&(t.index[i]=d),c=pn(d),u!=null&&(a[u]=c)}return c}ib.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),o=NDe(t);let s,a,l;return o!=null&&(e=r.scope,s=i[o]),s?n&&n.field&&Wfe(e,s.agg.params,n):(l={groupby:e.fieldRef(t,"key"),pulse:pn(r.output)},n&&n.field&&Wfe(e,l,n),a=e.add(vDe(l)),s=e.add(mf({pulse:pn(a)})),s={agg:a,ref:pn(s)},o!=null&&(i[o]=s)),s.ref},tuplesRef(){return pn(this.values)},extentRef(e,t){return tE(e,this,"extent","extent",t,!1)},domainRef(e,t){return tE(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return tE(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return tE(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return tE(e,this,"indata","tupleindex",t,!0,!0)}};function fOt(e,t,n){const r=e.from.facet,i=r.name,o=VP(r,t);let s;r.name||it("Facet must have a name: "+an(r)),r.data||it("Facet must reference a data set: "+an(r)),r.field?s=t.add(xDe({field:t.fieldRef(r.field),pulse:o})):r.groupby?s=t.add(KPt({key:t.keyRef(r.groupby),group:pn(t.proxy(n.parent)),pulse:o})):it("Facet must specify groupby or field: "+an(r));const a=t.fork(),l=a.add(mf()),u=a.add(Fb({pulse:pn(l)}));a.addData(i,new ib(a,l,l,u)),a.addSignal("parent",null),s.params.subflow={$subflow:a.parse(e).toRuntime()}}function hOt(e,t,n){const r=t.add(xDe({pulse:n.pulse})),i=t.fork();i.add(Fb()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}function MDe(e,t,n){const r=e.remove,i=e.insert,o=e.toggle,s=e.modify,a=e.values,l=t.add(wN()),u="if("+e.trigger+',modify("'+n+'",'+[i,r,o,s,a].map(d=>d??"null").join(",")+"),0)",c=Ih(u,t);l.update=c.$expr,l.params=c.$params}function K6(e,t){const n=PDe(e),r=e.type===W6,i=e.from&&e.from.facet,o=e.overlap;let s=e.layout||n===cJ||n===uJ,a,l,u,c,d,f,h;const m=n===lJ||s||i,p=dOt(e.from,r,t);l=t.add(GPt({key:p.key||(e.key?Y2(e.key):void 0),pulse:p.pulse,clean:!r}));const g=pn(l);l=u=t.add(mf({pulse:g})),l=t.add(e3t({markdef:rOt(e),interactive:iOt(e.interactive,t),clip:nOt(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:pn(l)}));const v=pn(l);l=c=t.add(wDe(gDe(e.encode,e.type,n,e.style,t,{mod:!1,pulse:v}))),l.params.parent=t.encode(),e.transform&&e.transform.forEach(S=>{const T=wJ(S,t),k=T.metadata;(k.generates||k.changes)&&it("Mark transforms should not generate new data."),k.nomod||(c.params.mod=!0),T.params.pulse=pn(l),t.add(l=T)}),e.sort&&(l=t.add(u3t({sort:t.compareRef(e.sort),pulse:pn(l)})));const y=pn(l);(i||s)&&(s=t.add(_De({layout:t.objectProperty(e.layout),legends:t.legends,mark:v,pulse:y})),f=pn(s));const w=t.add(bDe({mark:v,pulse:f||y}));h=pn(w),r&&(m&&(a=t.operators,a.pop(),s&&a.pop()),t.pushState(y,f||h,g),i?fOt(e,t,p):m?hOt(e,t,p):t.parse(e),t.popState(),m&&(s&&a.push(s),a.push(w))),o&&(h=pOt(o,h,t));const _=t.add(CDe({pulse:h})),E=t.add(Fb({pulse:pn(_)},void 0,t.parent()));e.name!=null&&(d=e.name,t.addData(d,new ib(t,u,_,E)),e.on&&e.on.forEach(S=>{(S.insert||S.remove||S.toggle)&&it("Marks only support modify triggers."),MDe(S,t,d)}))}function pOt(e,t,n){const r=e.method,i=e.bound,o=e.separation,s={separation:cs(o)?n.signalRef(o.signal):o,method:cs(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(s.sort=n.compareRef({field:e.order})),i){const a=i.tolerance;s.boundTolerance=cs(a)?n.signalRef(a.signal):+a,s.boundScale=n.scaleRef(i.scale),s.boundOrient=i.orient}return pn(n.add(r3t(s)))}function mOt(e,t){const n=t.config.legend,r=e.encode||{},i=cu(e,n),o=r.legend||{},s=o.name||void 0,a=o.interactive,l=o.style,u={};let c=0,d,f,h;mJ.forEach(w=>e[w]?(u[w]=e[w],c=c||e[w]):0),c||it("Missing valid scale for legend.");const m=gOt(e,t.scaleType(c)),p={title:e.title!=null,scales:u,type:m,vgrad:m!=="symbol"&&i.isVertical()},g=pn(t.add(mf(null,[p]))),v={enter:{x:{value:0},y:{value:0}}},y=pn(t.add(JPt(f={type:m,scale:t.scaleRef(c),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return m===qP?(h=[U3t(e,c,n,r.gradient),Bfe(e,n,r.labels,y)],f.count=f.count||t.signalRef(`max(2,2*floor((${Rv(i.gradientLength())})/100))`)):m===AH?h=[H3t(e,c,n,r.gradient,y),Bfe(e,n,r.labels,y)]:(d=G3t(e,n),h=[W3t(e,n,r,y,Rv(d.columns))],f.size=bOt(e,t,h[0].marks)),h=[X2({role:pPt,from:g,encode:v,marks:h,layout:d,interactive:a})],p.title&&h.push(tOt(e,n,r.title,g)),K6(X2({role:fPt,from:g,encode:PC(vOt(i,e,n),o,Tk),marks:h,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:s,interactive:a,style:l}),t)}function gOt(e,t){let n=e.type||jfe;return!e.type&&yOt(e)===1&&(e.fill||e.stroke)&&(n=wX(t)?qP:wU(t)?AH:jfe),n!==qP?n:wU(t)?AH:qP}function yOt(e){return mJ.reduce((t,n)=>t+(e[n]?1:0),0)}function vOt(e,t,n){const r={enter:{},update:{}};return la(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function bOt(e,t,n){const r=Rv(Gfe("size",e,n)),i=Rv(Gfe("strokeWidth",e,n)),o=Rv(wOt(n[1].encode,t,Sk));return Ih(`max(ceil(sqrt(${r})+${i}),${o})`,t)}function Gfe(e,t,n){return t[e]?`scale("${t[e]}",datum)`:IDe(e,n[0].encode)}function wOt(e,t,n){return IDe("fontSize",e)||B3t("fontSize",t,n)}const xOt=`item.orient==="${OC}"?-90:item.orient==="${NC}"?90:0`;function COt(e,t){e=Vr(e)?{text:e}:e;const n=cu(e,t.config.title),r=e.encode||{},i=r.group||{},o=i.name||void 0,s=i.interactive,a=i.style,l=[],u={},c=pn(t.add(mf(null,[u])));return l.push(SOt(e,n,_Ot(e),c)),e.subtitle&&l.push(TOt(e,n,r.subtitle,c)),K6(X2({role:vPt,from:c,encode:EOt(n,i),marks:l,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:o,interactive:s,style:a}),t)}function _Ot(e){const t=e.encode;return t&&t.title||tr({name:e.name,interactive:e.interactive,style:e.style},t)}function EOt(e,t){const n={enter:{},update:{}};return la(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:yJ},angle:{signal:xOt},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),PC(n,t,Tk)}function SOt(e,t,n,r){const i={value:0},o=e.text,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return la(s,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Yu({type:jb,role:bPt,style:D3t,from:r,encode:s},n)}function TOt(e,t,n,r){const i={value:0},o=e.subtitle,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return la(s,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Yu({type:jb,role:wPt,style:P3t,from:r,encode:s},n)}function kOt(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(wJ(r,t))}),e.on&&e.on.forEach(r=>{MDe(r,t,e.name)}),t.addDataPipeline(e.name,AOt(e,t,n))}function AOt(e,t,n){const r=[];let i=null,o=!1,s=!1,a,l,u,c,d;for(e.values?cs(e.values)||UP(e.format)?(r.push(Yfe(t,e)),r.push(i=Ty())):r.push(i=Ty({$ingest:e.values,$format:e.format})):e.url?UP(e.url)||UP(e.format)?(r.push(Yfe(t,e)),r.push(i=Ty())):r.push(i=Ty({$request:e.url,$format:e.format})):e.source&&(i=a=wn(e.source).map(f=>pn(t.getData(f).output)),r.push(null)),l=0,u=n.length;l<u;++l)c=n[l],d=c.metadata,!i&&!d.source&&r.push(i=Ty()),r.push(c),d.generates&&(s=!0),d.modifies&&!s&&(o=!0),d.source?i=c:d.changes&&(i=null);return a&&(u=a.length-1,r[0]=a3t({derive:o,pulse:u?a:a[0]}),(o||u)&&r.splice(1,0,Ty())),i||r.push(Ty()),r.push(Fb({})),r}function Ty(e){const t=mf({},e);return t.metadata={source:!0},t}function Yfe(e,t){return ZPt({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const $De=e=>e===R0||e===gf,X6=(e,t,n)=>cs(e)?POt(e.signal,t,n):e===OC||e===gf?t:n,Ds=(e,t,n)=>cs(e)?IOt(e.signal,t,n):$De(e)?t:n,jd=(e,t,n)=>cs(e)?DOt(e.signal,t,n):$De(e)?n:t,LDe=(e,t,n)=>cs(e)?OOt(e.signal,t,n):e===gf?{value:t}:{value:n},ROt=(e,t,n)=>cs(e)?NOt(e.signal,t,n):e===NC?{value:t}:{value:n},IOt=(e,t,n)=>FDe(`${e} === '${gf}' || ${e} === '${R0}'`,t,n),DOt=(e,t,n)=>FDe(`${e} !== '${gf}' && ${e} !== '${R0}'`,t,n),POt=(e,t,n)=>xJ(`${e} === '${OC}' || ${e} === '${gf}'`,t,n),OOt=(e,t,n)=>xJ(`${e} === '${gf}'`,t,n),NOt=(e,t,n)=>xJ(`${e} === '${NC}'`,t,n),FDe=(e,t,n)=>(t=t!=null?Is(t):t,n=n!=null?Is(n):n,Kfe(t)&&Kfe(n)?(t=t?t.signal||an(t.value):null,n=n?n.signal||an(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[tr({test:e},t)].concat(n||[])),Kfe=e=>e==null||Object.keys(e).length===1,xJ=(e,t,n)=>({signal:`${e} ? (${bw(t)}) : (${bw(n)})`}),MOt=(e,t,n,r,i)=>({signal:(r!=null?`${e} === '${OC}' ? (${bw(r)}) : `:"")+(n!=null?`${e} === '${R0}' ? (${bw(n)}) : `:"")+(i!=null?`${e} === '${NC}' ? (${bw(i)}) : `:"")+(t!=null?`${e} === '${gf}' ? (${bw(t)}) : `:"")+"(null)"}),bw=e=>cs(e)?e.signal:e==null?null:an(e),$Ot=(e,t)=>t===0?0:cs(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},Fw=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function U1(e,t,n,r){let i;if(t&&Dn(t,e))return t[e];if(Dn(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[pJ][i]}else if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[Sk][i]}return null}function Xfe(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function LOt(e,t){var n=t.config,r=n.style,i=n.axis,o=t.scaleType(e.scale)==="band"&&n.axisBand,s=e.orient,a,l,u;if(cs(s)){const d=Xfe([n.axisX,n.axisY]),f=Xfe([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);a={};for(u of d)a[u]=Ds(s,U1(u,n.axisX,i,r),U1(u,n.axisY,i,r));l={};for(u of f)l[u]=MOt(s.signal,U1(u,n.axisTop,i,r),U1(u,n.axisBottom,i,r),U1(u,n.axisLeft,i,r),U1(u,n.axisRight,i,r))}else a=s===gf||s===R0?n.axisX:n.axisY,l=n["axis"+s[0].toUpperCase()+s.slice(1)];return a||l||o?tr({},i,a,l,o):i}function FOt(e,t,n,r){const i=cu(e,t),o=e.orient;let s,a;const l={enter:s={opacity:Dr},update:a={opacity:Rc},exit:{opacity:Dr}};la(l,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const u=Qfe(e,0),c=Qfe(e,1);return s.x=a.x=Ds(o,u,Dr),s.x2=a.x2=Ds(o,c),s.y=a.y=jd(o,u,Dr),s.y2=a.y2=jd(o,c),Yu({type:gJ,role:aPt,from:r,encode:l},n)}function Qfe(e,t){return{scale:e.scale,range:t}}function jOt(e,t,n,r,i){const o=cu(e,t),s=e.orient,a=e.gridScale,l=X6(s,1,-1),u=BOt(e.offset,l);let c,d,f;const h={enter:c={opacity:Dr},update:f={opacity:Rc},exit:d={opacity:Dr}};la(h,{stroke:o("gridColor"),strokeCap:o("gridCap"),strokeDash:o("gridDash"),strokeDashOffset:o("gridDashOffset"),strokeOpacity:o("gridOpacity"),strokeWidth:o("gridWidth")});const m={scale:e.scale,field:Ac,band:i.band,extra:i.extra,offset:i.offset,round:o("tickRound")},p=Ds(s,{signal:"height"},{signal:"width"}),g=a?{scale:a,range:0,mult:l,offset:u}:{value:0,offset:u},v=a?{scale:a,range:1,mult:l,offset:u}:tr(p,{mult:l,offset:u});return c.x=f.x=Ds(s,m,g),c.y=f.y=jd(s,m,g),c.x2=f.x2=jd(s,v),c.y2=f.y2=Ds(s,v),d.x=Ds(s,m),d.y=jd(s,m),Yu({type:gJ,role:lPt,key:Ac,from:r,encode:h},n)}function BOt(e,t){if(t!==1)if(!Gn(e))e=cs(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=tr({},e);for(;n.mult!=null;)if(Gn(n.mult))n=n.mult=tr({},n.mult);else return n.mult=cs(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function zOt(e,t,n,r,i,o){const s=cu(e,t),a=e.orient,l=X6(a,-1,1);let u,c,d;const f={enter:u={opacity:Dr},update:d={opacity:Rc},exit:c={opacity:Dr}};la(f,{stroke:s("tickColor"),strokeCap:s("tickCap"),strokeDash:s("tickDash"),strokeDashOffset:s("tickDashOffset"),strokeOpacity:s("tickOpacity"),strokeWidth:s("tickWidth")});const h=Is(i);h.mult=l;const m={scale:e.scale,field:Ac,band:o.band,extra:o.extra,offset:o.offset,round:s("tickRound")};return d.y=u.y=Ds(a,Dr,m),d.y2=u.y2=Ds(a,h),c.x=Ds(a,m),d.x=u.x=jd(a,Dr,m),d.x2=u.x2=jd(a,h),c.y=jd(a,m),Yu({type:gJ,role:cPt,key:Ac,from:r,encode:f},n)}function x9(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function UOt(e,t,n,r,i,o){const s=cu(e,t),a=e.orient,l=e.scale,u=X6(a,-1,1),c=Rv(s("labelFlush")),d=Rv(s("labelFlushOffset")),f=s("labelAlign"),h=s("labelBaseline");let m=c===0||!!c,p;const g=Is(i);g.mult=u,g.offset=Is(s("labelPadding")||0),g.offset.mult=u;const v={scale:l,field:Ac,band:.5,offset:DDe(o.offset,s("labelOffset"))},y=Ds(a,m?x9(l,c,'"left"','"right"','"center"'):{value:"center"},ROt(a,"left","right")),w=Ds(a,LDe(a,"bottom","top"),m?x9(l,c,'"top"','"bottom"','"middle"'):{value:"middle"}),_=x9(l,c,`-(${d})`,d,0);m=m&&d;const E={opacity:Dr,x:Ds(a,v,g),y:jd(a,v,g)},S={enter:E,update:p={opacity:Rc,text:{field:hJ},x:E.x,y:E.y,align:y,baseline:w},exit:{opacity:Dr,x:E.x,y:E.y}};la(S,{dx:!f&&m?Ds(a,_):null,dy:!h&&m?jd(a,_):null}),la(S,{angle:s("labelAngle"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontWeight:s("labelFontWeight"),fontStyle:s("labelFontStyle"),limit:s("labelLimit"),lineHeight:s("labelLineHeight")},{align:f,baseline:h});const T=s("labelBound");let k=s("labelOverlap");return k=k||T?{separation:s("labelSeparation"),method:k,order:"datum.index",bound:T?{scale:l,orient:a,tolerance:T}:null}:void 0,p.align!==y&&(p.align=Fw(p.align,y)),p.baseline!==w&&(p.baseline=Fw(p.baseline,w)),Yu({type:jb,role:uPt,style:Sk,key:Ac,from:r,encode:S,overlap:k},n)}function HOt(e,t,n,r){const i=cu(e,t),o=e.orient,s=X6(o,-1,1);let a,l;const u={enter:a={opacity:Dr,anchor:Is(i("titleAnchor",null)),align:{signal:yJ}},update:l=tr({},a,{opacity:Rc,text:Is(e.title)}),exit:{opacity:Dr}},c={signal:`lerp(range("${e.scale}"), ${G6(0,1,.5)})`};return l.x=Ds(o,c),l.y=jd(o,c),a.angle=Ds(o,Dr,$Ot(s,90)),a.baseline=Ds(o,LDe(o,R0,gf),{value:R0}),l.angle=a.angle,l.baseline=a.baseline,la(u,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),qOt(i,o,u,n),u.update.align=Fw(u.update.align,a.align),u.update.angle=Fw(u.update.angle,a.angle),u.update.baseline=Fw(u.update.baseline,a.baseline),Yu({type:jb,role:dPt,style:pJ,from:r,encode:u},n)}function qOt(e,t,n,r){const i=(a,l)=>a!=null?(n.update[l]=Fw(Is(a),n.update[l]),!1):!lw(l,r),o=i(e("titleX"),"x"),s=i(e("titleY"),"y");n.enter.auto=s===o?Is(s):Ds(t,Is(s),Is(o))}function VOt(e,t){const n=LOt(e,t),r=e.encode||{},i=r.axis||{},o=i.name||void 0,s=i.interactive,a=i.style,l=cu(e,n),u=z3t(l),c={scale:e.scale,ticks:!!l("ticks"),labels:!!l("labels"),grid:!!l("grid"),domain:!!l("domain"),title:e.title!=null},d=pn(t.add(mf({},[c]))),f=pn(t.add(WPt({scale:t.scaleRef(e.scale),extra:t.property(u.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),h=[];let m;return c.grid&&h.push(jOt(e,n,r.grid,f,u)),c.ticks&&(m=l("tickSize"),h.push(zOt(e,n,r.ticks,f,m,u))),c.labels&&(m=c.ticks?m:0,h.push(UOt(e,n,r.labels,f,m,u))),c.domain&&h.push(FOt(e,n,r.domain,d)),c.title&&h.push(HOt(e,n,r.title,d)),K6(X2({role:sPt,from:d,encode:PC(WOt(l,e),i,Tk),marks:h,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:o,interactive:s,style:a}),t)}function WOt(e,t){const n={enter:{},update:{}};return la(n,{orient:e("orient"),offset:e("offset")||0,position:yd(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function jDe(e,t,n){const r=wn(e.signals),i=wn(e.scales);return n||r.forEach(o=>yDe(o,t)),wn(e.projections).forEach(o=>E3t(o,t)),i.forEach(o=>f3t(o,t)),wn(e.data).forEach(o=>kOt(o,t)),i.forEach(o=>h3t(o,t)),(n||r).forEach(o=>VPt(o,t)),wn(e.axes).forEach(o=>VOt(o,t)),wn(e.marks).forEach(o=>K6(o,t)),wn(e.legends).forEach(o=>mOt(o,t)),e.title&&COt(e.title,t),t.parseLambdas(),t}const GOt=e=>PC({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function YOt(e,t){const n=t.config,r=pn(t.root=t.add(wN())),i=KOt(e,n);i.forEach(u=>yDe(u,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const o=t.add(mf()),s=t.add(wDe(gDe(GOt(e.encode),W6,uJ,e.style,t,{pulse:pn(o)}))),a=t.add(_De({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:pn(s)}));t.operators.pop(),t.pushState(pn(s),pn(a),null),jDe(e,t,i),t.operators.push(a);let l=t.add(bDe({mark:r,pulse:pn(a)}));return l=t.add(CDe({pulse:pn(l)})),l=t.add(Fb({pulse:pn(l)})),t.addData("root",new ib(t,o,o,l)),t}function nE(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function KOt(e,t){const n=s=>yd(e[s],t[s]),r=[nE("background",n("background")),nE("autosize",rPt(n("autosize"))),nE("padding",oPt(n("padding"))),nE("width",n("width")||0),nE("height",n("height")||0)],i=r.reduce((s,a)=>(s[a.name]=a,s),{}),o={};return wn(e.signals).forEach(s=>{Dn(i,s.name)?s=tr(i[s.name],s):r.push(s),o[s.name]=s}),wn(t.signals).forEach(s=>{!Dn(o,s.name)&&!Dn(i,s.name)&&r.push(s)}),r}function BDe(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function Jfe(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}BDe.prototype=Jfe.prototype={parse(e){return jDe(e,this)},fork(){return new Jfe(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof _H?pn(e):e;return this.add(s3t({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,i,o){let s,a;r&&(s=r.data||(r.data={}),a=s[i]||(s[i]=[]),a.push(o))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(pn(this.add(Fb({pulse:e})))),this._parent.push(t),this._lookup.push(n?pn(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return Er(this._parent)},encode(){return Er(this._encode)},lookup(){return Er(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(Vr(e))return Y2(e,t);e.signal||it("Unsupported field reference: "+an(e));const n=e.signal;let r=this.field[n];if(!r){const i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=pn(this.add(XPt(i)))}return r},compareRef(e){let t=!1;const n=o=>cs(o)?(t=!0,this.signalRef(o.signal)):MPt(o)?(t=!0,this.exprRef(o.expr)):o,r=wn(e.field).map(n),i=wn(e.order).map(n);return t?pn(this.add(Ffe({fields:r,orders:i}))):$fe(r,i)},keyRef(e,t){let n=!1;const r=o=>cs(o)?(n=!0,pn(i[o.signal])):o,i=this.signals;return e=wn(e).map(r),n?pn(this.add(QPt({fields:e,flat:t}))):DPt(e,t)},sortRef(e){if(!e)return e;const t=q6(e.op,e.field),n=e.order||PPt;return n.signal?pn(this.add(Ffe({fields:t,orders:this.signalRef(n.signal)}))):$fe(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return Dn(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&it("Duplicate signal name: "+an(e));const n=t instanceof _H?t:this.add(wN(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||it("Unrecognized signal name: "+an(e)),this.signals[e]},signalRef(e){return this.signals[e]?pn(this.signals[e]):(Dn(this.lambdas,e)||(this.lambdas[e]=this.add(wN(null))),pn(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],i=Ih(r,this),o=this.lambdas[r];o.params=i.$params,o.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!Gn(e)?e:this.signalRef(e.signal||CJ(e))},exprRef(e,t){const n={expr:Ih(e,this)};return t&&(n.expr.$name=t),pn(this.add(YPt(n)))},addBinding(e,t){this.bindings||it("Nested signals do not support binding: "+an(e)),this.bindings.push(tr({signal:e},t))},addScaleProj(e,t){Dn(this.scales,e)&&it("Duplicate scale or projection name: "+an(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,l3t(t))},addProjection(e,t){this.addScaleProj(e,o3t(t))},getScale(e){return this.scales[e]||it("Unrecognized scale name: "+an(e)),this.scales[e]},scaleRef(e){return pn(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return Dn(this.data,e)&&it("Duplicate data set name: "+an(e)),this.data[e]=t},getData(e){return this.data[e]||it("Undefined data set name: "+an(e)),this.data[e]},addDataPipeline(e,t){return Dn(this.data,e)&&it("Duplicate data set name: "+an(e)),this.addData(e,ib.fromEntries(this,t))}};function CJ(e){return(cn(e)?XOt:QOt)(e)}function XOt(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const i=e[r];n+=(r>0?",":"")+(Gn(i)?i.signal||CJ(i):an(i))}return n+"]"}function QOt(e){let t="{",n=0,r,i;for(r in e)i=e[r],t+=(++n>1?",":"")+an(r)+":"+(Gn(i)?i.signal||CJ(i):an(i));return t+"}"}function JOt(){const e="sans-serif",r="#4c78a8",i="#000",o="#888",s="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:e,fontSize:10},"guide-title":{fill:i,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:s},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:o,grid:!1,gridWidth:1,gridColor:s,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:o,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:s,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:o,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function ZOt(e,t,n){return Gn(e)||it("Input Vega specification must be an object."),t=NM(JOt(),t,e.config),YOt(e,new BDe(t,n)).toRuntime()}var eNt="6.2.0";tr(mx,qvt,b_t,Q_t,$St,I2t,rkt,$Tt,okt,Rkt,jkt,Wkt);const tNt=eNt,nNt=Object.freeze(Object.defineProperty({__proto__:null,Bounds:Ko,CanvasHandler:gk,CanvasRenderer:MO,DATE:eu,DAY:Ra,DAYOFYEAR:Ah,Dataflow:Nw,Debug:NEe,DisallowedObjectProperties:IEe,Error:OY,EventStream:KM,Gradient:Rke,GroupItem:v6,HOURS:Vu,Handler:VX,HybridHandler:bAe,HybridRenderer:DU,Info:OEe,Item:y6,MILLISECONDS:Xd,MINUTES:Wu,MONTH:$a,Marks:Gu,MultiPulse:iK,None:DEe,Operator:Ci,Parameters:YM,Pulse:o0,QUARTER:Zl,RenderType:Hg,Renderer:mk,ResourceLoader:Mke,SECONDS:$c,SVGHandler:sAe,SVGRenderer:QX,SVGStringRenderer:vAe,Scenegraph:Jke,TIME_UNITS:YY,Transform:et,View:rDe,WEEK:ls,Warn:PEe,YEAR:oa,accessor:uu,accessorFields:Ma,accessorName:vo,array:wn,ascending:XT,bandwidthNRD:lK,bin:g2e,bootstrapCI:y2e,boundClip:RAe,boundContext:dk,boundItem:TU,boundMark:Yke,boundStroke:Mm,changeset:Nb,clampRange:WEe,codegenExpression:IIe,compare:LY,constant:Ua,cumulativeLogNormal:pK,cumulativeNormal:QM,cumulativeUniform:vK,dayofyear:_Se,debounce:FY,defaultLocale:ZY,definition:h2e,densityLogNormal:hK,densityNormal:uK,densityUniform:yK,domChild:as,domClear:yc,domCreate:zg,domFind:qX,dotbin:v2e,error:it,expressionFunction:zo,extend:tr,extent:Sh,extentIndex:GEe,falsy:wg,fastmap:xC,field:Nc,flush:YEe,font:_6,fontFamily:pk,fontSize:qh,format:CP,formatLocale:pO,formats:nK,hasOwnProperty:Dn,id:KT,identity:bl,inferType:n2e,inferTypes:r2e,ingest:Zr,inherits:It,inrange:pw,interpolate:xX,interpolateColors:m6,interpolateRange:mke,intersect:SAe,intersectBoxLine:mw,intersectPath:RX,intersectPoint:IX,intersectRule:Lke,isArray:cn,isBoolean:jY,isDate:r0,isFunction:nr,isIterable:KEe,isNumber:b0,isObject:Gn,isRegExp:BY,isString:Vr,isTuple:WM,key:zY,lerp:XEe,lineHeight:T0,loader:qM,locale:e2e,logger:MEe,lruCache:QEe,markup:XX,merge:JEe,mergeConfig:NM,multiLineOffset:zX,one:wC,pad:ZEe,panLinear:BEe,panLog:zEe,panPow:UEe,panSymlog:HEe,parse:ZOt,parseExpression:kIe,parseSelector:cDe,path:n6,pathCurves:TX,pathEqual:IAe,pathParse:xx,pathRectangle:Pke,pathRender:M2,pathSymbols:Dke,pathTrail:Oke,peek:Er,point:S6,projection:gQ,quantileLogNormal:mK,quantileNormal:JM,quantileUniform:bK,quantiles:sK,quantizeInterpolator:gke,quarter:qEe,quartiles:aK,get random(){return Lc},randomInteger:Yyt,randomKDE:dK,randomLCG:Gyt,randomLogNormal:w2e,randomMixture:x2e,randomNormal:cK,randomUniform:C2e,read:s2e,regressionConstant:wK,regressionExp:E2e,regressionLinear:xK,regressionLoess:k2e,regressionLog:_2e,regressionPoly:T2e,regressionPow:S2e,regressionQuad:CK,renderModule:T6,repeat:DE,resetDefaultLocale:V0t,resetSVGDefIds:LCt,responseType:o2e,runtimeContext:qIe,sampleCurve:e6,sampleLogNormal:fK,sampleNormal:XM,sampleUniform:gK,scale:Gr,sceneEqual:JX,sceneFromJSON:Xke,scenePickVisit:kO,sceneToJSON:Kke,sceneVisit:Qd,sceneZOrder:DX,scheme:CX,serializeXML:pAe,setHybridRendererOptions:OCt,setRandom:Vyt,span:QT,splitAccessPath:OM,stringValue:an,textMetrics:Lu,timeBin:BSe,timeFloor:ISe,timeFormatLocale:A2,timeInterval:SC,timeOffset:OSe,timeSequence:$Se,timeUnitSpecifier:CSe,timeUnits:KY,toBoolean:UY,toDate:HY,toNumber:Pa,toSet:Kd,toString:qY,transform:p2e,transforms:mx,truncate:eSe,truthy:Mc,tupleid:mn,typeParsers:uU,utcFloor:DSe,utcInterval:TC,utcOffset:NSe,utcSequence:LSe,utcdayofyear:TSe,utcquarter:VEe,utcweek:kSe,version:tNt,visitArray:Tg,week:ESe,writeConfig:MM,zero:Mg,zoomLinear:NY,zoomLog:MY,zoomPow:lO,zoomSymlog:$Y},Symbol.toStringTag,{value:"Module"})),rNt="5.23.0",iNt={version:rNt};function MC(e,t,n){return e.fields=t||[],e.fname=n,e}function oNt(e){return e.length===1?sNt(e[0]):aNt(e)}const sNt=e=>function(t){return t[e]},aNt=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function C9(e){throw Error(e)}function Bb(e){const t=[],n=e.length;let r=null,i=0,o="",s,a,l;e=e+"";function u(){t.push(o+e.substring(s,a)),o="",s=a+1}for(s=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(s,a++),s=a;else if(l===r)u(),r=null,i=-1;else{if(r)continue;s===i&&l==='"'||s===i&&l==="'"?(s=a+1,r=l):l==="."&&!i?a>s?u():s=a+1:l==="["?(a>s&&u(),i=s=a+1):l==="]"&&(i||C9("Access path missing open bracket: "+e),i>0&&u(),i=0,s=a+1)}return i&&C9("Access path missing closing bracket: "+e),r&&C9("Access path missing closing quote: "+e),a>s&&(a++,u()),t}function lNt(e,t,n){const r=Bb(e);return e=r.length===1?r[0]:e,MC(oNt(r),[e],e)}lNt("id");const uNt=MC(e=>e,[],"identity");MC(()=>0,[],"zero");MC(()=>1,[],"one");MC(()=>!0,[],"true");MC(()=>!1,[],"false");function cNt(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const dNt=1,zDe=2,fNt=3,hNt=4;function pNt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:cNt,r=e;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=dNt&&n("error","ERROR",arguments),this},warn(){return r>=zDe&&n("warn","WARN",arguments),this},info(){return r>=fNt&&n("log","INFO",arguments),this},debug(){return r>=hNt&&n("log","DEBUG",arguments),this}}}var Yt=Array.isArray;function Lr(e){return e===Object(e)}const Zfe=e=>e!=="__proto__";function UDe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,i)=>{for(const o in i)if(o==="signals")r.signals=mNt(r.signals,i.signals);else{const s=o==="legend"?{layout:1}:o==="style"?!0:null;Q6(r,o,i[o],s)}return r},{})}function Q6(e,t,n,r){if(!Zfe(t))return;let i,o;if(Lr(n)&&!Yt(n)){o=Lr(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?Q6(o,i,n[i]):Zfe(i)&&(o[i]=n[i])}else e[t]=n}function mNt(e,t){if(e==null)return t;const n={},r=[];function i(o){n[o.name]||(n[o.name]=1,r.push(o))}return t.forEach(i),e.forEach(i),r}function $o(e){return e!=null?Yt(e)?e:[e]:[]}function gNt(e){return typeof e=="function"}function Wo(e,t){return Object.hasOwn(e,t)}function kk(e){return typeof e=="boolean"}function Ji(e){return typeof e=="number"}function Kn(e){return typeof e=="string"}function $r(e){return Yt(e)?"["+e.map($r)+"]":Lr(e)||Kn(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function _J(e){return bt(e,"or")}function EJ(e){return bt(e,"and")}function SJ(e){return bt(e,"not")}function WP(e,t){if(SJ(e))WP(e.not,t);else if(EJ(e))for(const n of e.and)WP(n,t);else if(_J(e))for(const n of e.or)WP(n,t);else t(e)}function jw(e,t){return SJ(e)?{not:jw(e.not,t)}:EJ(e)?{and:e.and.map(n=>jw(n,t))}:_J(e)?{or:e.or.map(n=>jw(n,t))}:t(e)}const qn=structuredClone;function HDe(e){throw new Error(e)}function Ix(e,t){const n={};for(const r of t)Wo(e,r)&&(n[r]=e[r]);return n}function Kl(e,t){const n={...e};for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>vi(e)).join(",")})`};function xr(e){if(Ji(e))return e;const t=Kn(e)?e:vi(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n}function IH(e){return e===!1||e===null}function pr(e,t){return e.includes(t)}function Dx(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function TJ(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function qDe(e,...t){for(const n of t)yNt(e,n??{});return e}function yNt(e,t){for(const n of vt(t))Q6(e,n,t[n],!0)}function ih(e,t){const n=[],r={};let i;for(const o of e)i=t(o),!(i in r)&&(r[i]=1,n.push(o));return n}function vNt(e,t){const n=vt(e),r=vt(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function VDe(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function kJ(e,t){for(const n of e)if(t.has(n))return!0;return!1}function DH(e){const t=new Set;for(const n of e){const i=Bb(n).map((s,a)=>a===0?s:`[${s}]`),o=i.map((s,a)=>i.slice(0,a+1).join(""));for(const s of o)t.add(s)}return t}function AJ(e,t){return e===void 0||t===void 0?!0:kJ(DH(e),DH(t))}function yi(e){return vt(e).length===0}const vt=Object.keys,sa=Object.values,I0=Object.entries;function Q2(e){return e===!0||e===!1}function Ki(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function MS(e,t){return SJ(e)?`!(${MS(e.not,t)})`:EJ(e)?`(${e.and.map(n=>MS(n,t)).join(") && (")})`:_J(e)?`(${e.or.map(n=>MS(n,t)).join(") || (")})`:t(e)}function xN(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&xN(e[n],t)&&delete e[n],yi(e)}function Ak(e){return e.charAt(0).toUpperCase()+e.substr(1)}function RJ(e,t="datum"){const n=Bb(e),r=[];for(let i=1;i<=n.length;i++){const o=`[${n.slice(0,i).map($r).join("][")}]`;r.push(`${t}${o}`)}return r.join(" && ")}function WDe(e,t="datum"){return`${t}[${$r(Bb(e).join("."))}]`}function ui(e){return`datum['${e.replaceAll("'","\\'")}']`}function bNt(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function jc(e){return`${Bb(e).map(bNt).join("\\.")}`}function ob(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function $C(e){return`${Bb(e).join(".")}`}function Px(e){return e?Bb(e).length:0}function Lo(...e){return e.find(t=>t!==void 0)}let GDe=42;function YDe(e){const t=++GDe;return e?String(e)+t:t}function wNt(){GDe=42}function KDe(e){return XDe(e)?e:`__${e}`}function XDe(e){return e.startsWith("__")}function J2(e){if(e!==void 0)return(e%360+360)%360}function J6(e){return Ji(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}const ehe=Object.getPrototypeOf(structuredClone({}));function Pu(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor.name!==t.constructor.name)return!1;let n,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Pu(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const o of e.entries())if(!t.has(o[0]))return!1;for(const o of e.entries())if(!Pu(o[1],t.get(o[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const o of e.entries())if(!t.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==ehe.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==ehe.toString)return e.toString()===t.toString();const i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!Pu(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function vi(e){const t=[];return(function n(r){if(r&&r.toJSON&&typeof r.toJSON=="function"&&(r=r.toJSON()),r===void 0)return;if(typeof r=="number")return isFinite(r)?""+r:"null";if(typeof r!="object")return JSON.stringify(r);let i,o;if(Array.isArray(r)){for(o="[",i=0;i<r.length;i++)i&&(o+=","),o+=n(r[i])||"null";return o+"]"}if(r===null)return"null";if(t.includes(r))throw new TypeError("Converting circular structure to JSON");const s=t.push(r)-1,a=Object.keys(r).sort();for(o="",i=0;i<a.length;i++){const l=a[i],u=n(r[l]);u&&(o&&(o+=","),o+=JSON.stringify(l)+":"+u)}return t.splice(s,1),`{${o}}`})(e)}function bt(e,t){return Lr(e)&&Wo(e,t)&&e[t]!==void 0}const Xp="row",Qp="column",Z6="facet",Zi="x",Fs="y",yf="x2",Yh="y2",J0="xOffset",LC="yOffset",vf="radius",Lm="radius2",Xc="theta",Fm="theta2",bf="latitude",wf="longitude",xf="latitude2",Bc="longitude2",Z0="time",nu="color",Kh="fill",Xh="stroke",ru="shape",jm="size",zb="angle",Bm="opacity",ey="fillOpacity",ty="strokeOpacity",ny="strokeWidth",ry="strokeDash",Rk="text",Ox="order",Ik="detail",e5="key",sb="tooltip",t5="href",n5="url",r5="description",xNt={x:1,y:1,x2:1,y2:1},QDe={theta:1,theta2:1,radius:1,radius2:1};function JDe(e){return Wo(QDe,e)}const IJ={longitude:1,longitude2:1,latitude:1,latitude2:1};function ZDe(e){switch(e){case bf:return"y";case xf:return"y2";case wf:return"x";case Bc:return"x2"}}function ePe(e){return Wo(IJ,e)}const CNt=vt(IJ),DJ={...xNt,...QDe,...IJ,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,time:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function Bw(e){return e===nu||e===Kh||e===Xh}const tPe={row:1,column:1,facet:1},Sc=vt(tPe),PJ={...DJ,...tPe},_Nt=vt(PJ),{order:wrn,detail:xrn,tooltip:Crn,...ENt}=PJ,{row:_rn,column:Ern,facet:Srn,...SNt}=ENt;function TNt(e){return Wo(SNt,e)}function nPe(e){return Wo(PJ,e)}const kNt=[yf,Yh,xf,Bc,Fm,Lm];function rPe(e){return Ub(e)!==e}function Ub(e){switch(e){case yf:return Zi;case Yh:return Fs;case xf:return bf;case Bc:return wf;case Fm:return Xc;case Lm:return vf}return e}function D0(e){if(JDe(e))switch(e){case Xc:return"startAngle";case Fm:return"endAngle";case vf:return"outerRadius";case Lm:return"innerRadius"}return e}function Qh(e){switch(e){case Zi:return yf;case Fs:return Yh;case bf:return xf;case wf:return Bc;case Xc:return Fm;case vf:return Lm}}function iu(e){switch(e){case Zi:case yf:return"width";case Fs:case Yh:return"height"}}function iPe(e){switch(e){case Zi:return"xOffset";case Fs:return"yOffset";case yf:return"x2Offset";case Yh:return"y2Offset";case Xc:return"thetaOffset";case vf:return"radiusOffset";case Fm:return"theta2Offset";case Lm:return"radius2Offset"}}function OJ(e){switch(e){case Zi:return"xOffset";case Fs:return"yOffset"}}function ANt(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const RNt=vt(DJ),{x:Trn,y:krn,x2:Arn,y2:Rrn,xOffset:Irn,yOffset:Drn,latitude:Prn,longitude:Orn,latitude2:Nrn,longitude2:Mrn,theta:$rn,theta2:Lrn,radius:Frn,radius2:jrn,...NJ}=DJ,INt=vt(NJ),MJ={x:1,y:1},zm=vt(MJ);function Fo(e){return Wo(MJ,e)}const $J={theta:1,radius:1},DNt=vt($J);function i5(e){return e==="width"?Zi:Fs}const oPe={xOffset:1,yOffset:1};function Dk(e){return Wo(oPe,e)}const PNt={time:1};function _9(e){return e in PNt}const{text:Brn,tooltip:zrn,href:Urn,url:Hrn,description:qrn,detail:Vrn,key:Wrn,order:Grn,...sPe}=NJ,ONt=vt(sPe);function NNt(e){return Wo(NJ,e)}function MNt(e){switch(e){case nu:case Kh:case Xh:case jm:case ru:case Bm:case ny:case ry:return!0;case ey:case ty:case zb:case Z0:return!1}}const aPe={...MJ,...$J,...oPe,...sPe},LJ=vt(aPe);function Jh(e){return Wo(aPe,e)}function $Nt(e,t){return FNt(e)[t]}const lPe={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:Yrn,...LNt}=lPe;function FNt(e){switch(e){case nu:case Kh:case Xh:case r5:case Ik:case e5:case sb:case t5:case Ox:case Bm:case ey:case ty:case ny:case Z6:case Xp:case Qp:return lPe;case Zi:case Fs:case J0:case LC:case bf:case wf:case Z0:return LNt;case yf:case Yh:case xf:case Bc:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case jm:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case ry:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case ru:return{point:"always",geoshape:"always"};case Rk:return{text:"always"};case zb:return{point:"always",square:"always",text:"always"};case n5:return{image:"always"};case Xc:return{text:"always",arc:"always"};case vf:return{text:"always",arc:"always"};case Fm:case Lm:return{arc:"always"}}}function E9(e){switch(e){case Zi:case Fs:case Xc:case vf:case J0:case LC:case jm:case zb:case ny:case Bm:case ey:case ty:case Z0:case yf:case Yh:case Fm:case Lm:return;case Z6:case Xp:case Qp:case ru:case ry:case Rk:case sb:case t5:case n5:case r5:return"discrete";case nu:case Kh:case Xh:return"flexible";case bf:case wf:case xf:case Bc:case Ik:case e5:case Ox:return}}const jNt={argmax:1,argmin:1,average:1,count:1,distinct:1,exponential:1,exponentialb:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},BNt={count:1,min:1,max:1};function mm(e){return bt(e,"argmin")}function iy(e){return bt(e,"argmax")}function FJ(e){return Kn(e)&&Wo(jNt,e)}const zNt=new Set(["count","valid","missing","distinct"]);function o5(e){return Kn(e)&&zNt.has(e)}function UNt(e){return Kn(e)&&pr(["min","max"],e)}const HNt=new Set(["count","sum","distinct","valid","missing"]),qNt=new Set(["mean","average","median","q1","q3","min","max"]);function uPe(e){return kk(e)&&(e=y5(e,void 0)),"bin"+vt(e).map(t=>s5(e[t])?Ki(`_${t}_${I0(e[t])}`):Ki(`_${t}_${e[t]}`)).join("")}function Pi(e){return e===!0||Hb(e)&&!e.binned}function Xs(e){return e==="binned"||Hb(e)&&e.binned===!0}function Hb(e){return Lr(e)}function s5(e){return bt(e,"param")}function the(e){switch(e){case Xp:case Qp:case jm:case nu:case Kh:case Xh:case ny:case Bm:case ey:case ty:case ru:return 6;case ry:return 4;default:return 10}}function Pk(e){return bt(e,"expr")}function Qs(e,{level:t}={level:0}){const n=vt(e||{}),r={};for(const i of n)r[i]=t===0?Au(e[i]):Qs(e[i],{level:t-1});return r}function cPe(e){const{anchor:t,frame:n,offset:r,orient:i,angle:o,limit:s,color:a,subtitleColor:l,subtitleFont:u,subtitleFontSize:c,subtitleFontStyle:d,subtitleFontWeight:f,subtitleLineHeight:h,subtitlePadding:m,...p}=e,g={...p,...a?{fill:a}:{}},v={...t?{anchor:t}:{},...n?{frame:n}:{},...r?{offset:r}:{},...i?{orient:i}:{},...o!==void 0?{angle:o}:{},...s!==void 0?{limit:s}:{}},y={...l?{subtitleColor:l}:{},...u?{subtitleFont:u}:{},...c?{subtitleFontSize:c}:{},...d?{subtitleFontStyle:d}:{},...f?{subtitleFontWeight:f}:{},...h?{subtitleLineHeight:h}:{},...m?{subtitlePadding:m}:{}},w=Ix(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:g,subtitleMarkConfig:w,nonMarkTitleProperties:v,subtitle:y}}function Ig(e){return Kn(e)||Yt(e)&&Kn(e[0])}function tn(e){return bt(e,"signal")}function qb(e){return bt(e,"step")}function VNt(e){return Yt(e)?!1:bt(e,"fields")&&!bt(e,"data")}function WNt(e){return Yt(e)?!1:bt(e,"fields")&&bt(e,"data")}function Fp(e){return Yt(e)?!1:bt(e,"field")&&bt(e,"data")}const GNt={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},YNt=vt(GNt),KNt={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},PH=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function dPe(e){const t=Yt(e.condition)?e.condition.map(nhe):nhe(e.condition);return{...Au(e),condition:t}}function Au(e){if(Pk(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function nhe(e){if(Pk(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function zi(e){if(Pk(e)){const{expr:t,...n}=e;return{signal:t,...n}}return tn(e)?e:e!==void 0?{value:e}:void 0}function XNt(e){return tn(e)?e.signal:$r(e)}function rhe(e){return tn(e)?e.signal:$r(e.value)}function Pd(e){return tn(e)?e.signal:e==null?null:$r(e)}function QNt(e,t,n){for(const r of n){const i=Dh(r,t.markDef,t.config);i!==void 0&&(e[r]=zi(i))}return e}function fPe(e){return[].concat(e.type,e.style??[])}function gi(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:o}=r;return i&&bt(t,i)?t[i]:t[e]!==void 0?t[e]:o&&(!i||i===e)?void 0:Dh(e,t,n,r)}function Dh(e,t,n,{vgChannel:r}={}){const i=OH(e,t,n.style);return Lo(r?i:void 0,i,r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function OH(e,t,n){return hPe(e,fPe(t),n)}function hPe(e,t,n){t=$o(t);let r;for(const i of t){const o=n[i];bt(o,e)&&(r=o[e])}return r}function pPe(e,t){return $o(e).reduce((n,r)=>(n.field.push(Ot(r,t)),n.order.push(r.sort??"ascending"),n),{field:[],order:[]})}function mPe(e,t){const n=[...e];return t.forEach(r=>{for(const i of n)if(Pu(i,r))return;n.push(r)}),n}function gPe(e,t){return Pu(e,t)||!t?e:e?[...$o(e),...$o(t)].join(", "):t}function yPe(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((Ig(n)||tn(n))&&(Ig(r)||tn(r)))return{explicit:e.explicit,value:gPe(n,r)};if(Ig(n)||tn(n))return{explicit:e.explicit,value:n};if(Ig(r)||tn(r))return{explicit:e.explicit,value:r};if(!Ig(n)&&!tn(n)&&!Ig(r)&&!tn(r))return{explicit:e.explicit,value:mPe(n,r)};throw new Error("It should never reach here")}function jJ(e){return`Invalid specification ${vi(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const JNt='Autosize "fit" only works for single views and layered views.';function ihe(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function ohe(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function she(e){return e?`Dropping "fit-${e}" because spec has discrete ${iu(e)}.`:'Dropping "fit" because spec has discrete size.'}function BJ(e){return`Unknown field for ${e}. Cannot calculate view size.`}function ahe(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function ZNt(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function e4t(e){return`The "nearest" transform is not supported for ${e} marks.`}function vPe(e){return`Selection not supported for ${e} yet.`}function t4t(e){return`Cannot find a selection named "${e}".`}const n4t="Scale bindings are currently only supported for scales with unbinned, continuous domains.",r4t="Sequntial scales are deprecated. The available quantitative scale type values are linear, log, pow, sqrt, symlog, time and utc",i4t="Legend bindings are only supported for selections over an individual field or encoding channel.";function o4t(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function s4t(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const a4t="The same selection must be used to override scale domains in a layered view.",l4t='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function u4t(e){return`Unknown repeated value "${e}".`}function lhe(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const c4t="Multiple timer selections in one unit spec are not supported. Ignoring all but the first.",zJ="Animation involving facet, layer, or concat is currently unsupported.";function d4t(e){return`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${an(e)}.`}function f4t(e,t,n,r){return(e.length?"Multiple ":"No ")+`matching ${an(t)} encoding found for selection ${an(n.param)}. Using "field": ${an(r)}.`}const h4t="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function p4t(e){return`Unrecognized parse "${e}".`}function uhe(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const m4t="Attempt to add the same child twice.";function g4t(e){return`Ignoring an invalid transform: ${vi(e)}.`}const y4t='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function che(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function v4t(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${vi(t)} is overridden by a child projection ${vi(n)}.`}const b4t="Arc marks uses theta channel rather than angle, replacing angle with theta.";function w4t(e){return`${e}Offset dropped because ${e} is continuous`}function x4t(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${vi(n)}}.`}function bPe(e){return`Invalid field type "${e}".`}function C4t(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function _4t(e){return`Invalid aggregation operator "${e}".`}function wPe(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function E4t(e){return`Position range does not support relative band size for ${e}.`}function NH(e,t){return`Dropping ${vi(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const S4t="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function a5(e,t,n){return`${e} dropped as it is incompatible with "${t}".`}function T4t(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function k4t(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function A4t(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function R4t(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function S9(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function I4t(e){return`The ${e} for range marks cannot be an expression`}function D4t(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function P4t(e,t){return`Specified orient "${e}" overridden with "${t}".`}function O4t(e){return`Cannot use the scale property "${e}" with non-color channel.`}function N4t(e){return`Cannot use the relative band size with ${e} scale.`}function M4t(e){return`Using unaggregated domain with raw field has no effect (${vi(e)}).`}function $4t(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function L4t(e){return`Unaggregated domain is currently unsupported for log scale (${vi(e)}).`}function F4t(e){return`Cannot apply size to non-oriented mark "${e}".`}function j4t(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function B4t(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function xPe(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function CPe(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function z4t(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${vi(n)} and ${vi(r)}). Using ${vi(n)}.`}function U4t(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${vi(n)} and ${vi(r)}). Using the union of the two domains.`}function H4t(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function q4t(e){return`Dropping sort property ${vi(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const dhe="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",V4t="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",W4t="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",G4t="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function Y4t(e){return`Cannot stack "${e}" if there is already "${e}2".`}function K4t(e){return`Stack is applied to a non-linear scale (${e}).`}function X4t(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function CN(e,t){return`Invalid ${e}: ${vi(t)}.`}function Q4t(e){return`Dropping day from datetime ${vi(e)} as day cannot be combined with other units.`}function J4t(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function Z4t(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function eMt(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function fhe(e){return`1D error band does not support ${e}.`}function _Pe(e){return`Channel ${e} is required for "binned" bin.`}function tMt(e){return`Channel ${e} should not be used with "binned" bin.`}function nMt(e){return`Domain for ${e} is required for threshold scale.`}const EPe=pNt(zDe);let ab=EPe;function rMt(e){return ab=e,ab}function iMt(){return ab=EPe,ab}function UJ(...e){ab.error(...e)}function Ct(...e){ab.warn(...e)}function oMt(...e){ab.debug(...e)}function Vb(e){if(e&&Lr(e)){for(const t of qJ)if(bt(e,t))return!0}return!1}const SPe=["january","february","march","april","may","june","july","august","september","october","november","december"],sMt=SPe.map(e=>e.substr(0,3)),TPe=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],aMt=TPe.map(e=>e.substr(0,3));function lMt(e){if(J6(e)&&(e=+e),Ji(e))return e>4&&Ct(CN("quarter",e)),e-1;throw new Error(CN("quarter",e))}function uMt(e){if(J6(e)&&(e=+e),Ji(e))return e-1;{const t=e.toLowerCase(),n=SPe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=sMt.indexOf(r);if(i!==-1)return i;throw new Error(CN("month",e))}}function cMt(e){if(J6(e)&&(e=+e),Ji(e))return e%7;{const t=e.toLowerCase(),n=TPe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=aMt.indexOf(r);if(i!==-1)return i;throw new Error(CN("day",e))}}function HJ(e,t){const n=[];if(t&&e.day!==void 0&&vt(e).length>1&&(Ct(Q4t(e)),e=qn(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?uMt(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?lMt(e.quarter):e.quarter;n.push(Ji(r)?r*3:`${r}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?cMt(e.day):e.day;n.push(Ji(r)?r+1:`${r}+1`)}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const i=e[r];n.push(typeof i>"u"?0:i)}return n}function lb(e){const n=HJ(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function dMt(e){const n=HJ(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function fMt(e){const t=HJ(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const kPe={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},qJ=vt(kPe);function hMt(e){return Dn(kPe,e)}function Wb(e){return Lr(e)?e.binned:APe(e)}function APe(e){return e&&e.startsWith("binned")}function VJ(e){return e.startsWith("utc")}function pMt(e){return e.substring(3)}const mMt={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function l5(e){return qJ.filter(t=>IPe(e,t))}function RPe(e){const t=l5(e);return t[t.length-1]}function IPe(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function gMt(e,t,{end:n}={end:!1}){const r=RJ(t),i=VJ(e)?"utc":"";function o(l){return l==="quarter"?`(${i}quarter(${r})-1)`:`${i}${l}(${r})`}let s;const a={};for(const l of qJ)IPe(e,l)&&(a[l]=o(l),s=l);return n&&(a[s]+="+1"),dMt(a)}function DPe(e){if(!e)return;const t=l5(e);return`timeUnitSpecifier(${vi(t)}, ${vi(mMt)})`}function yMt(e,t,n){if(!e)return;const r=DPe(e);return`${n||VJ(e)?"utc":"time"}Format(${t}, ${r})`}function Ns(e){if(!e)return;let t;return Kn(e)?APe(e)?t={unit:e.substring(6),binned:!0}:t={unit:e}:Lr(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),VJ(t.unit)&&(t.utc=!0,t.unit=pMt(t.unit)),t}function vMt(e){const{utc:t,...n}=Ns(e);return n.unit?(t?"utc":"")+vt(n).map(r=>Ki(`${r==="unit"?"":`_${r}_`}${n[r]}`)).join(""):(t?"utc":"")+"timeunit"+vt(n).map(r=>Ki(`_${r}_${n[r]}`)).join("")}function PPe(e,t=n=>n){const n=Ns(e),r=RPe(n.unit);if(r&&r!=="day"){const i={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:o,part:s}=OPe(r,n.step),a={...i,[s]:+i[s]+o};return`${t(lb(a))} - ${t(lb(i))}`}}const bMt={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function wMt(e){return Dn(bMt,e)}function OPe(e,t=1){if(wMt(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:t*3};case"week":return{part:"date",step:t*7}}}function xMt(e){return bt(e,"param")}function WJ(e){return!!e?.field&&e.equal!==void 0}function GJ(e){return!!e?.field&&e.lt!==void 0}function YJ(e){return!!e?.field&&e.lte!==void 0}function KJ(e){return!!e?.field&&e.gt!==void 0}function XJ(e){return!!e?.field&&e.gte!==void 0}function QJ(e){if(e?.field){if(Yt(e.range)&&e.range.length===2)return!0;if(tn(e.range))return!0}return!1}function JJ(e){return!!e?.field&&(Yt(e.oneOf)||Yt(e.in))}function CMt(e){return!!e?.field&&e.valid!==void 0}function NPe(e){return JJ(e)||WJ(e)||QJ(e)||GJ(e)||KJ(e)||YJ(e)||XJ(e)}function zf(e,t){return v5(e,{timeUnit:t,wrapTime:!0})}function _Mt(e,t){return e.map(n=>zf(n,t))}function MPe(e,t=!0){const{field:n}=e,r=Ns(e.timeUnit),{unit:i,binned:o}=r||{},s=Ot(e,{expr:"datum"}),a=i?`time(${o?s:gMt(i,n)})`:s;if(WJ(e))return`${a}===${zf(e.equal,i)}`;if(GJ(e)){const l=e.lt;return`${a}<${zf(l,i)}`}else if(KJ(e)){const l=e.gt;return`${a}>${zf(l,i)}`}else if(YJ(e)){const l=e.lte;return`${a}<=${zf(l,i)}`}else if(XJ(e)){const l=e.gte;return`${a}>=${zf(l,i)}`}else{if(JJ(e))return`indexof([${_Mt(e.oneOf,i).join(",")}], ${a}) !== -1`;if(CMt(e))return u5(a,e.valid);if(QJ(e)){const{range:l}=Qs(e),u=tn(l)?{signal:`${l.signal}[0]`}:l[0],c=tn(l)?{signal:`${l.signal}[1]`}:l[1];if(u!==null&&c!==null&&t)return"inrange("+a+", ["+zf(u,i)+", "+zf(c,i)+"])";const d=[];return u!==null&&d.push(`${a} >= ${zf(u,i)}`),c!==null&&d.push(`${a} <= ${zf(c,i)}`),d.length>0?d.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${vi(e)}`)}function u5(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function EMt(e){return NPe(e)&&e.timeUnit?{...e,timeUnit:Ns(e.timeUnit)}:e}const Ok={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function SMt(e){return e==="quantitative"||e==="temporal"}function $Pe(e){return e==="ordinal"||e==="nominal"}const ub=Ok.quantitative,ZJ=Ok.ordinal,Nx=Ok.temporal,eZ=Ok.nominal,FC=Ok.geojson;function TMt(e){if(e)switch(e=e.toLowerCase(),e){case"q":case ub:return"quantitative";case"t":case Nx:return"temporal";case"o":case ZJ:return"ordinal";case"n":case eZ:return"nominal";case FC:return"geojson"}}const Zs={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",TIME:"time",UTC:"utc",POINT:"point",BAND:"band"},MH={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function kMt(e,t){const n=MH[e],r=MH[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const AMt={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function hhe(e){return AMt[e]}const LPe=new Set(["linear","log","pow","sqrt","symlog"]),FPe=new Set([...LPe,"time","utc"]);function jPe(e){return LPe.has(e)}const BPe=new Set(["quantile","quantize","threshold"]),RMt=new Set([...FPe,...BPe,"sequential","identity"]),IMt=new Set(["ordinal","bin-ordinal","point","band"]);function Ms(e){return IMt.has(e)}function Jd(e){return RMt.has(e)}function oh(e){return FPe.has(e)}function Mx(e){return BPe.has(e)}const DMt={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,tickBandPaddingInner:.25,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:4,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0,framesPerSecond:2,animationDuration:5};function PMt(e){return!Kn(e)&&bt(e,"name")}function zPe(e){return bt(e,"param")}function OMt(e){return bt(e,"unionWith")}function NMt(e){return Lr(e)&&"field"in e}const MMt={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:Krn,domain:Xrn,range:Qrn,rangeMax:Jrn,rangeMin:Zrn,scheme:ein,...$Mt}=MMt,LMt=vt($Mt);function $H(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return oh(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return oh(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return oh(e);case"nice":return oh(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return Jd(e)&&!pr(["log","time","utc","threshold","quantile"],e)}}function UPe(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return Bw(e)?void 0:O4t(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function FMt(e,t){return pr([ZJ,eZ],t)?e===void 0||Ms(e):t===Nx?pr([Zs.TIME,Zs.UTC,void 0],e):t===ub?jPe(e)||Mx(e)||e===void 0:!0}function jMt(e,t,n=!1){if(!Jh(e))return!1;switch(e){case Zi:case Fs:case J0:case LC:case Xc:case vf:return oh(t)||t==="band"?!0:t==="point"?!n:!1;case Z0:return pr(["linear","band"],t);case jm:case ny:case Bm:case ey:case ty:case zb:return oh(t)||Mx(t)||pr(["band","point","ordinal"],t);case nu:case Kh:case Xh:return t!=="band";case ry:case ru:return t==="ordinal"||Mx(t)}}function BMt(e){return Lr(e)&&"value"in e}const kl={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},HPe=kl.arc,c5=kl.area,d5=kl.bar,zMt=kl.image,f5=kl.line,h5=kl.point,UMt=kl.rect,_N=kl.rule,qPe=kl.text,tZ=kl.tick,HMt=kl.trail,nZ=kl.circle,rZ=kl.square,VPe=kl.geoshape;function oy(e){return["line","area","trail"].includes(e)}function Z2(e){return["rect","bar","image","arc","tick"].includes(e)}const qMt=new Set(vt(kl));function Ph(e){return bt(e,"type")}const VMt=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],WMt=["fill","fillOpacity"],GMt=[...VMt,...WMt],YMt={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},phe=vt(YMt),T9=["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],KMt={area:["line","point"],bar:T9,rect:T9,line:["point"],tick:["bandSize","thickness",...T9]},XMt={color:"#4c78a8",invalid:"break-paths-show-path-domains",timeUnitBandSize:1},QMt={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},WPe=vt(QMt);function cb(e){return bt(e,"band")}const JMt={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},ZMt=5,iZ={binSpacing:0,continuousBandSize:ZMt,minBandSize:.25,timeUnitBandPosition:.5},e6t={...iZ,binSpacing:1},t6t={...iZ,thickness:1};function n6t(e){return Ph(e)?e.type:e}function GPe(e,{isPath:t}){return e===void 0||e==="break-paths-show-path-domains"?t?"break-paths-show-domains":"filter":e===null?"show":e}function oZ({markDef:e,config:t,scaleChannel:n,scaleType:r,isCountAggregate:i}){if(!r||!Jd(r)||i)return"always-valid";const o=GPe(gi("invalid",e,t),{isPath:oy(e.type)});return t.scale?.invalid?.[n]!==void 0?"show":o}function r6t(e){return e==="break-paths-filter-domains"||e==="break-paths-show-domains"}function YPe({scaleName:e,scale:t,mode:n}){const r=`domain('${e}')`;if(!t||!e)return;const i=`${r}[0]`,o=`peek(${r})`,s=t.domainHasZero();return s==="definitely"?{scale:e,value:0}:s==="maybe"?{signal:`scale('${e}', inrange(0, ${r}) ? 0 : ${n==="zeroOrMin"?i:o})`}:{signal:`scale('${e}', ${n==="zeroOrMin"?i:o})`}}function KPe({scaleChannel:e,channelDef:t,scale:n,scaleName:r,markDef:i,config:o}){const s=n?.get("type"),a=ef(t),l=o5(a?.aggregate),u=oZ({scaleChannel:e,markDef:i,config:o,scaleType:s,isCountAggregate:l});if(a&&u==="show"){const c=o.scale.invalid?.[e]??"zero-or-min";return{test:u5(Ot(a,{expr:"datum"}),!1),...i6t(c,n,r)}}}function i6t(e,t,n){if(BMt(e)){const{value:r}=e;return tn(r)?{signal:r.signal}:{value:r}}return YPe({scale:t,scaleName:n,mode:"zeroOrMin"})}function sZ(e){const{channel:t,channelDef:n,markDef:r,scale:i,scaleName:o,config:s}=e,a=Ub(t),l=aZ(e),u=KPe({scaleChannel:a,channelDef:n,scale:i,scaleName:o,markDef:r,config:s});return u!==void 0?[u,l]:l}function o6t(e){const{datum:t}=e;return Vb(t)?lb(t):`${vi(t)}`}function Iv(e,t,n,r){const i={};if(t&&(i.scale=t),Zh(e)){const{datum:o}=e;Vb(o)?i.signal=lb(o):tn(o)?i.signal=o.signal:Pk(o)?i.signal=o.expr:i.value=o}else i.field=Ot(e,n);if(r){const{offset:o,band:s}=r;o&&(i.offset=o),s&&(i.band=s)}return i}function EN({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,endSuffix:o="end",bandPosition:s=.5}){const a=!tn(s)&&0<s&&s<1?"datum":void 0,l=Ot(t,{expr:a,suffix:i}),u=n!==void 0?Ot(n,{expr:a}):Ot(t,{suffix:o,expr:a}),c={};if(s===0||s===1){c.scale=e;const d=s===0?l:u;c.field=d}else{const d=tn(s)?`(1-${s.signal}) * ${l} + ${s.signal} * ${u}`:`${1-s} * ${l} + ${s} * ${u}`;c.signal=`scale("${e}", ${d})`}return r&&(c.offset=r),c}function s6t({scaleName:e,fieldDef:t}){const n=Ot(t,{expr:"datum"}),r=Ot(t,{expr:"datum",suffix:"end"});return`abs(scale("${e}", ${r}) - scale("${e}", ${n}))`}function aZ({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:s,stack:a,offset:l,defaultRef:u,bandPosition:c}){if(t){if(Wn(t)){const d=s?.get("type");if(Cl(t)){c??(c=P0({fieldDef:t,fieldDef2:n,markDef:r,config:i}));const{bin:f,timeUnit:h,type:m}=t;if(Pi(f)||c&&h&&m===Nx)return a?.impute?Iv(t,o,{binSuffix:"mid"},{offset:l}):c&&!Ms(d)?EN({scaleName:o,fieldOrDatumDef:t,bandPosition:c,offset:l}):Iv(t,o,Fk(t,e)?{binSuffix:"range"}:{},{offset:l});if(Xs(f)){if(Et(n))return EN({scaleName:o,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:c,offset:l});Ct(_Pe(e===Zi?yf:Yh))}}return Iv(t,o,Ms(d)?{binSuffix:"range"}:{},{offset:l,band:d==="band"?c??t.bandPosition??.5:void 0})}else if(Zd(t)){const d=t.value,f=l?{offset:l}:{};return{...$S(e,d),...f}}}return gNt(u)&&(u=u()),u&&{...u,...l?{offset:l}:{}}}function $S(e,t){return pr(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:pr(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:zi(t)}function db(e){return e&&e!=="number"&&e!=="time"}function XPe(e,t,n){return`${e}(${t}${n?`, ${vi(n)}`:""})`}const a6t="  ";function lZ({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o}){if(db(n))return Od({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:o});const s=QPe(e,r,i),a=$x(e);if(t===void 0&&n===void 0&&o.customFormatTypes){if(a==="quantitative"){if(i&&o.normalizedNumberFormatType)return Od({fieldOrDatumDef:e,format:o.normalizedNumberFormat,formatType:o.normalizedNumberFormatType,expr:r,config:o});if(o.numberFormatType)return Od({fieldOrDatumDef:e,format:o.numberFormat,formatType:o.numberFormatType,expr:r,config:o})}if(a==="temporal"&&o.timeFormatType&&Et(e)&&e.timeUnit===void 0)return Od({fieldOrDatumDef:e,format:o.timeFormat,formatType:o.timeFormatType,expr:r,config:o})}if(Fx(e)){const l=u6t({field:s,timeUnit:Et(e)?Ns(e.timeUnit)?.unit:void 0,format:t,formatType:o.timeFormatType,rawTimeFormat:o.timeFormat,isUTCScale:Gb(e)&&e.scale?.type===Zs.UTC});return l?{signal:l}:void 0}if(t=LH({type:a,specifiedFormat:t,config:o,normalizeStack:i}),Et(e)&&Pi(e.bin)){const l=Ot(e,{expr:r,binSuffix:"end"});return{signal:Nk(s,l,t,n,o)}}else return t||$x(e)==="quantitative"?{signal:`${e3e(s,t)}`}:{signal:`isValid(${s}) ? ${s} : ""+${s}`}}function QPe(e,t,n){return Et(e)?n?`${Ot(e,{expr:t,suffix:"end"})}-${Ot(e,{expr:t,suffix:"start"})}`:Ot(e,{expr:t}):o6t(e)}function Od({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o,field:s}){if(s??(s=QPe(e,r,i)),s!=="datum.value"&&Et(e)&&Pi(e.bin)){const a=Ot(e,{expr:r,binSuffix:"end"});return{signal:Nk(s,a,t,n,o)}}return{signal:XPe(n,s,t)}}function JPe(e,t,n,r,i,o){if(!(Kn(r)&&db(r))&&!(n===void 0&&r===void 0&&i.customFormatTypes&&$x(e)==="quantitative"&&(i.normalizedNumberFormatType&&Lx(e)&&e.stack==="normalize"||i.numberFormatType))){if(Lx(e)&&e.stack==="normalize"&&i.normalizedNumberFormat)return LH({type:"quantitative",config:i,normalizeStack:!0});if(Fx(e)){const s=Et(e)?Ns(e.timeUnit)?.unit:void 0;return s===void 0&&i.customFormatTypes&&i.timeFormatType?void 0:l6t({specifiedFormat:n,timeUnit:s,config:i,omitTimeFormatConfig:o})}return LH({type:t,specifiedFormat:n,config:i})}}function ZPe(e,t,n){if(e&&(tn(e)||e==="number"||e==="time"))return e;if(Fx(t)&&n!=="time"&&n!=="utc")return Et(t)&&Ns(t?.timeUnit)?.utc?"utc":"time"}function LH({type:e,specifiedFormat:t,config:n,normalizeStack:r}){if(Kn(t))return t;if(e===ub)return r?n.normalizedNumberFormat:n.numberFormat}function l6t({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:r}){return e||(t?{signal:DPe(t)}:r?void 0:n.timeFormat)}function e3e(e,t){return`format(${e}, "${t||""}")`}function mhe(e,t,n,r){return db(n)?XPe(n,e,t):e3e(e,(Kn(t)?t:void 0)??r.numberFormat)}function Nk(e,t,n,r,i){if(n===void 0&&r===void 0&&i.customFormatTypes&&i.numberFormatType)return Nk(e,t,i.numberFormat,i.numberFormatType,i);const o=mhe(e,n,r,i),s=mhe(t,n,r,i);return`${u5(e,!1)} ? "null" : ${o} + "${a6t}" + ${s}`}function u6t({field:e,timeUnit:t,format:n,formatType:r,rawTimeFormat:i,isUTCScale:o}){return!t||n?!t&&r?`${r}(${e}, '${n}')`:(n=Kn(n)?n:i,`${o?"utc":"time"}Format(${e}, '${n}')`):yMt(t,e,o)}const p5="min",c6t={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function ghe(e){return Wo(c6t,e)}function d6t(e){return bt(e,"encoding")}function Jp(e){return e&&(e.op==="count"||bt(e,"field"))}function t3e(e){return e&&Yt(e)}function Mk(e){return bt(e,"row")||bt(e,"column")}function uZ(e){return bt(e,"header")}function m5(e){return bt(e,"facet")}function f6t(e){return bt(e,"param")}function h6t(e){return!Kn(e)&&bt(e,"repeat")}function yhe(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return{...n?{timeUnit:n}:{},...r?{bin:r}:{},...i?{aggregate:i}:{},field:t}}function cZ(e){return bt(e,"sort")}function P0({fieldDef:e,fieldDef2:t,markDef:n,config:r}){if(Wn(e)&&e.bandPosition!==void 0)return e.bandPosition;if(Et(e)){const{timeUnit:i,bin:o}=e;if(i&&!t)return Dh("timeUnitBandPosition",n,r);if(Pi(o))return .5}}function n3e({channel:e,fieldDef:t,fieldDef2:n,markDef:r,config:i,scaleType:o,useVlSizeChannel:s}){const a=iu(e),l=gi(s?"size":a,r,i,{vgChannel:a});if(l!==void 0)return l;if(Et(t)){const{timeUnit:u,bin:c}=t;if(u&&!n)return{band:Dh("timeUnitBandSize",r,i)};if(Pi(c)&&!Ms(o))return{band:1}}if(Z2(r.type))return o?Ms(o)?i[r.type]?.discreteBandSize||{band:1}:i[r.type]?.continuousBandSize:i[r.type]?.discreteBandSize}function r3e(e,t,n,r){return Pi(e.bin)||e.timeUnit&&Cl(e)&&e.type==="temporal"?P0({fieldDef:e,fieldDef2:t,markDef:n,config:r})!==void 0:!1}function i3e(e){return bt(e,"sort")&&!bt(e,"field")}function $k(e){return bt(e,"condition")}function g5(e){const t=e?.condition;return!!t&&!Yt(t)&&Et(t)}function Lk(e){const t=e?.condition;return!!t&&!Yt(t)&&Wn(t)}function p6t(e){const t=e?.condition;return!!t&&(Yt(t)||Zd(t))}function Et(e){return bt(e,"field")||e?.aggregate==="count"}function $x(e){return e?.type}function Zh(e){return bt(e,"datum")}function Yg(e){return Cl(e)&&!TN(e)||SN(e)}function vhe(e){return Cl(e)&&e.type==="quantitative"&&!e.bin||SN(e)}function SN(e){return Zh(e)&&Ji(e.datum)}function Wn(e){return Et(e)||Zh(e)}function Cl(e){return e&&(bt(e,"field")||e.aggregate==="count")&&bt(e,"type")}function Zd(e){return bt(e,"value")}function Gb(e){return bt(e,"scale")||bt(e,"sort")}function Lx(e){return bt(e,"axis")||bt(e,"stack")||bt(e,"impute")}function o3e(e){return bt(e,"legend")}function s3e(e){return bt(e,"format")||bt(e,"formatType")}function m6t(e){return Kl(e,["legend","axis","header","scale"])}function g6t(e){return bt(e,"op")}function Ot(e,t={}){let n=e.field;const r=t.prefix;let i=t.suffix,o="";if(v6t(e))n=KDe("count");else{let s;if(!t.nofn)if(g6t(e))s=e.op;else{const{bin:a,aggregate:l,timeUnit:u}=e;Pi(a)?(s=uPe(a),i=(t.binSuffix??"")+(t.suffix??"")):l?iy(l)?(o=`["${n}"]`,n=`argmax_${l.argmax}`):mm(l)?(o=`["${n}"]`,n=`argmin_${l.argmin}`):s=String(l):u&&!Wb(u)&&(s=vMt(u),i=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}s&&(n=n?`${s}_${n}`:s)}return i&&(n=`${n}_${i}`),r&&(n=`${r}_${n}`),t.forAs?$C(n):t.expr?WDe(n,t.expr)+o:jc(n)+o}function TN(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return Et(e)&&!!e.bin;case"temporal":return!1}throw new Error(bPe(e.type))}function y6t(e){return Gb(e)&&Mx(e.scale?.type)}function v6t(e){return e.aggregate==="count"}function b6t(e,t){const{field:n,bin:r,timeUnit:i,aggregate:o}=e;if(o==="count")return t.countTitle;if(Pi(r))return`${n} (binned)`;if(i&&!Wb(i)){const s=Ns(i)?.unit;if(s)return`${n} (${l5(s).join("-")})`}else if(o)return iy(o)?`${n} for max ${o.argmax}`:mm(o)?`${n} for min ${o.argmin}`:`${Ak(o)} of ${n}`;return n}function w6t(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(iy(t))return`${i} for argmax(${t.argmax})`;if(mm(t))return`${i} for argmin(${t.argmin})`;const o=r&&!Wb(r)?Ns(r):void 0,s=t||o?.unit||o?.maxbins&&"timeunit"||Pi(n)&&"bin";return s?`${s.toUpperCase()}(${i})`:i}const a3e=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return w6t(e);default:return b6t(e,t)}};let l3e=a3e;function u3e(e){l3e=e}function x6t(){u3e(a3e)}function zw(e,t,{allowDisabling:n,includeDefault:r=!0}){const i=dZ(e)?.title;if(!Et(e))return i??e.title;const o=e,s=r?fZ(o,t):void 0;return n?Lo(i,o.title,s):i??o.title??s}function dZ(e){if(Lx(e)&&e.axis)return e.axis;if(o3e(e)&&e.legend)return e.legend;if(uZ(e)&&e.header)return e.header}function fZ(e,t){return l3e(e,t)}function kN(e){if(s3e(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}else{const t=dZ(e)??{},{format:n,formatType:r}=t;return{format:n,formatType:r}}}function C6t(e,t){switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(cZ(e)&&Yt(e.sort))return"ordinal";const{aggregate:n,bin:r,timeUnit:i}=e;if(i)return"temporal";if(r||n&&!iy(n)&&!mm(n))return"quantitative";if(Gb(e)&&e.scale?.type)switch(MH[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function ef(e){if(Et(e))return e;if(g5(e))return e.condition}function us(e){if(Wn(e))return e;if(Lk(e))return e.condition}function c3e(e,t,n,r={}){if(Kn(e)||Ji(e)||kk(e)){const i=Kn(e)?"string":Ji(e)?"number":"boolean";return Ct(x4t(t,i,e)),{value:e}}return Wn(e)?AN(e,t,n,r):Lk(e)?{...e,condition:AN(e.condition,t,n,r)}:e}function AN(e,t,n,r){if(s3e(e)){const{format:i,formatType:o,...s}=e;if(db(o)&&!n.customFormatTypes)return Ct(che(t)),AN(s,t,n,r)}else{const i=Lx(e)?"axis":o3e(e)?"legend":uZ(e)?"header":null;if(i&&e[i]){const{format:o,formatType:s,...a}=e[i];if(db(s)&&!n.customFormatTypes)return Ct(che(t)),AN({...e,[i]:a},t,n,r)}}return Et(e)?hZ(e,t,r):_6t(e)}function _6t(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=Ji(n)?"quantitative":Kn(n)?"nominal":Vb(n)?"temporal":void 0,{...e,type:t}}function hZ(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:i,bin:o,field:s}=e,a={...e};if(!n&&r&&!FJ(r)&&!iy(r)&&!mm(r)&&(Ct(_4t(r)),delete a.aggregate),i&&(a.timeUnit=Ns(i)),s&&(a.field=`${s}`),Pi(o)&&(a.bin=y5(o,t)),Xs(o)&&!Fo(t)&&Ct(tMt(t)),Cl(a)){const{type:l}=a,u=TMt(l);l!==u&&(a.type=u),l!=="quantitative"&&o5(r)&&(Ct(C4t(l,r)),a.type="quantitative")}else if(!rPe(t)){const l=C6t(a,t);a.type=l}if(Cl(a)){const{compatible:l,warning:u}=E6t(a,t)||{};l===!1&&Ct(u)}if(cZ(a)&&Kn(a.sort)){const{sort:l}=a;if(ghe(l))return{...a,sort:{encoding:l}};const u=l.substring(1);if(l.charAt(0)==="-"&&ghe(u))return{...a,sort:{encoding:u,order:"descending"}}}if(uZ(a)){const{header:l}=a;if(l){const{orient:u,...c}=l;if(u)return{...a,header:{...c,labelOrient:l.labelOrient||u,titleOrient:l.titleOrient||u}}}}return a}function y5(e,t){return kk(e)?{maxbins:the(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?{...e,maxbins:the(t)}:e}const H1={compatible:!0};function E6t(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case Xp:case Qp:case Z6:return TN(e)?H1:{compatible:!1,warning:k4t(t)};case Zi:case Fs:case J0:case LC:case nu:case Kh:case Xh:case Rk:case Ik:case e5:case sb:case t5:case n5:case zb:case Xc:case vf:case r5:return H1;case wf:case Bc:case bf:case xf:return n!==ub?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:H1;case Bm:case ey:case ty:case ny:case jm:case Fm:case Lm:case yf:case Yh:case Z0:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:H1;case ru:case ry:return!TN(e)&&!y6t(e)?{compatible:!1,warning:A4t(t)}:H1;case Ox:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:H1}}function Fx(e){const{formatType:t}=kN(e);return t==="time"||!t&&S6t(e)}function S6t(e){return e&&(e.type==="temporal"||Et(e)&&!!e.timeUnit)}function v5(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){const o=t&&Ns(t)?.unit;let s=o||n==="temporal",a;return Pk(e)?a=e.expr:tn(e)?a=e.signal:Vb(e)?(s=!0,a=lb(e)):(Kn(e)||Ji(e))&&s&&(a=`datetime(${vi(e)})`,hMt(o)&&(Ji(e)&&e<1e4||Kn(e)&&isNaN(Date.parse(e)))&&(a=lb({[o]:e}))),a?r&&s?`time(${a})`:a:i?void 0:vi(e)}function d3e(e,t){const{type:n}=e;return t.map(r=>{const i=Et(e)&&!Wb(e.timeUnit)?e.timeUnit:void 0,o=v5(r,{timeUnit:i,type:n,undefinedIfExprNotRequired:!0});return o!==void 0?{signal:o}:r})}function Fk(e,t){return Pi(e.bin)?Jh(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const bhe={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function jk(e){return e?.condition}const f3e=["domain","grid","labels","ticks","title"],T6t={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},h3e={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},k6t={...h3e,style:1,labelExpr:1,encoding:1};function whe(e){return Wo(k6t,e)}const A6t={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},p3e=vt(A6t);function Um(e){return bt(e,"mark")}class b5{constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return Um(t)?n6t(t.mark)===this.name:!1}}function Dv(e,t){const n=e&&e[t];return n?Yt(n)?Dx(n,r=>!!r.field):Et(n)||g5(n):!1}function m3e(e,t){const n=e&&e[t];return n?Yt(n)?Dx(n,r=>!!r.field):Et(n)||Zh(n)||Lk(n):!1}function g3e(e,t){if(Fo(t)){const n=e[t];if((Et(n)||Zh(n))&&($Pe(n.type)||Et(n)&&n.timeUnit)){const r=OJ(t);return m3e(e,r)}}return!1}function y3e(e){return Dx(_Nt,t=>{if(Dv(e,t)){const n=e[t];if(Yt(n))return Dx(n,r=>!!r.aggregate);{const r=ef(n);return r&&!!r.aggregate}}return!1})}function v3e(e,t){const n=[],r=[],i=[],o=[],s={};return pZ(e,(a,l)=>{if(Et(a)){const{field:u,aggregate:c,bin:d,timeUnit:f,...h}=a;if(c||f||d){const p=dZ(a)?.title;let g=Ot(a,{forAs:!0});const v={...p?[]:{title:zw(a,t,{allowDisabling:!0})},...h,field:g};if(c){let y;if(iy(c)?(y="argmax",g=Ot({op:"argmax",field:c.argmax},{forAs:!0}),v.field=`${g}.${u}`):mm(c)?(y="argmin",g=Ot({op:"argmin",field:c.argmin},{forAs:!0}),v.field=`${g}.${u}`):c!=="boxplot"&&c!=="errorbar"&&c!=="errorband"&&(y=c),y){const w={op:y,as:g};u&&(w.field=u),o.push(w)}}else if(n.push(g),Cl(a)&&Pi(d)){if(r.push({bin:d,field:u,as:g}),n.push(Ot(a,{binSuffix:"end"})),Fk(a,l)&&n.push(Ot(a,{binSuffix:"range"})),Fo(l)){const y={field:`${g}_end`};s[`${l}2`]=y}v.bin="binned",rPe(l)||(v.type=ub)}else if(f&&!Wb(f)){i.push({timeUnit:f,field:u,as:g});const y=Cl(a)&&a.type!==Nx&&"time";y&&(l===Rk||l===sb?v.formatType=y:NNt(l)?v.legend={formatType:y,...v.legend}:Fo(l)&&(v.axis={formatType:y,...v.axis}))}s[l]=v}else n.push(u),s[l]=e[l]}else s[l]=e[l]}),{bins:r,timeUnits:i,aggregate:o,groupby:n,encoding:s}}function R6t(e,t,n){const r=$Nt(t,n);if(r){if(r==="binned"){const i=e[t===yf?Zi:Fs];return!!(Et(i)&&Et(e[t])&&Xs(i.bin))}}else return!1;return!0}function I6t(e,t,n,r){const i={};for(const o of vt(e))nPe(o)||Ct(T4t(o));for(let o of RNt){if(!e[o])continue;const s=e[o];if(Dk(o)){const a=ANt(o),l=i[a];if(Et(l)&&SMt(l.type)&&Et(s)&&!l.timeUnit){Ct(w4t(a));continue}}if(o==="angle"&&t==="arc"&&!e.theta&&(Ct(b4t),o=Xc),!R6t(e,o,t)){Ct(a5(o,t));continue}if(o===jm&&t==="line"&&ef(e[o])?.aggregate){Ct(S4t);continue}if(o===nu&&(n?"fill"in e:"stroke"in e)){Ct(wPe("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(o===Ik||o===Ox&&!Yt(s)&&!Zd(s)||o===sb&&Yt(s)){if(s){if(o===Ox){const a=e[o];if(i3e(a)){i[o]=a;continue}}i[o]=$o(s).reduce((a,l)=>(Et(l)?a.push(hZ(l,o)):Ct(NH(l,o)),a),[])}}else{if(o===sb&&s===null)i[o]=null;else if(!Et(s)&&!Zh(s)&&!Zd(s)&&!$k(s)&&!tn(s)){Ct(NH(s,o));continue}i[o]=c3e(s,o,r)}}return i}function w5(e,t){const n={};for(const r of vt(e)){const i=c3e(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function D6t(e){const t=[];for(const n of vt(e))if(Dv(e,n)){const r=e[n],i=$o(r);for(const o of i)Et(o)?t.push(o):g5(o)&&t.push(o.condition)}return t}function pZ(e,t,n){if(e)for(const r of vt(e)){const i=e[r];if(Yt(i))for(const o of i)t.call(n,o,r);else t.call(n,i,r)}}function P6t(e,t,n,r){return e?vt(e).reduce((i,o)=>{const s=e[o];return Yt(s)?s.reduce((a,l)=>t.call(r,a,l,o),i):t.call(r,i,s,o)},n):n}function b3e(e,t){return vt(t).reduce((n,r)=>{switch(r){case Zi:case Fs:case t5:case r5:case n5:case yf:case Yh:case J0:case LC:case Xc:case Fm:case vf:case Lm:case Z0:case bf:case wf:case xf:case Bc:case Rk:case ru:case zb:case sb:return n;case Ox:if(e==="line"||e==="trail")return n;case Ik:case e5:{const i=t[r];if(Yt(i)||Et(i))for(const o of $o(i))o.aggregate||n.push(Ot(o,{}));return n}case jm:if(e==="trail")return n;case nu:case Kh:case Xh:case Bm:case ey:case ty:case ry:case ny:{const i=ef(t[r]);return i&&!i.aggregate&&n.push(Ot(i,{})),n}}},[])}function O6t(e){const{tooltip:t,...n}=e;if(!t)return{filteredEncoding:n};let r,i;if(Yt(t)){for(const o of t)o.aggregate?(r||(r=[]),r.push(o)):(i||(i=[]),i.push(o));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return Yt(i)&&i.length===1&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function FH(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map(({fieldPrefix:s,titlePrefix:a})=>{const l=r?` of ${mZ(t)}`:"";return{field:s+t.field,type:t.type,title:tn(a)?{signal:`${a}"${escape(l)}"`}:a+l}}),o=D6t(n).map(m6t);return{tooltip:[...i,...ih(o,xr)]}}function mZ(e){const{title:t,field:n}=e;return Lo(t,n)}function gZ(e,t,n,r,i){const{scale:o,axis:s}=n;return({partName:a,mark:l,positionPrefix:u,endPositionPrefix:c=void 0,extraEncoding:d={}})=>{const f=mZ(n);return w3e(e,a,i,{mark:l,encoding:{[t]:{field:`${u}_${n.field}`,type:n.type,...f!==void 0?{title:f}:{},...o!==void 0?{scale:o}:{},...s!==void 0?{axis:s}:{}},...Kn(c)?{[`${t}2`]:{field:`${c}_${n.field}`}}:{},...r,...d}})}}function w3e(e,t,n,r){const{clip:i,color:o,opacity:s}=e,a=e.type;return e[t]||e[t]===void 0&&n[t]?[{...r,mark:{...n[t],...i?{clip:i}:{},...o?{color:o}:{},...s?{opacity:s}:{},...Ph(r.mark)?r.mark:{type:r.mark},style:`${a}-${String(t)}`,...kk(e[t])?{}:e[t]}}]:[]}function x3e(e,t,n){const{encoding:r}=e,i=t==="vertical"?"y":"x",o=r[i],s=r[`${i}2`],a=r[`${i}Error`],l=r[`${i}Error2`];return{continuousAxisChannelDef:oI(o,n),continuousAxisChannelDef2:oI(s,n),continuousAxisChannelDefError:oI(a,n),continuousAxisChannelDefError2:oI(l,n),continuousAxis:i}}function oI(e,t){if(e?.aggregate){const{aggregate:n,...r}=e;return n!==t&&Ct(eMt(n,t)),r}else return e}function C3e(e,t){const{mark:n,encoding:r}=e,{x:i,y:o}=r;if(Ph(n)&&n.orient)return n.orient;if(Yg(i)){if(Yg(o)){const s=Et(i)&&i.aggregate,a=Et(o)&&o.aggregate;if(!s&&a===t)return"vertical";if(!a&&s===t)return"horizontal";if(s===t&&a===t)throw new Error("Both x and y cannot have aggregate");return Fx(o)&&!Fx(i)?"horizontal":"vertical"}return"horizontal"}else{if(Yg(o))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}const RN="boxplot",N6t=["box","median","outliers","rule","ticks"],M6t=new b5(RN,E3e);function _3e(e){return Ji(e)?"tukey":e}function E3e(e,{config:t}){e={...e,encoding:w5(e.encoding,t)};const{mark:n,encoding:r,params:i,projection:o,...s}=e,a=Ph(n)?n:{type:n};i&&Ct(vPe("boxplot"));const l=a.extent??t.boxplot.extent,u=gi("size",a,t),c=a.invalid,d=_3e(l),{bins:f,timeUnits:h,transform:m,continuousAxisChannelDef:p,continuousAxis:g,groupby:v,aggregate:y,encodingWithoutContinuousAxis:w,ticksOrient:_,boxOrient:E,customTooltipWithoutAggregatedField:S}=$6t(e,l,t),T=$C(p.field),{color:k,size:R,...I}=w,P=ee=>gZ(a,g,p,ee,t.boxplot),N=P(I),M=P(w),O=(Lr(t.boxplot.box)?t.boxplot.box.color:t.mark.color)||"#4c78a8",j=P({...I,...R?{size:R}:{},color:{condition:{test:`${ui(`lower_box_${p.field}`)} >= ${ui(`upper_box_${p.field}`)}`,...k||{value:O}}}}),U=FH([{fieldPrefix:d==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:d==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],p,w),q={type:"tick",color:"black",opacity:1,orient:_,invalid:c,aria:!1},W=d==="min-max"?U:FH([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],p,w),V=[...N({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:W}),...N({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:W}),...N({partName:"ticks",mark:q,positionPrefix:"lower_whisker",extraEncoding:W}),...N({partName:"ticks",mark:q,positionPrefix:"upper_whisker",extraEncoding:W})],z=[...d!=="tukey"?V:[],...M({partName:"box",mark:{type:"bar",...u?{size:u}:{},orient:E,invalid:c,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:U}),...j({partName:"median",mark:{type:"tick",invalid:c,...Lr(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...u?{size:u}:{},orient:_,aria:!1},positionPrefix:"mid_box",extraEncoding:U})];if(d==="min-max")return{...s,transform:(s.transform??[]).concat(m),layer:z};const L=ui(`lower_box_${p.field}`),H=ui(`upper_box_${p.field}`),B=`(${H} - ${L})`,Y=`${L} - ${l} * ${B}`,Q=`${H} + ${l} * ${B}`,ne=ui(p.field),ce={joinaggregate:S3e(p.field),groupby:v},le={transform:[{filter:`(${Y} <= ${ne}) && (${ne} <= ${Q})`},{aggregate:[{op:"min",field:p.field,as:`lower_whisker_${T}`},{op:"max",field:p.field,as:`upper_whisker_${T}`},{op:"min",field:`lower_box_${p.field}`,as:`lower_box_${T}`},{op:"max",field:`upper_box_${p.field}`,as:`upper_box_${T}`},...y],groupby:v}],layer:V},{tooltip:ue,...ae}=I,{scale:te,axis:se}=p,we=mZ(p),X=Kl(se,["title"]),he=w3e(a,"outliers",t.boxplot,{transform:[{filter:`(${ne} < ${Y}) || (${ne} > ${Q})`}],mark:"point",encoding:{[g]:{field:p.field,type:p.type,...we!==void 0?{title:we}:{},...te!==void 0?{scale:te}:{},...yi(X)?{}:{axis:X}},...ae,...k?{color:k}:{},...S?{tooltip:S}:{}}})[0];let ge;const re=[...f,...h,ce];return he?ge={transform:re,layer:[he,le]}:(ge=le,ge.transform.unshift(...re)),{...s,layer:[ge,{transform:m,layer:z}]}}function S3e(e){const t=$C(e);return[{op:"q1",field:e,as:`lower_box_${t}`},{op:"q3",field:e,as:`upper_box_${t}`}]}function $6t(e,t,n){const r=C3e(e,RN),{continuousAxisChannelDef:i,continuousAxis:o}=x3e(e,r,RN),s=i.field,a=$C(s),l=_3e(t),u=[...S3e(s),{op:"median",field:s,as:`mid_box_${a}`},{op:"min",field:s,as:(l==="min-max"?"lower_whisker_":"min_")+a},{op:"max",field:s,as:(l==="min-max"?"upper_whisker_":"max_")+a}],c=l==="min-max"||l==="tukey"?[]:[{calculate:`${ui(`upper_box_${a}`)} - ${ui(`lower_box_${a}`)}`,as:`iqr_${a}`},{calculate:`min(${ui(`upper_box_${a}`)} + ${ui(`iqr_${a}`)} * ${t}, ${ui(`max_${a}`)})`,as:`upper_whisker_${a}`},{calculate:`max(${ui(`lower_box_${a}`)} - ${ui(`iqr_${a}`)} * ${t}, ${ui(`min_${a}`)})`,as:`lower_whisker_${a}`}],{[o]:d,...f}=e.encoding,{customTooltipWithoutAggregatedField:h,filteredEncoding:m}=O6t(f),{bins:p,timeUnits:g,aggregate:v,groupby:y,encoding:w}=v3e(m,n),_=r==="vertical"?"horizontal":"vertical",E=r,S=[...p,...g,{aggregate:[...v,...u],groupby:y},...c];return{bins:p,timeUnits:g,transform:S,groupby:y,aggregate:v,continuousAxisChannelDef:i,continuousAxis:o,encodingWithoutContinuousAxis:w,ticksOrient:_,boxOrient:E,customTooltipWithoutAggregatedField:h}}const yZ="errorbar",L6t=["ticks","rule"],F6t=new b5(yZ,T3e);function T3e(e,{config:t}){e={...e,encoding:w5(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,ticksOrient:s,markDef:a,outerSpec:l,tooltipEncoding:u}=k3e(e,yZ,t);delete o.size;const c=gZ(a,i,r,o,t.errorbar),d=a.thickness,f=a.size,h={type:"tick",orient:s,aria:!1,...d!==void 0?{thickness:d}:{},...f!==void 0?{size:f}:{}},m=[...c({partName:"ticks",mark:h,positionPrefix:"lower",extraEncoding:u}),...c({partName:"ticks",mark:h,positionPrefix:"upper",extraEncoding:u}),...c({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...d!==void 0?{size:d}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u})];return{...l,transform:n,...m.length>1?{layer:m}:{...m[0]}}}function j6t(e,t){const{encoding:n}=e;if(B6t(n))return{orient:C3e(e,t),inputType:"raw"};const r=z6t(n),i=U6t(n),o=n.x,s=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const a=n.x2,l=n.y2;if(Wn(a)&&Wn(l))throw new Error(`${t} cannot have both x2 and y2`);if(Wn(a)){if(Yg(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(Wn(l)){if(Yg(s))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const a=n.xError,l=n.xError2,u=n.yError,c=n.yError2;if(Wn(l)&&!Wn(a))throw new Error(`${t} cannot have xError2 without xError`);if(Wn(c)&&!Wn(u))throw new Error(`${t} cannot have yError2 without yError`);if(Wn(a)&&Wn(u))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(Wn(a)){if(Yg(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(Wn(u)){if(Yg(s))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function B6t(e){return(Wn(e.x)||Wn(e.y))&&!Wn(e.x2)&&!Wn(e.y2)&&!Wn(e.xError)&&!Wn(e.xError2)&&!Wn(e.yError)&&!Wn(e.yError2)}function z6t(e){return Wn(e.x2)||Wn(e.y2)}function U6t(e){return Wn(e.xError)||Wn(e.xError2)||Wn(e.yError)||Wn(e.yError2)}function k3e(e,t,n){const{mark:r,encoding:i,params:o,projection:s,...a}=e,l=Ph(r)?r:{type:r};o&&Ct(vPe(t));const{orient:u,inputType:c}=j6t(e,t),{continuousAxisChannelDef:d,continuousAxisChannelDef2:f,continuousAxisChannelDefError:h,continuousAxisChannelDefError2:m,continuousAxis:p}=x3e(e,u,t),{errorBarSpecificAggregate:g,postAggregateCalculates:v,tooltipSummary:y,tooltipTitleWithFieldName:w}=H6t(l,d,f,h,m,c,t,n),{[p]:_,[p==="x"?"x2":"y2"]:E,[p==="x"?"xError":"yError"]:S,[p==="x"?"xError2":"yError2"]:T,...k}=i,{bins:R,timeUnits:I,aggregate:P,groupby:N,encoding:M}=v3e(k,n),O=[...P,...g],j=c!=="raw"?[]:N,U=FH(y,d,M,w);return{transform:[...a.transform??[],...R,...I,...O.length===0?[]:[{aggregate:O,groupby:j}],...v],groupby:j,continuousAxisChannelDef:d,continuousAxis:p,encodingWithoutContinuousAxis:M,ticksOrient:u==="vertical"?"horizontal":"vertical",markDef:l,outerSpec:a,tooltipEncoding:U}}function H6t(e,t,n,r,i,o,s,a){let l=[],u=[];const c=t.field;let d,f=!1;if(o==="raw"){const h=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":a.errorbar.center,m=e.extent?e.extent:h==="mean"?"stderr":"iqr";if(h==="median"!=(m==="iqr")&&Ct(Z4t(h,m,s)),m==="stderr"||m==="stdev")l=[{op:m,field:c,as:`extent_${c}`},{op:h,field:c,as:`center_${c}`}],u=[{calculate:`${ui(`center_${c}`)} + ${ui(`extent_${c}`)}`,as:`upper_${c}`},{calculate:`${ui(`center_${c}`)} - ${ui(`extent_${c}`)}`,as:`lower_${c}`}],d=[{fieldPrefix:"center_",titlePrefix:Ak(h)},{fieldPrefix:"upper_",titlePrefix:xhe(h,m,"+")},{fieldPrefix:"lower_",titlePrefix:xhe(h,m,"-")}],f=!0;else{let p,g,v;m==="ci"?(p="mean",g="ci0",v="ci1"):(p="median",g="q1",v="q3"),l=[{op:g,field:c,as:`lower_${c}`},{op:v,field:c,as:`upper_${c}`},{op:p,field:c,as:`center_${c}`}],d=[{fieldPrefix:"upper_",titlePrefix:zw({field:c,aggregate:v,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:zw({field:c,aggregate:g,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:zw({field:c,aggregate:p,type:"quantitative"},a,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&Ct(J4t(e.center,e.extent)),o==="aggregated-upper-lower"?(d=[],u=[{calculate:ui(n.field),as:`upper_${c}`},{calculate:ui(c),as:`lower_${c}`}]):o==="aggregated-error"&&(d=[{fieldPrefix:"",titlePrefix:c}],u=[{calculate:`${ui(c)} + ${ui(r.field)}`,as:`upper_${c}`}],i?u.push({calculate:`${ui(c)} + ${ui(i.field)}`,as:`lower_${c}`}):u.push({calculate:`${ui(c)} - ${ui(r.field)}`,as:`lower_${c}`}));for(const h of u)d.push({fieldPrefix:h.as.substring(0,6),titlePrefix:ob(ob(h.calculate,"datum['",""),"']","")})}return{postAggregateCalculates:u,errorBarSpecificAggregate:l,tooltipSummary:d,tooltipTitleWithFieldName:f}}function xhe(e,t,n){return`${Ak(e)} ${n} ${t}`}const vZ="errorband",q6t=["band","borders"],V6t=new b5(vZ,A3e);function A3e(e,{config:t}){e={...e,encoding:w5(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,markDef:s,outerSpec:a,tooltipEncoding:l}=k3e(e,vZ,t),u=s,c=gZ(u,i,r,o,t.errorband),d=e.encoding.x!==void 0&&e.encoding.y!==void 0;let f={type:d?"area":"rect"},h={type:d?"line":"rule"};const m={...u.interpolate?{interpolate:u.interpolate}:{},...u.tension&&u.interpolate?{tension:u.tension}:{}};return d?(f={...f,...m,ariaRoleDescription:"errorband"},h={...h,...m,aria:!1}):u.interpolate?Ct(fhe("interpolate")):u.tension&&Ct(fhe("tension")),{...a,transform:n,layer:[...c({partName:"band",mark:f,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l}),...c({partName:"borders",mark:h,positionPrefix:"lower",extraEncoding:l}),...c({partName:"borders",mark:h,positionPrefix:"upper",extraEncoding:l})]}}const R3e={};function bZ(e,t,n){const r=new b5(e,t);R3e[e]={normalizer:r,parts:n}}function W6t(){return vt(R3e)}bZ(RN,E3e,N6t);bZ(yZ,T3e,L6t);bZ(vZ,A3e,q6t);const G6t=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],I3e={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},D3e={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},Y6t=vt(I3e),K6t=vt(D3e),X6t={header:1,headerRow:1,headerColumn:1,headerFacet:1},P3e=vt(X6t),O3e=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],Q6t={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},J6t={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},tf="_vgsid_",Z6t={point:{on:"click",fields:[tf],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function wZ(e){return e==="legend"||!!e?.legend}function k9(e){return wZ(e)&&Lr(e)}function xZ(e){return!!e?.select}function N3e(e){const t=[];for(const n of e||[]){if(xZ(n))continue;const{expr:r,bind:i,...o}=n;if(i&&r){const s={...o,bind:i,init:r};t.push(s)}else{const s={...o,...r?{update:r}:{},...i?{bind:i}:{}};t.push(s)}}return t}function e5t(e){return x5(e)||_Z(e)||CZ(e)}function CZ(e){return bt(e,"concat")}function x5(e){return bt(e,"vconcat")}function _Z(e){return bt(e,"hconcat")}function M3e({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function Oh(e){return bt(e,"step")}function Che(e){return bt(e,"view")||bt(e,"width")||bt(e,"height")}const _he=20,t5t={align:1,bounds:1,center:1,columns:1,spacing:1},n5t=vt(t5t);function r5t(e,t,n){const r=n[t],i={},{spacing:o,columns:s}=r;o!==void 0&&(i.spacing=o),s!==void 0&&(m5(e)&&!Mk(e.facet)||CZ(e))&&(i.columns=s),x5(e)&&(i.columns=1);for(const a of n5t)if(e[a]!==void 0)if(a==="spacing"){const l=e[a];i[a]=Ji(l)?l:{row:l.row??o,column:l.column??o}}else i[a]=e[a];return i}function jH(e,t){return e[t]??e[t==="width"?"continuousWidth":"continuousHeight"]}function BH(e,t){const n=IN(e,t);return Oh(n)?n.step:$3e}function IN(e,t){const n=e[t]??e[t==="width"?"discreteWidth":"discreteHeight"];return Lo(n,{step:e.step})}const $3e=20,i5t={continuousWidth:200,continuousHeight:200,step:$3e},o5t={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:i5t,mark:XMt,arc:{},area:{},bar:e6t,circle:{},geoshape:{},image:{},line:{},point:{},rect:iZ,rule:{color:"black"},square:{},text:{color:"black"},tick:t6t,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:DMt,projection:{},legend:Q6t,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:Z6t,style:{},title:{},facet:{spacing:_he},concat:{spacing:_he},normalizedNumberFormat:".0%"},gp=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],Ehe={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},She={blue:gp[0],orange:gp[1],red:gp[2],teal:gp[3],green:gp[4],yellow:gp[5],purple:gp[6],pink:gp[7],brown:gp[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function s5t(e={}){return{signals:[{name:"color",value:Lr(e)?{...She,...e}:She}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function a5t(e){return{signals:[{name:"fontSize",value:Lr(e)?{...Ehe,...e}:Ehe}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function l5t(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function L3e(e){const t=vt(e||{}),n={};for(const r of t){const i=e[r];n[r]=jk(i)?dPe(i):Au(i)}return n}function u5t(e){const t=vt(e),n={};for(const r of t)n[r]=L3e(e[r]);return n}const c5t=[...WPe,...p3e,...P3e,"background","padding","legend","lineBreak","scale","style","title","view"];function F3e(e={}){const{color:t,font:n,fontSize:r,selection:i,...o}=e,s=UDe({},qn(o5t),n?l5t(n):{},t?s5t(t):{},r?a5t(r):{},o||{});i&&Q6(s,"selection",i,!0);const a=Kl(s,c5t);for(const l of["background","lineBreak","padding"])s[l]&&(a[l]=Au(s[l]));for(const l of WPe)s[l]&&(a[l]=Qs(s[l]));for(const l of p3e)s[l]&&(a[l]=L3e(s[l]));for(const l of P3e)s[l]&&(a[l]=Qs(s[l]));if(s.legend&&(a.legend=Qs(s.legend)),s.scale){const{invalid:l,...u}=s.scale,c=Qs(l,{level:1});a.scale={...Qs(u),...vt(c).length>0?{invalid:c}:{}}}return s.style&&(a.style=u5t(s.style)),s.title&&(a.title=Qs(s.title)),s.view&&(a.view=Qs(s.view)),a}const d5t=new Set(["view",...qMt]),f5t=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],h5t={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...KMt};function p5t(e){e=qn(e);for(const t of f5t)delete e[t];if(e.axis)for(const t in e.axis)jk(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of G6t)delete e.legend[t];if(e.mark){for(const t of phe)delete e.mark[t];e.mark.tooltip&&Lr(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(N3e(e.params)),delete e.params);for(const t of d5t){for(const r of phe)delete e[t][r];const n=h5t[t];if(n)for(const r of n)delete e[t][r];g5t(e,t)}for(const t of W6t())delete e[t];m5t(e);for(const t in e)Lr(e[t])&&yi(e[t])&&delete e[t];return yi(e)?void 0:e}function m5t(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=cPe(e.title);yi(t)||(e.style["group-title"]={...e.style["group-title"],...t}),yi(n)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...n}),yi(r)?delete e.title:e.title=r}function g5t(e,t,n,r){const i=e[t];t==="view"&&(n="cell");const o={...i,...e.style[n??t]};yi(o)||(e.style[n??t]=o),delete e[t]}function C5(e){return bt(e,"layer")}function y5t(e){return bt(e,"repeat")}function v5t(e){return!Yt(e.repeat)&&bt(e.repeat,"layer")}class EZ{map(t,n){return m5(t)?this.mapFacet(t,n):y5t(t)?this.mapRepeat(t,n):_Z(t)?this.mapHConcat(t,n):x5(t)?this.mapVConcat(t,n):CZ(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(C5(t))return this.mapLayer(t,n);if(Um(t))return this.mapUnit(t,n);throw new Error(jJ(t))}mapLayer(t,n){return{...t,layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))}}mapHConcat(t,n){return{...t,hconcat:t.hconcat.map(r=>this.map(r,n))}}mapVConcat(t,n){return{...t,vconcat:t.vconcat.map(r=>this.map(r,n))}}mapConcat(t,n){const{concat:r,...i}=t;return{...i,concat:r.map(o=>this.map(o,n))}}mapFacet(t,n){return{...t,spec:this.map(t.spec,n)}}mapRepeat(t,n){return{...t,spec:this.map(t.spec,n)}}}const b5t={zero:1,center:1,normalize:1};function w5t(e){return Wo(b5t,e)}const x5t=new Set([HPe,d5,c5,_N,h5,nZ,rZ,f5,qPe,tZ]),C5t=new Set([d5,c5,HPe]);function q1(e){return Et(e)&&$x(e)==="quantitative"&&!e.bin}function The(e,t,{orient:n,type:r}){const i=t==="x"?"y":"radius",o=t==="x"&&["bar","area"].includes(r),s=e[t],a=e[i];if(Et(s)&&Et(a))if(q1(s)&&q1(a)){if(s.stack)return t;if(a.stack)return i;const l=Et(s)&&!!s.aggregate,u=Et(a)&&!!a.aggregate;if(l!==u)return l?t:i;if(o){if(n==="vertical")return i;if(n==="horizontal")return t}}else{if(q1(s))return t;if(q1(a))return i}else{if(q1(s))return o&&n==="vertical"?void 0:t;if(q1(a))return o&&n==="horizontal"?void 0:i}}function _5t(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function j3e(e,t){const n=Ph(e)?e:{type:e},r=n.type;if(!x5t.has(r))return null;const i=The(t,"x",n)||The(t,"theta",n);if(!i)return null;const o=t[i],s=Et(o)?Ot(o,{}):void 0,a=_5t(i),l=[],u=new Set;if(t[a]){const p=t[a],g=Et(p)?Ot(p,{}):void 0;g&&g!==s&&(l.push(a),u.add(g))}const c=a==="x"?"xOffset":"yOffset",d=t[c],f=Et(d)?Ot(d,{}):void 0;f&&f!==s&&(l.push(c),u.add(f));const h=INt.reduce((p,g)=>{if(g!=="tooltip"&&Dv(t,g)){const v=t[g];for(const y of $o(v)){const w=ef(y);if(w.aggregate)continue;const _=Ot(w,{});(!_||!u.has(_))&&p.push({channel:g,fieldDef:w})}}return p},[]);let m;return o.stack!==void 0?kk(o.stack)?m=o.stack?"zero":null:m=o.stack:C5t.has(r)&&(m="zero"),!m||!w5t(m)||y3e(t)&&h.length===0?null:(o?.scale?.type&&o?.scale?.type!==Zs.LINEAR&&o?.stack&&Ct(K4t(o.scale.type)),Wn(t[Qh(i)])?(o.stack!==void 0&&Ct(Y4t(i)),null):(Et(o)&&o.aggregate&&!HNt.has(o.aggregate)&&Ct(X4t(o.aggregate)),{groupbyChannels:l,groupbyFields:u,fieldChannel:i,impute:o.impute===null?!1:oy(r),stackBy:h,offset:m}))}function B3e(e,t,n){const r=Qs(e),i=gi("orient",r,n);if(r.orient=k5t(r.type,t,i),i!==void 0&&i!==r.orient&&Ct(P4t(r.orient,i)),r.type==="bar"&&r.orient){const l=gi("cornerRadiusEnd",r,n);if(l!==void 0){const u=r.orient==="horizontal"&&t.x2||r.orient==="vertical"&&t.y2?["cornerRadius"]:JMt[r.orient];for(const c of u)r[c]=l;r.cornerRadiusEnd!==void 0&&delete r.cornerRadiusEnd}}const o=gi("opacity",r,n),s=gi("fillOpacity",r,n);return o===void 0&&s===void 0&&(r.opacity=S5t(r.type,t)),gi("cursor",r,n)===void 0&&(r.cursor=E5t(r,t,n)),r}function E5t(e,t,n){return t.href||e.href||gi("href",e,n)?"pointer":e.cursor}function S5t(e,t){if(pr([h5,tZ,nZ,rZ],e)&&!y3e(t))return .7}function T5t(e,t,{graticule:n}){if(n)return!1;const r=Dh("filled",e,t),i=e.type;return Lo(r,i!==h5&&i!==f5&&i!==_N)}function k5t(e,t,n){switch(e){case h5:case nZ:case rZ:case qPe:case UMt:case zMt:return}const{x:r,y:i,x2:o,y2:s}=t;switch(e){case d5:if(Et(r)&&(Xs(r.bin)||Et(i)&&i.aggregate&&!r.aggregate))return"vertical";if(Et(i)&&(Xs(i.bin)||Et(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(s||o){if(n)return n;if(!o)return(Et(r)&&r.type===ub&&!Pi(r.bin)||SN(r))&&Et(i)&&Xs(i.bin)?"horizontal":"vertical";if(!s)return(Et(i)&&i.type===ub&&!Pi(i.bin)||SN(i))&&Et(r)&&Xs(r.bin)?"vertical":"horizontal"}case _N:if(o&&!(Et(r)&&Xs(r.bin))&&s&&!(Et(i)&&Xs(i.bin)))return;case c5:if(s)return Et(i)&&Xs(i.bin)?"horizontal":"vertical";if(o)return Et(r)&&Xs(r.bin)?"vertical":"horizontal";if(e===_N){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case f5:case tZ:{const a=vhe(r),l=vhe(i);if(n)return n;if(a&&!l)return e!=="tick"?"horizontal":"vertical";if(!a&&l)return e!=="tick"?"vertical":"horizontal";if(a&&l)return"vertical";{const u=Cl(r)&&r.type===Nx,c=Cl(i)&&i.type===Nx;if(u&&!c)return"vertical";if(!u&&c)return"horizontal"}return}}return"vertical"}function A5t(e){const{point:t,line:n,...r}=e;return vt(r).length>1?r:r.type}function R5t(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:Kl(e[t],["point","line"])});return e}function A9(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?Lr(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?Lr(t.point)?t.point:{}:void 0}function khe(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class I5t{constructor(){this.name="path-overlay"}hasMatchingType(t,n){if(Um(t)){const{mark:r,encoding:i}=t,o=Ph(r)?r:{type:r};switch(o.type){case"line":case"rule":case"trail":return!!A9(o,n[o.type],i);case"area":return!!A9(o,n[o.type],i)||!!khe(o,n[o.type])}}return!1}run(t,n,r){const{config:i}=n,{params:o,projection:s,mark:a,name:l,encoding:u,...c}=t,d=w5(u,i),f=Ph(a)?a:{type:a},h=A9(f,i[f.type],d),m=f.type==="area"&&khe(f,i[f.type]),p=[{name:l,...o?{params:o}:{},mark:A5t({...f.type==="area"&&f.opacity===void 0&&f.fillOpacity===void 0?{opacity:.7}:{},...f}),encoding:Kl(d,["shape"])}],g=j3e(B3e(f,d,i),d);let v=d;if(g){const{fieldChannel:y,offset:w}=g;v={...d,[y]:{...d[y],...w?{stack:w}:{}}}}return v=Kl(v,["y2","x2"]),m&&p.push({...s?{projection:s}:{},mark:{type:"line",...Ix(f,["clip","interpolate","tension","tooltip"]),...m},encoding:v}),h&&p.push({...s?{projection:s}:{},mark:{type:"point",opacity:1,filled:!0,...Ix(f,["clip","tooltip"]),...h},encoding:v}),r({...c,layer:p},{...n,config:R5t(i)})}}function D5t(e,t){return t?Mk(e)?U3e(e,t):z3e(e,t):e}function R9(e,t){return t?U3e(e,t):e}function zH(e,t,n){const r=t[e];if(h6t(r)){if(r.repeat in n)return{...t,[e]:n[r.repeat]};Ct(u4t(r.repeat));return}return t}function z3e(e,t){if(e=zH("field",e,t),e!==void 0){if(e===null)return null;if(cZ(e)&&Jp(e.sort)){const n=zH("field",e.sort,t);e={...e,...n?{sort:n}:{}}}return e}}function Ahe(e,t){if(Et(e))return z3e(e,t);{const n=zH("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function Rhe(e,t){if(Wn(e)){const n=Ahe(e,t);if(n)return n;if($k(e))return{condition:e.condition}}else{if(Lk(e)){const n=Ahe(e.condition,t);if(n)return{...e,condition:n};{const{condition:r,...i}=e;return i}}return e}}function U3e(e,t){const n={};for(const r in e)if(bt(e,r)){const i=e[r];if(Yt(i))n[r]=i.map(o=>Rhe(o,t)).filter(o=>o);else{const o=Rhe(i,t);o!==void 0&&(n[r]=o)}}return n}class P5t{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(Um(t)){const{encoding:n,mark:r}=t;if(r==="line"||Ph(r)&&r.type==="line")for(const i of kNt){const o=Ub(i),s=n[o];if(n[i]&&(Et(s)&&!Xs(s.bin)||Zh(s)))return!0}}return!1}run(t,n,r){const{encoding:i,mark:o}=t;return Ct(D4t(!!i.x2,!!i.y2)),r({...t,mark:Lr(o)?{...o,type:"rule"}:"rule"},n)}}class O5t extends EZ{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[M6t,F6t,V6t,new I5t,new P5t]}map(t,n){if(Um(t)){const r=Dv(t.encoding,Xp),i=Dv(t.encoding,Qp),o=Dv(t.encoding,Z6);if(r||i||o)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:r,parentProjection:i}=n,o=R9(t.encoding,n.repeater),s={...t,...t.name?{name:[n.repeaterPrefix,t.name].filter(l=>l).join("_")}:{},...o?{encoding:o}:{}};if(r||i)return this.mapUnitWithParentEncodingOrProjection(s,n);const a=this.mapLayerOrUnit.bind(this);for(const l of this.nonFacetUnitNormalizers)if(l.hasMatchingType(s,n.config))return l.run(s,n,a);return s}mapRepeat(t,n){return v5t(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:r,spec:i,...o}=t,{row:s,column:a,layer:l}=r,{repeater:u={},repeaterPrefix:c=""}=n;return s||a?this.mapRepeat({...t,repeat:{...s?{row:s}:{},...a?{column:a}:{}},spec:{repeat:{layer:l},spec:i}},n):{...o,layer:l.map(d=>{const f={...u,layer:d},h=`${(i.name?`${i.name}_`:"")+c}child__layer_${Ki(d)}`,m=this.mapLayerOrUnit(i,{...n,repeater:f,repeaterPrefix:h});return m.name=h,m})}}mapNonLayerRepeat(t,n){const{repeat:r,spec:i,data:o,...s}=t;!Yt(r)&&t.columns&&(t=Kl(t,["columns"]),Ct(lhe("repeat")));const a=[],{repeater:l={},repeaterPrefix:u=""}=n,c=!Yt(r)&&r.row||[l?l.row:null],d=!Yt(r)&&r.column||[l?l.column:null],f=Yt(r)&&r||[l?l.repeat:null];for(const m of f)for(const p of c)for(const g of d){const v={repeat:m,row:p,column:g,layer:l.layer},y=(i.name?`${i.name}_`:"")+u+"child__"+(Yt(r)?`${Ki(m)}`:(r.row?`row_${Ki(p)}`:"")+(r.column?`column_${Ki(g)}`:"")),w=this.map(i,{...n,repeater:v,repeaterPrefix:y});w.name=y,a.push(Kl(w,["data"]))}const h=Yt(r)?t.columns:r.column?r.column.length:1;return{data:i.data??o,align:"all",...s,columns:h,concat:a}}mapFacet(t,n){const{facet:r}=t;return Mk(r)&&t.columns&&(t=Kl(t,["columns"]),Ct(lhe("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:r,projection:i}=t,{parentEncoding:o,parentProjection:s,config:a}=n,l=Dhe({parentProjection:s,projection:i}),u=Ihe({parentEncoding:o,encoding:R9(r,n.repeater)});return this.mapUnit({...t,...l?{projection:l}:{},...u?{encoding:u}:{}},{config:a})}mapFacetedUnit(t,n){const{row:r,column:i,facet:o,...s}=t.encoding,{mark:a,width:l,projection:u,height:c,view:d,params:f,encoding:h,...m}=t,{facetMapping:p,layout:g}=this.getFacetMappingAndLayout({row:r,column:i,facet:o},n),v=R9(s,n.repeater);return this.mapFacet({...m,...g,facet:p,spec:{...l?{width:l}:{},...c?{height:c}:{},...d?{view:d}:{},...u?{projection:u}:{},mark:a,encoding:v,...f?{params:f}:{}}},n)}getFacetMappingAndLayout(t,n){const{row:r,column:i,facet:o}=t;if(r||i){o&&Ct(R4t([...r?[Xp]:[],...i?[Qp]:[]]));const s={},a={};for(const l of[Xp,Qp]){const u=t[l];if(u){const{align:c,center:d,spacing:f,columns:h,...m}=u;s[l]=m;for(const p of["align","center","spacing"])u[p]!==void 0&&(a[p]??(a[p]={}),a[p][l]=u[p])}}return{facetMapping:s,layout:a}}else{const{align:s,center:a,spacing:l,columns:u,...c}=o;return{facetMapping:D5t(c,n.repeater),layout:{...s?{align:s}:{},...a?{center:a}:{},...l?{spacing:l}:{},...u?{columns:u}:{}}}}}mapLayer(t,{parentEncoding:n,parentProjection:r,...i}){const{encoding:o,projection:s,...a}=t,l={...i,parentEncoding:Ihe({parentEncoding:n,encoding:o,layer:!0}),parentProjection:Dhe({parentProjection:r,projection:s})};return super.mapLayer({...a,...t.name?{name:[l.repeaterPrefix,t.name].filter(u=>u).join("_")}:{}},l)}}function Ihe({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const i=new Set([...vt(e),...vt(t)]);for(const o of i){const s=t[o],a=e[o];if(Wn(s)){const l={...a,...s};r[o]=l}else Lk(s)?r[o]={...s,condition:{...a,...s.condition}}:s||s===null?r[o]=s:(n||Zd(a)||tn(a)||Wn(a)||Yt(a))&&(r[o]=a)}}else r=t;return!r||yi(r)?void 0:r}function Dhe(e){const{parentProjection:t,projection:n}=e;return t&&n&&Ct(v4t({parentProjection:t,projection:n})),n??t}function SZ(e){return bt(e,"filter")}function N5t(e){return bt(e,"stop")}function H3e(e){return bt(e,"lookup")}function M5t(e){return bt(e,"data")}function $5t(e){return bt(e,"param")}function L5t(e){return bt(e,"pivot")}function F5t(e){return bt(e,"density")}function j5t(e){return bt(e,"quantile")}function B5t(e){return bt(e,"regression")}function z5t(e){return bt(e,"loess")}function U5t(e){return bt(e,"sample")}function H5t(e){return bt(e,"window")}function q5t(e){return bt(e,"joinaggregate")}function V5t(e){return bt(e,"flatten")}function W5t(e){return bt(e,"calculate")}function q3e(e){return bt(e,"bin")}function G5t(e){return bt(e,"impute")}function Y5t(e){return bt(e,"timeUnit")}function K5t(e){return bt(e,"aggregate")}function X5t(e){return bt(e,"stack")}function Q5t(e){return bt(e,"fold")}function J5t(e){return bt(e,"extent")&&!bt(e,"density")&&!bt(e,"regression")}function Z5t(e){return e.map(t=>SZ(t)?{filter:jw(t.filter,EMt)}:t)}class e$t extends EZ{map(t,n){return n.emptySelections??(n.emptySelections={}),n.selectionPredicates??(n.selectionPredicates={}),t=Phe(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=Phe(t,n),t.encoding){const r={};for(const[i,o]of I0(t.encoding))r[i]=V3e(o,n);t={...t,encoding:r}}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const{selection:r,...i}=t;return r?{...i,params:I0(r).map(([o,s])=>{const{init:a,bind:l,empty:u,...c}=s;c.type==="single"?(c.type="point",c.toggle=!1):c.type==="multi"&&(c.type="point"),n.emptySelections[o]=u!=="none";for(const d of sa(n.selectionPredicates[o]??{}))d.empty=u!=="none";return{name:o,value:a,select:c,bind:l}})}:t}}function Phe(e,t){const{transform:n,...r}=e;if(n){const i=n.map(o=>{if(SZ(o))return{filter:UH(o,t)};if(q3e(o)&&Hb(o.bin))return{...o,bin:W3e(o.bin)};if(H3e(o)){const{selection:s,...a}=o.from;return s?{...o,from:{param:s,...a}}:o}return o});return{...r,transform:i}}return e}function V3e(e,t){const n=qn(e);if(Et(n)&&Hb(n.bin)&&(n.bin=W3e(n.bin)),Gb(n)&&n.scale?.domain?.selection){const{selection:r,...i}=n.scale.domain;n.scale.domain={...i,...r?{param:r}:{}}}if($k(n))if(Yt(n.condition))n.condition=n.condition.map(r=>{const{selection:i,param:o,test:s,...a}=r;return o?r:{...a,test:UH(r,t)}});else{const{selection:r,param:i,test:o,...s}=V3e(n.condition,t);n.condition=i?n.condition:{...s,test:UH(n.condition,t)}}return n}function W3e(e){const t=e.extent;if(t?.selection){const{selection:n,...r}=t;return{...e,extent:{...r,param:n}}}return e}function UH(e,t){const n=r=>jw(r,i=>{var o;const s=t.emptySelections[i]??!0,a={param:i,empty:s};return(o=t.selectionPredicates)[i]??(o[i]=[]),t.selectionPredicates[i].push(a),a});return e.selection?n(e.selection):jw(e.test||e.filter,r=>r.selection?n(r.selection):r)}class HH extends EZ{map(t,n){const r=n.selections??[];if(t.params&&!Um(t)){const i=[];for(const o of t.params)xZ(o)?r.push(o):i.push(o);t.params=i}return n.selections=r,super.map(t,n)}mapUnit(t,n){const r=n.selections;if(!r||!r.length)return t;const i=(n.path??[]).concat(t.name),o=[];for(const s of r)if(!s.views||!s.views.length)o.push(s);else for(const a of s.views)(Kn(a)&&(a===t.name||i.includes(a))||Yt(a)&&a.map(l=>i.indexOf(l)).every((l,u,c)=>l!==-1&&(u===0||l>c[u-1])))&&o.push(s);return o.length&&(t.params=o),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=HH.prototype[e];HH.prototype[e]=function(n,r){return t.call(this,n,t$t(n,r))}}function t$t(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function G3e(e,t){t===void 0&&(t=F3e(e.config));const n=o$t(e,t),{width:r,height:i}=e,o=s$t(n,{width:r,height:i,autosize:e.autosize},t);return{...n,...o?{autosize:o}:{}}}const n$t=new O5t,r$t=new e$t,i$t=new HH;function o$t(e,t={}){const n={config:t};return i$t.map(n$t.map(r$t.map(e,n),n),n)}function Ohe(e){return Kn(e)?{type:e}:e??{}}function s$t(e,t,n){let{width:r,height:i}=t;const o=Um(e)||C5(e),s={};o?r=="container"&&i=="container"?(s.type="fit",s.contains="padding"):r=="container"?(s.type="fit-x",s.contains="padding"):i=="container"&&(s.type="fit-y",s.contains="padding"):(r=="container"&&(Ct(ihe("width")),r=void 0),i=="container"&&(Ct(ihe("height")),i=void 0));const a={type:"pad",...s,...n?Ohe(n.autosize):{},...Ohe(e.autosize)};if(a.type==="fit"&&!o&&(Ct(JNt),a.type="pad"),r=="container"&&!(a.type=="fit"||a.type=="fit-x")&&Ct(ohe("width")),i=="container"&&!(a.type=="fit"||a.type=="fit-y")&&Ct(ohe("height")),!Pu(a,{type:"pad"}))return a}function a$t(e){return["fit","fit-x","fit-y"].includes(e)}function l$t(e){return e?`fit-${i5(e)}`:"fit"}const u$t=["background","padding"];function Nhe(e,t){const n={};for(const r of u$t)e&&e[r]!==void 0&&(n[r]=Au(e[r]));return t&&(n.params=e.params),n}class Hm{constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new Hm(qn(this.explicit),qn(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return Lo(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:r}){n!==void 0&&this.set(t,n,r)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:r}){n[t]!==void 0?this.set(t,n[t],!0):r[t]!==void 0&&this.set(t,r[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of vt(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function Wf(e){return{explicit:!0,value:e}}function Cu(e){return{explicit:!1,value:e}}function Y3e(e){return(t,n,r,i)=>{const o=e(t.value,n.value);return o>0?t:o<0?n:_5(t,n,r,i)}}function _5(e,t,n,r){return e.explicit&&t.explicit&&Ct(z4t(n,r,e.value,t.value)),e}function O0(e,t,n,r,i=_5){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:Pu(e.value,t.value)?e:i(e,t,n,r)}class c$t extends Hm{constructor(t={},n={},r=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function jx(e){return bt(e,"url")}function eT(e){return bt(e,"values")}function K3e(e){return bt(e,"name")&&!jx(e)&&!eT(e)&&!l0(e)}function l0(e){return e&&(X3e(e)||Q3e(e)||TZ(e))}function X3e(e){return bt(e,"sequence")}function Q3e(e){return bt(e,"sphere")}function TZ(e){return bt(e,"graticule")}var ao;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup",e[e.PreFilterInvalid=5]="PreFilterInvalid",e[e.PostFilterInvalid=6]="PostFilterInvalid"})(ao||(ao={}));function J3e({invalid:e,isPath:t}){switch(GPe(e,{isPath:t})){case"filter":return{marks:"exclude-invalid-values",scales:"exclude-invalid-values"};case"break-paths-show-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"include-invalid-values"};case"break-paths-filter-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"exclude-invalid-values"};case"show":return{marks:"include-invalid-values",scales:"include-invalid-values"}}}function d$t(e){const{marks:t,scales:n}=J3e(e);return t===n?ao.Main:n==="include-invalid-values"?ao.PreFilterInvalid:ao.PostFilterInvalid}const f$t="view",DN="[",PN="]",Z3e="{",eOe="}",h$t=":",tOe=",",p$t="@",m$t=">",g$t=/[[\]{}]/,y$t={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let nOe,rOe;function jC(e,t,n){return nOe=t||f$t,rOe=y$t,iOe(e.trim()).map(qH)}function v$t(e){return rOe[e]}function LS(e,t,n,r,i){const o=e.length;let s=0,a;for(;t<o;++t){if(a=e[t],!s&&a===n)return t;i&&i.indexOf(a)>=0?--s:r&&r.indexOf(a)>=0&&++s}return t}function iOe(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=LS(e,i,tOe,DN+Z3e,PN+eOe),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function qH(e){return e[0]==="["?b$t(e):w$t(e)}function b$t(e){const t=e.length;let n=1,r;if(n=LS(e,n,PN,DN,PN),n===t)throw"Empty between selector: "+e;if(r=iOe(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==m$t)throw"Expected '>' after between selector: "+e;r=r.map(qH);const i=qH(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function w$t(e){const t={source:nOe},n=[];let r=[0,0],i=0,o=0,s=e.length,a=0,l,u;if(e[s-1]===eOe){if(a=e.lastIndexOf(Z3e),a>=0){try{r=x$t(e.substring(a+1,s-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,a).trim(),s=e.length}else throw"Unmatched right brace: "+e;a=0}if(!s)throw e;if(e[0]===p$t&&(i=++a),l=LS(e,a,h$t),l<s&&(n.push(e.substring(o,l).trim()),o=a=++l),a=LS(e,a,DN),a===s)n.push(e.substring(o,s).trim());else if(n.push(e.substring(o,a).trim()),u=[],o=++a,o===s)throw"Unmatched left bracket: "+e;for(;a<s;){if(a=LS(e,a,PN),a===s)throw"Unmatched left bracket: "+e;if(u.push(e.substring(o,a).trim()),a<s-1&&e[++a]!==DN)throw"Expected left bracket: "+e;o=++a}if(!(s=n.length)||g$t.test(n[s-1]))throw"Invalid event selector: "+e;return s>1?(t.type=n[1],i?t.markname=n[0].slice(1):v$t(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),u!=null&&(t.filter=u),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function x$t(e){const t=e.split(tOe);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}class pi{constructor(t,n){this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){Ct(m4t);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}class Xl extends pi{clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}constructor(t,n,r,i){super(t,n),this.type=r,this.refCounts=i,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${YDe()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}function I9(e){return e.as!==void 0}function Mhe(e){return`${e}_end`}class vh extends pi{clone(){return new vh(null,qn(this.timeUnits))}constructor(t,n){super(t),this.timeUnits=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,o,s)=>{const{field:a,timeUnit:l}=o;if(l){let u;if(Wb(l)){if(oo(n)){const{mark:c,markDef:d,config:f}=n,h=P0({fieldDef:o,markDef:d,config:f});(Z2(c)||h)&&(u={timeUnit:Ns(l),field:a})}}else u={as:Ot(o,{forAs:!0}),field:a,timeUnit:l};if(oo(n)){const{mark:c,markDef:d,config:f}=n,h=P0({fieldDef:o,markDef:d,config:f});Z2(c)&&Fo(s)&&h!==.5&&(u.rectBandPosition=h)}u&&(i[xr(u)]=u)}return i},{});return yi(r)?null:new vh(t,r)}static makeFromTransform(t,n){const{timeUnit:r,...i}={...n},o=Ns(r),s={...i,timeUnit:o};return new vh(t,{[xr(s)]:s})}merge(t){this.timeUnits={...this.timeUnits};for(const n in t.timeUnits)this.timeUnits[n]||(this.timeUnits[n]=t.timeUnits[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}removeFormulas(t){const n={};for(const[r,i]of I0(this.timeUnits)){const o=I9(i)?i.as:`${i.field}_end`;t.has(o)||(n[r]=i)}this.timeUnits=n}producedFields(){return new Set(sa(this.timeUnits).map(t=>I9(t)?t.as:Mhe(t.field)))}dependentFields(){return new Set(sa(this.timeUnits).map(t=>t.field))}hash(){return`TimeUnit ${xr(this.timeUnits)}`}assemble(){const t=[];for(const n of sa(this.timeUnits)){const{rectBandPosition:r}=n,i=Ns(n.timeUnit);if(I9(n)){const{field:o,as:s}=n,{unit:a,utc:l,...u}=i,c=[s,`${s}_end`];t.push({field:jc(o),type:"timeunit",...a?{units:l5(a)}:{},...l?{timezone:"utc"}:{},...u,as:c}),t.push(...$he(c,r,i))}else if(n){const{field:o}=n,s=o.replaceAll("\\.","."),a=oOe({timeUnit:i,field:s}),l=Mhe(s);t.push({type:"formula",expr:a,as:l}),t.push(...$he([s,l],r,i))}}return t}}const E5="offsetted_rect_start",S5="offsetted_rect_end";function oOe({timeUnit:e,field:t,reverse:n}){const{unit:r,utc:i}=e,o=RPe(r),{part:s,step:a}=OPe(o,e.step);return`${i?"utcOffset":"timeOffset"}('${s}', ${ui(t)}, ${n?-a:a})`}function $he([e,t],n,r){if(n!==void 0&&n!==.5){const i=ui(e),o=ui(t);return[{type:"formula",expr:Lhe([oOe({timeUnit:r,field:e,reverse:!0}),i],n+.5),as:`${e}_${E5}`},{type:"formula",expr:Lhe([i,o],n+.5),as:`${e}_${S5}`}]}return[]}function Lhe([e,t],n){return`${1-n} * ${e} + ${n} * ${t}`}const Bk="_tuple_fields";class C$t{constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const _$t={defined:()=>!0,parse:(e,t,n)=>{const r=t.name,i=t.project??(t.project=new C$t),o={},s={},a=new Set,l=(m,p)=>{const g=p==="visual"?m.channel:m.field;let v=Ki(`${r}_${g}`);for(let y=1;a.has(v);y++)v=Ki(`${r}_${g}_${y}`);return a.add(v),{[p]:v}},u=t.type,c=e.config.selection[u],d=n.value!==void 0?$o(n.value):null;let{fields:f,encodings:h}=Lr(n.select)?n.select:{};if(!f&&!h&&d){for(const m of d)if(Lr(m))for(const p of vt(m))TNt(p)?(h||(h=[])).push(p):u==="interval"?(Ct(l4t),h=c.encodings):(f??(f=[])).push(p)}!f&&!h&&(h=c.encodings,"fields"in c&&(f=c.fields));for(const m of h??[]){const p=e.fieldDef(m);if(p){let g=p.field;if(p.aggregate){Ct(ZNt(m,p.aggregate));continue}else if(!g){Ct(ahe(m));continue}if(p.timeUnit&&!Wb(p.timeUnit)){g=e.vgField(m);const v={timeUnit:p.timeUnit,as:g,field:p.field};s[xr(v)]=v}if(!o[g]){const v=u==="interval"&&Jh(m)&&Jd(e.getScaleComponent(m).get("type"))?"R":p.bin?"R-RE":"E",y={field:g,channel:m,type:v,index:i.items.length};y.signals={...l(y,"data"),...l(y,"visual")},i.items.push(o[g]=y),i.hasField[g]=o[g],i.hasSelectionId=i.hasSelectionId||g===tf,ePe(m)?(y.geoChannel=m,y.channel=ZDe(m),i.hasChannel[y.channel]=o[g]):i.hasChannel[m]=o[g]}}else Ct(ahe(m))}for(const m of f??[]){if(i.hasField[m])continue;const p={type:"E",field:m,index:i.items.length};p.signals={...l(p,"data")},i.items.push(p),i.hasField[m]=p,i.hasSelectionId=i.hasSelectionId||m===tf}d&&(t.init=d.map(m=>i.items.map(p=>Lr(m)?m[p.geoChannel||p.channel]!==void 0?m[p.geoChannel||p.channel]:m[p.field]:m))),yi(s)||(i.timeUnit=new vh(null,s))},signals:(e,t,n)=>{const r=t.name+Bk;return n.filter(o=>o.name===r).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map(uOe)})}},sOe="_curr",GP="anim_value",uw="anim_clock",VH="eased_anim_clock",aOe="min_extent",lOe="max_range_extent",D9="last_tick_at",P9="is_playing",E$t=1/60*1e3,S$t=(e,t)=>[{name:VH,update:uw},{name:`${e}_domain`,init:`domain('${t}')`},{name:aOe,init:`extent(${e}_domain)[0]`},{name:lOe,init:`extent(range('${t}'))[1]`},{name:GP,update:`invert('${t}', ${VH})`}],T$t={defined:e=>e.type==="point",topLevelSignals:(e,t,n)=>(bh(t)&&(n=n.concat([{name:uw,init:"0",on:[{events:{type:"timer",throttle:E$t},update:`${P9} ? (${uw} + (now() - ${D9}) > ${lOe} ? 0 : ${uw} + (now() - ${D9})) : ${uw}`}]},{name:D9,init:"now()",on:[{events:[{signal:uw},{signal:P9}],update:"now()"}]},{name:P9,init:"true"}])),n),signals:(e,t,n)=>{const r=t.name,i=r+Bk,o=t.project,s="(item().isVoronoi ? datum.datum : datum)",a=sa(e.component.selection??{}).reduce((c,d)=>d.type==="interval"?c.concat(d.name+Uw):c,[]).map(c=>`indexof(item().mark.name, '${c}') < 0`).join(" && "),l=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${a?` && ${a}`:""}`;let u=`unit: ${Pv(e)}, `;if(t.project.hasSelectionId)u+=`${tf}: ${s}[${$r(tf)}]`;else if(bh(t))u+=`fields: ${i}, values: [${GP} ? ${GP} : ${aOe}]`;else{const c=o.items.map(d=>e.fieldDef(d.channel)?.bin?`[${s}[${$r(e.vgField(d.channel,{}))}], ${s}[${$r(e.vgField(d.channel,{binSuffix:"end"}))}]]`:`${s}[${$r(d.field)}]`).join(", ");u+=`fields: ${i}, values: [${c}]`}if(bh(t))return n.concat(S$t(t.name,e.scaleName(Z0)),[{name:r+ym,on:[{events:[{signal:VH},{signal:GP}],update:`{${u}}`,force:!0}]}]);{const c=t.events;return n.concat([{name:r+ym,on:c?[{events:c,update:`${l} ? {${u}} : null`,force:!0}]:[]}])}}};function uOe(e){const{signals:t,hasLegend:n,index:r,...i}=e;return i.field=jc(i.field),i}function fb(e,t=!0,n=uNt){if(Yt(e)){const r=e.map(i=>fb(i,t,n));return t?`[${r.join(", ")}]`:r}else if(Vb(e))return n(t?lb(e):fMt(e));return t?n(vi(e)):e}function k$t(e,t){for(const n of sa(e.component.selection??{})){const r=n.name;let i=`${r}${ym}, ${n.resolve==="global"?"true":`{unit: ${Pv(e)}}`}`;for(const o of k5)o.defined(n)&&(o.signals&&(t=o.signals(e,n,t)),o.modifyExpr&&(i=o.modifyExpr(e,n,i)));t.push({name:r+eLt,on:[{events:{signal:n.name+ym},update:`modify(${$r(n.name+hb)}, ${i})`}]})}return kZ(t)}function A$t(e,t){if(e.component.selection&&vt(e.component.selection).length){const n=$r(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:jC("pointermove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return kZ(t)}function R$t(e,t){let n=!1;for(const r of sa(e.component.selection??{})){const i=r.name,o=$r(i+hb);if(t.filter(a=>a.name===i).length===0){const a=r.resolve==="global"?"union":r.resolve,l=r.type==="point"?", true, true)":")";t.push({name:r.name,update:`${TOe}(${o}, ${$r(a)}${l}`})}n=!0;for(const a of k5)a.defined(r)&&a.topLevelSignals&&(t=a.topLevelSignals(e,r,t))}return n&&t.filter(i=>i.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),kZ(t)}function I$t(e,t){const n=[],r=[],i=Pv(e,{escape:!1});for(const o of sa(e.component.selection??{})){const s={name:o.name+hb};if(o.project.hasSelectionId&&(s.transform=[{type:"collect",sort:{field:tf}}]),o.init){const l=o.project.items.map(uOe);s.values=o.project.hasSelectionId?o.init.map(u=>({unit:i,[tf]:fb(u,!1)[0]})):o.init.map(u=>({unit:i,fields:l,values:fb(u,!1)}))}if([...n,...t].filter(l=>l.name===o.name+hb).length||n.push(s),bh(o)&&t.length){const l=e.lookupDataSource(e.getDataName(ao.Main)),u=t.find(d=>d.name===l),c=u.transform.find(d=>d.type==="filter"&&d.expr.includes("vlSelectionTest"));if(c){u.transform=u.transform.filter(f=>f!==c);const d={name:u.name+sOe,source:u.name,transform:[c]};r.push(d)}}}return n.concat(t,r)}function cOe(e,t){for(const n of sa(e.component.selection??{}))for(const r of k5)r.defined(n)&&r.marks&&(t=r.marks(e,n,t));return t}function D$t(e,t){for(const n of e.children)oo(n)&&(t=cOe(n,t));return t}function P$t(e,t,n,r){const i=LOe(e,t.param,t);return{signal:Jd(n.get("type"))&&Yt(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}function kZ(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}const Zp={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!Jh(i))continue;const o=e.getScaleComponent(i),s=o?o.get("type"):void 0;if(s=="sequential"&&Ct(r4t),!o||!Jd(s)){Ct(n4t);continue}o.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(s=>n.filter(a=>a.name===s.signals.data).length===0);if(!e.parent||GH(e)||r.length===0)return n;const i=n.find(s=>s.name===t.name);let o=i.update;if(o.includes(TOe))i.update=`{${r.map(s=>`${$r(jc(s.field))}: ${s.signals.data}`).join(", ")}}`;else{for(const s of r){const a=`${$r(jc(s.field))}: ${s.signals.data}`;o.includes(a)||(o=`${o.substring(0,o.length-1)}, ${a}}`)}i.update=o}return n.concat(r.map(s=>({name:s.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!GH(e))for(const r of t.scales){const i=n.find(o=>o.name===r.signals.data);i.push="outer",delete i.value,delete i.update}return n}};function WH(e,t){return`domain(${$r(e.scaleName(t))})`}function GH(e){return e.parent&&qC(e.parent)&&(!e.parent.parent||GH(e.parent.parent))}const Uw="_brush",dOe="_scale_trigger",rE="geo_interval_init_tick",fOe="_init",O$t="_center",N$t={defined:e=>e.type==="interval",parse:(e,t,n)=>{var r;if(e.hasProjection){const i={...Gn(n.select)?n.select:{}};i.fields=[tf],i.encodings||(i.encodings=n.value?vt(n.value):[wf,bf]),n.select={type:"interval",...i}}if(t.translate&&!Zp.defined(t)){const i=`!event.item || event.item.mark.name !== ${$r(t.name+Uw)}`;for(const o of t.events){if(!o.between){Ct(`${o} is not an ordered event stream for interval selections.`);continue}const s=$o((r=o.between[0]).filter??(r.filter=[]));s.includes(i)||s.push(i)}}},signals:(e,t,n)=>{const r=t.name,i=r+ym,o=sa(t.project.hasChannel).filter(a=>a.channel===Zi||a.channel===Fs),s=t.init?t.init[0]:null;if(n.push(...o.reduce((a,l)=>a.concat(M$t(e,t,l,s&&s[l.index])),[])),e.hasProjection){const a=$r(e.projectionName()),l=e.projectionName()+O$t,{x:u,y:c}=t.project.hasChannel,d=u&&u.signals.visual,f=c&&c.signals.visual,h=u?s&&s[u.index]:`${l}[0]`,m=c?s&&s[c.index]:`${l}[1]`,p=E=>e.getSizeSignalRef(E).signal,g=`[[${d?d+"[0]":"0"}, ${f?f+"[0]":"0"}],[${d?d+"[1]":p("width")}, ${f?f+"[1]":p("height")}]]`;s&&(n.unshift({name:r+fOe,init:`[scale(${a}, [${u?h[0]:h}, ${c?m[0]:m}]), scale(${a}, [${u?h[1]:h}, ${c?m[1]:m}])]`}),(!u||!c)&&(n.find(S=>S.name===l)||n.unshift({name:l,update:`invert(${a}, [${p("width")}/2, ${p("height")}/2])`})));const v=`intersect(${g}, {markname: ${$r(e.getName("marks"))}}, unit.mark)`,y=`{unit: ${Pv(e)}}`,w=`vlSelectionTuples(${v}, ${y})`,_=o.map(E=>E.signals.visual);return n.concat({name:i,on:[{events:[..._.length?[{signal:_.join(" || ")}]:[],...s?[{signal:rE}]:[]],update:w}]})}else{if(!Zp.defined(t)){const u=r+dOe,c=o.map(d=>{const f=d.channel,{data:h,visual:m}=d.signals,p=$r(e.scaleName(f)),g=e.getScaleComponent(f).get("type"),v=Jd(g)?"+":"";return`(!isArray(${h}) || (${v}invert(${p}, ${m})[0] === ${v}${h}[0] && ${v}invert(${p}, ${m})[1] === ${v}${h}[1]))`});c.length&&n.push({name:u,value:{},on:[{events:o.map(d=>({scale:e.scaleName(d.channel)})),update:c.join(" && ")+` ? ${u} : {}`}]})}const a=o.map(u=>u.signals.data),l=`unit: ${Pv(e)}, fields: ${r+Bk}, values`;return n.concat({name:i,...s?{init:`{${l}: ${fb(s)}}`}:{},...a.length?{on:[{events:[{signal:a.join(" || ")}],update:`${a.join(" && ")} ? {${l}: [${a}]} : null`}]}:{}})}},topLevelSignals:(e,t,n)=>(oo(e)&&e.hasProjection&&t.init&&(n.filter(i=>i.name===rE).length||n.unshift({name:rE,value:null,on:[{events:"timer{1}",update:`${rE} === null ? {} : ${rE}`}]})),n),marks:(e,t,n)=>{const r=t.name,{x:i,y:o}=t.project.hasChannel,s=i?.signals.visual,a=o?.signals.visual,l=`data(${$r(t.name+hb)})`;if(Zp.defined(t)||!i&&!o)return n;const u={x:i!==void 0?{signal:`${s}[0]`}:{value:0},y:o!==void 0?{signal:`${a}[0]`}:{value:0},x2:i!==void 0?{signal:`${s}[1]`}:{field:{group:"width"}},y2:o!==void 0?{signal:`${a}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const g of vt(u))u[g]=[{test:`${l}.length && ${l}[0].unit === ${Pv(e)}`,...u[g]},{value:0}];const{fill:c,fillOpacity:d,cursor:f,...h}=t.mark,m=vt(h).reduce((g,v)=>(g[v]=[{test:[i!==void 0&&`${s}[0] !== ${s}[1]`,o!==void 0&&`${a}[0] !== ${a}[1]`].filter(y=>y).join(" && "),value:h[v]},{value:null}],g),{}),p=f??(t.translate?"move":null);return[{name:`${r+Uw}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:c},fillOpacity:{value:d}},update:u}},...n,{name:r+Uw,type:"rect",clip:!0,encode:{enter:{...p?{cursor:{value:p}}:{},fill:{value:"transparent"}},update:{...u,...m}}}]}};function M$t(e,t,n,r){const i=!e.hasProjection,o=n.channel,s=n.signals.visual,a=$r(i?e.scaleName(o):e.projectionName()),l=f=>`scale(${a}, ${f})`,u=e.getSizeSignalRef(o===Zi?"width":"height").signal,c=`${o}(unit)`,d=t.events.reduce((f,h)=>[...f,{events:h.between[0],update:`[${c}, ${c}]`},{events:h,update:`[${s}[0], clamp(${c}, 0, ${u})]`}],[]);if(i){const f=n.signals.data,h=Zp.defined(t),m=e.getScaleComponent(o),p=m?m.get("type"):void 0,g=r?{init:fb(r,!0,l)}:{value:[]};return d.push({events:{signal:t.name+dOe},update:Jd(p)?`[${l(`${f}[0]`)}, ${l(`${f}[1]`)}]`:"[0, 0]"}),h?[{name:f,on:[]}]:[{name:s,...g,on:d},{name:f,...r?{init:fb(r)}:{},on:[{events:{signal:s},update:`${s}[0] === ${s}[1] ? null : invert(${a}, ${s})`}]}]}else{const f=o===Zi?0:1,h=t.name+fOe,m=r?{init:`[${h}[0][${f}], ${h}[1][${f}]]`}:{value:[]};return[{name:s,...m,on:d}]}}function BC({model:e,channelDef:t,vgChannel:n,invalidValueRef:r,mainRefFn:i}){const o=$k(t)&&t.condition;let s=[];o&&(s=$o(o).map(u=>{const c=i(u);if(f6t(u)){const{param:d,empty:f}=u;return{test:$Oe(e,{param:d,empty:f}),...c}}else return{test:$N(e,u.test),...c}})),r!==void 0&&s.push(r);const a=i(t);return a!==void 0&&s.push(a),s.length>1||s.length===1&&s[0].test?{[n]:s}:s.length===1?{[n]:s[0]}:{}}function AZ(e,t="text"){const n=e.encoding[t];return BC({model:e,channelDef:n,vgChannel:t,mainRefFn:r=>T5(r,e.config),invalidValueRef:void 0})}function T5(e,t,n="datum"){if(e){if(Zd(e))return zi(e.value);if(Wn(e)){const{format:r,formatType:i}=kN(e);return lZ({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function hOe(e,t={}){const{encoding:n,markDef:r,config:i,stack:o}=e,s=n.tooltip;if(Yt(s))return{tooltip:Fhe({tooltip:s},o,i,t)};{const a=t.reactiveGeom?"datum.datum":"datum";return BC({model:e,channelDef:s,vgChannel:"tooltip",mainRefFn:u=>{const c=T5(u,i,a);if(c)return c;if(u===null)return;let d=gi("tooltip",r,i);if(d===!0&&(d={content:"encoding"}),Kn(d))return{value:d};if(Lr(d))return tn(d)?d:d.content==="encoding"?Fhe(n,o,i,t):{signal:a}},invalidValueRef:void 0})}}function pOe(e,t,n,{reactiveGeom:r}={}){const i={...n,...n.tooltipFormat},o=new Set,s=r?"datum.datum":"datum",a=[];function l(c,d){const f=Ub(d),h=Cl(c)?c:{...c,type:e[f].type},m=h.title||fZ(h,i),p=$o(m).join(", ").replaceAll(/"/g,'\\"');let g;if(Fo(d)){const v=d==="x"?"x2":"y2",y=ef(e[v]);if(Xs(h.bin)&&y){const w=Ot(h,{expr:s}),_=Ot(y,{expr:s}),{format:E,formatType:S}=kN(h);g=Nk(w,_,E,S,i),o.add(v)}}if((Fo(d)||d===Xc||d===vf)&&t&&t.fieldChannel===d&&t.offset==="normalize"){const{format:v,formatType:y}=kN(h);g=lZ({fieldOrDatumDef:h,format:v,formatType:y,expr:s,config:i,normalizeStack:!0}).signal}g??(g=T5(h,i,s).signal),a.push({channel:d,key:p,value:g})}pZ(e,(c,d)=>{Et(c)?l(c,d):g5(c)&&l(c.condition,d)});const u={};for(const{channel:c,key:d,value:f}of a)!o.has(c)&&!u[d]&&(u[d]=f);return u}function Fhe(e,t,n,{reactiveGeom:r}={}){const i=pOe(e,t,n,{reactiveGeom:r}),o=I0(i).map(([s,a])=>`"${s}": ${a}`);return o.length>0?{signal:`{${o.join(", ")}}`}:void 0}function $$t(e){const{markDef:t,config:n}=e,r=gi("aria",t,n);return r===!1?{}:{...r?{aria:r}:{},...L$t(e),...F$t(e)}}function L$t(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const i=gi("ariaRoleDescription",n,r);return i!=null?{ariaRoleDescription:{value:i}}:Wo(KNt,t)?{}:{ariaRoleDescription:{value:t}}}function F$t(e){const{encoding:t,markDef:n,config:r,stack:i}=e,o=t.description;if(o)return BC({model:e,channelDef:o,vgChannel:"description",mainRefFn:l=>T5(l,e.config),invalidValueRef:void 0});const s=gi("description",n,r);if(s!=null)return{description:zi(s)};if(r.aria===!1)return{};const a=pOe(t,i,r);if(!yi(a))return{description:{signal:I0(a).map(([l,u],c)=>`"${c>0?"; ":""}${l}: " + (${u})`).join(" + ")}}}function ta(e,t,n={}){const{markDef:r,encoding:i,config:o}=t,{vgChannel:s}=n;let{defaultRef:a,defaultValue:l}=n;const u=i[e];a===void 0&&(l??(l=gi(e,r,o,{vgChannel:s,ignoreVgConfig:!$k(u)})),l!==void 0&&(a=zi(l)));const c={markDef:r,config:o,scaleName:t.scaleName(e),scale:t.getScaleComponent(e)},d=KPe({...c,scaleChannel:e,channelDef:u});return BC({model:t,channelDef:u,vgChannel:s??e,invalidValueRef:d,mainRefFn:h=>aZ({...c,channel:e,channelDef:h,stack:null,defaultRef:a})})}function mOe(e,t={filled:void 0}){const{markDef:n,encoding:r,config:i}=e,{type:o}=n,s=t.filled??gi("filled",n,i),a=pr(["bar","point","circle","square","geoshape"],o)?"transparent":void 0,l=gi(s===!0?"color":void 0,n,i,{vgChannel:"fill"})??i.mark[s===!0&&"color"]??a,u=gi(s===!1?"color":void 0,n,i,{vgChannel:"stroke"})??i.mark[s===!1&&"color"],c=s?"fill":"stroke",d={...l?{fill:zi(l)}:{},...u?{stroke:zi(u)}:{}};return n.color&&(s?n.fill:n.stroke)&&Ct(wPe("property",{fill:"fill"in n,stroke:"stroke"in n})),{...d,...ta("color",e,{vgChannel:c,defaultValue:s?l:u}),...ta("fill",e,{defaultValue:r.fill?l:void 0}),...ta("stroke",e,{defaultValue:r.stroke?u:void 0})}}function j$t(e){const{encoding:t,mark:n}=e,r=t.order;return!oy(n)&&Zd(r)?BC({model:e,channelDef:r,vgChannel:"zindex",mainRefFn:i=>zi(i.value),invalidValueRef:void 0}):{}}function Bx({channel:e,markDef:t,encoding:n={},model:r,bandPosition:i}){const o=`${e}Offset`,s=t[o],a=n[o];if((o==="xOffset"||o==="yOffset")&&a)return{offsetType:"encoding",offset:aZ({channel:o,channelDef:a,markDef:t,config:r?.config,scaleName:r.scaleName(o),scale:r.getScaleComponent(o),stack:null,defaultRef:zi(s),bandPosition:i})};const l=t[o];return l?{offsetType:"visual",offset:l}:{}}function hl(e,t,{defaultPos:n,vgChannel:r}){const{encoding:i,markDef:o,config:s,stack:a}=t,l=i[e],u=i[Qh(e)],c=t.scaleName(e),d=t.getScaleComponent(e),{offset:f,offsetType:h}=Bx({channel:e,markDef:o,encoding:i,model:t,bandPosition:.5}),m=RZ({model:t,defaultPos:n,channel:e,scaleName:c,scale:d}),p=!l&&Fo(e)&&(i.latitude||i.longitude)?{field:t.getName(e)}:B$t({channel:e,channelDef:l,channel2Def:u,markDef:o,config:s,scaleName:c,scale:d,stack:a,offset:f,defaultRef:m,bandPosition:h==="encoding"?0:void 0});return p?{[r||e]:p}:void 0}function B$t(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:o,markDef:s}=e;if(Wn(n)&&i&&t===i.fieldChannel){if(Et(n)){let a=n.bandPosition;if(a===void 0&&s.type==="text"&&(t==="radius"||t==="theta")&&(a=.5),a!==void 0)return EN({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:a,offset:o})}return Iv(n,r,{suffix:"end"},{offset:o})}return sZ(e)}function RZ({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:o,config:s}=e;return()=>{const a=Ub(n),l=D0(n),u=gi(n,o,s,{vgChannel:l});if(u!==void 0)return $S(n,u);switch(t){case"zeroOrMin":return jhe({scaleName:r,scale:i,mode:"zeroOrMin",mainChannel:a,config:s});case"zeroOrMax":return jhe({scaleName:r,scale:i,mode:{zeroOrMax:{widthSignal:e.width.signal,heightSignal:e.height.signal}},mainChannel:a,config:s});case"mid":return{...e[iu(n)],mult:.5}}}}function jhe({mainChannel:e,config:t,...n}){const r=YPe(n),{mode:i}=n;if(r)return r;switch(e){case"radius":{if(i==="zeroOrMin")return{value:0};const{widthSignal:o,heightSignal:s}=i.zeroOrMax;return{signal:`min(${o},${s})/2`}}case"theta":return i==="zeroOrMin"?{value:0}:{signal:"2*PI"};case"x":return i==="zeroOrMin"?{value:0}:{field:{group:"width"}};case"y":return i==="zeroOrMin"?{field:{group:"height"}}:{value:0}}}const z$t={left:"x",center:"xc",right:"x2"},U$t={top:"y",middle:"yc",bottom:"y2"};function gOe(e,t,n,r="middle"){if(e==="radius"||e==="theta")return D0(e);const i=e==="x"?"align":"baseline",o=gi(i,t,n);let s;return tn(o)?(Ct(I4t(i)),s=void 0):s=o,e==="x"?z$t[s||(r==="top"?"left":"center")]:U$t[s||r]}function ON(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?yOe(e,t,{defaultPos:n,defaultPos2:r}):hl(e,t,{defaultPos:n})}function yOe(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:o}=t,s=Qh(e),a=iu(e),l=H$t(t,r,s),u=l[a]?gOe(e,i,o):D0(e);return{...hl(e,t,{defaultPos:n,vgChannel:u}),...l}}function H$t(e,t,n){const{encoding:r,mark:i,markDef:o,stack:s,config:a}=e,l=Ub(n),u=iu(n),c=D0(n),d=r[l],f=e.scaleName(l),h=e.getScaleComponent(l),{offset:m}=n in r||n in o?Bx({channel:n,markDef:o,encoding:r,model:e}):Bx({channel:l,markDef:o,encoding:r,model:e});if(!d&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude)){const g=iu(n),v=e.markDef[g];return v!=null?{[g]:{value:v}}:{[c]:{field:e.getName(n)}}}const p=q$t({channel:n,channelDef:d,channel2Def:r[n],markDef:o,config:a,scaleName:f,scale:h,stack:s,offset:m,defaultRef:void 0});return p!==void 0?{[c]:p}:sI(n,o)||sI(n,{[n]:OH(n,o,a.style),[u]:OH(u,o,a.style)})||sI(n,a[i])||sI(n,a.mark)||{[c]:RZ({model:e,defaultPos:t,channel:n,scaleName:f,scale:h})()}}function q$t({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:s,stack:a,offset:l,defaultRef:u}){return Wn(t)&&a&&e.charAt(0)===a.fieldChannel.charAt(0)?Iv(t,o,{suffix:"start"},{offset:l}):sZ({channel:e,channelDef:n,scaleName:o,scale:s,stack:a,markDef:r,config:i,offset:l,defaultRef:u})}function sI(e,t){const n=iu(e),r=D0(e);if(t[r]!==void 0)return{[r]:$S(e,t[r])};if(t[e]!==void 0)return{[r]:$S(e,t[e])};if(t[n]){const i=t[n];if(cb(i))Ct(E4t(n));else return{[n]:$S(e,i)}}}function gm(e,t){const{config:n,encoding:r,markDef:i}=e,o=i.type,s=Qh(t),a=iu(t),l=r[t],u=r[s],c=e.getScaleComponent(t),d=c?c.get("type"):void 0,f=i.orient,h=r[a]??r.size??gi("size",i,n,{vgChannel:a}),m=iPe(t),p=o==="bar"&&(t==="x"?f==="vertical":f==="horizontal")||o==="tick"&&(t==="y"?f==="vertical":f==="horizontal");return Et(l)&&(Pi(l.bin)||Xs(l.bin)||l.timeUnit&&!u)&&!(h&&!cb(h))&&!r[m]&&!Ms(d)?G$t({fieldDef:l,fieldDef2:u,channel:t,model:e}):(Wn(l)&&Ms(d)||p)&&!u?W$t(l,t,e):yOe(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function V$t(e,t,n,r,i,o,s){if(cb(i))if(n){const l=n.get("type");if(l==="band"){let u=`bandwidth('${t}')`;i.band!==1&&(u=`${i.band} * ${u}`);const c=Dh("minBandSize",{type:s},r);return{signal:c?`max(${Pd(c)}, ${u})`:u}}else i.band!==1&&(Ct(N4t(l)),i=void 0)}else return{mult:i.band,field:{group:e}};else{if(tn(i))return i;if(i)return{value:i}}if(n){const l=n.get("range");if(qb(l)&&Ji(l.step))return{value:l.step-2}}if(!o){const{bandPaddingInner:l,barBandPaddingInner:u,rectBandPaddingInner:c,tickBandPaddingInner:d}=r.scale,f=Lo(l,s==="tick"?d:s==="bar"?u:c);if(tn(f))return{signal:`(1 - (${f.signal})) * ${e}`};if(Ji(f))return{signal:`${1-f} * ${e}`}}return{value:BH(r.view,e)-2}}function W$t(e,t,n){const{markDef:r,encoding:i,config:o,stack:s}=n,a=r.orient,l=n.scaleName(t),u=n.getScaleComponent(t),c=iu(t),d=Qh(t),f=iPe(t),h=n.scaleName(f),m=n.getScaleComponent(OJ(t)),p=r.type==="tick"||a==="horizontal"&&t==="y"||a==="vertical"&&t==="x";let g;(i.size||r.size)&&(p?g=ta("size",n,{vgChannel:c,defaultRef:zi(r.size)}):Ct(F4t(r.type)));const v=!!g,y=n3e({channel:t,fieldDef:e,markDef:r,config:o,scaleType:(u||m)?.get("type"),useVlSizeChannel:p});g=g||{[c]:V$t(c,h||l,m||u,o,y,!!e,r.type)};const w=(u||m)?.get("type")==="band"&&cb(y)&&!v?"top":"middle",_=gOe(t,r,o,w),E=_==="xc"||_==="yc",{offset:S,offsetType:T}=Bx({channel:t,markDef:r,encoding:i,model:n,bandPosition:E?.5:0}),k=sZ({channel:t,channelDef:e,markDef:r,config:o,scaleName:l,scale:u,stack:s,offset:S,defaultRef:RZ({model:n,defaultPos:"mid",channel:t,scaleName:l,scale:u}),bandPosition:E?T==="encoding"?0:.5:tn(y)?{signal:`(1-${y})/2`}:cb(y)?(1-y.band)/2:0});if(c)return{[_]:k,...g};{const R=D0(d),I=g[c],P=S?{...I,offset:S}:I;return{[_]:k,[R]:Yt(k)?[k[0],{...k[1],offset:P}]:{...k,offset:P}}}}function Bhe(e,t,n,r,i,o,s){if(JDe(e))return 0;const a=e==="x"||e==="y2",l=a?-t/2:t/2;if(tn(n)||tn(i)||tn(r)||o){const u=Pd(n),c=Pd(i),d=Pd(r),f=Pd(o),m=o?`(${s} < ${f} ? ${a?"":"-"}0.5 * (${f} - (${s})) : ${l})`:l,p=d?`${d} + `:"",g=u?`(${u} ? -1 : 1) * `:"",v=c?`(${c} + ${m})`:m;return{signal:p+g+v}}else return i=i||0,r+(n?-i-l:+i+l)}function G$t({fieldDef:e,fieldDef2:t,channel:n,model:r}){const{config:i,markDef:o,encoding:s}=r,a=r.getScaleComponent(n),l=r.scaleName(n),u=a?a.get("type"):void 0,c=a.get("reverse"),d=n3e({channel:n,fieldDef:e,markDef:o,config:i,scaleType:u}),h=r.component.axes[n]?.[0]?.get("translate")??.5,m=Fo(n)?gi("binSpacing",o,i)??0:0,p=Qh(n),g=D0(n),v=D0(p),y=Dh("minBandSize",o,i),{offset:w}=Bx({channel:n,markDef:o,encoding:s,model:r,bandPosition:0}),{offset:_}=Bx({channel:p,markDef:o,encoding:s,model:r,bandPosition:0}),E=s6t({fieldDef:e,scaleName:l}),S=Bhe(n,m,c,h,w,y,E),T=Bhe(p,m,c,h,_??w,y,E),k=tn(d)?{signal:`(1-${d.signal})/2`}:cb(d)?(1-d.band)/2:.5,R=P0({fieldDef:e,fieldDef2:t,markDef:o,config:i});if(Pi(e.bin)||e.timeUnit){const I=e.timeUnit&&R!==.5;return{[v]:zhe({fieldDef:e,scaleName:l,bandPosition:k,offset:T,useRectOffsetField:I}),[g]:zhe({fieldDef:e,scaleName:l,bandPosition:tn(k)?{signal:`1-${k.signal}`}:1-k,offset:S,useRectOffsetField:I})}}else if(Xs(e.bin)){const I=Iv(e,l,{},{offset:T});if(Et(t))return{[v]:I,[g]:Iv(t,l,{},{offset:S})};if(Hb(e.bin)&&e.bin.step)return{[v]:I,[g]:{signal:`scale("${l}", ${Ot(e,{expr:"datum"})} + ${e.bin.step})`,offset:S}}}Ct(_Pe(p))}function zhe({fieldDef:e,scaleName:t,bandPosition:n,offset:r,useRectOffsetField:i}){return EN({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:r,...i?{startSuffix:E5,endSuffix:S5}:{}})}const Y$t=new Set(["aria","width","height"]);function Qc(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?mOe(e):{};return{...K$t(e.markDef,t),...Uhe("fill",n),...Uhe("stroke",r),...ta("opacity",e),...ta("fillOpacity",e),...ta("strokeOpacity",e),...ta("strokeWidth",e),...ta("strokeDash",e),...j$t(e),...hOe(e),...AZ(e,"href"),...$$t(e)}}function Uhe(e,t){return t?{[e]:t}:{}}function K$t(e,t){return YNt.reduce((n,r)=>(!Y$t.has(r)&&bt(e,r)&&t[r]!=="ignore"&&(n[r]=zi(e[r])),n),{})}function IZ(e){const{config:t,markDef:n}=e,r=new Set;if(e.forEachFieldDef((i,o)=>{let s;if(!Jh(o)||!(s=e.getScaleType(o)))return;const a=o5(i.aggregate),l=oZ({scaleChannel:o,markDef:n,config:t,scaleType:s,isCountAggregate:a});if(r6t(l)){const u=e.vgField(o,{expr:"datum",binSuffix:e.stack?.impute?"mid":void 0});u&&r.add(u)}}),r.size>0)return{defined:{signal:[...r].map(o=>u5(o,!0)).join(" && ")}}}function Hhe(e,t){if(t!==void 0)return{[e]:zi(t)}}const O9="voronoi",vOe={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(O9)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,o=e.mark;if(oy(o))return Ct(e4t(o)),n;const s={name:e.getName(O9),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...hOe(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let a=0,l=!1;return n.forEach((u,c)=>{const d=u.name??"";d===e.component.mark[0].name?a=c:d.includes(O9)&&(l=!0)}),l||n.splice(a+1,0,s),n}},bOe={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!wZ(e.bind),parse:(e,t,n)=>kOe(t,n),topLevelSignals:(e,t,n)=>{const r=t.name,i=t.project,o=t.bind,s=t.init&&t.init[0],a=vOe.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((l,u)=>{const c=Ki(`${r}_${l.field}`);n.filter(f=>f.name===c).length||n.unshift({name:c,...s?{init:fb(s[u])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${a}[${$r(l.field)}] : null`}]:[],bind:o[l.field]??o[l.channel]??o})}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.find(u=>u.name===r+ym),s=r+Bk,a=i.items.map(u=>Ki(`${r}_${u.field}`)),l=a.map(u=>`${u} !== null`).join(" && ");return a.length&&(o.update=`${l} ? {fields: ${s}, values: [${a.join(", ")}]} : null`),delete o.value,delete o.on,n}},NN="_toggle",wOe={defined:e=>e.type==="point"&&!bh(e)&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+NN,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+ym,r=t.name+NN;return`${r} ? null : ${n}, `+(t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${Pv(e)}}, `)+`${r} ? ${n} : null`}},X$t={defined:e=>e.clear!==void 0&&e.clear!==!1&&!bh(e),parse:(e,t)=>{t.clear&&(t.clear=Kn(t.clear)?jC(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(bOe.defined(t))for(const r of t.project.items){const i=n.findIndex(o=>o.name===Ki(`${t.name}_${r.field}`));i!==-1&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(i,o){i!==-1&&n[i].on&&n[i].on.push({events:t.clear,update:o})}if(t.type==="interval")for(const i of t.project.items){const o=n.findIndex(s=>s.name===i.signals.visual);if(r(o,"[0, 0]"),o===-1){const s=n.findIndex(a=>a.name===i.signals.data);r(s,"null")}}else{let i=n.findIndex(o=>o.name===t.name+ym);r(i,"null"),wOe.defined(t)&&(i=n.findIndex(o=>o.name===t.name+NN),r(i,"false"))}return n}},xOe={defined:e=>{const t=e.resolve==="global"&&e.bind&&wZ(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==tf;return t&&!n&&Ct(i4t),t&&n},parse:(e,t,n)=>{const r=qn(n);if(r.select=Kn(r.select)?{type:r.select,toggle:t.toggle}:{...r.select,toggle:t.toggle},kOe(t,r),Gn(n.select)&&(n.select.on||n.select.clear)){const s='event.item && indexof(event.item.mark.role, "legend") < 0';for(const a of t.events)a.filter=$o(a.filter??[]),a.filter.includes(s)||a.filter.push(s)}const i=k9(t.bind)?t.bind.legend:"click",o=Kn(i)?jC(i,"view"):$o(i);t.bind={legend:{merge:o}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=k9(t.bind)&&t.bind.legend,o=s=>a=>{const l=qn(a);return l.markname=s,l};for(const s of t.project.items){if(!s.hasLegend)continue;const a=`${Ki(s.field)}_legend`,l=`${r}_${a}`;if(n.filter(c=>c.name===l).length===0){const c=i.merge.map(o(`${a}_symbols`)).concat(i.merge.map(o(`${a}_labels`))).concat(i.merge.map(o(`${a}_entries`)));n.unshift({name:l,...t.init?{}:{value:null},on:[{events:c,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${l}`,force:!0}]})}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.find(f=>f.name===r+ym),s=r+Bk,a=i.items.filter(f=>f.hasLegend).map(f=>Ki(`${r}_${Ki(f.field)}_legend`)),u=`${a.map(f=>`${f} !== null`).join(" && ")} ? {fields: ${s}, values: [${a.join(", ")}]} : null`;t.events&&a.length>0?o.on.push({events:a.map(f=>({signal:f})),update:u}):a.length>0&&(o.update=u,delete o.value,delete o.on);const c=n.find(f=>f.name===r+NN),d=k9(t.bind)&&t.bind.legend;return c&&(t.events?c.on.push({...c.on[0],events:d}):c.on[0].events=d),n}};function Q$t(e,t,n){const r=e.fieldDef(t)?.field;for(const i of sa(e.component.selection??{})){const o=i.project.hasField[r]??i.project.hasChannel[t];if(o&&xOe.defined(i)){const s=n.get("selections")??[];s.push(i.name),n.set("selections",s,!1),o.hasLegend=!0}}}const COe="_translate_anchor",_Oe="_translate_delta",J$t={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,i=Zp.defined(t),o=r+COe,{x:s,y:a}=t.project.hasChannel;let l=jC(t.translate,"scope");return i||(l=l.map(u=>(u.between[0].markname=r+Uw,u))),n.push({name:o,value:{},on:[{events:l.map(u=>u.between[0]),update:"{x: x(unit), y: y(unit)"+(s!==void 0?`, extent_x: ${i?WH(e,Zi):`slice(${s.signals.visual})`}`:"")+(a!==void 0?`, extent_y: ${i?WH(e,Fs):`slice(${a.signals.visual})`}`:"")+"}"}]},{name:r+_Oe,value:{},on:[{events:l,update:`{x: ${o}.x - x(unit), y: ${o}.y - y(unit)}`}]}),s!==void 0&&qhe(e,t,s,"width",n),a!==void 0&&qhe(e,t,a,"height",n),n}};function qhe(e,t,n,r,i){const o=t.name,s=o+COe,a=o+_Oe,l=n.channel,u=Zp.defined(t),c=i.find(E=>E.name===n.signals[u?"data":"visual"]),d=e.getSizeSignalRef(r).signal,f=e.getScaleComponent(l),h=f&&f.get("type"),m=f&&f.get("reverse"),p=u?l===Zi?m?"":"-":m?"-":"":"",g=`${s}.extent_${l}`,v=`${p}${a}.${l} / ${u?`${d}`:`span(${g})`}`,y=!u||!f?"panLinear":h==="log"?"panLog":h==="symlog"?"panSymlog":h==="pow"?"panPow":"panLinear",w=u?h==="pow"?`, ${f.get("exponent")??1}`:h==="symlog"?`, ${f.get("constant")??1}`:"":"",_=`${y}(${g}, ${v}${w})`;c.on.push({events:{signal:a},update:u?_:`clampRange(${_}, 0, ${d})`})}const EOe="_zoom_anchor",SOe="_zoom_delta",Z$t={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=Zp.defined(t),o=r+SOe,{x:s,y:a}=t.project.hasChannel,l=$r(e.scaleName(Zi)),u=$r(e.scaleName(Fs));let c=jC(t.zoom,"scope");return i||(c=c.map(d=>(d.markname=r+Uw,d))),n.push({name:r+EOe,on:[{events:c,update:i?"{"+[l?`x: invert(${l}, x(unit))`:"",u?`y: invert(${u}, y(unit))`:""].filter(d=>d).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:c,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),s!==void 0&&Vhe(e,t,s,"width",n),a!==void 0&&Vhe(e,t,a,"height",n),n}};function Vhe(e,t,n,r,i){const o=t.name,s=n.channel,a=Zp.defined(t),l=i.find(y=>y.name===n.signals[a?"data":"visual"]),u=e.getSizeSignalRef(r).signal,c=e.getScaleComponent(s),d=c&&c.get("type"),f=a?WH(e,s):l.name,h=o+SOe,m=`${o}${EOe}.${s}`,p=!a||!c?"zoomLinear":d==="log"?"zoomLog":d==="symlog"?"zoomSymlog":d==="pow"?"zoomPow":"zoomLinear",g=a?d==="pow"?`, ${c.get("exponent")??1}`:d==="symlog"?`, ${c.get("constant")??1}`:"":"",v=`${p}(${f}, ${m}, ${h}${g})`;l.on.push({events:{signal:h},update:a?v:`clampRange(${v}, 0, ${u})`})}const hb="_store",ym="_tuple",eLt="_modify",TOe="vlSelectionResolve",k5=[T$t,N$t,_$t,wOe,bOe,Zp,xOe,X$t,J$t,Z$t,vOe];function tLt(e){let t=e.parent;for(;t&&!ju(t);)t=t.parent;return t}function Pv(e,{escape:t}={escape:!0}){let n=t?$r(e.name):e.name;const r=tLt(e);if(r){const{facet:i}=r;for(const o of Sc)i[o]&&(n+=` + '__facet_${o}_' + (facet[${$r(r.vgField(o))}])`)}return n}function DZ(e){return sa(e.component.selection??{}).reduce((t,n)=>t||n.project.hasSelectionId,!1)}function kOe(e,t){(Vr(t.select)||!t.select.on)&&delete e.events,(Vr(t.select)||!t.select.clear)&&delete e.clear,(Vr(t.select)||!t.select.toggle)&&delete e.toggle}function bh(e){return e.events?.find(t=>"type"in t&&t.type==="timer")}const nLt="RawCode",rLt="Literal",iLt="Property",oLt="Identifier",sLt="ArrayExpression",aLt="BinaryExpression",lLt="CallExpression",uLt="ConditionalExpression",cLt="LogicalExpression",dLt="MemberExpression",fLt="ObjectExpression",hLt="UnaryExpression";function Cf(e){this.type=e}Cf.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=pLt(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function pLt(e){switch(e.type){case sLt:return e.elements;case aLt:case cLt:return[e.left,e.right];case lLt:return[e.callee].concat(e.arguments);case uLt:return[e.test,e.consequent,e.alternate];case dLt:return[e.object,e.property];case fLt:return e.properties;case iLt:return[e.key,e.value];case hLt:return[e.argument];case oLt:case rLt:case nLt:default:return[]}}var ep,Zt,st,ja,hi,A5=1,zk=2,pb=3,sy=4,R5=5,Yb=6,Ul=7,Uk=8,mLt=9;ep={};ep[A5]="Boolean";ep[zk]="<end>";ep[pb]="Identifier";ep[sy]="Keyword";ep[R5]="Null";ep[Yb]="Numeric";ep[Ul]="Punctuator";ep[Uk]="String";ep[mLt]="RegularExpression";var gLt="ArrayExpression",yLt="BinaryExpression",vLt="CallExpression",bLt="ConditionalExpression",AOe="Identifier",wLt="Literal",xLt="LogicalExpression",CLt="MemberExpression",_Lt="ObjectExpression",ELt="Property",SLt="UnaryExpression",Ps="Unexpected token %0",TLt="Unexpected number",kLt="Unexpected string",ALt="Unexpected identifier",RLt="Unexpected reserved word",ILt="Unexpected end of input",YH="Invalid regular expression",N9="Invalid regular expression: missing /",ROe="Octal literals are not allowed in strict mode.",DLt="Duplicate data property in object literal not allowed in strict mode",ia="ILLEGAL",tT="Disabled.",PLt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),OLt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function I5(e,t){if(!e)throw new Error("ASSERT: "+t)}function Sp(e){return e>=48&&e<=57}function PZ(e){return"0123456789abcdefABCDEF".includes(e)}function FS(e){return"01234567".includes(e)}function NLt(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function nT(e){return e===10||e===13||e===8232||e===8233}function Hk(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&PLt.test(String.fromCharCode(e))}function MN(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&OLt.test(String.fromCharCode(e))}const MLt={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function IOe(){for(;st<ja;){const e=Zt.charCodeAt(st);if(NLt(e)||nT(e))++st;else break}}function KH(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)st<ja&&PZ(Zt[st])?(r=Zt[st++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):Hr({},Ps,ia);return String.fromCharCode(i)}function $Lt(){var e,t,n,r;for(e=Zt[st],t=0,e==="}"&&Hr({},Ps,ia);st<ja&&(e=Zt[st++],!!PZ(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&Hr({},Ps,ia),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function DOe(){var e,t;for(e=Zt.charCodeAt(st++),t=String.fromCharCode(e),e===92&&(Zt.charCodeAt(st)!==117&&Hr({},Ps,ia),++st,e=KH("u"),(!e||e==="\\"||!Hk(e.charCodeAt(0)))&&Hr({},Ps,ia),t=e);st<ja&&(e=Zt.charCodeAt(st),!!MN(e));)++st,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),Zt.charCodeAt(st)!==117&&Hr({},Ps,ia),++st,e=KH("u"),(!e||e==="\\"||!MN(e.charCodeAt(0)))&&Hr({},Ps,ia),t+=e);return t}function LLt(){var e,t;for(e=st++;st<ja;){if(t=Zt.charCodeAt(st),t===92)return st=e,DOe();if(MN(t))++st;else break}return Zt.slice(e,st)}function FLt(){var e,t,n;return e=st,t=Zt.charCodeAt(st)===92?DOe():LLt(),t.length===1?n=pb:MLt.hasOwnProperty(t)?n=sy:t==="null"?n=R5:t==="true"||t==="false"?n=A5:n=pb,{type:n,value:t,start:e,end:st}}function M9(){var e=st,t=Zt.charCodeAt(st),n,r=Zt[st],i,o,s;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++st,{type:Ul,value:String.fromCharCode(t),start:e,end:st};default:if(n=Zt.charCodeAt(st+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return st+=2,{type:Ul,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:st};case 33:case 61:return st+=2,Zt.charCodeAt(st)===61&&++st,{type:Ul,value:Zt.slice(e,st),start:e,end:st}}}if(s=Zt.substr(st,4),s===">>>=")return st+=4,{type:Ul,value:s,start:e,end:st};if(o=s.substr(0,3),o===">>>"||o==="<<="||o===">>=")return st+=3,{type:Ul,value:o,start:e,end:st};if(i=o.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return st+=2,{type:Ul,value:i,start:e,end:st};if(i==="//"&&Hr({},Ps,ia),"<>=!+-*%&|^/".includes(r))return++st,{type:Ul,value:r,start:e,end:st};Hr({},Ps,ia)}function jLt(e){let t="";for(;st<ja&&PZ(Zt[st]);)t+=Zt[st++];return t.length===0&&Hr({},Ps,ia),Hk(Zt.charCodeAt(st))&&Hr({},Ps,ia),{type:Yb,value:parseInt("0x"+t,16),start:e,end:st}}function BLt(e){let t="0"+Zt[st++];for(;st<ja&&FS(Zt[st]);)t+=Zt[st++];return(Hk(Zt.charCodeAt(st))||Sp(Zt.charCodeAt(st)))&&Hr({},Ps,ia),{type:Yb,value:parseInt(t,8),octal:!0,start:e,end:st}}function Whe(){var e,t,n;if(n=Zt[st],I5(Sp(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=st,e="",n!=="."){if(e=Zt[st++],n=Zt[st],e==="0"){if(n==="x"||n==="X")return++st,jLt(t);if(FS(n))return BLt(t);n&&Sp(n.charCodeAt(0))&&Hr({},Ps,ia)}for(;Sp(Zt.charCodeAt(st));)e+=Zt[st++];n=Zt[st]}if(n==="."){for(e+=Zt[st++];Sp(Zt.charCodeAt(st));)e+=Zt[st++];n=Zt[st]}if(n==="e"||n==="E")if(e+=Zt[st++],n=Zt[st],(n==="+"||n==="-")&&(e+=Zt[st++]),Sp(Zt.charCodeAt(st)))for(;Sp(Zt.charCodeAt(st));)e+=Zt[st++];else Hr({},Ps,ia);return Hk(Zt.charCodeAt(st))&&Hr({},Ps,ia),{type:Yb,value:parseFloat(e),start:t,end:st}}function zLt(){var e="",t,n,r,i,o=!1;for(t=Zt[st],I5(t==="'"||t==='"',"String literal must starts with a quote"),n=st,++st;st<ja;)if(r=Zt[st++],r===t){t="";break}else if(r==="\\")if(r=Zt[st++],!r||!nT(r.charCodeAt(0)))switch(r){case"u":case"x":Zt[st]==="{"?(++st,e+=$Lt()):e+=KH(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:FS(r)?(i="01234567".indexOf(r),i!==0&&(o=!0),st<ja&&FS(Zt[st])&&(o=!0,i=i*8+"01234567".indexOf(Zt[st++]),"0123".includes(r)&&st<ja&&FS(Zt[st])&&(i=i*8+"01234567".indexOf(Zt[st++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&Zt[st]===`
`&&++st;else{if(nT(r.charCodeAt(0)))break;e+=r}return t!==""&&Hr({},Ps,ia),{type:Uk,value:e,octal:o,start:n,end:st}}function ULt(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";Hr({},YH)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{Hr({},YH)}try{return new RegExp(e,t)}catch{return null}}function HLt(){var e,t,n,r,i;for(e=Zt[st],I5(e==="/","Regular expression literal must start with a slash"),t=Zt[st++],n=!1,r=!1;st<ja;)if(e=Zt[st++],t+=e,e==="\\")e=Zt[st++],nT(e.charCodeAt(0))&&Hr({},N9),t+=e;else if(nT(e.charCodeAt(0)))Hr({},N9);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||Hr({},N9),i=t.substr(1,t.length-2),{value:i,literal:t}}function qLt(){var e,t,n;for(t="",n="";st<ja&&(e=Zt[st],!!MN(e.charCodeAt(0)));)++st,e==="\\"&&st<ja?Hr({},Ps,ia):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&Hr({},YH,n),{value:n,literal:t}}function VLt(){var e,t,n,r;return hi=null,IOe(),e=st,t=HLt(),n=qLt(),r=ULt(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:st}}function WLt(e){return e.type===pb||e.type===sy||e.type===A5||e.type===R5}function POe(){if(IOe(),st>=ja)return{type:zk,start:st,end:st};const e=Zt.charCodeAt(st);return Hk(e)?FLt():e===40||e===41||e===59?M9():e===39||e===34?zLt():e===46?Sp(Zt.charCodeAt(st+1))?Whe():M9():Sp(e)?Whe():M9()}function Vl(){const e=hi;return st=e.end,hi=POe(),st=e.end,e}function OOe(){const e=st;hi=POe(),st=e}function GLt(e){const t=new Cf(gLt);return t.elements=e,t}function Ghe(e,t,n){const r=new Cf(e==="||"||e==="&&"?xLt:yLt);return r.operator=e,r.left=t,r.right=n,r}function YLt(e,t){const n=new Cf(vLt);return n.callee=e,n.arguments=t,n}function KLt(e,t,n){const r=new Cf(bLt);return r.test=e,r.consequent=t,r.alternate=n,r}function OZ(e){const t=new Cf(AOe);return t.name=e,t}function JE(e){const t=new Cf(wLt);return t.value=e.value,t.raw=Zt.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function Yhe(e,t,n){const r=new Cf(CLt);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function XLt(e){const t=new Cf(_Lt);return t.properties=e,t}function Khe(e,t,n){const r=new Cf(ELt);return r.key=t,r.value=n,r.kind=e,r}function QLt(e,t){const n=new Cf(SLt);return n.operator=e,n.argument=t,n.prefix=!0,n}function Hr(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(o,s)=>(I5(s<r.length,"Message reference must be in range"),r[s]));throw n=new Error(i),n.index=st,n.description=i,n}function D5(e){e.type===zk&&Hr(e,ILt),e.type===Yb&&Hr(e,TLt),e.type===Uk&&Hr(e,kLt),e.type===pb&&Hr(e,ALt),e.type===sy&&Hr(e,RLt),Hr(e,Ps,e.value)}function Ba(e){const t=Vl();(t.type!==Ul||t.value!==e)&&D5(t)}function Ui(e){return hi.type===Ul&&hi.value===e}function $9(e){return hi.type===sy&&hi.value===e}function JLt(){const e=[];for(st=hi.start,Ba("[");!Ui("]");)Ui(",")?(Vl(),e.push(null)):(e.push(mb()),Ui("]")||Ba(","));return Vl(),GLt(e)}function Xhe(){st=hi.start;const e=Vl();return e.type===Uk||e.type===Yb?(e.octal&&Hr(e,ROe),JE(e)):OZ(e.value)}function ZLt(){var e,t,n,r;if(st=hi.start,e=hi,e.type===pb)return n=Xhe(),Ba(":"),r=mb(),Khe("init",n,r);if(e.type===zk||e.type===Ul)D5(e);else return t=Xhe(),Ba(":"),r=mb(),Khe("init",t,r)}function eFt(){var e=[],t,n,r,i={},o=String;for(st=hi.start,Ba("{");!Ui("}");)t=ZLt(),t.key.type===AOe?n=t.key.name:n=o(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?Hr({},DLt):i[r]=!0,e.push(t),Ui("}")||Ba(",");return Ba("}"),XLt(e)}function tFt(){Ba("(");const e=NZ();return Ba(")"),e}const nFt={if:1};function rFt(){var e,t,n;if(Ui("("))return tFt();if(Ui("["))return JLt();if(Ui("{"))return eFt();if(e=hi.type,st=hi.start,e===pb||nFt[hi.value])n=OZ(Vl().value);else if(e===Uk||e===Yb)hi.octal&&Hr(hi,ROe),n=JE(Vl());else{if(e===sy)throw new Error(tT);e===A5?(t=Vl(),t.value=t.value==="true",n=JE(t)):e===R5?(t=Vl(),t.value=null,n=JE(t)):Ui("/")||Ui("/=")?(n=JE(VLt()),OOe()):D5(Vl())}return n}function iFt(){const e=[];if(Ba("("),!Ui(")"))for(;st<ja&&(e.push(mb()),!Ui(")"));)Ba(",");return Ba(")"),e}function oFt(){st=hi.start;const e=Vl();return WLt(e)||D5(e),OZ(e.value)}function sFt(){return Ba("."),oFt()}function aFt(){Ba("[");const e=NZ();return Ba("]"),e}function lFt(){var e,t,n;for(e=rFt();;)if(Ui("."))n=sFt(),e=Yhe(".",e,n);else if(Ui("("))t=iFt(),e=YLt(e,t);else if(Ui("["))n=aFt(),e=Yhe("[",e,n);else break;return e}function Qhe(){const e=lFt();if(hi.type===Ul&&(Ui("++")||Ui("--")))throw new Error(tT);return e}function YP(){var e,t;if(hi.type!==Ul&&hi.type!==sy)t=Qhe();else{if(Ui("++")||Ui("--"))throw new Error(tT);if(Ui("+")||Ui("-")||Ui("~")||Ui("!"))e=Vl(),t=YP(),t=QLt(e.value,t);else{if($9("delete")||$9("void")||$9("typeof"))throw new Error(tT);t=Qhe()}}return t}function Jhe(e){let t=0;if(e.type!==Ul&&e.type!==sy)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function uFt(){var e,t,n,r,i,o,s,a,l,u;if(e=hi,l=YP(),r=hi,i=Jhe(r),i===0)return l;for(r.prec=i,Vl(),t=[e,hi],s=YP(),o=[l,r,s];(i=Jhe(hi))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)s=o.pop(),a=o.pop().value,l=o.pop(),t.pop(),n=Ghe(a,l,s),o.push(n);r=Vl(),r.prec=i,o.push(r),t.push(hi),n=YP(),o.push(n)}for(u=o.length-1,n=o[u],t.pop();u>1;)t.pop(),n=Ghe(o[u-1].value,o[u-2],n),u-=2;return n}function mb(){var e,t,n;return e=uFt(),Ui("?")&&(Vl(),t=mb(),Ba(":"),n=mb(),e=KLt(e,t,n)),e}function NZ(){const e=mb();if(Ui(","))throw new Error(tT);return e}function cFt(e){Zt=e,st=0,ja=Zt.length,hi=null,OOe();const t=NZ();if(hi.type!==zk)throw new Error("Unexpect token after expression.");return t}function XH(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...XH(e.object)),t.push(...XH(e.property))),t)}function NOe(e){return e.object.type==="MemberExpression"?NOe(e.object):e.object.name==="datum"}function MOe(e){const t=cFt(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&NOe(r)&&n.add(XH(r).slice(1).join("."))}),n}class zC extends pi{clone(){return new zC(null,this.model,qn(this.filter))}constructor(t,n,r){super(t),this.model=n,this.filter=r,this.expr=$N(this.model,this.filter,this),this._dependentFields=MOe(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function dFt(e,t){const n={},r=e.config.selection;if(!t||!t.length)return n;let i=0;for(const o of t){const s=Ki(o.name),a=o.select,l=Kn(a)?a:a.type,u=Lr(a)?qn(a):{type:l},c=r[l];for(const h in c)h==="fields"||h==="encodings"||(h==="mark"&&(u.mark={...c.mark,...u.mark}),(u[h]===void 0||u[h]===!0)&&(u[h]=qn(c[h]??u[h])));const d=n[s]={...u,name:s,type:l,init:o.value,bind:o.bind,events:Kn(u.on)?jC(u.on,"scope"):$o(qn(u.on))};if(bh(d)&&(i++,i>1)){delete n[s];continue}const f=qn(o);for(const h of k5)h.defined(d)&&h.parse&&h.parse(e,d,f)}return i>1&&Ct(c4t),n}function $Oe(e,t,n,r="datum"){const i=Kn(t)?t:t.param,o=Ki(i),s=$r(o+hb);let a;try{a=e.getSelectionComponent(o,i)}catch{return`!!${o}`}if(a.project.timeUnit){const f=n??e.component.data.raw,h=a.project.timeUnit.clone();f.parent?h.insertAsParentOf(f):f.parent=h}const l=a.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",u=a.resolve==="global"?")":`, ${$r(a.resolve)})`,c=`${l}${s}, ${r}${u}`,d=`length(data(${s}))`;return t.empty===!1?`${d} && ${c}`:`!${d} || ${c}`}function LOe(e,t,n){const r=Ki(t),i=n.encoding;let o=n.field,s;try{s=e.getSelectionComponent(r,t)}catch{return r}if(!i&&!o)o=s.project.items[0].field,s.project.items.length>1&&Ct(d4t(o));else if(i&&!o){const a=s.project.items.filter(l=>l.channel===i);!a.length||a.length>1?(o=s.project.items[0].field,Ct(f4t(a,i,n,o))):o=a[0].field}return`${s.name}[${$r(jc(o))}]`}function fFt(e,t){for(const[n,r]of I0(e.component.selection??{})){const i=e.getName(`lookup_${n}`);e.component.data.outputNodes[i]=r.materialized=new Xl(new zC(t,e,{param:n}),i,ao.Lookup,e.component.data.outputNodeRefCounts)}}function $N(e,t,n){return MS(t,r=>Kn(r)?r:xMt(r)?$Oe(e,r,n):MPe(r))}function hFt(e,t){if(e)return Yt(e)&&!Ig(e)?e.map(n=>fZ(n,t)).join(", "):e}function L9(e,t,n,r){var i,o;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[n]=r}function ZE(e,t,n,r={header:!1}){const{disable:i,orient:o,scale:s,labelExpr:a,title:l,zindex:u,...c}=e.combine();if(!i){for(const d in c){const f=d,h=T6t[f],m=c[f];if(h&&h!==t&&h!=="both")delete c[f];else if(jk(m)){const{condition:p,...g}=m,v=$o(p),y=bhe[f];if(y){const{vgProp:w,part:_}=y,E=[...v.map(S=>{const{test:T,...k}=S;return{test:$N(null,T),...k}}),g];L9(c,_,w,E),delete c[f]}else if(y===null){const w={signal:v.map(_=>{const{test:E,...S}=_;return`${$N(null,E)} ? ${rhe(S)} : `}).join("")+rhe(g)};c[f]=w}}else if(tn(m)){const p=bhe[f];if(p){const{vgProp:g,part:v}=p;L9(c,v,g,m),delete c[f]}}pr(["labelAlign","labelBaseline"],f)&&c[f]===null&&delete c[f]}if(t==="grid"){if(!c.grid)return;if(c.encode){const{grid:d}=c.encode;c.encode={...d?{grid:d}:{}},yi(c.encode)&&delete c.encode}return{scale:s,orient:o,...c,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Lo(u,0)}}else{if(!r.header&&e.mainExtracted)return;if(a!==void 0){let f=a;c.encode?.labels?.update&&tn(c.encode.labels.update.text)&&(f=ob(a,"datum.label",c.encode.labels.update.text.signal)),L9(c,"labels","text",{signal:f})}if(c.labelAlign===null&&delete c.labelAlign,c.encode){for(const f of f3e)e.hasAxisPart(f)||delete c.encode[f];yi(c.encode)&&delete c.encode}const d=hFt(l,n);return{scale:s,orient:o,grid:!1,...d?{title:d}:{},...c,...n.aria===!1?{aria:!1}:{},zindex:Lo(u,0)}}}}function FOe(e){const{axes:t}=e.component,n=[];for(const r of zm)if(t[r]){for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const o=r==="x"?"height":"width",s=e.getSizeSignalRef(o).signal;o!==s&&n.push({name:o,update:s})}}return n}function pFt(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(i=>ZE(i,"grid",t)),...r.map(i=>ZE(i,"grid",t)),...n.map(i=>ZE(i,"main",t)),...r.map(i=>ZE(i,"main",t))].filter(i=>i)}function Zhe(e,t,n,r){return Object.assign.apply(null,[{},...e.map(i=>{if(i==="axisOrient"){const o=n==="x"?"bottom":"left",s=t[n==="x"?"axisBottom":"axisLeft"]||{},a=t[n==="x"?"axisTop":"axisRight"]||{},l=new Set([...vt(s),...vt(a)]),u={};for(const c of l.values())u[c]={signal:`${r.signal} === "${o}" ? ${Pd(s[c])} : ${Pd(a[c])}`};return u}return t[i]})])}function mFt(e,t,n,r){const i=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:jPe(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],o=e==="x"?"axisX":"axisY",s=tn(n)?"axisOrient":`axis${Ak(n)}`,a=[...i,...i.map(u=>o+u.substr(4))],l=["axis",s,o];return{vlOnlyAxisConfig:Zhe(a,r,e,n),vgAxisConfig:Zhe(l,r,e,n),axisConfigStyle:gFt([...l,...a],r)}}function gFt(e,t){const n=[{}];for(const r of e){let i=t[r]?.style;if(i){i=$o(i);for(const o of i)n.push(t.style[o])}}return Object.assign.apply(null,n)}function QH(e,t,n,r={}){const i=hPe(e,n,t);if(i!==void 0)return{configFrom:"style",configValue:i};for(const o of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(r[o]?.[e]!==void 0)return{configFrom:o,configValue:r[o][e]};return{}}const epe={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>t.grid??yFt(n,e),gridScale:({model:e,channel:t})=>vFt(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||BOe(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||jOe(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>e.labelFlush??wFt(t.type,n),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>e.labelOverlap??xFt(t.type,n,Et(t)&&!!t.timeUnit,Et(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{const o=e==="x"?"width":e==="y"?"height":void 0,s=o?t.getSizeSignalRef(o):void 0;return n.tickCount??_Ft({fieldOrDatumDef:r,scaleType:i,size:s,values:n.values})},tickMinStep:EFt,title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=zOe(t,n);if(r!==void 0)return r;const i=t.typedFieldDef(n),o=n==="x"?"x2":"y2",s=t.fieldDef(o);return mPe(i?[yhe(i)]:[],Et(s)?[yhe(s)]:[])},values:({axis:e,fieldOrDatumDef:t})=>SFt(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>e.zindex??TFt(n,t)};function yFt(e,t){return!Ms(e)&&Et(t)&&!Pi(t?.bin)&&!Xs(t?.bin)}function vFt(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function bFt(e,t,n,r,i){const o=t?.labelAngle;if(o!==void 0)return tn(o)?o:J2(o);{const{configValue:s}=QH("labelAngle",r,t?.style,i);return s!==void 0?J2(s):n===Zi&&pr([eZ,ZJ],e.type)&&!(Et(e)&&e.timeUnit)?270:void 0}}function JH(e){return`(((${e.signal} % 360) + 360) % 360)`}function jOe(e,t,n,r){if(e!==void 0)if(n==="x"){if(tn(e)){const i=JH(e),o=tn(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${i} && ${i} < 135) || (225 < ${i} && ${i} < 315) ? "middle" :(${i} <= 45 || 315 <= ${i}) === ${o} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(tn(t)){const i=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${i} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(tn(e)){const i=JH(e),o=tn(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${i} <= 45 || 315 <= ${i} || (135 <= ${i} && ${i} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${i} && ${i} <= 135) === ${o} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(tn(t)){const i=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${i} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function BOe(e,t,n){if(e===void 0)return;const r=n==="x",i=r?0:90,o=r?"bottom":"left";if(tn(e)){const s=JH(e),a=tn(t)?`(${t.signal} === "${o}")`:t===o;return{signal:`(${i?`(${s} + 90)`:s} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${s} && ${s} < ${180+i}) === ${a} ? "left" : "right"`}}if((e+i)%180===0)return r?null:"center";if(tn(t)){const s=i<e&&e<180+i?"===":"!==";return{signal:`${`${t.signal} ${s} "${o}"`} ? "left" : "right"`}}return(i<e&&e<180+i)==(t===o)?"left":"right"}function wFt(e,t){if(t==="x"&&pr(["quantitative","temporal"],e))return!0}function xFt(e,t,n,r){if(n&&!Lr(r)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function CFt(e){return e==="x"?"bottom":"left"}function _Ft({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){if(!r&&!Ms(t)&&t!=="log"){if(Et(e)){if(Pi(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&pr(["month","hours","day","quarter"],Ns(e.timeUnit)?.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function EFt({format:e,fieldOrDatumDef:t}){if(e==="d")return 1;if(Et(t)){const{timeUnit:n}=t;if(n){const r=PPe(n);if(r)return{signal:r}}}}function zOe(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),o=r?r.title:void 0,s=i?i.title:void 0;if(o&&s)return gPe(o,s);if(o)return o;if(s)return s;if(o!==void 0)return o;if(s!==void 0)return s}function SFt(e,t){const n=e.values;if(Yt(n))return d3e(t,n);if(tn(n))return n}function TFt(e,t){return e==="rect"&&TN(t)?1:0}class zx extends pi{clone(){return new zx(null,qn(this.transform))}constructor(t,n){super(t),this.transform=n,this._dependentFields=MOe(this.transform.calculate)}static parseAllForSortIndex(t,n){return n.forEachFieldDef((r,i)=>{if(Gb(r)&&t3e(r.sort)){const{field:o,timeUnit:s}=r,a=r.sort,l=a.map((u,c)=>`${MPe({field:o,timeUnit:s,equal:u})} ? ${c} : `).join("")+a.length;t=new zx(t,{calculate:l,as:Ux(r,i,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${xr(this.transform)}`}}function Ux(e,t,n){return Ot(e,{prefix:t,suffix:"sort_index",...n})}function P5(e,t){return pr(["top","bottom"],t)?"column":pr(["left","right"],t)||e==="row"?"row":"column"}function Hx(e,t,n,r){const i=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return Lo((t||{})[e],i[e],n.header[e])}function O5(e,t,n,r){const i={};for(const o of e){const s=Hx(o,t||{},n,r);s!==void 0&&(i[o]=s)}return i}const MZ=["row","column"],$Z=["header","footer"];function kFt(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:o,titleAngle:s,titleOrient:a}=O5(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),l=P5(t,a),u=J2(s);return{name:`${t}-title`,type:"group",role:`${l}-title`,title:{text:n,...t==="row"?{orient:"left"}:{},style:"guide-title",...HOe(u,l),...UOe(l,u,o),...qOe(r,i,t,Y6t,I3e)}}}function UOe(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=BOe(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function HOe(e,t){const n=jOe(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function AFt(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of $Z)if(n[i])for(const o of n[i]){const s=IFt(e,t,i,n,o);s!=null&&r.push(s)}return r}function RFt(e,t){const{sort:n}=e;return Jp(n)?{field:Ot(n,{expr:"datum"}),order:n.order??"ascending"}:Yt(n)?{field:Ux(e,t,{expr:"datum"}),order:"ascending"}:{field:Ot(e,{expr:"datum"}),order:n??"ascending"}}function ZH(e,t,n){const{format:r,formatType:i,labelAngle:o,labelAnchor:s,labelOrient:a,labelExpr:l}=O5(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),u=lZ({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,c=P5(t,a);return{text:{signal:l?ob(ob(l,"datum.label",u),"datum.value",Ot(e,{expr:"parent"})):u},...t==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...HOe(o,c),...UOe(c,o,s),...qOe(n,e,t,K6t,D3e)}}function IFt(e,t,n,r,i){if(i){let o=null;const{facetFieldDef:s}=r,a=e.config?e.config:void 0;if(s&&i.labels){const{labelOrient:d}=O5(["labelOrient"],s.header,a,t);(t==="row"&&!pr(["top","bottom"],d)||t==="column"&&!pr(["left","right"],d))&&(o=ZH(s,t,a))}const l=ju(e)&&!Mk(e.facet),u=i.axes,c=u?.length>0;if(o||c){const d=t==="row"?"height":"width";return{name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`,...r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:RFt(s,t)}:{},...c&&l?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...o?{title:o}:{},...i.sizeSignal?{encode:{update:{[d]:i.sizeSignal}}}:{},...c?{axes:u}:{}}}}return null}const DFt={column:{start:0,end:1},row:{start:1,end:0}};function PFt(e,t){return DFt[t][e]}function OFt(e,t){const n={};for(const r of Sc){const i=e[r];if(i?.facetFieldDef){const{titleAnchor:o,titleOrient:s}=O5(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),a=P5(r,s),l=PFt(o,a);l!==void 0&&(n[a]=l)}}return yi(n)?void 0:n}function qOe(e,t,n,r,i){const o={};for(const s of r){if(!i[s])continue;const a=Hx(s,t?.header,e,n);a!==void 0&&(o[i[s]]=a)}return o}function LZ(e){return[...aI(e,"width"),...aI(e,"height"),...aI(e,"childWidth"),...aI(e,"childHeight")]}function aI(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(!r||r==="merged")return[];const i=e.getSizeSignalRef(t).signal;if(r==="step"){const o=e.getScaleComponent(n);if(o){const s=o.get("type"),a=o.get("range");if(Ms(s)&&qb(a)){const l=e.scaleName(n);return ju(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[tpe(l,a)]:[tpe(l,a),{name:i,update:VOe(l,o,`domain('${l}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const o=i.endsWith("width"),s=o?"containerSize()[0]":"containerSize()[1]",a=jH(e.config.view,o?"width":"height"),l=`isFinite(${s}) ? ${s} : ${a}`;return[{name:i,init:l,on:[{update:l,events:"window:resize"}]}]}else return[{name:i,value:r}]}function tpe(e,t){const n=`${e}_step`;return tn(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function VOe(e,t,n){const r=t.get("type"),i=t.get("padding"),o=Lo(t.get("paddingOuter"),i);let s=t.get("paddingInner");return s=r==="band"?s!==void 0?s:i:1,`bandspace(${n}, ${Pd(s)}, ${Pd(o)}) * ${e}_step`}function WOe(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function GOe(e,t){return vt(e).reduce((n,r)=>({...n,...BC({model:t,channelDef:e[r],vgChannel:r,mainRefFn:i=>zi(i.value),invalidValueRef:void 0})}),{})}function YOe(e,t){if(ju(t))return e==="theta"?"independent":"shared";if(qC(t))return"shared";if(qZ(t))return Fo(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function FZ(e,t){const n=e.scale[t],r=Fo(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&Ct(H4t(t)),"independent"):e[r][t]||"shared"}const NFt={...J6t,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},KOe=vt(NFt);class MFt extends Hm{}const npe={symbols:$Ft,gradient:LFt,labels:FFt,entries:jFt};function $Ft(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:o}){if(o!=="symbol")return;const{markDef:s,encoding:a,config:l,mark:u}=n,c=s.filled&&u!=="trail";let d={...QNt({},n,GMt),...mOe(n,{filled:c})};const f=i.get("symbolOpacity")??l.legend.symbolOpacity,h=i.get("symbolFillColor")??l.legend.symbolFillColor,m=i.get("symbolStrokeColor")??l.legend.symbolStrokeColor,p=f===void 0?XOe(a.opacity)??s.opacity:void 0;if(d.fill){if(r==="fill"||c&&r===nu)delete d.fill;else if(bt(d.fill,"field"))h?delete d.fill:(d.fill=zi(l.legend.symbolBaseFillColor??"black"),d.fillOpacity=zi(p??1));else if(Yt(d.fill)){const g=eq(a.fill??a.color)??s.fill??(c&&s.color);g&&(d.fill=zi(g))}}if(d.stroke){if(r==="stroke"||!c&&r===nu)delete d.stroke;else if(bt(d.stroke,"field")||m)delete d.stroke;else if(Yt(d.stroke)){const g=Lo(eq(a.stroke||a.color),s.stroke,c?s.color:void 0);g&&(d.stroke={value:g})}}if(r!==Bm){const g=Et(t)&&JOe(n,i,t);g?d.opacity=[{test:g,...zi(p??1)},zi(l.legend.unselectedOpacity)]:p&&(d.opacity=zi(p))}return d={...d,...e},yi(d)?void 0:d}function LFt(e,{model:t,legendType:n,legendCmpt:r}){if(n!=="gradient")return;const{config:i,markDef:o,encoding:s}=t;let a={};const u=(r.get("gradientOpacity")??i.legend.gradientOpacity)===void 0?XOe(s.opacity)||o.opacity:void 0;return u&&(a.opacity=zi(u)),a={...a,...e},yi(a)?void 0:a}function FFt(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const o=n.legend(r)||{},s=n.config,a=Et(t)?JOe(n,i,t):void 0,l=a?[{test:a,value:1},{value:s.legend.unselectedOpacity}]:void 0,{format:u,formatType:c}=o;let d;db(c)?d=Od({fieldOrDatumDef:t,field:"datum.value",format:u,formatType:c,config:s}):u===void 0&&c===void 0&&s.customFormatTypes&&(t.type==="quantitative"&&s.numberFormatType?d=Od({fieldOrDatumDef:t,field:"datum.value",format:s.numberFormat,formatType:s.numberFormatType,config:s}):t.type==="temporal"&&s.timeFormatType&&Et(t)&&t.timeUnit===void 0&&(d=Od({fieldOrDatumDef:t,field:"datum.value",format:s.timeFormat,formatType:s.timeFormatType,config:s})));const f={...l?{opacity:l}:{},...d?{text:d}:{},...e};return yi(f)?void 0:f}function jFt(e,{legendCmpt:t}){return t.get("selections")?.length?{...e,fill:{value:"transparent"}}:e}function XOe(e){return QOe(e,(t,n)=>Math.max(t,n.value))}function eq(e){return QOe(e,(t,n)=>Lo(t,n.value))}function QOe(e,t){if(p6t(e))return $o(e.condition).reduce(t,e.value);if(Zd(e))return e.value}function JOe(e,t,n){const r=t.get("selections");if(!r?.length)return;const i=$r(n.field);return r.map(o=>`(!length(data(${$r(Ki(o)+hb)})) || (${o}[${i}] && indexof(${o}[${i}], datum.value) >= 0))`).join(" || ")}const rpe={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return JPe(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return ZPe(r,t,n)},gradientLength:e=>{const{legend:t,legendConfig:n}=e;return t.gradientLength??n.gradientLength??WFt(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>e.labelOverlap??t.labelOverlap??GFt(n),symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>e.symbolType??zFt(t.type,n,r.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>zw(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(Bw(n)&&oh(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>BFt(t,e)};function BFt(e,t){const n=e.values;if(Yt(n))return d3e(t,n);if(tn(n))return n}function zFt(e,t,n,r){if(t!=="shape"){const i=eq(n)??r;if(i)return i}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function UFt(e){const{legend:t}=e;return Lo(t.type,HFt(e))}function HFt({channel:e,timeUnit:t,scaleType:n}){if(Bw(e)){if(pr(["quarter","month","day"],t))return"symbol";if(oh(n))return"gradient"}return"symbol"}function qFt({legendConfig:e,legendType:t,orient:n,legend:r}){return r.direction??e[t?"gradientDirection":"symbolDirection"]??VFt(n,t)}function VFt(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function WFt({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:o,gradientHorizontalMinLength:s,gradientVerticalMaxLength:a,gradientVerticalMinLength:l}=e;if(oh(i))return n==="horizontal"?r==="top"||r==="bottom"?ipe(t,"width",s,o):s:ipe(t,"height",l,a)}function ipe(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function GFt(e){if(pr(["quantile","threshold","log","symlog"],e))return"greedy"}function ZOe(e){const t=oo(e)?YFt(e):JFt(e);return e.component.legends=t,t}function YFt(e){const{encoding:t}=e,n={};for(const r of[nu,...O3e]){const i=us(t[r]);!i||!e.getScaleComponent(r)||r===ru&&Et(i)&&i.type===FC||(n[r]=QFt(e,r))}return n}function KFt(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function XFt(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!n?.values;case"title":if(t==="title"&&e===r?.title)return!0}return e===(n||{})[t]}function QFt(e,t){let n=e.legend(t);const{markDef:r,encoding:i,config:o}=e,s=o.legend,a=new MFt({},KFt(e,t));Q$t(e,t,a);const l=n!==void 0?!n:s.disable;if(a.set("disable",l,n!==void 0),l)return a;n=n||{};const u=e.getScaleComponent(t).get("type"),c=us(i[t]),d=Et(c)?Ns(c.timeUnit)?.unit:void 0,f=n.orient||o.legend.orient||"right",h=UFt({legend:n,channel:t,timeUnit:d,scaleType:u}),m=qFt({legend:n,legendType:h,orient:f,legendConfig:s}),p={legend:n,channel:t,model:e,markDef:r,encoding:i,fieldOrDatumDef:c,legendConfig:s,config:o,scaleType:u,orient:f,legendType:h,direction:m};for(const _ of KOe){if(h==="gradient"&&_.startsWith("symbol")||h==="symbol"&&_.startsWith("gradient"))continue;const E=_ in rpe?rpe[_](p):n[_];if(E!==void 0){const S=XFt(E,_,n,e.fieldDef(t));(S||o.legend[_]===void 0)&&a.set(_,E,S)}}const g=n?.encoding??{},v=a.get("selections"),y={},w={fieldOrDatumDef:c,model:e,channel:t,legendCmpt:a,legendType:h};for(const _ of["labels","legend","title","symbols","gradient","entries"]){const E=GOe(g[_]??{},e),S=_ in npe?npe[_](E,w):E;S!==void 0&&!yi(S)&&(y[_]={...v?.length&&Et(c)?{name:`${Ki(c.field)}_legend_${_}`}:{},...v?.length?{interactive:!!v}:{},update:S})}return yi(y)||a.set("encode",y,!!n?.encoding),a}function JFt(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){ZOe(r);for(const i of vt(r.component.legends))n.legend[i]=FZ(e.component.resolve,i),n.legend[i]==="shared"&&(t[i]=eNe(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of vt(t))for(const i of e.children)i.component.legends[r]&&n.legend[r]==="shared"&&delete i.component.legends[r];return t}function eNe(e,t){if(!e)return t.clone();const n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(n.explicit&&r.explicit&&n.value!==r.value)return;let i=!1;for(const o of KOe){const s=O0(e.getWithExplicit(o),t.getWithExplicit(o),o,"legend",(a,l)=>{switch(o){case"symbolType":return ZFt(a,l);case"title":return yPe(a,l);case"type":return i=!0,Cu("symbol")}return _5(a,l,o,"legend")});e.setWithExplicit(o,s)}return i&&(e.implicit?.encode?.gradient&&xN(e.implicit,["encode","gradient"]),e.explicit?.encode?.gradient&&xN(e.explicit,["encode","gradient"])),e}function ZFt(e,t){return t.value==="circle"?t:e}function e8t(e,t,n,r){var i,o;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[n]=r}function tNe(e){const t=e.component.legends,n={};for(const i of vt(t)){const o=e.getScaleComponent(i),s=vi(o.get("domains"));if(n[s])for(const a of n[s])eNe(a,t[i])||n[s].push(t[i]);else n[s]=[t[i].clone()]}return sa(n).flat().map(i=>t8t(i,e.config)).filter(i=>i!==void 0)}function t8t(e,t){const{disable:n,labelExpr:r,selections:i,...o}=e.combine();if(!n){if(t.aria===!1&&o.aria==null&&(o.aria=!1),o.encode?.symbols){const s=o.encode.symbols.update;s.fill&&s.fill.value!=="transparent"&&!s.stroke&&!o.stroke&&(s.stroke={value:"transparent"});for(const a of O3e)o[a]&&delete s[a]}if(o.title||delete o.title,r!==void 0){let s=r;o.encode?.labels?.update&&tn(o.encode.labels.update.text)&&(s=ob(r,"datum.label",o.encode.labels.update.text.signal)),e8t(o,"labels","text",{signal:s})}return o}}function n8t(e){return qC(e)||qZ(e)?r8t(e):nNe(e)}function r8t(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),nNe(e))}function nNe(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(s=>s.signal).join(", ")}]`},o=t.data.reduce((s,a)=>{const l=tn(a)?a.signal:`data('${e.lookupDataSource(a)}')`;return pr(s,l)||s.push(l),s},[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:r,size:i,fit:{signal:o.length>1?`[${o.join(", ")}]`:o[0]},...n}]}else return[{name:r,translate:{signal:"[width / 2, height / 2]"},...n}]}const i8t=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class rNe extends Hm{constructor(t,n,r,i){super({...n},{name:t}),this.specifiedProjection=n,this.size=r,this.data=i,this.merged=!1}get isFit(){return!!this.data}}function iNe(e){e.component.projection=oo(e)?o8t(e):l8t(e)}function o8t(e){if(e.hasProjection){const t=Qs(e.specifiedProjection),n=!(t&&(t.scale!=null||t.translate!=null)),r=n?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,i=n?s8t(e):void 0,o=new rNe(e.projectionName(!0),{...Qs(e.config.projection),...t},r,i);return o.get("type")||o.set("type","equalEarth",!1),o}}function s8t(e){const t=[],{encoding:n}=e;for(const r of[[wf,bf],[Bc,xf]])(us(n[r[0]])||us(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(ru)&&e.typedFieldDef(ru).type===FC&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(ao.Main)),t}function a8t(e,t){const n=TJ(i8t,i=>!!(!Wo(e.explicit,i)&&!Wo(t.explicit,i)||Wo(e.explicit,i)&&Wo(t.explicit,i)&&Pu(e.get(i),t.get(i))));if(Pu(e.size,t.size)){if(n)return e;if(Pu(e.explicit,{}))return t;if(Pu(t.explicit,{}))return e}return null}function l8t(e){if(e.children.length===0)return;let t;for(const r of e.children)iNe(r);const n=TJ(e.children,r=>{const i=r.component.projection;if(i)if(t){const o=a8t(t,i);return o&&(t=o),!!o}else return t=i,!0;else return!0});if(t&&n){const r=e.projectionName(!0),i=new rNe(r,t.specifiedProjection,t.size,qn(t.data));for(const o of e.children){const s=o.component.projection;s&&(s.isFit&&i.data.push(...o.component.projection.data),o.renameProjection(s.get("name"),r),s.merged=!0)}return i}}function u8t(e,t,n,r){if(Fk(t,n)){const i=oo(e)?e.axis(n)??e.legend(n)??{}:{},o=Ot(t,{expr:"datum"}),s=Ot(t,{expr:"datum",binSuffix:"end"});return{formulaAs:Ot(t,{binSuffix:"range",forAs:!0}),formula:Nk(o,s,i.format,i.formatType,r)}}return{}}function oNe(e,t){return`${uPe(e)}_${t}`}function c8t(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function jZ(e,t,n){const r=y5(n,void 0)??{},i=oNe(r,t);return e.getName(`${i}_bins`)}function d8t(e){return"as"in e}function ope(e,t,n){let r,i;d8t(e)?r=Kn(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[Ot(e,{forAs:!0}),Ot(e,{binSuffix:"end",forAs:!0})];const o={...y5(t,void 0)},s=oNe(o,e.field),{signal:a,extentSignal:l}=c8t(n,s);if(s5(o.extent)){const c=o.extent;i=LOe(n,c.param,c),delete o.extent}const u={bin:o,field:e.field,as:[r],...a?{signal:a}:{},...l?{extentSignal:l}:{},...i?{span:i}:{}};return{key:s,binComponent:u}}class wh extends pi{clone(){return new wh(null,qn(this.bins))}constructor(t,n){super(t),this.bins=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,o,s)=>{if(Cl(o)&&Pi(o.bin)){const{key:a,binComponent:l}=ope(o,o.bin,n);i[a]={...l,...i[a],...u8t(n,o,s,n.config)}}return i},{});return yi(r)?null:new wh(t,r)}static makeFromTransform(t,n,r){const{key:i,binComponent:o}=ope(n,n.bin,r);return new wh(t,{[i]:o})}merge(t,n){for(const r of vt(t.bins))r in this.bins?(n(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=ih([...this.bins[r].as,...t.bins[r].as],xr)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set(sa(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(sa(this.bins).map(t=>t.field))}hash(){return`Bin ${xr(this.bins)}`}assemble(){return sa(this.bins).flatMap(t=>{const n=[],[r,...i]=t.as,{extent:o,...s}=t.bin,a={type:"bin",field:jc(t.field),as:r,signal:t.signal,...s5(o)?{extent:null}:{extent:o},...t.span?{span:{signal:`span(${t.span})`}}:{},...s};!o&&t.extentSignal&&(n.push({type:"extent",field:jc(t.field),signal:t.extentSignal}),a.extent={signal:t.extentSignal}),n.push(a);for(const l of i)for(let u=0;u<2;u++)n.push({type:"formula",expr:Ot({field:r[u]},{expr:"datum"}),as:l[u]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}function f8t(e,t,n,r){const i=oo(r)?r.encoding[Qh(t)]:void 0;if(Cl(n)&&oo(r)&&r3e(n,i,r.markDef,r.config)){e.add(Ot(n,{})),e.add(Ot(n,{suffix:"end"}));const{mark:o,markDef:s,config:a}=r,l=P0({fieldDef:n,markDef:s,config:a});Z2(o)&&l!==.5&&Fo(t)&&(e.add(Ot(n,{suffix:E5})),e.add(Ot(n,{suffix:S5}))),n.bin&&Fk(n,t)&&e.add(Ot(n,{binSuffix:"range"}))}else if(ePe(t)){const o=ZDe(t);e.add(r.getName(o))}else e.add(Ot(n));return Gb(n)&&NMt(n.scale?.range)&&e.add(n.scale.range.field),e}function h8t(e,t){for(const n of vt(t)){const r=t[n];for(const i of vt(r))n in e?e[n][i]=new Set([...e[n][i]??[],...r[i]]):e[n]={[i]:r[i]}}}class Bd extends pi{clone(){return new Bd(null,new Set(this.dimensions),qn(this.measures))}constructor(t,n,r){super(t),this.dimensions=n,this.measures=r}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let r=!1;n.forEachFieldDef(s=>{s.aggregate&&(r=!0)});const i={},o=new Set;return!r||(n.forEachFieldDef((s,a)=>{const{aggregate:l,field:u}=s;if(l)if(l==="count")i["*"]??(i["*"]={}),i["*"].count=new Set([Ot(s,{forAs:!0})]);else{if(mm(l)||iy(l)){const c=mm(l)?"argmin":"argmax",d=l[c];i[d]??(i[d]={}),i[d][c]=new Set([Ot({op:c,field:d},{forAs:!0})])}else i[u]??(i[u]={}),i[u][l]=new Set([Ot(s,{forAs:!0})]);Jh(a)&&n.scaleDomain(a)==="unaggregated"&&(i[u]??(i[u]={}),i[u].min=new Set([Ot({field:u,aggregate:"min"},{forAs:!0})]),i[u].max=new Set([Ot({field:u,aggregate:"max"},{forAs:!0})]))}else f8t(o,a,s,n)}),o.size+vt(i).length===0)?null:new Bd(t,o,i)}static makeFromTransform(t,n){var r;const i=new Set,o={};for(const s of n.aggregate){const{op:a,field:l,as:u}=s;a&&(a==="count"?(o["*"]??(o["*"]={}),o["*"].count=new Set([u||Ot(s,{forAs:!0})])):(o[l]??(o[l]={}),(r=o[l])[a]??(r[a]=new Set),o[l][a].add(u||Ot(s,{forAs:!0}))))}for(const s of n.groupby??[])i.add(s);return i.size+vt(o).length===0?null:new Bd(t,i,o)}merge(t){return VDe(this.dimensions,t.dimensions)?(h8t(this.measures,t.measures),!0):(oMt("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...vt(this.measures)])}producedFields(){const t=new Set;for(const n of vt(this.measures))for(const r of vt(this.measures[n])){const i=this.measures[n][r];i.size===0?t.add(`${r}_${n}`):i.forEach(t.add,t)}return t}hash(){return`Aggregate ${xr({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],r=[];for(const o of vt(this.measures))for(const s of vt(this.measures[o]))for(const a of this.measures[o][s])r.push(a),t.push(s),n.push(o==="*"?null:jc(o));return{type:"aggregate",groupby:[...this.dimensions].map(jc),ops:t,fields:n,as:r}}}class UC extends pi{constructor(t,n,r,i){super(t),this.model=n,this.name=r,this.data=i;for(const o of Sc){const s=n.facet[o];if(s){const{bin:a,sort:l}=s;this[o]={name:n.getName(`${o}_domain`),fields:[Ot(s),...Pi(a)?[Ot(s,{binSuffix:"end"})]:[]],...Jp(l)?{sortField:l}:Yt(l)?{sortIndexField:Ux(s,o)}:{}}}}this.childModel=n.child}hash(){let t="Facet";for(const n of Sc)this[n]&&(t+=` ${n.charAt(0)}:${xr(this[n])}`);return t}get fields(){const t=[];for(const n of Sc)this[n]?.fields&&t.push(...this[n].fields);return t}dependentFields(){const t=new Set(this.fields);for(const n of Sc)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of zm){const r=this.childModel.component.scales[n];if(r&&!r.merged){const i=r.get("type"),o=r.get("range");if(Ms(i)&&qb(o)){const s=N5(this.childModel,n),a=HZ(s);a?t[n]=a:Ct(BJ(n))}}}return t}assembleRowColumnHeaderData(t,n,r){const i={row:"y",column:"x",facet:void 0}[t],o=[],s=[],a=[];i&&r&&r[i]&&(n?(o.push(`distinct_${r[i]}`),s.push("max")):(o.push(r[i]),s.push("distinct")),a.push(`distinct_${r[i]}`));const{sortField:l,sortIndexField:u}=this[t];if(l){const{op:c=p5,field:d}=l;o.push(d),s.push(c),a.push(Ot(l,{forAs:!0}))}else u&&(o.push(u),s.push("max"),a.push(u));return{name:this[t].name,source:n??this.data,transform:[{type:"aggregate",groupby:this[t].fields,...o.length?{fields:o,ops:s,as:a}:{}}]}}assembleFacetHeaderData(t){const{columns:n}=this.model.layout,{layoutHeaders:r}=this.model.component,i=[],o={};for(const l of MZ){for(const u of $Z){const c=(r[l]&&r[l][u])??[];for(const d of c)if(d.axes?.length>0){o[l]=!0;break}}if(o[l]){const u=`length(data("${this.facet.name}"))`,c=l==="row"?n?{signal:`ceil(${u} / ${n})`}:1:n?{signal:`min(${u}, ${n})`}:{signal:u};i.push({name:`${this.facet.name}_${l}`,transform:[{type:"sequence",start:0,stop:c}]})}}const{row:s,column:a}=o;return(s||a)&&i.unshift(this.assembleRowColumnHeaderData("facet",null,t)),i}assemble(){const t=[];let n=null;const r=this.getChildIndependentFieldsWithStep(),{column:i,row:o,facet:s}=this;if(i&&o&&(r.x||r.y)){n=`cross_${this.column.name}_${this.row.name}`;const a=[].concat(r.x??[],r.y??[]),l=a.map(()=>"distinct");t.push({name:n,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:a,ops:l}]})}for(const a of[Qp,Xp])this[a]&&t.push(this.assembleRowColumnHeaderData(a,n,r));if(s){const a=this.assembleFacetHeaderData(r);a&&t.push(...a)}return t}}function spe(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function p8t(e,t){const n=RJ(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const r=spe(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.startsWith("utc:")){const r=spe(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return Ct(p4t(t)),null}function m8t(e){const t={};return WP(e.filter,n=>{if(NPe(n)){let r=null;WJ(n)?r=Au(n.equal):YJ(n)?r=Au(n.lte):GJ(n)?r=Au(n.lt):KJ(n)?r=Au(n.gt):XJ(n)?r=Au(n.gte):QJ(n)?r=n.range[0]:JJ(n)&&(r=(n.oneOf??n.in)[0]),r&&(Vb(r)?t[n.field]="date":Ji(r)?t[n.field]="number":Kn(r)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function g8t(e){const t={};function n(r){Fx(r)?t[r.field]="date":r.type==="quantitative"&&UNt(r.aggregate)?t[r.field]="number":Px(r.field)>1?r.field in t||(t[r.field]="flatten"):Gb(r)&&Jp(r.sort)&&Px(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((oo(e)||ju(e))&&e.forEachFieldDef((r,i)=>{if(Cl(r))n(r);else{const o=Ub(i),s=e.fieldDef(o);n({...r,type:s.type})}}),oo(e)){const{mark:r,markDef:i,encoding:o}=e;if(oy(r)&&!e.encoding.order){const s=i.orient==="horizontal"?"y":"x",a=o[s];Et(a)&&a.type==="quantitative"&&!(a.field in t)&&(t[a.field]="number")}}return t}function y8t(e){const t={};if(oo(e)&&e.component.selection)for(const n of vt(e.component.selection)){const r=e.component.selection[n];for(const i of r.project.items)!i.channel&&Px(i.field)>1&&(t[i.field]="flatten")}return t}class Oa extends pi{clone(){return new Oa(null,qn(this._parse))}constructor(t,n){super(t),this._parse=n}hash(){return`Parse ${xr(this._parse)}`}static makeExplicit(t,n,r){let i={};const o=n.data;return!l0(o)&&o?.format?.parse&&(i=o.format.parse),this.makeWithAncestors(t,i,{},r)}static makeWithAncestors(t,n,r,i){for(const a of vt(r)){const l=i.getWithExplicit(a);l.value!==void 0&&(l.explicit||l.value===r[a]||l.value==="derived"||r[a]==="flatten"?delete r[a]:Ct(uhe(a,r[a],l.value)))}for(const a of vt(n)){const l=i.get(a);l!==void 0&&(l===n[a]?delete n[a]:Ct(uhe(a,n[a],l)))}const o=new Hm(n,r);i.copyAll(o);const s={};for(const a of vt(o.combine())){const l=o.get(a);l!==null&&(s[a]=l)}return vt(s).length===0||i.parseNothing?null:new Oa(t,s)}get parse(){return this._parse}merge(t){this._parse={...this._parse,...t.parse},t.remove()}assembleFormatParse(){const t={};for(const n of vt(this._parse)){const r=this._parse[n];Px(n)===1&&(t[n]=r)}return t}producedFields(){return new Set(vt(this._parse))}dependentFields(){return new Set(vt(this._parse))}assembleTransforms(t=!1){return vt(this._parse).filter(n=>t?Px(n)>1:!0).map(n=>{const r=p8t(n,this._parse[n]);return r?{type:"formula",expr:r,as:$C(n)}:null}).filter(n=>n!==null)}}class N0 extends pi{clone(){return new N0(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([tf])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:tf}}}class qk extends pi{clone(){return new qk(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${xr(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class Vk extends pi{clone(){return new Vk(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${xr(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class gb extends pi{constructor(t){super(null),t??(t={name:"source"});let n;if(l0(t)||(n=t.format?{...Kl(t.format,["parse"])}:{}),eT(t))this._data={values:t.values};else if(jx(t)){if(this._data={url:t.url},!n.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];pr(["json","csv","tsv","dsv","topojson"],r)||(r="json"),n.type=r}}else Q3e(t)?this._data={values:[{type:"Sphere"}]}:(K3e(t)||l0(t))&&(this._data={});this._generator=l0(t),t.name&&(this._name=t.name),n&&!yi(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}var ape=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},v8t=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},eS;function BZ(e){return e instanceof gb||e instanceof qk||e instanceof Vk}class zZ{constructor(){eS.set(this,void 0),ape(this,eS,!1,"f")}setModified(){ape(this,eS,!0,"f")}get modifiedFlag(){return v8t(this,eS,"f")}}eS=new WeakMap;class Kb extends zZ{getNodeDepths(t,n,r){r.set(t,n);for(const i of t.children)this.getNodeDepths(i,n+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((i,o)=>o[1]-i[1]);for(const i of r)this.run(i[0]);return this.modifiedFlag}}class UZ extends zZ{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class b8t extends UZ{mergeNodes(t,n){const r=n.shift();for(const i of n)t.removeChild(i),i.parent=r,i.remove()}run(t){const n=t.children.map(i=>i.hash()),r={};for(let i=0;i<n.length;i++)r[n[i]]===void 0?r[n[i]]=[t.children[i]]:r[n[i]].push(t.children[i]);for(const i of vt(r))r[i].length>1&&(this.setModified(),this.mergeNodes(t,r[i]))}}class w8t extends UZ{constructor(t){super(),this.requiresSelectionId=t&&DZ(t)}run(t){t instanceof N0&&(this.requiresSelectionId&&(BZ(t.parent)||t.parent instanceof Bd||t.parent instanceof Oa)||(this.setModified(),t.remove()))}}class x8t extends zZ{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let r=new Set;t instanceof vh&&(r=t.producedFields(),kJ(r,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const i of t.children)this.run(i,new Set([...n,...r]))}}class C8t extends UZ{constructor(){super()}run(t){t instanceof Xl&&!t.isRequired()&&(this.setModified(),t.remove())}}class _8t extends Kb{run(t){if(!BZ(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof Oa)if(t instanceof Oa)this.setModified(),t.merge(n);else{if(AJ(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class E8t extends Kb{run(t){const n=[...t.children],r=t.children.filter(i=>i instanceof Oa);if(t.numChildren()>1&&r.length>=1){const i={},o=new Set;for(const s of r){const a=s.parse;for(const l of vt(a))l in i?i[l]!==a[l]&&o.add(l):i[l]=a[l]}for(const s of o)delete i[s];if(!yi(i)){this.setModified();const s=new Oa(t,i);for(const a of n){if(a instanceof Oa)for(const l of vt(i))delete a.parse[l];t.removeChild(a),a.parent=s,a instanceof Oa&&vt(a.parse).length===0&&a.remove()}}}}}class S8t extends Kb{run(t){t instanceof Xl||t.numChildren()>0||t instanceof UC||t instanceof gb||(this.setModified(),t.remove())}}class T8t extends Kb{run(t){const n=t.children.filter(i=>i instanceof vh),r=n.pop();for(const i of n)this.setModified(),r.merge(i)}}class k8t extends Kb{run(t){const n=t.children.filter(i=>i instanceof Bd),r={};for(const i of n){const o=xr(i.groupBy);o in r||(r[o]=[]),r[o].push(i)}for(const i of vt(r)){const o=r[i];if(o.length>1){const s=o.pop();for(const a of o)s.merge(a)&&(t.removeChild(a),a.parent=s,a.remove(),this.setModified())}}}}class A8t extends Kb{constructor(t){super(),this.model=t}run(t){const n=!(BZ(t)||t instanceof zC||t instanceof Oa||t instanceof N0),r=[],i=[];for(const o of t.children)o instanceof wh&&(n&&!AJ(t.producedFields(),o.dependentFields())?r.push(o):i.push(o));if(r.length>0){const o=r.pop();for(const s of r)o.merge(s,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof wh?t.merge(o,this.model.renameSignal.bind(this.model)):o.swapWithParent()}if(i.length>1){const o=i.pop();for(const s of i)o.merge(s,this.model.renameSignal.bind(this.model));this.setModified()}}}class R8t extends Kb{run(t){const n=[...t.children];if(!Dx(n,s=>s instanceof Xl)||t.numChildren()<=1)return;const i=[];let o;for(const s of n)if(s instanceof Xl){let a=s;for(;a.numChildren()===1;){const[l]=a.children;if(l instanceof Xl)a=l;else break}i.push(...a.children),o?(t.removeChild(s),s.parent=o.parent,o.parent.removeChild(o),o.parent=a,this.setModified()):o=a}else i.push(s);if(i.length){this.setModified();for(const s of i)s.parent.removeChild(s),s.parent=o}}}class Xb extends pi{clone(){return new Xb(null,qn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=ih(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){return t.as??Ot(t)}hash(){return`JoinAggregateTransform ${xr(this.transform)}`}assemble(){const t=[],n=[],r=[];for(const o of this.transform.joinaggregate)n.push(o.op),r.push(this.getDefaultName(o)),t.push(o.field===void 0?null:o.field);const i=this.transform.groupby;return{type:"joinaggregate",as:r,ops:n,fields:t,...i!==void 0?{groupby:i}:{}}}}class qx extends pi{clone(){return new qx(null,{...this.filter})}constructor(t,n){super(t),this.filter=n}static make(t,n,r){const{config:i,markDef:o}=n,{marks:s,scales:a}=r;if(s==="include-invalid-values"&&a==="include-invalid-values")return null;const l=n.reduceFieldDef((u,c,d)=>{const f=Jh(d)&&n.getScaleComponent(d);if(f){const h=f.get("type"),{aggregate:m}=c,p=oZ({scaleChannel:d,markDef:o,config:i,scaleType:h,isCountAggregate:o5(m)});p!=="show"&&p!=="always-valid"&&(u[c.field]=c)}return u},{});return vt(l).length?new qx(t,l):null}dependentFields(){return new Set(vt(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${xr(this.filter)}`}assemble(){const t=vt(this.filter).reduce((n,r)=>{const i=this.filter[r],o=Ot(i,{expr:"datum"});return i!==null&&(i.type==="temporal"?n.push(`(isDate(${o}) || (${tq(o)}))`):i.type==="quantitative"&&n.push(tq(o))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}function tq(e){return`isValid(${e}) && isFinite(+${e})`}function I8t(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,i=Ot(r);return i&&t.push(i),t},[])}function D8t(e){return Yt(e)&&e.every(t=>Kn(t))&&e.length>1}class em extends pi{clone(){return new em(null,qn(this._stack))}constructor(t,n){super(t),this._stack=n}static makeFromTransform(t,n){const{stack:r,groupby:i,as:o,offset:s="zero"}=n,a=[],l=[];if(n.sort!==void 0)for(const d of n.sort)a.push(d.field),l.push(Lo(d.order,"ascending"));const u={field:a,order:l};let c;return D8t(o)?c=o:Kn(o)?c=[o,`${o}_end`]:c=[`${n.stack}_start`,`${n.stack}_end`],new em(t,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:s,sort:u,facetby:[],as:c})}static makeFromEncoding(t,n){const r=n.stack,{encoding:i}=n;if(!r)return null;const{groupbyChannels:o,fieldChannel:s,offset:a,impute:l}=r,u=o.map(h=>{const m=i[h];return ef(m)}).filter(h=>!!h),c=I8t(n),d=n.encoding.order;let f;if(Yt(d)||Et(d))f=pPe(d);else{const h=i3e(d)?d.sort:s==="y"?"descending":"ascending";f=c.reduce((m,p)=>(m.field.includes(p)||(m.field.push(p),m.order.push(h)),m),{field:[],order:[]})}return new em(t,{dimensionFieldDefs:u,stackField:n.vgField(s),facetby:[],stackby:c,sort:f,offset:a,impute:l,as:[n.vgField(s,{suffix:"start",forAs:!0}),n.vgField(s,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${xr(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:n,groupby:r}=this._stack;return t.length>0?t.map(i=>i.bin?n?[Ot(i,{binSuffix:"mid"})]:[Ot(i,{}),Ot(i,{binSuffix:"end"})]:[Ot(i)]).flat():r??[]}assemble(){const t=[],{facetby:n,dimensionFieldDefs:r,stackField:i,stackby:o,sort:s,offset:a,impute:l,as:u}=this._stack;if(l)for(const c of r){const{bandPosition:d=.5,bin:f}=c;if(f){const h=Ot(c,{expr:"datum"}),m=Ot(c,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${tq(h)} ? ${d}*${h}+${1-d}*${m} : ${h}`,as:Ot(c,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:i,groupby:[...o,...n],key:Ot(c,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:i,sort:s,as:u,offset:a}),t}}class HC extends pi{clone(){return new HC(null,qn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=ih(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return(this.transform.groupby??[]).forEach(t.add,t),(this.transform.sort??[]).forEach(n=>t.add(n.field)),this.transform.window.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){return t.as??Ot(t)}hash(){return`WindowTransform ${xr(this.transform)}`}assemble(){const t=[],n=[],r=[],i=[];for(const d of this.transform.window)n.push(d.op),r.push(this.getDefaultName(d)),i.push(d.param===void 0?null:d.param),t.push(d.field===void 0?null:d.field);const o=this.transform.frame,s=this.transform.groupby;if(o&&o[0]===null&&o[1]===null&&n.every(d=>FJ(d)))return{type:"joinaggregate",as:r,ops:n,fields:t,...s!==void 0?{groupby:s}:{}};const a=[],l=[];if(this.transform.sort!==void 0)for(const d of this.transform.sort)a.push(d.field),l.push(d.order??"ascending");const u={field:a,order:l},c=this.transform.ignorePeers;return{type:"window",params:i,as:r,ops:n,fields:t,sort:u,...c!==void 0?{ignorePeers:c}:{},...s!==void 0?{groupby:s}:{},...o!==void 0?{frame:o}:{}}}}function P8t(e){function t(n){if(!(n instanceof UC)){const r=n.clone();if(r instanceof Xl){const i=rq+r.getSource();r.setSource(i),e.model.component.data.outputNodes[i]=r}else(r instanceof Bd||r instanceof em||r instanceof HC||r instanceof Xb)&&r.addDimensions(e.fields);for(const i of n.children.flatMap(t))i.parent=r;return[r]}return n.children.flatMap(t)}return t}function nq(e){if(e instanceof UC)if(e.numChildren()===1&&!(e.children[0]instanceof Xl)){const t=e.children[0];(t instanceof Bd||t instanceof em||t instanceof HC||t instanceof Xb)&&t.addDimensions(e.fields),t.swapWithParent(),nq(e)}else{const t=e.model.component.data.main;sNe(t);const n=P8t(e),r=e.children.map(n).flat();for(const i of r)i.parent=t}else e.children.map(nq)}function sNe(e){if(e instanceof Xl&&e.type===ao.Main&&e.numChildren()===1){const t=e.children[0];t instanceof UC||(t.swapWithParent(),sNe(e))}}const rq="scale_",lI=5;function iq(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!iq(t.children))return!1}return!0}function ld(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function lpe(e,t,n){let r=e.sources,i=!1;return i=ld(new C8t,r)||i,i=ld(new w8t(t),r)||i,r=r.filter(o=>o.numChildren()>0),i=ld(new S8t,r)||i,r=r.filter(o=>o.numChildren()>0),n||(i=ld(new _8t,r)||i,i=ld(new A8t(t),r)||i,i=ld(new x8t,r)||i,i=ld(new E8t,r)||i,i=ld(new k8t,r)||i,i=ld(new T8t,r)||i,i=ld(new b8t,r)||i,i=ld(new R8t,r)||i),e.sources=r,i}function O8t(e,t){iq(e.sources);let n=0,r=0;for(let i=0;i<lI&&lpe(e,t,!0);i++)n++;e.sources.map(nq);for(let i=0;i<lI&&lpe(e,t,!1);i++)r++;iq(e.sources),Math.max(n,r)===lI&&Ct(`Maximum optimization runs(${lI}) reached.`)}class Es{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new Es(()=>t(n))}}function aNe(e){oo(e)?N8t(e):M8t(e)}function N8t(e){const t=e.component.scales;for(const n of vt(t)){const r=L8t(e,n);if(t[n].setWithExplicit("domains",r),j8t(e,n),e.component.data.isFaceted){let o=e;for(;!ju(o)&&o.parent;)o=o.parent;if(o.component.resolve.scale[n]==="shared")for(const a of r.value)Fp(a)&&(a.data=rq+a.data.replace(rq,""))}}}function M8t(e){for(const n of e.children)aNe(n);const t=e.component.scales;for(const n of vt(t)){let r,i=null;for(const o of e.children){const s=o.component.scales[n];if(s){r===void 0?r=s.getWithExplicit("domains"):r=O0(r,s.getWithExplicit("domains"),"domains","scale",oq);const a=s.get("selectionExtent");i&&a&&i.param!==a.param&&Ct(a4t),i=a}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}function $8t(e,t,n,r){if(e==="unaggregated"){const{valid:i,reason:o}=upe(t,n);if(!i){Ct(o);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:i}=upe(t,n);if(i)return"unaggregated"}return e}function L8t(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=$8t(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:i}),t==="x"&&us(r.x2)?us(r.x)?O0(Cg(n,i,e,"x"),Cg(n,i,e,"x2"),"domain","scale",oq):Cg(n,i,e,"x2"):t==="y"&&us(r.y2)?us(r.y)?O0(Cg(n,i,e,"y"),Cg(n,i,e,"y2"),"domain","scale",oq):Cg(n,i,e,"y2"):Cg(n,i,e,t)}function F8t(e,t,n){return e.map(r=>({signal:`{data: ${v5(r,{timeUnit:n,type:t})}}`}))}function F9(e,t,n){const r=Ns(n)?.unit;return t==="temporal"||r?F8t(e,t,r):[e]}function Cg(e,t,n,r){const{encoding:i,markDef:o,mark:s,config:a,stack:l}=n,u=us(i[r]),{type:c}=u,d=u.timeUnit,f=d$t({invalid:Dh("invalid",o,a),isPath:oy(s)});if(OMt(t)){const p=Cg(e,void 0,n,r),g=F9(t.unionWith,c,d);return Wf([...g,...p.value])}else{if(tn(t))return Wf([t]);if(t&&t!=="unaggregated"&&!zPe(t))return Wf(F9(t,c,d))}if(l&&r===l.fieldChannel){if(l.offset==="normalize")return Cu([[0,1]]);const p=n.requestDataName(f);return Cu([{data:p,field:n.vgField(r,{suffix:"start"})},{data:p,field:n.vgField(r,{suffix:"end"})}])}const h=Jh(r)&&Et(u)?B8t(n,r,e):void 0;if(Zh(u)){const p=F9([u.datum],c,d);return Cu(p)}const m=u;if(t==="unaggregated"){const{field:p}=u;return Cu([{data:n.requestDataName(f),field:Ot({field:p,aggregate:"min"})},{data:n.requestDataName(f),field:Ot({field:p,aggregate:"max"})}])}else if(Pi(m.bin)){if(Ms(e))return Cu(e==="bin-ordinal"?[]:[{data:Q2(h)?n.requestDataName(f):n.requestDataName(ao.Raw),field:n.vgField(r,Fk(m,r)?{binSuffix:"range"}:{}),sort:h===!0||!Lr(h)?{field:n.vgField(r,{}),op:"min"}:h}]);{const{bin:p}=m;if(Pi(p)){const g=jZ(n,m.field,p);return Cu([new Es(()=>{const v=n.getSignalName(g);return`[${v}.start, ${v}.stop]`})])}else return Cu([{data:n.requestDataName(f),field:n.vgField(r,{})}])}}else if(m.timeUnit&&pr(["time","utc"],e)){const p=i[Qh(r)];if(r3e(m,p,o,a)){const g=n.requestDataName(f),v=P0({fieldDef:m,fieldDef2:p,markDef:o,config:a}),y=Z2(s)&&v!==.5&&Fo(r);return Cu([{data:g,field:n.vgField(r,y?{suffix:E5}:{})},{data:g,field:n.vgField(r,{suffix:y?S5:"end"})}])}}return Cu(h?[{data:Q2(h)?n.requestDataName(f):n.requestDataName(ao.Raw),field:n.vgField(r),sort:h}]:[{data:n.requestDataName(f),field:n.vgField(r)}])}function j9(e,t){const{op:n,field:r,order:i}=e;return{op:n??(t?"sum":p5),...r?{field:jc(r)}:{},...i?{order:i}:{}}}function j8t(e,t){const n=e.component.scales[t],r=e.specifiedScales[t].domain,i=e.fieldDef(t)?.bin,o=zPe(r)?r:void 0,s=Hb(i)&&s5(i.extent)?i.extent:void 0;(o||s)&&n.set("selectionExtent",o??s,!0)}function B8t(e,t,n){if(!Ms(n))return;const r=e.fieldDef(t),i=r.sort;if(t3e(i))return{op:"min",field:Ux(r,t),order:"ascending"};const{stack:o}=e,s=o?new Set([...o.groupbyFields,...o.stackBy.map(a=>a.fieldDef.field)]):void 0;if(Jp(i)){const a=o&&!s.has(i.field);return j9(i,a)}else if(d6t(i)){const{encoding:a,order:l}=i,u=e.fieldDef(a),{aggregate:c,field:d}=u,f=o&&!s.has(d);if(mm(c)||iy(c))return j9({field:Ot(u),order:l},f);if(FJ(c)||!c)return j9({op:c,field:d,order:l},f)}else{if(i==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(pr(["ascending",void 0],i))return!0}}function upe(e,t){const{aggregate:n,type:r}=e;return n?Kn(n)&&!qNt.has(n)?{valid:!1,reason:$4t(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:L4t(e)}:{valid:!0}:{valid:!1,reason:M4t(e)}}function oq(e,t,n,r){return e.explicit&&t.explicit&&Ct(U4t(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function z8t(e){const t=ih(e.map(s=>{if(Fp(s)){const{sort:a,...l}=s;return l}return s}),xr),n=ih(e.map(s=>{if(Fp(s)){const a=s.sort;return a!==void 0&&!Q2(a)&&("op"in a&&a.op==="count"&&delete a.field,a.order==="ascending"&&delete a.order),a}}).filter(s=>s!==void 0),xr);if(t.length===0)return;if(t.length===1){const s=e[0];if(Fp(s)&&n.length>0){let a=n[0];if(n.length>1){Ct(dhe);const l=n.filter(u=>Lr(u)&&"op"in u&&u.op!=="min");n.every(u=>Lr(u)&&"op"in u)&&l.length===1?a=l[0]:a=!0}else if(Lr(a)&&"field"in a){const l=a.field;s.field===l&&(a=a.order?{order:a.order}:!0)}return{...s,sort:a}}return s}const r=ih(n.map(s=>Q2(s)||!("op"in s)||Kn(s.op)&&Wo(BNt,s.op)?s:(Ct(q4t(s)),!0)),xr);let i;r.length===1?i=r[0]:r.length>1&&(Ct(dhe),i=!0);const o=ih(e.map(s=>Fp(s)?s.data:null),s=>s);return o.length===1&&o[0]!==null?{data:o[0],fields:t.map(a=>a.field),...i?{sort:i}:{}}:{fields:t,...i?{sort:i}:{}}}function HZ(e){if(Fp(e)&&Kn(e.field))return e.field;if(VNt(e)){let t;for(const n of e.fields)if(Fp(n)&&Kn(n.field)){if(!t)t=n.field;else if(t!==n.field)return Ct(V4t),t}return Ct(W4t),t}else if(WNt(e)){Ct(G4t);const t=e.fields[0];return Kn(t)?t:void 0}}function N5(e,t){const r=e.component.scales[t].get("domains").map(i=>(Fp(i)&&(i.data=e.lookupDataSource(i.data)),i));return z8t(r)}function lNe(e){return qC(e)||qZ(e)?e.children.reduce((t,n)=>t.concat(lNe(n)),cpe(e)):cpe(e)}function cpe(e){return vt(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:o,type:s,selectionExtent:a,domains:l,range:u,reverse:c,...d}=i,f=U8t(i.range,o,n,e),h=N5(e,n),m=a?P$t(e,a,r,h):null;return t.push({name:o,type:s,...h?{domain:h}:{},...m?{domainRaw:m}:{},range:f,...c!==void 0?{reverse:c}:{},...d}),t},[])}function U8t(e,t,n,r){if(Fo(n)){if(qb(e))return{step:{signal:`${t}_step`}}}else if(Lr(e)&&Fp(e))return{...e,data:r.lookupDataSource(e.data)};return e}class uNe extends Hm{constructor(t,n){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",n)}domainHasZero(){const t=this.get("type");if(pr([Zs.LOG,Zs.TIME,Zs.UTC],t))return"definitely-not";const n=this.get("zero");if(n===!0||n===void 0&&pr([Zs.LINEAR,Zs.SQRT,Zs.POW],t))return"definitely";const r=this.get("domains");if(r.length>0){let i=!1,o=!1,s=!1;for(const a of r){if(Yt(a)){const l=a[0],u=a[a.length-1];if(Ji(l)&&Ji(u))if(l<=0&&u>=0){i=!0;continue}else{o=!0;continue}}s=!0}if(i)return"definitely";if(o&&!s)return"definitely-not"}return"maybe"}}const H8t=["range","scheme"];function q8t(e){const t=e.component.scales;for(const n of LJ){const r=t[n];if(!r)continue;const i=V8t(n,e);r.setWithExplicit("range",i)}}function dpe(e,t){const n=e.fieldDef(t);if(n?.bin){const{bin:r,field:i}=n,o=iu(t),s=e.getName(o);if(Lr(r)&&r.binned&&r.step!==void 0)return new Es(()=>{const a=e.scaleName(t),l=`(domain("${a}")[1] - domain("${a}")[0]) / ${r.step}`;return`${e.getSignalName(s)} / (${l})`});if(Pi(r)){const a=jZ(e,i,r);return new Es(()=>{const l=e.getSignalName(a),u=`(${l}.stop - ${l}.start) / ${l}.step`;return`${e.getSignalName(s)} / (${u})`})}}}function V8t(e,t){const n=t.specifiedScales[e],{size:r}=t,o=t.getScaleComponent(e).get("type");for(const d of H8t)if(n[d]!==void 0){const f=$H(o,d),h=UPe(e,d);if(!f)Ct(xPe(o,d,e));else if(h)Ct(h);else switch(d){case"range":{const m=n.range;if(Yt(m)){if(Fo(e))return Wf(m.map(p=>{if(p==="width"||p==="height"){const g=t.getName(p),v=t.getSignalName.bind(t);return Es.fromName(v,g)}return p}))}else if(Lr(m))return Wf({data:t.requestDataName(ao.Main),field:m.field,sort:{op:"min",field:t.vgField(e)}});return Wf(m)}case"scheme":return Wf(W8t(n[d]))}}const s=e===Zi||e==="xOffset"?"width":"height",a=r[s];if(Oh(a)){if(Fo(e))if(Ms(o)){const d=dNe(a,t,e);if(d)return Wf({step:d})}else Ct(CPe(s));else if(Dk(e)){const d=e===J0?"x":"y";if(t.getScaleComponent(d).get("type")==="band"){const m=fNe(a,o);if(m)return Wf(m)}}}const{rangeMin:l,rangeMax:u}=n,c=G8t(e,t);return(l!==void 0||u!==void 0)&&$H(o,"rangeMin")&&Yt(c)&&c.length===2?Wf([l??c[0],u??c[1]]):Cu(c)}function W8t(e){return PMt(e)?{scheme:e.name,...Kl(e,["name"])}:{scheme:e}}function cNe(e,t,n,{center:r}={}){const i=iu(e),o=t.getName(i),s=t.getSignalName.bind(t);return e===Fs&&Jd(n)?r?[Es.fromName(a=>`${s(a)}/2`,o),Es.fromName(a=>`-${s(a)}/2`,o)]:[Es.fromName(s,o),0]:r?[Es.fromName(a=>`-${s(a)}/2`,o),Es.fromName(a=>`${s(a)}/2`,o)]:[0,Es.fromName(s,o)]}function G8t(e,t){const{size:n,config:r,mark:i,encoding:o}=t,{type:s}=us(o[e]),l=t.getScaleComponent(e).get("type"),{domain:u,domainMid:c}=t.specifiedScales[e];switch(e){case Zi:case Fs:{if(pr(["point","band"],l)){const d=hNe(e,n,r.view);if(Oh(d))return{step:dNe(d,t,e)}}return cNe(e,t,l)}case J0:case LC:return Y8t(e,t,l);case jm:{const d=Q8t(i,r),f=J8t(i,n,t,r);return Mx(l)?X8t(d,f,K8t(l,r,u,e)):[d,f]}case Xc:return[0,Math.PI*2];case zb:return[0,360];case vf:return[0,new Es(()=>{const d=t.getSignalName(ju(t.parent)?"child_width":"width"),f=t.getSignalName(ju(t.parent)?"child_height":"height");return`min(${d},${f})/2`})];case Z0:return{step:1e3/r.scale.framesPerSecond};case ny:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case ry:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case ru:return"symbol";case nu:case Kh:case Xh:return l==="ordinal"?s==="nominal"?"category":"ordinal":c!==void 0?"diverging":i==="rect"||i==="geoshape"?"heatmap":"ramp";case Bm:case ey:case ty:return[r.scale.minOpacity,r.scale.maxOpacity]}}function dNe(e,t,n){const{encoding:r}=t,i=t.getScaleComponent(n),o=OJ(n),s=r[o];if(M3e({step:e,offsetIsDiscrete:Wn(s)&&$Pe(s.type)})==="offset"&&m3e(r,o)){const l=t.getScaleComponent(o);let c=`domain('${t.scaleName(o)}').length`;if(l.get("type")==="band"){const f=l.get("paddingInner")??l.get("padding")??0,h=l.get("paddingOuter")??l.get("padding")??0;c=`bandspace(${c}, ${f}, ${h})`}const d=i.get("paddingInner")??i.get("padding");return{signal:`${e.step} * ${c} / (1-${XNt(d)})`}}else return e.step}function fNe(e,t){if(M3e({step:e,offsetIsDiscrete:Ms(t)})==="offset")return{step:e.step}}function Y8t(e,t,n){const r=e===J0?"x":"y",i=t.getScaleComponent(r);if(!i)return cNe(r,t,n,{center:!0});const o=i.get("type"),s=t.scaleName(r),{markDef:a,config:l}=t;if(o==="band"){const u=hNe(r,t.size,t.config.view);if(Oh(u)){const c=fNe(u,n);if(c)return c}return[0,{signal:`bandwidth('${s}')`}]}else{const u=t.encoding[r];if(Et(u)&&u.timeUnit){const c=PPe(u.timeUnit,m=>`scale('${s}', ${m})`),d=t.config.scale.bandWithNestedOffsetPaddingInner,f=P0({fieldDef:u,markDef:a,config:l})-.5,h=f!==0?` + ${f}`:"";if(d){const m=tn(d)?`${d.signal}/2`+h:`${d/2+f}`,p=tn(d)?`(1 - ${d.signal}/2)`+h:`${1-d/2+f}`;return[{signal:`${m} * (${c})`},{signal:`${p} * (${c})`}]}return[0,{signal:c}]}return HDe(`Cannot use ${e} scale if ${r} scale is not discrete.`)}}function hNe(e,t,n){const r=e===Zi?"width":"height",i=t[r];return i||IN(n,r)}function K8t(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&Yt(n)?n.length+1:(Ct(nMt(r)),3)}}function X8t(e,t,n){const r=()=>{const i=Pd(t),o=Pd(e),s=`(${i} - ${o}) / (${n} - 1)`;return`sequence(${o}, ${i} + ${s}, ${s})`};return tn(t)?new Es(r):{signal:r()}}function Q8t(e,t){switch(e){case"bar":case"tick":return t.scale.minBandSize;case"line":case"trail":case"rule":return t.scale.minStrokeWidth;case"text":return t.scale.minFontSize;case"point":case"square":case"circle":return t.scale.minSize}throw new Error(a5("size",e))}const fpe=.95;function J8t(e,t,n,r){const i={x:dpe(n,"x"),y:dpe(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const o=hpe(t,i,r.view);return Ji(o)?o-1:new Es(()=>`${o.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const o=hpe(t,i,r.view);return Ji(o)?Math.pow(fpe*o,2):new Es(()=>`pow(${fpe} * ${o.signal}, 2)`)}}throw new Error(a5("size",e))}function hpe(e,t,n){const r=Oh(e.width)?e.width.step:BH(n,"width"),i=Oh(e.height)?e.height.step:BH(n,"height");return t.x||t.y?new Es(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function pNe(e,t){oo(e)?Z8t(e,t):gNe(e,t)}function Z8t(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:o,specifiedScales:s}=e;for(const a of vt(n)){const l=s[a],u=n[a],c=e.getScaleComponent(a),d=us(i[a]),f=l[t],h=c.get("type"),m=c.get("padding"),p=c.get("paddingInner"),g=$H(h,t),v=UPe(a,t);if(f!==void 0&&(g?v&&Ct(v):Ct(xPe(h,t,a))),g&&v===void 0)if(f!==void 0){const y=d.timeUnit,w=d.type;switch(t){case"domainMax":case"domainMin":Vb(l[t])||w==="temporal"||y?u.set(t,{signal:v5(l[t],{type:w,timeUnit:y})},!0):u.set(t,l[t],!0);break;default:u.copyKeyFromObject(t,l)}}else{const y=bt(ppe,t)?ppe[t]({model:e,channel:a,fieldOrDatumDef:d,scaleType:h,scalePadding:m,scalePaddingInner:p,domain:l.domain,domainMin:l.domainMin,domainMax:l.domainMax,markDef:o,config:r,hasNestedOffsetScale:g3e(i,a),hasSecondaryRangeChannel:!!i[Qh(a)]}):r.scale[t];y!==void 0&&u.set(t,y,!1)}}}const ppe={bins:({model:e,fieldOrDatumDef:t})=>Et(t)?ejt(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>tjt(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:r,domainMax:i,fieldOrDatumDef:o})=>njt(e,t,n,r,i,o),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:i})=>rjt(e,t,i.scale,n,r,i.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:r,config:i,hasNestedOffsetScale:o})=>ijt(e,t,n.type,r,i.scale,o),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:i,hasNestedOffsetScale:o})=>ojt(e,t,n,r,i.scale,o),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const i=Et(e)?e.sort:void 0;return sjt(t,i,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:i,config:o,hasSecondaryRangeChannel:s})=>ajt(e,t,n,r,i,o.scale,s)};function mNe(e){oo(e)?q8t(e):gNe(e,"range")}function gNe(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?mNe(r):pNe(r,t);for(const r of vt(n)){let i;for(const o of e.children){const s=o.component.scales[r];if(s){const a=s.getWithExplicit(t);i=O0(i,a,t,"scale",Y3e((l,u)=>{switch(t){case"range":return l.step&&u.step?l.step-u.step:0}return 0}))}}n[r].setWithExplicit(t,i)}}function ejt(e,t){const n=t.bin;if(Pi(n)){const r=jZ(e,t.field,n);return new Es(()=>e.getSignalName(r))}else if(Xs(n)&&Hb(n)&&n.step!==void 0)return{step:n.step}}function tjt(e,t){if(pr([nu,Kh,Xh],e)&&t!=="nominal")return"hcl"}function njt(e,t,n,r,i,o){if(!(ef(o)?.bin||Yt(n)||i!=null||r!=null||pr([Zs.TIME,Zs.UTC],e)))return Fo(t)?!0:void 0}function rjt(e,t,n,r,i,o){if(Fo(e)){if(oh(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:s,orient:a}=i;if(s==="bar"&&!(Et(r)&&(r.bin||r.timeUnit))&&(a==="vertical"&&e==="x"||a==="horizontal"&&e==="y"))return o.continuousBandSize}if(t===Zs.POINT)return n.pointPadding}}function ijt(e,t,n,r,i,o=!1){if(e===void 0){if(Fo(t)){const{bandPaddingInner:s,barBandPaddingInner:a,rectBandPaddingInner:l,tickBandPaddingInner:u,bandWithNestedOffsetPaddingInner:c}=i;return o?c:Lo(s,n==="bar"?a:n==="tick"?u:l)}else if(Dk(t)&&r===Zs.BAND)return i.offsetBandPaddingInner}}function ojt(e,t,n,r,i,o=!1){if(e===void 0){if(Fo(t)){const{bandPaddingOuter:s,bandWithNestedOffsetPaddingOuter:a}=i;if(o)return a;if(n===Zs.BAND)return Lo(s,tn(r)?{signal:`${r.signal}/2`}:r/2)}else if(Dk(t)){if(n===Zs.POINT)return .5;if(n===Zs.BAND)return i.offsetBandPaddingOuter}}}function sjt(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return Jd(e)&&t==="descending"?tn(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(Jd(e)&&t==="descending")return!0}function ajt(e,t,n,r,i,o,s){if(!!n&&n!=="unaggregated"&&Jd(i)){if(Yt(n)){const l=n[0],u=n[n.length-1];if(Ji(l)&&l<=0&&Ji(u)&&u>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!Mx(i))return!0;if(!(Et(t)&&t.bin)&&pr([...zm,...DNt],e)){const{orient:l,type:u}=r;return pr(["bar","area","line","trail"],u)&&(l==="horizontal"&&e==="y"||l==="vertical"&&e==="x")?!1:pr(["bar","area"],u)&&!s?!0:o?.zero}return!1}function ljt(e,t,n,r,i=!1){const o=ujt(t,n,r,i),{type:s}=e;return Jh(t)?s!==void 0?jMt(t,s)?Et(n)&&!FMt(s,n.type)?(Ct(B4t(s,o)),o):s:(Ct(j4t(t,s,o)),o):o:null}function ujt(e,t,n,r){switch(t.type){case"nominal":case"ordinal":{if(Bw(e)||E9(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&Ct(S9(e,"ordinal")),"ordinal";if(_9(e))return"band";if(Fo(e)||Dk(e)){if(pr(["rect","bar","image","rule","tick"],n.type)||r)return"band"}else if(n.type==="arc"&&e in $J)return"band";const i=n[iu(e)];return cb(i)||Lx(t)&&t.axis?.tickBand?"band":"point"}case"temporal":return Bw(e)?"time":E9(e)==="discrete"?(Ct(S9(e,"temporal")),"ordinal"):Et(t)&&t.timeUnit&&Ns(t.timeUnit).utc?"utc":_9(e)?"band":"time";case"quantitative":return Bw(e)?Et(t)&&Pi(t.bin)?"bin-ordinal":"linear":E9(e)==="discrete"?(Ct(S9(e,"quantitative")),"ordinal"):_9(e)?"band":"linear";case"geojson":return}throw new Error(bPe(t.type))}function cjt(e,{ignoreRange:t}={}){yNe(e),aNe(e);for(const n of LMt)pNe(e,n);t||mNe(e)}function yNe(e){oo(e)?e.component.scales=djt(e):e.component.scales=hjt(e)}function djt(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const o of LJ){const s=us(t[o]);if(s&&n===VPe&&o===ru&&s.type===FC)continue;let a=s&&s.scale;if(s&&a!==null&&a!==!1){a??(a={});const l=g3e(t,o),u=ljt(a,o,s,r,l);i[o]=new uNe(e.scaleName(`${o}`,!0),{value:u,explicit:a.type===u})}}return i}const fjt=Y3e((e,t)=>hhe(e)-hhe(t));function hjt(e){var t;const n=e.component.scales={},r={},i=e.component.resolve;for(const o of e.children){yNe(o);for(const s of vt(o.component.scales))if((t=i.scale)[s]??(t[s]=YOe(s,e)),i.scale[s]==="shared"){const a=r[s],l=o.component.scales[s].getWithExplicit("type");a?kMt(a.value,l.value)?r[s]=O0(a,l,"type","scale",fjt):(i.scale[s]="independent",delete r[s]):r[s]=l}}for(const o of vt(r)){const s=e.scaleName(o,!0),a=r[o];n[o]=new uNe(s,a);for(const l of e.children){const u=l.component.scales[o];u&&(l.renameScale(u.get("name"),s),u.merged=!0)}}return n}class B9{constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function oo(e){return e?.type==="unit"}function ju(e){return e?.type==="facet"}function qZ(e){return e?.type==="concat"}function qC(e){return e?.type==="layer"}class VZ{constructor(t,n,r,i,o,s,a){this.type=n,this.parent=r,this.config=o,this.parent=r,this.config=o,this.view=Qs(a),this.name=t.name??i,this.title=Ig(t.title)?{text:t.title}:t.title?Qs(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new B9,this.projectionNameMap=r?r.projectionNameMap:new B9,this.signalNameMap=r?r.signalNameMap:new B9,this.data=t.data,this.description=t.description,this.transforms=Z5t(t.transform??[]),this.layout=n==="layer"||n==="unit"?{}:r5t(t,n,o),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:m5(t)||r?.component.data.isFaceted&&t.data===void 0},layoutSize:new Hm,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...s?qn(s):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){cjt(this)}parseProjection(){iNe(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){ZOe(this)}assembleEncodeFromView(t){const{style:n,...r}=t,i={};for(const o of vt(r)){const s=r[o];s!==void 0&&(i[o]=zi(s))}return i}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=zi(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...n}:yi(n)?void 0:n}assembleLayout(){if(!this.layout)return;const{spacing:t,...n}=this.layout,{component:r,config:i}=this,o=OFt(r.layoutHeaders,i);return{padding:t,...this.assembleDefaultLayout(),...n,...o?{titleBand:o}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of Sc)t[r].title&&n.push(kFt(this,r));for(const r of MZ)n=n.concat(AFt(this,r));return n}assembleAxes(){return pFt(this.component.axes,this.config)}assembleLegends(){return tNe(this)}assembleProjections(){return n8t(this)}assembleTitle(){const{encoding:t,...n}=this.title??{},r={...cPe(this.config.title).nonMarkTitleProperties,...n,...t?{encode:{update:t}}:{}};if(r.text)return pr(["unit","layer"],this.type)?pr(["middle",void 0],r.anchor)&&(r.frame??(r.frame="group")):r.anchor??(r.anchor="start"),yi(r)?void 0:r}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||ju(this.parent)?lNe(this):[];i.length>0&&(n.scales=i);const o=this.assembleAxes();o.length>0&&(n.axes=o);const s=this.assembleLegends();return s.length>0&&(n.legends=s),n}getName(t){return Ki((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(ao[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(r[n]||0)+1,n}getSizeSignalRef(t){if(ju(this.parent)){const n=WOe(t),r=i5(n),i=this.component.scales[r];if(i&&!i.merged){const o=i.get("type"),s=i.get("range");if(Ms(o)&&qb(s)){const a=i.get("name"),l=N5(this,r),u=HZ(l);if(u){const c=Ot({aggregate:"distinct",field:u},{expr:"datum"});return{signal:VOe(a,i,c)}}else return Ct(BJ(r)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(nPe(t)&&Jh(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getScaleType(t){const n=this.getScaleComponent(t);return n?n.get("type"):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error(t4t(n));return r}hasAxisOrientSignalRef(){return this.component.axes.x?.some(t=>t.hasOrientSignalRef())||this.component.axes.y?.some(t=>t.hasOrientSignalRef())}}class vNe extends VZ{vgField(t,n={}){const r=this.fieldDef(t);if(r)return Ot(r,n)}reduceFieldDef(t,n){return P6t(this.getMapping(),(r,i,o)=>{const s=ef(i);return s?t(r,s,o):r},n)}forEachFieldDef(t,n){pZ(this.getMapping(),(r,i)=>{const o=ef(r);o&&t(o,i)},n)}}class M5 extends pi{clone(){return new M5(null,qn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=qn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"value",r[1]??"density"];const i=this.transform.resolve??"shared";this.transform.resolve=i}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${xr(this.transform)}`}assemble(){const{density:t,...n}=this.transform,r={type:"kde",field:t,...n};return r.resolve=this.transform.resolve,r}}class $5 extends pi{clone(){return new $5(null,qn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=qn(n)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${xr(this.transform)}`}assemble(){const{extent:t,param:n}=this.transform;return{type:"extent",field:t,signal:n}}}class L5 extends pi{clone(){return new L5(this.parent,qn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=qn(n);const{flatten:r,as:i=[]}=this.transform;this.transform.as=r.map((o,s)=>i[s]??o)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${xr(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class F5 extends pi{clone(){return new F5(null,qn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=qn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"key",r[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${xr(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class Hw extends pi{clone(){return new Hw(null,qn(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let r=0;for(const i of[[wf,bf],[Bc,xf]]){const o=i.map(s=>{const a=us(n.encoding[s]);return Et(a)?a.field:Zh(a)?{expr:`${a.datum}`}:Zd(a)?{expr:`${a.value}`}:void 0});(o[0]||o[1])&&(t=new Hw(t,o,null,n.getName(`geojson_${r++}`)))}if(n.channelHasField(ru)){const i=n.typedFieldDef(ru);i.type===FC&&(t=new Hw(t,null,i.field,n.getName(`geojson_${r++}`)))}return t}constructor(t,n,r,i){super(t),this.fields=n,this.geojson=r,this.signal=i}dependentFields(){const t=(this.fields??[]).filter(Kn);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${xr(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class rT extends pi{clone(){return new rT(null,this.projection,qn(this.fields),qn(this.as))}constructor(t,n,r,i){super(t),this.projection=n,this.fields=r,this.as=i}static parseAll(t,n){if(!n.projectionName())return t;for(const r of[[wf,bf],[Bc,xf]]){const i=r.map(s=>{const a=us(n.encoding[s]);return Et(a)?a.field:Zh(a)?{expr:`${a.datum}`}:Zd(a)?{expr:`${a.value}`}:void 0}),o=r[0]===Bc?"2":"";(i[0]||i[1])&&(t=new rT(t,n.projectionName(),i,[n.getName(`x${o}`),n.getName(`y${o}`)]))}return t}dependentFields(){return new Set(this.fields.filter(Kn))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${xr(this.fields)} ${xr(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Ov extends pi{clone(){return new Ov(null,qn(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:r,step:i}=t;return{signal:`sequence(${[n,r,...i?[i]:[]].join(",")})`}}static makeFromTransform(t,n){return new Ov(t,n)}static makeFromEncoding(t,n){const r=n.encoding,i=r.x,o=r.y;if(Et(i)&&Et(o)){const s=i.impute?i:o.impute?o:void 0;if(s===void 0)return;const a=i.impute?o:o.impute?i:void 0,{method:l,value:u,frame:c,keyvals:d}=s.impute,f=b3e(n.mark,r);return new Ov(t,{impute:s.field,key:a.field,...l?{method:l}:{},...u!==void 0?{value:u}:{},...c?{frame:c}:{},...d!==void 0?{keyvals:d}:{},...f.length?{groupby:f}:{}})}return null}hash(){return`Impute ${xr(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:r,method:i,groupby:o,value:s,frame:a=[null,null]}=this.transform,l={type:"impute",field:t,key:n,...r?{keyvals:N5t(r)?this.processSequence(r):r}:{},method:"value",...o?{groupby:o}:{},value:!i||i==="value"?s:null};if(i&&i!=="value"){const u={type:"window",as:[`imputed_${t}_value`],ops:[i],fields:[t],frame:a,ignorePeers:!1,...o?{groupby:o}:{}},c={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[l,u,c]}else return[l]}}class j5 extends pi{clone(){return new j5(null,qn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=qn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${xr(this.transform)}`}assemble(){const{loess:t,on:n,...r}=this.transform;return{type:"loess",x:n,y:t,...r}}}class iT extends pi{clone(){return new iT(null,qn(this.transform),this.secondary)}constructor(t,n,r){super(t),this.transform=n,this.secondary=r}static make(t,n,r,i){const o=n.component.data.sources,{from:s}=r;let a=null;if(M5t(s)){let l=xNe(s.data,o);l||(l=new gb(s.data),o.push(l));const u=n.getName(`lookup_${i}`);a=new Xl(l,u,ao.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[u]=a}else if($5t(s)){const l=s.param;r={as:l,...r};let u;try{u=n.getSelectionComponent(Ki(l),l)}catch{throw new Error(o4t(l))}if(a=u.materialized,!a)throw new Error(s4t(l))}return new iT(t,r,a.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?$o(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${xr({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t={values:this.transform.from.fields,...this.transform.as?{as:$o(this.transform.as)}:{}};else{let n=this.transform.as;Kn(n)||(Ct(y4t),n="_lookup"),t={as:[n]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...t,...this.transform.default?{default:this.transform.default}:{}}}}class B5 extends pi{clone(){return new B5(null,qn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=qn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"prob",r[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${xr(this.transform)}`}assemble(){const{quantile:t,...n}=this.transform;return{type:"quantile",field:t,...n}}}class z5 extends pi{clone(){return new z5(null,qn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=qn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${xr(this.transform)}`}assemble(){const{regression:t,on:n,...r}=this.transform;return{type:"regression",x:n,y:t,...r}}}class U5 extends pi{clone(){return new U5(null,qn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=ih((this.transform.groupby??[]).concat(t),n=>n)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${xr(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:r,limit:i,op:o}=this.transform;return{type:"pivot",field:t,value:n,...i!==void 0?{limit:i}:{},...o!==void 0?{op:o}:{},...r!==void 0?{groupby:r}:{}}}}class H5 extends pi{clone(){return new H5(null,qn(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${xr(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function bNe(e){let t=0;function n(r,i){if(r instanceof gb&&!r.isGenerator&&!jx(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof Oa&&(r.parent instanceof gb&&!i.source?(i.format={...i.format,parse:r.assembleFormatParse()},i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof UC){i.name||(i.name=`data_${t++}`),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,e.push(...r.assemble());return}switch((r instanceof qk||r instanceof Vk||r instanceof qx||r instanceof zC||r instanceof zx||r instanceof rT||r instanceof Bd||r instanceof iT||r instanceof HC||r instanceof Xb||r instanceof F5||r instanceof L5||r instanceof M5||r instanceof j5||r instanceof B5||r instanceof z5||r instanceof N0||r instanceof H5||r instanceof U5||r instanceof $5)&&i.transform.push(r.assemble()),(r instanceof wh||r instanceof vh||r instanceof Ov||r instanceof em||r instanceof Hw)&&i.transform.push(...r.assemble()),r instanceof Xl&&(i.source&&i.transform.length===0?r.setSource(i.source):r.parent instanceof Xl?r.setSource(i.name):(i.name||(i.name=`data_${t++}`),r.setSource(i.name),r.numChildren()===1&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof Xl&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name=`data_${t++}`);let o=i.name;!i.source||i.transform.length>0?e.push(i):o=i.source;for(const s of r.children)n(s,{name:null,source:o,transform:[]});break}}}return n}function pjt(e){const t=[],n=bNe(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function mjt(e,t){const n=[],r=bNe(n);let i=0;for(const s of e.sources){s.hasName()||(s.dataName=`source_${i++}`);const a=s.assemble();r(s,a)}for(const s of n)s.transform.length===0&&delete s.transform;let o=0;for(const[s,a]of n.entries())(a.transform??[]).length===0&&!a.source&&n.splice(o++,0,n.splice(s,1)[0]);for(const s of n)for(const a of s.transform??[])a.type==="lookup"&&(a.from=e.outputNodes[a.from].getSource());for(const s of n)s.name in t&&(s.values=t[s.name]);return n}function gjt(e){return e==="top"||e==="left"||tn(e)?"header":"footer"}function yjt(e){for(const t of Sc)vjt(e,t);mpe(e,"x"),mpe(e,"y")}function vjt(e,t){const{facet:n,config:r,child:i,component:o}=e;if(e.channelHasField(t)){const s=n[t],a=Hx("title",null,r,t);let l=zw(s,r,{allowDisabling:!0,includeDefault:a===void 0||!!a});i.component.layoutHeaders[t].title&&(l=Yt(l)?l.join(", "):l,l+=` / ${i.component.layoutHeaders[t].title}`,i.component.layoutHeaders[t].title=null);const u=Hx("labelOrient",s.header,r,t),c=s.header!==null?Lo(s.header?.labels,r.header.labels,!0):!1,d=pr(["bottom","right"],u)?"footer":"header";o.layoutHeaders[t]={title:s.header!==null?l:null,facetFieldDef:s,[d]:t==="facet"?[]:[wNe(e,t,c)]}}}function wNe(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function mpe(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:r,resolve:i}=e.component;if(i.axis[t]=FZ(i,t),i.axis[t]==="shared"){const o=t==="x"?"column":"row",s=r[o];for(const a of n.component.axes[t]){const l=gjt(a.get("orient"));s[l]??(s[l]=[wNe(e,o,!1)]);const u=ZE(a,"main",e.config,{header:!0});u&&s[l][0].axes.push(u),a.mainExtracted=!0}}}}function bjt(e){WZ(e),LN(e,"width"),LN(e,"height")}function wjt(e){WZ(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";LN(e,t),LN(e,n)}function WZ(e){for(const t of e.children)t.parseLayoutSize()}function LN(e,t){const n=WOe(t),r=i5(n),i=e.component.resolve,o=e.component.layoutSize;let s;for(const a of e.children){const l=a.component.layoutSize.getWithExplicit(n),u=i.scale[r]??YOe(r,e);if(u==="independent"&&l.value==="step"){s=void 0;break}if(s){if(u==="independent"&&s.value!==l.value){s=void 0;break}s=O0(s,l,n,"")}else s=l}if(s){for(const a of e.children)e.renameSignal(a.getName(n),e.getName(t)),a.component.layoutSize.set(n,"merged",!1);o.setWithExplicit(t,s)}else o.setWithExplicit(t,{explicit:!1,value:void 0})}function xjt(e){const{size:t,component:n}=e;for(const r of zm){const i=iu(r);if(t[i]){const o=t[i];n.layoutSize.set(i,Oh(o)?"step":o,!0)}else{const o=Cjt(e,i);n.layoutSize.set(i,o,!1)}}}function Cjt(e,t){const n=t==="width"?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const o=i.get("type"),s=i.get("range");if(Ms(o)){const a=IN(r.view,t);return qb(s)||Oh(a)?"step":a}else return jH(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return jH(r.view,t);{const o=IN(r.view,t);return Oh(o)?o.step:o}}}function sq(e,t,n){return Ot(t,{suffix:`by_${Ot(e)}`,...n})}class jS extends vNe{constructor(t,n,r,i){super(t,"facet",n,r,i,t.resolve),this.child=QZ(t.spec,this,this.getName("child"),void 0,i),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!Mk(t))return{facet:this.initFacetFieldDef(t,"facet")};const n=vt(t),r={};for(const i of n){if(![Xp,Qp].includes(i)){Ct(a5(i,"facet"));break}const o=t[i];if(o.field===void 0){Ct(NH(o,i));break}r[i]=this.initFacetFieldDef(o,i)}return r}initFacetFieldDef(t,n){const r=hZ(t,n);return r.header?r.header=Qs(r.header):r.header===null&&(r.header=null),r}channelHasField(t){return bt(this.facet,t)}fieldDef(t){return this.facet[t]}parseData(){this.component.data=q5(this),this.child.parseData()}parseLayoutSize(){WZ(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection,Object.values(this.component.selection).some(t=>bh(t))&&UJ(zJ)}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),yjt(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){const t={};for(const n of Sc)for(const r of $Z){const i=this.component.layoutHeaders[n],o=i[r],{facetFieldDef:s}=i;if(s){const a=Hx("titleOrient",s.header,this.config,n);if(["right","bottom"].includes(a)){const l=P5(n,a);t.titleAnchor??(t.titleAnchor={}),t.titleAnchor[l]="end"}}if(o?.[0]){const a=n==="row"?"height":"width",l=r==="header"?"headerBand":"footerBand";n!=="facet"&&!this.child.component.layoutSize.get(a)&&(t[l]??(t[l]={}),t[l][n]=.5),i.title&&(t.offset??(t.offset={}),t.offset[n==="row"?"rowTitle":"columnTitle"]=10)}}return t}assembleDefaultLayout(){const{column:t,row:n}=this.facet,r=t?this.columnDistinctSignal():n?1:void 0;let i="all";return(!n&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(i="none"),{...this.getHeaderLayoutMixins(),...r?{columns:r}:{},bounds:"full",align:i}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof jS))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof jS?{...this.channelHasField("column")?{encode:{update:{columns:{field:Ot(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(t)}:super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],r=[];if(this.child instanceof jS){if(this.child.channelHasField("column")){const i=Ot(this.child.facet.column);t.push(i),n.push("distinct"),r.push(`distinct_${i}`)}}else for(const i of zm){const o=this.child.component.scales[i];if(o&&!o.merged){const s=o.get("type"),a=o.get("range");if(Ms(s)&&qb(a)){const l=N5(this.child,i),u=HZ(l);u?(t.push(u),n.push("distinct"),r.push(`distinct_${u}`)):Ct(BJ(i))}}}return{fields:t,ops:n,as:r}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:r,column:i}=this.facet,{fields:o,ops:s,as:a}=this.getCardinalityAggregateForChild(),l=[];for(const c of Sc){const d=this.facet[c];if(d){l.push(Ot(d));const{bin:f,sort:h}=d;if(Pi(f)&&l.push(Ot(d,{binSuffix:"end"})),Jp(h)){const{field:m,op:p=p5}=h,g=sq(d,h);r&&i?(o.push(g),s.push("max"),a.push(g)):(o.push(m),s.push(p),a.push(g))}else if(Yt(h)){const m=Ux(d,c);o.push(m),s.push("max"),a.push(m)}}}const u=!!r&&!!i;return{name:t,data:n,groupby:l,...u||o.length>0?{aggregate:{...u?{cross:u}:{},...o.length?{fields:o,ops:s,as:a}:{}}}:{}}}facetSortFields(t){const{facet:n}=this,r=n[t];return r?Jp(r.sort)?[sq(r,r.sort,{expr:"datum"})]:Yt(r.sort)?[Ux(r,t,{expr:"datum"})]:[Ot(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,r=n[t];if(r){const{sort:i}=r;return[(Jp(i)?i.order:!Yt(i)&&i)||"ascending"]}return[]}assembleLabelTitle(){const{facet:t,config:n}=this;if(t.facet)return ZH(t.facet,"facet",n);const r={row:["top","bottom"],column:["left","right"]};for(const i of MZ)if(t[i]){const o=Hx("labelOrient",t[i]?.header,n,i);if(r[i].includes(o))return ZH(t[i],i,n)}}assembleMarks(){const{child:t}=this,n=this.component.data.facetRoot,r=pjt(n),i=t.assembleGroupEncodeEntry(!1),o=this.assembleLabelTitle()||t.assembleTitle(),s=t.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...o?{title:o}:{},...s?{style:s}:{},from:{facet:this.assembleFacet()},sort:{field:Sc.map(l=>this.facetSortFields(l)).flat(),order:Sc.map(l=>this.facetSortOrder(l)).flat()},...r.length>0?{data:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup(A$t(this,[]))}]}getMapping(){return this.facet}}function _jt(e,t){const{row:n,column:r}=t;if(n&&r){let i=null;for(const o of[n,r])if(Jp(o.sort)){const{field:s,op:a=p5}=o.sort;e=i=new Xb(e,{joinaggregate:[{op:a,field:s,as:sq(o,o.sort,{forAs:!0})}],groupby:[Ot(o)]})}return i}return null}function xNe(e,t){for(const n of t){const r=n.data;if(e.name&&n.hasName()&&e.name!==n.dataName)continue;const i=e.format?.mesh,o=r.format?.feature;if(i&&o)continue;const s=e.format?.feature;if((s||o)&&s!==o)continue;const a=r.format?.mesh;if(!((i||a)&&i!==a)){if(eT(e)&&eT(r)){if(Pu(e.values,r.values))return n}else if(jx(e)&&jx(r)){if(e.url===r.url)return n}else if(K3e(e)&&e.name===n.dataName)return n}}return null}function Ejt(e,t){if(e.data||!e.parent){if(e.data===null){const r=new gb({values:[]});return t.push(r),r}const n=xNe(e.data,t);if(n)return l0(e.data)||(n.data.format=qDe({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new gb(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function Sjt(e,t,n){let r=0;for(const i of t.transforms){let o,s;if(W5t(i))s=e=new zx(e,i),o="derived";else if(SZ(i)){const a=m8t(i);s=e=Oa.makeWithAncestors(e,{},a,n)??e,e=new zC(e,t,i.filter)}else if(q3e(i))s=e=wh.makeFromTransform(e,i,t),o="number";else if(Y5t(i))o="date",n.getWithExplicit(i.field).value===void 0&&(e=new Oa(e,{[i.field]:o}),n.set(i.field,o,!1)),s=e=vh.makeFromTransform(e,i);else if(K5t(i))s=e=Bd.makeFromTransform(e,i),o="number",DZ(t)&&(e=new N0(e));else if(H3e(i))s=e=iT.make(e,t,i,r++),o="derived";else if(H5t(i))s=e=new HC(e,i),o="number";else if(q5t(i))s=e=new Xb(e,i),o="number";else if(X5t(i))s=e=em.makeFromTransform(e,i),o="derived";else if(Q5t(i))s=e=new F5(e,i),o="derived";else if(J5t(i))s=e=new $5(e,i),o="derived";else if(V5t(i))s=e=new L5(e,i),o="derived";else if(L5t(i))s=e=new U5(e,i),o="derived";else if(U5t(i))e=new H5(e,i);else if(G5t(i))s=e=Ov.makeFromTransform(e,i),o="derived";else if(F5t(i))s=e=new M5(e,i),o="derived";else if(j5t(i))s=e=new B5(e,i),o="derived";else if(B5t(i))s=e=new z5(e,i),o="derived";else if(z5t(i))s=e=new j5(e,i),o="derived";else{Ct(g4t(i));continue}if(s&&o!==void 0)for(const a of s.producedFields()??[])n.set(a,o,!1)}return e}function q5(e){let t=Ejt(e,e.component.data.sources);const{outputNodes:n,outputNodeRefCounts:r}=e.component.data,i=e.data,s=!(i&&(l0(i)||jx(i)||eT(i)))&&e.parent?e.parent.component.data.ancestorParse.clone():new c$t;l0(i)?(X3e(i)?t=new Vk(t,i.sequence):TZ(i)&&(t=new qk(t,i.graticule)),s.parseNothing=!0):i?.format?.parse===null&&(s.parseNothing=!0),t=Oa.makeExplicit(t,e,s)??t,t=new N0(t);const a=e.parent&&qC(e.parent);(oo(e)||ju(e))&&a&&(t=wh.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=Sjt(t,e,s));const l=y8t(e),u=g8t(e);t=Oa.makeWithAncestors(t,{},{...l,...u},s)??t,oo(e)&&(t=Hw.parseAll(t,e),t=rT.parseAll(t,e)),(oo(e)||ju(e))&&(a||(t=wh.makeFromEncoding(t,e)??t),t=vh.makeFromEncoding(t,e)??t,t=zx.parseAllForSortIndex(t,e));const c=t=uI(ao.Raw,e,t);if(oo(e)){const g=Bd.makeFromEncoding(t,e);g&&(t=g,DZ(e)&&(t=new N0(t))),t=Ov.makeFromEncoding(t,e)??t,t=em.makeFromEncoding(t,e)??t}let d,f;if(oo(e)){const{markDef:g,mark:v,config:y}=e,w=gi("invalid",g,y),{marks:_,scales:E}=f=J3e({invalid:w,isPath:oy(v)});_!==E&&E==="include-invalid-values"&&(d=t=uI(ao.PreFilterInvalid,e,t)),_==="exclude-invalid-values"&&(t=qx.make(t,e,f)??t)}const h=t=uI(ao.Main,e,t);let m;if(oo(e)&&f){const{marks:g,scales:v}=f;g==="include-invalid-values"&&v==="exclude-invalid-values"&&(t=qx.make(t,e,f)??t,m=t=uI(ao.PostFilterInvalid,e,t))}oo(e)&&fFt(e,h);let p=null;if(ju(e)){const g=e.getName("facet");t=_jt(t,e.facet)??t,p=new UC(t,e,g,h.getSource()),n[g]=p}return{...e.component.data,outputNodes:n,outputNodeRefCounts:r,raw:c,main:h,facetRoot:p,ancestorParse:s,preFilterInvalid:d,postFilterInvalid:m}}function uI(e,t,n){const{outputNodes:r,outputNodeRefCounts:i}=t.component.data,o=t.getDataName(e),s=new Xl(n,o,e,i);return r[o]=s,s}class Tjt extends VZ{constructor(t,n,r,i){super(t,"concat",n,r,i,t.resolve),(t.resolve?.axis?.x==="shared"||t.resolve?.axis?.y==="shared")&&Ct(h4t),this.children=this.getChildren(t).map((o,s)=>QZ(o,this,this.getName(`concat_${s}`),void 0,i))}parseData(){this.component.data=q5(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of vt(t.component.selection))this.component.selection[n]=t.component.selection[n]}Object.values(this.component.selection).some(t=>bh(t))&&UJ(zJ)}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return x5(t)?t.vconcat:_Z(t)?t.hconcat:t.concat}parseLayoutSize(){wjt(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=LZ(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),r=t.assembleGroupStyle(),i=t.assembleGroupEncodeEntry(!1);return{type:"group",name:t.getName("group"),...n?{title:n}:{},...r?{style:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return{...t!=null?{columns:t}:{},bounds:"full",align:"each"}}}function kjt(e){return e===!1||e===null}const Ajt={disable:1,gridScale:1,scale:1,...h3e,labelExpr:1,encode:1},CNe=vt(Ajt);class GZ extends Hm{constructor(t={},n={},r=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=r}clone(){return new GZ(qn(this.explicit),qn(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!kjt(this.get(t))}hasOrientSignalRef(){return tn(this.explicit.orient)}}function Rjt(e,t,n){const{encoding:r,config:i}=e,o=us(r[t])??us(r[Qh(t)]),s=e.axis(t)||{},{format:a,formatType:l}=s;if(db(l))return{text:Od({fieldOrDatumDef:o,field:"datum.value",format:a,formatType:l,config:i}),...n};if(a===void 0&&l===void 0&&i.customFormatTypes){if($x(o)==="quantitative"){if(Lx(o)&&o.stack==="normalize"&&i.normalizedNumberFormatType)return{text:Od({fieldOrDatumDef:o,field:"datum.value",format:i.normalizedNumberFormat,formatType:i.normalizedNumberFormatType,config:i}),...n};if(i.numberFormatType)return{text:Od({fieldOrDatumDef:o,field:"datum.value",format:i.numberFormat,formatType:i.numberFormatType,config:i}),...n}}if($x(o)==="temporal"&&i.timeFormatType&&Et(o)&&!o.timeUnit)return{text:Od({fieldOrDatumDef:o,field:"datum.value",format:i.timeFormat,formatType:i.timeFormatType,config:i}),...n}}return n}function Ijt(e){return zm.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[Ljt(n,e)]),t),{})}const Djt={bottom:"top",top:"bottom",left:"right",right:"left"};function Pjt(e){const{axes:t,resolve:n}=e.component,r={top:0,bottom:0,right:0,left:0};for(const i of e.children){i.parseAxesAndHeaders();for(const o of vt(i.component.axes))n.axis[o]=FZ(e.component.resolve,o),n.axis[o]==="shared"&&(t[o]=Ojt(t[o],i.component.axes[o]),t[o]||(n.axis[o]="independent",delete t[o]))}for(const i of zm){for(const o of e.children)if(o.component.axes[i]){if(n.axis[i]==="independent"){t[i]=(t[i]??[]).concat(o.component.axes[i]);for(const s of o.component.axes[i]){const{value:a,explicit:l}=s.getWithExplicit("orient");if(!tn(a)){if(r[a]>0&&!l){const u=Djt[a];r[a]>r[u]&&s.set("orient",u,!1)}r[a]++}}}delete o.component.axes[i]}if(n.axis[i]==="independent"&&t[i]&&t[i].length>1)for(const[o,s]of(t[i]||[]).entries())o>0&&s.get("grid")&&!s.explicit.grid&&(s.implicit.grid=!1)}}function Ojt(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const i=e[r],o=t[r];if(!!i!=!!o)return;if(i&&o){const s=i.getWithExplicit("orient"),a=o.getWithExplicit("orient");if(s.explicit&&a.explicit&&s.value!==a.value)return;e[r]=Njt(i,o)}}}else return t.map(n=>n.clone());return e}function Njt(e,t){for(const n of CNe){const r=O0(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(i,o)=>{switch(n){case"title":return yPe(i,o);case"gridScale":return{explicit:i.explicit,value:Lo(i.value,o.value)}}return _5(i,o,n,"axis")});e.setWithExplicit(n,r)}return e}function Mjt(e,t,n,r,i){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(tn(n.labelAngle)?n.labelAngle:J2(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===zOe(r,i))return!0}return e===n[t]}const $jt=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function Ljt(e,t){let n=t.axis(e);const r=new GZ,i=us(t.encoding[e]),{mark:o,config:s}=t,a=n?.orient||s[e==="x"?"axisX":"axisY"]?.orient||s.axis?.orient||CFt(e),l=t.getScaleComponent(e).get("type"),u=mFt(e,l,a,t.config),c=n!==void 0?!n:QH("disable",s.style,n?.style,u).configValue;if(r.set("disable",c,n!==void 0),c)return r;n=n||{};const d=bFt(i,n,e,s.style,u),f=ZPe(n.formatType,i,l),h=JPe(i,i.type,n.format,n.formatType,s,!0),m={fieldOrDatumDef:i,axis:n,channel:e,model:t,scaleType:l,orient:a,labelAngle:d,format:h,formatType:f,mark:o,config:s};for(const v of CNe){const y=v in epe?epe[v](m):whe(v)?n[v]:void 0,w=y!==void 0,_=Mjt(y,v,n,t,e);if(w&&_)r.set(v,y,_);else{const{configValue:E=void 0,configFrom:S=void 0}=whe(v)&&v!=="values"?QH(v,s.style,n.style,u):{},T=E!==void 0;w&&!T?r.set(v,y,_):(S!=="vgAxisConfig"||$jt.has(v)&&T||jk(E)||tn(E))&&r.set(v,E,!1)}}const p=n.encoding??{},g=f3e.reduce((v,y)=>{if(!r.hasAxisPart(y))return v;const w=GOe(p[y]??{},t),_=y==="labels"?Rjt(t,e,w):w;return _!==void 0&&!yi(_)&&(v[y]={update:_}),v},{});return yi(g)||r.set("encode",g,!!n.encoding||n.labelAngle!==void 0),r}function Fjt({encoding:e,size:t}){for(const n of zm){const r=iu(n);Oh(t[r])&&Yg(e[n])&&(delete t[r],Ct(CPe(r)))}return t}const jjt={vgMark:"arc",encodeEntry:e=>({...Qc(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...hl("x",e,{defaultPos:"mid"}),...hl("y",e,{defaultPos:"mid"}),...gm(e,"radius"),...gm(e,"theta")})},Bjt={vgMark:"area",encodeEntry:e=>({...Qc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...ON("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"}),...ON("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"}),...IZ(e)})},zjt={vgMark:"rect",encodeEntry:e=>({...Qc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...gm(e,"x"),...gm(e,"y")})},Ujt={vgMark:"shape",encodeEntry:e=>({...Qc(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[{type:"geoshape",projection:e.projectionName(),...n&&Et(n)&&n.type===FC?{field:Ot(n,{expr:"datum"})}:{}}]}},Hjt={vgMark:"image",encodeEntry:e=>({...Qc(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...gm(e,"x"),...gm(e,"y"),...AZ(e,"url")})},qjt={vgMark:"line",encodeEntry:e=>({...Qc(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...hl("x",e,{defaultPos:"mid"}),...hl("y",e,{defaultPos:"mid"}),...ta("size",e,{vgChannel:"strokeWidth"}),...IZ(e)})},Vjt={vgMark:"trail",encodeEntry:e=>({...Qc(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...hl("x",e,{defaultPos:"mid"}),...hl("y",e,{defaultPos:"mid"}),...ta("size",e),...IZ(e)})};function YZ(e,t){const{config:n}=e;return{...Qc(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...hl("x",e,{defaultPos:"mid"}),...hl("y",e,{defaultPos:"mid"}),...ta("size",e),...ta("angle",e),...Wjt(e,n,t)}}function Wjt(e,t,n){return n?{shape:{value:n}}:ta("shape",e)}const Gjt={vgMark:"symbol",encodeEntry:e=>YZ(e)},Yjt={vgMark:"symbol",encodeEntry:e=>YZ(e,"circle")},Kjt={vgMark:"symbol",encodeEntry:e=>YZ(e,"square")},Xjt={vgMark:"rect",encodeEntry:e=>({...Qc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...gm(e,"x"),...gm(e,"y")})},Qjt={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:{...Qc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...ON("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"}),...ON("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"}),...ta("size",e,{vgChannel:"strokeWidth"})}}},Jjt={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return{...Qc(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...hl("x",e,{defaultPos:"mid"}),...hl("y",e,{defaultPos:"mid"}),...AZ(e),...ta("size",e,{vgChannel:"fontSize"}),...ta("angle",e),...Hhe("align",Zjt(e.markDef,n,t)),...Hhe("baseline",e9t(e.markDef,n,t)),...hl("radius",e,{defaultPos:null}),...hl("theta",e,{defaultPos:null})}}};function Zjt(e,t,n){if(gi("align",e,n)===void 0)return"center"}function e9t(e,t,n){if(gi("baseline",e,n)===void 0)return"middle"}const t9t={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i=r==="horizontal"?"x":"y",o=r==="horizontal"?"y":"x",s=r==="horizontal"?"height":"width";return{...Qc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...gm(e,i),...hl(o,e,{defaultPos:"mid",vgChannel:o==="y"?"yc":"xc"}),[s]:zi(gi("thickness",n,t))}}},cI={arc:jjt,area:Bjt,bar:zjt,circle:Yjt,geoshape:Ujt,image:Hjt,line:qjt,point:Gjt,rect:Xjt,rule:Qjt,square:Kjt,text:Jjt,tick:t9t,trail:Vjt};function n9t(e){if(pr([f5,c5,HMt],e.mark)){const t=b3e(e.mark,e.encoding);if(t.length>0)return r9t(e,t)}else if(e.mark===d5){const t=PH.some(n=>gi(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return i9t(e)}return KZ(e)}const gpe="faceted_path_";function r9t(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:gpe+e.requestDataName(ao.Main),data:e.requestDataName(ao.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:KZ(e,{fromPrefix:gpe})}]}const ype="stack_group_";function i9t(e){const[t]=KZ(e,{fromPrefix:ype}),n=e.scaleName(e.stack.fieldChannel),r=(u={})=>e.vgField(e.stack.fieldChannel,u),i=(u,c)=>{const d=[r({prefix:"min",suffix:"start",expr:c}),r({prefix:"max",suffix:"start",expr:c}),r({prefix:"min",suffix:"end",expr:c}),r({prefix:"max",suffix:"end",expr:c})];return`${u}(${d.map(f=>`scale('${n}',${f})`).join(",")})`};let o,s;e.stack.fieldChannel==="x"?(o={...Ix(t.encode.update,["y","yc","y2","height",...PH]),x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}},s={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={...Kl(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(o={...Ix(t.encode.update,["x","xc","x2","width"]),y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}},s={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={...Kl(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const u of PH){const c=Dh(u,e.markDef,e.config);t.encode.update[u]?(o[u]=t.encode.update[u],delete t.encode.update[u]):c&&(o[u]=zi(c)),c&&(t.encode.update[u]={value:0})}const a=[];if(e.stack.groupbyChannels?.length>0)for(const u of e.stack.groupbyChannels){const c=e.fieldDef(u),d=Ot(c);d&&a.push(d),(c?.bin||c?.timeUnit)&&a.push(Ot(c,{binSuffix:"end"}))}return o=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((u,c)=>{if(t.encode.update[c])return{...u,[c]:t.encode.update[c]};{const d=Dh(c,e.markDef,e.config);return d!==void 0?{...u,[c]:zi(d)}:u}},o),o.stroke&&(o.strokeForeground={value:!0},o.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(ao.Main),name:ype+e.requestDataName(ao.Main),groupby:a,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:o},marks:[{type:"group",encode:{update:s},marks:[t]}]}]}function o9t(e){const{encoding:t,stack:n,mark:r,markDef:i,config:o}=e,s=t.order;if(!(!Yt(s)&&Zd(s)&&IH(s.value)||!s&&IH(gi("order",i,o)))){if((Yt(s)||Et(s))&&!n)return pPe(s,{expr:"datum"});if(oy(r)){const a=i.orient==="horizontal"?"y":"x",l=t[a];if(Et(l))return{field:a}}}}function KZ(e,t={fromPrefix:""}){const{mark:n,markDef:r,encoding:i,config:o}=e,s=Lo(r.clip,s9t(e),a9t(e)),a=fPe(r),l=i.key,u=o9t(e),c=l9t(e),d=gi("aria",r,o),f=cI[n].postEncodingTransform?cI[n].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:cI[n].vgMark,...s?{clip:s}:{},...a?{style:a}:{},...l?{key:l.field}:{},...u?{sort:u}:{},...c||{},...d===!1?{aria:d}:{},from:{data:t.fromPrefix+e.requestDataName(ao.Main)},encode:{update:cI[n].encodeEntry(e)},...f?{transform:f}:{}}]}function s9t(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t?.get("selectionExtent")||n?.get("selectionExtent")?!0:void 0}function a9t(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function l9t(e){if(!e.component.selection)return null;const t=vt(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=vt(r.component.selection).length,r=r.parent;return n?{interactive:t>0||e.mark==="geoshape"||!!e.encoding.tooltip||!!e.markDef.tooltip}:null}class _Ne extends vNe{constructor(t,n,r,i={},o){super(t,"unit",n,r,o,void 0,Che(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[],this.correctDataNames=u=>(u.from?.data&&(u.from.data=this.lookupDataSource(u.from.data),"time"in this.encoding&&(u.from.data=u.from.data+sOe)),u.from?.facet?.data&&(u.from.facet.data=this.lookupDataSource(u.from.facet.data)),u);const s=Ph(t.mark)?{...t.mark}:{type:t.mark},a=s.type;s.filled===void 0&&(s.filled=T5t(s,o,{graticule:t.data&&TZ(t.data)}));const l=this.encoding=I6t(t.encoding||{},a,s.filled,o);this.markDef=B3e(s,l,o),this.size=Fjt({encoding:l,size:Che(t)?{...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}}:i}),this.stack=j3e(this.markDef,l),this.specifiedScales=this.initScales(a,l),this.specifiedAxes=this.initAxes(l),this.specifiedLegends=this.initLegends(l),this.specifiedProjection=t.projection,this.selection=(t.params??[]).filter(u=>xZ(u))}get hasProjection(){const{encoding:t}=this,n=this.mark===VPe,r=t&&CNt.some(i=>Wn(t[i]));return n||r}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return LJ.reduce((r,i)=>{const o=us(n[i]);return o&&(r[i]=this.initScale(o.scale??{})),r},{})}initScale(t){const{domain:n,range:r}=t,i=Qs(t);return Yt(n)&&(i.domain=n.map(Au)),Yt(r)&&(i.range=r.map(Au)),i}initAxes(t){return zm.reduce((n,r)=>{const i=t[r];if(Wn(i)||r===Zi&&Wn(t.x2)||r===Fs&&Wn(t.y2)){const o=Wn(i)?i.axis:void 0;n[r]=o&&this.initAxis({...o})}return n},{})}initAxis(t){const n=vt(t),r={};for(const i of n){const o=t[i];r[i]=jk(o)?dPe(o):Au(o)}return r}initLegends(t){return ONt.reduce((n,r)=>{const i=us(t[r]);if(i&&MNt(r)){const o=i.legend;n[r]=o&&Qs(o)}return n},{})}parseData(){this.component.data=q5(this)}parseLayoutSize(){xjt(this)}parseSelections(){this.component.selection=dFt(this,this.selection)}parseMarkGroup(){this.component.mark=n9t(this)}parseAxesAndHeaders(){this.component.axes=Ijt(this)}assembleSelectionTopLevelSignals(t){return R$t(this,t)}assembleSignals(){return[...FOe(this),...k$t(this,[])]}assembleSelectionData(t){return I$t(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return LZ(this)}assembleMarks(){let t=this.component.mark??[];return(!this.parent||!qC(this.parent))&&(t=cOe(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};return t!==void 0?t:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return Dv(this.encoding,t)}fieldDef(t){const n=this.encoding[t];return ef(n)}typedFieldDef(t){const n=this.fieldDef(t);return Cl(n)?n:null}}class XZ extends VZ{constructor(t,n,r,i,o){super(t,"layer",n,r,o,t.resolve,t.view);const s={...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}};this.children=t.layer.map((a,l)=>{if(C5(a))return new XZ(a,this,this.getName(`layer_${l}`),s,o);if(Um(a))return new _Ne(a,this,this.getName(`layer_${l}`),s,o);throw new Error(jJ(a))})}parseData(){this.component.data=q5(this);for(const t of this.children)t.parseData()}parseLayoutSize(){bjt(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of vt(t.component.selection))this.component.selection[n]=t.component.selection[n]}Object.values(this.component.selection).some(t=>bh(t))&&UJ(zJ)}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){Pjt(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),FOe(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),LZ(this))}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleGroupStyle(){const t=new Set;for(const r of this.children)for(const i of $o(r.assembleGroupStyle()))t.add(i);const n=Array.from(t);return n.length>1?n:n.length===1?n[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return D$t(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),tNe(this))}}function QZ(e,t,n,r,i){if(m5(e))return new jS(e,t,n,i);if(C5(e))return new XZ(e,t,n,r,i);if(Um(e))return new _Ne(e,t,n,r,i);if(e5t(e))return new Tjt(e,t,n,i);throw new Error(jJ(e))}function u9t(e,t={}){t.logger&&rMt(t.logger),t.fieldTitle&&u3e(t.fieldTitle);try{const n=F3e(UDe(t.config,e.config)),r=G3e(e,n),i=QZ(r,null,"",void 0,n);return i.parse(),O8t(i.component.data,i),{spec:d9t(i,c9t(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&iMt(),t.fieldTitle&&x6t()}}function c9t(e,t,n,r){const i=r.component.layoutSize.get("width"),o=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):Kn(t)&&(t={type:t}),i&&o&&a$t(t.type)){if(i==="step"&&o==="step")Ct(she()),t.type="pad";else if(i==="step"||o==="step"){const s=i==="step"?"width":"height";Ct(she(i5(s)));const a=s==="width"?"height":"width";t.type=l$t(a)}}return{...vt(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t},...Nhe(n,!1),...Nhe(e,!0)}}function d9t(e,t,n={},r){const i=e.config?p5t(e.config):void 0,o=mjt(e.component.data,n),s=e.assembleSelectionData(o),a=e.assembleProjections(),l=e.assembleTitle(),u=e.assembleGroupStyle(),c=e.assembleGroupEncodeEntry(!0);let d=e.assembleLayoutSignals();d=d.filter(m=>(m.name==="width"||m.name==="height")&&m.value!==void 0?(t[m.name]=+m.value,!1):!0);const{params:f,...h}=t;return{$schema:"https://vega.github.io/schema/vega/v5.json",...e.description?{description:e.description}:{},...h,...l?{title:l}:{},...u?{style:u}:{},...c?{encode:{update:c}}:{},data:s,...a.length>0?{projections:a}:{},...e.assembleGroup([...d,...e.assembleSelectionTopLevelSignals([]),...N3e(f)]),...i?{config:i}:{},...r?{usermeta:r}:{}}}const f9t=iNt.version,h9t=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:Px,accessPathWithDatum:RJ,accessWithDatumToUnescapedPath:ui,compile:u9t,contains:pr,deepEqual:Pu,deleteNestedProperty:xN,duplicate:qn,entries:I0,every:TJ,fieldIntersection:AJ,flatAccessWithDatum:WDe,getFirstDefined:Lo,hasIntersection:kJ,hasProperty:bt,hash:xr,internalField:KDe,isBoolean:Q2,isEmpty:yi,isEqual:vNt,isInternalField:XDe,isNullOrFalse:IH,isNumeric:J6,keys:vt,logicalExpr:MS,mergeDeep:qDe,never:HDe,normalize:G3e,normalizeAngle:J2,omit:Kl,pick:Ix,prefixGenerator:DH,removePathFromField:$C,replaceAll:ob,replacePathInField:jc,resetIdCounter:wNt,setEqual:VDe,some:Dx,stringify:vi,titleCase:Ak,unique:ih,uniqueId:YDe,vals:sa,varName:Ki,version:f9t},Symbol.toStringTag,{value:"Module"}));var dI={},vpe;function p9t(){if(vpe)return dI;vpe=1,Object.defineProperty(dI,"__esModule",{value:!0});function e(t){var n=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g,r=n.exec(t).slice(1,3),i=r[0],o=r[1];return{library:i,version:o}}return dI.default=e,dI}var m9t=p9t();const ENe=Xo(m9t);var g9t="2.15.0",y9t={version:g9t};const V1="#fff",bpe="#888",v9t={background:"#333",view:{stroke:bpe},title:{color:V1,subtitleColor:V1},style:{"guide-label":{fill:V1},"guide-title":{fill:V1}},axis:{domainColor:V1,gridColor:bpe,tickColor:V1}},ky="#4572a7",b9t={background:"#fff",arc:{fill:ky},area:{fill:ky},line:{stroke:ky,strokeWidth:2},path:{stroke:ky},rect:{fill:ky},shape:{stroke:ky},symbol:{fill:ky,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},Ay="#30a2da",z9="#cbcbcb",w9t="#999",x9t="#333",wpe="#f0f0f0",xpe="#333",C9t={arc:{fill:Ay},area:{fill:Ay},axis:{domainColor:z9,grid:!0,gridColor:z9,gridWidth:1,labelColor:w9t,labelFontSize:10,titleColor:x9t,tickColor:z9,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:wpe,group:{fill:wpe},legend:{labelColor:xpe,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:xpe,titleFontSize:14,titlePadding:10},line:{stroke:Ay,strokeWidth:2},path:{stroke:Ay,strokeWidth:.5},rect:{fill:Ay},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:Ay},bar:{binSpacing:2,fill:Ay,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},Ry="#000",_9t={group:{fill:"#e5e5e5"},arc:{fill:Ry},area:{fill:Ry},line:{stroke:Ry},path:{stroke:Ry},rect:{fill:Ry},shape:{stroke:Ry},symbol:{fill:Ry,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},E9t=22,S9t="normal",Cpe="Benton Gothic, sans-serif",_pe=11.5,T9t="normal",Iy="#82c6df",U9="Benton Gothic Bold, sans-serif",Epe="normal",Spe=13,iE={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"]},k9t={background:"#ffffff",title:{anchor:"start",color:"#000000",font:U9,fontSize:E9t,fontWeight:S9t},arc:{fill:Iy},area:{fill:Iy},line:{stroke:Iy,strokeWidth:2},path:{stroke:Iy},rect:{fill:Iy},shape:{stroke:Iy},symbol:{fill:Iy,size:30},axis:{labelFont:Cpe,labelFontSize:_pe,labelFontWeight:T9t,titleFont:U9,titleFontSize:Spe,titleFontWeight:Epe},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:Cpe,labelFontSize:_pe,symbolType:"square",titleFont:U9,titleFontSize:Spe,titleFontWeight:Epe},range:{category:iE["category-6"],diverging:iE["fireandice-6"],heatmap:iE["fire-7"],ordinal:iE["fire-7"],ramp:iE["fire-7"]}},Dy="#ab5787",fI="#979797",A9t={background:"#f9f9f9",arc:{fill:Dy},area:{fill:Dy},line:{stroke:Dy},path:{stroke:Dy},rect:{fill:Dy},shape:{stroke:Dy},symbol:{fill:Dy,size:30},axis:{domainColor:fI,domainWidth:.5,gridWidth:.2,labelColor:fI,tickColor:fI,tickWidth:.2,titleColor:fI},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},Py="#3e5c69",R9t={background:"#fff",arc:{fill:Py},area:{fill:Py},line:{stroke:Py},path:{stroke:Py},rect:{fill:Py},shape:{stroke:Py},symbol:{fill:Py},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},cc="#1696d2",Tpe="#000000",I9t="#FFFFFF",hI="Lato",H9="Lato",D9t="Lato",P9t="#DEDDDD",O9t=18,oE={"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},N9t={background:I9t,title:{anchor:"start",fontSize:O9t,font:hI},axisX:{domain:!0,domainColor:Tpe,domainWidth:1,grid:!1,labelFontSize:12,labelFont:H9,labelAngle:0,tickColor:Tpe,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:hI},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:P9t,gridWidth:1,labelFontSize:12,labelFont:H9,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:hI,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:H9,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:hI,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:oE["six-groups-cat-1"],diverging:oE["diverging-colors"],heatmap:oE["diverging-colors"],ordinal:oE["six-groups-seq"],ramp:oE["shades-blue"]},area:{fill:cc},rect:{fill:cc},line:{color:cc,stroke:cc,strokeWidth:5},trail:{color:cc,stroke:cc,strokeWidth:0,size:1},path:{stroke:cc,strokeWidth:.5},point:{filled:!0},text:{font:D9t,color:cc,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:cc,stroke:null}},arc:{fill:cc},shape:{stroke:cc},symbol:{fill:cc,size:30}},Oy="#3366CC",kpe="#ccc",pI="Arial, sans-serif",M9t={arc:{fill:Oy},area:{fill:Oy},path:{stroke:Oy},rect:{fill:Oy},shape:{stroke:Oy},symbol:{stroke:Oy},circle:{fill:Oy},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:pI,fontSize:12},"guide-title":{font:pI,fontSize:12},"group-title":{font:pI,fontSize:12}},title:{font:pI,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:kpe,tickColor:kpe,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},JZ=e=>e*(1/3+1),Ape=JZ(9),Rpe=JZ(10),Ipe=JZ(12),sE="Segoe UI",Dpe="wf_standard-font, helvetica, arial, sans-serif",Ppe="#252423",aE="#605E5C",Ope="transparent",$9t="#C8C6C4",fd="#118DFF",L9t="#12239E",F9t="#E66C37",j9t="#6B007B",B9t="#E044A7",z9t="#744EC2",U9t="#D9B300",H9t="#D64550",SNe=fd,TNe="#DEEFFF",Npe=[TNe,SNe],q9t=[TNe,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",SNe],V9t={view:{stroke:Ope},background:Ope,font:sE,header:{titleFont:Dpe,titleFontSize:Ipe,titleColor:Ppe,labelFont:sE,labelFontSize:Rpe,labelColor:aE},axis:{ticks:!1,grid:!1,domain:!1,labelColor:aE,labelFontSize:Ape,titleFont:Dpe,titleColor:Ppe,titleFontSize:Ipe,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:$9t,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:fd},line:{stroke:fd,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:sE,fontSize:Ape,fill:aE},arc:{fill:fd},area:{fill:fd,line:!0,opacity:.6},path:{stroke:fd},rect:{fill:fd},point:{fill:fd,filled:!0,size:75},shape:{stroke:fd},symbol:{fill:fd,strokeWidth:1.5,size:50},legend:{titleFont:sE,titleFontWeight:"bold",titleColor:aE,labelFont:sE,labelFontSize:Rpe,labelColor:aE,symbolType:"circle",symbolSize:75},range:{category:[fd,L9t,F9t,j9t,B9t,z9t,U9t,H9t],diverging:Npe,heatmap:Npe,ordinal:q9t}},q9='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',W9t='IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',V9=400,mI={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},G9t=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],Y9t=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function V5({theme:e,background:t}){const n=["white","g10"].includes(e)?"light":"dark",r=mI.gridBg[e],i=mI.textPrimary[e],o=mI.textSecondary[e],s=n==="dark"?G9t:Y9t,a=n==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:a},area:{fill:a},path:{stroke:a},rect:{fill:a},shape:{stroke:a},symbol:{stroke:a},circle:{fill:a},view:{fill:r,stroke:r},group:{fill:r},title:{color:i,anchor:"start",dy:-15,fontSize:16,font:q9,fontWeight:600},axis:{labelColor:o,labelFontSize:12,labelFont:W9t,labelFontWeight:V9,titleColor:i,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:mI.layerAccent01[e],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:q9,fill:o,fontWeight:V9},"guide-title":{font:q9,fill:o,fontWeight:V9}},range:{category:s,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const K9t=V5({theme:"white",background:"#ffffff"}),X9t=V5({theme:"g10",background:"#f4f4f4"}),Q9t=V5({theme:"g90",background:"#262626"}),J9t=V5({theme:"g100",background:"#161616"}),Z9t=y9t.version,eBt=Object.freeze(Object.defineProperty({__proto__:null,carbong10:X9t,carbong100:J9t,carbong90:Q9t,carbonwhite:K9t,dark:v9t,excel:b9t,fivethirtyeight:C9t,ggplot2:_9t,googlecharts:M9t,latimes:k9t,powerbi:V9t,quartz:A9t,urbaninstitute:N9t,version:Z9t,vox:R9t},Symbol.toStringTag,{value:"Module"})),tBt=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black; }
  #vg-tooltip-element.visible {
    visibility: visible; }
  #vg-tooltip-element h2 {
    margin-top: 0;
    margin-bottom: 10px;
    font-size: 13px; }
  #vg-tooltip-element table {
    border-spacing: 0; }
    #vg-tooltip-element table tr {
      border: none; }
      #vg-tooltip-element table tr td {
        overflow: hidden;
        text-overflow: ellipsis;
        padding-top: 2px;
        padding-bottom: 2px; }
        #vg-tooltip-element table tr td.key {
          color: #808080;
          max-width: 150px;
          text-align: right;
          padding-right: 4px; }
        #vg-tooltip-element table tr td.value {
          display: block;
          max-width: 300px;
          max-height: 7em;
          text-align: left; }
  #vg-tooltip-element.dark-theme {
    background-color: rgba(32, 32, 32, 0.9);
    border: 1px solid #f5f5f5;
    color: white; }
    #vg-tooltip-element.dark-theme td.key {
      color: #bfbfbf; }
`,kNe="vg-tooltip-element",nBt={offsetX:10,offsetY:10,id:kNe,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:rBt,maxDepth:2};function rBt(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function iBt(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return tBt.toString().replace(kNe,e)}function VC(e,t,n){return e.fields=t||[],e.fname=n,e}function oBt(e){return e.length===1?sBt(e[0]):aBt(e)}const sBt=e=>function(t){return t[e]},aBt=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function W9(e){throw Error(e)}function lBt(e){const t=[],n=e.length;let r=null,i=0,o="",s,a,l;e=e+"";function u(){t.push(o+e.substring(s,a)),o="",s=a+1}for(s=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(s,a++),s=a;else if(l===r)u(),r=null,i=-1;else{if(r)continue;s===i&&l==='"'||s===i&&l==="'"?(s=a+1,r=l):l==="."&&!i?a>s?u():s=a+1:l==="["?(a>s&&u(),i=s=a+1):l==="]"&&(i||W9("Access path missing open bracket: "+e),i>0&&u(),i=0,s=a+1)}return i&&W9("Access path missing closing bracket: "+e),r&&W9("Access path missing closing quote: "+e),a>s&&(a++,u()),t}function uBt(e,t,n){const r=lBt(e);return e=r.length===1?r[0]:e,VC(oBt(r),[e],e)}uBt("id");VC(e=>e,[],"identity");VC(()=>0,[],"zero");VC(()=>1,[],"one");VC(()=>!0,[],"true");VC(()=>!1,[],"false");var cBt=Array.isArray;function Mpe(e){return e===Object(e)}function dBt(e){return typeof e=="string"}var fBt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function hBt(e,t,n){if(cBt(e))return`[${e.map(r=>t(dBt(r)?r:$pe(r,n))).join(", ")}]`;if(Mpe(e)){let r="";const i=e,{title:o}=i,s=fBt(i,["title"]);o&&(r+=`<h2>${t(o)}</h2>`);const a=Object.keys(s);if(a.length>0){r+="<table>";for(const l of a){let u=s[l];u!==void 0&&(Mpe(u)&&(u=$pe(u,n)),r+=`<tr><td class="key">${t(l)}:</td><td class="value">${t(u)}</td></tr>`)}r+="</table>"}return r||"{}"}return t(e)}function pBt(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function $pe(e,t){return JSON.stringify(e,pBt(t))}function mBt(e,t,n,r){let i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);let o=e.clientY+r;return o+t.height>window.innerHeight&&(o=+e.clientY-r-t.height),{x:i,y:o}}class gBt{constructor(t){this.options=Object.assign(Object.assign({},nBt),t);const n=this.options.id;if(this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=iBt(n);const i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}this.el=document.getElementById(n),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",n),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}tooltipHandler(t,n,r,i){if(i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=hBt(i,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:o,y:s}=mBt(n,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style",`top: ${s}px; left: ${o}px`)}}function yBt(e,t,n){const r=e.open(t),i=250;let o=40;function s(l){l.source===r&&(o=0,e.removeEventListener("message",s,!1))}e.addEventListener("message",s,!1);function a(){o<=0||(r.postMessage(n,"*"),setTimeout(a,i),o-=1)}setTimeout(a,i)}const vBt=`.vega-embed {
  position: relative;
  display: inline-block; }
  .vega-embed.has-actions {
    padding-right: 38px; }
  .vega-embed details:not([open]) > :not(summary) {
    display: none !important; }
  .vega-embed summary {
    list-style: none;
    position: absolute;
    top: 0;
    right: 0;
    padding: 6px;
    z-index: 1000;
    background: white;
    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
    color: #1b1e23;
    border: 1px solid #aaa;
    border-radius: 999px;
    opacity: 0.2;
    transition: opacity 0.4s ease-in;
    outline: none;
    cursor: pointer;
    line-height: 0px; }
    .vega-embed summary::-webkit-details-marker {
      display: none; }
    .vega-embed summary:active {
      box-shadow: #aaa 0px 0px 0px 1px inset; }
    .vega-embed summary svg {
      width: 14px;
      height: 14px; }
  .vega-embed details[open] summary {
    opacity: 0.7; }
  .vega-embed:hover summary,
  .vega-embed:focus summary {
    opacity: 1 !important;
    transition: opacity 0.2s ease; }
  .vega-embed .vega-actions {
    position: absolute;
    z-index: 1001;
    top: 35px;
    right: -9px;
    display: flex;
    flex-direction: column;
    padding-bottom: 8px;
    padding-top: 8px;
    border-radius: 4px;
    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
    border: 1px solid #d9d9d9;
    background: white;
    animation-duration: 0.15s;
    animation-name: scale-in;
    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
    text-align: left; }
    .vega-embed .vega-actions a {
      padding: 8px 16px;
      font-family: sans-serif;
      font-size: 14px;
      font-weight: 600;
      white-space: nowrap;
      color: #434a56;
      text-decoration: none; }
      .vega-embed .vega-actions a:hover {
        background-color: #f7f7f9;
        color: black; }
    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
      content: "";
      display: inline-block;
      position: absolute; }
    .vega-embed .vega-actions::before {
      left: auto;
      right: 14px;
      top: -16px;
      border: 8px solid #0000;
      border-bottom-color: #d9d9d9; }
    .vega-embed .vega-actions::after {
      left: auto;
      right: 15px;
      top: -14px;
      border: 7px solid #0000;
      border-bottom-color: #fff; }

.vega-embed-wrapper {
  max-width: 100%;
  overflow: scroll;
  padding-right: 14px; }

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6); }
  to {
    opacity: 1;
    transform: scale(1); } }
`;String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e});function ANe(e,...t){for(const n of t)bBt(e,n);return e}function bBt(e,t){for(const n of Object.keys(t))MM(e,n,t[n],!0)}var G9;const $g=nNt;let oT=h9t;const gI=typeof window<"u"?window:void 0;oT===void 0&&(!((G9=gI?.vl)===null||G9===void 0)&&G9.compile)&&(oT=gI.vl);const wBt={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},xBt={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},tS={vega:"Vega","vega-lite":"Vega-Lite"},FN={vega:$g.version,"vega-lite":oT?oT.version:"not available"},CBt={vega:e=>e,"vega-lite":(e,t)=>oT.compile(e,{config:t}).spec},_Bt=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`;function EBt(e){return typeof e=="function"}function Lpe(e,t,n,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,o=`</code></pre>${n}</body></html>`,s=window.open("");s.document.write(i+e+o),s.document.title=`${tS[r]} JSON Source`}function SBt(e,t){var n;if(e.$schema){const r=ENe(e.$schema);t&&t!==r.library&&console.warn(`The given visualization spec is written in ${tS[r.library]}, but mode argument sets ${(n=tS[t])!==null&&n!==void 0?n:t}.`);const i=r.library;return AEe.satisfies(FN[i],`^${r.version.slice(1)}`)||console.warn(`The input spec uses ${tS[i]} ${r.version}, but the current version of ${tS[i]} is v${FN[i]}.`),i}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function TBt(e){return!!(e&&"load"in e)}function kBt(e,t,n={}){var r,i,o;return d3(this,void 0,void 0,function*(){const s=TBt(n.loader)?n.loader:$g.loader(n.loader),a=Vr(t)?JSON.parse(yield s.load(t)):t,l=yield Fpe((r=a.usermeta&&a.usermeta.embedOptions)!==null&&r!==void 0?r:{},s),u=yield Fpe(n,s),c=Object.assign(Object.assign({},ANe(u,l)),{config:NM((i=u.config)!==null&&i!==void 0?i:{},(o=l.config)!==null&&o!==void 0?o:{})});return yield ABt(e,a,c,s)})}function Fpe(e,t){var n;return d3(this,void 0,void 0,function*(){const r=Vr(e.config)?JSON.parse(yield t.load(e.config)):(n=e.config)!==null&&n!==void 0?n:{},i=Vr(e.patch)?JSON.parse(yield t.load(e.patch)):e.patch;return Object.assign(Object.assign(Object.assign({},e),i?{patch:i}:{}),r?{config:r}:{})})}function ABt(e,t,n={},r){var i,o,s,a,l,u;return d3(this,void 0,void 0,function*(){const c=n.theme?NM(eBt[n.theme],(i=n.config)!==null&&i!==void 0?i:{}):n.config,d=jY(n.actions)?n.actions:ANe({},wBt,(o=n.actions)!==null&&o!==void 0?o:{}),f=Object.assign(Object.assign({},xBt),n.i18n),h=(s=n.renderer)!==null&&s!==void 0?s:"canvas",m=(a=n.logLevel)!==null&&a!==void 0?a:$g.Warn,p=(l=n.downloadFileName)!==null&&l!==void 0?l:"visualization";if(n.defaultStyle!==!1){const R="vega-embed-style";if(!document.getElementById(R)){const I=document.createElement("style");I.id=R,I.innerText=n.defaultStyle===void 0||n.defaultStyle===!0?vBt.toString():n.defaultStyle,document.head.appendChild(I)}}const g=SBt(t,n.mode);let v=CBt[g](t,c);if(g==="vega-lite"&&v.$schema){const R=ENe(v.$schema);AEe.satisfies(FN.vega,`^${R.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${R.version}, but current version is v${FN.vega}.`)}const y=typeof e=="string"?document.querySelector(e):e;if(!y)throw Error(`${e} does not exist`);y.classList.add("vega-embed"),d&&y.classList.add("has-actions"),y.innerHTML="";const w=n.patch;w&&(w instanceof Function?v=w(v):v=kM(v,w,!0,!1).newDocument),n.formatLocale&&$g.formatLocale(n.formatLocale),n.timeFormatLocale&&$g.timeFormatLocale(n.timeFormatLocale);const _=$g.parse(v,g==="vega-lite"?{}:c),E=new $g.View(_,{loader:r,logLevel:m,renderer:h});if(n.tooltip!==!1){let R;EBt(n.tooltip)?R=n.tooltip:R=new gBt(n.tooltip===!0?{}:n.tooltip).call,E.tooltip(R)}let{hover:S}=n;if(S===void 0&&(S=g==="vega"),S){const{hoverSet:R,updateSet:I}=typeof S=="boolean"?{}:S;E.hover(R,I)}n&&(n.width!=null&&E.width(n.width),n.height!=null&&E.height(n.height),n.padding!=null&&E.padding(n.padding)),yield E.initialize(e).runAsync();let T;if(d!==!1){let R=y;if(n.defaultStyle!==!1){const P=document.createElement("details");P.title=f.CLICK_TO_VIEW_ACTIONS,y.append(P),R=P;const N=document.createElement("summary");N.innerHTML=_Bt,P.append(N),T=M=>{P.contains(M.target)||P.removeAttribute("open")},document.addEventListener("click",T)}const I=document.createElement("div");if(R.append(I),I.classList.add("vega-actions"),d===!0||d.export!==!1){for(const P of["svg","png"])if(d===!0||d.export===!0||d.export[P]){const N=f[`${P.toUpperCase()}_ACTION`],M=document.createElement("a");M.text=N,M.href="#",M.target="_blank",M.download=`${p}.${P}`,M.addEventListener("mousedown",function(O){return d3(this,void 0,void 0,function*(){O.preventDefault();const j=yield E.toImageURL(P,n.scaleFactor);this.href=j})}),I.append(M)}}if(d===!0||d.source!==!1){const P=document.createElement("a");P.text=f.SOURCE_ACTION,P.href="#",P.addEventListener("mousedown",function(N){var M,O;Lpe(T8(t),(M=n.sourceHeader)!==null&&M!==void 0?M:"",(O=n.sourceFooter)!==null&&O!==void 0?O:"",g),N.preventDefault()}),I.append(P)}if(g==="vega-lite"&&(d===!0||d.compiled!==!1)){const P=document.createElement("a");P.text=f.COMPILED_ACTION,P.href="#",P.addEventListener("mousedown",function(N){var M,O;Lpe(T8(v),(M=n.sourceHeader)!==null&&M!==void 0?M:"",(O=n.sourceFooter)!==null&&O!==void 0?O:"","vega"),N.preventDefault()}),I.append(P)}if(d===!0||d.editor!==!1){const P=(u=n.editorUrl)!==null&&u!==void 0?u:"https://vega.github.io/editor/",N=document.createElement("a");N.text=f.EDITOR_ACTION,N.href="#",N.addEventListener("mousedown",function(M){yBt(window,P,{config:c,mode:g,renderer:h,spec:T8(t)}),M.preventDefault()}),I.append(N)}}function k(){T&&document.removeEventListener("click",T),E.finalize()}return{view:E,spec:t,vgSpec:v,finalize:k}})}function RBt(e){return!!e&&{}.toString.call(e)==="[object Function]"}function IBt(e,t,n){n&&(RBt(n)?n(e.data(t)):e.change(t,$g.changeset().remove(()=>!0).insert(n)))}function DBt(e,t){Object.keys(t).forEach(n=>{IBt(e,n,t[n])})}function RNe(e){const t=new Set;return e.forEach(n=>{Object.keys(n).forEach(r=>{t.add(r)})}),t}const INe=()=>{};function Y9(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.addSignalListener(r,t[r])}catch(i){console.warn("Cannot add invalid signal listener.",i)}}),n.length>0}function PBt(e,t){if(e===t)return!1;const n={width:!1,height:!1,isExpensive:!1},r=RNe([e,t]);return r.has("width")&&(!("width"in e)||!("width"in t)||e.width!==t.width)&&("width"in e&&typeof e.width=="number"?n.width=e.width:n.isExpensive=!0),r.has("height")&&(!("height"in e)||!("height"in t)||e.height!==t.height)&&("height"in e&&typeof e.height=="number"?n.height=e.height:n.isExpensive=!0),r.delete("width"),r.delete("height"),[...r].some(i=>!(i in e)||!(i in t)||!IE(e[i],t[i]))&&(n.isExpensive=!0),n.width!==!1||n.height!==!1||n.isExpensive?n:!1}function jpe(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.removeSignalListener(r,t[r])}catch(i){console.warn("Cannot remove invalid signal listener.",i)}}),n.length>0}function K9(e){const{spec:t,width:n,height:r}=e;return typeof n<"u"&&typeof r<"u"?{...t,width:n,height:r}:typeof n<"u"?{...t,width:n}:typeof r<"u"?{...t,height:r}:t}function nS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class DNe extends un.PureComponent{constructor(){super(...arguments),nS(this,"containerRef",un.createRef()),nS(this,"resultPromise",void 0),nS(this,"handleError",t=>{const{onError:n=INe}=this.props;n(t,this.containerRef.current),console.warn(t)}),nS(this,"modifyView",t=>{this.resultPromise&&this.resultPromise.then(n=>(n&&t(n.view),!0)).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(t){const n=RNe([this.props,t]);if(n.delete("className"),n.delete("signalListeners"),n.delete("spec"),n.delete("style"),n.delete("width"),n.delete("height"),Array.from(n).some(r=>this.props[r]!==t[r]))this.clearView(),this.createView();else{const r=PBt(K9(this.props),K9(t)),{signalListeners:i}=this.props,{signalListeners:o}=t;if(r)if(r.isExpensive)this.clearView(),this.createView();else{const s=!qz(i,o);this.modifyView(a=>{r.width!==!1&&a.width(r.width),r.height!==!1&&a.height(r.height),s&&(o&&jpe(a,o),i&&Y9(a,i)),a.run()})}else qz(i,o)||this.modifyView(s=>{o&&jpe(s,o),i&&Y9(s,i),s.run()})}}componentWillUnmount(){this.clearView()}createView(){const{spec:t,onNewView:n,signalListeners:r={},width:i,height:o,...s}=this.props;if(this.containerRef.current){const a=K9(this.props);this.resultPromise=kBt(this.containerRef.current,a,s).then(l=>{if(l){const{view:u}=l;Y9(u,r)&&u.run()}return l}).catch(this.handleError),n&&this.modifyView(n)}}clearView(){return this.resultPromise&&this.resultPromise.then(t=>{t&&t.finalize()}).catch(this.handleError),this.resultPromise=void 0,this}render(){const{className:t,style:n}=this.props;return un.createElement("div",{ref:this.containerRef,className:t,style:n})}}nS(DNe,"propTypes",{className:T3.string,onError:T3.func});function aq(){return aq=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aq.apply(this,arguments)}function lq(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const OBt={};class ZZ extends un.PureComponent{constructor(){super(...arguments),lq(this,"vegaEmbed",un.createRef()),lq(this,"handleNewView",t=>{this.update();const{onNewView:n=INe}=this.props;n(t)})}componentDidMount(){this.update()}componentDidUpdate(t){qz(this.props.data,t.data)||this.update()}update(){const{data:t}=this.props;this.vegaEmbed.current&&t&&Object.keys(t).length>0&&this.vegaEmbed.current.modifyView(n=>{DBt(n,t),n.resize().run()})}render(){const{data:t,...n}=this.props;return un.createElement(DNe,aq({ref:this.vegaEmbed},n,{onNewView:this.handleNewView}))}}lq(ZZ,"defaultProps",{data:OBt});function uq(){return uq=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uq.apply(this,arguments)}function Bpe(e){return un.createElement(ZZ,uq({},e,{mode:"vega-lite"}))}function th(e){const t=A.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return A.useLayoutEffect(()=>{t.current=e}),A.useCallback((...n)=>t.current?.(...n),[])}const NBt=ZZ;function MBt({currentConfig:e,provState:t}){const n=bo(),[r,i]=A.useState(null),[o,s]=A.useState(!0),[a,l]=A.useState(!1),[u,c]=A.useState({}),d=Nm(),{updateResponseBlockValidation:f,setReactiveAnswers:h}=Qi(),[m,p]=A.useState(),{actions:g,trrack:v}=A.useMemo(()=>{const S=mC.create(),T=S.register("signal",(R,I)=>(R.event=I,R)),k=bM({registry:S,initialState:{event:{}}});return{actions:{signalAction:T},trrack:k}},[]),y=A.useCallback(({status:S,provenanceGraph:T,answers:k})=>{n(f({location:"stimulus",identifier:d,status:S,values:k,provenanceGraph:T})),Object.keys(k).length>0&&n(h(k))},[n,f,d,h]),w=th((S,T)=>{v.apply(S,g.signalAction({key:S,value:T})),y({status:a,provenanceGraph:v.graph.backend,answers:u})}),_=th((S,T)=>{const{responseId:k,response:R}=T;v.apply(S,g.signalAction({key:S,value:structuredClone(T)})),l(!0),c({[k]:R}),y({status:!0,provenanceGraph:v.graph.backend,answers:{[k]:R}})}),E=A.useMemo(()=>{const S=r?.config?.signals;return S?S.reduce((T,k)=>(k.name==="revisitAnswer"?T[k.name]=_:T[k.name]=w,T),{}):{}},[_,w,r]);return A.useEffect(()=>{async function S(){s(!0);let T;"path"in e?T=await vpt(e.path):T=e.config,T!==void 0&&i(T),s(!1)}e&&S()},[e]),A.useEffect(()=>{m&&t&&t.event&&t.event.key&&m.signal(t.event.key,structuredClone(t.event.value)).run()},[m,t]),o?b.jsx("div",{children:"Loading..."}):"path"in e&&!r?b.jsx(dm,{path:e.path}):r?b.jsx(NBt,{spec:structuredClone(r),signalListeners:E,onNewView:S=>p(S),actions:e.withActions}):b.jsx("div",{children:"Failed to load vega config"})}function Bt(e,t,n){return(t=LBt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Bt(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LBt(e){var t=$Bt(e,"string");return typeof t=="symbol"?t:String(t)}function FBt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zpe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jBt(e,t,n){return t&&zpe(e.prototype,t),n&&zpe(e,n),e}function BBt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Upe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,r)}return n}function Hpe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Upe(Object(n),!0).forEach((function(r){BBt(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Upe(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var qpe={addCSS:!0,thumbWidth:15,watch:!0};function zBt(e,t){return(function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function UBt(e,t){if(e&&t){var n=new Event(t,{bubbles:!0});e.dispatchEvent(n)}}var Wk=function(e){return e!=null?e.constructor:null},eee=function(e,t){return!!(e&&t&&e instanceof t)},PNe=function(e){return e==null},ONe=function(e){return Wk(e)===Object},HBt=function(e){return Wk(e)===Number&&!Number.isNaN(e)},NNe=function(e){return Wk(e)===String},qBt=function(e){return Wk(e)===Boolean},VBt=function(e){return Wk(e)===Function},MNe=function(e){return Array.isArray(e)},$Ne=function(e){return eee(e,NodeList)},WBt=function(e){return eee(e,Element)},GBt=function(e){return eee(e,Event)},YBt=function(e){return PNe(e)||(NNe(e)||MNe(e)||$Ne(e))&&!e.length||ONe(e)&&!Object.keys(e).length},Ca={nullOrUndefined:PNe,object:ONe,number:HBt,string:NNe,boolean:qBt,function:VBt,array:MNe,nodeList:$Ne,element:WBt,event:GBt,empty:YBt};function KBt(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}function XBt(e,t){if(1>t){var n=KBt(t);return parseFloat(e.toFixed(n))}return Math.round(e/t)*t}var QBt=(function(){function e(t,n){FBt(this,e),Ca.element(t)?this.element=t:Ca.string(t)&&(this.element=document.querySelector(t)),Ca.element(this.element)&&Ca.empty(this.element.rangeTouch)&&(this.config=Hpe({},qpe,{},n),this.init())}return jBt(e,[{key:"init",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(t){var n=this,r=t?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach((function(i){n.element[r](i,(function(o){return n.set(o)}),!1)}))}},{key:"get",value:function(t){if(!e.enabled||!Ca.event(t))return null;var n,r=t.target,i=t.changedTouches[0],o=parseFloat(r.getAttribute("min"))||0,s=parseFloat(r.getAttribute("max"))||100,a=parseFloat(r.getAttribute("step"))||1,l=r.getBoundingClientRect(),u=100/l.width*(this.config.thumbWidth/2)/100;return 0>(n=100/l.width*(i.clientX-l.left))?n=0:100<n&&(n=100),50>n?n-=(100-2*n)*u:50<n&&(n+=2*(n-50)*u),o+XBt(n/100*(s-o),a)}},{key:"set",value:function(t){e.enabled&&Ca.event(t)&&!t.target.disabled&&(t.preventDefault(),t.target.value=this.get(t),UBt(t.target,t.type==="touchend"?"change":"input"))}}],[{key:"setup",value:function(t){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},r=null;if(Ca.empty(t)||Ca.string(t)?r=Array.from(document.querySelectorAll(Ca.string(t)?t:'input[type="range"]')):Ca.element(t)?r=[t]:Ca.nodeList(t)?r=Array.from(t):Ca.array(t)&&(r=t.filter(Ca.element)),Ca.empty(r))return null;var i=Hpe({},qpe,{},n);if(Ca.string(t)&&i.watch){var o=new MutationObserver((function(s){Array.from(s).forEach((function(a){Array.from(a.addedNodes).forEach((function(l){Ca.element(l)&&zBt(l,t)&&new e(l,i)}))}))}));o.observe(document.body,{childList:!0,subtree:!0})}return r.map((function(s){return new e(s,n)}))}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),e})();const Gk=e=>e!=null?e.constructor:null,vm=(e,t)=>!!(e&&t&&e instanceof t),tee=e=>e==null,LNe=e=>Gk(e)===Object,JBt=e=>Gk(e)===Number&&!Number.isNaN(e),W5=e=>Gk(e)===String,ZBt=e=>Gk(e)===Boolean,FNe=e=>typeof e=="function",jNe=e=>Array.isArray(e),e7t=e=>vm(e,WeakMap),BNe=e=>vm(e,NodeList),t7t=e=>Gk(e)===Text,n7t=e=>vm(e,Event),r7t=e=>vm(e,KeyboardEvent),i7t=e=>vm(e,window.TextTrackCue)||vm(e,window.VTTCue),o7t=e=>vm(e,TextTrack)||!tee(e)&&W5(e.kind),s7t=e=>vm(e,Promise)&&FNe(e.then),a7t=e=>e!==null&&typeof e=="object"&&e.nodeType===1&&typeof e.style=="object"&&typeof e.ownerDocument=="object",zNe=e=>tee(e)||(W5(e)||jNe(e)||BNe(e))&&!e.length||LNe(e)&&!Object.keys(e).length,l7t=e=>{if(vm(e,window.URL))return!0;if(!W5(e))return!1;let t=e;e.startsWith("http://")&&e.startsWith("https://")||(t=`http://${e}`);try{return!zNe(new URL(t).hostname)}catch{return!1}};var Te={nullOrUndefined:tee,object:LNe,number:JBt,string:W5,boolean:ZBt,function:FNe,array:jNe,weakMap:e7t,nodeList:BNe,element:a7t,textNode:t7t,event:n7t,keyboardEvent:r7t,cue:i7t,track:o7t,promise:s7t,url:l7t,empty:zNe};const cq=(()=>{const e=document.createElement("span"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n=Object.keys(t).find((r=>e.style[r]!==void 0));return!!Te.string(n)&&t[n]})();function UNe(e,t){setTimeout((()=>{try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch{}}),t)}const u7t=!!window.document.documentMode,c7t=/Edge/g.test(navigator.userAgent),d7t="WebkitAppearance"in document.documentElement.style&&!/Edge/g.test(navigator.userAgent),f7t=/iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1,h7t=navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,p7t=/iPad|iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1;var _s={isIE:u7t,isEdge:c7t,isWebKit:d7t,isIPhone:f7t,isIPadOS:h7t,isIos:p7t};function m7t(e){return JSON.parse(JSON.stringify(e))}function HNe(e,t){return t.split(".").reduce(((n,r)=>n&&n[r]),e)}function Ro(e={},...t){if(!t.length)return e;const n=t.shift();return Te.object(n)?(Object.keys(n).forEach((r=>{Te.object(n[r])?(Object.keys(e).includes(r)||Object.assign(e,{[r]:{}}),Ro(e[r],n[r])):Object.assign(e,{[r]:n[r]})})),Ro(e,...t)):e}function qNe(e,t){const n=e.length?e:[e];Array.from(n).reverse().forEach(((r,i)=>{const o=i>0?t.cloneNode(!0):t,s=r.parentNode,a=r.nextSibling;o.appendChild(r),a?s.insertBefore(o,a):s.appendChild(o)}))}function dq(e,t){Te.element(e)&&!Te.empty(t)&&Object.entries(t).filter((([,n])=>!Te.nullOrUndefined(n))).forEach((([n,r])=>e.setAttribute(n,r)))}function $n(e,t,n){const r=document.createElement(e);return Te.object(t)&&dq(r,t),Te.string(n)&&(r.innerText=n),r}function g7t(e,t){Te.element(e)&&Te.element(t)&&t.parentNode.insertBefore(e,t.nextSibling)}function Vpe(e,t,n,r){Te.element(t)&&t.appendChild($n(e,n,r))}function jp(e){Te.nodeList(e)||Te.array(e)?Array.from(e).forEach(jp):Te.element(e)&&Te.element(e.parentNode)&&e.parentNode.removeChild(e)}function KP(e){if(!Te.element(e))return;let{length:t}=e.childNodes;for(;t>0;)e.removeChild(e.lastChild),t-=1}function jN(e,t){return Te.element(t)&&Te.element(t.parentNode)&&Te.element(e)?(t.parentNode.replaceChild(e,t),e):null}function qf(e,t){if(!Te.string(e)||Te.empty(e))return{};const n={},r=Ro({},t);return e.split(",").forEach((i=>{const o=i.trim(),s=o.replace(".",""),a=o.replace(/[[\]]/g,"").split("="),[l]=a,u=a.length>1?a[1].replace(/["']/g,""):"";switch(o.charAt(0)){case".":Te.string(r.class)?n.class=`${r.class} ${s}`:n.class=s;break;case"#":n.id=o.replace("#","");break;case"[":n[l]=u}})),Ro(r,n)}function Ny(e,t){if(!Te.element(e))return;let n=t;Te.boolean(n)||(n=!e.hidden),e.hidden=n}function ti(e,t,n){if(Te.nodeList(e))return Array.from(e).map((r=>ti(r,t,n)));if(Te.element(e)){let r="toggle";return n!==void 0&&(r=n?"add":"remove"),e.classList[r](t),e.classList.contains(t)}return!1}function BN(e,t){return Te.element(e)&&e.classList.contains(t)}function mv(e,t){const{prototype:n}=Element;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function y7t(e,t){const{prototype:n}=Element;return(n.closest||function(){let r=this;do{if(mv.matches(r,t))return r;r=r.parentElement||r.parentNode}while(r!==null&&r.nodeType===1);return null}).call(e,t)}function sT(e){return this.elements.container.querySelectorAll(e)}function is(e){return this.elements.container.querySelector(e)}function X9(e=null,t=!1){Te.element(e)&&e.focus({preventScroll:!0,focusVisible:t})}const Wpe={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},Do={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(e,t){const n=Do[e]||t!=="html5";return{api:n,ui:n&&Do.rangeInput}},pip:!(_s.isIPhone||!Te.function($n("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||$n("video").disablePictureInPicture)),airplay:Te.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(e){if(Te.empty(e))return!1;const[t]=e.split("/");let n=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(Wpe).includes(n)&&(n+=`; codecs="${Wpe[e]}"`);try{return!!(n&&this.media.canPlayType(n).replace(/no/,""))}catch{return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const e=document.createElement("input");return e.type="range",e.type==="range"})(),touch:"ontouchstart"in document.documentElement,transitions:cq!==!1,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},v7t=(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>(e=!0,null)});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e})();function aT(e,t,n,r=!1,i=!0,o=!1){if(!e||!("addEventListener"in e)||Te.empty(t)||!Te.function(n))return;const s=t.split(" ");let a=o;v7t&&(a={passive:i,capture:o}),s.forEach((l=>{this&&this.eventListeners&&r&&this.eventListeners.push({element:e,type:l,callback:n,options:a}),e[r?"addEventListener":"removeEventListener"](l,n,a)}))}function Mr(e,t="",n,r=!0,i=!1){aT.call(this,e,t,n,!0,r,i)}function G5(e,t="",n,r=!0,i=!1){aT.call(this,e,t,n,!1,r,i)}function nee(e,t="",n,r=!0,i=!1){const o=(...s)=>{G5(e,t,o,r,i),n.apply(this,s)};aT.call(this,e,t,o,!0,r,i)}function Bn(e,t="",n=!1,r={}){if(!Te.element(e)||Te.empty(t))return;const i=new CustomEvent(t,{bubbles:n,detail:{...r,plyr:this}});e.dispatchEvent(i)}function b7t(){this&&this.eventListeners&&(this.eventListeners.forEach((e=>{const{element:t,type:n,callback:r,options:i}=e;t.removeEventListener(n,r,i)})),this.eventListeners=[])}function w7t(){return new Promise((e=>this.ready?setTimeout(e,0):Mr.call(this,this.elements.container,"ready",e))).then((()=>{}))}function nh(e){Te.promise(e)&&e.then(null,(()=>{}))}function fq(e){return Te.array(e)?e.filter(((t,n)=>e.indexOf(t)===n)):e}function VNe(e,t){return Te.array(e)&&e.length?e.reduce(((n,r)=>Math.abs(r-t)<Math.abs(n-t)?r:n)):null}function WNe(e){return!(!window||!window.CSS)&&window.CSS.supports(e)}const Gpe=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce(((e,[t,n])=>({...e,[t/n]:[t,n]})),{});function GNe(e){return Te.array(e)||Te.string(e)&&e.includes(":")?(Te.array(e)?e:e.split(":")).map(Number).every(Te.number):!1}function zN(e){if(!Te.array(e)||!e.every(Te.number))return null;const[t,n]=e,r=(o,s)=>s===0?o:r(s,o%s),i=r(t,n);return[t/i,n/i]}function ree(e){const t=r=>GNe(r)?r.split(":").map(Number):null;let n=t(e);if(n===null&&(n=t(this.config.ratio)),n===null&&!Te.empty(this.embed)&&Te.array(this.embed.ratio)&&({ratio:n}=this.embed),n===null&&this.isHTML5){const{videoWidth:r,videoHeight:i}=this.media;n=[r,i]}return zN(n)}function Vx(e){if(!this.isVideo)return{};const{wrapper:t}=this.elements,n=ree.call(this,e);if(!Te.array(n))return{};const[r,i]=zN(n),o=100/r*i;if(WNe(`aspect-ratio: ${r}/${i}`)?t.style.aspectRatio=`${r}/${i}`:t.style.paddingBottom=`${o}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const s=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),a=(s-o)/(s/50);this.fullscreen.active?t.style.paddingBottom=null:this.media.style.transform=`translateY(-${a}%)`}else this.isHTML5&&t.classList.add(this.config.classNames.videoFixedRatio);return{padding:o,ratio:n}}function YNe(e,t,n=.05){const r=e/t,i=VNe(Object.keys(Gpe),r);return Math.abs(i-r)<=n?Gpe[i]:[e,t]}function x7t(){return[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)]}const Kg={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter((e=>{const t=e.getAttribute("type");return!!Te.empty(t)||Do.mime.call(this,t)})):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:Kg.getSources.call(this).map((e=>Number(e.getAttribute("size")))).filter(Boolean)},setup(){if(!this.isHTML5)return;const e=this;e.options.speed=e.config.speed.options,Te.empty(this.config.ratio)||Vx.call(e),Object.defineProperty(e.media,"quality",{get(){const t=Kg.getSources.call(e).find((n=>n.getAttribute("src")===e.source));return t&&Number(t.getAttribute("size"))},set(t){if(e.quality!==t){if(e.config.quality.forced&&Te.function(e.config.quality.onChange))e.config.quality.onChange(t);else{const n=Kg.getSources.call(e).find((l=>Number(l.getAttribute("size"))===t));if(!n)return;const{currentTime:r,paused:i,preload:o,readyState:s,playbackRate:a}=e.media;e.media.src=n.getAttribute("src"),(o!=="none"||s)&&(e.once("loadedmetadata",(()=>{e.speed=a,e.currentTime=r,i||nh(e.play())})),e.media.load())}Bn.call(e,e.media,"qualitychange",!1,{quality:t})}}})},cancelRequests(){this.isHTML5&&(jp(Kg.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function C7t(e){return`${e}-${Math.floor(1e4*Math.random())}`}function hq(e,...t){return Te.empty(e)?e:e.toString().replace(/{(\d+)}/g,((n,r)=>t[r].toString()))}function _7t(e,t){return e===0||t===0||Number.isNaN(e)||Number.isNaN(t)?0:(e/t*100).toFixed(2)}const BS=(e="",t="",n="")=>e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),n.toString()),KNe=(e="")=>e.toString().replace(/\w\S*/g,(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()));function E7t(e=""){let t=e.toString();return t=BS(t,"-"," "),t=BS(t,"_"," "),t=KNe(t),BS(t," ","")}function S7t(e=""){let t=e.toString();return t=E7t(t),t.charAt(0).toLowerCase()+t.slice(1)}function T7t(e){const t=document.createDocumentFragment(),n=document.createElement("div");return t.appendChild(n),n.innerHTML=e,t.firstChild.innerText}function k7t(e){const t=document.createElement("div");return t.appendChild(e),t.innerHTML}const Ype={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},xs={get(e="",t={}){if(Te.empty(e)||Te.empty(t))return"";let n=HNe(t.i18n,e);if(Te.empty(n))return Object.keys(Ype).includes(e)?Ype[e]:"";const r={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(r).forEach((([i,o])=>{n=BS(n,i,o)})),n}};class lT{constructor(t){Bt(this,"get",(n=>{if(!lT.supported||!this.enabled)return null;const r=window.localStorage.getItem(this.key);if(Te.empty(r))return null;const i=JSON.parse(r);return Te.string(n)&&n.length?i[n]:i})),Bt(this,"set",(n=>{if(!lT.supported||!this.enabled||!Te.object(n))return;let r=this.get();Te.empty(r)&&(r={}),Ro(r,n);try{window.localStorage.setItem(this.key,JSON.stringify(r))}catch{}})),this.enabled=t.config.storage.enabled,this.key=t.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const t="___test";return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch{return!1}}}function Yk(e,t="text"){return new Promise(((n,r)=>{try{const i=new XMLHttpRequest;if(!("withCredentials"in i))return;i.addEventListener("load",(()=>{if(t==="text")try{n(JSON.parse(i.responseText))}catch{n(i.responseText)}else n(i.response)})),i.addEventListener("error",(()=>{throw new Error(i.status)})),i.open("GET",e,!0),i.responseType=t,i.send()}catch(i){r(i)}}))}function XNe(e,t){if(!Te.string(e))return;const n="cache",r=Te.string(t);let i=!1;const o=()=>document.getElementById(t)!==null,s=(a,l)=>{a.innerHTML=l,r&&o()||document.body.insertAdjacentElement("afterbegin",a)};if(!r||!o()){const a=lT.supported,l=document.createElement("div");if(l.setAttribute("hidden",""),r&&l.setAttribute("id",t),a){const u=window.localStorage.getItem(`${n}-${t}`);if(i=u!==null,i){const c=JSON.parse(u);s(l,c.content)}}Yk(e).then((u=>{if(!Te.empty(u)){if(a)try{window.localStorage.setItem(`${n}-${t}`,JSON.stringify({content:u}))}catch{}s(l,u)}})).catch((()=>{}))}}const QNe=e=>Math.trunc(e/60/60%60,10),A7t=e=>Math.trunc(e/60%60,10),R7t=e=>Math.trunc(e%60,10);function Y5(e=0,t=!1,n=!1){if(!Te.number(e))return Y5(void 0,t,n);const r=a=>`0${a}`.slice(-2);let i=QNe(e);const o=A7t(e),s=R7t(e);return i=t||i>0?`${i}:`:"",`${n&&e>0?"-":""}${i}${r(o)}:${r(s)}`}const Lt={getIconUrl(){const e=new URL(this.config.iconUrl,window.location),t=window.location.host?window.location.host:window.top.location.host,n=e.host!==t||_s.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:n}},findElements(){try{return this.elements.controls=is.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:sT.call(this,this.config.selectors.buttons.play),pause:is.call(this,this.config.selectors.buttons.pause),restart:is.call(this,this.config.selectors.buttons.restart),rewind:is.call(this,this.config.selectors.buttons.rewind),fastForward:is.call(this,this.config.selectors.buttons.fastForward),mute:is.call(this,this.config.selectors.buttons.mute),pip:is.call(this,this.config.selectors.buttons.pip),airplay:is.call(this,this.config.selectors.buttons.airplay),settings:is.call(this,this.config.selectors.buttons.settings),captions:is.call(this,this.config.selectors.buttons.captions),fullscreen:is.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=is.call(this,this.config.selectors.progress),this.elements.inputs={seek:is.call(this,this.config.selectors.inputs.seek),volume:is.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:is.call(this,this.config.selectors.display.buffer),currentTime:is.call(this,this.config.selectors.display.currentTime),duration:is.call(this,this.config.selectors.display.duration)},Te.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon(e,t){const n="http://www.w3.org/2000/svg",r=Lt.getIconUrl.call(this),i=`${r.cors?"":r.url}#${this.config.iconPrefix}`,o=document.createElementNS(n,"svg");dq(o,Ro(t,{"aria-hidden":"true",focusable:"false"}));const s=document.createElementNS(n,"use"),a=`${i}-${e}`;return"href"in s&&s.setAttributeNS("http://www.w3.org/1999/xlink","href",a),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),o.appendChild(s),o},createLabel(e,t={}){const n=xs.get(e,this.config);return $n("span",{...t,class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")},n)},createBadge(e){if(Te.empty(e))return null;const t=$n("span",{class:this.config.classNames.menu.value});return t.appendChild($n("span",{class:this.config.classNames.menu.badge},e)),t},createButton(e,t){const n=Ro({},t);let r=S7t(e);const i={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach((s=>{Object.keys(n).includes(s)&&(i[s]=n[s],delete n[s])})),i.element!=="button"||Object.keys(n).includes("type")||(n.type="button"),Object.keys(n).includes("class")?n.class.split(" ").some((s=>s===this.config.classNames.control))||Ro(n,{class:`${n.class} ${this.config.classNames.control}`}):n.class=this.config.classNames.control,e){case"play":i.toggle=!0,i.label="play",i.labelPressed="pause",i.icon="play",i.iconPressed="pause";break;case"mute":i.toggle=!0,i.label="mute",i.labelPressed="unmute",i.icon="volume",i.iconPressed="muted";break;case"captions":i.toggle=!0,i.label="enableCaptions",i.labelPressed="disableCaptions",i.icon="captions-off",i.iconPressed="captions-on";break;case"fullscreen":i.toggle=!0,i.label="enterFullscreen",i.labelPressed="exitFullscreen",i.icon="enter-fullscreen",i.iconPressed="exit-fullscreen";break;case"play-large":n.class+=` ${this.config.classNames.control}--overlaid`,r="play",i.label="play",i.icon="play";break;default:Te.empty(i.label)&&(i.label=r),Te.empty(i.icon)&&(i.icon=e)}const o=$n(i.element);return i.toggle?(o.appendChild(Lt.createIcon.call(this,i.iconPressed,{class:"icon--pressed"})),o.appendChild(Lt.createIcon.call(this,i.icon,{class:"icon--not-pressed"})),o.appendChild(Lt.createLabel.call(this,i.labelPressed,{class:"label--pressed"})),o.appendChild(Lt.createLabel.call(this,i.label,{class:"label--not-pressed"}))):(o.appendChild(Lt.createIcon.call(this,i.icon)),o.appendChild(Lt.createLabel.call(this,i.label))),Ro(n,qf(this.config.selectors.buttons[r],n)),dq(o,n),r==="play"?(Te.array(this.elements.buttons[r])||(this.elements.buttons[r]=[]),this.elements.buttons[r].push(o)):this.elements.buttons[r]=o,o},createRange(e,t){const n=$n("input",Ro(qf(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":xs.get(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=n,Lt.updateRangeFill.call(this,n),QBt.setup(n),n},createProgress(e,t){const n=$n("progress",Ro(qf(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if(e!=="volume"){n.appendChild($n("span",null,"0"));const r={played:"played",buffer:"buffered"}[e],i=r?xs.get(r,this.config):"";n.innerText=`% ${i.toLowerCase()}`}return this.elements.display[e]=n,n},createTime(e,t){const n=qf(this.config.selectors.display[e],t),r=$n("div",Ro(n,{class:`${n.class?n.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":xs.get(e,this.config),role:"timer"}),"00:00");return this.elements.display[e]=r,r},bindMenuItemShortcuts(e,t){Mr.call(this,e,"keydown keyup",(n=>{if(![" ","ArrowUp","ArrowDown","ArrowRight"].includes(n.key)||(n.preventDefault(),n.stopPropagation(),n.type==="keydown"))return;const r=mv(e,'[role="menuitemradio"]');if(!r&&[" ","ArrowRight"].includes(n.key))Lt.showMenuPanel.call(this,t,!0);else{let i;n.key!==" "&&(n.key==="ArrowDown"||r&&n.key==="ArrowRight"?(i=e.nextElementSibling,Te.element(i)||(i=e.parentNode.firstElementChild)):(i=e.previousElementSibling,Te.element(i)||(i=e.parentNode.lastElementChild)),X9.call(this,i,!0))}}),!1),Mr.call(this,e,"keyup",(n=>{n.key==="Return"&&Lt.focusFirstMenuItem.call(this,null,!0)}))},createMenuItem({value:e,list:t,type:n,title:r,badge:i=null,checked:o=!1}){const s=qf(this.config.selectors.inputs[n]),a=$n("button",Ro(s,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${s.class?s.class:""}`.trim(),"aria-checked":o,value:e})),l=$n("span");l.innerHTML=r,Te.element(i)&&l.appendChild(i),a.appendChild(l),Object.defineProperty(a,"checked",{enumerable:!0,get:()=>a.getAttribute("aria-checked")==="true",set(u){u&&Array.from(a.parentNode.children).filter((c=>mv(c,'[role="menuitemradio"]'))).forEach((c=>c.setAttribute("aria-checked","false"))),a.setAttribute("aria-checked",u?"true":"false")}}),this.listeners.bind(a,"click keyup",(u=>{if(!Te.keyboardEvent(u)||u.key===" "){switch(u.preventDefault(),u.stopPropagation(),a.checked=!0,n){case"language":this.currentTrack=Number(e);break;case"quality":this.quality=e;break;case"speed":this.speed=parseFloat(e)}Lt.showMenuPanel.call(this,"home",Te.keyboardEvent(u))}}),n,!1),Lt.bindMenuItemShortcuts.call(this,a,n),t.appendChild(a)},formatTime(e=0,t=!1){return Te.number(e)?Y5(e,QNe(this.duration)>0,t):e},updateTimeDisplay(e=null,t=0,n=!1){Te.element(e)&&Te.number(t)&&(e.innerText=Lt.formatTime(t,n))},updateVolume(){this.supported.ui&&(Te.element(this.elements.inputs.volume)&&Lt.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),Te.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||this.volume===0))},setRange(e,t=0){Te.element(e)&&(e.value=t,Lt.updateRangeFill.call(this,e))},updateProgress(e){if(!this.supported.ui||!Te.event(e))return;let t=0;const n=(r,i)=>{const o=Te.number(i)?i:0,s=Te.element(r)?r:this.elements.display.buffer;if(Te.element(s)){s.value=o;const a=s.getElementsByTagName("span")[0];Te.element(a)&&(a.childNodes[0].nodeValue=o)}};if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":t=_7t(this.currentTime,this.duration),e.type==="timeupdate"&&Lt.setRange.call(this,this.elements.inputs.seek,t);break;case"playing":case"progress":n(this.elements.display.buffer,100*this.buffered)}},updateRangeFill(e){const t=Te.event(e)?e.target:e;if(Te.element(t)&&t.getAttribute("type")==="range"){if(mv(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);const n=Lt.formatTime(this.currentTime),r=Lt.formatTime(this.duration),i=xs.get("seekLabel",this.config);t.setAttribute("aria-valuetext",i.replace("{currentTime}",n).replace("{duration}",r))}else if(mv(t,this.config.selectors.inputs.volume)){const n=100*t.value;t.setAttribute("aria-valuenow",n),t.setAttribute("aria-valuetext",`${n.toFixed(1)}%`)}else t.setAttribute("aria-valuenow",t.value);(_s.isWebKit||_s.isIPadOS)&&t.style.setProperty("--value",t.value/t.max*100+"%")}},updateSeekTooltip(e){var t,n;if(!this.config.tooltips.seek||!Te.element(this.elements.inputs.seek)||!Te.element(this.elements.display.seekTooltip)||this.duration===0)return;const r=this.elements.display.seekTooltip,i=`${this.config.classNames.tooltip}--visible`,o=c=>ti(r,i,c);if(this.touch)return void o(!1);let s=0;const a=this.elements.progress.getBoundingClientRect();if(Te.event(e))s=100/a.width*(e.pageX-a.left);else{if(!BN(r,i))return;s=parseFloat(r.style.left,10)}s<0?s=0:s>100&&(s=100);const l=this.duration/100*s;r.innerText=Lt.formatTime(l);const u=(t=this.config.markers)===null||t===void 0||(n=t.points)===null||n===void 0?void 0:n.find((({time:c})=>c===Math.round(l)));u&&r.insertAdjacentHTML("afterbegin",`${u.label}<br>`),r.style.left=`${s}%`,Te.event(e)&&["mouseenter","mouseleave"].includes(e.type)&&o(e.type==="mouseenter")},timeUpdate(e){const t=!Te.element(this.elements.display.duration)&&this.config.invertTime;Lt.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&e.type==="timeupdate"&&this.media.seeking||Lt.updateProgress.call(this,e)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return Ny(this.elements.display.currentTime,!0),void Ny(this.elements.progress,!0);Te.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const e=Te.element(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&Lt.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&Lt.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&Lt.setMarkers.call(this),Lt.updateSeekTooltip.call(this)},toggleMenuButton(e,t){Ny(this.elements.settings.buttons[e],!t)},updateSetting(e,t,n){const r=this.elements.settings.panels[e];let i=null,o=t;if(e==="captions")i=this.currentTrack;else{if(i=Te.empty(n)?this[e]:n,Te.empty(i)&&(i=this.config[e].default),!Te.empty(this.options[e])&&!this.options[e].includes(i))return void this.debug.warn(`Unsupported value of '${i}' for ${e}`);if(!this.config[e].options.includes(i))return void this.debug.warn(`Disabled value of '${i}' for ${e}`)}if(Te.element(o)||(o=r&&r.querySelector('[role="menu"]')),!Te.element(o))return;this.elements.settings.buttons[e].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=Lt.getLabel.call(this,e,i);const s=o&&o.querySelector(`[value="${i}"]`);Te.element(s)&&(s.checked=!0)},getLabel(e,t){switch(e){case"speed":return t===1?xs.get("normal",this.config):`${t}&times;`;case"quality":if(Te.number(t)){const n=xs.get(`qualityLabel.${t}`,this.config);return n.length?n:`${t}p`}return KNe(t);case"captions":return zr.getLabel.call(this);default:return null}},setQualityMenu(e){if(!Te.element(this.elements.settings.panels.quality))return;const t="quality",n=this.elements.settings.panels.quality.querySelector('[role="menu"]');Te.array(e)&&(this.options.quality=fq(e).filter((o=>this.config.quality.options.includes(o))));const r=!Te.empty(this.options.quality)&&this.options.quality.length>1;if(Lt.toggleMenuButton.call(this,t,r),KP(n),Lt.checkMenu.call(this),!r)return;const i=o=>{const s=xs.get(`qualityBadge.${o}`,this.config);return s.length?Lt.createBadge.call(this,s):null};this.options.quality.sort(((o,s)=>{const a=this.config.quality.options;return a.indexOf(o)>a.indexOf(s)?1:-1})).forEach((o=>{Lt.createMenuItem.call(this,{value:o,list:n,type:t,title:Lt.getLabel.call(this,"quality",o),badge:i(o)})})),Lt.updateSetting.call(this,t,n)},setCaptionsMenu(){if(!Te.element(this.elements.settings.panels.captions))return;const e="captions",t=this.elements.settings.panels.captions.querySelector('[role="menu"]'),n=zr.getTracks.call(this),r=!!n.length;if(Lt.toggleMenuButton.call(this,e,r),KP(t),Lt.checkMenu.call(this),!r)return;const i=n.map(((o,s)=>({value:s,checked:this.captions.toggled&&this.currentTrack===s,title:zr.getLabel.call(this,o),badge:o.language&&Lt.createBadge.call(this,o.language.toUpperCase()),list:t,type:"language"})));i.unshift({value:-1,checked:!this.captions.toggled,title:xs.get("disabled",this.config),list:t,type:"language"}),i.forEach(Lt.createMenuItem.bind(this)),Lt.updateSetting.call(this,e,t)},setSpeedMenu(){if(!Te.element(this.elements.settings.panels.speed))return;const e="speed",t=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter((r=>r>=this.minimumSpeed&&r<=this.maximumSpeed));const n=!Te.empty(this.options.speed)&&this.options.speed.length>1;Lt.toggleMenuButton.call(this,e,n),KP(t),Lt.checkMenu.call(this),n&&(this.options.speed.forEach((r=>{Lt.createMenuItem.call(this,{value:r,list:t,type:e,title:Lt.getLabel.call(this,"speed",r)})})),Lt.updateSetting.call(this,e,t))},checkMenu(){const{buttons:e}=this.elements.settings,t=!Te.empty(e)&&Object.values(e).some((n=>!n.hidden));Ny(this.elements.settings.menu,!t)},focusFirstMenuItem(e,t=!1){if(this.elements.settings.popup.hidden)return;let n=e;Te.element(n)||(n=Object.values(this.elements.settings.panels).find((i=>!i.hidden)));const r=n.querySelector('[role^="menuitem"]');X9.call(this,r,t)},toggleMenu(e){const{popup:t}=this.elements.settings,n=this.elements.buttons.settings;if(!Te.element(t)||!Te.element(n))return;const{hidden:r}=t;let i=r;if(Te.boolean(e))i=e;else if(Te.keyboardEvent(e)&&e.key==="Escape")i=!1;else if(Te.event(e)){const o=Te.function(e.composedPath)?e.composedPath()[0]:e.target,s=t.contains(o);if(s||!s&&e.target!==n&&i)return}n.setAttribute("aria-expanded",i),Ny(t,!i),ti(this.elements.container,this.config.classNames.menu.open,i),i&&Te.keyboardEvent(e)?Lt.focusFirstMenuItem.call(this,null,!0):i||r||X9.call(this,n,Te.keyboardEvent(e))},getMenuSize(e){const t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);const n=t.scrollWidth,r=t.scrollHeight;return jp(t),{width:n,height:r}},showMenuPanel(e="",t=!1){const n=this.elements.container.querySelector(`#plyr-settings-${this.id}-${e}`);if(!Te.element(n))return;const r=n.parentNode,i=Array.from(r.children).find((o=>!o.hidden));if(Do.transitions&&!Do.reducedMotion){r.style.width=`${i.scrollWidth}px`,r.style.height=`${i.scrollHeight}px`;const o=Lt.getMenuSize.call(this,n),s=a=>{a.target===r&&["width","height"].includes(a.propertyName)&&(r.style.width="",r.style.height="",G5.call(this,r,cq,s))};Mr.call(this,r,cq,s),r.style.width=`${o.width}px`,r.style.height=`${o.height}px`}Ny(i,!0),Ny(n,!1),Lt.focusFirstMenuItem.call(this,n,t)},setDownloadUrl(){const e=this.elements.buttons.download;Te.element(e)&&e.setAttribute("href",this.download)},create(e){const{bindMenuItemShortcuts:t,createButton:n,createProgress:r,createRange:i,createTime:o,setQualityMenu:s,setSpeedMenu:a,showMenuPanel:l}=Lt;this.elements.controls=null,Te.array(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(n.call(this,"play-large"));const u=$n("div",qf(this.config.selectors.controls.wrapper));this.elements.controls=u;const c={class:"plyr__controls__item"};return fq(Te.array(this.config.controls)?this.config.controls:[]).forEach((d=>{if(d==="restart"&&u.appendChild(n.call(this,"restart",c)),d==="rewind"&&u.appendChild(n.call(this,"rewind",c)),d==="play"&&u.appendChild(n.call(this,"play",c)),d==="fast-forward"&&u.appendChild(n.call(this,"fast-forward",c)),d==="progress"){const f=$n("div",{class:`${c.class} plyr__progress__container`}),h=$n("div",qf(this.config.selectors.progress));if(h.appendChild(i.call(this,"seek",{id:`plyr-seek-${e.id}`})),h.appendChild(r.call(this,"buffer")),this.config.tooltips.seek){const m=$n("span",{class:this.config.classNames.tooltip},"00:00");h.appendChild(m),this.elements.display.seekTooltip=m}this.elements.progress=h,f.appendChild(this.elements.progress),u.appendChild(f)}if(d==="current-time"&&u.appendChild(o.call(this,"currentTime",c)),d==="duration"&&u.appendChild(o.call(this,"duration",c)),d==="mute"||d==="volume"){let{volume:f}=this.elements;if(Te.element(f)&&u.contains(f)||(f=$n("div",Ro({},c,{class:`${c.class} plyr__volume`.trim()})),this.elements.volume=f,u.appendChild(f)),d==="mute"&&f.appendChild(n.call(this,"mute")),d==="volume"&&!_s.isIos&&!_s.isIPadOS){const h={max:1,step:.05,value:this.config.volume};f.appendChild(i.call(this,"volume",Ro(h,{id:`plyr-volume-${e.id}`})))}}if(d==="captions"&&u.appendChild(n.call(this,"captions",c)),d==="settings"&&!Te.empty(this.config.settings)){const f=$n("div",Ro({},c,{class:`${c.class} plyr__menu`.trim(),hidden:""}));f.appendChild(n.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${e.id}`,"aria-expanded":!1}));const h=$n("div",{class:"plyr__menu__container",id:`plyr-settings-${e.id}`,hidden:""}),m=$n("div"),p=$n("div",{id:`plyr-settings-${e.id}-home`}),g=$n("div",{role:"menu"});p.appendChild(g),m.appendChild(p),this.elements.settings.panels.home=p,this.config.settings.forEach((v=>{const y=$n("button",Ro(qf(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));t.call(this,y,v),Mr.call(this,y,"click",(()=>{l.call(this,v,!1)}));const w=$n("span",null,xs.get(v,this.config)),_=$n("span",{class:this.config.classNames.menu.value});_.innerHTML=e[v],w.appendChild(_),y.appendChild(w),g.appendChild(y);const E=$n("div",{id:`plyr-settings-${e.id}-${v}`,hidden:""}),S=$n("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});S.appendChild($n("span",{"aria-hidden":!0},xs.get(v,this.config))),S.appendChild($n("span",{class:this.config.classNames.hidden},xs.get("menuBack",this.config))),Mr.call(this,E,"keydown",(T=>{T.key==="ArrowLeft"&&(T.preventDefault(),T.stopPropagation(),l.call(this,"home",!0))}),!1),Mr.call(this,S,"click",(()=>{l.call(this,"home",!1)})),E.appendChild(S),E.appendChild($n("div",{role:"menu"})),m.appendChild(E),this.elements.settings.buttons[v]=y,this.elements.settings.panels[v]=E})),h.appendChild(m),f.appendChild(h),u.appendChild(f),this.elements.settings.popup=h,this.elements.settings.menu=f}if(d==="pip"&&Do.pip&&u.appendChild(n.call(this,"pip",c)),d==="airplay"&&Do.airplay&&u.appendChild(n.call(this,"airplay",c)),d==="download"){const f=Ro({},c,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(f.download="");const{download:h}=this.config.urls;!Te.url(h)&&this.isEmbed&&Ro(f,{icon:`logo-${this.provider}`,label:this.provider}),u.appendChild(n.call(this,"download",f))}d==="fullscreen"&&u.appendChild(n.call(this,"fullscreen",c))})),this.isHTML5&&s.call(this,Kg.getQualityOptions.call(this)),a.call(this),u},inject(){if(this.config.loadSprite){const i=Lt.getIconUrl.call(this);i.cors&&XNe(i.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let e=null;this.elements.controls=null;const t={id:this.id,seektime:this.config.seekTime,title:this.config.title};let n=!0;Te.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,t)),this.config.controls||(this.config.controls=[]),Te.element(this.config.controls)||Te.string(this.config.controls)?e=this.config.controls:(e=Lt.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:zr.getLabel.call(this)}),n=!1);let r;if(n&&Te.string(this.config.controls)&&(e=(i=>{let o=i;return Object.entries(t).forEach((([s,a])=>{o=BS(o,`{${s}}`,a)})),o})(e)),Te.string(this.config.selectors.controls.container)&&(r=document.querySelector(this.config.selectors.controls.container)),Te.element(r)||(r=this.elements.container),r[Te.element(e)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",e),Te.element(this.elements.controls)||Lt.findElements.call(this),!Te.empty(this.elements.buttons)){const i=o=>{const s=this.config.classNames.controlPressed;o.setAttribute("aria-pressed","false"),Object.defineProperty(o,"pressed",{configurable:!0,enumerable:!0,get:()=>BN(o,s),set(a=!1){ti(o,s,a),o.setAttribute("aria-pressed",a?"true":"false")}})};Object.values(this.elements.buttons).filter(Boolean).forEach((o=>{Te.array(o)||Te.nodeList(o)?Array.from(o).filter(Boolean).forEach(i):i(o)}))}if(_s.isEdge&&UNe(r),this.config.tooltips.controls){const{classNames:i,selectors:o}=this.config,s=`${o.controls.wrapper} ${o.labels} .${i.hidden}`,a=sT.call(this,s);Array.from(a).forEach((l=>{ti(l,this.config.classNames.hidden,!1),ti(l,this.config.classNames.tooltip,!0)}))}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch{}},setMarkers(){var e,t;if(!this.duration||this.elements.markers)return;const n=(e=this.config.markers)===null||e===void 0||(t=e.points)===null||t===void 0?void 0:t.filter((({time:l})=>l>0&&l<this.duration));if(n==null||!n.length)return;const r=document.createDocumentFragment(),i=document.createDocumentFragment();let o=null;const s=`${this.config.classNames.tooltip}--visible`,a=l=>ti(o,s,l);n.forEach((l=>{const u=$n("span",{class:this.config.classNames.marker},""),c=l.time/this.duration*100+"%";o&&(u.addEventListener("mouseenter",(()=>{l.label||(o.style.left=c,o.innerHTML=l.label,a(!0))})),u.addEventListener("mouseleave",(()=>{a(!1)}))),u.addEventListener("click",(()=>{this.currentTime=l.time})),u.style.left=c,i.appendChild(u)})),r.appendChild(i),this.config.tooltips.seek||(o=$n("span",{class:this.config.classNames.tooltip},""),r.appendChild(o)),this.elements.markers={points:i,tip:o},this.elements.progress.appendChild(r)}};function JNe(e,t=!0){let n=e;if(t){const r=document.createElement("a");r.href=n,n=r.href}try{return new URL(n)}catch{return null}}function ZNe(e){const t=new URLSearchParams;return Te.object(e)&&Object.entries(e).forEach((([n,r])=>{t.set(n,r)})),t}const zr={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!Do.textTracks)return void(Te.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Lt.setCaptionsMenu.call(this));if(Te.element(this.elements.captions)||(this.elements.captions=$n("div",qf(this.config.selectors.captions)),this.elements.captions.setAttribute("dir","auto"),g7t(this.elements.captions,this.elements.wrapper)),_s.isIE&&window.URL){const r=this.media.querySelectorAll("track");Array.from(r).forEach((i=>{const o=i.getAttribute("src"),s=JNe(o);s!==null&&s.hostname!==window.location.href.hostname&&["http:","https:"].includes(s.protocol)&&Yk(o,"blob").then((a=>{i.setAttribute("src",window.URL.createObjectURL(a))})).catch((()=>{jp(i)}))}))}const e=fq((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map((r=>r.split("-")[0])));let t=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();t==="auto"&&([t]=e);let n=this.storage.get("captions");if(Te.boolean(n)||({active:n}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:n,language:t,languages:e}),this.isHTML5){const r=this.config.captions.update?"addtrack removetrack":"removetrack";Mr.call(this,this.media.textTracks,r,zr.update.bind(this))}setTimeout(zr.update.bind(this),0)},update(){const e=zr.getTracks.call(this,!0),{active:t,language:n,meta:r,currentTrackNode:i}=this.captions,o=!!e.find((s=>s.language===n));this.isHTML5&&this.isVideo&&e.filter((s=>!r.get(s))).forEach((s=>{this.debug.log("Track added",s),r.set(s,{default:s.mode==="showing"}),s.mode==="showing"&&(s.mode="hidden"),Mr.call(this,s,"cuechange",(()=>zr.updateCues.call(this)))})),(o&&this.language!==n||!e.includes(i))&&(zr.setLanguage.call(this,n),zr.toggle.call(this,t&&o)),this.elements&&ti(this.elements.container,this.config.classNames.captions.enabled,!Te.empty(e)),Te.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Lt.setCaptionsMenu.call(this)},toggle(e,t=!0){if(!this.supported.ui)return;const{toggled:n}=this.captions,r=this.config.classNames.captions.active,i=Te.nullOrUndefined(e)?!n:e;if(i!==n){if(t||(this.captions.active=i,this.storage.set({captions:i})),!this.language&&i&&!t){const o=zr.getTracks.call(this),s=zr.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=s.language,void zr.set.call(this,o.indexOf(s))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=i),ti(this.elements.container,r,i),this.captions.toggled=i,Lt.updateSetting.call(this,"captions"),Bn.call(this,this.media,i?"captionsenabled":"captionsdisabled")}setTimeout((()=>{i&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")}))},set(e,t=!0){const n=zr.getTracks.call(this);if(e!==-1)if(Te.number(e))if(e in n){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;const r=n[e],{language:i}=r||{};this.captions.currentTrackNode=r,Lt.updateSetting.call(this,"captions"),t||(this.captions.language=i,this.storage.set({language:i})),this.isVimeo&&this.embed.enableTextTrack(i),Bn.call(this,this.media,"languagechange")}zr.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&zr.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else zr.toggle.call(this,!1,t)},setLanguage(e,t=!0){if(!Te.string(e))return void this.debug.warn("Invalid language argument",e);const n=e.toLowerCase();this.captions.language=n;const r=zr.getTracks.call(this),i=zr.findTrack.call(this,[n]);zr.set.call(this,r.indexOf(i),t)},getTracks(e=!1){return Array.from((this.media||{}).textTracks||[]).filter((t=>!this.isHTML5||e||this.captions.meta.has(t))).filter((t=>["captions","subtitles"].includes(t.kind)))},findTrack(e,t=!1){const n=zr.getTracks.call(this),r=s=>Number((this.captions.meta.get(s)||{}).default),i=Array.from(n).sort(((s,a)=>r(a)-r(s)));let o;return e.every((s=>(o=i.find((a=>a.language===s)),!o))),o||(t?i[0]:void 0)},getCurrentTrack(){return zr.getTracks.call(this)[this.currentTrack]},getLabel(e){let t=e;return!Te.track(t)&&Do.textTracks&&this.captions.toggled&&(t=zr.getCurrentTrack.call(this)),Te.track(t)?Te.empty(t.label)?Te.empty(t.language)?xs.get("enabled",this.config):e.language.toUpperCase():t.label:xs.get("disabled",this.config)},updateCues(e){if(!this.supported.ui)return;if(!Te.element(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!Te.nullOrUndefined(e)&&!Array.isArray(e))return void this.debug.warn("updateCues: Invalid input",e);let t=e;if(!t){const r=zr.getCurrentTrack.call(this);t=Array.from((r||{}).activeCues||[]).map((i=>i.getCueAsHTML())).map(k7t)}const n=t.map((r=>r.trim())).join(`
`);if(n!==this.elements.captions.innerHTML){KP(this.elements.captions);const r=$n("span",qf(this.config.selectors.caption));r.innerHTML=n,this.elements.captions.appendChild(r),Bn.call(this,this.media,"cuechange")}}},e4e={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.8/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},Q9={active:"picture-in-picture",inactive:"inline"},Lg={html5:"html5",youtube:"youtube",vimeo:"vimeo"},J9={audio:"audio",video:"video"};function I7t(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?Lg.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?Lg.vimeo:null}const Z9=()=>{};class D7t{constructor(t=!1){this.enabled=window.console&&t,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):Z9}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):Z9}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):Z9}}class pd{constructor(t){Bt(this,"onChange",(()=>{if(!this.supported)return;const n=this.player.elements.buttons.fullscreen;Te.element(n)&&(n.pressed=this.active);const r=this.target===this.player.media?this.target:this.player.elements.container;Bn.call(this.player,r,this.active?"enterfullscreen":"exitfullscreen",!0)})),Bt(this,"toggleFallback",((n=!1)=>{if(n?this.scrollPosition={x:window.scrollX??0,y:window.scrollY??0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=n?"hidden":"",ti(this.target,this.player.config.classNames.fullscreen.fallback,n),_s.isIos){let r=document.head.querySelector('meta[name="viewport"]');const i="viewport-fit=cover";r||(r=document.createElement("meta"),r.setAttribute("name","viewport"));const o=Te.string(r.content)&&r.content.includes(i);n?(this.cleanupViewport=!o,o||(r.content+=`,${i}`)):this.cleanupViewport&&(r.content=r.content.split(",").filter((s=>s.trim()!==i)).join(","))}this.onChange()})),Bt(this,"trapFocus",(n=>{if(_s.isIos||_s.isIPadOS||!this.active||n.key!=="Tab")return;const r=document.activeElement,i=sT.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[o]=i,s=i[i.length-1];r!==s||n.shiftKey?r===o&&n.shiftKey&&(s.focus(),n.preventDefault()):(o.focus(),n.preventDefault())})),Bt(this,"update",(()=>{if(this.supported){let n;n=this.forceFallback?"Fallback (forced)":pd.nativeSupported?"Native":"Fallback",this.player.debug.log(`${n} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");ti(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.supported)})),Bt(this,"enter",(()=>{this.supported&&(_s.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!pd.nativeSupported||this.forceFallback?this.toggleFallback(!0):this.prefix?Te.empty(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))})),Bt(this,"exit",(()=>{if(this.supported)if(_s.isIos&&this.player.config.fullscreen.iosNative)this.player.isVimeo?this.player.embed.exitFullscreen():this.target.webkitEnterFullscreen(),nh(this.player.play());else if(!pd.nativeSupported||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!Te.empty(this.prefix)){const n=this.prefix==="moz"?"Cancel":"Exit";document[`${this.prefix}${n}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)})),Bt(this,"toggle",(()=>{this.active?this.exit():this.enter()})),this.player=t,this.prefix=pd.prefix,this.property=pd.property,this.scrollPosition={x:0,y:0},this.forceFallback=t.config.fullscreen.fallback==="force",this.player.elements.fullscreen=t.config.fullscreen.container&&y7t(this.player.elements.container,t.config.fullscreen.container),Mr.call(this.player,document,this.prefix==="ms"?"MSFullscreenChange":`${this.prefix}fullscreenchange`,(()=>{this.onChange()})),Mr.call(this.player,this.player.elements.container,"dblclick",(n=>{Te.element(this.player.elements.controls)&&this.player.elements.controls.contains(n.target)||this.player.listeners.proxy(n,this.toggle,"fullscreen")})),Mr.call(this,this.player.elements.container,"keydown",(n=>this.trapFocus(n))),this.update()}static get nativeSupported(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get useNative(){return pd.nativeSupported&&!this.forceFallback}static get prefix(){if(Te.function(document.exitFullscreen))return"";let t="";return["webkit","moz","ms"].some((n=>!(!Te.function(document[`${n}ExitFullscreen`])&&!Te.function(document[`${n}CancelFullScreen`]))&&(t=n,!0))),t}static get property(){return this.prefix==="moz"?"FullScreen":"Fullscreen"}get supported(){return[this.player.config.fullscreen.enabled,this.player.isVideo,pd.nativeSupported||this.player.config.fullscreen.fallback,!this.player.isYouTube||pd.nativeSupported||!_s.isIos||this.player.config.playsinline&&!this.player.config.fullscreen.iosNative].every(Boolean)}get active(){if(!this.supported)return!1;if(!pd.nativeSupported||this.forceFallback)return BN(this.target,this.player.config.classNames.fullscreen.fallback);const t=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return t&&t.shadowRoot?t===this.target.getRootNode().host:t===this.target}get target(){return _s.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen??this.player.elements.container}}function XP(e,t=1){return new Promise(((n,r)=>{const i=new Image,o=()=>{delete i.onload,delete i.onerror,(i.naturalWidth>=t?n:r)(i)};Object.assign(i,{onload:o,onerror:o,src:e})}))}const mi={addStyleHook(){ti(this.elements.container,this.config.selectors.container.replace(".",""),!0),ti(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(e=!1){e&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void mi.toggleNativeControls.call(this,!0);Te.element(this.elements.controls)||(Lt.inject.call(this),this.listeners.controls()),mi.toggleNativeControls.call(this),this.isHTML5&&zr.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,Lt.updateVolume.call(this),Lt.timeUpdate.call(this),Lt.durationUpdate.call(this),mi.checkPlaying.call(this),ti(this.elements.container,this.config.classNames.pip.supported,Do.pip&&this.isHTML5&&this.isVideo),ti(this.elements.container,this.config.classNames.airplay.supported,Do.airplay&&this.isHTML5),ti(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout((()=>{Bn.call(this,this.media,"ready")}),0),mi.setTitle.call(this),this.poster&&mi.setPoster.call(this,this.poster,!1).catch((()=>{})),this.config.duration&&Lt.durationUpdate.call(this),this.config.mediaMetadata&&Lt.setMediaMetadata.call(this)},setTitle(){let e=xs.get("play",this.config);if(Te.string(this.config.title)&&!Te.empty(this.config.title)&&(e+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach((t=>{t.setAttribute("aria-label",e)})),this.isEmbed){const t=is.call(this,"iframe");if(!Te.element(t))return;const n=Te.empty(this.config.title)?"video":this.config.title,r=xs.get("frameTitle",this.config);t.setAttribute("title",r.replace("{title}",n))}},togglePoster(e){ti(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster(e,t=!0){return t&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",e),this.elements.poster.removeAttribute("hidden"),w7t.call(this).then((()=>XP(e))).catch((n=>{throw e===this.poster&&mi.togglePoster.call(this,!1),n})).then((()=>{if(e!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")})).then((()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${e}')`,backgroundSize:""}),mi.togglePoster.call(this,!0),e))))},checkPlaying(e){ti(this.elements.container,this.config.classNames.playing,this.playing),ti(this.elements.container,this.config.classNames.paused,this.paused),ti(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach((t=>{Object.assign(t,{pressed:this.playing}),t.setAttribute("aria-label",xs.get(this.playing?"pause":"play",this.config))})),Te.event(e)&&e.type==="timeupdate"||mi.toggleControls.call(this)},checkLoading(e){this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout((()=>{ti(this.elements.container,this.config.classNames.loading,this.loading),mi.toggleControls.call(this)}),this.loading?250:0)},toggleControls(e){const{controls:t}=this.elements;if(t&&this.config.hideControls){const n=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(!!(e||this.loading||this.paused||t.pressed||t.hover||n))}},migrateStyles(){Object.values({...this.media.style}).filter((e=>!Te.empty(e)&&Te.string(e)&&e.startsWith("--plyr"))).forEach((e=>{this.elements.container.style.setProperty(e,this.media.style.getPropertyValue(e)),this.media.style.removeProperty(e)})),Te.empty(this.media.style)&&this.media.removeAttribute("style")}};class P7t{constructor(t){Bt(this,"firstTouch",(()=>{const{player:n}=this,{elements:r}=n;n.touch=!0,ti(r.container,n.config.classNames.isTouch,!0)})),Bt(this,"global",((n=!0)=>{const{player:r}=this;r.config.keyboard.global&&aT.call(r,window,"keydown keyup",this.handleKey,n,!1),aT.call(r,document.body,"click",this.toggleMenu,n),nee.call(r,document.body,"touchstart",this.firstTouch)})),Bt(this,"container",(()=>{const{player:n}=this,{config:r,elements:i,timers:o}=n;!r.keyboard.global&&r.keyboard.focused&&Mr.call(n,i.container,"keydown keyup",this.handleKey,!1),Mr.call(n,i.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",(l=>{const{controls:u}=i;u&&l.type==="enterfullscreen"&&(u.pressed=!1,u.hover=!1);let c=0;["touchstart","touchmove","mousemove"].includes(l.type)&&(mi.toggleControls.call(n,!0),c=n.touch?3e3:2e3),clearTimeout(o.controls),o.controls=setTimeout((()=>mi.toggleControls.call(n,!1)),c)}));const s=()=>{if(!n.isVimeo||n.config.vimeo.premium)return;const l=i.wrapper,{active:u}=n.fullscreen,[c,d]=ree.call(n),f=WNe(`aspect-ratio: ${c} / ${d}`);if(!u)return void(f?(l.style.width=null,l.style.height=null):(l.style.maxWidth=null,l.style.margin=null));const[h,m]=x7t(),p=h/m>c/d;f?(l.style.width=p?"auto":"100%",l.style.height=p?"100%":"auto"):(l.style.maxWidth=p?m/d*c+"px":null,l.style.margin=p?"0 auto":null)},a=()=>{clearTimeout(o.resized),o.resized=setTimeout(s,50)};Mr.call(n,i.container,"enterfullscreen exitfullscreen",(l=>{const{target:u}=n.fullscreen;u===i.container&&(!n.isEmbed&&Te.empty(n.config.ratio)||(s(),(l.type==="enterfullscreen"?Mr:G5).call(n,window,"resize",a)))}))})),Bt(this,"media",(()=>{const{player:n}=this,{elements:r}=n;if(Mr.call(n,n.media,"timeupdate seeking seeked",(o=>Lt.timeUpdate.call(n,o))),Mr.call(n,n.media,"durationchange loadeddata loadedmetadata",(o=>Lt.durationUpdate.call(n,o))),Mr.call(n,n.media,"ended",(()=>{n.isHTML5&&n.isVideo&&n.config.resetOnEnd&&(n.restart(),n.pause())})),Mr.call(n,n.media,"progress playing seeking seeked",(o=>Lt.updateProgress.call(n,o))),Mr.call(n,n.media,"volumechange",(o=>Lt.updateVolume.call(n,o))),Mr.call(n,n.media,"playing play pause ended emptied timeupdate",(o=>mi.checkPlaying.call(n,o))),Mr.call(n,n.media,"waiting canplay seeked playing",(o=>mi.checkLoading.call(n,o))),n.supported.ui&&n.config.clickToPlay&&!n.isAudio){const o=is.call(n,`.${n.config.classNames.video}`);if(!Te.element(o))return;Mr.call(n,r.container,"click",(s=>{([r.container,o].includes(s.target)||o.contains(s.target))&&(n.touch&&n.config.hideControls||(n.ended?(this.proxy(s,n.restart,"restart"),this.proxy(s,(()=>{nh(n.play())}),"play")):this.proxy(s,(()=>{nh(n.togglePlay())}),"play")))}))}n.supported.ui&&n.config.disableContextMenu&&Mr.call(n,r.wrapper,"contextmenu",(o=>{o.preventDefault()}),!1),Mr.call(n,n.media,"volumechange",(()=>{n.storage.set({volume:n.volume,muted:n.muted})})),Mr.call(n,n.media,"ratechange",(()=>{Lt.updateSetting.call(n,"speed"),n.storage.set({speed:n.speed})})),Mr.call(n,n.media,"qualitychange",(o=>{Lt.updateSetting.call(n,"quality",null,o.detail.quality)})),Mr.call(n,n.media,"ready qualitychange",(()=>{Lt.setDownloadUrl.call(n)}));const i=n.config.events.concat(["keyup","keydown"]).join(" ");Mr.call(n,n.media,i,(o=>{let{detail:s={}}=o;o.type==="error"&&(s=n.media.error),Bn.call(n,r.container,o.type,!0,s)}))})),Bt(this,"proxy",((n,r,i)=>{const{player:o}=this,s=o.config.listeners[i];let a=!0;Te.function(s)&&(a=s.call(o,n)),a!==!1&&Te.function(r)&&r.call(o,n)})),Bt(this,"bind",((n,r,i,o,s=!0)=>{const{player:a}=this,l=a.config.listeners[o],u=Te.function(l);Mr.call(a,n,r,(c=>this.proxy(c,i,o)),s&&!u)})),Bt(this,"controls",(()=>{const{player:n}=this,{elements:r}=n,i=_s.isIE?"change":"input";if(r.buttons.play&&Array.from(r.buttons.play).forEach((o=>{this.bind(o,"click",(()=>{nh(n.togglePlay())}),"play")})),this.bind(r.buttons.restart,"click",n.restart,"restart"),this.bind(r.buttons.rewind,"click",(()=>{n.lastSeekTime=Date.now(),n.rewind()}),"rewind"),this.bind(r.buttons.fastForward,"click",(()=>{n.lastSeekTime=Date.now(),n.forward()}),"fastForward"),this.bind(r.buttons.mute,"click",(()=>{n.muted=!n.muted}),"mute"),this.bind(r.buttons.captions,"click",(()=>n.toggleCaptions())),this.bind(r.buttons.download,"click",(()=>{Bn.call(n,n.media,"download")}),"download"),this.bind(r.buttons.fullscreen,"click",(()=>{n.fullscreen.toggle()}),"fullscreen"),this.bind(r.buttons.pip,"click",(()=>{n.pip="toggle"}),"pip"),this.bind(r.buttons.airplay,"click",n.airplay,"airplay"),this.bind(r.buttons.settings,"click",(o=>{o.stopPropagation(),o.preventDefault(),Lt.toggleMenu.call(n,o)}),null,!1),this.bind(r.buttons.settings,"keyup",(o=>{[" ","Enter"].includes(o.key)&&(o.key!=="Enter"?(o.preventDefault(),o.stopPropagation(),Lt.toggleMenu.call(n,o)):Lt.focusFirstMenuItem.call(n,null,!0))}),null,!1),this.bind(r.settings.menu,"keydown",(o=>{o.key==="Escape"&&Lt.toggleMenu.call(n,o)})),this.bind(r.inputs.seek,"mousedown mousemove",(o=>{const s=r.progress.getBoundingClientRect(),a=100/s.width*(o.pageX-s.left);o.currentTarget.setAttribute("seek-value",a)})),this.bind(r.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",(o=>{const s=o.currentTarget,a="play-on-seeked";if(Te.keyboardEvent(o)&&!["ArrowLeft","ArrowRight"].includes(o.key))return;n.lastSeekTime=Date.now();const l=s.hasAttribute(a),u=["mouseup","touchend","keyup"].includes(o.type);l&&u?(s.removeAttribute(a),nh(n.play())):!u&&n.playing&&(s.setAttribute(a,""),n.pause())})),_s.isIos){const o=sT.call(n,'input[type="range"]');Array.from(o).forEach((s=>this.bind(s,i,(a=>UNe(a.target)))))}this.bind(r.inputs.seek,i,(o=>{const s=o.currentTarget;let a=s.getAttribute("seek-value");Te.empty(a)&&(a=s.value),s.removeAttribute("seek-value"),n.currentTime=a/s.max*n.duration}),"seek"),this.bind(r.progress,"mouseenter mouseleave mousemove",(o=>Lt.updateSeekTooltip.call(n,o))),this.bind(r.progress,"mousemove touchmove",(o=>{const{previewThumbnails:s}=n;s&&s.loaded&&s.startMove(o)})),this.bind(r.progress,"mouseleave touchend click",(()=>{const{previewThumbnails:o}=n;o&&o.loaded&&o.endMove(!1,!0)})),this.bind(r.progress,"mousedown touchstart",(o=>{const{previewThumbnails:s}=n;s&&s.loaded&&s.startScrubbing(o)})),this.bind(r.progress,"mouseup touchend",(o=>{const{previewThumbnails:s}=n;s&&s.loaded&&s.endScrubbing(o)})),_s.isWebKit&&Array.from(sT.call(n,'input[type="range"]')).forEach((o=>{this.bind(o,"input",(s=>Lt.updateRangeFill.call(n,s.target)))})),n.config.toggleInvert&&!Te.element(r.display.duration)&&this.bind(r.display.currentTime,"click",(()=>{n.currentTime!==0&&(n.config.invertTime=!n.config.invertTime,Lt.timeUpdate.call(n))})),this.bind(r.inputs.volume,i,(o=>{n.volume=o.target.value}),"volume"),this.bind(r.controls,"mouseenter mouseleave",(o=>{r.controls.hover=!n.touch&&o.type==="mouseenter"})),r.fullscreen&&Array.from(r.fullscreen.children).filter((o=>!o.contains(r.container))).forEach((o=>{this.bind(o,"mouseenter mouseleave",(s=>{r.controls&&(r.controls.hover=!n.touch&&s.type==="mouseenter")}))})),this.bind(r.controls,"mousedown mouseup touchstart touchend touchcancel",(o=>{r.controls.pressed=["mousedown","touchstart"].includes(o.type)})),this.bind(r.controls,"focusin",(()=>{const{config:o,timers:s}=n;ti(r.controls,o.classNames.noTransition,!0),mi.toggleControls.call(n,!0),setTimeout((()=>{ti(r.controls,o.classNames.noTransition,!1)}),0);const a=this.touch?3e3:4e3;clearTimeout(s.controls),s.controls=setTimeout((()=>mi.toggleControls.call(n,!1)),a)})),this.bind(r.inputs.volume,"wheel",(o=>{const s=o.webkitDirectionInvertedFromDevice,[a,l]=[o.deltaX,-o.deltaY].map((d=>s?-d:d)),u=Math.sign(Math.abs(a)>Math.abs(l)?a:l);n.increaseVolume(u/50);const{volume:c}=n.media;(u===1&&c<1||u===-1&&c>0)&&o.preventDefault()}),"volume",!1)})),this.player=t,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(t){const{player:n}=this,{elements:r}=n,{key:i,type:o,altKey:s,ctrlKey:a,metaKey:l,shiftKey:u}=t,c=o==="keydown",d=c&&i===this.lastKey;if(!(s||a||l||u)&&i){if(c){const h=document.activeElement;if(Te.element(h)){const{editable:m}=n.config.selectors,{seek:p}=r.inputs;if(h!==p&&mv(h,m)||t.key===" "&&mv(h,'button, [role^="menuitem"]'))return}switch([" ","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(i)&&(t.preventDefault(),t.stopPropagation()),i){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":d||(f=parseInt(i,10),n.currentTime=n.duration/10*f);break;case" ":case"k":d||nh(n.togglePlay());break;case"ArrowUp":n.increaseVolume(.1);break;case"ArrowDown":n.decreaseVolume(.1);break;case"m":d||(n.muted=!n.muted);break;case"ArrowRight":n.forward();break;case"ArrowLeft":n.rewind();break;case"f":n.fullscreen.toggle();break;case"c":d||n.toggleCaptions();break;case"l":n.loop=!n.loop}i==="Escape"&&!n.fullscreen.usingNative&&n.fullscreen.active&&n.fullscreen.toggle(),this.lastKey=i}else this.lastKey=null;var f}}toggleMenu(t){Lt.toggleMenu.call(this.player,t)}}function O7t(e,t){return e(t={exports:{}},t.exports),t.exports}var N7t=O7t((function(e,t){e.exports=(function(){var n=function(){},r={},i={},o={};function s(f,h){f=f.push?f:[f];var m,p,g,v=[],y=f.length,w=y;for(m=function(_,E){E.length&&v.push(_),--w||h(v)};y--;)p=f[y],(g=i[p])?m(p,g):(o[p]=o[p]||[]).push(m)}function a(f,h){if(f){var m=o[f];if(i[f]=h,m)for(;m.length;)m[0](f,h),m.splice(0,1)}}function l(f,h){f.call&&(f={success:f}),h.length?(f.error||n)(h):(f.success||n)(f)}function u(f,h,m,p){var g,v,y=document,w=m.async,_=(m.numRetries||0)+1,E=m.before||n,S=f.replace(/[\?|#].*$/,""),T=f.replace(/^(css|img)!/,"");p=p||0,/(^css!|\.css$)/.test(S)?((v=y.createElement("link")).rel="stylesheet",v.href=T,(g="hideFocus"in v)&&v.relList&&(g=0,v.rel="preload",v.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(S)?(v=y.createElement("img")).src=T:((v=y.createElement("script")).src=f,v.async=w===void 0||w),v.onload=v.onerror=v.onbeforeload=function(k){var R=k.type[0];if(g)try{v.sheet.cssText.length||(R="e")}catch(I){I.code!=18&&(R="e")}if(R=="e"){if((p+=1)<_)return u(f,h,m,p)}else if(v.rel=="preload"&&v.as=="style")return v.rel="stylesheet";h(f,R,k.defaultPrevented)},E(f,v)!==!1&&y.head.appendChild(v)}function c(f,h,m){var p,g,v=(f=f.push?f:[f]).length,y=v,w=[];for(p=function(_,E,S){if(E=="e"&&w.push(_),E=="b"){if(!S)return;w.push(_)}--v||h(w)},g=0;g<y;g++)u(f[g],p,m)}function d(f,h,m){var p,g;if(h&&h.trim&&(p=h),g=(p?m:h)||{},p){if(p in r)throw"LoadJS";r[p]=!0}function v(y,w){c(f,(function(_){l(g,_),y&&l({success:y,error:w},_),a(p,_)}),g)}if(g.returnPromise)return new Promise(v);v()}return d.ready=function(f,h){return s(f,(function(m){l(h,m)})),d},d.done=function(f){a(f,[])},d.reset=function(){r={},i={},o={}},d.isDefined=function(f){return f in r},d})()}));function iee(e){return new Promise(((t,n)=>{N7t(e,{success:t,error:n})}))}function M7t(e){return Te.empty(e)?null:Te.number(Number(e))?e:e.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:e}function $7t(e){const t=e.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return t&&t.length===5?t[4]:null}function lE(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,Bn.call(this,this.media,e?"play":"pause"))}const pq={setup(){const e=this;ti(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,Vx.call(e),Te.object(window.Vimeo)?pq.ready.call(e):iee(e.config.urls.vimeo.sdk).then((()=>{pq.ready.call(e)})).catch((t=>{e.debug.warn("Vimeo SDK (player.js) failed to load",t)}))},ready(){const e=this,t=e.config.vimeo,{premium:n,referrerPolicy:r,...i}=t;let o=e.media.getAttribute("src"),s="";Te.empty(o)?(o=e.media.getAttribute(e.config.attributes.embed.id),s=e.media.getAttribute(e.config.attributes.embed.hash)):s=$7t(o);const a=s?{h:s}:{};n&&Object.assign(i,{controls:!1,sidedock:!1});const l=ZNe({loop:e.config.loop.active,autoplay:e.autoplay,muted:e.muted,gesture:"media",playsinline:e.config.playsinline,...a,...i}),u=M7t(o),c=$n("iframe"),d=hq(e.config.urls.vimeo.iframe,u,l);if(c.setAttribute("src",d),c.setAttribute("allowfullscreen",""),c.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),Te.empty(r)||c.setAttribute("referrerPolicy",r),n||!t.customControls)c.setAttribute("data-poster",e.poster),e.media=jN(c,e.media);else{const y=$n("div",{class:e.config.classNames.embedContainer,"data-poster":e.poster});y.appendChild(c),e.media=jN(y,e.media)}t.customControls||Yk(hq(e.config.urls.vimeo.api,d)).then((y=>{!Te.empty(y)&&y.thumbnail_url&&mi.setPoster.call(e,y.thumbnail_url).catch((()=>{}))})),e.embed=new window.Vimeo.Player(c,{autopause:e.config.autopause,muted:e.muted}),e.media.paused=!0,e.media.currentTime=0,e.supported.ui&&e.embed.disableTextTrack(),e.media.play=()=>(lE.call(e,!0),e.embed.play()),e.media.pause=()=>(lE.call(e,!1),e.embed.pause()),e.media.stop=()=>{e.pause(),e.currentTime=0};let{currentTime:f}=e.media;Object.defineProperty(e.media,"currentTime",{get:()=>f,set(y){const{embed:w,media:_,paused:E,volume:S}=e,T=E&&!w.hasPlayed;_.seeking=!0,Bn.call(e,_,"seeking"),Promise.resolve(T&&w.setVolume(0)).then((()=>w.setCurrentTime(y))).then((()=>T&&w.pause())).then((()=>T&&w.setVolume(S))).catch((()=>{}))}});let h=e.config.speed.selected;Object.defineProperty(e.media,"playbackRate",{get:()=>h,set(y){e.embed.setPlaybackRate(y).then((()=>{h=y,Bn.call(e,e.media,"ratechange")})).catch((()=>{e.options.speed=[1]}))}});let{volume:m}=e.config;Object.defineProperty(e.media,"volume",{get:()=>m,set(y){e.embed.setVolume(y).then((()=>{m=y,Bn.call(e,e.media,"volumechange")}))}});let{muted:p}=e.config;Object.defineProperty(e.media,"muted",{get:()=>p,set(y){const w=!!Te.boolean(y)&&y;e.embed.setMuted(!!w||e.config.muted).then((()=>{p=w,Bn.call(e,e.media,"volumechange")}))}});let g,{loop:v}=e.config;Object.defineProperty(e.media,"loop",{get:()=>v,set(y){const w=Te.boolean(y)?y:e.config.loop.active;e.embed.setLoop(w).then((()=>{v=w}))}}),e.embed.getVideoUrl().then((y=>{g=y,Lt.setDownloadUrl.call(e)})).catch((y=>{this.debug.warn(y)})),Object.defineProperty(e.media,"currentSrc",{get:()=>g}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration}),Promise.all([e.embed.getVideoWidth(),e.embed.getVideoHeight()]).then((y=>{const[w,_]=y;e.embed.ratio=YNe(w,_),Vx.call(this)})),e.embed.setAutopause(e.config.autopause).then((y=>{e.config.autopause=y})),e.embed.getVideoTitle().then((y=>{e.config.title=y,mi.setTitle.call(this)})),e.embed.getCurrentTime().then((y=>{f=y,Bn.call(e,e.media,"timeupdate")})),e.embed.getDuration().then((y=>{e.media.duration=y,Bn.call(e,e.media,"durationchange")})),e.embed.getTextTracks().then((y=>{e.media.textTracks=y,zr.setup.call(e)})),e.embed.on("cuechange",(({cues:y=[]})=>{const w=y.map((_=>T7t(_.text)));zr.updateCues.call(e,w)})),e.embed.on("loaded",(()=>{e.embed.getPaused().then((y=>{lE.call(e,!y),y||Bn.call(e,e.media,"playing")})),Te.element(e.embed.element)&&e.supported.ui&&e.embed.element.setAttribute("tabindex",-1)})),e.embed.on("bufferstart",(()=>{Bn.call(e,e.media,"waiting")})),e.embed.on("bufferend",(()=>{Bn.call(e,e.media,"playing")})),e.embed.on("play",(()=>{lE.call(e,!0),Bn.call(e,e.media,"playing")})),e.embed.on("pause",(()=>{lE.call(e,!1)})),e.embed.on("timeupdate",(y=>{e.media.seeking=!1,f=y.seconds,Bn.call(e,e.media,"timeupdate")})),e.embed.on("progress",(y=>{e.media.buffered=y.percent,Bn.call(e,e.media,"progress"),parseInt(y.percent,10)===1&&Bn.call(e,e.media,"canplaythrough"),e.embed.getDuration().then((w=>{w!==e.media.duration&&(e.media.duration=w,Bn.call(e,e.media,"durationchange"))}))})),e.embed.on("seeked",(()=>{e.media.seeking=!1,Bn.call(e,e.media,"seeked")})),e.embed.on("ended",(()=>{e.media.paused=!0,Bn.call(e,e.media,"ended")})),e.embed.on("error",(y=>{e.media.error=y,Bn.call(e,e.media,"error")})),t.customControls&&setTimeout((()=>mi.build.call(e)),0)}};function L7t(e){return Te.empty(e)?null:e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:e}function uE(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,Bn.call(this,this.media,e?"play":"pause"))}function F7t(e){return e.noCookie?"https://www.youtube-nocookie.com":window.location.protocol==="http:"?"http://www.youtube.com":void 0}const QP={setup(){if(ti(this.elements.wrapper,this.config.classNames.embed,!0),Te.object(window.YT)&&Te.function(window.YT.Player))QP.ready.call(this);else{const e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{Te.function(e)&&e(),QP.ready.call(this)},iee(this.config.urls.youtube.sdk).catch((t=>{this.debug.warn("YouTube API failed to load",t)}))}},getTitle(e){Yk(hq(this.config.urls.youtube.api,e)).then((t=>{if(Te.object(t)){const{title:n,height:r,width:i}=t;this.config.title=n,mi.setTitle.call(this),this.embed.ratio=YNe(i,r)}Vx.call(this)})).catch((()=>{Vx.call(this)}))},ready(){const e=this,t=e.config.youtube,n=e.media&&e.media.getAttribute("id");if(!Te.empty(n)&&n.startsWith("youtube-"))return;let r=e.media.getAttribute("src");Te.empty(r)&&(r=e.media.getAttribute(this.config.attributes.embed.id));const i=L7t(r),o=$n("div",{id:C7t(e.provider),"data-poster":t.customControls?e.poster:void 0});if(e.media=jN(o,e.media),t.customControls){const s=a=>`https://i.ytimg.com/vi/${i}/${a}default.jpg`;XP(s("maxres"),121).catch((()=>XP(s("sd"),121))).catch((()=>XP(s("hq")))).then((a=>mi.setPoster.call(e,a.src))).then((a=>{a.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")})).catch((()=>{}))}e.embed=new window.YT.Player(e.media,{videoId:i,host:F7t(t),playerVars:Ro({},{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui&&t.customControls?0:1,disablekb:1,playsinline:e.config.playsinline&&!e.config.fullscreen.iosNative?1:0,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},t),events:{onError(s){if(!e.media.error){const a=s.data,l={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[a]||"An unknown error occurred";e.media.error={code:a,message:l},Bn.call(e,e.media,"error")}},onPlaybackRateChange(s){const a=s.target;e.media.playbackRate=a.getPlaybackRate(),Bn.call(e,e.media,"ratechange")},onReady(s){if(Te.function(e.media.play))return;const a=s.target;QP.getTitle.call(e,i),e.media.play=()=>{uE.call(e,!0),a.playVideo()},e.media.pause=()=>{uE.call(e,!1),a.pauseVideo()},e.media.stop=()=>{a.stopVideo()},e.media.duration=a.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:()=>Number(a.getCurrentTime()),set(d){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,Bn.call(e,e.media,"seeking"),a.seekTo(d)}}),Object.defineProperty(e.media,"playbackRate",{get:()=>a.getPlaybackRate(),set(d){a.setPlaybackRate(d)}});let{volume:l}=e.config;Object.defineProperty(e.media,"volume",{get:()=>l,set(d){l=d,a.setVolume(100*l),Bn.call(e,e.media,"volumechange")}});let{muted:u}=e.config;Object.defineProperty(e.media,"muted",{get:()=>u,set(d){const f=Te.boolean(d)?d:u;u=f,a[f?"mute":"unMute"](),a.setVolume(100*l),Bn.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:()=>a.getVideoUrl()}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration});const c=a.getAvailablePlaybackRates();e.options.speed=c.filter((d=>e.config.speed.options.includes(d))),e.supported.ui&&t.customControls&&e.media.setAttribute("tabindex",-1),Bn.call(e,e.media,"timeupdate"),Bn.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval((()=>{e.media.buffered=a.getVideoLoadedFraction(),(e.media.lastBuffered===null||e.media.lastBuffered<e.media.buffered)&&Bn.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,e.media.buffered===1&&(clearInterval(e.timers.buffering),Bn.call(e,e.media,"canplaythrough"))}),200),t.customControls&&setTimeout((()=>mi.build.call(e)),50)},onStateChange(s){const a=s.target;switch(clearInterval(e.timers.playing),e.media.seeking&&[1,2].includes(s.data)&&(e.media.seeking=!1,Bn.call(e,e.media,"seeked")),s.data){case-1:Bn.call(e,e.media,"timeupdate"),e.media.buffered=a.getVideoLoadedFraction(),Bn.call(e,e.media,"progress");break;case 0:uE.call(e,!1),e.media.loop?(a.stopVideo(),a.playVideo()):Bn.call(e,e.media,"ended");break;case 1:t.customControls&&!e.config.autoplay&&e.media.paused&&!e.embed.hasPlayed?e.media.pause():(uE.call(e,!0),Bn.call(e,e.media,"playing"),e.timers.playing=setInterval((()=>{Bn.call(e,e.media,"timeupdate")}),50),e.media.duration!==a.getDuration()&&(e.media.duration=a.getDuration(),Bn.call(e,e.media,"durationchange")));break;case 2:e.muted||e.embed.unMute(),uE.call(e,!1);break;case 3:Bn.call(e,e.media,"waiting")}Bn.call(e,e.elements.container,"statechange",!1,{code:s.data})}}})}},t4e={setup(){this.media?(ti(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),ti(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&ti(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=$n("div",{class:this.config.classNames.video}),qNe(this.media,this.elements.wrapper),this.elements.poster=$n("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?Kg.setup.call(this):this.isYouTube?QP.setup.call(this):this.isVimeo&&pq.setup.call(this)):this.debug.warn("No media element found!")}};class j7t{constructor(t){Bt(this,"load",(()=>{this.enabled&&(Te.object(window.google)&&Te.object(window.google.ima)?this.ready():iee(this.player.config.urls.googleIMA.sdk).then((()=>{this.ready()})).catch((()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))})))})),Bt(this,"ready",(()=>{var n;this.enabled||((n=this).manager&&n.manager.destroy(),n.elements.displayContainer&&n.elements.displayContainer.destroy(),n.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then((()=>{this.clearSafetyTimer("onAdsManagerLoaded()")})),this.listeners(),this.setupIMA()})),Bt(this,"setupIMA",(()=>{this.elements.container=$n("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(n=>this.onAdsManagerLoaded(n)),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(n=>this.onAdError(n)),!1),this.requestAds()})),Bt(this,"requestAds",(()=>{const{container:n}=this.player.elements;try{const r=new google.ima.AdsRequest;r.adTagUrl=this.tagUrl,r.linearAdSlotWidth=n.offsetWidth,r.linearAdSlotHeight=n.offsetHeight,r.nonLinearAdSlotWidth=n.offsetWidth,r.nonLinearAdSlotHeight=n.offsetHeight,r.forceNonLinearFullSlot=!1,r.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(r)}catch(r){this.onAdError(r)}})),Bt(this,"pollCountdown",((n=!1)=>{if(!n)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval((()=>{const r=Y5(Math.max(this.manager.getRemainingTime(),0)),i=`${xs.get("advertisement",this.player.config)} - ${r}`;this.elements.container.setAttribute("data-badge-text",i)}),100)})),Bt(this,"onAdsManagerLoaded",(n=>{if(!this.enabled)return;const r=new google.ima.AdsRenderingSettings;r.restoreCustomPlaybackStateOnAdBreakComplete=!0,r.enablePreloading=!0,this.manager=n.getAdsManager(this.player,r),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(i=>this.onAdError(i))),Object.keys(google.ima.AdEvent.Type).forEach((i=>{this.manager.addEventListener(google.ima.AdEvent.Type[i],(o=>this.onAdEvent(o)))})),this.trigger("loaded")})),Bt(this,"addCuePoints",(()=>{Te.empty(this.cuePoints)||this.cuePoints.forEach((n=>{if(n!==0&&n!==-1&&n<this.player.duration){const r=this.player.elements.progress;if(Te.element(r)){const i=100/this.player.duration*n,o=$n("span",{class:this.player.config.classNames.cues});o.style.left=`${i.toString()}%`,r.appendChild(o)}}}))})),Bt(this,"onAdEvent",(n=>{const{container:r}=this.player.elements,i=n.getAd(),o=n.getAdData();switch((s=>{Bn.call(this.player,this.player.media,`ads${s.replace(/_/g,"").toLowerCase()}`)})(n.type),n.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),i.isLinear()||(i.width=r.offsetWidth,i.height=r.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:o.adError&&this.player.debug.warn(`Non-fatal ad error: ${o.adError.getMessage()}`)}})),Bt(this,"onAdError",(n=>{this.cancel(),this.player.debug.warn("Ads error",n)})),Bt(this,"listeners",(()=>{const{container:n}=this.player.elements;let r;this.player.on("canplay",(()=>{this.addCuePoints()})),this.player.on("ended",(()=>{this.loader.contentComplete()})),this.player.on("timeupdate",(()=>{r=this.player.currentTime})),this.player.on("seeked",(()=>{const i=this.player.currentTime;Te.empty(this.cuePoints)||this.cuePoints.forEach(((o,s)=>{r<o&&o<i&&(this.manager.discardAdBreak(),this.cuePoints.splice(s,1))}))})),window.addEventListener("resize",(()=>{this.manager&&this.manager.resize(n.offsetWidth,n.offsetHeight,google.ima.ViewMode.NORMAL)}))})),Bt(this,"play",(()=>{const{container:n}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then((()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(n.offsetWidth,n.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(r){this.onAdError(r)}})).catch((()=>{}))})),Bt(this,"resumeContent",(()=>{this.elements.container.style.zIndex="",this.playing=!1,nh(this.player.media.play())})),Bt(this,"pauseContent",(()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()})),Bt(this,"cancel",(()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()})),Bt(this,"loadAds",(()=>{this.managerPromise.then((()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise((n=>{this.on("loaded",n),this.player.debug.log(this.manager)})),this.initialized=!1,this.requestAds()})).catch((()=>{}))})),Bt(this,"trigger",((n,...r)=>{const i=this.events[n];Te.array(i)&&i.forEach((o=>{Te.function(o)&&o.apply(this,r)}))})),Bt(this,"on",((n,r)=>(Te.array(this.events[n])||(this.events[n]=[]),this.events[n].push(r),this))),Bt(this,"startSafetyTimer",((n,r)=>{this.player.debug.log(`Safety timer invoked from: ${r}`),this.safetyTimer=setTimeout((()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")}),n)})),Bt(this,"clearSafetyTimer",(n=>{Te.nullOrUndefined(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${n}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)})),this.player=t,this.config=t.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise(((n,r)=>{this.on("loaded",n),this.on("error",r)})),this.load()}get enabled(){const{config:t}=this;return this.player.isHTML5&&this.player.isVideo&&t.enabled&&(!Te.empty(t.publisherId)||Te.url(t.tagUrl))}get tagUrl(){const{config:t}=this;return Te.url(t.tagUrl)?t.tagUrl:`https://go.aniview.com/api/adserver6/vast/?${ZNe({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:t.publisherId})}`}}function n4e(e=0,t=0,n=255){return Math.min(Math.max(e,t),n)}const B7t=e=>{const t=[];return e.split(/\r\n\r\n|\n\n|\r\r/).forEach((n=>{const r={};n.split(/\r\n|\n|\r/).forEach((i=>{if(Te.number(r.startTime)){if(!Te.empty(i.trim())&&Te.empty(r.text)){const o=i.trim().split("#xywh=");[r.text]=o,o[1]&&([r.x,r.y,r.w,r.h]=o[1].split(","))}}else{const o=i.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);o&&(r.startTime=60*Number(o[1]||0)*60+60*Number(o[2])+Number(o[3])+ +`0.${o[4]}`,r.endTime=60*Number(o[6]||0)*60+60*Number(o[7])+Number(o[8])+ +`0.${o[9]}`)}})),r.text&&t.push(r)})),t},Kpe=(e,t)=>{const n={};return e>t.width/t.height?(n.width=t.width,n.height=1/e*t.width):(n.height=t.height,n.width=e*t.height),n};class mq{constructor(t){Bt(this,"load",(()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then((()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.listeners(),this.loaded=!0)}))})),Bt(this,"getThumbnails",(()=>new Promise((n=>{const{src:r}=this.player.config.previewThumbnails;if(Te.empty(r))throw new Error("Missing previewThumbnails.src config attribute");const i=()=>{this.thumbnails.sort(((o,s)=>o.height-s.height)),this.player.debug.log("Preview thumbnails",this.thumbnails),n()};if(Te.function(r))r((o=>{this.thumbnails=o,i()}));else{const o=(Te.string(r)?[r]:r).map((s=>this.getThumbnail(s)));Promise.all(o).then(i)}})))),Bt(this,"getThumbnail",(n=>new Promise((r=>{Yk(n).then((i=>{const o={frames:B7t(i),height:null,urlPrefix:""};o.frames[0].text.startsWith("/")||o.frames[0].text.startsWith("http://")||o.frames[0].text.startsWith("https://")||(o.urlPrefix=n.substring(0,n.lastIndexOf("/")+1));const s=new Image;s.onload=()=>{o.height=s.naturalHeight,o.width=s.naturalWidth,this.thumbnails.push(o),r()},s.src=o.urlPrefix+o.frames[0].text}))})))),Bt(this,"startMove",(n=>{if(this.loaded&&Te.event(n)&&["touchmove","mousemove"].includes(n.type)&&this.player.media.duration){if(n.type==="touchmove")this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var r,i;const o=this.player.elements.progress.getBoundingClientRect(),s=100/o.width*(n.pageX-o.left);this.seekTime=this.player.media.duration*(s/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=n.pageX,this.elements.thumb.time.innerText=Y5(this.seekTime);const a=(r=this.player.config.markers)===null||r===void 0||(i=r.points)===null||i===void 0?void 0:i.find((({time:l})=>l===Math.round(this.seekTime)));a&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${a.label}<br>`)}this.showImageAtCurrentTime()}})),Bt(this,"endMove",(()=>{this.toggleThumbContainer(!1,!0)})),Bt(this,"startScrubbing",(n=>{(Te.nullOrUndefined(n.button)||n.button===!1||n.button===0)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))})),Bt(this,"endScrubbing",(()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):nee.call(this.player,this.player.media,"timeupdate",(()=>{this.mouseDown||this.toggleScrubbingContainer(!1)}))})),Bt(this,"listeners",(()=>{this.player.on("play",(()=>{this.toggleThumbContainer(!1,!0)})),this.player.on("seeked",(()=>{this.toggleThumbContainer(!1)})),this.player.on("timeupdate",(()=>{this.lastTime=this.player.media.currentTime}))})),Bt(this,"render",(()=>{this.elements.thumb.container=$n("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=$n("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const n=$n("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=$n("span",{},"00:00"),n.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(n),Te.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=$n("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)})),Bt(this,"destroy",(()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()})),Bt(this,"showImageAtCurrentTime",(()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const n=this.thumbnails[0].frames.findIndex((o=>this.seekTime>=o.startTime&&this.seekTime<=o.endTime)),r=n>=0;let i=0;this.mouseDown||this.toggleThumbContainer(r),r&&(this.thumbnails.forEach(((o,s)=>{this.loadedImages.includes(o.frames[n].text)&&(i=s)})),n!==this.showingThumb&&(this.showingThumb=n,this.loadImage(i)))})),Bt(this,"loadImage",((n=0)=>{const r=this.showingThumb,i=this.thumbnails[n],{urlPrefix:o}=i,s=i.frames[r],a=i.frames[r].text,l=o+a;if(this.currentImageElement&&this.currentImageElement.dataset.filename===a)this.showImage(this.currentImageElement,s,n,r,a,!1),this.currentImageElement.dataset.index=r,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const u=new Image;u.src=l,u.dataset.index=r,u.dataset.filename=a,this.showingThumbFilename=a,this.player.debug.log(`Loading image: ${l}`),u.onload=()=>this.showImage(u,s,n,r,a,!0),this.loadingImage=u,this.removeOldImages(u)}})),Bt(this,"showImage",((n,r,i,o,s,a=!0)=>{this.player.debug.log(`Showing thumb: ${s}. num: ${o}. qual: ${i}. newimg: ${a}`),this.setImageSizeAndOffset(n,r),a&&(this.currentImageContainer.appendChild(n),this.currentImageElement=n,this.loadedImages.includes(s)||this.loadedImages.push(s)),this.preloadNearby(o,!0).then(this.preloadNearby(o,!1)).then(this.getHigherQuality(i,n,r,s))})),Bt(this,"removeOldImages",(n=>{Array.from(this.currentImageContainer.children).forEach((r=>{if(r.tagName.toLowerCase()!=="img")return;const i=this.usingSprites?500:1e3;if(r.dataset.index!==n.dataset.index&&!r.dataset.deleting){r.dataset.deleting=!0;const{currentImageContainer:o}=this;setTimeout((()=>{o.removeChild(r),this.player.debug.log(`Removing thumb: ${r.dataset.filename}`)}),i)}}))})),Bt(this,"preloadNearby",((n,r=!0)=>new Promise((i=>{setTimeout((()=>{const o=this.thumbnails[0].frames[n].text;if(this.showingThumbFilename===o){let s;s=r?this.thumbnails[0].frames.slice(n):this.thumbnails[0].frames.slice(0,n).reverse();let a=!1;s.forEach((l=>{const u=l.text;if(u!==o&&!this.loadedImages.includes(u)){a=!0,this.player.debug.log(`Preloading thumb filename: ${u}`);const{urlPrefix:c}=this.thumbnails[0],d=c+u,f=new Image;f.src=d,f.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${u}`),this.loadedImages.includes(u)||this.loadedImages.push(u),i()}}})),a||i()}}),300)})))),Bt(this,"getHigherQuality",((n,r,i,o)=>{if(n<this.thumbnails.length-1){let s=r.naturalHeight;this.usingSprites&&(s=i.h),s<this.thumbContainerHeight&&setTimeout((()=>{this.showingThumbFilename===o&&(this.player.debug.log(`Showing higher quality thumb for: ${o}`),this.loadImage(n+1))}),300)}})),Bt(this,"toggleThumbContainer",((n=!1,r=!1)=>{const i=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(i,n),!n&&r&&(this.showingThumb=null,this.showingThumbFilename=null)})),Bt(this,"toggleScrubbingContainer",((n=!1)=>{const r=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(r,n),n||(this.showingThumb=null,this.showingThumbFilename=null)})),Bt(this,"determineContainerAutoSizing",(()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)})),Bt(this,"setThumbContainerSizeAndPos",(()=>{const{imageContainer:n}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(n.clientHeight>20&&n.clientWidth<20){const r=Math.floor(n.clientHeight*this.thumbAspectRatio);n.style.width=`${r}px`}else if(n.clientHeight<20&&n.clientWidth>20){const r=Math.floor(n.clientWidth/this.thumbAspectRatio);n.style.height=`${r}px`}}else{const r=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);n.style.height=`${this.thumbContainerHeight}px`,n.style.width=`${r}px`}this.setThumbContainerPos()})),Bt(this,"setThumbContainerPos",(()=>{const n=this.player.elements.progress.getBoundingClientRect(),r=this.player.elements.container.getBoundingClientRect(),{container:i}=this.elements.thumb,o=r.left-n.left+10,s=r.right-n.left-i.clientWidth-10,a=this.mousePosX-n.left-i.clientWidth/2,l=n4e(a,o,s);i.style.left=`${l}px`,i.style.setProperty("--preview-arrow-offset",a-l+"px")})),Bt(this,"setScrubbingContainerSize",(()=>{const{width:n,height:r}=Kpe(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${n}px`,this.elements.scrubbing.container.style.height=`${r}px`})),Bt(this,"setImageSizeAndOffset",((n,r)=>{if(!this.usingSprites)return;const i=this.thumbContainerHeight/r.h;n.style.height=n.naturalHeight*i+"px",n.style.width=n.naturalWidth*i+"px",n.style.left=`-${r.x*i}px`,n.style.top=`-${r.y*i}px`})),this.player=t,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:t}=Kpe(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return t}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(t){this.mouseDown?this.currentScrubbingImageElement=t:this.currentThumbnailImageElement=t}}const gq={insertElements(e,t){Te.string(t)?Vpe(e,this.media,{src:t}):Te.array(t)&&t.forEach((n=>{Vpe(e,this.media,n)}))},change(e){HNe(e,"sources.length")?(Kg.cancelRequests.call(this),this.destroy.call(this,(()=>{this.options.quality=[],jp(this.media),this.media=null,Te.element(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:t,type:n}=e,[{provider:r=Lg.html5,src:i}]=t,o=r==="html5"?n:"div",s=r==="html5"?{}:{src:i};Object.assign(this,{provider:r,type:n,supported:Do.check(n,r,this.config.playsinline),media:$n(o,s)}),this.elements.container.appendChild(this.media),Te.boolean(e.autoplay)&&(this.config.autoplay=e.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),Te.empty(e.poster)||(this.poster=e.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),mi.addStyleHook.call(this),this.isHTML5&&gq.insertElements.call(this,"source",t),this.config.title=e.title,t4e.setup.call(this),this.isHTML5&&Object.keys(e).includes("tracks")&&gq.insertElements.call(this,"track",e.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&mi.build.call(this),this.isHTML5&&this.media.load(),Te.empty(e.previewThumbnails)||(Object.assign(this.config.previewThumbnails,e.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new mq(this))),this.fullscreen.update()}),!0)):this.debug.warn("Invalid source format")}};let r4e=class yq{constructor(t,n){if(Bt(this,"play",(()=>Te.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then((()=>this.ads.play())).catch((()=>nh(this.media.play()))),this.media.play()):null)),Bt(this,"pause",(()=>this.playing&&Te.function(this.media.pause)?this.media.pause():null)),Bt(this,"togglePlay",(a=>(Te.boolean(a)?a:!this.playing)?this.play():this.pause())),Bt(this,"stop",(()=>{this.isHTML5?(this.pause(),this.restart()):Te.function(this.media.stop)&&this.media.stop()})),Bt(this,"restart",(()=>{this.currentTime=0})),Bt(this,"rewind",(a=>{this.currentTime-=Te.number(a)?a:this.config.seekTime})),Bt(this,"forward",(a=>{this.currentTime+=Te.number(a)?a:this.config.seekTime})),Bt(this,"increaseVolume",(a=>{const l=this.media.muted?0:this.volume;this.volume=l+(Te.number(a)?a:0)})),Bt(this,"decreaseVolume",(a=>{this.increaseVolume(-a)})),Bt(this,"airplay",(()=>{Do.airplay&&this.media.webkitShowPlaybackTargetPicker()})),Bt(this,"toggleControls",(a=>{if(this.supported.ui&&!this.isAudio){const l=BN(this.elements.container,this.config.classNames.hideControls),u=a===void 0?void 0:!a,c=ti(this.elements.container,this.config.classNames.hideControls,u);if(c&&Te.array(this.config.controls)&&this.config.controls.includes("settings")&&!Te.empty(this.config.settings)&&Lt.toggleMenu.call(this,!1),c!==l){const d=c?"controlshidden":"controlsshown";Bn.call(this,this.media,d)}return!c}return!1})),Bt(this,"on",((a,l)=>{Mr.call(this,this.elements.container,a,l)})),Bt(this,"once",((a,l)=>{nee.call(this,this.elements.container,a,l)})),Bt(this,"off",((a,l)=>{G5(this.elements.container,a,l)})),Bt(this,"destroy",((a,l=!1)=>{if(!this.ready)return;const u=()=>{document.body.style.overflow="",this.embed=null,l?(Object.keys(this.elements).length&&(jp(this.elements.buttons.play),jp(this.elements.captions),jp(this.elements.controls),jp(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),Te.function(a)&&a()):(b7t.call(this),Kg.cancelRequests.call(this),jN(this.elements.original,this.elements.container),Bn.call(this,this.elements.original,"destroyed",!0),Te.function(a)&&a.call(this.elements.original),this.ready=!1,setTimeout((()=>{this.elements=null,this.media=null}),200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(mi.toggleNativeControls.call(this,!0),u()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),this.embed!==null&&Te.function(this.embed.destroy)&&this.embed.destroy(),u()):this.isVimeo&&(this.embed!==null&&this.embed.unload().then(u),setTimeout(u,200))})),Bt(this,"supports",(a=>Do.mime.call(this,a))),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=Do.touch,this.media=t,Te.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||Te.nodeList(this.media)||Te.array(this.media))&&(this.media=this.media[0]),this.config=Ro({},e4e,yq.defaults,n||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch{return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new D7t(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",Do),Te.nullOrUndefined(this.media)||!Te.element(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!Do.check().api)return void this.debug.error("Setup failed: no support");const r=this.media.cloneNode(!0);r.autoplay=!1,this.elements.original=r;const i=this.media.tagName.toLowerCase();let o=null,s=null;switch(i){case"div":if(o=this.media.querySelector("iframe"),Te.element(o)){if(s=JNe(o.getAttribute("src")),this.provider=I7t(s.toString()),this.elements.container=this.media,this.media=o,this.elements.container.className="",s.search.length){const a=["1","true"];a.includes(s.searchParams.get("autoplay"))&&(this.config.autoplay=!0),a.includes(s.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=a.includes(s.searchParams.get("playsinline")),this.config.youtube.hl=s.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(Te.empty(this.provider)||!Object.values(Lg).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=J9.video;break;case"video":case"audio":this.type=i,this.provider=Lg.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=Do.check(this.type,this.provider),this.supported.api?(this.eventListeners=[],this.listeners=new P7t(this),this.storage=new lT(this),this.media.plyr=this,Te.element(this.elements.container)||(this.elements.container=$n("div"),qNe(this.media,this.elements.container)),mi.migrateStyles.call(this),mi.addStyleHook.call(this),t4e.setup.call(this),this.config.debug&&Mr.call(this,this.elements.container,this.config.events.join(" "),(a=>{this.debug.log(`event: ${a.type}`)})),this.fullscreen=new pd(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&mi.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new j7t(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",(()=>nh(this.play()))),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new mq(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===Lg.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===Lg.youtube}get isVimeo(){return this.provider===Lg.vimeo}get isVideo(){return this.type===J9.video}get isAudio(){return this.type===J9.audio}get playing(){return!!(this.ready&&!this.paused&&!this.ended)}get paused(){return!!this.media.paused}get stopped(){return!!(this.paused&&this.currentTime===0)}get ended(){return!!this.media.ended}set currentTime(t){if(!this.duration)return;const n=Te.number(t)&&t>0;this.media.currentTime=n?Math.min(t,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:t}=this.media;return Te.number(t)?t:t&&t.length&&this.duration>0?t.end(0)/this.duration:0}get seeking(){return!!this.media.seeking}get duration(){const t=parseFloat(this.config.duration),n=(this.media||{}).duration,r=Te.number(n)&&n!==1/0?n:0;return t||r}set volume(t){let n=t;Te.string(n)&&(n=Number(n)),Te.number(n)||(n=this.storage.get("volume")),Te.number(n)||({volume:n}=this.config),n>1&&(n=1),n<0&&(n=0),this.config.volume=n,this.media.volume=n,!Te.empty(t)&&this.muted&&n>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(t){let n=t;Te.boolean(n)||(n=this.storage.get("muted")),Te.boolean(n)||(n=this.config.muted),this.config.muted=n,this.media.muted=n}get muted(){return!!this.media.muted}get hasAudio(){return!this.isHTML5||!!this.isAudio||!!this.media.mozHasAudio||!!this.media.webkitAudioDecodedByteCount||!!(this.media.audioTracks&&this.media.audioTracks.length)}set speed(t){let n=null;Te.number(t)&&(n=t),Te.number(n)||(n=this.storage.get("speed")),Te.number(n)||(n=this.config.speed.selected);const{minimumSpeed:r,maximumSpeed:i}=this;n=n4e(n,r,i),this.config.speed.selected=n,setTimeout((()=>{this.media&&(this.media.playbackRate=n)}),0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(t){const n=this.config.quality,r=this.options.quality;if(!r.length)return;let i=[!Te.empty(t)&&Number(t),this.storage.get("quality"),n.selected,n.default].find(Te.number),o=!0;if(!r.includes(i)){const s=VNe(r,i);this.debug.warn(`Unsupported quality option: ${i}, using ${s} instead`),i=s,o=!1}n.selected=i,this.media.quality=i,o&&this.storage.set({quality:i})}get quality(){return this.media.quality}set loop(t){const n=Te.boolean(t)?t:this.config.loop.active;this.config.loop.active=n,this.media.loop=n}get loop(){return!!this.media.loop}set source(t){gq.change.call(this,t)}get source(){return this.media.currentSrc}get download(){const{download:t}=this.config.urls;return Te.url(t)?t:this.source}set download(t){Te.url(t)&&(this.config.urls.download=t,Lt.setDownloadUrl.call(this))}set poster(t){this.isVideo?mi.setPoster.call(this,t,!1).catch((()=>{})):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const t=zN(ree.call(this));return Te.array(t)?t.join(":"):t}set ratio(t){this.isVideo?Te.string(t)&&GNe(t)?(this.config.ratio=zN(t),Vx.call(this)):this.debug.error(`Invalid aspect ratio specified (${t})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(t){this.config.autoplay=Te.boolean(t)?t:this.config.autoplay}get autoplay(){return!!this.config.autoplay}toggleCaptions(t){zr.toggle.call(this,t,!1)}set currentTrack(t){zr.set.call(this,t,!1),zr.setup.call(this)}get currentTrack(){const{toggled:t,currentTrack:n}=this.captions;return t?n:-1}set language(t){zr.setLanguage.call(this,t,!1)}get language(){return(zr.getCurrentTrack.call(this)||{}).language}set pip(t){if(!Do.pip)return;const n=Te.boolean(t)?t:!this.pip;Te.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(n?Q9.active:Q9.inactive),Te.function(this.media.requestPictureInPicture)&&(!this.pip&&n?this.media.requestPictureInPicture():this.pip&&!n&&document.exitPictureInPicture())}get pip(){return Do.pip?Te.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===Q9.active:null}setPreviewThumbnails(t){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,t),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new mq(this))}static supported(t,n){return Do.check(t,n)}static loadSprite(t,n){return XNe(t,n)}static setup(t,n={}){let r=null;return Te.string(t)?r=Array.from(document.querySelectorAll(t)):Te.nodeList(t)?r=Array.from(t):Te.array(t)&&(r=t.filter(Te.element)),Te.empty(r)?null:r.map((i=>new yq(i,n)))}};r4e.defaults=m7t(e4e);function z7t(e,t,n=[]){const[r,i]=A.useState(null),o=A.useRef(null),{instantiate:s,destroy:a,getAPI:l,params:u}=t;A.useEffect(()=>{const d=s(o.current,u);return i(d),()=>{a&&a(d,u)}},n);const c=A.useMemo(()=>l(r,u),[r]);return A.useImperativeHandle(e,c,[c]),o}const U7t={},H7t=(e,t)=>{const n=new r4e(".plyr-react",t.options||{});return t.source&&(n.source=t.source),n},q7t=e=>{e&&e.destroy()},V7t=()=>{},W7t=e=>e?()=>({plyr:e}):()=>new Proxy({plyr:{source:null}},{get:(t,n)=>n==="plyr"?t[n]:V7t});function i4e(e,t,n=null){return z7t(e,{instantiate:H7t,getAPI:W7t,destroy:q7t,params:t},n||[t.options,t.source])}const eB=A.forwardRef((e,t)=>{const{source:n,options:r=null,...i}=e,o=i4e(t,{source:n,options:r});return b.jsx("video",{ref:o,className:"plyr-react plyr",...i})});(U7t&&"production")!=="production"&&(eB.displayName="Plyr",eB.defaultProps={options:{controls:["rewind","play","fast-forward","progress","current-time","duration","mute","volume","settings","fullscreen"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop"}},source:{type:"video",sources:[{src:"https://cdn.plyr.io/static/blank.mp4",type:"video/mp4",size:720},{src:"https://cdn.plyr.io/static/blank.mp4",type:"video/mp4",size:1080}]}},eB.propTypes={options:T3.object,source:T3.any});function G7t(e){return e.includes("youtube")||e.includes("youtu.be")?"youtube":e.includes("vimeo")?"vimeo":"html5"}function Y7t(e){return/^(https?:\/\/)?(www\.)?(youtube\.com\/watch\?v=|youtu\.be\/)[\w-]{11}/.test(e)}function K7t(e){return/^(https?:\/\/)?(www\.)?vimeo\.com\/\d+/.test(e)}const X7t=A.forwardRef((e,t)=>{const{source:n,options:r=null,endedCallback:i}=e,o=i4e(t,{options:r,source:n});return A.useEffect(()=>{const s=t.current?.plyr;if(!(!s||typeof s.on!="function"||typeof s.off!="function")){try{s.off("ended",i),s.on("ended",i)}catch{return}return()=>{try{s.off("ended",i)}catch{}}}},[i,t,n]),b.jsx("video",{ref:o,className:"plyr-react plyr"})});function Q7t({currentConfig:e}){const t=A.useMemo(()=>e.path.startsWith("http")?e.path:`${Hi}${e.path}`,[e.path]),n=A.useMemo(()=>G7t(t),[t]),r=A.useMemo(()=>n==="youtube"?Y7t(t):n==="vimeo"?K7t(t):!0,[n,t]),[i,o]=A.useState(!0),[s,a]=A.useState(!1);A.useEffect(()=>{let v=!1;async function y(){o(!0);try{if(n!=="html5"){v||(a(r),o(!1));return}const w=await TM(t);v||(a(!!w),o(!1))}catch{v||(a(!1),o(!1))}}return y(),()=>{v=!0}},[n,t,r]);const l=A.useMemo(()=>n==="youtube"?r?[{src:t,provider:"youtube"}]:[]:n==="vimeo"?r?[{src:t,provider:"vimeo"}]:[]:[{src:t,type:"video/mp4"}],[n,t,r]),u=A.useMemo(()=>({type:"video",sources:l}),[l]),c=A.useMemo(()=>({controls:[e.forceCompletion!==!1?"play-large":"play","current-time",...e.withTimeline?["progress"]:[],"volume","fullscreen"]}),[e.forceCompletion,e.withTimeline]),d=df(),f=cf(),h=bo(),{updateResponseBlockValidation:m}=Qi();A.useEffect(()=>{e.forceCompletion&&h(m({location:"stimulus",identifier:`${d}_${f}`,status:!1,values:{}}))},[d,e.forceCompletion,f,h,m]);const p=A.useCallback(()=>{e.forceCompletion&&h(m({location:"stimulus",identifier:`${d}_${f}`,status:!0,values:{}}))},[d,e.forceCompletion,f,h,m]),g=A.useRef(null);return s&&l.length>0?b.jsx(De,{children:b.jsx(X7t,{ref:g,source:u,options:c,endedCallback:p})}):i?b.jsx(Jl,{}):b.jsx(dm,{path:e.path})}const Ys=[];for(let e=0;e<256;++e)Ys.push((e+256).toString(16).slice(1));function J7t(e,t=0){return(Ys[e[t+0]]+Ys[e[t+1]]+Ys[e[t+2]]+Ys[e[t+3]]+"-"+Ys[e[t+4]]+Ys[e[t+5]]+"-"+Ys[e[t+6]]+Ys[e[t+7]]+"-"+Ys[e[t+8]]+Ys[e[t+9]]+"-"+Ys[e[t+10]]+Ys[e[t+11]]+Ys[e[t+12]]+Ys[e[t+13]]+Ys[e[t+14]]+Ys[e[t+15]]).toLowerCase()}let tB;const Z7t=new Uint8Array(16);function ezt(){if(!tB){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");tB=crypto.getRandomValues.bind(crypto)}return tB(Z7t)}const tzt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Xpe={randomUUID:tzt};function oee(e,t,n){if(Xpe.randomUUID&&!e)return Xpe.randomUUID();e=e||{};const r=e.random??e.rng?.()??ezt();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,J7t(r)}class o4e{listeners={};on(t,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(n)}off(t,n){this.listeners[t]&&(n?this.listeners[t]=this.listeners[t].filter(r=>r!==n):delete this.listeners[t])}emit(t,...n){if(!this.listeners[t])return;[...this.listeners[t]].forEach(i=>i(...n))}}const nzt=new URLSearchParams(window.location.search),vq=nzt.get("revisitPageId")||oee(),gv=new BroadcastChannel(`sync-${vq}`),yv=new o4e;gv.onmessage=e=>{const{key:t,value:n}=e.data;yv.emit(t,n)};function s4e(){const e=A.useRef(null),t=A.useRef(null),[n,r]=A.useState(!0),i=A.useRef(new o4e),o=A.useRef(null),[s,a]=A.useState(0),l=A.useRef(Date.now()),[u,c]=A.useState(0),d=A.useRef(u),f=A.useRef(1),[h,m]=A.useState(1),[p,g]=A.useState(!1),[v,y]=A.useState(!1),w=A.useCallback(V=>{c(V),d.current=V},[]),_=A.useRef(0);A.useEffect(()=>{u>0&&(_.current>=u||o.current&&_.current>=o.current.duration)&&y(!0)},[u,p]);const E=A.useCallback((V,z=!1)=>{r(!z),f.current=V,m(V),a(o.current?.currentTime||_.current)},[]),S=A.useRef(null),[T]=au(),k=A.useMemo(()=>T.get("t")||"",[T]),R=A.useMemo(()=>{if(!k)return 0;if(!Number.isNaN(Number(k)))return parseInt(k,10)/1e3;const V=parseInt(k.match(/(\d+)h/)?.[1]||"0",10),z=parseInt(k.match(/(\d+)m/)?.[1]||"0",10),L=parseInt(k.match(/(\d+)s/)?.[1]||"0",10);return V*3600+z*60+L},[k]);A.useEffect(()=>{n&&gv.postMessage({key:"replaySync",value:{seekTime:s,isPlaying:p,speed:h}})},[s,p,h,n]),A.useEffect(()=>{const V=!n;e.current&&(e.current.muted=V),t.current&&(t.current.muted=V)},[n]),A.useEffect(()=>{e.current&&(e.current.playbackRate=h),t.current&&(t.current.playbackRate=h)},[h]);const I=A.useCallback(()=>{g(!0);const V=o.current?.currentTime||0;i.current.emit("play",V),e.current===o.current?t.current&&(t.current.muted=!0,t.current.play()):e.current?.play();const z=o.current;z&&(S.current=setInterval(()=>{i.current.emit("timeupdate",z.currentTime)},30))},[]),P=A.useCallback(()=>{const V=o.current?.currentTime||0;a(V),i.current.emit("timeupdate",V),e.current===o.current?t.current&&(t.current.currentTime=V):e.current&&(e.current.currentTime=V)},[]),N=A.useCallback((V,z=!1)=>{r(!z),a(V),l.current=Date.now(),o.current&&(o.current.currentTime=V),i.current.emit("timeupdate",V),_.current=V,y(!1)},[]),M=A.useCallback(()=>{g(!1),S.current&&clearInterval(S.current);const V=o.current?.currentTime||0;i.current.emit("pause",V),_.current=V,e.current===o.current?t.current&&t.current.pause():e.current?.pause()},[]),O=A.useCallback(()=>{i.current.emit("timeupdate",_.current)},[]),j=A.useCallback(()=>{const V=e.current,z=t.current;V&&(V.playbackRate=f.current,V.currentTime=R,V.removeEventListener("play",I),V.removeEventListener("pause",M),V.removeEventListener("seeked",P)),z&&(z.playbackRate=f.current,z.currentTime=R,z.removeEventListener("play",I),z.removeEventListener("pause",M),z.removeEventListener("seeked",P)),o.current=(e.current?.src?e.current:null)??(t.current?.src?t.current:null),o.current&&(o.current.addEventListener("play",I),o.current.addEventListener("pause",M),o.current.addEventListener("seeked",P)),O()},[I,M,P,R,O]),U=A.useCallback((V,z=!1)=>{r(!z),v&&(y(!1),N(0)),g(V),V?o.current?.play():o.current?.pause()},[v,N]);A.useEffect(()=>{if(p?l.current=Date.now():a(V=>{const z=(Date.now()-l.current)*f.current/1e3,L=z<.5?V:V+z;return o.current&&(o.current.currentTime=L),L}),!t.current&&!e.current)if(p){const V=Date.now(),z=_.current;S.current=setInterval(()=>{_.current=z+(Date.now()-V)*f.current/1e3,i.current.emit("timeupdate",_.current),_.current>=d.current&&U(!1)},30)}else S.current&&clearInterval(S.current)},[p,U]),A.useEffect(()=>{const V=z=>{const{seekTime:L,isPlaying:H,speed:B}=z||{};r(!1),E(B,!0),N(L,!0),U(H,!0)};return yv.on("replaySync",V),()=>{yv.off("replaySync")}},[U,N,E]),A.useEffect(()=>{N(R)},[R,N]);const q=A.useMemo(()=>({on:i.current.on.bind(i.current),off:i.current.off.bind(i.current)}),[]);return A.useMemo(()=>({replayRef:o,videoRef:e,audioRef:t,updateReplayRef:j,seekTime:s,setSeekTime:N,duration:u,setDuration:w,speed:h,setSpeed:E,isPlaying:p,setIsPlaying:U,replayEvent:q,forceEmitTimeUpdate:O,hasEnded:v}),[q,s,N,u,h,p,U,j,E,O,w,v])}const see=A.createContext(void 0);function K5(){const e=A.useContext(see);if(!e)throw new Error("useReplayContext must be used within a ReplayProvider");return e}function rzt(){const[e]=au(),t=A.useMemo(()=>e.get("participantId")||void 0,[e]),{videoRef:n,updateReplayRef:r,isPlaying:i}=K5();A.useEffect(()=>{r()},[r]);const o=Hn(f=>f.analysisCanPlayScreenRecording),{storageEngine:s}=ri(),{setAnalysisHasScreenRecording:a,setAnalysisCanPlayScreenRecording:l}=Qi(),u=bo(),c=lf(),d=Nm();return A.useEffect(()=>{async function f(){if(c&&d&&s)try{if(!t)throw new Error("Participant ID is required to load audio");const h=await s.getScreenRecording(d,t);if(!h){u(a(!1)),u(l(!1));return}if(u(a(!0)),n.current){const m=n.current;m.preload="metadata",h&&(n.current.src=h,r())}}catch(h){throw u(a(!1)),u(l(!1)),new Error(h)}else u(a(!1)),u(l(!1))}f()},[c,d,s,t,u,a,l]),b.jsx(De,{pos:"relative",children:o&&b.jsxs("video",{ref:n,width:"100%",style:{background:"black",maxWidth:"100%",maxHeight:"calc(100vh - 270px)",display:"block",margin:"20px auto",height:"auto",border:`5px solid ${i?"#ccc":"black"}`},children:[b.jsx("source",{type:"video/mp4"}),"Your browser does not support the video tag."]})})}function izt(e,t){const n=t||{};return{width:"100%",display:"flex",flexGrow:e==="website"?1:void 0,flexDirection:"column",...n,...n.width!==void 0&&n.maxWidth===void 0?{maxWidth:"100%"}:{}}}function ozt(){const e=Ga(),t=cf(),n=df(),r=uf(),i=e.components[n],{storageEngine:o}=ri(),s=Hn(j=>j.answers),a=Hn(j=>j.analysisCanPlayScreenRecording),{setAnalysisCanPlayScreenRecording:l}=Qi(),u=Hn(j=>j.analysisProvState.stimulus),c=ca(),{studyHasScreenRecording:d}=t_e(),f=lf(),h=Om(),m=Hn(j=>j.sequence),p=Hn(j=>j.modes),[g]=au(),v=Hn(j=>j.participantId),y=A.useMemo(()=>g.get("participantId"),[g]);vEe();const w=bo(),{setAlertModal:_}=Qi();A.useEffect(()=>{o?.getEngine()!=="localStorage"&&w(_({show:!0,message:"There was an issue connecting to the localStorage database. This could be caused by a network issue or your adblocker. If you are using an adblocker, please disable it for this website and refresh.",title:"Failed to connect to the storage engine"}))},[_,o,w]);const[E,S]=A.useState([]),T=A.useRef([]);A.useEffect(()=>{if(f)return;async function j(){const q=XCe(m,t)?.map(W=>W.currentBlock.id).filter(W=>W!==void 0)||[];S(q)}async function U(){const q=T.current;JSON.stringify(q)!==JSON.stringify(E)&&E.length>0&&o&&await o.addParticipantTags(E),T.current=E}j().then(U)},[t,o,m]);const k=Nm(),R=A.useMemo(()=>{const j=n&&n!=="end"&&!n.startsWith("__")&&$u(i,e);if(typeof j=="object"){const U=s[k]?.parameters,q=s[k]?.correctAnswer;return{...j,parameters:U||j.parameters||{},correctAnswer:q||j.correctAnswer||void 0}}return j},[s,n,k,i,e]);A.useEffect(()=>{w(l(!0))},[t,l,w]),_Y(R?.stylesheetPath);const{funcIndex:I}=Mo();if(A.useEffect(()=>{if(h&&h.endTime>0&&!f&&!p.developmentModeEnabled&&n!=="end"&&!n.startsWith("__")&&typeof t=="number"){let j="0";Object.values(s).forEach(z=>{z.endTime>0&&(j=z.trialOrder)});const[U,q]=j.split("_"),W=Number(U),V=q?Number(q):void 0;(W>t||W===t&&V!==void 0&&I!==void 0&&V>Number(Ld(I)))&&c(`/${r}/${di(W)}${V!==void 0?`/${di(V)}`:""}${window.location.search}`)}},[s,n,t,I,f,p.developmentModeEnabled,c,h,r]),n==="end")return b.jsx($pt,{});if(n==="__dynamicLoading")return null;if(n==="__trainingFailed")return b.jsx(Lpt,{});if(n==="__timedOut")return b.jsx(Fpt,{});if(n==="Notfound")return b.jsx(dm,{email:e.uiConfig.contactEmail});if(!o?.isConnected())return b.jsxs(za,{style:{height:"80vh",flexDirection:"column",textAlign:"center"},children:[b.jsx(TKe,{size:48,stroke:1.5,color:"orange"}),b.jsx(gr,{mt:"md",order:4,children:"Database Disconnected"}),b.jsx($e,{mt:"md",children:"Please check your network connection or disable your adblocker for this site, then refresh the page."})]});if(y&&v!==y)return b.jsx(za,{style:{height:"80vh"},children:b.jsx(qc,{})});const P=R?.instruction||"",N=R.instructionLocation??e.uiConfig.instructionLocation??"sidebar",M=N==="sidebar",O=izt(R.type,R.style);return d&&f&&a?b.jsx(rzt,{},`${t}-stimulus`):b.jsxs(b.Fragment,{children:[N==="aboveStimulus"&&b.jsx(_h,{text:P}),b.jsx(Hz,{status:h,config:R,location:"aboveStimulus"},`${t}-above-response-block`),b.jsx(De,{id:n,className:R.type,style:O,children:b.jsx(A.Suspense,{fallback:b.jsx("div",{children:"Loading..."}),children:b.jsxs(b.Fragment,{children:[R.type==="markdown"&&b.jsx(Cpt,{currentConfig:R}),R.type==="website"&&b.jsx(ypt,{currentConfig:R,provState:u,answers:s}),R.type==="image"&&b.jsx(bpt,{currentConfig:R}),R.type==="react-component"&&b.jsx(xpt,{currentConfig:R,provState:u,answers:s}),R.type==="vega"&&b.jsx(MBt,{currentConfig:R,provState:u}),R.type==="video"&&b.jsx(Q7t,{currentConfig:R})]})},`${t}-stimulus`)}),(N==="belowStimulus"||N===void 0&&!M)&&b.jsx(_h,{text:P}),b.jsx(Hz,{status:h,config:R,location:"belowStimulus"},`${t}-below-response-block`)]})}function bq(e){const[t]=au();return b.jsx(iG,{...e,to:{pathname:e.to,search:t.toString()}})}var nB,Qpe;function szt(){if(Qpe)return nB;Qpe=1;var e="Expected a function",t=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,l=typeof xi=="object"&&xi&&xi.Object===Object&&xi,u=typeof self=="object"&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),d=Object.prototype,f=d.toString,h=Math.max,m=Math.min,p=function(){return c.Date.now()};function g(E,S,T){var k,R,I,P,N,M,O=0,j=!1,U=!1,q=!0;if(typeof E!="function")throw new TypeError(e);S=_(S)||0,v(T)&&(j=!!T.leading,U="maxWait"in T,I=U?h(_(T.maxWait)||0,S):I,q="trailing"in T?!!T.trailing:q);function W(ce){var le=k,ue=R;return k=R=void 0,O=ce,P=E.apply(ue,le),P}function V(ce){return O=ce,N=setTimeout(H,S),j?W(ce):P}function z(ce){var le=ce-M,ue=ce-O,ae=S-le;return U?m(ae,I-ue):ae}function L(ce){var le=ce-M,ue=ce-O;return M===void 0||le>=S||le<0||U&&ue>=I}function H(){var ce=p();if(L(ce))return B(ce);N=setTimeout(H,z(ce))}function B(ce){return N=void 0,q&&k?W(ce):(k=R=void 0,P)}function Y(){N!==void 0&&clearTimeout(N),O=0,k=M=R=N=void 0}function Q(){return N===void 0?P:B(p())}function ne(){var ce=p(),le=L(ce);if(k=arguments,R=this,M=ce,le){if(N===void 0)return V(M);if(U)return N=setTimeout(H,S),W(M)}return N===void 0&&(N=setTimeout(H,S)),P}return ne.cancel=Y,ne.flush=Q,ne}function v(E){var S=typeof E;return!!E&&(S=="object"||S=="function")}function y(E){return!!E&&typeof E=="object"}function w(E){return typeof E=="symbol"||y(E)&&f.call(E)==n}function _(E){if(typeof E=="number")return E;if(w(E))return t;if(v(E)){var S=typeof E.valueOf=="function"?E.valueOf():E;E=v(S)?S+"":S}if(typeof E!="string")return E===0?E:+E;E=E.replace(r,"");var T=o.test(E);return T||s.test(E)?a(E.slice(2),T?2:8):i.test(E)?t:+E}return nB=g,nB}var azt=szt();const hd=Xo(azt);function W1(e,t,n){let r=n.initialDeps??[],i,o=!0;function s(){var a,l,u;let c;n.key&&((a=n.debug)!=null&&a.call(n))&&(c=Date.now());const d=e();if(!(d.length!==r.length||d.some((m,p)=>r[p]!==m)))return i;r=d;let h;if(n.key&&((l=n.debug)!=null&&l.call(n))&&(h=Date.now()),i=t(...d),n.key&&((u=n.debug)!=null&&u.call(n))){const m=Math.round((Date.now()-c)*100)/100,p=Math.round((Date.now()-h)*100)/100,g=p/16,v=(y,w)=>{for(y=String(y);y.length<w;)y=" "+y;return y};console.info(`%c ${v(p,5)} /${v(m,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*g,120))}deg 100% 31%);`,n?.key)}return n?.onChange&&!(o&&n.skipInitialOnChange)&&n.onChange(i),o=!1,i}return s.updateDeps=a=>{r=a},s}function Jpe(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const lzt=(e,t)=>Math.abs(e-t)<1.01,uzt=(e,t,n)=>{let r;return function(...i){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,i),n)}},Zpe=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},czt=e=>e,dzt=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let i=t;i<=n;i++)r.push(i);return r},fzt=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const i=s=>{const{width:a,height:l}=s;t({width:Math.round(a),height:Math.round(l)})};if(i(Zpe(n)),!r.ResizeObserver)return()=>{};const o=new r.ResizeObserver(s=>{const a=()=>{const l=s[0];if(l?.borderBoxSize){const u=l.borderBoxSize[0];if(u){i({width:u.inlineSize,height:u.blockSize});return}}i(Zpe(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()});return o.observe(n,{box:"border-box"}),()=>{o.unobserve(n)}},eme={passive:!0},tme=typeof window>"u"?!0:"onscrollend"in window,hzt=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let i=0;const o=e.options.useScrollendEvent&&tme?()=>{}:uzt(r,()=>{t(i,!1)},e.options.isScrollingResetDelay),s=c=>()=>{const{horizontal:d,isRtl:f}=e.options;i=d?n.scrollLeft*(f&&-1||1):n.scrollTop,o(),t(i,c)},a=s(!0),l=s(!1);n.addEventListener("scroll",a,eme);const u=e.options.useScrollendEvent&&tme;return u&&n.addEventListener("scrollend",l,eme),()=>{n.removeEventListener("scroll",a),u&&n.removeEventListener("scrollend",l)}},pzt=(e,t,n)=>{if(t?.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},mzt=(e,{adjustments:t=0,behavior:n},r)=>{var i,o;const s=e+t;(o=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||o.call(i,{[r.options.horizontal?"left":"top"]:s,behavior:n})};let gzt=class{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.currentScrollToIndex=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(o=>{const s=()=>{this._measureElement(o.target,o)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(s):s()})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var o;return(o=r())==null?void 0:o.observe(i,{box:"border-box"})},unobserve:i=>{var o;return(o=r())==null?void 0:o.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:czt,rangeExtractor:dzt,onChange:()=>{},measureElement:pzt,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=W1(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=o,this.maybeNotify()})),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0})}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,o=new Map;for(let s=r-1;s>=0;s--){const a=n[s];if(i.has(a.lane))continue;const l=o.get(a.lane);if(l==null||a.end>l.end?o.set(a.lane,a):a.end<l.end&&i.set(a.lane,!0),i.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((s,a)=>s.end===a.end?s.index-a.index:s.end-a.end)[0]:void 0},this.getMeasurementOptions=W1(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,r,i,o,s,a)=>(this.prevLanes!==void 0&&this.prevLanes!==a&&(this.lanesChangedFlag=!0),this.prevLanes=a,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:o,enabled:s,lanes:a}),{key:!1}),this.getMeasurements=W1(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:o,enabled:s,lanes:a},l)=>{if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const f of this.laneAssignments.keys())f>=n&&this.laneAssignments.delete(f);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&!this.lanesSettling&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(f=>{this.itemSizeCache.set(f.key,f.size)}));const u=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const c=this.measurementsCache.slice(0,u),d=new Array(a).fill(void 0);for(let f=0;f<u;f++){const h=c[f];h&&(d[h.lane]=f)}for(let f=u;f<n;f++){const h=o(f),m=this.laneAssignments.get(f);let p,g;if(m!==void 0&&this.options.lanes>1){p=m;const _=d[p],E=_!==void 0?c[_]:void 0;g=E?E.end+this.options.gap:r+i}else{const _=this.options.lanes===1?c[f-1]:this.getFurthestMeasurement(c,f);g=_?_.end+this.options.gap:r+i,p=_?_.lane:f%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(f,p)}const v=l.get(h),y=typeof v=="number"?v:this.options.estimateSize(f),w=g+y;c[f]={index:f,start:g,size:y,end:w,key:h,lane:p},d[p]=f}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=W1(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,i,o)=>this.range=n.length>0&&r>0?yzt({measurements:n,outerSize:r,scrollOffset:i,lanes:o}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=W1(()=>{let n=null,r=null;const i=this.calculateRange();return i&&(n=i.startIndex,r=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,i,o,s)=>o===null||s===null?[]:n({startIndex:o,endIndex:s,overscan:r,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),o=this.measurementsCache[i];if(!o)return;const s=o.key,a=this.elementsCache.get(s);a!==n&&(a&&this.observer.unobserve(a),this.observer.observe(n),this.elementsCache.set(s,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const o=this.itemSizeCache.get(i.key)??i.size,s=r-o;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,s,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=W1(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let o=0,s=n.length;o<s;o++){const a=n[o],l=r[a];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return Jpe(r[a4e(0,r.length-1,i=>Jpe(r[i]).start,n)])},this.getMaxScrollOffset=()=>{if(!this.scrollElement)return 0;if("scrollHeight"in this.scrollElement)return this.options.horizontal?this.scrollElement.scrollWidth-this.scrollElement.clientWidth:this.scrollElement.scrollHeight-this.scrollElement.clientHeight;{const n=this.scrollElement.document.documentElement;return this.options.horizontal?n.scrollWidth-this.scrollElement.innerWidth:n.scrollHeight-this.scrollElement.innerHeight}},this.getOffsetForAlignment=(n,r,i=0)=>{if(!this.scrollElement)return 0;const o=this.getSize(),s=this.getScrollOffset();r==="auto"&&(r=n>=s+o?"end":"start"),r==="center"?n+=(i-o)/2:r==="end"&&(n-=o);const a=this.getMaxScrollOffset();return Math.max(Math.min(a,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const o=this.getSize(),s=this.getScrollOffset();if(r==="auto")if(i.end>=s+o-this.options.scrollPaddingEnd)r="end";else if(i.start<=s+this.options.scrollPaddingStart)r="start";else return[s,r];if(r==="end"&&n===this.options.count-1)return[this.getMaxScrollOffset(),r];const a=r==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,r,i.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1)),this.currentScrollToIndex=n;let o=0;const s=10,a=u=>{if(!this.targetWindow)return;const c=this.getOffsetForIndex(n,u);if(!c){console.warn("Failed to get offset for index:",n);return}const[d,f]=c;this._scrollToOffset(d,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{if(!this.targetWindow)return;const h=()=>{if(this.currentScrollToIndex!==n)return;const m=this.getScrollOffset(),p=this.getOffsetForIndex(n,f);if(!p){console.warn("Failed to get offset for index:",n);return}lzt(p[0],m)||l(f)};this.isDynamicMode()?this.targetWindow.requestAnimationFrame(h):h()})},l=u=>{this.targetWindow&&this.currentScrollToIndex===n&&(o++,o<s?this.targetWindow.requestAnimationFrame(()=>a(u)):console.warn(`Failed to scroll to index ${n} after ${s} attempts.`))};a(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;if(r.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((n=r[r.length-1])==null?void 0:n.end)??0;else{const o=Array(this.options.lanes).fill(null);let s=r.length-1;for(;s>=0&&o.some(a=>a===null);){const a=r[s];o[a.lane]===null&&(o[a.lane]=a.end),s--}i=Math.max(...o.filter(a=>a!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(t)}};const a4e=(e,t,n,r)=>{for(;e<=t;){const i=(e+t)/2|0,o=n(i);if(o<r)e=i+1;else if(o>r)t=i-1;else return i}return e>0?e-1:0};function yzt({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const i=e.length-1,o=l=>e[l].start;if(e.length<=r)return{startIndex:0,endIndex:i};let s=a4e(0,i,o,n),a=s;if(r===1)for(;a<i&&e[a].end<n+t;)a++;else if(r>1){const l=Array(r).fill(0);for(;a<i&&l.some(c=>c<n+t);){const c=e[a];l[c.lane]=c.end,a++}const u=Array(r).fill(n+t);for(;s>=0&&u.some(c=>c>=n);){const c=e[s];u[c.lane]=c.start,s--}s=Math.max(0,s-s%r),a=Math.min(i,a+(r-1-a%r))}return{startIndex:s,endIndex:a}}const nme=typeof document<"u"?A.useLayoutEffect:A.useEffect;function vzt({useFlushSync:e=!0,...t}){const n=A.useReducer(()=>({}),{})[1],r={...t,onChange:(o,s)=>{var a;e&&s?kd.flushSync(n):n(),(a=t.onChange)==null||a.call(t,o,s)}},[i]=A.useState(()=>new gzt(r));return i.setOptions(r),nme(()=>i._didMount(),[]),nme(()=>i._willUpdate()),i}function bzt(e){return vzt({observeElementRect:fzt,observeElementOffset:hzt,scrollToFn:mzt,...e})}function wzt(e,t,n){return e.order!=="dynamic"?[]:Object.entries(t).filter(([r])=>r.startsWith(`${e.id}_${n}_`)).map(([r,i])=>i.componentName)}function xzt(e){return e.some(t=>t.type==="radio"||t.type==="checkbox"||t.type==="buttons"?t.optionOrder==="random":t.type==="matrix-radio"||t.type==="matrix-checkbox"?t.questionOrder==="random":!1)}function Czt(e,t){let n=null;const r=i=>{if(typeof i!="string"){if(i.orderPath&&e.orderPath&&i.orderPath===e.orderPath){n=i;return}i.components.forEach(o=>{n===null&&r(o)})}};return r(t),n}function rS(e,t){let n=0;return aa(e)?Object.entries(t).filter(([r,i])=>r.startsWith(`${e.id}_`)).length:(e.components.forEach(r=>{typeof r=="string"?n+=1:n+=rS(r,t)}),n)}function yI(e){const t=e.includes(".components.")?".components.":e.includes(".co.")?".co.":!1,n=t!==!1&&e.startsWith("$"),r=n?e.split(t).at(-1):e,i=n?e.split(t)[0].slice(1):void 0;return{isLibraryImport:n,label:r,importedLibraryName:i}}function vI(e){return e?.__revisitImportedSequenceRef}function rB(e,t){const n=t||e,r=n.includes(".sequences.")?".sequences.":n.includes(".se.")?".se.":!1,i=r!==!1&&n.startsWith("$"),o=e.includes(".sequences.")?".sequences.":e.includes(".se.")?".se.":!1,s=o?e.split(o).at(-1):e,a=i?n.split(r)[0].slice(1):void 0;return{isLibraryImport:i,label:s,importedLibraryName:a}}function _zt(e,t){const n=[],r=new Set;return t.components.forEach(i=>{typeof i!="string"&&i.orderPath&&r.add(i.orderPath)}),e.components.forEach(i=>{typeof i!="string"&&i.orderPath&&!r.has(i.orderPath)&&n.push(i)}),n}function Ezt(e,t){const n=[],r=new Set;return t.components.forEach(i=>{typeof i=="string"&&r.add(i)}),e.components.forEach(i=>{typeof i=="string"&&!r.has(i)&&n.push(i)}),n}function wq({participantSequence:e,participantAnswers:t,studyConfig:n,isAnalysis:r}){const[u,c]=A.useState({}),[d,f]=A.useState({}),[h,m]=A.useState([]),[p,g]=A.useState([]),v=A.useRef(new Map),y=uf(),w=ca(),_=qa(),E=A.useMemo(()=>{let N=structuredClone(n.sequence);return N=JCe(N,"root"),N.components.push("end"),N},[n.sequence]),S=A.useMemo(()=>{const N=new Map;return Object.entries(n.components).forEach(([M,O])=>{O.response&&N.set(M,xzt(O.response))}),N},[n.components]);A.useEffect(()=>{let N=[];if(e===void 0)N=Object.keys(n.components).map(O=>{const{label:j,isLibraryImport:U,importedLibraryName:q}=yI(O);return{type:"component",label:j,indentLevel:0,path:`browse.${O}`,href:`/${y}/reviewer-${O}`,isLibraryImport:U,importedLibraryName:q,componentName:O}});else{const O=new Map,j=new Map;let U=0,q=0;const W=(V,z,L,H,B=!1)=>{if(typeof V=="string"){const{label:re,isLibraryImport:ee,importedLibraryName:fe}=yI(V),Re=B?`${L.id}_${U}_${V}_${q}`:`${V}_${U}`,Oe=`${H}.${V}_${B?q:U}`;N.push({type:"component",label:re,indentLevel:z,path:Oe,isLibraryImport:ee,importedLibraryName:fe,href:B?`/${y}/${di(U)}/${di(q)}`:`/${y}/${di(U)}`,isInterruption:(L.interruptions||[]).flatMap(Ae=>Ae.components).includes(V),component:n.components[V],componentAnswer:t[Re],componentName:V}),B?q+=1:U+=1;return}const Y=(V.interruptions||[]).flatMap(re=>re.components),Q=`${H}.${V.id??V.order}`,ne=V.orderPath||Q;let ce=O.get(ne);ce===void 0&&(ce=Czt(V,E),O.set(ne,ce));let le=j.get(V);le===void 0&&(le=rS(V,t),j.set(V,le));let ue=j.get(ce||V);ue===void 0&&(ue=rS(ce||V,t),ce&&j.set(ce,ue));const ae=V.id??V.order,te=vI(V)||vI(ce),{label:se,isLibraryImport:we,importedLibraryName:X}=rB(String(ae),te);N.push({type:"block",label:se,indentLevel:z,path:Q,order:V.order,orderPath:V.orderPath,conditional:V.conditional,numInterruptions:V.components.filter(re=>typeof re=="string"&&Y.includes(re)).length,numComponentsInSequence:le,numComponentsInStudySequence:ue,isLibraryImport:we,importedLibraryName:X}),V.order==="dynamic"&&(q=0);const he=wzt(V,t,U),ge=[...V.components,...he];ge.length>0&&ge.forEach(re=>{W(re,z+1,V,Q,V.order==="dynamic")}),V.order==="dynamic"&&(U+=1),ce&&(Ezt(ce,V).forEach(fe=>{const{label:Re,isLibraryImport:Oe,importedLibraryName:Ae}=yI(fe),Se=`${Q}.${fe}_excluded`;N.push({type:"component",label:Re,indentLevel:z+1,path:Se,isLibraryImport:Oe,importedLibraryName:Ae,component:n.components[fe],componentName:fe,isExcluded:!0})}),_zt(ce,V).forEach(fe=>{const Re=`${Q}.${fe.id??fe.order}_excluded`,Oe=fe.id??fe.order,{label:Ae,isLibraryImport:Se,importedLibraryName:xe}=rB(String(Oe),vI(fe));N.push({type:"block",label:Ae,indentLevel:z+1,path:Re,order:fe.order,orderPath:fe.orderPath,numInterruptions:0,numComponentsInSequence:0,numComponentsInStudySequence:rS(fe,t),isLibraryImport:Se,importedLibraryName:xe,isExcluded:!0});const ke=(me,Me,ze)=>{me.components.forEach(Xe=>{if(typeof Xe=="string"){const{label:tt,isLibraryImport:gt,importedLibraryName:qt}=yI(Xe),zt=`${ze}.${Xe}_excluded`;N.push({type:"component",label:tt,indentLevel:Me,path:zt,isLibraryImport:gt,importedLibraryName:qt,component:n.components[Xe],componentName:Xe,isExcluded:!0})}else{const tt=`${ze}.${Xe.id??Xe.order}_excluded`,gt=Xe.id??Xe.order,{label:qt,isLibraryImport:zt,importedLibraryName:_n}=rB(String(gt),vI(Xe));N.push({type:"block",label:qt,indentLevel:Me,path:tt,order:Xe.order,orderPath:Xe.orderPath,numInterruptions:0,numComponentsInSequence:0,numComponentsInStudySequence:rS(Xe,t),isLibraryImport:zt,importedLibraryName:_n,isExcluded:!0}),ke(Xe,Me+1,tt)}})};ke(fe,z+2,Re)}))};W(e,0,e,"root")}for(let O=0;O<N.length;O+=1){const j=N[O];if(j.type==="block"){const U=j.indentLevel;let q=O+1;for(;q<N.length&&N[q].indentLevel>U;)q+=1;j.childrenRange={start:O+1,end:q}}}v.current.clear(),N.forEach((O,j)=>{v.current.set(O.path,j)});const M=Object.fromEntries(N.map(O=>O.type==="component"&&O.href?[O.href,6]:null).filter(O=>O!==null));c(structuredClone(M)),f(structuredClone(M)),m(N),g(N)},[E,t,e,n.components,y]);const T=A.useCallback((N,M)=>{g(O=>{const j=M.indentLevel;if(M.type==="block"&&M.childrenRange&&h.length>0){const{start:q,end:W}=M.childrenRange,V=new Set(h.slice(q,W).map(L=>L.path));let z=N+1;for(;z<O.length&&V.has(O[z].path);)z+=1;return[...O.slice(0,N+1),...O.slice(z)]}let U=N+1;for(;U<O.length&&O[U].indentLevel>j;)U+=1;return[...O.slice(0,N+1),...O.slice(U)]})},[h]),k=A.useCallback((N,M)=>{g(O=>{const{start:j,end:U}=M.type==="block"?M.childrenRange??{start:0,end:0}:{start:0,end:0},q=[],W=M.indentLevel,V=new Set(O.map(L=>L.path)),z=new Set;for(let L=j;L<U;L+=1){const H=h[L];if(H.indentLevel===W+1)q.push(H),z.add(H.path);else if(H.indentLevel>W+1){const B=v.current.get(H.path);if(B!==void 0){let Y=B-1;for(;Y>=0&&h[Y].indentLevel>=H.indentLevel;)Y-=1;if(Y>=0){const Q=h[Y];if(Q){const ne=Q.path===M.path,ce=V.has(Q.path),le=z.has(Q.path);(ne||ce||le)&&(q.push(H),z.add(H.path))}}}}}return[...O.slice(0,N+1),...q,...O.slice(N+1)]})},[h]),R=A.useRef(null),I=p.length,P=bzt({count:I,getScrollElement:()=>R.current,estimateSize:()=>32,overscan:10});return b.jsx(De,{ref:R,style:{height:"100%",overflow:"auto",position:"relative"},children:b.jsx(De,{style:{height:`${P.getTotalSize()}px`,position:"relative",width:"100%"},children:P.getVirtualItems().map(N=>{const M=N.index,O=p[M],{label:j,indentLevel:U,isExcluded:q}=O,W=O.type==="component"?O:void 0,V=O.type==="block"?O:void 0,z=!!W,{href:L,isInterruption:H,component:B,componentAnswer:Y,componentName:Q,isLibraryImport:ne,importedLibraryName:ce}=W??{},{order:le,orderPath:ue,conditional:ae,numInterruptions:te,numComponentsInSequence:se,numComponentsInStudySequence:we,isLibraryImport:X,importedLibraryName:he}=V??{},ge=z?ne:X,re=z?ce:he,ee=Y?.correctAnswer?.length?Y.correctAnswer:B?.correctAnswer,fe=ee&&Y&&Object.keys(Y.answer).length>0&&UT(Y.answer,ee),Re=ee&&Y&&Y?.endTime>-1?fe?b.jsx(Ch,{size:16,style:{marginRight:4,flexShrink:0},color:"green"}):b.jsx(am,{size:16,style:{marginRight:4,flexShrink:0},color:"red"}):null,Oe=ee?JSON.stringify(ee,null,2):void 0,Ae=B&&JSON.stringify(B.response,null,2),Se=Y&&"parameters"in Y?Y.parameters:B&&"parameters"in B?B.parameters:void 0,xe=!z&&(p[M+1]?.indentLevel===void 0||p[M+1]?.indentLevel<=U);return b.jsx(De,{style:{position:"absolute",top:0,left:0,width:"100%",height:32,transform:`translateY(${N.start}px)`},children:b.jsxs(ch,{withinPortal:!0,position:"left",withArrow:!0,arrowSize:10,shadow:"md",offset:0,closeDelay:0,children:[b.jsx(TW,{h:32,pl:U*24+12,onClick:()=>{z&&L&&!q?w(r?`/analysis/stats/${y}/stats/${encodeURIComponent(String(Q))}${_.search}`:`${L}${_.search}`):z||(xe?k(M,p[M]):T(M,p[M]))},active:!q&&L===_.pathname,disabled:q&&z,style:{opacity:q?.5:1,cursor:q&&z?"not-allowed":"pointer"},rightSection:z?void 0:b.jsx(uwe,{size:16,stroke:1.5,style:{cursor:"pointer",transform:xe?"rotate(180deg)":"none",transition:"transform 0.2s"}}),label:b.jsxs(lt,{align:"center",children:[H&&b.jsx(ct,{label:"Interruption",position:"right",withArrow:!0,children:b.jsx(wGe,{size:16,style:{marginRight:4,flexShrink:0},color:"orange"})}),ge&&b.jsx(ct,{label:re?`Imported from ${re}`:"Package import",position:"right",withArrow:!0,children:b.jsx(gKe,{size:16,style:{marginRight:4,flexShrink:0},color:"blue"})}),!z&&ae&&b.jsx(ct,{label:`Condition: ${j}`,position:"right",withArrow:!0,children:b.jsx(gGe,{size:16,style:{marginRight:4,flexShrink:0},color:"green"})}),(B?.responseOrder==="random"||!e&&Q&&n.components[Q]?.responseOrder==="random")&&b.jsx(ct,{label:"Random responses",position:"right",withArrow:!0,children:b.jsx(gYe,{size:16,opacity:.8,style:{marginRight:4,flexShrink:0},color:"black"})}),Q&&S.get(Q)&&b.jsx(ct,{label:"Random options",position:"right",withArrow:!0,children:b.jsx(vYe,{size:16,opacity:.8,style:{marginRight:4,flexShrink:0},color:"black"})}),Re,b.jsx($e,{size:"sm",title:ue??j,fw:z?void 0:700,style:{textWrap:"nowrap",flexGrow:1,width:0,textOverflow:"ellipsis",overflow:"hidden"},children:j}),z&&j!=="end"&&b.jsx(ch.Target,{children:b.jsx(kc,{size:16,style:{marginLeft:"5px",verticalAlign:"middle"},opacity:.5})}),le==="random"||le==="latinSquare"?b.jsx(ct,{label:le,position:"right",withArrow:!0,children:b.jsx(iGe,{size:"15",opacity:.5,style:{marginLeft:"5px",verticalAlign:"middle"}})}):null,!z&&!q&&b.jsxs(Ii,{ml:5,variant:"light",children:[(se||0)-(te||0),"/",we]}),!z&&q&&b.jsx(Ii,{ml:5,color:"gray",variant:"light",children:"Excluded"}),te!==void 0&&te>0&&b.jsx(Ii,{ml:5,color:"orange",variant:"light",children:te})]})}),z&&b.jsx(ch.Dropdown,{children:b.jsxs(De,{mah:700,maw:500,style:{overflow:"auto"},children:[b.jsxs(De,{children:[b.jsx($e,{fw:900,display:"inline-block",mr:2,children:"Name:"})," ",b.jsx($e,{fw:400,component:"span",children:j})]}),B&&B.description&&b.jsxs(De,{children:[b.jsx($e,{fw:900,display:"inline-block",mr:2,children:"Description:"})," ",b.jsx($e,{fw:400,component:"span",children:B.description})]}),Se&&b.jsxs(De,{children:[b.jsx($e,{fw:900,display:"inline-block",mr:2,children:"Parameters:"})," ",b.jsx(ku,{block:!0,children:JSON.stringify(Se,null,2)})]}),Y&&Object.keys(Y.answer).length>0&&b.jsxs(De,{children:[b.jsxs($e,{fw:900,display:"inline-block",mr:2,children:[Re,"Participant Answer:"]})," ",b.jsx(ku,{block:!0,children:JSON.stringify(Y.answer,null,2)})]}),Oe&&b.jsxs(De,{children:[b.jsx($e,{fw:900,display:"inline-block",mr:2,children:"Correct Answer:"})," ",b.jsxs(ku,{block:!0,children:[b.jsx($e,{size:"xs",lineClamp:u[L],children:Oe}),Oe.split(`
`).length>6&&b.jsx(lt,{justify:"flex-end",children:(u[L]===void 0||Oe.split(`
`).length>(u[L]||-1))&&b.jsx(Mt,{variant:"light",size:"xs",onClick:()=>{c(ke=>({...ke,[L]:ke[L]===6?void 0:6}))},children:u[L]!==void 0?"Show more":"Show less"})})]})]}),B&&Ae&&b.jsxs(De,{children:[b.jsx($e,{fw:900,display:"inline-block",mr:2,children:"Response:"})," ",b.jsxs(ku,{block:!0,children:[b.jsx($e,{size:"xs",lineClamp:d[L],children:JSON.stringify(B.response,null,2)}),Ae.split(`
`).length>6&&b.jsx(lt,{justify:"flex-end",children:(d[L]===void 0||Ae.split(`
`).length>(d[L]||-1))&&b.jsx(Mt,{variant:"light",size:"xs",onClick:()=>{f(ke=>({...ke,[L]:ke[L]===6?void 0:6}))},children:d[L]!==void 0?"Show more":"Show less"})})]})]}),B&&B.meta&&b.jsxs(De,{children:[b.jsx($e,{fw:"900",component:"span",children:"Task Meta: "}),b.jsx(ku,{block:!0,children:JSON.stringify(B.meta,null,2)})]})]})})]})},N.key)})})})}function aee(e,t){e?.clearCurrentParticipantId().then(()=>{window.location.href=t}).catch(n=>{console.error(n)})}function rme({text:e}){return b.jsx(ct,{label:e,multiline:!0,w:200,style:{whiteSpace:"normal"},withinPortal:!0,position:"bottom",children:b.jsx(kc,{size:16,style:{marginBottom:-3,marginLeft:4}})})}function Szt(){const e=Hn(h=>h.sequence),t=Hn(h=>h.answers),{toggleStudyBrowser:n}=Qi(),r=Ga(),i=bo(),o=uf(),s=s2(`/${o}`),{storageEngine:a}=ri(),l=lf(),[u,c]=A.useState("participant"),d=A.useMemo(()=>u==="allTrials"||l,[u,l]),f=Hn(h=>h.modes);return b.jsxs(Ri.Aside,{className:"studyBrowser","data-testid":"app-aside",p:"0",children:[b.jsxs(Ri.Section,{p:"sm",pb:0,children:[b.jsxs(lt,{direction:"row",justify:"space-between",children:[b.jsx($e,{size:"md",fw:700,pt:3,children:"Study Browser"}),b.jsx(ct,{label:"Go to the sequence of the next participant in the experiment. Sequences can be different between participants due to randomization, etc.",w:280,multiline:!0,disabled:d,children:b.jsx(Mt,{variant:"light",leftSection:b.jsx(cG,{size:14}),onClick:()=>aee(a,s),size:"xs",disabled:d,children:"Next Participant"})}),b.jsx(Tm,{onClick:()=>i(n()),mt:1})]}),b.jsxs(lt,{direction:"row",justify:"space-between",align:"center",mt:"xs",opacity:.7,children:[b.jsxs($e,{size:"sm",children:["Study Status:"," ",f?.dataCollectionEnabled?"Collecting Data":"Data Collection Disabled"]}),b.jsxs(lt,{gap:"sm",align:"center",children:[b.jsx(ct,{label:"Edit Study Settings",withinPortal:!0,position:"bottom",children:b.jsx(on,{variant:"white","aria-label":"Edit Study Modes",component:"a",href:s2(`/analysis/stats/${o}/manage`),p:0,children:b.jsx(HKe,{style:{width:"70%",height:"70%"},stroke:1.5,size:16})})}),f?.dataSharingEnabled?b.jsx(ct,{label:"Data sharing enabled",multiline:!0,w:200,style:{whiteSpace:"normal"},withinPortal:!0,position:"bottom",children:b.jsx(pwe,{size:16,color:"green"})}):b.jsx(ct,{label:"Data sharing disabled",multiline:!0,w:200,style:{whiteSpace:"normal"},withinPortal:!0,position:"bottom",children:b.jsx(hwe,{size:16,color:"red"})}),a?.getEngine()==="localStorage"?b.jsx(ct,{label:"Local storage enabled",withinPortal:!0,position:"bottom",children:b.jsx(R3,{size:16,color:"green"})}):a?.getEngine()==="firebase"?b.jsx(ct,{label:"Firebase enabled",withinPortal:!0,position:"bottom",children:b.jsx(swe,{size:16,color:"green"})}):a?.getEngine()==="supabase"?b.jsx(ct,{label:"Supabase enabled",withinPortal:!0,position:"bottom",children:b.jsx(uG,{size:16,color:"green"})}):b.jsx(ct,{label:"Unknown storage engine enabled",withinPortal:!0,position:"bottom",children:b.jsx(R3,{size:16,color:"red"})})]})]})]}),b.jsx(Ri.Section,{grow:!0,p:"xs",pt:4,style:{display:"flex",flexDirection:"column",overflow:"hidden"},children:b.jsxs(jn,{value:u,onChange:c,keepMounted:!1,style:{display:"flex",flexDirection:"column",flex:1,overflow:"hidden"},children:[b.jsx(De,{style:{position:"sticky",top:0,backgroundColor:"white",zIndex:1,flexShrink:0},children:b.jsxs(jn.List,{grow:!0,children:[b.jsxs(jn.Tab,{value:"participant",children:["Participant View",b.jsx(rme,{text:"The Participants View shows items just as a participants would see them, considering randomization, omissions, etc. You can navigate between multiple participants using the next participant button."})]}),b.jsxs(jn.Tab,{value:"allTrials",disabled:l,p:"xs",children:["Browse Components",b.jsx(rme,{text:"Browse Components allows you to view all the components that are defined in your study."})]})]})}),b.jsx(jn.Panel,{value:"participant",style:{flex:1,overflow:"hidden"},children:b.jsx(wq,{participantSequence:e,participantAnswers:t,studyConfig:r})}),b.jsx(jn.Panel,{value:"allTrials",style:{flex:1,overflow:"hidden"},children:b.jsx(wq,{participantAnswers:{},studyConfig:r})})]})})]})}function Tzt({developmentModeEnabled:e,dataCollectionEnabled:t}){const n=Hn(V=>V.config),r=Hn(V=>V.answers),i=Hn(V=>V.storageEngineFailedToConnect),o=hC(),s=bo(),{toggleShowHelpText:a,toggleStudyBrowser:l,incrementHelpCounter:u}=Qi(),{storageEngine:c}=ri(),d=df(),f=A.useMemo(()=>$u(n.components[d]||{},n),[d,n]),h=cf(),m=A.useMemo(()=>{const V=Object.values(r).filter(L=>L.endTime>-1).length,z=o.map((L,H)=>n.components[L]?1:typeof h=="number"&&h<=H&&L!=="end"?55:Object.entries(r).filter(([B,Y])=>B.includes(`${L}_`)).length).reduce((L,H)=>L+H,0);return V/z*100},[r,h,o,n.components]),[p,g]=A.useState(!1),v=n?.uiConfig.logoPath,y=A.useMemo(()=>f.withProgressBar??n.uiConfig.withProgressBar,[f,n]),w=A.useMemo(()=>f.showTitle??n.uiConfig.showTitle??!0,[f,n]),_=uf(),E=s2(`/${_}`),S=A.useRef(null),[T,k]=A.useState(!1),R=A.useRef(0),{isScreenRecording:I,isAudioRecording:P,setIsMuted:N,isMuted:M,clickToRecord:O}=a_e(),{funcIndex:j}=Mo();A.useEffect(()=>{const V=S.current;V&&k(V.scrollWidth>V.offsetWidth)},[n]),A.useEffect(()=>{if(n&&c&&t){const V=lst(r,o,n,h,j),z=V.total>0?V.answered.length/V.total*100:0;z!==R.current&&z>0&&!Number.isNaN(z)&&(R.current=z,c.updateProgressData(V).catch(L=>{console.warn("Failed to update progress data:",L)}))}},[r,o,n,h,c,t,j]);const{setAlertModal:U}=Qi(),[q,W]=A.useState(!0);return A.useEffect(()=>{if(!i||!q)return;const V=window.setTimeout(()=>{s(U({show:!0,message:"You may be behind a firewall blocking access, or the server collecting data may be down. Study data will not be saved. If you're taking the study you will not be compensated for your efforts. You are welcome to look around.",title:"Failed to connect to the storage engine"})),W(!1)},5e3);return()=>window.clearTimeout(V)},[q,U,i,s]),b.jsx(Ri.Header,{className:"header",p:"md",children:b.jsxs(so,{mt:-7,align:"center",children:[b.jsx(so.Col,{span:4,children:b.jsxs(lt,{align:"center",children:[b.jsx(Am,{w:40,src:`${Hi}${v}`,alt:"Study Logo",className:"logoImage"}),b.jsx(Ou,{w:"md"}),w?b.jsx(gr,{ref:S,order:4,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:T?n?.studyMetadata.title:void 0,className:"studyTitle",children:n?.studyMetadata.title}):null]})}),b.jsx(so.Col,{span:4,children:y&&b.jsx(H0,{radius:"md",size:"lg",value:m,className:"progressBar"})}),b.jsx(so.Col,{span:4,children:b.jsxs(ln,{wrap:"nowrap",justify:"right",children:[(P||I)&&b.jsxs(ln,{ml:"xl",gap:20,wrap:"nowrap",children:[b.jsxs($e,{c:"red",children:[(P&&!M||I)&&"Recording",I&&" screen",I&&P&&!M&&" and",P&&!M&&" audio"]}),P&&!M&&b.jsx(FG,{}),O?b.jsx(ct,{label:"Press and hold to unmute",children:b.jsx(on,{variant:"light",size:"md","aria-label":"Press and hold to unmute",onMouseDown:()=>N(!1),onMouseUp:()=>N(!0),onTouchStart:()=>N(!1),onTouchEnd:()=>N(!0),children:M?b.jsx(toe,{style:{width:"70%",height:"70%"},stroke:1.5}):b.jsx(noe,{style:{width:"70%",height:"70%"},stroke:1.5})})}):b.jsx(ct,{label:`Press to ${M?"unmute":"mute"}`,children:b.jsx(on,{variant:"light",size:"md","aria-label":"Press and hold to unmute",onClick:()=>N(!M),children:M?b.jsx(toe,{style:{width:"70%",height:"70%"},stroke:1.5}):b.jsx(noe,{style:{width:"70%",height:"70%"},stroke:1.5})})})]}),i&&b.jsx(ct,{multiline:!0,withArrow:!0,arrowSize:6,w:300,label:"Failed to connect to the storage engine. Study data will not be saved. Check your connection or restart the app.",children:b.jsx(Ii,{size:"lg",color:"red",children:"Storage Disconnected"})}),!i&&!t&&b.jsx(ct,{multiline:!0,withArrow:!0,arrowSize:6,w:300,label:"This is a demo version of the study, were not collecting any data.",children:b.jsx(Ii,{size:"lg",color:"orange",children:"Demo Mode"})}),n?.uiConfig.helpTextPath!==void 0&&b.jsx(Mt,{variant:"outline",onClick:()=>{s(a()),s(u({identifier:`${d}_${h}`}))},children:"Help"}),b.jsxs(Rn,{shadow:"md",width:200,withinPortal:!0,opened:p,onChange:g,children:[b.jsx(Rn.Target,{children:b.jsx(on,{size:"lg",className:"studyBrowserMenuDropdown",variant:"subtle",color:"gray",children:b.jsx(dwe,{})})}),b.jsxs(Rn.Dropdown,{children:[e&&b.jsx(Rn.Item,{leftSection:b.jsx(bwe,{size:14}),onClick:()=>s(l()),children:"Study Browser"}),b.jsx(Rn.Item,{component:"a",href:n!==null?`mailto:${n.uiConfig.contactEmail}`:void 0,leftSection:b.jsx(oKe,{size:14}),children:"Contact"}),e&&b.jsx(Rn.Item,{leftSection:b.jsx(cG,{size:14}),onClick:()=>aee(c,E),children:"Next Participant"}),e&&b.jsx(Rn.Item,{leftSection:b.jsx(awe,{size:14}),component:"a",href:`${Hi}analysis/stats/${_}`,children:"Analyze & Manage"})]})]})]})})]})})}function kzt({width:e,top:t,sidebarOpen:n}){const r=Ga(),i=df(),o=r.components[i],s=A.useMemo(()=>o?$u(o,r):null,[o,r]),a=Om(),l=s?.instruction||"",c=A.useMemo(()=>s?.instructionLocation??r.uiConfig.instructionLocation??"sidebar",[s,r])==="sidebar";return s?b.jsxs(De,{className:"sidebar",bg:"gray.1",display:n?"block":"none",style:{zIndex:0,marginTop:t,position:"relative"},w:e,miw:e,children:[c&&l!==""&&b.jsxs(De,{bg:"gray.3",p:"md",children:[b.jsx($e,{span:!0,c:"orange.8",fw:700,inherit:!0,children:"Task:"}),b.jsx(_h,{text:l})]}),b.jsx(De,{p:"md",children:b.jsx(Hz,{status:a,config:s,location:"sidebar"},`${i}-sidebar-response-block`)})]}):null}function Azt(){const e=Hn(h=>h.showHelpText),t=Hn(h=>h.config),n=bo(),{toggleShowHelpText:r}=Qi(),[i,o]=A.useState(!0),[s,a]=A.useState(""),[l,u]=A.useState(!0),c=df(),d=A.useMemo(()=>$u(t.components[c]||{},t),[c,t]),f=A.useMemo(()=>d.helpTextPath??t.uiConfig.helpTextPath,[d.helpTextPath,t.uiConfig.helpTextPath]);return A.useEffect(()=>{async function h(){if(!f){o(!1),u(!1);return}const m=await TM(`${Hi}${f}`);m!==void 0?a(m):o(!1),u(!1)}h()},[f]),b.jsx(ni,{className:"helpModal",size:"70%",opened:e,withCloseButton:!1,onClose:()=>n(r()),children:l||i?b.jsx(_h,{text:s}):b.jsx(dm,{path:t.uiConfig.helpTextPath})})}function Rzt(){const e=Hn(g=>g.alertModal),t=Hn(g=>g.config),n=Hn(g=>g.studyId),r=Hn(g=>g.participantId),i=Hn(g=>g.metadata),{setAlertModal:o}=Qi(),s=bo(),[a,l]=A.useState(e.show),[u,c]=A.useState(!1),d=A.useCallback(()=>s(o({...e,show:!1,title:""})),[e,o,s]);A.useEffect(()=>l(e.show),[e.show]);const f=e.title==="Failed to connect to the storage engine",h=A.useMemo(()=>!a||!f?"":`Study ID: ${n}
URL: ${window.location.href}
Participant ID: ${r}
Timestamp (UTC): ${new Date().toISOString()}
Storage Engine: localStorage
User Agent: ${i.userAgent}
Resolution: ${JSON.stringify(i.resolution,null,2)}
IP: ${i.ip}
Language: ${i.language}`,[a,f,n,r,i]),m=A.useMemo(()=>{const g=encodeURIComponent(`Storage Connection Issue (${n})`),v=encodeURIComponent(`I encountered a storage connection issue while taking a study.

 Warning message:
${e.message}

Diagnostics information:
${h}`);return`mailto:${t.uiConfig.contactEmail}?subject=${g}&body=${v}`},[e.message,h,t.uiConfig.contactEmail,n]),p=A.useCallback(async()=>{try{if(!window.isSecureContext||!navigator.clipboard?.writeText)return;await navigator.clipboard.writeText(h),c(!0),setTimeout(()=>c(!1),1e3)}catch{}},[h]);return b.jsx(ni,{opened:a,centered:!0,size:f?"70%":"lg",withCloseButton:!1,onClose:d,children:b.jsxs(pl,{color:"red",radius:"xs",title:e.title,icon:b.jsx(owe,{}),onClose:d,styles:{root:{backgroundColor:"unset"}},children:[b.jsxs($e,{my:"xs",children:[e.message,f&&b.jsxs(b.Fragment,{children:[b.jsx("br",{}),b.jsx("br",{}),"Please email if you need help"," ",b.jsx(B0,{href:m,children:t.uiConfig.contactEmail})," ","and include the following details to help us troubleshoot the issue:"]})]}),f&&b.jsxs(De,{pos:"relative",children:[b.jsx(on,{variant:"subtle",color:"gray",onClick:p,style:{position:"absolute",top:6,right:6},children:u?b.jsx(Ch,{size:16}):b.jsx(Z4,{size:16})}),b.jsx(ku,{block:!0,children:h})]}),b.jsx(ln,{w:"100%",justify:"end",children:b.jsx(Mt,{onClick:d,color:"red",variant:"filled",m:"xs",children:"Continue Study"})})]})})}function Izt(){const e=Hn(c=>c.isStalledConfig),t=Hn(c=>c.modes.developmentModeEnabled),r=Ga()?.uiConfig?.contactEmail,i=lf(),[o,s]=A.useState(e&&!i);A.useEffect(()=>{if(e&&!i){s(!0);return}s(!1)},[i,e]),A.useEffect(()=>{if(!o)return;const c=window.setTimeout(()=>s(!1),1e4);return()=>window.clearTimeout(c)},[o]);const{storageEngine:a}=ri(),l=uf(),u=s2(`/${l}`);return o?b.jsx(PV,{position:{top:20,right:20},zIndex:300,children:b.jsxs(pl,{color:"yellow",radius:"sm",title:"Study Configuration Has Changed",icon:b.jsx(owe,{}),w:420,withCloseButton:!0,onClose:()=>s(!1),styles:{root:{backgroundColor:"var(--mantine-color-yellow-1)",borderColor:"var(--mantine-color-yellow-4)",opacity:1}},children:[b.jsx($e,{my:"md",children:t?'The study configuration has changed since this participant session started. You might need to click "Next Participant" to refresh and load the latest version.':`The study configuration has changed since this participant session started. Please contact the study administrator${r?` at ${r}`:""}.`}),t&&b.jsx(ln,{w:"100%",justify:"end",children:b.jsx(Mt,{onClick:()=>aee(a,u),color:"yellow",variant:"filled",children:"Next Participant"})})]})}):null}var xq="http://www.w3.org/1999/xhtml";const ime={svg:"http://www.w3.org/2000/svg",xhtml:xq,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function X5(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),ime.hasOwnProperty(t)?{space:ime[t],local:e}:e}function Dzt(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===xq&&t.documentElement.namespaceURI===xq?t.createElement(e):t.createElementNS(n,e)}}function Pzt(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function l4e(e){var t=X5(e);return(t.local?Pzt:Dzt)(t)}function Ozt(){}function lee(e){return e==null?Ozt:function(){return this.querySelector(e)}}function Nzt(e){typeof e!="function"&&(e=lee(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),l,u,c=0;c<s;++c)(l=o[c])&&(u=e.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new Ku(r,this._parents)}function Mzt(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function $zt(){return[]}function u4e(e){return e==null?$zt:function(){return this.querySelectorAll(e)}}function Lzt(e){return function(){return Mzt(e.apply(this,arguments))}}function Fzt(e){typeof e=="function"?e=Lzt(e):e=u4e(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&(r.push(e.call(l,l.__data__,u,s)),i.push(l));return new Ku(r,i)}function c4e(e){return function(){return this.matches(e)}}function d4e(e){return function(t){return t.matches(e)}}var jzt=Array.prototype.find;function Bzt(e){return function(){return jzt.call(this.children,e)}}function zzt(){return this.firstElementChild}function Uzt(e){return this.select(e==null?zzt:Bzt(typeof e=="function"?e:d4e(e)))}var Hzt=Array.prototype.filter;function qzt(){return Array.from(this.children)}function Vzt(e){return function(){return Hzt.call(this.children,e)}}function Wzt(e){return this.selectAll(e==null?qzt:Vzt(typeof e=="function"?e:d4e(e)))}function Gzt(e){typeof e!="function"&&(e=c4e(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new Ku(r,this._parents)}function f4e(e){return new Array(e.length)}function Yzt(){return new Ku(this._enter||this._groups.map(f4e),this._parents)}function UN(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}UN.prototype={constructor:UN,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Kzt(e){return function(){return e}}function Xzt(e,t,n,r,i,o){for(var s=0,a,l=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new UN(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function Qzt(e,t,n,r,i,o,s){var a,l,u=new Map,c=t.length,d=o.length,f=new Array(c),h;for(a=0;a<c;++a)(l=t[a])&&(f[a]=h=s.call(l,l.__data__,a,t)+"",u.has(h)?i[a]=l:u.set(h,l));for(a=0;a<d;++a)h=s.call(e,o[a],a,o)+"",(l=u.get(h))?(r[a]=l,l.__data__=o[a],u.delete(h)):n[a]=new UN(e,o[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(f[a])===l&&(i[a]=l)}function Jzt(e){return e.__data__}function Zzt(e,t){if(!arguments.length)return Array.from(this,Jzt);var n=t?Qzt:Xzt,r=this._parents,i=this._groups;typeof e!="function"&&(e=Kzt(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],d=i[u],f=d.length,h=eUt(e.call(c,c&&c.__data__,u,r)),m=h.length,p=a[u]=new Array(m),g=s[u]=new Array(m),v=l[u]=new Array(f);n(c,d,p,g,v,h,t);for(var y=0,w=0,_,E;y<m;++y)if(_=p[y]){for(y>=w&&(w=y+1);!(E=g[w])&&++w<m;);_._next=E||null}}return s=new Ku(s,r),s._enter=a,s._exit=l,s}function eUt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tUt(){return new Ku(this._exit||this._groups.map(f4e),this._parents)}function nUt(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function rUt(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var u=n[l],c=r[l],d=u.length,f=a[l]=new Array(d),h,m=0;m<d;++m)(h=u[m]||c[m])&&(f[m]=h);for(;l<i;++l)a[l]=n[l];return new Ku(a,this._parents)}function iUt(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function oUt(e){e||(e=sUt);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),u,c=0;c<a;++c)(u=s[c])&&(l[c]=u);l.sort(t)}return new Ku(i,this._parents).order()}function sUt(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function aUt(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function lUt(){return Array.from(this)}function uUt(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function cUt(){let e=0;for(const t of this)++e;return e}function dUt(){return!this.node()}function fUt(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function hUt(e){return function(){this.removeAttribute(e)}}function pUt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function mUt(e,t){return function(){this.setAttribute(e,t)}}function gUt(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function yUt(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function vUt(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function bUt(e,t){var n=X5(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?pUt:hUt:typeof t=="function"?n.local?vUt:yUt:n.local?gUt:mUt)(n,t))}function h4e(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function wUt(e){return function(){this.style.removeProperty(e)}}function xUt(e,t,n){return function(){this.style.setProperty(e,t,n)}}function CUt(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function _Ut(e,t,n){return arguments.length>1?this.each((t==null?wUt:typeof t=="function"?CUt:xUt)(e,t,n??"")):Wx(this.node(),e)}function Wx(e,t){return e.style.getPropertyValue(t)||h4e(e).getComputedStyle(e,null).getPropertyValue(t)}function EUt(e){return function(){delete this[e]}}function SUt(e,t){return function(){this[e]=t}}function TUt(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function kUt(e,t){return arguments.length>1?this.each((t==null?EUt:typeof t=="function"?TUt:SUt)(e,t)):this.node()[e]}function p4e(e){return e.trim().split(/^|\s+/)}function uee(e){return e.classList||new m4e(e)}function m4e(e){this._node=e,this._names=p4e(e.getAttribute("class")||"")}m4e.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function g4e(e,t){for(var n=uee(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function y4e(e,t){for(var n=uee(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function AUt(e){return function(){g4e(this,e)}}function RUt(e){return function(){y4e(this,e)}}function IUt(e,t){return function(){(t.apply(this,arguments)?g4e:y4e)(this,e)}}function DUt(e,t){var n=p4e(e+"");if(arguments.length<2){for(var r=uee(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?IUt:t?AUt:RUt)(n,t))}function PUt(){this.textContent=""}function OUt(e){return function(){this.textContent=e}}function NUt(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function MUt(e){return arguments.length?this.each(e==null?PUt:(typeof e=="function"?NUt:OUt)(e)):this.node().textContent}function $Ut(){this.innerHTML=""}function LUt(e){return function(){this.innerHTML=e}}function FUt(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function jUt(e){return arguments.length?this.each(e==null?$Ut:(typeof e=="function"?FUt:LUt)(e)):this.node().innerHTML}function BUt(){this.nextSibling&&this.parentNode.appendChild(this)}function zUt(){return this.each(BUt)}function UUt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function HUt(){return this.each(UUt)}function qUt(e){var t=typeof e=="function"?e:l4e(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function VUt(){return null}function WUt(e,t){var n=typeof e=="function"?e:l4e(e),r=t==null?VUt:typeof t=="function"?t:lee(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function GUt(){var e=this.parentNode;e&&e.removeChild(this)}function YUt(){return this.each(GUt)}function KUt(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function XUt(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function QUt(e){return this.select(e?XUt:KUt)}function JUt(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ZUt(e){return function(t){e.call(this,t,this.__data__)}}function eHt(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function tHt(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function nHt(e,t,n){return function(){var r=this.__on,i,o=ZUt(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function rHt(e,t,n){var r=eHt(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(a=t?nHt:tHt,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function v4e(e,t,n){var r=h4e(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function iHt(e,t){return function(){return v4e(this,e,t)}}function oHt(e,t){return function(){return v4e(this,e,t.apply(this,arguments))}}function sHt(e,t){return this.each((typeof t=="function"?oHt:iHt)(e,t))}function*aHt(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var b4e=[null];function Ku(e,t){this._groups=e,this._parents=t}function Kk(){return new Ku([[document.documentElement]],b4e)}function lHt(){return this}Ku.prototype=Kk.prototype={constructor:Ku,select:Nzt,selectAll:Fzt,selectChild:Uzt,selectChildren:Wzt,filter:Gzt,data:Zzt,enter:Yzt,exit:tUt,join:nUt,merge:rUt,selection:lHt,order:iUt,sort:oUt,call:aUt,nodes:lUt,node:uUt,size:cUt,empty:dUt,each:fUt,attr:bUt,style:_Ut,property:kUt,classed:DUt,text:MUt,html:jUt,raise:zUt,lower:HUt,append:qUt,insert:WUt,remove:YUt,clone:QUt,datum:JUt,on:rHt,dispatch:sHt,[Symbol.iterator]:aHt};function uHt(e){return typeof e=="string"?new Ku([[document.querySelector(e)]],[document.documentElement]):new Ku([[e]],b4e)}var cHt=RQ("start","end","cancel","interrupt"),dHt=[],w4e=0,ome=1,Cq=2,JP=3,sme=4,_q=5,ZP=6;function Q5(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;fHt(e,n,{name:t,index:r,group:i,on:cHt,tween:dHt,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:w4e})}function cee(e,t){var n=_f(e,t);if(n.state>w4e)throw new Error("too late; already scheduled");return n}function tp(e,t){var n=_f(e,t);if(n.state>JP)throw new Error("too late; already running");return n}function _f(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function fHt(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=IQ(o,0,n.time);function o(u){n.state=ome,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,d,f,h;if(n.state!==ome)return l();for(c in r)if(h=r[c],h.name===n.name){if(h.state===JP)return Bde(s);h.state===sme?(h.state=ZP,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=ZP,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(Bde(function(){n.state===JP&&(n.state=sme,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Cq,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Cq){for(n.state=JP,i=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=_q,1),d=-1,f=i.length;++d<f;)i[d].call(e,c);n.state===_q&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=ZP,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function hHt(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>Cq&&r.state<_q,r.state=ZP,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function pHt(e){return this.each(function(){hHt(this,e)})}function mHt(e,t){var n,r;return function(){var i=tp(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function gHt(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=tp(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=a;break}l===u&&i.push(a)}o.tween=i}}function yHt(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=_f(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?mHt:gHt)(n,e,t))}function dee(e,t,n){var r=e._id;return e.each(function(){var i=tp(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return _f(i,r).value[t]}}function x4e(e,t){var n;return(typeof t=="number"?gc:t instanceof Gv?N2:(n=Gv(t))?(t=n,N2):oX)(e,t)}function vHt(e){return function(){this.removeAttribute(e)}}function bHt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function wHt(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function xHt(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function CHt(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function _Ht(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function EHt(e,t){var n=X5(e),r=n==="transform"?UTe:x4e;return this.attrTween(e,typeof t=="function"?(n.local?_Ht:CHt)(n,r,dee(this,"attr."+e,t)):t==null?(n.local?bHt:vHt)(n):(n.local?xHt:wHt)(n,r,t))}function SHt(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function THt(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function kHt(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&THt(e,o)),n}return i._value=t,i}function AHt(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&SHt(e,o)),n}return i._value=t,i}function RHt(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=X5(e);return this.tween(n,(r.local?kHt:AHt)(r,t))}function IHt(e,t){return function(){cee(this,e).delay=+t.apply(this,arguments)}}function DHt(e,t){return t=+t,function(){cee(this,e).delay=t}}function PHt(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?IHt:DHt)(t,e)):_f(this.node(),t).delay}function OHt(e,t){return function(){tp(this,e).duration=+t.apply(this,arguments)}}function NHt(e,t){return t=+t,function(){tp(this,e).duration=t}}function MHt(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?OHt:NHt)(t,e)):_f(this.node(),t).duration}function $Ht(e,t){if(typeof t!="function")throw new Error;return function(){tp(this,e).ease=t}}function LHt(e){var t=this._id;return arguments.length?this.each($Ht(t,e)):_f(this.node(),t).ease}function FHt(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;tp(this,e).ease=n}}function jHt(e){if(typeof e!="function")throw new Error;return this.each(FHt(this._id,e))}function BHt(e){typeof e!="function"&&(e=c4e(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&a.push(l);return new bm(r,this._parents,this._name,this._id)}function zHt(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=t[a],u=n[a],c=l.length,d=s[a]=new Array(c),f,h=0;h<c;++h)(f=l[h]||u[h])&&(d[h]=f);for(;a<r;++a)s[a]=t[a];return new bm(s,this._parents,this._name,this._id)}function UHt(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function HHt(e,t,n){var r,i,o=UHt(t)?cee:tp;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function qHt(e,t){var n=this._id;return arguments.length<2?_f(this.node(),n).on.on(e):this.each(HHt(n,e,t))}function VHt(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function WHt(){return this.on("end.remove",VHt(this._id))}function GHt(e){var t=this._name,n=this._id;typeof e!="function"&&(e=lee(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,u=o[s]=new Array(l),c,d,f=0;f<l;++f)(c=a[f])&&(d=e.call(c,c.__data__,f,a))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,Q5(u[f],t,n,f,u,_f(c,n)));return new bm(o,this._parents,t,n)}function YHt(e){var t=this._name,n=this._id;typeof e!="function"&&(e=u4e(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var f=e.call(c,c.__data__,d,l),h,m=_f(c,n),p=0,g=f.length;p<g;++p)(h=f[p])&&Q5(h,t,n,p,f,m);o.push(f),s.push(c)}return new bm(o,s,t,n)}var KHt=Kk.prototype.constructor;function XHt(){return new KHt(this._groups,this._parents)}function QHt(e,t){var n,r,i;return function(){var o=Wx(this,e),s=(this.style.removeProperty(e),Wx(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function C4e(e){return function(){this.style.removeProperty(e)}}function JHt(e,t,n){var r,i=n+"",o;return function(){var s=Wx(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function ZHt(e,t,n){var r,i,o;return function(){var s=Wx(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),Wx(this,e))),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}function eqt(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var l=tp(this,e),u=l.on,c=l.value[o]==null?a||(a=C4e(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),l.on=r}}function tqt(e,t,n){var r=(e+="")=="transform"?zTe:x4e;return t==null?this.styleTween(e,QHt(e,r)).on("end.style."+e,C4e(e)):typeof t=="function"?this.styleTween(e,ZHt(e,r,dee(this,"style."+e,t))).each(eqt(this._id,e)):this.styleTween(e,JHt(e,r,t),n).on("end.style."+e,null)}function nqt(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function rqt(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&nqt(e,s,n)),r}return o._value=t,o}function iqt(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,rqt(e,t,n??""))}function oqt(e){return function(){this.textContent=e}}function sqt(e){return function(){var t=e(this);this.textContent=t??""}}function aqt(e){return this.tween("text",typeof e=="function"?sqt(dee(this,"text",e)):oqt(e==null?"":e+""))}function lqt(e){return function(t){this.textContent=e.call(this,t)}}function uqt(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&lqt(i)),t}return r._value=e,r}function cqt(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,uqt(e))}function dqt(){for(var e=this._name,t=this._id,n=_4e(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)if(l=s[u]){var c=_f(l,t);Q5(l,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new bm(r,this._parents,e,n)}function fqt(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var u=tp(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),i===0&&o()})}var hqt=0;function bm(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function _4e(){return++hqt}var yp=Kk.prototype;bm.prototype={constructor:bm,select:GHt,selectAll:YHt,selectChild:yp.selectChild,selectChildren:yp.selectChildren,filter:BHt,merge:zHt,selection:XHt,transition:dqt,call:yp.call,nodes:yp.nodes,node:yp.node,size:yp.size,empty:yp.empty,each:yp.each,on:qHt,attr:EHt,attrTween:RHt,style:tqt,styleTween:iqt,text:aqt,textTween:cqt,remove:WHt,tween:yHt,delay:PHt,duration:MHt,ease:LHt,easeVarying:jHt,end:fqt,[Symbol.iterator]:yp[Symbol.iterator]};function pqt(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var mqt={time:null,delay:0,duration:250,ease:pqt};function gqt(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function yqt(e){var t,n;e instanceof bm?(t=e._id,e=e._name):(t=_4e(),(n=mqt).time=P6(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&Q5(l,e,t,u,s,n||gqt(l,t));return new bm(r,this._parents,e,t)}Kk.prototype.interrupt=pHt;Kk.prototype.transition=yqt;function iS(e,t,n){this.k=e,this.x=t,this.y=n}iS.prototype={constructor:iS,scale:function(e){return e===1?this:new iS(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new iS(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};iS.prototype;const vqt=A.createContext(null);function ll(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(u){try{l(r.next(u))}catch(c){o(c)}}function a(u){try{l(r.throw(u))}catch(c){o(c)}}function l(u){var c;u.done?i(u.value):(c=u.value,c instanceof n?c:new n((function(d){d(c)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))}class Xk{constructor(){this.listeners={}}on(t,n,r){if(this.listeners[t]||(this.listeners[t]=new Set),r?.once){const i=(...o)=>{this.un(t,i),n(...o)};return this.listeners[t].add(i),()=>this.un(t,i)}return this.listeners[t].add(n),()=>this.un(t,n)}un(t,n){var r;(r=this.listeners[t])===null||r===void 0||r.delete(n)}once(t,n){return this.on(t,n,{once:!0})}unAll(){this.listeners={}}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach((r=>r(...n)))}}const bI={decode:function(e,t){return ll(this,void 0,void 0,(function*(){const n=new AudioContext({sampleRate:t});try{return yield n.decodeAudioData(e)}finally{n.close()}}))},createBuffer:function(e,t){if(!e||e.length===0)throw new Error("channelData must be a non-empty array");if(t<=0)throw new Error("duration must be greater than 0");if(typeof e[0]=="number"&&(e=[e]),!e[0]||e[0].length===0)throw new Error("channelData must contain non-empty channel arrays");(function(r){const i=r[0];if(i.some((o=>o>1||o<-1))){const o=i.length;let s=0;for(let a=0;a<o;a++){const l=Math.abs(i[a]);l>s&&(s=l)}for(const a of r)for(let l=0;l<o;l++)a[l]/=s}})(e);const n=e.map((r=>r instanceof Float32Array?r:Float32Array.from(r)));return{duration:t,length:n[0].length,sampleRate:n[0].length/t,numberOfChannels:n.length,getChannelData:r=>{const i=n[r];if(!i)throw new Error(`Channel ${r} not found`);return i},copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function E4e(e,t){const n=t.xmlns?document.createElementNS(t.xmlns,e):document.createElement(e);for(const[r,i]of Object.entries(t))if(r==="children"&&i)for(const[o,s]of Object.entries(i))s instanceof Node?n.appendChild(s):typeof s=="string"?n.appendChild(document.createTextNode(s)):n.appendChild(E4e(o,s));else r==="style"?Object.assign(n.style,i):r==="textContent"?n.textContent=i:n.setAttribute(r,i.toString());return n}function ame(e,t,n){const r=E4e(e,t||{});return n?.appendChild(r),r}var bqt=Object.freeze({__proto__:null,createElement:ame,default:ame});const wqt={fetchBlob:function(e,t,n){return ll(this,void 0,void 0,(function*(){const r=yield fetch(e,n);if(r.status>=400)throw new Error(`Failed to fetch ${e}: ${r.status} (${r.statusText})`);return(function(i,o){ll(this,void 0,void 0,(function*(){if(!i.body||!i.headers)return;const s=i.body.getReader(),a=Number(i.headers.get("Content-Length"))||0;let l=0;const u=c=>{l+=c?.length||0;const d=Math.round(l/a*100);o(d)};try{for(;;){const c=yield s.read();if(c.done)break;u(c.value)}}catch(c){console.warn("Progress tracking error:",c)}}))})(r.clone(),t),r.blob()}))}};class xqt extends Xk{constructor(t){super(),this.isExternalMedia=!1,t.media?(this.media=t.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),t.mediaControls&&(this.media.controls=!0),t.autoplay&&(this.media.autoplay=!0),t.playbackRate!=null&&this.onMediaEvent("canplay",(()=>{t.playbackRate!=null&&(this.media.playbackRate=t.playbackRate)}),{once:!0})}onMediaEvent(t,n,r){return this.media.addEventListener(t,n,r),()=>this.media.removeEventListener(t,n,r)}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const t=this.getSrc();t.startsWith("blob:")&&URL.revokeObjectURL(t)}canPlayType(t){return this.media.canPlayType(t)!==""}setSrc(t,n){const r=this.getSrc();if(t&&r===t)return;this.revokeSrc();const i=n instanceof Blob&&(this.canPlayType(n.type)||!t)?URL.createObjectURL(n):t;if(r&&this.media.removeAttribute("src"),i||t)try{this.media.src=i}catch{this.media.src=t}}destroy(){this.isExternalMedia||(this.media.pause(),this.revokeSrc(),this.media.removeAttribute("src"),this.media.load(),this.media.remove())}setMediaElement(t){this.media=t}play(){return ll(this,void 0,void 0,(function*(){try{return yield this.media.play()}catch(t){if(t instanceof DOMException&&t.name==="AbortError")return;throw t}}))}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(t){this.media.currentTime=Math.max(0,Math.min(t,this.getDuration()))}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(t){this.media.volume=t}getMuted(){return this.media.muted}setMuted(t){this.media.muted=t}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(t,n){n!=null&&(this.media.preservesPitch=n),this.media.playbackRate=t}getMediaElement(){return this.media}setSinkId(t){return this.media.setSinkId(t)}}function iB(e){return e<0?0:e>1?1:e}function Cqt({maxTop:e,maxBottom:t,halfHeight:n,vScale:r}){const i=Math.round(e*n*r);return{topHeight:i,totalHeight:i+Math.round(t*n*r)||1}}function _qt({barAlign:e,halfHeight:t,topHeight:n,totalHeight:r,canvasHeight:i}){return e==="top"?0:e==="bottom"?i-r:t-n}function lme(e,t,n){const r=t-e.left,i=n-e.top;return[r/e.width,i/e.height]}function S4e(e){return!!(e.barWidth||e.barGap||e.barAlign)}function ume(e,t){if(!S4e(t))return e;const n=t.barWidth||.5,r=n+(t.barGap||n/2);return r===0?e:Math.floor(e/r)*r}function cme({scrollLeft:e,totalWidth:t,numCanvases:n}){if(t===0)return[0];const r=e/t,i=Math.floor(r*n);return[i-1,i,i+1]}function dme({scrollLeft:e,clientWidth:t,scrollWidth:n}){return n===0?{startX:0,endX:0}:{startX:e/n,endX:(e+t)/n}}class Eqt extends Xk{constructor(t,n){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.unsubscribeOnScroll=[],this.dragUnsubscribe=null,this.subscriptions=[],this.options=t;const r=this.parentFromOptionsContainer(t.container);this.parent=r;const[i,o]=this.initHtml();r.appendChild(i),this.container=i,this.scrollContainer=o.querySelector(".scroll"),this.wrapper=o.querySelector(".wrapper"),this.canvasWrapper=o.querySelector(".canvases"),this.progressWrapper=o.querySelector(".progress"),this.cursor=o.querySelector(".cursor"),n&&o.appendChild(n),this.initEvents()}parentFromOptionsContainer(t){let n;if(typeof t=="string"?n=document.querySelector(t):t instanceof HTMLElement&&(n=t),!n)throw new Error("Container not found");return n}initEvents(){if(this.wrapper.addEventListener("click",(t=>{const n=this.wrapper.getBoundingClientRect(),[r,i]=lme(n,t.clientX,t.clientY);this.emit("click",r,i)})),this.wrapper.addEventListener("dblclick",(t=>{const n=this.wrapper.getBoundingClientRect(),[r,i]=lme(n,t.clientX,t.clientY);this.emit("dblclick",r,i)})),this.options.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.scrollContainer.addEventListener("scroll",(()=>{const{scrollLeft:t,scrollWidth:n,clientWidth:r}=this.scrollContainer,{startX:i,endX:o}=dme({scrollLeft:t,scrollWidth:n,clientWidth:r});this.emit("scroll",i,o,t,t+r)})),typeof ResizeObserver=="function"){const t=this.createDelay(100);this.resizeObserver=new ResizeObserver((()=>{t().then((()=>this.onContainerResize())).catch((()=>{}))})),this.resizeObserver.observe(this.scrollContainer)}}onContainerResize(){const t=this.parent.clientWidth;t===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=t,this.reRender(),this.emit("resize"))}initDrag(){this.dragUnsubscribe||(this.dragUnsubscribe=(function(t,n,r,i,o=3,s=0,a=100){if(!t)return()=>{};const l=new Map,u=matchMedia("(pointer: coarse)").matches;let c=()=>{};const d=f=>{if(f.button!==s||(l.set(f.pointerId,f),l.size>1))return;let h=f.clientX,m=f.clientY,p=!1;const g=Date.now(),v=S=>{if(S.defaultPrevented||l.size>1||u&&Date.now()-g<a)return;const T=S.clientX,k=S.clientY,R=T-h,I=k-m;if(p||Math.abs(R)>o||Math.abs(I)>o){S.preventDefault(),S.stopPropagation();const P=t.getBoundingClientRect(),{left:N,top:M}=P;p||(r?.(h-N,m-M),p=!0),n(R,I,T-N,k-M),h=T,m=k}},y=S=>{if(l.delete(S.pointerId),p){const T=S.clientX,k=S.clientY,R=t.getBoundingClientRect(),{left:I,top:P}=R;i?.(T-I,k-P)}c()},w=S=>{l.delete(S.pointerId),S.relatedTarget&&S.relatedTarget!==document.documentElement||y(S)},_=S=>{p&&(S.stopPropagation(),S.preventDefault())},E=S=>{S.defaultPrevented||l.size>1||p&&S.preventDefault()};document.addEventListener("pointermove",v),document.addEventListener("pointerup",y),document.addEventListener("pointerout",w),document.addEventListener("pointercancel",w),document.addEventListener("touchmove",E,{passive:!1}),document.addEventListener("click",_,{capture:!0}),c=()=>{document.removeEventListener("pointermove",v),document.removeEventListener("pointerup",y),document.removeEventListener("pointerout",w),document.removeEventListener("pointercancel",w),document.removeEventListener("touchmove",E),setTimeout((()=>{document.removeEventListener("click",_,{capture:!0})}),10)}};return t.addEventListener("pointerdown",d),()=>{c(),t.removeEventListener("pointerdown",d),l.clear()}})(this.wrapper,((t,n,r)=>{const i=this.wrapper.getBoundingClientRect().width;this.emit("drag",iB(r/i))}),(t=>{this.isDragging=!0;const n=this.wrapper.getBoundingClientRect().width;this.emit("dragstart",iB(t/n))}),(t=>{this.isDragging=!1;const n=this.wrapper.getBoundingClientRect().width;this.emit("dragend",iB(t/n))})),this.subscriptions.push(this.dragUnsubscribe))}initHtml(){const t=document.createElement("div"),n=t.attachShadow({mode:"open"}),r=this.options.cspNonce&&typeof this.options.cspNonce=="string"?this.options.cspNonce.replace(/"/g,""):"";return n.innerHTML=`
      <style${r?` nonce="${r}"`:""}>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;
          pointer-events: none;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases" part="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[t,n]}setOptions(t){if(this.options.container!==t.container){const n=this.parentFromOptionsContainer(t.container);n.appendChild(this.container),this.parent=n}t.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.options=t,this.reRender()}getWrapper(){return this.wrapper}getWidth(){return this.scrollContainer.clientWidth}getScroll(){return this.scrollContainer.scrollLeft}setScroll(t){this.scrollContainer.scrollLeft=t}setScrollPercentage(t){const{scrollWidth:n}=this.scrollContainer,r=n*t;this.setScroll(r)}destroy(){var t;this.subscriptions.forEach((n=>n())),this.container.remove(),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),(t=this.unsubscribeOnScroll)===null||t===void 0||t.forEach((n=>n())),this.unsubscribeOnScroll=[]}createDelay(t=10){let n,r;const i=()=>{n&&(clearTimeout(n),n=void 0),r&&(r(),r=void 0)};return this.timeouts.push(i),()=>new Promise(((o,s)=>{i(),r=s,n=setTimeout((()=>{n=void 0,r=void 0,o()}),t)}))}getHeight(t,n){var r;const i=((r=this.audioData)===null||r===void 0?void 0:r.numberOfChannels)||1;return(function({optionsHeight:o,optionsSplitChannels:s,parentHeight:a,numberOfChannels:l,defaultHeight:u=128}){if(o==null)return u;const c=Number(o);if(!isNaN(c))return c;if(o==="auto"){const d=a||u;return s?.every((f=>!f.overlay))?d/l:d}return u})({optionsHeight:t,optionsSplitChannels:n,parentHeight:this.parent.clientHeight,numberOfChannels:i,defaultHeight:128})}convertColorValues(t){return(function(n,r){if(!Array.isArray(n))return n||"";if(n.length===0)return"#999";if(n.length<2)return n[0]||"";const i=document.createElement("canvas"),o=i.getContext("2d"),s=i.height*r,a=o.createLinearGradient(0,0,0,s||r),l=1/(n.length-1);return n.forEach(((u,c)=>{a.addColorStop(c*l,u)})),a})(t,this.getPixelRatio())}getPixelRatio(){return t=window.devicePixelRatio,Math.max(1,t||1);var t}renderBarWaveform(t,n,r,i){const{width:o,height:s}=r.canvas,{halfHeight:a,barWidth:l,barRadius:u,barIndexScale:c,barSpacing:d}=(function({width:h,height:m,length:p,options:g,pixelRatio:v}){const y=m/2,w=g.barWidth?g.barWidth*v:1,_=g.barGap?g.barGap*v:g.barWidth?w/2:0,E=w+_||1;return{halfHeight:y,barWidth:w,barGap:_,barRadius:g.barRadius||0,barIndexScale:p>0?h/E/p:0,barSpacing:E}})({width:o,height:s,length:(t[0]||[]).length,options:n,pixelRatio:this.getPixelRatio()}),f=(function({channelData:h,barIndexScale:m,barSpacing:p,barWidth:g,halfHeight:v,vScale:y,canvasHeight:w,barAlign:_}){const E=h[0]||[],S=h[1]||E,T=E.length,k=[];let R=0,I=0,P=0;for(let N=0;N<=T;N++){const M=Math.round(N*m);if(M>R){const{topHeight:U,totalHeight:q}=Cqt({maxTop:I,maxBottom:P,halfHeight:v,vScale:y}),W=_qt({barAlign:_,halfHeight:v,topHeight:U,totalHeight:q,canvasHeight:w});k.push({x:R*p,y:W,width:g,height:q}),R=M,I=0,P=0}const O=Math.abs(E[N]||0),j=Math.abs(S[N]||0);O>I&&(I=O),j>P&&(P=j)}return k})({channelData:t,barIndexScale:c,barSpacing:d,barWidth:l,halfHeight:a,vScale:i,canvasHeight:s,barAlign:n.barAlign});r.beginPath();for(const h of f)u&&"roundRect"in r?r.roundRect(h.x,h.y,h.width,h.height,u):r.rect(h.x,h.y,h.width,h.height);r.fill(),r.closePath()}renderLineWaveform(t,n,r,i){const{width:o,height:s}=r.canvas,a=(function({channelData:l,width:u,height:c,vScale:d}){const f=c/2,h=l[0]||[];return[h,l[1]||h].map(((m,p)=>{const g=m.length,v=g?u/g:0,y=f,w=p===0?-1:1,_=[{x:0,y}];let E=0,S=0;for(let T=0;T<=g;T++){const k=Math.round(T*v);if(k>E){const I=y+(Math.round(S*f*d)||1)*w;_.push({x:E,y:I}),E=k,S=0}const R=Math.abs(m[T]||0);R>S&&(S=R)}return _.push({x:E,y}),_}))})({channelData:t,width:o,height:s,vScale:i});r.beginPath();for(const l of a)if(l.length){r.moveTo(l[0].x,l[0].y);for(let u=1;u<l.length;u++){const c=l[u];r.lineTo(c.x,c.y)}}r.fill(),r.closePath()}renderWaveform(t,n,r){if(r.fillStyle=this.convertColorValues(n.waveColor),n.renderFunction)return void n.renderFunction(t,r);const i=(function({channelData:o,barHeight:s,normalize:a}){var l;const u=s||1;if(!a)return u;const c=o[0];if(!c||c.length===0)return u;let d=0;for(let f=0;f<c.length;f++){const h=(l=c[f])!==null&&l!==void 0?l:0,m=Math.abs(h);m>d&&(d=m)}return d?u/d:u})({channelData:t,barHeight:n.barHeight,normalize:n.normalize});S4e(n)?this.renderBarWaveform(t,n,r,i):this.renderLineWaveform(t,n,r,i)}renderSingleCanvas(t,n,r,i,o,s,a){const l=this.getPixelRatio(),u=document.createElement("canvas");u.width=Math.round(r*l),u.height=Math.round(i*l),u.style.width=`${r}px`,u.style.height=`${i}px`,u.style.left=`${Math.round(o)}px`,s.appendChild(u);const c=u.getContext("2d");if(n.renderFunction?(c.fillStyle=this.convertColorValues(n.waveColor),n.renderFunction(t,c)):this.renderWaveform(t,n,c),u.width>0&&u.height>0){const d=u.cloneNode(),f=d.getContext("2d");f.drawImage(u,0,0),f.globalCompositeOperation="source-in",f.fillStyle=this.convertColorValues(n.progressColor),f.fillRect(0,0,u.width,u.height),a.appendChild(d)}}renderMultiCanvas(t,n,r,i,o,s){const a=this.getPixelRatio(),{clientWidth:l}=this.scrollContainer,u=r/a,c=(function({clientWidth:m,totalWidth:p,options:g}){return ume(Math.min(8e3,m,p),g)})({clientWidth:l,totalWidth:u,options:n});let d={};if(c===0)return;const f=m=>{if(m<0||m>=h||d[m])return;d[m]=!0;const p=m*c;let g=Math.min(u-p,c);if(g=ume(g,n),g<=0)return;const v=(function({channelData:y,offset:w,clampedWidth:_,totalWidth:E}){return y.map((S=>{const T=Math.floor(w/E*S.length),k=Math.floor((w+_)/E*S.length);return S.slice(T,k)}))})({channelData:t,offset:p,clampedWidth:g,totalWidth:u});this.renderSingleCanvas(v,n,g,i,p,o,s)},h=Math.ceil(u/c);if(!this.isScrollable){for(let m=0;m<h;m++)f(m);return}if(cme({scrollLeft:this.scrollContainer.scrollLeft,totalWidth:u,numCanvases:h}).forEach((m=>f(m))),h>1){const m=this.on("scroll",(()=>{const{scrollLeft:p}=this.scrollContainer;Object.keys(d).length>10&&(o.innerHTML="",s.innerHTML="",d={}),cme({scrollLeft:p,totalWidth:u,numCanvases:h}).forEach((g=>f(g)))}));this.unsubscribeOnScroll.push(m)}}renderChannel(t,n,r,i){var{overlay:o}=n,s=(function(c,d){var f={};for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&d.indexOf(h)<0&&(f[h]=c[h]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function"){var m=0;for(h=Object.getOwnPropertySymbols(c);m<h.length;m++)d.indexOf(h[m])<0&&Object.prototype.propertyIsEnumerable.call(c,h[m])&&(f[h[m]]=c[h[m]])}return f})(n,["overlay"]);const a=document.createElement("div"),l=this.getHeight(s.height,s.splitChannels);a.style.height=`${l}px`,o&&i>0&&(a.style.marginTop=`-${l}px`),this.canvasWrapper.style.minHeight=`${l}px`,this.canvasWrapper.appendChild(a);const u=a.cloneNode();this.progressWrapper.appendChild(u),this.renderMultiCanvas(t,s,r,l,a,u)}render(t){return ll(this,void 0,void 0,(function*(){var n;this.timeouts.forEach((u=>u())),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const r=this.getPixelRatio(),i=this.scrollContainer.clientWidth,{scrollWidth:o,isScrollable:s,useParentWidth:a,width:l}=(function({duration:u,minPxPerSec:c=0,parentWidth:d,fillParent:f,pixelRatio:h}){const m=Math.ceil(u*c),p=m>d,g=!!(f&&!p);return{scrollWidth:m,isScrollable:p,useParentWidth:g,width:(g?d:m)*h}})({duration:t.duration,minPxPerSec:this.options.minPxPerSec||0,parentWidth:i,fillParent:this.options.fillParent,pixelRatio:r});if(this.isScrollable=s,this.wrapper.style.width=a?"100%":`${o}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=t,this.emit("render"),this.options.splitChannels)for(let u=0;u<t.numberOfChannels;u++){const c=Object.assign(Object.assign({},this.options),(n=this.options.splitChannels)===null||n===void 0?void 0:n[u]);this.renderChannel([t.getChannelData(u)],c,l,u)}else{const u=[t.getChannelData(0)];t.numberOfChannels>1&&u.push(t.getChannelData(1)),this.renderChannel(u,this.options,l,0)}Promise.resolve().then((()=>this.emit("rendered")))}))}reRender(){if(this.unsubscribeOnScroll.forEach((r=>r())),this.unsubscribeOnScroll=[],!this.audioData)return;const{scrollWidth:t}=this.scrollContainer,{right:n}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&t!==this.scrollContainer.scrollWidth){const{right:r}=this.progressWrapper.getBoundingClientRect(),i=(function(o){const s=2*o;return(s<0?Math.floor(s):Math.ceil(s))/2})(r-n);this.scrollContainer.scrollLeft+=i}}zoom(t){this.options.minPxPerSec=t,this.reRender()}scrollIntoView(t,n=!1){const{scrollLeft:r,scrollWidth:i,clientWidth:o}=this.scrollContainer,s=t*i,a=r,l=r+o,u=o/2;if(this.isDragging)s+30>l?this.scrollContainer.scrollLeft+=30:s-30<a&&(this.scrollContainer.scrollLeft-=30);else{(s<a||s>l)&&(this.scrollContainer.scrollLeft=s-(this.options.autoCenter?u:0));const c=s-r-u;n&&this.options.autoCenter&&c>0&&(this.scrollContainer.scrollLeft+=c)}{const c=this.scrollContainer.scrollLeft,{startX:d,endX:f}=dme({scrollLeft:c,scrollWidth:i,clientWidth:o});this.emit("scroll",d,f,c,c+o)}}renderProgress(t,n){if(isNaN(t))return;const r=100*t;this.canvasWrapper.style.clipPath=`polygon(${r}% 0%, 100% 0%, 100% 100%, ${r}% 100%)`,this.progressWrapper.style.width=`${r}%`,this.cursor.style.left=`${r}%`,this.cursor.style.transform=this.options.cursorWidth?`translateX(-${t*this.options.cursorWidth}px)`:"",this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(t,n)}exportImage(t,n,r){return ll(this,void 0,void 0,(function*(){const i=this.canvasWrapper.querySelectorAll("canvas");if(!i.length)throw new Error("No waveform data");if(r==="dataURL"){const o=Array.from(i).map((s=>s.toDataURL(t,n)));return Promise.resolve(o)}return Promise.all(Array.from(i).map((o=>new Promise(((s,a)=>{o.toBlob((l=>{l?s(l):a(new Error("Could not export image"))}),t,n)})))))}))}}class Sqt extends Xk{constructor(){super(...arguments),this.animationFrameId=null,this.isRunning=!1}start(){if(this.isRunning)return;this.isRunning=!0;const t=()=>{this.isRunning&&(this.emit("tick"),this.animationFrameId=requestAnimationFrame(t))};t()}stop(){this.isRunning=!1,this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}destroy(){this.stop()}}class oB extends Xk{constructor(t=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=t,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return ll(this,void 0,void 0,(function*(){}))}get src(){return this.currentSrc}set src(t){if(this.currentSrc=t,this._duration=void 0,!t)return this.buffer=null,void this.emit("emptied");fetch(t).then((n=>{if(n.status>=400)throw new Error(`Failed to fetch ${t}: ${n.status} (${n.statusText})`);return n.arrayBuffer()})).then((n=>this.currentSrc!==t?null:this.audioContext.decodeAudioData(n))).then((n=>{this.currentSrc===t&&(this.buffer=n,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})).catch((n=>{console.error("WebAudioPlayer load error:",n)}))}_play(){if(!this.paused)return;this.paused=!1,this.bufferNode&&(this.bufferNode.onended=null,this.bufferNode.disconnect()),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let t=this.playedDuration*this._playbackRate;(t>=this.duration||t<0)&&(t=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,t),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var t;this.paused=!0,(t=this.bufferNode)===null||t===void 0||t.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return ll(this,void 0,void 0,(function*(){this.paused&&(this._play(),this.emit("play"))}))}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(t){const n=t-this.currentTime,r=this.bufferNode;r?.stop(this.audioContext.currentTime+n),r?.addEventListener("ended",(()=>{r===this.bufferNode&&(this.bufferNode=null,this.pause())}),{once:!0})}setSinkId(t){return ll(this,void 0,void 0,(function*(){return this.audioContext.setSinkId(t)}))}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this.bufferNode&&(this.bufferNode.playbackRate.value=t)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(t){const n=!this.paused;n&&this._pause(),this.playedDuration=t/this._playbackRate,n&&this._play(),this.emit("seeking"),this.emit("timeupdate")}get duration(){var t,n;return(t=this._duration)!==null&&t!==void 0?t:((n=this.buffer)===null||n===void 0?void 0:n.duration)||0}set duration(t){this._duration=t}get volume(){return this.gainNode.gain.value}set volume(t){this.gainNode.gain.value=t,this.emit("volumechange")}get muted(){return this._muted}set muted(t){this._muted!==t&&(this._muted=t,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(t){return/^(audio|video)\//.test(t)}getGainNode(){return this.gainNode}getChannelData(){const t=[];if(!this.buffer)return t;const n=this.buffer.numberOfChannels;for(let r=0;r<n;r++)t.push(this.buffer.getChannelData(r));return t}removeAttribute(t){switch(t){case"src":this.src="";break;case"playbackRate":this.playbackRate=0;break;case"currentTime":this.currentTime=0;break;case"duration":this.duration=0;break;case"volume":this.volume=0;break;case"muted":this.muted=!1}}}const Tqt={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class uT extends xqt{static create(t){return new uT(t)}constructor(t){const n=t.media||(t.backend==="WebAudio"?new oB:void 0);super({media:n,mediaControls:t.mediaControls,autoplay:t.autoplay,playbackRate:t.audioRate}),this.plugins=[],this.decodedData=null,this.stopAtPosition=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.options=Object.assign({},Tqt,t),this.timer=new Sqt;const r=n?void 0:this.getMediaElement();this.renderer=new Eqt(this.options,r),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins();const i=this.options.url||this.getSrc()||"";Promise.resolve().then((()=>{this.emit("init");const{peaks:o,duration:s}=this.options;(i||o&&s)&&this.load(i,o,s).catch((a=>{this.emit("error",a instanceof Error?a:new Error(String(a)))}))}))}updateProgress(t=this.getCurrentTime()){return this.renderer.renderProgress(t/this.getDuration(),this.isPlaying()),t}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",(()=>{if(!this.isSeeking()){const t=this.updateProgress();this.emit("timeupdate",t),this.emit("audioprocess",t),this.stopAtPosition!=null&&this.isPlaying()&&t>=this.stopAtPosition&&this.pause()}})))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",(()=>{const t=this.updateProgress();this.emit("timeupdate",t)})),this.onMediaEvent("play",(()=>{this.emit("play"),this.timer.start()})),this.onMediaEvent("pause",(()=>{this.emit("pause"),this.timer.stop(),this.stopAtPosition=null})),this.onMediaEvent("emptied",(()=>{this.timer.stop(),this.stopAtPosition=null})),this.onMediaEvent("ended",(()=>{this.emit("timeupdate",this.getDuration()),this.emit("finish"),this.stopAtPosition=null})),this.onMediaEvent("seeking",(()=>{this.emit("seeking",this.getCurrentTime())})),this.onMediaEvent("error",(()=>{var t;this.emit("error",(t=this.getMediaElement().error)!==null&&t!==void 0?t:new Error("Media error")),this.stopAtPosition=null})))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",((t,n)=>{this.options.interact&&(this.seekTo(t),this.emit("interaction",t*this.getDuration()),this.emit("click",t,n))})),this.renderer.on("dblclick",((t,n)=>{this.emit("dblclick",t,n)})),this.renderer.on("scroll",((t,n,r,i)=>{const o=this.getDuration();this.emit("scroll",t*o,n*o,r,i)})),this.renderer.on("render",(()=>{this.emit("redraw")})),this.renderer.on("rendered",(()=>{this.emit("redrawcomplete")})),this.renderer.on("dragstart",(t=>{this.emit("dragstart",t)})),this.renderer.on("dragend",(t=>{this.emit("dragend",t)})),this.renderer.on("resize",(()=>{this.emit("resize")})));{let t;const n=this.renderer.on("drag",(r=>{var i;if(!this.options.interact)return;this.renderer.renderProgress(r),clearTimeout(t);let o=0;const s=this.options.dragToSeek;this.isPlaying()?o=0:s===!0?o=200:s&&typeof s=="object"&&(o=(i=s.debounceTime)!==null&&i!==void 0?i:200),t=setTimeout((()=>{this.seekTo(r)}),o),this.emit("interaction",r*this.getDuration()),this.emit("drag",r)}));this.subscriptions.push((()=>{clearTimeout(t),n()}))}}initPlugins(){var t;!((t=this.options.plugins)===null||t===void 0)&&t.length&&this.options.plugins.forEach((n=>{this.registerPlugin(n)}))}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach((t=>t())),this.mediaSubscriptions=[]}setOptions(t){this.options=Object.assign({},this.options,t),t.duration&&!t.peaks&&(this.decodedData=bI.createBuffer(this.exportPeaks(),t.duration)),t.peaks&&t.duration&&(this.decodedData=bI.createBuffer(t.peaks,t.duration)),this.renderer.setOptions(this.options),t.audioRate&&this.setPlaybackRate(t.audioRate),t.mediaControls!=null&&(this.getMediaElement().controls=t.mediaControls)}registerPlugin(t){if(this.plugins.includes(t))return t;t._init(this),this.plugins.push(t);const n=t.once("destroy",(()=>{this.plugins=this.plugins.filter((r=>r!==t)),this.subscriptions=this.subscriptions.filter((r=>r!==n))}));return this.subscriptions.push(n),t}unregisterPlugin(t){this.plugins=this.plugins.filter((n=>n!==t)),t.destroy()}getWrapper(){return this.renderer.getWrapper()}getWidth(){return this.renderer.getWidth()}getScroll(){return this.renderer.getScroll()}setScroll(t){return this.renderer.setScroll(t)}setScrollTime(t){const n=t/this.getDuration();this.renderer.setScrollPercentage(n)}getActivePlugins(){return this.plugins}loadAudio(t,n,r,i){return ll(this,void 0,void 0,(function*(){var o;if(this.emit("load",t),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,this.stopAtPosition=null,(o=this.abortController)===null||o===void 0||o.abort(),this.abortController=null,!n&&!r){const a=this.options.fetchParams||{};window.AbortController&&!a.signal&&(this.abortController=new AbortController,a.signal=this.abortController.signal);const l=c=>this.emit("loading",c);n=yield wqt.fetchBlob(t,l,a);const u=this.options.blobMimeType;u&&(n=new Blob([n],{type:u}))}this.setSrc(t,n);const s=yield new Promise((a=>{const l=i||this.getDuration();l?a(l):this.mediaSubscriptions.push(this.onMediaEvent("loadedmetadata",(()=>a(this.getDuration())),{once:!0}))}));if(!t&&!n){const a=this.getMediaElement();a instanceof oB&&(a.duration=s)}if(r)this.decodedData=bI.createBuffer(r,s||0);else if(n){const a=yield n.arrayBuffer();this.decodedData=yield bI.decode(a,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())}))}load(t,n,r){return ll(this,void 0,void 0,(function*(){try{return yield this.loadAudio(t,void 0,n,r)}catch(i){throw this.emit("error",i),i}}))}loadBlob(t,n,r){return ll(this,void 0,void 0,(function*(){try{return yield this.loadAudio("",t,n,r)}catch(i){throw this.emit("error",i),i}}))}zoom(t){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(t),this.emit("zoom",t)}getDecodedData(){return this.decodedData}exportPeaks({channels:t=2,maxLength:n=8e3,precision:r=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const i=Math.min(t,this.decodedData.numberOfChannels),o=[];for(let s=0;s<i;s++){const a=this.decodedData.getChannelData(s),l=[],u=a.length/n;for(let c=0;c<n;c++){const d=a.slice(Math.floor(c*u),Math.ceil((c+1)*u));let f=0;for(let h=0;h<d.length;h++){const m=d[h];Math.abs(m)>Math.abs(f)&&(f=m)}l.push(Math.round(f*r)/r)}o.push(l)}return o}getDuration(){let t=super.getDuration()||0;return t!==0&&t!==1/0||!this.decodedData||(t=this.decodedData.duration),t}toggleInteraction(t){this.options.interact=t}setTime(t){this.stopAtPosition=null,super.setTime(t),this.updateProgress(t),this.emit("timeupdate",t)}seekTo(t){const n=this.getDuration()*t;this.setTime(n)}play(t,n){const r=Object.create(null,{play:{get:()=>super.play}});return ll(this,void 0,void 0,(function*(){t!=null&&this.setTime(t);const i=yield r.play.call(this);return n!=null&&(this.media instanceof oB?this.media.stopAt(n):this.stopAtPosition=n),i}))}playPause(){return ll(this,void 0,void 0,(function*(){return this.isPlaying()?this.pause():this.play()}))}stop(){this.pause(),this.setTime(0)}skip(t){this.setTime(this.getCurrentTime()+t)}empty(){this.load("",[[0]],.001)}setMediaElement(t){this.unsubscribePlayerEvents(),super.setMediaElement(t),this.initPlayerEvents()}exportImage(){return ll(this,arguments,void 0,(function*(t="image/png",n=1,r="dataURL"){return this.renderer.exportImage(t,n,r)}))}destroy(){var t;this.emit("destroy"),(t=this.abortController)===null||t===void 0||t.abort(),this.plugins.forEach((n=>n.destroy())),this.subscriptions.forEach((n=>n())),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}}uT.BasePlugin=class extends Xk{constructor(e){super(),this.subscriptions=[],this.isDestroyed=!1,this.options=e}onInit(){}_init(e){this.isDestroyed&&(this.subscriptions=[],this.isDestroyed=!1),this.wavesurfer=e,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach((e=>e())),this.subscriptions=[],this.isDestroyed=!0,this.wavesurfer=void 0}},uT.dom=bqt;function kqt(e){return uT.create(e)}function Aqt(e){const{plugin:t,options:n,creator:r="create"}=e,i=t[r];if(!t)throw new Error("Please pass a valid plugin in plugin list");if(!r)throw new Error("Please pass the creator function name in 'creator' property.");if(typeof i!="function")throw new Error(`"${r}" is not callable on given plugin. Please pass a valid 'creator' in plugins list.`);return i(n)}const fme=e=>e.reduce((t,n)=>(t[n[0]]=n[1],t),{}),Rqt=(e,t)=>{const n=Object.entries(e),r=Object.entries(t),i=n.filter(([s])=>r.findIndex(([a])=>a===s)===-1),o=r.filter(([s])=>n.findIndex(([a])=>a===s)===-1);return{disabled:fme(i),enabled:fme(o)}};function hme(e,t){const n={},r=[...t];for(;r.length>=1;){const i=r.shift();!!e[i.key]?n[i.key]=e[i.key]:n[i.key]=Aqt(i)}return n}function Iqt({container:e,plugins:t=[],onMount:n,...r}){const i=A.useRef(!1),[o,s]=A.useState({}),a=A.useRef([]),[l,u]=A.useState(null);return A.useEffect(()=>{if(!e)return;const c=e;if(i.current)return;i.current=!0;const d=hme(o,t);a.current=Object.keys(d);const f=kqt({container:e,...r,plugins:Object.values(d)});return n?.(f),s(d),u(f),()=>{c!==e&&f.destroy()}},[e]),A.useEffect(()=>{if(l){const c=hme(o,t),{disabled:d,enabled:f}=Rqt(o,c);Object.keys(d).forEach(h=>{d[h].destroy()}),Object.keys(f).forEach(h=>{a.current.includes(h)||(console.log("register plugin",h,f[h]),l?.registerPlugin(f[h]))}),a.current=Object.keys(f),s(c)}},[t]),[l,o,Object.values(o)]}function Dqt({children:e,plugins:t=[],onMount:n,...r}){const i=Iqt({plugins:t,onMount:n,...r});return un.createElement(vqt.Provider,{value:i},e)}const Pqt=({id:e="waveform",children:t})=>un.createElement("div",{id:e},t),Oqt="#efb118",Nqt="#9498a0",Mqt="#9498a0",T4e="__root__",fee="__unknown__",$qt="update";function J5(e){return e.trim().toLowerCase().replace(/[^a-z0-9]+/g," ").replace(/\s+/g," ").trim()}function Lqt(e){return J5(e)}function k4e(e,t=!1){if("sideEffects"in e&&e.sideEffects?.do?.length>0){const n=e.sideEffects.do.find(r=>typeof r?.type=="string")?.type;if(n)return t?J5(n):n.trim()}return null}function A4e(e){if(e.event==="Root")return T4e;const t=k4e(e,!0);if(t)return t;if("event"in e&&typeof e.event=="string"&&e.event!=="Root"){const n=J5(e.event);if(n)return n}if(typeof e.label=="string"){const n=Lqt(e.label);if(n)return n}return fee}function Fqt(e){let t=0;for(let n=0;n<e.length;n+=1)t=t*31+e.charCodeAt(n)>>>0;return t}function jqt(e){return e===$qt||e===J5("Update form field")}function R4e(e){if(e===T4e)return Oqt;if(!e||e===fee)return Nqt;if(jqt(e))return Mqt;const t=Fqt(e),n=t%360,r=60+(t>>>9)%21,i=35+(t>>>17)%21;return`hsl(${n}, ${r}%, ${i}%)`}function pme(e){return R4e(A4e(e))}function Bqt(e){const t=typeof e.label=="string"?e.label.trim():"";if(t)return t;const n=k4e(e,!1);if(n)return n;if("event"in e&&typeof e.event=="string"){const r=e.event.trim();if(r)return r}return fee}function zqt(e){const t=new Map;return e.forEach(n=>{n?.nodes&&Object.values(n.nodes).forEach(r=>{const i=A4e(r);t.has(i)||t.set(i,{label:Bqt(r),color:R4e(i)})})}),t}const wI=15,xI=3;function Uqt({height:e,xScale:t,currentNode:n,provenance:r}){return b.jsxs("g",{style:{cursor:"pointer"},children:[r?Object.entries(r.nodes||{}).map(i=>{const[o,s]=i;return b.jsx("g",{children:b.jsx("rect",{fill:pme(s),opacity:s.id===n?1:.7,x:t(s.createdOn)-xI/2,y:e/2-wI/2,width:xI,height:wI})},o)}):null,n&&r&&r.nodes[n]&&b.jsx("rect",{fill:pme(r.nodes[n]),x:t(r.nodes[n].createdOn)-xI/2,y:e/2-wI/2,width:xI,height:wI})]})}function Hqt({xScale:e,answers:t,width:n,height:r,currentNode:i,trialName:o,startTime:s,margin:a}){const l=A.useMemo(()=>e.copy().range([0,e.range()[1]]).domain([s+e.domain()[0]*1e3,s+e.domain()[1]*1e3]),[s,e]),u=A.useMemo(()=>Object.entries(t).filter(c=>o?o===c[0]:!0).map(c=>{const[d,f]=c;return Object.keys(f.provenanceGraph).map(m=>{const p=f.provenanceGraph[m];return p?b.jsx(Uqt,{height:r,currentNode:i,xScale:l,provenance:p},d+m):null})}),[i,r,t,o,l]);return b.jsxs("svg",{style:{width:n,height:r,marginLeft:a.left},children:[b.jsx("line",{stroke:"black",strokeWidth:1,x1:0,x2:n,y1:r/2,y2:r/2}),u]})}function qqt({width:e,height:t,debounceUpdateTimer:n,xScale:r}){const i=A.useRef(null),{setSeekTime:o,replayEvent:s,forceEmitTimeUpdate:a}=K5();A.useEffect(()=>{const u=c=>{if(i.current){const d=r(c);uHt(i.current).attr("x1",d).attr("x2",d)}n(c*1e3,void 0)};return s.on("timeupdate",u),a(),()=>{s.off("timeupdate",u)}},[s,r,n,a]),A.useEffect(()=>{a()},[a]);const l=A.useCallback(u=>{o(r.invert(u.clientX)-r.domain()[0])},[r,o]);return b.jsx("svg",{onClick:l,style:{width:e,height:t,position:"absolute",zIndex:1e4},children:b.jsx("line",{ref:i,stroke:"#e15759",strokeWidth:3,y1:0,y2:t})})}function Eq(e){if(Number.isNaN(e))return;if(e<=0)return"0s";const t=Math.floor(e/1e3/60/60),n=Math.floor((e/1e3/60/60-t)*60),r=Math.floor(((e/1e3/60/60-t)*60-n)*60),i=r<10?`0${r}`:`${r}`,o=n<10?`0${n}`:`${n}`,s=t<10?`0${t}`:`${t}`;return`${t>0?`${s}:`:""}${`${o}`}:${i}`}function sB(e,t,n,r,i,o){const s=A.useMemo(()=>{const a=mC.create(),l=bM({registry:a,initialState:{}});return n&&l.importObject(structuredClone(n)),l},[n]);A.useEffect(()=>{if(!o)return;if(!n){r&&(i(null,e),o({prov:null,location:e}));return}if(!r||!n.nodes[r]){i(n.root,e),o({prov:s.getState(n.nodes[n.root]),location:e});return}let a=n.nodes[r];for(;;)if(t<a.createdOn){if(D_e(a))break;{const l=a.parent;a=n.nodes[l]}}else if(a.children.length>0){const l=a.children[0];if(t>n.nodes[l].createdOn)a=n.nodes[l];else break}else break;a.id!==r&&(i(a.id,e),o({prov:s.getState(a),location:e}))},[r,t,n,e,i,s,o])}const My={left:20,top:0,right:20,bottom:0};function mme(e){return e.catch(()=>null)}function Vqt({setTimeString:e,answers:t,setTime:n,taskName:r,context:i,saveProvenance:o,setHasAudio:s}){const[a,l]=au(),u=qa(),{studyId:c}=Mo(),d=A.useMemo(()=>a.get("participantId")||"",[a]),{audioRef:f,updateReplayRef:h,duration:m,setDuration:p,seekTime:g}=K5(),{storageEngine:v}=ri(),[y,w]=A.useState(!0),_=A.useCallback(ae=>{w(ae),s(ae)},[s]),[E,{width:S}]=bb(),[T,k]=A.useState(0),R=A.useMemo(()=>t[r]?.startTime||0,[t,r]),[I,P]=A.useState(null),[N,M]=A.useState({aboveStimulus:void 0,belowStimulus:void 0,sidebar:void 0,stimulus:void 0}),[O,j]=A.useState(null),[U,q]=A.useState(0),W=A.useRef(null),V=A.useRef(null),z=ca(),[L,H]=A.useState(!0),B=A.useRef(null),Y=th((ae,te)=>{const se=t[r]?.provenanceGraph[te];se&&ae&&(!O||se.nodes[ae].createdOn>O.time||U<O.time)&&j({name:ae||"",time:se.nodes[ae].createdOn}),M({...N,[te]:ae})}),Q=nFe(ae=>{q(R+ae),n&&n(R+ae)},100);A.useEffect(()=>{Q(g*1e3)},[g,Q]),A.useEffect(()=>{r&&t[r]?.trialOrder&&gv.postMessage({key:"trialOrder",value:t[r].trialOrder})},[t,r]),A.useEffect(()=>{const ae=se=>{l(we=>(we.set("participantId",se||""),we.delete("currentTrial"),we))},te=se=>{const{step:we,funcIndex:X}=Pp(se);if(!c||we===null)return;const he=new URLSearchParams(u.search);he.set("participantId",d||""),he.delete("currentTrial");const ge=he.toString();if(i==="provenanceVis"){z({pathname:X===null?`/${c}/${di(we)}`:`/${c}/${di(we)}/${di(X)}`,search:ge?`?${ge}`:""});return}const re=Object.entries(t).find(([ee,fe])=>fe.trialOrder===se)?.[0];re&&z({pathname:`/analysis/stats/${c}/tagging/${encodeURIComponent(re)}`,search:ge?`?${ge}`:""})};return yv.on("participantId",ae),yv.on("trialOrder",te),()=>{yv.off("participantId",ae),yv.off("trialOrder",te)}},[t,i,z,d,u.search,l,c]),sB("aboveStimulus",U,t[r]?.provenanceGraph.aboveStimulus,N.aboveStimulus,Y,o),sB("belowStimulus",U,t[r]?.provenanceGraph.belowStimulus,N.belowStimulus,Y,o),sB("sidebar",U,t[r]?.provenanceGraph.sidebar,N.sidebar,Y,o),A.useEffect(()=>{if(r&&t[r]?.provenanceGraph){const ae=mC.create(),te=bM({registry:ae,initialState:{}});t[r]?.provenanceGraph.stimulus&&(te.importObject(structuredClone(t[r]?.provenanceGraph.stimulus)),B.current=te)}},[t,r]);const ne=A.useCallback(ae=>{ae&&(r&&B.current&&i==="provenanceVis"&&o&&(o({prov:B.current.getState(t[r]?.provenanceGraph.stimulus?.nodes[ae]),location:"stimulus"}),B.current.to(ae)),Y(ae,"stimulus"),P(ae))},[r,i,Y,o,t]);A.useEffect(()=>{if(!r||!B.current||!t[r]?.provenanceGraph)return;const ae=t[r]?.provenanceGraph;if(!ae.stimulus)return;if(!I||!ae.stimulus.nodes[I]){ne(ae.stimulus.root);return}let te=ae.stimulus.nodes[I];for(;;)if(U<te.createdOn){if(D_e(te))break;{const se=te.parent;te=ae.stimulus.nodes[se]}}else if(te.children.length>0){const se=te.children[0];if(U>ae.stimulus.nodes[se].createdOn)te=ae.stimulus.nodes[se];else break}else break;te.id!==I&&ne(te.id)},[ne,I,d,U,r,t]),A.useEffect(()=>{m===0?e(""):U!==0&&e(`${Eq(U-R)}/${Eq(m*1e3)}`)},[r,U,e,R,m]),A.useEffect(()=>{const ae=t[r]?.endTime-t[r]?.startTime;p(ae>-1?ae/1e3:0)},[y,t,r,p]);const ce=lf(),le=th(async ae=>{if(W.current=ae,f.current=null,h(),ae&&ce&&r&&v)try{if(!d)throw new Error("Participant ID is required to load audio");const[te,se]=await Promise.all([mme(v.getAudio(r,d)),mme(v.getScreenRecording(r,d))]),we=se??te??null;if(!we){_(!1),H(!1),W.current?.empty();return}await ae.load(we,void 0,m),H(!1),f.current=ae.getMediaElement(),h(),k(ae.getWidth()),_(!0),ae.seekTo(0),ae.on("redrawcomplete",()=>k(ae.getWidth()))}catch(te){throw _(!1),H(!1),f.current=null,h(),new Error(te)}else _(!1),H(!1),f.current=null,h(),p(0)}),ue=A.useMemo(()=>!t[r]?.startTime||!t[r]?.endTime?null:Yv([My.left,S-My.right]).domain([0,m]).clamp(!0),[t,r,m,S]);return b.jsx(ln,{wrap:"nowrap",gap:0,mx:0,children:b.jsxs(Nn,{ref:E,style:{width:"100%"},gap:0,children:[b.jsx(Jl,{visible:L,overlayProps:{blur:5,backgroundOpacity:.35}}),d!==void 0&&r?b.jsx(De,{pos:"relative",ml:My.left,mr:My.right,children:b.jsx(De,{ref:V,style:{overflow:"hidden",width:"100%",pointerEvents:"none"},display:y?"block":"none",id:"waveformDiv",children:b.jsx(Dqt,{backend:"MediaElement",onMount:le,plugins:[],container:"#waveformDiv",height:50,waveColor:"#484848",progressColor:"cornflowerblue",barHeight:0,cursorColor:"rgba(0, 0, 0, 0)",children:b.jsx(Pqt,{id:"waveform",height:50})})})}):null,ue&&r&&t[r]?.provenanceGraph?b.jsx(Hqt,{xScale:ue,trialName:r,currentNode:O?.name||"",answers:t,width:T||S-My.left-My.right,height:25,margin:My,startTime:t[r]?.startTime}):null,ue?b.jsx(qqt,{height:(y?49:0)+25,width:S,xScale:ue,debounceUpdateTimer:Q}):null]})})}const gme={top:5};function Wqt({transcriptLines:e,xScale:t,startTime:n,currentShownTranscription:r}){const i=A.useMemo(()=>e.map(o=>b.jsxs("g",{children:[b.jsx("line",{stroke:r>=o.lineStart&&r<=o.lineEnd?"cornflowerblue":"lightgray",strokeWidth:5,y1:gme.top,y2:gme.top,x1:t(n+o.start*1e3)+2,x2:t(n+o.end*1e3)-2}),o.tags.map((s,a)=>b.jsx("g",{children:s.map((l,u)=>{const c=t(n+o.start*1e3),d=t(n+o.end*1e3);return l?b.jsx("foreignObject",{x:c+(d-c)/o.tags.length*(a+.5)-6+(-(s.length-1)*15/2+u*15),y:15,height:"20px",width:"20px",children:b.jsx(ct,{label:l.name,withArrow:!0,arrowSize:6,children:b.jsx(xh,{size:12,color:l.color})})},l.name):null})},a))]},o.start)),[r,n,e,t]);return b.jsx("svg",{style:{width:"100%",height:"30px"},children:i})}function Gqt({selectedTags:e,removeFunc:t}){return e.map(n=>{if(!n||!n.id)return null;const r=P2(n.color).l;return b.jsx(ct,{label:n.name,withinPortal:!0,children:b.jsx(Fv,{style:{width:"80px"},withRemoveButton:!!t,styles:{root:{backgroundColor:n.color,color:r>.7?"black":"white"}},onRemove:()=>t?t(n.id):null,children:n.name})},n.id)})}function Sq({addTagCallback:e,currentNames:t,editTag:n=!1,editableTag:r}){const[i,o]=A.useState(n?r.name:""),[s,a]=A.useState(n?r.color:"#fd7e14"),l=A.useCallback(()=>{const u=oee();e({color:s,name:i,id:n&&r?r.id:u})},[e,s,n,r,i]);return b.jsxs(Nn,{gap:"xs",children:[b.jsxs(ln,{children:[b.jsx(xh,{color:s}),b.jsx(dl,{required:!0,placeholder:"Enter tag name",value:i,onChange:u=>o(u.currentTarget.value),error:t.includes(i)&&(!n||r.name!==i)?"Tag with this name already exists":null})]}),b.jsx(A4,{withPicker:n,style:{width:"100%"},value:s,onChange:u=>a(u),swatches:["#2e2e2e","#868e96","#fa5252","#e64980","#be4bdb","#7950f2","#4c6ef5","#228be6","#15aabf","#12b886","#40c057","#82c91e","#fab005","#fd7e14"]}),b.jsx(Mt,{disabled:n&&s===r.color&&(i.length===0||t.includes(i)),size:"compact-sm",onClick:()=>l(),children:n?"Edit Tag":"Add Tag"})]})}function Yqt({createTagCallback:e,tags:t}){const[n,r]=A.useState(!1);return b.jsxs(Cr,{trapFocus:!0,withinPortal:!1,children:[b.jsx(Nn,{justify:"center",children:b.jsx(Cr.Target,{children:b.jsx(Mt,{style:{width:"100%"},variant:"light",onClick:()=>r(!n),children:"Create new tag"})})}),t?b.jsx(Cr.Dropdown,{children:b.jsx(Sq,{currentNames:t.map(i=>i.name),addTagCallback:i=>{r(!1),e(i)}})}):b.jsx(qc,{})]})}function Tq({tags:e,selectedTags:t,onSelectTags:n,disabled:r=!1,tagsEmptyText:i,createTagCallback:o,editTagCallback:s,width:a}){const l=wT(),u=A.useCallback(m=>n(t.filter(p=>p!==void 0&&p.id!==m)),[n,t]),c=A.useCallback(m=>{if(t.find(p=>p.id===m)){u(m);return}n([...t,[...e].find(p=>p.id===m)])},[u,n,t,e]),d=b.jsx(Gqt,{selectedTags:t,removeFunc:u}),f=A.useMemo(()=>e.filter(m=>m!==void 0&&t.find(p=>p&&p.id===m.id)).map(m=>b.jsx(Un.Option,{value:m.id,active:!0,children:b.jsxs(ln,{justify:"space-between",gap:"sm",style:{width:"100%"},wrap:"nowrap",children:[b.jsx(ct,{label:m.name,withArrow:!0,openDelay:600,children:b.jsxs(ln,{wrap:"nowrap",children:[b.jsx(ZV,{size:12}),b.jsx(xh,{size:10,color:m.color}),b.jsx($e,{style:{width:a-120},truncate:"end",children:m.name})]})}),b.jsx(De,{onClick:p=>{p.preventDefault(),p.stopPropagation()},children:b.jsxs(Cr,{trapFocus:!0,withinPortal:!1,children:[b.jsx(Cr.Target,{children:b.jsx(on,{variant:"light",size:"sm",children:b.jsx(I3,{})})}),b.jsx(Cr.Dropdown,{children:b.jsx(Sq,{editTag:!0,currentNames:e.map(p=>p.id),addTagCallback:p=>{s(m,p)},editableTag:m})})]})})]})},m.id)),[s,t,e,a]),h=A.useMemo(()=>e.filter(m=>m!==void 0&&!t.find(p=>p&&p.id===m.id)).map(m=>b.jsx(Un.Option,{value:m.id,children:b.jsxs(ln,{justify:"space-between",gap:"sm",style:{width:"100%"},wrap:"nowrap",children:[b.jsx(ct,{label:m.name,withArrow:!0,openDelay:600,children:b.jsxs(ln,{wrap:"nowrap",children:[b.jsx(xh,{size:10,color:m.color}),b.jsx($e,{style:{width:a-100},truncate:"end",children:m.name})]})}),b.jsx(De,{onClick:p=>{p.preventDefault(),p.stopPropagation()},children:b.jsxs(Cr,{trapFocus:!0,withinPortal:!1,children:[b.jsx(Cr.Target,{children:b.jsx(on,{variant:"light",size:"sm",onClick:p=>{p.stopPropagation(),p.preventDefault()},children:b.jsx(I3,{})})}),b.jsx(Cr.Dropdown,{children:b.jsx(Sq,{editTag:!0,currentNames:e.map(p=>p.id),addTagCallback:p=>{s(m,p)},editableTag:m})})]})})]})},m.id)),[s,t,e,a]);return b.jsxs(Un,{disabled:r,width:a,store:l,onOptionSubmit:c,withinPortal:!0,children:[b.jsx(Un.DropdownTarget,{children:b.jsx(nx,{style:{width:a},pointer:!0,onClick:()=>l.toggleDropdown(),children:b.jsxs(Fv.Group,{children:[t.length>0?d:b.jsx(Or.Placeholder,{children:i}),b.jsx(Un.EventsTarget,{children:b.jsx(nx.Field,{type:"hidden"})})]})})}),b.jsx(Un.Dropdown,{children:b.jsxs(Un.Options,{children:[h.length===0&&f.length===0?b.jsx(Un.Empty,{children:"No additional tags"}):[...f,...h],b.jsx(Yqt,{createTagCallback:o,tags:e||[]})]})})]})}var aB={exports:{}};var yme;function Kqt(){return yme||(yme=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(r,i,o){function s(u,c){if(!i[u]){if(!r[u]){var d=typeof Dp=="function"&&Dp;if(!c&&d)return d(u,!0);if(a)return a(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var h=i[u]={exports:{}};r[u][0].call(h.exports,function(m){var p=r[u][1][m];return s(p||m)},h,h.exports,n,r,i,o)}return i[u].exports}for(var a=typeof Dp=="function"&&Dp,l=0;l<o.length;l++)s(o[l]);return s})({1:[function(n,r,i){var o=n("./utils"),s=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,c,d,f,h,m,p,g=[],v=0,y=l.length,w=y,_=o.getTypeOf(l)!=="string";v<l.length;)w=y-v,d=_?(u=l[v++],c=v<y?l[v++]:0,v<y?l[v++]:0):(u=l.charCodeAt(v++),c=v<y?l.charCodeAt(v++):0,v<y?l.charCodeAt(v++):0),f=u>>2,h=(3&u)<<4|c>>4,m=1<w?(15&c)<<2|d>>6:64,p=2<w?63&d:64,g.push(a.charAt(f)+a.charAt(h)+a.charAt(m)+a.charAt(p));return g.join("")},i.decode=function(l){var u,c,d,f,h,m,p=0,g=0,v="data:";if(l.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var y,w=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&w--,l.charAt(l.length-2)===a.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=s.uint8array?new Uint8Array(0|w):new Array(0|w);p<l.length;)u=a.indexOf(l.charAt(p++))<<2|(f=a.indexOf(l.charAt(p++)))>>4,c=(15&f)<<4|(h=a.indexOf(l.charAt(p++)))>>2,d=(3&h)<<6|(m=a.indexOf(l.charAt(p++))),y[g++]=u,h!==64&&(y[g++]=c),m!==64&&(y[g++]=d);return y}},{"./support":30,"./utils":32}],2:[function(n,r,i){var o=n("./external"),s=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function u(c,d,f,h,m){this.compressedSize=c,this.uncompressedSize=d,this.crc32=f,this.compression=h,this.compressedContent=m}u.prototype={getContentWorker:function(){var c=new s(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),d=this;return c.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new s(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,d,f){return c.pipe(new a).pipe(new l("uncompressedSize")).pipe(d.compressWorker(f)).pipe(new l("compressedSize")).withStreamInfo("compression",d)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var o=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var o=n("./utils"),s=(function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l})();r.exports=function(a,l){return a!==void 0&&a.length?o.getTypeOf(a)!=="string"?(function(u,c,d,f){var h=s,m=f+d;u^=-1;for(var p=f;p<m;p++)u=u>>>8^h[255&(u^c[p])];return-1^u})(0|l,a,a.length,0):(function(u,c,d,f){var h=s,m=f+d;u^=-1;for(var p=f;p<m;p++)u=u>>>8^h[255&(u^c.charCodeAt(p))];return-1^u})(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var o=null;o=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:o}},{lie:37}],7:[function(n,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),u=o?"uint8array":"array";function c(d,f){l.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=f,this.meta={}}i.magic="\b\0",a.inherits(c,l),c.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,d.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(f){d.push({data:f,meta:d.meta})}},i.compressWorker=function(d){return new c("Deflate",d)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function o(h,m){var p,g="";for(p=0;p<m;p++)g+=String.fromCharCode(255&h),h>>>=8;return g}function s(h,m,p,g,v,y){var w,_,E=h.file,S=h.compression,T=y!==u.utf8encode,k=a.transformTo("string",y(E.name)),R=a.transformTo("string",u.utf8encode(E.name)),I=E.comment,P=a.transformTo("string",y(I)),N=a.transformTo("string",u.utf8encode(I)),M=R.length!==E.name.length,O=N.length!==I.length,j="",U="",q="",W=E.dir,V=E.date,z={crc32:0,compressedSize:0,uncompressedSize:0};m&&!p||(z.crc32=h.crc32,z.compressedSize=h.compressedSize,z.uncompressedSize=h.uncompressedSize);var L=0;m&&(L|=8),T||!M&&!O||(L|=2048);var H=0,B=0;W&&(H|=16),v==="UNIX"?(B=798,H|=(function(Q,ne){var ce=Q;return Q||(ce=ne?16893:33204),(65535&ce)<<16})(E.unixPermissions,W)):(B=20,H|=(function(Q){return 63&(Q||0)})(E.dosPermissions)),w=V.getUTCHours(),w<<=6,w|=V.getUTCMinutes(),w<<=5,w|=V.getUTCSeconds()/2,_=V.getUTCFullYear()-1980,_<<=4,_|=V.getUTCMonth()+1,_<<=5,_|=V.getUTCDate(),M&&(U=o(1,1)+o(c(k),4)+R,j+="up"+o(U.length,2)+U),O&&(q=o(1,1)+o(c(P),4)+N,j+="uc"+o(q.length,2)+q);var Y="";return Y+=`
\0`,Y+=o(L,2),Y+=S.magic,Y+=o(w,2),Y+=o(_,2),Y+=o(z.crc32,4),Y+=o(z.compressedSize,4),Y+=o(z.uncompressedSize,4),Y+=o(k.length,2),Y+=o(j.length,2),{fileRecord:d.LOCAL_FILE_HEADER+Y+k+j,dirRecord:d.CENTRAL_FILE_HEADER+o(B,2)+Y+o(P.length,2)+"\0\0\0\0"+o(H,4)+o(g,4)+k+j+P}}var a=n("../utils"),l=n("../stream/GenericWorker"),u=n("../utf8"),c=n("../crc32"),d=n("../signature");function f(h,m,p,g){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=m,this.zipPlatform=p,this.encodeFileName=g,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(f,l),f.prototype.push=function(h){var m=h.meta.percent||0,p=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,l.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:p?(m+100*(p-g-1))/p:100}}))},f.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var m=this.streamFiles&&!h.file.dir;if(m){var p=s(h,m,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:p.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(h){this.accumulate=!1;var m=this.streamFiles&&!h.file.dir,p=s(h,m,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(p.dirRecord),m)this.push({data:(function(g){return d.DATA_DESCRIPTOR+o(g.crc32,4)+o(g.compressedSize,4)+o(g.uncompressedSize,4)})(h),meta:{percent:100}});else for(this.push({data:p.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var h=this.bytesWritten,m=0;m<this.dirRecords.length;m++)this.push({data:this.dirRecords[m],meta:{percent:100}});var p=this.bytesWritten-h,g=(function(v,y,w,_,E){var S=a.transformTo("string",E(_));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(v,2)+o(v,2)+o(y,4)+o(w,4)+o(S.length,2)+S})(this.dirRecords.length,p,h,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(h){this._sources.push(h);var m=this;return h.on("data",function(p){m.processChunk(p)}),h.on("end",function(){m.closedSource(m.previous.streamInfo),m._sources.length?m.prepareNextSource():m.end()}),h.on("error",function(p){m.error(p)}),this},f.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(h){var m=this._sources;if(!l.prototype.error.call(this,h))return!1;for(var p=0;p<m.length;p++)try{m[p].error(h)}catch{}return!0},f.prototype.lock=function(){l.prototype.lock.call(this);for(var h=this._sources,m=0;m<h.length;m++)h[m].lock()},r.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var o=n("../compressions"),s=n("./ZipFileWorker");i.generateWorker=function(a,l,u){var c=new s(l.streamFiles,u,l.platform,l.encodeFileName),d=0;try{a.forEach(function(f,h){d++;var m=(function(y,w){var _=y||w,E=o[_];if(!E)throw new Error(_+" is not a valid compression method !");return E})(h.options.compression,l.compression),p=h.options.compressionOptions||l.compressionOptions||{},g=h.dir,v=h.date;h._compressWorker(m,p).withStreamInfo("file",{name:f,dir:g,date:v,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(c)}),c.entriesCount=d}catch(f){c.error(f)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new o;for(var a in this)typeof this[a]!="function"&&(s[a]=this[a]);return s}}(o.prototype=n("./object")).loadAsync=n("./load"),o.support=n("./support"),o.defaults=n("./defaults"),o.version="3.10.1",o.loadAsync=function(s,a){return new o().loadAsync(s,a)},o.external=n("./external"),r.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var o=n("./utils"),s=n("./external"),a=n("./utf8"),l=n("./zipEntries"),u=n("./stream/Crc32Probe"),c=n("./nodejsUtils");function d(f){return new s.Promise(function(h,m){var p=f.decompressed.getContentWorker().pipe(new u);p.on("error",function(g){m(g)}).on("end",function(){p.streamInfo.crc32!==f.decompressed.crc32?m(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}r.exports=function(f,h){var m=this;return h=o.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(f)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",f,!0,h.optimizedBinaryString,h.base64).then(function(p){var g=new l(h);return g.load(p),g}).then(function(p){var g=[s.Promise.resolve(p)],v=p.files;if(h.checkCRC32)for(var y=0;y<v.length;y++)g.push(d(v[y]));return s.Promise.all(g)}).then(function(p){for(var g=p.shift(),v=g.files,y=0;y<v.length;y++){var w=v[y],_=w.fileNameStr,E=o.resolve(w.fileNameStr);m.file(E,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:h.createFolders}),w.dir||(m.file(E).unsafeOriginalName=_)}return g.zipComment.length&&(m.comment=g.zipComment),m})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var o=n("../utils"),s=n("../stream/GenericWorker");function a(l,u){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}o.inherits(a,s),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var o=n("readable-stream").Readable;function s(a,l,u){o.call(this,l),this._helper=a;var c=this;a.on("data",function(d,f){c.push(d)||c._helper.pause(),u&&u(f)}).on("error",function(d){c.emit("error",d)}).on("end",function(){c.push(null)})}n("../utils").inherits(s,o),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,s);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,s)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var s=new Buffer(o);return s.fill(0),s},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(n,r,i){function o(E,S,T){var k,R=a.getTypeOf(S),I=a.extend(T||{},c);I.date=I.date||new Date,I.compression!==null&&(I.compression=I.compression.toUpperCase()),typeof I.unixPermissions=="string"&&(I.unixPermissions=parseInt(I.unixPermissions,8)),I.unixPermissions&&16384&I.unixPermissions&&(I.dir=!0),I.dosPermissions&&16&I.dosPermissions&&(I.dir=!0),I.dir&&(E=v(E)),I.createFolders&&(k=g(E))&&y.call(this,k,!0);var P=R==="string"&&I.binary===!1&&I.base64===!1;T&&T.binary!==void 0||(I.binary=!P),(S instanceof d&&S.uncompressedSize===0||I.dir||!S||S.length===0)&&(I.base64=!1,I.binary=!0,S="",I.compression="STORE",R="string");var N=null;N=S instanceof d||S instanceof l?S:m.isNode&&m.isStream(S)?new p(E,S):a.prepareContent(E,S,I.binary,I.optimizedBinaryString,I.base64);var M=new f(E,N,I);this.files[E]=M}var s=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),c=n("./defaults"),d=n("./compressedObject"),f=n("./zipObject"),h=n("./generate"),m=n("./nodejsUtils"),p=n("./nodejs/NodejsStreamInputAdapter"),g=function(E){E.slice(-1)==="/"&&(E=E.substring(0,E.length-1));var S=E.lastIndexOf("/");return 0<S?E.substring(0,S):""},v=function(E){return E.slice(-1)!=="/"&&(E+="/"),E},y=function(E,S){return S=S!==void 0?S:c.createFolders,E=v(E),this.files[E]||o.call(this,E,null,{dir:!0,createFolders:S}),this.files[E]};function w(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var _={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var S,T,k;for(S in this.files)k=this.files[S],(T=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&E(T,k)},filter:function(E){var S=[];return this.forEach(function(T,k){E(T,k)&&S.push(k)}),S},file:function(E,S,T){if(arguments.length!==1)return E=this.root+E,o.call(this,E,S,T),this;if(w(E)){var k=E;return this.filter(function(I,P){return!P.dir&&k.test(I)})}var R=this.files[this.root+E];return R&&!R.dir?R:null},folder:function(E){if(!E)return this;if(w(E))return this.filter(function(R,I){return I.dir&&E.test(R)});var S=this.root+E,T=y.call(this,S),k=this.clone();return k.root=T.name,k},remove:function(E){E=this.root+E;var S=this.files[E];if(S||(E.slice(-1)!=="/"&&(E+="/"),S=this.files[E]),S&&!S.dir)delete this.files[E];else for(var T=this.filter(function(R,I){return I.name.slice(0,E.length)===E}),k=0;k<T.length;k++)delete this.files[T[k].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var S,T={};try{if((T=a.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=T.type.toLowerCase(),T.compression=T.compression.toUpperCase(),T.type==="binarystring"&&(T.type="string"),!T.type)throw new Error("No output type specified.");a.checkSupport(T.type),T.platform!=="darwin"&&T.platform!=="freebsd"&&T.platform!=="linux"&&T.platform!=="sunos"||(T.platform="UNIX"),T.platform==="win32"&&(T.platform="DOS");var k=T.comment||this.comment||"";S=h.generateWorker(this,T,k)}catch(R){(S=new l("error")).error(R)}return new u(S,T.type||"string",T.mimeType)},generateAsync:function(E,S){return this.generateInternalStream(E).accumulate(S)},generateNodeStream:function(E,S){return(E=E||{}).type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(S)}};r.exports=_},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var o=n("./DataReader");function s(a){o.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(s,o),s.prototype.byteAt=function(a){return this.data[this.zero+a]},s.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),d=a.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===l&&this.data[f+1]===u&&this.data[f+2]===c&&this.data[f+3]===d)return f-this.zero;return-1},s.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),d=a.charCodeAt(3),f=this.readData(4);return l===f[0]&&u===f[1]&&c===f[2]&&d===f[3]},s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var o=n("../utils");function s(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return o.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=s},{"../utils":32}],19:[function(n,r,i){var o=n("./Uint8ArrayReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var o=n("./DataReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},s.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},s.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var o=n("./ArrayReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var o=n("../utils"),s=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),u=n("./NodeBufferReader"),c=n("./Uint8ArrayReader");r.exports=function(d){var f=o.getTypeOf(d);return o.checkSupport(f),f!=="string"||s.uint8array?f==="nodebuffer"?new u(d):s.uint8array?new c(o.transformTo("uint8array",d)):new a(o.transformTo("array",d)):new l(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var o=n("./GenericWorker"),s=n("../utils");function a(l){o.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(a,o),a.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var o=n("./GenericWorker"),s=n("../crc32");function a(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,o),a.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var o=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}o.inherits(a,s),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}s.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var o=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=o.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}o.inherits(a,s),a.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function o(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,a){return this._listeners[s].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,a){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,a)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var a=this;return s.on("data",function(l){a.processChunk(l)}),s.on("end",function(){a.end()}),s.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,a){return this.extraStreamInfo[s]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=o},{}],29:[function(n,r,i){var o=n("../utils"),s=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),u=n("../support"),c=n("../external"),d=null;if(u.nodestream)try{d=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(m,p){return new c.Promise(function(g,v){var y=[],w=m._internalType,_=m._outputType,E=m._mimeType;m.on("data",function(S,T){y.push(S),p&&p(T)}).on("error",function(S){y=[],v(S)}).on("end",function(){try{var S=(function(T,k,R){switch(T){case"blob":return o.newBlob(o.transformTo("arraybuffer",k),R);case"base64":return l.encode(k);default:return o.transformTo(T,k)}})(_,(function(T,k){var R,I=0,P=null,N=0;for(R=0;R<k.length;R++)N+=k[R].length;switch(T){case"string":return k.join("");case"array":return Array.prototype.concat.apply([],k);case"uint8array":for(P=new Uint8Array(N),R=0;R<k.length;R++)P.set(k[R],I),I+=k[R].length;return P;case"nodebuffer":return Buffer.concat(k);default:throw new Error("concat : unsupported type '"+T+"'")}})(w,y),E);g(S)}catch(T){v(T)}y=[]}).resume()})}function h(m,p,g){var v=p;switch(p){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=p,this._mimeType=g,o.checkSupport(v),this._worker=m.pipe(new s(v)),m.lock()}catch(y){this._worker=new a("error"),this._worker.error(y)}}h.prototype={accumulate:function(m){return f(this,m)},on:function(m,p){var g=this;return m==="data"?this._worker.on(m,function(v){p.call(g,v.data,v.meta)}):this._worker.on(m,function(){o.delay(p,arguments,g)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(m){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},m)}},r.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(o),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var o=n("./utils"),s=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function d(){l.call(this,"utf-8 decode"),this.leftOver=null}function f(){l.call(this,"utf-8 encode")}i.utf8encode=function(h){return s.nodebuffer?a.newBufferFrom(h,"utf-8"):(function(m){var p,g,v,y,w,_=m.length,E=0;for(y=0;y<_;y++)(64512&(g=m.charCodeAt(y)))==55296&&y+1<_&&(64512&(v=m.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(v-56320),y++),E+=g<128?1:g<2048?2:g<65536?3:4;for(p=s.uint8array?new Uint8Array(E):new Array(E),y=w=0;w<E;y++)(64512&(g=m.charCodeAt(y)))==55296&&y+1<_&&(64512&(v=m.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(v-56320),y++),g<128?p[w++]=g:(g<2048?p[w++]=192|g>>>6:(g<65536?p[w++]=224|g>>>12:(p[w++]=240|g>>>18,p[w++]=128|g>>>12&63),p[w++]=128|g>>>6&63),p[w++]=128|63&g);return p})(h)},i.utf8decode=function(h){return s.nodebuffer?o.transformTo("nodebuffer",h).toString("utf-8"):(function(m){var p,g,v,y,w=m.length,_=new Array(2*w);for(p=g=0;p<w;)if((v=m[p++])<128)_[g++]=v;else if(4<(y=u[v]))_[g++]=65533,p+=y-1;else{for(v&=y===2?31:y===3?15:7;1<y&&p<w;)v=v<<6|63&m[p++],y--;1<y?_[g++]=65533:v<65536?_[g++]=v:(v-=65536,_[g++]=55296|v>>10&1023,_[g++]=56320|1023&v)}return _.length!==g&&(_.subarray?_=_.subarray(0,g):_.length=g),o.applyFromCharCode(_)})(h=o.transformTo(s.uint8array?"uint8array":"array",h))},o.inherits(d,l),d.prototype.processChunk=function(h){var m=o.transformTo(s.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var p=m;(m=new Uint8Array(p.length+this.leftOver.length)).set(this.leftOver,0),m.set(p,this.leftOver.length)}else m=this.leftOver.concat(m);this.leftOver=null}var g=(function(y,w){var _;for((w=w||y.length)>y.length&&(w=y.length),_=w-1;0<=_&&(192&y[_])==128;)_--;return _<0||_===0?w:_+u[y[_]]>w?_:w})(m),v=m;g!==m.length&&(s.uint8array?(v=m.subarray(0,g),this.leftOver=m.subarray(g,m.length)):(v=m.slice(0,g),this.leftOver=m.slice(g,m.length))),this.push({data:i.utf8decode(v),meta:h.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=d,o.inherits(f,l),f.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var o=n("./support"),s=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function u(p){return p}function c(p,g){for(var v=0;v<p.length;++v)g[v]=255&p.charCodeAt(v);return g}n("setimmediate"),i.newBlob=function(p,g){i.checkSupport("blob");try{return new Blob([p],{type:g})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(p),v.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(p,g,v){var y=[],w=0,_=p.length;if(_<=v)return String.fromCharCode.apply(null,p);for(;w<_;)g==="array"||g==="nodebuffer"?y.push(String.fromCharCode.apply(null,p.slice(w,Math.min(w+v,_)))):y.push(String.fromCharCode.apply(null,p.subarray(w,Math.min(w+v,_)))),w+=v;return y.join("")},stringifyByChar:function(p){for(var g="",v=0;v<p.length;v++)g+=String.fromCharCode(p[v]);return g},applyCanBeUsed:{uint8array:(function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}})()}};function f(p){var g=65536,v=i.getTypeOf(p),y=!0;if(v==="uint8array"?y=d.applyCanBeUsed.uint8array:v==="nodebuffer"&&(y=d.applyCanBeUsed.nodebuffer),y)for(;1<g;)try{return d.stringifyByChunk(p,v,g)}catch{g=Math.floor(g/2)}return d.stringifyByChar(p)}function h(p,g){for(var v=0;v<p.length;v++)g[v]=p[v];return g}i.applyFromCharCode=f;var m={};m.string={string:u,array:function(p){return c(p,new Array(p.length))},arraybuffer:function(p){return m.string.uint8array(p).buffer},uint8array:function(p){return c(p,new Uint8Array(p.length))},nodebuffer:function(p){return c(p,a.allocBuffer(p.length))}},m.array={string:f,array:u,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return a.newBufferFrom(p)}},m.arraybuffer={string:function(p){return f(new Uint8Array(p))},array:function(p){return h(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:u,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return a.newBufferFrom(new Uint8Array(p))}},m.uint8array={string:f,array:function(p){return h(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:u,nodebuffer:function(p){return a.newBufferFrom(p)}},m.nodebuffer={string:f,array:function(p){return h(p,new Array(p.length))},arraybuffer:function(p){return m.nodebuffer.uint8array(p).buffer},uint8array:function(p){return h(p,new Uint8Array(p.length))},nodebuffer:u},i.transformTo=function(p,g){if(g=g||"",!p)return g;i.checkSupport(p);var v=i.getTypeOf(g);return m[v][p](g)},i.resolve=function(p){for(var g=p.split("/"),v=[],y=0;y<g.length;y++){var w=g[y];w==="."||w===""&&y!==0&&y!==g.length-1||(w===".."?v.pop():v.push(w))}return v.join("/")},i.getTypeOf=function(p){return typeof p=="string"?"string":Object.prototype.toString.call(p)==="[object Array]"?"array":o.nodebuffer&&a.isBuffer(p)?"nodebuffer":o.uint8array&&p instanceof Uint8Array?"uint8array":o.arraybuffer&&p instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(p){if(!o[p.toLowerCase()])throw new Error(p+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(p){var g,v,y="";for(v=0;v<(p||"").length;v++)y+="\\x"+((g=p.charCodeAt(v))<16?"0":"")+g.toString(16).toUpperCase();return y},i.delay=function(p,g,v){setImmediate(function(){p.apply(v||null,g||[])})},i.inherits=function(p,g){function v(){}v.prototype=g.prototype,p.prototype=new v},i.extend=function(){var p,g,v={};for(p=0;p<arguments.length;p++)for(g in arguments[p])Object.prototype.hasOwnProperty.call(arguments[p],g)&&v[g]===void 0&&(v[g]=arguments[p][g]);return v},i.prepareContent=function(p,g,v,y,w){return l.Promise.resolve(g).then(function(_){return o.blob&&(_ instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(_))!==-1)&&typeof FileReader<"u"?new l.Promise(function(E,S){var T=new FileReader;T.onload=function(k){E(k.target.result)},T.onerror=function(k){S(k.target.error)},T.readAsArrayBuffer(_)}):_}).then(function(_){var E=i.getTypeOf(_);return E?(E==="arraybuffer"?_=i.transformTo("uint8array",_):E==="string"&&(w?_=s.decode(_):v&&y!==!0&&(_=(function(S){return c(S,o.uint8array?new Uint8Array(S.length):new Array(S.length))})(_))),_):l.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var o=n("./reader/readerFor"),s=n("./utils"),a=n("./signature"),l=n("./zipEntry"),u=n("./support");function c(d){this.files=[],this.loadOptions=d}c.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(f)+", expected "+s.pretty(d)+")")}},isSignature:function(d,f){var h=this.reader.index;this.reader.setIndex(d);var m=this.reader.readString(4)===f;return this.reader.setIndex(h),m},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),f=u.uint8array?"uint8array":"array",h=s.transformTo(f,d);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,f,h,m=this.zip64EndOfCentralSize-44;0<m;)d=this.reader.readInt(2),f=this.reader.readInt(4),h=this.reader.readData(f),this.zip64ExtensibleData[d]={id:d,length:f,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,f;for(d=0;d<this.files.length;d++)f=this.files[d],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(d=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var f=d;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var m=f-h;if(0<m)this.isSignature(f,a.CENTRAL_FILE_HEADER)||(this.reader.zero=m);else if(m<0)throw new Error("Corrupted zip: missing "+Math.abs(m)+" bytes.")},prepareReader:function(d){this.reader=o(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var o=n("./reader/readerFor"),s=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),u=n("./utf8"),c=n("./compressions"),d=n("./support");function f(h,m){this.options=h,this.loadOptions=m}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var m,p;if(h.skip(22),this.fileNameLength=h.readInt(2),p=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(p),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((m=(function(g){for(var v in c)if(Object.prototype.hasOwnProperty.call(c,v)&&c[v].magic===g)return c[v];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,m,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var m=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(m),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=o(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var m,p,g,v=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<v;)m=h.readInt(2),p=h.readInt(2),g=h.readData(p),this.extraFields[m]={id:m,length:p,value:g};h.setIndex(v)},handleUTF8:function(){var h=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var m=this.findExtraFieldUnicodePath();if(m!==null)this.fileNameStr=m;else{var p=s.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(p)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var v=s.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var m=o(h.value);return m.readInt(1)!==1||l(this.fileName)!==m.readInt(4)?null:u.utf8decode(m.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var m=o(h.value);return m.readInt(1)!==1||l(this.fileComment)!==m.readInt(4)?null:u.utf8decode(m.readData(h.length-5))}return null}},r.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function o(m,p,g){this.name=m,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=p,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var s=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),u=n("./compressedObject"),c=n("./stream/GenericWorker");o.prototype={internalStream:function(m){var p=null,g="string";try{if(!m)throw new Error("No output type specified.");var v=(g=m.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),p=this._decompressWorker();var y=!this._dataBinary;y&&!v&&(p=p.pipe(new l.Utf8EncodeWorker)),!y&&v&&(p=p.pipe(new l.Utf8DecodeWorker))}catch(w){(p=new c("error")).error(w)}return new s(p,g,"")},async:function(m,p){return this.internalStream(m).accumulate(p)},nodeStream:function(m,p){return this.internalStream(m||"nodebuffer").toNodejsStream(p)},_compressWorker:function(m,p){if(this._data instanceof u&&this._data.compression.magic===m.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(g,m,p)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new a(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<d.length;h++)o.prototype[d[h]]=f;r.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(o){var s,a,l=o.MutationObserver||o.WebKitMutationObserver;if(l){var u=0,c=new l(m),d=o.document.createTextNode("");c.observe(d,{characterData:!0}),s=function(){d.data=u=++u%2}}else if(o.setImmediate||o.MessageChannel===void 0)s="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var p=o.document.createElement("script");p.onreadystatechange=function(){m(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},o.document.documentElement.appendChild(p)}:function(){setTimeout(m,0)};else{var f=new o.MessageChannel;f.port1.onmessage=m,s=function(){f.port2.postMessage(0)}}var h=[];function m(){var p,g;a=!0;for(var v=h.length;v;){for(g=h,h=[],p=-1;++p<v;)g[p]();v=h.length}a=!1}r.exports=function(p){h.push(p)!==1||a||s()}}).call(this,typeof xi<"u"?xi:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var o=n("immediate");function s(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function d(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,v!==s&&p(this,v)}function f(v,y,w){this.promise=v,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function h(v,y,w){o(function(){var _;try{_=y(w)}catch(E){return a.reject(v,E)}_===v?a.reject(v,new TypeError("Cannot resolve promise with itself")):a.resolve(v,_)})}function m(v){var y=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof y=="function")return function(){y.apply(v,arguments)}}function p(v,y){var w=!1;function _(T){w||(w=!0,a.reject(v,T))}function E(T){w||(w=!0,a.resolve(v,T))}var S=g(function(){y(E,_)});S.status==="error"&&_(S.value)}function g(v,y){var w={};try{w.value=v(y),w.status="success"}catch(_){w.status="error",w.value=_}return w}(r.exports=d).prototype.finally=function(v){if(typeof v!="function")return this;var y=this.constructor;return this.then(function(w){return y.resolve(v()).then(function(){return w})},function(w){return y.resolve(v()).then(function(){throw w})})},d.prototype.catch=function(v){return this.then(null,v)},d.prototype.then=function(v,y){if(typeof v!="function"&&this.state===u||typeof y!="function"&&this.state===l)return this;var w=new this.constructor(s);return this.state!==c?h(w,this.state===u?v:y,this.outcome):this.queue.push(new f(w,v,y)),w},f.prototype.callFulfilled=function(v){a.resolve(this.promise,v)},f.prototype.otherCallFulfilled=function(v){h(this.promise,this.onFulfilled,v)},f.prototype.callRejected=function(v){a.reject(this.promise,v)},f.prototype.otherCallRejected=function(v){h(this.promise,this.onRejected,v)},a.resolve=function(v,y){var w=g(m,y);if(w.status==="error")return a.reject(v,w.value);var _=w.value;if(_)p(v,_);else{v.state=u,v.outcome=y;for(var E=-1,S=v.queue.length;++E<S;)v.queue[E].callFulfilled(y)}return v},a.reject=function(v,y){v.state=l,v.outcome=y;for(var w=-1,_=v.queue.length;++w<_;)v.queue[w].callRejected(y);return v},d.resolve=function(v){return v instanceof this?v:a.resolve(new this(s),v)},d.reject=function(v){var y=new this(s);return a.reject(y,v)},d.all=function(v){var y=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=v.length,_=!1;if(!w)return this.resolve([]);for(var E=new Array(w),S=0,T=-1,k=new this(s);++T<w;)R(v[T],T);return k;function R(I,P){y.resolve(I).then(function(N){E[P]=N,++S!==w||_||(_=!0,a.resolve(k,E))},function(N){_||(_=!0,a.reject(k,N))})}},d.race=function(v){var y=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=v.length,_=!1;if(!w)return this.resolve([]);for(var E=-1,S=new this(s);++E<w;)T=v[E],y.resolve(T).then(function(k){_||(_=!0,a.resolve(S,k))},function(k){_||(_=!0,a.reject(S,k))});var T;return S}},{immediate:36}],38:[function(n,r,i){var o={};(0,n("./lib/utils/common").assign)(o,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var o=n("./zlib/deflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),u=n("./zlib/zstream"),c=Object.prototype.toString,d=0,f=-1,h=0,m=8;function p(v){if(!(this instanceof p))return new p(v);this.options=s.assign({level:f,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},v||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var w=o.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(w!==d)throw new Error(l[w]);if(y.header&&o.deflateSetHeader(this.strm,y.header),y.dictionary){var _;if(_=typeof y.dictionary=="string"?a.string2buf(y.dictionary):c.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(w=o.deflateSetDictionary(this.strm,_))!==d)throw new Error(l[w]);this._dict_set=!0}}function g(v,y){var w=new p(y);if(w.push(v,!0),w.err)throw w.msg||l[w.err];return w.result}p.prototype.push=function(v,y){var w,_,E=this.strm,S=this.options.chunkSize;if(this.ended)return!1;_=y===~~y?y:y===!0?4:0,typeof v=="string"?E.input=a.string2buf(v):c.call(v)==="[object ArrayBuffer]"?E.input=new Uint8Array(v):E.input=v,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new s.Buf8(S),E.next_out=0,E.avail_out=S),(w=o.deflate(E,_))!==1&&w!==d)return this.onEnd(w),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||_!==4&&_!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(s.shrinkBuf(E.output,E.next_out))):this.onData(s.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&w!==1);return _===4?(w=o.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===d):_!==2||(this.onEnd(d),!(E.avail_out=0))},p.prototype.onData=function(v){this.chunks.push(v)},p.prototype.onEnd=function(v){v===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Deflate=p,i.deflate=g,i.deflateRaw=function(v,y){return(y=y||{}).raw=!0,g(v,y)},i.gzip=function(v,y){return(y=y||{}).gzip=!0,g(v,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var o=n("./zlib/inflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),u=n("./zlib/messages"),c=n("./zlib/zstream"),d=n("./zlib/gzheader"),f=Object.prototype.toString;function h(p){if(!(this instanceof h))return new h(p);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},p||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||p&&p.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&(15&g.windowBits)==0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var v=o.inflateInit2(this.strm,g.windowBits);if(v!==l.Z_OK)throw new Error(u[v]);this.header=new d,o.inflateGetHeader(this.strm,this.header)}function m(p,g){var v=new h(g);if(v.push(p,!0),v.err)throw v.msg||u[v.err];return v.result}h.prototype.push=function(p,g){var v,y,w,_,E,S,T=this.strm,k=this.options.chunkSize,R=this.options.dictionary,I=!1;if(this.ended)return!1;y=g===~~g?g:g===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof p=="string"?T.input=a.binstring2buf(p):f.call(p)==="[object ArrayBuffer]"?T.input=new Uint8Array(p):T.input=p,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new s.Buf8(k),T.next_out=0,T.avail_out=k),(v=o.inflate(T,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&R&&(S=typeof R=="string"?a.string2buf(R):f.call(R)==="[object ArrayBuffer]"?new Uint8Array(R):R,v=o.inflateSetDictionary(this.strm,S)),v===l.Z_BUF_ERROR&&I===!0&&(v=l.Z_OK,I=!1),v!==l.Z_STREAM_END&&v!==l.Z_OK)return this.onEnd(v),!(this.ended=!0);T.next_out&&(T.avail_out!==0&&v!==l.Z_STREAM_END&&(T.avail_in!==0||y!==l.Z_FINISH&&y!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=a.utf8border(T.output,T.next_out),_=T.next_out-w,E=a.buf2string(T.output,w),T.next_out=_,T.avail_out=k-_,_&&s.arraySet(T.output,T.output,w,_,0),this.onData(E)):this.onData(s.shrinkBuf(T.output,T.next_out)))),T.avail_in===0&&T.avail_out===0&&(I=!0)}while((0<T.avail_in||T.avail_out===0)&&v!==l.Z_STREAM_END);return v===l.Z_STREAM_END&&(y=l.Z_FINISH),y===l.Z_FINISH?(v=o.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===l.Z_OK):y!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(T.avail_out=0))},h.prototype.onData=function(p){this.chunks.push(p)},h.prototype.onEnd=function(p){p===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},i.Inflate=h,i.inflate=m,i.inflateRaw=function(p,g){return(g=g||{}).raw=!0,m(p,g)},i.ungzip=m},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var d in c)c.hasOwnProperty(d)&&(l[d]=c[d])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var s={arraySet:function(l,u,c,d,f){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+d),f);else for(var h=0;h<d;h++)l[f+h]=u[c+h]},flattenChunks:function(l){var u,c,d,f,h,m;for(u=d=0,c=l.length;u<c;u++)d+=l[u].length;for(m=new Uint8Array(d),u=f=0,c=l.length;u<c;u++)h=l[u],m.set(h,f),f+=h.length;return m}},a={arraySet:function(l,u,c,d,f){for(var h=0;h<d;h++)l[f+h]=u[c+h]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(o)},{}],42:[function(n,r,i){var o=n("./common"),s=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new o.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(d,f){if(f<65537&&(d.subarray&&a||!d.subarray&&s))return String.fromCharCode.apply(null,o.shrinkBuf(d,f));for(var h="",m=0;m<f;m++)h+=String.fromCharCode(d[m]);return h}l[254]=l[254]=1,i.string2buf=function(d){var f,h,m,p,g,v=d.length,y=0;for(p=0;p<v;p++)(64512&(h=d.charCodeAt(p)))==55296&&p+1<v&&(64512&(m=d.charCodeAt(p+1)))==56320&&(h=65536+(h-55296<<10)+(m-56320),p++),y+=h<128?1:h<2048?2:h<65536?3:4;for(f=new o.Buf8(y),p=g=0;g<y;p++)(64512&(h=d.charCodeAt(p)))==55296&&p+1<v&&(64512&(m=d.charCodeAt(p+1)))==56320&&(h=65536+(h-55296<<10)+(m-56320),p++),h<128?f[g++]=h:(h<2048?f[g++]=192|h>>>6:(h<65536?f[g++]=224|h>>>12:(f[g++]=240|h>>>18,f[g++]=128|h>>>12&63),f[g++]=128|h>>>6&63),f[g++]=128|63&h);return f},i.buf2binstring=function(d){return c(d,d.length)},i.binstring2buf=function(d){for(var f=new o.Buf8(d.length),h=0,m=f.length;h<m;h++)f[h]=d.charCodeAt(h);return f},i.buf2string=function(d,f){var h,m,p,g,v=f||d.length,y=new Array(2*v);for(h=m=0;h<v;)if((p=d[h++])<128)y[m++]=p;else if(4<(g=l[p]))y[m++]=65533,h+=g-1;else{for(p&=g===2?31:g===3?15:7;1<g&&h<v;)p=p<<6|63&d[h++],g--;1<g?y[m++]=65533:p<65536?y[m++]=p:(p-=65536,y[m++]=55296|p>>10&1023,y[m++]=56320|1023&p)}return c(y,m)},i.utf8border=function(d,f){var h;for((f=f||d.length)>d.length&&(f=d.length),h=f-1;0<=h&&(192&d[h])==128;)h--;return h<0||h===0?f:h+l[d[h]]>f?h:f}},{"./common":41}],43:[function(n,r,i){r.exports=function(o,s,a,l){for(var u=65535&o|0,c=o>>>16&65535|0,d=0;a!==0;){for(a-=d=2e3<a?2e3:a;c=c+(u=u+s[l++]|0)|0,--d;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var o=(function(){for(var s,a=[],l=0;l<256;l++){s=l;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;a[l]=s}return a})();r.exports=function(s,a,l,u){var c=o,d=u+l;s^=-1;for(var f=u;f<d;f++)s=s>>>8^c[255&(s^a[f])];return-1^s}},{}],46:[function(n,r,i){var o,s=n("../utils/common"),a=n("./trees"),l=n("./adler32"),u=n("./crc32"),c=n("./messages"),d=0,f=4,h=0,m=-2,p=-1,g=4,v=2,y=8,w=9,_=286,E=30,S=19,T=2*_+1,k=15,R=3,I=258,P=I+R+1,N=42,M=113,O=1,j=2,U=3,q=4;function W(X,he){return X.msg=c[he],he}function V(X){return(X<<1)-(4<X?9:0)}function z(X){for(var he=X.length;0<=--he;)X[he]=0}function L(X){var he=X.state,ge=he.pending;ge>X.avail_out&&(ge=X.avail_out),ge!==0&&(s.arraySet(X.output,he.pending_buf,he.pending_out,ge,X.next_out),X.next_out+=ge,he.pending_out+=ge,X.total_out+=ge,X.avail_out-=ge,he.pending-=ge,he.pending===0&&(he.pending_out=0))}function H(X,he){a._tr_flush_block(X,0<=X.block_start?X.block_start:-1,X.strstart-X.block_start,he),X.block_start=X.strstart,L(X.strm)}function B(X,he){X.pending_buf[X.pending++]=he}function Y(X,he){X.pending_buf[X.pending++]=he>>>8&255,X.pending_buf[X.pending++]=255&he}function Q(X,he){var ge,re,ee=X.max_chain_length,fe=X.strstart,Re=X.prev_length,Oe=X.nice_match,Ae=X.strstart>X.w_size-P?X.strstart-(X.w_size-P):0,Se=X.window,xe=X.w_mask,ke=X.prev,me=X.strstart+I,Me=Se[fe+Re-1],ze=Se[fe+Re];X.prev_length>=X.good_match&&(ee>>=2),Oe>X.lookahead&&(Oe=X.lookahead);do if(Se[(ge=he)+Re]===ze&&Se[ge+Re-1]===Me&&Se[ge]===Se[fe]&&Se[++ge]===Se[fe+1]){fe+=2,ge++;do;while(Se[++fe]===Se[++ge]&&Se[++fe]===Se[++ge]&&Se[++fe]===Se[++ge]&&Se[++fe]===Se[++ge]&&Se[++fe]===Se[++ge]&&Se[++fe]===Se[++ge]&&Se[++fe]===Se[++ge]&&Se[++fe]===Se[++ge]&&fe<me);if(re=I-(me-fe),fe=me-I,Re<re){if(X.match_start=he,Oe<=(Re=re))break;Me=Se[fe+Re-1],ze=Se[fe+Re]}}while((he=ke[he&xe])>Ae&&--ee!=0);return Re<=X.lookahead?Re:X.lookahead}function ne(X){var he,ge,re,ee,fe,Re,Oe,Ae,Se,xe,ke=X.w_size;do{if(ee=X.window_size-X.lookahead-X.strstart,X.strstart>=ke+(ke-P)){for(s.arraySet(X.window,X.window,ke,ke,0),X.match_start-=ke,X.strstart-=ke,X.block_start-=ke,he=ge=X.hash_size;re=X.head[--he],X.head[he]=ke<=re?re-ke:0,--ge;);for(he=ge=ke;re=X.prev[--he],X.prev[he]=ke<=re?re-ke:0,--ge;);ee+=ke}if(X.strm.avail_in===0)break;if(Re=X.strm,Oe=X.window,Ae=X.strstart+X.lookahead,Se=ee,xe=void 0,xe=Re.avail_in,Se<xe&&(xe=Se),ge=xe===0?0:(Re.avail_in-=xe,s.arraySet(Oe,Re.input,Re.next_in,xe,Ae),Re.state.wrap===1?Re.adler=l(Re.adler,Oe,xe,Ae):Re.state.wrap===2&&(Re.adler=u(Re.adler,Oe,xe,Ae)),Re.next_in+=xe,Re.total_in+=xe,xe),X.lookahead+=ge,X.lookahead+X.insert>=R)for(fe=X.strstart-X.insert,X.ins_h=X.window[fe],X.ins_h=(X.ins_h<<X.hash_shift^X.window[fe+1])&X.hash_mask;X.insert&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[fe+R-1])&X.hash_mask,X.prev[fe&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=fe,fe++,X.insert--,!(X.lookahead+X.insert<R)););}while(X.lookahead<P&&X.strm.avail_in!==0)}function ce(X,he){for(var ge,re;;){if(X.lookahead<P){if(ne(X),X.lookahead<P&&he===d)return O;if(X.lookahead===0)break}if(ge=0,X.lookahead>=R&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+R-1])&X.hash_mask,ge=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),ge!==0&&X.strstart-ge<=X.w_size-P&&(X.match_length=Q(X,ge)),X.match_length>=R)if(re=a._tr_tally(X,X.strstart-X.match_start,X.match_length-R),X.lookahead-=X.match_length,X.match_length<=X.max_lazy_match&&X.lookahead>=R){for(X.match_length--;X.strstart++,X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+R-1])&X.hash_mask,ge=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart,--X.match_length!=0;);X.strstart++}else X.strstart+=X.match_length,X.match_length=0,X.ins_h=X.window[X.strstart],X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+1])&X.hash_mask;else re=a._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++;if(re&&(H(X,!1),X.strm.avail_out===0))return O}return X.insert=X.strstart<R-1?X.strstart:R-1,he===f?(H(X,!0),X.strm.avail_out===0?U:q):X.last_lit&&(H(X,!1),X.strm.avail_out===0)?O:j}function le(X,he){for(var ge,re,ee;;){if(X.lookahead<P){if(ne(X),X.lookahead<P&&he===d)return O;if(X.lookahead===0)break}if(ge=0,X.lookahead>=R&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+R-1])&X.hash_mask,ge=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),X.prev_length=X.match_length,X.prev_match=X.match_start,X.match_length=R-1,ge!==0&&X.prev_length<X.max_lazy_match&&X.strstart-ge<=X.w_size-P&&(X.match_length=Q(X,ge),X.match_length<=5&&(X.strategy===1||X.match_length===R&&4096<X.strstart-X.match_start)&&(X.match_length=R-1)),X.prev_length>=R&&X.match_length<=X.prev_length){for(ee=X.strstart+X.lookahead-R,re=a._tr_tally(X,X.strstart-1-X.prev_match,X.prev_length-R),X.lookahead-=X.prev_length-1,X.prev_length-=2;++X.strstart<=ee&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+R-1])&X.hash_mask,ge=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),--X.prev_length!=0;);if(X.match_available=0,X.match_length=R-1,X.strstart++,re&&(H(X,!1),X.strm.avail_out===0))return O}else if(X.match_available){if((re=a._tr_tally(X,0,X.window[X.strstart-1]))&&H(X,!1),X.strstart++,X.lookahead--,X.strm.avail_out===0)return O}else X.match_available=1,X.strstart++,X.lookahead--}return X.match_available&&(re=a._tr_tally(X,0,X.window[X.strstart-1]),X.match_available=0),X.insert=X.strstart<R-1?X.strstart:R-1,he===f?(H(X,!0),X.strm.avail_out===0?U:q):X.last_lit&&(H(X,!1),X.strm.avail_out===0)?O:j}function ue(X,he,ge,re,ee){this.good_length=X,this.max_lazy=he,this.nice_length=ge,this.max_chain=re,this.func=ee}function ae(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*T),this.dyn_dtree=new s.Buf16(2*(2*E+1)),this.bl_tree=new s.Buf16(2*(2*S+1)),z(this.dyn_ltree),z(this.dyn_dtree),z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(k+1),this.heap=new s.Buf16(2*_+1),z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*_+1),z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function te(X){var he;return X&&X.state?(X.total_in=X.total_out=0,X.data_type=v,(he=X.state).pending=0,he.pending_out=0,he.wrap<0&&(he.wrap=-he.wrap),he.status=he.wrap?N:M,X.adler=he.wrap===2?0:1,he.last_flush=d,a._tr_init(he),h):W(X,m)}function se(X){var he=te(X);return he===h&&(function(ge){ge.window_size=2*ge.w_size,z(ge.head),ge.max_lazy_match=o[ge.level].max_lazy,ge.good_match=o[ge.level].good_length,ge.nice_match=o[ge.level].nice_length,ge.max_chain_length=o[ge.level].max_chain,ge.strstart=0,ge.block_start=0,ge.lookahead=0,ge.insert=0,ge.match_length=ge.prev_length=R-1,ge.match_available=0,ge.ins_h=0})(X.state),he}function we(X,he,ge,re,ee,fe){if(!X)return m;var Re=1;if(he===p&&(he=6),re<0?(Re=0,re=-re):15<re&&(Re=2,re-=16),ee<1||w<ee||ge!==y||re<8||15<re||he<0||9<he||fe<0||g<fe)return W(X,m);re===8&&(re=9);var Oe=new ae;return(X.state=Oe).strm=X,Oe.wrap=Re,Oe.gzhead=null,Oe.w_bits=re,Oe.w_size=1<<Oe.w_bits,Oe.w_mask=Oe.w_size-1,Oe.hash_bits=ee+7,Oe.hash_size=1<<Oe.hash_bits,Oe.hash_mask=Oe.hash_size-1,Oe.hash_shift=~~((Oe.hash_bits+R-1)/R),Oe.window=new s.Buf8(2*Oe.w_size),Oe.head=new s.Buf16(Oe.hash_size),Oe.prev=new s.Buf16(Oe.w_size),Oe.lit_bufsize=1<<ee+6,Oe.pending_buf_size=4*Oe.lit_bufsize,Oe.pending_buf=new s.Buf8(Oe.pending_buf_size),Oe.d_buf=1*Oe.lit_bufsize,Oe.l_buf=3*Oe.lit_bufsize,Oe.level=he,Oe.strategy=fe,Oe.method=ge,se(X)}o=[new ue(0,0,0,0,function(X,he){var ge=65535;for(ge>X.pending_buf_size-5&&(ge=X.pending_buf_size-5);;){if(X.lookahead<=1){if(ne(X),X.lookahead===0&&he===d)return O;if(X.lookahead===0)break}X.strstart+=X.lookahead,X.lookahead=0;var re=X.block_start+ge;if((X.strstart===0||X.strstart>=re)&&(X.lookahead=X.strstart-re,X.strstart=re,H(X,!1),X.strm.avail_out===0)||X.strstart-X.block_start>=X.w_size-P&&(H(X,!1),X.strm.avail_out===0))return O}return X.insert=0,he===f?(H(X,!0),X.strm.avail_out===0?U:q):(X.strstart>X.block_start&&(H(X,!1),X.strm.avail_out),O)}),new ue(4,4,8,4,ce),new ue(4,5,16,8,ce),new ue(4,6,32,32,ce),new ue(4,4,16,16,le),new ue(8,16,32,32,le),new ue(8,16,128,128,le),new ue(8,32,128,256,le),new ue(32,128,258,1024,le),new ue(32,258,258,4096,le)],i.deflateInit=function(X,he){return we(X,he,y,15,8,0)},i.deflateInit2=we,i.deflateReset=se,i.deflateResetKeep=te,i.deflateSetHeader=function(X,he){return X&&X.state?X.state.wrap!==2?m:(X.state.gzhead=he,h):m},i.deflate=function(X,he){var ge,re,ee,fe;if(!X||!X.state||5<he||he<0)return X?W(X,m):m;if(re=X.state,!X.output||!X.input&&X.avail_in!==0||re.status===666&&he!==f)return W(X,X.avail_out===0?-5:m);if(re.strm=X,ge=re.last_flush,re.last_flush=he,re.status===N)if(re.wrap===2)X.adler=0,B(re,31),B(re,139),B(re,8),re.gzhead?(B(re,(re.gzhead.text?1:0)+(re.gzhead.hcrc?2:0)+(re.gzhead.extra?4:0)+(re.gzhead.name?8:0)+(re.gzhead.comment?16:0)),B(re,255&re.gzhead.time),B(re,re.gzhead.time>>8&255),B(re,re.gzhead.time>>16&255),B(re,re.gzhead.time>>24&255),B(re,re.level===9?2:2<=re.strategy||re.level<2?4:0),B(re,255&re.gzhead.os),re.gzhead.extra&&re.gzhead.extra.length&&(B(re,255&re.gzhead.extra.length),B(re,re.gzhead.extra.length>>8&255)),re.gzhead.hcrc&&(X.adler=u(X.adler,re.pending_buf,re.pending,0)),re.gzindex=0,re.status=69):(B(re,0),B(re,0),B(re,0),B(re,0),B(re,0),B(re,re.level===9?2:2<=re.strategy||re.level<2?4:0),B(re,3),re.status=M);else{var Re=y+(re.w_bits-8<<4)<<8;Re|=(2<=re.strategy||re.level<2?0:re.level<6?1:re.level===6?2:3)<<6,re.strstart!==0&&(Re|=32),Re+=31-Re%31,re.status=M,Y(re,Re),re.strstart!==0&&(Y(re,X.adler>>>16),Y(re,65535&X.adler)),X.adler=1}if(re.status===69)if(re.gzhead.extra){for(ee=re.pending;re.gzindex<(65535&re.gzhead.extra.length)&&(re.pending!==re.pending_buf_size||(re.gzhead.hcrc&&re.pending>ee&&(X.adler=u(X.adler,re.pending_buf,re.pending-ee,ee)),L(X),ee=re.pending,re.pending!==re.pending_buf_size));)B(re,255&re.gzhead.extra[re.gzindex]),re.gzindex++;re.gzhead.hcrc&&re.pending>ee&&(X.adler=u(X.adler,re.pending_buf,re.pending-ee,ee)),re.gzindex===re.gzhead.extra.length&&(re.gzindex=0,re.status=73)}else re.status=73;if(re.status===73)if(re.gzhead.name){ee=re.pending;do{if(re.pending===re.pending_buf_size&&(re.gzhead.hcrc&&re.pending>ee&&(X.adler=u(X.adler,re.pending_buf,re.pending-ee,ee)),L(X),ee=re.pending,re.pending===re.pending_buf_size)){fe=1;break}fe=re.gzindex<re.gzhead.name.length?255&re.gzhead.name.charCodeAt(re.gzindex++):0,B(re,fe)}while(fe!==0);re.gzhead.hcrc&&re.pending>ee&&(X.adler=u(X.adler,re.pending_buf,re.pending-ee,ee)),fe===0&&(re.gzindex=0,re.status=91)}else re.status=91;if(re.status===91)if(re.gzhead.comment){ee=re.pending;do{if(re.pending===re.pending_buf_size&&(re.gzhead.hcrc&&re.pending>ee&&(X.adler=u(X.adler,re.pending_buf,re.pending-ee,ee)),L(X),ee=re.pending,re.pending===re.pending_buf_size)){fe=1;break}fe=re.gzindex<re.gzhead.comment.length?255&re.gzhead.comment.charCodeAt(re.gzindex++):0,B(re,fe)}while(fe!==0);re.gzhead.hcrc&&re.pending>ee&&(X.adler=u(X.adler,re.pending_buf,re.pending-ee,ee)),fe===0&&(re.status=103)}else re.status=103;if(re.status===103&&(re.gzhead.hcrc?(re.pending+2>re.pending_buf_size&&L(X),re.pending+2<=re.pending_buf_size&&(B(re,255&X.adler),B(re,X.adler>>8&255),X.adler=0,re.status=M)):re.status=M),re.pending!==0){if(L(X),X.avail_out===0)return re.last_flush=-1,h}else if(X.avail_in===0&&V(he)<=V(ge)&&he!==f)return W(X,-5);if(re.status===666&&X.avail_in!==0)return W(X,-5);if(X.avail_in!==0||re.lookahead!==0||he!==d&&re.status!==666){var Oe=re.strategy===2?(function(Ae,Se){for(var xe;;){if(Ae.lookahead===0&&(ne(Ae),Ae.lookahead===0)){if(Se===d)return O;break}if(Ae.match_length=0,xe=a._tr_tally(Ae,0,Ae.window[Ae.strstart]),Ae.lookahead--,Ae.strstart++,xe&&(H(Ae,!1),Ae.strm.avail_out===0))return O}return Ae.insert=0,Se===f?(H(Ae,!0),Ae.strm.avail_out===0?U:q):Ae.last_lit&&(H(Ae,!1),Ae.strm.avail_out===0)?O:j})(re,he):re.strategy===3?(function(Ae,Se){for(var xe,ke,me,Me,ze=Ae.window;;){if(Ae.lookahead<=I){if(ne(Ae),Ae.lookahead<=I&&Se===d)return O;if(Ae.lookahead===0)break}if(Ae.match_length=0,Ae.lookahead>=R&&0<Ae.strstart&&(ke=ze[me=Ae.strstart-1])===ze[++me]&&ke===ze[++me]&&ke===ze[++me]){Me=Ae.strstart+I;do;while(ke===ze[++me]&&ke===ze[++me]&&ke===ze[++me]&&ke===ze[++me]&&ke===ze[++me]&&ke===ze[++me]&&ke===ze[++me]&&ke===ze[++me]&&me<Me);Ae.match_length=I-(Me-me),Ae.match_length>Ae.lookahead&&(Ae.match_length=Ae.lookahead)}if(Ae.match_length>=R?(xe=a._tr_tally(Ae,1,Ae.match_length-R),Ae.lookahead-=Ae.match_length,Ae.strstart+=Ae.match_length,Ae.match_length=0):(xe=a._tr_tally(Ae,0,Ae.window[Ae.strstart]),Ae.lookahead--,Ae.strstart++),xe&&(H(Ae,!1),Ae.strm.avail_out===0))return O}return Ae.insert=0,Se===f?(H(Ae,!0),Ae.strm.avail_out===0?U:q):Ae.last_lit&&(H(Ae,!1),Ae.strm.avail_out===0)?O:j})(re,he):o[re.level].func(re,he);if(Oe!==U&&Oe!==q||(re.status=666),Oe===O||Oe===U)return X.avail_out===0&&(re.last_flush=-1),h;if(Oe===j&&(he===1?a._tr_align(re):he!==5&&(a._tr_stored_block(re,0,0,!1),he===3&&(z(re.head),re.lookahead===0&&(re.strstart=0,re.block_start=0,re.insert=0))),L(X),X.avail_out===0))return re.last_flush=-1,h}return he!==f?h:re.wrap<=0?1:(re.wrap===2?(B(re,255&X.adler),B(re,X.adler>>8&255),B(re,X.adler>>16&255),B(re,X.adler>>24&255),B(re,255&X.total_in),B(re,X.total_in>>8&255),B(re,X.total_in>>16&255),B(re,X.total_in>>24&255)):(Y(re,X.adler>>>16),Y(re,65535&X.adler)),L(X),0<re.wrap&&(re.wrap=-re.wrap),re.pending!==0?h:1)},i.deflateEnd=function(X){var he;return X&&X.state?(he=X.state.status)!==N&&he!==69&&he!==73&&he!==91&&he!==103&&he!==M&&he!==666?W(X,m):(X.state=null,he===M?W(X,-3):h):m},i.deflateSetDictionary=function(X,he){var ge,re,ee,fe,Re,Oe,Ae,Se,xe=he.length;if(!X||!X.state||(fe=(ge=X.state).wrap)===2||fe===1&&ge.status!==N||ge.lookahead)return m;for(fe===1&&(X.adler=l(X.adler,he,xe,0)),ge.wrap=0,xe>=ge.w_size&&(fe===0&&(z(ge.head),ge.strstart=0,ge.block_start=0,ge.insert=0),Se=new s.Buf8(ge.w_size),s.arraySet(Se,he,xe-ge.w_size,ge.w_size,0),he=Se,xe=ge.w_size),Re=X.avail_in,Oe=X.next_in,Ae=X.input,X.avail_in=xe,X.next_in=0,X.input=he,ne(ge);ge.lookahead>=R;){for(re=ge.strstart,ee=ge.lookahead-(R-1);ge.ins_h=(ge.ins_h<<ge.hash_shift^ge.window[re+R-1])&ge.hash_mask,ge.prev[re&ge.w_mask]=ge.head[ge.ins_h],ge.head[ge.ins_h]=re,re++,--ee;);ge.strstart=re,ge.lookahead=R-1,ne(ge)}return ge.strstart+=ge.lookahead,ge.block_start=ge.strstart,ge.insert=ge.lookahead,ge.lookahead=0,ge.match_length=ge.prev_length=R-1,ge.match_available=0,X.next_in=Oe,X.input=Ae,X.avail_in=Re,ge.wrap=fe,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(o,s){var a,l,u,c,d,f,h,m,p,g,v,y,w,_,E,S,T,k,R,I,P,N,M,O,j;a=o.state,l=o.next_in,O=o.input,u=l+(o.avail_in-5),c=o.next_out,j=o.output,d=c-(s-o.avail_out),f=c+(o.avail_out-257),h=a.dmax,m=a.wsize,p=a.whave,g=a.wnext,v=a.window,y=a.hold,w=a.bits,_=a.lencode,E=a.distcode,S=(1<<a.lenbits)-1,T=(1<<a.distbits)-1;e:do{w<15&&(y+=O[l++]<<w,w+=8,y+=O[l++]<<w,w+=8),k=_[y&S];t:for(;;){if(y>>>=R=k>>>24,w-=R,(R=k>>>16&255)===0)j[c++]=65535&k;else{if(!(16&R)){if((64&R)==0){k=_[(65535&k)+(y&(1<<R)-1)];continue t}if(32&R){a.mode=12;break e}o.msg="invalid literal/length code",a.mode=30;break e}I=65535&k,(R&=15)&&(w<R&&(y+=O[l++]<<w,w+=8),I+=y&(1<<R)-1,y>>>=R,w-=R),w<15&&(y+=O[l++]<<w,w+=8,y+=O[l++]<<w,w+=8),k=E[y&T];n:for(;;){if(y>>>=R=k>>>24,w-=R,!(16&(R=k>>>16&255))){if((64&R)==0){k=E[(65535&k)+(y&(1<<R)-1)];continue n}o.msg="invalid distance code",a.mode=30;break e}if(P=65535&k,w<(R&=15)&&(y+=O[l++]<<w,(w+=8)<R&&(y+=O[l++]<<w,w+=8)),h<(P+=y&(1<<R)-1)){o.msg="invalid distance too far back",a.mode=30;break e}if(y>>>=R,w-=R,(R=c-d)<P){if(p<(R=P-R)&&a.sane){o.msg="invalid distance too far back",a.mode=30;break e}if(M=v,(N=0)===g){if(N+=m-R,R<I){for(I-=R;j[c++]=v[N++],--R;);N=c-P,M=j}}else if(g<R){if(N+=m+g-R,(R-=g)<I){for(I-=R;j[c++]=v[N++],--R;);if(N=0,g<I){for(I-=R=g;j[c++]=v[N++],--R;);N=c-P,M=j}}}else if(N+=g-R,R<I){for(I-=R;j[c++]=v[N++],--R;);N=c-P,M=j}for(;2<I;)j[c++]=M[N++],j[c++]=M[N++],j[c++]=M[N++],I-=3;I&&(j[c++]=M[N++],1<I&&(j[c++]=M[N++]))}else{for(N=c-P;j[c++]=j[N++],j[c++]=j[N++],j[c++]=j[N++],2<(I-=3););I&&(j[c++]=j[N++],1<I&&(j[c++]=j[N++]))}break}}break}}while(l<u&&c<f);l-=I=w>>3,y&=(1<<(w-=I<<3))-1,o.next_in=l,o.next_out=c,o.avail_in=l<u?u-l+5:5-(l-u),o.avail_out=c<f?f-c+257:257-(c-f),a.hold=y,a.bits=w}},{}],49:[function(n,r,i){var o=n("../utils/common"),s=n("./adler32"),a=n("./crc32"),l=n("./inffast"),u=n("./inftrees"),c=1,d=2,f=0,h=-2,m=1,p=852,g=592;function v(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(N){var M;return N&&N.state?(M=N.state,N.total_in=N.total_out=M.total=0,N.msg="",M.wrap&&(N.adler=1&M.wrap),M.mode=m,M.last=0,M.havedict=0,M.dmax=32768,M.head=null,M.hold=0,M.bits=0,M.lencode=M.lendyn=new o.Buf32(p),M.distcode=M.distdyn=new o.Buf32(g),M.sane=1,M.back=-1,f):h}function _(N){var M;return N&&N.state?((M=N.state).wsize=0,M.whave=0,M.wnext=0,w(N)):h}function E(N,M){var O,j;return N&&N.state?(j=N.state,M<0?(O=0,M=-M):(O=1+(M>>4),M<48&&(M&=15)),M&&(M<8||15<M)?h:(j.window!==null&&j.wbits!==M&&(j.window=null),j.wrap=O,j.wbits=M,_(N))):h}function S(N,M){var O,j;return N?(j=new y,(N.state=j).window=null,(O=E(N,M))!==f&&(N.state=null),O):h}var T,k,R=!0;function I(N){if(R){var M;for(T=new o.Buf32(512),k=new o.Buf32(32),M=0;M<144;)N.lens[M++]=8;for(;M<256;)N.lens[M++]=9;for(;M<280;)N.lens[M++]=7;for(;M<288;)N.lens[M++]=8;for(u(c,N.lens,0,288,T,0,N.work,{bits:9}),M=0;M<32;)N.lens[M++]=5;u(d,N.lens,0,32,k,0,N.work,{bits:5}),R=!1}N.lencode=T,N.lenbits=9,N.distcode=k,N.distbits=5}function P(N,M,O,j){var U,q=N.state;return q.window===null&&(q.wsize=1<<q.wbits,q.wnext=0,q.whave=0,q.window=new o.Buf8(q.wsize)),j>=q.wsize?(o.arraySet(q.window,M,O-q.wsize,q.wsize,0),q.wnext=0,q.whave=q.wsize):(j<(U=q.wsize-q.wnext)&&(U=j),o.arraySet(q.window,M,O-j,U,q.wnext),(j-=U)?(o.arraySet(q.window,M,O-j,j,0),q.wnext=j,q.whave=q.wsize):(q.wnext+=U,q.wnext===q.wsize&&(q.wnext=0),q.whave<q.wsize&&(q.whave+=U))),0}i.inflateReset=_,i.inflateReset2=E,i.inflateResetKeep=w,i.inflateInit=function(N){return S(N,15)},i.inflateInit2=S,i.inflate=function(N,M){var O,j,U,q,W,V,z,L,H,B,Y,Q,ne,ce,le,ue,ae,te,se,we,X,he,ge,re,ee=0,fe=new o.Buf8(4),Re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return h;(O=N.state).mode===12&&(O.mode=13),W=N.next_out,U=N.output,z=N.avail_out,q=N.next_in,j=N.input,V=N.avail_in,L=O.hold,H=O.bits,B=V,Y=z,he=f;e:for(;;)switch(O.mode){case m:if(O.wrap===0){O.mode=13;break}for(;H<16;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}if(2&O.wrap&&L===35615){fe[O.check=0]=255&L,fe[1]=L>>>8&255,O.check=a(O.check,fe,2,0),H=L=0,O.mode=2;break}if(O.flags=0,O.head&&(O.head.done=!1),!(1&O.wrap)||(((255&L)<<8)+(L>>8))%31){N.msg="incorrect header check",O.mode=30;break}if((15&L)!=8){N.msg="unknown compression method",O.mode=30;break}if(H-=4,X=8+(15&(L>>>=4)),O.wbits===0)O.wbits=X;else if(X>O.wbits){N.msg="invalid window size",O.mode=30;break}O.dmax=1<<X,N.adler=O.check=1,O.mode=512&L?10:12,H=L=0;break;case 2:for(;H<16;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}if(O.flags=L,(255&O.flags)!=8){N.msg="unknown compression method",O.mode=30;break}if(57344&O.flags){N.msg="unknown header flags set",O.mode=30;break}O.head&&(O.head.text=L>>8&1),512&O.flags&&(fe[0]=255&L,fe[1]=L>>>8&255,O.check=a(O.check,fe,2,0)),H=L=0,O.mode=3;case 3:for(;H<32;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}O.head&&(O.head.time=L),512&O.flags&&(fe[0]=255&L,fe[1]=L>>>8&255,fe[2]=L>>>16&255,fe[3]=L>>>24&255,O.check=a(O.check,fe,4,0)),H=L=0,O.mode=4;case 4:for(;H<16;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}O.head&&(O.head.xflags=255&L,O.head.os=L>>8),512&O.flags&&(fe[0]=255&L,fe[1]=L>>>8&255,O.check=a(O.check,fe,2,0)),H=L=0,O.mode=5;case 5:if(1024&O.flags){for(;H<16;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}O.length=L,O.head&&(O.head.extra_len=L),512&O.flags&&(fe[0]=255&L,fe[1]=L>>>8&255,O.check=a(O.check,fe,2,0)),H=L=0}else O.head&&(O.head.extra=null);O.mode=6;case 6:if(1024&O.flags&&(V<(Q=O.length)&&(Q=V),Q&&(O.head&&(X=O.head.extra_len-O.length,O.head.extra||(O.head.extra=new Array(O.head.extra_len)),o.arraySet(O.head.extra,j,q,Q,X)),512&O.flags&&(O.check=a(O.check,j,Q,q)),V-=Q,q+=Q,O.length-=Q),O.length))break e;O.length=0,O.mode=7;case 7:if(2048&O.flags){if(V===0)break e;for(Q=0;X=j[q+Q++],O.head&&X&&O.length<65536&&(O.head.name+=String.fromCharCode(X)),X&&Q<V;);if(512&O.flags&&(O.check=a(O.check,j,Q,q)),V-=Q,q+=Q,X)break e}else O.head&&(O.head.name=null);O.length=0,O.mode=8;case 8:if(4096&O.flags){if(V===0)break e;for(Q=0;X=j[q+Q++],O.head&&X&&O.length<65536&&(O.head.comment+=String.fromCharCode(X)),X&&Q<V;);if(512&O.flags&&(O.check=a(O.check,j,Q,q)),V-=Q,q+=Q,X)break e}else O.head&&(O.head.comment=null);O.mode=9;case 9:if(512&O.flags){for(;H<16;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}if(L!==(65535&O.check)){N.msg="header crc mismatch",O.mode=30;break}H=L=0}O.head&&(O.head.hcrc=O.flags>>9&1,O.head.done=!0),N.adler=O.check=0,O.mode=12;break;case 10:for(;H<32;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}N.adler=O.check=v(L),H=L=0,O.mode=11;case 11:if(O.havedict===0)return N.next_out=W,N.avail_out=z,N.next_in=q,N.avail_in=V,O.hold=L,O.bits=H,2;N.adler=O.check=1,O.mode=12;case 12:if(M===5||M===6)break e;case 13:if(O.last){L>>>=7&H,H-=7&H,O.mode=27;break}for(;H<3;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}switch(O.last=1&L,H-=1,3&(L>>>=1)){case 0:O.mode=14;break;case 1:if(I(O),O.mode=20,M!==6)break;L>>>=2,H-=2;break e;case 2:O.mode=17;break;case 3:N.msg="invalid block type",O.mode=30}L>>>=2,H-=2;break;case 14:for(L>>>=7&H,H-=7&H;H<32;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}if((65535&L)!=(L>>>16^65535)){N.msg="invalid stored block lengths",O.mode=30;break}if(O.length=65535&L,H=L=0,O.mode=15,M===6)break e;case 15:O.mode=16;case 16:if(Q=O.length){if(V<Q&&(Q=V),z<Q&&(Q=z),Q===0)break e;o.arraySet(U,j,q,Q,W),V-=Q,q+=Q,z-=Q,W+=Q,O.length-=Q;break}O.mode=12;break;case 17:for(;H<14;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}if(O.nlen=257+(31&L),L>>>=5,H-=5,O.ndist=1+(31&L),L>>>=5,H-=5,O.ncode=4+(15&L),L>>>=4,H-=4,286<O.nlen||30<O.ndist){N.msg="too many length or distance symbols",O.mode=30;break}O.have=0,O.mode=18;case 18:for(;O.have<O.ncode;){for(;H<3;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}O.lens[Re[O.have++]]=7&L,L>>>=3,H-=3}for(;O.have<19;)O.lens[Re[O.have++]]=0;if(O.lencode=O.lendyn,O.lenbits=7,ge={bits:O.lenbits},he=u(0,O.lens,0,19,O.lencode,0,O.work,ge),O.lenbits=ge.bits,he){N.msg="invalid code lengths set",O.mode=30;break}O.have=0,O.mode=19;case 19:for(;O.have<O.nlen+O.ndist;){for(;ue=(ee=O.lencode[L&(1<<O.lenbits)-1])>>>16&255,ae=65535&ee,!((le=ee>>>24)<=H);){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}if(ae<16)L>>>=le,H-=le,O.lens[O.have++]=ae;else{if(ae===16){for(re=le+2;H<re;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}if(L>>>=le,H-=le,O.have===0){N.msg="invalid bit length repeat",O.mode=30;break}X=O.lens[O.have-1],Q=3+(3&L),L>>>=2,H-=2}else if(ae===17){for(re=le+3;H<re;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}H-=le,X=0,Q=3+(7&(L>>>=le)),L>>>=3,H-=3}else{for(re=le+7;H<re;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}H-=le,X=0,Q=11+(127&(L>>>=le)),L>>>=7,H-=7}if(O.have+Q>O.nlen+O.ndist){N.msg="invalid bit length repeat",O.mode=30;break}for(;Q--;)O.lens[O.have++]=X}}if(O.mode===30)break;if(O.lens[256]===0){N.msg="invalid code -- missing end-of-block",O.mode=30;break}if(O.lenbits=9,ge={bits:O.lenbits},he=u(c,O.lens,0,O.nlen,O.lencode,0,O.work,ge),O.lenbits=ge.bits,he){N.msg="invalid literal/lengths set",O.mode=30;break}if(O.distbits=6,O.distcode=O.distdyn,ge={bits:O.distbits},he=u(d,O.lens,O.nlen,O.ndist,O.distcode,0,O.work,ge),O.distbits=ge.bits,he){N.msg="invalid distances set",O.mode=30;break}if(O.mode=20,M===6)break e;case 20:O.mode=21;case 21:if(6<=V&&258<=z){N.next_out=W,N.avail_out=z,N.next_in=q,N.avail_in=V,O.hold=L,O.bits=H,l(N,Y),W=N.next_out,U=N.output,z=N.avail_out,q=N.next_in,j=N.input,V=N.avail_in,L=O.hold,H=O.bits,O.mode===12&&(O.back=-1);break}for(O.back=0;ue=(ee=O.lencode[L&(1<<O.lenbits)-1])>>>16&255,ae=65535&ee,!((le=ee>>>24)<=H);){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}if(ue&&(240&ue)==0){for(te=le,se=ue,we=ae;ue=(ee=O.lencode[we+((L&(1<<te+se)-1)>>te)])>>>16&255,ae=65535&ee,!(te+(le=ee>>>24)<=H);){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}L>>>=te,H-=te,O.back+=te}if(L>>>=le,H-=le,O.back+=le,O.length=ae,ue===0){O.mode=26;break}if(32&ue){O.back=-1,O.mode=12;break}if(64&ue){N.msg="invalid literal/length code",O.mode=30;break}O.extra=15&ue,O.mode=22;case 22:if(O.extra){for(re=O.extra;H<re;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}O.length+=L&(1<<O.extra)-1,L>>>=O.extra,H-=O.extra,O.back+=O.extra}O.was=O.length,O.mode=23;case 23:for(;ue=(ee=O.distcode[L&(1<<O.distbits)-1])>>>16&255,ae=65535&ee,!((le=ee>>>24)<=H);){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}if((240&ue)==0){for(te=le,se=ue,we=ae;ue=(ee=O.distcode[we+((L&(1<<te+se)-1)>>te)])>>>16&255,ae=65535&ee,!(te+(le=ee>>>24)<=H);){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}L>>>=te,H-=te,O.back+=te}if(L>>>=le,H-=le,O.back+=le,64&ue){N.msg="invalid distance code",O.mode=30;break}O.offset=ae,O.extra=15&ue,O.mode=24;case 24:if(O.extra){for(re=O.extra;H<re;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}O.offset+=L&(1<<O.extra)-1,L>>>=O.extra,H-=O.extra,O.back+=O.extra}if(O.offset>O.dmax){N.msg="invalid distance too far back",O.mode=30;break}O.mode=25;case 25:if(z===0)break e;if(Q=Y-z,O.offset>Q){if((Q=O.offset-Q)>O.whave&&O.sane){N.msg="invalid distance too far back",O.mode=30;break}ne=Q>O.wnext?(Q-=O.wnext,O.wsize-Q):O.wnext-Q,Q>O.length&&(Q=O.length),ce=O.window}else ce=U,ne=W-O.offset,Q=O.length;for(z<Q&&(Q=z),z-=Q,O.length-=Q;U[W++]=ce[ne++],--Q;);O.length===0&&(O.mode=21);break;case 26:if(z===0)break e;U[W++]=O.length,z--,O.mode=21;break;case 27:if(O.wrap){for(;H<32;){if(V===0)break e;V--,L|=j[q++]<<H,H+=8}if(Y-=z,N.total_out+=Y,O.total+=Y,Y&&(N.adler=O.check=O.flags?a(O.check,U,Y,W-Y):s(O.check,U,Y,W-Y)),Y=z,(O.flags?L:v(L))!==O.check){N.msg="incorrect data check",O.mode=30;break}H=L=0}O.mode=28;case 28:if(O.wrap&&O.flags){for(;H<32;){if(V===0)break e;V--,L+=j[q++]<<H,H+=8}if(L!==(4294967295&O.total)){N.msg="incorrect length check",O.mode=30;break}H=L=0}O.mode=29;case 29:he=1;break e;case 30:he=-3;break e;case 31:return-4;case 32:default:return h}return N.next_out=W,N.avail_out=z,N.next_in=q,N.avail_in=V,O.hold=L,O.bits=H,(O.wsize||Y!==N.avail_out&&O.mode<30&&(O.mode<27||M!==4))&&P(N,N.output,N.next_out,Y-N.avail_out)?(O.mode=31,-4):(B-=N.avail_in,Y-=N.avail_out,N.total_in+=B,N.total_out+=Y,O.total+=Y,O.wrap&&Y&&(N.adler=O.check=O.flags?a(O.check,U,Y,N.next_out-Y):s(O.check,U,Y,N.next_out-Y)),N.data_type=O.bits+(O.last?64:0)+(O.mode===12?128:0)+(O.mode===20||O.mode===15?256:0),(B==0&&Y===0||M===4)&&he===f&&(he=-5),he)},i.inflateEnd=function(N){if(!N||!N.state)return h;var M=N.state;return M.window&&(M.window=null),N.state=null,f},i.inflateGetHeader=function(N,M){var O;return N&&N.state?(2&(O=N.state).wrap)==0?h:((O.head=M).done=!1,f):h},i.inflateSetDictionary=function(N,M){var O,j=M.length;return N&&N.state?(O=N.state).wrap!==0&&O.mode!==11?h:O.mode===11&&s(1,M,j,0)!==O.check?-3:P(N,M,j,j)?(O.mode=31,-4):(O.havedict=1,f):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var o=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(c,d,f,h,m,p,g,v){var y,w,_,E,S,T,k,R,I,P=v.bits,N=0,M=0,O=0,j=0,U=0,q=0,W=0,V=0,z=0,L=0,H=null,B=0,Y=new o.Buf16(16),Q=new o.Buf16(16),ne=null,ce=0;for(N=0;N<=15;N++)Y[N]=0;for(M=0;M<h;M++)Y[d[f+M]]++;for(U=P,j=15;1<=j&&Y[j]===0;j--);if(j<U&&(U=j),j===0)return m[p++]=20971520,m[p++]=20971520,v.bits=1,0;for(O=1;O<j&&Y[O]===0;O++);for(U<O&&(U=O),N=V=1;N<=15;N++)if(V<<=1,(V-=Y[N])<0)return-1;if(0<V&&(c===0||j!==1))return-1;for(Q[1]=0,N=1;N<15;N++)Q[N+1]=Q[N]+Y[N];for(M=0;M<h;M++)d[f+M]!==0&&(g[Q[d[f+M]]++]=M);if(T=c===0?(H=ne=g,19):c===1?(H=s,B-=257,ne=a,ce-=257,256):(H=l,ne=u,-1),N=O,S=p,W=M=L=0,_=-1,E=(z=1<<(q=U))-1,c===1&&852<z||c===2&&592<z)return 1;for(;;){for(k=N-W,I=g[M]<T?(R=0,g[M]):g[M]>T?(R=ne[ce+g[M]],H[B+g[M]]):(R=96,0),y=1<<N-W,O=w=1<<q;m[S+(L>>W)+(w-=y)]=k<<24|R<<16|I|0,w!==0;);for(y=1<<N-1;L&y;)y>>=1;if(y!==0?(L&=y-1,L+=y):L=0,M++,--Y[N]==0){if(N===j)break;N=d[f+g[M]]}if(U<N&&(L&E)!==_){for(W===0&&(W=U),S+=O,V=1<<(q=N-W);q+W<j&&!((V-=Y[q+W])<=0);)q++,V<<=1;if(z+=1<<q,c===1&&852<z||c===2&&592<z)return 1;m[_=L&E]=U<<24|q<<16|S-p|0}}return L!==0&&(m[S+L]=N-W<<24|64<<16|0),v.bits=U,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var o=n("../utils/common"),s=0,a=1;function l(ee){for(var fe=ee.length;0<=--fe;)ee[fe]=0}var u=0,c=29,d=256,f=d+1+c,h=30,m=19,p=2*f+1,g=15,v=16,y=7,w=256,_=16,E=17,S=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=new Array(2*(f+2));l(P);var N=new Array(2*h);l(N);var M=new Array(512);l(M);var O=new Array(256);l(O);var j=new Array(c);l(j);var U,q,W,V=new Array(h);function z(ee,fe,Re,Oe,Ae){this.static_tree=ee,this.extra_bits=fe,this.extra_base=Re,this.elems=Oe,this.max_length=Ae,this.has_stree=ee&&ee.length}function L(ee,fe){this.dyn_tree=ee,this.max_code=0,this.stat_desc=fe}function H(ee){return ee<256?M[ee]:M[256+(ee>>>7)]}function B(ee,fe){ee.pending_buf[ee.pending++]=255&fe,ee.pending_buf[ee.pending++]=fe>>>8&255}function Y(ee,fe,Re){ee.bi_valid>v-Re?(ee.bi_buf|=fe<<ee.bi_valid&65535,B(ee,ee.bi_buf),ee.bi_buf=fe>>v-ee.bi_valid,ee.bi_valid+=Re-v):(ee.bi_buf|=fe<<ee.bi_valid&65535,ee.bi_valid+=Re)}function Q(ee,fe,Re){Y(ee,Re[2*fe],Re[2*fe+1])}function ne(ee,fe){for(var Re=0;Re|=1&ee,ee>>>=1,Re<<=1,0<--fe;);return Re>>>1}function ce(ee,fe,Re){var Oe,Ae,Se=new Array(g+1),xe=0;for(Oe=1;Oe<=g;Oe++)Se[Oe]=xe=xe+Re[Oe-1]<<1;for(Ae=0;Ae<=fe;Ae++){var ke=ee[2*Ae+1];ke!==0&&(ee[2*Ae]=ne(Se[ke]++,ke))}}function le(ee){var fe;for(fe=0;fe<f;fe++)ee.dyn_ltree[2*fe]=0;for(fe=0;fe<h;fe++)ee.dyn_dtree[2*fe]=0;for(fe=0;fe<m;fe++)ee.bl_tree[2*fe]=0;ee.dyn_ltree[2*w]=1,ee.opt_len=ee.static_len=0,ee.last_lit=ee.matches=0}function ue(ee){8<ee.bi_valid?B(ee,ee.bi_buf):0<ee.bi_valid&&(ee.pending_buf[ee.pending++]=ee.bi_buf),ee.bi_buf=0,ee.bi_valid=0}function ae(ee,fe,Re,Oe){var Ae=2*fe,Se=2*Re;return ee[Ae]<ee[Se]||ee[Ae]===ee[Se]&&Oe[fe]<=Oe[Re]}function te(ee,fe,Re){for(var Oe=ee.heap[Re],Ae=Re<<1;Ae<=ee.heap_len&&(Ae<ee.heap_len&&ae(fe,ee.heap[Ae+1],ee.heap[Ae],ee.depth)&&Ae++,!ae(fe,Oe,ee.heap[Ae],ee.depth));)ee.heap[Re]=ee.heap[Ae],Re=Ae,Ae<<=1;ee.heap[Re]=Oe}function se(ee,fe,Re){var Oe,Ae,Se,xe,ke=0;if(ee.last_lit!==0)for(;Oe=ee.pending_buf[ee.d_buf+2*ke]<<8|ee.pending_buf[ee.d_buf+2*ke+1],Ae=ee.pending_buf[ee.l_buf+ke],ke++,Oe===0?Q(ee,Ae,fe):(Q(ee,(Se=O[Ae])+d+1,fe),(xe=T[Se])!==0&&Y(ee,Ae-=j[Se],xe),Q(ee,Se=H(--Oe),Re),(xe=k[Se])!==0&&Y(ee,Oe-=V[Se],xe)),ke<ee.last_lit;);Q(ee,w,fe)}function we(ee,fe){var Re,Oe,Ae,Se=fe.dyn_tree,xe=fe.stat_desc.static_tree,ke=fe.stat_desc.has_stree,me=fe.stat_desc.elems,Me=-1;for(ee.heap_len=0,ee.heap_max=p,Re=0;Re<me;Re++)Se[2*Re]!==0?(ee.heap[++ee.heap_len]=Me=Re,ee.depth[Re]=0):Se[2*Re+1]=0;for(;ee.heap_len<2;)Se[2*(Ae=ee.heap[++ee.heap_len]=Me<2?++Me:0)]=1,ee.depth[Ae]=0,ee.opt_len--,ke&&(ee.static_len-=xe[2*Ae+1]);for(fe.max_code=Me,Re=ee.heap_len>>1;1<=Re;Re--)te(ee,Se,Re);for(Ae=me;Re=ee.heap[1],ee.heap[1]=ee.heap[ee.heap_len--],te(ee,Se,1),Oe=ee.heap[1],ee.heap[--ee.heap_max]=Re,ee.heap[--ee.heap_max]=Oe,Se[2*Ae]=Se[2*Re]+Se[2*Oe],ee.depth[Ae]=(ee.depth[Re]>=ee.depth[Oe]?ee.depth[Re]:ee.depth[Oe])+1,Se[2*Re+1]=Se[2*Oe+1]=Ae,ee.heap[1]=Ae++,te(ee,Se,1),2<=ee.heap_len;);ee.heap[--ee.heap_max]=ee.heap[1],(function(ze,Xe){var tt,gt,qt,zt,_n,$t,dn=Xe.dyn_tree,Vn=Xe.max_code,Ln=Xe.stat_desc.static_tree,Tr=Xe.stat_desc.has_stree,Xn=Xe.stat_desc.extra_bits,mr=Xe.stat_desc.extra_base,En=Xe.stat_desc.max_length,nn=0;for(zt=0;zt<=g;zt++)ze.bl_count[zt]=0;for(dn[2*ze.heap[ze.heap_max]+1]=0,tt=ze.heap_max+1;tt<p;tt++)En<(zt=dn[2*dn[2*(gt=ze.heap[tt])+1]+1]+1)&&(zt=En,nn++),dn[2*gt+1]=zt,Vn<gt||(ze.bl_count[zt]++,_n=0,mr<=gt&&(_n=Xn[gt-mr]),$t=dn[2*gt],ze.opt_len+=$t*(zt+_n),Tr&&(ze.static_len+=$t*(Ln[2*gt+1]+_n)));if(nn!==0){do{for(zt=En-1;ze.bl_count[zt]===0;)zt--;ze.bl_count[zt]--,ze.bl_count[zt+1]+=2,ze.bl_count[En]--,nn-=2}while(0<nn);for(zt=En;zt!==0;zt--)for(gt=ze.bl_count[zt];gt!==0;)Vn<(qt=ze.heap[--tt])||(dn[2*qt+1]!==zt&&(ze.opt_len+=(zt-dn[2*qt+1])*dn[2*qt],dn[2*qt+1]=zt),gt--)}})(ee,fe),ce(Se,Me,ee.bl_count)}function X(ee,fe,Re){var Oe,Ae,Se=-1,xe=fe[1],ke=0,me=7,Me=4;for(xe===0&&(me=138,Me=3),fe[2*(Re+1)+1]=65535,Oe=0;Oe<=Re;Oe++)Ae=xe,xe=fe[2*(Oe+1)+1],++ke<me&&Ae===xe||(ke<Me?ee.bl_tree[2*Ae]+=ke:Ae!==0?(Ae!==Se&&ee.bl_tree[2*Ae]++,ee.bl_tree[2*_]++):ke<=10?ee.bl_tree[2*E]++:ee.bl_tree[2*S]++,Se=Ae,Me=(ke=0)===xe?(me=138,3):Ae===xe?(me=6,3):(me=7,4))}function he(ee,fe,Re){var Oe,Ae,Se=-1,xe=fe[1],ke=0,me=7,Me=4;for(xe===0&&(me=138,Me=3),Oe=0;Oe<=Re;Oe++)if(Ae=xe,xe=fe[2*(Oe+1)+1],!(++ke<me&&Ae===xe)){if(ke<Me)for(;Q(ee,Ae,ee.bl_tree),--ke!=0;);else Ae!==0?(Ae!==Se&&(Q(ee,Ae,ee.bl_tree),ke--),Q(ee,_,ee.bl_tree),Y(ee,ke-3,2)):ke<=10?(Q(ee,E,ee.bl_tree),Y(ee,ke-3,3)):(Q(ee,S,ee.bl_tree),Y(ee,ke-11,7));Se=Ae,Me=(ke=0)===xe?(me=138,3):Ae===xe?(me=6,3):(me=7,4)}}l(V);var ge=!1;function re(ee,fe,Re,Oe){Y(ee,(u<<1)+(Oe?1:0),3),(function(Ae,Se,xe,ke){ue(Ae),B(Ae,xe),B(Ae,~xe),o.arraySet(Ae.pending_buf,Ae.window,Se,xe,Ae.pending),Ae.pending+=xe})(ee,fe,Re)}i._tr_init=function(ee){ge||((function(){var fe,Re,Oe,Ae,Se,xe=new Array(g+1);for(Ae=Oe=0;Ae<c-1;Ae++)for(j[Ae]=Oe,fe=0;fe<1<<T[Ae];fe++)O[Oe++]=Ae;for(O[Oe-1]=Ae,Ae=Se=0;Ae<16;Ae++)for(V[Ae]=Se,fe=0;fe<1<<k[Ae];fe++)M[Se++]=Ae;for(Se>>=7;Ae<h;Ae++)for(V[Ae]=Se<<7,fe=0;fe<1<<k[Ae]-7;fe++)M[256+Se++]=Ae;for(Re=0;Re<=g;Re++)xe[Re]=0;for(fe=0;fe<=143;)P[2*fe+1]=8,fe++,xe[8]++;for(;fe<=255;)P[2*fe+1]=9,fe++,xe[9]++;for(;fe<=279;)P[2*fe+1]=7,fe++,xe[7]++;for(;fe<=287;)P[2*fe+1]=8,fe++,xe[8]++;for(ce(P,f+1,xe),fe=0;fe<h;fe++)N[2*fe+1]=5,N[2*fe]=ne(fe,5);U=new z(P,T,d+1,f,g),q=new z(N,k,0,h,g),W=new z(new Array(0),R,0,m,y)})(),ge=!0),ee.l_desc=new L(ee.dyn_ltree,U),ee.d_desc=new L(ee.dyn_dtree,q),ee.bl_desc=new L(ee.bl_tree,W),ee.bi_buf=0,ee.bi_valid=0,le(ee)},i._tr_stored_block=re,i._tr_flush_block=function(ee,fe,Re,Oe){var Ae,Se,xe=0;0<ee.level?(ee.strm.data_type===2&&(ee.strm.data_type=(function(ke){var me,Me=4093624447;for(me=0;me<=31;me++,Me>>>=1)if(1&Me&&ke.dyn_ltree[2*me]!==0)return s;if(ke.dyn_ltree[18]!==0||ke.dyn_ltree[20]!==0||ke.dyn_ltree[26]!==0)return a;for(me=32;me<d;me++)if(ke.dyn_ltree[2*me]!==0)return a;return s})(ee)),we(ee,ee.l_desc),we(ee,ee.d_desc),xe=(function(ke){var me;for(X(ke,ke.dyn_ltree,ke.l_desc.max_code),X(ke,ke.dyn_dtree,ke.d_desc.max_code),we(ke,ke.bl_desc),me=m-1;3<=me&&ke.bl_tree[2*I[me]+1]===0;me--);return ke.opt_len+=3*(me+1)+5+5+4,me})(ee),Ae=ee.opt_len+3+7>>>3,(Se=ee.static_len+3+7>>>3)<=Ae&&(Ae=Se)):Ae=Se=Re+5,Re+4<=Ae&&fe!==-1?re(ee,fe,Re,Oe):ee.strategy===4||Se===Ae?(Y(ee,2+(Oe?1:0),3),se(ee,P,N)):(Y(ee,4+(Oe?1:0),3),(function(ke,me,Me,ze){var Xe;for(Y(ke,me-257,5),Y(ke,Me-1,5),Y(ke,ze-4,4),Xe=0;Xe<ze;Xe++)Y(ke,ke.bl_tree[2*I[Xe]+1],3);he(ke,ke.dyn_ltree,me-1),he(ke,ke.dyn_dtree,Me-1)})(ee,ee.l_desc.max_code+1,ee.d_desc.max_code+1,xe+1),se(ee,ee.dyn_ltree,ee.dyn_dtree)),le(ee),Oe&&ue(ee)},i._tr_tally=function(ee,fe,Re){return ee.pending_buf[ee.d_buf+2*ee.last_lit]=fe>>>8&255,ee.pending_buf[ee.d_buf+2*ee.last_lit+1]=255&fe,ee.pending_buf[ee.l_buf+ee.last_lit]=255&Re,ee.last_lit++,fe===0?ee.dyn_ltree[2*Re]++:(ee.matches++,fe--,ee.dyn_ltree[2*(O[Re]+d+1)]++,ee.dyn_dtree[2*H(fe)]++),ee.last_lit===ee.lit_bufsize-1},i._tr_align=function(ee){Y(ee,2,3),Q(ee,w,P),(function(fe){fe.bi_valid===16?(B(fe,fe.bi_buf),fe.bi_buf=0,fe.bi_valid=0):8<=fe.bi_valid&&(fe.pending_buf[fe.pending++]=255&fe.bi_buf,fe.bi_buf>>=8,fe.bi_valid-=8)})(ee)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(o){(function(s,a){if(!s.setImmediate){var l,u,c,d,f=1,h={},m=!1,p=s.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(s);g=g&&g.setTimeout?g:s,l={}.toString.call(s.process)==="[object process]"?function(_){process.nextTick(function(){y(_)})}:(function(){if(s.postMessage&&!s.importScripts){var _=!0,E=s.onmessage;return s.onmessage=function(){_=!1},s.postMessage("","*"),s.onmessage=E,_}})()?(d="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",w,!1):s.attachEvent("onmessage",w),function(_){s.postMessage(d+_,"*")}):s.MessageChannel?((c=new MessageChannel).port1.onmessage=function(_){y(_.data)},function(_){c.port2.postMessage(_)}):p&&"onreadystatechange"in p.createElement("script")?(u=p.documentElement,function(_){var E=p.createElement("script");E.onreadystatechange=function(){y(_),E.onreadystatechange=null,u.removeChild(E),E=null},u.appendChild(E)}):function(_){setTimeout(y,0,_)},g.setImmediate=function(_){typeof _!="function"&&(_=new Function(""+_));for(var E=new Array(arguments.length-1),S=0;S<E.length;S++)E[S]=arguments[S+1];var T={callback:_,args:E};return h[f]=T,l(f),f++},g.clearImmediate=v}function v(_){delete h[_]}function y(_){if(m)setTimeout(y,0,_);else{var E=h[_];if(E){m=!0;try{(function(S){var T=S.callback,k=S.args;switch(k.length){case 0:T();break;case 1:T(k[0]);break;case 2:T(k[0],k[1]);break;case 3:T(k[0],k[1],k[2]);break;default:T.apply(a,k)}})(E)}finally{v(_),m=!1}}}}function w(_){_.source===s&&typeof _.data=="string"&&_.data.indexOf(d)===0&&y(+_.data.slice(d.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof xi<"u"?xi:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(aB)),aB.exports}var Xqt=Kqt();const Qk=Xo(Xqt);async function Qqt({storageEngine:e,participantId:t,identifier:n,audioUrl:r}){const i=r||await e.getAudioUrl(n,t);if(i){const s=await(await fetch(i)).blob(),a=URL.createObjectURL(s);Object.assign(document.createElement("a"),{href:a,download:`${t}_${n}_audio.webm`}).click(),URL.revokeObjectURL(a)}const o=await e.getTranscriptUrl(n,t);if(o){const s=await(await fetch(o)).blob(),a=URL.createObjectURL(s);Object.assign(document.createElement("a"),{href:a,download:`${t}_${n}_transcript.txt`}).click(),URL.revokeObjectURL(a)}}async function Jqt({storageEngine:e,participantId:t,identifier:n,screenRecordingUrl:r}){const i=r||await e.getScreenRecording(n,t);if(i){const o=await(await fetch(i)).blob(),s=URL.createObjectURL(o);Object.assign(document.createElement("a"),{href:s,download:`${t}_${n}_screenRecording.webm`}).click(),URL.revokeObjectURL(s)}}async function kq(e,t,n){if(n){const i=await(await fetch(n)).blob();e.file(t,i)}}async function Jk(e,t){const n=await e.generateAsync({type:"blob"}),r=URL.createObjectURL(n);Object.assign(document.createElement("a"),{href:r,download:t}).click(),URL.revokeObjectURL(r)}async function Zqt({storageEngine:e,participantId:t,identifier:n,namePrefix:r,zip:i}){const o=i||new Qk;try{const s=await e.getAudioUrl(n,t);await kq(o,`${r}_${t}_${n}.webm`,s);const a=await e.getTranscriptUrl(n,t);await kq(o,`${r}_${t}_${n}_transcript.txt`,a),i||Jk(o,`${r}_${t}_${n}_audio.zip`)}catch(s){console.warn(`Failed to fetch files for ${n}:`,s)}}async function eVt({storageEngine:e,participants:t,studyId:n,fileName:r}){const i=r||n,o=new Qk,s=t.flatMap(a=>Object.values(a.answers).filter(u=>u.endTime>0).sort((u,c)=>u.startTime-c.startTime).map(async u=>{const c=`${u.componentName}_${u.trialOrder}`;await Zqt({storageEngine:e,participantId:a.participantId,identifier:c,namePrefix:i,zip:o})}));await Promise.all(s),await Jk(o,`${i}_audio.zip`)}async function tVt({storageEngine:e,participantId:t,identifier:n,namePrefix:r,zip:i}){const o=i||new Qk;try{const s=await e.getScreenRecording(n,t);await kq(o,`${r}_${t}_${n}.webm`,s),i||Jk(o,`${r}_${t}_${n}_screenRecording.zip`)}catch(s){console.warn(`Failed to fetch files for ${n}:`,s)}}async function nVt({storageEngine:e,participants:t,studyId:n,fileName:r}){const i=r||n,o=new Qk,s=t.flatMap(a=>Object.values(a.answers).filter(u=>u.endTime>0).sort((u,c)=>u.startTime-c.startTime).map(async u=>{const c=`${u.componentName}_${u.trialOrder}`;await tVt({storageEngine:e,participantId:a.participantId,identifier:c,namePrefix:i,zip:o})}));await Promise.all(s),await Jk(o,`${i}_screenRecording.zip`)}async function rVt({studyId:e,hash:t,config:n}){const r=JSON.stringify(n,null,2),i=new Blob([r],{type:"application/json"}),o=URL.createObjectURL(i);Object.assign(document.createElement("a"),{href:o,download:`${e}_${t}_config.json`}).click(),URL.revokeObjectURL(o)}async function iVt({studyId:e,configs:t,hashes:n}){const r=new Qk;n.forEach(i=>{const o=t.find(s=>s.hash===i);o&&r.file(`${e}_${i}_config.json`,JSON.stringify(o.config,null,2))}),await Jk(r,`${e}_config.zip`)}function I4e({selectedParticipants:e=[],refresh:t,footer:n=!1}){const{storageEngine:r}=ri(),{user:i}=V0(),{studyId:o}=Mo(),[s]=au(),a=A.useMemo(()=>s.get("participantId")||void 0,[s]),[l,u]=A.useState(null);A.useEffect(()=>{async function k(){if(r&&a&&o){const R=await r.getParticipantData(a);u(R)}else u(null)}k()},[r,a,o]);const c=A.useCallback(async()=>{if(r&&a&&o){const k=await r.getParticipantData(a);u(k)}},[r,a,o]),[d,f]=A.useState(!1),[h,m]=A.useState(!1),[p,g]=A.useState(""),v=A.useMemo(()=>[...e,l].filter(k=>k!==null),[e,l]),y=A.useMemo(()=>v.filter(k=>k.rejected).length,[v]),w=A.useMemo(()=>v.filter(k=>!k.rejected).length,[v]),_=A.useCallback(async(k,R)=>{if(r&&o){const I=R===""?"Rejected by admin":R;await r.rejectParticipant(k,I)}},[r,o]),E=A.useCallback(async k=>{r&&o&&await r.undoRejectParticipant(k)},[r,o]),S=A.useCallback(async()=>{if(f(!1),v.length>0){const R=v.filter(I=>!I.rejected).map(async I=>await _(I.participantId,p));await Promise.all(R)}else await _(a||"",p);t&&await t(),l&&await c(),g("")},[v,t,l,_,p,a,c]),T=A.useCallback(async()=>{if(m(!1),v.length>0){const k=v.map(async R=>await E(R.participantId));await Promise.all(k)}else await E(a||""),await c();t&&await t(),l&&await c()},[v,t,l,E,a,c]);return b.jsxs(b.Fragment,{children:[y>0&&b.jsx(ct,{label:"Only admins can undo rejection",disabled:i.isAdmin,children:b.jsxs(Mt,{disabled:!i.isAdmin,onClick:()=>m(!0),color:"blue",children:["Undo Reject",n?"":` Participants (${y})`]})}),w>0&&b.jsx(ct,{label:"Only admins can reject participants",disabled:i.isAdmin,children:b.jsxs(Mt,{disabled:!i.isAdmin,onClick:()=>f(!0),color:"red",children:["Reject",n?"":` Participants (${w})`]})}),b.jsxs(ni,{opened:d,onClose:()=>f(!1),title:w>0?`Reject Participants (${w})`:"Reject Participant",children:[b.jsxs(pl,{icon:b.jsx(Ru,{size:16}),title:"Warning",color:"orange",mb:"md",children:[v.length>0&&y>0&&b.jsxs(b.Fragment,{children:[y," ","of your"," ",v.length," ","selected participant",v.length===1?"":"s"," ",y===1?"has":"have"," ","already been rejected. Clicking reject participants will now reject the other"," ",w,".",b.jsx("br",{}),b.jsx("br",{})]}),"When participants are rejected, their sequences will be reassigned to other participants."]}),b.jsx(dl,{label:"Please enter the reason for rejection.",onChange:k=>g(k.target.value)}),b.jsxs(lt,{mt:"sm",justify:"right",children:[b.jsx(Mt,{mr:5,variant:"subtle",color:"dark",onClick:()=>{f(!1),g("")},children:"Cancel"}),b.jsx(Mt,{color:"red",onClick:S,children:v.length>0?"Reject Participants":"Reject Participant"})]})]}),b.jsxs(ni,{opened:h,onClose:()=>m(!1),title:b.jsx($e,{children:`Undo Reject Participants (${v.length})`}),children:[b.jsx(pl,{icon:b.jsx(Ru,{size:16}),title:"Warning",color:"orange",mb:"md",children:"When you undo participant rejections, you may end up with unbalanced latin squares. This is because the rejected sequence may have been reassigned."}),v.length>0?b.jsx($e,{children:"Are you sure you want to undo the rejection of these participants?"}):b.jsxs(b.Fragment,{children:[b.jsx($e,{children:"The participant has been rejected."}),b.jsxs($e,{children:["Reason:"," ",l?.rejected&&typeof l.rejected=="object"?l.rejected.reason:"No reason provided"]})]}),b.jsxs(lt,{mt:"sm",justify:"right",children:[b.jsx(Mt,{mr:5,variant:"subtle",color:"dark",onClick:()=>m(!1),children:"Cancel"}),b.jsx(Mt,{color:"blue",onClick:T,children:v.length>0?"Undo Reject Participants":"Undo Reject Participant"})]})]})]})}const lB={left:5,right:5};function oVt(e,t){return t?t.getParticipantData(e):null}async function sVt(e,t,n,r){return r&&t?await r.getAllParticipantAndTaskTags(e,t):null}async function vme(e,t){if(e){const n=await e.getTags(t);return Array.isArray(n)?n:[]}return[]}function D4e({visibleParticipants:e,rawTranscript:t,currentShownTranscription:n,width:r,onTimeUpdate:i,isReplay:o,editedTranscript:s,currentTrial:a,saveProvenance:l,jumpedToLine:u=0,studyId:c,setHasAudio:d,storageEngine:f}){const h=V0(),[m,p]=au(),g=ca(),v=qa(),y=A.useMemo(()=>m.get("participantId")||"",[m]),{value:w}=xc(oVt,[y,f]),{value:_,execute:E}=xc(vme,[f,"task"]),{value:S,execute:T}=xc(vme,[f,"participant"]),{isPlaying:k,setIsPlaying:R,speed:I,setSpeed:P,setSeekTime:N,hasEnded:M}=K5(),[O,j]=A.useState(null),[U,q]=A.useState(null);A.useEffect(()=>{async function Se(){if(!f||!y||!a){j(null);return}try{const xe=await f.getAudioUrl(a,y);j(xe)}catch{j(null)}try{const xe=await f.getScreenRecording(a,y);q(xe)}catch{q(null)}}Se()},[f,y,a]);const W=A.useCallback(async()=>{!f||!y||!a||await Qqt({storageEngine:f,participantId:y,identifier:a,audioUrl:O})},[f,y,a,O]),V=A.useCallback(async()=>{!f||!y||!a||await Jqt({storageEngine:f,participantId:y,identifier:a,screenRecordingUrl:U})},[f,y,a,U]),[z,L]=A.useState(null),{value:H,execute:B}=xc(sVt,[h.user.user?.email||"temp",y,c,f]),[Y,Q]=A.useState();A.useEffect(()=>{H&&Q(H)},[H]);const ne=A.useMemo(()=>a.includes("__dynamicLoading")?"":w?.answers[a]?.componentName??"",[a,w]),ce=A.useMemo(()=>{if(!w||!w.answers[a])return null;const Se=Object.values(w.answers||{}).map(me=>[me.startTime,me.endTime]).flat(),xe=oSe(Se);return Yv([lB.left,r+lB.left+lB.right]).domain(a?[w.answers[a].startTime,w.answers[a].endTime]:xe).clamp(!0)},[w,a,r]);A.useEffect(()=>{const Se=[];if(!s||s.length===0){L(null);return}s.forEach((xe,ke)=>{t&&(ke===0||xe.transcriptMappingStart!==s[ke-1].transcriptMappingStart)&&Se.push({start:ke===0?0:t.results[xe.transcriptMappingStart-1].resultEndTime,end:ke===s.length-1?t.results[xe.transcriptMappingEnd].resultEndTime+500:t.results[xe.transcriptMappingEnd].resultEndTime,lineStart:xe.transcriptMappingStart,lineEnd:xe.transcriptMappingEnd,tags:s.filter(me=>me.transcriptMappingStart===xe.transcriptMappingStart&&me.transcriptMappingEnd===xe.transcriptMappingEnd).map(me=>me.selectedTags)})}),L(Se)},[s,L,t]);const le=A.useCallback(Se=>{let xe=e.findIndex(ke=>ke===y)+Se;xe>=e.length?xe=0:xe<0&&(xe=e.length-1),gv.postMessage({key:"participantId",value:e[xe]}),p(ke=>(ke.set("participantId",e[xe]||""),ke.delete("currentTrial"),ke))},[y,p,e]),ue=A.useMemo(()=>{if(!w)return[];const Se=Object.values(w.answers);return Se.sort((xe,ke)=>{const me=Pp(xe.trialOrder),Me=Pp(ke.trialOrder);return me.step!==Me.step?(me.step??Number.MAX_SAFE_INTEGER)-(Me.step??Number.MAX_SAFE_INTEGER):me.funcIndex!==Me.funcIndex?(me.funcIndex??-1)-(Me.funcIndex??-1):xe.identifier.localeCompare(ke.identifier)}),Se},[w]),ae=A.useCallback(Se=>{if(!w)return;const xe=w.answers[Se];if(!xe)return;const{step:ke,funcIndex:me}=Pp(xe.trialOrder);if(ke===null)return;const Me=o?me===null?`/${c}/${di(ke)}`:`/${c}/${di(ke)}/${di(me)}`:`/analysis/stats/${c}/tagging/${encodeURIComponent(Se)}`;g({pathname:Me,search:v.search}),xe.trialOrder&&gv.postMessage({key:"trialOrder",value:xe.trialOrder})},[o,v.search,g,w,c]),te=A.useCallback(Se=>{if(!a||ue.length===0)return;const xe=ue.findIndex(me=>me.identifier===a);if(xe===-1){const me=Se>=0?0:ue.length-1;ae(ue[me].identifier);return}let ke=xe+Se;ke>=ue.length?ke=0:ke<0&&(ke=ue.length-1),ae(ue[ke].identifier)},[a,ae,ue]),se=A.useCallback((Se,xe)=>{f&&f.saveTags(Se,xe).then(()=>{xe==="task"?E(f,xe):T(f,xe)})},[T,E,f]),we=A.useCallback((Se,xe)=>{if(!_)return;const ke=_.findIndex(Me=>Me.id===Se.id),me=Array.from(_);me[ke]=xe,se(me,"task")},[se,_]),X=A.useCallback((Se,xe)=>{if(!S)return;const ke=S.findIndex(Me=>Me.id===Se.id),me=Array.from(S);me[ke]=xe,se(me,"participant")},[se,S]),he=A.useCallback(Se=>{se([..._||[],Se],"task")},[se,_]),ge=A.useCallback(Se=>{se([..._||[],Se],"participant")},[se,_]);A.useEffect(()=>{const Se=z&&z[u]?.start||0;N(Se+.001)},[u,z,N]);const[re,ee]=A.useState(""),fe=A.useMemo(()=>{const Se=w?.answers[a];return Se?.provenanceGraph?zqt(Object.values(Se.provenanceGraph)):new Map},[w,a]),Re=A.useMemo(()=>ue.map(Se=>({label:Se.componentName,value:Se.identifier})),[ue]),Oe=A.useMemo(()=>`${Hi}analysis/stats/${c}/tagging${a?`/${encodeURIComponent(a)}`:""}?participantId=${y}&revisitPageId=${vq}`,[a,y,c]),Ae=A.useMemo(()=>{const{step:Se,funcIndex:xe}=Pp(w?.answers[a]?.trialOrder),ke=Se??0,me=xe===null?"":`/${di(xe)}`;return`${Hi}${c}/${di(ke)}${me}?participantId=${y}&revisitPageId=${vq}`},[a,w,y,c]);return b.jsxs(Ri.Footer,{zIndex:101,withBorder:!1,children:[a&&w&&ne===""&&b.jsx("div",{style:{position:"absolute",top:-5,left:5,transform:"translateY(-100%)"},children:b.jsx(pl,{variant:"filled",color:"red",title:"Participant hasn't completed any tasks.",icon:b.jsx(kc,{})})}),b.jsxs(Nn,{style:{backgroundColor:"var(--mantine-color-blue-1)",height:"100%"},gap:5,justify:"center",children:[w&&a&&(!w.answers[a]||w.answers[a].endTime===-1)?b.jsx(za,{children:b.jsx($e,{c:"dimmed",children:`Participant ${w.participantId} has not completed this task`})}):null,b.jsx(Vqt,{setHasAudio:d,saveProvenance:l,setTime:i,setTimeString:Se=>ee(Se),answers:w?w.answers:{},taskName:a,context:o?"provenanceVis":"audioAnalysis"}),ce&&z?b.jsx(Wqt,{startTime:ce.domain()[0],xScale:ce,transcriptLines:z,currentShownTranscription:n||0}):null,b.jsxs(ln,{gap:"xs",style:{width:"100%"},justify:"center",wrap:"nowrap",children:[b.jsxs(ln,{wrap:"nowrap",children:[b.jsx($e,{ff:"monospace",style:{textAlign:"right"},mt:"lg",c:"dimmed",children:re}),b.jsx(ct,{label:M?"Restart":k?"Pause":"Play",children:b.jsx(on,{mt:25,size:"lg",variant:"light",onClick:()=>{R(!k)},children:M?b.jsx(PKe,{}):k?b.jsx(fXe,{}):b.jsx(pXe,{})})}),b.jsxs(Cr,{styles:{dropdown:{padding:0}},position:"bottom",withArrow:!0,shadow:"md",children:[b.jsx(Cr.Target,{children:b.jsx(ct,{label:"Speed",children:b.jsx(on,{style:{width:"50px"},mt:25,variant:"light",children:`${I}x`})})}),b.jsxs(Cr.Dropdown,{children:[b.jsx(LW,{value:I.toString(),onChange:Se=>{P(+Se),gv.postMessage({key:"currentSpeed",value:Se})},orientation:"vertical",data:[{label:"0.5x",value:"0.5"},{label:"1x",value:"1"},{label:"1.5x",value:"1.5"},{label:"2x",value:"2"},{label:"4x",value:"4"},{label:"8x",value:"8"}]}),b.jsx(Nn,{gap:"xs"})]})]})]}),b.jsxs(ln,{wrap:"nowrap",gap:"lg",children:[b.jsx(om,{leftSection:b.jsx(ct,{label:"Previous Participant",children:b.jsx(on,{size:"sm",variant:"light",onClick:()=>le(-1),children:b.jsx(H7,{})})}),rightSection:b.jsx(ct,{label:"Next Participant",children:b.jsx(on,{size:"sm",variant:"light",onClick:()=>le(1),style:{pointerEvents:"all"},children:b.jsx(eoe,{})})}),label:"Participant Id",style:{width:"200px"},value:y,onChange:Se=>{p(xe=>(xe.set("participantId",Se||""),xe.delete("currentTrial"),xe)),gv.postMessage({key:"participantId",value:Se||""})},data:e.map(Se=>Se).sort(),searchable:!0}),b.jsxs(Nn,{gap:"4",children:[b.jsxs(ln,{gap:"xs",align:"center",children:[b.jsx($e,{size:"sm",fw:500,children:"Participant Tags"}),b.jsx(ct,{w:300,multiline:!0,label:"Participant tags allow you to categorize or label the participant. Click in the box to add, create, or edit tags.",children:b.jsx(kc,{size:16})})]}),b.jsx(Tq,{width:200,tags:S||[],editTagCallback:X,createTagCallback:ge,tagsEmptyText:"Add Participant Tags",onSelectTags:Se=>{if(f&&H){let xe=structuredClone(H);xe||(xe={participantTags:[],taskTags:{}}),xe.participantTags=Se,Q(xe),f.saveAllParticipantAndTaskTags(h.user.user?.email||"temp",y,xe).then(()=>{B(h.user.user?.email||"temp",y,c,f)})}},selectedTags:Y?Y.participantTags:[]})]}),b.jsx(om,{leftSection:b.jsx(ct,{label:"Previous Task",children:b.jsx(on,{size:"sm",variant:"light",onClick:()=>te(-1),children:b.jsx(H7,{})})}),rightSection:b.jsx(ct,{label:"Next Task",children:b.jsx(on,{size:"sm",variant:"light",onClick:()=>te(1),style:{pointerEvents:"all"},children:b.jsx(eoe,{})})}),label:"Task",style:{width:"200px"},value:a,onChange:Se=>{Se&&ae(Se)},data:Re,searchable:!0}),b.jsxs(Nn,{gap:"4",children:[b.jsxs(ln,{gap:"xs",align:"center",children:[b.jsx($e,{size:"sm",fw:500,children:"Task Tags"}),b.jsx(ct,{w:300,multiline:!0,label:"Task tags allow you to categorize or label the current task. Click in the box to add, create, or edit tags.",children:b.jsx(kc,{size:16})})]}),b.jsx(Tq,{width:200,tags:_||[],editTagCallback:we,createTagCallback:he,tagsEmptyText:"Add Task Tags",onSelectTags:Se=>{if(f&&H){let xe=structuredClone(H);xe||(xe={participantTags:[],taskTags:{}}),xe.taskTags[a]=Se,Q(xe),f.saveAllParticipantAndTaskTags(h.user.user?.email||"temp",y,xe).then(()=>{B(h.user.user?.email||"temp",y,c,f)})}},selectedTags:Y?Y.taskTags[a]||[]:[]})]})]}),b.jsx(Mt,{mt:"lg",variant:"light",component:"a",href:o?Oe:Ae,target:"_blank",children:o?"Transcript":"Replay"}),b.jsxs(ln,{mt:"lg",children:[O&&b.jsx(ct,{label:"Download audio",children:b.jsx(on,{variant:"light",size:30,onClick:W,children:b.jsx(gwe,{})})}),U&&b.jsx(ct,{label:"Download screen recording",children:b.jsx(on,{variant:"filled",size:30,onClick:V,children:b.jsx(cwe,{})})}),b.jsx(I4e,{selectedParticipants:[],footer:!0})]}),fe.size>1&&b.jsxs(ch,{width:160,position:"top",withArrow:!0,shadow:"md",children:[b.jsx(ch.Target,{children:b.jsx(on,{c:"",size:"lg",variant:"light",mt:"lg",style:{cursor:"default"},children:b.jsx(vKe,{})})}),b.jsx(ch.Dropdown,{children:b.jsx(Nn,{gap:6,children:Array.from(fe.entries()).map(([Se,xe])=>b.jsxs(ln,{gap:8,children:[b.jsx(xh,{color:xe.color,size:12}),b.jsx("span",{style:{fontSize:12},children:xe.label})]},Se))})})]})]})]})]})}async function aVt(e){return e?await e.getAllParticipantIds():null}function lVt({setHasAudio:e}){const{storageEngine:t}=ri(),{value:n}=xc(aVt,[t]),r=Nm(),i=bo(),{studyId:o}=Mo(),{saveAnalysisState:s}=Qi(),a=A.useCallback(l=>i(s(l)),[i,s]);return b.jsx(D4e,{storageEngine:t,setHasAudio:e,studyId:o||"",currentTrial:r,isReplay:!0,visibleParticipants:n||[],rawTranscript:null,currentShownTranscription:null,width:3e3,onTimeUpdate:()=>{},saveProvenance:a})}function uVt(){const e=Ga(),{minWidth:t,minHeight:n}=e.studyRules?.display??{},[r,i]=A.useState(!1),[o,s]=A.useState(!1),[a,l]=A.useState(60),[u,c]=A.useState(!1),[d,f]=A.useState({width:0,height:0}),h=A.useRef(null),{storageEngine:m}=ri(),p=uf(),g=ca();return A.useEffect(()=>{const v=()=>{if(f({width:window.innerWidth,height:window.innerHeight}),t===void 0||n===void 0)return;const y=window.innerWidth<t,w=window.innerHeight<n,_=y||w,E=()=>{l(60),h.current&&(clearInterval(h.current),h.current=null),h.current=setInterval(()=>{l(S=>S<=1?(h.current&&(clearInterval(h.current),h.current=null),m&&!o&&(s(!0),c(!0),m.rejectCurrentParticipant("Screen resolution too small").catch(()=>{console.error("Failed to reject participant who failed training")})),0):S-1)},1e3)};o||(_?(i(!0),E()):(i(!1),h.current&&(clearInterval(h.current),h.current=null)))};return v(),window.addEventListener("resize",v),()=>{window.removeEventListener("resize",v),h.current&&clearInterval(h.current)}},[t,n,m,p,g,o]),r?b.jsx(ni,{opened:r,onClose:()=>{},fullScreen:!0,withCloseButton:!1,children:b.jsxs(Nn,{align:"center",justify:"center",children:[b.jsx(Ru,{size:64,color:"orange"}),b.jsx(gr,{order:3,children:" Screen Resolution Warning "}),b.jsx($e,{size:"md",ta:"center",children:u?b.jsxs(b.Fragment,{children:["Thank you for participating in this study. You have been timed out and will not be able to continue.",b.jsx("br",{}),"You may now close this page."]}):b.jsxs(b.Fragment,{children:["Your screen resolution is below the minimum requirement:",b.jsx("br",{}),t!==void 0&&` Width: ${t}px`,n!==void 0&&` Height: ${n}px`,b.jsx("br",{}),`Detected: Width: ${d.width}px Height: ${d.height}px`,b.jsx("br",{}),"Please resize your browser window to the minimum required size within"," ",a," ","seconds."]})})]})}):null}function cVt(){return b.jsx(ni,{opened:!0,onClose:()=>{},fullScreen:!0,withCloseButton:!1,children:b.jsxs(Nn,{align:"center",justify:"center",children:[b.jsx(Ru,{size:64,color:"orange"}),b.jsx(gr,{order:3,children:" Screen Recording Stopped "}),b.jsx($e,{size:"md",ta:"center",children:b.jsxs(b.Fragment,{children:["Thank you for participating in this study. Screen recording was stopped and you will not be able to continue.",b.jsx("br",{}),"You may now close this page."]})})]})})}function dVt(){const e=navigator.userAgent.toLowerCase();let t="unknown",n=0;return e.includes("chrome")&&!e.includes("edg")&&!e.includes("opr")?(t="chrome",n=parseInt(e.match(/chrome\/(\d+)/)?.[1]||"0",10)):e.includes("firefox")?(t="firefox",n=parseInt(e.match(/firefox\/(\d+)/)?.[1]||"0",10)):e.includes("safari")&&!e.includes("chrome")?(t="safari",n=parseInt(e.match(/version\/(\d+)/)?.[1]||"0",10)):e.includes("edg")&&(t="edge",n=parseInt(e.match(/edg\/(\d+)/)?.[1]||"0",10)),{name:t,version:n}}function fVt(){const e=navigator.userAgent.toLowerCase(),t=navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,n=/iphone|ipod|android.*mobile|windows phone|blackberry|opera mini/.test(e),r=/ipad|tablet/.test(e)||/android/.test(e)&&!/mobile/.test(e)||t;return n?"mobile":r?"tablet":"desktop"}function hVt(){const e=[];return window.matchMedia("(pointer:fine)").matches&&e.push("mouse"),("ontouchstart"in window||navigator.maxTouchPoints>0)&&e.push("touch"),e}function pVt(e){const[t,n]=A.useState(!0),[r,i]=A.useState(!0),[o,s]=A.useState(!0);return A.useEffect(()=>{const a=dVt(),l=fVt(),u=hVt();e&&(e.browsers?.allowed?.length&&(e.browsers.allowed.some(d=>d.name===a.name&&a.version>=(d.minVersion??0))||n(!1)),e.devices?.allowed?.length&&(e.devices.allowed.includes(l)||i(!1)),e.inputs?.allowed?.length&&(u.some(d=>e.inputs.allowed.includes(d))||s(!1)))},[e]),{isBrowserAllowed:t,isDeviceAllowed:r,isInputAllowed:o}}function mVt(){const e=Ga(),{browsers:t,devices:n,inputs:r}=e.studyRules??{},{isBrowserAllowed:i,isDeviceAllowed:o,isInputAllowed:s}=pVt(e.studyRules);return i&&o&&s?null:b.jsx(ni,{opened:!0,onClose:()=>{},fullScreen:!0,withCloseButton:!1,children:b.jsxs(Nn,{align:"center",justify:"center",children:[b.jsx(Ru,{size:64,color:"orange"}),b.jsx(gr,{order:3,children:" Browser or Device Not Supported "}),b.jsxs(lt,{my:"lg",wrap:"wrap",justify:"center",children:[!i&&b.jsxs(Js,{shadow:"sm",padding:"lg",radius:"md",mx:"md",my:"md",withBorder:!0,w:400,children:[b.jsx(Js.Section,{bg:"gray.3",mb:"md",p:"md",style:{display:"flex",justifyContent:"center"},children:b.jsx(TGe,{size:48,color:"gray"})}),t?.blockedMessage?b.jsx($e,{size:"md",children:t.blockedMessage}):b.jsxs(b.Fragment,{children:[b.jsx($e,{size:"md",children:"This study only works in the following browser(s):"}),b.jsx(ji,{ml:"md",children:t?.allowed.map((a,l)=>b.jsxs(ji.Item,{children:[a.name,a.minVersion&&` v${a.minVersion} or later`]},l))})]})]}),!o&&b.jsxs(Js,{shadow:"sm",padding:"lg",radius:"md",mx:"md",my:"md",withBorder:!0,w:400,children:[b.jsx(Js.Section,{bg:"gray.3",mb:"md",p:"md",style:{display:"flex",justifyContent:"center"},children:b.jsx(pYe,{size:48,color:"gray"})}),n?.blockedMessage?b.jsx($e,{size:"md",children:n.blockedMessage}):b.jsxs(b.Fragment,{children:[b.jsx($e,{size:"md",children:"This study only works in the following device(s):"}),b.jsx(ji,{ml:"md",children:n?.allowed.map((a,l)=>b.jsx(ji.Item,{children:a},l))})]})]}),!s&&b.jsxs(Js,{shadow:"sm",padding:"lg",radius:"md",mx:"md",my:"md",withBorder:!0,w:400,children:[b.jsx(Js.Section,{bg:"gray.3",mb:"md",p:"md",style:{display:"flex",justifyContent:"center"},children:b.jsx(GYe,{size:48,color:"gray"})}),r?.blockedMessage?b.jsx($e,{size:"md",children:r.blockedMessage}):b.jsxs(b.Fragment,{children:[b.jsx($e,{size:"md",children:"This study only works on devices that support following input type(s):"}),b.jsx(ji,{ml:"md",children:r?.allowed.map((a,l)=>b.jsx(ji.Item,{children:a},l))})]})]})]}),b.jsxs($e,{size:"md",ta:"center",children:["Please reopen the study link in one of the browsers/device listed above.",b.jsx("br",{}),"Thank you for your understanding!"]})]})})}function gVt(e,t,n,r,i){return e||n?!1:t==="end"?i&&!r:!0}function yVt(e){e.preventDefault(),e.returnValue=""}const bme=360;function vVt(){const e=A.useRef([]),t=bo(),{toggleStudyBrowser:n}=Qi(),r=lf(),i=Ga(),o=df(),s=A.useMemo(()=>$u(i.components[o]||{},i),[o,i]),a=A.useMemo(()=>s.windowEventDebounceTime??i.uiConfig.windowEventDebounceTime??100,[s,i]);_Y(i?.uiConfig.stylesheetPath);const l=Hn(I=>I.showStudyBrowser),u=Hn(I=>I.modes),c=Hn(I=>I.completed),d=Sut(),f=s4e(),{isRejected:h}=d,m=Hn(I=>I.analysisHasScreenRecording),p=Hn(I=>I.analysisCanPlayScreenRecording);A.useEffect(()=>{const I=hd(z=>{e.current.push([Date.now(),"focus",z.target instanceof HTMLElement?z.target.tagName:""])},a,{maxWait:a}),P=hd(z=>{e.current.push([Date.now(),"input",z.data??""])},a,{maxWait:a}),N=hd(z=>{e.current.push([Date.now(),"keydown",z.key])},a,{maxWait:a}),M=hd(z=>{e.current.push([Date.now(),"keyup",z.key])},a,{maxWait:a}),O=hd(z=>{e.current.push([Date.now(),"mousedown",[z.clientX,z.clientY]])},a,{maxWait:a}),j=hd(z=>{e.current.push([Date.now(),"mouseup",[z.clientX,z.clientY]])},a,{maxWait:a}),U=hd(()=>{e.current.push([Date.now(),"resize",[window.innerWidth,window.innerHeight]])},a,{maxWait:a}),q=hd(z=>{e.current.push([Date.now(),"mousemove",[z.clientX,z.clientY]])},a,{maxWait:a}),W=hd(()=>{e.current.push([Date.now(),"scroll",[window.scrollX,window.scrollY]])},a,{maxWait:a}),V=hd(()=>{e.current.push([Date.now(),"visibility",document.visibilityState])},a,{maxWait:a});return window.addEventListener("focus",I,!0),window.addEventListener("input",P),window.addEventListener("keydown",N),window.addEventListener("keyup",M),window.addEventListener("mousedown",O),window.addEventListener("mouseup",j),window.addEventListener("resize",U),window.addEventListener("mousemove",q),window.addEventListener("scroll",W),document.addEventListener("visibilitychange",V),()=>{window.removeEventListener("focus",I,!0),window.removeEventListener("input",P),window.removeEventListener("keydown",N),window.removeEventListener("keyup",M),window.removeEventListener("mousedown",O),window.removeEventListener("mouseup",j),window.removeEventListener("resize",U),window.removeEventListener("mousemove",q),window.removeEventListener("scroll",W),document.removeEventListener("visibilitychange",V)}},[]);const{developmentModeEnabled:g,dataCollectionEnabled:v}=A.useMemo(()=>u,[u]),y=A.useMemo(()=>m&&p||o==="end"?!1:s.withSidebar??i.uiConfig.withSidebar,[m,p,o,s.withSidebar,i.uiConfig.withSidebar]),w=A.useMemo(()=>s?.sidebarWidth??i.uiConfig.sidebarWidth??300,[s,i]),_=A.useMemo(()=>s.showTitleBar??i.uiConfig.showTitleBar??!0,[s,i]),E=A.useMemo(()=>g&&l,[g,l]),S=A.useMemo(()=>E?`max(0px, calc(100% - ${bme}px))`:"100%",[E]),T=A.useMemo(()=>gVt(r,o,g,c,v),[r,o,g,c,v]),[k,R]=A.useState();return A.useEffect(()=>{if(!T)return;const I=P=>{yVt(P)};return window.addEventListener("beforeunload",I),()=>{window.removeEventListener("beforeunload",I)}},[T]),b.jsx(j_e.Provider,{value:e,children:b.jsx(s_e.Provider,{value:d,children:b.jsx(see.Provider,{value:f,children:b.jsxs(Ri,{padding:"md",header:{height:_?70:0},aside:{width:bme,breakpoint:"xs",collapsed:{desktop:!E,mobile:!E}},footer:{height:r?125+(k?55:0):0},style:{"--app-shell-aside-offset":"0rem"},children:[E&&b.jsx(Szt,{}),_&&b.jsx(Tzt,{developmentModeEnabled:g,dataCollectionEnabled:v}),b.jsx(mVt,{}),b.jsx(uVt,{}),h&&b.jsx(cVt,{}),b.jsx(Azt,{}),b.jsx(Rzt,{}),b.jsx(Izt,{}),b.jsxs(lt,{direction:"row",gap:"xs",style:{width:"100%",maxWidth:S},children:[b.jsx(kzt,{width:w,top:_?70:0,sidebarOpen:y}),b.jsxs(Ri.Main,{className:"main",style:{display:"flex",flexDirection:"column"},w:y?`calc(100% - ${w}px - 10px)`:"100%",children:[!_&&!l&&g&&b.jsx(Mt,{variant:"subtle",leftSection:b.jsx(H7,{size:14}),onClick:()=>t(n()),size:"xs",style:{position:"fixed",top:"10px",right:"10px"},children:"Study Browser"}),b.jsx(rWe,{})]})]}),r&&b.jsx(lVt,{setHasAudio:R},o)]})})})})}function bVt(e,t=!1){return typeof e=="number"?wme(e,t):wme(e.length,t).map(r=>r.map(i=>e[i]))}function wme(e,t){if(e<0)throw new Error("Latin square size must be > 0");if(e==0)return[];if(e==1)return[[0]];let n=new Array(e);for(let o=0;o<e;o++)o<2?n[o]=o:o%2==0?n[o]=e-o/2:n[o]=Math.floor(o/2)+1;let r=[n],i=n;for(let o=1;o<e;o+=1){let s=i.map(a=>(a+1)%e);r.push(s),i=s}if(t&&e%2>0)for(let o=0;o<e;o+=1)r.push(r[o].slice().reverse());return r}function P4e(e){let t=e.length;for(;t!==0;){const n=Math.floor(Math.random()*t);t-=1,[e[t],e[n]]=[e[n],e[t]]}}function hee(e,t){for(const n of t)if(z3(n.component,e))return n;return null}function O4e(e,t=!0){const n=[];for(let r=0;r<e.length;r+=1){const i=e[r];if(typeof i!="string"&&!Array.isArray(i)&&(t||!aa(i))){const o=hee(i,n);o?o.indices.push(r):n.push({component:i,indices:[r]})}}return n}function wVt(e,t){const n=t.split("-");let r={};n.forEach(s=>{if(s==="root")r=e.sequence;else{if(aa(r))return;r=r.components[+s]}});const i=r.components.map((s,a)=>typeof s=="string"?s:`_componentBlock${a}`);return P4e(i),bVt(i,!0)}function xme(e,t,n){const r=[];for(let i=0;i<n;i+=1)r.push(...wVt(e,t));return r}function N4e(e,t,n,r){if(aa(e))return{id:e.id,orderPath:n,order:e.order,components:[],skip:[],interruptions:[],conditional:e.conditional};let i=e.components;if(e.order==="random"){const a=structuredClone(e.components);P4e(a),i=a}else if(e.order==="latinSquare"&&t){const a=t[n]?.pop();if(!a)throw new Error(`Latin square exhausted for path: ${n}. This should not happen as we pre-generate enough rows. Please report this issue.`);i=a.map(l=>l.startsWith("_componentBlock")?e.components[+l.slice(15)]:l)}i=i.slice(0,e.numSamples);const o=O4e(e.components),s=new Map;for(let a=0;a<i.length;a+=1){const l=i[a];if(typeof l!="string"&&!Array.isArray(l)){const u=hee(l,o);if(u){const c=s.get(u.component)||0,d=u.indices[c]??u.indices[0];s.set(u.component,c+1),i[a]=N4e(l,t,`${n}-${d}`)}else throw new Error(`Unexpected: component block not found in uniqueComponents map at path ${n}`)}}return e.interruptions&&e.interruptions.forEach(a=>{const l=[];if(a.spacing!=="random")for(let u=0;u<i.length;u+=1)(u===a.firstLocation||u>a.firstLocation&&u%a.spacing===0)&&l.push(...a.components),l.push(i[u]);if(a.spacing==="random"){const u=new Set;if(a.numInterruptions>i.length-1)throw new Error("Number of interruptions cannot be greater than the number of components");for(;u.size<a.numInterruptions;){const f=Math.floor(Math.random()*i.length-1)+1;u.add(f)}const c=Array.from(u).sort((f,h)=>f-h);let d=0;for(let f=0;f<i.length;f+=1)f===c[d]&&(l.push(...a.components),d+=1),l.push(i[f])}i=l}),{id:e.id,orderPath:n,order:e.order,components:i.flat(),skip:e.skip||[],interruptions:e.interruptions||[],conditional:e.conditional}}function xVt(e,t,n){const r=structuredClone(e);return N4e(r,t,"root")}function M4e(e,t,n,r){const i=n.length>0?`${n}-${r}`:"root";e.order==="latinSquare"&&t.push(i),!aa(e)&&e.components.forEach((o,s)=>{typeof o!="string"&&!aa(o)&&M4e(o,t,i,s)})}function CVt(e){const t=[];return M4e(e,t,"",0),t}function Aq(e,t,n){if(aa(e))return;e.order==="latinSquare"&&(t[n]=(t[n]||0)+1);let r=e.components;e.numSamples!==void 0&&(r=r.slice(0,e.numSamples));const i=O4e(e.components,!1),o=new Map;for(let s=0;s<r.length;s+=1){const a=r[s];if(typeof a!="string"&&!Array.isArray(a)&&!aa(a)){const l=hee(a,i);if(l){const u=o.get(l.component)||0,c=l.indices[u]??l.indices[0];o.set(l.component,u+1),Aq(a,t,`${n}-${c}`)}else Aq(a,t,`${n}-0`)}}}function _Vt(e){const t={};return Aq(e,t,"root"),t}function uB(e){const t=CVt(e.sequence),n=_Vt(e.sequence),r=t.map(s=>{const a=n[s]||1;return{[s]:xme(e,s,a)}}).reduce((s,a)=>({...s,...a}),{}),i=e.uiConfig.numSequences||1e3,o=[];return Array.from({length:i}).forEach(()=>{const s=xVt(e.sequence,r);s.components.push("end"),o.push(s),Object.entries(r).forEach(([a,l])=>{if(l.length===0){const u=n[a]||1;r[a]=xme(e,a,u)}})}),o}var CI={exports:{}},cB={},vp={},$y={},dB={},fB={},hB={},Cme;function HN(){return Cme||(Cme=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(y){if(super(),!e.IDENTIFIER.test(y))throw new Error("CodeGen: name must be a valid identifier");this.str=y}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(y){super(),this._items=typeof y=="string"?[y]:y}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const y=this._items[0];return y===""||y==='""'}get str(){var y;return(y=this._str)!==null&&y!==void 0?y:this._str=this._items.reduce((w,_)=>`${w}${_}`,"")}get names(){var y;return(y=this._names)!==null&&y!==void 0?y:this._names=this._items.reduce((w,_)=>(_ instanceof n&&(w[_.str]=(w[_.str]||0)+1),w),{})}}e._Code=r,e.nil=new r("");function i(v,...y){const w=[v[0]];let _=0;for(;_<y.length;)a(w,y[_]),w.push(v[++_]);return new r(w)}e._=i;const o=new r("+");function s(v,...y){const w=[h(v[0])];let _=0;for(;_<y.length;)w.push(o),a(w,y[_]),w.push(o,h(v[++_]));return l(w),new r(w)}e.str=s;function a(v,y){y instanceof r?v.push(...y._items):y instanceof n?v.push(y):v.push(d(y))}e.addCodeArg=a;function l(v){let y=1;for(;y<v.length-1;){if(v[y]===o){const w=u(v[y-1],v[y+1]);if(w!==void 0){v.splice(y-1,3,w);continue}v[y++]="+"}y++}}function u(v,y){if(y==='""')return v;if(v==='""')return y;if(typeof v=="string")return y instanceof n||v[v.length-1]!=='"'?void 0:typeof y!="string"?`${v.slice(0,-1)}${y}"`:y[0]==='"'?v.slice(0,-1)+y.slice(1):void 0;if(typeof y=="string"&&y[0]==='"'&&!(v instanceof n))return`"${v}${y.slice(1)}`}function c(v,y){return y.emptyStr()?v:v.emptyStr()?y:s`${v}${y}`}e.strConcat=c;function d(v){return typeof v=="number"||typeof v=="boolean"||v===null?v:h(Array.isArray(v)?v.join(","):v)}function f(v){return new r(h(v))}e.stringify=f;function h(v){return JSON.stringify(v).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function m(v){return typeof v=="string"&&e.IDENTIFIER.test(v)?new r(`.${v}`):i`[${v}]`}e.getProperty=m;function p(v){if(typeof v=="string"&&e.IDENTIFIER.test(v))return new r(`${v}`);throw new Error(`CodeGen: invalid export name: ${v}, use explicit $id name mapping`)}e.getEsmExportName=p;function g(v){return new r(v.toString())}e.regexpCode=g})(hB)),hB}var pB={},_me;function Eme(){return _me||(_me=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=HN();class n extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r||(e.UsedValueState=r={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:u,parent:c}={}){this._names={},this._prefixes=u,this._parent=c}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const c=this._names[u]||this._nameGroup(u);return`${u}${c.index++}`}_nameGroup(u){var c,d;if(!((d=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||d===void 0)&&d.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=i;class o extends t.Name{constructor(u,c){super(c),this.prefix=u}setValue(u,{property:c,itemIndex:d}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(c)}[${d}]`}}e.ValueScopeName=o;const s=(0,t._)`\n`;class a extends i{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?s:t.nil}}get(){return this._scope}name(u){return new o(u,this._newName(u))}value(u,c){var d;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const f=this.toName(u),{prefix:h}=f,m=(d=c.key)!==null&&d!==void 0?d:c.ref;let p=this._values[h];if(p){const y=p.get(m);if(y)return y}else p=this._values[h]=new Map;p.set(m,f);const g=this._scope[h]||(this._scope[h]=[]),v=g.length;return g[v]=c.ref,f.setValue(c,{property:h,itemIndex:v}),f}getValue(u,c){const d=this._values[u];if(d)return d.get(c)}scopeRefs(u,c=this._values){return this._reduceValues(c,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,t._)`${u}${d.scopePath}`})}scopeCode(u=this._values,c,d){return this._reduceValues(u,f=>{if(f.value===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return f.value.code},c,d)}_reduceValues(u,c,d={},f){let h=t.nil;for(const m in u){const p=u[m];if(!p)continue;const g=d[m]=d[m]||new Map;p.forEach(v=>{if(g.has(v))return;g.set(v,r.Started);let y=c(v);if(y){const w=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${w} ${v} = ${y};${this.opts._n}`}else if(y=f?.(v))h=(0,t._)`${h}${y}${this.opts._n}`;else throw new n(v);g.set(v,r.Completed)})}return h}}e.ValueScope=a})(pB)),pB}var Sme;function vr(){return Sme||(Sme=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=HN(),n=Eme();var r=HN();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=Eme();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class o{optimizeNodes(){return this}optimizeNames(Y,Q){return this}}class s extends o{constructor(Y,Q,ne){super(),this.varKind=Y,this.name=Q,this.rhs=ne}render({es5:Y,_n:Q}){const ne=Y?n.varKinds.var:this.varKind,ce=this.rhs===void 0?"":` = ${this.rhs}`;return`${ne} ${this.name}${ce};`+Q}optimizeNames(Y,Q){if(Y[this.name.str])return this.rhs&&(this.rhs=O(this.rhs,Y,Q)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends o{constructor(Y,Q,ne){super(),this.lhs=Y,this.rhs=Q,this.sideEffects=ne}render({_n:Y}){return`${this.lhs} = ${this.rhs};`+Y}optimizeNames(Y,Q){if(!(this.lhs instanceof t.Name&&!Y[this.lhs.str]&&!this.sideEffects))return this.rhs=O(this.rhs,Y,Q),this}get names(){const Y=this.lhs instanceof t.Name?{}:{...this.lhs.names};return M(Y,this.rhs)}}class l extends a{constructor(Y,Q,ne,ce){super(Y,ne,ce),this.op=Q}render({_n:Y}){return`${this.lhs} ${this.op}= ${this.rhs};`+Y}}class u extends o{constructor(Y){super(),this.label=Y,this.names={}}render({_n:Y}){return`${this.label}:`+Y}}class c extends o{constructor(Y){super(),this.label=Y,this.names={}}render({_n:Y}){return`break${this.label?` ${this.label}`:""};`+Y}}class d extends o{constructor(Y){super(),this.error=Y}render({_n:Y}){return`throw ${this.error};`+Y}get names(){return this.error.names}}class f extends o{constructor(Y){super(),this.code=Y}render({_n:Y}){return`${this.code};`+Y}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(Y,Q){return this.code=O(this.code,Y,Q),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends o{constructor(Y=[]){super(),this.nodes=Y}render(Y){return this.nodes.reduce((Q,ne)=>Q+ne.render(Y),"")}optimizeNodes(){const{nodes:Y}=this;let Q=Y.length;for(;Q--;){const ne=Y[Q].optimizeNodes();Array.isArray(ne)?Y.splice(Q,1,...ne):ne?Y[Q]=ne:Y.splice(Q,1)}return Y.length>0?this:void 0}optimizeNames(Y,Q){const{nodes:ne}=this;let ce=ne.length;for(;ce--;){const le=ne[ce];le.optimizeNames(Y,Q)||(j(Y,le.names),ne.splice(ce,1))}return ne.length>0?this:void 0}get names(){return this.nodes.reduce((Y,Q)=>N(Y,Q.names),{})}}class m extends h{render(Y){return"{"+Y._n+super.render(Y)+"}"+Y._n}}class p extends h{}class g extends m{}g.kind="else";class v extends m{constructor(Y,Q){super(Q),this.condition=Y}render(Y){let Q=`if(${this.condition})`+super.render(Y);return this.else&&(Q+="else "+this.else.render(Y)),Q}optimizeNodes(){super.optimizeNodes();const Y=this.condition;if(Y===!0)return this.nodes;let Q=this.else;if(Q){const ne=Q.optimizeNodes();Q=this.else=Array.isArray(ne)?new g(ne):ne}if(Q)return Y===!1?Q instanceof v?Q:Q.nodes:this.nodes.length?this:new v(U(Y),Q instanceof v?[Q]:Q.nodes);if(!(Y===!1||!this.nodes.length))return this}optimizeNames(Y,Q){var ne;if(this.else=(ne=this.else)===null||ne===void 0?void 0:ne.optimizeNames(Y,Q),!!(super.optimizeNames(Y,Q)||this.else))return this.condition=O(this.condition,Y,Q),this}get names(){const Y=super.names;return M(Y,this.condition),this.else&&N(Y,this.else.names),Y}}v.kind="if";class y extends m{}y.kind="for";class w extends y{constructor(Y){super(),this.iteration=Y}render(Y){return`for(${this.iteration})`+super.render(Y)}optimizeNames(Y,Q){if(super.optimizeNames(Y,Q))return this.iteration=O(this.iteration,Y,Q),this}get names(){return N(super.names,this.iteration.names)}}class _ extends y{constructor(Y,Q,ne,ce){super(),this.varKind=Y,this.name=Q,this.from=ne,this.to=ce}render(Y){const Q=Y.es5?n.varKinds.var:this.varKind,{name:ne,from:ce,to:le}=this;return`for(${Q} ${ne}=${ce}; ${ne}<${le}; ${ne}++)`+super.render(Y)}get names(){const Y=M(super.names,this.from);return M(Y,this.to)}}class E extends y{constructor(Y,Q,ne,ce){super(),this.loop=Y,this.varKind=Q,this.name=ne,this.iterable=ce}render(Y){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(Y)}optimizeNames(Y,Q){if(super.optimizeNames(Y,Q))return this.iterable=O(this.iterable,Y,Q),this}get names(){return N(super.names,this.iterable.names)}}class S extends m{constructor(Y,Q,ne){super(),this.name=Y,this.args=Q,this.async=ne}render(Y){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(Y)}}S.kind="func";class T extends h{render(Y){return"return "+super.render(Y)}}T.kind="return";class k extends m{render(Y){let Q="try"+super.render(Y);return this.catch&&(Q+=this.catch.render(Y)),this.finally&&(Q+=this.finally.render(Y)),Q}optimizeNodes(){var Y,Q;return super.optimizeNodes(),(Y=this.catch)===null||Y===void 0||Y.optimizeNodes(),(Q=this.finally)===null||Q===void 0||Q.optimizeNodes(),this}optimizeNames(Y,Q){var ne,ce;return super.optimizeNames(Y,Q),(ne=this.catch)===null||ne===void 0||ne.optimizeNames(Y,Q),(ce=this.finally)===null||ce===void 0||ce.optimizeNames(Y,Q),this}get names(){const Y=super.names;return this.catch&&N(Y,this.catch.names),this.finally&&N(Y,this.finally.names),Y}}class R extends m{constructor(Y){super(),this.error=Y}render(Y){return`catch(${this.error})`+super.render(Y)}}R.kind="catch";class I extends m{render(Y){return"finally"+super.render(Y)}}I.kind="finally";class P{constructor(Y,Q={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...Q,_n:Q.lines?`
`:""},this._extScope=Y,this._scope=new n.Scope({parent:Y}),this._nodes=[new p]}toString(){return this._root.render(this.opts)}name(Y){return this._scope.name(Y)}scopeName(Y){return this._extScope.name(Y)}scopeValue(Y,Q){const ne=this._extScope.value(Y,Q);return(this._values[ne.prefix]||(this._values[ne.prefix]=new Set)).add(ne),ne}getScopeValue(Y,Q){return this._extScope.getValue(Y,Q)}scopeRefs(Y){return this._extScope.scopeRefs(Y,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(Y,Q,ne,ce){const le=this._scope.toName(Q);return ne!==void 0&&ce&&(this._constants[le.str]=ne),this._leafNode(new s(Y,le,ne)),le}const(Y,Q,ne){return this._def(n.varKinds.const,Y,Q,ne)}let(Y,Q,ne){return this._def(n.varKinds.let,Y,Q,ne)}var(Y,Q,ne){return this._def(n.varKinds.var,Y,Q,ne)}assign(Y,Q,ne){return this._leafNode(new a(Y,Q,ne))}add(Y,Q){return this._leafNode(new l(Y,e.operators.ADD,Q))}code(Y){return typeof Y=="function"?Y():Y!==t.nil&&this._leafNode(new f(Y)),this}object(...Y){const Q=["{"];for(const[ne,ce]of Y)Q.length>1&&Q.push(","),Q.push(ne),(ne!==ce||this.opts.es5)&&(Q.push(":"),(0,t.addCodeArg)(Q,ce));return Q.push("}"),new t._Code(Q)}if(Y,Q,ne){if(this._blockNode(new v(Y)),Q&&ne)this.code(Q).else().code(ne).endIf();else if(Q)this.code(Q).endIf();else if(ne)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(Y){return this._elseNode(new v(Y))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode(v,g)}_for(Y,Q){return this._blockNode(Y),Q&&this.code(Q).endFor(),this}for(Y,Q){return this._for(new w(Y),Q)}forRange(Y,Q,ne,ce,le=this.opts.es5?n.varKinds.var:n.varKinds.let){const ue=this._scope.toName(Y);return this._for(new _(le,ue,Q,ne),()=>ce(ue))}forOf(Y,Q,ne,ce=n.varKinds.const){const le=this._scope.toName(Y);if(this.opts.es5){const ue=Q instanceof t.Name?Q:this.var("_arr",Q);return this.forRange("_i",0,(0,t._)`${ue}.length`,ae=>{this.var(le,(0,t._)`${ue}[${ae}]`),ne(le)})}return this._for(new E("of",ce,le,Q),()=>ne(le))}forIn(Y,Q,ne,ce=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(Y,(0,t._)`Object.keys(${Q})`,ne);const le=this._scope.toName(Y);return this._for(new E("in",ce,le,Q),()=>ne(le))}endFor(){return this._endBlockNode(y)}label(Y){return this._leafNode(new u(Y))}break(Y){return this._leafNode(new c(Y))}return(Y){const Q=new T;if(this._blockNode(Q),this.code(Y),Q.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(T)}try(Y,Q,ne){if(!Q&&!ne)throw new Error('CodeGen: "try" without "catch" and "finally"');const ce=new k;if(this._blockNode(ce),this.code(Y),Q){const le=this.name("e");this._currNode=ce.catch=new R(le),Q(le)}return ne&&(this._currNode=ce.finally=new I,this.code(ne)),this._endBlockNode(R,I)}throw(Y){return this._leafNode(new d(Y))}block(Y,Q){return this._blockStarts.push(this._nodes.length),Y&&this.code(Y).endBlock(Q),this}endBlock(Y){const Q=this._blockStarts.pop();if(Q===void 0)throw new Error("CodeGen: not in self-balancing block");const ne=this._nodes.length-Q;if(ne<0||Y!==void 0&&ne!==Y)throw new Error(`CodeGen: wrong number of nodes: ${ne} vs ${Y} expected`);return this._nodes.length=Q,this}func(Y,Q=t.nil,ne,ce){return this._blockNode(new S(Y,Q,ne)),ce&&this.code(ce).endFunc(),this}endFunc(){return this._endBlockNode(S)}optimize(Y=1){for(;Y-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(Y){return this._currNode.nodes.push(Y),this}_blockNode(Y){this._currNode.nodes.push(Y),this._nodes.push(Y)}_endBlockNode(Y,Q){const ne=this._currNode;if(ne instanceof Y||Q&&ne instanceof Q)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${Q?`${Y.kind}/${Q.kind}`:Y.kind}"`)}_elseNode(Y){const Q=this._currNode;if(!(Q instanceof v))throw new Error('CodeGen: "else" without "if"');return this._currNode=Q.else=Y,this}get _root(){return this._nodes[0]}get _currNode(){const Y=this._nodes;return Y[Y.length-1]}set _currNode(Y){const Q=this._nodes;Q[Q.length-1]=Y}}e.CodeGen=P;function N(B,Y){for(const Q in Y)B[Q]=(B[Q]||0)+(Y[Q]||0);return B}function M(B,Y){return Y instanceof t._CodeOrName?N(B,Y.names):B}function O(B,Y,Q){if(B instanceof t.Name)return ne(B);if(!ce(B))return B;return new t._Code(B._items.reduce((le,ue)=>(ue instanceof t.Name&&(ue=ne(ue)),ue instanceof t._Code?le.push(...ue._items):le.push(ue),le),[]));function ne(le){const ue=Q[le.str];return ue===void 0||Y[le.str]!==1?le:(delete Y[le.str],ue)}function ce(le){return le instanceof t._Code&&le._items.some(ue=>ue instanceof t.Name&&Y[ue.str]===1&&Q[ue.str]!==void 0)}}function j(B,Y){for(const Q in Y)B[Q]=(B[Q]||0)-(Y[Q]||0)}function U(B){return typeof B=="boolean"||typeof B=="number"||B===null?!B:(0,t._)`!${H(B)}`}e.not=U;const q=L(e.operators.AND);function W(...B){return B.reduce(q)}e.and=W;const V=L(e.operators.OR);function z(...B){return B.reduce(V)}e.or=z;function L(B){return(Y,Q)=>Y===t.nil?Q:Q===t.nil?Y:(0,t._)`${H(Y)} ${B} ${H(Q)}`}function H(B){return B instanceof t.Name?B:(0,t._)`(${B})`}})(fB)),fB}var ar={},Tme;function Fr(){if(Tme)return ar;Tme=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.checkStrictMode=ar.getErrorPath=ar.Type=ar.useFunc=ar.setEvaluated=ar.evaluatedPropsToName=ar.mergeEvaluated=ar.eachItem=ar.unescapeJsonPointer=ar.escapeJsonPointer=ar.escapeFragment=ar.unescapeFragment=ar.schemaRefOrVal=ar.schemaHasRulesButRef=ar.schemaHasRules=ar.checkUnknownRules=ar.alwaysValidSchema=ar.toHash=void 0;const e=vr(),t=HN();function n(E){const S={};for(const T of E)S[T]=!0;return S}ar.toHash=n;function r(E,S){return typeof S=="boolean"?S:Object.keys(S).length===0?!0:(i(E,S),!o(S,E.self.RULES.all))}ar.alwaysValidSchema=r;function i(E,S=E.schema){const{opts:T,self:k}=E;if(!T.strictSchema||typeof S=="boolean")return;const R=k.RULES.keywords;for(const I in S)R[I]||_(E,`unknown keyword: "${I}"`)}ar.checkUnknownRules=i;function o(E,S){if(typeof E=="boolean")return!E;for(const T in E)if(S[T])return!0;return!1}ar.schemaHasRules=o;function s(E,S){if(typeof E=="boolean")return!E;for(const T in E)if(T!=="$ref"&&S.all[T])return!0;return!1}ar.schemaHasRulesButRef=s;function a({topSchemaRef:E,schemaPath:S},T,k,R){if(!R){if(typeof T=="number"||typeof T=="boolean")return T;if(typeof T=="string")return(0,e._)`${T}`}return(0,e._)`${E}${S}${(0,e.getProperty)(k)}`}ar.schemaRefOrVal=a;function l(E){return d(decodeURIComponent(E))}ar.unescapeFragment=l;function u(E){return encodeURIComponent(c(E))}ar.escapeFragment=u;function c(E){return typeof E=="number"?`${E}`:E.replace(/~/g,"~0").replace(/\//g,"~1")}ar.escapeJsonPointer=c;function d(E){return E.replace(/~1/g,"/").replace(/~0/g,"~")}ar.unescapeJsonPointer=d;function f(E,S){if(Array.isArray(E))for(const T of E)S(T);else S(E)}ar.eachItem=f;function h({mergeNames:E,mergeToName:S,mergeValues:T,resultToName:k}){return(R,I,P,N)=>{const M=P===void 0?I:P instanceof e.Name?(I instanceof e.Name?E(R,I,P):S(R,I,P),P):I instanceof e.Name?(S(R,P,I),I):T(I,P);return N===e.Name&&!(M instanceof e.Name)?k(R,M):M}}ar.mergeEvaluated={props:h({mergeNames:(E,S,T)=>E.if((0,e._)`${T} !== true && ${S} !== undefined`,()=>{E.if((0,e._)`${S} === true`,()=>E.assign(T,!0),()=>E.assign(T,(0,e._)`${T} || {}`).code((0,e._)`Object.assign(${T}, ${S})`))}),mergeToName:(E,S,T)=>E.if((0,e._)`${T} !== true`,()=>{S===!0?E.assign(T,!0):(E.assign(T,(0,e._)`${T} || {}`),p(E,T,S))}),mergeValues:(E,S)=>E===!0?!0:{...E,...S},resultToName:m}),items:h({mergeNames:(E,S,T)=>E.if((0,e._)`${T} !== true && ${S} !== undefined`,()=>E.assign(T,(0,e._)`${S} === true ? true : ${T} > ${S} ? ${T} : ${S}`)),mergeToName:(E,S,T)=>E.if((0,e._)`${T} !== true`,()=>E.assign(T,S===!0?!0:(0,e._)`${T} > ${S} ? ${T} : ${S}`)),mergeValues:(E,S)=>E===!0?!0:Math.max(E,S),resultToName:(E,S)=>E.var("items",S)})};function m(E,S){if(S===!0)return E.var("props",!0);const T=E.var("props",(0,e._)`{}`);return S!==void 0&&p(E,T,S),T}ar.evaluatedPropsToName=m;function p(E,S,T){Object.keys(T).forEach(k=>E.assign((0,e._)`${S}${(0,e.getProperty)(k)}`,!0))}ar.setEvaluated=p;const g={};function v(E,S){return E.scopeValue("func",{ref:S,code:g[S.code]||(g[S.code]=new t._Code(S.code))})}ar.useFunc=v;var y;(function(E){E[E.Num=0]="Num",E[E.Str=1]="Str"})(y||(ar.Type=y={}));function w(E,S,T){if(E instanceof e.Name){const k=S===y.Num;return T?k?(0,e._)`"[" + ${E} + "]"`:(0,e._)`"['" + ${E} + "']"`:k?(0,e._)`"/" + ${E}`:(0,e._)`"/" + ${E}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return T?(0,e.getProperty)(E).toString():"/"+c(E)}ar.getErrorPath=w;function _(E,S,T=E.opts.strictSchema){if(T){if(S=`strict mode: ${S}`,T===!0)throw new Error(S);E.self.logger.warn(S)}}return ar.checkStrictMode=_,ar}var _I={},kme;function ay(){if(kme)return _I;kme=1,Object.defineProperty(_I,"__esModule",{value:!0});const e=vr(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return _I.default=t,_I}var Ame;function Z5(){return Ame||(Ame=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=vr(),n=Fr(),r=ay();e.keywordError={message:({keyword:g})=>(0,t.str)`must pass "${g}" keyword validation`},e.keyword$DataError={message:({keyword:g,schemaType:v})=>v?(0,t.str)`"${g}" keyword must be ${v} ($data)`:(0,t.str)`"${g}" keyword is invalid ($data)`};function i(g,v=e.keywordError,y,w){const{it:_}=g,{gen:E,compositeRule:S,allErrors:T}=_,k=d(g,v,y);w??(S||T)?l(E,k):u(_,(0,t._)`[${k}]`)}e.reportError=i;function o(g,v=e.keywordError,y){const{it:w}=g,{gen:_,compositeRule:E,allErrors:S}=w,T=d(g,v,y);l(_,T),E||S||u(w,r.default.vErrors)}e.reportExtraError=o;function s(g,v){g.assign(r.default.errors,v),g.if((0,t._)`${r.default.vErrors} !== null`,()=>g.if(v,()=>g.assign((0,t._)`${r.default.vErrors}.length`,v),()=>g.assign(r.default.vErrors,null)))}e.resetErrorsCount=s;function a({gen:g,keyword:v,schemaValue:y,data:w,errsCount:_,it:E}){if(_===void 0)throw new Error("ajv implementation error");const S=g.name("err");g.forRange("i",_,r.default.errors,T=>{g.const(S,(0,t._)`${r.default.vErrors}[${T}]`),g.if((0,t._)`${S}.instancePath === undefined`,()=>g.assign((0,t._)`${S}.instancePath`,(0,t.strConcat)(r.default.instancePath,E.errorPath))),g.assign((0,t._)`${S}.schemaPath`,(0,t.str)`${E.errSchemaPath}/${v}`),E.opts.verbose&&(g.assign((0,t._)`${S}.schema`,y),g.assign((0,t._)`${S}.data`,w))})}e.extendErrors=a;function l(g,v){const y=g.const("err",v);g.if((0,t._)`${r.default.vErrors} === null`,()=>g.assign(r.default.vErrors,(0,t._)`[${y}]`),(0,t._)`${r.default.vErrors}.push(${y})`),g.code((0,t._)`${r.default.errors}++`)}function u(g,v){const{gen:y,validateName:w,schemaEnv:_}=g;_.$async?y.throw((0,t._)`new ${g.ValidationError}(${v})`):(y.assign((0,t._)`${w}.errors`,v),y.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function d(g,v,y){const{createErrors:w}=g.it;return w===!1?(0,t._)`{}`:f(g,v,y)}function f(g,v,y={}){const{gen:w,it:_}=g,E=[h(_,y),m(g,y)];return p(g,v,E),w.object(...E)}function h({errorPath:g},{instancePath:v}){const y=v?(0,t.str)`${g}${(0,n.getErrorPath)(v,n.Type.Str)}`:g;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,y)]}function m({keyword:g,it:{errSchemaPath:v}},{schemaPath:y,parentSchema:w}){let _=w?v:(0,t.str)`${v}/${g}`;return y&&(_=(0,t.str)`${_}${(0,n.getErrorPath)(y,n.Type.Str)}`),[c.schemaPath,_]}function p(g,{params:v,message:y},w){const{keyword:_,data:E,schemaValue:S,it:T}=g,{opts:k,propertyName:R,topSchemaRef:I,schemaPath:P}=T;w.push([c.keyword,_],[c.params,typeof v=="function"?v(g):v||(0,t._)`{}`]),k.messages&&w.push([c.message,typeof y=="function"?y(g):y]),k.verbose&&w.push([c.schema,S],[c.parentSchema,(0,t._)`${I}${P}`],[r.default.data,E]),R&&w.push([c.propertyName,R])}})(dB)),dB}var Rme;function EVt(){if(Rme)return $y;Rme=1,Object.defineProperty($y,"__esModule",{value:!0}),$y.boolOrEmptySchema=$y.topBoolOrEmptySchema=void 0;const e=Z5(),t=vr(),n=ay(),r={message:"boolean schema is false"};function i(a){const{gen:l,schema:u,validateName:c}=a;u===!1?s(a,!1):typeof u=="object"&&u.$async===!0?l.return(n.default.data):(l.assign((0,t._)`${c}.errors`,null),l.return(!0))}$y.topBoolOrEmptySchema=i;function o(a,l){const{gen:u,schema:c}=a;c===!1?(u.var(l,!1),s(a)):u.var(l,!0)}$y.boolOrEmptySchema=o;function s(a,l){const{gen:u,data:c}=a,d={gen:u,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a};(0,e.reportError)(d,r,void 0,l)}return $y}var Vs={},Ly={},Ime;function $4e(){if(Ime)return Ly;Ime=1,Object.defineProperty(Ly,"__esModule",{value:!0}),Ly.getRules=Ly.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function n(i){return typeof i=="string"&&t.has(i)}Ly.isJSONType=n;function r(){const i={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...i,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},i.number,i.string,i.array,i.object],post:{rules:[]},all:{},keywords:{}}}return Ly.getRules=r,Ly}var bp={},Dme;function L4e(){if(Dme)return bp;Dme=1,Object.defineProperty(bp,"__esModule",{value:!0}),bp.shouldUseRule=bp.shouldUseGroup=bp.schemaHasRulesForType=void 0;function e({schema:r,self:i},o){const s=i.RULES.types[o];return s&&s!==!0&&t(r,s)}bp.schemaHasRulesForType=e;function t(r,i){return i.rules.some(o=>n(r,o))}bp.shouldUseGroup=t;function n(r,i){var o;return r[i.keyword]!==void 0||((o=i.definition.implements)===null||o===void 0?void 0:o.some(s=>r[s]!==void 0))}return bp.shouldUseRule=n,bp}var Pme;function qN(){if(Pme)return Vs;Pme=1,Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.reportTypeError=Vs.checkDataTypes=Vs.checkDataType=Vs.coerceAndCheckDataType=Vs.getJSONTypes=Vs.getSchemaTypes=Vs.DataType=void 0;const e=$4e(),t=L4e(),n=Z5(),r=vr(),i=Fr();var o;(function(y){y[y.Correct=0]="Correct",y[y.Wrong=1]="Wrong"})(o||(Vs.DataType=o={}));function s(y){const w=a(y.type);if(w.includes("null")){if(y.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!w.length&&y.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');y.nullable===!0&&w.push("null")}return w}Vs.getSchemaTypes=s;function a(y){const w=Array.isArray(y)?y:y?[y]:[];if(w.every(e.isJSONType))return w;throw new Error("type must be JSONType or JSONType[]: "+w.join(","))}Vs.getJSONTypes=a;function l(y,w){const{gen:_,data:E,opts:S}=y,T=c(w,S.coerceTypes),k=w.length>0&&!(T.length===0&&w.length===1&&(0,t.schemaHasRulesForType)(y,w[0]));if(k){const R=m(w,E,S.strictNumbers,o.Wrong);_.if(R,()=>{T.length?d(y,w,T):g(y)})}return k}Vs.coerceAndCheckDataType=l;const u=new Set(["string","number","integer","boolean","null"]);function c(y,w){return w?y.filter(_=>u.has(_)||w==="array"&&_==="array"):[]}function d(y,w,_){const{gen:E,data:S,opts:T}=y,k=E.let("dataType",(0,r._)`typeof ${S}`),R=E.let("coerced",(0,r._)`undefined`);T.coerceTypes==="array"&&E.if((0,r._)`${k} == 'object' && Array.isArray(${S}) && ${S}.length == 1`,()=>E.assign(S,(0,r._)`${S}[0]`).assign(k,(0,r._)`typeof ${S}`).if(m(w,S,T.strictNumbers),()=>E.assign(R,S))),E.if((0,r._)`${R} !== undefined`);for(const P of _)(u.has(P)||P==="array"&&T.coerceTypes==="array")&&I(P);E.else(),g(y),E.endIf(),E.if((0,r._)`${R} !== undefined`,()=>{E.assign(S,R),f(y,R)});function I(P){switch(P){case"string":E.elseIf((0,r._)`${k} == "number" || ${k} == "boolean"`).assign(R,(0,r._)`"" + ${S}`).elseIf((0,r._)`${S} === null`).assign(R,(0,r._)`""`);return;case"number":E.elseIf((0,r._)`${k} == "boolean" || ${S} === null
              || (${k} == "string" && ${S} && ${S} == +${S})`).assign(R,(0,r._)`+${S}`);return;case"integer":E.elseIf((0,r._)`${k} === "boolean" || ${S} === null
              || (${k} === "string" && ${S} && ${S} == +${S} && !(${S} % 1))`).assign(R,(0,r._)`+${S}`);return;case"boolean":E.elseIf((0,r._)`${S} === "false" || ${S} === 0 || ${S} === null`).assign(R,!1).elseIf((0,r._)`${S} === "true" || ${S} === 1`).assign(R,!0);return;case"null":E.elseIf((0,r._)`${S} === "" || ${S} === 0 || ${S} === false`),E.assign(R,null);return;case"array":E.elseIf((0,r._)`${k} === "string" || ${k} === "number"
              || ${k} === "boolean" || ${S} === null`).assign(R,(0,r._)`[${S}]`)}}}function f({gen:y,parentData:w,parentDataProperty:_},E){y.if((0,r._)`${w} !== undefined`,()=>y.assign((0,r._)`${w}[${_}]`,E))}function h(y,w,_,E=o.Correct){const S=E===o.Correct?r.operators.EQ:r.operators.NEQ;let T;switch(y){case"null":return(0,r._)`${w} ${S} null`;case"array":T=(0,r._)`Array.isArray(${w})`;break;case"object":T=(0,r._)`${w} && typeof ${w} == "object" && !Array.isArray(${w})`;break;case"integer":T=k((0,r._)`!(${w} % 1) && !isNaN(${w})`);break;case"number":T=k();break;default:return(0,r._)`typeof ${w} ${S} ${y}`}return E===o.Correct?T:(0,r.not)(T);function k(R=r.nil){return(0,r.and)((0,r._)`typeof ${w} == "number"`,R,_?(0,r._)`isFinite(${w})`:r.nil)}}Vs.checkDataType=h;function m(y,w,_,E){if(y.length===1)return h(y[0],w,_,E);let S;const T=(0,i.toHash)(y);if(T.array&&T.object){const k=(0,r._)`typeof ${w} != "object"`;S=T.null?k:(0,r._)`!${w} || ${k}`,delete T.null,delete T.array,delete T.object}else S=r.nil;T.number&&delete T.integer;for(const k in T)S=(0,r.and)(S,h(k,w,_,E));return S}Vs.checkDataTypes=m;const p={message:({schema:y})=>`must be ${y}`,params:({schema:y,schemaValue:w})=>typeof y=="string"?(0,r._)`{type: ${y}}`:(0,r._)`{type: ${w}}`};function g(y){const w=v(y);(0,n.reportError)(w,p)}Vs.reportTypeError=g;function v(y){const{gen:w,data:_,schema:E}=y,S=(0,i.schemaRefOrVal)(y,E,"type");return{gen:w,keyword:"type",data:_,schema:E.type,schemaCode:S,schemaValue:S,parentSchema:E,params:{},it:y}}return Vs}var cE={},Ome;function SVt(){if(Ome)return cE;Ome=1,Object.defineProperty(cE,"__esModule",{value:!0}),cE.assignDefaults=void 0;const e=vr(),t=Fr();function n(i,o){const{properties:s,items:a}=i.schema;if(o==="object"&&s)for(const l in s)r(i,l,s[l].default);else o==="array"&&Array.isArray(a)&&a.forEach((l,u)=>r(i,u,l.default))}cE.assignDefaults=n;function r(i,o,s){const{gen:a,compositeRule:l,data:u,opts:c}=i;if(s===void 0)return;const d=(0,e._)`${u}${(0,e.getProperty)(o)}`;if(l){(0,t.checkStrictMode)(i,`default is ignored for: ${d}`);return}let f=(0,e._)`${d} === undefined`;c.useDefaults==="empty"&&(f=(0,e._)`${f} || ${d} === null || ${d} === ""`),a.if(f,(0,e._)`${d} = ${(0,e.stringify)(s)}`)}return cE}var ud={},li={},Nme;function Ef(){if(Nme)return li;Nme=1,Object.defineProperty(li,"__esModule",{value:!0}),li.validateUnion=li.validateArray=li.usePattern=li.callValidateCode=li.schemaProperties=li.allSchemaProperties=li.noPropertyInData=li.propertyInData=li.isOwnProperty=li.hasPropFunc=li.reportMissingProp=li.checkMissingProp=li.checkReportMissingProp=void 0;const e=vr(),t=Fr(),n=ay(),r=Fr();function i(y,w){const{gen:_,data:E,it:S}=y;_.if(c(_,E,w,S.opts.ownProperties),()=>{y.setParams({missingProperty:(0,e._)`${w}`},!0),y.error()})}li.checkReportMissingProp=i;function o({gen:y,data:w,it:{opts:_}},E,S){return(0,e.or)(...E.map(T=>(0,e.and)(c(y,w,T,_.ownProperties),(0,e._)`${S} = ${T}`)))}li.checkMissingProp=o;function s(y,w){y.setParams({missingProperty:w},!0),y.error()}li.reportMissingProp=s;function a(y){return y.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}li.hasPropFunc=a;function l(y,w,_){return(0,e._)`${a(y)}.call(${w}, ${_})`}li.isOwnProperty=l;function u(y,w,_,E){const S=(0,e._)`${w}${(0,e.getProperty)(_)} !== undefined`;return E?(0,e._)`${S} && ${l(y,w,_)}`:S}li.propertyInData=u;function c(y,w,_,E){const S=(0,e._)`${w}${(0,e.getProperty)(_)} === undefined`;return E?(0,e.or)(S,(0,e.not)(l(y,w,_))):S}li.noPropertyInData=c;function d(y){return y?Object.keys(y).filter(w=>w!=="__proto__"):[]}li.allSchemaProperties=d;function f(y,w){return d(w).filter(_=>!(0,t.alwaysValidSchema)(y,w[_]))}li.schemaProperties=f;function h({schemaCode:y,data:w,it:{gen:_,topSchemaRef:E,schemaPath:S,errorPath:T},it:k},R,I,P){const N=P?(0,e._)`${y}, ${w}, ${E}${S}`:w,M=[[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,T)],[n.default.parentData,k.parentData],[n.default.parentDataProperty,k.parentDataProperty],[n.default.rootData,n.default.rootData]];k.opts.dynamicRef&&M.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const O=(0,e._)`${N}, ${_.object(...M)}`;return I!==e.nil?(0,e._)`${R}.call(${I}, ${O})`:(0,e._)`${R}(${O})`}li.callValidateCode=h;const m=(0,e._)`new RegExp`;function p({gen:y,it:{opts:w}},_){const E=w.unicodeRegExp?"u":"",{regExp:S}=w.code,T=S(_,E);return y.scopeValue("pattern",{key:T.toString(),ref:T,code:(0,e._)`${S.code==="new RegExp"?m:(0,r.useFunc)(y,S)}(${_}, ${E})`})}li.usePattern=p;function g(y){const{gen:w,data:_,keyword:E,it:S}=y,T=w.name("valid");if(S.allErrors){const R=w.let("valid",!0);return k(()=>w.assign(R,!1)),R}return w.var(T,!0),k(()=>w.break()),T;function k(R){const I=w.const("len",(0,e._)`${_}.length`);w.forRange("i",0,I,P=>{y.subschema({keyword:E,dataProp:P,dataPropType:t.Type.Num},T),w.if((0,e.not)(T),R)})}}li.validateArray=g;function v(y){const{gen:w,schema:_,keyword:E,it:S}=y;if(!Array.isArray(_))throw new Error("ajv implementation error");if(_.some(I=>(0,t.alwaysValidSchema)(S,I))&&!S.opts.unevaluated)return;const k=w.let("valid",!1),R=w.name("_valid");w.block(()=>_.forEach((I,P)=>{const N=y.subschema({keyword:E,schemaProp:P,compositeRule:!0},R);w.assign(k,(0,e._)`${k} || ${R}`),y.mergeValidEvaluated(N,R)||w.if((0,e.not)(k))})),y.result(k,()=>y.reset(),()=>y.error(!0))}return li.validateUnion=v,li}var Mme;function TVt(){if(Mme)return ud;Mme=1,Object.defineProperty(ud,"__esModule",{value:!0}),ud.validateKeywordUsage=ud.validSchemaType=ud.funcKeywordCode=ud.macroKeywordCode=void 0;const e=vr(),t=ay(),n=Ef(),r=Z5();function i(f,h){const{gen:m,keyword:p,schema:g,parentSchema:v,it:y}=f,w=h.macro.call(y.self,g,v,y),_=u(m,p,w);y.opts.validateSchema!==!1&&y.self.validateSchema(w,!0);const E=m.name("valid");f.subschema({schema:w,schemaPath:e.nil,errSchemaPath:`${y.errSchemaPath}/${p}`,topSchemaRef:_,compositeRule:!0},E),f.pass(E,()=>f.error(!0))}ud.macroKeywordCode=i;function o(f,h){var m;const{gen:p,keyword:g,schema:v,parentSchema:y,$data:w,it:_}=f;l(_,h);const E=!w&&h.compile?h.compile.call(_.self,v,y,_):h.validate,S=u(p,g,E),T=p.let("valid");f.block$data(T,k),f.ok((m=h.valid)!==null&&m!==void 0?m:T);function k(){if(h.errors===!1)P(),h.modifying&&s(f),N(()=>f.error());else{const M=h.async?R():I();h.modifying&&s(f),N(()=>a(f,M))}}function R(){const M=p.let("ruleErrs",null);return p.try(()=>P((0,e._)`await `),O=>p.assign(T,!1).if((0,e._)`${O} instanceof ${_.ValidationError}`,()=>p.assign(M,(0,e._)`${O}.errors`),()=>p.throw(O))),M}function I(){const M=(0,e._)`${S}.errors`;return p.assign(M,null),P(e.nil),M}function P(M=h.async?(0,e._)`await `:e.nil){const O=_.opts.passContext?t.default.this:t.default.self,j=!("compile"in h&&!w||h.schema===!1);p.assign(T,(0,e._)`${M}${(0,n.callValidateCode)(f,S,O,j)}`,h.modifying)}function N(M){var O;p.if((0,e.not)((O=h.valid)!==null&&O!==void 0?O:T),M)}}ud.funcKeywordCode=o;function s(f){const{gen:h,data:m,it:p}=f;h.if(p.parentData,()=>h.assign(m,(0,e._)`${p.parentData}[${p.parentDataProperty}]`))}function a(f,h){const{gen:m}=f;m.if((0,e._)`Array.isArray(${h})`,()=>{m.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${h} : ${t.default.vErrors}.concat(${h})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,r.extendErrors)(f)},()=>f.error())}function l({schemaEnv:f},h){if(h.async&&!f.$async)throw new Error("async keyword in sync schema")}function u(f,h,m){if(m===void 0)throw new Error(`keyword "${h}" failed to compile`);return f.scopeValue("keyword",typeof m=="function"?{ref:m}:{ref:m,code:(0,e.stringify)(m)})}function c(f,h,m=!1){return!h.length||h.some(p=>p==="array"?Array.isArray(f):p==="object"?f&&typeof f=="object"&&!Array.isArray(f):typeof f==p||m&&typeof f>"u")}ud.validSchemaType=c;function d({schema:f,opts:h,self:m,errSchemaPath:p},g,v){if(Array.isArray(g.keyword)?!g.keyword.includes(v):g.keyword!==v)throw new Error("ajv implementation error");const y=g.dependencies;if(y?.some(w=>!Object.prototype.hasOwnProperty.call(f,w)))throw new Error(`parent schema must have dependencies of ${v}: ${y.join(",")}`);if(g.validateSchema&&!g.validateSchema(f[v])){const _=`keyword "${v}" value is invalid at path "${p}": `+m.errorsText(g.validateSchema.errors);if(h.validateSchema==="log")m.logger.error(_);else throw new Error(_)}}return ud.validateKeywordUsage=d,ud}var wp={},$me;function kVt(){if($me)return wp;$me=1,Object.defineProperty(wp,"__esModule",{value:!0}),wp.extendSubschemaMode=wp.extendSubschemaData=wp.getSubschema=void 0;const e=vr(),t=Fr();function n(o,{keyword:s,schemaProp:a,schema:l,schemaPath:u,errSchemaPath:c,topSchemaRef:d}){if(s!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(s!==void 0){const f=o.schema[s];return a===void 0?{schema:f,schemaPath:(0,e._)`${o.schemaPath}${(0,e.getProperty)(s)}`,errSchemaPath:`${o.errSchemaPath}/${s}`}:{schema:f[a],schemaPath:(0,e._)`${o.schemaPath}${(0,e.getProperty)(s)}${(0,e.getProperty)(a)}`,errSchemaPath:`${o.errSchemaPath}/${s}/${(0,t.escapeFragment)(a)}`}}if(l!==void 0){if(u===void 0||c===void 0||d===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:u,topSchemaRef:d,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}wp.getSubschema=n;function r(o,s,{dataProp:a,dataPropType:l,data:u,dataTypes:c,propertyName:d}){if(u!==void 0&&a!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:f}=s;if(a!==void 0){const{errorPath:m,dataPathArr:p,opts:g}=s,v=f.let("data",(0,e._)`${s.data}${(0,e.getProperty)(a)}`,!0);h(v),o.errorPath=(0,e.str)`${m}${(0,t.getErrorPath)(a,l,g.jsPropertySyntax)}`,o.parentDataProperty=(0,e._)`${a}`,o.dataPathArr=[...p,o.parentDataProperty]}if(u!==void 0){const m=u instanceof e.Name?u:f.let("data",u,!0);h(m),d!==void 0&&(o.propertyName=d)}c&&(o.dataTypes=c);function h(m){o.data=m,o.dataLevel=s.dataLevel+1,o.dataTypes=[],s.definedProperties=new Set,o.parentData=s.data,o.dataNames=[...s.dataNames,m]}}wp.extendSubschemaData=r;function i(o,{jtdDiscriminator:s,jtdMetadata:a,compositeRule:l,createErrors:u,allErrors:c}){l!==void 0&&(o.compositeRule=l),u!==void 0&&(o.createErrors=u),c!==void 0&&(o.allErrors=c),o.jtdDiscriminator=s,o.jtdMetadata=a}return wp.extendSubschemaMode=i,wp}var el={},mB={exports:{}},Lme;function AVt(){if(Lme)return mB.exports;Lme=1;var e=mB.exports=function(r,i,o){typeof i=="function"&&(o=i,i={}),o=i.cb||o;var s=typeof o=="function"?o:o.pre||function(){},a=o.post||function(){};t(i,s,a,r,"",r)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(r,i,o,s,a,l,u,c,d,f){if(s&&typeof s=="object"&&!Array.isArray(s)){i(s,a,l,u,c,d,f);for(var h in s){var m=s[h];if(Array.isArray(m)){if(h in e.arrayKeywords)for(var p=0;p<m.length;p++)t(r,i,o,m[p],a+"/"+h+"/"+p,l,a,h,s,p)}else if(h in e.propsKeywords){if(m&&typeof m=="object")for(var g in m)t(r,i,o,m[g],a+"/"+h+"/"+n(g),l,a,h,s,g)}else(h in e.keywords||r.allKeys&&!(h in e.skipKeywords))&&t(r,i,o,m,a+"/"+h,l,a,h,s)}o(s,a,l,u,c,d,f)}}function n(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}return mB.exports}var Fme;function e$(){if(Fme)return el;Fme=1,Object.defineProperty(el,"__esModule",{value:!0}),el.getSchemaRefs=el.resolveUrl=el.normalizeId=el._getFullPath=el.getFullPath=el.inlineRef=void 0;const e=Fr(),t=uY(),n=AVt(),r=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function i(p,g=!0){return typeof p=="boolean"?!0:g===!0?!s(p):g?a(p)<=g:!1}el.inlineRef=i;const o=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function s(p){for(const g in p){if(o.has(g))return!0;const v=p[g];if(Array.isArray(v)&&v.some(s)||typeof v=="object"&&s(v))return!0}return!1}function a(p){let g=0;for(const v in p){if(v==="$ref")return 1/0;if(g++,!r.has(v)&&(typeof p[v]=="object"&&(0,e.eachItem)(p[v],y=>g+=a(y)),g===1/0))return 1/0}return g}function l(p,g="",v){v!==!1&&(g=d(g));const y=p.parse(g);return u(p,y)}el.getFullPath=l;function u(p,g){return p.serialize(g).split("#")[0]+"#"}el._getFullPath=u;const c=/#\/?$/;function d(p){return p?p.replace(c,""):""}el.normalizeId=d;function f(p,g,v){return v=d(v),p.resolve(g,v)}el.resolveUrl=f;const h=/^[a-z_][-a-z0-9._]*$/i;function m(p,g){if(typeof p=="boolean")return{};const{schemaId:v,uriResolver:y}=this.opts,w=d(p[v]||g),_={"":w},E=l(y,w,!1),S={},T=new Set;return n(p,{allKeys:!0},(I,P,N,M)=>{if(M===void 0)return;const O=E+P;let j=_[M];typeof I[v]=="string"&&(j=U.call(this,I[v])),q.call(this,I.$anchor),q.call(this,I.$dynamicAnchor),_[P]=j;function U(W){const V=this.opts.uriResolver.resolve;if(W=d(j?V(j,W):W),T.has(W))throw R(W);T.add(W);let z=this.refs[W];return typeof z=="string"&&(z=this.refs[z]),typeof z=="object"?k(I,z.schema,W):W!==d(O)&&(W[0]==="#"?(k(I,S[W],W),S[W]=I):this.refs[W]=O),W}function q(W){if(typeof W=="string"){if(!h.test(W))throw new Error(`invalid anchor "${W}"`);U.call(this,`#${W}`)}}}),S;function k(I,P,N){if(P!==void 0&&!t(I,P))throw R(N)}function R(I){return new Error(`reference "${I}" resolves to more than one schema`)}}return el.getSchemaRefs=m,el}var jme;function t$(){if(jme)return vp;jme=1,Object.defineProperty(vp,"__esModule",{value:!0}),vp.getData=vp.KeywordCxt=vp.validateFunctionCode=void 0;const e=EVt(),t=qN(),n=L4e(),r=qN(),i=SVt(),o=TVt(),s=kVt(),a=vr(),l=ay(),u=e$(),c=Fr(),d=Z5();function f(te){if(E(te)&&(T(te),_(te))){g(te);return}h(te,()=>(0,e.topBoolOrEmptySchema)(te))}vp.validateFunctionCode=f;function h({gen:te,validateName:se,schema:we,schemaEnv:X,opts:he},ge){he.code.es5?te.func(se,(0,a._)`${l.default.data}, ${l.default.valCxt}`,X.$async,()=>{te.code((0,a._)`"use strict"; ${y(we,he)}`),p(te,he),te.code(ge)}):te.func(se,(0,a._)`${l.default.data}, ${m(he)}`,X.$async,()=>te.code(y(we,he)).code(ge))}function m(te){return(0,a._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${te.dynamicRef?(0,a._)`, ${l.default.dynamicAnchors}={}`:a.nil}}={}`}function p(te,se){te.if(l.default.valCxt,()=>{te.var(l.default.instancePath,(0,a._)`${l.default.valCxt}.${l.default.instancePath}`),te.var(l.default.parentData,(0,a._)`${l.default.valCxt}.${l.default.parentData}`),te.var(l.default.parentDataProperty,(0,a._)`${l.default.valCxt}.${l.default.parentDataProperty}`),te.var(l.default.rootData,(0,a._)`${l.default.valCxt}.${l.default.rootData}`),se.dynamicRef&&te.var(l.default.dynamicAnchors,(0,a._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{te.var(l.default.instancePath,(0,a._)`""`),te.var(l.default.parentData,(0,a._)`undefined`),te.var(l.default.parentDataProperty,(0,a._)`undefined`),te.var(l.default.rootData,l.default.data),se.dynamicRef&&te.var(l.default.dynamicAnchors,(0,a._)`{}`)})}function g(te){const{schema:se,opts:we,gen:X}=te;h(te,()=>{we.$comment&&se.$comment&&M(te),I(te),X.let(l.default.vErrors,null),X.let(l.default.errors,0),we.unevaluated&&v(te),k(te),O(te)})}function v(te){const{gen:se,validateName:we}=te;te.evaluated=se.const("evaluated",(0,a._)`${we}.evaluated`),se.if((0,a._)`${te.evaluated}.dynamicProps`,()=>se.assign((0,a._)`${te.evaluated}.props`,(0,a._)`undefined`)),se.if((0,a._)`${te.evaluated}.dynamicItems`,()=>se.assign((0,a._)`${te.evaluated}.items`,(0,a._)`undefined`))}function y(te,se){const we=typeof te=="object"&&te[se.schemaId];return we&&(se.code.source||se.code.process)?(0,a._)`/*# sourceURL=${we} */`:a.nil}function w(te,se){if(E(te)&&(T(te),_(te))){S(te,se);return}(0,e.boolOrEmptySchema)(te,se)}function _({schema:te,self:se}){if(typeof te=="boolean")return!te;for(const we in te)if(se.RULES.all[we])return!0;return!1}function E(te){return typeof te.schema!="boolean"}function S(te,se){const{schema:we,gen:X,opts:he}=te;he.$comment&&we.$comment&&M(te),P(te),N(te);const ge=X.const("_errs",l.default.errors);k(te,ge),X.var(se,(0,a._)`${ge} === ${l.default.errors}`)}function T(te){(0,c.checkUnknownRules)(te),R(te)}function k(te,se){if(te.opts.jtd)return U(te,[],!1,se);const we=(0,t.getSchemaTypes)(te.schema),X=(0,t.coerceAndCheckDataType)(te,we);U(te,we,!X,se)}function R(te){const{schema:se,errSchemaPath:we,opts:X,self:he}=te;se.$ref&&X.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(se,he.RULES)&&he.logger.warn(`$ref: keywords ignored in schema at path "${we}"`)}function I(te){const{schema:se,opts:we}=te;se.default!==void 0&&we.useDefaults&&we.strictSchema&&(0,c.checkStrictMode)(te,"default is ignored in the schema root")}function P(te){const se=te.schema[te.opts.schemaId];se&&(te.baseId=(0,u.resolveUrl)(te.opts.uriResolver,te.baseId,se))}function N(te){if(te.schema.$async&&!te.schemaEnv.$async)throw new Error("async schema in sync schema")}function M({gen:te,schemaEnv:se,schema:we,errSchemaPath:X,opts:he}){const ge=we.$comment;if(he.$comment===!0)te.code((0,a._)`${l.default.self}.logger.log(${ge})`);else if(typeof he.$comment=="function"){const re=(0,a.str)`${X}/$comment`,ee=te.scopeValue("root",{ref:se.root});te.code((0,a._)`${l.default.self}.opts.$comment(${ge}, ${re}, ${ee}.schema)`)}}function O(te){const{gen:se,schemaEnv:we,validateName:X,ValidationError:he,opts:ge}=te;we.$async?se.if((0,a._)`${l.default.errors} === 0`,()=>se.return(l.default.data),()=>se.throw((0,a._)`new ${he}(${l.default.vErrors})`)):(se.assign((0,a._)`${X}.errors`,l.default.vErrors),ge.unevaluated&&j(te),se.return((0,a._)`${l.default.errors} === 0`))}function j({gen:te,evaluated:se,props:we,items:X}){we instanceof a.Name&&te.assign((0,a._)`${se}.props`,we),X instanceof a.Name&&te.assign((0,a._)`${se}.items`,X)}function U(te,se,we,X){const{gen:he,schema:ge,data:re,allErrors:ee,opts:fe,self:Re}=te,{RULES:Oe}=Re;if(ge.$ref&&(fe.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(ge,Oe))){he.block(()=>ce(te,"$ref",Oe.all.$ref.definition));return}fe.jtd||W(te,se),he.block(()=>{for(const Se of Oe.rules)Ae(Se);Ae(Oe.post)});function Ae(Se){(0,n.shouldUseGroup)(ge,Se)&&(Se.type?(he.if((0,r.checkDataType)(Se.type,re,fe.strictNumbers)),q(te,Se),se.length===1&&se[0]===Se.type&&we&&(he.else(),(0,r.reportTypeError)(te)),he.endIf()):q(te,Se),ee||he.if((0,a._)`${l.default.errors} === ${X||0}`))}}function q(te,se){const{gen:we,schema:X,opts:{useDefaults:he}}=te;he&&(0,i.assignDefaults)(te,se.type),we.block(()=>{for(const ge of se.rules)(0,n.shouldUseRule)(X,ge)&&ce(te,ge.keyword,ge.definition,se.type)})}function W(te,se){te.schemaEnv.meta||!te.opts.strictTypes||(V(te,se),te.opts.allowUnionTypes||z(te,se),L(te,te.dataTypes))}function V(te,se){if(se.length){if(!te.dataTypes.length){te.dataTypes=se;return}se.forEach(we=>{B(te.dataTypes,we)||Q(te,`type "${we}" not allowed by context "${te.dataTypes.join(",")}"`)}),Y(te,se)}}function z(te,se){se.length>1&&!(se.length===2&&se.includes("null"))&&Q(te,"use allowUnionTypes to allow union type keyword")}function L(te,se){const we=te.self.RULES.all;for(const X in we){const he=we[X];if(typeof he=="object"&&(0,n.shouldUseRule)(te.schema,he)){const{type:ge}=he.definition;ge.length&&!ge.some(re=>H(se,re))&&Q(te,`missing type "${ge.join(",")}" for keyword "${X}"`)}}}function H(te,se){return te.includes(se)||se==="number"&&te.includes("integer")}function B(te,se){return te.includes(se)||se==="integer"&&te.includes("number")}function Y(te,se){const we=[];for(const X of te.dataTypes)B(se,X)?we.push(X):se.includes("integer")&&X==="number"&&we.push("integer");te.dataTypes=we}function Q(te,se){const we=te.schemaEnv.baseId+te.errSchemaPath;se+=` at "${we}" (strictTypes)`,(0,c.checkStrictMode)(te,se,te.opts.strictTypes)}class ne{constructor(se,we,X){if((0,o.validateKeywordUsage)(se,we,X),this.gen=se.gen,this.allErrors=se.allErrors,this.keyword=X,this.data=se.data,this.schema=se.schema[X],this.$data=we.$data&&se.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(se,this.schema,X,this.$data),this.schemaType=we.schemaType,this.parentSchema=se.schema,this.params={},this.it=se,this.def=we,this.$data)this.schemaCode=se.gen.const("vSchema",ae(this.$data,se));else if(this.schemaCode=this.schemaValue,!(0,o.validSchemaType)(this.schema,we.schemaType,we.allowUndefined))throw new Error(`${X} value must be ${JSON.stringify(we.schemaType)}`);("code"in we?we.trackErrors:we.errors!==!1)&&(this.errsCount=se.gen.const("_errs",l.default.errors))}result(se,we,X){this.failResult((0,a.not)(se),we,X)}failResult(se,we,X){this.gen.if(se),X?X():this.error(),we?(this.gen.else(),we(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(se,we){this.failResult((0,a.not)(se),void 0,we)}fail(se){if(se===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(se),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(se){if(!this.$data)return this.fail(se);const{schemaCode:we}=this;this.fail((0,a._)`${we} !== undefined && (${(0,a.or)(this.invalid$data(),se)})`)}error(se,we,X){if(we){this.setParams(we),this._error(se,X),this.setParams({});return}this._error(se,X)}_error(se,we){(se?d.reportExtraError:d.reportError)(this,this.def.error,we)}$dataError(){(0,d.reportError)(this,this.def.$dataError||d.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,d.resetErrorsCount)(this.gen,this.errsCount)}ok(se){this.allErrors||this.gen.if(se)}setParams(se,we){we?Object.assign(this.params,se):this.params=se}block$data(se,we,X=a.nil){this.gen.block(()=>{this.check$data(se,X),we()})}check$data(se=a.nil,we=a.nil){if(!this.$data)return;const{gen:X,schemaCode:he,schemaType:ge,def:re}=this;X.if((0,a.or)((0,a._)`${he} === undefined`,we)),se!==a.nil&&X.assign(se,!0),(ge.length||re.validateSchema)&&(X.elseIf(this.invalid$data()),this.$dataError(),se!==a.nil&&X.assign(se,!1)),X.else()}invalid$data(){const{gen:se,schemaCode:we,schemaType:X,def:he,it:ge}=this;return(0,a.or)(re(),ee());function re(){if(X.length){if(!(we instanceof a.Name))throw new Error("ajv implementation error");const fe=Array.isArray(X)?X:[X];return(0,a._)`${(0,r.checkDataTypes)(fe,we,ge.opts.strictNumbers,r.DataType.Wrong)}`}return a.nil}function ee(){if(he.validateSchema){const fe=se.scopeValue("validate$data",{ref:he.validateSchema});return(0,a._)`!${fe}(${we})`}return a.nil}}subschema(se,we){const X=(0,s.getSubschema)(this.it,se);(0,s.extendSubschemaData)(X,this.it,se),(0,s.extendSubschemaMode)(X,se);const he={...this.it,...X,items:void 0,props:void 0};return w(he,we),he}mergeEvaluated(se,we){const{it:X,gen:he}=this;X.opts.unevaluated&&(X.props!==!0&&se.props!==void 0&&(X.props=c.mergeEvaluated.props(he,se.props,X.props,we)),X.items!==!0&&se.items!==void 0&&(X.items=c.mergeEvaluated.items(he,se.items,X.items,we)))}mergeValidEvaluated(se,we){const{it:X,gen:he}=this;if(X.opts.unevaluated&&(X.props!==!0||X.items!==!0))return he.if(we,()=>this.mergeEvaluated(se,a.Name)),!0}}vp.KeywordCxt=ne;function ce(te,se,we,X){const he=new ne(te,we,se);"code"in we?we.code(he,X):he.$data&&we.validate?(0,o.funcKeywordCode)(he,we):"macro"in we?(0,o.macroKeywordCode)(he,we):(we.compile||we.validate)&&(0,o.funcKeywordCode)(he,we)}const le=/^\/(?:[^~]|~0|~1)*$/,ue=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ae(te,{dataLevel:se,dataNames:we,dataPathArr:X}){let he,ge;if(te==="")return l.default.rootData;if(te[0]==="/"){if(!le.test(te))throw new Error(`Invalid JSON-pointer: ${te}`);he=te,ge=l.default.rootData}else{const Re=ue.exec(te);if(!Re)throw new Error(`Invalid JSON-pointer: ${te}`);const Oe=+Re[1];if(he=Re[2],he==="#"){if(Oe>=se)throw new Error(fe("property/index",Oe));return X[se-Oe]}if(Oe>se)throw new Error(fe("data",Oe));if(ge=we[se-Oe],!he)return ge}let re=ge;const ee=he.split("/");for(const Re of ee)Re&&(ge=(0,a._)`${ge}${(0,a.getProperty)((0,c.unescapeJsonPointer)(Re))}`,re=(0,a._)`${re} && ${ge}`);return re;function fe(Re,Oe){return`Cannot access ${Re} ${Oe} levels up, current level is ${se}`}}return vp.getData=ae,vp}var EI={},Bme;function pee(){if(Bme)return EI;Bme=1,Object.defineProperty(EI,"__esModule",{value:!0});class e extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}return EI.default=e,EI}var SI={},zme;function n$(){if(zme)return SI;zme=1,Object.defineProperty(SI,"__esModule",{value:!0});const e=e$();class t extends Error{constructor(r,i,o,s){super(s||`can't resolve reference ${o} from id ${i}`),this.missingRef=(0,e.resolveUrl)(r,i,o),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(r,this.missingRef))}}return SI.default=t,SI}var bu={},Ume;function mee(){if(Ume)return bu;Ume=1,Object.defineProperty(bu,"__esModule",{value:!0}),bu.resolveSchema=bu.getCompilingSchema=bu.resolveRef=bu.compileSchema=bu.SchemaEnv=void 0;const e=vr(),t=pee(),n=ay(),r=e$(),i=Fr(),o=t$();class s{constructor(v){var y;this.refs={},this.dynamicAnchors={};let w;typeof v.schema=="object"&&(w=v.schema),this.schema=v.schema,this.schemaId=v.schemaId,this.root=v.root||this,this.baseId=(y=v.baseId)!==null&&y!==void 0?y:(0,r.normalizeId)(w?.[v.schemaId||"$id"]),this.schemaPath=v.schemaPath,this.localRefs=v.localRefs,this.meta=v.meta,this.$async=w?.$async,this.refs={}}}bu.SchemaEnv=s;function a(g){const v=c.call(this,g);if(v)return v;const y=(0,r.getFullPath)(this.opts.uriResolver,g.root.baseId),{es5:w,lines:_}=this.opts.code,{ownProperties:E}=this.opts,S=new e.CodeGen(this.scope,{es5:w,lines:_,ownProperties:E});let T;g.$async&&(T=S.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const k=S.scopeName("validate");g.validateName=k;const R={gen:S,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:S.scopeValue("schema",this.opts.code.source===!0?{ref:g.schema,code:(0,e.stringify)(g.schema)}:{ref:g.schema}),validateName:k,ValidationError:T,schema:g.schema,schemaEnv:g,rootId:y,baseId:g.baseId||y,schemaPath:e.nil,errSchemaPath:g.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let I;try{this._compilations.add(g),(0,o.validateFunctionCode)(R),S.optimize(this.opts.code.optimize);const P=S.toString();I=`${S.scopeRefs(n.default.scope)}return ${P}`,this.opts.code.process&&(I=this.opts.code.process(I,g));const M=new Function(`${n.default.self}`,`${n.default.scope}`,I)(this,this.scope.get());if(this.scope.value(k,{ref:M}),M.errors=null,M.schema=g.schema,M.schemaEnv=g,g.$async&&(M.$async=!0),this.opts.code.source===!0&&(M.source={validateName:k,validateCode:P,scopeValues:S._values}),this.opts.unevaluated){const{props:O,items:j}=R;M.evaluated={props:O instanceof e.Name?void 0:O,items:j instanceof e.Name?void 0:j,dynamicProps:O instanceof e.Name,dynamicItems:j instanceof e.Name},M.source&&(M.source.evaluated=(0,e.stringify)(M.evaluated))}return g.validate=M,g}catch(P){throw delete g.validate,delete g.validateName,I&&this.logger.error("Error compiling schema, function code:",I),P}finally{this._compilations.delete(g)}}bu.compileSchema=a;function l(g,v,y){var w;y=(0,r.resolveUrl)(this.opts.uriResolver,v,y);const _=g.refs[y];if(_)return _;let E=f.call(this,g,y);if(E===void 0){const S=(w=g.localRefs)===null||w===void 0?void 0:w[y],{schemaId:T}=this.opts;S&&(E=new s({schema:S,schemaId:T,root:g,baseId:v}))}if(E!==void 0)return g.refs[y]=u.call(this,E)}bu.resolveRef=l;function u(g){return(0,r.inlineRef)(g.schema,this.opts.inlineRefs)?g.schema:g.validate?g:a.call(this,g)}function c(g){for(const v of this._compilations)if(d(v,g))return v}bu.getCompilingSchema=c;function d(g,v){return g.schema===v.schema&&g.root===v.root&&g.baseId===v.baseId}function f(g,v){let y;for(;typeof(y=this.refs[v])=="string";)v=y;return y||this.schemas[v]||h.call(this,g,v)}function h(g,v){const y=this.opts.uriResolver.parse(v),w=(0,r._getFullPath)(this.opts.uriResolver,y);let _=(0,r.getFullPath)(this.opts.uriResolver,g.baseId,void 0);if(Object.keys(g.schema).length>0&&w===_)return p.call(this,y,g);const E=(0,r.normalizeId)(w),S=this.refs[E]||this.schemas[E];if(typeof S=="string"){const T=h.call(this,g,S);return typeof T?.schema!="object"?void 0:p.call(this,y,T)}if(typeof S?.schema=="object"){if(S.validate||a.call(this,S),E===(0,r.normalizeId)(v)){const{schema:T}=S,{schemaId:k}=this.opts,R=T[k];return R&&(_=(0,r.resolveUrl)(this.opts.uriResolver,_,R)),new s({schema:T,schemaId:k,root:g,baseId:_})}return p.call(this,y,S)}}bu.resolveSchema=h;const m=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function p(g,{baseId:v,schema:y,root:w}){var _;if(((_=g.fragment)===null||_===void 0?void 0:_[0])!=="/")return;for(const T of g.fragment.slice(1).split("/")){if(typeof y=="boolean")return;const k=y[(0,i.unescapeFragment)(T)];if(k===void 0)return;y=k;const R=typeof y=="object"&&y[this.opts.schemaId];!m.has(T)&&R&&(v=(0,r.resolveUrl)(this.opts.uriResolver,v,R))}let E;if(typeof y!="boolean"&&y.$ref&&!(0,i.schemaHasRulesButRef)(y,this.RULES)){const T=(0,r.resolveUrl)(this.opts.uriResolver,v,y.$ref);E=h.call(this,w,T)}const{schemaId:S}=this.opts;if(E=E||new s({schema:y,schemaId:S,root:w,baseId:v}),E.schema!==E.root.schema)return E}return bu}const RVt="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",IVt="Meta-schema for $data reference (JSON AnySchema extension proposal)",DVt="object",PVt=["$data"],OVt={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},NVt=!1,MVt={$id:RVt,description:IVt,type:DVt,required:PVt,properties:OVt,additionalProperties:NVt};var TI={},dE={exports:{}},gB,Hme;function $Vt(){return Hme||(Hme=1,gB={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}),gB}var yB,qme;function LVt(){if(qme)return yB;qme=1;const{HEX:e}=$Vt(),t=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function n(p){if(a(p,".")<3)return{host:p,isIPV4:!1};const g=p.match(t)||[],[v]=g;return v?{host:s(v,"."),isIPV4:!0}:{host:p,isIPV4:!1}}function r(p,g=!1){let v="",y=!0;for(const w of p){if(e[w]===void 0)return;w!=="0"&&y===!0&&(y=!1),y||(v+=w)}return g&&v.length===0&&(v="0"),v}function i(p){let g=0;const v={error:!1,address:"",zone:""},y=[],w=[];let _=!1,E=!1,S=!1;function T(){if(w.length){if(_===!1){const k=r(w);if(k!==void 0)y.push(k);else return v.error=!0,!1}w.length=0}return!0}for(let k=0;k<p.length;k++){const R=p[k];if(!(R==="["||R==="]"))if(R===":"){if(E===!0&&(S=!0),!T())break;if(g++,y.push(":"),g>7){v.error=!0;break}k-1>=0&&p[k-1]===":"&&(E=!0);continue}else if(R==="%"){if(!T())break;_=!0}else{w.push(R);continue}}return w.length&&(_?v.zone=w.join(""):S?y.push(w.join("")):y.push(r(w))),v.address=y.join(""),v}function o(p){if(a(p,":")<2)return{host:p,isIPV6:!1};const g=i(p);if(g.error)return{host:p,isIPV6:!1};{let v=g.address,y=g.address;return g.zone&&(v+="%"+g.zone,y+="%25"+g.zone),{host:v,escapedHost:y,isIPV6:!0}}}function s(p,g){let v="",y=!0;const w=p.length;for(let _=0;_<w;_++){const E=p[_];E==="0"&&y?(_+1<=w&&p[_+1]===g||_+1===w)&&(v+=E,y=!1):(E===g?y=!0:y=!1,v+=E)}return v}function a(p,g){let v=0;for(let y=0;y<p.length;y++)p[y]===g&&v++;return v}const l=/^\.\.?\//u,u=/^\/\.(?:\/|$)/u,c=/^\/\.\.(?:\/|$)/u,d=/^\/?(?:.|\n)*?(?=\/|$)/u;function f(p){const g=[];for(;p.length;)if(p.match(l))p=p.replace(l,"");else if(p.match(u))p=p.replace(u,"/");else if(p.match(c))p=p.replace(c,"/"),g.pop();else if(p==="."||p==="..")p="";else{const v=p.match(d);if(v){const y=v[0];p=p.slice(y.length),g.push(y)}else throw new Error("Unexpected dot segment condition")}return g.join("")}function h(p,g){const v=g!==!0?escape:unescape;return p.scheme!==void 0&&(p.scheme=v(p.scheme)),p.userinfo!==void 0&&(p.userinfo=v(p.userinfo)),p.host!==void 0&&(p.host=v(p.host)),p.path!==void 0&&(p.path=v(p.path)),p.query!==void 0&&(p.query=v(p.query)),p.fragment!==void 0&&(p.fragment=v(p.fragment)),p}function m(p){const g=[];if(p.userinfo!==void 0&&(g.push(p.userinfo),g.push("@")),p.host!==void 0){let v=unescape(p.host);const y=n(v);if(y.isIPV4)v=y.host;else{const w=o(y.host);w.isIPV6===!0?v=`[${w.escapedHost}]`:v=p.host}g.push(v)}return(typeof p.port=="number"||typeof p.port=="string")&&(g.push(":"),g.push(String(p.port))),g.length?g.join(""):void 0}return yB={recomposeAuthority:m,normalizeComponentEncoding:h,removeDotSegments:f,normalizeIPv4:n,normalizeIPv6:o,stringArrayToHexStripped:r},yB}var vB,Vme;function FVt(){if(Vme)return vB;Vme=1;const e=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,t=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function n(y){return typeof y.secure=="boolean"?y.secure:String(y.scheme).toLowerCase()==="wss"}function r(y){return y.host||(y.error=y.error||"HTTP URIs must have a host."),y}function i(y){const w=String(y.scheme).toLowerCase()==="https";return(y.port===(w?443:80)||y.port==="")&&(y.port=void 0),y.path||(y.path="/"),y}function o(y){return y.secure=n(y),y.resourceName=(y.path||"/")+(y.query?"?"+y.query:""),y.path=void 0,y.query=void 0,y}function s(y){if((y.port===(n(y)?443:80)||y.port==="")&&(y.port=void 0),typeof y.secure=="boolean"&&(y.scheme=y.secure?"wss":"ws",y.secure=void 0),y.resourceName){const[w,_]=y.resourceName.split("?");y.path=w&&w!=="/"?w:void 0,y.query=_,y.resourceName=void 0}return y.fragment=void 0,y}function a(y,w){if(!y.path)return y.error="URN can not be parsed",y;const _=y.path.match(t);if(_){const E=w.scheme||y.scheme||"urn";y.nid=_[1].toLowerCase(),y.nss=_[2];const S=`${E}:${w.nid||y.nid}`,T=v[S];y.path=void 0,T&&(y=T.parse(y,w))}else y.error=y.error||"URN can not be parsed.";return y}function l(y,w){const _=w.scheme||y.scheme||"urn",E=y.nid.toLowerCase(),S=`${_}:${w.nid||E}`,T=v[S];T&&(y=T.serialize(y,w));const k=y,R=y.nss;return k.path=`${E||w.nid}:${R}`,w.skipEscape=!0,k}function u(y,w){const _=y;return _.uuid=_.nss,_.nss=void 0,!w.tolerant&&(!_.uuid||!e.test(_.uuid))&&(_.error=_.error||"UUID is not valid."),_}function c(y){const w=y;return w.nss=(y.uuid||"").toLowerCase(),w}const d={scheme:"http",domainHost:!0,parse:r,serialize:i},f={scheme:"https",domainHost:d.domainHost,parse:r,serialize:i},h={scheme:"ws",domainHost:!0,parse:o,serialize:s},m={scheme:"wss",domainHost:h.domainHost,parse:h.parse,serialize:h.serialize},v={http:d,https:f,ws:h,wss:m,urn:{scheme:"urn",parse:a,serialize:l,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:u,serialize:c,skipNormalize:!0}};return vB=v,vB}var Wme;function jVt(){if(Wme)return dE.exports;Wme=1;const{normalizeIPv6:e,normalizeIPv4:t,removeDotSegments:n,recomposeAuthority:r,normalizeComponentEncoding:i}=LVt(),o=FVt();function s(g,v){return typeof g=="string"?g=c(m(g,v),v):typeof g=="object"&&(g=m(c(g,v),v)),g}function a(g,v,y){const w=Object.assign({scheme:"null"},y),_=l(m(g,w),m(v,w),w,!0);return c(_,{...w,skipEscape:!0})}function l(g,v,y,w){const _={};return w||(g=m(c(g,y),y),v=m(c(v,y),y)),y=y||{},!y.tolerant&&v.scheme?(_.scheme=v.scheme,_.userinfo=v.userinfo,_.host=v.host,_.port=v.port,_.path=n(v.path||""),_.query=v.query):(v.userinfo!==void 0||v.host!==void 0||v.port!==void 0?(_.userinfo=v.userinfo,_.host=v.host,_.port=v.port,_.path=n(v.path||""),_.query=v.query):(v.path?(v.path.charAt(0)==="/"?_.path=n(v.path):((g.userinfo!==void 0||g.host!==void 0||g.port!==void 0)&&!g.path?_.path="/"+v.path:g.path?_.path=g.path.slice(0,g.path.lastIndexOf("/")+1)+v.path:_.path=v.path,_.path=n(_.path)),_.query=v.query):(_.path=g.path,v.query!==void 0?_.query=v.query:_.query=g.query),_.userinfo=g.userinfo,_.host=g.host,_.port=g.port),_.scheme=g.scheme),_.fragment=v.fragment,_}function u(g,v,y){return typeof g=="string"?(g=unescape(g),g=c(i(m(g,y),!0),{...y,skipEscape:!0})):typeof g=="object"&&(g=c(i(g,!0),{...y,skipEscape:!0})),typeof v=="string"?(v=unescape(v),v=c(i(m(v,y),!0),{...y,skipEscape:!0})):typeof v=="object"&&(v=c(i(v,!0),{...y,skipEscape:!0})),g.toLowerCase()===v.toLowerCase()}function c(g,v){const y={host:g.host,scheme:g.scheme,userinfo:g.userinfo,port:g.port,path:g.path,query:g.query,nid:g.nid,nss:g.nss,uuid:g.uuid,fragment:g.fragment,reference:g.reference,resourceName:g.resourceName,secure:g.secure,error:""},w=Object.assign({},v),_=[],E=o[(w.scheme||y.scheme||"").toLowerCase()];E&&E.serialize&&E.serialize(y,w),y.path!==void 0&&(w.skipEscape?y.path=unescape(y.path):(y.path=escape(y.path),y.scheme!==void 0&&(y.path=y.path.split("%3A").join(":")))),w.reference!=="suffix"&&y.scheme&&_.push(y.scheme,":");const S=r(y);if(S!==void 0&&(w.reference!=="suffix"&&_.push("//"),_.push(S),y.path&&y.path.charAt(0)!=="/"&&_.push("/")),y.path!==void 0){let T=y.path;!w.absolutePath&&(!E||!E.absolutePath)&&(T=n(T)),S===void 0&&(T=T.replace(/^\/\//u,"/%2F")),_.push(T)}return y.query!==void 0&&_.push("?",y.query),y.fragment!==void 0&&_.push("#",y.fragment),_.join("")}const d=Array.from({length:127},(g,v)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(v)));function f(g){let v=0;for(let y=0,w=g.length;y<w;++y)if(v=g.charCodeAt(y),v>126||d[v])return!0;return!1}const h=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function m(g,v){const y=Object.assign({},v),w={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},_=g.indexOf("%")!==-1;let E=!1;y.reference==="suffix"&&(g=(y.scheme?y.scheme+":":"")+"//"+g);const S=g.match(h);if(S){if(w.scheme=S[1],w.userinfo=S[3],w.host=S[4],w.port=parseInt(S[5],10),w.path=S[6]||"",w.query=S[7],w.fragment=S[8],isNaN(w.port)&&(w.port=S[5]),w.host){const k=t(w.host);if(k.isIPV4===!1){const R=e(k.host);w.host=R.host.toLowerCase(),E=R.isIPV6}else w.host=k.host,E=!0}w.scheme===void 0&&w.userinfo===void 0&&w.host===void 0&&w.port===void 0&&!w.path&&w.query===void 0?w.reference="same-document":w.scheme===void 0?w.reference="relative":w.fragment===void 0?w.reference="absolute":w.reference="uri",y.reference&&y.reference!=="suffix"&&y.reference!==w.reference&&(w.error=w.error||"URI is not a "+y.reference+" reference.");const T=o[(y.scheme||w.scheme||"").toLowerCase()];if(!y.unicodeSupport&&(!T||!T.unicodeSupport)&&w.host&&(y.domainHost||T&&T.domainHost)&&E===!1&&f(w.host))try{w.host=URL.domainToASCII(w.host.toLowerCase())}catch(k){w.error=w.error||"Host's domain name can not be converted to ASCII: "+k}(!T||T&&!T.skipNormalize)&&(_&&w.scheme!==void 0&&(w.scheme=unescape(w.scheme)),_&&w.host!==void 0&&(w.host=unescape(w.host)),w.path&&w.path.length&&(w.path=escape(unescape(w.path))),w.fragment&&w.fragment.length&&(w.fragment=encodeURI(decodeURIComponent(w.fragment)))),T&&T.parse&&T.parse(w,y)}else w.error=w.error||"URI can not be parsed.";return w}const p={SCHEMES:o,normalize:s,resolve:a,resolveComponents:l,equal:u,serialize:c,parse:m};return dE.exports=p,dE.exports.default=p,dE.exports.fastUri=p,dE.exports}var Gme;function BVt(){if(Gme)return TI;Gme=1,Object.defineProperty(TI,"__esModule",{value:!0});const e=jVt();return e.code='require("ajv/dist/runtime/uri").default',TI.default=e,TI}var Yme;function zVt(){return Yme||(Yme=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=t$();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=vr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=pee(),i=n$(),o=$4e(),s=mee(),a=vr(),l=e$(),u=qN(),c=Fr(),d=MVt,f=BVt(),h=(z,L)=>new RegExp(z,L);h.code="new RegExp";const m=["removeAdditional","useDefaults","coerceTypes"],p=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},v={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},y=200;function w(z){var L,H,B,Y,Q,ne,ce,le,ue,ae,te,se,we,X,he,ge,re,ee,fe,Re,Oe,Ae,Se,xe,ke;const me=z.strict,Me=(L=z.code)===null||L===void 0?void 0:L.optimize,ze=Me===!0||Me===void 0?1:Me||0,Xe=(B=(H=z.code)===null||H===void 0?void 0:H.regExp)!==null&&B!==void 0?B:h,tt=(Y=z.uriResolver)!==null&&Y!==void 0?Y:f.default;return{strictSchema:(ne=(Q=z.strictSchema)!==null&&Q!==void 0?Q:me)!==null&&ne!==void 0?ne:!0,strictNumbers:(le=(ce=z.strictNumbers)!==null&&ce!==void 0?ce:me)!==null&&le!==void 0?le:!0,strictTypes:(ae=(ue=z.strictTypes)!==null&&ue!==void 0?ue:me)!==null&&ae!==void 0?ae:"log",strictTuples:(se=(te=z.strictTuples)!==null&&te!==void 0?te:me)!==null&&se!==void 0?se:"log",strictRequired:(X=(we=z.strictRequired)!==null&&we!==void 0?we:me)!==null&&X!==void 0?X:!1,code:z.code?{...z.code,optimize:ze,regExp:Xe}:{optimize:ze,regExp:Xe},loopRequired:(he=z.loopRequired)!==null&&he!==void 0?he:y,loopEnum:(ge=z.loopEnum)!==null&&ge!==void 0?ge:y,meta:(re=z.meta)!==null&&re!==void 0?re:!0,messages:(ee=z.messages)!==null&&ee!==void 0?ee:!0,inlineRefs:(fe=z.inlineRefs)!==null&&fe!==void 0?fe:!0,schemaId:(Re=z.schemaId)!==null&&Re!==void 0?Re:"$id",addUsedSchema:(Oe=z.addUsedSchema)!==null&&Oe!==void 0?Oe:!0,validateSchema:(Ae=z.validateSchema)!==null&&Ae!==void 0?Ae:!0,validateFormats:(Se=z.validateFormats)!==null&&Se!==void 0?Se:!0,unicodeRegExp:(xe=z.unicodeRegExp)!==null&&xe!==void 0?xe:!0,int32range:(ke=z.int32range)!==null&&ke!==void 0?ke:!0,uriResolver:tt}}class _{constructor(L={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,L=this.opts={...L,...w(L)};const{es5:H,lines:B}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:p,es5:H,lines:B}),this.logger=N(L.logger);const Y=L.validateFormats;L.validateFormats=!1,this.RULES=(0,o.getRules)(),E.call(this,g,L,"NOT SUPPORTED"),E.call(this,v,L,"DEPRECATED","warn"),this._metaOpts=I.call(this),L.formats&&k.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),L.keywords&&R.call(this,L.keywords),typeof L.meta=="object"&&this.addMetaSchema(L.meta),T.call(this),L.validateFormats=Y}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:L,meta:H,schemaId:B}=this.opts;let Y=d;B==="id"&&(Y={...d},Y.id=Y.$id,delete Y.$id),H&&L&&this.addMetaSchema(Y,Y[B],!1)}defaultMeta(){const{meta:L,schemaId:H}=this.opts;return this.opts.defaultMeta=typeof L=="object"?L[H]||L:void 0}validate(L,H){let B;if(typeof L=="string"){if(B=this.getSchema(L),!B)throw new Error(`no schema with key or ref "${L}"`)}else B=this.compile(L);const Y=B(H);return"$async"in B||(this.errors=B.errors),Y}compile(L,H){const B=this._addSchema(L,H);return B.validate||this._compileSchemaEnv(B)}compileAsync(L,H){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:B}=this.opts;return Y.call(this,L,H);async function Y(ae,te){await Q.call(this,ae.$schema);const se=this._addSchema(ae,te);return se.validate||ne.call(this,se)}async function Q(ae){ae&&!this.getSchema(ae)&&await Y.call(this,{$ref:ae},!0)}async function ne(ae){try{return this._compileSchemaEnv(ae)}catch(te){if(!(te instanceof i.default))throw te;return ce.call(this,te),await le.call(this,te.missingSchema),ne.call(this,ae)}}function ce({missingSchema:ae,missingRef:te}){if(this.refs[ae])throw new Error(`AnySchema ${ae} is loaded but ${te} cannot be resolved`)}async function le(ae){const te=await ue.call(this,ae);this.refs[ae]||await Q.call(this,te.$schema),this.refs[ae]||this.addSchema(te,ae,H)}async function ue(ae){const te=this._loading[ae];if(te)return te;try{return await(this._loading[ae]=B(ae))}finally{delete this._loading[ae]}}}addSchema(L,H,B,Y=this.opts.validateSchema){if(Array.isArray(L)){for(const ne of L)this.addSchema(ne,void 0,B,Y);return this}let Q;if(typeof L=="object"){const{schemaId:ne}=this.opts;if(Q=L[ne],Q!==void 0&&typeof Q!="string")throw new Error(`schema ${ne} must be string`)}return H=(0,l.normalizeId)(H||Q),this._checkUnique(H),this.schemas[H]=this._addSchema(L,B,H,Y,!0),this}addMetaSchema(L,H,B=this.opts.validateSchema){return this.addSchema(L,H,!0,B),this}validateSchema(L,H){if(typeof L=="boolean")return!0;let B;if(B=L.$schema,B!==void 0&&typeof B!="string")throw new Error("$schema must be a string");if(B=B||this.opts.defaultMeta||this.defaultMeta(),!B)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const Y=this.validate(B,L);if(!Y&&H){const Q="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(Q);else throw new Error(Q)}return Y}getSchema(L){let H;for(;typeof(H=S.call(this,L))=="string";)L=H;if(H===void 0){const{schemaId:B}=this.opts,Y=new s.SchemaEnv({schema:{},schemaId:B});if(H=s.resolveSchema.call(this,Y,L),!H)return;this.refs[L]=H}return H.validate||this._compileSchemaEnv(H)}removeSchema(L){if(L instanceof RegExp)return this._removeAllSchemas(this.schemas,L),this._removeAllSchemas(this.refs,L),this;switch(typeof L){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const H=S.call(this,L);return typeof H=="object"&&this._cache.delete(H.schema),delete this.schemas[L],delete this.refs[L],this}case"object":{const H=L;this._cache.delete(H);let B=L[this.opts.schemaId];return B&&(B=(0,l.normalizeId)(B),delete this.schemas[B],delete this.refs[B]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(L){for(const H of L)this.addKeyword(H);return this}addKeyword(L,H){let B;if(typeof L=="string")B=L,typeof H=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),H.keyword=B);else if(typeof L=="object"&&H===void 0){if(H=L,B=H.keyword,Array.isArray(B)&&!B.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(O.call(this,B,H),!H)return(0,c.eachItem)(B,Q=>j.call(this,Q)),this;q.call(this,H);const Y={...H,type:(0,u.getJSONTypes)(H.type),schemaType:(0,u.getJSONTypes)(H.schemaType)};return(0,c.eachItem)(B,Y.type.length===0?Q=>j.call(this,Q,Y):Q=>Y.type.forEach(ne=>j.call(this,Q,Y,ne))),this}getKeyword(L){const H=this.RULES.all[L];return typeof H=="object"?H.definition:!!H}removeKeyword(L){const{RULES:H}=this;delete H.keywords[L],delete H.all[L];for(const B of H.rules){const Y=B.rules.findIndex(Q=>Q.keyword===L);Y>=0&&B.rules.splice(Y,1)}return this}addFormat(L,H){return typeof H=="string"&&(H=new RegExp(H)),this.formats[L]=H,this}errorsText(L=this.errors,{separator:H=", ",dataVar:B="data"}={}){return!L||L.length===0?"No errors":L.map(Y=>`${B}${Y.instancePath} ${Y.message}`).reduce((Y,Q)=>Y+H+Q)}$dataMetaSchema(L,H){const B=this.RULES.all;L=JSON.parse(JSON.stringify(L));for(const Y of H){const Q=Y.split("/").slice(1);let ne=L;for(const ce of Q)ne=ne[ce];for(const ce in B){const le=B[ce];if(typeof le!="object")continue;const{$data:ue}=le.definition,ae=ne[ce];ue&&ae&&(ne[ce]=V(ae))}}return L}_removeAllSchemas(L,H){for(const B in L){const Y=L[B];(!H||H.test(B))&&(typeof Y=="string"?delete L[B]:Y&&!Y.meta&&(this._cache.delete(Y.schema),delete L[B]))}}_addSchema(L,H,B,Y=this.opts.validateSchema,Q=this.opts.addUsedSchema){let ne;const{schemaId:ce}=this.opts;if(typeof L=="object")ne=L[ce];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof L!="boolean")throw new Error("schema must be object or boolean")}let le=this._cache.get(L);if(le!==void 0)return le;B=(0,l.normalizeId)(ne||B);const ue=l.getSchemaRefs.call(this,L,B);return le=new s.SchemaEnv({schema:L,schemaId:ce,meta:H,baseId:B,localRefs:ue}),this._cache.set(le.schema,le),Q&&!B.startsWith("#")&&(B&&this._checkUnique(B),this.refs[B]=le),Y&&this.validateSchema(L,!0),le}_checkUnique(L){if(this.schemas[L]||this.refs[L])throw new Error(`schema with key or id "${L}" already exists`)}_compileSchemaEnv(L){if(L.meta?this._compileMetaSchema(L):s.compileSchema.call(this,L),!L.validate)throw new Error("ajv implementation error");return L.validate}_compileMetaSchema(L){const H=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,L)}finally{this.opts=H}}}_.ValidationError=r.default,_.MissingRefError=i.default,e.default=_;function E(z,L,H,B="error"){for(const Y in z){const Q=Y;Q in L&&this.logger[B](`${H}: option ${Y}. ${z[Q]}`)}}function S(z){return z=(0,l.normalizeId)(z),this.schemas[z]||this.refs[z]}function T(){const z=this.opts.schemas;if(z)if(Array.isArray(z))this.addSchema(z);else for(const L in z)this.addSchema(z[L],L)}function k(){for(const z in this.opts.formats){const L=this.opts.formats[z];L&&this.addFormat(z,L)}}function R(z){if(Array.isArray(z)){this.addVocabulary(z);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const L in z){const H=z[L];H.keyword||(H.keyword=L),this.addKeyword(H)}}function I(){const z={...this.opts};for(const L of m)delete z[L];return z}const P={log(){},warn(){},error(){}};function N(z){if(z===!1)return P;if(z===void 0)return console;if(z.log&&z.warn&&z.error)return z;throw new Error("logger must implement log, warn and error methods")}const M=/^[a-z_$][a-z0-9_$:-]*$/i;function O(z,L){const{RULES:H}=this;if((0,c.eachItem)(z,B=>{if(H.keywords[B])throw new Error(`Keyword ${B} is already defined`);if(!M.test(B))throw new Error(`Keyword ${B} has invalid name`)}),!!L&&L.$data&&!("code"in L||"validate"in L))throw new Error('$data keyword must have "code" or "validate" function')}function j(z,L,H){var B;const Y=L?.post;if(H&&Y)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:Q}=this;let ne=Y?Q.post:Q.rules.find(({type:le})=>le===H);if(ne||(ne={type:H,rules:[]},Q.rules.push(ne)),Q.keywords[z]=!0,!L)return;const ce={keyword:z,definition:{...L,type:(0,u.getJSONTypes)(L.type),schemaType:(0,u.getJSONTypes)(L.schemaType)}};L.before?U.call(this,ne,ce,L.before):ne.rules.push(ce),Q.all[z]=ce,(B=L.implements)===null||B===void 0||B.forEach(le=>this.addKeyword(le))}function U(z,L,H){const B=z.rules.findIndex(Y=>Y.keyword===H);B>=0?z.rules.splice(B,0,L):(z.rules.push(L),this.logger.warn(`rule ${H} is not defined`))}function q(z){let{metaSchema:L}=z;L!==void 0&&(z.$data&&this.opts.$data&&(L=V(L)),z.validateSchema=this.compile(L,!0))}const W={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function V(z){return{anyOf:[z,W]}}})(cB)),cB}var kI={},AI={},RI={},Kme;function UVt(){if(Kme)return RI;Kme=1,Object.defineProperty(RI,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return RI.default=e,RI}var hg={},Xme;function HVt(){if(Xme)return hg;Xme=1,Object.defineProperty(hg,"__esModule",{value:!0}),hg.callRef=hg.getValidate=void 0;const e=n$(),t=Ef(),n=vr(),r=ay(),i=mee(),o=Fr(),s={keyword:"$ref",schemaType:"string",code(u){const{gen:c,schema:d,it:f}=u,{baseId:h,schemaEnv:m,validateName:p,opts:g,self:v}=f,{root:y}=m;if((d==="#"||d==="#/")&&h===y.baseId)return _();const w=i.resolveRef.call(v,y,h,d);if(w===void 0)throw new e.default(f.opts.uriResolver,h,d);if(w instanceof i.SchemaEnv)return E(w);return S(w);function _(){if(m===y)return l(u,p,m,m.$async);const T=c.scopeValue("root",{ref:y});return l(u,(0,n._)`${T}.validate`,y,y.$async)}function E(T){const k=a(u,T);l(u,k,T,T.$async)}function S(T){const k=c.scopeValue("schema",g.code.source===!0?{ref:T,code:(0,n.stringify)(T)}:{ref:T}),R=c.name("valid"),I=u.subschema({schema:T,dataTypes:[],schemaPath:n.nil,topSchemaRef:k,errSchemaPath:d},R);u.mergeEvaluated(I),u.ok(R)}}};function a(u,c){const{gen:d}=u;return c.validate?d.scopeValue("validate",{ref:c.validate}):(0,n._)`${d.scopeValue("wrapper",{ref:c})}.validate`}hg.getValidate=a;function l(u,c,d,f){const{gen:h,it:m}=u,{allErrors:p,schemaEnv:g,opts:v}=m,y=v.passContext?r.default.this:n.nil;f?w():_();function w(){if(!g.$async)throw new Error("async schema referenced by sync schema");const T=h.let("valid");h.try(()=>{h.code((0,n._)`await ${(0,t.callValidateCode)(u,c,y)}`),S(c),p||h.assign(T,!0)},k=>{h.if((0,n._)`!(${k} instanceof ${m.ValidationError})`,()=>h.throw(k)),E(k),p||h.assign(T,!1)}),u.ok(T)}function _(){u.result((0,t.callValidateCode)(u,c,y),()=>S(c),()=>E(c))}function E(T){const k=(0,n._)`${T}.errors`;h.assign(r.default.vErrors,(0,n._)`${r.default.vErrors} === null ? ${k} : ${r.default.vErrors}.concat(${k})`),h.assign(r.default.errors,(0,n._)`${r.default.vErrors}.length`)}function S(T){var k;if(!m.opts.unevaluated)return;const R=(k=d?.validate)===null||k===void 0?void 0:k.evaluated;if(m.props!==!0)if(R&&!R.dynamicProps)R.props!==void 0&&(m.props=o.mergeEvaluated.props(h,R.props,m.props));else{const I=h.var("props",(0,n._)`${T}.evaluated.props`);m.props=o.mergeEvaluated.props(h,I,m.props,n.Name)}if(m.items!==!0)if(R&&!R.dynamicItems)R.items!==void 0&&(m.items=o.mergeEvaluated.items(h,R.items,m.items));else{const I=h.var("items",(0,n._)`${T}.evaluated.items`);m.items=o.mergeEvaluated.items(h,I,m.items,n.Name)}}}return hg.callRef=l,hg.default=s,hg}var Qme;function qVt(){if(Qme)return AI;Qme=1,Object.defineProperty(AI,"__esModule",{value:!0});const e=UVt(),t=HVt(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return AI.default=n,AI}var II={},DI={},Jme;function VVt(){if(Jme)return DI;Jme=1,Object.defineProperty(DI,"__esModule",{value:!0});const e=vr(),t=e.operators,n={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},r={message:({keyword:o,schemaCode:s})=>(0,e.str)`must be ${n[o].okStr} ${s}`,params:({keyword:o,schemaCode:s})=>(0,e._)`{comparison: ${n[o].okStr}, limit: ${s}}`},i={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:r,code(o){const{keyword:s,data:a,schemaCode:l}=o;o.fail$data((0,e._)`${a} ${n[s].fail} ${l} || isNaN(${a})`)}};return DI.default=i,DI}var PI={},Zme;function WVt(){if(Zme)return PI;Zme=1,Object.defineProperty(PI,"__esModule",{value:!0});const e=vr(),n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,e._)`{multipleOf: ${r}}`},code(r){const{gen:i,data:o,schemaCode:s,it:a}=r,l=a.opts.multipleOfPrecision,u=i.let("res"),c=l?(0,e._)`Math.abs(Math.round(${u}) - ${u}) > 1e-${l}`:(0,e._)`${u} !== parseInt(${u})`;r.fail$data((0,e._)`(${s} === 0 || (${u} = ${o}/${s}, ${c}))`)}};return PI.default=n,PI}var OI={},NI={},ege;function GVt(){if(ege)return NI;ege=1,Object.defineProperty(NI,"__esModule",{value:!0});function e(t){const n=t.length;let r=0,i=0,o;for(;i<n;)r++,o=t.charCodeAt(i++),o>=55296&&o<=56319&&i<n&&(o=t.charCodeAt(i),(o&64512)===56320&&i++);return r}return NI.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',NI}var tge;function YVt(){if(tge)return OI;tge=1,Object.defineProperty(OI,"__esModule",{value:!0});const e=vr(),t=Fr(),n=GVt(),i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:o,schemaCode:s}){const a=o==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${s} characters`},params:({schemaCode:o})=>(0,e._)`{limit: ${o}}`},code(o){const{keyword:s,data:a,schemaCode:l,it:u}=o,c=s==="maxLength"?e.operators.GT:e.operators.LT,d=u.opts.unicode===!1?(0,e._)`${a}.length`:(0,e._)`${(0,t.useFunc)(o.gen,n.default)}(${a})`;o.fail$data((0,e._)`${d} ${c} ${l}`)}};return OI.default=i,OI}var MI={},nge;function KVt(){if(nge)return MI;nge=1,Object.defineProperty(MI,"__esModule",{value:!0});const e=Ef(),t=Fr(),n=vr(),i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:o})=>(0,n.str)`must match pattern "${o}"`,params:({schemaCode:o})=>(0,n._)`{pattern: ${o}}`},code(o){const{gen:s,data:a,$data:l,schema:u,schemaCode:c,it:d}=o,f=d.opts.unicodeRegExp?"u":"";if(l){const{regExp:h}=d.opts.code,m=h.code==="new RegExp"?(0,n._)`new RegExp`:(0,t.useFunc)(s,h),p=s.let("valid");s.try(()=>s.assign(p,(0,n._)`${m}(${c}, ${f}).test(${a})`),()=>s.assign(p,!1)),o.fail$data((0,n._)`!${p}`)}else{const h=(0,e.usePattern)(o,u);o.fail$data((0,n._)`!${h}.test(${a})`)}}};return MI.default=i,MI}var $I={},rge;function XVt(){if(rge)return $I;rge=1,Object.defineProperty($I,"__esModule",{value:!0});const e=vr(),n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const o=r==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${o} than ${i} properties`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:i,data:o,schemaCode:s}=r,a=i==="maxProperties"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`Object.keys(${o}).length ${a} ${s}`)}};return $I.default=n,$I}var LI={},ige;function QVt(){if(ige)return LI;ige=1,Object.defineProperty(LI,"__esModule",{value:!0});const e=Ef(),t=vr(),n=Fr(),i={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:o}})=>(0,t.str)`must have required property '${o}'`,params:({params:{missingProperty:o}})=>(0,t._)`{missingProperty: ${o}}`},code(o){const{gen:s,schema:a,schemaCode:l,data:u,$data:c,it:d}=o,{opts:f}=d;if(!c&&a.length===0)return;const h=a.length>=f.loopRequired;if(d.allErrors?m():p(),f.strictRequired){const y=o.parentSchema.properties,{definedProperties:w}=o.it;for(const _ of a)if(y?.[_]===void 0&&!w.has(_)){const E=d.schemaEnv.baseId+d.errSchemaPath,S=`required property "${_}" is not defined at "${E}" (strictRequired)`;(0,n.checkStrictMode)(d,S,d.opts.strictRequired)}}function m(){if(h||c)o.block$data(t.nil,g);else for(const y of a)(0,e.checkReportMissingProp)(o,y)}function p(){const y=s.let("missing");if(h||c){const w=s.let("valid",!0);o.block$data(w,()=>v(y,w)),o.ok(w)}else s.if((0,e.checkMissingProp)(o,a,y)),(0,e.reportMissingProp)(o,y),s.else()}function g(){s.forOf("prop",l,y=>{o.setParams({missingProperty:y}),s.if((0,e.noPropertyInData)(s,u,y,f.ownProperties),()=>o.error())})}function v(y,w){o.setParams({missingProperty:y}),s.forOf(y,l,()=>{s.assign(w,(0,e.propertyInData)(s,u,y,f.ownProperties)),s.if((0,t.not)(w),()=>{o.error(),s.break()})},t.nil)}}};return LI.default=i,LI}var FI={},oge;function JVt(){if(oge)return FI;oge=1,Object.defineProperty(FI,"__esModule",{value:!0});const e=vr(),n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const o=r==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${o} than ${i} items`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:i,data:o,schemaCode:s}=r,a=i==="maxItems"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`${o}.length ${a} ${s}`)}};return FI.default=n,FI}var jI={},BI={},sge;function gee(){if(sge)return BI;sge=1,Object.defineProperty(BI,"__esModule",{value:!0});const e=uY();return e.code='require("ajv/dist/runtime/equal").default',BI.default=e,BI}var age;function ZVt(){if(age)return jI;age=1,Object.defineProperty(jI,"__esModule",{value:!0});const e=qN(),t=vr(),n=Fr(),r=gee(),o={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:s,j:a}})=>(0,t.str)`must NOT have duplicate items (items ## ${a} and ${s} are identical)`,params:({params:{i:s,j:a}})=>(0,t._)`{i: ${s}, j: ${a}}`},code(s){const{gen:a,data:l,$data:u,schema:c,parentSchema:d,schemaCode:f,it:h}=s;if(!u&&!c)return;const m=a.let("valid"),p=d.items?(0,e.getSchemaTypes)(d.items):[];s.block$data(m,g,(0,t._)`${f} === false`),s.ok(m);function g(){const _=a.let("i",(0,t._)`${l}.length`),E=a.let("j");s.setParams({i:_,j:E}),a.assign(m,!0),a.if((0,t._)`${_} > 1`,()=>(v()?y:w)(_,E))}function v(){return p.length>0&&!p.some(_=>_==="object"||_==="array")}function y(_,E){const S=a.name("item"),T=(0,e.checkDataTypes)(p,S,h.opts.strictNumbers,e.DataType.Wrong),k=a.const("indices",(0,t._)`{}`);a.for((0,t._)`;${_}--;`,()=>{a.let(S,(0,t._)`${l}[${_}]`),a.if(T,(0,t._)`continue`),p.length>1&&a.if((0,t._)`typeof ${S} == "string"`,(0,t._)`${S} += "_"`),a.if((0,t._)`typeof ${k}[${S}] == "number"`,()=>{a.assign(E,(0,t._)`${k}[${S}]`),s.error(),a.assign(m,!1).break()}).code((0,t._)`${k}[${S}] = ${_}`)})}function w(_,E){const S=(0,n.useFunc)(a,r.default),T=a.name("outer");a.label(T).for((0,t._)`;${_}--;`,()=>a.for((0,t._)`${E} = ${_}; ${E}--;`,()=>a.if((0,t._)`${S}(${l}[${_}], ${l}[${E}])`,()=>{s.error(),a.assign(m,!1).break(T)})))}}};return jI.default=o,jI}var zI={},lge;function eWt(){if(lge)return zI;lge=1,Object.defineProperty(zI,"__esModule",{value:!0});const e=vr(),t=Fr(),n=gee(),i={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:o})=>(0,e._)`{allowedValue: ${o}}`},code(o){const{gen:s,data:a,$data:l,schemaCode:u,schema:c}=o;l||c&&typeof c=="object"?o.fail$data((0,e._)`!${(0,t.useFunc)(s,n.default)}(${a}, ${u})`):o.fail((0,e._)`${c} !== ${a}`)}};return zI.default=i,zI}var UI={},uge;function tWt(){if(uge)return UI;uge=1,Object.defineProperty(UI,"__esModule",{value:!0});const e=vr(),t=Fr(),n=gee(),i={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:o})=>(0,e._)`{allowedValues: ${o}}`},code(o){const{gen:s,data:a,$data:l,schema:u,schemaCode:c,it:d}=o;if(!l&&u.length===0)throw new Error("enum must have non-empty array");const f=u.length>=d.opts.loopEnum;let h;const m=()=>h??(h=(0,t.useFunc)(s,n.default));let p;if(f||l)p=s.let("valid"),o.block$data(p,g);else{if(!Array.isArray(u))throw new Error("ajv implementation error");const y=s.const("vSchema",c);p=(0,e.or)(...u.map((w,_)=>v(y,_)))}o.pass(p);function g(){s.assign(p,!1),s.forOf("v",c,y=>s.if((0,e._)`${m()}(${a}, ${y})`,()=>s.assign(p,!0).break()))}function v(y,w){const _=u[w];return typeof _=="object"&&_!==null?(0,e._)`${m()}(${a}, ${y}[${w}])`:(0,e._)`${a} === ${_}`}}};return UI.default=i,UI}var cge;function nWt(){if(cge)return II;cge=1,Object.defineProperty(II,"__esModule",{value:!0});const e=VVt(),t=WVt(),n=YVt(),r=KVt(),i=XVt(),o=QVt(),s=JVt(),a=ZVt(),l=eWt(),u=tWt(),c=[e.default,t.default,n.default,r.default,i.default,o.default,s.default,a.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,u.default];return II.default=c,II}var HI={},G1={},dge;function F4e(){if(dge)return G1;dge=1,Object.defineProperty(G1,"__esModule",{value:!0}),G1.validateAdditionalItems=void 0;const e=vr(),t=Fr(),r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,e.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,e._)`{limit: ${o}}`},code(o){const{parentSchema:s,it:a}=o,{items:l}=s;if(!Array.isArray(l)){(0,t.checkStrictMode)(a,'"additionalItems" is ignored when "items" is not an array of schemas');return}i(o,l)}};function i(o,s){const{gen:a,schema:l,data:u,keyword:c,it:d}=o;d.items=!0;const f=a.const("len",(0,e._)`${u}.length`);if(l===!1)o.setParams({len:s.length}),o.pass((0,e._)`${f} <= ${s.length}`);else if(typeof l=="object"&&!(0,t.alwaysValidSchema)(d,l)){const m=a.var("valid",(0,e._)`${f} <= ${s.length}`);a.if((0,e.not)(m),()=>h(m)),o.ok(m)}function h(m){a.forRange("i",s.length,f,p=>{o.subschema({keyword:c,dataProp:p,dataPropType:t.Type.Num},m),d.allErrors||a.if((0,e.not)(m),()=>a.break())})}}return G1.validateAdditionalItems=i,G1.default=r,G1}var qI={},Y1={},fge;function j4e(){if(fge)return Y1;fge=1,Object.defineProperty(Y1,"__esModule",{value:!0}),Y1.validateTuple=void 0;const e=vr(),t=Fr(),n=Ef(),r={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(o){const{schema:s,it:a}=o;if(Array.isArray(s))return i(o,"additionalItems",s);a.items=!0,!(0,t.alwaysValidSchema)(a,s)&&o.ok((0,n.validateArray)(o))}};function i(o,s,a=o.schema){const{gen:l,parentSchema:u,data:c,keyword:d,it:f}=o;p(u),f.opts.unevaluated&&a.length&&f.items!==!0&&(f.items=t.mergeEvaluated.items(l,a.length,f.items));const h=l.name("valid"),m=l.const("len",(0,e._)`${c}.length`);a.forEach((g,v)=>{(0,t.alwaysValidSchema)(f,g)||(l.if((0,e._)`${m} > ${v}`,()=>o.subschema({keyword:d,schemaProp:v,dataProp:v},h)),o.ok(h))});function p(g){const{opts:v,errSchemaPath:y}=f,w=a.length,_=w===g.minItems&&(w===g.maxItems||g[s]===!1);if(v.strictTuples&&!_){const E=`"${d}" is ${w}-tuple, but minItems or maxItems/${s} are not specified or different at path "${y}"`;(0,t.checkStrictMode)(f,E,v.strictTuples)}}}return Y1.validateTuple=i,Y1.default=r,Y1}var hge;function rWt(){if(hge)return qI;hge=1,Object.defineProperty(qI,"__esModule",{value:!0});const e=j4e(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,e.validateTuple)(n,"items")};return qI.default=t,qI}var VI={},pge;function iWt(){if(pge)return VI;pge=1,Object.defineProperty(VI,"__esModule",{value:!0});const e=vr(),t=Fr(),n=Ef(),r=F4e(),o={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:s}})=>(0,e.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,e._)`{limit: ${s}}`},code(s){const{schema:a,parentSchema:l,it:u}=s,{prefixItems:c}=l;u.items=!0,!(0,t.alwaysValidSchema)(u,a)&&(c?(0,r.validateAdditionalItems)(s,c):s.ok((0,n.validateArray)(s)))}};return VI.default=o,VI}var WI={},mge;function oWt(){if(mge)return WI;mge=1,Object.defineProperty(WI,"__esModule",{value:!0});const e=vr(),t=Fr(),r={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:i,max:o}})=>o===void 0?(0,e.str)`must contain at least ${i} valid item(s)`:(0,e.str)`must contain at least ${i} and no more than ${o} valid item(s)`,params:({params:{min:i,max:o}})=>o===void 0?(0,e._)`{minContains: ${i}}`:(0,e._)`{minContains: ${i}, maxContains: ${o}}`},code(i){const{gen:o,schema:s,parentSchema:a,data:l,it:u}=i;let c,d;const{minContains:f,maxContains:h}=a;u.opts.next?(c=f===void 0?1:f,d=h):c=1;const m=o.const("len",(0,e._)`${l}.length`);if(i.setParams({min:c,max:d}),d===void 0&&c===0){(0,t.checkStrictMode)(u,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(d!==void 0&&c>d){(0,t.checkStrictMode)(u,'"minContains" > "maxContains" is always invalid'),i.fail();return}if((0,t.alwaysValidSchema)(u,s)){let w=(0,e._)`${m} >= ${c}`;d!==void 0&&(w=(0,e._)`${w} && ${m} <= ${d}`),i.pass(w);return}u.items=!0;const p=o.name("valid");d===void 0&&c===1?v(p,()=>o.if(p,()=>o.break())):c===0?(o.let(p,!0),d!==void 0&&o.if((0,e._)`${l}.length > 0`,g)):(o.let(p,!1),g()),i.result(p,()=>i.reset());function g(){const w=o.name("_valid"),_=o.let("count",0);v(w,()=>o.if(w,()=>y(_)))}function v(w,_){o.forRange("i",0,m,E=>{i.subschema({keyword:"contains",dataProp:E,dataPropType:t.Type.Num,compositeRule:!0},w),_()})}function y(w){o.code((0,e._)`${w}++`),d===void 0?o.if((0,e._)`${w} >= ${c}`,()=>o.assign(p,!0).break()):(o.if((0,e._)`${w} > ${d}`,()=>o.assign(p,!1).break()),c===1?o.assign(p,!0):o.if((0,e._)`${w} >= ${c}`,()=>o.assign(p,!0)))}}};return WI.default=r,WI}var bB={},gge;function sWt(){return gge||(gge=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=vr(),n=Fr(),r=Ef();e.error={message:({params:{property:l,depsCount:u,deps:c}})=>{const d=u===1?"property":"properties";return(0,t.str)`must have ${d} ${c} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:c,missingProperty:d}})=>(0,t._)`{property: ${l},
    missingProperty: ${d},
    depsCount: ${u},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,c]=o(l);s(l,u),a(l,c)}};function o({schema:l}){const u={},c={};for(const d in l){if(d==="__proto__")continue;const f=Array.isArray(l[d])?u:c;f[d]=l[d]}return[u,c]}function s(l,u=l.schema){const{gen:c,data:d,it:f}=l;if(Object.keys(u).length===0)return;const h=c.let("missing");for(const m in u){const p=u[m];if(p.length===0)continue;const g=(0,r.propertyInData)(c,d,m,f.opts.ownProperties);l.setParams({property:m,depsCount:p.length,deps:p.join(", ")}),f.allErrors?c.if(g,()=>{for(const v of p)(0,r.checkReportMissingProp)(l,v)}):(c.if((0,t._)`${g} && (${(0,r.checkMissingProp)(l,p,h)})`),(0,r.reportMissingProp)(l,h),c.else())}}e.validatePropertyDeps=s;function a(l,u=l.schema){const{gen:c,data:d,keyword:f,it:h}=l,m=c.name("valid");for(const p in u)(0,n.alwaysValidSchema)(h,u[p])||(c.if((0,r.propertyInData)(c,d,p,h.opts.ownProperties),()=>{const g=l.subschema({keyword:f,schemaProp:p},m);l.mergeValidEvaluated(g,m)},()=>c.var(m,!0)),l.ok(m))}e.validateSchemaDeps=a,e.default=i})(bB)),bB}var GI={},yge;function aWt(){if(yge)return GI;yge=1,Object.defineProperty(GI,"__esModule",{value:!0});const e=vr(),t=Fr(),r={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:i})=>(0,e._)`{propertyName: ${i.propertyName}}`},code(i){const{gen:o,schema:s,data:a,it:l}=i;if((0,t.alwaysValidSchema)(l,s))return;const u=o.name("valid");o.forIn("key",a,c=>{i.setParams({propertyName:c}),i.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},u),o.if((0,e.not)(u),()=>{i.error(!0),l.allErrors||o.break()})}),i.ok(u)}};return GI.default=r,GI}var YI={},vge;function B4e(){if(vge)return YI;vge=1,Object.defineProperty(YI,"__esModule",{value:!0});const e=Ef(),t=vr(),n=ay(),r=Fr(),o={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:s})=>(0,t._)`{additionalProperty: ${s.additionalProperty}}`},code(s){const{gen:a,schema:l,parentSchema:u,data:c,errsCount:d,it:f}=s;if(!d)throw new Error("ajv implementation error");const{allErrors:h,opts:m}=f;if(f.props=!0,m.removeAdditional!=="all"&&(0,r.alwaysValidSchema)(f,l))return;const p=(0,e.allSchemaProperties)(u.properties),g=(0,e.allSchemaProperties)(u.patternProperties);v(),s.ok((0,t._)`${d} === ${n.default.errors}`);function v(){a.forIn("key",c,S=>{!p.length&&!g.length?_(S):a.if(y(S),()=>_(S))})}function y(S){let T;if(p.length>8){const k=(0,r.schemaRefOrVal)(f,u.properties,"properties");T=(0,e.isOwnProperty)(a,k,S)}else p.length?T=(0,t.or)(...p.map(k=>(0,t._)`${S} === ${k}`)):T=t.nil;return g.length&&(T=(0,t.or)(T,...g.map(k=>(0,t._)`${(0,e.usePattern)(s,k)}.test(${S})`))),(0,t.not)(T)}function w(S){a.code((0,t._)`delete ${c}[${S}]`)}function _(S){if(m.removeAdditional==="all"||m.removeAdditional&&l===!1){w(S);return}if(l===!1){s.setParams({additionalProperty:S}),s.error(),h||a.break();return}if(typeof l=="object"&&!(0,r.alwaysValidSchema)(f,l)){const T=a.name("valid");m.removeAdditional==="failing"?(E(S,T,!1),a.if((0,t.not)(T),()=>{s.reset(),w(S)})):(E(S,T),h||a.if((0,t.not)(T),()=>a.break()))}}function E(S,T,k){const R={keyword:"additionalProperties",dataProp:S,dataPropType:r.Type.Str};k===!1&&Object.assign(R,{compositeRule:!0,createErrors:!1,allErrors:!1}),s.subschema(R,T)}}};return YI.default=o,YI}var KI={},bge;function lWt(){if(bge)return KI;bge=1,Object.defineProperty(KI,"__esModule",{value:!0});const e=t$(),t=Ef(),n=Fr(),r=B4e(),i={keyword:"properties",type:"object",schemaType:"object",code(o){const{gen:s,schema:a,parentSchema:l,data:u,it:c}=o;c.opts.removeAdditional==="all"&&l.additionalProperties===void 0&&r.default.code(new e.KeywordCxt(c,r.default,"additionalProperties"));const d=(0,t.allSchemaProperties)(a);for(const g of d)c.definedProperties.add(g);c.opts.unevaluated&&d.length&&c.props!==!0&&(c.props=n.mergeEvaluated.props(s,(0,n.toHash)(d),c.props));const f=d.filter(g=>!(0,n.alwaysValidSchema)(c,a[g]));if(f.length===0)return;const h=s.name("valid");for(const g of f)m(g)?p(g):(s.if((0,t.propertyInData)(s,u,g,c.opts.ownProperties)),p(g),c.allErrors||s.else().var(h,!0),s.endIf()),o.it.definedProperties.add(g),o.ok(h);function m(g){return c.opts.useDefaults&&!c.compositeRule&&a[g].default!==void 0}function p(g){o.subschema({keyword:"properties",schemaProp:g,dataProp:g},h)}}};return KI.default=i,KI}var XI={},wge;function uWt(){if(wge)return XI;wge=1,Object.defineProperty(XI,"__esModule",{value:!0});const e=Ef(),t=vr(),n=Fr(),r=Fr(),i={keyword:"patternProperties",type:"object",schemaType:"object",code(o){const{gen:s,schema:a,data:l,parentSchema:u,it:c}=o,{opts:d}=c,f=(0,e.allSchemaProperties)(a),h=f.filter(_=>(0,n.alwaysValidSchema)(c,a[_]));if(f.length===0||h.length===f.length&&(!c.opts.unevaluated||c.props===!0))return;const m=d.strictSchema&&!d.allowMatchingProperties&&u.properties,p=s.name("valid");c.props!==!0&&!(c.props instanceof t.Name)&&(c.props=(0,r.evaluatedPropsToName)(s,c.props));const{props:g}=c;v();function v(){for(const _ of f)m&&y(_),c.allErrors?w(_):(s.var(p,!0),w(_),s.if(p))}function y(_){for(const E in m)new RegExp(_).test(E)&&(0,n.checkStrictMode)(c,`property ${E} matches pattern ${_} (use allowMatchingProperties)`)}function w(_){s.forIn("key",l,E=>{s.if((0,t._)`${(0,e.usePattern)(o,_)}.test(${E})`,()=>{const S=h.includes(_);S||o.subschema({keyword:"patternProperties",schemaProp:_,dataProp:E,dataPropType:r.Type.Str},p),c.opts.unevaluated&&g!==!0?s.assign((0,t._)`${g}[${E}]`,!0):!S&&!c.allErrors&&s.if((0,t.not)(p),()=>s.break())})})}}};return XI.default=i,XI}var QI={},xge;function cWt(){if(xge)return QI;xge=1,Object.defineProperty(QI,"__esModule",{value:!0});const e=Fr(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:r,schema:i,it:o}=n;if((0,e.alwaysValidSchema)(o,i)){n.fail();return}const s=r.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),n.failResult(s,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};return QI.default=t,QI}var JI={},Cge;function dWt(){if(Cge)return JI;Cge=1,Object.defineProperty(JI,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Ef().validateUnion,error:{message:"must match a schema in anyOf"}};return JI.default=t,JI}var ZI={},_ge;function fWt(){if(_ge)return ZI;_ge=1,Object.defineProperty(ZI,"__esModule",{value:!0});const e=vr(),t=Fr(),r={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:i})=>(0,e._)`{passingSchemas: ${i.passing}}`},code(i){const{gen:o,schema:s,parentSchema:a,it:l}=i;if(!Array.isArray(s))throw new Error("ajv implementation error");if(l.opts.discriminator&&a.discriminator)return;const u=s,c=o.let("valid",!1),d=o.let("passing",null),f=o.name("_valid");i.setParams({passing:d}),o.block(h),i.result(c,()=>i.reset(),()=>i.error(!0));function h(){u.forEach((m,p)=>{let g;(0,t.alwaysValidSchema)(l,m)?o.var(f,!0):g=i.subschema({keyword:"oneOf",schemaProp:p,compositeRule:!0},f),p>0&&o.if((0,e._)`${f} && ${c}`).assign(c,!1).assign(d,(0,e._)`[${d}, ${p}]`).else(),o.if(f,()=>{o.assign(c,!0),o.assign(d,p),g&&i.mergeEvaluated(g,e.Name)})})}}};return ZI.default=r,ZI}var eD={},Ege;function hWt(){if(Ege)return eD;Ege=1,Object.defineProperty(eD,"__esModule",{value:!0});const e=Fr(),t={keyword:"allOf",schemaType:"array",code(n){const{gen:r,schema:i,it:o}=n;if(!Array.isArray(i))throw new Error("ajv implementation error");const s=r.name("valid");i.forEach((a,l)=>{if((0,e.alwaysValidSchema)(o,a))return;const u=n.subschema({keyword:"allOf",schemaProp:l},s);n.ok(s),n.mergeEvaluated(u)})}};return eD.default=t,eD}var tD={},Sge;function pWt(){if(Sge)return tD;Sge=1,Object.defineProperty(tD,"__esModule",{value:!0});const e=vr(),t=Fr(),r={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:o})=>(0,e.str)`must match "${o.ifClause}" schema`,params:({params:o})=>(0,e._)`{failingKeyword: ${o.ifClause}}`},code(o){const{gen:s,parentSchema:a,it:l}=o;a.then===void 0&&a.else===void 0&&(0,t.checkStrictMode)(l,'"if" without "then" and "else" is ignored');const u=i(l,"then"),c=i(l,"else");if(!u&&!c)return;const d=s.let("valid",!0),f=s.name("_valid");if(h(),o.reset(),u&&c){const p=s.let("ifClause");o.setParams({ifClause:p}),s.if(f,m("then",p),m("else",p))}else u?s.if(f,m("then")):s.if((0,e.not)(f),m("else"));o.pass(d,()=>o.error(!0));function h(){const p=o.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},f);o.mergeEvaluated(p)}function m(p,g){return()=>{const v=o.subschema({keyword:p},f);s.assign(d,f),o.mergeValidEvaluated(v,d),g?s.assign(g,(0,e._)`${p}`):o.setParams({ifClause:p})}}}};function i(o,s){const a=o.schema[s];return a!==void 0&&!(0,t.alwaysValidSchema)(o,a)}return tD.default=r,tD}var nD={},Tge;function mWt(){if(Tge)return nD;Tge=1,Object.defineProperty(nD,"__esModule",{value:!0});const e=Fr(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:r,it:i}){r.if===void 0&&(0,e.checkStrictMode)(i,`"${n}" without "if" is ignored`)}};return nD.default=t,nD}var kge;function gWt(){if(kge)return HI;kge=1,Object.defineProperty(HI,"__esModule",{value:!0});const e=F4e(),t=rWt(),n=j4e(),r=iWt(),i=oWt(),o=sWt(),s=aWt(),a=B4e(),l=lWt(),u=uWt(),c=cWt(),d=dWt(),f=fWt(),h=hWt(),m=pWt(),p=mWt();function g(v=!1){const y=[c.default,d.default,f.default,h.default,m.default,p.default,s.default,a.default,o.default,l.default,u.default];return v?y.push(t.default,r.default):y.push(e.default,n.default),y.push(i.default),y}return HI.default=g,HI}var rD={},iD={},Age;function yWt(){if(Age)return iD;Age=1,Object.defineProperty(iD,"__esModule",{value:!0});const e=vr(),n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,e._)`{format: ${r}}`},code(r,i){const{gen:o,data:s,$data:a,schema:l,schemaCode:u,it:c}=r,{opts:d,errSchemaPath:f,schemaEnv:h,self:m}=c;if(!d.validateFormats)return;a?p():g();function p(){const v=o.scopeValue("formats",{ref:m.formats,code:d.code.formats}),y=o.const("fDef",(0,e._)`${v}[${u}]`),w=o.let("fType"),_=o.let("format");o.if((0,e._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>o.assign(w,(0,e._)`${y}.type || "string"`).assign(_,(0,e._)`${y}.validate`),()=>o.assign(w,(0,e._)`"string"`).assign(_,y)),r.fail$data((0,e.or)(E(),S()));function E(){return d.strictSchema===!1?e.nil:(0,e._)`${u} && !${_}`}function S(){const T=h.$async?(0,e._)`(${y}.async ? await ${_}(${s}) : ${_}(${s}))`:(0,e._)`${_}(${s})`,k=(0,e._)`(typeof ${_} == "function" ? ${T} : ${_}.test(${s}))`;return(0,e._)`${_} && ${_} !== true && ${w} === ${i} && !${k}`}}function g(){const v=m.formats[l];if(!v){E();return}if(v===!0)return;const[y,w,_]=S(v);y===i&&r.pass(T());function E(){if(d.strictSchema===!1){m.logger.warn(k());return}throw new Error(k());function k(){return`unknown format "${l}" ignored in schema at path "${f}"`}}function S(k){const R=k instanceof RegExp?(0,e.regexpCode)(k):d.code.formats?(0,e._)`${d.code.formats}${(0,e.getProperty)(l)}`:void 0,I=o.scopeValue("formats",{key:l,ref:k,code:R});return typeof k=="object"&&!(k instanceof RegExp)?[k.type||"string",k.validate,(0,e._)`${I}.validate`]:["string",k,I]}function T(){if(typeof v=="object"&&!(v instanceof RegExp)&&v.async){if(!h.$async)throw new Error("async format in sync schema");return(0,e._)`await ${_}(${s})`}return typeof w=="function"?(0,e._)`${_}(${s})`:(0,e._)`${_}.test(${s})`}}}};return iD.default=n,iD}var Rge;function vWt(){if(Rge)return rD;Rge=1,Object.defineProperty(rD,"__esModule",{value:!0});const t=[yWt().default];return rD.default=t,rD}var Fy={},Ige;function bWt(){return Ige||(Ige=1,Object.defineProperty(Fy,"__esModule",{value:!0}),Fy.contentVocabulary=Fy.metadataVocabulary=void 0,Fy.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Fy.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),Fy}var Dge;function wWt(){if(Dge)return kI;Dge=1,Object.defineProperty(kI,"__esModule",{value:!0});const e=qVt(),t=nWt(),n=gWt(),r=vWt(),i=bWt(),o=[e.default,t.default,(0,n.default)(),r.default,i.metadataVocabulary,i.contentVocabulary];return kI.default=o,kI}var oD={},fE={},Pge;function xWt(){if(Pge)return fE;Pge=1,Object.defineProperty(fE,"__esModule",{value:!0}),fE.DiscrError=void 0;var e;return(function(t){t.Tag="tag",t.Mapping="mapping"})(e||(fE.DiscrError=e={})),fE}var Oge;function CWt(){if(Oge)return oD;Oge=1,Object.defineProperty(oD,"__esModule",{value:!0});const e=vr(),t=xWt(),n=mee(),r=n$(),i=Fr(),s={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:a,tagName:l}})=>a===t.DiscrError.Tag?`tag "${l}" must be string`:`value of tag "${l}" must be in oneOf`,params:({params:{discrError:a,tag:l,tagName:u}})=>(0,e._)`{error: ${a}, tag: ${u}, tagValue: ${l}}`},code(a){const{gen:l,data:u,schema:c,parentSchema:d,it:f}=a,{oneOf:h}=d;if(!f.opts.discriminator)throw new Error("discriminator: requires discriminator option");const m=c.propertyName;if(typeof m!="string")throw new Error("discriminator: requires propertyName");if(c.mapping)throw new Error("discriminator: mapping is not supported");if(!h)throw new Error("discriminator: requires oneOf keyword");const p=l.let("valid",!1),g=l.const("tag",(0,e._)`${u}${(0,e.getProperty)(m)}`);l.if((0,e._)`typeof ${g} == "string"`,()=>v(),()=>a.error(!1,{discrError:t.DiscrError.Tag,tag:g,tagName:m})),a.ok(p);function v(){const _=w();l.if(!1);for(const E in _)l.elseIf((0,e._)`${g} === ${E}`),l.assign(p,y(_[E]));l.else(),a.error(!1,{discrError:t.DiscrError.Mapping,tag:g,tagName:m}),l.endIf()}function y(_){const E=l.name("valid"),S=a.subschema({keyword:"oneOf",schemaProp:_},E);return a.mergeEvaluated(S,e.Name),E}function w(){var _;const E={},S=k(d);let T=!0;for(let P=0;P<h.length;P++){let N=h[P];if(N?.$ref&&!(0,i.schemaHasRulesButRef)(N,f.self.RULES)){const O=N.$ref;if(N=n.resolveRef.call(f.self,f.schemaEnv.root,f.baseId,O),N instanceof n.SchemaEnv&&(N=N.schema),N===void 0)throw new r.default(f.opts.uriResolver,f.baseId,O)}const M=(_=N?.properties)===null||_===void 0?void 0:_[m];if(typeof M!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${m}"`);T=T&&(S||k(N)),R(M,P)}if(!T)throw new Error(`discriminator: "${m}" must be required`);return E;function k({required:P}){return Array.isArray(P)&&P.includes(m)}function R(P,N){if(P.const)I(P.const,N);else if(P.enum)for(const M of P.enum)I(M,N);else throw new Error(`discriminator: "properties/${m}" must have "const" or "enum"`)}function I(P,N){if(typeof P!="string"||P in E)throw new Error(`discriminator: "${m}" values must be unique strings`);E[P]=N}}}};return oD.default=s,oD}const _Wt="http://json-schema.org/draft-07/schema#",EWt="http://json-schema.org/draft-07/schema#",SWt="Core schema meta-schema",TWt={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},kWt=["object","boolean"],AWt={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},RWt={$schema:_Wt,$id:EWt,title:SWt,definitions:TWt,type:kWt,properties:AWt,default:!0};var Nge;function IWt(){return Nge||(Nge=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const n=zVt(),r=wWt(),i=CWt(),o=RWt,s=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(m=>this.addVocabulary(m)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const m=this.opts.$data?this.$dataMetaSchema(o,s):o;this.addMetaSchema(m,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}t.Ajv=l,e.exports=t=l,e.exports.Ajv=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=t$();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var c=vr();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var d=pee();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return d.default}});var f=n$();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return f.default}})})(CI,CI.exports)),CI.exports}var DWt=IWt();const yee=Xo(DWt),vee=Symbol.for("yaml.alias"),Rq=Symbol.for("yaml.document"),u0=Symbol.for("yaml.map"),z4e=Symbol.for("yaml.pair"),Nh=Symbol.for("yaml.scalar"),WC=Symbol.for("yaml.seq"),zc=Symbol.for("yaml.node.type"),Qb=e=>!!e&&typeof e=="object"&&e[zc]===vee,r$=e=>!!e&&typeof e=="object"&&e[zc]===Rq,Zk=e=>!!e&&typeof e=="object"&&e[zc]===u0,jo=e=>!!e&&typeof e=="object"&&e[zc]===z4e,Oi=e=>!!e&&typeof e=="object"&&e[zc]===Nh,eA=e=>!!e&&typeof e=="object"&&e[zc]===WC;function Oo(e){if(e&&typeof e=="object")switch(e[zc]){case u0:case WC:return!0}return!1}function No(e){if(e&&typeof e=="object")switch(e[zc]){case vee:case u0:case Nh:case WC:return!0}return!1}const U4e=e=>(Oi(e)||Oo(e))&&!!e.anchor,Ky=Symbol("break visit"),PWt=Symbol("skip children"),zS=Symbol("remove node");function GC(e,t){const n=OWt(t);r$(e)?ww(null,e.contents,n,Object.freeze([e]))===zS&&(e.contents=null):ww(null,e,n,Object.freeze([]))}GC.BREAK=Ky;GC.SKIP=PWt;GC.REMOVE=zS;function ww(e,t,n,r){const i=NWt(e,t,n,r);if(No(i)||jo(i))return MWt(e,r,i),ww(e,i,n,r);if(typeof i!="symbol"){if(Oo(t)){r=Object.freeze(r.concat(t));for(let o=0;o<t.items.length;++o){const s=ww(o,t.items[o],n,r);if(typeof s=="number")o=s-1;else{if(s===Ky)return Ky;s===zS&&(t.items.splice(o,1),o-=1)}}}else if(jo(t)){r=Object.freeze(r.concat(t));const o=ww("key",t.key,n,r);if(o===Ky)return Ky;o===zS&&(t.key=null);const s=ww("value",t.value,n,r);if(s===Ky)return Ky;s===zS&&(t.value=null)}}return i}function OWt(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function NWt(e,t,n,r){if(typeof n=="function")return n(e,t,r);if(Zk(t))return n.Map?.(e,t,r);if(eA(t))return n.Seq?.(e,t,r);if(jo(t))return n.Pair?.(e,t,r);if(Oi(t))return n.Scalar?.(e,t,r);if(Qb(t))return n.Alias?.(e,t,r)}function MWt(e,t,n){const r=t[t.length-1];if(Oo(r))r.items[e]=n;else if(jo(r))e==="key"?r.key=n:r.value=n;else if(r$(r))r.contents=n;else{const i=Qb(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const $Wt={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},LWt=e=>e.replace(/[!,[\]{}]/g,t=>$Wt[t]);class nl{constructor(t,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},nl.defaultYaml,t),this.tags=Object.assign({},nl.defaultTags,n)}clone(){const t=new nl(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new nl(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:nl.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},nl.defaultTags);break}return t}add(t,n){this.atNextDocument&&(this.yaml={explicit:nl.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},nl.defaultTags),this.atNextDocument=!1);const r=t.trim().split(/[ \t]+/),i=r.shift();switch(i){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[o,s]=r;return this.tags[o]=s,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[o]=r;if(o==="1.1"||o==="1.2")return this.yaml.version=o,!0;{const s=/^\d+\.\d+$/.test(o);return n(6,`Unsupported YAML version ${o}`,s),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(t,n){if(t==="!")return"!";if(t[0]!=="!")return n(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const s=t.slice(2,-1);return s==="!"||s==="!!"?(n(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&n("Verbatim tags must end with a >"),s)}const[,r,i]=t.match(/^(.*!)([^!]*)$/s);i||n(`The ${t} tag has no suffix`);const o=this.tags[r];if(o)try{return o+decodeURIComponent(i)}catch(s){return n(String(s)),null}return r==="!"?t:(n(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[n,r]of Object.entries(this.tags))if(t.startsWith(r))return n+LWt(t.substring(r.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let i;if(t&&r.length>0&&No(t.contents)){const o={};GC(t.contents,(s,a)=>{No(a)&&a.tag&&(o[a.tag]=!0)}),i=Object.keys(o)}else i=[];for(const[o,s]of r)o==="!!"&&s==="tag:yaml.org,2002:"||(!t||i.some(a=>a.startsWith(s)))&&n.push(`%TAG ${o} ${s}`);return n.join(`
`)}}nl.defaultYaml={explicit:!1,version:"1.2"};nl.defaultTags={"!!":"tag:yaml.org,2002:"};function H4e(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(n)}return!0}function q4e(e){const t=new Set;return GC(e,{Value(n,r){r.anchor&&t.add(r.anchor)}}),t}function V4e(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function FWt(e,t){const n=[],r=new Map;let i=null;return{onAnchor:o=>{n.push(o),i??(i=q4e(e));const s=V4e(t,i);return i.add(s),s},setAnchors:()=>{for(const o of n){const s=r.get(o);if(typeof s=="object"&&s.anchor&&(Oi(s.node)||Oo(s.node)))s.node.anchor=s.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=o,a}}},sourceObjects:r}}function xw(e,t,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let i=0,o=r.length;i<o;++i){const s=r[i],a=xw(e,r,String(i),s);a===void 0?delete r[i]:a!==s&&(r[i]=a)}else if(r instanceof Map)for(const i of Array.from(r.keys())){const o=r.get(i),s=xw(e,r,i,o);s===void 0?r.delete(i):s!==o&&r.set(i,s)}else if(r instanceof Set)for(const i of Array.from(r)){const o=xw(e,r,i,i);o===void 0?r.delete(i):o!==i&&(r.delete(i),r.add(o))}else for(const[i,o]of Object.entries(r)){const s=xw(e,r,i,o);s===void 0?delete r[i]:s!==o&&(r[i]=s)}return e.call(t,n,r)}function Ic(e,t,n){if(Array.isArray(e))return e.map((r,i)=>Ic(r,String(i),n));if(e&&typeof e.toJSON=="function"){if(!n||!U4e(e))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=o=>{r.res=o,delete n.onCreate};const i=e.toJSON(t,n);return n.onCreate&&n.onCreate(i),i}return typeof e=="bigint"&&!n?.keep?Number(e):e}class bee{constructor(t){Object.defineProperty(this,zc,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:n,maxAliasCount:r,onAnchor:i,reviver:o}={}){if(!r$(t))throw new TypeError("A document argument is required");const s={anchors:new Map,doc:t,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},a=Ic(this,"",s);if(typeof i=="function")for(const{count:l,res:u}of s.anchors.values())i(u,l);return typeof o=="function"?xw(o,{"":a},"",a):a}}class wee extends bee{constructor(t){super(vee),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t,n){let r;n?.aliasResolveCache?r=n.aliasResolveCache:(r=[],GC(t,{Node:(o,s)=>{(Qb(s)||U4e(s))&&r.push(s)}}),n&&(n.aliasResolveCache=r));let i;for(const o of r){if(o===this)break;o.anchor===this.source&&(i=o)}return i}toJSON(t,n){if(!n)return{source:this.source};const{anchors:r,doc:i,maxAliasCount:o}=n,s=this.resolve(i,n);if(!s){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=r.get(s);if(a||(Ic(s,null,n),a=r.get(s)),!a||a.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(o>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=e3(i,s,r)),a.count*a.aliasCount>o)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(t,n,r){const i=`*${this.source}`;if(t){if(H4e(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const o=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(o)}if(t.implicitKey)return`${i} `}return i}}function e3(e,t,n){if(Qb(t)){const r=t.resolve(e),i=n&&r&&n.get(r);return i?i.count*i.aliasCount:0}else if(Oo(t)){let r=0;for(const i of t.items){const o=e3(e,i,n);o>r&&(r=o)}return r}else if(jo(t)){const r=e3(e,t.key,n),i=e3(e,t.value,n);return Math.max(r,i)}return 1}const W4e=e=>!e||typeof e!="function"&&typeof e!="object";class Jn extends bee{constructor(t){super(Nh),this.value=t}toJSON(t,n){return n?.keep?this.value:Ic(this.value,t,n)}toString(){return String(this.value)}}Jn.BLOCK_FOLDED="BLOCK_FOLDED";Jn.BLOCK_LITERAL="BLOCK_LITERAL";Jn.PLAIN="PLAIN";Jn.QUOTE_DOUBLE="QUOTE_DOUBLE";Jn.QUOTE_SINGLE="QUOTE_SINGLE";const jWt="tag:yaml.org,2002:";function BWt(e,t,n){if(t){const r=n.filter(o=>o.tag===t),i=r.find(o=>!o.format)??r[0];if(!i)throw new Error(`Tag ${t} not found`);return i}return n.find(r=>r.identify?.(e)&&!r.format)}function cT(e,t,n){if(r$(e)&&(e=e.contents),No(e))return e;if(jo(e)){const d=n.schema[u0].createNode?.(n.schema,null,n);return d.items.push(e),d}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:r,onAnchor:i,onTagObj:o,schema:s,sourceObjects:a}=n;let l;if(r&&e&&typeof e=="object"){if(l=a.get(e),l)return l.anchor??(l.anchor=i(e)),new wee(l.anchor);l={anchor:null,node:null},a.set(e,l)}t?.startsWith("!!")&&(t=jWt+t.slice(2));let u=BWt(e,t,s.tags);if(!u){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const d=new Jn(e);return l&&(l.node=d),d}u=e instanceof Map?s[u0]:Symbol.iterator in Object(e)?s[WC]:s[u0]}o&&(o(u),delete n.onTagObj);const c=u?.createNode?u.createNode(n.schema,e,n):typeof u?.nodeClass?.from=="function"?u.nodeClass.from(n.schema,e,n):new Jn(e);return t?c.tag=t:u.default||(c.tag=u.tag),l&&(l.node=c),c}function VN(e,t,n){let r=n;for(let i=t.length-1;i>=0;--i){const o=t[i];if(typeof o=="number"&&Number.isInteger(o)&&o>=0){const s=[];s[o]=r,r=s}else r=new Map([[o,r]])}return cT(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const oS=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class G4e extends bee{constructor(t,n){super(t),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(t){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(n.schema=t),n.items=n.items.map(r=>No(r)||jo(r)?r.clone(t):r),this.range&&(n.range=this.range.slice()),n}addIn(t,n){if(oS(t))this.add(n);else{const[r,...i]=t,o=this.get(r,!0);if(Oo(o))o.addIn(i,n);else if(o===void 0&&this.schema)this.set(r,VN(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn(t){const[n,...r]=t;if(r.length===0)return this.delete(n);const i=this.get(n,!0);if(Oo(i))return i.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(t,n){const[r,...i]=t,o=this.get(r,!0);return i.length===0?!n&&Oi(o)?o.value:o:Oo(o)?o.getIn(i,n):void 0}hasAllNullValues(t){return this.items.every(n=>{if(!jo(n))return!1;const r=n.value;return r==null||t&&Oi(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(t){const[n,...r]=t;if(r.length===0)return this.has(n);const i=this.get(n,!0);return Oo(i)?i.hasIn(r):!1}setIn(t,n){const[r,...i]=t;if(i.length===0)this.set(r,n);else{const o=this.get(r,!0);if(Oo(o))o.setIn(i,n);else if(o===void 0&&this.schema)this.set(r,VN(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}}const zWt=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function Bp(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const vv=(e,t,n)=>e.endsWith(`
`)?Bp(n,t):n.includes(`
`)?`
`+Bp(n,t):(e.endsWith(" ")?"":" ")+n,Y4e="flow",Iq="block",t3="quoted";function i$(e,t,n="flow",{indentAtStart:r,lineWidth:i=80,minContentWidth:o=20,onFold:s,onOverflow:a}={}){if(!i||i<0)return e;i<o&&(o=0);const l=Math.max(1+o,1+i-t.length);if(e.length<=l)return e;const u=[],c={};let d=i-t.length;typeof r=="number"&&(r>i-Math.max(2,o)?u.push(0):d=i-r);let f,h,m=!1,p=-1,g=-1,v=-1;n===Iq&&(p=Mge(e,p,t.length),p!==-1&&(d=p+l));for(let w;w=e[p+=1];){if(n===t3&&w==="\\"){switch(g=p,e[p+1]){case"x":p+=3;break;case"u":p+=5;break;case"U":p+=9;break;default:p+=1}v=p}if(w===`
`)n===Iq&&(p=Mge(e,p,t.length)),d=p+t.length+l,f=void 0;else{if(w===" "&&h&&h!==" "&&h!==`
`&&h!=="	"){const _=e[p+1];_&&_!==" "&&_!==`
`&&_!=="	"&&(f=p)}if(p>=d)if(f)u.push(f),d=f+l,f=void 0;else if(n===t3){for(;h===" "||h==="	";)h=w,w=e[p+=1],m=!0;const _=p>v+1?p-2:g-1;if(c[_])return e;u.push(_),c[_]=!0,d=_+l,f=void 0}else m=!0}h=w}if(m&&a&&a(),u.length===0)return e;s&&s();let y=e.slice(0,u[0]);for(let w=0;w<u.length;++w){const _=u[w],E=u[w+1]||e.length;_===0?y=`
${t}${e.slice(0,E)}`:(n===t3&&c[_]&&(y+=`${e[_]}\\`),y+=`
${t}${e.slice(_+1,E)}`)}return y}function Mge(e,t,n){let r=t,i=t+1,o=e[i];for(;o===" "||o==="	";)if(t<i+n)o=e[++t];else{do o=e[++t];while(o&&o!==`
`);r=t,i=t+1,o=e[i]}return r}const o$=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),s$=e=>/^(%|---|\.\.\.)/m.test(e);function UWt(e,t,n){if(!t||t<0)return!1;const r=t-n,i=e.length;if(i<=r)return!1;for(let o=0,s=0;o<i;++o)if(e[o]===`
`){if(o-s>r)return!0;if(s=o+1,i-s<=r)return!1}return!0}function US(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,i=t.options.doubleQuotedMinMultiLineLength,o=t.indent||(s$(e)?"  ":"");let s="",a=0;for(let l=0,u=n[l];u;u=n[++l])if(u===" "&&n[l+1]==="\\"&&n[l+2]==="n"&&(s+=n.slice(a,l)+"\\ ",l+=1,a=l,u="\\"),u==="\\")switch(n[l+1]){case"u":{s+=n.slice(a,l);const c=n.substr(l+2,4);switch(c){case"0000":s+="\\0";break;case"0007":s+="\\a";break;case"000b":s+="\\v";break;case"001b":s+="\\e";break;case"0085":s+="\\N";break;case"00a0":s+="\\_";break;case"2028":s+="\\L";break;case"2029":s+="\\P";break;default:c.substr(0,2)==="00"?s+="\\x"+c.substr(2):s+=n.substr(l,6)}l+=5,a=l+1}break;case"n":if(r||n[l+2]==='"'||n.length<i)l+=1;else{for(s+=n.slice(a,l)+`

`;n[l+2]==="\\"&&n[l+3]==="n"&&n[l+4]!=='"';)s+=`
`,l+=2;s+=o,n[l+2]===" "&&(s+="\\"),l+=1,a=l+1}break;default:l+=1}return s=a?s+n.slice(a):n,r?s:i$(s,o,t3,o$(t,!1))}function Dq(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return US(e,t);const n=t.indent||(s$(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return t.implicitKey?r:i$(r,n,Y4e,o$(t,!1))}function Cw(e,t){const{singleQuote:n}=t.options;let r;if(n===!1)r=US;else{const i=e.includes('"'),o=e.includes("'");i&&!o?r=Dq:o&&!i?r=US:r=n?Dq:US}return r(e,t)}let Pq;try{Pq=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{Pq=/\n+(?!\n|$)/g}function n3({comment:e,type:t,value:n},r,i,o){const{blockQuote:s,commentString:a,lineWidth:l}=r.options;if(!s||/\n[\t ]+$/.test(n))return Cw(n,r);const u=r.indent||(r.forceBlockIndent||s$(n)?"  ":""),c=s==="literal"?!0:s==="folded"||t===Jn.BLOCK_FOLDED?!1:t===Jn.BLOCK_LITERAL?!0:!UWt(n,l,u.length);if(!n)return c?`|
`:`>
`;let d,f;for(f=n.length;f>0;--f){const E=n[f-1];if(E!==`
`&&E!=="	"&&E!==" ")break}let h=n.substring(f);const m=h.indexOf(`
`);m===-1?d="-":n===h||m!==h.length-1?(d="+",o&&o()):d="",h&&(n=n.slice(0,-h.length),h[h.length-1]===`
`&&(h=h.slice(0,-1)),h=h.replace(Pq,`$&${u}`));let p=!1,g,v=-1;for(g=0;g<n.length;++g){const E=n[g];if(E===" ")p=!0;else if(E===`
`)v=g;else break}let y=n.substring(0,v<g?v+1:g);y&&(n=n.substring(y.length),y=y.replace(/\n+/g,`$&${u}`));let _=(p?u?"2":"1":"")+d;if(e&&(_+=" "+a(e.replace(/ ?[\r\n]+/g," ")),i&&i()),!c){const E=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${u}`);let S=!1;const T=o$(r,!0);s!=="folded"&&t!==Jn.BLOCK_FOLDED&&(T.onOverflow=()=>{S=!0});const k=i$(`${y}${E}${h}`,u,Iq,T);if(!S)return`>${_}
${u}${k}`}return n=n.replace(/\n+/g,`$&${u}`),`|${_}
${u}${y}${n}${h}`}function HWt(e,t,n,r){const{type:i,value:o}=e,{actualString:s,implicitKey:a,indent:l,indentStep:u,inFlow:c}=t;if(a&&o.includes(`
`)||c&&/[[\]{},]/.test(o))return Cw(o,t);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return a||c||!o.includes(`
`)?Cw(o,t):n3(e,t,n,r);if(!a&&!c&&i!==Jn.PLAIN&&o.includes(`
`))return n3(e,t,n,r);if(s$(o)){if(l==="")return t.forceBlockIndent=!0,n3(e,t,n,r);if(a&&l===u)return Cw(o,t)}const d=o.replace(/\n+/g,`$&
${l}`);if(s){const f=p=>p.default&&p.tag!=="tag:yaml.org,2002:str"&&p.test?.test(d),{compat:h,tags:m}=t.doc.schema;if(m.some(f)||h?.some(f))return Cw(o,t)}return a?d:i$(d,l,Y4e,o$(t,!1))}function xee(e,t,n,r){const{implicitKey:i,inFlow:o}=t,s=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:a}=e;a!==Jn.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(s.value)&&(a=Jn.QUOTE_DOUBLE);const l=c=>{switch(c){case Jn.BLOCK_FOLDED:case Jn.BLOCK_LITERAL:return i||o?Cw(s.value,t):n3(s,t,n,r);case Jn.QUOTE_DOUBLE:return US(s.value,t);case Jn.QUOTE_SINGLE:return Dq(s.value,t);case Jn.PLAIN:return HWt(s,t,n,r);default:return null}};let u=l(a);if(u===null){const{defaultKeyType:c,defaultStringType:d}=t.options,f=i&&c||d;if(u=l(f),u===null)throw new Error(`Unsupported default string type ${f}`)}return u}function K4e(e,t){const n=Object.assign({blockQuote:!0,commentString:zWt,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function qWt(e,t){if(t.tag){const i=e.filter(o=>o.tag===t.tag);if(i.length>0)return i.find(o=>o.format===t.format)??i[0]}let n,r;if(Oi(t)){r=t.value;let i=e.filter(o=>o.identify?.(r));if(i.length>1){const o=i.filter(s=>s.test);o.length>0&&(i=o)}n=i.find(o=>o.format===t.format)??i.find(o=>!o.format)}else r=t,n=e.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!n){const i=r?.constructor?.name??(r===null?"null":typeof r);throw new Error(`Tag not resolved for ${i} value`)}return n}function VWt(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const i=[],o=(Oi(e)||Oo(e))&&e.anchor;o&&H4e(o)&&(n.add(o),i.push(`&${o}`));const s=e.tag??(t.default?null:t.tag);return s&&i.push(r.directives.tagString(s)),i.join(" ")}function Gx(e,t,n,r){if(jo(e))return e.toString(t,n,r);if(Qb(e)){if(t.doc.directives)return e.toString(t);if(t.resolvedAliases?.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let i;const o=No(e)?e:t.doc.createNode(e,{onTagObj:l=>i=l});i??(i=qWt(t.doc.schema.tags,o));const s=VWt(o,i,t);s.length>0&&(t.indentAtStart=(t.indentAtStart??0)+s.length+1);const a=typeof i.stringify=="function"?i.stringify(o,t,n,r):Oi(o)?xee(o,t,n,r):o.toString(t,n,r);return s?Oi(o)||a[0]==="{"||a[0]==="["?`${s} ${a}`:`${s}
${t.indent}${a}`:a}function WWt({key:e,value:t},n,r,i){const{allNullValues:o,doc:s,indent:a,indentStep:l,options:{commentString:u,indentSeq:c,simpleKeys:d}}=n;let f=No(e)&&e.comment||null;if(d){if(f)throw new Error("With simple keys, key nodes cannot have comments");if(Oo(e)||!No(e)&&typeof e=="object"){const T="With simple keys, collection cannot be used as a key value";throw new Error(T)}}let h=!d&&(!e||f&&t==null&&!n.inFlow||Oo(e)||(Oi(e)?e.type===Jn.BLOCK_FOLDED||e.type===Jn.BLOCK_LITERAL:typeof e=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!h&&(d||!o),indent:a+l});let m=!1,p=!1,g=Gx(e,n,()=>m=!0,()=>p=!0);if(!h&&!n.inFlow&&g.length>1024){if(d)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");h=!0}if(n.inFlow){if(o||t==null)return m&&r&&r(),g===""?"?":h?`? ${g}`:g}else if(o&&!d||t==null&&h)return g=`? ${g}`,f&&!m?g+=vv(g,n.indent,u(f)):p&&i&&i(),g;m&&(f=null),h?(f&&(g+=vv(g,n.indent,u(f))),g=`? ${g}
${a}:`):(g=`${g}:`,f&&(g+=vv(g,n.indent,u(f))));let v,y,w;No(t)?(v=!!t.spaceBefore,y=t.commentBefore,w=t.comment):(v=!1,y=null,w=null,t&&typeof t=="object"&&(t=s.createNode(t))),n.implicitKey=!1,!h&&!f&&Oi(t)&&(n.indentAtStart=g.length+1),p=!1,!c&&l.length>=2&&!n.inFlow&&!h&&eA(t)&&!t.flow&&!t.tag&&!t.anchor&&(n.indent=n.indent.substring(2));let _=!1;const E=Gx(t,n,()=>_=!0,()=>p=!0);let S=" ";if(f||v||y){if(S=v?`
`:"",y){const T=u(y);S+=`
${Bp(T,n.indent)}`}E===""&&!n.inFlow?S===`
`&&(S=`

`):S+=`
${n.indent}`}else if(!h&&Oo(t)){const T=E[0],k=E.indexOf(`
`),R=k!==-1,I=n.inFlow??t.flow??t.items.length===0;if(R||!I){let P=!1;if(R&&(T==="&"||T==="!")){let N=E.indexOf(" ");T==="&"&&N!==-1&&N<k&&E[N+1]==="!"&&(N=E.indexOf(" ",N+1)),(N===-1||k<N)&&(P=!0)}P||(S=`
${n.indent}`)}}else(E===""||E[0]===`
`)&&(S="");return g+=S+E,n.inFlow?_&&r&&r():w&&!_?g+=vv(g,n.indent,u(w)):p&&i&&i(),g}function GWt(e,t){(e==="debug"||e==="warn")&&console.warn(t)}const sD="<<",tm={identify:e=>e===sD||typeof e=="symbol"&&e.description===sD,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new Jn(Symbol(sD)),{addToJSMap:X4e}),stringify:()=>sD},YWt=(e,t)=>(tm.identify(t)||Oi(t)&&(!t.type||t.type===Jn.PLAIN)&&tm.identify(t.value))&&e?.doc.schema.tags.some(n=>n.tag===tm.tag&&n.default);function X4e(e,t,n){if(n=e&&Qb(n)?n.resolve(e.doc):n,eA(n))for(const r of n.items)wB(e,t,r);else if(Array.isArray(n))for(const r of n)wB(e,t,r);else wB(e,t,n)}function wB(e,t,n){const r=e&&Qb(n)?n.resolve(e.doc):n;if(!Zk(r))throw new Error("Merge sources must be maps or map aliases");const i=r.toJSON(null,e,Map);for(const[o,s]of i)t instanceof Map?t.has(o)||t.set(o,s):t instanceof Set?t.add(o):Object.prototype.hasOwnProperty.call(t,o)||Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0});return t}function Q4e(e,t,{key:n,value:r}){if(No(n)&&n.addToJSMap)n.addToJSMap(e,t,r);else if(YWt(e,n))X4e(e,t,r);else{const i=Ic(n,"",e);if(t instanceof Map)t.set(i,Ic(r,i,e));else if(t instanceof Set)t.add(i);else{const o=KWt(n,i,e),s=Ic(r,o,e);o in t?Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0}):t[o]=s}}return t}function KWt(e,t,n){if(t===null)return"";if(typeof t!="object")return String(t);if(No(e)&&n?.doc){const r=K4e(n.doc,{});r.anchors=new Set;for(const o of n.anchors.keys())r.anchors.add(o.anchor);r.inFlow=!0,r.inStringifyKey=!0;const i=e.toString(r);if(!n.mapKeyWarned){let o=JSON.stringify(i);o.length>40&&(o=o.substring(0,36)+'..."'),GWt(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${o}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(t)}function Cee(e,t,n){const r=cT(e,void 0,n),i=cT(t,void 0,n);return new yl(r,i)}class yl{constructor(t,n=null){Object.defineProperty(this,zc,{value:z4e}),this.key=t,this.value=n}clone(t){let{key:n,value:r}=this;return No(n)&&(n=n.clone(t)),No(r)&&(r=r.clone(t)),new yl(n,r)}toJSON(t,n){const r=n?.mapAsMap?new Map:{};return Q4e(n,r,this)}toString(t,n,r){return t?.doc?WWt(this,t,n,r):JSON.stringify(this)}}function J4e(e,t,n){return(t.inFlow??e.flow?QWt:XWt)(e,t,n)}function XWt({comment:e,items:t},n,{blockItemPrefix:r,flowChars:i,itemIndent:o,onChompKeep:s,onComment:a}){const{indent:l,options:{commentString:u}}=n,c=Object.assign({},n,{indent:o,type:null});let d=!1;const f=[];for(let m=0;m<t.length;++m){const p=t[m];let g=null;if(No(p))!d&&p.spaceBefore&&f.push(""),WN(n,f,p.commentBefore,d),p.comment&&(g=p.comment);else if(jo(p)){const y=No(p.key)?p.key:null;y&&(!d&&y.spaceBefore&&f.push(""),WN(n,f,y.commentBefore,d))}d=!1;let v=Gx(p,c,()=>g=null,()=>d=!0);g&&(v+=vv(v,o,u(g))),d&&g&&(d=!1),f.push(r+v)}let h;if(f.length===0)h=i.start+i.end;else{h=f[0];for(let m=1;m<f.length;++m){const p=f[m];h+=p?`
${l}${p}`:`
`}}return e?(h+=`
`+Bp(u(e),l),a&&a()):d&&s&&s(),h}function QWt({items:e},t,{flowChars:n,itemIndent:r}){const{indent:i,indentStep:o,flowCollectionPadding:s,options:{commentString:a}}=t;r+=o;const l=Object.assign({},t,{indent:r,inFlow:!0,type:null});let u=!1,c=0;const d=[];for(let m=0;m<e.length;++m){const p=e[m];let g=null;if(No(p))p.spaceBefore&&d.push(""),WN(t,d,p.commentBefore,!1),p.comment&&(g=p.comment);else if(jo(p)){const y=No(p.key)?p.key:null;y&&(y.spaceBefore&&d.push(""),WN(t,d,y.commentBefore,!1),y.comment&&(u=!0));const w=No(p.value)?p.value:null;w?(w.comment&&(g=w.comment),w.commentBefore&&(u=!0)):p.value==null&&y?.comment&&(g=y.comment)}g&&(u=!0);let v=Gx(p,l,()=>g=null);m<e.length-1&&(v+=","),g&&(v+=vv(v,r,a(g))),!u&&(d.length>c||v.includes(`
`))&&(u=!0),d.push(v),c=d.length}const{start:f,end:h}=n;if(d.length===0)return f+h;if(!u){const m=d.reduce((p,g)=>p+g.length+2,2);u=t.options.lineWidth>0&&m>t.options.lineWidth}if(u){let m=f;for(const p of d)m+=p?`
${o}${i}${p}`:`
`;return`${m}
${i}${h}`}else return`${f}${s}${d.join(" ")}${s}${h}`}function WN({indent:e,options:{commentString:t}},n,r,i){if(r&&i&&(r=r.replace(/^\n+/,"")),r){const o=Bp(t(r),e);n.push(o.trimStart())}}function bv(e,t){const n=Oi(t)?t.value:t;for(const r of e)if(jo(r)&&(r.key===t||r.key===n||Oi(r.key)&&r.key.value===n))return r}class bc extends G4e{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(u0,t),this.items=[]}static from(t,n,r){const{keepUndefined:i,replacer:o}=r,s=new this(t),a=(l,u)=>{if(typeof o=="function")u=o.call(n,l,u);else if(Array.isArray(o)&&!o.includes(l))return;(u!==void 0||i)&&s.items.push(Cee(l,u,r))};if(n instanceof Map)for(const[l,u]of n)a(l,u);else if(n&&typeof n=="object")for(const l of Object.keys(n))a(l,n[l]);return typeof t.sortMapEntries=="function"&&s.items.sort(t.sortMapEntries),s}add(t,n){let r;jo(t)?r=t:!t||typeof t!="object"||!("key"in t)?r=new yl(t,t?.value):r=new yl(t.key,t.value);const i=bv(this.items,r.key),o=this.schema?.sortMapEntries;if(i){if(!n)throw new Error(`Key ${r.key} already set`);Oi(i.value)&&W4e(r.value)?i.value.value=r.value:i.value=r.value}else if(o){const s=this.items.findIndex(a=>o(r,a)<0);s===-1?this.items.push(r):this.items.splice(s,0,r)}else this.items.push(r)}delete(t){const n=bv(this.items,t);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(t,n){const i=bv(this.items,t)?.value;return(!n&&Oi(i)?i.value:i)??void 0}has(t){return!!bv(this.items,t)}set(t,n){this.add(new yl(t,n),!0)}toJSON(t,n,r){const i=r?new r:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(i);for(const o of this.items)Q4e(n,i,o);return i}toString(t,n,r){if(!t)return JSON.stringify(this);for(const i of this.items)if(!jo(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),J4e(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:r,onComment:n})}}const YC={collection:"map",default:!0,nodeClass:bc,tag:"tag:yaml.org,2002:map",resolve(e,t){return Zk(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,n)=>bc.from(e,t,n)};class yb extends G4e{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(WC,t),this.items=[]}add(t){this.items.push(t)}delete(t){const n=aD(t);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(t,n){const r=aD(t);if(typeof r!="number")return;const i=this.items[r];return!n&&Oi(i)?i.value:i}has(t){const n=aD(t);return typeof n=="number"&&n<this.items.length}set(t,n){const r=aD(t);if(typeof r!="number")throw new Error(`Expected a valid index, not ${t}.`);const i=this.items[r];Oi(i)&&W4e(n)?i.value=n:this.items[r]=n}toJSON(t,n){const r=[];n?.onCreate&&n.onCreate(r);let i=0;for(const o of this.items)r.push(Ic(o,String(i++),n));return r}toString(t,n,r){return t?J4e(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(t,n,r){const{replacer:i}=r,o=new this(t);if(n&&Symbol.iterator in Object(n)){let s=0;for(let a of n){if(typeof i=="function"){const l=n instanceof Set?a:String(s++);a=i.call(n,l,a)}o.items.push(cT(a,void 0,r))}}return o}}function aD(e){let t=Oi(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}const KC={collection:"seq",default:!0,nodeClass:yb,tag:"tag:yaml.org,2002:seq",resolve(e,t){return eA(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,n)=>yb.from(e,t,n)},a$={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,n,r){return t=Object.assign({actualString:!0},t),xee(e,t,n,r)}},l$={identify:e=>e==null,createNode:()=>new Jn(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Jn(null),stringify:({source:e},t)=>typeof e=="string"&&l$.test.test(e)?e:t.options.nullStr},_ee={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new Jn(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},n){if(e&&_ee.test.test(e)){const r=e[0]==="t"||e[0]==="T";if(t===r)return e}return t?n.options.trueStr:n.options.falseStr}};function Sf({format:e,minFractionDigits:t,tag:n,value:r}){if(typeof r=="bigint")return String(r);const i=typeof r=="number"?r:Number(r);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let o=JSON.stringify(r);if(!e&&t&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(o)){let s=o.indexOf(".");s<0&&(s=o.length,o+=".");let a=t-(o.length-s-1);for(;a-- >0;)o+="0"}return o}const Z4e={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Sf},eMe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Sf(e)}},tMe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new Jn(parseFloat(e)),n=e.indexOf(".");return n!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-n-1),t},stringify:Sf},u$=e=>typeof e=="bigint"||Number.isInteger(e),Eee=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function nMe(e,t,n){const{value:r}=e;return u$(r)&&r>=0?n+r.toString(t):Sf(e)}const rMe={identify:e=>u$(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>Eee(e,2,8,n),stringify:e=>nMe(e,8,"0o")},iMe={identify:u$,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>Eee(e,0,10,n),stringify:Sf},oMe={identify:e=>u$(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>Eee(e,2,16,n),stringify:e=>nMe(e,16,"0x")},JWt=[YC,KC,a$,l$,_ee,rMe,iMe,oMe,Z4e,eMe,tMe];function $ge(e){return typeof e=="bigint"||Number.isInteger(e)}const lD=({value:e})=>JSON.stringify(e),ZWt=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:lD},{identify:e=>e==null,createNode:()=>new Jn(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:lD},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:e=>e==="true",stringify:lD},{identify:$ge,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>$ge(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:lD}],eGt={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},tGt=[YC,KC].concat(ZWt,eGt),See={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof atob=="function"){const n=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,i,o){if(!n)return"";const s=n;let a;if(typeof btoa=="function"){let l="";for(let u=0;u<s.length;++u)l+=String.fromCharCode(s[u]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t??(t=Jn.BLOCK_LITERAL),t!==Jn.QUOTE_DOUBLE){const l=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),u=Math.ceil(a.length/l),c=new Array(u);for(let d=0,f=0;d<u;++d,f+=l)c[d]=a.substr(f,l);a=c.join(t===Jn.BLOCK_LITERAL?`
`:" ")}return xee({comment:e,type:t,value:a},r,i,o)}};function sMe(e,t){if(eA(e))for(let n=0;n<e.items.length;++n){let r=e.items[n];if(!jo(r)){if(Zk(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");const i=r.items[0]||new yl(new Jn(null));if(r.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${r.commentBefore}
${i.key.commentBefore}`:r.commentBefore),r.comment){const o=i.value??i.key;o.comment=o.comment?`${r.comment}
${o.comment}`:r.comment}r=i}e.items[n]=jo(r)?r:new yl(r)}}else t("Expected a sequence for this tag");return e}function aMe(e,t,n){const{replacer:r}=n,i=new yb(e);i.tag="tag:yaml.org,2002:pairs";let o=0;if(t&&Symbol.iterator in Object(t))for(let s of t){typeof r=="function"&&(s=r.call(t,String(o++),s));let a,l;if(Array.isArray(s))if(s.length===2)a=s[0],l=s[1];else throw new TypeError(`Expected [key, value] tuple: ${s}`);else if(s&&s instanceof Object){const u=Object.keys(s);if(u.length===1)a=u[0],l=s[a];else throw new TypeError(`Expected tuple with one key, not ${u.length} keys`)}else a=s;i.items.push(Cee(a,l,n))}return i}const Tee={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:sMe,createNode:aMe};class qw extends yb{constructor(){super(),this.add=bc.prototype.add.bind(this),this.delete=bc.prototype.delete.bind(this),this.get=bc.prototype.get.bind(this),this.has=bc.prototype.has.bind(this),this.set=bc.prototype.set.bind(this),this.tag=qw.tag}toJSON(t,n){if(!n)return super.toJSON(t);const r=new Map;n?.onCreate&&n.onCreate(r);for(const i of this.items){let o,s;if(jo(i)?(o=Ic(i.key,"",n),s=Ic(i.value,o,n)):o=Ic(i,"",n),r.has(o))throw new Error("Ordered maps must not include duplicate keys");r.set(o,s)}return r}static from(t,n,r){const i=aMe(t,n,r),o=new this;return o.items=i.items,o}}qw.tag="tag:yaml.org,2002:omap";const kee={collection:"seq",identify:e=>e instanceof Map,nodeClass:qw,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=sMe(e,t),r=[];for(const{key:i}of n.items)Oi(i)&&(r.includes(i.value)?t(`Ordered maps must not include duplicate keys: ${i.value}`):r.push(i.value));return Object.assign(new qw,n)},createNode:(e,t,n)=>qw.from(e,t,n)};function lMe({value:e,source:t},n){return t&&(e?uMe:cMe).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const uMe={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Jn(!0),stringify:lMe},cMe={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new Jn(!1),stringify:lMe},nGt={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Sf},rGt={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Sf(e)}},iGt={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new Jn(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(n!==-1){const r=e.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(t.minFractionDigits=r.length)}return t},stringify:Sf},tA=e=>typeof e=="bigint"||Number.isInteger(e);function c$(e,t,n,{intAsBigInt:r}){const i=e[0];if((i==="-"||i==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const s=BigInt(e);return i==="-"?BigInt(-1)*s:s}const o=parseInt(e,n);return i==="-"?-1*o:o}function Aee(e,t,n){const{value:r}=e;if(tA(r)){const i=r.toString(t);return r<0?"-"+n+i.substr(1):n+i}return Sf(e)}const oGt={identify:tA,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>c$(e,2,2,n),stringify:e=>Aee(e,2,"0b")},sGt={identify:tA,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>c$(e,1,8,n),stringify:e=>Aee(e,8,"0")},aGt={identify:tA,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>c$(e,0,10,n),stringify:Sf},lGt={identify:tA,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>c$(e,2,16,n),stringify:e=>Aee(e,16,"0x")};class Vw extends bc{constructor(t){super(t),this.tag=Vw.tag}add(t){let n;jo(t)?n=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?n=new yl(t.key,null):n=new yl(t,null),bv(this.items,n.key)||this.items.push(n)}get(t,n){const r=bv(this.items,t);return!n&&jo(r)?Oi(r.key)?r.key.value:r.key:r}set(t,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=bv(this.items,t);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new yl(t))}toJSON(t,n){return super.toJSON(t,n,Set)}toString(t,n,r){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(t,n,r){const{replacer:i}=r,o=new this(t);if(n&&Symbol.iterator in Object(n))for(let s of n)typeof i=="function"&&(s=i.call(n,s,s)),o.items.push(Cee(s,null,r));return o}}Vw.tag="tag:yaml.org,2002:set";const Ree={collection:"map",identify:e=>e instanceof Set,nodeClass:Vw,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>Vw.from(e,t,n),resolve(e,t){if(Zk(e)){if(e.hasAllNullValues(!0))return Object.assign(new Vw,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function Iee(e,t){const n=e[0],r=n==="-"||n==="+"?e.substring(1):e,i=s=>t?BigInt(s):Number(s),o=r.replace(/_/g,"").split(":").reduce((s,a)=>s*i(60)+i(a),i(0));return n==="-"?i(-1)*o:o}function dMe(e){let{value:t}=e,n=s=>s;if(typeof t=="bigint")n=s=>BigInt(s);else if(isNaN(t)||!isFinite(t))return Sf(e);let r="";t<0&&(r="-",t*=n(-1));const i=n(60),o=[t%i];return t<60?o.unshift(0):(t=(t-o[0])/i,o.unshift(t%i),t>=60&&(t=(t-o[0])/i,o.unshift(t))),r+o.map(s=>String(s).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const fMe={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>Iee(e,n),stringify:dMe},hMe={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>Iee(e,!1),stringify:dMe},d$={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(d$.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,i,o,s,a]=t.map(Number),l=t[7]?Number((t[7]+"00").substr(1,3)):0;let u=Date.UTC(n,r-1,i,o||0,s||0,a||0,l);const c=t[8];if(c&&c!=="Z"){let d=Iee(c,!1);Math.abs(d)<30&&(d*=60),u-=6e4*d}return new Date(u)},stringify:({value:e})=>e?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""},Lge=[YC,KC,a$,l$,uMe,cMe,oGt,sGt,aGt,lGt,nGt,rGt,iGt,See,tm,kee,Tee,Ree,fMe,hMe,d$],Fge=new Map([["core",JWt],["failsafe",[YC,KC,a$]],["json",tGt],["yaml11",Lge],["yaml-1.1",Lge]]),jge={binary:See,bool:_ee,float:tMe,floatExp:eMe,floatNaN:Z4e,floatTime:hMe,int:iMe,intHex:oMe,intOct:rMe,intTime:fMe,map:YC,merge:tm,null:l$,omap:kee,pairs:Tee,seq:KC,set:Ree,timestamp:d$},uGt={"tag:yaml.org,2002:binary":See,"tag:yaml.org,2002:merge":tm,"tag:yaml.org,2002:omap":kee,"tag:yaml.org,2002:pairs":Tee,"tag:yaml.org,2002:set":Ree,"tag:yaml.org,2002:timestamp":d$};function xB(e,t,n){const r=Fge.get(t);if(r&&!e)return n&&!r.includes(tm)?r.concat(tm):r.slice();let i=r;if(!i)if(Array.isArray(e))i=[];else{const o=Array.from(Fge.keys()).filter(s=>s!=="yaml11").map(s=>JSON.stringify(s)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${o} or define customTags array`)}if(Array.isArray(e))for(const o of e)i=i.concat(o);else typeof e=="function"&&(i=e(i.slice()));return n&&(i=i.concat(tm)),i.reduce((o,s)=>{const a=typeof s=="string"?jge[s]:s;if(!a){const l=JSON.stringify(s),u=Object.keys(jge).map(c=>JSON.stringify(c)).join(", ");throw new Error(`Unknown custom tag ${l}; use one of ${u}`)}return o.includes(a)||o.push(a),o},[])}const cGt=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class Dee{constructor({compat:t,customTags:n,merge:r,resolveKnownTags:i,schema:o,sortMapEntries:s,toStringDefaults:a}){this.compat=Array.isArray(t)?xB(t,"compat"):t?xB(null,t):null,this.name=typeof o=="string"&&o||"core",this.knownTags=i?uGt:{},this.tags=xB(n,this.name,r),this.toStringOptions=a??null,Object.defineProperty(this,u0,{value:YC}),Object.defineProperty(this,Nh,{value:a$}),Object.defineProperty(this,WC,{value:KC}),this.sortMapEntries=typeof s=="function"?s:s===!0?cGt:null}clone(){const t=Object.create(Dee.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function dGt(e,t){const n=[];let r=t.directives===!0;if(t.directives!==!1&&e.directives){const l=e.directives.toString(e);l?(n.push(l),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");const i=K4e(e,t),{commentString:o}=i.options;if(e.commentBefore){n.length!==1&&n.unshift("");const l=o(e.commentBefore);n.unshift(Bp(l,""))}let s=!1,a=null;if(e.contents){if(No(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){const c=o(e.contents.commentBefore);n.push(Bp(c,""))}i.forceBlockIndent=!!e.comment,a=e.contents.comment}const l=a?void 0:()=>s=!0;let u=Gx(e.contents,i,()=>a=null,l);a&&(u+=vv(u,"",o(a))),(u[0]==="|"||u[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${u}`:n.push(u)}else n.push(Gx(e.contents,i));if(e.directives?.docEnd)if(e.comment){const l=o(e.comment);l.includes(`
`)?(n.push("..."),n.push(Bp(l,""))):n.push(`... ${l}`)}else n.push("...");else{let l=e.comment;l&&s&&(l=l.replace(/^\n+/,"")),l&&((!s||a)&&n[n.length-1]!==""&&n.push(""),n.push(Bp(o(l),"")))}return n.join(`
`)+`
`}class f${constructor(t,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,zc,{value:Rq});let i=null;typeof n=="function"||Array.isArray(n)?i=n:r===void 0&&n&&(r=n,n=void 0);const o=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},r);this.options=o;let{version:s}=o;r?._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(s=this.directives.yaml.version)):this.directives=new nl({version:s}),this.setSchema(s,r),this.contents=t===void 0?null:this.createNode(t,i,r)}clone(){const t=Object.create(f$.prototype,{[zc]:{value:Rq}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=No(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){K1(this.contents)&&this.contents.add(t)}addIn(t,n){K1(this.contents)&&this.contents.addIn(t,n)}createAlias(t,n){if(!t.anchor){const r=q4e(this);t.anchor=!n||r.has(n)?V4e(n||"a",r):n}return new wee(t.anchor)}createNode(t,n,r){let i;if(typeof n=="function")t=n.call({"":t},"",t),i=n;else if(Array.isArray(n)){const g=y=>typeof y=="number"||y instanceof String||y instanceof Number,v=n.filter(g).map(String);v.length>0&&(n=n.concat(v)),i=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:o,anchorPrefix:s,flow:a,keepUndefined:l,onTagObj:u,tag:c}=r??{},{onAnchor:d,setAnchors:f,sourceObjects:h}=FWt(this,s||"a"),m={aliasDuplicateObjects:o??!0,keepUndefined:l??!1,onAnchor:d,onTagObj:u,replacer:i,schema:this.schema,sourceObjects:h},p=cT(t,c,m);return a&&Oo(p)&&(p.flow=!0),f(),p}createPair(t,n,r={}){const i=this.createNode(t,null,r),o=this.createNode(n,null,r);return new yl(i,o)}delete(t){return K1(this.contents)?this.contents.delete(t):!1}deleteIn(t){return oS(t)?this.contents==null?!1:(this.contents=null,!0):K1(this.contents)?this.contents.deleteIn(t):!1}get(t,n){return Oo(this.contents)?this.contents.get(t,n):void 0}getIn(t,n){return oS(t)?!n&&Oi(this.contents)?this.contents.value:this.contents:Oo(this.contents)?this.contents.getIn(t,n):void 0}has(t){return Oo(this.contents)?this.contents.has(t):!1}hasIn(t){return oS(t)?this.contents!==void 0:Oo(this.contents)?this.contents.hasIn(t):!1}set(t,n){this.contents==null?this.contents=VN(this.schema,[t],n):K1(this.contents)&&this.contents.set(t,n)}setIn(t,n){oS(t)?this.contents=n:this.contents==null?this.contents=VN(this.schema,Array.from(t),n):K1(this.contents)&&this.contents.setIn(t,n)}setSchema(t,n={}){typeof t=="number"&&(t=String(t));let r;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new nl({version:"1.1"}),r={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new nl({version:t}),r={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const i=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new Dee(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:n,mapAsMap:r,maxAliasCount:i,onAnchor:o,reviver:s}={}){const a={anchors:new Map,doc:this,keep:!t,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},l=Ic(this.contents,n??"",a);if(typeof o=="function")for(const{count:u,res:c}of a.anchors.values())o(c,u);return typeof s=="function"?xw(s,{"":l},"",l):l}toJSON(t,n){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:n})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const n=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return dGt(this,t)}}function K1(e){if(Oo(e))return!0;throw new Error("Expected a YAML collection as document contents")}class pMe extends Error{constructor(t,n,r,i){super(),this.name=t,this.code=r,this.message=i,this.pos=n}}class sS extends pMe{constructor(t,n,r){super("YAMLParseError",t,n,r)}}class fGt extends pMe{constructor(t,n,r){super("YAMLWarning",t,n,r)}}const Bge=(e,t)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>t.linePos(a));const{line:r,col:i}=n.linePos[0];n.message+=` at line ${r}, column ${i}`;let o=i-1,s=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(o>=60&&s.length>80){const a=Math.min(o-39,s.length-79);s=""+s.substring(a),o-=a-1}if(s.length>80&&(s=s.substring(0,79)+""),r>1&&/^ *$/.test(s.substring(0,o))){let a=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);a.length>80&&(a=a.substring(0,79)+`
`),s=a+s}if(/[^ ]/.test(s)){let a=1;const l=n.linePos[1];l&&l.line===r&&l.col>i&&(a=Math.max(1,Math.min(l.col-i,80-o)));const u=" ".repeat(o)+"^".repeat(a);n.message+=`:

${s}
${u}
`}};function Yx(e,{flow:t,indicator:n,next:r,offset:i,onError:o,parentIndent:s,startOnNewline:a}){let l=!1,u=a,c=a,d="",f="",h=!1,m=!1,p=null,g=null,v=null,y=null,w=null,_=null,E=null;for(const k of e)switch(m&&(k.type!=="space"&&k.type!=="newline"&&k.type!=="comma"&&o(k.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m=!1),p&&(u&&k.type!=="comment"&&k.type!=="newline"&&o(p,"TAB_AS_INDENT","Tabs are not allowed as indentation"),p=null),k.type){case"space":!t&&(n!=="doc-start"||r?.type!=="flow-collection")&&k.source.includes("	")&&(p=k),c=!0;break;case"comment":{c||o(k,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const R=k.source.substring(1)||" ";d?d+=f+R:d=R,f="",u=!1;break}case"newline":u?d?d+=k.source:(!_||n!=="seq-item-ind")&&(l=!0):f+=k.source,u=!0,h=!0,(g||v)&&(y=k),c=!0;break;case"anchor":g&&o(k,"MULTIPLE_ANCHORS","A node can have at most one anchor"),k.source.endsWith(":")&&o(k.offset+k.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),g=k,E??(E=k.offset),u=!1,c=!1,m=!0;break;case"tag":{v&&o(k,"MULTIPLE_TAGS","A node can have at most one tag"),v=k,E??(E=k.offset),u=!1,c=!1,m=!0;break}case n:(g||v)&&o(k,"BAD_PROP_ORDER",`Anchors and tags must be after the ${k.source} indicator`),_&&o(k,"UNEXPECTED_TOKEN",`Unexpected ${k.source} in ${t??"collection"}`),_=k,u=n==="seq-item-ind"||n==="explicit-key-ind",c=!1;break;case"comma":if(t){w&&o(k,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),w=k,u=!1,c=!1;break}default:o(k,"UNEXPECTED_TOKEN",`Unexpected ${k.type} token`),u=!1,c=!1}const S=e[e.length-1],T=S?S.offset+S.source.length:i;return m&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&o(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),p&&(u&&p.indent<=s||r?.type==="block-map"||r?.type==="block-seq")&&o(p,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:w,found:_,spaceBefore:l,comment:d,hasNewline:h,anchor:g,tag:v,newlineAfterProp:y,end:T,start:E??T}}function dT(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(const t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(const t of e.items){for(const n of t.start)if(n.type==="newline")return!0;if(t.sep){for(const n of t.sep)if(n.type==="newline")return!0}if(dT(t.key)||dT(t.value))return!0}return!1;default:return!0}}function Oq(e,t,n){if(t?.type==="flow-collection"){const r=t.end[0];r.indent===e&&(r.source==="]"||r.source==="}")&&dT(t)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function mMe(e,t,n){const{uniqueKeys:r}=e.options;if(r===!1)return!1;const i=typeof r=="function"?r:(o,s)=>o===s||Oi(o)&&Oi(s)&&o.value===s.value;return t.some(o=>i(o.key,n))}const zge="All mapping items must start at the same column";function hGt({composeNode:e,composeEmptyNode:t},n,r,i,o){const s=o?.nodeClass??bc,a=new s(n.schema);n.atRoot&&(n.atRoot=!1);let l=r.offset,u=null;for(const c of r.items){const{start:d,key:f,sep:h,value:m}=c,p=Yx(d,{indicator:"explicit-key-ind",next:f??h?.[0],offset:l,onError:i,parentIndent:r.indent,startOnNewline:!0}),g=!p.found;if(g){if(f&&(f.type==="block-seq"?i(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in f&&f.indent!==r.indent&&i(l,"BAD_INDENT",zge)),!p.anchor&&!p.tag&&!h){u=p.end,p.comment&&(a.comment?a.comment+=`
`+p.comment:a.comment=p.comment);continue}(p.newlineAfterProp||dT(f))&&i(f??d[d.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else p.found?.indent!==r.indent&&i(l,"BAD_INDENT",zge);n.atKey=!0;const v=p.end,y=f?e(n,f,p,i):t(n,v,d,null,p,i);n.schema.compat&&Oq(r.indent,f,i),n.atKey=!1,mMe(n,a.items,y)&&i(v,"DUPLICATE_KEY","Map keys must be unique");const w=Yx(h??[],{indicator:"map-value-ind",next:m,offset:y.range[2],onError:i,parentIndent:r.indent,startOnNewline:!f||f.type==="block-scalar"});if(l=w.end,w.found){g&&(m?.type==="block-map"&&!w.hasNewline&&i(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&p.start<w.found.offset-1024&&i(y.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const _=m?e(n,m,w,i):t(n,l,h,null,w,i);n.schema.compat&&Oq(r.indent,m,i),l=_.range[2];const E=new yl(y,_);n.options.keepSourceTokens&&(E.srcToken=c),a.items.push(E)}else{g&&i(y.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),w.comment&&(y.comment?y.comment+=`
`+w.comment:y.comment=w.comment);const _=new yl(y);n.options.keepSourceTokens&&(_.srcToken=c),a.items.push(_)}}return u&&u<l&&i(u,"IMPOSSIBLE","Map comment with trailing content"),a.range=[r.offset,l,u??l],a}function pGt({composeNode:e,composeEmptyNode:t},n,r,i,o){const s=o?.nodeClass??yb,a=new s(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let l=r.offset,u=null;for(const{start:c,value:d}of r.items){const f=Yx(c,{indicator:"seq-item-ind",next:d,offset:l,onError:i,parentIndent:r.indent,startOnNewline:!0});if(!f.found)if(f.anchor||f.tag||d)d&&d.type==="block-seq"?i(f.end,"BAD_INDENT","All sequence items must start at the same column"):i(l,"MISSING_CHAR","Sequence item without - indicator");else{u=f.end,f.comment&&(a.comment=f.comment);continue}const h=d?e(n,d,f,i):t(n,f.end,c,null,f,i);n.schema.compat&&Oq(r.indent,d,i),l=h.range[2],a.items.push(h)}return a.range=[r.offset,l,u??l],a}function nA(e,t,n,r){let i="";if(e){let o=!1,s="";for(const a of e){const{source:l,type:u}=a;switch(u){case"space":o=!0;break;case"comment":{n&&!o&&r(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const c=l.substring(1)||" ";i?i+=s+c:i=c,s="";break}case"newline":i&&(s+=l),o=!0;break;default:r(a,"UNEXPECTED_TOKEN",`Unexpected ${u} at node end`)}t+=l.length}}return{comment:i,offset:t}}const CB="Block collections are not allowed within flow collections",_B=e=>e&&(e.type==="block-map"||e.type==="block-seq");function mGt({composeNode:e,composeEmptyNode:t},n,r,i,o){const s=r.start.source==="{",a=s?"flow map":"flow sequence",l=o?.nodeClass??(s?bc:yb),u=new l(n.schema);u.flow=!0;const c=n.atRoot;c&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let d=r.offset+r.start.source.length;for(let g=0;g<r.items.length;++g){const v=r.items[g],{start:y,key:w,sep:_,value:E}=v,S=Yx(y,{flow:a,indicator:"explicit-key-ind",next:w??_?.[0],offset:d,onError:i,parentIndent:r.indent,startOnNewline:!1});if(!S.found){if(!S.anchor&&!S.tag&&!_&&!E){g===0&&S.comma?i(S.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):g<r.items.length-1&&i(S.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),S.comment&&(u.comment?u.comment+=`
`+S.comment:u.comment=S.comment),d=S.end;continue}!s&&n.options.strict&&dT(w)&&i(w,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(g===0)S.comma&&i(S.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(S.comma||i(S.start,"MISSING_CHAR",`Missing , between ${a} items`),S.comment){let T="";e:for(const k of y)switch(k.type){case"comma":case"space":break;case"comment":T=k.source.substring(1);break e;default:break e}if(T){let k=u.items[u.items.length-1];jo(k)&&(k=k.value??k.key),k.comment?k.comment+=`
`+T:k.comment=T,S.comment=S.comment.substring(T.length+1)}}if(!s&&!_&&!S.found){const T=E?e(n,E,S,i):t(n,S.end,_,null,S,i);u.items.push(T),d=T.range[2],_B(E)&&i(T.range,"BLOCK_IN_FLOW",CB)}else{n.atKey=!0;const T=S.end,k=w?e(n,w,S,i):t(n,T,y,null,S,i);_B(w)&&i(k.range,"BLOCK_IN_FLOW",CB),n.atKey=!1;const R=Yx(_??[],{flow:a,indicator:"map-value-ind",next:E,offset:k.range[2],onError:i,parentIndent:r.indent,startOnNewline:!1});if(R.found){if(!s&&!S.found&&n.options.strict){if(_)for(const N of _){if(N===R.found)break;if(N.type==="newline"){i(N,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}S.start<R.found.offset-1024&&i(R.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else E&&("source"in E&&E.source&&E.source[0]===":"?i(E,"MISSING_CHAR",`Missing space after : in ${a}`):i(R.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const I=E?e(n,E,R,i):R.found?t(n,R.end,_,null,R,i):null;I?_B(E)&&i(I.range,"BLOCK_IN_FLOW",CB):R.comment&&(k.comment?k.comment+=`
`+R.comment:k.comment=R.comment);const P=new yl(k,I);if(n.options.keepSourceTokens&&(P.srcToken=v),s){const N=u;mMe(n,N.items,k)&&i(T,"DUPLICATE_KEY","Map keys must be unique"),N.items.push(P)}else{const N=new bc(n.schema);N.flow=!0,N.items.push(P);const M=(I??k).range;N.range=[k.range[0],M[1],M[2]],u.items.push(N)}d=I?I.range[2]:R.end}}const f=s?"}":"]",[h,...m]=r.end;let p=d;if(h&&h.source===f)p=h.offset+h.source.length;else{const g=a[0].toUpperCase()+a.substring(1),v=c?`${g} must end with a ${f}`:`${g} in block collection must be sufficiently indented and end with a ${f}`;i(d,c?"MISSING_CHAR":"BAD_INDENT",v),h&&h.source.length!==1&&m.unshift(h)}if(m.length>0){const g=nA(m,p,n.options.strict,i);g.comment&&(u.comment?u.comment+=`
`+g.comment:u.comment=g.comment),u.range=[r.offset,p,g.offset]}else u.range=[r.offset,p,p];return u}function EB(e,t,n,r,i,o){const s=n.type==="block-map"?hGt(e,t,n,r,o):n.type==="block-seq"?pGt(e,t,n,r,o):mGt(e,t,n,r,o),a=s.constructor;return i==="!"||i===a.tagName?(s.tag=a.tagName,s):(i&&(s.tag=i),s)}function gGt(e,t,n,r,i){const o=r.tag,s=o?t.directives.tagName(o.source,f=>i(o,"TAG_RESOLVE_FAILED",f)):null;if(n.type==="block-seq"){const{anchor:f,newlineAfterProp:h}=r,m=f&&o?f.offset>o.offset?f:o:f??o;m&&(!h||h.offset<m.offset)&&i(m,"MISSING_CHAR","Missing newline after block sequence props")}const a=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!o||!s||s==="!"||s===bc.tagName&&a==="map"||s===yb.tagName&&a==="seq")return EB(e,t,n,i,s);let l=t.schema.tags.find(f=>f.tag===s&&f.collection===a);if(!l){const f=t.schema.knownTags[s];if(f&&f.collection===a)t.schema.tags.push(Object.assign({},f,{default:!1})),l=f;else return f?i(o,"BAD_COLLECTION_TYPE",`${f.tag} used for ${a} collection, but expects ${f.collection??"scalar"}`,!0):i(o,"TAG_RESOLVE_FAILED",`Unresolved tag: ${s}`,!0),EB(e,t,n,i,s)}const u=EB(e,t,n,i,s,l),c=l.resolve?.(u,f=>i(o,"TAG_RESOLVE_FAILED",f),t.options)??u,d=No(c)?c:new Jn(c);return d.range=u.range,d.tag=s,l?.format&&(d.format=l.format),d}function yGt(e,t,n){const r=t.offset,i=vGt(t,e.options.strict,n);if(!i)return{value:"",type:null,comment:"",range:[r,r,r]};const o=i.mode===">"?Jn.BLOCK_FOLDED:Jn.BLOCK_LITERAL,s=t.source?bGt(t.source):[];let a=s.length;for(let p=s.length-1;p>=0;--p){const g=s[p][1];if(g===""||g==="\r")a=p;else break}if(a===0){const p=i.chomp==="+"&&s.length>0?`
`.repeat(Math.max(1,s.length-1)):"";let g=r+i.length;return t.source&&(g+=t.source.length),{value:p,type:o,comment:i.comment,range:[r,g,g]}}let l=t.indent+i.indent,u=t.offset+i.length,c=0;for(let p=0;p<a;++p){const[g,v]=s[p];if(v===""||v==="\r")i.indent===0&&g.length>l&&(l=g.length);else{g.length<l&&n(u+g.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),i.indent===0&&(l=g.length),c=p,l===0&&!e.atRoot&&n(u,"BAD_INDENT","Block scalar values in collections must be indented");break}u+=g.length+v.length+1}for(let p=s.length-1;p>=a;--p)s[p][0].length>l&&(a=p+1);let d="",f="",h=!1;for(let p=0;p<c;++p)d+=s[p][0].slice(l)+`
`;for(let p=c;p<a;++p){let[g,v]=s[p];u+=g.length+v.length+1;const y=v[v.length-1]==="\r";if(y&&(v=v.slice(0,-1)),v&&g.length<l){const _=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;n(u-v.length-(y?2:1),"BAD_INDENT",_),g=""}o===Jn.BLOCK_LITERAL?(d+=f+g.slice(l)+v,f=`
`):g.length>l||v[0]==="	"?(f===" "?f=`
`:!h&&f===`
`&&(f=`

`),d+=f+g.slice(l)+v,f=`
`,h=!0):v===""?f===`
`?d+=`
`:f=`
`:(d+=f+v,f=" ",h=!1)}switch(i.chomp){case"-":break;case"+":for(let p=a;p<s.length;++p)d+=`
`+s[p][0].slice(l);d[d.length-1]!==`
`&&(d+=`
`);break;default:d+=`
`}const m=r+i.length+t.source.length;return{value:d,type:o,comment:i.comment,range:[r,m,m]}}function vGt({offset:e,props:t},n,r){if(t[0].type!=="block-scalar-header")return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=t[0],o=i[0];let s=0,a="",l=-1;for(let f=1;f<i.length;++f){const h=i[f];if(!a&&(h==="-"||h==="+"))a=h;else{const m=Number(h);!s&&m?s=m:l===-1&&(l=e+f)}}l!==-1&&r(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let u=!1,c="",d=i.length;for(let f=1;f<t.length;++f){const h=t[f];switch(h.type){case"space":u=!0;case"newline":d+=h.source.length;break;case"comment":n&&!u&&r(h,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),d+=h.source.length,c=h.source.substring(1);break;case"error":r(h,"UNEXPECTED_TOKEN",h.message),d+=h.source.length;break;default:{const m=`Unexpected token in block scalar header: ${h.type}`;r(h,"UNEXPECTED_TOKEN",m);const p=h.source;p&&typeof p=="string"&&(d+=p.length)}}}return{mode:o,indent:s,chomp:a,comment:c,length:d}}function bGt(e){const t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),o=[r?.[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let s=1;s<t.length;s+=2)o.push([t[s],t[s+1]]);return o}function wGt(e,t,n){const{offset:r,type:i,source:o,end:s}=e;let a,l;const u=(f,h,m)=>n(r+f,h,m);switch(i){case"scalar":a=Jn.PLAIN,l=xGt(o,u);break;case"single-quoted-scalar":a=Jn.QUOTE_SINGLE,l=CGt(o,u);break;case"double-quoted-scalar":a=Jn.QUOTE_DOUBLE,l=_Gt(o,u);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[r,r+o.length,r+o.length]}}const c=r+o.length,d=nA(s,c,t,n);return{value:l,type:a,comment:d.comment,range:[r,c,d.offset]}}function xGt(e,t){let n="";switch(e[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${e[0]}`;break}case"@":case"`":{n=`reserved character ${e[0]}`;break}}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),gMe(e)}function CGt(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),gMe(e.slice(1,-1)).replace(/''/g,"'")}function gMe(e){let t,n;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=t.exec(e);if(!r)return e;let i=r[1],o=" ",s=t.lastIndex;for(n.lastIndex=s;r=n.exec(e);)r[1]===""?o===`
`?i+=o:o=`
`:(i+=o+r[1],o=" "),s=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=s,r=a.exec(e),i+o+(r?.[1]??"")}function _Gt(e,t){let n="";for(let r=1;r<e.length-1;++r){const i=e[r];if(!(i==="\r"&&e[r+1]===`
`))if(i===`
`){const{fold:o,offset:s}=EGt(e,r);n+=o,r=s}else if(i==="\\"){let o=e[++r];const s=SGt[o];if(s)n+=s;else if(o===`
`)for(o=e[r+1];o===" "||o==="	";)o=e[++r+1];else if(o==="\r"&&e[r+1]===`
`)for(o=e[++r+1];o===" "||o==="	";)o=e[++r+1];else if(o==="x"||o==="u"||o==="U"){const a={x:2,u:4,U:8}[o];n+=TGt(e,r+1,a,t),r+=a}else{const a=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(i===" "||i==="	"){const o=r;let s=e[r+1];for(;s===" "||s==="	";)s=e[++r+1];s!==`
`&&!(s==="\r"&&e[r+2]===`
`)&&(n+=r>o?e.slice(o,r+1):i)}else n+=i}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}function EGt(e,t){let n="",r=e[t+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&e[t+2]!==`
`);)r===`
`&&(n+=`
`),t+=1,r=e[t+1];return n||(n=" "),{fold:n,offset:t}}const SGt={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function TGt(e,t,n,r){const i=e.substr(t,n),s=i.length===n&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(s)){const a=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(s)}function yMe(e,t,n,r){const{value:i,type:o,comment:s,range:a}=t.type==="block-scalar"?yGt(e,t,r):wGt(t,e.options.strict,r),l=n?e.directives.tagName(n.source,d=>r(n,"TAG_RESOLVE_FAILED",d)):null;let u;e.options.stringKeys&&e.atKey?u=e.schema[Nh]:l?u=kGt(e.schema,i,l,n,r):t.type==="scalar"?u=AGt(e,i,t,r):u=e.schema[Nh];let c;try{const d=u.resolve(i,f=>r(n??t,"TAG_RESOLVE_FAILED",f),e.options);c=Oi(d)?d:new Jn(d)}catch(d){const f=d instanceof Error?d.message:String(d);r(n??t,"TAG_RESOLVE_FAILED",f),c=new Jn(i)}return c.range=a,c.source=i,o&&(c.type=o),l&&(c.tag=l),u.format&&(c.format=u.format),s&&(c.comment=s),c}function kGt(e,t,n,r,i){if(n==="!")return e[Nh];const o=[];for(const a of e.tags)if(!a.collection&&a.tag===n)if(a.default&&a.test)o.push(a);else return a;for(const a of o)if(a.test?.test(t))return a;const s=e.knownTags[n];return s&&!s.collection?(e.tags.push(Object.assign({},s,{default:!1,test:void 0})),s):(i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),e[Nh])}function AGt({atKey:e,directives:t,schema:n},r,i,o){const s=n.tags.find(a=>(a.default===!0||e&&a.default==="key")&&a.test?.test(r))||n[Nh];if(n.compat){const a=n.compat.find(l=>l.default&&l.test?.test(r))??n[Nh];if(s.tag!==a.tag){const l=t.tagString(s.tag),u=t.tagString(a.tag),c=`Value may be parsed as either ${l} or ${u}`;o(i,"TAG_RESOLVE_FAILED",c,!0)}}return s}function RGt(e,t,n){if(t){n??(n=t.length);for(let r=n-1;r>=0;--r){let i=t[r];switch(i.type){case"space":case"comment":case"newline":e-=i.source.length;continue}for(i=t[++r];i?.type==="space";)e+=i.source.length,i=t[++r];break}}return e}const IGt={composeNode:vMe,composeEmptyNode:Pee};function vMe(e,t,n,r){const i=e.atKey,{spaceBefore:o,comment:s,anchor:a,tag:l}=n;let u,c=!0;switch(t.type){case"alias":u=DGt(e,t,r),(a||l)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":u=yMe(e,t,l,r),a&&(u.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":u=gGt(IGt,e,t,n,r),a&&(u.anchor=a.source.substring(1));break;default:{const d=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;r(t,"UNEXPECTED_TOKEN",d),u=Pee(e,t.offset,void 0,null,n,r),c=!1}}return a&&u.anchor===""&&r(a,"BAD_ALIAS","Anchor cannot be an empty string"),i&&e.options.stringKeys&&(!Oi(u)||typeof u.value!="string"||u.tag&&u.tag!=="tag:yaml.org,2002:str")&&r(l??t,"NON_STRING_KEY","With stringKeys, all keys must be strings"),o&&(u.spaceBefore=!0),s&&(t.type==="scalar"&&t.source===""?u.comment=s:u.commentBefore=s),e.options.keepSourceTokens&&c&&(u.srcToken=t),u}function Pee(e,t,n,r,{spaceBefore:i,comment:o,anchor:s,tag:a,end:l},u){const c={type:"scalar",offset:RGt(t,n,r),indent:-1,source:""},d=yMe(e,c,a,u);return s&&(d.anchor=s.source.substring(1),d.anchor===""&&u(s,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(d.spaceBefore=!0),o&&(d.comment=o,d.range[2]=l),d}function DGt({options:e},{offset:t,source:n,end:r},i){const o=new wee(n.substring(1));o.source===""&&i(t,"BAD_ALIAS","Alias cannot be an empty string"),o.source.endsWith(":")&&i(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const s=t+n.length,a=nA(r,s,e.strict,i);return o.range=[t,s,a.offset],a.comment&&(o.comment=a.comment),o}function PGt(e,t,{offset:n,start:r,value:i,end:o},s){const a=Object.assign({_directives:t},e),l=new f$(void 0,a),u={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},c=Yx(r,{indicator:"doc-start",next:i??o?.[0],offset:n,onError:s,parentIndent:0,startOnNewline:!0});c.found&&(l.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!c.hasNewline&&s(c.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=i?vMe(u,i,c,s):Pee(u,c.end,r,null,c,s);const d=l.contents.range[2],f=nA(o,d,!1,s);return f.comment&&(l.comment=f.comment),l.range=[n,d,f.offset],l}function hE(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+(typeof n=="string"?n.length:1)]}function Uge(e){let t="",n=!1,r=!1;for(let i=0;i<e.length;++i){const o=e[i];switch(o[0]){case"#":t+=(t===""?"":r?`

`:`
`)+(o.substring(1)||" "),n=!0,r=!1;break;case"%":e[i+1]?.[0]!=="#"&&(i+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:t,afterEmptyLine:r}}class OGt{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,i,o)=>{const s=hE(n);o?this.warnings.push(new fGt(s,r,i)):this.errors.push(new sS(s,r,i))},this.directives=new nl({version:t.version||"1.2"}),this.options=t}decorate(t,n){const{comment:r,afterEmptyLine:i}=Uge(this.prelude);if(r){const o=t.contents;if(n)t.comment=t.comment?`${t.comment}
${r}`:r;else if(i||t.directives.docStart||!o)t.commentBefore=r;else if(Oo(o)&&!o.flow&&o.items.length>0){let s=o.items[0];jo(s)&&(s=s.key);const a=s.commentBefore;s.commentBefore=a?`${r}
${a}`:r}else{const s=o.commentBefore;o.commentBefore=s?`${r}
${s}`:r}}n?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Uge(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,n=!1,r=-1){for(const i of t)yield*this.next(i);yield*this.end(n,r)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(n,r,i)=>{const o=hE(t);o[0]+=n,this.onError(o,"BAD_DIRECTIVE",r,i)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const n=PGt(this.options,this.directives,t,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const n=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,r=new sS(hE(t),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new sS(hE(t),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=nA(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new sS(hE(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const r=Object.assign({_directives:this.directives},this.options),i=new f$(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,n,n],this.decorate(i,!1),yield i}}}const bMe="\uFEFF",wMe="",xMe="",Nq="";function NGt(e){switch(e){case bMe:return"byte-order-mark";case wMe:return"doc-mode";case xMe:return"flow-error-end";case Nq:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function cd(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const Hge=new Set("0123456789ABCDEFabcdef"),MGt=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),uD=new Set(",[]{}"),$Gt=new Set(` ,[]{}
\r	`),SB=e=>!e||$Gt.has(e);class LGt{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,n=!1){if(t){if(typeof t!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null}this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let t=this.pos,n=this.buffer[t];for(;n===" "||n==="	";)n=this.buffer[++t];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let n=this.buffer[t];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+t];if(n==="\r"){const i=this.buffer[r+t+1];if(i===`
`||!i&&!this.atEnd)return t+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?t+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(t,3);if((r==="---"||r==="...")&&cd(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===bMe&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let n=t.length,r=t.indexOf("#");for(;r!==-1;){const o=t[r-1];if(o===" "||o==="	"){n=r-1;break}else r=t.indexOf("#",r+1)}for(;;){const o=t[n-1];if(o===" "||o==="	")n-=1;else break}const i=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-n),yield*this.pushNewline(),"stream"}return yield wMe,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&cd(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!cd(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&cd(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(t===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(t[n]){case"#":yield*this.pushCount(t.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(SB),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,n,r=-1;do t=yield*this.pushNewline(),t>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(t+n>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&i[0]!=="#"||r===0&&(i.startsWith("---")||i.startsWith("..."))&&cd(i[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield xMe,yield*this.parseLineStart();let o=0;for(;i[o]===",";)o+=yield*this.pushCount(1),o+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(o+=yield*this.pushIndicators(),i[o]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(SB),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const s=this.charAt(1);if(this.flowKey||cd(s)||s===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let n=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let o=0;for(;this.buffer[n-1-o]==="\\";)o+=1;if(o%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let i=r.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const o=this.continueScalar(i+1);if(o===-1)break;i=r.indexOf(`
`,o)}i!==-1&&(n=i-(r[i-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const n=this.buffer[++t];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>cd(n)||n==="#")}*parseBlockScalar(){let t=this.pos-1,n=0,r;e:for(let o=this.pos;r=this.buffer[o];++o)switch(r){case" ":n+=1;break;case`
`:t=o,n=0;break;case"\r":{const s=this.buffer[o+1];if(!s&&!this.atEnd)return this.setNext("block-scalar");if(s===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const o=this.continueScalar(t+1);if(o===-1)break;t=this.buffer.indexOf(`
`,o)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}let i=t+1;for(r=this.buffer[i];r===" ";)r=this.buffer[++i];if(r==="	"){for(;r==="	"||r===" "||r==="\r"||r===`
`;)r=this.buffer[++i];t=i-1}else if(!this.blockScalarKeep)do{let o=t-1,s=this.buffer[o];s==="\r"&&(s=this.buffer[--o]);const a=o;for(;s===" ";)s=this.buffer[--o];if(s===`
`&&o>=this.pos&&o+1+n>a)t=o;else break}while(!0);return yield Nq,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,i;for(;i=this.buffer[++r];)if(i===":"){const o=this.buffer[r+1];if(cd(o)||t&&uD.has(o))break;n=r}else if(cd(i)){let o=this.buffer[r+1];if(i==="\r"&&(o===`
`?(r+=1,i=`
`,o=this.buffer[r+1]):n=r),o==="#"||t&&uD.has(o))break;if(i===`
`){const s=this.continueScalar(r+1);if(s===-1)break;r=Math.max(r,s-2)}}else{if(t&&uD.has(i))break;n=r}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield Nq,yield*this.pushToIndex(n+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,n){const r=this.buffer.slice(this.pos,t);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(SB))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,n=this.charAt(1);if(cd(n)||t&&uD.has(n))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,n=this.buffer[t];for(;!cd(n)&&n!==">";)n=this.buffer[++t];return yield*this.pushToIndex(n===">"?t+1:t,!1)}else{let t=this.pos+1,n=this.buffer[t];for(;n;)if(MGt.has(n))n=this.buffer[++t];else if(n==="%"&&Hge.has(this.buffer[t+1])&&Hge.has(this.buffer[t+2]))n=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||t&&r==="	");const i=n-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=n),i}*pushUntil(t){let n=this.pos,r=this.buffer[n];for(;!t(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class FGt{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let n=0,r=this.lineStarts.length;for(;n<r;){const o=n+r>>1;this.lineStarts[o]<t?n=o+1:r=o}if(this.lineStarts[n]===t)return{line:n+1,col:1};if(n===0)return{line:0,col:t};const i=this.lineStarts[n-1];return{line:n,col:t-i+1}}}}function Dg(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function qge(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function CMe(e){switch(e?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function cD(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function X1(e){if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;e[++t]?.type==="space";);return e.splice(t,e.length)}function Vge(e){if(e.start.type==="flow-seq-start")for(const t of e.items)t.sep&&!t.value&&!Dg(t.start,"explicit-key-ind")&&!Dg(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,CMe(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class jGt{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new LGt,this.onNewLine=t}*parse(t,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(t,n))yield*this.next(r);n||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const n=NGt(t);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const r=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const n=t??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&Vge(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const i=r.items[r.items.length-1];if(i.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=n;else{Object.assign(i,{key:n,sep:[]}),this.onKeyLine=!i.explicitKey;return}break}case"block-seq":{const i=r.items[r.items.length-1];i.value?r.items.push({start:[],value:n}):i.value=n;break}case"flow-collection":{const i=r.items[r.items.length-1];!i||i.value?r.items.push({start:[],key:n,sep:[]}):i.sep?i.value=n:Object.assign(i,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const i=n.items[n.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&qge(i.start)===-1&&(n.indent===0||i.start.every(o=>o.type!=="comment"||o.indent<n.indent))&&(r.type==="document"?r.end=i.start:r.items.push({start:i.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{qge(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const n=this.startBlockValue(t);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const n=cD(this.peek(2)),r=X1(n);let i;t.end?(i=t.end,i.push(this.sourceToken),delete t.end):i=[this.sourceToken];const o={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:r,key:t,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){const n=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const r=!this.onKeyLine&&this.indent===t.indent,i=r&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let o=[];if(i&&n.sep&&!n.value){const s=[];for(let a=0;a<n.sep.length;++a){const l=n.sep[a];switch(l.type){case"newline":s.push(a);break;case"space":break;case"comment":l.indent>t.indent&&(s.length=0);break;default:s.length=0}}s.length>=2&&(o=n.sep.splice(s[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(o.push(this.sourceToken),t.items.push({start:o}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):i||n.value?(o.push(this.sourceToken),t.items.push({start:o,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Dg(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(CMe(n.key)&&!Dg(n.sep,"newline")){const s=X1(n.start),a=n.key,l=n.sep;l.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:a,sep:l}]})}else o.length>0?n.sep=n.sep.concat(o,this.sourceToken):n.sep.push(this.sourceToken);else if(Dg(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const s=X1(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?t.items.push({start:o,key:null,sep:[this.sourceToken]}):Dg(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);i||n.value?(t.items.push({start:o,key:s,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(s):(Object.assign(n,{key:s,sep:[]}),this.onKeyLine=!0);return}default:{const s=this.startBlockValue(t);if(s){if(s.type==="block-seq"){if(!n.explicitKey&&n.sep&&!Dg(n.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else r&&t.items.push({start:o});this.stack.push(s);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){const n=t.items[t.items.length-1];switch(this.type){case"newline":if(n.value){const r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=t.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;n.value||Dg(n.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>t.indent){const r=this.startBlockValue(t);if(r){this.stack.push(r);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const n=t.items[t.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?t.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!n||n.value?t.items.push({start:[],key:i,sep:[]}):n.sep?this.stack.push(i):Object.assign(n,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const r=this.startBlockValue(t);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===t.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const i=cD(r),o=X1(i);Vge(t);const s=t.end.splice(1,t.end.length);s.push(this.sourceToken);const a={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:o,key:t,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=cD(t),r=X1(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=cD(t),r=X1(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,n){return this.type!=="comment"||this.indent<=n?!1:t.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function BGt(e){const t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new FGt||null,prettyErrors:t}}function zGt(e,t={}){const{lineCounter:n,prettyErrors:r}=BGt(t),i=new jGt(n?.addNewLine),o=new OGt(t);let s=null;for(const a of o.compose(i.parse(e),!0,e.length))if(!s)s=a;else if(s.options.logLevel!=="silent"){s.errors.push(new sS(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(s.errors.forEach(Bge(e,n)),s.warnings.forEach(Bge(e,n))),s}const UGt="#/definitions/StudyConfig",HGt="http://json-schema.org/draft-07/schema#",qGt=JSON.parse('{"Answer":{"additionalProperties":false,"description":"The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks or if skip logic is required based on the answer.\\n\\nAnswers are used to defined correct answers for a task. These are generally used in training tasks or if skip logic is required based on the answer. The answer field is used to define the correct answer to the question. The acceptableLow and acceptableHigh fields are used to define a range of acceptable answers (these are currently only used for training). For example, if the correct answer is 5, and the acceptableLow is 4 and the acceptableHigh is 6, then any answer between 4 and 6 will be considered correct.\\n\\nHere\'s an example of how to use the Answer interface to define the correct answer to a question:\\n\\n```js { \\"type\\": \\"markdown\\", \\"path\\": \\"<study-name>/assets/question.md\\", \\"response\\": [  {    \\"id\\": \\"response1\\",    \\"prompt\\": \\"What is 2 + 2?\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"numerical\\"  } ] \\"correctAnswer\\": [{  \\"id\\": \\"response1\\",  \\"answer\\": 4 }] } ```\\n\\nIn this example, the correct answer to the question \\"What is 2 + 2?\\" is 4. If the participant answers 4, they will be considered correct. If they answer anything other than 4, they will be considered incorrect.","properties":{"acceptableHigh":{"description":"The acceptable high value for the answer. This is used to define a range of acceptable answers.","type":"number"},"acceptableLow":{"description":"The acceptable low value for the answer. This is used to define a range of acceptable answers.","type":"number"},"answer":{"description":"The correct answer to the question."},"id":{"description":"The id of the answer. This is used to identify the answer in the data file.","type":"string"}},"required":["id","answer"],"type":"object"},"BaseComponents":{"additionalProperties":{"additionalProperties":false,"properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"anyOf":[{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"}],"description":"The parameters that are passed to the react component. These can be used within your react component to render different things."},"path":{"anyOf":[{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"}],"description":"The path to the markdown file. This should be a relative path from the public folder."},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"enum":["markdown","react-component","image","website","questionnaire","vega","video"],"type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"type":"object"},"description":"The baseComponents is an optional set of components which can help template other components. For example, suppose you have a single HTML file that you want to display to the user several times. Instead of having the same component twice in the `components` list, you can have a single baseComponent with all the information that the two HTML components will share. A great example is showing the same HTML component but with two different questions;\\n\\n Using baseComponents:\\n\\n```js \\"baseComponents\\": { \\"my-image-component\\": { \\"instructionLocation\\": \\"sidebar\\", \\"nextButtonLocation\\": \\"sidebar\\", \\"path\\": \\"<study-name>/assets/my-image.jpg\\", \\"response\\": [   {     \\"id\\": \\"my-image-id\\",     \\"options\\": [\\"Europe\\", \\"Japan\\", \\"USA\\"],     \\"prompt\\": \\"Your Selected Answer:\\",     \\"type\\": \\"dropdown\\"   } ], \\"type\\": \\"image\\" } } ``` In the above code snippet, we have a single base component which holds the information about the type of component, the path to the image, and the response (which is a dropdown containing three choices). Any component which contains the `\\"baseComponent\\":\\"my-image-component\\"` key-value pair will inherit each of these properties. Thus, if we have three different questions which have the same choices and are concerning the same image, we can define our components like below: ```js \\"components\\": { \\"q1\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with largest GDP\\", \\"instruction\\": \\"Which region has the largest GDP?\\" }, \\"q2\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with lowest GDP\\", \\"instruction\\": \\"Which region has the lowest GDP?\\" }, \\"q3\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with highest exports of Wheat\\", \\"instruction\\": \\"Which region had the most Wheat exported in 2022?\\" } } ```","type":"object"},"BrowserRules":{"additionalProperties":false,"description":"Rules specifying which browsers and their minimum versions the study supports.","properties":{"allowed":{"description":"List of browser types and their minimum version to support.","items":{"$ref":"#/definitions/UserBrowser"},"type":"array"},"blockedMessage":{"description":"Optional message to be displayed when browser criterias are not met.","type":"string"}},"required":["allowed"],"type":"object"},"ButtonsResponse":{"additionalProperties":false,"description":"The ButtonsResponse interface is used to define the properties of a buttons response. ButtonsResponses render as a list of buttons that the participant can click. When a button is clicked, the value of the button is stored in the data file. Participants can cycle through the options using the arrow keys.\\n\\nExample: ```js {   \\"id\\": \\"buttonsResponse\\",   \\"type\\": \\"buttons\\",   \\"prompt\\": \\"Click a button\\",   \\"location\\": \\"belowStimulus\\",   \\"options\\": [     \\"Option 1\\",     \\"Option 2\\",     \\"Option 3\\"   ] } ``` In this example, the participant can click one of the buttons labeled \\"Option 1\\", \\"Option 2\\", or \\"Option 3\\".","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"optionOrder":{"description":"The order in which the buttons are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"buttons","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"CheckboxResponse":{"additionalProperties":false,"description":"The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.\\n\\n```js { \\"id\\": \\"q7\\", \\"prompt\\": \\"Checkbox example (not required)\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"checkbox\\", \\"options\\": [\\"Option 1\\", \\"Option 2\\", \\"Option 3\\"] } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"horizontal":{"description":"Whether to render the checkboxes horizontally. Defaults to false, so they render horizontally.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"maxSelections":{"description":"The maximum number of selections that are required.","type":"number"},"minSelections":{"description":"The minimum number of selections that are required.","type":"number"},"optionOrder":{"description":"The order in which the checkboxes are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"description":"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"checkbox","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"},"withOther":{"description":"Whether to render the checkboxes with an \\"other\\" option.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"ComponentBlock":{"additionalProperties":false,"description":"The ComponentBlock interface is used to define order properties within the sequence. This is used to define the order of components in a study and the skip logic. It supports random assignment of trials using a pure random assignment and a [latin square](https://en.wikipedia.org/wiki/Latin_square).\\n\\nThe pure random assignment is a random assignment with no guarantees. For example, one component _could_ show up in the first position 10 times in a row. However, this situation is unlikely.\\n\\nHere\'s a snippet that shows how to use the random order:\\n\\n```js { \\"order\\": \\"random\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ``` This snippet would produce a random order of the components in the sequence array. For example, the resulting sequence array could be :\\n\\n```js [ [\\"component2\\", \\"component3\\", \\"component1\\"], [\\"component1\\", \\"component3\\", \\"component2\\"], [\\"component3\\", \\"component1\\", \\"component2\\"], ... ] ```\\n\\nThe latin square assignment is a random assignment with some guarantees. It ensures that each component is shown an equal number of times in each position. Here\'s a snippet that shows how to use the latin square order:\\n\\n```js { \\"order\\": \\"latinSquare\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ```\\n\\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component2\\", \\"component3\\", \\"component1\\"], [\\"component3\\", \\"component1\\", \\"component2\\"], ... ] ```\\n\\nThe fixed assignment is a fixed assignment of components. This is used when you want to show the components in a specific order. Here\'s a snippet that shows how to use the fixed order:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ```\\n\\nThis snippet would produce a fixed order of the components in the sequence array. The resulting sequence array would be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component1\\", \\"component2\\", \\"component3\\"], ... ] ```\\n\\nIn addition to the order property, the ComponentBlock interface also includes the `\\"numSamples\\"` property. This is used to reduce the number of components shown to a participant. This property respects the order property and the guarantees provided by the order property. For example, if you have three components in the components array and you set `\\"numSamples\\"` to 2, you would randomize across the three components while only showing a participant two of them. Here\'s a snippet that shows how to use the numSamples property:\\n\\n```js { \\"order\\": \\"latinSquare\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ], \\"numSamples\\": 2 } ```\\n\\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\"], [\\"component2\\", \\"component3\\"], [\\"component3\\", \\"component1\\"], ... ] ```\\n\\nThe interruptions property specifies an array of interruptions. These can be used for breaks or attention checks. Interruptions can be deterministic or random. Please see [InterruptionBlock](../../type-aliases/InterruptionBlock) for more specific information.\\n\\nThe skip property is used to define skip conditions. This is used to skip to a different component or block based on the response to a component or the number of correct or incorrect responses in a block. Please see [SkipConditions](../../type-aliases/SkipConditions) for more specific information.","properties":{"components":{"description":"The components that are included in the order.","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/ComponentBlock"},{"$ref":"#/definitions/DynamicBlock"}]},"type":"array"},"conditional":{"description":"The conditional property shows the block only when the URL condition matches its `id`.","type":"boolean"},"id":{"description":"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.","type":"string"},"interruptions":{"description":"The interruptions property specifies an array of interruptions. These can be used for breaks or attention checks.","items":{"$ref":"#/definitions/InterruptionBlock"},"type":"array"},"numSamples":{"description":"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.","type":"number"},"order":{"description":"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.","enum":["random","latinSquare","fixed"],"type":"string"},"skip":{"$ref":"#/definitions/SkipConditions","description":"The skip conditions for the block."}},"required":["order","components"],"type":"object"},"ComponentBlockCondition":{"additionalProperties":false,"description":"The ComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect components in a block. All answers on all components in the block are checked.\\n\\nAnswers are checked against the correct answers defined in the IndividualComponent\'s [CorrectAnswer](../Answer). If no correct answers are defined, the component is considered correct by default.\\n\\nYou might use this if a participant answers two questions in a block incorrectly. Here\'s an example of how to use the ComponentBlockCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"check\\": \\"block\\",   \\"condition\\": \\"numIncorrect\\",   \\"value\\": 2,   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, when the number of components with incorrect responses in the block is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.\\n\\nWhen the condition is met, the participant will immediately be redirected to the component or block specified in the `\\"to\\"` property. If no conditions are met, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"block","description":"The check we\'ll perform.","type":"string"},"condition":{"description":"The condition to check.","enum":["numCorrect","numIncorrect"],"type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The number of correct or incorrect responses to check for.","type":"number"}},"required":["check","condition","value","to"],"type":"object"},"ConfigResponseBlockLocation":{"enum":["sidebar","aboveStimulus","belowStimulus"],"type":"string"},"DeterministicInterruption":{"additionalProperties":false,"description":"The DeterministicInterruption interface is used to define an interruption that will be shown at a specific location in the block.\\n\\nFor example, if you want to show an interruption after the second component in the block, you would set firstLocation to 2. If you want to show an interruption after every 3 components, you would set spacing to 3. If you want to show an interruption after the second component and then every 3 components, you would set firstLocation to 2 and spacing to 3.\\n\\nThe components property is an array of the components that will be inserted at the location specified by firstLocation and spacing. These components should reference components in the StudyConfig.components section of the config.\\n\\nHere\'s an example of how to use the DeterministicInterruption:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"component6\\" ], \\"interruptions\\": [ {   \\"firstLocation\\": 2,   \\"spacing\\": 3,   \\"components\\": [     \\"interruption1\\",     \\"interruption2\\"   ] } ] } ```\\n\\nThe resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], ... ] ```","properties":{"components":{"description":"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.","items":{"type":"string"},"type":"array"},"firstLocation":{"description":"The Location of the first instance of the interruption. If this is set to 2, the interruption will be shown after the second component (inserted at index 2).","type":"number"},"spacing":{"description":"The number of components between breaks.","type":"number"}},"required":["firstLocation","spacing","components"],"type":"object"},"DeviceRules":{"additionalProperties":false,"description":"Rules specifying which device types the study supports.","properties":{"allowed":{"description":"List of device types to support.","items":{"$ref":"#/definitions/UserDevice"},"type":"array"},"blockedMessage":{"description":"Optional message to be displayed when device criterias are not met.","type":"string"}},"required":["allowed"],"type":"object"},"DisplayRules":{"additionalProperties":false,"description":"Rules specifying which minimum screen dimensions for the study.","properties":{"minHeight":{"description":"The minimum screen width size for the study","type":"number"},"minWidth":{"description":"The minimum screen height size for the study","type":"number"}},"required":["minHeight","minWidth"],"type":"object"},"DividerResponse":{"additionalProperties":false,"properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"not":{}},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"not":{}},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"not":{}},"prompt":{"not":{}},"required":{"not":{}},"requiredLabel":{"not":{}},"requiredValue":{"not":{}},"secondaryText":{"not":{}},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"divider","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"not":{}}},"required":["id","type"],"type":"object"},"DropdownResponse":{"additionalProperties":false,"description":"The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.\\n\\nExample: ```js { \\"id\\": \\"q-color\\", \\"prompt\\": \\"What is your favorite color?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"dropdown\\", \\"placeholder\\": \\"Please choose your favorite color\\", \\"options\\": [\\"Red\\", \\"Blue\\"] } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"maxSelections":{"description":"The maximum number of selections that are required. This will make the dropdown a multiselect dropdown.","type":"number"},"minSelections":{"description":"The minimum number of selections that are required. This will make the dropdown a multiselect dropdown.","type":"number"},"options":{"description":"The options that are displayed in the dropdown.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"dropdown","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"DynamicBlock":{"additionalProperties":false,"description":"The DynamicBlock interface is used to define a block where displayed components are controlled by a function. This is useful when you want to generate the sequence based on answers to previous questions or other factors.\\n\\nThe functionPath property is a path to the function that generates the components. This should be a relative path from the src/public folder.\\n\\nHere\'s an example of how to use the DynamicBlock:\\n\\n```js {   \\"id\\": \\"funcBlock\\",   \\"order\\": \\"dynamic\\",   \\"functionPath\\": \\"<study-name>/assets/function.js\\",   \\"parameters\\": {     \\"param1\\": \\"value1\\",     \\"param2\\": \\"value2\\"   } } ```","properties":{"conditional":{"description":"The conditional property shows the block only when the URL condition matches its `id`.","type":"boolean"},"functionPath":{"description":"The path to the function that generates the components. This should be a relative path from the src/public folder.","type":"string"},"id":{"description":"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.","type":"string"},"order":{"const":"dynamic","description":"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.","type":"string"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the function. These can be used within your function to render different things.","type":"object"}},"required":["id","order","functionPath"],"type":"object"},"ImageComponent":{"additionalProperties":false,"description":"The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.\\n\\nFor example, to render an image with a path of `path/to/study/assets/image.jpg` and a max width of 50%, you would use the following snippet: ```js { \\"type\\": \\"image\\", \\"path\\": \\"<study-name>/assets/image.jpg\\", \\"style\\": { \\"maxWidth\\": \\"50%\\" } } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"image","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"IndividualComponent":{"anyOf":[{"$ref":"#/definitions/MarkdownComponent"},{"$ref":"#/definitions/ReactComponent"},{"$ref":"#/definitions/ImageComponent"},{"$ref":"#/definitions/WebsiteComponent"},{"$ref":"#/definitions/QuestionnaireComponent"},{"$ref":"#/definitions/VegaComponent"},{"$ref":"#/definitions/VideoComponent"}]},"IndividualComponentAllResponsesCondition":{"additionalProperties":false,"description":"The IndividualComponentAllResponsesCondition interface is used to define a SkipCondition based on all answers to a specific component. The skip logic will be checked for every component in the block that has the specified name.\\n\\n:::info\\n\\nIf you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.\\n\\n:::\\n\\n\\nHere\'s an example of how to use the IndividualComponentAllResponsesCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"responses\\",   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, if all responses to the component with the ID \\"attentionCheck\\" are correct, the participant will be redirected to the end of the study. If any response is incorrect, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"responses","description":"The check we\'ll perform.","type":"string"},"name":{"description":"The name of the component to check.","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"}},"required":["name","check","to"],"type":"object"},"IndividualComponentSingleResponseCondition":{"additionalProperties":false,"description":"The IndividualComponentSingleResponseCondition interface is used to define a SkipCondition based on a single answer to a specific component. The skip logic will be checked for every component in the block that has the specified name.\\n\\n:::info\\n\\nIf you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.\\n\\n:::\\n\\nFor example, if you want to skip to a different component based on a response to a specific component, you would use the IndividualComponentSingleResponseCondition. Here\'s an example of how to use the IndividualComponentSingleResponseCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"response\\",   \\"responseId\\": \\"attentionCheckResponse\\",   \\"value\\": \\"the right answer\\",   \\"comparison\\": \\"equal\\",   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, we assign our skip logic to the component whose ID is \\"attentionCheck\\". If the answer given to the response \\"attentionCheckResponse\\" is equal to \\"the right answer\\", then the user will be redirected to the end of the study. If the response is _not_ equal to \\"the right answer\\", then the participant will continue to the next component in the sequence.","properties":{"check":{"const":"response","description":"The check we\'ll perform.","type":"string"},"comparison":{"description":"The comparison to use.","enum":["equal","notEqual"],"type":"string"},"name":{"description":"The name of the component to check.","type":"string"},"responseId":{"description":"The response id to check.","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The value to check.","type":["string","number"]}},"required":["name","check","responseId","value","comparison","to"],"type":"object"},"InheritedComponent":{"additionalProperties":false,"description":"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"baseComponent":{"type":"string"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"anyOf":[{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"}],"description":"The parameters that are passed to the react component. These can be used within your react component to render different things."},"path":{"anyOf":[{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"}],"description":"The path to the markdown file. This should be a relative path from the public folder."},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"enum":["markdown","react-component","image","website","questionnaire","vega","video"],"type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"required":["baseComponent"],"type":"object"},"InputRules":{"additionalProperties":false,"description":"Rules specifying which input methods the study supports.","properties":{"allowed":{"description":"List of inputs to support.","items":{"$ref":"#/definitions/UserInput"},"type":"array"},"blockedMessage":{"description":"Optional message to be displayed when input criterias are not met.","type":"string"}},"required":["allowed"],"type":"object"},"InterruptionBlock":{"anyOf":[{"$ref":"#/definitions/DeterministicInterruption"},{"$ref":"#/definitions/RandomInterruption"}],"description":"The InterruptionBlock interface is used to define interruptions in a block. These can be used for breaks or attention checks. Interruptions can be deterministic or random."},"LikertResponse":{"additionalProperties":false,"description":"The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the numItems. For example, numItems: 5 will render 5 radio buttons, and numItems: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as \'Strongly Disagree\' and \'Strongly Agree\'.\\n\\nExample for a five-point Likert Scale:\\n\\n```js { \\"id\\": \\"q-satisfaction\\", \\"prompt\\": \\"Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable).\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"likert\\", \\"leftLabel\\": \\"Not Enjoyable\\", \\"rightLabel\\": \\"Very Enjoyable\\", \\"labelLocation\\": \\"inline\\", \\"numItems\\": 5, \\"start\\": 1, \\"spacing\\": 1 } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"labelLocation":{"description":"The location of the labels. Defaults to inline.","enum":["above","inline","below"],"type":"string"},"leftLabel":{"description":"The left label of the likert scale. E.g Strongly Disagree","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"numItems":{"description":"The number of options to render.","type":"number"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"rightLabel":{"description":"The right label of the likert scale. E.g Strongly Agree","type":"string"},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"spacing":{"description":"The spacing between the options. Defaults to 1.","type":"number"},"start":{"description":"The starting value of the likert scale. Defaults to 1.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"likert","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","numItems","prompt","type"],"type":"object"},"LongTextResponse":{"additionalProperties":false,"description":"The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder. ```js { \\"id\\": \\"q-name\\", \\"prompt\\": \\"What is your first name?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"longText\\", \\"placeholder\\": \\"Please enter your first name\\" } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"longText","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"MarkdownComponent":{"additionalProperties":false,"description":"The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text. Markdown components can have responses (e.g. in a consent form), or no responses (e.g. in a help text file). Here\'s an example with no responses for a simple help text file:\\n\\n```js { \\"type\\": \\"markdown\\", \\"path\\": \\"<study-name>/assets/help.md\\", \\"response\\": [] } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"markdown","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"MatrixResponse":{"additionalProperties":false,"description":"The MatrixResponse interface is used to define the properties of a matrix radio or matrix checkbox response. Question options are rendered as rows of the matrix, each row containing its own radio/checkbox group. Answer options are rendered as column headers of the matrix. These can be customized by passing in the custom strings into the answer options. Alternatively, `answerOptions` can be set to one of the following custom strings: \'satisfaction5\',\'satisfaction7\', \'likely5\', \'likely7\'. This will automatically generate the appropriate headers for the matrix.\\n\\nExample for a 5-scale satisfaction matrix with three questions:\\n\\n```js { \\"id\\": \\"multi-satisfaction\\", \\"prompt\\": \\"Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable) for the following items.\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"matrix-radio\\", \\"answerOptions\\": \\"satisfaction5\\", \\"questionOptions\\": [  \\"The tool we created\\",  \\"The technique we developed\\",  \\"The authors of the tools\\" ] } ```\\n\\nHere\'s an example using custom columns (answerOptions):\\n\\n```js { \\"id\\": \\"multi-custom\\", \\"prompt\\": \\"Which categories do the following items belong to?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"matrix-checkbox\\", \\"answerOptions\\": [  \\"Has Legs\\",  \\"Has Wings\\",  \\"Can Swim\\" ], \\"questionOptions\\": [  \\"Dog\\",  \\"Snake\\",  \\"Eagle\\",  \\"Salmon\\",  \\"Platypus\\" ]\\n\\n} ```","properties":{"answerOptions":{"anyOf":[{"items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},{"const":"likely5","type":"string"},{"const":"likely7","type":"string"},{"const":"satisfaction5","type":"string"},{"const":"satisfaction7","type":"string"}],"description":"The answer options (columns). We provide some shortcuts for a likelihood scale (ranging from highly unlikely to highly likely) and a satisfaction scale (ranging from highly unsatisfied to highly satisfied) with either 5 or 7 options to choose from."},"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"questionOptions":{"description":"The question options (rows) are the prompts for each response you\'d like to record.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"questionOrder":{"description":"The order in which the questions are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"enum":["matrix-radio","matrix-checkbox"],"type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["answerOptions","id","prompt","questionOptions","type"],"type":"object"},"NumberOption":{"additionalProperties":false,"description":"The NumberOption interface is used to define the options for a slider response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.","properties":{"label":{"description":"The label displayed to participants.","type":"string"},"value":{"description":"The value stored in the participant\'s data.","type":"number"}},"required":["label","value"],"type":"object"},"NumericalResponse":{"additionalProperties":false,"description":"The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.\\n\\nExample: ```js { \\"id\\": \\"q-numerical\\", \\"prompt\\": \\"Numerical example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"numerical\\", \\"placeholder\\": \\"Enter your age, range from 0 - 120\\", \\"max\\": 120, \\"min\\": 0 } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"max":{"description":"The maximum value that is accepted in the input.","type":"number"},"min":{"description":"The minimum value that is accepted in the input.","type":"number"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"numerical","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"QuestionnaireComponent":{"additionalProperties":false,"description":"A QuestionnaireComponent is used to render simple questions that require a response. The main use case of this component type is to ask participants questions when you don\'t need to render a stimulus. Please note, that even though we\'re not using a stimulus, the responses still require a `location`. For example this could be used to collect demographic information from a participant using the following snippet:\\n\\n```js { \\"type\\": \\"questionnaire\\", \\"response\\": [  {    \\"id\\": \\"gender\\",    \\"prompt\\": \\"Gender:\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"checkbox\\",    \\"options\\": [\\"Man\\", \\"Woman\\", \\"Genderqueer\\", \\"Third-gender\\", ...]  } ] } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"questionnaire","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["response","type"],"type":"object"},"RadioResponse":{"additionalProperties":false,"description":"The RadioResponse interface is used to define the properties of a radio response. Radios have only one allowable selection. RadioResponses render as a radio input with user specified options, and optionally left and right labels.\\n\\nExample: ```js { \\"id\\": \\"q-radio\\", \\"prompt\\": \\"Radio button example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"radio\\", \\"options\\": [\\"Option 1\\", \\"Option 2, Option 3\\"], \\"optionOrder\\": \\"random\\", \\"leftLabel\\": \\"Left\\", \\"rightLabel\\": \\"Right\\", \\"labelLocation\\": \\"inline\\", \\"horizontal\\": true, \\"withOther\\": true } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"horizontal":{"description":"Whether to render the radio buttons horizontally. Defaults to false, so they render horizontally.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"labelLocation":{"description":"The location of the labels. This only works when horizontal is true. Defaults to inline.","enum":["above","inline","below"],"type":"string"},"leftLabel":{"description":"The left label of the radio group. Used in Likert scales for example","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"optionOrder":{"description":"The order in which the radio buttons are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"description":"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"rightLabel":{"description":"The right label of the radio group. Used in Likert scales for example","type":"string"},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"radio","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"},"withOther":{"description":"Whether to render the radios with an \\"other\\" option.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"RandomInterruption":{"additionalProperties":false,"description":"The RandomInterruption interface is used to define an interruption that will be shown randomly in the block.\\n\\nFor example, if you want to show a single interruption randomly in the block, you would set `\\"spacing\\"` to \\"random\\" and `\\"numInterruptions\\"` to 1. If you want to show 3 interruptions randomly in the block, you would set `\\"spacing\\"` to \\"random\\" and `\\"numInterruptions\\"` to 3.\\n\\nThe components property is an array of the components that will be inserted randomly in the block. These components should reference components in the StudyConfig.components section of the config.\\n\\nHere\'s an example of how to use the RandomInterruption:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"component6\\" ], \\"interruptions\\": [ {   \\"spacing\\": \\"random\\",   \\"numInterruptions\\": 3,   \\"components\\": [     \\"interruption1\\",     \\"interruption2\\"   ] } ] } ```\\n\\nThe resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"interruption1\\", \\"interruption2\\", \\"component2\\", \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption1\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"interruption1\\", \\"interruption2\\", \\"component2\\", \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"component4\\", \\"interruption1\\", \\"interruption2\\", \\"component5\\", \\"component6\\"], [\\"component1\\", \\"component2\\" \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"interruption1\\", \\"interruption2\\", \\"component4\\", \\"component5\\", \\"interruption1\\", \\"interruption2\\", \\"component6\\"], ... ] ```","properties":{"components":{"description":"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.","items":{"type":"string"},"type":"array"},"numInterruptions":{"description":"The number of times the interruption will be randomly added","type":"number"},"spacing":{"const":"random","description":"If spacing is set to random, reVISit will add interruptions randomly. These interruptions will not ever be displayed as the first component in the block.","type":"string"}},"required":["spacing","numInterruptions","components"],"type":"object"},"RankingResponse":{"additionalProperties":false,"description":"The RankingResponse interface is used to define the properties of a ranking widget response. RankingResponses render as a ranking widget with user specified options.\\n\\nThere are three types of ranking widgets: Ranking Sublist: The participant is asked to rank a subset of items from a larger list. Ranking Categorical: The participant is asked to rank items within categories: HIGH, MEDIUM, and LOW. Ranking Pairwise: The participant is asked to rank items by comparing them in pairs.\\n\\n```js { \\"id\\": \\"ranking-sublist\\", \\"type\\": \\"ranking-sublist\\", \\"prompt\\": \\"Rank your top 2 favorite fruits from the list below\\", \\"location\\": \\"belowStimulus\\", \\"options\\": [\\"Apple\\", \\"Banana\\", \\"Orange\\", \\"Strawberry\\", \\"Grapes\\"], \\"numItems\\": 2 }, { \\"id\\": \\"ranking-categorical\\", \\"type\\": \\"ranking-categorical\\", \\"prompt\\": \\"Sort these hobbies into the categories of HIGH, MEDIUM, and LOW based on your level of interest.\\", \\"location\\": \\"belowStimulus\\", \\"options\\": [\\"Drawing\\", \\"Singing\\", \\"Hiking\\", \\"Dancing\\", \\"Photography\\"] }, { \\"id\\": \\"ranking-pairwise\\", \\"type\\": \\"ranking-pairwise\\", \\"prompt\\": \\"Which meal would you prefer\\", \\"location\\": \\"belowStimulus\\", \\"options\\": [\\"Pizza\\", \\"Sushi\\", \\"Burger\\", \\"Pasta\\", \\"Salad\\", \\"Tacos\\"] } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"numItems":{"description":"The number of items to rank. Applies only to sublist and categorical ranking widgets.","type":"number"},"options":{"description":"The options that are displayed as ranking options, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"enum":["ranking-sublist","ranking-categorical","ranking-pairwise"],"type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"ReactComponent":{"additionalProperties":false,"description":"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.\\n\\nUnlike other types of components, the path for a React component is relative to the `src/public/` folder. Similar to our standard assets, we suggest creating a folder named `src/public/{studyName}/assets` to house all of the React component assets for a particular study. Your React component which you link to in the path must be default exported from its file.\\n\\nReact components created this way have a generic prop type passed to the component on render, `<StimulusParams<T>>`, which has the following types.\\n\\n```ts { parameters: T; setAnswer: ({ status, provenanceGraph, answers }: { status: boolean, provenanceGraph?: TrrackedProvenance, answers: Record<string, any> }) => void } ```\\n\\nparameters is the same object passed in from the ReactComponent type below, allowing you to pass options in from the config to your component. setAnswer is a callback function allowing the creator of the ReactComponent to programmatically set the answer, as well as the provenance graph. This can be useful if you don\'t use the default answer interface, and instead have something more unique.\\n\\nSo, for example, if I had the following ReactComponent in my config ```js { type: \'react-component\'; path: \'my_study/CoolComponent.tsx\'; parameters: {  name: \'Zach\';  age: 26; } } ```\\n\\nMy react component, CoolComponent.tsx, would exist in src/public/my_study/assets, and look something like this\\n\\n```ts export default function CoolComponent({ parameters, setAnswer }: StimulusParams<{name: string, age: number}>) { // render something } ```\\n\\nFor in depth examples, see the following studies, and their associated codebases. https://revisit.dev/study/demo-react-trrack (https://github.com/revisit-studies/study/tree/v2.4.0/src/public/demo-react-trrack/assets) https://revisit.dev/study/example-brush-interactions (https://github.com/revisit-studies/study/tree/v2.4.0/src/public/example-brush-interactions/assets)","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},"path":{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"react-component","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"ReactiveResponse":{"additionalProperties":false,"description":"The ReactiveResponse interface is used to define the properties of a reactive response. ReactiveResponses render as a list, that is connected to a WebsiteComponent, VegaComponent, or ReactComponent. When data is sent from the components, it is displayed in the list.\\n\\n```js { \\"id\\": \\"reactiveResponse\\", \\"prompt\\": \\"Answer clicked in the stimulus\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"reactive\\" } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"reactive","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"RepeatedComponentBlockCondition":{"additionalProperties":false,"description":"The RepeatedComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect repeated components. You might use this if you need to check if an attention check was failed multiple times. This is similar to the [ComponentBlockCondition](../ComponentBlockCondition), but it only checks a specific repeated component.\\n\\nHere\'s an example of how to use the RepeatedComponentBlockCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"repeatedComponent\\",   \\"condition\\": \\"numIncorrect\\",   \\"value\\": 2,   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, when the number of incorrect responses to the repeated component with the name \\"attentionCheck\\" is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"repeatedComponent","description":"The check we\'ll perform.","type":"string"},"condition":{"description":"The condition to check.","enum":["numCorrect","numIncorrect"],"type":"string"},"name":{"description":"The name of the repeated component to check (e.g. attentionCheck).","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The number of correct or incorrect responses to check for.","type":"number"}},"required":["name","check","condition","value","to"],"type":"object"},"Response":{"anyOf":[{"$ref":"#/definitions/NumericalResponse"},{"$ref":"#/definitions/ShortTextResponse"},{"$ref":"#/definitions/LongTextResponse"},{"$ref":"#/definitions/LikertResponse"},{"$ref":"#/definitions/DropdownResponse"},{"$ref":"#/definitions/SliderResponse"},{"$ref":"#/definitions/RadioResponse"},{"$ref":"#/definitions/CheckboxResponse"},{"$ref":"#/definitions/RankingResponse"},{"$ref":"#/definitions/ReactiveResponse"},{"$ref":"#/definitions/MatrixResponse"},{"$ref":"#/definitions/ButtonsResponse"},{"$ref":"#/definitions/TextOnlyResponse"},{"$ref":"#/definitions/DividerResponse"}]},"ShortTextResponse":{"additionalProperties":false,"description":"The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.\\n\\n```js { \\"id\\": \\"q-short-text\\", \\"prompt\\": \\"Short text example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"shortText\\", \\"placeholder\\": \\"Enter your answer here\\" } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"shortText","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"SkipConditions":{"description":"The SkipConditions interface is used to define skip conditions. This is used to skip to a different component/block based on the response to a component or based on the number of correct/incorrect responses in a block. Skip conditions work recursively: if you have a nested block, the parent blocks\' skip conditions will be considered when computing the skip logic.\\n\\nSkip conditions are evaluated in the order they are defined in the array. If a condition is met, the participant will be redirected to the component or block specified in the `\\"to\\"` property. If no conditions are met, the participant will continue to the next component in the sequence.\\n\\nSkip conditions allow you to jump to a different component or block. If you intend to skip to a block, you should specify a block id in the sequence. If you intend to skip to a component, you should specify a component id. Skipping backwards is not supported. Skipping to a repeated component will skip to the first instance of the component after the component that triggered the skip.\\n\\nPlease see the interface definitions for more specific information on the different types of skip conditions.","items":{"anyOf":[{"$ref":"#/definitions/IndividualComponentSingleResponseCondition"},{"$ref":"#/definitions/IndividualComponentAllResponsesCondition"},{"$ref":"#/definitions/ComponentBlockCondition"},{"$ref":"#/definitions/RepeatedComponentBlockCondition"}]},"type":"array"},"SliderResponse":{"additionalProperties":false,"description":"The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.\\n\\nExample: ```js { \\"id\\": \\"q-slider\\", \\"prompt\\": \\"How are you feeling?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"slider\\", \\"options\\": [  {    \\"label\\": \\"Bad\\",    \\"value\\": 0  },  {    \\"label\\": \\"OK\\",    \\"value\\": 50  },  {    \\"label\\": \\"Good\\",    \\"value\\": 100  } ] } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"options":{"description":"This defines the steps in the slider and the extent of the slider as an array of objects that have a label and a value.","items":{"$ref":"#/definitions/NumberOption"},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"smeqStyle":{"description":"Whether to render the slider with a SMEQ style. Defaults to false.","type":"boolean"},"snap":{"description":"Whether the slider should snap between values. Defaults to false. Slider snapping disables the label above the handle.","type":"boolean"},"spacing":{"description":"The spacing between the ticks. If not provided, the spacing is the largest power of 10 smaller than the slider range.","type":"number"},"startingValue":{"description":"The starting value of the slider. Defaults to the minimum value.","type":"number"},"step":{"description":"The step value of the slider. If not provided (and snap not enabled), the step value is calculated as the range of the slider divided by 100.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"tlxStyle":{"description":"Whether to render the slider with a NASA-tlx style. Defaults to false.","type":"boolean"},"type":{"const":"slider","type":"string"},"withBar":{"description":"Whether to render the slider with a bar to the left. Defaults to true.","type":"boolean"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"StringOption":{"additionalProperties":false,"description":"The StringOption interface is used to define the options for a dropdown, radio, buttons, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.","properties":{"infoText":{"description":"The description that is displayed when the participant hovers over the option. This does not accept markdown. Applies to responses that use StringOption, including DropdownResponse, RadioResponse, CheckboxResponse, ButtonsResponse, RankingResponse, and MatrixResponse.","type":"string"},"label":{"description":"The label displayed to participants. Markdown is supported.","type":"string"},"value":{"description":"The value stored in the participant\'s data. Defaults to label.","type":"string"}},"required":["label"],"type":"object"},"StudyConfig":{"additionalProperties":false,"description":"The StudyConfig interface is used to define the properties of a study configuration. This is a JSON object with four main components: the StudyMetadata, the UIConfig, the Components, and the Sequence. Below is the general template that should be followed when constructing a Study configuration file.\\n\\n```js { \\"$schema\\": \\"https://raw.githubusercontent.com/revisit-studies/study/v2.4.0/src/parser/StudyConfigSchema.json\\", \\"studyMetadata\\": {  ... }, \\"uiConfig\\": {  ... }, \\"components\\": {  ... }, \\"sequence\\": {  ... } } ```\\n\\n:::info For information about each of the individual pieces of the study configuration file, you can visit the documentation for each one individually. ::: <br/>\\n\\nThe `$schema` line is used to verify the schema. If you\'re using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration.","properties":{"$schema":{"description":"A required json schema property. This should point to the github link for the version of the schema you would like. The `$schema` line is used to verify the schema. If you\'re using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration. See examples for more information","type":"string"},"baseComponents":{"$ref":"#/definitions/BaseComponents","description":"The base components that are used in the study. These components can be used to template other components. See [BaseComponents](../../type-aliases/BaseComponents) for more information."},"components":{"additionalProperties":{"anyOf":[{"$ref":"#/definitions/IndividualComponent"},{"$ref":"#/definitions/InheritedComponent"}]},"description":"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.","type":"object"},"importedLibraries":{"description":"A list of libraries that are used in the study. This is used to import external libraries into the study. Library names are valid namespaces to be used later.","items":{"type":"string"},"type":"array"},"sequence":{"anyOf":[{"$ref":"#/definitions/ComponentBlock"},{"$ref":"#/definitions/DynamicBlock"}],"description":"The order of the components in the study. This might include some randomness."},"studyMetadata":{"$ref":"#/definitions/StudyMetadata","description":"The metadata for the study. This is used to identify the study and version in the data file."},"studyRules":{"$ref":"#/definitions/StudyRules","description":"The study rules for the study. This is used to configure study constraints such as browsers, device sizes, etc."},"uiConfig":{"$ref":"#/definitions/UIConfig","description":"The UI configuration for the study. This is used to configure the UI of the app."}},"required":["$schema","studyMetadata","uiConfig","components","sequence"],"type":"object"},"StudyMetadata":{"additionalProperties":false,"description":"The StudyMetadata is used to describe certain properties of a study. Some of this data is displayed on the landing page when running the app, such as the title and description. Below is an example of a StudyMetadata entry in your study configuration file:\\n\\n```js \\"studyMetadata\\" : { \\"title\\": \\"My New Study\\", \\"version\\": \\"pilot\\", \\"authors\\": [  \\"Jane Doe\\",  \\"John Doe\\" ], \\"date\\": \\"2024-04-01\\", \\"description\\": \\"This study is meant to test your ability.\\", \\"organizations\\": [  \\"The reVISit Team\\",  \\"The Other Team\\" ] } ```","properties":{"authors":{"description":"The authors of your study.","items":{"type":"string"},"type":"array"},"date":{"description":"The date of your study, may be useful for the researcher.","type":"string"},"description":{"description":"The description of your study, shown on the landing page.","type":"string"},"organizations":{"description":"The organizations that are associated with your study.","items":{"type":"string"},"type":"array"},"title":{"description":"The title of your study, shown on the landing page.","type":"string"},"version":{"description":"The version of your study. When you change a configuration file after a study has already been distributed to participants, you can change the version number so that the participants who see this new configuration file can be identified.","type":"string"}},"required":["title","version","authors","date","description","organizations"],"type":"object"},"StudyRules":{"additionalProperties":false,"description":"The StudyRules are used to define a study\'s constraints to determine whether a participant can take the study. If the criteria are not met, a warning message will be displayed. Below is an example of a StudyRules entry in your study configuration file:\\n\\n```js { \\"studyRules\\": {  \\"display\\": {    \\"minHeight\\": 400,    \\"minWidth\\": 800  },  \\"browsers\\": {    \\"allowed\\": [      {        \\"name\\": \\"chrome\\",        \\"minVersion\\": 100      },      {        \\"name\\": \\"firefox\\",        \\"minVersion\\": 100      },      {        \\"name\\": \\"safari\\",        \\"minVersion\\": 10      }    ],    \\"blockedMessage\\": \\"This study can only run in chrome, firefox, or safari. (<-- if blockedMesage is not set, a default message is displayed)\\"  },  \\"devices\\": {    \\"allowed\\": [\\"tablet\\", \\"desktop\\", \\"mobile\\"],    \\"blockedMessage\\": \\"... (<-- if blockedMesage is not set, a default message is displayed)\\"  },  \\"inputs\\": {    \\"allowed\\": [\\"touch\\", \\"mouse\\"],    \\"blockedMessage\\": \\"... (<-- if blockedMesage is not set, a default message is displayed)\\"  } } } ```","properties":{"browsers":{"$ref":"#/definitions/BrowserRules","description":"Browser constraints"},"devices":{"$ref":"#/definitions/DeviceRules","description":"Browser constraints"},"display":{"$ref":"#/definitions/DisplayRules","description":"Display size constraints"},"inputs":{"$ref":"#/definitions/InputRules","description":"Input constraints"}},"type":"object"},"Styles":{"additionalProperties":false,"properties":{"background":{"description":"Background","type":"string"},"backgroundColor":{"type":"string"},"backgroundImage":{"type":"string"},"backgroundPosition":{"type":"string"},"backgroundSize":{"type":"string"},"border":{"description":"Border","type":"string"},"borderRadius":{"type":"string"},"bottom":{"type":"string"},"color":{"description":"Typography","type":"string"},"filter":{"description":"Filter","type":"string"},"font":{"type":"string"},"fontFamily":{"type":"string"},"fontSize":{"type":"string"},"fontStyle":{"enum":["normal","italic","oblique"],"type":"string"},"fontWeight":{"type":["string","number"]},"height":{"description":"Sizing","type":"string"},"left":{"type":"string"},"letterSpacing":{"type":"string"},"lineHeight":{"type":["string","number"]},"margin":{"description":"Spacing","type":"string"},"maxHeight":{"type":"string"},"maxWidth":{"type":"string"},"minHeight":{"type":"string"},"minWidth":{"type":"string"},"padding":{"type":"string"},"position":{"description":"Positioning","enum":["static","relative","absolute","fixed","sticky"],"type":"string"},"right":{"type":"string"},"textAlign":{"enum":["start","center","end","justify","left","right","match-parent"],"type":"string"},"textDecoration":{"enum":["none","underline","overline","line-through","underline-overline"],"type":"string"},"textTransform":{"enum":["capitalize","lowercase","none","uppercase"],"type":"string"},"top":{"type":"string"},"transform":{"description":"Transform","type":"string"},"width":{"type":"string"},"wordSpacing":{"type":"string"}},"type":"object"},"TextOnlyResponse":{"additionalProperties":false,"description":"The TextOnlyResponse interface is used to define the properties of a text only response. TextOnlyResponses render as a block of text that is displayed to the user. This can be used to display instructions or other information. It does not accept any input from the user.\\n\\nExample: ```js {   \\"id\\": \\"textOnlyResponse\\",   \\"type\\": \\"textOnly\\",   \\"prompt\\": \\"This is a text only response, it accepts markdown so you can **bold** or _italicize_ text.\\",   \\"location\\": \\"belowStimulus\\",   \\"restartEnumeration\\": true } ```\\n\\nIn this example, the text only response is displayed below the stimulus and the enumeration of the questions is restarted.","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"not":{}},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"not":{}},"prompt":{"description":"The markdown text that is displayed to the user.","type":"string"},"required":{"not":{}},"requiredLabel":{"not":{}},"requiredValue":{"not":{}},"restartEnumeration":{"description":"Whether to restart the enumeration of the questions. Defaults to false.","type":"boolean"},"secondaryText":{"not":{}},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"textOnly","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"not":{}}},"required":["id","prompt","type"],"type":"object"},"UIConfig":{"additionalProperties":false,"description":"The UIConfig is used to configure the UI of the app. This includes the logo, contact email, and whether to show a progress bar. The UIConfig is also used to configure the sidebar, which can be used to display the task instructions and capture responses. Below is an example of how the UI Config would look in your study configuration (note, there are optional fields that are not shown here): ```js uiConfig:{ \\"contactEmail\\": \\"contact@revisit.dev\\", \\"helpTextPath\\": \\"<study-name>/assets/help.md\\", \\"logoPath\\": \\"<study-name>/assets/logo.jpg\\", \\"withProgressBar\\": true, \\"autoDownloadStudy\\": true \\"autoDownloadTime\\": 5000, \\"studyEndMsg\\": \\"Thank you for completing this study. You\'re the best!\\", \\"withSidebar\\": true, \\"windowEventDebounceTime\\": 500, \\"urlParticipantIdParam\\": \\"PROLIFIC_ID\\", \\"numSequences\\": 500 } ``` In the above, the `<study-name>/assets/` path is referring to the path to your individual study assets. It is common practice to have your study directory contain an `assets` directory where all components and images relevant to your study reside. Note that this path is relative to the `public` folder of the repository - as is all other paths you define in reVISit (aside from React components whose paths are relative to `src/public`.)","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. Defaults to true.","type":"boolean"},"autoDownloadStudy":{"description":"Controls whether the study data is automatically downloaded at the end of the study.","type":"boolean"},"autoDownloadTime":{"description":"The time in milliseconds to wait before automatically downloading the study data.","type":"number"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"contactEmail":{"description":"The email address that used during the study if a participant clicks contact.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions."},"logoPath":{"description":"The path to the logo image. This is displayed on the landing page and the header.","type":"string"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button."},"nextButtonText":{"description":"The text to display on the next button.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. Defaults to false.","type":"boolean"},"numSequences":{"description":"The number of sequences to generate for the study. This is used to generate the random sequences for the study. Defaults to 1000.","type":"number"},"participantNameField":{"description":"The default name field for a participant. Directs revisit to use the task and response id as a name in UI elements. For example, if you wanted the response \'prolificId\' from the task \'introduction\' to be the name, this field would be \'introduction.prolificId\'","type":"string"},"previousButtonText":{"description":"The text that is displayed on the previous button.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. Defaults to false.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If true, will record audio on all components unless deactivated on individual components. Defaults to false.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If true, will record audio on all components unless deactivated on individual components. This must be set to true if you want to record audio on any component in your study. Defaults to false. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before any component that you want to record the screen on to ensure permissions are granted and screen capture has started.","type":"boolean"},"recordScreenFPS":{"description":"Desired fps for recording screen. If possible, this value will be used, but if it\'s not possible, the user agent will use the closest possible match.","type":"number"},"responseDividers":{"description":"Whether to show the response dividers. Defaults to false.","type":"boolean"},"showTitle":{"description":"Controls whether the title should be hidden in the study.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. Defaults to 300.","type":"number"},"studyEndMsg":{"description":"The message to display when the study ends.","type":"string"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"timeoutReject":{"description":"Whether to redirect a timed out participant to a rejection page. This only works for components where the `nextButtonDisableTime` field is set.","type":"boolean"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. The next button will be disabled until either the correct answer is given or the number of attempts is reached. When the number of attempts is reached, if the answer is incorrect still, the correct value will be shown to the participant. The default value is 2. Providing a value of -1 will allow infinite attempts and the participant must enter the correct answer to continue, and reVISit will not show the correct answer to the user.","type":"number"},"urlParticipantIdParam":{"description":"If the participant ID is passed in the URL, this is the name of the querystring parameter that is used to capture the participant ID (e.g. PROLIFIC_ID). This will allow a user to continue a study on different devices and browsers.","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. Defaults to 100. E.g 100 here means 1000ms / 100ms = 10 times a second, 200 here means 1000ms / 200ms = 5 times per second","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered in the study.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question.","type":"boolean"}},"required":["logoPath","contactEmail","withProgressBar","withSidebar"],"type":"object"},"UserBrowser":{"additionalProperties":false,"description":"UserBrowser is used to define a mininum browser requirement for the study to run.","properties":{"minVersion":{"description":"Minimum version of the browser to support.","type":"number"},"name":{"description":"Name of the browser. e.g. chrome, firefox, safari.","type":"string"}},"required":["name"],"type":"object"},"UserDevice":{"enum":["desktop","tablet","mobile"],"type":"string"},"UserInput":{"enum":["mouse","touch"],"type":"string"},"VegaComponent":{"anyOf":[{"$ref":"#/definitions/VegaComponentPath"},{"$ref":"#/definitions/VegaComponentConfig"}]},"VegaComponentConfig":{"additionalProperties":false,"description":"The VegaComponentConfig interface is used to define the properties of a Vega Component. This component is used to render a Vega/Vega-Lite Component by adding Vega/Vega-Lite specs within the reVISit config itself.\\n\\nTo do this, would use the following snippet: ```js { \\"type\\": \\"vega\\", \\"config\\": { ... vega specs here ...}, }\\n\\nIIf you are using Vega, you can use signals with `revisitAnswer` to send the user\'s responses back to the reVISit. For example, you can use the following snippet in your Vega spec\'s signals section: ```js { \\"signals\\": [  {    \\"name\\": \\"revisitAnswer\\",    \\"value\\": {},    \\"on\\": [      {        \\"events\\": \\"rect:click\\",        \\"update\\": \\"{responseId: \'vegaDemoResponse1\', response: datum.category}\\"      }    ]  } ] } In this example, when a user clicks on a rectangle in the Vega chart, the `revisitAnswer` signal is updated with the responseId and response. ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"vega","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["config","response","type"],"type":"object"},"VegaComponentPath":{"additionalProperties":false,"description":"The VegaComponentPath interface is used to define the properties of a Vega Component. This component is used to render a Vega/Vega-Lite Component with path pointing to your Vega/Vega-Lite specs file.\\n\\nFor example, to render a vega based stimuli with a path of `<study-name>/assets/vega.spec.json`, you would use the following snippet: ```js { \\"type\\": \\"vega\\", \\"path\\": \\"<study-name>/assets/vega.spec.json\\", } ```\\n\\nIf you are using Vega, you can use signals with `revisitAnswer` to send the user\'s responses back to the reVISit. For example, you can use the following snippet in your Vega spec file\'s signals section: ```js { \\"signals\\": [  {    \\"name\\": \\"revisitAnswer\\",    \\"value\\": {},    \\"on\\": [      {        \\"events\\": \\"rect:click\\",        \\"update\\": \\"{responseId: \'vegaDemoResponse1\', response: datum.category}\\"      }    ]  } ] } In this example, when a user clicks on a rectangle in the Vega chart, the `revisitAnswer` signal is updated with the responseId and response. This signal is then passed to reVISit as the participant\'s response. ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"vega","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"VideoComponent":{"additionalProperties":false,"description":"The VideoComponent interface is used to define the properties of a video component. This component is used to render a video with optional controls.\\n\\nMost often, video components will be used for trainings, and will have a `forceCompletion` field set to true. This will prevent the participant from moving on until the video has finished playing.\\n\\nAs such, the `forceCompletion` field is set to true by default, and the `withTimeline` field is set to false by default.\\n\\nFor example, to render a training video with a path of `<study-name>/assets/video.mp4`, you would use the following snippet: ```js {   \\"type\\": \\"video\\",   \\"path\\": \\"<study-name>/assets/video.mp4\\", } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"video","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"WebsiteComponent":{"additionalProperties":false,"description":"The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.\\n\\n```js { \\"type\\": \\"website\\", \\"path\\": \\"<study-name>/assets/website.html\\", } ```\\n\\nTo pass a data from the config to the website, you can use the `parameters` field as below:\\n\\n```js { \\"type\\": \\"website\\", \\"path\\": \\"<study-name>/website.html\\", \\"parameters\\": {  \\"barData\\": [0.32, 0.01, 1.2, 1.3, 0.82, 0.4, 0.3] }, \\"response\\": [  {    \\"id\\": \\"barChart\\",    \\"prompt\\": \\"Your selected answer:\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"reactive\\"  } ] } ``` In the `website.html` file, by including `revisit-communicate.js`, you can use the `Revisit.onDataReceive` method to retrieve the data, and `Revisit.postAnswers` to send the user\'s responses back to the reVISit as shown in the example below:\\n\\n```html <script src=\\"../../revisitUtilities/revisit-communicate.js\\"><\/script> <script> Revisit.onDataReceive((data) => {  const barData = data[\'barData\'];  ... });\\n\\n// Call out that \'barChart\' needs to match ID in \'response\' object Revisit.postAnswers({ barChart: userAnswer }); <\/script> ```\\n\\n If the html website implements Trrack library for provenance tracking, you can send the provenance graph back to reVISit by calling `Revisit.postProvenance` as shown in the example below. You need to call this each time the Trrack state is updated so that reVISit is kept aware of the changes in the provenance graph.\\n\\n```js const trrack = initializeTrrack({ initialState, registry });\\n\\n... Revisit.postProvenance(trrack.graph.backend); ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"},"path":{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"website","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"}}'),VGt={$ref:UGt,$schema:HGt,definitions:qGt},WGt="#/definitions/GlobalConfig",GGt="http://json-schema.org/draft-07/schema#",YGt={GlobalConfig:{additionalProperties:!1,description:"The GlobalConfig is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples in the public folder for more information",type:"string"},configs:{additionalProperties:{additionalProperties:!1,description:"The key is used to identify the study config file. This key is used in the configList property.",properties:{path:{description:"The path to the study config file. This should be a relative path from the public folder.",type:"string"},test:{description:"Indicates whether the study is a test study. This is used to hide the study from the landing page.",type:"boolean"}},required:["path"],type:"object"},description:"A required property that specifies the options for the configList property.",type:"object"},configsList:{description:"A required property that is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",items:{type:"string"},type:"array"}},required:["$schema","configs","configsList"],type:"object"}},KGt={$ref:WGt,$schema:GGt,definitions:YGt},XGt="#/definitions/LibraryConfig",QGt="http://json-schema.org/draft-07/schema#",JGt=JSON.parse('{"Answer":{"additionalProperties":false,"description":"The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks or if skip logic is required based on the answer.\\n\\nAnswers are used to defined correct answers for a task. These are generally used in training tasks or if skip logic is required based on the answer. The answer field is used to define the correct answer to the question. The acceptableLow and acceptableHigh fields are used to define a range of acceptable answers (these are currently only used for training). For example, if the correct answer is 5, and the acceptableLow is 4 and the acceptableHigh is 6, then any answer between 4 and 6 will be considered correct.\\n\\nHere\'s an example of how to use the Answer interface to define the correct answer to a question:\\n\\n```js { \\"type\\": \\"markdown\\", \\"path\\": \\"<study-name>/assets/question.md\\", \\"response\\": [  {    \\"id\\": \\"response1\\",    \\"prompt\\": \\"What is 2 + 2?\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"numerical\\"  } ] \\"correctAnswer\\": [{  \\"id\\": \\"response1\\",  \\"answer\\": 4 }] } ```\\n\\nIn this example, the correct answer to the question \\"What is 2 + 2?\\" is 4. If the participant answers 4, they will be considered correct. If they answer anything other than 4, they will be considered incorrect.","properties":{"acceptableHigh":{"description":"The acceptable high value for the answer. This is used to define a range of acceptable answers.","type":"number"},"acceptableLow":{"description":"The acceptable low value for the answer. This is used to define a range of acceptable answers.","type":"number"},"answer":{"description":"The correct answer to the question."},"id":{"description":"The id of the answer. This is used to identify the answer in the data file.","type":"string"}},"required":["id","answer"],"type":"object"},"BaseComponents":{"additionalProperties":{"additionalProperties":false,"properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"anyOf":[{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"}],"description":"The parameters that are passed to the react component. These can be used within your react component to render different things."},"path":{"anyOf":[{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"}],"description":"The path to the markdown file. This should be a relative path from the public folder."},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"enum":["markdown","react-component","image","website","questionnaire","vega","video"],"type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"type":"object"},"description":"The baseComponents is an optional set of components which can help template other components. For example, suppose you have a single HTML file that you want to display to the user several times. Instead of having the same component twice in the `components` list, you can have a single baseComponent with all the information that the two HTML components will share. A great example is showing the same HTML component but with two different questions;\\n\\n Using baseComponents:\\n\\n```js \\"baseComponents\\": { \\"my-image-component\\": { \\"instructionLocation\\": \\"sidebar\\", \\"nextButtonLocation\\": \\"sidebar\\", \\"path\\": \\"<study-name>/assets/my-image.jpg\\", \\"response\\": [   {     \\"id\\": \\"my-image-id\\",     \\"options\\": [\\"Europe\\", \\"Japan\\", \\"USA\\"],     \\"prompt\\": \\"Your Selected Answer:\\",     \\"type\\": \\"dropdown\\"   } ], \\"type\\": \\"image\\" } } ``` In the above code snippet, we have a single base component which holds the information about the type of component, the path to the image, and the response (which is a dropdown containing three choices). Any component which contains the `\\"baseComponent\\":\\"my-image-component\\"` key-value pair will inherit each of these properties. Thus, if we have three different questions which have the same choices and are concerning the same image, we can define our components like below: ```js \\"components\\": { \\"q1\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with largest GDP\\", \\"instruction\\": \\"Which region has the largest GDP?\\" }, \\"q2\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with lowest GDP\\", \\"instruction\\": \\"Which region has the lowest GDP?\\" }, \\"q3\\": { \\"baseComponent\\": \\"my-image-component\\", \\"description\\": \\"Choosing section with highest exports of Wheat\\", \\"instruction\\": \\"Which region had the most Wheat exported in 2022?\\" } } ```","type":"object"},"ButtonsResponse":{"additionalProperties":false,"description":"The ButtonsResponse interface is used to define the properties of a buttons response. ButtonsResponses render as a list of buttons that the participant can click. When a button is clicked, the value of the button is stored in the data file. Participants can cycle through the options using the arrow keys.\\n\\nExample: ```js {   \\"id\\": \\"buttonsResponse\\",   \\"type\\": \\"buttons\\",   \\"prompt\\": \\"Click a button\\",   \\"location\\": \\"belowStimulus\\",   \\"options\\": [     \\"Option 1\\",     \\"Option 2\\",     \\"Option 3\\"   ] } ``` In this example, the participant can click one of the buttons labeled \\"Option 1\\", \\"Option 2\\", or \\"Option 3\\".","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"optionOrder":{"description":"The order in which the buttons are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"buttons","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"CheckboxResponse":{"additionalProperties":false,"description":"The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.\\n\\n```js { \\"id\\": \\"q7\\", \\"prompt\\": \\"Checkbox example (not required)\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"checkbox\\", \\"options\\": [\\"Option 1\\", \\"Option 2\\", \\"Option 3\\"] } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"horizontal":{"description":"Whether to render the checkboxes horizontally. Defaults to false, so they render horizontally.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"maxSelections":{"description":"The maximum number of selections that are required.","type":"number"},"minSelections":{"description":"The minimum number of selections that are required.","type":"number"},"optionOrder":{"description":"The order in which the checkboxes are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"description":"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"checkbox","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"},"withOther":{"description":"Whether to render the checkboxes with an \\"other\\" option.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"ComponentBlock":{"additionalProperties":false,"description":"The ComponentBlock interface is used to define order properties within the sequence. This is used to define the order of components in a study and the skip logic. It supports random assignment of trials using a pure random assignment and a [latin square](https://en.wikipedia.org/wiki/Latin_square).\\n\\nThe pure random assignment is a random assignment with no guarantees. For example, one component _could_ show up in the first position 10 times in a row. However, this situation is unlikely.\\n\\nHere\'s a snippet that shows how to use the random order:\\n\\n```js { \\"order\\": \\"random\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ``` This snippet would produce a random order of the components in the sequence array. For example, the resulting sequence array could be :\\n\\n```js [ [\\"component2\\", \\"component3\\", \\"component1\\"], [\\"component1\\", \\"component3\\", \\"component2\\"], [\\"component3\\", \\"component1\\", \\"component2\\"], ... ] ```\\n\\nThe latin square assignment is a random assignment with some guarantees. It ensures that each component is shown an equal number of times in each position. Here\'s a snippet that shows how to use the latin square order:\\n\\n```js { \\"order\\": \\"latinSquare\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ```\\n\\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component2\\", \\"component3\\", \\"component1\\"], [\\"component3\\", \\"component1\\", \\"component2\\"], ... ] ```\\n\\nThe fixed assignment is a fixed assignment of components. This is used when you want to show the components in a specific order. Here\'s a snippet that shows how to use the fixed order:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ] } ```\\n\\nThis snippet would produce a fixed order of the components in the sequence array. The resulting sequence array would be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component1\\", \\"component2\\", \\"component3\\"], [\\"component1\\", \\"component2\\", \\"component3\\"], ... ] ```\\n\\nIn addition to the order property, the ComponentBlock interface also includes the `\\"numSamples\\"` property. This is used to reduce the number of components shown to a participant. This property respects the order property and the guarantees provided by the order property. For example, if you have three components in the components array and you set `\\"numSamples\\"` to 2, you would randomize across the three components while only showing a participant two of them. Here\'s a snippet that shows how to use the numSamples property:\\n\\n```js { \\"order\\": \\"latinSquare\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\" ], \\"numSamples\\": 2 } ```\\n\\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\"], [\\"component2\\", \\"component3\\"], [\\"component3\\", \\"component1\\"], ... ] ```\\n\\nThe interruptions property specifies an array of interruptions. These can be used for breaks or attention checks. Interruptions can be deterministic or random. Please see [InterruptionBlock](../../type-aliases/InterruptionBlock) for more specific information.\\n\\nThe skip property is used to define skip conditions. This is used to skip to a different component or block based on the response to a component or the number of correct or incorrect responses in a block. Please see [SkipConditions](../../type-aliases/SkipConditions) for more specific information.","properties":{"components":{"description":"The components that are included in the order.","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/ComponentBlock"},{"$ref":"#/definitions/DynamicBlock"}]},"type":"array"},"conditional":{"description":"The conditional property shows the block only when the URL condition matches its `id`.","type":"boolean"},"id":{"description":"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.","type":"string"},"interruptions":{"description":"The interruptions property specifies an array of interruptions. These can be used for breaks or attention checks.","items":{"$ref":"#/definitions/InterruptionBlock"},"type":"array"},"numSamples":{"description":"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.","type":"number"},"order":{"description":"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.","enum":["random","latinSquare","fixed"],"type":"string"},"skip":{"$ref":"#/definitions/SkipConditions","description":"The skip conditions for the block."}},"required":["order","components"],"type":"object"},"ComponentBlockCondition":{"additionalProperties":false,"description":"The ComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect components in a block. All answers on all components in the block are checked.\\n\\nAnswers are checked against the correct answers defined in the IndividualComponent\'s [CorrectAnswer](../Answer). If no correct answers are defined, the component is considered correct by default.\\n\\nYou might use this if a participant answers two questions in a block incorrectly. Here\'s an example of how to use the ComponentBlockCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"check\\": \\"block\\",   \\"condition\\": \\"numIncorrect\\",   \\"value\\": 2,   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, when the number of components with incorrect responses in the block is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.\\n\\nWhen the condition is met, the participant will immediately be redirected to the component or block specified in the `\\"to\\"` property. If no conditions are met, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"block","description":"The check we\'ll perform.","type":"string"},"condition":{"description":"The condition to check.","enum":["numCorrect","numIncorrect"],"type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The number of correct or incorrect responses to check for.","type":"number"}},"required":["check","condition","value","to"],"type":"object"},"ConfigResponseBlockLocation":{"enum":["sidebar","aboveStimulus","belowStimulus"],"type":"string"},"DeterministicInterruption":{"additionalProperties":false,"description":"The DeterministicInterruption interface is used to define an interruption that will be shown at a specific location in the block.\\n\\nFor example, if you want to show an interruption after the second component in the block, you would set firstLocation to 2. If you want to show an interruption after every 3 components, you would set spacing to 3. If you want to show an interruption after the second component and then every 3 components, you would set firstLocation to 2 and spacing to 3.\\n\\nThe components property is an array of the components that will be inserted at the location specified by firstLocation and spacing. These components should reference components in the StudyConfig.components section of the config.\\n\\nHere\'s an example of how to use the DeterministicInterruption:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"component6\\" ], \\"interruptions\\": [ {   \\"firstLocation\\": 2,   \\"spacing\\": 3,   \\"components\\": [     \\"interruption1\\",     \\"interruption2\\"   ] } ] } ```\\n\\nThe resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"component2\\", \\"interruption1\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption2\\", \\"component6\\"], ... ] ```","properties":{"components":{"description":"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.","items":{"type":"string"},"type":"array"},"firstLocation":{"description":"The Location of the first instance of the interruption. If this is set to 2, the interruption will be shown after the second component (inserted at index 2).","type":"number"},"spacing":{"description":"The number of components between breaks.","type":"number"}},"required":["firstLocation","spacing","components"],"type":"object"},"DividerResponse":{"additionalProperties":false,"properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"not":{}},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"not":{}},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"not":{}},"prompt":{"not":{}},"required":{"not":{}},"requiredLabel":{"not":{}},"requiredValue":{"not":{}},"secondaryText":{"not":{}},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"divider","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"not":{}}},"required":["id","type"],"type":"object"},"DropdownResponse":{"additionalProperties":false,"description":"The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.\\n\\nExample: ```js { \\"id\\": \\"q-color\\", \\"prompt\\": \\"What is your favorite color?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"dropdown\\", \\"placeholder\\": \\"Please choose your favorite color\\", \\"options\\": [\\"Red\\", \\"Blue\\"] } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"maxSelections":{"description":"The maximum number of selections that are required. This will make the dropdown a multiselect dropdown.","type":"number"},"minSelections":{"description":"The minimum number of selections that are required. This will make the dropdown a multiselect dropdown.","type":"number"},"options":{"description":"The options that are displayed in the dropdown.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"dropdown","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"DynamicBlock":{"additionalProperties":false,"description":"The DynamicBlock interface is used to define a block where displayed components are controlled by a function. This is useful when you want to generate the sequence based on answers to previous questions or other factors.\\n\\nThe functionPath property is a path to the function that generates the components. This should be a relative path from the src/public folder.\\n\\nHere\'s an example of how to use the DynamicBlock:\\n\\n```js {   \\"id\\": \\"funcBlock\\",   \\"order\\": \\"dynamic\\",   \\"functionPath\\": \\"<study-name>/assets/function.js\\",   \\"parameters\\": {     \\"param1\\": \\"value1\\",     \\"param2\\": \\"value2\\"   } } ```","properties":{"conditional":{"description":"The conditional property shows the block only when the URL condition matches its `id`.","type":"boolean"},"functionPath":{"description":"The path to the function that generates the components. This should be a relative path from the src/public folder.","type":"string"},"id":{"description":"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.","type":"string"},"order":{"const":"dynamic","description":"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.","type":"string"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the function. These can be used within your function to render different things.","type":"object"}},"required":["id","order","functionPath"],"type":"object"},"ImageComponent":{"additionalProperties":false,"description":"The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.\\n\\nFor example, to render an image with a path of `path/to/study/assets/image.jpg` and a max width of 50%, you would use the following snippet: ```js { \\"type\\": \\"image\\", \\"path\\": \\"<study-name>/assets/image.jpg\\", \\"style\\": { \\"maxWidth\\": \\"50%\\" } } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"image","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"IndividualComponent":{"anyOf":[{"$ref":"#/definitions/MarkdownComponent"},{"$ref":"#/definitions/ReactComponent"},{"$ref":"#/definitions/ImageComponent"},{"$ref":"#/definitions/WebsiteComponent"},{"$ref":"#/definitions/QuestionnaireComponent"},{"$ref":"#/definitions/VegaComponent"},{"$ref":"#/definitions/VideoComponent"}]},"IndividualComponentAllResponsesCondition":{"additionalProperties":false,"description":"The IndividualComponentAllResponsesCondition interface is used to define a SkipCondition based on all answers to a specific component. The skip logic will be checked for every component in the block that has the specified name.\\n\\n:::info\\n\\nIf you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.\\n\\n:::\\n\\n\\nHere\'s an example of how to use the IndividualComponentAllResponsesCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"responses\\",   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, if all responses to the component with the ID \\"attentionCheck\\" are correct, the participant will be redirected to the end of the study. If any response is incorrect, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"responses","description":"The check we\'ll perform.","type":"string"},"name":{"description":"The name of the component to check.","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"}},"required":["name","check","to"],"type":"object"},"IndividualComponentSingleResponseCondition":{"additionalProperties":false,"description":"The IndividualComponentSingleResponseCondition interface is used to define a SkipCondition based on a single answer to a specific component. The skip logic will be checked for every component in the block that has the specified name.\\n\\n:::info\\n\\nIf you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.\\n\\n:::\\n\\nFor example, if you want to skip to a different component based on a response to a specific component, you would use the IndividualComponentSingleResponseCondition. Here\'s an example of how to use the IndividualComponentSingleResponseCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"response\\",   \\"responseId\\": \\"attentionCheckResponse\\",   \\"value\\": \\"the right answer\\",   \\"comparison\\": \\"equal\\",   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, we assign our skip logic to the component whose ID is \\"attentionCheck\\". If the answer given to the response \\"attentionCheckResponse\\" is equal to \\"the right answer\\", then the user will be redirected to the end of the study. If the response is _not_ equal to \\"the right answer\\", then the participant will continue to the next component in the sequence.","properties":{"check":{"const":"response","description":"The check we\'ll perform.","type":"string"},"comparison":{"description":"The comparison to use.","enum":["equal","notEqual"],"type":"string"},"name":{"description":"The name of the component to check.","type":"string"},"responseId":{"description":"The response id to check.","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The value to check.","type":["string","number"]}},"required":["name","check","responseId","value","comparison","to"],"type":"object"},"InheritedComponent":{"additionalProperties":false,"description":"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"baseComponent":{"type":"string"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"anyOf":[{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"}],"description":"The parameters that are passed to the react component. These can be used within your react component to render different things."},"path":{"anyOf":[{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},{"description":"The path to the image. This could be a relative path from the public folder or a url to an external image.","type":"string"},{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"}],"description":"The path to the markdown file. This should be a relative path from the public folder."},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"enum":["markdown","react-component","image","website","questionnaire","vega","video"],"type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"required":["baseComponent"],"type":"object"},"InterruptionBlock":{"anyOf":[{"$ref":"#/definitions/DeterministicInterruption"},{"$ref":"#/definitions/RandomInterruption"}],"description":"The InterruptionBlock interface is used to define interruptions in a block. These can be used for breaks or attention checks. Interruptions can be deterministic or random."},"LibraryConfig":{"additionalProperties":false,"description":"LibraryConfig is used to define the properties of a library configuration. This is a JSON object with three main components: baseComponents, components, and the sequences. Libraries are useful for defining components and sequences of these components that are to be reused across multiple studies. We (the reVISit team) provide several libraries that can be used in your study configurations. Check the public/libraries folder in the reVISit-studies repository for available libraries. We also plan to accept community contributions for libraries. If you have a library that you think would be useful for others, please reach out to us. We would love to include it in our repository.\\n\\nBelow is the general template that should be followed when constructing a Library configuration file.\\n\\n```js {  \\"$schema\\": \\"https://raw.githubusercontent.com/revisit-studies/study/v2.4.0/src/parser/LibraryConfigSchema.json\\",  \\"baseComponents\\": {    // BaseComponents here are defined exactly as is in the StudyConfig  },  \\"components\\": {    // Components here are defined exactly as is in the StudyConfig  },  \\"sequences\\": {   // Sequences here are defined as \\"key\\": \\"value\\" pairs where the key is the name of the sequence and the value is a ComponentBlock, just like in the StudyConfig  } } ```","properties":{"$schema":{"description":"A required json schema property. This should point to the github link for the version of the schema you would like. The `$schema` line is used to verify the schema. If you\'re using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration. See examples for more information","type":"string"},"additionalDescription":{"description":"Additional description of the library. It accepts markdown formatting.","type":"string"},"baseComponents":{"$ref":"#/definitions/BaseComponents","description":"The base components that are used in the study. These components can be used to template other components. See [BaseComponents](../../type-aliases/BaseComponents) for more information."},"components":{"additionalProperties":{"anyOf":[{"$ref":"#/definitions/IndividualComponent"},{"$ref":"#/definitions/InheritedComponent"}]},"description":"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.","type":"object"},"description":{"description":"A description of the library.","type":"string"},"doi":{"description":"The DOI of the paper where the content of the library is based on.","type":"string"},"externalLink":{"description":"The external link to the paper/website where the content of the library is based on.","type":"string"},"reference":{"description":"The reference to the paper where the content of the library is based on.","type":"string"},"sequences":{"additionalProperties":{"anyOf":[{"$ref":"#/definitions/ComponentBlock"},{"$ref":"#/definitions/DynamicBlock"}],"description":"The order of the components in the study. This might include some randomness."},"description":"The order of the components in the study. This might include some randomness.","type":"object"}},"required":["$schema","description","components","sequences"],"type":"object"},"LikertResponse":{"additionalProperties":false,"description":"The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the numItems. For example, numItems: 5 will render 5 radio buttons, and numItems: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as \'Strongly Disagree\' and \'Strongly Agree\'.\\n\\nExample for a five-point Likert Scale:\\n\\n```js { \\"id\\": \\"q-satisfaction\\", \\"prompt\\": \\"Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable).\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"likert\\", \\"leftLabel\\": \\"Not Enjoyable\\", \\"rightLabel\\": \\"Very Enjoyable\\", \\"labelLocation\\": \\"inline\\", \\"numItems\\": 5, \\"start\\": 1, \\"spacing\\": 1 } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"labelLocation":{"description":"The location of the labels. Defaults to inline.","enum":["above","inline","below"],"type":"string"},"leftLabel":{"description":"The left label of the likert scale. E.g Strongly Disagree","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"numItems":{"description":"The number of options to render.","type":"number"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"rightLabel":{"description":"The right label of the likert scale. E.g Strongly Agree","type":"string"},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"spacing":{"description":"The spacing between the options. Defaults to 1.","type":"number"},"start":{"description":"The starting value of the likert scale. Defaults to 1.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"likert","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","numItems","prompt","type"],"type":"object"},"LongTextResponse":{"additionalProperties":false,"description":"The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder. ```js { \\"id\\": \\"q-name\\", \\"prompt\\": \\"What is your first name?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"longText\\", \\"placeholder\\": \\"Please enter your first name\\" } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"longText","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"MarkdownComponent":{"additionalProperties":false,"description":"The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text. Markdown components can have responses (e.g. in a consent form), or no responses (e.g. in a help text file). Here\'s an example with no responses for a simple help text file:\\n\\n```js { \\"type\\": \\"markdown\\", \\"path\\": \\"<study-name>/assets/help.md\\", \\"response\\": [] } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the markdown file. This should be a relative path from the public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"markdown","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"MatrixResponse":{"additionalProperties":false,"description":"The MatrixResponse interface is used to define the properties of a matrix radio or matrix checkbox response. Question options are rendered as rows of the matrix, each row containing its own radio/checkbox group. Answer options are rendered as column headers of the matrix. These can be customized by passing in the custom strings into the answer options. Alternatively, `answerOptions` can be set to one of the following custom strings: \'satisfaction5\',\'satisfaction7\', \'likely5\', \'likely7\'. This will automatically generate the appropriate headers for the matrix.\\n\\nExample for a 5-scale satisfaction matrix with three questions:\\n\\n```js { \\"id\\": \\"multi-satisfaction\\", \\"prompt\\": \\"Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable) for the following items.\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"matrix-radio\\", \\"answerOptions\\": \\"satisfaction5\\", \\"questionOptions\\": [  \\"The tool we created\\",  \\"The technique we developed\\",  \\"The authors of the tools\\" ] } ```\\n\\nHere\'s an example using custom columns (answerOptions):\\n\\n```js { \\"id\\": \\"multi-custom\\", \\"prompt\\": \\"Which categories do the following items belong to?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"matrix-checkbox\\", \\"answerOptions\\": [  \\"Has Legs\\",  \\"Has Wings\\",  \\"Can Swim\\" ], \\"questionOptions\\": [  \\"Dog\\",  \\"Snake\\",  \\"Eagle\\",  \\"Salmon\\",  \\"Platypus\\" ]\\n\\n} ```","properties":{"answerOptions":{"anyOf":[{"items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},{"const":"likely5","type":"string"},{"const":"likely7","type":"string"},{"const":"satisfaction5","type":"string"},{"const":"satisfaction7","type":"string"}],"description":"The answer options (columns). We provide some shortcuts for a likelihood scale (ranging from highly unlikely to highly likely) and a satisfaction scale (ranging from highly unsatisfied to highly satisfied) with either 5 or 7 options to choose from."},"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"questionOptions":{"description":"The question options (rows) are the prompts for each response you\'d like to record.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"questionOrder":{"description":"The order in which the questions are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"enum":["matrix-radio","matrix-checkbox"],"type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["answerOptions","id","prompt","questionOptions","type"],"type":"object"},"NumberOption":{"additionalProperties":false,"description":"The NumberOption interface is used to define the options for a slider response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.","properties":{"label":{"description":"The label displayed to participants.","type":"string"},"value":{"description":"The value stored in the participant\'s data.","type":"number"}},"required":["label","value"],"type":"object"},"NumericalResponse":{"additionalProperties":false,"description":"The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.\\n\\nExample: ```js { \\"id\\": \\"q-numerical\\", \\"prompt\\": \\"Numerical example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"numerical\\", \\"placeholder\\": \\"Enter your age, range from 0 - 120\\", \\"max\\": 120, \\"min\\": 0 } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"max":{"description":"The maximum value that is accepted in the input.","type":"number"},"min":{"description":"The minimum value that is accepted in the input.","type":"number"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"numerical","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"QuestionnaireComponent":{"additionalProperties":false,"description":"A QuestionnaireComponent is used to render simple questions that require a response. The main use case of this component type is to ask participants questions when you don\'t need to render a stimulus. Please note, that even though we\'re not using a stimulus, the responses still require a `location`. For example this could be used to collect demographic information from a participant using the following snippet:\\n\\n```js { \\"type\\": \\"questionnaire\\", \\"response\\": [  {    \\"id\\": \\"gender\\",    \\"prompt\\": \\"Gender:\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"checkbox\\",    \\"options\\": [\\"Man\\", \\"Woman\\", \\"Genderqueer\\", \\"Third-gender\\", ...]  } ] } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"questionnaire","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["response","type"],"type":"object"},"RadioResponse":{"additionalProperties":false,"description":"The RadioResponse interface is used to define the properties of a radio response. Radios have only one allowable selection. RadioResponses render as a radio input with user specified options, and optionally left and right labels.\\n\\nExample: ```js { \\"id\\": \\"q-radio\\", \\"prompt\\": \\"Radio button example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"radio\\", \\"options\\": [\\"Option 1\\", \\"Option 2, Option 3\\"], \\"optionOrder\\": \\"random\\", \\"leftLabel\\": \\"Left\\", \\"rightLabel\\": \\"Right\\", \\"labelLocation\\": \\"inline\\", \\"horizontal\\": true, \\"withOther\\": true } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"horizontal":{"description":"Whether to render the radio buttons horizontally. Defaults to false, so they render horizontally.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"labelLocation":{"description":"The location of the labels. This only works when horizontal is true. Defaults to inline.","enum":["above","inline","below"],"type":"string"},"leftLabel":{"description":"The left label of the radio group. Used in Likert scales for example","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"optionOrder":{"description":"The order in which the radio buttons are displayed. Defaults to fixed.","enum":["fixed","random"],"type":"string"},"options":{"description":"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"rightLabel":{"description":"The right label of the radio group. Used in Likert scales for example","type":"string"},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"radio","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"},"withOther":{"description":"Whether to render the radios with an \\"other\\" option.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"RandomInterruption":{"additionalProperties":false,"description":"The RandomInterruption interface is used to define an interruption that will be shown randomly in the block.\\n\\nFor example, if you want to show a single interruption randomly in the block, you would set `\\"spacing\\"` to \\"random\\" and `\\"numInterruptions\\"` to 1. If you want to show 3 interruptions randomly in the block, you would set `\\"spacing\\"` to \\"random\\" and `\\"numInterruptions\\"` to 3.\\n\\nThe components property is an array of the components that will be inserted randomly in the block. These components should reference components in the StudyConfig.components section of the config.\\n\\nHere\'s an example of how to use the RandomInterruption:\\n\\n```js { \\"order\\": \\"fixed\\", \\"components\\": [ \\"component1\\", \\"component2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"component6\\" ], \\"interruptions\\": [ {   \\"spacing\\": \\"random\\",   \\"numInterruptions\\": 3,   \\"components\\": [     \\"interruption1\\",     \\"interruption2\\"   ] } ] } ```\\n\\nThe resulting sequence array could be:\\n\\n```js [ [\\"component1\\", \\"interruption1\\", \\"interruption2\\", \\"component2\\", \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"component4\\", \\"component5\\", \\"interruption1\\", \\"interruption2\\", \\"component6\\"], [\\"component1\\", \\"interruption1\\", \\"interruption2\\", \\"component2\\", \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"component4\\", \\"interruption1\\", \\"interruption2\\", \\"component5\\", \\"component6\\"], [\\"component1\\", \\"component2\\" \\"interruption1\\", \\"interruption2\\", \\"component3\\", \\"interruption1\\", \\"interruption2\\", \\"component4\\", \\"component5\\", \\"interruption1\\", \\"interruption2\\", \\"component6\\"], ... ] ```","properties":{"components":{"description":"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.","items":{"type":"string"},"type":"array"},"numInterruptions":{"description":"The number of times the interruption will be randomly added","type":"number"},"spacing":{"const":"random","description":"If spacing is set to random, reVISit will add interruptions randomly. These interruptions will not ever be displayed as the first component in the block.","type":"string"}},"required":["spacing","numInterruptions","components"],"type":"object"},"RankingResponse":{"additionalProperties":false,"description":"The RankingResponse interface is used to define the properties of a ranking widget response. RankingResponses render as a ranking widget with user specified options.\\n\\nThere are three types of ranking widgets: Ranking Sublist: The participant is asked to rank a subset of items from a larger list. Ranking Categorical: The participant is asked to rank items within categories: HIGH, MEDIUM, and LOW. Ranking Pairwise: The participant is asked to rank items by comparing them in pairs.\\n\\n```js { \\"id\\": \\"ranking-sublist\\", \\"type\\": \\"ranking-sublist\\", \\"prompt\\": \\"Rank your top 2 favorite fruits from the list below\\", \\"location\\": \\"belowStimulus\\", \\"options\\": [\\"Apple\\", \\"Banana\\", \\"Orange\\", \\"Strawberry\\", \\"Grapes\\"], \\"numItems\\": 2 }, { \\"id\\": \\"ranking-categorical\\", \\"type\\": \\"ranking-categorical\\", \\"prompt\\": \\"Sort these hobbies into the categories of HIGH, MEDIUM, and LOW based on your level of interest.\\", \\"location\\": \\"belowStimulus\\", \\"options\\": [\\"Drawing\\", \\"Singing\\", \\"Hiking\\", \\"Dancing\\", \\"Photography\\"] }, { \\"id\\": \\"ranking-pairwise\\", \\"type\\": \\"ranking-pairwise\\", \\"prompt\\": \\"Which meal would you prefer\\", \\"location\\": \\"belowStimulus\\", \\"options\\": [\\"Pizza\\", \\"Sushi\\", \\"Burger\\", \\"Pasta\\", \\"Salad\\", \\"Tacos\\"] } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"numItems":{"description":"The number of items to rank. Applies only to sublist and categorical ranking widgets.","type":"number"},"options":{"description":"The options that are displayed as ranking options, provided as an array of objects, with label and value fields.","items":{"anyOf":[{"$ref":"#/definitions/StringOption"},{"type":"string"}]},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"enum":["ranking-sublist","ranking-categorical","ranking-pairwise"],"type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"ReactComponent":{"additionalProperties":false,"description":"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.\\n\\nUnlike other types of components, the path for a React component is relative to the `src/public/` folder. Similar to our standard assets, we suggest creating a folder named `src/public/{studyName}/assets` to house all of the React component assets for a particular study. Your React component which you link to in the path must be default exported from its file.\\n\\nReact components created this way have a generic prop type passed to the component on render, `<StimulusParams<T>>`, which has the following types.\\n\\n```ts { parameters: T; setAnswer: ({ status, provenanceGraph, answers }: { status: boolean, provenanceGraph?: TrrackedProvenance, answers: Record<string, any> }) => void } ```\\n\\nparameters is the same object passed in from the ReactComponent type below, allowing you to pass options in from the config to your component. setAnswer is a callback function allowing the creator of the ReactComponent to programmatically set the answer, as well as the provenance graph. This can be useful if you don\'t use the default answer interface, and instead have something more unique.\\n\\nSo, for example, if I had the following ReactComponent in my config ```js { type: \'react-component\'; path: \'my_study/CoolComponent.tsx\'; parameters: {  name: \'Zach\';  age: 26; } } ```\\n\\nMy react component, CoolComponent.tsx, would exist in src/public/my_study/assets, and look something like this\\n\\n```ts export default function CoolComponent({ parameters, setAnswer }: StimulusParams<{name: string, age: number}>) { // render something } ```\\n\\nFor in depth examples, see the following studies, and their associated codebases. https://revisit.dev/study/demo-react-trrack (https://github.com/revisit-studies/study/tree/v2.4.0/src/public/demo-react-trrack/assets) https://revisit.dev/study/example-brush-interactions (https://github.com/revisit-studies/study/tree/v2.4.0/src/public/example-brush-interactions/assets)","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the react component. These can be used within your react component to render different things.","type":"object"},"path":{"description":"The path to the react component. This should be a relative path from the src/public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"react-component","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"ReactiveResponse":{"additionalProperties":false,"description":"The ReactiveResponse interface is used to define the properties of a reactive response. ReactiveResponses render as a list, that is connected to a WebsiteComponent, VegaComponent, or ReactComponent. When data is sent from the components, it is displayed in the list.\\n\\n```js { \\"id\\": \\"reactiveResponse\\", \\"prompt\\": \\"Answer clicked in the stimulus\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"reactive\\" } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"reactive","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"RepeatedComponentBlockCondition":{"additionalProperties":false,"description":"The RepeatedComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect repeated components. You might use this if you need to check if an attention check was failed multiple times. This is similar to the [ComponentBlockCondition](../ComponentBlockCondition), but it only checks a specific repeated component.\\n\\nHere\'s an example of how to use the RepeatedComponentBlockCondition:\\n\\n```js { ... \\"skip\\": [ {   \\"name\\": \\"attentionCheck\\",   \\"check\\": \\"repeatedComponent\\",   \\"condition\\": \\"numIncorrect\\",   \\"value\\": 2,   \\"to\\": \\"end\\" } ] ... } ```\\n\\nIn this example, when the number of incorrect responses to the repeated component with the name \\"attentionCheck\\" is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.","properties":{"check":{"const":"repeatedComponent","description":"The check we\'ll perform.","type":"string"},"condition":{"description":"The condition to check.","enum":["numCorrect","numIncorrect"],"type":"string"},"name":{"description":"The name of the repeated component to check (e.g. attentionCheck).","type":"string"},"to":{"description":"The id of the component or block to skip to","type":"string"},"value":{"description":"The number of correct or incorrect responses to check for.","type":"number"}},"required":["name","check","condition","value","to"],"type":"object"},"Response":{"anyOf":[{"$ref":"#/definitions/NumericalResponse"},{"$ref":"#/definitions/ShortTextResponse"},{"$ref":"#/definitions/LongTextResponse"},{"$ref":"#/definitions/LikertResponse"},{"$ref":"#/definitions/DropdownResponse"},{"$ref":"#/definitions/SliderResponse"},{"$ref":"#/definitions/RadioResponse"},{"$ref":"#/definitions/CheckboxResponse"},{"$ref":"#/definitions/RankingResponse"},{"$ref":"#/definitions/ReactiveResponse"},{"$ref":"#/definitions/MatrixResponse"},{"$ref":"#/definitions/ButtonsResponse"},{"$ref":"#/definitions/TextOnlyResponse"},{"$ref":"#/definitions/DividerResponse"}]},"ShortTextResponse":{"additionalProperties":false,"description":"The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.\\n\\n```js { \\"id\\": \\"q-short-text\\", \\"prompt\\": \\"Short text example\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"shortText\\", \\"placeholder\\": \\"Enter your answer here\\" } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"placeholder":{"description":"The placeholder text that is displayed in the input.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"shortText","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","prompt","type"],"type":"object"},"SkipConditions":{"description":"The SkipConditions interface is used to define skip conditions. This is used to skip to a different component/block based on the response to a component or based on the number of correct/incorrect responses in a block. Skip conditions work recursively: if you have a nested block, the parent blocks\' skip conditions will be considered when computing the skip logic.\\n\\nSkip conditions are evaluated in the order they are defined in the array. If a condition is met, the participant will be redirected to the component or block specified in the `\\"to\\"` property. If no conditions are met, the participant will continue to the next component in the sequence.\\n\\nSkip conditions allow you to jump to a different component or block. If you intend to skip to a block, you should specify a block id in the sequence. If you intend to skip to a component, you should specify a component id. Skipping backwards is not supported. Skipping to a repeated component will skip to the first instance of the component after the component that triggered the skip.\\n\\nPlease see the interface definitions for more specific information on the different types of skip conditions.","items":{"anyOf":[{"$ref":"#/definitions/IndividualComponentSingleResponseCondition"},{"$ref":"#/definitions/IndividualComponentAllResponsesCondition"},{"$ref":"#/definitions/ComponentBlockCondition"},{"$ref":"#/definitions/RepeatedComponentBlockCondition"}]},"type":"array"},"SliderResponse":{"additionalProperties":false,"description":"The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.\\n\\nExample: ```js { \\"id\\": \\"q-slider\\", \\"prompt\\": \\"How are you feeling?\\", \\"location\\": \\"aboveStimulus\\", \\"type\\": \\"slider\\", \\"options\\": [  {    \\"label\\": \\"Bad\\",    \\"value\\": 0  },  {    \\"label\\": \\"OK\\",    \\"value\\": 50  },  {    \\"label\\": \\"Good\\",    \\"value\\": 100  } ] } ```","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"description":"Controls whether the response is hidden.","type":"boolean"},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"options":{"description":"This defines the steps in the slider and the extent of the slider as an array of objects that have a label and a value.","items":{"$ref":"#/definitions/NumberOption"},"type":"array"},"paramCapture":{"description":"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.","type":"string"},"prompt":{"description":"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.","type":"string"},"required":{"description":"Controls whether the response is required to be answered. Defaults to true.","type":"boolean"},"requiredLabel":{"description":"You can provide a required label, which makes it so a participant has to answer with a response that matches label.","type":"string"},"requiredValue":{"description":"You can provide a required value, which makes it so a participant has to answer with that value."},"secondaryText":{"description":"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.","type":"string"},"smeqStyle":{"description":"Whether to render the slider with a SMEQ style. Defaults to false.","type":"boolean"},"snap":{"description":"Whether the slider should snap between values. Defaults to false. Slider snapping disables the label above the handle.","type":"boolean"},"spacing":{"description":"The spacing between the ticks. If not provided, the spacing is the largest power of 10 smaller than the slider range.","type":"number"},"startingValue":{"description":"The starting value of the slider. Defaults to the minimum value.","type":"number"},"step":{"description":"The step value of the slider. If not provided (and snap not enabled), the step value is calculated as the range of the slider divided by 100.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"tlxStyle":{"description":"Whether to render the slider with a NASA-tlx style. Defaults to false.","type":"boolean"},"type":{"const":"slider","type":"string"},"withBar":{"description":"Whether to render the slider with a bar to the left. Defaults to true.","type":"boolean"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"description":"Renders the response with an option for \\"I don\'t know\\". This counts as a completed answer for the validation.","type":"boolean"}},"required":["id","options","prompt","type"],"type":"object"},"StringOption":{"additionalProperties":false,"description":"The StringOption interface is used to define the options for a dropdown, radio, buttons, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.","properties":{"infoText":{"description":"The description that is displayed when the participant hovers over the option. This does not accept markdown. Applies to responses that use StringOption, including DropdownResponse, RadioResponse, CheckboxResponse, ButtonsResponse, RankingResponse, and MatrixResponse.","type":"string"},"label":{"description":"The label displayed to participants. Markdown is supported.","type":"string"},"value":{"description":"The value stored in the participant\'s data. Defaults to label.","type":"string"}},"required":["label"],"type":"object"},"Styles":{"additionalProperties":false,"properties":{"background":{"description":"Background","type":"string"},"backgroundColor":{"type":"string"},"backgroundImage":{"type":"string"},"backgroundPosition":{"type":"string"},"backgroundSize":{"type":"string"},"border":{"description":"Border","type":"string"},"borderRadius":{"type":"string"},"bottom":{"type":"string"},"color":{"description":"Typography","type":"string"},"filter":{"description":"Filter","type":"string"},"font":{"type":"string"},"fontFamily":{"type":"string"},"fontSize":{"type":"string"},"fontStyle":{"enum":["normal","italic","oblique"],"type":"string"},"fontWeight":{"type":["string","number"]},"height":{"description":"Sizing","type":"string"},"left":{"type":"string"},"letterSpacing":{"type":"string"},"lineHeight":{"type":["string","number"]},"margin":{"description":"Spacing","type":"string"},"maxHeight":{"type":"string"},"maxWidth":{"type":"string"},"minHeight":{"type":"string"},"minWidth":{"type":"string"},"padding":{"type":"string"},"position":{"description":"Positioning","enum":["static","relative","absolute","fixed","sticky"],"type":"string"},"right":{"type":"string"},"textAlign":{"enum":["start","center","end","justify","left","right","match-parent"],"type":"string"},"textDecoration":{"enum":["none","underline","overline","line-through","underline-overline"],"type":"string"},"textTransform":{"enum":["capitalize","lowercase","none","uppercase"],"type":"string"},"top":{"type":"string"},"transform":{"description":"Transform","type":"string"},"width":{"type":"string"},"wordSpacing":{"type":"string"}},"type":"object"},"TextOnlyResponse":{"additionalProperties":false,"description":"The TextOnlyResponse interface is used to define the properties of a text only response. TextOnlyResponses render as a block of text that is displayed to the user. This can be used to display instructions or other information. It does not accept any input from the user.\\n\\nExample: ```js {   \\"id\\": \\"textOnlyResponse\\",   \\"type\\": \\"textOnly\\",   \\"prompt\\": \\"This is a text only response, it accepts markdown so you can **bold** or _italicize_ text.\\",   \\"location\\": \\"belowStimulus\\",   \\"restartEnumeration\\": true } ```\\n\\nIn this example, the text only response is displayed below the stimulus and the enumeration of the questions is restarted.","properties":{"excludeFromRandomization":{"description":"Exclude response from randomization. If present, will override the responseOrder randomization setting in the components. Defaults to false.","type":"boolean"},"hidden":{"not":{}},"id":{"description":"The id of the response. This is used to identify the response in the data file.","type":"string"},"infoText":{"description":"The description that is displayed when the participant hovers over the response. This does not accept markdown.","type":"string"},"location":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},"paramCapture":{"not":{}},"prompt":{"description":"The markdown text that is displayed to the user.","type":"string"},"required":{"not":{}},"requiredLabel":{"not":{}},"requiredValue":{"not":{}},"restartEnumeration":{"description":"Whether to restart the enumeration of the questions. Defaults to false.","type":"boolean"},"secondaryText":{"not":{}},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"type":{"const":"textOnly","type":"string"},"withDivider":{"description":"Renders the response with a trailing divider. If present, will override the divider setting in the components or uiConfig.","type":"boolean"},"withDontKnow":{"not":{}}},"required":["id","prompt","type"],"type":"object"},"VegaComponent":{"anyOf":[{"$ref":"#/definitions/VegaComponentPath"},{"$ref":"#/definitions/VegaComponentConfig"}]},"VegaComponentConfig":{"additionalProperties":false,"description":"The VegaComponentConfig interface is used to define the properties of a Vega Component. This component is used to render a Vega/Vega-Lite Component by adding Vega/Vega-Lite specs within the reVISit config itself.\\n\\nTo do this, would use the following snippet: ```js { \\"type\\": \\"vega\\", \\"config\\": { ... vega specs here ...}, }\\n\\nIIf you are using Vega, you can use signals with `revisitAnswer` to send the user\'s responses back to the reVISit. For example, you can use the following snippet in your Vega spec\'s signals section: ```js { \\"signals\\": [  {    \\"name\\": \\"revisitAnswer\\",    \\"value\\": {},    \\"on\\": [      {        \\"events\\": \\"rect:click\\",        \\"update\\": \\"{responseId: \'vegaDemoResponse1\', response: datum.category}\\"      }    ]  } ] } In this example, when a user clicks on a rectangle in the Vega chart, the `revisitAnswer` signal is updated with the responseId and response. ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"config":{"description":"The vega or vega-lite configuration.","type":"object"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"vega","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["config","response","type"],"type":"object"},"VegaComponentPath":{"additionalProperties":false,"description":"The VegaComponentPath interface is used to define the properties of a Vega Component. This component is used to render a Vega/Vega-Lite Component with path pointing to your Vega/Vega-Lite specs file.\\n\\nFor example, to render a vega based stimuli with a path of `<study-name>/assets/vega.spec.json`, you would use the following snippet: ```js { \\"type\\": \\"vega\\", \\"path\\": \\"<study-name>/assets/vega.spec.json\\", } ```\\n\\nIf you are using Vega, you can use signals with `revisitAnswer` to send the user\'s responses back to the reVISit. For example, you can use the following snippet in your Vega spec file\'s signals section: ```js { \\"signals\\": [  {    \\"name\\": \\"revisitAnswer\\",    \\"value\\": {},    \\"on\\": [      {        \\"events\\": \\"rect:click\\",        \\"update\\": \\"{responseId: \'vegaDemoResponse1\', response: datum.category}\\"      }    ]  } ] } In this example, when a user clicks on a rectangle in the Vega chart, the `revisitAnswer` signal is updated with the responseId and response. This signal is then passed to reVISit as the participant\'s response. ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the vega file. This should be a relative path from the public folder.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"vega","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withActions":{"description":"Whether to include vega actions. Defaults to true.","type":"boolean"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"VideoComponent":{"additionalProperties":false,"description":"The VideoComponent interface is used to define the properties of a video component. This component is used to render a video with optional controls.\\n\\nMost often, video components will be used for trainings, and will have a `forceCompletion` field set to true. This will prevent the participant from moving on until the video has finished playing.\\n\\nAs such, the `forceCompletion` field is set to true by default, and the `withTimeline` field is set to false by default.\\n\\nFor example, to render a training video with a path of `<study-name>/assets/video.mp4`, you would use the following snippet: ```js {   \\"type\\": \\"video\\",   \\"path\\": \\"<study-name>/assets/video.mp4\\", } ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"forceCompletion":{"description":"Whether to force the video to play until the end. Defaults to true.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"path":{"description":"The path to the video. This could be a relative path from the public folder or might be a url to an external website.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"video","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"},"withTimeline":{"description":"Whether to show the video timeline. Defaults to false.","type":"boolean"}},"required":["path","response","type"],"type":"object"},"WebsiteComponent":{"additionalProperties":false,"description":"The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.\\n\\n```js { \\"type\\": \\"website\\", \\"path\\": \\"<study-name>/assets/website.html\\", } ```\\n\\nTo pass a data from the config to the website, you can use the `parameters` field as below:\\n\\n```js { \\"type\\": \\"website\\", \\"path\\": \\"<study-name>/website.html\\", \\"parameters\\": {  \\"barData\\": [0.32, 0.01, 1.2, 1.3, 0.82, 0.4, 0.3] }, \\"response\\": [  {    \\"id\\": \\"barChart\\",    \\"prompt\\": \\"Your selected answer:\\",    \\"location\\": \\"belowStimulus\\",    \\"type\\": \\"reactive\\"  } ] } ``` In the `website.html` file, by including `revisit-communicate.js`, you can use the `Revisit.onDataReceive` method to retrieve the data, and `Revisit.postAnswers` to send the user\'s responses back to the reVISit as shown in the example below:\\n\\n```html <script src=\\"../../revisitUtilities/revisit-communicate.js\\"><\/script> <script> Revisit.onDataReceive((data) => {  const barData = data[\'barData\'];  ... });\\n\\n// Call out that \'barChart\' needs to match ID in \'response\' object Revisit.postAnswers({ barChart: userAnswer }); <\/script> ```\\n\\n If the html website implements Trrack library for provenance tracking, you can send the provenance graph back to reVISit by calling `Revisit.postProvenance` as shown in the example below. You need to call this each time the Trrack state is updated so that reVISit is kept aware of the changes in the provenance graph.\\n\\n```js const trrack = initializeTrrack({ initialState, registry });\\n\\n... Revisit.postProvenance(trrack.graph.backend); ```","properties":{"allowFailedTraining":{"description":"Controls whether the component should allow failed training. If present, will override the allow failed training setting in the uiConfig.","type":"boolean"},"clickToRecord":{"description":"Enables a click-and-hold microphone button instead of continuous recording. When true, audio is muted by default and is recorded only while the button is held. When false, recording starts immediately and can be paused/resumed via the microphone button. Defaults to false.","type":"boolean"},"correctAnswer":{"description":"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.","items":{"$ref":"#/definitions/Answer"},"type":"array"},"description":{"description":"The description of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"enumerateQuestions":{"description":"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar. If present, will override the enumeration of questions setting in the uiConfig.","type":"boolean"},"helpTextPath":{"description":"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported. If present, will override the help text path set in the uiConfig.","type":"string"},"instruction":{"description":"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.","type":"string"},"instructionLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the instructions. If present, will override the instruction location setting in the uiConfig."},"meta":{"additionalProperties":{},"description":"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.","type":"object"},"nextButtonDisableTime":{"description":"The time in milliseconds to wait before the next button is disabled. If present, will override the next button disable time setting in the uiConfig.","type":"number"},"nextButtonEnableTime":{"description":"The time in milliseconds to wait before the next button is enabled. If present, will override the next button enable time setting in the uiConfig.","type":"number"},"nextButtonLocation":{"$ref":"#/definitions/ConfigResponseBlockLocation","description":"The location of the next button. If present, will override the  next button location setting in the uiConfig."},"nextButtonText":{"description":"The text to display on the next button. If present, will override the next button text setting in the uiConfig.","type":"string"},"nextOnEnter":{"description":"Whether enter key should move to the next question. If present, will override the enter key setting in the uiConfig.","type":"boolean"},"parameters":{"additionalProperties":{},"description":"The parameters that are passed to the website (iframe). These can be used within your website to render different things.","type":"object"},"path":{"description":"The path to the website. This should be a relative path from the public folder or could be an external website.","type":"string"},"previousButton":{"description":"Whether to show the previous button. If present, will override the previous button setting in the uiConfig.","type":"boolean"},"previousButtonText":{"description":"The text that is displayed on the previous button. If present, will override the previous button text setting in the uiConfig.","type":"string"},"provideFeedback":{"description":"Controls whether the component should provide feedback to the participant, such as in a training trial. If present, will override the provide feedback setting in the uiConfig.","type":"boolean"},"recordAudio":{"description":"Whether or not we want to utilize think-aloud features. If present, will override the record audio setting in the uiConfig.","type":"boolean"},"recordScreen":{"description":"Whether or not we want to utilize screen recording feature. If present, will override the record screen setting in the uiConfig. If true, the uiConfig must have recordScreen set to true or the screen will not be captured. It\'s also required that the library component, $screen-recording.components.screenRecordingPermission, be included in the study at some point before this component to ensure permissions are granted and screen capture has started.","type":"boolean"},"response":{"description":"The responses to the component","items":{"$ref":"#/definitions/Response"},"type":"array"},"responseDividers":{"description":"Whether to show the response dividers. If present, will override the response dividers setting in the uiConfig.","type":"boolean"},"responseOrder":{"description":"The order of the responses. Defaults to \'fixed\'.","enum":["fixed","random"],"type":"string"},"showTitle":{"description":"Controls whether the title should be hidden in the study. If present, will override the title setting in the uiConfig.","type":"boolean"},"showTitleBar":{"description":"Controls whether the title bar should be hidden in the study. If present, will override the title bar setting in the uiConfig.","type":"boolean"},"sidebarWidth":{"description":"The width of the left sidebar. If present, will override the sidebar width setting in the uiConfig.","type":"number"},"style":{"$ref":"#/definitions/Styles","description":"You can set styles here, using React CSSProperties, for example: `{\\"width\\": 100}` or `{\\"width\\": \\"50%\\"}`"},"stylesheetPath":{"description":"The path to the external stylesheet file.","type":"string"},"trainingAttempts":{"description":"The number of training attempts allowed for the component. If present, will override the training attempts setting in the uiConfig.","type":"number"},"type":{"const":"website","type":"string"},"windowEventDebounceTime":{"description":"Debounce time in milliseconds for automatically tracked window events. If present, will override the window event debounce time setting in the uiConfig.","type":"number"},"withProgressBar":{"description":"Controls whether the progress bar is rendered. If present, will override the progress bar setting in the uiConfig.","type":"boolean"},"withSidebar":{"description":"Controls whether the left sidebar is rendered at all. Required to be true if your response\'s location is set to sidebar for any question. If present, will override the sidebar setting in the uiConfig.","type":"boolean"}},"required":["path","response","type"],"type":"object"}}'),ZGt={$ref:XGt,$schema:QGt,definitions:JGt},_Me=new yee({allowUnionTypes:!0});_Me.addSchema(ZGt);const eYt=_Me.getSchema("#/definitions/LibraryConfig");function Oee(e){let t=e;return t.includes(".co.")&&(t=t.replace(".co.",".components.")),t.includes(".se.")&&(t=t.replace(".se.",".sequences.")),t}function tYt(e){return e&&e.map(t=>({...t,components:t.components.map(n=>Oee(n))}))}function nYt(e){return e&&e.map(t=>({...t,to:Oee(t.to)}))}function EMe(e,t){return aa(e)?e:{...e,components:e.components.map(n=>typeof n=="object"?EMe(n,t):typeof n=="string"&&!n.startsWith("$")?`$${t}.components.${n}`:n)}}function Mq(e,t,n=[]){return aa(e)?e:{...e,interruptions:tYt(e.interruptions),skip:nYt(e.skip),components:(e.components||[]).map(r=>{if(typeof r=="object")return Mq(r,t,n);const i=Oee(r),o=i.includes(".sequences.")?".sequences.":!1;if(typeof i=="string"&&i.startsWith("$")&&o){const s=i.split(o),a=s[0],l=s.slice(1).join(o),u=a.slice(1);if(!t[u]){const h={message:`Library \`${u}\` not found in imported libraries`,instancePath:"/importedLibraries/",params:{action:"Check the library name and make sure the library is imported correctly"},category:"undefined-library"};return n.push(h),i}let d=t[u].sequences?.[l];if(!d){const h={message:`Sequence \`${l}\` not found in library \`${u}\``,instancePath:`/importedLibraries/${u}/sequence/`,params:{action:"Check the sequence name"},category:"sequence-validation"};return n.push(h),i}d=EMe(d,u);const f={...d,__revisitImportedSequenceRef:i};return!aa(f)&&!f.id&&(f.id=i),d=f,Mq(d,t,n)}return i})}}function rYt(e,t,n,r){const i=new Set(Object.values(r).flatMap(l=>Object.keys(l.components))),o=new Set,s=[...UG(e.sequence)],a=new Set;for(;s.length>0;){const l=s.pop();if(!a.has(l)){a.add(l),i.has(l)&&o.add(l);const u=e.components[l];u&&e0(u)&&s.push(u.baseComponent)}}Object.entries(r).forEach(([l,u])=>{Object.entries(u.components).forEach(([c,d])=>{const f=e0(d)?d.baseComponent:u.__revisitInheritedComponentMetadata?.[c]?.baseComponent,h=e0(d)?d.withSidebar:u.__revisitInheritedComponentMetadata?.[c]?.withSidebar;if(f&&!u.baseComponents?.[f]&&t.push({message:`Base component \`${f}\` is not defined in baseComponents object in library \`${l}\``,instancePath:`/importedLibraries/${l}/baseComponents/`,params:{action:"Add the base component to the baseComponents object"},category:"undefined-base-component"}),!o.has(c))return;const m=f?u.baseComponents?.[f]:void 0,p={...m||{},...d},g=!(p.withSidebar??e.uiConfig.withSidebar),v=p.instructionLocation==="sidebar"||p.nextButtonLocation==="sidebar"||p.response?.some(y=>"location"in y&&y.location==="sidebar");if(g&&v){const y=h===!1?`/importedLibraries/${l}/components/`:m?.withSidebar===!1?`/importedLibraries/${l}/baseComponents/`:`/importedLibraries/${l}/uiConfig/`;n.push({message:`Component \`${c}\` in library \`${l}\` uses sidebar locations but sidebar is disabled`,instancePath:y,params:{action:"Enable the sidebar or move the location to belowStimulus or aboveStimulus"},category:"disabled-sidebar"})}})})}function iYt(e,t){let n=!1,r;try{r=JSON.parse(e),n=eYt(r)}catch{n=!1}const i=[],o=[];return r?n||i.push({message:`Library \`${t}\` config is not valid`,instancePath:`/importedLibraries/${t}`,params:{action:"Fix the errors in the library config"},category:"invalid-library-config"}):i.push({message:`Could not find library \`${t}\``,instancePath:"root",params:{action:"Make sure the library is in the correct location"},category:"undefined-library"}),{...r,errors:i,warnings:o}}async function oYt(e){const t=await(await fetch(`${Hi}libraries/${e}/config.json`)).text();return iYt(t,e)}async function sYt(e,t,n){const r=e.map(async o=>{const s=await oYt(o);return s.errors&&t.push(...s.errors),s.warnings&&n.push(...s.warnings),[o,s]}),i=Object.fromEntries(await Promise.all(r));return Object.entries(i).forEach(([o,s])=>{s.components||delete i[o]}),e.forEach(o=>{if(!i[o])return;const s={};i[o].components=Object.fromEntries(Object.entries(i[o].components).map(([a,l])=>{const u=`$${o}.components.${a}`;if(e0(l)){s[u]={baseComponent:l.baseComponent,...l.withSidebar!==void 0?{withSidebar:l.withSidebar}:{}};const c=ZCe({},i[o].baseComponents?.[l.baseComponent],l);return delete c.baseComponent,[u,c]}return[u,l]})),Object.keys(s).length>0&&(i[o].__revisitInheritedComponentMetadata=s)}),i}const SMe=new yee({allowUnionTypes:!0});SMe.addSchema(KGt);const Wge=SMe.getSchema("#/definitions/GlobalConfig"),TMe=new yee({allowUnionTypes:!0});TMe.addSchema(VGt);const TB=TMe.getSchema("#/definitions/StudyConfig");function aYt(e){const t=[];return[e.configsList.every(r=>e.configs[r]===void 0?(t.push({message:`Config \`${r}\` is not defined in configs object, but is present in configsList`}),!1):!0),t]}function lYt(e){const t=JSON.parse(e),n=Wge(t),r=aYt(t);if(n&&r[0])return t;throw console.error("Global config parsing errors",[...Wge.errors||[],...r[1]]),Error("There was an issue validating your file global.json")}function kMe(e,t,n=[],r=[]){const i=o=>{for(let s=t.length-1;s>=0;s-=1)t[s]===o&&t.splice(s,1)};if(!aa(e)){if(e.components.length===0){r.push({message:"Sequence has an empty components array",instancePath:"/sequence/",params:{action:"Remove empty components block or add components to the sequence"},category:"sequence-validation"});return}e.id&&i(e.id),e.components.forEach(o=>{typeof o=="string"?t.includes(o)&&i(o):kMe(o,t,n,r)}),e.skip&&e.skip.length>0&&t.push(...e.skip.map(o=>o.to).filter(o=>o!=="end"))}}function uYt(e,t){const n=[],r=[];rYt(e,n,r,t);const i="contact@revisit.dev",o=["revisit.dev","vdl.sci.utah.edu"],s=typeof window<"u"?window.location.hostname:"",a=o.some(c=>s===c||s.endsWith(`.${c}`));e.uiConfig.contactEmail===i&&!a&&r.push({message:`The contact email is set to the default value \`${i}\`. Please update it to your own email address.`,instancePath:"/uiConfig/contactEmail",params:{action:"Update the contactEmail field in uiConfig to your own email address"},category:"default-contact-email"}),Object.entries(e.components).forEach(([c,d])=>{const f=c.startsWith("$")&&c.includes(".components.");e0(d)&&!e.baseComponents?.[d.baseComponent]&&n.push({message:`Base component \`${d.baseComponent}\` is not defined in baseComponents object`,instancePath:"/baseComponents/",params:{action:"Add the base component to the baseComponents object"},category:"undefined-base-component"});const h=e0(d)?e.baseComponents?.[d.baseComponent]:void 0,m={...h||{},...d},p=e0(d)&&d.baseComponent.startsWith("$")&&d.baseComponent.includes(".components."),g=d.instructionLocation==="sidebar"||d.nextButtonLocation==="sidebar"||d.response?.some(y=>"location"in y&&y.location==="sidebar"),v=d.withSidebar!==void 0;if(!f&&(!p||g||v)){const y=!(m.withSidebar??e.uiConfig.withSidebar),w=m.instructionLocation==="sidebar"||m.nextButtonLocation==="sidebar"||m.response?.some(_=>"location"in _&&_.location==="sidebar");if(y&&w){const _=d.withSidebar===!1?"/components/":h?.withSidebar===!1?"/baseComponents/":"/uiConfig/";r.push({message:`Component \`${c}\` uses sidebar locations but sidebar is disabled`,instancePath:_,params:{action:"Enable the sidebar or move the location to belowStimulus or aboveStimulus"},category:"disabled-sidebar"})}}});const l=UG(e.sequence);l.forEach(c=>{e.components[c]||(e.baseComponents?.[c]?n.push({message:`Component \`${c}\` is a base component and cannot be used in the sequence`,instancePath:"/sequence/",params:{action:"Remove the base component from the sequence"},category:"sequence-validation"}):n.push({message:`Component \`${c}\` is not defined in components object`,instancePath:"/components/",params:{action:"Add the component to the components object"},category:"undefined-component"}))}),Object.keys(e.components).filter(c=>!l.includes(c)&&!c.includes(".sequences.")&&!c.includes(".components.")).forEach(c=>{r.push({message:`Component \`${c}\` is defined in components object but not used deterministically in the sequence`,instancePath:"/components/",params:{action:"Remove the component from the components object or add it to the sequence"},category:"unused-component"})});const u=[];return kMe(e.sequence,u,n,r),u.forEach(c=>{n.push({message:`Skip target \`${c}\` does not occur after the skip block it is used in`,instancePath:"/sequence/",params:{action:"Add the target to the sequence after the skip block"},category:"skip-validation"})}),{errors:n,warnings:r}}async function Nee(e){let t=!1,n;try{n=JSON.parse(e),t=TB(n)}catch{try{n=zGt(e).toJSON(),t=TB(n)}catch(o){console.error("Error parsing study config file:",o),t=!1}}let r=(TB.errors||[]).map(o=>({message:o.message||"Validation error",instancePath:o.instancePath||"",params:o.params||{},category:"invalid-config"})),i=[];if(t&&n){const o=n.importedLibraries||[],s=await sYt(o,r,i);Object.values(s).forEach(u=>{n.components={...n.components,...u.components},n.baseComponents={...n.baseComponents,...u.components}}),Object.values(n.components).forEach(u=>{u&&typeof u=="object"&&"baseComponent"in u&&typeof u.baseComponent=="string"&&u.baseComponent.includes(".co.")&&(u.baseComponent=u.baseComponent.replace(".co.",".components."))}),n.sequence=Mq(n.sequence,s,r);const{errors:a,warnings:l}=uYt(n,s);r=[...r,...a],i=[...i,...l]}else r=[...r,{message:"There was an issue validating your config file",instancePath:"root",params:{action:"Fix the errors in your file or make sure the global config references the right file path"},category:"invalid-config"}];return{...n,errors:r,warnings:i}}async function cYt(e){const t=await(await fetch(`${Hi}${e}`)).text();return await Nee(t)}async function Mee(e,t){const n=t.configsList.find(r=>_we(r)===e);if(n){const r=t.configs[n];return await cYt(`${r.path}`)}return null}async function dYt(e){const t={},n=e.configsList.map(async i=>Mee(i,e)),r=await Promise.all(n);return e.configsList.forEach((i,o)=>{t[i]=r[o]}),t}function fYt({globalConfig:e}){const t=uf(),[n,r]=A.useState(null),i=e.configsList.includes(t)||t==="__revisit-widget";A.useEffect(()=>{if(t!=="__revisit-widget")return Mee(t,e).then(p=>{r(p)}),()=>{};if(e&&t){const p=g=>{g.data.type==="revisitWidget/CONFIG"&&Nee(g.data.payload).then(async v=>{r(v);const y=await uB(v);window.parent.postMessage({type:"revisitWidget/SEQUENCE_ARRAY",payload:y},"*")})};return window.addEventListener("message",p),window.parent.postMessage({type:"revisitWidget/READY"},"*"),()=>{window.removeEventListener("message",p)}}return()=>{}},[e,t]);const[o,s]=A.useState([]),[a,l]=A.useState(null),{storageEngine:u}=ri(),[c]=au(),d=A.useMemo(()=>c.get("participantId"),[c]),f=A.useMemo(()=>Mu(c.get("condition")),[c]);A.useEffect(()=>{async function p(){if(!(!u||!n||!t)){try{await u.initializeStudyDb(t),await u.saveConfig(n),await u.getSequenceArray()||await u.setSequenceArray(await uB(n));const v=await u.getModes(t),y=n.uiConfig.urlParticipantIdParam&&c.get(n.uiConfig.urlParticipantIdParam)||void 0,w=Object.fromEntries(c.entries()),_=new AbortController,E=window.setTimeout(()=>_.abort(),1200),S=await fetch("https://api.ipify.org?format=json",{signal:_.signal}).catch(()=>"");window.clearTimeout(E);const T=S instanceof Response?await S.json():{ip:""},k={language:navigator.language,userAgent:navigator.userAgent,resolution:{width:window.screen.width,height:window.screen.height,availHeight:window.screen.availHeight,availWidth:window.screen.availWidth,colorDepth:window.screen.colorDepth,orientation:window.screen.orientation.type,pixelDepth:window.screen.pixelDepth},ip:T.ip};let R=await u.initializeParticipantSession(w,n,k,d||y);if(f.length>0&&v.developmentModeEnabled){const j={...R.searchParams,condition:f.join(",")};await u.updateParticipantSearchParams(j),await u.updateStudyCondition(f),R={...R,searchParams:j,conditions:f}}const I=await lz(JSON.stringify(n));let P=n;R.participantConfigHash!==I&&(P=(await u.getAllConfigsFromHash([R.participantConfigHash],t))[R.participantConfigHash]);const N=cst({urlCondition:f,participantConditions:R.conditions,participantSearchParamCondition:R.searchParams?.condition,allowUrlOverride:v.developmentModeEnabled}),M=fse(R.sequence,N),O=await Nse(t,P,M,k,R.answers,v,R.participantId,R.completed,!1,R.participantConfigHash!==I);l(O)}catch(g){console.error("Error initializing user store routing:",g);const y=uB(n)[0],w=fse(y,f),_=await Nse(t,n,w,{language:"",userAgent:"",resolution:{width:0,height:0,availHeight:0,availWidth:0,colorDepth:0,orientation:"",pixelDepth:0},ip:""},{},{developmentModeEnabled:!0,dataSharingEnabled:!0,dataCollectionEnabled:!1},"",!1,!0);l(_)}s([{element:b.jsx(vVt,{}),children:[{path:"/",element:b.jsx(bq,{to:di(0),replace:!0})},{path:"/:index/:funcIndex?",element:n.errors.length>0?b.jsxs(b.Fragment,{children:[b.jsx(gr,{order:2,mb:8,children:"Error loading config"}),b.jsx($D,{issues:n.errors,type:"error"})]}):b.jsx(ozt,{})}]}])}}p()},[u,n,t,c,d,f]);const h=X1e(o);let m=null;return i?o.length===0?m=b.jsx(Jl,{visible:!0}):m=h&&a?b.jsx(e_e.Provider,{value:a,children:b.jsx(Ist,{store:a.store,children:h})}):b.jsx(dm,{}):m=b.jsx(dm,{}),m}function HS({studyIds:e}){const t=ca(),{studyId:n}=Mo(),r=qa(),i=e.map(s=>({value:s,label:s})).sort((s,a)=>s.label.localeCompare(a.label)),o=r.pathname.includes("analysis");return b.jsx(Ri.Header,{p:"md",children:b.jsxs(so,{mt:-7,align:"center",children:[b.jsx(so.Col,{span:6,children:b.jsxs(lt,{align:"center",onClick:()=>t("/"),style:{cursor:"pointer"},children:[b.jsx(Am,{w:40,src:`${Hi}revisitAssets/revisitLogoSquare.svg`,alt:"Revisit Logo"}),b.jsx(Ou,{w:"md"}),b.jsx(gr,{order:4,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:o?"ReVISit Analytics Platform":"ReVISit Studies"})]})}),b.jsx(so.Col,{span:6,children:b.jsxs(lt,{justify:"flex-end",direction:"row",children:[o&&b.jsxs(b.Fragment,{children:[b.jsx(om,{allowDeselect:!1,placeholder:"Select Study",data:i,value:n,onChange:s=>t(`/analysis/stats/${s}`),mr:16}),b.jsx(Mt,{component:"a",href:`${Hi}${n}`,target:"_blank",leftSection:b.jsx(mwe,{}),mr:"sm",children:"Go to Study"})]}),b.jsx(wwe,{onClick:()=>t("/settings"),style:{cursor:"pointer",marginTop:o?6:void 0}})]})})]})})}const dD=20,hYt=5,pg={left:5,right:5,top:10,bottom:10},mg={UNANSWERED:{FILL:"grey",STROKE:"#666"},ANSWERED:{FILL:"green",STROKE:"#166534"},DYNAMIC:{FILL:"teal",STROKE:"#0d9488"},TEXT:"white"};function pYt({total:e,answered:t,isDynamic:n}){const r=n?t.length:e,i=A.useMemo(()=>{const u=Math.max(300,r*50);return Yv().domain([0,r]).range([pg.left,u-pg.right])},[r]);if(!e||e<=0||Number.isNaN(e))return null;const o=()=>{const u=[];for(let c=0;c<r;c+=1){const d=c<t.length,f=d?`Question ${c+1}: ${t[c]}`:`Question ${c+1}: Not answered`;let h=mg.UNANSWERED.FILL,m=mg.UNANSWERED.STROKE;n?(h=mg.DYNAMIC.FILL,m=mg.DYNAMIC.STROKE):d&&(h=mg.ANSWERED.FILL,m=mg.ANSWERED.STROKE);const p=i(c),g=i(c+1)-i(c)-hYt,v=Math.max(g,2);u.push(b.jsx(ct,{label:f,position:"top",withinPortal:!0,children:b.jsxs("g",{children:[b.jsx("rect",{x:p,y:pg.top,width:v,height:dD,fill:h,stroke:m,strokeWidth:"1.5",rx:"3",style:{cursor:"pointer"}}),b.jsxs("text",{x:p+v/2,y:pg.top+dD/2+4,fontSize:"11",fontWeight:"600",fill:mg.TEXT,textAnchor:"middle",pointerEvents:"none",children:["Q",c+1]})]})},c))}return n&&r>0&&u.push(b.jsx("text",{x:i(r)+10,y:pg.top+dD/2+7,fontSize:"20",fontWeight:"bold",fill:mg.DYNAMIC.FILL,children:"?"},"question-mark")),u},s=Math.max(300,i(r)+(n?40:pg.right)),a=dD+pg.top+pg.bottom;return b.jsxs(b.Fragment,{children:[b.jsx("style",{children:`
      .progress-heatmap {
        display: inline-block;
        vertical-align: top;
        width: 50%;
        overflow-x: auto;
        overflow-y: hidden;
        white-space: nowrap;
      }
      .progress-heatmap svg {
        display: inline-block;
        vertical-align: top;
      }
      
      /* Custom scrollbar styling */
      .progress-heatmap::-webkit-scrollbar {
        height: 8px;
      }
      .progress-heatmap::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 4px;
      }
      .progress-heatmap::-webkit-scrollbar-thumb {
        background: #c1c1c1;
        border-radius: 4px;
      }
      .progress-heatmap::-webkit-scrollbar-thumb:hover {
        background: #a8a8a8;
      }
      
      @media (max-width: 900px) {
        .progress-heatmap {
          width: 100% !important;
          display: block;
        }
      }
    `}),b.jsx("div",{className:"progress-heatmap",children:b.jsx("svg",{width:s,height:a,children:o()})})]})}function kB({title:e,titleColor:t,participants:n,showProgressHeatmap:r=!1,showDynamicBadge:i=!1,progressValue:o,progressColor:s,progressLabel:a}){const[l,u]=A.useState(!0);return b.jsxs(b.Fragment,{children:[b.jsxs(ln,{gap:"xs",style:{cursor:"pointer"},onClick:()=>u(!l),children:[b.jsx(on,{variant:"subtle",color:t,size:"sm",children:l?b.jsx(J4,{size:18}):b.jsx(lwe,{size:18})}),b.jsxs(gr,{order:5,c:t,children:[e," ","(",n.length,")"]})]}),b.jsx(Fh,{in:l,children:n.length>0&&b.jsx(so,{mt:"xs",children:n.map(({assignment:c,progress:d},f)=>b.jsx(so.Col,{span:12,children:b.jsx(Js,{shadow:"sm",padding:"sm",radius:"md",withBorder:!0,children:b.jsxs(ln,{justify:"space-between",align:"center",children:[b.jsxs("div",{children:[b.jsxs(ln,{gap:"xs",align:"center",children:[b.jsxs($e,{fw:500,size:"sm",children:["Participant:"," ",c.participantId||`#${f+1}`]}),i&&c.isDynamic&&b.jsx(Ii,{size:"xs",color:"cyan",children:"DYNAMIC"})]}),b.jsxs($e,{size:"xs",c:"dimmed",children:["Started:"," ",new Date(c.createdTime).toLocaleString()]})]}),r&&b.jsx(pYt,{total:c.total,answered:c.answered,isDynamic:c.isDynamic}),b.jsx(W4,{size:60,thickness:6,sections:[{value:o(c,d),color:s}],label:un.createElement(a,{assignment:c,progress:d})})]})})},c.participantId||`${e.toLowerCase()}-${f}`))})})]})}function mYt(e,t,n){return e.map(r=>{const i=r.total>0?r.answered.length/r.total*100:0,o=r.completed!==null,s=r.rejected;return{assignment:r,progress:i,isCompleted:o,isRejected:s}}).filter(({isCompleted:r,isRejected:i,assignment:o})=>{const s=i?"rejected":r?"completed":"inprogress",a=t.includes(s),l=n.includes("ALL")||n.includes(o.stage||"");return a&&l}).sort((r,i)=>i.assignment.createdTime-r.assignment.createdTime)}function gYt(e){const t=e.filter(i=>!i.isCompleted&&!i.isRejected),n=e.filter(i=>i.isCompleted&&!i.isRejected),r=e.filter(i=>i.isRejected);return{inProgress:t,completed:n,rejected:r}}function yYt({assignment:e,progress:t}){return b.jsxs($e,{c:"orange",fw:700,ta:"center",size:"xs",children:[e.isDynamic?"?":Math.round(t),"%"]})}function vYt(){return b.jsx(za,{children:b.jsx(on,{color:"teal",variant:"light",radius:"xl",size:"sm",children:b.jsx(Ch,{size:16})})})}function bYt({progress:e}){return b.jsxs($e,{c:"red",fw:700,ta:"center",size:"xs",children:[Math.round(e),"%"]})}function wYt({studyConfig:e,storageEngine:t,studyId:n,includedParticipants:r,selectedStages:i}){const o=t,[s,a]=A.useState([]),[l,u]=A.useState("connecting"),[c,d]=A.useState(null),[f,h]=A.useState(!1),m=y=>{a(y),d(new Date),h(!1)},p=A.useCallback(async()=>{if(!o||!n||f)return;if(!navigator.onLine){u("disconnected");return}h(!0),u("connecting");const y=setTimeout(()=>{l==="connecting"&&(u("disconnected"),h(!1))},1e4);try{o.initializeStudyDb(n);const w=await o.getAllSequenceAssignments(n);clearTimeout(y),m(w),u("connected")}catch(w){console.error("Reconnection failed:",w),clearTimeout(y),u("disconnected"),h(!1)}},[o,n,f,l]);A.useEffect(()=>{if(!o||!n){u("disconnected");return}u("connecting"),o.initializeStudyDb(n);const y=o._setupSequenceAssignmentListener?.(n,w=>{m(w)});return u(typeof y=="function"?"connected":"disconnected"),()=>{y?.()}},[o,n]),A.useEffect(()=>{const y=()=>{o&&n&&l==="disconnected"&&p()},w=()=>{u("disconnected"),h(!1)};return window.addEventListener("online",y),window.addEventListener("offline",w),()=>{window.removeEventListener("online",y),window.removeEventListener("offline",w)}},[o,n,l,p]);const g=A.useMemo(()=>mYt(s,r,i),[s,r,i]),v=A.useMemo(()=>gYt(g),[g]);return b.jsxs(Nn,{gap:"sm",children:[b.jsx(Js,{shadow:"sm",padding:"sm",radius:"md",withBorder:!0,style:{position:"sticky",top:0,zIndex:100,backgroundColor:"white",marginBottom:"1rem"},children:b.jsxs(lt,{justify:"space-between",align:"center",children:[b.jsxs(ln,{gap:"md",children:[b.jsx(gr,{order:5,size:"h5",children:"Live Monitor"}),b.jsxs($e,{size:"sm",c:"dimmed",children:["Total:"," ",g.length]}),b.jsxs(ln,{gap:"xs",children:[b.jsxs(Ii,{color:"green",variant:"light",size:"sm",children:[g.filter(y=>y.isCompleted).length," ","Completed"]}),b.jsxs(Ii,{color:"orange",variant:"light",size:"sm",children:[g.filter(y=>!y.isCompleted&&!y.isRejected).length," ","Active"]}),b.jsxs(Ii,{color:"red",variant:"light",size:"sm",children:[g.filter(y=>y.isRejected).length," ","Rejected"]})]})]}),b.jsxs(ln,{gap:"xs",children:[l==="disconnected"&&b.jsx(Mt,{size:"xs",variant:"light",color:"blue",leftSection:b.jsx(vwe,{size:12}),loading:f,onClick:p,disabled:!o||!n,children:"Reconnect"}),b.jsx(ct,{label:l==="connected"?`Connected${c?` - Last data update: ${c.toLocaleTimeString()}`:""}`:l==="connecting"?"Connecting...":"Disconnected",position:"bottom-end",children:b.jsx(R4,{color:l==="connected"?"green":l==="connecting"?"yellow":"red",position:"top-end",size:10,withBorder:!0,children:l==="connected"?b.jsx(aXe,{size:22,color:"green"}):b.jsx(oXe,{size:22,color:l==="connecting"?"orange":"red"})})})]})]})}),b.jsx(gr,{order:4,mt:"lg",children:"Participant Progress"}),b.jsxs(Nn,{gap:"md",children:[b.jsx(kB,{title:"In Progress",titleColor:"orange",participants:v.inProgress,showProgressHeatmap:!0,showDynamicBadge:!0,progressValue:(y,w)=>y.isDynamic?50:w,progressColor:"orange",progressLabel:yYt}),b.jsx(kB,{title:"Completed",titleColor:"teal",participants:v.completed,progressValue:()=>100,progressColor:"teal",progressLabel:vYt}),b.jsx(kB,{title:"Rejected",titleColor:"red",participants:v.rejected,progressValue:(y,w)=>w,progressColor:"red",progressLabel:bYt})]})]})}function h$(e,t,n){return e.filter(r=>{const i=!n||!r.rejected,o=!t||Object.values(r.answers).some(s=>s.componentName===t&&s.startTime>0&&s.endTime!==-1);return i&&o})}function AMe(e,t){const n=h$(e,t,!1);return{total:n.length,completed:n.filter(i=>i.completed&&!i.rejected).length,inProgress:n.filter(i=>!i.completed&&!i.rejected).length,rejected:n.filter(i=>i.rejected).length}}function xYt(e,t){const r=h$(e,t,!0).flatMap(s=>Object.values(s.answers)).filter(s=>s.endTime!==-1);if(!r.length)return{startDate:null,endDate:null};const i=r.map(s=>s.startTime),o=r.map(s=>s.endTime);return{startDate:new Date(Math.min(...i)),endDate:new Date(Math.max(...o))}}function RMe(e,t){const n=h$(e,t,!0);let r=0;const i=n.reduce((o,s)=>{let a=!1;const l=Object.values(s.answers).filter(u=>(!t||u.componentName===t)&&u.endTime!==-1).map(u=>{const c=bEe(u);return c===-1&&(a=!0),{totalTime:(u.endTime-u.startTime)/1e3,cleanTime:c>=0?c/1e3:0}});return l.length>0&&(o.count+=l.length,o.totalTimeSum+=l.reduce((u,c)=>u+c.totalTime,0),o.cleanTimeSum+=l.reduce((u,c)=>u+c.cleanTime,0),a&&(r+=1)),o},{count:0,totalTimeSum:0,cleanTimeSum:0});return{avgTime:i.count>0?i.totalTimeSum/i.count:NaN,avgCleanTime:i.count>0?i.cleanTimeSum/i.count:NaN,participantsWithInvalidCleanTimeCount:r}}function $ee(e,t){const r=h$(e,t,!0).flatMap(a=>Object.values(a.answers)).filter(a=>!t||a.componentName===t);if(!r.some(a=>a.correctAnswer&&a.correctAnswer.length>0))return NaN;let o=0,s=0;return r.forEach(a=>{const l=a.correctAnswer.length;if(!l)return;o+=l,UT(a.answer,a.correctAnswer)&&(s+=l)}),o>0?s/o*100:NaN}function CYt(e){if(e.type==="slider")return e.options.map(t=>`${t.label} (${t.value})`).join(", ");if("options"in e)return e.options.map(t=>typeof t=="string"?t:t.label).join(", ");if("answerOptions"in e&&"questionOptions"in e){const t=e.questionOptions.map(r=>typeof r=="string"?r:r.label).join(", "),n=Array.isArray(e.answerOptions)?e.answerOptions.map(r=>typeof r=="string"?r:r.label).join(", "):e.answerOptions;return`Questions: ${t} 
 Answers: ${n}`}return"numItems"in e?`${e.leftLabel?` ${e.leftLabel} ~ ${e.rightLabel}`:""} (${e.numItems} items)`:"N/A"}function Rp(e,t){return t==="date"&&e instanceof Date?e!==null?e.toLocaleDateString():"N/A":t==="time"&&typeof e=="number"?Number.isNaN(e)?"N/A":`${e.toFixed(1)}s`:t==="correctness"&&typeof e=="number"?Number.isNaN(e)?"N/A":`${e.toFixed(1)}%`:"N/A"}function IMe(e,t){const n=RMe(e,t),r=xYt(e,t);return{participantCounts:AMe(e,t),startDate:r.startDate,endDate:r.endDate,avgTime:n.avgTime,avgCleanTime:n.avgCleanTime,participantsWithInvalidCleanTimeCount:n.participantsWithInvalidCleanTimeCount,correctness:$ee(e,t)}}function _Yt(e,t){return Object.keys(t.components).map(i=>{const o=RMe(e,i);return{component:i,participants:AMe(e,i).total,avgTime:o.avgTime,avgCleanTime:o.avgCleanTime,correctness:$ee(e,i)}})}function EYt(e,t){return Object.entries(t.components).flatMap(([r,i])=>{const s=$u(i,t).response??[];return s.length===0?[]:s.map(a=>({component:r,type:a.type,question:a.prompt??"N/A",options:CYt(a),correctness:$ee(e,r)}))})}async function SYt(e,t){return!e||!t?null:e.getParticipantsStatusCounts(t)}function DMe({overviewData:e}){const t=e&&e.participantsWithInvalidCleanTimeCount>0,{studyId:n}=Mo(),{storageEngine:r}=ri(),{value:i}=xc(SYt,r&&n?[r,n]:null),o=A.useMemo(()=>i?{completed:{current:i.completed,calculated:e.participantCounts.completed},inProgress:{current:i.inProgress,calculated:e.participantCounts.inProgress},rejected:{current:i.rejected,calculated:e.participantCounts.rejected}}:null,[e,i]),s=a=>{if(!o)return!1;const l=o[a];return l.current!==l.calculated};return b.jsxs(Os,{shadow:"sm",p:"md",withBorder:!0,children:[b.jsx(gr,{order:4,mb:"md",children:"Overview Statistics"}),b.jsxs(lt,{justify:"space-between",m:"xs",gap:"xl",wrap:"wrap",children:[b.jsxs(lt,{direction:"column",children:[b.jsx($e,{size:"xl",fw:"bold",children:e.participantCounts.total}),b.jsx($e,{size:"sm",c:"dimmed",children:"Total Participants"})]}),b.jsxs(lt,{direction:"column",children:[b.jsxs(lt,{align:"center",gap:"xs",children:[s("completed")&&o&&b.jsx(ct,{label:`Calculated: ${o.completed.calculated}, Stored: ${o.completed.current}`,children:b.jsx(Ru,{size:16,color:"orange"})}),b.jsx($e,{size:"xl",fw:"bold",c:"green",children:e.participantCounts.completed})]}),b.jsx($e,{size:"sm",c:"dimmed",children:"Completed"})]}),b.jsxs(lt,{direction:"column",children:[b.jsxs(lt,{align:"center",gap:"xs",children:[s("inProgress")&&o&&b.jsx(ct,{label:`Calculated: ${o.inProgress.calculated}, Stored: ${o.inProgress.current}`,children:b.jsx(Ru,{size:16,color:"orange"})}),b.jsx($e,{size:"xl",fw:"bold",c:"yellow",children:e.participantCounts.inProgress})]}),b.jsx($e,{size:"sm",c:"dimmed",children:"In Progress"})]}),b.jsxs(lt,{direction:"column",children:[b.jsxs(lt,{align:"center",gap:"xs",children:[s("rejected")&&o&&b.jsx(ct,{label:`Calculated: ${o.rejected.calculated}, Stored: ${o.rejected.current}`,children:b.jsx(Ru,{size:16,color:"orange"})}),b.jsx($e,{size:"xl",fw:"bold",c:"red",children:e.participantCounts.rejected})]}),b.jsx($e,{size:"sm",c:"dimmed",children:"Rejected"})]}),b.jsxs(lt,{direction:"column",children:[b.jsx($e,{size:"xl",fw:"bold",children:Rp(e.startDate,"date")}),b.jsx($e,{size:"sm",c:"dimmed",children:"Start Date"})]}),b.jsxs(lt,{direction:"column",children:[b.jsx($e,{size:"xl",fw:"bold",children:Rp(e.endDate,"date")}),b.jsx($e,{size:"sm",c:"dimmed",children:"End Date"})]}),b.jsxs(lt,{direction:"column",children:[b.jsx($e,{size:"xl",fw:"bold",children:Rp(e.avgTime,"time")}),b.jsx($e,{size:"sm",c:"dimmed",children:"Average Time"})]}),b.jsxs(lt,{direction:"column",children:[b.jsxs(lt,{align:"center",gap:"xs",children:[t&&b.jsx(ct,{label:`${e.participantsWithInvalidCleanTimeCount} participants with invalid timing data were excluded from the average clean time calculation`,children:b.jsx(Ru,{size:16,color:"orange"})}),b.jsx($e,{size:"xl",fw:"bold",children:Rp(e.avgCleanTime,"time")})]}),b.jsx($e,{size:"sm",c:"dimmed",children:"Average Clean Time"})]}),b.jsxs(lt,{direction:"column",children:[b.jsx($e,{size:"xl",fw:"bold",children:Rp(e.correctness,"correctness")}),b.jsx($e,{size:"sm",c:"dimmed",children:"Correctness"})]})]})]})}function Xg(e,t){return typeof e=="function"?e(t):e}function Xu(e,t){return n=>{t.setState(r=>({...r,[e]:Xg(n,r[e])}))}}function p$(e){return e instanceof Function}function TYt(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function PMe(e,t){const n=[],r=i=>{i.forEach(o=>{n.push(o);const s=t(o);s!=null&&s.length&&r(s)})};return r(e),n}function vn(e,t,n){let r=[],i;return o=>{let s;n.key&&n.debug&&(s=Date.now());const a=e(o);if(!(a.length!==r.length||a.some((c,d)=>r[d]!==c)))return i;r=a;let u;if(n.key&&n.debug&&(u=Date.now()),i=t(...a),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const c=Math.round((Date.now()-s)*100)/100,d=Math.round((Date.now()-u)*100)/100,f=d/16,h=(m,p)=>{for(m=String(m);m.length<p;)m=" "+m;return m};console.info(`%c ${h(d,5)} /${h(c,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,n?.key)}return i}}function bn(e,t,n,r){return{debug:()=>{var i;return(i=e?.debugAll)!=null?i:e[t]},key:!1,onChange:r}}function kYt(e,t,n,r){const i=()=>{var s;return(s=o.getValue())!=null?s:e.options.renderFallbackValue},o={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:i,getContext:vn(()=>[e,n,t,o],(s,a,l,u)=>({table:s,column:a,row:l,cell:u,getValue:u.getValue,renderValue:u.renderValue}),bn(e.options,"debugCells"))};return e._features.forEach(s=>{s.createCell==null||s.createCell(o,n,t,e)},{}),o}function AYt(e,t,n,r){var i,o;const a={...e._getDefaultColumnDef(),...t},l=a.accessorKey;let u=(i=(o=a.id)!=null?o:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?i:typeof a.header=="string"?a.header:void 0,c;if(a.accessorFn?c=a.accessorFn:l&&(l.includes(".")?c=f=>{let h=f;for(const p of l.split(".")){var m;h=(m=h)==null?void 0:m[p]}return h}:c=f=>f[a.accessorKey]),!u)throw new Error;let d={id:`${String(u)}`,accessorFn:c,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:vn(()=>[!0],()=>{var f;return[d,...(f=d.columns)==null?void 0:f.flatMap(h=>h.getFlatColumns())]},bn(e.options,"debugColumns")),getLeafColumns:vn(()=>[e._getOrderColumnsFn()],f=>{var h;if((h=d.columns)!=null&&h.length){let m=d.columns.flatMap(p=>p.getLeafColumns());return f(m)}return[d]},bn(e.options,"debugColumns"))};for(const f of e._features)f.createColumn==null||f.createColumn(d,e);return d}const _a="debugHeaders";function Gge(e,t,n){var r;let o={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const s=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),s.push(l)};return a(o),s},getContext:()=>({table:e,header:o,column:t})};return e._features.forEach(s=>{s.createHeader==null||s.createHeader(o,e)}),o}const RYt={createTable:e=>{e.getHeaderGroups=vn(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>{var o,s;const a=(o=r?.map(d=>n.find(f=>f.id===d)).filter(Boolean))!=null?o:[],l=(s=i?.map(d=>n.find(f=>f.id===d)).filter(Boolean))!=null?s:[],u=n.filter(d=>!(r!=null&&r.includes(d.id))&&!(i!=null&&i.includes(d.id)));return fD(t,[...a,...u,...l],e)},bn(e.options,_a)),e.getCenterHeaderGroups=vn(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>(n=n.filter(o=>!(r!=null&&r.includes(o.id))&&!(i!=null&&i.includes(o.id))),fD(t,n,e,"center")),bn(e.options,_a)),e.getLeftHeaderGroups=vn(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var i;const o=(i=r?.map(s=>n.find(a=>a.id===s)).filter(Boolean))!=null?i:[];return fD(t,o,e,"left")},bn(e.options,_a)),e.getRightHeaderGroups=vn(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var i;const o=(i=r?.map(s=>n.find(a=>a.id===s)).filter(Boolean))!=null?i:[];return fD(t,o,e,"right")},bn(e.options,_a)),e.getFooterGroups=vn(()=>[e.getHeaderGroups()],t=>[...t].reverse(),bn(e.options,_a)),e.getLeftFooterGroups=vn(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),bn(e.options,_a)),e.getCenterFooterGroups=vn(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),bn(e.options,_a)),e.getRightFooterGroups=vn(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),bn(e.options,_a)),e.getFlatHeaders=vn(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),bn(e.options,_a)),e.getLeftFlatHeaders=vn(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),bn(e.options,_a)),e.getCenterFlatHeaders=vn(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),bn(e.options,_a)),e.getRightFlatHeaders=vn(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),bn(e.options,_a)),e.getCenterLeafHeaders=vn(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),bn(e.options,_a)),e.getLeftLeafHeaders=vn(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),bn(e.options,_a)),e.getRightLeafHeaders=vn(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),bn(e.options,_a)),e.getLeafHeaders=vn(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var i,o,s,a,l,u;return[...(i=(o=t[0])==null?void 0:o.headers)!=null?i:[],...(s=(a=n[0])==null?void 0:a.headers)!=null?s:[],...(l=(u=r[0])==null?void 0:u.headers)!=null?l:[]].map(c=>c.getLeafHeaders()).flat()},bn(e.options,_a))}};function fD(e,t,n,r){var i,o;let s=0;const a=function(f,h){h===void 0&&(h=1),s=Math.max(s,h),f.filter(m=>m.getIsVisible()).forEach(m=>{var p;(p=m.columns)!=null&&p.length&&a(m.columns,h+1)},0)};a(e);let l=[];const u=(f,h)=>{const m={depth:h,id:[r,`${h}`].filter(Boolean).join("_"),headers:[]},p=[];f.forEach(g=>{const v=[...p].reverse()[0],y=g.column.depth===m.depth;let w,_=!1;if(y&&g.column.parent?w=g.column.parent:(w=g.column,_=!0),v&&v?.column===w)v.subHeaders.push(g);else{const E=Gge(n,w,{id:[r,h,w.id,g?.id].filter(Boolean).join("_"),isPlaceholder:_,placeholderId:_?`${p.filter(S=>S.column===w).length}`:void 0,depth:h,index:p.length});E.subHeaders.push(g),p.push(E)}m.headers.push(g),g.headerGroup=m}),l.push(m),h>0&&u(p,h-1)},c=t.map((f,h)=>Gge(n,f,{depth:s,index:h}));u(c,s-1),l.reverse();const d=f=>f.filter(m=>m.column.getIsVisible()).map(m=>{let p=0,g=0,v=[0];m.subHeaders&&m.subHeaders.length?(v=[],d(m.subHeaders).forEach(w=>{let{colSpan:_,rowSpan:E}=w;p+=_,v.push(E)})):p=1;const y=Math.min(...v);return g=g+y,m.colSpan=p,m.rowSpan=g,{colSpan:p,rowSpan:g}});return d((i=(o=l[0])==null?void 0:o.headers)!=null?i:[]),l}const XC=(e,t,n,r,i,o,s)=>{let a={id:t,index:r,original:n,depth:i,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return a._valuesCache[l]=u.accessorFn(a.original,r),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=u.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var u;return(u=a.getValue(l))!=null?u:e.options.renderFallbackValue},subRows:o??[],getLeafRows:()=>PMe(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let l=[],u=a;for(;;){const c=u.getParentRow();if(!c)break;l.push(c),u=c}return l.reverse()},getAllCells:vn(()=>[e.getAllLeafColumns()],l=>l.map(u=>kYt(e,a,u,u.id)),bn(e.options,"debugRows")),_getAllCellsByColumnId:vn(()=>[a.getAllCells()],l=>l.reduce((u,c)=>(u[c.column.id]=c,u),{}),bn(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const u=e._features[l];u==null||u.createRow==null||u.createRow(a,e)}return a},IYt={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},OMe=(e,t,n)=>{var r,i;const o=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((i=e.getValue(t))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(o))};OMe.autoRemove=e=>zd(e);const NMe=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};NMe.autoRemove=e=>zd(e);const MMe=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===n?.toLowerCase()};MMe.autoRemove=e=>zd(e);const $Me=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};$Me.autoRemove=e=>zd(e)||!(e!=null&&e.length);const LMe=(e,t,n)=>!n.some(r=>{var i;return!((i=e.getValue(t))!=null&&i.includes(r))});LMe.autoRemove=e=>zd(e)||!(e!=null&&e.length);const FMe=(e,t,n)=>n.some(r=>{var i;return(i=e.getValue(t))==null?void 0:i.includes(r)});FMe.autoRemove=e=>zd(e)||!(e!=null&&e.length);const jMe=(e,t,n)=>e.getValue(t)===n;jMe.autoRemove=e=>zd(e);const BMe=(e,t,n)=>e.getValue(t)==n;BMe.autoRemove=e=>zd(e);const Lee=(e,t,n)=>{let[r,i]=n;const o=e.getValue(t);return o>=r&&o<=i};Lee.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,i=typeof n!="number"?parseFloat(n):n,o=t===null||Number.isNaN(r)?-1/0:r,s=n===null||Number.isNaN(i)?1/0:i;if(o>s){const a=o;o=s,s=a}return[o,s]};Lee.autoRemove=e=>zd(e)||zd(e[0])&&zd(e[1]);const Gf={includesString:OMe,includesStringSensitive:NMe,equalsString:MMe,arrIncludes:$Me,arrIncludesAll:LMe,arrIncludesSome:FMe,equals:jMe,weakEquals:BMe,inNumberRange:Lee};function zd(e){return e==null||e===""}const DYt={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:Xu("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n?.getValue(e.id);return typeof r=="string"?Gf.includesString:typeof r=="number"?Gf.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Gf.equals:Array.isArray(r)?Gf.arrIncludes:Gf.weakEquals},e.getFilterFn=()=>{var n,r;return p$(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:Gf[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,i;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const i=e.getFilterFn(),o=r?.find(c=>c.id===e.id),s=Xg(n,o?o.value:void 0);if(Yge(i,s,e)){var a;return(a=r?.filter(c=>c.id!==e.id))!=null?a:[]}const l={id:e.id,value:s};if(o){var u;return(u=r?.map(c=>c.id===e.id?l:c))!=null?u:[]}return r!=null&&r.length?[...r,l]:[l]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=i=>{var o;return(o=Xg(t,i))==null?void 0:o.filter(s=>{const a=n.find(l=>l.id===s.id);if(a){const l=a.getFilterFn();if(Yge(l,s.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Yge(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const PYt=(e,t,n)=>n.reduce((r,i)=>{const o=i.getValue(e);return r+(typeof o=="number"?o:0)},0),OYt=(e,t,n)=>{let r;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}),r},NYt=(e,t,n)=>{let r;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}),r},MYt=(e,t,n)=>{let r,i;return n.forEach(o=>{const s=o.getValue(e);s!=null&&(r===void 0?s>=s&&(r=i=s):(r>s&&(r=s),i<s&&(i=s)))}),[r,i]},$Yt=(e,t)=>{let n=0,r=0;if(t.forEach(i=>{let o=i.getValue(e);o!=null&&(o=+o)>=o&&(++n,r+=o)}),n)return r/n},LYt=(e,t)=>{if(!t.length)return;const n=t.map(o=>o.getValue(e));if(!TYt(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((o,s)=>o-s);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},FYt=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),jYt=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,BYt=(e,t)=>t.length,r3={sum:PYt,min:OYt,max:NYt,extent:MYt,mean:$Yt,median:LYt,unique:FYt,uniqueCount:jYt,count:BYt},zYt={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Xu("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n?.getValue(e.id);if(typeof r=="number")return r3.sum;if(Object.prototype.toString.call(r)==="[object Date]")return r3.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return p$(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:r3[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function UYt(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(o=>!t.includes(o.id));return n==="remove"?r:[...t.map(o=>e.find(s=>s.id===o)).filter(Boolean),...r]}const HYt={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Xu("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=vn(n=>[qS(t,n)],n=>n.findIndex(r=>r.id===e.id),bn(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=qS(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const i=qS(t,n);return((r=i[i.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=vn(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>i=>{let o=[];if(!(t!=null&&t.length))o=i;else{const s=[...t],a=[...i];for(;a.length&&s.length;){const l=s.shift(),u=a.findIndex(c=>c.id===l);u>-1&&o.push(a.splice(u,1)[0])}o=[...o,...a]}return UYt(o,n,r)},bn(e.options,"debugTable"))}},AB=()=>({left:[],right:[]}),qYt={getInitialState:e=>({columnPinning:AB(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Xu("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(i=>i.id).filter(Boolean);t.setColumnPinning(i=>{var o,s;if(n==="right"){var a,l;return{left:((a=i?.left)!=null?a:[]).filter(d=>!(r!=null&&r.includes(d))),right:[...((l=i?.right)!=null?l:[]).filter(d=>!(r!=null&&r.includes(d))),...r]}}if(n==="left"){var u,c;return{left:[...((u=i?.left)!=null?u:[]).filter(d=>!(r!=null&&r.includes(d))),...r],right:((c=i?.right)!=null?c:[]).filter(d=>!(r!=null&&r.includes(d)))}}return{left:((o=i?.left)!=null?o:[]).filter(d=>!(r!=null&&r.includes(d))),right:((s=i?.right)!=null?s:[]).filter(d=>!(r!=null&&r.includes(d)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var i,o,s;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((o=(s=t.options.enableColumnPinning)!=null?s:t.options.enablePinning)!=null?o:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(a=>a.id),{left:r,right:i}=t.getState().columnPinning,o=n.some(a=>r?.includes(a)),s=n.some(a=>i?.includes(a));return o?"left":s?"right":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();return i?(n=(r=t.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=vn(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,i)=>{const o=[...r??[],...i??[]];return n.filter(s=>!o.includes(s.column.id))},bn(t.options,"debugRows")),e.getLeftVisibleCells=vn(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(o=>n.find(s=>s.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),bn(t.options,"debugRows")),e.getRightVisibleCells=vn(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(o=>n.find(s=>s.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),bn(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?AB():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:AB())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var i,o;return!!((i=r.left)!=null&&i.length||(o=r.right)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=vn(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),bn(e.options,"debugColumns")),e.getRightLeafColumns=vn(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),bn(e.options,"debugColumns")),e.getCenterLeafColumns=vn(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const i=[...n??[],...r??[]];return t.filter(o=>!i.includes(o.id))},bn(e.options,"debugColumns"))}},hD={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},RB=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),VYt={getDefaultColumnDef:()=>hD,getInitialState:e=>({columnSizing:{},columnSizingInfo:RB(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Xu("columnSizing",e),onColumnSizingInfoChange:Xu("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,i;const o=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:hD.minSize,(r=o??e.columnDef.size)!=null?r:hD.size),(i=e.columnDef.maxSize)!=null?i:hD.maxSize)},e.getStart=vn(n=>[n,qS(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((i,o)=>i+o.getSize(),0),bn(t.options,"debugColumns")),e.getAfter=vn(n=>[n,qS(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((i,o)=>i+o.getSize(),0),bn(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...i}=n;return i})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var o;n+=(o=i.column.getSize())!=null?o:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),i=r?.getCanResize();return o=>{if(!r||!i||(o.persist==null||o.persist(),IB(o)&&o.touches&&o.touches.length>1))return;const s=e.getSize(),a=e?e.getLeafHeaders().map(v=>[v.column.id,v.column.getSize()]):[[r.id,r.getSize()]],l=IB(o)?Math.round(o.touches[0].clientX):o.clientX,u={},c=(v,y)=>{typeof y=="number"&&(t.setColumnSizingInfo(w=>{var _,E;const S=t.options.columnResizeDirection==="rtl"?-1:1,T=(y-((_=w?.startOffset)!=null?_:0))*S,k=Math.max(T/((E=w?.startSize)!=null?E:0),-.999999);return w.columnSizingStart.forEach(R=>{let[I,P]=R;u[I]=Math.round(Math.max(P+P*k,0)*100)/100}),{...w,deltaOffset:T,deltaPercentage:k}}),(t.options.columnResizeMode==="onChange"||v==="end")&&t.setColumnSizing(w=>({...w,...u})))},d=v=>c("move",v),f=v=>{c("end",v),t.setColumnSizingInfo(y=>({...y,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},h=n||typeof document<"u"?document:null,m={moveHandler:v=>d(v.clientX),upHandler:v=>{h?.removeEventListener("mousemove",m.moveHandler),h?.removeEventListener("mouseup",m.upHandler),f(v.clientX)}},p={moveHandler:v=>(v.cancelable&&(v.preventDefault(),v.stopPropagation()),d(v.touches[0].clientX),!1),upHandler:v=>{var y;h?.removeEventListener("touchmove",p.moveHandler),h?.removeEventListener("touchend",p.upHandler),v.cancelable&&(v.preventDefault(),v.stopPropagation()),f((y=v.touches[0])==null?void 0:y.clientX)}},g=WYt()?{passive:!1}:!1;IB(o)?(h?.addEventListener("touchmove",p.moveHandler,g),h?.addEventListener("touchend",p.upHandler,g)):(h?.addEventListener("mousemove",m.moveHandler,g),h?.addEventListener("mouseup",m.upHandler,g)),t.setColumnSizingInfo(v=>({...v,startOffset:l,startSize:s,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?RB():(n=e.initialState.columnSizingInfo)!=null?n:RB())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0}}};let pD=null;function WYt(){if(typeof pD=="boolean")return pD;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return pD=e,pD}function IB(e){return e.type==="touchstart"}const GYt={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Xu("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const i=e.columns;return(n=i.length?i.some(o=>o.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=vn(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),bn(t.options,"debugRows")),e.getVisibleCells=vn(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],bn(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>vn(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),bn(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,o)=>({...i,[o.id]:n||!(o.getCanHide!=null&&o.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function qS(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const YYt={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},KYt={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:Xu("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,i,o;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&((o=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?o:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Gf.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return p$(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:Gf[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},XYt={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Xu("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var i,o;e.setExpanded(r?{}:(i=(o=e.initialState)==null?void 0:o.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(o=>{const s=o.split(".");r=Math.max(r,s.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var i;const o=r===!0?!0:!!(r!=null&&r[e.id]);let s={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{s[a]=!0}):s=r,n=(i=n)!=null?i:!o,!o&&n)return{...s,[e.id]:!0};if(o&&!n){const{[e.id]:a,...l}=s;return l}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r?.[e.id])},e.getCanExpand=()=>{var n,r,i;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},$q=0,Lq=10,DB=()=>({pageIndex:$q,pageSize:Lq}),QYt={getInitialState:e=>({...e,pagination:{...DB(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:Xu("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const i=o=>Xg(r,o);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=r=>{var i;e.setPagination(r?DB():(i=e.initialState.pagination)!=null?i:DB())},e.setPageIndex=r=>{e.setPagination(i=>{let o=Xg(r,i.pageIndex);const s=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return o=Math.max(0,Math.min(o,s)),{...i,pageIndex:o}})},e.resetPageIndex=r=>{var i,o;e.setPageIndex(r?$q:(i=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageIndex)!=null?i:$q)},e.resetPageSize=r=>{var i,o;e.setPageSize(r?Lq:(i=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageSize)!=null?i:Lq)},e.setPageSize=r=>{e.setPagination(i=>{const o=Math.max(1,Xg(r,i.pageSize)),s=i.pageSize*i.pageIndex,a=Math.floor(s/o);return{...i,pageIndex:a,pageSize:o}})},e.setPageCount=r=>e.setPagination(i=>{var o;let s=Xg(r,(o=e.options.pageCount)!=null?o:-1);return typeof s=="number"&&(s=Math.max(-1,s)),{...i,pageCount:s}}),e.getPageOptions=vn(()=>[e.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((o,s)=>s)),i},bn(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:r<i-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},PB=()=>({top:[],bottom:[]}),JYt={getInitialState:e=>({rowPinning:PB(),...e}),getDefaultOptions:e=>({onRowPinningChange:Xu("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,i)=>{const o=r?e.getLeafRows().map(l=>{let{id:u}=l;return u}):[],s=i?e.getParentRows().map(l=>{let{id:u}=l;return u}):[],a=new Set([...s,e.id,...o]);t.setRowPinning(l=>{var u,c;if(n==="bottom"){var d,f;return{top:((d=l?.top)!=null?d:[]).filter(p=>!(a!=null&&a.has(p))),bottom:[...((f=l?.bottom)!=null?f:[]).filter(p=>!(a!=null&&a.has(p))),...Array.from(a)]}}if(n==="top"){var h,m;return{top:[...((h=l?.top)!=null?h:[]).filter(p=>!(a!=null&&a.has(p))),...Array.from(a)],bottom:((m=l?.bottom)!=null?m:[]).filter(p=>!(a!=null&&a.has(p)))}}return{top:((u=l?.top)!=null?u:[]).filter(p=>!(a!=null&&a.has(p))),bottom:((c=l?.bottom)!=null?c:[]).filter(p=>!(a!=null&&a.has(p)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=t.options;return typeof r=="function"?r(e):(n=r??i)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:i}=t.getState().rowPinning,o=n.some(a=>r?.includes(a)),s=n.some(a=>i?.includes(a));return o?"top":s?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();if(!i)return-1;const o=(n=i==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(s=>{let{id:a}=s;return a});return(r=o?.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?PB():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:PB())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var i,o;return!!((i=r.top)!=null&&i.length||(o=r.bottom)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(n??[]).map(s=>{const a=e.getRow(s,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(s=>t.find(a=>a.id===s))).filter(Boolean).map(s=>({...s,position:r}))},e.getTopRows=vn(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),bn(e.options,"debugRows")),e.getBottomRows=vn(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),bn(e.options,"debugRows")),e.getCenterRows=vn(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const i=new Set([...n??[],...r??[]]);return t.filter(o=>!i.has(o.id))},bn(e.options,"debugRows"))}},ZYt={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Xu("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(o=>{o.getCanSelect()&&(r[o.id]=!0)}):i.forEach(o=>{delete r[o.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach(o=>{Fq(i,o.id,r,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=vn(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?OB(e,n):{rows:[],flatRows:[],rowsById:{}},bn(e.options,"debugTable")),e.getFilteredSelectedRowModel=vn(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?OB(e,n):{rows:[],flatRows:[],rowsById:{}},bn(e.options,"debugTable")),e.getGroupedSelectedRowModel=vn(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?OB(e,n):{rows:[],flatRows:[],rowsById:{}},bn(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(i=>!n[i.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const i=e.getIsSelected();t.setRowSelection(o=>{var s;if(n=typeof n<"u"?n:!i,e.getCanSelect()&&i===n)return o;const a={...o};return Fq(a,e.id,n,(s=r?.selectChildren)!=null?s:!0,t),a})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Fee(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return jq(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return jq(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var i;n&&e.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},Fq=(e,t,n,r,i)=>{var o;const s=i.getRow(t,!0);n?(s.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),s.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(o=s.subRows)!=null&&o.length&&s.getCanSelectSubRows()&&s.subRows.forEach(a=>Fq(e,a.id,n,r,i))};function OB(e,t){const n=e.getState().rowSelection,r=[],i={},o=function(s,a){return s.map(l=>{var u;const c=Fee(l,n);if(c&&(r.push(l),i[l.id]=l),(u=l.subRows)!=null&&u.length&&(l={...l,subRows:o(l.subRows)}),c)return l}).filter(Boolean)};return{rows:o(t.rows),flatRows:r,rowsById:i}}function Fee(e,t){var n;return(n=t[e.id])!=null?n:!1}function jq(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let i=!0,o=!1;return e.subRows.forEach(s=>{if(!(o&&!i)&&(s.getCanSelect()&&(Fee(s,t)?o=!0:i=!1),s.subRows&&s.subRows.length)){const a=jq(s,t);a==="all"?o=!0:(a==="some"&&(o=!0),i=!1)}}),i?"all":o?"some":!1}const Bq=/([0-9]+)/gm,eKt=(e,t,n)=>zMe(M0(e.getValue(n)).toLowerCase(),M0(t.getValue(n)).toLowerCase()),tKt=(e,t,n)=>zMe(M0(e.getValue(n)),M0(t.getValue(n))),nKt=(e,t,n)=>jee(M0(e.getValue(n)).toLowerCase(),M0(t.getValue(n)).toLowerCase()),rKt=(e,t,n)=>jee(M0(e.getValue(n)),M0(t.getValue(n))),iKt=(e,t,n)=>{const r=e.getValue(n),i=t.getValue(n);return r>i?1:r<i?-1:0},oKt=(e,t,n)=>jee(e.getValue(n),t.getValue(n));function jee(e,t){return e===t?0:e>t?1:-1}function M0(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function zMe(e,t){const n=e.split(Bq).filter(Boolean),r=t.split(Bq).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),o=r.shift(),s=parseInt(i,10),a=parseInt(o,10),l=[s,a].sort();if(isNaN(l[0])){if(i>o)return 1;if(o>i)return-1;continue}if(isNaN(l[1]))return isNaN(s)?-1:1;if(s>a)return 1;if(a>s)return-1}return n.length-r.length}const rv={alphanumeric:eKt,alphanumericCaseSensitive:tKt,text:nKt,textCaseSensitive:rKt,datetime:iKt,basic:oKt},sKt={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Xu("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const o=i?.getValue(e.id);if(Object.prototype.toString.call(o)==="[object Date]")return rv.datetime;if(typeof o=="string"&&(r=!0,o.split(Bq).length>1))return rv.alphanumeric}return r?rv.text:rv.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof n?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return p$(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:rv[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const i=e.getNextSortingOrder(),o=typeof n<"u"&&n!==null;t.setSorting(s=>{const a=s?.find(h=>h.id===e.id),l=s?.findIndex(h=>h.id===e.id);let u=[],c,d=o?n:i==="desc";if(s!=null&&s.length&&e.getCanMultiSort()&&r?a?c="toggle":c="add":s!=null&&s.length&&l!==s.length-1?c="replace":a?c="toggle":c="replace",c==="toggle"&&(o||i||(c="remove")),c==="add"){var f;u=[...s,{id:e.id,desc:d}],u.splice(0,u.length-((f=t.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else c==="toggle"?u=s.map(h=>h.id===e.id?{...h,desc:d}:h):c==="remove"?u=s.filter(h=>h.id!==e.id):u=[{id:e.id,desc:d}];return u})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,i;const o=e.getFirstSortDir(),s=e.getIsSorted();return s?s!==o&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(i=t.options.enableMultiRemove)!=null)||i)?!1:s==="desc"?"asc":"desc":o},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(i=>i.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},aKt=[RYt,GYt,HYt,qYt,IYt,DYt,YYt,KYt,sKt,zYt,XYt,QYt,JYt,ZYt,VYt];function lKt(e){var t,n;const r=[...aKt,...(t=e._features)!=null?t:[]];let i={_features:r};const o=i._features.reduce((f,h)=>Object.assign(f,h.getDefaultOptions==null?void 0:h.getDefaultOptions(i)),{}),s=f=>i.options.mergeOptions?i.options.mergeOptions(o,f):{...o,...f};let l={...{},...(n=e.initialState)!=null?n:{}};i._features.forEach(f=>{var h;l=(h=f.getInitialState==null?void 0:f.getInitialState(l))!=null?h:l});const u=[];let c=!1;const d={_features:r,options:{...o,...e},initialState:l,_queue:f=>{u.push(f),c||(c=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();c=!1}).catch(h=>setTimeout(()=>{throw h})))},reset:()=>{i.setState(i.initialState)},setOptions:f=>{const h=Xg(f,i.options);i.options=s(h)},getState:()=>i.options.state,setState:f=>{i.options.onStateChange==null||i.options.onStateChange(f)},_getRowId:(f,h,m)=>{var p;return(p=i.options.getRowId==null?void 0:i.options.getRowId(f,h,m))!=null?p:`${m?[m.id,h].join("."):h}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(f,h)=>{let m=(h?i.getPrePaginationRowModel():i.getRowModel()).rowsById[f];if(!m&&(m=i.getCoreRowModel().rowsById[f],!m))throw new Error;return m},_getDefaultColumnDef:vn(()=>[i.options.defaultColumn],f=>{var h;return f=(h=f)!=null?h:{},{header:m=>{const p=m.header.column.columnDef;return p.accessorKey?p.accessorKey:p.accessorFn?p.id:null},cell:m=>{var p,g;return(p=(g=m.renderValue())==null||g.toString==null?void 0:g.toString())!=null?p:null},...i._features.reduce((m,p)=>Object.assign(m,p.getDefaultColumnDef==null?void 0:p.getDefaultColumnDef()),{}),...f}},bn(e,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:vn(()=>[i._getColumnDefs()],f=>{const h=function(m,p,g){return g===void 0&&(g=0),m.map(v=>{const y=AYt(i,v,g,p),w=v;return y.columns=w.columns?h(w.columns,y,g+1):[],y})};return h(f)},bn(e,"debugColumns")),getAllFlatColumns:vn(()=>[i.getAllColumns()],f=>f.flatMap(h=>h.getFlatColumns()),bn(e,"debugColumns")),_getAllFlatColumnsById:vn(()=>[i.getAllFlatColumns()],f=>f.reduce((h,m)=>(h[m.id]=m,h),{}),bn(e,"debugColumns")),getAllLeafColumns:vn(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(f,h)=>{let m=f.flatMap(p=>p.getLeafColumns());return h(m)},bn(e,"debugColumns")),getColumn:f=>i._getAllFlatColumnsById()[f]};Object.assign(i,d);for(let f=0;f<i._features.length;f++){const h=i._features[f];h==null||h.createTable==null||h.createTable(i)}return i}function uKt(){return e=>vn(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,o,s){o===void 0&&(o=0);const a=[];for(let u=0;u<i.length;u++){const c=XC(e,e._getRowId(i[u],u,s),i[u],u,o,void 0,s?.id);if(n.flatRows.push(c),n.rowsById[c.id]=c,a.push(c),e.options.getSubRows){var l;c.originalSubRows=e.options.getSubRows(i[u],u),(l=c.originalSubRows)!=null&&l.length&&(c.subRows=r(c.originalSubRows,o+1,c))}}return a};return n.rows=r(t),n},bn(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function cKt(){return e=>vn(()=>[e.getState().expanded,e.getPreExpandedRowModel(),e.options.paginateExpandedRows],(t,n,r)=>!n.rows.length||t!==!0&&!Object.keys(t??{}).length||!r?n:UMe(n),bn(e.options,"debugTable"))}function UMe(e){const t=[],n=r=>{var i;t.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function dKt(){return(e,t)=>vn(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return;const r=n.flatRows.flatMap(s=>{var a;return(a=s.getUniqueValues(t))!=null?a:[]}).map(Number).filter(s=>!Number.isNaN(s));if(!r.length)return;let i=r[0],o=r[r.length-1];for(const s of r)s<i?i=s:s>o&&(o=s);return[i,o]},bn(e.options,"debugTable"))}function HMe(e,t,n){return n.options.filterFromLeafRows?fKt(e,t,n):hKt(e,t,n)}function fKt(e,t,n){var r;const i=[],o={},s=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,u){u===void 0&&(u=0);const c=[];for(let f=0;f<l.length;f++){var d;let h=l[f];const m=XC(n,h.id,h.original,h.index,h.depth,void 0,h.parentId);if(m.columnFilters=h.columnFilters,(d=h.subRows)!=null&&d.length&&u<s){if(m.subRows=a(h.subRows,u+1),h=m,t(h)&&!m.subRows.length){c.push(h),o[h.id]=h,i.push(h);continue}if(t(h)||m.subRows.length){c.push(h),o[h.id]=h,i.push(h);continue}}else h=m,t(h)&&(c.push(h),o[h.id]=h,i.push(h))}return c};return{rows:a(e),flatRows:i,rowsById:o}}function hKt(e,t,n){var r;const i=[],o={},s=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,u){u===void 0&&(u=0);const c=[];for(let f=0;f<l.length;f++){let h=l[f];if(t(h)){var d;if((d=h.subRows)!=null&&d.length&&u<s){const p=XC(n,h.id,h.original,h.index,h.depth,void 0,h.parentId);p.subRows=a(h.subRows,u+1),h=p}c.push(h),i.push(h),o[h.id]=h}}return c};return{rows:a(e),flatRows:i,rowsById:o}}function pKt(){return(e,t)=>vn(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter,e.getFilteredRowModel()],(n,r,i)=>{if(!n.rows.length||!(r!=null&&r.length)&&!i)return n;const o=[...r.map(a=>a.id).filter(a=>a!==t),i?"__global__":void 0].filter(Boolean),s=a=>{for(let l=0;l<o.length;l++)if(a.columnFilters[o[l]]===!1)return!1;return!0};return HMe(n.rows,s,e)},bn(e.options,"debugTable"))}function mKt(){return(e,t)=>vn(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return new Map;let r=new Map;for(let o=0;o<n.flatRows.length;o++){const s=n.flatRows[o].getUniqueValues(t);for(let a=0;a<s.length;a++){const l=s[a];if(r.has(l)){var i;r.set(l,((i=r.get(l))!=null?i:0)+1)}else r.set(l,1)}}return r},bn(e.options,"debugTable"))}function gKt(){return e=>vn(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let f=0;f<t.flatRows.length;f++)t.flatRows[f].columnFilters={},t.flatRows[f].columnFiltersMeta={};return t}const i=[],o=[];(n??[]).forEach(f=>{var h;const m=e.getColumn(f.id);if(!m)return;const p=m.getFilterFn();p&&i.push({id:f.id,filterFn:p,resolvedValue:(h=p.resolveFilterValue==null?void 0:p.resolveFilterValue(f.value))!=null?h:f.value})});const s=(n??[]).map(f=>f.id),a=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(f=>f.getCanGlobalFilter());r&&a&&l.length&&(s.push("__global__"),l.forEach(f=>{var h;o.push({id:f.id,filterFn:a,resolvedValue:(h=a.resolveFilterValue==null?void 0:a.resolveFilterValue(r))!=null?h:r})}));let u,c;for(let f=0;f<t.flatRows.length;f++){const h=t.flatRows[f];if(h.columnFilters={},i.length)for(let m=0;m<i.length;m++){u=i[m];const p=u.id;h.columnFilters[p]=u.filterFn(h,p,u.resolvedValue,g=>{h.columnFiltersMeta[p]=g})}if(o.length){for(let m=0;m<o.length;m++){c=o[m];const p=c.id;if(c.filterFn(h,p,c.resolvedValue,g=>{h.columnFiltersMeta[p]=g})){h.columnFilters.__global__=!0;break}}h.columnFilters.__global__!==!0&&(h.columnFilters.__global__=!1)}}const d=f=>{for(let h=0;h<s.length;h++)if(f.columnFilters[s[h]]===!1)return!1;return!0};return HMe(t.rows,d,e)},bn(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function yKt(){return e=>vn(()=>[e.getState().grouping,e.getPreGroupedRowModel()],(t,n)=>{if(!n.rows.length||!t.length)return n.rows.forEach(l=>{l.depth=0,l.parentId=void 0}),n;const r=t.filter(l=>e.getColumn(l)),i=[],o={},s=function(l,u,c){if(u===void 0&&(u=0),u>=r.length)return l.map(m=>(m.depth=u,i.push(m),o[m.id]=m,m.subRows&&(m.subRows=s(m.subRows,u+1,m.id)),m));const d=r[u],f=vKt(l,d);return Array.from(f.entries()).map((m,p)=>{let[g,v]=m,y=`${d}:${g}`;y=c?`${c}>${y}`:y;const w=s(v,u+1,y);w.forEach(S=>{S.parentId=y});const _=u?PMe(v,S=>S.subRows):v,E=XC(e,y,_[0].original,p,u,void 0,c);return Object.assign(E,{groupingColumnId:d,groupingValue:g,subRows:w,leafRows:_,getValue:S=>{if(r.includes(S)){if(E._valuesCache.hasOwnProperty(S))return E._valuesCache[S];if(v[0]){var T;E._valuesCache[S]=(T=v[0].getValue(S))!=null?T:void 0}return E._valuesCache[S]}if(E._groupingValuesCache.hasOwnProperty(S))return E._groupingValuesCache[S];const k=e.getColumn(S),R=k?.getAggregationFn();if(R)return E._groupingValuesCache[S]=R(S,_,v),E._groupingValuesCache[S]}}),w.forEach(S=>{i.push(S),o[S.id]=S}),E})},a=s(n.rows,0);return a.forEach(l=>{i.push(l),o[l.id]=l}),{rows:a,flatRows:i,rowsById:o}},bn(e.options,"debugTable","getGroupedRowModel",()=>{e._queue(()=>{e._autoResetExpanded(),e._autoResetPageIndex()})}))}function vKt(e,t){const n=new Map;return e.reduce((r,i)=>{const o=`${i.getGroupingValue(t)}`,s=r.get(o);return s?s.push(i):r.set(o,[i]),r},n)}function bKt(e){return t=>vn(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:i,pageIndex:o}=n;let{rows:s,flatRows:a,rowsById:l}=r;const u=i*o,c=u+i;s=s.slice(u,c);let d;t.options.paginateExpandedRows?d={rows:s,flatRows:a,rowsById:l}:d=UMe({rows:s,flatRows:a,rowsById:l}),d.flatRows=[];const f=h=>{d.flatRows.push(h),h.subRows.length&&h.subRows.forEach(f)};return d.rows.forEach(f),d},bn(t.options,"debugTable"))}function wKt(){return e=>vn(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,i=[],o=r.filter(l=>{var u;return(u=e.getColumn(l.id))==null?void 0:u.getCanSort()}),s={};o.forEach(l=>{const u=e.getColumn(l.id);u&&(s[l.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const a=l=>{const u=l.map(c=>({...c}));return u.sort((c,d)=>{for(let h=0;h<o.length;h+=1){var f;const m=o[h],p=s[m.id],g=p.sortUndefined,v=(f=m?.desc)!=null?f:!1;let y=0;if(g){const w=c.getValue(m.id),_=d.getValue(m.id),E=w===void 0,S=_===void 0;if(E||S){if(g==="first")return E?-1:1;if(g==="last")return E?1:-1;y=E&&S?0:E?g:-g}}if(y===0&&(y=p.sortingFn(c,d,m.id)),y!==0)return v&&(y*=-1),p.invertSorting&&(y*=-1),y}return c.index-d.index}),u.forEach(c=>{var d;i.push(c),(d=c.subRows)!=null&&d.length&&(c.subRows=a(c.subRows))}),u};return{rows:a(n.rows),flatRows:i,rowsById:n.rowsById}},bn(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}function xKt(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=A.useState(()=>({current:lKt(t)})),[r,i]=A.useState(()=>n.current.initialState);return n.current.setOptions(o=>({...o,...e,state:{...r,...e.state},onStateChange:s=>{i(s),e.onStateChange==null||e.onStateChange(s)}})),n.current}const qMe={:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"AE",:"A",:"A",:"A",:"C",:"C",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"I",:"I",:"D",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"U",:"U",:"U",:"U",:"Y",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"ae",:"a",:"a",:"a",:"c",:"c",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"i",:"i",:"d",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"u",:"u",:"u",:"u",:"y",:"y",:"A",:"a",:"A",:"a",:"A",:"a",:"C",:"c",:"C",:"c",:"C",:"c",:"C",:"c",C:"C",c:"c",:"D",:"d",:"D",:"d",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"G",:"G",:"g",:"g",:"G",:"g",:"G",:"g",:"G",:"g",:"H",:"h",:"H",:"h",:"H",:"h",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"IJ",:"ij",:"J",:"j",:"K",:"k",:"K",:"k",K:"K",k:"k",:"L",:"l",:"L",:"l",:"L",:"l",:"L",:"l",:"l",:"l",:"M",:"m",M:"M",m:"m",:"N",:"n",:"N",:"n",:"N",:"n",:"n",N:"N",n:"n",:"O",:"o",:"O",:"o",:"O",:"o",:"OE",:"oe",P:"P",p:"p",:"R",:"r",:"R",:"r",:"R",:"r",R:"R",r:"r",:"R",:"r",:"S",:"s",:"S",:"s",:"S",:"S",:"s",:"s",:"S",:"s",:"T",:"t",:"t",:"T",:"T",:"t",:"T",:"t",T:"T",t:"t",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",V:"V",v:"v",:"W",:"w",:"W",:"w",X:"X",x:"x",:"Y",:"y",:"Y",Y:"Y",y:"y",:"Z",:"z",:"Z",:"z",:"Z",:"z",:"s",:"f",:"O",:"o",:"U",:"u",:"A",:"a",:"I",:"i",:"O",:"o",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"A",:"a",:"AE",:"ae",:"O",:"o",:"TH",:"th",:"P",:"p",:"S",:"s",X:"X",x:"x",:"",:"",:"",:"",A:"A",a:"a",E:"E",e:"e",I:"I",i:"i",:"N",:"n",:"O",:"o",:"O",:"o",:"U",:"u",:"W",:"w",:"Y",:"y",:"A",:"a",:"E",:"e",:"I",:"i",:"O",:"o",:"R",:"r",:"U",:"u",B:"B",b:"b",:"C",:"c",:"E",:"e",F:"F",f:"f",:"G",:"g",:"H",:"h",J:"J",:"j",:"K",:"k",M:"M",m:"m",P:"P",p:"p",Q:"Q",q:"q",:"R",:"r",:"S",:"s",V:"V",v:"v",W:"W",w:"w",X:"X",x:"x",Y:"Y",y:"y",A:"A",a:"a",B:"B",b:"b",:"D",:"d",:"E",:"e",:"E",:"e",:"H",:"h",I:"I",i:"i",:"I",:"i",M:"M",m:"m",O:"O",o:"o",Q:"Q",q:"q",U:"U",u:"u",X:"X",x:"x",Z:"Z",z:"z"},CKt=Object.keys(qMe).join("|"),_Kt=new RegExp(CKt,"g");function EKt(e){return e.replace(_Kt,t=>qMe[t])}const rl={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0};function SKt(e,t,n){var r;if(n=n||{},n.threshold=(r=n.threshold)!=null?r:rl.MATCHES,!n.accessors){const s=Kge(e,t,n);return{rankedValue:e,rank:s,accessorIndex:-1,accessorThreshold:n.threshold,passed:s>=n.threshold}}const i=IKt(e,n.accessors),o={rankedValue:e,rank:rl.NO_MATCH,accessorIndex:-1,accessorThreshold:n.threshold,passed:!1};for(let s=0;s<i.length;s++){const a=i[s];let l=Kge(a.itemValue,t,n);const{minRanking:u,maxRanking:c,threshold:d=n.threshold}=a.attributes;l<u&&l>=rl.MATCHES?l=u:l>c&&(l=c),l=Math.min(l,c),l>=d&&l>o.rank&&(o.rank=l,o.passed=!0,o.accessorIndex=s,o.accessorThreshold=d,o.rankedValue=a.itemValue)}return o}function Kge(e,t,n){return e=Xge(e,n),t=Xge(t,n),t.length>e.length?rl.NO_MATCH:e===t?rl.CASE_SENSITIVE_EQUAL:(e=e.toLowerCase(),t=t.toLowerCase(),e===t?rl.EQUAL:e.startsWith(t)?rl.STARTS_WITH:e.includes(` ${t}`)?rl.WORD_STARTS_WITH:e.includes(t)?rl.CONTAINS:t.length===1?rl.NO_MATCH:TKt(e).includes(t)?rl.ACRONYM:kKt(e,t))}function TKt(e){let t="";return e.split(" ").forEach(r=>{r.split("-").forEach(o=>{t+=o.substr(0,1)})}),t}function kKt(e,t){let n=0,r=0;function i(l,u,c){for(let d=c,f=u.length;d<f;d++)if(u[d]===l)return n+=1,d+1;return-1}function o(l){const u=1/l,c=n/t.length;return rl.MATCHES+c*u}const s=i(t[0],e,0);if(s<0)return rl.NO_MATCH;r=s;for(let l=1,u=t.length;l<u;l++){const c=t[l];if(r=i(c,e,r),!(r>-1))return rl.NO_MATCH}const a=r-s;return o(a)}function AKt(e,t){return e.rank===t.rank?0:e.rank>t.rank?-1:1}function Xge(e,t){let{keepDiacritics:n}=t;return e=`${e}`,n||(e=EKt(e)),e}function RKt(e,t){let n=t;typeof t=="object"&&(n=t.accessor);const r=n(e);return r==null?[]:Array.isArray(r)?r:[String(r)]}function IKt(e,t){const n=[];for(let r=0,i=t.length;r<i;r++){const o=t[r],s=DKt(o),a=RKt(e,o);for(let l=0,u=a.length;l<u;l++)n.push({itemValue:a[l],attributes:s})}return n}const Qge={maxRanking:1/0,minRanking:-1/0};function DKt(e){return typeof e=="function"?Qge:{...Qge,...e}}function Q1(e,t,n){let r=n.initialDeps??[],i;return()=>{var o,s,a,l;let u;n.key&&((o=n.debug)!=null&&o.call(n))&&(u=Date.now());const c=e();if(!(c.length!==r.length||c.some((h,m)=>r[m]!==h)))return i;r=c;let f;if(n.key&&((s=n.debug)!=null&&s.call(n))&&(f=Date.now()),i=t(...c),n.key&&((a=n.debug)!=null&&a.call(n))){const h=Math.round((Date.now()-u)*100)/100,m=Math.round((Date.now()-f)*100)/100,p=m/16,g=(v,y)=>{for(v=String(v);v.length<y;)v=" "+v;return v};console.info(`%c ${g(m,5)} /${g(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*p,120))}deg 100% 31%);`,n?.key)}return(l=n?.onChange)==null||l.call(n,i),i}}function NB(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const PKt=(e,t)=>Math.abs(e-t)<1,OKt=(e,t,n)=>{let r;return function(...i){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,i),n)}},NKt=e=>e,VMe=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let i=t;i<=n;i++)r.push(i);return r},MKt=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const i=s=>{const{width:a,height:l}=s;t({width:Math.round(a),height:Math.round(l)})};if(i(n.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const o=new r.ResizeObserver(s=>{const a=s[0];if(a?.borderBoxSize){const l=a.borderBoxSize[0];if(l){i({width:l.inlineSize,height:l.blockSize});return}}i(n.getBoundingClientRect())});return o.observe(n,{box:"border-box"}),()=>{o.unobserve(n)}},Jge={passive:!0},$Kt=typeof window>"u"?!0:"onscrollend"in window,LKt=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let i=0;const o=e.options.useScrollendEvent&&$Kt?()=>{}:OKt(r,()=>{t(i,!1)},e.options.isScrollingResetDelay),s=u=>()=>{const{horizontal:c,isRtl:d}=e.options;i=c?n.scrollLeft*(d&&-1||1):n.scrollTop,o(),t(i,u)},a=s(!0),l=s(!1);return l(),n.addEventListener("scroll",a,Jge),n.addEventListener("scrollend",l,Jge),()=>{n.removeEventListener("scroll",a),n.removeEventListener("scrollend",l)}},FKt=(e,t,n)=>{if(t?.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},jKt=(e,{adjustments:t=0,behavior:n},r)=>{var i,o;const s=e+t;(o=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||o.call(i,{[r.options.horizontal?"left":"top"]:s,behavior:n})};class BKt{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(o=>{this._measureElement(o.target,o)})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var o;return(o=r())==null?void 0:o.observe(i,{box:"border-box"})},unobserve:i=>{var o;return(o=r())==null?void 0:o.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:NKt,rangeExtractor:VMe,onChange:()=>{},measureElement:FKt,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=Q1(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=o,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,o=new Map;for(let s=r-1;s>=0;s--){const a=n[s];if(i.has(a.lane))continue;const l=o.get(a.lane);if(l==null||a.end>l.end?o.set(a.lane,a):a.end<l.end&&i.set(a.lane,!0),i.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((s,a)=>s.end===a.end?s.index-a.index:s.end-a.end)[0]:void 0},this.getMeasurementOptions=Q1(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,i,o,s)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:o,enabled:s}),{key:!1}),this.getMeasurements=Q1(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:o,enabled:s},a)=>{if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(c=>{this.itemSizeCache.set(c.key,c.size)}));const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,l);for(let c=l;c<n;c++){const d=o(c),f=this.options.lanes===1?u[c-1]:this.getFurthestMeasurement(u,c),h=f?f.end+this.options.gap:r+i,m=a.get(d),p=typeof m=="number"?m:this.options.estimateSize(c),g=h+p,v=f?f.lane:c%this.options.lanes;u[c]={index:c,start:h,size:p,end:g,key:d,lane:v}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Q1(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(n,r,i)=>this.range=n.length>0&&r>0?zKt({measurements:n,outerSize:r,scrollOffset:i}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=Q1(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(n,r,i,o)=>r===null?[]:n({startIndex:r.startIndex,endIndex:r.endIndex,overscan:i,count:o}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),o=this.measurementsCache[i];if(!o)return;const s=o.key,a=this.elementsCache.get(s);a!==n&&(a&&this.observer.unobserve(a),this.observer.observe(n),this.elementsCache.set(s,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const o=this.itemSizeCache.get(i.key)??i.size,s=r-o;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,s,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=Q1(()=>[this.getIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let o=0,s=n.length;o<s;o++){const a=n[o],l=r[a];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return NB(r[WMe(0,r.length-1,i=>NB(r[i]).start,n)])},this.getOffsetForAlignment=(n,r)=>{const i=this.getSize(),o=this.getScrollOffset();r==="auto"&&n>=o+i&&(r="end"),r==="end"&&(n-=i);const s=this.options.horizontal?"scrollWidth":"scrollHeight",l=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[s]:this.scrollElement[s]:0)-i;return Math.max(Math.min(l,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const o=this.getSize(),s=this.getScrollOffset();if(r==="auto")if(i.end>=s+o-this.options.scrollPaddingEnd)r="end";else if(i.start<=s+this.options.scrollPaddingStart)r="start";else return[s,r];const a=i.start-this.options.scrollPaddingStart+(i.size-o)/2;switch(r){case"center":return[this.getOffsetForAlignment(a,r),r];case"end":return[this.getOffsetForAlignment(i.end+this.options.scrollPaddingEnd,r),r];default:return[this.getOffsetForAlignment(i.start-this.options.scrollPaddingStart,r),r]}},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const o=this.getOffsetForIndex(n,r);if(!o)return;const[s,a]=o;this._scrollToOffset(s,{adjustments:void 0,behavior:i}),i!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const[u]=NB(this.getOffsetForIndex(n,a));PKt(u,this.getScrollOffset())||this.scrollToIndex(n,{align:a,behavior:i})}else this.scrollToIndex(n,{align:a,behavior:i})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;return r.length===0?i=this.options.paddingStart:i=this.options.lanes===1?((n=r[r.length-1])==null?void 0:n.end)??0:Math.max(...r.slice(-this.options.lanes).map(o=>o.end)),Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const WMe=(e,t,n,r)=>{for(;e<=t;){const i=(e+t)/2|0,o=n(i);if(o<r)e=i+1;else if(o>r)t=i-1;else return i}return e>0?e-1:0};function zKt({measurements:e,outerSize:t,scrollOffset:n}){const r=e.length-1,o=WMe(0,r,a=>e[a].start,n);let s=o;for(;s<r&&e[s].end<n+t;)s++;return{startIndex:o,endIndex:s}}const Zge=typeof document<"u"?A.useLayoutEffect:A.useEffect;function UKt(e){const t=A.useReducer(()=>({}),{})[1],n={...e,onChange:(i,o)=>{var s;o?kd.flushSync(t):t(),(s=e.onChange)==null||s.call(e,i,o)}},[r]=A.useState(()=>new BKt(n));return r.setOptions(n),Zge(()=>r._didMount(),[]),Zge(()=>r._willUpdate()),r}function GMe(e){return UKt({observeElementRect:MKt,observeElementOffset:LKt,scrollToFn:jKt,...e})}var i3={exports:{}},HKt=i3.exports,e0e;function qKt(){return e0e||(e0e=1,(function(e,t){(function(n,r){e.exports=r()})(HKt,(function(){var n=1e3,r=6e4,i=36e5,o="millisecond",s="second",a="minute",l="hour",u="day",c="week",d="month",f="quarter",h="year",m="date",p="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(O){var j=["th","st","nd","rd"],U=O%100;return"["+O+(j[(U-20)%10]||j[U]||j[0])+"]"}},w=function(O,j,U){var q=String(O);return!q||q.length>=j?O:""+Array(j+1-q.length).join(U)+O},_={s:w,z:function(O){var j=-O.utcOffset(),U=Math.abs(j),q=Math.floor(U/60),W=U%60;return(j<=0?"+":"-")+w(q,2,"0")+":"+w(W,2,"0")},m:function O(j,U){if(j.date()<U.date())return-O(U,j);var q=12*(U.year()-j.year())+(U.month()-j.month()),W=j.clone().add(q,d),V=U-W<0,z=j.clone().add(q+(V?-1:1),d);return+(-(q+(U-W)/(V?W-z:z-W))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:d,y:h,w:c,d:u,D:m,h:l,m:a,s,ms:o,Q:f}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},E="en",S={};S[E]=y;var T="$isDayjsObject",k=function(O){return O instanceof N||!(!O||!O[T])},R=function O(j,U,q){var W;if(!j)return E;if(typeof j=="string"){var V=j.toLowerCase();S[V]&&(W=V),U&&(S[V]=U,W=V);var z=j.split("-");if(!W&&z.length>1)return O(z[0])}else{var L=j.name;S[L]=j,W=L}return!q&&W&&(E=W),W||!q&&E},I=function(O,j){if(k(O))return O.clone();var U=typeof j=="object"?j:{};return U.date=O,U.args=arguments,new N(U)},P=_;P.l=R,P.i=k,P.w=function(O,j){return I(O,{locale:j.$L,utc:j.$u,x:j.$x,$offset:j.$offset})};var N=(function(){function O(U){this.$L=R(U.locale,null,!0),this.parse(U),this.$x=this.$x||U.x||{},this[T]=!0}var j=O.prototype;return j.parse=function(U){this.$d=(function(q){var W=q.date,V=q.utc;if(W===null)return new Date(NaN);if(P.u(W))return new Date;if(W instanceof Date)return new Date(W);if(typeof W=="string"&&!/Z$/i.test(W)){var z=W.match(g);if(z){var L=z[2]-1||0,H=(z[7]||"0").substring(0,3);return V?new Date(Date.UTC(z[1],L,z[3]||1,z[4]||0,z[5]||0,z[6]||0,H)):new Date(z[1],L,z[3]||1,z[4]||0,z[5]||0,z[6]||0,H)}}return new Date(W)})(U),this.init()},j.init=function(){var U=this.$d;this.$y=U.getFullYear(),this.$M=U.getMonth(),this.$D=U.getDate(),this.$W=U.getDay(),this.$H=U.getHours(),this.$m=U.getMinutes(),this.$s=U.getSeconds(),this.$ms=U.getMilliseconds()},j.$utils=function(){return P},j.isValid=function(){return this.$d.toString()!==p},j.isSame=function(U,q){var W=I(U);return this.startOf(q)<=W&&W<=this.endOf(q)},j.isAfter=function(U,q){return I(U)<this.startOf(q)},j.isBefore=function(U,q){return this.endOf(q)<I(U)},j.$g=function(U,q,W){return P.u(U)?this[q]:this.set(W,U)},j.unix=function(){return Math.floor(this.valueOf()/1e3)},j.valueOf=function(){return this.$d.getTime()},j.startOf=function(U,q){var W=this,V=!!P.u(q)||q,z=P.p(U),L=function(ue,ae){var te=P.w(W.$u?Date.UTC(W.$y,ae,ue):new Date(W.$y,ae,ue),W);return V?te:te.endOf(u)},H=function(ue,ae){return P.w(W.toDate()[ue].apply(W.toDate("s"),(V?[0,0,0,0]:[23,59,59,999]).slice(ae)),W)},B=this.$W,Y=this.$M,Q=this.$D,ne="set"+(this.$u?"UTC":"");switch(z){case h:return V?L(1,0):L(31,11);case d:return V?L(1,Y):L(0,Y+1);case c:var ce=this.$locale().weekStart||0,le=(B<ce?B+7:B)-ce;return L(V?Q-le:Q+(6-le),Y);case u:case m:return H(ne+"Hours",0);case l:return H(ne+"Minutes",1);case a:return H(ne+"Seconds",2);case s:return H(ne+"Milliseconds",3);default:return this.clone()}},j.endOf=function(U){return this.startOf(U,!1)},j.$set=function(U,q){var W,V=P.p(U),z="set"+(this.$u?"UTC":""),L=(W={},W[u]=z+"Date",W[m]=z+"Date",W[d]=z+"Month",W[h]=z+"FullYear",W[l]=z+"Hours",W[a]=z+"Minutes",W[s]=z+"Seconds",W[o]=z+"Milliseconds",W)[V],H=V===u?this.$D+(q-this.$W):q;if(V===d||V===h){var B=this.clone().set(m,1);B.$d[L](H),B.init(),this.$d=B.set(m,Math.min(this.$D,B.daysInMonth())).$d}else L&&this.$d[L](H);return this.init(),this},j.set=function(U,q){return this.clone().$set(U,q)},j.get=function(U){return this[P.p(U)]()},j.add=function(U,q){var W,V=this;U=Number(U);var z=P.p(q),L=function(Y){var Q=I(V);return P.w(Q.date(Q.date()+Math.round(Y*U)),V)};if(z===d)return this.set(d,this.$M+U);if(z===h)return this.set(h,this.$y+U);if(z===u)return L(1);if(z===c)return L(7);var H=(W={},W[a]=r,W[l]=i,W[s]=n,W)[z]||1,B=this.$d.getTime()+U*H;return P.w(B,this)},j.subtract=function(U,q){return this.add(-1*U,q)},j.format=function(U){var q=this,W=this.$locale();if(!this.isValid())return W.invalidDate||p;var V=U||"YYYY-MM-DDTHH:mm:ssZ",z=P.z(this),L=this.$H,H=this.$m,B=this.$M,Y=W.weekdays,Q=W.months,ne=W.meridiem,ce=function(ae,te,se,we){return ae&&(ae[te]||ae(q,V))||se[te].slice(0,we)},le=function(ae){return P.s(L%12||12,ae,"0")},ue=ne||function(ae,te,se){var we=ae<12?"AM":"PM";return se?we.toLowerCase():we};return V.replace(v,(function(ae,te){return te||(function(se){switch(se){case"YY":return String(q.$y).slice(-2);case"YYYY":return P.s(q.$y,4,"0");case"M":return B+1;case"MM":return P.s(B+1,2,"0");case"MMM":return ce(W.monthsShort,B,Q,3);case"MMMM":return ce(Q,B);case"D":return q.$D;case"DD":return P.s(q.$D,2,"0");case"d":return String(q.$W);case"dd":return ce(W.weekdaysMin,q.$W,Y,2);case"ddd":return ce(W.weekdaysShort,q.$W,Y,3);case"dddd":return Y[q.$W];case"H":return String(L);case"HH":return P.s(L,2,"0");case"h":return le(1);case"hh":return le(2);case"a":return ue(L,H,!0);case"A":return ue(L,H,!1);case"m":return String(H);case"mm":return P.s(H,2,"0");case"s":return String(q.$s);case"ss":return P.s(q.$s,2,"0");case"SSS":return P.s(q.$ms,3,"0");case"Z":return z}return null})(ae)||z.replace(":","")}))},j.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},j.diff=function(U,q,W){var V,z=this,L=P.p(q),H=I(U),B=(H.utcOffset()-this.utcOffset())*r,Y=this-H,Q=function(){return P.m(z,H)};switch(L){case h:V=Q()/12;break;case d:V=Q();break;case f:V=Q()/3;break;case c:V=(Y-B)/6048e5;break;case u:V=(Y-B)/864e5;break;case l:V=Y/i;break;case a:V=Y/r;break;case s:V=Y/n;break;default:V=Y}return W?V:P.a(V)},j.daysInMonth=function(){return this.endOf(d).$D},j.$locale=function(){return S[this.$L]},j.locale=function(U,q){if(!U)return this.$L;var W=this.clone(),V=R(U,q,!0);return V&&(W.$L=V),W},j.clone=function(){return P.w(this.$d,this)},j.toDate=function(){return new Date(this.valueOf())},j.toJSON=function(){return this.isValid()?this.toISOString():null},j.toISOString=function(){return this.$d.toISOString()},j.toString=function(){return this.$d.toUTCString()},O})(),M=N.prototype;return I.prototype=M,[["$ms",o],["$s",s],["$m",a],["$H",l],["$W",u],["$M",d],["$y",h],["$D",m]].forEach((function(O){M[O[1]]=function(j){return this.$g(j,O[0],O[1])}})),I.extend=function(O,j){return O.$i||(O(j,N,I),O.$i=!0),I},I.locale=R,I.isDayjs=k,I.unix=function(O){return I(1e3*O)},I.en=S[E],I.Ls=S,I.p={},I}))})(i3)),i3.exports}var VKt=qKt();const en=Xo(VKt);function WKt({direction:e,levelIndex:t,rowIndex:n,cellIndex:r,size:i}){switch(e){case"up":return t===0&&n===0?null:n===0?{levelIndex:t-1,rowIndex:r<=i[t-1][i[t-1].length-1]-1?i[t-1].length-1:i[t-1].length-2,cellIndex:r}:{levelIndex:t,rowIndex:n-1,cellIndex:r};case"down":return n===i[t].length-1?{levelIndex:t+1,rowIndex:0,cellIndex:r}:n===i[t].length-2&&r>=i[t][i[t].length-1]?{levelIndex:t+1,rowIndex:0,cellIndex:r}:{levelIndex:t,rowIndex:n+1,cellIndex:r};case"left":return t===0&&n===0&&r===0?null:n===0&&r===0?{levelIndex:t-1,rowIndex:i[t-1].length-1,cellIndex:i[t-1][i[t-1].length-1]-1}:r===0?{levelIndex:t,rowIndex:n-1,cellIndex:i[t][n-1]-1}:{levelIndex:t,rowIndex:n,cellIndex:r-1};case"right":return n===i[t].length-1&&r===i[t][n]-1?{levelIndex:t+1,rowIndex:0,cellIndex:0}:r===i[t][n]-1?{levelIndex:t,rowIndex:n+1,cellIndex:0}:{levelIndex:t,rowIndex:n,cellIndex:r+1};default:return{levelIndex:t,rowIndex:n,cellIndex:r}}}function YMe({controlsRef:e,direction:t,levelIndex:n,rowIndex:r,cellIndex:i,size:o}){const s=WKt({direction:t,size:o,rowIndex:r,cellIndex:i,levelIndex:n});if(!s)return;const a=e.current?.[s.levelIndex]?.[s.rowIndex]?.[s.cellIndex];a&&(a.disabled||a.getAttribute("data-hidden")||a.getAttribute("data-outside")?YMe({controlsRef:e,direction:t,levelIndex:s.levelIndex,cellIndex:s.cellIndex,rowIndex:s.rowIndex,size:o}):a.focus())}function GKt(e){switch(e){case"ArrowDown":return"down";case"ArrowUp":return"up";case"ArrowRight":return"right";case"ArrowLeft":return"left";default:return null}}function YKt(e){return e.current?.map(t=>t.map(n=>n.length))}function Bee({controlsRef:e,levelIndex:t,rowIndex:n,cellIndex:r,event:i}){const o=GKt(i.key);if(o){i.preventDefault();const s=YKt(e);YMe({controlsRef:e,direction:o,levelIndex:t,rowIndex:n,cellIndex:r,size:s})}}function KKt(e,t){if(!e||!t)return t;const n=e.getHours(),r=e.getMinutes(),i=e.getSeconds(),o=e.getMilliseconds(),s=new Date(t);return s.setHours(n),s.setMinutes(r),s.setSeconds(i),s.setMilliseconds(o),s}var o3={exports:{}},XKt=o3.exports,t0e;function QKt(){return t0e||(t0e=1,(function(e,t){(function(n,r){e.exports=r()})(XKt,(function(){var n={year:0,month:1,day:2,hour:3,minute:4,second:5},r={};return function(i,o,s){var a,l=function(f,h,m){m===void 0&&(m={});var p=new Date(f),g=(function(v,y){y===void 0&&(y={});var w=y.timeZoneName||"short",_=v+"|"+w,E=r[_];return E||(E=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:v,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:w}),r[_]=E),E})(h,m);return g.formatToParts(p)},u=function(f,h){for(var m=l(f,h),p=[],g=0;g<m.length;g+=1){var v=m[g],y=v.type,w=v.value,_=n[y];_>=0&&(p[_]=parseInt(w,10))}var E=p[3],S=E===24?0:E,T=p[0]+"-"+p[1]+"-"+p[2]+" "+S+":"+p[4]+":"+p[5]+":000",k=+f;return(s.utc(T).valueOf()-(k-=k%1e3))/6e4},c=o.prototype;c.tz=function(f,h){f===void 0&&(f=a);var m,p=this.utcOffset(),g=this.toDate(),v=g.toLocaleString("en-US",{timeZone:f}),y=Math.round((g-new Date(v))/1e3/60),w=15*-Math.round(g.getTimezoneOffset()/15)-y;if(!Number(w))m=this.utcOffset(0,h);else if(m=s(v,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(w,!0),h){var _=m.utcOffset();m=m.add(p-_,"minute")}return m.$x.$timezone=f,m},c.offsetName=function(f){var h=this.$x.$timezone||s.tz.guess(),m=l(this.valueOf(),h,{timeZoneName:f}).find((function(p){return p.type.toLowerCase()==="timezonename"}));return m&&m.value};var d=c.startOf;c.startOf=function(f,h){if(!this.$x||!this.$x.$timezone)return d.call(this,f,h);var m=s(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return d.call(m,f,h).tz(this.$x.$timezone,!0)},s.tz=function(f,h,m){var p=m&&h,g=m||h||a,v=u(+s(),g);if(typeof f!="string")return s(f).tz(g);var y=(function(S,T,k){var R=S-60*T*1e3,I=u(R,k);if(T===I)return[R,T];var P=u(R-=60*(I-T)*1e3,k);return I===P?[R,I]:[S-60*Math.min(I,P)*1e3,Math.max(I,P)]})(s.utc(f,p).valueOf(),v,g),w=y[0],_=y[1],E=s(w).utcOffset(_);return E.$x.$timezone=g,E},s.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},s.tz.setDefault=function(f){a=f}}}))})(o3)),o3.exports}var JKt=QKt();const ZKt=Xo(JKt);var s3={exports:{}},eXt=s3.exports,n0e;function tXt(){return n0e||(n0e=1,(function(e,t){(function(n,r){e.exports=r()})(eXt,(function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(o,s,a){var l=s.prototype;a.utc=function(p){var g={date:p,utc:!0,args:arguments};return new s(g)},l.utc=function(p){var g=a(this.toDate(),{locale:this.$L,utc:!0});return p?g.add(this.utcOffset(),n):g},l.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var u=l.parse;l.parse=function(p){p.utc&&(this.$u=!0),this.$utils().u(p.$offset)||(this.$offset=p.$offset),u.call(this,p)};var c=l.init;l.init=function(){if(this.$u){var p=this.$d;this.$y=p.getUTCFullYear(),this.$M=p.getUTCMonth(),this.$D=p.getUTCDate(),this.$W=p.getUTCDay(),this.$H=p.getUTCHours(),this.$m=p.getUTCMinutes(),this.$s=p.getUTCSeconds(),this.$ms=p.getUTCMilliseconds()}else c.call(this)};var d=l.utcOffset;l.utcOffset=function(p,g){var v=this.$utils().u;if(v(p))return this.$u?0:v(this.$offset)?d.call(this):this.$offset;if(typeof p=="string"&&(p=(function(E){E===void 0&&(E="");var S=E.match(r);if(!S)return null;var T=(""+S[0]).match(i)||["-",0,0],k=T[0],R=60*+T[1]+ +T[2];return R===0?0:k==="+"?R:-R})(p),p===null))return this;var y=Math.abs(p)<=16?60*p:p;if(y===0)return this.utc(g);var w=this.clone();if(g)return w.$offset=y,w.$u=!1,w;var _=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(w=this.local().add(y+_,n)).$offset=y,w.$x.$localOffset=_,w};var f=l.format;l.format=function(p){var g=p||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return f.call(this,g)},l.valueOf=function(){var p=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*p},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var h=l.toDate;l.toDate=function(p){return p==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var m=l.diff;l.diff=function(p,g,v){if(p&&this.$u===p.$u)return m.call(this,p,g,v);var y=this.local(),w=a(p).local();return m.call(y,w,g,v)}}}))})(s3)),s3.exports}var nXt=tXt();const rXt=Xo(nXt);en.extend(rXt);en.extend(ZKt);function iXt(e,t){return t?en(e).tz(t).utcOffset()+e.getTimezoneOffset():0}const r0e=(e,t,n)=>{if(!e)return null;if(!t)return e;let r=iXt(e,t);return n==="remove"&&(r*=-1),en(e).add(r,"minutes").toDate()};function Nv(e,t,n,r){return r||!t?t:Array.isArray(t)?t.map(i=>r0e(i,n,e)):r0e(t,n,e)}const oXt={locale:"en",timezone:null,firstDayOfWeek:1,weekendDays:[0,6],labelSeparator:"",consistentWeeks:!1},sXt=A.createContext(oXt);function Jc(){const e=A.useContext(sXt),t=A.useCallback(s=>s||e.locale,[e.locale]),n=A.useCallback(s=>s||e.timezone||void 0,[e.timezone]),r=A.useCallback(s=>typeof s=="number"?s:e.firstDayOfWeek,[e.firstDayOfWeek]),i=A.useCallback(s=>Array.isArray(s)?s:e.weekendDays,[e.weekendDays]),o=A.useCallback(s=>typeof s=="string"?s:e.labelSeparator,[e.labelSeparator]);return{...e,getLocale:t,getTimezone:n,getFirstDayOfWeek:r,getWeekendDays:i,getLabelSeparator:o}}function aXt(e,t){const n=Jc(),r=i=>Nv("remove",i,n.getTimezone()).toISOString();if(t==="range"&&Array.isArray(e)){const[i,o]=e;return i?o?`${r(i)}  ${r(o)}`:`${r(i)} `:""}return t==="multiple"&&Array.isArray(e)?e.map(i=>i&&r(i)).filter(Boolean).join(", "):!Array.isArray(e)&&e?r(e):""}function KMe({value:e,type:t,name:n,form:r}){return b.jsx("input",{type:"hidden",value:aXt(e,t),name:n,form:r})}KMe.displayName="@mantine/dates/HiddenDatesInput";var XMe={day:"m_396ce5cb"};const lXt={},uXt=(e,{size:t})=>({day:{"--day-size":hn(t,"day-size")}}),zee=nt((e,t)=>{const n=qe("Day",lXt,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,date:u,disabled:c,__staticSelector:d,weekend:f,outside:h,selected:m,renderDay:p,inRange:g,firstInRange:v,lastInRange:y,hidden:w,static:_,highlightToday:E,...S}=n,T=Rt({name:d||"Day",classes:XMe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:uXt,rootSelector:"day"}),k=Jc();return b.jsx(Yo,{...T("day",{style:w?{display:"none"}:void 0}),component:_?"div":"button",ref:t,disabled:c,"data-today":en(u).isSame(Nv("add",new Date,k.getTimezone()),"day")||void 0,"data-hidden":w||void 0,"data-highlight-today":E||void 0,"data-disabled":c||void 0,"data-weekend":!c&&!h&&f||void 0,"data-outside":!c&&h||void 0,"data-selected":!c&&m||void 0,"data-in-range":g&&!c||void 0,"data-first-in-range":v&&!c||void 0,"data-last-in-range":y&&!c||void 0,"data-static":_||void 0,unstyled:a,...S,children:p?.(u)||en(u).date()})});zee.classes=XMe;zee.displayName="@mantine/dates/Day";function cXt({locale:e,format:t="dd",firstDayOfWeek:n=1}){const r=en().day(n),i=[];for(let o=0;o<7;o+=1)typeof t=="string"?i.push(en(r).add(o,"days").locale(e).format(t)):i.push(t(en(r).add(o,"days").toDate()));return i}var QMe={weekday:"m_18a3eca"};const dXt={},fXt=(e,{size:t})=>({weekdaysRow:{"--wr-fz":lo(t),"--wr-spacing":Di(t)}}),Uee=nt((e,t)=>{const n=qe("WeekdaysRow",dXt,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,locale:u,firstDayOfWeek:c,weekdayFormat:d,cellComponent:f="th",__staticSelector:h,withWeekNumbers:m,...p}=n,g=Rt({name:h||"WeekdaysRow",classes:QMe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:fXt,rootSelector:"weekdaysRow"}),v=Jc(),y=cXt({locale:v.getLocale(u),format:d,firstDayOfWeek:v.getFirstDayOfWeek(c)}).map((w,_)=>b.jsx(f,{...g("weekday"),children:w},_));return b.jsxs(De,{component:"tr",ref:t,...g("weekdaysRow"),...p,children:[m&&b.jsx(f,{...g("weekday"),children:"#"}),y]})});Uee.classes=QMe;Uee.displayName="@mantine/dates/WeekdaysRow";function hXt(e,t=1){let n=en(e);const r=t===0?6:t-1;for(;n.day()!==r;)n=n.add(1,"day");return n.toDate()}function pXt(e,t=1){let n=en(e);for(;n.day()!==t;)n=n.subtract(1,"day");return n.toDate()}function mXt({month:e,firstDayOfWeek:t=1,consistentWeeks:n}){const r=en(e).subtract(en(e).date()-1,"day"),i=en(r).startOf("day"),o=i.toDate(),s=i.add(+i.daysInMonth()-1,"day").toDate(),a=hXt(s,t),l=pXt(o,t),u=[];for(;l<=a;){const c=[];for(let d=0;d<7;d+=1)c.push(new Date(l)),l.setDate(l.getDate()+1);u.push(c)}if(n&&u.length<6){const c=u[u.length-1],d=c[c.length-1],f=new Date(d);for(f.setDate(f.getDate()+1);u.length<6;){const h=[];for(let m=0;m<7;m+=1)h.push(new Date(f)),f.setDate(f.getDate()+1);u.push(h)}}return u}function JMe(e,t){return en(e).format("YYYY-MM")===en(t).format("YYYY-MM")}function ZMe(e,t){return t instanceof Date?en(e).isAfter(en(t).subtract(1,"day"),"day"):!0}function e6e(e,t){return t instanceof Date?en(e).isBefore(en(t).add(1,"day"),"day"):!0}function gXt(e,t,n,r,i,o,s){const a=e.flat().filter(c=>e6e(c,n)&&ZMe(c,t)&&!i?.(c)&&!r?.(c)?.disabled&&(!o||JMe(c,s))),l=a.find(c=>r?.(c)?.selected);if(l)return l;const u=a.find(c=>en().isSame(c,"date"));return u||a[0]}var a3={exports:{}},yXt=a3.exports,i0e;function vXt(){return i0e||(i0e=1,(function(e,t){(function(n,r){e.exports=r()})(yXt,(function(){var n="day";return function(r,i,o){var s=function(u){return u.add(4-u.isoWeekday(),n)},a=i.prototype;a.isoWeekYear=function(){return s(this).year()},a.isoWeek=function(u){if(!this.$utils().u(u))return this.add(7*(u-this.isoWeek()),n);var c,d,f,h,m=s(this),p=(c=this.isoWeekYear(),d=this.$u,f=(d?o.utc:o)().year(c).startOf("year"),h=4-f.isoWeekday(),f.isoWeekday()>4&&(h+=7),f.add(h,n));return m.diff(p,"week")+1},a.isoWeekday=function(u){return this.$utils().u(u)?this.day()||7:this.day(this.day()%7?u:u-7)};var l=a.startOf;a.startOf=function(u,c){var d=this.$utils(),f=!!d.u(c)||c;return d.p(u)==="isoweek"?f?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):l.bind(this)(u,c)}}}))})(a3)),a3.exports}var bXt=vXt();const wXt=Xo(bXt);en.extend(wXt);function xXt(e){const t=e.find(n=>en(n).day()===1);return en(t).isoWeek()}var t6e={month:"m_cc9820d3",monthCell:"m_8f457cd5",weekNumber:"m_6cff9dea"};const CXt={withCellSpacing:!0},_Xt=(e,{size:t})=>({weekNumber:{"--wn-fz":lo(t),"--wn-size":hn(t,"wn-size")}}),m$=nt((e,t)=>{const n=qe("Month",CXt,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,__staticSelector:u,locale:c,firstDayOfWeek:d,weekdayFormat:f,month:h,weekendDays:m,getDayProps:p,excludeDate:g,minDate:v,maxDate:y,renderDay:w,hideOutsideDates:_,hideWeekdays:E,getDayAriaLabel:S,static:T,__getDayRef:k,__onDayKeyDown:R,__onDayClick:I,__onDayMouseEnter:P,__preventFocus:N,__stopPropagation:M,withCellSpacing:O,size:j,highlightToday:U,withWeekNumbers:q,...W}=n,V=Rt({name:u||"Month",classes:t6e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:_Xt,rootSelector:"month"}),z=Jc(),L=mXt({month:h,firstDayOfWeek:z.getFirstDayOfWeek(d),consistentWeeks:z.consistentWeeks}),H=gXt(L,v,y,p,g,_,h),{resolvedClassNames:B,resolvedStyles:Y}=of({classNames:r,styles:s,props:n}),Q=L.map((ne,ce)=>{const le=ne.map((ue,ae)=>{const te=!JMe(ue,h),se=S?.(ue)||en(ue).locale(c||z.locale).format("D MMMM YYYY"),we=p?.(ue),X=en(ue).isSame(H,"date");return b.jsx("td",{...V("monthCell"),"data-with-spacing":O||void 0,children:b.jsx(zee,{__staticSelector:u||"Month",classNames:B,styles:Y,unstyled:a,"data-mantine-stop-propagation":M||void 0,highlightToday:U,renderDay:w,date:ue,size:j,weekend:z.getWeekendDays(m).includes(ue.getDay()),outside:te,hidden:_?te:!1,"aria-label":se,static:T,disabled:g?.(ue)||!e6e(ue,y)||!ZMe(ue,v),ref:he=>k?.(ce,ae,he),...we,onKeyDown:he=>{we?.onKeyDown?.(he),R?.(he,{rowIndex:ce,cellIndex:ae,date:ue})},onMouseEnter:he=>{we?.onMouseEnter?.(he),P?.(he,ue)},onClick:he=>{we?.onClick?.(he),I?.(he,ue)},onMouseDown:he=>{we?.onMouseDown?.(he),N&&he.preventDefault()},tabIndex:N||!X?-1:0})},ue.toString())});return b.jsxs("tr",{...V("monthRow"),children:[q&&b.jsx("td",{...V("weekNumber"),children:xXt(ne)}),le]},ce)});return b.jsxs(De,{component:"table",...V("month"),size:j,ref:t,...W,children:[!E&&b.jsx("thead",{...V("monthThead"),children:b.jsx(Uee,{__staticSelector:u||"Month",locale:c,firstDayOfWeek:d,weekdayFormat:f,size:j,classNames:B,styles:Y,unstyled:a,withWeekNumbers:q})}),b.jsx("tbody",{...V("monthTbody"),children:Q})]})});m$.classes=t6e;m$.displayName="@mantine/dates/Month";var n6e={pickerControl:"m_dc6a3c71"};const EXt={},SXt=(e,{size:t})=>({pickerControl:{"--dpc-fz":lo(t),"--dpc-size":hn(t,"dpc-size")}}),g$=nt((e,t)=>{const n=qe("PickerControl",EXt,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,firstInRange:u,lastInRange:c,inRange:d,__staticSelector:f,selected:h,disabled:m,...p}=n,g=Rt({name:f||"PickerControl",classes:n6e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:SXt,rootSelector:"pickerControl"});return b.jsx(Yo,{...g("pickerControl"),ref:t,unstyled:a,"data-picker-control":!0,"data-selected":h&&!m||void 0,"data-disabled":m||void 0,"data-in-range":d&&!m&&!h||void 0,"data-first-in-range":u&&!m||void 0,"data-last-in-range":c&&!m||void 0,disabled:m,...p})});g$.classes=n6e;g$.displayName="@mantine/dates/PickerControl";function r6e(e,t,n){return!t&&!n?!1:!!(t&&en(e).isBefore(t,"year")||n&&en(e).isAfter(n,"year"))}function TXt(e,t,n,r){const i=e.flat().filter(a=>!r6e(a,t,n)&&!r?.(a)?.disabled),o=i.find(a=>r?.(a)?.selected);if(o)return o;const s=i.find(a=>en().isSame(a,"year"));return s||i[0]}function i6e(e){const t=e.getFullYear(),n=t-t%10;let r=0;const i=[[],[],[],[]];for(let o=0;o<4;o+=1){const s=o===3?1:3;for(let a=0;a<s;a+=1)i[o].push(new Date(n+r,0)),r+=1}return i}var o6e={yearsList:"m_9206547b",yearsListCell:"m_c5a19c7d"};const kXt={yearsListFormat:"YYYY",withCellSpacing:!0},y$=nt((e,t)=>{const n=qe("YearsList",kXt,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,decade:u,yearsListFormat:c,locale:d,minDate:f,maxDate:h,getYearControlProps:m,__staticSelector:p,__getControlRef:g,__onControlKeyDown:v,__onControlClick:y,__onControlMouseEnter:w,__preventFocus:_,__stopPropagation:E,withCellSpacing:S,size:T,...k}=n,R=Rt({name:p||"YearsList",classes:o6e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,rootSelector:"yearsList"}),I=Jc(),P=i6e(u),N=TXt(P,f,h,m),M=P.map((O,j)=>{const U=O.map((q,W)=>{const V=m?.(q),z=en(q).isSame(N,"year");return b.jsx("td",{...R("yearsListCell"),"data-with-spacing":S||void 0,children:b.jsx(g$,{...R("yearsListControl"),size:T,unstyled:a,"data-mantine-stop-propagation":E||void 0,disabled:r6e(q,f,h),ref:L=>g?.(j,W,L),...V,onKeyDown:L=>{V?.onKeyDown?.(L),v?.(L,{rowIndex:j,cellIndex:W,date:q})},onClick:L=>{V?.onClick?.(L),y?.(L,q)},onMouseEnter:L=>{V?.onMouseEnter?.(L),w?.(L,q)},onMouseDown:L=>{V?.onMouseDown?.(L),_&&L.preventDefault()},tabIndex:_||!z?-1:0,children:en(q).locale(I.getLocale(d)).format(c)})},W)});return b.jsx("tr",{...R("yearsListRow"),children:U},j)});return b.jsx(De,{component:"table",ref:t,size:T,...R("yearsList"),...k,children:b.jsx("tbody",{children:M})})});y$.classes=o6e;y$.displayName="@mantine/dates/YearsList";function s6e(e,t,n){return!t&&!n?!1:!!(t&&en(e).isBefore(t,"month")||n&&en(e).isAfter(n,"month"))}function AXt(e,t,n,r){const i=e.flat().filter(a=>!s6e(a,t,n)&&!r?.(a)?.disabled),o=i.find(a=>r?.(a)?.selected);if(o)return o;const s=i.find(a=>en().isSame(a,"month"));return s||i[0]}function RXt(e){const t=en(e).startOf("year").toDate(),n=[[],[],[],[]];let r=0;for(let i=0;i<4;i+=1)for(let o=0;o<3;o+=1)n[i].push(en(t).add(r,"months").toDate()),r+=1;return n}var a6e={monthsList:"m_2a6c32d",monthsListCell:"m_fe27622f"};const IXt={monthsListFormat:"MMM",withCellSpacing:!0},v$=nt((e,t)=>{const n=qe("MonthsList",IXt,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,__staticSelector:u,year:c,monthsListFormat:d,locale:f,minDate:h,maxDate:m,getMonthControlProps:p,__getControlRef:g,__onControlKeyDown:v,__onControlClick:y,__onControlMouseEnter:w,__preventFocus:_,__stopPropagation:E,withCellSpacing:S,size:T,...k}=n,R=Rt({name:u||"MonthsList",classes:a6e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,rootSelector:"monthsList"}),I=Jc(),P=RXt(c),N=AXt(P,h,m,p),M=P.map((O,j)=>{const U=O.map((q,W)=>{const V=p?.(q),z=en(q).isSame(N,"month");return b.jsx("td",{...R("monthsListCell"),"data-with-spacing":S||void 0,children:b.jsx(g$,{...R("monthsListControl"),size:T,unstyled:a,__staticSelector:u||"MonthsList","data-mantine-stop-propagation":E||void 0,disabled:s6e(q,h,m),ref:L=>g?.(j,W,L),...V,onKeyDown:L=>{V?.onKeyDown?.(L),v?.(L,{rowIndex:j,cellIndex:W,date:q})},onClick:L=>{V?.onClick?.(L),y?.(L,q)},onMouseEnter:L=>{V?.onMouseEnter?.(L),w?.(L,q)},onMouseDown:L=>{V?.onMouseDown?.(L),_&&L.preventDefault()},tabIndex:_||!z?-1:0,children:en(q).locale(I.getLocale(f)).format(d)})},W)});return b.jsx("tr",{...R("monthsListRow"),children:U},j)});return b.jsx(De,{component:"table",ref:t,size:T,...R("monthsList"),...k,children:b.jsx("tbody",{children:M})})});v$.classes=a6e;v$.displayName="@mantine/dates/MonthsList";var l6e={calendarHeader:"m_730a79ed",calendarHeaderLevel:"m_f6645d97",calendarHeaderControl:"m_2351eeb0",calendarHeaderControlIcon:"m_367dc749"};const DXt={nextDisabled:!1,previousDisabled:!1,hasNextLevel:!0,withNext:!0,withPrevious:!0},PXt=(e,{size:t})=>({calendarHeader:{"--dch-control-size":hn(t,"dch-control-size"),"--dch-fz":lo(t)}}),ly=nt((e,t)=>{const n=qe("CalendarHeader",DXt,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,nextIcon:u,previousIcon:c,nextLabel:d,previousLabel:f,onNext:h,onPrevious:m,onLevelClick:p,label:g,nextDisabled:v,previousDisabled:y,hasNextLevel:w,levelControlAriaLabel:_,withNext:E,withPrevious:S,__staticSelector:T,__preventFocus:k,__stopPropagation:R,...I}=n,P=Rt({name:T||"CalendarHeader",classes:l6e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:PXt,rootSelector:"calendarHeader"}),N=k?M=>M.preventDefault():void 0;return b.jsxs(De,{...P("calendarHeader"),ref:t,...I,children:[S&&b.jsx(Yo,{...P("calendarHeaderControl"),"data-direction":"previous","aria-label":f,onClick:m,unstyled:a,onMouseDown:N,disabled:y,"data-disabled":y||void 0,tabIndex:k||y?-1:0,"data-mantine-stop-propagation":R||void 0,children:c||b.jsx(x3,{...P("calendarHeaderControlIcon"),"data-direction":"previous",size:"45%"})}),b.jsx(Yo,{component:w?"button":"div",...P("calendarHeaderLevel"),onClick:w?p:void 0,unstyled:a,onMouseDown:w?N:void 0,disabled:!w,"data-static":!w||void 0,"aria-label":_,tabIndex:k||!w?-1:0,"data-mantine-stop-propagation":R||void 0,children:g}),E&&b.jsx(Yo,{...P("calendarHeaderControl"),"data-direction":"next","aria-label":d,onClick:h,unstyled:a,onMouseDown:N,disabled:v,"data-disabled":v||void 0,tabIndex:k||v?-1:0,"data-mantine-stop-propagation":R||void 0,children:u||b.jsx(x3,{...P("calendarHeaderControlIcon"),"data-direction":"next",size:"45%"})})]})});ly.classes=l6e;ly.displayName="@mantine/dates/CalendarHeader";function OXt(e){const t=i6e(e);return[t[0][0],t[3][0]]}const NXt={decadeLabelFormat:"YYYY"},b$=nt((e,t)=>{const n=qe("DecadeLevel",NXt,e),{decade:r,locale:i,minDate:o,maxDate:s,yearsListFormat:a,getYearControlProps:l,__getControlRef:u,__onControlKeyDown:c,__onControlClick:d,__onControlMouseEnter:f,withCellSpacing:h,__preventFocus:m,nextIcon:p,previousIcon:g,nextLabel:v,previousLabel:y,onNext:w,onPrevious:_,nextDisabled:E,previousDisabled:S,levelControlAriaLabel:T,withNext:k,withPrevious:R,decadeLabelFormat:I,classNames:P,styles:N,unstyled:M,__staticSelector:O,__stopPropagation:j,size:U,...q}=n,W=Jc(),[V,z]=OXt(r),L={__staticSelector:O||"DecadeLevel",classNames:P,styles:N,unstyled:M,size:U},H=typeof E=="boolean"?E:s?!en(z).endOf("year").isBefore(s):!1,B=typeof S=="boolean"?S:o?!en(V).startOf("year").isAfter(o):!1,Y=(Q,ne)=>en(Q).locale(i||W.locale).format(ne);return b.jsxs(De,{"data-decade-level":!0,size:U,ref:t,...q,children:[b.jsx(ly,{label:typeof I=="function"?I(V,z):`${Y(V,I)}  ${Y(z,I)}`,__preventFocus:m,__stopPropagation:j,nextIcon:p,previousIcon:g,nextLabel:v,previousLabel:y,onNext:w,onPrevious:_,nextDisabled:H,previousDisabled:B,hasNextLevel:!1,levelControlAriaLabel:T,withNext:k,withPrevious:R,...L}),b.jsx(y$,{decade:r,locale:i,minDate:o,maxDate:s,yearsListFormat:a,getYearControlProps:l,__getControlRef:u,__onControlKeyDown:c,__onControlClick:d,__onControlMouseEnter:f,__preventFocus:m,__stopPropagation:j,withCellSpacing:h,...L})]})});b$.classes={...y$.classes,...ly.classes};b$.displayName="@mantine/dates/DecadeLevel";const MXt={yearLabelFormat:"YYYY"},w$=nt((e,t)=>{const n=qe("YearLevel",MXt,e),{year:r,locale:i,minDate:o,maxDate:s,monthsListFormat:a,getMonthControlProps:l,__getControlRef:u,__onControlKeyDown:c,__onControlClick:d,__onControlMouseEnter:f,withCellSpacing:h,__preventFocus:m,nextIcon:p,previousIcon:g,nextLabel:v,previousLabel:y,onNext:w,onPrevious:_,onLevelClick:E,nextDisabled:S,previousDisabled:T,hasNextLevel:k,levelControlAriaLabel:R,withNext:I,withPrevious:P,yearLabelFormat:N,__staticSelector:M,__stopPropagation:O,size:j,classNames:U,styles:q,unstyled:W,...V}=n,z=Jc(),L={__staticSelector:M||"YearLevel",classNames:U,styles:q,unstyled:W,size:j},H=typeof S=="boolean"?S:s?!en(r).endOf("year").isBefore(s):!1,B=typeof T=="boolean"?T:o?!en(r).startOf("year").isAfter(o):!1;return b.jsxs(De,{"data-year-level":!0,size:j,ref:t,...V,children:[b.jsx(ly,{label:typeof N=="function"?N(r):en(r).locale(i||z.locale).format(N),__preventFocus:m,__stopPropagation:O,nextIcon:p,previousIcon:g,nextLabel:v,previousLabel:y,onNext:w,onPrevious:_,onLevelClick:E,nextDisabled:H,previousDisabled:B,hasNextLevel:k,levelControlAriaLabel:R,withNext:I,withPrevious:P,...L}),b.jsx(v$,{year:r,locale:i,minDate:o,maxDate:s,monthsListFormat:a,getMonthControlProps:l,__getControlRef:u,__onControlKeyDown:c,__onControlClick:d,__onControlMouseEnter:f,__preventFocus:m,__stopPropagation:O,withCellSpacing:h,...L})]})});w$.classes={...ly.classes,...v$.classes};w$.displayName="@mantine/dates/YearLevel";const $Xt={monthLabelFormat:"MMMM YYYY"},x$=nt((e,t)=>{const n=qe("MonthLevel",$Xt,e),{month:r,locale:i,firstDayOfWeek:o,weekdayFormat:s,weekendDays:a,getDayProps:l,excludeDate:u,minDate:c,maxDate:d,renderDay:f,hideOutsideDates:h,hideWeekdays:m,getDayAriaLabel:p,__getDayRef:g,__onDayKeyDown:v,__onDayClick:y,__onDayMouseEnter:w,withCellSpacing:_,highlightToday:E,withWeekNumbers:S,__preventFocus:T,__stopPropagation:k,nextIcon:R,previousIcon:I,nextLabel:P,previousLabel:N,onNext:M,onPrevious:O,onLevelClick:j,nextDisabled:U,previousDisabled:q,hasNextLevel:W,levelControlAriaLabel:V,withNext:z,withPrevious:L,monthLabelFormat:H,classNames:B,styles:Y,unstyled:Q,__staticSelector:ne,size:ce,static:le,...ue}=n,ae=Jc(),te={__staticSelector:ne||"MonthLevel",classNames:B,styles:Y,unstyled:Q,size:ce},se=typeof U=="boolean"?U:d?!en(r).endOf("month").isBefore(d):!1,we=typeof q=="boolean"?q:c?!en(r).startOf("month").isAfter(c):!1;return b.jsxs(De,{"data-month-level":!0,size:ce,ref:t,...ue,children:[b.jsx(ly,{label:typeof H=="function"?H(r):en(r).locale(i||ae.locale).format(H),__preventFocus:T,__stopPropagation:k,nextIcon:R,previousIcon:I,nextLabel:P,previousLabel:N,onNext:M,onPrevious:O,onLevelClick:j,nextDisabled:se,previousDisabled:we,hasNextLevel:W,levelControlAriaLabel:V,withNext:z,withPrevious:L,...te}),b.jsx(m$,{month:r,locale:i,firstDayOfWeek:o,weekdayFormat:s,weekendDays:a,getDayProps:l,excludeDate:u,minDate:c,maxDate:d,renderDay:f,hideOutsideDates:h,hideWeekdays:m,getDayAriaLabel:p,__getDayRef:g,__onDayKeyDown:v,__onDayClick:y,__onDayMouseEnter:w,__preventFocus:T,__stopPropagation:k,static:le,withCellSpacing:_,highlightToday:E,withWeekNumbers:S,...te})]})});x$.classes={...m$.classes,...ly.classes};x$.displayName="@mantine/dates/MonthLevel";var u6e={levelsGroup:"m_30b26e33"};const LXt={},uy=nt((e,t)=>{const n=qe("LevelsGroup",LXt,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,__staticSelector:u,...c}=n,d=Rt({name:u||"LevelsGroup",classes:u6e,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,rootSelector:"levelsGroup"});return b.jsx(De,{ref:t,...d("levelsGroup"),...c})});uy.classes=u6e;uy.displayName="@mantine/dates/LevelsGroup";const FXt={numberOfColumns:1},C$=nt((e,t)=>{const n=qe("DecadeLevelGroup",FXt,e),{decade:r,locale:i,minDate:o,maxDate:s,yearsListFormat:a,getYearControlProps:l,__onControlClick:u,__onControlMouseEnter:c,withCellSpacing:d,__preventFocus:f,nextIcon:h,previousIcon:m,nextLabel:p,previousLabel:g,onNext:v,onPrevious:y,nextDisabled:w,previousDisabled:_,classNames:E,styles:S,unstyled:T,__staticSelector:k,__stopPropagation:R,numberOfColumns:I,levelControlAriaLabel:P,decadeLabelFormat:N,size:M,vars:O,...j}=n,U=A.useRef([]),q=Array(I).fill(0).map((W,V)=>{const z=en(r).add(V*10,"years").toDate();return b.jsx(b$,{size:M,yearsListFormat:a,decade:z,withNext:V===I-1,withPrevious:V===0,decadeLabelFormat:N,__onControlClick:u,__onControlMouseEnter:c,__onControlKeyDown:(L,H)=>Bee({levelIndex:V,rowIndex:H.rowIndex,cellIndex:H.cellIndex,event:L,controlsRef:U}),__getControlRef:(L,H,B)=>{Array.isArray(U.current[V])||(U.current[V]=[]),Array.isArray(U.current[V][L])||(U.current[V][L]=[]),U.current[V][L][H]=B},levelControlAriaLabel:typeof P=="function"?P(z):P,locale:i,minDate:o,maxDate:s,__preventFocus:f,__stopPropagation:R,nextIcon:h,previousIcon:m,nextLabel:p,previousLabel:g,onNext:v,onPrevious:y,nextDisabled:w,previousDisabled:_,getYearControlProps:l,__staticSelector:k||"DecadeLevelGroup",classNames:E,styles:S,unstyled:T,withCellSpacing:d},V)});return b.jsx(uy,{classNames:E,styles:S,__staticSelector:k||"DecadeLevelGroup",ref:t,size:M,unstyled:T,...j,children:q})});C$.classes={...uy.classes,...b$.classes};C$.displayName="@mantine/dates/DecadeLevelGroup";const jXt={numberOfColumns:1},_$=nt((e,t)=>{const n=qe("YearLevelGroup",jXt,e),{year:r,locale:i,minDate:o,maxDate:s,monthsListFormat:a,getMonthControlProps:l,__onControlClick:u,__onControlMouseEnter:c,withCellSpacing:d,__preventFocus:f,nextIcon:h,previousIcon:m,nextLabel:p,previousLabel:g,onNext:v,onPrevious:y,onLevelClick:w,nextDisabled:_,previousDisabled:E,hasNextLevel:S,classNames:T,styles:k,unstyled:R,__staticSelector:I,__stopPropagation:P,numberOfColumns:N,levelControlAriaLabel:M,yearLabelFormat:O,size:j,vars:U,...q}=n,W=A.useRef([]),V=Array(N).fill(0).map((z,L)=>{const H=en(r).add(L,"years").toDate();return b.jsx(w$,{size:j,monthsListFormat:a,year:H,withNext:L===N-1,withPrevious:L===0,yearLabelFormat:O,__stopPropagation:P,__onControlClick:u,__onControlMouseEnter:c,__onControlKeyDown:(B,Y)=>Bee({levelIndex:L,rowIndex:Y.rowIndex,cellIndex:Y.cellIndex,event:B,controlsRef:W}),__getControlRef:(B,Y,Q)=>{Array.isArray(W.current[L])||(W.current[L]=[]),Array.isArray(W.current[L][B])||(W.current[L][B]=[]),W.current[L][B][Y]=Q},levelControlAriaLabel:typeof M=="function"?M(H):M,locale:i,minDate:o,maxDate:s,__preventFocus:f,nextIcon:h,previousIcon:m,nextLabel:p,previousLabel:g,onNext:v,onPrevious:y,onLevelClick:w,nextDisabled:_,previousDisabled:E,hasNextLevel:S,getMonthControlProps:l,classNames:T,styles:k,unstyled:R,__staticSelector:I||"YearLevelGroup",withCellSpacing:d},L)});return b.jsx(uy,{classNames:T,styles:k,__staticSelector:I||"YearLevelGroup",ref:t,size:j,unstyled:R,...q,children:V})});_$.classes={...w$.classes,...uy.classes};_$.displayName="@mantine/dates/YearLevelGroup";const BXt={numberOfColumns:1},E$=nt((e,t)=>{const n=qe("MonthLevelGroup",BXt,e),{month:r,locale:i,firstDayOfWeek:o,weekdayFormat:s,weekendDays:a,getDayProps:l,excludeDate:u,minDate:c,maxDate:d,renderDay:f,hideOutsideDates:h,hideWeekdays:m,getDayAriaLabel:p,__onDayClick:g,__onDayMouseEnter:v,withCellSpacing:y,highlightToday:w,withWeekNumbers:_,__preventFocus:E,nextIcon:S,previousIcon:T,nextLabel:k,previousLabel:R,onNext:I,onPrevious:P,onLevelClick:N,nextDisabled:M,previousDisabled:O,hasNextLevel:j,classNames:U,styles:q,unstyled:W,numberOfColumns:V,levelControlAriaLabel:z,monthLabelFormat:L,__staticSelector:H,__stopPropagation:B,size:Y,static:Q,vars:ne,...ce}=n,le=A.useRef([]),ue=Array(V).fill(0).map((ae,te)=>{const se=en(r).add(te,"months").toDate();return b.jsx(x$,{month:se,withNext:te===V-1,withPrevious:te===0,monthLabelFormat:L,__stopPropagation:B,__onDayClick:g,__onDayMouseEnter:v,__onDayKeyDown:(we,X)=>Bee({levelIndex:te,rowIndex:X.rowIndex,cellIndex:X.cellIndex,event:we,controlsRef:le}),__getDayRef:(we,X,he)=>{Array.isArray(le.current[te])||(le.current[te]=[]),Array.isArray(le.current[te][we])||(le.current[te][we]=[]),le.current[te][we][X]=he},levelControlAriaLabel:typeof z=="function"?z(se):z,locale:i,firstDayOfWeek:o,weekdayFormat:s,weekendDays:a,getDayProps:l,excludeDate:u,minDate:c,maxDate:d,renderDay:f,hideOutsideDates:h,hideWeekdays:m,getDayAriaLabel:p,__preventFocus:E,nextIcon:S,previousIcon:T,nextLabel:k,previousLabel:R,onNext:I,onPrevious:P,onLevelClick:N,nextDisabled:M,previousDisabled:O,hasNextLevel:j,classNames:U,styles:q,unstyled:W,__staticSelector:H||"MonthLevelGroup",size:Y,static:Q,withCellSpacing:y,highlightToday:w,withWeekNumbers:_},te)});return b.jsx(uy,{classNames:U,styles:q,__staticSelector:H||"MonthLevelGroup",ref:t,size:Y,...ce,children:ue})});E$.classes={...uy.classes,...x$.classes};E$.displayName="@mantine/dates/MonthLevelGroup";const o0e=e=>e==="range"?[null,null]:e==="multiple"?[]:null;function zq({type:e,value:t,defaultValue:n,onChange:r,applyTimezone:i=!0}){const o=A.useRef(e),s=Jc(),[a,l,u]=qi({value:Nv("add",t,s.getTimezone(),!i),defaultValue:Nv("add",n,s.getTimezone(),!i),finalValue:o0e(e),onChange:d=>{r?.(Nv("remove",d,s.getTimezone(),!i))}});let c=a;return o.current!==e&&(o.current=e,t===void 0&&(c=n!==void 0?n:o0e(e),l(c))),[c,l,u]}function MB(e,t){return e?e==="month"?0:e==="year"?1:2:t||0}function zXt(e){return e===0?"month":e===1?"year":"decade"}function pE(e,t,n){return zXt(Tc(MB(e,0),MB(t,0),MB(n,2)))}const UXt={maxLevel:"decade",minLevel:"month",__updateDateOnYearSelect:!0,__updateDateOnMonthSelect:!0},S$=nt((e,t)=>{const n=qe("Calendar",UXt,e),{vars:r,maxLevel:i,minLevel:o,defaultLevel:s,level:a,onLevelChange:l,date:u,defaultDate:c,onDateChange:d,numberOfColumns:f,columnsToScroll:h,ariaLabels:m,nextLabel:p,previousLabel:g,onYearSelect:v,onMonthSelect:y,onYearMouseEnter:w,onMonthMouseEnter:_,__updateDateOnYearSelect:E,__updateDateOnMonthSelect:S,firstDayOfWeek:T,weekdayFormat:k,weekendDays:R,getDayProps:I,excludeDate:P,renderDay:N,hideOutsideDates:M,hideWeekdays:O,getDayAriaLabel:j,monthLabelFormat:U,nextIcon:q,previousIcon:W,__onDayClick:V,__onDayMouseEnter:z,withCellSpacing:L,highlightToday:H,withWeekNumbers:B,monthsListFormat:Y,getMonthControlProps:Q,yearLabelFormat:ne,yearsListFormat:ce,getYearControlProps:le,decadeLabelFormat:ue,classNames:ae,styles:te,unstyled:se,minDate:we,maxDate:X,locale:he,__staticSelector:ge,size:re,__preventFocus:ee,__stopPropagation:fe,onNextDecade:Re,onPreviousDecade:Oe,onNextYear:Ae,onPreviousYear:Se,onNextMonth:xe,onPreviousMonth:ke,static:me,__timezoneApplied:Me,...ze}=n,{resolvedClassNames:Xe,resolvedStyles:tt}=of({classNames:ae,styles:te,props:n}),[gt,qt]=qi({value:a?pE(a,o,i):void 0,defaultValue:s?pE(s,o,i):void 0,finalValue:pE(void 0,o,i),onChange:l}),[zt,_n]=zq({type:"default",value:u,defaultValue:c,onChange:d,applyTimezone:!Me}),$t={__staticSelector:ge||"Calendar",styles:tt,classNames:Xe,unstyled:se,size:re},dn=Jc(),Vn=h||f||1,Ln=new Date,Tr=we&&we>Ln?we:Ln,Xn=zt||Nv("add",Tr,dn.getTimezone()),mr=()=>{const Sn=en(Xn).add(Vn,"month").toDate();xe?.(Sn),_n(Sn)},En=()=>{const Sn=en(Xn).subtract(Vn,"month").toDate();ke?.(Sn),_n(Sn)},nn=()=>{const Sn=en(Xn).add(Vn,"year").toDate();Ae?.(Sn),_n(Sn)},rr=()=>{const Sn=en(Xn).subtract(Vn,"year").toDate();Se?.(Sn),_n(Sn)},ii=()=>{const Sn=en(Xn).add(10*Vn,"year").toDate();Re?.(Sn),_n(Sn)},br=()=>{const Sn=en(Xn).subtract(10*Vn,"year").toDate();Oe?.(Sn),_n(Sn)};return b.jsxs(De,{ref:t,size:re,"data-calendar":!0,...ze,children:[gt==="month"&&b.jsx(E$,{month:Xn,minDate:we,maxDate:X,firstDayOfWeek:T,weekdayFormat:k,weekendDays:R,getDayProps:I,excludeDate:P,renderDay:N,hideOutsideDates:M,hideWeekdays:O,getDayAriaLabel:j,onNext:mr,onPrevious:En,hasNextLevel:i!=="month",onLevelClick:()=>qt("year"),numberOfColumns:f,locale:he,levelControlAriaLabel:m?.monthLevelControl,nextLabel:m?.nextMonth??p,nextIcon:q,previousLabel:m?.previousMonth??g,previousIcon:W,monthLabelFormat:U,__onDayClick:V,__onDayMouseEnter:z,__preventFocus:ee,__stopPropagation:fe,static:me,withCellSpacing:L,highlightToday:H,withWeekNumbers:B,...$t}),gt==="year"&&b.jsx(_$,{year:Xn,numberOfColumns:f,minDate:we,maxDate:X,monthsListFormat:Y,getMonthControlProps:Q,locale:he,onNext:nn,onPrevious:rr,hasNextLevel:i!=="month"&&i!=="year",onLevelClick:()=>qt("decade"),levelControlAriaLabel:m?.yearLevelControl,nextLabel:m?.nextYear??p,nextIcon:q,previousLabel:m?.previousYear??g,previousIcon:W,yearLabelFormat:ne,__onControlMouseEnter:_,__onControlClick:(Sn,ht)=>{S&&_n(ht),qt(pE("month",o,i)),y?.(ht)},__preventFocus:ee,__stopPropagation:fe,withCellSpacing:L,...$t}),gt==="decade"&&b.jsx(C$,{decade:Xn,minDate:we,maxDate:X,yearsListFormat:ce,getYearControlProps:le,locale:he,onNext:ii,onPrevious:br,numberOfColumns:f,nextLabel:m?.nextDecade??p,nextIcon:q,previousLabel:m?.previousDecade??g,previousIcon:W,decadeLabelFormat:ue,__onControlMouseEnter:w,__onControlClick:(Sn,ht)=>{E&&_n(ht),qt(pE("year",o,i)),v?.(ht)},__preventFocus:ee,__stopPropagation:fe,withCellSpacing:L,...$t})]})});S$.classes={...C$.classes,..._$.classes,...E$.classes};S$.displayName="@mantine/dates/Calendar";function HXt(e){const{maxLevel:t,minLevel:n,defaultLevel:r,level:i,onLevelChange:o,nextIcon:s,previousIcon:a,date:l,defaultDate:u,onDateChange:c,numberOfColumns:d,columnsToScroll:f,ariaLabels:h,nextLabel:m,previousLabel:p,onYearSelect:g,onMonthSelect:v,onYearMouseEnter:y,onMonthMouseEnter:w,onNextMonth:_,onPreviousMonth:E,onNextYear:S,onPreviousYear:T,onNextDecade:k,onPreviousDecade:R,withCellSpacing:I,highlightToday:P,__updateDateOnYearSelect:N,__updateDateOnMonthSelect:M,withWeekNumbers:O,firstDayOfWeek:j,weekdayFormat:U,weekendDays:q,getDayProps:W,excludeDate:V,renderDay:z,hideOutsideDates:L,hideWeekdays:H,getDayAriaLabel:B,monthLabelFormat:Y,monthsListFormat:Q,getMonthControlProps:ne,yearLabelFormat:ce,yearsListFormat:le,getYearControlProps:ue,decadeLabelFormat:ae,allowSingleDateInRange:te,allowDeselect:se,minDate:we,maxDate:X,locale:he,...ge}=e;return{calendarProps:{maxLevel:t,minLevel:n,defaultLevel:r,level:i,onLevelChange:o,nextIcon:s,previousIcon:a,date:l,defaultDate:u,onDateChange:c,numberOfColumns:d,columnsToScroll:f,ariaLabels:h,nextLabel:m,previousLabel:p,onYearSelect:g,onMonthSelect:v,onYearMouseEnter:y,onMonthMouseEnter:w,onNextMonth:_,onPreviousMonth:E,onNextYear:S,onPreviousYear:T,onNextDecade:k,onPreviousDecade:R,withCellSpacing:I,highlightToday:P,__updateDateOnYearSelect:N,__updateDateOnMonthSelect:M,withWeekNumbers:O,firstDayOfWeek:j,weekdayFormat:U,weekendDays:q,getDayProps:W,excludeDate:V,renderDay:z,hideOutsideDates:L,hideWeekdays:H,getDayAriaLabel:B,monthLabelFormat:Y,monthsListFormat:Q,getMonthControlProps:ne,yearLabelFormat:ce,yearsListFormat:le,getYearControlProps:ue,decadeLabelFormat:ae,allowSingleDateInRange:te,allowDeselect:se,minDate:we,maxDate:X,locale:he},others:ge}}function qXt(e,t){if(e===null)return null;const n=Nv("add",new Date(e),t);return Number.isNaN(n.getTime())||!e?null:n}function VXt({date:e,maxDate:t,minDate:n}){return!(e==null||Number.isNaN(e.getTime())||t&&en(e).isAfter(t,"date")||n&&en(e).isBefore(n,"date"))}const WXt={valueFormat:"MMMM D, YYYY",fixOnBlur:!0,preserveTime:!0},Hee=nt((e,t)=>{const n=IV("DateInput",WXt,e),{inputProps:r,wrapperProps:i,value:o,defaultValue:s,onChange:a,clearable:l,clearButtonProps:u,popoverProps:c,getDayProps:d,locale:f,valueFormat:h,dateParser:m,minDate:p,maxDate:g,fixOnBlur:v,onFocus:y,onBlur:w,onClick:_,onKeyDown:E,readOnly:S,name:T,form:k,rightSection:R,unstyled:I,classNames:P,styles:N,allowDeselect:M,preserveTime:O,date:j,defaultDate:U,onDateChange:q,...W}=n,V=A.useRef(null),z=A.useRef(null),[L,H]=A.useState(!1),{calendarProps:B,others:Y}=HXt(W),Q=Jc(),ce=m||(xe=>{const ke=en(xe,h,Q.getLocale(f)).toDate();return Number.isNaN(ke.getTime())?qXt(xe,Q.getTimezone()):ke}),le=M!==void 0?M:l,ue=xe=>xe?en(xe).locale(Q.getLocale(f)).format(h):"",[ae,te,se]=zq({type:"default",value:o,defaultValue:s,onChange:a}),[we,X]=zq({type:"default",value:j,defaultValue:s||U,onChange:q});A.useEffect(()=>{se&&o!==null&&X(o)},[se,o]);const[he,ge]=A.useState(ue(ae));A.useEffect(()=>{ge(ue(ae))},[Q.getLocale(f)]);const re=xe=>{const ke=xe.currentTarget.value;if(ge(ke),H(!0),ke.trim()===""&&l)te(null);else{const me=ce(ke);VXt({date:me,minDate:p,maxDate:g})&&(te(me),X(me))}},ee=xe=>{w?.(xe),H(!1),v&&ge(ue(ae))},fe=xe=>{y?.(xe),H(!0)},Re=xe=>{_?.(xe),H(!0)},Oe=xe=>{xe.key==="Escape"&&H(!1),E?.(xe)},Ae=xe=>({...d?.(xe),selected:en(ae).isSame(xe,"day"),onClick:ke=>{d?.(xe).onClick?.(ke);const me=O?KKt(ae,xe):xe,Me=l&&le&&en(ae).isSame(xe,"day")?null:me;te(Me),!se&&ge(ue(Me)),H(!1)}}),Se=R||(l&&ae&&!S?b.jsx(Tm,{variant:"transparent",onMouseDown:xe=>xe.preventDefault(),tabIndex:-1,onClick:()=>{te(null),!se&&ge(""),H(!1)},unstyled:I,size:r.size||"sm",...u}):null);return vl(()=>{ae!==void 0&&!L&&ge(ue(ae))},[ae]),Lye(()=>H(!1),void 0,[V.current,z.current]),b.jsxs(b.Fragment,{children:[b.jsx(Or.Wrapper,{...i,__staticSelector:"DateInput",ref:V,children:b.jsxs(Cr,{opened:L,trapFocus:!1,position:"bottom-start",disabled:S,withRoles:!1,unstyled:I,...c,children:[b.jsx(Cr.Target,{children:b.jsx(Or,{"data-dates-input":!0,"data-read-only":S||void 0,autoComplete:"off",ref:t,value:he,onChange:re,onBlur:ee,onFocus:fe,onClick:Re,onKeyDown:Oe,readOnly:S,rightSection:Se,...r,...Y,__staticSelector:"DateInput"})}),b.jsx(Cr.Dropdown,{onMouseDown:xe=>xe.preventDefault(),"data-dates-dropdown":!0,ref:z,children:b.jsx(S$,{__staticSelector:"DateInput",__timezoneApplied:!0,...B,classNames:P,styles:N,unstyled:I,__preventFocus:!0,minDate:p,maxDate:g,locale:f,getDayProps:Ae,size:r.size,date:we,onDateChange:X})})]})}),b.jsx(KMe,{name:T,form:k,value:ae,type:"default"})]})});Hee.classes={...Or.classes,...S$.classes};Hee.displayName="@mantine/dates/DateInput";function On(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var fc={root:"MRT_TableBody-module_root__kGhRy","root-grid":"MRT_TableBody-module_root-grid__WdOGg","root-no-rows":"MRT_TableBody-module_root-no-rows__iyi9K","root-virtualized":"MRT_TableBody-module_root-virtualized__TxPAi","empty-row-tr-grid":"MRT_TableBody-module_empty-row-tr-grid__LTgxw","empty-row-td-grid":"MRT_TableBody-module_empty-row-td-grid__pzlgG","empty-row-td-content":"MRT_TableBody-module_empty-row-td-content__Cc2XW",pinned:"MRT_TableBody-module_pinned__XHpcs"},$B={root:"MRT_TableBodyRow-module_root__2c3D4","root-grid":"MRT_TableBodyRow-module_root-grid__AwXTe","root-virtualized":"MRT_TableBodyRow-module_root-virtualized__zYgxq"},Bf={root:"MRT_TableBodyCell-module_root__Wf-zi","root-grid":"MRT_TableBodyCell-module_root-grid__zIuC-","root-virtualized":"MRT_TableBodyCell-module_root-virtualized__jLl8R","root-data-col":"MRT_TableBodyCell-module_root-data-col__HHcxc","root-nowrap":"MRT_TableBodyCell-module_root-nowrap__-k1Jo","root-cursor-pointer":"MRT_TableBodyCell-module_root-cursor-pointer__4kw7J","root-editable-hover":"MRT_TableBodyCell-module_root-editable-hover__2DKSa","root-cell-hover-reveal":"MRT_TableBodyCell-module_root-cell-hover-reveal__T1fAH","cell-hover-reveal":"MRT_TableBodyCell-module_cell-hover-reveal__Q-1Xj",overflowing:"MRT_TableBodyCell-module_overflowing__QcXP4"};const Ft=(e,t)=>e instanceof Function?e(t):e,LB=["string","number"],GXt=["text","autocomplete"],s0e=({cell:e,renderedColumnIndex:t=0,renderedRowIndex:n=0,table:r})=>{var i,o;const{getState:s,options:{enableFilterMatchHighlighting:a,mantineHighlightProps:l}}=r,{column:u,row:c}=e,{columnDef:d}=u,{globalFilter:f,globalFilterFn:h}=s(),m=u.getFilterValue(),p=Ft(l,{cell:e,column:u,row:c,table:r});let g=e.getIsAggregated()&&d.AggregatedCell?d.AggregatedCell({cell:e,column:u,row:c,table:r}):c.getIsGrouped()&&!e.getIsGrouped()?null:e.getIsGrouped()&&d.GroupedCell?d.GroupedCell({cell:e,column:u,row:c,table:r}):void 0;const v=g!==void 0;if(v||(g=e.renderValue()),a&&d.enableFilterMatchHighlighting!==!1&&g&&LB.includes(typeof g)&&(m&&LB.includes(typeof m)&&GXt.includes(d.filterVariant)||f&&LB.includes(typeof f)&&u.getCanGlobalFilter())){let y=((o=(i=u.getFilterValue())!==null&&i!==void 0?i:f)!==null&&o!==void 0?o:"").toString();(m?d._filterFn:h)==="fuzzy"&&(y=y.split(" ")),g=b.jsx(pW,Object.assign({color:"yellow.3",highlight:y},p,{children:g?.toString()}))}return d.Cell&&!v&&(g=d.Cell({cell:e,column:u,renderedCellValue:g,renderedColumnIndex:t,renderedRowIndex:n,row:c,table:r})),g},Ud=e=>e.replace(/[^a-zA-Z0-9]/g,"_"),YXt=e=>{var t,n;return typeof e.primaryShade=="number"?e.primaryShade:(n=(t=e.primaryShade)===null||t===void 0?void 0:t.dark)!==null&&n!==void 0?n:7},KXt=(e,t)=>e.colors[e.primaryColor][YXt(e)];function GN(e,t){const n=`data-${e}`;switch(typeof t){case"boolean":return t?{[n]:""}:null;case"number":return{[n]:`${t}`};case"string":return{[n]:t};default:return null}}var XXt={root:"MRT_CopyButton-module_root__mkXy4"};const QXt=e=>{var{cell:t,children:n,table:r}=e,i=On(e,["cell","children","table"]);const{options:{localization:{clickToCopy:o,copiedToClipboard:s},mantineCopyButtonProps:a}}=r,{column:l,row:u}=t,{columnDef:c}=l,d={cell:t,column:l,row:u,table:r},f=Object.assign(Object.assign(Object.assign({},Ft(a,d)),Ft(c.mantineCopyButtonProps,d)),i);return b.jsx(cW,{value:t.getValue(),children:({copied:h,copy:m})=>{var p;return b.jsx(ct,{color:h?"green":void 0,label:(p=f?.title)!==null&&p!==void 0?p:h?s:o,openDelay:1e3,withinPortal:!0,children:b.jsx(Yo,Object.assign({},f,{className:Nt("mrt-copy-button",XXt.root,f?.className),onClick:g=>{g.stopPropagation(),m()},role:"presentation",title:void 0,children:n}))})}})},T$=e=>{var t,{cell:n,table:r}=e,i=On(e,["cell","table"]);const{getState:o,options:{createDisplayMode:s,editDisplayMode:a,mantineEditSelectProps:l,mantineEditTextInputProps:u},refs:{editInputRefs:c},setCreatingRow:d,setEditingCell:f,setEditingRow:h}=r,{column:m,row:p}=n,{columnDef:g}=m,{creatingRow:v,editingRow:y}=o(),w=v?.id===p.id,_=y?.id===p.id,E=g.editVariant==="select",S=g.editVariant==="multi-select",[T,k]=A.useState(()=>n.getValue()),R={cell:n,column:m,row:p,table:r},I=Object.assign(Object.assign(Object.assign({},Ft(u,R)),Ft(g.mantineEditTextInputProps,R)),i),P=Object.assign(Object.assign(Object.assign({},Ft(l,R)),Ft(g.mantineEditSelectProps,R)),i),N=U=>{p._valuesCache[m.id]=U,w?d(p):_&&h(p)},M=U=>{var q;(q=I.onBlur)===null||q===void 0||q.call(I,U),N(T),f(null)},O=U=>{var q,W;(q=I.onKeyDown)===null||q===void 0||q.call(I,U),U.key==="Enter"&&((W=c.current[n.id])===null||W===void 0||W.blur())};if(g.Edit)return(t=g.Edit)===null||t===void 0?void 0:t.call(g,{cell:n,column:m,row:p,table:r});const j={disabled:Ft(g.enableEditing,p)===!1,label:["custom","modal"].includes(w?s:a)?m.columnDef.header:void 0,name:n.id,onClick:U=>{var q;U.stopPropagation(),(q=I?.onClick)===null||q===void 0||q.call(I,U)},placeholder:["custom","modal"].includes(w?s:a)?void 0:g.header,value:T,variant:a==="table"?"unstyled":"default"};return E?b.jsx(om,Object.assign({},j,{searchable:!0,value:T},P,{onBlur:M,onChange:(U,q)=>{var W,V;(V=(W=P).onChange)===null||V===void 0||V.call(W,U,q),k(U)},onClick:U=>{var q;U.stopPropagation(),(q=P?.onClick)===null||q===void 0||q.call(P,U)},ref:U=>{U&&(c.current[n.id]=U,P.ref&&(P.ref.current=U))}})):S?b.jsx(Up,Object.assign({},j,{searchable:!0,value:T},P,{onBlur:M,onChange:U=>{var q,W;(W=(q=P).onChange)===null||W===void 0||W.call(q,T),k(U),document.activeElement!==c.current[n.id]&&N(U)},onClick:U=>{var q;U.stopPropagation(),(q=P?.onClick)===null||q===void 0||q.call(P,U)},ref:U=>{U&&(c.current[n.id]=U,P.ref&&(P.ref.current=U))}})):b.jsx(dl,Object.assign({},j,{onKeyDown:O,value:T??""},I,{onBlur:M,onChange:U=>{var q;(q=I.onChange)===null||q===void 0||q.call(I,U),k(U.target.value)},onClick:U=>{var q;U.stopPropagation(),(q=I?.onClick)===null||q===void 0||q.call(I,U)},ref:U=>{U&&(c.current[n.id]=U,I.ref&&(I.ref.current=U))}}))},c6e=e=>{var t,n,r,i,o,{cell:s,numRows:a=1,renderedColumnIndex:l=0,renderedRowIndex:u=0,rowRef:c,table:d,virtualCell:f}=e,h=On(e,["cell","numRows","renderedColumnIndex","renderedRowIndex","rowRef","table","virtualCell"]);const m=su(),{getState:p,options:{columnResizeDirection:g,columnResizeMode:v,createDisplayMode:y,editDisplayMode:w,enableClickToCopy:_,enableColumnOrdering:E,enableColumnPinning:S,enableEditing:T,enableGrouping:k,layoutMode:R,mantineSkeletonProps:I,mantineTableBodyCellProps:P},refs:{editInputRefs:N},setEditingCell:M,setHoveredColumn:O}=d,{columnSizingInfo:j,creatingRow:U,density:q,draggingColumn:W,editingCell:V,editingRow:z,hoveredColumn:L,isLoading:H,showSkeletons:B}=p(),{column:Y,row:Q}=s,{columnDef:ne}=Y,{columnDefType:ce}=ne,le={cell:s,column:Y,renderedColumnIndex:l,renderedRowIndex:u,row:Q,table:d},ue=Object.assign(Object.assign(Object.assign({},Ft(P,le)),Ft(ne.mantineTableBodyCellProps,le)),h),ae=Ft(I,le),[te,se]=A.useState(100);A.useEffect(()=>{if(!H&&!B||te!==100)return;const tt=Y.getSize();se(ce==="display"?tt/2:Math.round(Math.random()*(tt-tt/3)+tt/3))},[H,B]);const we={minWidth:`max(calc(var(--col-${Ud(Y?.id)}-size) * 1px), ${(t=ne.minSize)!==null&&t!==void 0?t:30}px)`,width:`calc(var(--col-${Ud(Y.id)}-size) * 1px)`};R==="grid"?we.flex=`${[0,!1].includes(ne.grow)?0:`var(--col-${Ud(Y.id)}-size)`} 0 auto`:R==="grid-no-grow"&&(we.flex=`${+(ne.grow||0)} 0 auto`);const X=W?.id===Y.id,he=L?.id===Y.id,ge=S&&ne.columnDefType!=="group"&&Y.getIsPinned(),re=!s.getIsPlaceholder()&&Ft(T,Q)&&Ft(ne.enableEditing,Q)!==!1,ee=re&&!["custom","modal"].includes(w)&&(w==="table"||z?.id===Q.id||V?.id===s.id)&&!Q.getIsGrouped(),fe=re&&y==="row"&&U?.id===Q.id,Re=Ft(_,s)||Ft(ne.enableClickToCopy,s)&&Ft(ne.enableClickToCopy,s)!==!1,Oe=tt=>{var gt;(gt=ue?.onDoubleClick)===null||gt===void 0||gt.call(ue,tt),re&&w==="cell"&&(M(s),setTimeout(()=>{var qt;const zt=N.current[s.id];zt&&(zt.focus(),(qt=zt.select)===null||qt===void 0||qt.call(zt))},100))},Ae=tt=>{var gt;(gt=ue?.onDragEnter)===null||gt===void 0||gt.call(ue,tt),k&&L?.id==="drop-zone"&&O(null),E&&W&&O(ne.enableColumnOrdering!==!1?Y:null)},Se={cell:s,renderedColumnIndex:l,renderedRowIndex:u,table:d},xe=A.useRef(null),[ke,me]=A.useState(!1),Me=()=>{if(!ne.enableCellHoverReveal)return;const tt=xe.current;if(tt){const gt=tt.scrollWidth>tt.clientWidth;me(gt)}},ze=()=>{ne.enableCellHoverReveal&&me(!1)},Xe=()=>{var tt,gt,qt;return s.getIsPlaceholder()?(gt=(tt=ne.PlaceholderCell)===null||tt===void 0?void 0:tt.call(ne,{cell:s,column:Y,row:Q,table:d}))!==null&&gt!==void 0?gt:null:B!==!1&&(H||B)?b.jsx(Ao,Object.assign({height:20,width:te},ae)):ce==="display"&&(["mrt-row-expand","mrt-row-numbers","mrt-row-select"].includes(Y.id)||!Q.getIsGrouped())?(qt=ne.Cell)===null||qt===void 0?void 0:qt.call(ne,Object.assign({column:Y,renderedCellValue:s.renderValue(),row:Q,rowRef:c},Se)):fe||ee?b.jsx(T$,{cell:s,table:d}):Re&&ne.enableClickToCopy!==!1?b.jsx(QXt,{cell:s,table:d,children:b.jsx(s0e,Object.assign({},Se))}):b.jsx(s0e,Object.assign({},Se))};return b.jsx(kT,Object.assign({"data-column-pinned":ge||void 0,"data-dragging-column":X||void 0,"data-first-right-pinned":ge==="right"&&Y.getIsFirstColumn(ge)||void 0,"data-hovered-column-target":he||void 0,"data-index":l,"data-last-left-pinned":ge==="left"&&Y.getIsLastColumn(ge)||void 0,"data-last-row":u===a-1||void 0,"data-resizing":v==="onChange"&&j?.isResizingColumn===Y.id&&g||void 0},ue,{__vars:Object.assign({"--mrt-cell-align":(n=ue.align)!==null&&n!==void 0?n:m.dir==="rtl"?"right":"left","--mrt-table-cell-left":ge==="left"?`${Y.getStart(ge)}`:void 0,"--mrt-table-cell-right":ge==="right"?`${Y.getAfter(ge)}`:void 0},ue.__vars),className:Nt(Bf.root,R?.startsWith("grid")&&Bf["root-grid"],f&&Bf["root-virtualized"],re&&w==="cell"&&Bf["root-cursor-pointer"],re&&["cell","table"].includes(w??"")&&ce!=="display"&&Bf["root-editable-hover"],ce==="data"&&Bf["root-data-col"],q==="xs"&&Bf["root-nowrap"],ne.enableCellHoverReveal&&Bf["root-cell-hover-reveal"],ue?.className),onDoubleClick:Oe,onDragEnter:Ae,onMouseEnter:Me,onMouseLeave:ze,style:tt=>Object.assign(Object.assign({},we),Ft(ue.style,tt)),children:b.jsx(b.Fragment,{children:(r=ue.children)!==null&&r!==void 0?r:ne.enableCellHoverReveal?b.jsxs("div",{className:Nt(ne.enableCellHoverReveal&&!(fe||ee)&&Bf["cell-hover-reveal"],ke&&Bf.overflowing),ref:xe,children:[Xe(),s.getIsGrouped()&&!ne.GroupedCell&&b.jsxs(b.Fragment,{children:[" (",(i=Q.subRows)===null||i===void 0?void 0:i.length,")"]})]}):b.jsxs(b.Fragment,{children:[Xe(),s.getIsGrouped()&&!ne.GroupedCell&&b.jsxs(b.Fragment,{children:[" (",(o=Q.subRows)===null||o===void 0?void 0:o.length,")"]})]})})}))},JXt=A.memo(c6e,(e,t)=>t.cell===e.cell);var jy={root:"MRT_TableDetailPanel-module_root__vQAlM","root-grid":"MRT_TableDetailPanel-module_root-grid__7UMC6","root-virtual-row":"MRT_TableDetailPanel-module_root-virtual-row__r-X4Z",inner:"MRT_TableDetailPanel-module_inner__o-Fk-","inner-grid":"MRT_TableDetailPanel-module_inner-grid__WLZgF","inner-expanded":"MRT_TableDetailPanel-module_inner-expanded__6tg9T","inner-virtual":"MRT_TableDetailPanel-module_inner-virtual__TItRy"};const ZXt=e=>{var t,n,{parentRowRef:r,renderedRowIndex:i=0,row:o,rowVirtualizer:s,striped:a,table:l,virtualRow:u}=e,c=On(e,["parentRowRef","renderedRowIndex","row","rowVirtualizer","striped","table","virtualRow"]);const{getState:d,getVisibleLeafColumns:f,options:{layoutMode:h,mantineDetailPanelProps:m,mantineTableBodyRowProps:p,renderDetailPanel:g}}=l,{isLoading:v}=d(),y=Ft(p,{isDetailPanel:!0,row:o,table:l}),w=Object.assign(Object.assign({},Ft(m,{row:o,table:l})),c),_=o.getAllCells().filter(S=>S.column.columnDef.columnDefType==="data").map(S=>b.jsx(T$,{cell:S,table:l},S.id)),E=!v&&o.getIsExpanded()&&g?.({internalEditComponents:_,row:o,table:l});return b.jsx(Hp,Object.assign({"data-index":g?i*2+1:i,"data-striped":a,ref:S=>{var T;S&&((T=s?.measureElement)===null||T===void 0||T.call(s,S))}},y,{__vars:Object.assign({"--mrt-parent-row-height":u?`${(n=(t=r.current)===null||t===void 0?void 0:t.getBoundingClientRect())===null||n===void 0?void 0:n.height}px`:void 0,"--mrt-virtual-row-start":u?`${u.start}px`:void 0},y?.__vars),className:Nt("mantine-Table-tr-detail-panel",jy.root,h?.startsWith("grid")&&jy["root-grid"],u&&jy["root-virtual-row"],y?.className),children:b.jsx(kT,Object.assign({colSpan:f().length,component:"td"},w,{__vars:{"--mrt-inner-width":`${l.getTotalSize()}px`},className:Nt("mantine-Table-td-detail-panel",jy.inner,h?.startsWith("grid")&&jy["inner-grid"],o.getIsExpanded()&&jy["inner-expanded"],u&&jy["inner-virtual"]),p:o.getIsExpanded()&&E?"md":0,children:s?o.getIsExpanded()&&E:b.jsx(Fh,{in:o.getIsExpanded(),children:E})}))}))},eQt=(e,t,n)=>{let r=0;return e.columnFiltersMeta[n]&&(r=AKt(e.columnFiltersMeta[n],t.columnFiltersMeta[n])),r===0?rv.alphanumeric(e,t,n):r},tQt=Object.assign(Object.assign({},rv),{fuzzy:eQt}),nQt=(e,t)=>Math.max(...Object.values(t.columnFiltersMeta).map(n=>n.rank))-Math.max(...Object.values(e.columnFiltersMeta).map(n=>n.rank)),d6e=(e,t)=>{const{getCenterRows:n,getPrePaginationRowModel:r,getRowModel:i,getState:o,getTopRows:s,options:{createDisplayMode:a,enablePagination:l,enableRowPinning:u,manualPagination:c,positionCreatingRow:d,rowPinningDisplayMode:f}}=e,{creatingRow:h,pagination:m}=o(),p=rQt(e);let g=[];if(!p)g=!u||f?.includes("sticky")?t?r().rows:i().rows:n();else{if(g=r().rows.sort((v,y)=>nQt(v,y)),l&&!c&&!t){const v=m.pageIndex*m.pageSize;g=g.slice(v,v+m.pageSize)}u&&!f?.includes("sticky")&&(g=g.filter(v=>!v.getIsPinned()))}if(u&&f?.includes("sticky")){const v=g.filter(y=>y.getIsPinned()).map(y=>y.id);g=[...s().filter(y=>!v.includes(y.id)),...g]}if(d!==void 0&&h&&a==="row"){const v=isNaN(+d)?d==="top"?0:g.length:+d;g=[...g.slice(0,v),h,...g.slice(v)]}return g},f6e=e=>{const{getState:t,options:{enableGlobalFilterRankedResults:n,manualExpanding:r,manualFiltering:i,manualGrouping:o,manualSorting:s}}=e,{expanded:a,globalFilterFn:l}=t();return!r&&!i&&!o&&!s&&n&&l==="fuzzy"&&a!==!0&&!Object.values(a).some(Boolean)},rQt=e=>{const{globalFilter:t,sorting:n}=e.getState();return f6e(e)&&t&&!Object.values(n).some(Boolean)},YN=({row:e,table:t})=>{const{options:{enableRowSelection:n}}=t;return e.getIsSelected()||Ft(n,e)&&e.getCanSelectSubRows()&&e.getIsAllSubRowsSelected()},iQt=({renderedRowIndex:e=0,row:t,table:n})=>(r,i)=>{var o;const{getState:s,options:{enableBatchRowSelection:a,enableMultiRowSelection:l,enableRowPinning:u,manualPagination:c,rowPinningDisplayMode:d},refs:{lastSelectedRowId:f}}=n,{pagination:{pageIndex:h,pageSize:m}}=s(),p=c?0:m*h,g=YN({row:t,table:n});t.toggleSelected(i??!g);const v=new Set([t.id]);if(a&&l&&r.nativeEvent.shiftKey&&f.current!==null){const y=d6e(n,!0),w=y.findIndex(_=>_.id===f.current);if(w!==-1){const _=YN({row:y?.[w],table:n}),E=e+p,[S,T]=w<E?[w,E]:[E,w];if(g!==_)for(let k=S;k<=T;k++)y[k].toggleSelected(!g),v.add(y[k].id)}}f.current=t.id,t.getCanSelectSubRows()&&t.getIsAllSubRowsSelected()&&((o=t.subRows)===null||o===void 0||o.forEach(y=>y.toggleSelected(!1))),u&&d?.includes("select")&&v.forEach(y=>{n.getRow(y).pin(g?!1:d?.includes("bottom")?"bottom":"top")})},h6e=({table:e})=>(t,n,r)=>{const{options:{enableRowPinning:i,rowPinningDisplayMode:o,selectAllMode:s},refs:{lastSelectedRowId:a}}=e;s==="all"||r?e.toggleAllRowsSelected(n??t.target.checked):e.toggleAllPageRowsSelected(n??t.target.checked),i&&o?.includes("select")&&e.setRowPinning({bottom:[],top:[]}),a.current=null},VS=e=>{var t,n,r,{children:i,columnVirtualizer:o,numRows:s,pinnedRowIds:a,renderedRowIndex:l=0,row:u,rowVirtualizer:c,table:d,tableProps:f,virtualRow:h}=e,m=On(e,["children","columnVirtualizer","numRows","pinnedRowIds","renderedRowIndex","row","rowVirtualizer","table","tableProps","virtualRow"]);const{getState:p,options:{enableRowOrdering:g,enableRowPinning:v,enableStickyFooter:y,enableStickyHeader:w,layoutMode:_,mantineTableBodyRowProps:E,memoMode:S,renderDetailPanel:T,rowPinningDisplayMode:k},refs:{tableFooterRef:R,tableHeadRef:I},setHoveredRow:P}=d,{density:N,draggingColumn:M,draggingRow:O,editingCell:j,editingRow:U,hoveredRow:q,isFullScreen:W,rowPinning:V}=p(),z=u.getVisibleCells(),{virtualColumns:L,virtualPaddingLeft:H,virtualPaddingRight:B}=o??{},Y=YN({row:u,table:d}),Q=v&&u.getIsPinned(),ne=Q&&k?.includes("sticky")&&"sticky",ce=O?.id===u.id,le=q?.id===u.id,ue=Object.assign(Object.assign({},Ft(E,{renderedRowIndex:l,row:u,table:d})),m),[ae,te]=A.useMemo(()=>!v||!ne||!a||!u.getIsPinned()?[]:[[...a].reverse().indexOf(u.id),a.indexOf(u.id)],[a,V]),se=(w||W)&&((t=I.current)===null||t===void 0?void 0:t.clientHeight)||0,we=y&&((n=R.current)===null||n===void 0?void 0:n.clientHeight)||0,X=parseInt((r=ue?.style)===null||r===void 0?void 0:r.height,10)||(N==="xs"?37:N==="md"?53:69),he=ee=>{g&&O&&P(u)},ge=A.useRef(null);let re=f.striped;return re&&(re===!0&&(re="odd"),re==="odd"&&l%2!==0&&(re=!1),re==="even"&&l%2===0&&(re=!1)),b.jsxs(b.Fragment,{children:[b.jsxs(Hp,Object.assign({"data-dragging-row":ce||void 0,"data-hovered-row-target":le||void 0,"data-index":T?l*2:l,"data-row-pinned":ne||Q||void 0,"data-selected":Y||void 0,"data-striped":re,onDragEnter:he,ref:ee=>{ee&&(ge.current=ee,c?.measureElement(ee))}},ue,{__vars:Object.assign(Object.assign({},ue?.__vars),{"--mrt-pinned-row-bottom":!h&&ae!==void 0&&Q?`${ae*X+(y?we-1:0)}`:void 0,"--mrt-pinned-row-top":h?void 0:te!==void 0&&Q?`${te*X+(w||W?se-1:0)}`:void 0,"--mrt-virtual-row-start":h?`${h.start}`:void 0}),className:Nt($B.root,_?.startsWith("grid")&&$B["root-grid"],h&&$B["root-virtualized"],ue?.className),children:[H?b.jsx(De,{component:"td",display:"flex",w:H}):null,i||(L??u.getVisibleCells()).map((ee,fe)=>{let Re=ee;o&&(fe=ee.index,Re=z[fe]);const Oe={cell:Re,numRows:s,renderedColumnIndex:fe,renderedRowIndex:l,rowRef:ge,table:d,virtualCell:o?ee:void 0};return S==="cells"&&Re.column.columnDef.columnDefType==="data"&&!M&&!O&&j?.id!==Re.id&&U?.id!==u.id?b.jsx(JXt,Object.assign({},Oe),Re.id):b.jsx(c6e,Object.assign({},Oe),Re.id)}),B?b.jsx(De,{component:"td",display:"flex",w:B}):null]})),T&&!u.getIsGrouped()&&b.jsx(ZXt,{parentRowRef:ge,renderedRowIndex:l,row:u,rowVirtualizer:c,striped:re,table:d,virtualRow:h})]})},FB=A.memo(VS,(e,t)=>e.row===t.row);var mE={root:"MRT_ExpandButton-module_root__IFYio","root-ltr":"MRT_ExpandButton-module_root-ltr__FHNnp",chevron:"MRT_ExpandButton-module_chevron__XzC5P",right:"MRT_ExpandButton-module_right__-pC-A",up:"MRT_ExpandButton-module_up__TZGBo","root-rtl":"MRT_ExpandButton-module_root-rtl__zoudS"};const Uq=e=>{var t,n,{row:r,table:i}=e,o=On(e,["row","table"]);const s=su(),{options:{icons:{IconChevronDown:a},localization:l,mantineExpandButtonProps:u,positionExpandColumn:c,renderDetailPanel:d}}=i,f=Object.assign(Object.assign({},Ft(u,{row:r,table:i})),o),h=r.getAllCells().filter(w=>w.column.columnDef.columnDefType==="data").map(w=>b.jsx(T$,{cell:w,table:i},w.id)),m=r.getCanExpand(),p=r.getIsExpanded(),g=!!d?.({internalEditComponents:h,row:r,table:i}),v=w=>{var _;w.stopPropagation(),r.toggleExpanded(),(_=f?.onClick)===null||_===void 0||_.call(f,w)},y=s.dir==="rtl"||c==="last";return b.jsx(ct,{disabled:!m&&!g,label:(t=f?.title)!==null&&t!==void 0?t:p?l.collapse:l.expand,openDelay:1e3,withinPortal:!0,children:b.jsx(on,Object.assign({"aria-label":l.expand,color:"gray",disabled:!m&&!g,variant:"subtle"},f,{__vars:{"--mrt-row-depth":`${r.depth}`},className:Nt("mrt-expand-button",mE.root,mE[`root-${y?"rtl":"ltr"}`],f?.className),onClick:v,title:void 0,children:(n=f?.children)!==null&&n!==void 0?n:b.jsx(a,{className:Nt("mrt-expand-button-chevron",mE.chevron,!m&&!d?mE.right:p?mE.up:void 0)})}))})},oQt=e=>{var t,n,{table:r,tableProps:i}=e,o=On(e,["table","tableProps"]);const{getState:s,options:{layoutMode:a,localization:l,renderDetailPanel:u,renderEmptyRowsFallback:c},refs:{tablePaperRef:d}}=r,{columnFilters:f,globalFilter:h}=s(),m=A.useMemo(()=>XC(r,"mrt-row-empty",{},0,0),[]),p=Object.assign(Object.assign({},o),{renderedRowIndex:0,row:m,virtualRow:void 0});return b.jsxs(VS,Object.assign({className:Nt("mrt-table-body-row",a?.startsWith("grid")&&fc["empty-row-tr-grid"]),table:r,tableProps:i},p,{children:[u&&b.jsx(kT,{className:Nt("mrt-table-body-cell",a?.startsWith("grid")&&fc["empty-row-td-grid"]),colSpan:1,children:b.jsx(Uq,{row:m,table:r})}),b.jsx("td",{className:Nt("mrt-table-body-cell",a?.startsWith("grid")&&fc["empty-row-td-grid"]),colSpan:r.getVisibleLeafColumns().length,children:(t=c?.({table:r}))!==null&&t!==void 0?t:b.jsx($e,{__vars:{"--mrt-paper-width":`${(n=d.current)===null||n===void 0?void 0:n.clientWidth}`},className:Nt(fc["empty-row-td-content"]),children:h||f.length?l.noResultsFound:l.noRecordsToDisplay})})]}))},sQt=e=>{const{getRowModel:t,getState:n,options:{data:r,enableGlobalFilterRankedResults:i,positionCreatingRow:o}}=e,{creatingRow:s,expanded:a,globalFilter:l,pagination:u,rowPinning:c,sorting:d}=n();return A.useMemo(()=>d6e(e),[s,r,i,a,t().rows,l,u.pageIndex,u.pageSize,o,c,d])},p6e=(e,t)=>{const n=VMe(e);return t===void 0||(t>=0&&t<Math.max(e.startIndex-e.overscan,0)&&n.unshift(t),t>=0&&t>e.endIndex+e.overscan&&n.push(t)),n},aQt=(e,t)=>{var n;const{getRowModel:r,getState:i,options:{enableRowVirtualization:o,renderDetailPanel:s,rowVirtualizerInstanceRef:a,rowVirtualizerOptions:l},refs:{tableContainerRef:u}}=e,{density:c,draggingRow:d,expanded:f}=i();if(!o)return;const h=Ft(l,{table:e}),m=(n=t?.length)!==null&&n!==void 0?n:r().rows.length,p=c==="xs"?42.7:c==="md"?54.7:70.7,g=GMe(Object.assign({count:s?m*2:m,estimateSize:v=>s&&v%2===1?f===!0?100:0:p,getScrollElement:()=>u.current,measureElement:typeof window<"u"&&navigator.userAgent.indexOf("Firefox")===-1?v=>v?.getBoundingClientRect().height:void 0,overscan:4,rangeExtractor:A.useCallback(v=>{var y;return p6e(v,(y=d?.index)!==null&&y!==void 0?y:0)},[d])},h));return g.virtualRows=g.getVirtualItems(),a&&(a.current=g),g},m6e=e=>{var t,n,r,{columnVirtualizer:i,table:o,tableProps:s}=e,a=On(e,["columnVirtualizer","table","tableProps"]);const{getBottomRows:l,getIsSomeRowsPinned:u,getRowModel:c,getState:d,getTopRows:f,options:{enableStickyFooter:h,enableStickyHeader:m,layoutMode:p,mantineTableBodyProps:g,memoMode:v,renderDetailPanel:y,rowPinningDisplayMode:w},refs:{tableFooterRef:_,tableHeadRef:E}}=o,{isFullScreen:S,rowPinning:T}=d(),k=Object.assign(Object.assign({},Ft(g,{table:o})),a),R=(m||S)&&((t=E.current)===null||t===void 0?void 0:t.clientHeight)||0,I=h&&((n=_.current)===null||n===void 0?void 0:n.clientHeight)||0,P=A.useMemo(()=>{var U,q;return!(!((U=T.bottom)===null||U===void 0)&&U.length)&&!(!((q=T.top)===null||q===void 0)&&q.length)?[]:c().rows.filter(W=>W.getIsPinned()).map(W=>W.id)},[T,c().rows]),N=sQt(o),M=aQt(o,N),{virtualRows:O}=M??{},j={columnVirtualizer:i,numRows:N.length,table:o,tableProps:s};return b.jsxs(b.Fragment,{children:[!w?.includes("sticky")&&u("top")&&b.jsx(uS,Object.assign({},k,{__vars:Object.assign({"--mrt-table-head-height":`${R}`},k?.__vars),className:Nt(fc.pinned,p?.startsWith("grid")&&fc["root-grid"],k?.className),children:f().map((U,q)=>{const W=Object.assign(Object.assign({},j),{renderedRowIndex:q,row:U});return v==="rows"?b.jsx(FB,Object.assign({},W),U.id):b.jsx(VS,Object.assign({},W),U.id)})})),b.jsx(uS,Object.assign({},k,{__vars:Object.assign({"--mrt-table-body-height":M?`${M.getTotalSize()}px`:void 0},k?.__vars),className:Nt(fc.root,p?.startsWith("grid")&&fc["root-grid"],!N.length&&fc["root-no-rows"],M&&fc["root-virtualized"],k?.className),children:(r=k?.children)!==null&&r!==void 0?r:N.length?b.jsx(b.Fragment,{children:(O??N).map((U,q)=>{if(M)if(y){if(U.index%2===1)return null;q=U.index/2}else q=U.index;const W=M?N[q]:U,V=Object.assign(Object.assign({},j),{pinnedRowIds:P,renderedRowIndex:q,row:W,rowVirtualizer:M,virtualRow:M?U:void 0}),z=`${W.id}-${W.index}`;return v==="rows"?b.jsx(FB,Object.assign({},V),z):b.jsx(VS,Object.assign({},V),z)})}):b.jsx(oQt,Object.assign({},j))})),!w?.includes("sticky")&&u("bottom")&&b.jsx(uS,Object.assign({},k,{__vars:Object.assign({"--mrt-table-footer-height":`${I}`},k?.__vars),className:Nt(fc.pinned,p?.startsWith("grid")&&fc["root-grid"],k?.className),children:l().map((U,q)=>{const W=Object.assign(Object.assign({},j),{renderedRowIndex:q,row:U});return v==="rows"?b.jsx(FB,Object.assign({},W),U.id):b.jsx(VS,Object.assign({},W),U.id)})}))]})},lQt=A.memo(m6e,(e,t)=>e.table.options.data===t.table.options.data);var uQt={"grab-icon":"MRT_GrabHandleButton-module_grab-icon__mQimy"};const qee=({actionIconProps:e,onDragEnd:t,onDragStart:n,table:{options:{icons:{IconGripHorizontal:r},localization:{move:i}}}})=>{var o,s;return b.jsx(ct,{label:(o=e?.title)!==null&&o!==void 0?o:i,openDelay:1e3,withinPortal:!0,children:b.jsx(on,Object.assign({"aria-label":(s=e?.title)!==null&&s!==void 0?s:i,draggable:!0},e,{className:Nt("mrt-grab-handle-button",uQt["grab-icon"],e?.className),color:"gray",onClick:a=>{var l;a.stopPropagation(),(l=e?.onClick)===null||l===void 0||l.call(e,a)},onDragEnd:t,onDragStart:n,size:"sm",title:void 0,variant:"transparent",children:b.jsx(r,{size:"100%"})}))})},cQt=e=>{var{row:t,rowRef:n,table:r}=e,i=On(e,["row","rowRef","table"]);const{options:{mantineRowDragHandleProps:o}}=r,s=Object.assign(Object.assign({},Ft(o,{row:t,table:r})),i),a=u=>{var c;(c=s?.onDragStart)===null||c===void 0||c.call(s,u),u.dataTransfer.setDragImage(n.current,0,0),r.setDraggingRow(t)},l=u=>{var c;(c=s?.onDragEnd)===null||c===void 0||c.call(s,u),r.setDraggingRow(null),r.setHoveredRow(null)};return b.jsx(qee,{actionIconProps:s,onDragEnd:l,onDragStart:a,table:r})},jB=e=>{var{pinningPosition:t,row:n,table:r}=e,i=On(e,["pinningPosition","row","table"]);const{options:{icons:{IconPinned:o,IconX:s},localization:a,rowPinningDisplayMode:l}}=r,u=n.getIsPinned(),[c,d]=A.useState(!1),f=h=>{d(!1),h.stopPropagation(),n.pin(u?!1:t)};return b.jsx(ct,{label:u?a.unpin:a.pin,openDelay:1e3,opened:c,children:b.jsx(on,Object.assign({"aria-label":a.pin,color:"gray",onClick:f,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),size:"xs",style:{height:"24px",width:"24px"},variant:"subtle"},i,{children:u?b.jsx(s,{}):b.jsx(o,{fontSize:"small",style:{transform:`rotate(${l==="sticky"?135:t==="top"?180:0}deg)`}})}))})},dQt=e=>{var{row:t,table:n}=e,r=On(e,["row","table"]);const{getState:i,options:{enableRowPinning:o,rowPinningDisplayMode:s}}=n,{density:a}=i();if(!Ft(o,t))return null;const u=Object.assign({row:t,table:n},r);return s==="top-and-bottom"&&!t.getIsPinned()?b.jsxs(De,{style:{display:"flex",flexDirection:a==="xs"?"row":"column"},children:[b.jsx(jB,Object.assign({pinningPosition:"top"},u)),b.jsx(jB,Object.assign({pinningPosition:"bottom"},u))]}):b.jsx(jB,Object.assign({pinningPosition:s==="bottom"?"bottom":"top"},u))};var BB={root:"MRT_ColumnPinningButtons-module_root__scTtW",left:"MRT_ColumnPinningButtons-module_left__W6Aog",right:"MRT_ColumnPinningButtons-module_right__7AJE3"};const fQt=({column:e,table:t})=>{const{options:{icons:{IconPinned:n,IconPinnedOff:r},localization:i}}=t;return b.jsx(lt,{className:Nt("mrt-column-pinning-buttons",BB.root),children:e.getIsPinned()?b.jsx(ct,{label:i.unpin,withinPortal:!0,children:b.jsx(on,{color:"gray",onClick:()=>e.pin(!1),size:"md",variant:"subtle",children:b.jsx(r,{})})}):b.jsxs(b.Fragment,{children:[b.jsx(ct,{label:i.pinToLeft,withinPortal:!0,children:b.jsx(on,{color:"gray",onClick:()=>e.pin("left"),size:"md",variant:"subtle",children:b.jsx(n,{className:BB.left})})}),b.jsx(ct,{label:i.pinToRight,withinPortal:!0,children:b.jsx(on,{color:"gray",onClick:()=>e.pin("right"),size:"md",variant:"subtle",children:b.jsx(n,{className:BB.right})})})]})})};var hQt={root:"MRT_EditActionButtons-module_root__BfxVZ"};const g6e=e=>{var{row:t,table:n,variant:r="icon"}=e,i=On(e,["row","table","variant"]);const{getState:o,options:{icons:{IconCircleX:s,IconDeviceFloppy:a},localization:l,onCreatingRowCancel:u,onCreatingRowSave:c,onEditingRowCancel:d,onEditingRowSave:f},refs:{editInputRefs:h},setCreatingRow:m,setEditingRow:p}=n,{creatingRow:g,editingRow:v,isSaving:y}=o(),w=g?.id===t.id,_=v?.id===t.id,E=()=>{w?(u?.({row:t,table:n}),m(null)):_&&(d?.({row:t,table:n}),p(null)),t._valuesCache={}},S=()=>{var T;(T=Object.values(h?.current).filter(k=>{var R,I;return t.id===((I=(R=k?.name)===null||R===void 0?void 0:R.split("_"))===null||I===void 0?void 0:I[0])}))===null||T===void 0||T.forEach(k=>{k.value!==void 0&&Object.hasOwn(t?._valuesCache,k.name)&&(t._valuesCache[k.name]=k.value)}),w?c?.({exitCreatingMode:()=>m(null),row:t,table:n,values:t._valuesCache}):_&&f?.({exitEditingMode:()=>p(null),row:t,table:n,values:t?._valuesCache})};return b.jsx(De,Object.assign({className:Nt("mrt-edit-action-buttons",hQt.root),onClick:T=>T.stopPropagation()},i,{children:r==="icon"?b.jsxs(b.Fragment,{children:[b.jsx(ct,{label:l.cancel,withinPortal:!0,children:b.jsx(on,{"aria-label":l.cancel,color:"red",onClick:E,variant:"subtle",children:b.jsx(s,{})})}),b.jsx(ct,{label:l.save,withinPortal:!0,children:b.jsx(on,{"aria-label":l.save,color:"blue",loading:y,onClick:S,variant:"subtle",children:b.jsx(a,{})})})]}):b.jsxs(b.Fragment,{children:[b.jsx(Mt,{onClick:E,variant:"subtle",children:l.cancel}),b.jsx(Mt,{loading:y,onClick:S,variant:"filled",children:l.save})]})}))};var mD={root:"MRT_ExpandAllButton-module_root__gkBZD",chevron:"MRT_ExpandAllButton-module_chevron__Iep0j",up:"MRT_ExpandAllButton-module_up__Xth3U",right:"MRT_ExpandAllButton-module_right__bS4L-"};const pQt=e=>{var t,n,{table:r}=e,i=On(e,["table"]);const{getCanSomeRowsExpand:o,getIsAllRowsExpanded:s,getIsSomeRowsExpanded:a,getState:l,options:{icons:{IconChevronsDown:u},localization:c,mantineExpandAllButtonProps:d,renderDetailPanel:f},toggleAllRowsExpanded:h}=r,{density:m,isLoading:p}=l(),g=Object.assign(Object.assign({},Ft(d,{table:r})),i),v=s();return b.jsx(ct,{label:((t=g?.title)!==null&&t!==void 0?t:v)?c.collapseAll:c.expandAll,openDelay:1e3,withinPortal:!0,children:b.jsx(on,Object.assign({"aria-label":c.expandAll,color:"gray",variant:"subtle"},g,{className:Nt("mrt-expand-all-button",mD.root,g?.className,m),disabled:p||!f&&!o(),onClick:()=>h(!v),title:void 0,children:(n=g?.children)!==null&&n!==void 0?n:b.jsx(u,{className:Nt(mD.chevron,v?mD.up:a()?mD.right:void 0)})}))})};var a0e={root:"MRT_ShowHideColumnsMenu-module_root__2UWak",content:"MRT_ShowHideColumnsMenu-module_content__ehkWQ"},J1={root:"MRT_ShowHideColumnsMenuItems-module_root__wYgv-",menu:"MRT_ShowHideColumnsMenuItems-module_menu__CeATR",grab:"MRT_ShowHideColumnsMenuItems-module_grab__a-d-y",pin:"MRT_ShowHideColumnsMenuItems-module_pin__P437b",switch:"MRT_ShowHideColumnsMenuItems-module_switch__tMsdt",header:"MRT_ShowHideColumnsMenuItems-module_header__xVkKb"};const Ww=e=>{var t,n,r,i;return(i=(t=e.id)!==null&&t!==void 0?t:(r=(n=e.accessorKey)===null||n===void 0?void 0:n.toString)===null||r===void 0?void 0:r.call(n))!==null&&i!==void 0?i:e.header},KN=e=>{const t=[],n=r=>{r.forEach(i=>{i.columns?n(i.columns):t.push(i)})};return n(e),t},y6e=({columnDefs:e,tableOptions:t})=>{const{aggregationFns:n={},defaultDisplayColumn:r,filterFns:i={},sortingFns:o={},state:{columnFilterFns:s={}}={}}=t;return e.map(a=>{var l,u;if(a.id||(a.id=Ww(a)),a.columnDefType||(a.columnDefType="data"),!((l=a.columns)===null||l===void 0)&&l.length)a.columnDefType="group",a.columns=y6e({columnDefs:a.columns,tableOptions:t});else if(a.columnDefType==="data"){if(Array.isArray(a.aggregationFn)){const c=a.aggregationFn;a.aggregationFn=(d,f,h)=>c.map(m=>{var p;return(p=n[m])===null||p===void 0?void 0:p.call(n,d,f,h)})}Object.keys(i).includes(s[a.id])&&(a.filterFn=(u=i[s[a.id]])!==null&&u!==void 0?u:i.fuzzy,a._filterFn=s[a.id]),Object.keys(o).includes(a.sortingFn)&&(a.sortingFn=o[a.sortingFn])}else a.columnDefType==="display"&&(a=Object.assign(Object.assign({},r),a));return a})},v6e=(e,t,n)=>{e.getCanPin()&&e.pin(t.getIsPinned());const r=[...n];return r.splice(r.indexOf(t.id),0,r.splice(r.indexOf(e.id),1)[0]),r},mQt=e=>{const{filterVariant:t}=e;return t==="multi-select"?"arrIncludesSome":t?.includes("range")?"betweenInclusive":["checkbox","date","select"].includes(t||"")?"equals":"fuzzy"},b6e=({allColumns:e,column:t,hoveredColumn:n,setHoveredColumn:r,table:i})=>{var o;const s=eo(),{getState:a,options:{enableColumnOrdering:l,enableColumnPinning:u,enableHiding:c,localization:d},setColumnOrder:f}=i,{columnOrder:h}=a(),{columnDef:m}=t,{columnDefType:p}=m,g=p!=="group"&&t.getIsVisible()||p==="group"&&t.getLeafColumns().some(k=>k.getIsVisible()),v=k=>{var R,I;p==="group"?(I=(R=k?.columns)===null||R===void 0?void 0:R.forEach)===null||I===void 0||I.call(R,P=>{P.toggleVisibility(!g)}):k.toggleVisibility()},y=A.useRef(null),[w,_]=A.useState(!1),E=k=>{_(!0),k.dataTransfer.setDragImage(y.current,0,0)},S=k=>{_(!1),r(null),n&&f(v6e(t,n,h))},T=k=>{!w&&m.enableColumnOrdering!==!1&&r(t)};return!m.header||m.visibleInShowHideMenu===!1?null:b.jsxs(b.Fragment,{children:[b.jsx(Rn.Item,Object.assign({className:J1.root,component:"span",onDragEnter:T,ref:y,style:{"--_column-depth":`${(t.depth+.5)*2}rem`,"--_hover-color":KXt(s)}},GN("dragging",w),GN("order-hovered",n?.id===t.id),{children:b.jsxs(De,{className:J1.menu,children:[p!=="group"&&l&&!e.some(k=>k.columnDef.columnDefType==="group")&&(m.enableColumnOrdering!==!1?b.jsx(qee,{onDragEnd:S,onDragStart:E,table:i}):b.jsx(De,{className:J1.grab})),u&&(t.getCanPin()?b.jsx(fQt,{column:t,table:i}):b.jsx(De,{className:J1.pin})),c?b.jsx(ct,{label:d.toggleVisibility,openDelay:1e3,withinPortal:!0,children:b.jsx(Jg,{checked:g,className:J1.switch,disabled:!t.getCanHide(),label:m.header,onChange:()=>v(t)})}):b.jsx($e,{className:J1.header,children:m.header})]})})),(o=t.columns)===null||o===void 0?void 0:o.map((k,R)=>b.jsx(b6e,{allColumns:e,column:k,hoveredColumn:n,setHoveredColumn:r,table:i},`${R}-${k.id}`))]})};function Jb({header:e,id:t,size:n,tableOptions:r}){const{defaultDisplayColumn:i,displayColumnDefOptions:o,localization:s}=r;return Object.assign(Object.assign(Object.assign(Object.assign({},i),{header:e?s[e]:"",size:n}),o?.[t]),{id:t})}const w6e=e=>{const{enableRowPinning:t,rowPinningDisplayMode:n}=e;return!!(t&&!n?.startsWith("select"))},x6e=e=>{const{enableRowDragging:t,enableRowOrdering:n}=e;return!!(t||n)},Vee=e=>{const{enableExpanding:t,enableGrouping:n,renderDetailPanel:r,state:{grouping:i}}=e;return!!(t||n&&i?.length||r)},Wee=e=>{const{createDisplayMode:t,editDisplayMode:n,enableEditing:r,enableRowActions:i,state:{creatingRow:o}}=e;return!!(i||o&&t==="row"||r&&["modal","row"].includes(n??""))},C6e=e=>!!e.enableRowSelection,_6e=e=>!!e.enableRowNumbers,E6e=e=>e.layoutMode==="grid-no-grow",gQt=e=>[w6e(e)&&"mrt-row-pin",x6e(e)&&"mrt-row-drag",e.positionActionsColumn==="first"&&Wee(e)&&"mrt-row-actions",e.positionExpandColumn==="first"&&Vee(e)&&"mrt-row-expand",C6e(e)&&"mrt-row-select",_6e(e)&&"mrt-row-numbers"].filter(Boolean),yQt=e=>[e.positionActionsColumn==="last"&&Wee(e)&&"mrt-row-actions",e.positionExpandColumn==="last"&&Vee(e)&&"mrt-row-expand",E6e(e)&&"mrt-row-spacer"].filter(Boolean),Gee=(e,t=!1)=>{const{state:{columnOrder:n=[]}}=e,r=gQt(e),i=yQt(e),o=KN(e.columns).map(a=>Ww(a));let s=t?o:Array.from(new Set([...n,...o]));return s=s.filter(a=>!r.includes(a)&&!i.includes(a)),[...r,...s,...i]},vQt=({table:e})=>{const{getAllColumns:t,getAllLeafColumns:n,getCenterLeafColumns:r,getIsAllColumnsVisible:i,getIsSomeColumnsPinned:o,getIsSomeColumnsVisible:s,getLeftLeafColumns:a,getRightLeafColumns:l,getState:u,options:{enableColumnOrdering:c,enableColumnPinning:d,enableHiding:f,localization:h}}=e,{columnOrder:m,columnPinning:p}=u(),g=_=>{n().filter(E=>E.columnDef.enableHiding!==!1).forEach(E=>E.toggleVisibility(_))},v=A.useMemo(()=>{const _=t();return m.length>0&&!_.some(E=>E.columnDef.columnDefType==="group")?[...a(),...Array.from(new Set(m)).map(E=>r().find(S=>S?.id===E)),...l()].filter(Boolean):_},[m,p,t(),r(),a(),l()]),[y,w]=A.useState(null);return b.jsxs(Rn.Dropdown,{className:Nt("mrt-show-hide-columns-menu",a0e.root),children:[b.jsxs(lt,{className:a0e.content,children:[f&&b.jsx(Mt,{disabled:!s(),onClick:()=>g(!1),variant:"subtle",children:h.hideAll}),c&&b.jsx(Mt,{onClick:()=>e.setColumnOrder(Gee(e.options,!0)),variant:"subtle",children:h.resetOrder}),d&&b.jsx(Mt,{disabled:!o(),onClick:()=>e.resetColumnPinning(!0),variant:"subtle",children:h.unpinAll}),f&&b.jsx(Mt,{disabled:i(),onClick:()=>g(!0),variant:"subtle",children:h.showAll})]}),b.jsx(Rn.Divider,{}),v.map((_,E)=>b.jsx(b6e,{allColumns:v,column:_,hoveredColumn:y,setHoveredColumn:w,table:e},`${E}-${_.id}`))]})},bQt=e=>{var{table:t,title:n}=e,r=On(e,["table","title"]);const{icons:{IconColumns:i},localization:{showHideColumns:o}}=t.options;return b.jsxs(Rn,{closeOnItemClick:!1,withinPortal:!0,children:[b.jsx(ct,{label:n??o,withinPortal:!0,children:b.jsx(Rn.Target,{children:b.jsx(on,Object.assign({"aria-label":n??o,color:"gray",size:"lg",variant:"subtle"},r,{children:b.jsx(i,{})}))})}),b.jsx(vQt,{table:t})]})},wQt={md:"xs",xl:"md",xs:"xl"},xQt=e=>{var{table:{getState:t,options:{icons:{IconBaselineDensityLarge:n,IconBaselineDensityMedium:r,IconBaselineDensitySmall:i},localization:{toggleDensity:o}},setDensity:s},title:a}=e,l=On(e,["table","title"]);const{density:u}=t();return b.jsx(ct,{label:a??o,withinPortal:!0,children:b.jsx(on,Object.assign({"aria-label":a??o,color:"gray",onClick:()=>s(c=>wQt[c]),size:"lg",variant:"subtle"},l,{children:u==="xs"?b.jsx(i,{}):u==="md"?b.jsx(r,{}):b.jsx(n,{})}))})},CQt=e=>{var{table:{getState:t,options:{icons:{IconFilter:n,IconFilterOff:r},localization:{showHideFilters:i}},setShowColumnFilters:o},title:s}=e,a=On(e,["table","title"]);const{showColumnFilters:l}=t();return b.jsx(ct,{label:s??i,withinPortal:!0,children:b.jsx(on,Object.assign({"aria-label":s??i,color:"gray",onClick:()=>o(u=>!u),size:"lg",variant:"subtle"},a,{children:l?b.jsx(r,{}):b.jsx(n,{})}))})},_Qt=e=>{var{table:{getState:t,options:{icons:{IconMaximize:n,IconMinimize:r},localization:{toggleFullScreen:i}},setIsFullScreen:o},title:s}=e,a=On(e,["table","title"]);const{isFullScreen:l}=t(),[u,c]=A.useState(!1),d=()=>{c(!1),o(f=>!f)};return b.jsx(ct,{label:s??i,opened:u,withinPortal:!0,children:b.jsx(on,Object.assign({"aria-label":s??i,color:"gray",onClick:d,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),size:"lg",variant:"subtle"},a,{children:l?b.jsx(r,{}):b.jsx(n,{})}))})},EQt=e=>{var{table:{getState:t,options:{icons:{IconSearch:n,IconSearchOff:r},localization:{showHideSearch:i}},refs:{searchInputRef:o},setShowGlobalFilter:s},title:a}=e,l=On(e,["table","title"]);const{globalFilter:u,showGlobalFilter:c}=t(),d=()=>{s(!c),setTimeout(()=>{var f;return(f=o.current)===null||f===void 0?void 0:f.focus()},100)};return b.jsx(ct,{label:a??i,withinPortal:!0,children:b.jsx(on,Object.assign({"aria-label":a??i,color:"gray",disabled:!!u,onClick:d,size:"lg",variant:"subtle"},l,{children:c?b.jsx(r,{}):b.jsx(n,{})}))})},SQt=e=>{var{handleEdit:t,row:n,table:r}=e,i=On(e,["handleEdit","row","table"]);const{options:{editDisplayMode:o,enableEditing:s,icons:{IconDots:a,IconEdit:l},localization:u,positionActionsColumn:c,renderRowActionMenuItems:d}}=r;return b.jsxs(Rn,{closeOnItemClick:!0,position:c==="first"?"bottom-start":c==="last"?"bottom-end":void 0,withinPortal:!0,children:[b.jsx(ct,{label:u.rowActions,openDelay:1e3,withinPortal:!0,children:b.jsx(Rn.Target,{children:b.jsx(on,Object.assign({"aria-label":u.rowActions,color:"gray",onClick:f=>f.stopPropagation(),size:"sm",variant:"subtle"},i,{children:b.jsx(a,{})}))})}),b.jsxs(Rn.Dropdown,{onClick:f=>f.stopPropagation(),children:[s&&o!=="table"&&b.jsx(Rn.Item,{leftSection:b.jsx(l,{}),onClick:t,children:u.edit}),d?.({row:n,table:r})]})]})},TQt=({cell:e,row:t,table:n})=>{const{getState:r,options:{createDisplayMode:i,editDisplayMode:o,enableEditing:s,icons:{IconEdit:a},localization:{edit:l},renderRowActionMenuItems:u,renderRowActions:c},setEditingRow:d}=n,{creatingRow:f,editingRow:h}=r(),m=f?.id===t.id,p=h?.id===t.id,g=y=>{y.stopPropagation(),d(Object.assign({},t))},v=m&&i==="row"||p&&o==="row";return b.jsx(b.Fragment,{children:c&&!v?c({cell:e,row:t,table:n}):v?b.jsx(g6e,{row:t,table:n}):!u&&Ft(s,t)?b.jsx(ct,{label:l,openDelay:1e3,position:"right",withinPortal:!0,children:b.jsx(on,{"aria-label":l,color:"gray",disabled:!!h&&h.id!==t.id,onClick:g,size:"md",variant:"subtle",children:b.jsx(a,{})})}):u?b.jsx(SQt,{handleEdit:g,row:t,table:n}):null})};var zB={root:"MRT_TableFooter-module_root__-JXpw",grid:"MRT_TableFooter-module_grid__J3Ga-",sticky:"MRT_TableFooter-module_sticky__GcoK6"},l0e={root:"MRT_TableFooterRow-module_root__EuoPr","layout-mode-grid":"MRT_TableFooterRow-module_layout-mode-grid__dUEMF"},UB={root:"MRT_TableFooterCell-module_root__d8Scs",grid:"MRT_TableFooterCell-module_grid__H9jLk",group:"MRT_TableFooterCell-module_group__l3-p-"};const kQt=e=>{var t,n,r,i,o,{footer:s,renderedColumnIndex:a,table:l}=e,u=On(e,["footer","renderedColumnIndex","table"]);const c=su(),{options:{enableColumnPinning:d,layoutMode:f,mantineTableFooterCellProps:h}}=l,{column:m}=s,{columnDef:p}=m,{columnDefType:g}=p,v=d&&p.columnDefType!=="group"&&m.getIsPinned(),y={column:m,table:l},w=Object.assign(Object.assign(Object.assign({},Ft(h,y)),Ft(p.mantineTableFooterCellProps,y)),u),_={minWidth:`max(calc(var(--header-${Ud(s?.id)}-size) * 1px), ${(t=p.minSize)!==null&&t!==void 0?t:30}px)`,width:`calc(var(--header-${Ud(s.id)}-size) * 1px)`};return f==="grid"?_.flex=`${[0,!1].includes(p.grow)?0:`var(--header-${Ud(s.id)}-size)`} 0 auto`:f==="grid-no-grow"&&(_.flex=`${+(p.grow||0)} 0 auto`),b.jsx(rx,Object.assign({colSpan:s.colSpan,"data-column-pinned":v||void 0,"data-first-right-pinned":v==="right"&&m.getIsFirstColumn(v)||void 0,"data-index":a,"data-last-left-pinned":v==="left"&&m.getIsLastColumn(v)||void 0},w,{__vars:Object.assign({"--mrt-cell-align":(n=w.align)!==null&&n!==void 0?n:g==="group"?"center":c.dir==="rtl"?"right":"left","--mrt-table-cell-left":v==="left"?`${m.getStart(v)}`:void 0,"--mrt-table-cell-right":v==="right"?`${m.getAfter(v)}`:void 0},w?.__vars),className:Nt(UB.root,f?.startsWith("grid")&&UB.grid,g==="group"&&UB.group,w?.className),style:E=>Object.assign(Object.assign({},_),Ft(w.style,E)),children:(r=w.children)!==null&&r!==void 0?r:s.isPlaceholder?null:(o=(i=Ft(p.Footer,{column:m,footer:s,table:l}))!==null&&i!==void 0?i:p.footer)!==null&&o!==void 0?o:null}))},AQt=e=>{var t,{columnVirtualizer:n,footerGroup:r,table:i}=e,o=On(e,["columnVirtualizer","footerGroup","table"]);const{options:{layoutMode:s,mantineTableFooterRowProps:a}}=i,{virtualColumns:l,virtualPaddingLeft:u,virtualPaddingRight:c}=n??{};if(!(!((t=r.headers)===null||t===void 0)&&t.some(f=>typeof f.column.columnDef.footer=="string"&&!!f.column.columnDef.footer||f.column.columnDef.Footer)))return null;const d=Object.assign(Object.assign({},Ft(a,{footerGroup:r,table:i})),o);return b.jsxs(Hp,Object.assign({className:Nt(l0e.root,s?.startsWith("grid")&&l0e["layout-mode-grid"])},d,{children:[u?b.jsx(De,{component:"th",display:"flex",w:u}):null,(l??r.headers).map((f,h)=>{let m=f;return n&&(h=f.index,m=r.headers[h]),b.jsx(kQt,{footer:m,renderedColumnIndex:h,table:i},m.id)}),c?b.jsx(De,{component:"th",display:"flex",w:c}):null]}))},RQt=e=>{var{columnVirtualizer:t,table:n}=e,r=On(e,["columnVirtualizer","table"]);const{getFooterGroups:i,getState:o,options:{enableStickyFooter:s,layoutMode:a,mantineTableFooterProps:l},refs:{tableFooterRef:u}}=n,{isFullScreen:c}=o(),d=Object.assign(Object.assign({},Ft(l,{table:n})),r),f=(c||s)&&s!==!1;return b.jsx(VW,Object.assign({},d,{className:Nt(zB.root,d?.className,f&&zB.sticky,a?.startsWith("grid")&&zB.grid),ref:h=>{u.current=h,d?.ref&&(d.ref.current=h)},children:i().map(h=>b.jsx(AQt,{columnVirtualizer:t,footerGroup:h,table:n},h.id))}))};var gg={root:"MRT_TableHead-module_root__j9NkO","root-grid":"MRT_TableHead-module_root-grid__c3aGl","root-table-row-group":"MRT_TableHead-module_root-table-row-group__d9FO4","root-sticky":"MRT_TableHead-module_root-sticky__0kuDE","banner-tr":"MRT_TableHead-module_banner-tr__EhT-x","banner-th":"MRT_TableHead-module_banner-th__KwM5a",grid:"MRT_TableHead-module_grid__OJ-td"},HB={root:"MRT_TableHeadRow-module_root__hUKv4","layout-mode-grid":"MRT_TableHeadRow-module_layout-mode-grid__4ZGri",sticky:"MRT_TableHeadRow-module_sticky__Ej7Ax"},Ws={root:"MRT_TableHeadCell-module_root__6y50a","root-grid":"MRT_TableHeadCell-module_root-grid__bAf1d","root-virtualized":"MRT_TableHeadCell-module_root-virtualized__CWLit","root-no-select":"MRT_TableHeadCell-module_root-no-select__BEOVU",content:"MRT_TableHeadCell-module_content__-pzSK","content-spaced":"MRT_TableHeadCell-module_content-spaced__S85Aa","content-center":"MRT_TableHeadCell-module_content-center__c-17L","content-right":"MRT_TableHeadCell-module_content-right__NSRZU","content-wrapper":"MRT_TableHeadCell-module_content-wrapper__py6aJ","content-wrapper-hidden-overflow":"MRT_TableHeadCell-module_content-wrapper-hidden-overflow__QY40r","content-wrapper-nowrap":"MRT_TableHeadCell-module_content-wrapper-nowrap__-4aIg",labels:"MRT_TableHeadCell-module_labels__oiMSr","labels-right":"MRT_TableHeadCell-module_labels-right__6ZJp-","labels-center":"MRT_TableHeadCell-module_labels-center__MM9q8","labels-sortable":"MRT_TableHeadCell-module_labels-sortable__tyuLr","labels-data":"MRT_TableHeadCell-module_labels-data__PvFGO","content-actions":"MRT_TableHeadCell-module_content-actions__utxbm"},IQt={"filter-mode-label":"MRT_TableHeadCellFilterContainer-module_filter-mode-label__8reK-"};const S6e=(e,t,n,r)=>{const i=SKt(e.getValue(t),n,{threshold:rl.MATCHES});return r(i),i.passed};S6e.autoRemove=e=>!e;const T6e=(e,t,n)=>{var r;return(r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim().includes(n.toString().toLowerCase().trim())};T6e.autoRemove=e=>!e;const k6e=(e,t,n)=>{var r;return(r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim().startsWith(n.toString().toLowerCase().trim())};k6e.autoRemove=e=>!e;const A6e=(e,t,n)=>{var r;return(r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim().endsWith(n.toString().toLowerCase().trim())};A6e.autoRemove=e=>!e;const k$=(e,t,n)=>{var r;return((r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim())===n?.toString().toLowerCase().trim()};k$.autoRemove=e=>!e;const R6e=(e,t,n)=>{var r;return((r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim())!==n.toString().toLowerCase().trim()};R6e.autoRemove=e=>!e;const A$=(e,t,n)=>{var r;return!isNaN(+n)&&!isNaN(+e.getValue(t))?+e.getValue(t)>+n:((r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim())>n?.toString().toLowerCase().trim()};A$.autoRemove=e=>!e;const Yee=(e,t,n)=>k$(e,t,n)||A$(e,t,n);Yee.autoRemove=e=>!e;const R$=(e,t,n)=>{var r;return!isNaN(+n)&&!isNaN(+e.getValue(t))?+e.getValue(t)<+n:((r=e.getValue(t))===null||r===void 0?void 0:r.toString().toLowerCase().trim())<n?.toString().toLowerCase().trim()};R$.autoRemove=e=>!e;const Kee=(e,t,n)=>k$(e,t,n)||R$(e,t,n);Kee.autoRemove=e=>!e;const I6e=(e,t,n)=>(["",void 0].includes(n[0])||A$(e,t,n[0]))&&(!isNaN(+n[0])&&!isNaN(+n[1])&&+n[0]>+n[1]||["",void 0].includes(n[1])||R$(e,t,n[1]));I6e.autoRemove=e=>!e;const D6e=(e,t,n)=>(["",void 0].includes(n[0])||Yee(e,t,n[0]))&&(!isNaN(+n[0])&&!isNaN(+n[1])&&+n[0]>+n[1]||["",void 0].includes(n[1])||Kee(e,t,n[1]));D6e.autoRemove=e=>!e;const P6e=(e,t,n)=>{var r;return!(!((r=e.getValue(t))===null||r===void 0)&&r.toString().trim())};P6e.autoRemove=e=>!e;const O6e=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))===null||r===void 0)&&r.toString().trim())};O6e.autoRemove=e=>!e;const DQt=Object.assign(Object.assign({},Gf),{between:I6e,betweenInclusive:D6e,contains:T6e,empty:P6e,endsWith:A6e,equals:k$,fuzzy:S6e,greaterThan:A$,greaterThanOrEqualTo:Yee,lessThan:R$,lessThanOrEqualTo:Kee,notEmpty:O6e,notEquals:R6e,startsWith:k6e});function Xee(e,t){var n;if(!t)return"";const r=`filter${t[0].toUpperCase()}${t.slice(1)}`;return(n=e[r])!==null&&n!==void 0?n:""}var PQt={root:"MRT_FilterCheckBox-module_root__59h9r"};const OQt=e=>{var t,n,r,{column:i,table:o}=e,s=On(e,["column","table"]);const{getState:a,options:{localization:l,mantineFilterCheckboxProps:u}}=o,{density:c}=a(),{columnDef:d}=i,f={column:i,table:o},h=Object.assign(Object.assign(Object.assign({},Ft(u,f)),Ft(d.mantineFilterCheckboxProps,f)),s),m=(t=l.filterByColumn)===null||t===void 0?void 0:t.replace("{column}",d.header),p=i.getFilterValue();return b.jsx(ct,{label:(n=h?.title)!==null&&n!==void 0?n:m,openDelay:1e3,withinPortal:!0,children:b.jsx(Ia,Object.assign({checked:p==="true",className:Nt("mrt-filter-checkbox",PQt.root),indeterminate:p===void 0,label:(r=h.title)!==null&&r!==void 0?r:m,size:c==="xs"?"sm":"md"},h,{onChange:g=>{var v;i.setFilterValue(i.getFilterValue()===void 0?"true":i.getFilterValue()==="true"?"false":void 0),(v=h?.onChange)===null||v===void 0||v.call(h,g)},onClick:g=>{var v;g.stopPropagation(),(v=h?.onClick)===null||v===void 0||v.call(h,g)},title:void 0}))})};var NQt={root:"MRT_FilterRangeFields-module_root__KfCcg"},gE={root:"MRT_FilterTextInput-module_root__Ss8Ql","date-filter":"MRT_FilterTextInput-module_date-filter__jOBLB","range-filter":"MRT_FilterTextInput-module_range-filter__JQHAL","not-filter-chip":"MRT_FilterTextInput-module_not-filter-chip__u8b1y","filter-chip-badge":"MRT_FilterTextInput-module_filter-chip-badge__Sel2k"};const Hq=e=>{var t,n,r,i,o,s,a,l,{header:u,rangeFilterIndex:c,table:d}=e,f=On(e,["header","rangeFilterIndex","table"]);const{options:{columnFilterDisplayMode:h,columnFilterModeOptions:m,icons:{IconX:p},localization:g,mantineFilterAutocompleteProps:v,mantineFilterDateInputProps:y,mantineFilterMultiSelectProps:w={clearable:!0},mantineFilterSelectProps:_,mantineFilterTextInputProps:E,manualFiltering:S},refs:{filterInputRefs:T},setColumnFilterFns:k}=d,{column:R}=u,{columnDef:I}=R,P={column:R,rangeFilterIndex:c,table:d},N=Object.assign(Object.assign(Object.assign({},Ft(E,P)),Ft(I.mantineFilterTextInputProps,P)),f),M=Object.assign(Object.assign({},Ft(_,P)),Ft(I.mantineFilterSelectProps,P)),O=Object.assign(Object.assign({},Ft(w,P)),Ft(I.mantineFilterMultiSelectProps,P)),j=Object.assign(Object.assign({},Ft(y,P)),Ft(I.mantineFilterDateInputProps,P)),U=Object.assign(Object.assign({},Ft(v,P)),Ft(I.mantineFilterAutocompleteProps,P)),q=I.filterVariant==="range"||I.filterVariant==="date-range"||c!==void 0,W=I.filterVariant==="select",V=I.filterVariant==="multi-select",z=I.filterVariant==="date"||I.filterVariant==="date-range",L=I.filterVariant==="autocomplete",H=(t=I?.columnFilterModeOptions)!==null&&t!==void 0?t:m,B=I._filterFn,Y=["empty","notEmpty"].includes(B)?Xee(g,B):"",Q=q?c===0?g.min:c===1?g.max:"":(n=N?.placeholder)!==null&&n!==void 0?n:(r=g.filterByColumn)===null||r===void 0?void 0:r.replace("{column}",String(I.header)),ne=R.getFacetedUniqueValues(),ce=A.useMemo(()=>{var ee,fe,Re;return((Re=(fe=(ee=U?.data)!==null&&ee!==void 0?ee:M?.data)!==null&&fe!==void 0?fe:O?.data)!==null&&Re!==void 0?Re:(L||W||V)&&ne?Array.from(ne.keys()).filter(Oe=>Oe!==null).sort((Oe,Ae)=>Oe.localeCompare(Ae)):[]).filter(Oe=>Oe!=null)},[U?.data,ne,L,V,W,O?.data,M?.data]),le=A.useRef(!1),[ue,ae]=A.useState(()=>{var ee,fe;return V?R.getFilterValue()||[]:q?((ee=R.getFilterValue())===null||ee===void 0?void 0:ee[c])||"":(fe=R.getFilterValue())!==null&&fe!==void 0?fe:""}),[te]=Fye(ue,S?400:200);A.useEffect(()=>{le.current&&(q?R.setFilterValue(ee=>{const fe=Array.isArray(ee)?ee:["",""];return fe[c]=te,fe}):R.setFilterValue(te??void 0))},[te]),A.useEffect(()=>{if(!le.current){le.current=!0;return}const ee=R.getFilterValue();ee===void 0?se():ae(q&&c!==void 0?(ee??["",""])[c]:ee??"")},[R.getFilterValue()]);const se=()=>{V?(ae([]),R.setFilterValue([])):q?(ae(""),R.setFilterValue(ee=>{const fe=Array.isArray(ee)?ee:["",""];return fe[c]=void 0,fe})):W?(ae(null),R.setFilterValue(null)):(ae(""),R.setFilterValue(void 0))},we=()=>{V?(ae([]),R.setFilterValue([])):(ae(""),R.setFilterValue(void 0)),k(ee=>{var fe;return Object.assign(Object.assign({},ee),{[u.id]:(fe=H?.[0])!==null&&fe!==void 0?fe:"fuzzy"})})},X={"aria-label":Q,className:Nt("mrt-filter-text-input",gE.root,z?gE["date-filter"]:q?gE["range-filter"]:!Y&&gE["not-filter-chip"]),disabled:!!Y,onChange:ae,onClick:ee=>ee.stopPropagation(),placeholder:Q,style:Object.assign({},V?O?.style:W?M?.style:z?j?.style:N?.style),title:Q,value:V&&!Array.isArray(ue)?[]:ue,variant:"unstyled"},{className:he}=X,ge=On(X,["className"]),re=ue?b.jsx(on,{"aria-label":g.clearFilter,color:"var(--mantine-color-gray-7)",onClick:se,size:"sm",title:(i=g.clearFilter)!==null&&i!==void 0?i:"",variant:"transparent",children:b.jsx(p,{})}):null;return I.Filter?b.jsx(b.Fragment,{children:(o=I.Filter)===null||o===void 0?void 0:o.call(I,{column:R,header:u,rangeFilterIndex:c,table:d})}):Y?b.jsx(De,{style:ge.style,children:b.jsx(Ii,{className:gE["filter-chip-badge"],onClick:we,rightSection:re,size:"lg",children:Y})}):V?b.jsx(Up,Object.assign({},ge,{searchable:!0},O,{className:Nt(he,O.className),data:ce,onChange:ee=>ae(ee),ref:ee=>{ee&&(T.current[`${R.id}-${c??0}`]=ee,O.ref&&(O.ref.current=ee))},rightSection:!((s=ue?.toString())===null||s===void 0)&&s.length&&O?.clearable?re:void 0,style:ge.style})):W?b.jsx(om,Object.assign({},ge,{clearable:!0,searchable:!0},M,{className:Nt(he,M.className),clearButtonProps:{size:"md"},data:ce,ref:ee=>{ee&&(T.current[`${R.id}-${c??0}`]=ee,M.ref&&(M.ref.current=ee))},style:ge.style})):z?b.jsx(Hee,Object.assign({},ge,{allowDeselect:!0,clearable:!0,popoverProps:{withinPortal:h!=="popover"}},j,{className:Nt(he,j.className),onChange:ee=>ge.onChange(ee===null?"":ee),ref:ee=>{ee&&(T.current[`${R.id}-${c??0}`]=ee,j.ref&&(j.ref.current=ee))},style:ge.style})):L?b.jsx(nW,Object.assign({},ge,{onChange:ee=>ae(ee),rightSection:!((a=ue?.toString())===null||a===void 0)&&a.length?re:void 0},U,{className:Nt(he,U.className),data:ce,ref:ee=>{ee&&(T.current[`${R.id}-${c??0}`]=ee,U.ref&&(U.ref.current=ee))},style:ge.style})):b.jsx(dl,Object.assign({},ge,{onChange:ee=>ae(ee.target.value),rightSection:!((l=ue?.toString())===null||l===void 0)&&l.length?re:void 0},N,{className:Nt(he,N.className),mt:0,ref:ee=>{ee&&(T.current[`${R.id}-${c??0}`]=ee,N.ref&&(N.ref.current=ee))},style:ge.style}))},MQt=e=>{var{header:t,table:n}=e,r=On(e,["header","table"]);return b.jsxs(De,Object.assign({},r,{className:Nt("mrt-filter-range-fields",NQt.root,r.className),children:[b.jsx(Hq,{header:t,rangeFilterIndex:0,table:n}),b.jsx(Hq,{header:t,rangeFilterIndex:1,table:n})]}))};var $Qt={root:"MRT_FilterRangeSlider-module_root__uwYEk"};const LQt=e=>{var t,{header:n,table:r}=e,i=On(e,["header","table"]);const{options:{mantineFilterRangeSliderProps:o},refs:{filterInputRefs:s}}=r,{column:a}=n,{columnDef:l}=a,u={column:a,table:r},c=Object.assign(Object.assign(Object.assign({},Ft(o,u)),Ft(l.mantineFilterRangeSliderProps,u)),i);let[d,f]=c.min!==void 0&&c.max!==void 0?[c.min,c.max]:(t=a.getFacetedMinMaxValues())!==null&&t!==void 0?t:[0,1];Array.isArray(d)&&(d=d[0]),Array.isArray(f)&&(f=f[0]),d===null&&(d=0),f===null&&(f=1);const[h,m]=A.useState([d,f]),p=a.getFilterValue(),g=A.useRef(!1);return A.useEffect(()=>{g.current&&(p===void 0?m([d,f]):Array.isArray(p)&&m(p)),g.current=!0},[p,d,f]),b.jsx(zW,Object.assign({className:Nt("mrt-filter-range-slider",$Qt.root),max:f,min:d,onChange:v=>{m(v)},onChangeEnd:v=>{Array.isArray(v)&&(v[0]<=d&&v[1]>=f?a.setFilterValue(void 0):a.setFilterValue(v))},value:h},c,{ref:v=>{v&&(s.current[`${a.id}-0`]=v,c?.ref&&(c.ref=v))}}))};var FQt={symbol:"MRT_FilterOptionMenu-module_symbol__a1Bsy"};const jQt=e=>[{divider:!1,label:e.filterFuzzy,option:"fuzzy",symbol:""},{divider:!1,label:e.filterContains,option:"contains",symbol:"*"},{divider:!1,label:e.filterStartsWith,option:"startsWith",symbol:"a"},{divider:!0,label:e.filterEndsWith,option:"endsWith",symbol:"z"},{divider:!1,label:e.filterEquals,option:"equals",symbol:"="},{divider:!0,label:e.filterNotEquals,option:"notEquals",symbol:""},{divider:!1,label:e.filterBetween,option:"between",symbol:""},{divider:!0,label:e.filterBetweenInclusive,option:"betweenInclusive",symbol:""},{divider:!1,label:e.filterGreaterThan,option:"greaterThan",symbol:">"},{divider:!1,label:e.filterGreaterThanOrEqualTo,option:"greaterThanOrEqualTo",symbol:""},{divider:!1,label:e.filterLessThan,option:"lessThan",symbol:"<"},{divider:!0,label:e.filterLessThanOrEqualTo,option:"lessThanOrEqualTo",symbol:""},{divider:!1,label:e.filterEmpty,option:"empty",symbol:""},{divider:!1,label:e.filterNotEmpty,option:"notEmpty",symbol:"!"}],gD=["between","betweenInclusive","inNumberRange"],qB=["empty","notEmpty"],BQt=["arrIncludesSome","arrIncludesAll","arrIncludes"],u0e=["range-slider","date-range","range"],N6e=({header:e,onSelect:t,table:n})=>{var r,i,o,s;const{getState:a,options:{columnFilterModeOptions:l,globalFilterModeOptions:u,localization:c,renderColumnFilterModeMenuItems:d,renderGlobalFilterModeMenuItems:f},setColumnFilterFns:h,setGlobalFilterFn:m}=n,{globalFilterFn:p}=a(),{column:g}=e??{},{columnDef:v}=g??{},y=g?.getFilterValue();let w=(r=v?.columnFilterModeOptions)!==null&&r!==void 0?r:l;u0e.includes(v?.filterVariant)&&(w=[...gD,...w??[]].filter(T=>gD.includes(T)));const _=A.useMemo(()=>jQt(c).filter(T=>v?w===void 0||w?.includes(T.option):(!u||u.includes(T.option))&&["contains","fuzzy","startsWith"].includes(T.option)),[]),E=T=>{var k;const R=(k=v?._filterFn)!==null&&k!==void 0?k:"";!e||!g?m(T):T!==R&&(h(I=>Object.assign(Object.assign({},I),{[e.id]:T})),qB.includes(T)?y!==" "&&!qB.includes(R)?g.setFilterValue(" "):y&&g.setFilterValue(y):v?.filterVariant==="multi-select"||BQt.includes(T)?y instanceof String||y?.length?g.setFilterValue([]):y&&g.setFilterValue(y):u0e.includes(v?.filterVariant)||gD.includes(T)?!Array.isArray(y)||!y?.every(I=>I==="")&&!gD.includes(R)?g.setFilterValue(["",""]):g.setFilterValue(y):Array.isArray(y)?g.setFilterValue(""):y===" "&&qB.includes(R)?g.setFilterValue(void 0):g.setFilterValue(y)),t?.()},S=e&&v?v._filterFn:p;return b.jsx(Rn.Dropdown,{children:(s=e&&g&&v?(o=(i=v.renderColumnFilterModeMenuItems)===null||i===void 0?void 0:i.call(v,{column:g,internalFilterOptions:_,onSelectFilterMode:E,table:n}))!==null&&o!==void 0?o:d?.({column:g,internalFilterOptions:_,onSelectFilterMode:E,table:n}):f?.({internalFilterOptions:_,onSelectFilterMode:E,table:n}))!==null&&s!==void 0?s:_.map(({divider:T,label:k,option:R,symbol:I},P)=>b.jsxs(A.Fragment,{children:[b.jsx(Rn.Item,{color:R===S?"blue":void 0,leftSection:b.jsx("span",{className:FQt.symbol,children:I}),onClick:()=>E(R),value:R,children:k}),T&&b.jsx(Rn.Divider,{})]},P))})},M6e=e=>{var t,n,{header:r,table:i}=e,o=On(e,["header","table"]);const{getState:s,options:{columnFilterDisplayMode:a,columnFilterModeOptions:l,enableColumnFilterModes:u,icons:{IconFilterCog:c},localization:d},refs:{filterInputRefs:f}}=i,{showColumnFilters:h}=s(),{column:m}=r,{columnDef:p}=m,g=p._filterFn,v=(t=p?.columnFilterModeOptions)!==null&&t!==void 0?t:l,y=u&&p.enableColumnFilterModes!==!1&&(v===void 0||!!v?.length);return b.jsx(Fh,{in:h||a==="popover",children:b.jsxs(lt,Object.assign({direction:"column"},o,{children:[b.jsxs(lt,{align:"flex-end",children:[p.filterVariant==="checkbox"?b.jsx(OQt,{column:m,table:i}):p.filterVariant==="range-slider"?b.jsx(LQt,{header:r,table:i}):["date-range","range"].includes((n=p.filterVariant)!==null&&n!==void 0?n:"")||["between","betweenInclusive","inNumberRange"].includes(p._filterFn)?b.jsx(MQt,{header:r,table:i}):b.jsx(Hq,{header:r,table:i}),y&&b.jsxs(Rn,{withinPortal:a!=="popover",children:[b.jsx(ct,{label:d.changeFilterMode,position:"bottom-start",withinPortal:!0,children:b.jsx(Rn.Target,{children:b.jsx(on,{"aria-label":d.changeFilterMode,color:"gray",size:"md",variant:"subtle",children:b.jsx(c,{})})})}),b.jsx(N6e,{header:r,onSelect:()=>setTimeout(()=>{var w;return(w=f.current[`${m.id}-0`])===null||w===void 0?void 0:w.focus()},100),table:i})]})]}),y?b.jsx($e,{c:"dimmed",className:IQt["filter-mode-label"],component:"label",children:d.filterMode.replace("{filterType}",Xee(d,g))}):null]}))})};var zQt={root:"MRT_TableHeadCellFilterLabel-module_root__Rur2R"};const UQt=e=>{var t,n,r,{header:i,table:o}=e,s=On(e,["header","table"]);const{options:{columnFilterDisplayMode:a,icons:{IconFilter:l},localization:u},refs:{filterInputRefs:c},setShowColumnFilters:d}=o,{column:f}=i,{columnDef:h}=f,m=f.getFilterValue(),[p,g]=A.useState(!1),v=Array.isArray(m)&&m.some(Boolean)||!!m&&!Array.isArray(m),y=h.filterVariant==="range"||h.filterVariant==="date-range"||["between","betweenInclusive","inNumberRange"].includes(h._filterFn),w=h._filterFn,_=h.filterTooltipValueFn||(S=>S),E=a==="popover"&&!v?(t=u.filterByColumn)===null||t===void 0?void 0:t.replace("{column}",String(h.header)):u.filteringByColumn.replace("{column}",String(h.header)).replace("{filterType}",Xee(u,w)).replace("{filterValue}",`"${Array.isArray(f.getFilterValue())?f.getFilterValue().map(S=>_(S)).join(`" ${y?u.and:u.or} "`):_(f.getFilterValue())}"`).replace('" "',"");return b.jsx(b.Fragment,{children:b.jsxs(Cr,{keepMounted:h.filterVariant==="range-slider",onChange:g,onClose:()=>g(!1),opened:p,position:"top",shadow:"xl",width:360,withinPortal:!0,children:[b.jsx(Hc,{mounted:a==="popover"||!!f.getFilterValue()&&!y||y&&(!!(!((n=f.getFilterValue())===null||n===void 0)&&n[0])||!!(!((r=f.getFilterValue())===null||r===void 0)&&r[1])),transition:"scale",children:()=>b.jsx(Cr.Target,{children:b.jsx(ct,{disabled:p,label:E,multiline:!0,w:E.length>40?300:void 0,withinPortal:!0,children:b.jsx(on,Object.assign({className:Nt("mrt-table-head-cell-filter-label-icon",zQt.root),size:18},GN("active",v),{onClick:S=>{S.stopPropagation(),a==="popover"?g(T=>!T):d(!0),setTimeout(()=>{const T=c.current[`${f.id}-0`];T?.focus(),T?.select()},100)}},s,{children:b.jsx(l,{size:"100%"})}))})})}),a==="popover"&&b.jsx(Cr.Dropdown,{onClick:S=>S.stopPropagation(),onKeyDown:S=>S.key==="Enter"&&g(!1),onMouseDown:S=>S.stopPropagation(),children:b.jsx(M6e,{header:i,table:o})})]})})},HQt=e=>{var{column:t,table:n,tableHeadCellRef:r}=e,i=On(e,["column","table","tableHeadCellRef"]);const{getState:o,options:{enableColumnOrdering:s,mantineColumnDragHandleProps:a},setColumnOrder:l,setDraggingColumn:u,setHoveredColumn:c}=n,{columnDef:d}=t,{columnOrder:f,draggingColumn:h,hoveredColumn:m}=o(),p={column:t,table:n},g=Object.assign(Object.assign(Object.assign({},Ft(a,p)),Ft(d.mantineColumnDragHandleProps,p)),i),v=w=>{var _;(_=g?.onDragStart)===null||_===void 0||_.call(g,w),u(t),w.dataTransfer.setDragImage(r.current,0,0)},y=w=>{var _;(_=g?.onDragEnd)===null||_===void 0||_.call(g,w),m?.id==="drop-zone"?t.toggleGrouping():s&&m&&m?.id!==h?.id&&l(v6e(t,m,f)),u(null),c(null)};return b.jsx(qee,{actionIconProps:g,onDragEnd:y,onDragStart:v,table:n})};var VB={root:"MRT_TableHeadCellResizeHandle-module_root__paufe","root-ltr":"MRT_TableHeadCellResizeHandle-module_root-ltr__652AZ","root-rtl":"MRT_TableHeadCellResizeHandle-module_root-rtl__5VlSo","root-hide":"MRT_TableHeadCellResizeHandle-module_root-hide__-ILlD"};const qQt=e=>{var t,{header:n,table:r}=e,i=On(e,["header","table"]);const{getState:o,options:{columnResizeDirection:s,columnResizeMode:a},setColumnSizingInfo:l}=r,{density:u}=o(),{column:c}=n,d=n.getResizeHandler(),f=c.getIsResizing()&&a==="onEnd"?`translateX(${(s==="rtl"?-1:1)*((t=o().columnSizingInfo.deltaOffset)!==null&&t!==void 0?t:0)}px)`:void 0;return b.jsx(De,Object.assign({onDoubleClick:()=>{l(h=>Object.assign(Object.assign({},h),{isResizingColumn:!1})),c.resetSize()},onMouseDown:d,onTouchStart:d,role:"separator"},i,{__vars:Object.assign({"--mrt-transform":f},i.__vars),className:Nt("mrt-table-head-cell-resize-handle",VB.root,VB[`root-${s}`],!n.subHeaders.length&&a==="onChange"&&VB["root-hide"],u,i.className)}))};var c0e={"sort-icon":"MRT_TableHeadCellSortLabel-module_sort-icon__zs1xA","multi-sort-indicator":"MRT_TableHeadCellSortLabel-module_multi-sort-indicator__MGBj2"};const VQt=e=>{var{header:t,table:n}=e,r=On(e,["header","table"]);const{getState:i,options:{icons:{IconArrowsSort:o,IconSortAscending:s,IconSortDescending:a},localization:l}}=n,u=t.column,{columnDef:c}=u,{sorting:d}=i(),f=u.getIsSorted(),h=u.getSortIndex(),m=f?f==="desc"?l.sortedByColumnDesc.replace("{column}",c.header):l.sortedByColumnAsc.replace("{column}",c.header):u.getNextSortingOrder()==="desc"?l.sortByColumnDesc.replace("{column}",c.header):l.sortByColumnAsc.replace("{column}",c.header),p=b.jsx(on,Object.assign({"aria-label":m},GN("sorted",f),r,{className:Nt("mrt-table-head-sort-button",c0e["sort-icon"],r.className),children:f==="desc"?b.jsx(a,{size:"100%"}):f==="asc"?b.jsx(s,{size:"100%"}):b.jsx(o,{size:"100%"})}));return b.jsx(ct,{label:m,openDelay:1e3,withinPortal:!0,children:d.length<2||h===-1?p:b.jsx(R4,{className:Nt("mrt-table-head-multi-sort-indicator",c0e["multi-sort-indicator"]),inline:!0,label:h+1,offset:4,children:p})})};var d0e={left:"MRT_ColumnActionMenu-module_left__cfNmY",right:"MRT_ColumnActionMenu-module_right__-nK56"};const WQt=e=>{var t,n,r,i,o,s,a,l,u,c,{header:d,table:f}=e,h=On(e,["header","table"]);const{getState:m,options:{columnFilterDisplayMode:p,enableColumnFilters:g,enableColumnPinning:v,enableColumnResizing:y,enableGrouping:w,enableHiding:_,enableSorting:E,enableSortingRemoval:S,icons:{IconArrowAutofitContent:T,IconBoxMultiple:k,IconClearAll:R,IconColumns:I,IconDotsVertical:P,IconEyeOff:N,IconFilter:M,IconFilterOff:O,IconPinned:j,IconPinnedOff:U,IconSortAscending:q,IconSortDescending:W},localization:V,mantineColumnActionsButtonProps:z,renderColumnActionsMenuItems:L},refs:{filterInputRefs:H},setColumnOrder:B,setColumnSizingInfo:Y,setShowColumnFilters:Q,toggleAllColumnsVisible:ne}=f,{column:ce}=d,{columnDef:le}=ce,{columnSizing:ue,columnVisibility:ae}=m(),te={column:ce,table:f},se=Object.assign(Object.assign({},Ft(z,te)),Ft(le.mantineColumnActionsButtonProps,te)),we=()=>{ce.clearSorting()},X=()=>{ce.toggleSorting(!1)},he=()=>{ce.toggleSorting(!0)},ge=()=>{Y(xe=>Object.assign(Object.assign({},xe),{isResizingColumn:!1})),ce.resetSize()},re=()=>{ce.toggleVisibility(!1)},ee=xe=>{ce.pin(xe)},fe=()=>{ce.toggleGrouping(),B(xe=>["mrt-row-expand",...xe])},Re=()=>{ce.setFilterValue("")},Oe=()=>{Q(!0),setTimeout(()=>{var xe;return(xe=H.current[`${ce.id}-0`])===null||xe===void 0?void 0:xe.focus()},100)},Ae=()=>{ne(!0)},Se=b.jsxs(b.Fragment,{children:[E&&ce.getCanSort()&&b.jsxs(b.Fragment,{children:[S!==!1&&b.jsx(Rn.Item,{disabled:!ce.getIsSorted(),leftSection:b.jsx(R,{}),onClick:we,children:V.clearSort}),b.jsx(Rn.Item,{disabled:ce.getIsSorted()==="asc",leftSection:b.jsx(q,{}),onClick:X,children:(t=V.sortByColumnAsc)===null||t===void 0?void 0:t.replace("{column}",String(le.header))}),b.jsx(Rn.Item,{disabled:ce.getIsSorted()==="desc",leftSection:b.jsx(W,{}),onClick:he,children:(n=V.sortByColumnDesc)===null||n===void 0?void 0:n.replace("{column}",String(le.header))}),(g||w||_)&&b.jsx(Rn.Divider,{},3)]}),g&&p!=="popover"&&ce.getCanFilter()&&b.jsxs(b.Fragment,{children:[b.jsx(Rn.Item,{disabled:!ce.getFilterValue(),leftSection:b.jsx(O,{}),onClick:Re,children:V.clearFilter}),b.jsx(Rn.Item,{leftSection:b.jsx(M,{}),onClick:Oe,children:(r=V.filterByColumn)===null||r===void 0?void 0:r.replace("{column}",String(le.header))}),(w||_)&&b.jsx(Rn.Divider,{},2)]}),w&&ce.getCanGroup()&&b.jsxs(b.Fragment,{children:[b.jsx(Rn.Item,{leftSection:b.jsx(k,{}),onClick:fe,children:(i=V[ce.getIsGrouped()?"ungroupByColumn":"groupByColumn"])===null||i===void 0?void 0:i.replace("{column}",String(le.header))}),v&&b.jsx(Rn.Divider,{})]}),v&&ce.getCanPin()&&b.jsxs(b.Fragment,{children:[b.jsx(Rn.Item,{disabled:ce.getIsPinned()==="left"||!ce.getCanPin(),leftSection:b.jsx(j,{className:d0e.left}),onClick:()=>ee("left"),children:V.pinToLeft}),b.jsx(Rn.Item,{disabled:ce.getIsPinned()==="right"||!ce.getCanPin(),leftSection:b.jsx(j,{className:d0e.right}),onClick:()=>ee("right"),children:V.pinToRight}),b.jsx(Rn.Item,{disabled:!ce.getIsPinned(),leftSection:b.jsx(U,{}),onClick:()=>ee(!1),children:V.unpin}),_&&b.jsx(Rn.Divider,{})]}),y&&ce.getCanResize()&&b.jsx(Rn.Item,{disabled:!ue[ce.id],leftSection:b.jsx(T,{}),onClick:ge,children:V.resetColumnSize},0),_&&b.jsxs(b.Fragment,{children:[b.jsx(Rn.Item,{disabled:!ce.getCanHide(),leftSection:b.jsx(N,{}),onClick:re,children:(o=V.hideColumn)===null||o===void 0?void 0:o.replace("{column}",String(le.header))},0),b.jsx(Rn.Item,{disabled:!Object.values(ae).filter(xe=>!xe).length,leftSection:b.jsx(I,{}),onClick:Ae,children:(s=V.showAllColumns)===null||s===void 0?void 0:s.replace("{column}",String(le.header))},1)]})]});return b.jsxs(Rn,Object.assign({closeOnItemClick:!0,position:"bottom-start",withinPortal:!0},h,{children:[b.jsx(ct,{label:(a=se?.title)!==null&&a!==void 0?a:V.columnActions,openDelay:1e3,withinPortal:!0,children:b.jsx(Rn.Target,{children:b.jsx(on,Object.assign({"aria-label":V.columnActions,color:"gray",size:"sm",variant:"subtle"},se,{children:b.jsx(P,{size:"100%"})}))})}),b.jsx(Rn.Dropdown,{children:(c=(u=(l=le.renderColumnActionsMenuItems)===null||l===void 0?void 0:l.call(le,{column:ce,internalColumnMenuItems:Se,table:f}))!==null&&u!==void 0?u:L?.({column:ce,internalColumnMenuItems:Se,table:f}))!==null&&c!==void 0?c:Se})]}))},GQt=e=>{var t,n,r,i,o,s,{columnVirtualizer:a,header:l,renderedHeaderIndex:u=0,table:c}=e,d=On(e,["columnVirtualizer","header","renderedHeaderIndex","table"]);const f=su(),{getState:h,options:{columnFilterDisplayMode:m,columnResizeDirection:p,columnResizeMode:g,enableColumnActions:v,enableColumnDragging:y,enableColumnOrdering:w,enableColumnPinning:_,enableGrouping:E,enableHeaderActionsHoverReveal:S,enableMultiSort:T,layoutMode:k,mantineTableHeadCellProps:R},refs:{tableHeadCellRefs:I},setHoveredColumn:P}=c,{columnSizingInfo:N,draggingColumn:M,grouping:O,hoveredColumn:j}=h(),{column:U}=l,{columnDef:q}=U,{columnDefType:W}=q,V={column:U,table:c},z=Object.assign(Object.assign(Object.assign({},Ft(R,V)),Ft(q.mantineTableHeadCellProps,V)),d),L={minWidth:`max(calc(var(--header-${Ud(l?.id)}-size) * 1px), ${(t=q.minSize)!==null&&t!==void 0?t:30}px)`,width:`calc(var(--header-${Ud(l.id)}-size) * 1px)`};k==="grid"?L.flex=`${[0,!1].includes(q.grow)?0:`var(--header-${Ud(l.id)}-size)`} 0 auto`:k==="grid-no-grow"&&(L.flex=`${+(q.grow||0)} 0 auto`);const H=_&&q.columnDefType!=="group"&&U.getIsPinned(),B=M?.id===U.id,Y=j?.id===U.id,{hovered:Q,ref:ne}=YLe(),[ce,le]=A.useState(!1),ue=(v||q.enableColumnActions)&&q.enableColumnActions!==!1,ae=!S||ce||Q&&!c.getVisibleFlatColumns().find(he=>he.getIsResizing()),te=y!==!1&&q.enableColumnDragging!==!1&&(y||w&&q.enableColumnOrdering!==!1||E&&q.enableGrouping!==!1&&!O.includes(U.id))&&ae,se=A.useMemo(()=>{let he=0;return U.getCanSort()&&he++,ae&&(he+=1.75),te&&(he+=1.25),he},[ae,te]),we=he=>{E&&j?.id==="drop-zone"&&P(null),w&&M&&W!=="group"&&P(q.enableColumnOrdering!==!1?U:null)},X=q?.Header instanceof Function?(n=q?.Header)===null||n===void 0?void 0:n.call(q,{column:U,header:l,table:c}):(r=q?.Header)!==null&&r!==void 0?r:q.header;return b.jsxs(rx,Object.assign({colSpan:l.colSpan,"data-column-pinned":H||void 0,"data-dragging-column":B||void 0,"data-first-right-pinned":H==="right"&&U.getIsFirstColumn(H)||void 0,"data-hovered-column-target":Y||void 0,"data-index":u,"data-last-left-pinned":H==="left"&&U.getIsLastColumn(H)||void 0,"data-resizing":g==="onChange"&&N?.isResizingColumn===U.id&&p||void 0},z,{__vars:{"--mrt-table-cell-left":H==="left"?`${U.getStart(H)}`:void 0,"--mrt-table-cell-right":H==="right"?`${U.getAfter(H)}`:void 0},align:W==="group"?"center":f.dir==="rtl"?"right":"left",className:Nt(Ws.root,k?.startsWith("grid")&&Ws["root-grid"],T&&U.getCanSort()&&Ws["root-no-select"],a&&Ws["root-virtualized"],z?.className),onDragEnter:we,ref:he=>{var ge;he&&(I.current[U.id]=he,ne.current=he,W!=="group"&&((ge=a?.measureElement)===null||ge===void 0||ge.call(a,he)))},style:he=>Object.assign(Object.assign({},L),Ft(z?.style,he)),children:[l.isPlaceholder?null:(i=z.children)!==null&&i!==void 0?i:b.jsxs(lt,{className:Nt("mrt-table-head-cell-content",Ws.content,(W==="group"||z?.align==="center")&&Ws["content-center"],z?.align==="right"&&Ws["content-right"],U.getCanResize()&&Ws["content-spaced"]),children:[b.jsxs(lt,{__vars:{"--mrt-table-head-cell-labels-padding-left":`${se}`},className:Nt("mrt-table-head-cell-labels",Ws.labels,U.getCanSort()&&W!=="group"&&Ws["labels-sortable"],z?.align==="right"?Ws["labels-right"]:z?.align==="center"&&Ws["labels-center"],W==="data"&&Ws["labels-data"]),onClick:U.getToggleSortingHandler(),children:[b.jsx(lt,{className:Nt("mrt-table-head-cell-content-wrapper",Ws["content-wrapper"],W==="data"&&Ws["content-wrapper-hidden-overflow"],((s=(o=q.header)===null||o===void 0?void 0:o.length)!==null&&s!==void 0?s:0)<20&&Ws["content-wrapper-nowrap"]),children:X}),U.getCanFilter()&&(U.getIsFiltered()||ae)&&b.jsx(UQt,{header:l,table:c}),U.getCanSort()&&(U.getIsSorted()||ae)&&b.jsx(VQt,{header:l,table:c})]}),W!=="group"&&b.jsxs(lt,{className:Nt("mrt-table-head-cell-content-actions",Ws["content-actions"]),children:[te&&b.jsx(HQt,{column:U,table:c,tableHeadCellRef:{current:I.current[U.id]}}),ue&&ae&&b.jsx(WQt,{header:l,onChange:le,opened:ce,table:c})]}),U.getCanResize()&&b.jsx(qQt,{header:l,table:c})]}),m==="subheader"&&U.getCanFilter()&&b.jsx(M6e,{header:l,table:c})]}))},YQt=e=>{var{columnVirtualizer:t,headerGroup:n,table:r}=e,i=On(e,["columnVirtualizer","headerGroup","table"]);const{getState:o,options:{enableStickyHeader:s,layoutMode:a,mantineTableHeadRowProps:l}}=r,{isFullScreen:u}=o(),{virtualColumns:c,virtualPaddingLeft:d,virtualPaddingRight:f}=t??{},h=Object.assign(Object.assign({},Ft(l,{headerGroup:n,table:r})),i);return b.jsxs(Hp,Object.assign({},h,{className:Nt(HB.root,(s||u)&&HB.sticky,a?.startsWith("grid")&&HB["layout-mode-grid"],h?.className),children:[d?b.jsx(De,{component:"th",display:"flex",w:d}):null,(c??n.headers).map((m,p)=>{let g=m;return t&&(p=m.index,g=n.headers[p]),b.jsx(GQt,{columnVirtualizer:t,header:g,renderedHeaderIndex:p,table:r},g.id)}),f?b.jsx(De,{component:"th",display:"flex",w:f}):null]}))};var Z1={alert:"MRT_ToolbarAlertBanner-module_alert__PAhUK","alert-stacked":"MRT_ToolbarAlertBanner-module_alert-stacked__HR7Nq","alert-bottom":"MRT_ToolbarAlertBanner-module_alert-bottom__u9L-S","alert-badge":"MRT_ToolbarAlertBanner-module_alert-badge__GwDmX","toolbar-alert":"MRT_ToolbarAlertBanner-module_toolbar-alert__3sJGU","head-overlay":"MRT_ToolbarAlertBanner-module_head-overlay__Hw7jK"};const qq=e=>{var t,{renderedRowIndex:n=0,row:r,table:i}=e,o=On(e,["renderedRowIndex","row","table"]);const{getState:s,options:{enableMultiRowSelection:a,localization:l,mantineSelectAllCheckboxProps:u,mantineSelectCheckboxProps:c,selectAllMode:d,selectDisplayMode:f}}=i,{density:h,isLoading:m}=s(),p=!r,g=p?d==="page"?i.getIsAllPageRowsSelected():i.getIsAllRowsSelected():void 0,v=p?g:YN({row:r,table:i}),y=Object.assign(Object.assign({},p?Ft(u,{table:i}):Ft(c,{row:r,table:i})),o),w=r?iQt({renderedRowIndex:n,row:r,table:i}):void 0,_=h6e({table:i}),E=Object.assign(Object.assign({"aria-label":p?l.toggleSelectAll:l.toggleSelectRow,checked:v,disabled:m||r&&!r.getCanSelect()||r?.id==="mrt-row-create",onChange:S=>{S.stopPropagation(),p?_(S):w(S)},size:h==="xs"?"sm":"md"},y),{onClick:S=>{var T;S.stopPropagation(),(T=y?.onClick)===null||T===void 0||T.call(y,S)},title:void 0});return b.jsx(ct,{label:(t=y?.title)!==null&&t!==void 0?t:p?l.toggleSelectAll:l.toggleSelectRow,openDelay:1e3,withinPortal:!0,children:b.jsx("span",{children:f==="switch"?b.jsx(Jg,Object.assign({},E)):f==="radio"||a===!1?b.jsx(Na,Object.assign({},E)):b.jsx(Ia,Object.assign({indeterminate:!v&&p?i.getIsSomeRowsSelected():r?.getIsSomeSelected()&&r.getCanSelectSubRows()},E))})})},Qee=e=>{var t,n,r,{stackAlertBanner:i,table:o}=e,s=On(e,["stackAlertBanner","table"]);const{getFilteredSelectedRowModel:a,getPrePaginationRowModel:l,getState:u,options:{enableRowSelection:c,enableSelectAll:d,icons:{IconX:f},localization:h,mantineToolbarAlertBannerBadgeProps:m,mantineToolbarAlertBannerProps:p,manualPagination:g,positionToolbarAlertBanner:v,renderToolbarAlertBannerContent:y,rowCount:w}}=o,{density:_,grouping:E,rowSelection:S,showAlertBanner:T}=u(),k=Object.assign(Object.assign({},Ft(p,{table:o})),s),R=Ft(m,{table:o}),I=w??l().flatRows.length,P=A.useMemo(()=>g?Object.values(S).filter(Boolean).length:a().rows.length,[S,I,g]),N=P?b.jsxs(lt,{align:"center",gap:"sm",children:[(n=(t=h.selectedCountOfRowCountRowsSelected)===null||t===void 0?void 0:t.replace("{selectedCount}",P.toString()))===null||n===void 0?void 0:n.replace("{rowCount}",I.toString()),b.jsx(Mt,{onClick:O=>h6e({table:o})(O,!1,!0),size:"compact-xs",variant:"subtle",children:h.clearSelection})]}):null,M=E.length>0?b.jsxs(lt,{children:[h.groupedBy," ",E.map((O,j)=>b.jsxs(A.Fragment,{children:[j>0?h.thenBy:"",b.jsxs(Ii,Object.assign({className:Z1["alert-badge"],rightSection:b.jsx(on,{color:"white",onClick:()=>o.getColumn(O).toggleGrouping(),size:"xs",variant:"subtle",children:b.jsx(f,{style:{transform:"scale(0.8)"}})}),variant:"filled"},R,{children:[o.getColumn(O).columnDef.header," "]}))]},`${j}-${O}`))]}):null;return b.jsx(Fh,{in:T||!!N||!!M,transitionDuration:i?200:0,children:b.jsx(pl,Object.assign({color:"blue",icon:!1},k,{className:Nt(Z1.alert,i&&!v&&Z1["alert-stacked"],!i&&v==="bottom"&&Z1["alert-bottom"],k?.className),children:(r=y?.({groupedAlert:M,selectedAlert:N,table:o}))!==null&&r!==void 0?r:b.jsxs(lt,{className:Nt(Z1["toolbar-alert"],v==="head-overlay"&&Z1["head-overlay"],_),children:[c&&d&&v==="head-overlay"&&b.jsx(qq,{table:o}),b.jsxs(Nn,{children:[k?.children,N,M]})]})}))})},KQt=e=>{var{columnVirtualizer:t,table:n}=e,r=On(e,["columnVirtualizer","table"]);const{getHeaderGroups:i,getSelectedRowModel:o,getState:s,options:{enableStickyHeader:a,layoutMode:l,mantineTableHeadProps:u,positionToolbarAlertBanner:c},refs:{tableHeadRef:d}}=n,{isFullScreen:f,showAlertBanner:h}=s(),m=Object.assign(Object.assign({},Ft(u,{table:n})),r),p=a||f;return b.jsx(qW,Object.assign({},m,{className:Nt(gg.root,l?.startsWith("grid")?gg["root-grid"]:gg["root-table-row-group"],p&&gg["root-sticky"],m?.className),pos:p&&l?.startsWith("grid")?"sticky":"relative",ref:g=>{d.current=g,m?.ref&&(m.ref.current=g)},children:c==="head-overlay"&&(h||o().rows.length>0)?b.jsx(Hp,{className:Nt(gg["banner-tr"],l?.startsWith("grid")&&gg.grid),children:b.jsx(rx,{className:Nt(gg["banner-th"],l?.startsWith("grid")&&gg.grid),colSpan:n.getVisibleLeafColumns().length,children:b.jsx(Qee,{table:n})})}):i().map(g=>b.jsx(YQt,{columnVirtualizer:t,headerGroup:g,table:n},g.id))}))};var f0e={root:"MRT_GlobalFilterTextInput-module_root__Xmcpv",collapse:"MRT_GlobalFilterTextInput-module_collapse__v311d"};const WB=e=>{var{table:t}=e,n=On(e,["table"]);const{getState:r,options:{enableGlobalFilterModes:i,icons:{IconSearch:o,IconX:s},localization:a,mantineSearchTextInputProps:l,manualFiltering:u,positionGlobalFilter:c},refs:{searchInputRef:d},setGlobalFilter:f}=t,{globalFilter:h,showGlobalFilter:m}=r(),p=Object.assign(Object.assign({},Ft(l,{table:t})),n),g=A.useRef(!1),[v,y]=A.useState(h??""),[w]=Fye(v,u?500:250);A.useEffect(()=>{f(w||void 0)},[w]);const _=()=>{y(""),f(void 0)};return A.useEffect(()=>{g.current&&(h===void 0?_():y(h)),g.current=!0},[h]),b.jsxs(Fh,{className:f0e.collapse,in:m,children:[i&&b.jsxs(Rn,{withinPortal:!0,children:[b.jsx(Rn.Target,{children:b.jsx(on,{"aria-label":a.changeSearchMode,color:"gray",size:"sm",variant:"transparent",children:b.jsx(o,{})})}),b.jsx(N6e,{onSelect:_,table:t})]}),b.jsx(dl,Object.assign({leftSection:!i&&b.jsx(o,{}),mt:0,mx:c!=="left"?"mx":void 0,onChange:E=>y(E.target.value),placeholder:a.search,rightSection:v?b.jsx(on,{"aria-label":a.clearSearch,color:"gray",disabled:!v?.length,onClick:_,size:"sm",variant:"transparent",children:b.jsx(ct,{label:a.clearSearch,withinPortal:!0,children:b.jsx(s,{})})}):null,value:v??"",variant:"filled"},p,{className:Nt("mrt-global-filter-text-input",f0e.root,p?.className),ref:E=>{E&&(d.current=E,p?.ref&&(p.ref=E))}}))]})},XQt=(e,t,n=-1,r=0,i,o)=>XC(e,"mrt-row-create",Object.assign({},...KN(e.options.columns).map(s=>({[Ww(s)]:""}))),n,r,i,o),QQt=e=>Object.assign({Cell:({cell:t,row:n,table:r})=>b.jsx(TQt,{cell:t,row:n,table:r})},Jb({header:"actions",id:"mrt-row-actions",size:70,tableOptions:e})),JQt=e=>Object.assign({Cell:({row:t,rowRef:n,table:r})=>b.jsx(cQt,{row:t,rowRef:n,table:r}),grow:!1},Jb({header:"move",id:"mrt-row-drag",size:60,tableOptions:e})),ZQt=e=>{var t;const{defaultColumn:n,enableExpandAll:r,groupedColumnMode:i,positionExpandColumn:o,renderDetailPanel:s,state:{grouping:a}}=e,l=o==="last"?{align:"right"}:void 0;return Object.assign({Cell:({cell:u,column:c,row:d,table:f})=>{var h,m,p;const g={row:d,table:f},v=(h=d.subRows)===null||h===void 0?void 0:h.length;return e.groupedColumnMode==="remove"&&d.groupingColumnId?b.jsxs(lt,{align:"center",gap:"0.25rem",children:[b.jsx(Uq,Object.assign({},g)),b.jsx(ct,{label:f.getColumn(d.groupingColumnId).columnDef.header,openDelay:1e3,position:"right",children:b.jsx("span",{children:d.groupingValue})}),!!v&&b.jsxs("span",{children:["(",v,")"]})]}):b.jsxs(b.Fragment,{children:[b.jsx(Uq,Object.assign({},g)),(p=(m=c.columnDef).GroupedCell)===null||p===void 0?void 0:p.call(m,{cell:u,column:c,row:d,table:f})]})},Header:r?({table:u})=>{var c;return b.jsxs(lt,{align:"center",children:[b.jsx(pQt,{table:u}),i==="remove"&&((c=a?.map(d=>u.getColumn(d).columnDef.header))===null||c===void 0?void 0:c.join(", "))]})}:void 0,mantineTableBodyCellProps:l,mantineTableHeadCellProps:l},Jb({header:"expand",id:"mrt-row-expand",size:i==="remove"?(t=n?.size)!==null&&t!==void 0?t:180:s?r?60:70:100,tableOptions:e}))},eJt=e=>{const{localization:t,rowNumberDisplayMode:n}=e,{pagination:{pageIndex:r,pageSize:i}}=e.state;return Object.assign({Cell:({renderedRowIndex:o=0,row:s})=>{var a;return((a=n==="static"?o+i*r:s.index)!==null&&a!==void 0?a:0)+1},grow:!1,Header:()=>t.rowNumber},Jb({header:"rowNumbers",id:"mrt-row-numbers",size:50,tableOptions:e}))},tJt=e=>Object.assign({Cell:({row:t,table:n})=>b.jsx(dQt,{row:t,table:n}),grow:!1},Jb({header:"pin",id:"mrt-row-pin",size:60,tableOptions:e})),nJt=e=>{const{enableMultiRowSelection:t,enableSelectAll:n}=e;return Object.assign({Cell:({renderedRowIndex:r,row:i,table:o})=>b.jsx(qq,{renderedRowIndex:r,row:i,table:o}),grow:!1,Header:n&&t?({table:r})=>b.jsx(qq,{table:r}):void 0},Jb({header:"select",id:"mrt-row-select",size:n?60:70,tableOptions:e}))},rJt=Object.assign({},r3),iJt={IconArrowAutofitContent:JWe,IconArrowsSort:sGe,IconBaselineDensityLarge:cGe,IconBaselineDensityMedium:fGe,IconBaselineDensitySmall:pGe,IconBoxMultiple:vGe,IconChevronDown:J4,IconChevronLeft:zGe,IconChevronLeftPipe:jGe,IconChevronRight:lwe,IconChevronRightPipe:HGe,IconChevronsDown:GGe,IconCircleX:KGe,IconClearAll:QGe,IconColumns:tYe,IconDeviceFloppy:fYe,IconDots:fwe,IconDotsVertical:dwe,IconEdit:I3,IconEyeOff:RYe,IconFilter:jYe,IconFilterCog:MYe,IconFilterOff:LYe,IconGripHorizontal:VYe,IconMaximize:aKe,IconMinimize:dKe,IconPinned:EKe,IconPinnedOff:CKe,IconSearch:jKe,IconSearchOff:LKe,IconSortAscending:WKe,IconSortDescending:YKe,IconX:am},oJt={actions:"Actions",and:"and",cancel:"Cancel",changeFilterMode:"Change filter mode",changeSearchMode:"Change search mode",clearFilter:"Clear filter",clearSearch:"Clear search",clearSelection:"Clear selection",clearSort:"Clear sort",clickToCopy:"Click to copy",copy:"Copy",collapse:"Collapse",collapseAll:"Collapse all",columnActions:"Column Actions",copiedToClipboard:"Copied to clipboard",dropToGroupBy:"Drop to group by {column}",edit:"Edit",expand:"Expand",expandAll:"Expand all",filterArrIncludes:"Includes",filterArrIncludesAll:"Includes all",filterArrIncludesSome:"Includes",filterBetween:"Between",filterBetweenInclusive:"Between Inclusive",filterByColumn:"Filter by {column}",filterContains:"Contains",filterEmpty:"Empty",filterEndsWith:"Ends With",filterEquals:"Equals",filterEqualsString:"Equals",filterFuzzy:"Fuzzy",filterGreaterThan:"Greater Than",filterGreaterThanOrEqualTo:"Greater Than Or Equal To",filterInNumberRange:"Between",filterIncludesString:"Contains",filterIncludesStringSensitive:"Contains",filterLessThan:"Less Than",filterLessThanOrEqualTo:"Less Than Or Equal To",filterMode:"Filter Mode: {filterType}",filterNotEmpty:"Not Empty",filterNotEquals:"Not Equals",filterStartsWith:"Starts With",filterWeakEquals:"Equals",filteringByColumn:"Filtering by {column} - {filterType} {filterValue}",goToFirstPage:"Go to first page",goToLastPage:"Go to last page",goToNextPage:"Go to next page",goToPreviousPage:"Go to previous page",grab:"Grab",groupByColumn:"Group by {column}",groupedBy:"Grouped by ",hideAll:"Hide all",hideColumn:"Hide {column} column",max:"Max",min:"Min",move:"Move",noRecordsToDisplay:"No records to display",noResultsFound:"No results found",of:"of",or:"or",pin:"Pin",pinToLeft:"Pin to left",pinToRight:"Pin to right",resetColumnSize:"Reset column size",resetOrder:"Reset order",rowActions:"Row Actions",rowNumber:"#",rowNumbers:"Row Numbers",rowsPerPage:"Rows per page",save:"Save",search:"Search",selectedCountOfRowCountRowsSelected:"{selectedCount} of {rowCount} row(s) selected",select:"Select",showAll:"Show all",showAllColumns:"Show all columns",showHideColumns:"Show/Hide columns",showHideFilters:"Show/Hide filters",showHideSearch:"Show/Hide search",sortByColumnAsc:"Sort by {column} ascending",sortByColumnDesc:"Sort by {column} descending",sortedByColumnAsc:"Sorted by {column} ascending",sortedByColumnDesc:"Sorted by {column} descending",thenBy:", then by ",toggleDensity:"Toggle density",toggleFullScreen:"Toggle full screen",toggleSelectAll:"Toggle select all",toggleSelectRow:"Toggle select row",toggleVisibility:"Toggle visibility",ungroupByColumn:"Ungroup by {column}",unpin:"Unpin",unpinAll:"Unpin all"},sJt={filterVariant:"text",maxSize:1e3,minSize:40,size:180},$6e={columnDefType:"display",enableClickToCopy:!1,enableColumnActions:!1,enableColumnDragging:!1,enableColumnFilter:!1,enableColumnOrdering:!1,enableEditing:!1,enableGlobalFilter:!1,enableGrouping:!1,enableHiding:!1,enableResizing:!1,enableSorting:!1},aJt=e=>{var t,{aggregationFns:n,autoResetExpanded:r=!1,columnFilterDisplayMode:i="subheader",columnResizeDirection:o,columnResizeMode:s="onChange",createDisplayMode:a="modal",defaultColumn:l,defaultDisplayColumn:u,editDisplayMode:c="modal",enableBatchRowSelection:d=!0,enableBottomToolbar:f=!0,enableColumnActions:h=!0,enableColumnFilters:m=!0,enableColumnOrdering:p=!1,enableColumnPinning:g=!1,enableColumnResizing:v=!1,enableColumnVirtualization:y,enableDensityToggle:w=!0,enableExpandAll:_=!0,enableExpanding:E,enableFacetedValues:S=!1,enableFilterMatchHighlighting:T=!0,enableFilters:k=!0,enableFullScreenToggle:R=!0,enableGlobalFilter:I=!0,enableGlobalFilterRankedResults:P=!0,enableGrouping:N=!1,enableHeaderActionsHoverReveal:M=!1,enableHiding:O=!0,enableMultiRowSelection:j=!0,enableMultiSort:U=!0,enablePagination:q=!0,enableRowPinning:W=!1,enableRowSelection:V=!1,enableRowVirtualization:z,enableSelectAll:L=!0,enableSorting:H=!0,enableStickyHeader:B=!1,enableTableFooter:Y=!0,enableTableHead:Q=!0,enableToolbarInternalActions:ne=!0,enableTopToolbar:ce=!0,filterFns:le,icons:ue,layoutMode:ae,localization:te,manualFiltering:se,manualGrouping:we,manualPagination:X,manualSorting:he,paginationDisplayMode:ge="default",positionActionsColumn:re="first",positionCreatingRow:ee="top",positionExpandColumn:fe="first",positionGlobalFilter:Re="right",positionPagination:Oe="bottom",positionToolbarAlertBanner:Ae="top",positionToolbarDropZone:Se="top",rowNumberDisplayMode:xe="static",rowPinningDisplayMode:ke="sticky",selectAllMode:me="page",sortingFns:Me}=e,ze=On(e,["aggregationFns","autoResetExpanded","columnFilterDisplayMode","columnResizeDirection","columnResizeMode","createDisplayMode","defaultColumn","defaultDisplayColumn","editDisplayMode","enableBatchRowSelection","enableBottomToolbar","enableColumnActions","enableColumnFilters","enableColumnOrdering","enableColumnPinning","enableColumnResizing","enableColumnVirtualization","enableDensityToggle","enableExpandAll","enableExpanding","enableFacetedValues","enableFilterMatchHighlighting","enableFilters","enableFullScreenToggle","enableGlobalFilter","enableGlobalFilterRankedResults","enableGrouping","enableHeaderActionsHoverReveal","enableHiding","enableMultiRowSelection","enableMultiSort","enablePagination","enableRowPinning","enableRowSelection","enableRowVirtualization","enableSelectAll","enableSorting","enableStickyHeader","enableTableFooter","enableTableHead","enableToolbarInternalActions","enableTopToolbar","filterFns","icons","layoutMode","localization","manualFiltering","manualGrouping","manualPagination","manualSorting","paginationDisplayMode","positionActionsColumn","positionCreatingRow","positionExpandColumn","positionGlobalFilter","positionPagination","positionToolbarAlertBanner","positionToolbarDropZone","rowNumberDisplayMode","rowPinningDisplayMode","selectAllMode","sortingFns"]);const Xe=su();return ue=A.useMemo(()=>Object.assign(Object.assign({},iJt),ue),[ue]),te=A.useMemo(()=>Object.assign(Object.assign({},oJt),te),[te]),n=A.useMemo(()=>Object.assign(Object.assign({},rJt),n),[]),le=A.useMemo(()=>Object.assign(Object.assign({},DQt),le),[]),Me=A.useMemo(()=>Object.assign(Object.assign({},tQt),Me),[]),l=A.useMemo(()=>Object.assign(Object.assign({},sJt),l),[l]),u=A.useMemo(()=>Object.assign(Object.assign({},$6e),u),[u]),[y,z]=A.useMemo(()=>[y,z],[]),o||(o=Xe.dir||"ltr"),ae=ae||(v?"grid-no-grow":"semantic"),ae==="semantic"&&(z||y)&&(ae="grid"),z&&(B=!0),q===!1&&X===void 0&&(X=!0),!((t=ze.data)===null||t===void 0)&&t.length||(se=!0,we=!0,X=!0,he=!0),Object.assign({aggregationFns:n,autoResetExpanded:r,columnFilterDisplayMode:i,columnResizeDirection:o,columnResizeMode:s,createDisplayMode:a,defaultColumn:l,defaultDisplayColumn:u,editDisplayMode:c,enableBatchRowSelection:d,enableBottomToolbar:f,enableColumnActions:h,enableColumnFilters:m,enableColumnOrdering:p,enableColumnPinning:g,enableColumnResizing:v,enableColumnVirtualization:y,enableDensityToggle:w,enableExpandAll:_,enableExpanding:E,enableFacetedValues:S,enableFilterMatchHighlighting:T,enableFilters:k,enableFullScreenToggle:R,enableGlobalFilter:I,enableGlobalFilterRankedResults:P,enableGrouping:N,enableHeaderActionsHoverReveal:M,enableHiding:O,enableMultiRowSelection:j,enableMultiSort:U,enablePagination:q,enableRowPinning:W,enableRowSelection:V,enableRowVirtualization:z,enableSelectAll:L,enableSorting:H,enableStickyHeader:B,enableTableFooter:Y,enableTableHead:Q,enableToolbarInternalActions:ne,enableTopToolbar:ce,filterFns:le,getCoreRowModel:uKt(),getExpandedRowModel:E||N?cKt():void 0,getFacetedMinMaxValues:S?dKt():void 0,getFacetedRowModel:S?pKt():void 0,getFacetedUniqueValues:S?mKt():void 0,getFilteredRowModel:m||I||k?gKt():void 0,getGroupedRowModel:N?yKt():void 0,getPaginationRowModel:q?bKt():void 0,getSortedRowModel:H?wKt():void 0,getSubRows:tt=>tt?.subRows,icons:ue,layoutMode:ae,localization:te,manualFiltering:se,manualGrouping:we,manualPagination:X,manualSorting:he,paginationDisplayMode:ge,positionActionsColumn:re,positionCreatingRow:ee,positionExpandColumn:fe,positionGlobalFilter:Re,positionPagination:Oe,positionToolbarAlertBanner:Ae,positionToolbarDropZone:Se,rowNumberDisplayMode:xe,rowPinningDisplayMode:ke,selectAllMode:me,sortingFns:Me},ze)},GB={children:null,style:{minWidth:0,padding:0,width:0}},lJt=e=>Object.assign(Object.assign(Object.assign(Object.assign({},Jb({id:"mrt-row-spacer",size:0,tableOptions:e})),{grow:!0}),$6e),{mantineTableBodyCellProps:GB,mantineTableFooterCellProps:GB,mantineTableHeadCellProps:GB}),uJt=e=>{const{getIsSomeRowsPinned:t,getPrePaginationRowModel:n,getState:r,options:{enablePagination:i,enableRowPinning:o,rowCount:s}}=e,{columnOrder:a,density:l,globalFilter:u,isFullScreen:c,isLoading:d,pagination:f,showSkeletons:h,sorting:m}=r(),p=e.options.columns.length,g=s??n().rows.length,v=A.useReducer(()=>({}),{})[1],y=A.useRef(),w=A.useRef();A.useEffect(()=>{typeof window<"u"&&(y.current=document.body.style.height)},[]),A.useEffect(()=>{if(typeof window<"u")if(c)w.current=document.body.getBoundingClientRect().top,document.body.style.height="100dvh";else{if(document.body.style.height=y.current,!w.current)return;window.scrollTo({behavior:"instant",top:-1*w.current})}},[c]),A.useEffect(()=>{p!==a.length&&e.setColumnOrder(Gee(e.options))},[p]),A.useEffect(()=>{if(!i||d||h)return;const{pageIndex:E,pageSize:S}=f,T=E*S;T>=g&&T>0&&e.setPageIndex(Math.ceil(g/S)-1)},[g]);const _=A.useRef(m);A.useEffect(()=>{m.length&&(_.current=m)},[m]),A.useEffect(()=>{f6e(e)&&(u?e.setSorting([]):e.setSorting(()=>_.current||[]))},[u]),A.useEffect(()=>{o&&t()&&setTimeout(()=>{v()},150)},[l])},cJt=e=>{var t,n,r,i,o,s,a,l,u,c,d,f,h,m,p,g,v,y,w,_,E,S,T,k,R,I,P,N,M,O,j,U,q;const W=A.useRef(null),V=A.useRef(null),z=A.useRef({}),L=A.useRef({}),H=A.useRef(null),B=A.useRef(null),Y=A.useRef({}),Q=A.useRef(null),ne=A.useRef(null),ce=A.useRef(null),le=A.useRef(null),ue=A.useMemo(()=>{var Zn,sn,Yn;const wr=(Zn=e.initialState)!==null&&Zn!==void 0?Zn:{};return wr.columnOrder=(sn=wr.columnOrder)!==null&&sn!==void 0?sn:Gee(Object.assign(Object.assign({},e),{state:Object.assign(Object.assign({},e.initialState),e.state)})),wr.globalFilterFn=(Yn=e.globalFilterFn)!==null&&Yn!==void 0?Yn:"fuzzy",wr},[]);e.initialState=ue;const[ae,te]=A.useState((t=ue.creatingRow)!==null&&t!==void 0?t:null),[se,we]=A.useState(()=>Object.assign({},...KN(e.columns).map(Zn=>{var sn,Yn,wr,kr;return{[Ww(Zn)]:Zn.filterFn instanceof Function?(sn=Zn.filterFn.name)!==null&&sn!==void 0?sn:"custom":(kr=(Yn=Zn.filterFn)!==null&&Yn!==void 0?Yn:(wr=ue?.columnFilterFns)===null||wr===void 0?void 0:wr[Ww(Zn)])!==null&&kr!==void 0?kr:mQt(Zn)}}))),[X,he]=A.useState((n=ue.columnOrder)!==null&&n!==void 0?n:[]),[ge,re]=A.useState((r=ue.columnSizingInfo)!==null&&r!==void 0?r:{}),[ee,fe]=A.useState((i=ue?.density)!==null&&i!==void 0?i:"md"),[Re,Oe]=A.useState((o=ue.draggingColumn)!==null&&o!==void 0?o:null),[Ae,Se]=A.useState((s=ue.draggingRow)!==null&&s!==void 0?s:null),[xe,ke]=A.useState((a=ue.editingCell)!==null&&a!==void 0?a:null),[me,Me]=A.useState((l=ue.editingRow)!==null&&l!==void 0?l:null),[ze,Xe]=A.useState((u=ue.globalFilterFn)!==null&&u!==void 0?u:"fuzzy"),[tt,gt]=A.useState((c=ue.grouping)!==null&&c!==void 0?c:[]),[qt,zt]=A.useState((d=ue.hoveredColumn)!==null&&d!==void 0?d:null),[_n,$t]=A.useState((f=ue.hoveredRow)!==null&&f!==void 0?f:null),[dn,Vn]=A.useState((h=ue?.isFullScreen)!==null&&h!==void 0?h:!1),[Ln,Tr]=A.useState((m=ue?.pagination)!==null&&m!==void 0?m:{pageIndex:0,pageSize:10}),[Xn,mr]=A.useState((p=ue?.showAlertBanner)!==null&&p!==void 0?p:!1),[En,nn]=A.useState((g=ue?.showColumnFilters)!==null&&g!==void 0?g:!1),[rr,ii]=A.useState((v=ue?.showGlobalFilter)!==null&&v!==void 0?v:!1),[br,Sn]=A.useState((y=ue?.showToolbarDropZone)!==null&&y!==void 0?y:!1);e.state=Object.assign({columnFilterFns:se,columnOrder:X,columnSizingInfo:ge,creatingRow:ae,density:ee,draggingColumn:Re,draggingRow:Ae,editingCell:xe,editingRow:me,globalFilterFn:ze,grouping:tt,hoveredColumn:qt,hoveredRow:_n,isFullScreen:dn,pagination:Ln,showAlertBanner:Xn,showColumnFilters:En,showGlobalFilter:rr,showToolbarDropZone:br},e.state);const ht=e,cr=A.useRef([]);ht.columns=ht.state.columnSizingInfo.isResizingColumn||ht.state.draggingColumn||ht.state.draggingRow?cr.current:y6e({columnDefs:[...[w6e(ht)&&tJt(ht),x6e(ht)&&JQt(ht),Wee(ht)&&QQt(ht),Vee(ht)&&ZQt(ht),C6e(ht)&&nJt(ht),_6e(ht)&&eJt(ht)].filter(Boolean),...ht.columns,...[E6e(ht)&&lJt(ht)].filter(Boolean)],tableOptions:ht}),cr.current=ht.columns,ht.data=A.useMemo(()=>(ht.state.isLoading||ht.state.showSkeletons)&&!ht.data.length?[...Array(Math.min(ht.state.pagination.pageSize,20)).fill(null)].map(()=>Object.assign({},...KN(ht.columns).map(Zn=>({[Ww(Zn)]:null})))):ht.data,[ht.data,ht.state.isLoading,ht.state.showSkeletons]);const Ut=xKt(Object.assign(Object.assign({onColumnOrderChange:he,onColumnSizingInfoChange:re,onGroupingChange:gt,onPaginationChange:Tr},ht),{globalFilterFn:(w=ht.filterFns)===null||w===void 0?void 0:w[ze??"fuzzy"]}));return Ut.refs={bottomToolbarRef:V,editInputRefs:z,filterInputRefs:L,lastSelectedRowId:W,searchInputRef:H,tableContainerRef:B,tableFooterRef:le,tableHeadCellRefs:Y,tableHeadRef:ce,tablePaperRef:Q,topToolbarRef:ne},Ut.setCreatingRow=Zn=>{let sn=Zn;Zn===!0&&(sn=XQt(Ut)),ht?.onCreatingRowChange?ht.onCreatingRowChange(sn):te(sn)},Ut.setColumnFilterFns=(_=ht.onColumnFilterFnsChange)!==null&&_!==void 0?_:we,Ut.setDensity=(E=ht.onDensityChange)!==null&&E!==void 0?E:fe,Ut.setDraggingColumn=(S=ht.onDraggingColumnChange)!==null&&S!==void 0?S:Oe,Ut.setDraggingRow=(T=ht.onDraggingRowChange)!==null&&T!==void 0?T:Se,Ut.setEditingCell=(k=ht.onEditingCellChange)!==null&&k!==void 0?k:ke,Ut.setEditingRow=(R=ht.onEditingRowChange)!==null&&R!==void 0?R:Me,Ut.setGlobalFilterFn=(I=ht.onGlobalFilterFnChange)!==null&&I!==void 0?I:Xe,Ut.setHoveredColumn=(P=ht.onHoveredColumnChange)!==null&&P!==void 0?P:zt,Ut.setHoveredRow=(N=ht.onHoveredRowChange)!==null&&N!==void 0?N:$t,Ut.setIsFullScreen=(M=ht.onIsFullScreenChange)!==null&&M!==void 0?M:Vn,Ut.setShowAlertBanner=(O=ht.onShowAlertBannerChange)!==null&&O!==void 0?O:mr,Ut.setShowColumnFilters=(j=ht.onShowColumnFiltersChange)!==null&&j!==void 0?j:nn,Ut.setShowGlobalFilter=(U=ht.onShowGlobalFilterChange)!==null&&U!==void 0?U:ii,Ut.setShowToolbarDropZone=(q=ht.onShowToolbarDropZoneChange)!==null&&q!==void 0?q:Sn,uJt(Ut),Ut},rA=e=>cJt(aJt(e));var dJt={root:"MRT_TablePaper-module_root__q0v5L"},YB={root:"MRT_TableContainer-module_root__JIsGB","root-sticky":"MRT_TableContainer-module_root-sticky__uC4qx","root-fullscreen":"MRT_TableContainer-module_root-fullscreen__aM8Jg"},h0e={root:"MRT_Table-module_root__ms2uS","root-grid":"MRT_Table-module_root-grid__2Pynz"};const fJt=e=>{var t,n,r,i;const{getLeftLeafColumns:o,getRightLeafColumns:s,getState:a,getVisibleLeafColumns:l,options:{columnVirtualizerInstanceRef:u,columnVirtualizerOptions:c,enableColumnPinning:d,enableColumnVirtualization:f},refs:{tableContainerRef:h}}=e,{columnPinning:m,draggingColumn:p}=a();if(!f)return;const g=Ft(c,{table:e}),v=l(),[y,w]=A.useMemo(()=>d?[o().map(I=>I.getPinnedIndex()),s().map(I=>v.length-I.getPinnedIndex()-1).sort((I,P)=>I-P)]:[[],[]],[v.length,m,d]),_=y.length,E=w.length,S=A.useMemo(()=>p?.id?v.findIndex(I=>I.id===p?.id):void 0,[p?.id]),T=GMe(Object.assign({count:v.length,estimateSize:I=>v[I].getSize(),getScrollElement:()=>h.current,horizontal:!0,overscan:3,rangeExtractor:A.useCallback(I=>{const P=p6e(I,S);return!_&&!E?P:[...new Set([...y,...P,...w])]},[y,w,S])},g)),k=T.getVirtualItems();T.virtualColumns=k;const R=k.length;if(R){const I=T.getTotalSize(),P=((t=k[_])===null||t===void 0?void 0:t.start)||0,N=((n=k[y.length-1])===null||n===void 0?void 0:n.end)||0,M=((r=k[R-E])===null||r===void 0?void 0:r.start)||0,O=((i=k[R-E-1])===null||i===void 0?void 0:i.end)||0;T.virtualPaddingLeft=P-N,T.virtualPaddingRight=I-O-(E?I-M:0)}return u&&(u.current=T),T},hJt=e=>{var{table:t}=e,n=On(e,["table"]);const{getFlatHeaders:r,getState:i,options:{columns:o,enableTableFooter:s,enableTableHead:a,layoutMode:l,mantineTableProps:u,memoMode:c}}=t,{columnSizing:d,columnSizingInfo:f,columnVisibility:h,density:m}=i(),p=Object.assign(Object.assign({highlightOnHover:!0,horizontalSpacing:m,verticalSpacing:m},Ft(u,{table:t})),n),g=A.useMemo(()=>{const E=r(),S={};for(let T=0;T<E.length;T++){const k=E[T],R=k.getSize();S[`--header-${Ud(k.id)}-size`]=R,S[`--col-${Ud(k.column.id)}-size`]=R}return S},[o,d,f,h]),y={columnVirtualizer:fJt(t),table:t},{colorScheme:w}=XFe(),{stripedColor:_}=p;return b.jsxs(xn,Object.assign({className:Nt("mrt-table",h0e.root,l?.startsWith("grid")&&h0e["root-grid"],p.className)},p,{__vars:Object.assign(Object.assign(Object.assign({},g),{"--mrt-striped-row-background-color":_,"--mrt-striped-row-hover-background-color":_?w==="dark"?KFe(_,.08):bE(_,.12):void 0}),p.__vars),children:[a&&b.jsx(KQt,Object.assign({},y)),c==="table-body"||f.isResizingColumn?b.jsx(lQt,Object.assign({},y,{tableProps:p})):b.jsx(m6e,Object.assign({},y,{tableProps:p})),s&&b.jsx(RQt,Object.assign({},y))]}))},pJt=e=>{var t,{open:n,table:r}=e,i=On(e,["open","table"]);const{getState:o,options:{mantineCreateRowModalProps:s,mantineEditRowModalProps:a,onCreatingRowCancel:l,onEditingRowCancel:u,renderCreateRowModalContent:c,renderEditRowModalContent:d},setCreatingRow:f,setEditingRow:h}=r,{creatingRow:m,editingRow:p}=o(),g=m??p,v={row:g,table:r},y=Object.assign(Object.assign(Object.assign({},Ft(a,v)),m&&Ft(s,v)),i),w=g.getAllCells().filter(E=>E.column.columnDef.columnDefType==="data").map(E=>b.jsx(T$,{cell:E,table:r},E.id)),_=()=>{var E;m?(l?.({row:g,table:r}),f(null)):(u?.({row:g,table:r}),h(null)),g._valuesCache={},(E=y.onClose)===null||E===void 0||E.call(y)};return A.createElement(ni,Object.assign({opened:n,withCloseButton:!1},y,{key:g.id,onClose:_}),(t=m&&c?.({internalEditComponents:w,row:g,table:r})||d?.({internalEditComponents:w,row:g,table:r}))!==null&&t!==void 0?t:b.jsxs(b.Fragment,{children:[b.jsx("form",{onSubmit:E=>E.preventDefault(),children:b.jsx(Nn,{gap:"lg",pb:24,pt:16,children:w})}),b.jsx(lt,{justify:"flex-end",children:b.jsx(g6e,{row:g,table:r,variant:"text"})})]}))},mJt=typeof window<"u"?A.useLayoutEffect:A.useEffect,gJt=e=>{var{table:t}=e,n=On(e,["table"]);const{getState:r,options:{createDisplayMode:i,editDisplayMode:o,enableStickyHeader:s,mantineLoadingOverlayProps:a,mantineTableContainerProps:l},refs:{bottomToolbarRef:u,tableContainerRef:c,topToolbarRef:d}}=t,{creatingRow:f,editingRow:h,isFullScreen:m,isLoading:p,showLoadingOverlay:g}=r(),[v,y]=A.useState(0),w=Object.assign(Object.assign({},Ft(l,{table:t})),n),_=Ft(a,{table:t});mJt(()=>{var T,k,R,I;const P=typeof document<"u"&&(k=(T=d.current)===null||T===void 0?void 0:T.offsetHeight)!==null&&k!==void 0?k:0,N=typeof document<"u"&&(I=(R=u?.current)===null||R===void 0?void 0:R.offsetHeight)!==null&&I!==void 0?I:0;y(P+N)});const E=i==="modal"&&f,S=o==="modal"&&h;return b.jsxs(De,Object.assign({},w,{__vars:Object.assign({"--mrt-top-toolbar-height":`${v}`},w?.__vars),className:Nt("mrt-table-container",YB.root,s&&YB["root-sticky"],m&&YB["root-fullscreen"],w?.className),ref:T=>{T&&(c.current=T,w?.ref&&(w.ref.current=T))},children:[b.jsx(Jl,Object.assign({visible:p||g,zIndex:2},_)),b.jsx(hJt,{table:t}),(E||S)&&b.jsx(pJt,{open:!0,table:t})]}))};var L6e={"common-toolbar-styles":"common-styles-module_common-toolbar-styles__DnjR8"},yE={root:"MRT_BottomToolbar-module_root__VDeWo","root-fullscreen":"MRT_BottomToolbar-module_root-fullscreen__esE15","custom-toolbar-container":"MRT_BottomToolbar-module_custom-toolbar-container__XcDRF","paginator-container":"MRT_BottomToolbar-module_paginator-container__A3eWY","paginator-container-alert-banner":"MRT_BottomToolbar-module_paginator-container-alert-banner__gyqtO"},p0e={collapse:"MRT_ProgressBar-module_collapse__rOLJH","collapse-top":"MRT_ProgressBar-module_collapse-top__oCi0h"};const F6e=e=>{var{isTopToolbar:t,table:n}=e,r=On(e,["isTopToolbar","table"]);const{getState:i,options:{mantineProgressProps:o}}=n,{isSaving:s,showProgressBars:a}=i(),l=Object.assign(Object.assign({},Ft(o,{isTopToolbar:t,table:n})),r);return b.jsx(Fh,{className:Nt(p0e.collapse,t&&p0e["collapse-top"]),in:s||a,children:b.jsx(H0,Object.assign({animated:!0,"aria-busy":"true","aria-label":"Loading",radius:0,value:100},l))})};var KB={root:"MRT_TablePagination-module_root__yZ8pm",pagesize:"MRT_TablePagination-module_pagesize__-vmTn","with-top-margin":"MRT_TablePagination-module_with-top-margin__aM5-m"};const m0e=[5,10,15,20,25,30,50,100].map(e=>e.toString()),j6e=e=>{var t,{position:n="bottom",table:r}=e,i=On(e,["position","table"]);const{getPrePaginationRowModel:o,getState:s,options:{enableToolbarInternalActions:a,icons:{IconChevronLeft:l,IconChevronLeftPipe:u,IconChevronRight:c,IconChevronRightPipe:d},localization:f,mantinePaginationProps:h,paginationDisplayMode:m,rowCount:p},setPageIndex:g,setPageSize:v}=r,{pagination:{pageIndex:y=0,pageSize:w=10},showGlobalFilter:_}=s(),E=Object.assign(Object.assign({},Ft(h,{table:r})),i),S=p??o().rows.length,T=Math.ceil(S/w),k=T>2,R=y*w,I=Math.min(y*w+w,S),P=E??{},{rowsPerPageOptions:N=m0e,showRowsPerPage:M=!0,withEdges:O=k}=P,j=On(P,["rowsPerPageOptions","showRowsPerPage","withEdges"]),U=n==="top"&&a&&!_;return b.jsxs(De,{className:Nt("mrt-table-pagination",KB.root,U&&KB["with-top-margin"]),children:[E?.showRowsPerPage!==!1&&b.jsxs(ln,{gap:"xs",children:[b.jsx($e,{id:"rpp-label",children:f.rowsPerPage}),b.jsx(om,{allowDeselect:!1,"aria-labelledby":"rpp-label",className:KB.pagesize,data:(t=E?.rowsPerPageOptions)!==null&&t!==void 0?t:m0e,onChange:q=>v(+q),value:w.toString()})]}),m==="pages"?b.jsx(sf,Object.assign({firstIcon:u,lastIcon:d,nextIcon:c,onChange:q=>g(q-1),previousIcon:l,total:T,value:y+1,withEdges:O},j)):m==="default"?b.jsxs(b.Fragment,{children:[b.jsx($e,{children:`${I===0?0:(R+1).toLocaleString()}-${I.toLocaleString()} ${f.of} ${S.toLocaleString()}`}),b.jsxs(ln,{gap:6,children:[O&&b.jsx(on,{"aria-label":f.goToFirstPage,color:"gray",disabled:y<=0,onClick:()=>g(0),variant:"subtle",children:b.jsx(u,{})}),b.jsx(on,{"aria-label":f.goToPreviousPage,color:"gray",disabled:y<=0,onClick:()=>g(y-1),variant:"subtle",children:b.jsx(l,{})}),b.jsx(on,{"aria-label":f.goToNextPage,color:"gray",disabled:I>=S,onClick:()=>g(y+1),variant:"subtle",children:b.jsx(c,{})}),O&&b.jsx(on,{"aria-label":f.goToLastPage,color:"gray",disabled:I>=S,onClick:()=>g(T-1),variant:"subtle",children:b.jsx(d,{})})]})]}):null]})};var g0e={root:"MRT_ToolbarDropZone-module_root__eGTXb",hovered:"MRT_ToolbarDropZone-module_hovered__g7PeJ"};const B6e=e=>{var{table:t}=e,n=On(e,["table"]);const{getState:r,options:{enableGrouping:i,localization:o},setHoveredColumn:s,setShowToolbarDropZone:a}=t,{draggingColumn:l,grouping:u,hoveredColumn:c,showToolbarDropZone:d}=r(),f=h=>{s({id:"drop-zone"})};return A.useEffect(()=>{var h;((h=t.options.state)===null||h===void 0?void 0:h.showToolbarDropZone)!==void 0&&a(!!i&&!!l&&l.columnDef.enableGrouping!==!1&&!u.includes(l.id))},[i,l,u]),b.jsx(Hc,{mounted:d,transition:"fade",children:()=>{var h,m;return b.jsx(lt,Object.assign({className:Nt("mrt-toolbar-dropzone",g0e.root,c?.id==="drop-zone"&&g0e.hovered),onDragEnter:f},n,{children:b.jsx($e,{children:o.dropToGroupBy.replace("{column}",(m=(h=l?.columnDef)===null||h===void 0?void 0:h.header)!==null&&m!==void 0?m:"")})}))}})},yJt=e=>{var{table:t}=e,n=On(e,["table"]);const{getState:r,options:{enablePagination:i,mantineBottomToolbarProps:o,positionPagination:s,positionToolbarAlertBanner:a,positionToolbarDropZone:l,renderBottomToolbarCustomActions:u},refs:{bottomToolbarRef:c}}=t,{isFullScreen:d}=r(),f=ZS("(max-width: 720px)"),h=Object.assign(Object.assign({},Ft(o,{table:t})),n),m=f||!!u;return b.jsxs(De,Object.assign({},h,{className:Nt("mrt-bottom-toolbar",yE.root,L6e["common-toolbar-styles"],d&&yE["root-fullscreen"],h?.className),ref:p=>{p&&(c.current=p,h?.ref&&(h.ref.current=p))},children:[b.jsx(F6e,{isTopToolbar:!1,table:t}),a==="bottom"&&b.jsx(Qee,{stackAlertBanner:m,table:t}),["both","bottom"].includes(l??"")&&b.jsx(B6e,{table:t}),b.jsxs(De,{className:yE["custom-toolbar-container"],children:[u?u({table:t}):b.jsx("span",{}),b.jsx(De,{className:Nt(yE["paginator-container"],m&&yE["paginator-container-alert-banner"]),children:i&&["both","bottom"].includes(s??"")&&b.jsx(j6e,{position:"bottom",table:t})})]})]}))};var yD={root:"MRT_TopToolbar-module_root__r4-V9","root-fullscreen":"MRT_TopToolbar-module_root-fullscreen__3itT8","actions-container":"MRT_TopToolbar-module_actions-container__-uL0u","actions-container-stack-alert":"MRT_TopToolbar-module_actions-container-stack-alert__OYDL6"},vJt={root:"MRT_ToolbarInternalButtons-module_root__NKoUG"};const bJt=e=>{var t,{table:n}=e,r=On(e,["table"]);const{options:{columnFilterDisplayMode:i,enableColumnFilters:o,enableColumnOrdering:s,enableColumnPinning:a,enableDensityToggle:l,enableFilters:u,enableFullScreenToggle:c,enableGlobalFilter:d,enableHiding:f,initialState:h,renderToolbarInternalActions:m}}=n;return b.jsx(lt,Object.assign({},r,{className:Nt("mrt-toolbar-internal-buttons",vJt.root,r?.className),children:(t=m?.({table:n}))!==null&&t!==void 0?t:b.jsxs(b.Fragment,{children:[u&&d&&!h?.showGlobalFilter&&b.jsx(EQt,{table:n}),u&&o&&i!=="popover"&&b.jsx(CQt,{table:n}),(f||s||a)&&b.jsx(bQt,{table:n}),l&&b.jsx(xQt,{table:n}),c&&b.jsx(_Qt,{table:n})]})}))},wJt=e=>{var t,{table:n}=e,r=On(e,["table"]);const{getState:i,options:{enableGlobalFilter:o,enablePagination:s,enableToolbarInternalActions:a,mantineTopToolbarProps:l,positionGlobalFilter:u,positionPagination:c,positionToolbarAlertBanner:d,positionToolbarDropZone:f,renderTopToolbarCustomActions:h},refs:{topToolbarRef:m}}=n,{isFullScreen:p,showGlobalFilter:g}=i(),v=ZS("(max-width:720px)"),y=ZS("(max-width:1024px)"),w=Object.assign(Object.assign({},Ft(l,{table:n})),r),_=v||!!h||g&&y,E={style:y?void 0:{zIndex:3},table:n};return b.jsxs(De,Object.assign({},w,{className:Nt(L6e["common-toolbar-styles"],yD.root,p&&yD["root-fullscreen"],w?.className),ref:S=>{S&&(m.current=S,w?.ref&&(w.ref.current=S))},children:[d==="top"&&b.jsx(Qee,{stackAlertBanner:_,table:n}),["both","top"].includes(f??"")&&b.jsx(B6e,{table:n}),b.jsxs(lt,{className:Nt(yD["actions-container"],_&&yD["actions-container-stack-alert"]),children:[o&&u==="left"&&b.jsx(WB,Object.assign({},E)),(t=h?.({table:n}))!==null&&t!==void 0?t:b.jsx("span",{}),a?b.jsxs(lt,{justify:"end",wrap:"wrap-reverse",children:[o&&u==="right"&&b.jsx(WB,Object.assign({},E)),b.jsx(bJt,{table:n})]}):o&&u==="right"&&b.jsx(WB,Object.assign({},E))]}),s&&["both","top"].includes(c??"")&&b.jsx(lt,{justify:"end",children:b.jsx(j6e,{position:"top",table:n})}),b.jsx(F6e,{isTopToolbar:!0,table:n})]}))},xJt=e=>{var t,n,{table:r}=e,i=On(e,["table"]);const{getState:o,options:{enableBottomToolbar:s,enableTopToolbar:a,mantinePaperProps:l,renderBottomToolbar:u,renderTopToolbar:c},refs:{tablePaperRef:d}}=r,{isFullScreen:f}=o(),h=Object.assign(Object.assign({},Ft(l,{table:r})),i);return b.jsxs(Os,Object.assign({shadow:"xs",withBorder:!0},h,{className:Nt("mrt-table-paper",dJt.root,f&&"mrt-table-paper-fullscreen",h?.className),ref:m=>{d.current=m,h?.ref&&(h.ref.current=m)},style:m=>Object.assign(Object.assign({zIndex:f?200:void 0},Ft(h?.style,m)),f?{border:0,borderRadius:0,bottom:0,height:"100vh",left:0,margin:0,maxHeight:"100vh",maxWidth:"100vw",padding:0,position:"fixed",right:0,top:0,width:"100vw"}:null),children:[a&&((t=Ft(c,{table:r}))!==null&&t!==void 0?t:b.jsx(wJt,{table:r})),b.jsx(gJt,{table:r}),s&&((n=Ft(u,{table:r}))!==null&&n!==void 0?n:b.jsx(yJt,{table:r}))]}))},CJt=e=>e.table!==void 0,I$=e=>{let t;return CJt(e)?t=e.table:t=rA(e),b.jsx(xJt,{table:t})};function _Jt({visibleParticipants:e,studyConfig:t}){const n=A.useMemo(()=>_Yt(e,t),[e,t]),r=A.useMemo(()=>[{accessorKey:"component",header:"Component"},{accessorKey:"participants",header:"Participants"},{accessorKey:"avgTime",header:"Avg Time",Cell:({cell:o})=>{const s=o.getValue();return Rp(s,"time")}},{accessorKey:"avgCleanTime",header:"Avg Clean Time",Cell:({cell:o})=>{const s=o.getValue();return Rp(s,"time")}},{accessorKey:"correctness",header:"Correctness",Cell:({cell:o})=>{const s=o.getValue();return Rp(s,"correctness")}}],[]),i=rA({columns:r,data:n,initialState:{sorting:[{id:"component.index",desc:!1}]},mantinePaperProps:{style:{overflow:"hidden"}}});return b.jsxs(Os,{shadow:"sm",p:"md",withBorder:!0,children:[b.jsx(gr,{order:4,mb:"md",children:"Component Statistics"}),b.jsx(I$,{table:i})]})}function EJt({visibleParticipants:e,studyConfig:t}){const n=A.useMemo(()=>EYt(e,t),[e,t]),r=A.useMemo(()=>[{accessorKey:"component",header:"Component"},{accessorKey:"type",header:"Type"},{accessorKey:"question",header:"Question"},{accessorKey:"options",header:"Options"},{accessorKey:"correctness",header:"Correctness",Cell:({cell:o})=>{const s=o.getValue();return Rp(s,"correctness")}}],[]),i=rA({columns:r,data:n,initialState:{sorting:[{id:"component.index",desc:!0}]},mantinePaperProps:{style:{overflow:"hidden"}}});return b.jsxs(Os,{shadow:"sm",p:"md",withBorder:!0,children:[b.jsx(gr,{order:4,mb:"md",children:"Response Statistics"}),b.jsx(I$,{table:i})]})}function SJt({visibleParticipants:e,studyConfig:t}){const n=A.useMemo(()=>IMe(e),[e]);return b.jsxs(Nn,{gap:"md",children:[b.jsx(DMe,{overviewData:n}),b.jsxs(ln,{align:"flex-start",gap:"md",grow:!0,children:[b.jsx(_Jt,{visibleParticipants:e,studyConfig:t}),b.jsx(EJt,{visibleParticipants:e,studyConfig:t})]})]})}function TJt(e,t){if(!e)return null;if(t?.uiConfig&&t.uiConfig.participantNameField){const[n,r]=t.uiConfig.participantNameField.split("."),i=Object.keys(e.answers).find(o=>o.startsWith(n));if(i)return`${e.answers[i].answer[r]}`}return null}function kJt({xScale:e,height:t,labelHeight:n=0,scaleStart:r}){return b.jsx("g",{children:b.jsx("line",{stroke:"gray",strokeWidth:1,x1:e(r)+2,x2:e(r)+2,y1:t-45-n,y2:t-25})})}function AJt(){return A.useCallback((e,t,n,r)=>{const i=e.split("_").map(a=>di(+a)).join("/"),o=new URLSearchParams({participantId:t});r&&o.set("condition",r);const s=`${n}/${i}?${o.toString()}`;window.open(`${Hi}${s}`,"_blank")},[])}const vD=3,ew=25,bD=25,wD=20,y0e=1,XB=15;function RJt({xScale:e,name:t,height:n,labelHeight:r=0,isCorrect:i,hasCorrect:o,scaleStart:s,scaleEnd:a,incomplete:l,trialOrder:u,participantId:c,studyId:d,condition:f}){const[h,m]=A.useState(!1),[p,{width:g}]=bb(),v=AJt();return b.jsxs("g",{onClick:()=>v(u,c,d,f),onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),style:{cursor:"pointer"},children:[b.jsx("rect",{opacity:1,fill:h?"cornflowerblue":l?"#e9ecef":"lightgray",x:e(s)+y0e,width:e(a)-e(s)-y0e*2,y:n-ew,height:ew}),b.jsx("rect",{rx:3,opacity:1,x:e(s)-vD,width:g+vD*2+(o?XB:0),y:n-ew-bD-r,height:wD,fill:"whitesmoke"}),b.jsx("line",{stroke:"black",strokeWidth:1,x1:e(s)-vD,x2:g+e(s)+vD+(o?XB:0),y1:n-ew-bD+wD-r,y2:n-ew-bD+wD-r}),b.jsx("foreignObject",{x:e(s),width:g+(o?XB:0),y:n-ew-bD-r,height:wD,children:b.jsx(za,{style:{width:"fit-content"},children:b.jsxs(ln,{wrap:"nowrap",gap:2,children:[b.jsx($e,{lineClamp:1,ref:p,mx:0,style:{width:"fit-content",fontWeight:600},size:"12px",children:t}),l?b.jsx(ywe,{color:"orange",size:"14"}):o?i?b.jsx(Ch,{color:"var(--mantine-color-green-6)",style:{marginTop:2,strokeWidth:4},size:"14"}):b.jsx(am,{color:"var(--mantine-color-red-6)",style:{marginTop:2,strokeWidth:4},size:14}):""]})})})]})}const QB=25,v0e=8,vE={left:20,top:20,right:20,bottom:20},IJt=(e,t)=>{const n=e[1].trialOrder.split("_"),r=t[1].trialOrder.split("_");return n[0]===r[0]?+n[1]-+r[1]:+n[0]-+r[0]};function DJt({participantData:e,width:t,studyId:n,studyConfig:r,maxLength:i}){const o=A.useMemo(()=>{const f=Object.entries(e.answers||{}).filter(h=>h[1].startTime===0);return(Object.entries(e.answers).length-f.length)/Object.entries(e.answers).length},[e.answers]),s=A.useMemo(()=>{const f=Object.values(e.answers||{}).filter(p=>p.startTime).map(p=>[p.startTime,p.endTime]).flat(),h=oSe(f);return Yv([vE.left,t*o-(o!==1?0:vE.right)]).domain([h[0],i?h[0]+i:h[1]]).clamp(!0)},[i,e.answers,o,t]),a=A.useMemo(()=>Yv([t*o,t-vE.right]).domain([0,Object.entries(e.answers||{}).filter(h=>h[1].startTime===0).length]).clamp(!0),[e.answers,o,t]),l=A.useMemo(()=>{const f=Object.entries(e.answers||{}).filter(p=>!!p[1].startTime).sort((p,g)=>p[1].startTime-g[1].startTime);let h=0,m=0;return f.forEach((p,g)=>{const[v,y]=p,w=g>0?f[g-h-1]:null;w&&w[0].length*(v0e+1)+s(w[1].startTime)>s(y.startTime)?h+=1:h=0,h>m&&(m=h)}),(m+1)*QB+vE.top+vE.bottom},[e.answers,s]),u=A.useMemo(()=>{const f=Mu(e.conditions??e.searchParams?.condition);return f.length>0?f.join(","):void 0},[e.conditions,e.searchParams?.condition]),c=A.useMemo(()=>{let f=0;const h=Object.entries(e.answers||{}).filter(v=>v[1].startTime===0).sort(IJt),p=[...Object.entries(e.answers||{}).filter(v=>!!v[1].startTime).sort((v,y)=>v[1].startTime-y[1].startTime),...h];return p.map((v,y)=>{const w=v[1].startTime===0?a:s,[_,E]=v,S=y>0?p[y-f-1]:null,T=S&&S[1].startTime?s:a,k=S?S[1].startTime?S[1].startTime:h.indexOf(S):0,R=E.startTime?E.startTime:h.indexOf(v),I=E.endTime>0?E.endTime:h.indexOf(v)+1;S&&S[0].length*(v0e+1)+T(k)>w(R)?f+=1:f=0;const P=_.split("_"),N=P.slice(0,P.length-1).join("_"),M=r?.components[N],O=UT(E.answer,E.correctAnswer),j=!!(M&&M.correctAnswer||E.correctAnswer.length>0);return{line:b.jsx(kJt,{labelHeight:f*QB,height:l,xScale:w,scaleStart:R},_),label:b.jsx(ct,{withinPortal:!0,position:"bottom-start",px:4,py:0,withArrow:!0,label:b.jsx(Nn,{gap:0,children:Object.entries(E.answer).map(U=>{const[q,W]=U,V=M?.correctAnswer?.find(L=>L.id===q)?.answer,z=W==null||W===""?"N/A":typeof W=="object"?JSON.stringify(W):W;return b.jsx($e,{children:`${q}: ${z} ${V?`[${typeof V=="object"?JSON.stringify(V):V}]`:""}`},q)})}),children:b.jsx("g",{children:b.jsx(RJt,{incomplete:E.startTime===0,isCorrect:O,hasCorrect:j,labelHeight:f*QB,height:l,name:_,xScale:w,scaleStart:R,scaleEnd:I,trialOrder:E.trialOrder,participantId:e.participantId,studyId:n,condition:u},_)})},`${_}-tooltip`)}})},[e.answers,e.participantId,a,s,r?.components,l,n,u]),d=A.useMemo(()=>Object.entries(e.answers||{}).sort((h,m)=>h[1].startTime-m[1].startTime).map(h=>{const[m,p]=h,g=[];let v=[-1,-1],y="visible";if(p.windowEvents)for(let w=0;w<p.windowEvents.length;w+=1)p.windowEvents[w][1]==="visibility"&&(p.windowEvents[w][2]==="hidden"&&y==="visible"?(v=[p.windowEvents[w][0],-1],y="hidden"):p.windowEvents[w][2]==="visible"&&y==="hidden"&&(v[1]=p.windowEvents[w][0],g.push(v),v=[-1,-1],y="visible"));return g.map((w,_)=>b.jsx(ct,{withinPortal:!0,label:"Browsed away",children:b.jsx("rect",{x:s(w[0]),width:s(w[1])-s(w[0]),y:l-5,height:10})},_))}),[s,l,e.answers]);return b.jsx(za,{children:b.jsx(Nn,{gap:15,style:{width:"100%"},children:b.jsxs("svg",{style:{width:t,height:l,overflow:"visible"},children:[c.map(f=>f.line),c.map(f=>f.label),d]})})})}function PJt({metaData:e}){return b.jsx(UW,{w:200,hideLabel:"hide",maxHeight:50,showLabel:"more",children:b.jsxs(Nn,{gap:"xs",children:[b.jsxs(De,{children:[b.jsx("strong",{children:"Resolution:"})," ",JSON.stringify(e?.resolution,null,2)]}),b.jsxs(De,{children:[b.jsx("strong",{children:"User Agent:"})," ",e?.userAgent]}),b.jsxs(De,{children:[b.jsx("strong",{children:"IP:"})," ",e?.ip]}),b.jsxs(De,{children:[b.jsx("strong",{children:"Language:"})," ",e?.language]})]})})}function OJt(e){return e.valueOf()===0||Number.isNaN(e.valueOf())?b.jsx($e,{size:"sm",c:"dimmed",children:"None"}):e.toLocaleDateString([],{hour:"2-digit",minute:"2-digit"})}function NJt({visibleParticipants:e,studyConfig:t,refresh:n,width:r,stageColors:i,selectedParticipants:o,onSelectionChange:s}){const{studyId:a}=Mo(),[l,u]=A.useState({});A.useEffect(()=>{const g=Object.keys(l).filter(v=>l[v]).map(v=>e.find(y=>y.participantId===v)).filter(v=>v!==void 0);s(g)},[l,e,s]);const c=A.useCallback(async()=>{await n()},[n]),[d,f]=A.useState(null),h=g=>{navigator.clipboard.writeText(g),f(g),setTimeout(()=>f(null),2e3)},m=A.useMemo(()=>{const g=e.some(v=>v.conditions??v.searchParams?.condition);return[{accessorFn:v=>{const y=Object.entries(v.answers||{}).filter(w=>w[1].startTime===0);return{percent:(Object.entries(v.answers).length-y.length)/(h0(v.sequence).length-1),completed:v.completed,rejected:v.rejected}},header:"Status",size:100,Cell:({cell:v})=>{const y=v.getValue();return y.rejected?b.jsxs(Nn,{align:"center",justify:"center",gap:4,w:"100%",children:[b.jsx(ct,{label:"Rejected",children:b.jsx(am,{size:30,color:"red",style:{marginBottom:-3}})}),b.jsx($e,{size:"xs",c:"dimmed",ta:"center",children:y.rejected.reason})]}):y.completed?b.jsx(ln,{align:"center",justify:"center",w:"100%",children:b.jsx(ct,{label:"Completed",children:b.jsx(Ch,{size:30,color:"teal",style:{marginBottom:-3}})})}):b.jsx(ln,{align:"center",justify:"center",w:"100%",children:b.jsx(ct,{label:"In Progress",children:b.jsx(W4,{size:30,thickness:4,sections:[{value:y.percent*100,color:"blue"}]})})})}},{accessorKey:"participantIndex",header:"#",size:80},{accessorKey:"stage",header:"Stage",size:100,Cell:({cell:v})=>{const y=v.getValue();if(!y||y==="")return b.jsx(Ii,{color:"gray",size:"md",variant:"light",children:"N/A"});const w=i[y]||"#F05A30";return b.jsx(Ii,{color:w,size:"md",variant:"filled",children:y})}},{accessorKey:"participantId",header:"ID",Cell:({row:v})=>b.jsxs(lt,{align:"center",children:[b.jsx($e,{size:"sm",children:v.original.participantId}),b.jsx(ct,{label:d===v.original.participantId?"Copied":"Copy ID",children:b.jsx(on,{variant:"subtle",onClick:()=>h(v.original.participantId),color:"gray",children:b.jsx(Z4,{size:16})})})]})},...t.uiConfig.participantNameField?[{accessorFn:v=>TJt(v,t),header:"Name",size:100}]:[],...g?[{accessorFn:v=>{const{conditions:y}=v;return Array.isArray(y)&&y.length>0?y.join(","):y??v.searchParams?.condition??"default"},header:"Condition",size:130}]:[],{accessorFn:v=>new Date(Math.max(...Object.values(v.answers).filter(y=>y.endTime>0).map(y=>y.endTime))-Math.min(...Object.values(v.answers).filter(y=>y.startTime>0).map(y=>y.startTime))),header:"Duration",size:120,Cell:({cell:v})=>Number.isNaN(v.getValue())?"Incomplete":b.jsx(Ii,{variant:"light",size:"md",color:"gray",leftSection:b.jsx(KYe,{width:18,height:18,style:{paddingTop:1}}),pb:1,children:`${Eq(+v.getValue())||"N/A"}`})},{accessorFn:v=>new Date(Math.min(...Object.values(v.answers).filter(y=>y.startTime>0).map(y=>y.startTime))),header:"Start Time",size:150,Cell:({cell:v})=>OJt(v.getValue())},{accessorFn:v=>Object.values(v.answers).filter(y=>y.correctAnswer.length>0&&y.endTime>0).map(y=>UT(y.answer,y.correctAnswer)),header:"Correct Answers",size:160,Cell:({cell:v})=>b.jsxs(ln,{gap:4,children:[b.jsx(Ii,{variant:"light",size:"md",color:"green",leftSection:b.jsx(Ch,{width:18,height:18,style:{paddingTop:1}}),pb:1,children:v.getValue().filter(y=>y).length}),b.jsx(Ii,{variant:"light",size:"md",color:"red",leftSection:b.jsx(am,{width:18,height:18,style:{paddingTop:1}}),pb:1,children:v.getValue().length-v.getValue().filter(y=>y).length})]})},{accessorKey:"metadata",header:"Metadata",size:200,Cell:({cell:v})=>b.jsx(PJt,{metaData:v.getValue()})}]},[t,i,d,e]),p=rA({columns:m,data:e,enableColumnResizing:!0,columnResizeMode:"onEnd",enableRowSelection:!0,getRowId:g=>g.participantId,onRowSelectionChange:u,manualPagination:!0,state:{rowSelection:l},paginationDisplayMode:"pages",enablePagination:!1,enableRowVirtualization:!0,mantinePaperProps:{style:{maxHeight:"100%",display:"flex",flexDirection:"column"}},layoutMode:"grid",renderDetailPanel:({row:g})=>{const v=g.original;return v.participantId?b.jsx(DJt,{maxLength:void 0,studyConfig:t,studyId:a||"",participantData:v,width:r-60}):null},defaultColumn:{minSize:20,maxSize:1e3,size:180},enableDensityToggle:!1,positionToolbarAlertBanner:"none",renderTopToolbarCustomActions:()=>b.jsx(lt,{mb:8,p:8,children:b.jsx(I4e,{selectedParticipants:o,refresh:c})})});return e.length>0?b.jsx(I$,{table:p}):b.jsxs(b.Fragment,{children:[b.jsx(Ou,{h:"xl"}),b.jsx(lt,{justify:"center",align:"center",children:b.jsx($e,{children:"No data available"})})]})}function MJt({response:e,participantData:t,trialId:n,trialConfig:r}){const[i,{toggle:o}]=nV(!0),[s,a]=bb(),l=A.useMemo(()=>e.type==="metadata"?void 0:r.correctAnswer?.find(f=>f.id===e.id),[e.id,e.type,r.correctAnswer]),u=A.useMemo(()=>e.type==="metadata"?[]:t.map(f=>Object.entries(f.answers).filter(([h])=>h.slice(0,h.lastIndexOf("_"))===n)).map(f=>f.filter(([,h])=>h.startTime>0).map(([,h])=>{const m={...h.answer};if(l){const p=h.answer[e.id],g=l.answer;m.result=lY(p,g)?"correct":"incorrect"}return m})).flat(),[t,e.type,n,l,e.id]),c=A.useMemo(()=>{const d={height:"container",width:"container"};if(e.type==="shortText"||e.type==="longText")return{};if(e.type==="metadata"){const h=t.map(p=>Object.entries(p.answers).filter(([g])=>g.slice(0,g.lastIndexOf("_"))===n)).map(p=>p.filter(([g,v])=>v.endTime!==-1).map(([g,v])=>(v.endTime-v.startTime)/1e3)).flat();return{...d,data:{values:h},mark:"bar",encoding:{x:{field:"data",bin:!0,type:"quantitative",title:"Time (s)"},y:{aggregate:"count",type:"quantitative",title:"Count"}}}}const f={params:[{name:"correctAnswer",value:l?.answer},{name:"variable",value:e.id}],transform:[{calculate:"datum[variable] === correctAnswer ? 'correct' : 'incorrect'",as:"result"},{calculate:"if(datum.result === 'correct', 0, if(datum.result === 'incorrect', 1, 2))",as:"order"}],color:{field:"result",type:"nominal",scale:{domain:["correct","incorrect"],range:["#69DB7C","#ADB5BD"]}},order:{field:"order"}};if(e.type==="matrix-radio"||e.type==="matrix-checkbox"){const h=u.map(p=>Object.entries(p[e.id]||{}).map(([g,v])=>e.type==="matrix-checkbox"?v.split("|").map(y=>({question:g,value:y})):[{question:g,value:v}]).flat()).flat();return{...d,data:{values:h},mark:"bar",params:l!==void 0?f.params:void 0,transform:Array.isArray(l?.answer)?void 0:l!==void 0?f.transform:void 0,encoding:{row:{field:"question",type:"nominal",header:{title:"Question"}},x:{field:"value",type:"ordinal",title:"Answer"},y:{aggregate:"count",type:"quantitative",title:"Count"},color:l!==void 0?f.color:void 0},order:l!==void 0?f.order:void 0,resolve:{scale:{x:"independent"}}}}if(e.type==="numerical"||e.type==="slider"||e.type==="likert"){let h,m;return e.type==="numerical"&&(h=e.min,m=e.max),e.type==="slider"&&(h=Math.min(...e.options.map(g=>g.value)),m=Math.max(...e.options.map(g=>g.value))),e.type==="likert"&&(h=1,m=e.numItems),{...d,data:{values:u},mark:"bar",params:l!==void 0?f.params:void 0,transform:[{bin:e.type==="likert"?{step:1}:{maxbins:10},field:e.id,as:"bins"},...l!==void 0?f.transform:[]],encoding:{x:{field:"bins",scale:h!==void 0&&m!==void 0?{domain:[h,m]}:void 0,type:"quantitative",title:"Answer"},x2:{field:"bins_end"},y:{aggregate:"count",type:"quantitative",title:"Count",stack:!0},color:l!==void 0?f.color:void 0,order:l!==void 0?f.order:void 0}}}if(e.type==="radio"||e.type==="dropdown"||e.type==="checkbox"||e.type==="buttons"||e.type==="ranking-sublist"||e.type==="ranking-categorical"||e.type==="ranking-pairwise")return{...d,data:{values:u},mark:"bar",params:l!==void 0?f.params:void 0,transform:Array.isArray(l?.answer)?void 0:l!==void 0?f.transform:void 0,encoding:{x:{field:e.id,type:"ordinal",title:"Answer"},y:{aggregate:"count",type:"quantitative",title:"Count"},color:l!==void 0?f.color:void 0}}},[t,u,e.id,e.max,e.min,e.numItems,e.options,e.type,n,l]);return b.jsxs(Os,{p:"lg",withBorder:!0,ref:s,children:[b.jsxs(lt,{direction:"row",justify:"space-between",onClick:o,children:[b.jsxs(lt,{align:"center",children:[e.type==="metadata"&&b.jsx(ZGe,{size:20}),e.type==="numerical"&&b.jsx(pKe,{size:20}),(e.type==="shortText"||e.type==="longText")&&b.jsx(AGe,{size:20}),e.type==="likert"&&b.jsx(fwe,{size:20}),e.type==="dropdown"&&b.jsx(zKe,{size:20}),e.type==="slider"&&b.jsx(YWe,{size:20}),e.type==="radio"&&b.jsx(RKe,{size:20}),e.type==="checkbox"&&b.jsx(XKe,{size:20}),(e.type==="ranking-sublist"||e.type==="ranking-categorical"||e.type==="ranking-pairwise")&&b.jsx(EYe,{size:20}),e.type==="matrix-radio"&&b.jsx(HYe,{size:20}),e.type==="matrix-checkbox"&&b.jsx(PGe,{size:20}),e.type==="buttons"&&b.jsx(rYe,{size:20}),e.type==="reactive"&&b.jsx(QYe,{size:20}),e.type==="textOnly"&&b.jsx(nKe,{size:20}),b.jsx(gr,{order:5,ml:4,children:e.id})]}),b.jsx(J4,{style:{rotate:i?"180deg":"none",transition:"rotate 200ms"}})]}),b.jsxs(Fh,{in:i,mah:400,children:[b.jsx(De,{style:{position:"sticky",backgroundColor:"white",zIndex:2},py:"md",children:b.jsx(Cb,{})}),b.jsxs(FW,{cols:2,h:360,children:[b.jsx(im,{mih:200,children:e.type!=="metadata"&&e.type!=="shortText"&&e.type!=="longText"&&e.type!=="reactive"&&e.type!=="textOnly"&&e.type!=="ranking-sublist"&&e.type!=="ranking-categorical"&&e.type!=="ranking-pairwise"?b.jsx(Bpe,{spec:c,actions:!1,height:270,width:e.type==="matrix-checkbox"||e.type==="matrix-radio"?500:a.width/2-60-(l===void 0?0:60),padding:0,style:{justifySelf:"center"},renderer:"svg"}):b.jsx(lt,{direction:"column",gap:"xs",style:{overflowX:"clip"},children:e.type==="metadata"?b.jsx(ku,{block:!0,children:`${JSON.stringify(r,null,2)}`}):b.jsxs(b.Fragment,{children:[b.jsx($e,{fw:700,children:"Response Values: "}),e.type==="textOnly"||e.type==="ranking-sublist"||e.type==="ranking-categorical"||e.type==="ranking-pairwise"?b.jsx($e,{children:"N/A"}):u.map((d,f)=>b.jsx(lt,{align:"center",gap:"xs",children:b.jsx($e,{children:d[e.id]})},f))]})})}),b.jsx(im,{mih:200,children:e.type==="metadata"?b.jsx(Bpe,{spec:c,actions:!1,width:a.width/2-60,height:270,padding:0,style:{justifySelf:"center"}}):b.jsxs(b.Fragment,{children:[b.jsx($e,{fw:700,children:"Response Specification: "}),b.jsx(ku,{block:!0,children:JSON.stringify(e,null,2)}),b.jsx("br",{}),l&&b.jsxs(b.Fragment,{children:[b.jsx($e,{fw:700,children:"Correct Answer: "}),b.jsx(ku,{block:!0,children:JSON.stringify(l,null,2)})]})]})})]})]})]})}function $Jt({participantData:e,studyConfig:t,trialId:n}){const r=n&&n!=="end"&&$u(t.components[n],t),i=A.useMemo(()=>[{id:"Config and Timing",type:"metadata"},...r?r.response:[]],[r]);return r?b.jsx(lt,{w:"100%",direction:"column",gap:"xs",children:i.map(o=>b.jsx(MJt,{response:o,participantData:e,trialId:n,trialConfig:r},o.id))}):b.jsx(lt,{justify:"center",align:"center",pt:"lg",pb:"md",w:"100%",children:b.jsx($e,{children:n!=="end"?"No trial selected":"The end component has no data."})})}function LJt({studyConfig:e,visibleParticipants:t}){const{trialId:n}=Mo(),r=A.useMemo(()=>n&&n!=="end"?IMe(t,n):null,[t,n]);return b.jsxs(b.Fragment,{children:[r&&b.jsx(DMe,{overviewData:r}),b.jsx(Os,{shadow:"sm",p:"md",mt:"md",withBorder:!0,children:t.length===0?b.jsx(lt,{justify:"center",align:"center",pt:"lg",pb:"md",children:b.jsx($e,{children:"No data available."})}):b.jsxs(lt,{direction:"row",children:[b.jsx(De,{w:340,children:b.jsx(wq,{participantAnswers:{},studyConfig:e,isAnalysis:!0})}),b.jsx(Cb,{orientation:"vertical",mx:"md"}),b.jsx($Jt,{participantData:t,studyConfig:e,trialId:n})]})})]})}function z6e({visibleParticipants:e,studyId:t,gap:n,fileName:r,hasAudio:i,hasScreenRecording:o}){const[s,{open:a,close:l}]=nV(!1),[u,c]=A.useState([]),[d,f]=A.useState(!1),[h,m]=A.useState(!1),{storageEngine:p}=ri(),g=async()=>typeof e=="function"?await e():e,v=async()=>{const S=await g(),T=r?`${r}.json`:`${t}_all.json`;EY(JSON.stringify(S,null,2),T)},y=async()=>{const S=await g();c(S),a()},w=async()=>{f(!0);try{const S=await g();if(!p)return;await eVt({storageEngine:p,participants:S,studyId:t,fileName:r})}finally{f(!1)}},_=async()=>{m(!0);try{const S=await g();if(!p)return;await nVt({storageEngine:p,participants:S,studyId:t,fileName:r})}finally{m(!1)}},E=typeof e!="function"?`Download ${e.length} participants`:"Download participants data";return b.jsxs(b.Fragment,{children:[b.jsxs(ln,{style:{gap:n},children:[b.jsx(ct,{label:`${E} as JSON`,children:b.jsx(Mt,{variant:"light",disabled:e.length===0&&typeof e!="function",onClick:v,px:4,children:b.jsx(lYe,{})})}),b.jsx(ct,{label:`${E} as tidy CSV`,children:b.jsx(Mt,{variant:"light",disabled:e.length===0&&typeof e!="function",onClick:y,px:4,children:b.jsx(xwe,{})})}),i&&b.jsx(ct,{label:`${E} audio & transcripts as ZIP`,children:b.jsx(Mt,{variant:"light",disabled:e.length===0&&typeof e!="function",onClick:w,px:4,loading:d,children:b.jsx(gwe,{})})}),o&&b.jsx(ct,{label:`${E} screen recordings ZIP`,children:b.jsx(Mt,{variant:"light",disabled:e.length===0&&typeof e!="function",onClick:_,px:4,loading:h,children:b.jsx(cwe,{})})})]}),s&&u.length>0&&b.jsx(Mpt,{opened:s,close:l,filename:r?`${r}_tidy.csv`:`${t}_all_tidy.csv`,data:u,studyId:t,hasAudio:i})]})}function FJt({studyId:e,refresh:t}){const[n,r]=A.useState(!1),[i,o]=A.useState(!1),[s,a]=A.useState(!1),[l,u]=A.useState(!1),[c,d]=A.useState(""),[f,h]=A.useState({}),[m,p]=A.useState(""),[g,v]=A.useState(""),[y,w]=A.useState(!1),[_,E]=A.useState(!1),{storageEngine:S}=ri(),T=A.useCallback(async()=>{if(!S)return;E(!0);const V=await S.getSnapshots(e);h(V),E(!1)},[S,e]);if(A.useEffect(()=>{T()},[T]),!S)return null;const k=async V=>{w(!0);let z;switch(V.type){case"create":z=await S.createSnapshot(e,V.archive);break;case"rename":z=await S.renameSnapshot(V.snapshot,V.newName,e);break;case"restore":z=await S.restoreSnapshot(e,V.snapshot);break;case"deleteSnapshot":z=await S.removeSnapshotOrLive(V.snapshot,e);break;case"deleteLive":z=await S.removeSnapshotOrLive(e,e);break;default:throw w(!1),new Error("Unknown action")}z.status==="SUCCESS"?(await T(),w(!1),await t(),z.notifications?.forEach(L=>E2(L))):(w(!1),E2({title:z.error.title,message:z.error.message,color:"red"}))},R=()=>k({type:"create",archive:!1}),I=()=>{p(""),r(!1),k({type:"create",archive:!0})},P=()=>{a(!1),k({type:"rename",snapshot:c,newName:g})},N=V=>k({type:"restore",snapshot:V}),M=()=>{p(""),o(!1),k({type:"deleteSnapshot",snapshot:c})},O=()=>{p(""),u(!1),k({type:"deleteLive"})},j=()=>Jie({title:"Create a Snapshot",children:b.jsx($e,{mb:30,children:"This will create a snapshot of the live database without impacting the live data."}),labels:{confirm:"Create",cancel:"Cancel"},cancelProps:{variant:"subtle",color:"dark"},onCancel:()=>{},onConfirm:()=>R()}),U=V=>Jie({title:"Restore Snapshot",children:b.jsx($e,{mb:30,children:"Restoring this snapshot will perform 2 actions. First, we will create a snapshot of the current live database, then we will restore the selected snapshot into the live database."}),labels:{confirm:"Restore",cancel:"Cancel"},confirmProps:{color:"red"},cancelProps:{variant:"subtle",color:"dark"},onCancel:()=>{},onConfirm:()=>N(V)}),q=V=>{const z=/-snapshot-(.+)$/,L=V.match(z);return L&&L[1]?L[1].replace("T"," "):null},W=async V=>{const z=V.slice(V.indexOf("-")+1);return await S.getAllParticipantsData(z)};return b.jsxs(b.Fragment,{children:[b.jsx(gr,{order:4,mb:"sm",children:"Data Management"}),b.jsx(Jl,{visible:y}),b.jsx($e,{mb:"xs",children:"Snapshots save your data, but restoring snapshots only works if your reVISit config, your components, and the reVISit version are still compatible with the data you collected. Make sure to also backup your data, for example, to your local computer regularly."}),b.jsxs(lt,{justify:"space-between",align:"center",children:[b.jsxs(De,{style:{width:"90%"},children:[b.jsx(gr,{order:5,children:"Create a Snapshot"}),b.jsxs($e,{children:["This will create a snapshot of the live"," ",b.jsx($e,{span:!0,fw:700,children:e})," ","database. It will"," ",b.jsx($e,{span:!0,fw:700,fs:"italic",children:"not"})," ","remove this data from the live database. The current study data can be restored from a snapshot at any time."]})]}),b.jsx(ct,{label:"Create a snapshot",children:b.jsx(Mt,{onClick:j,ml:"xs",children:"Snapshot"})})]}),b.jsx(Ou,{h:"sm"}),b.jsxs(lt,{justify:"space-between",align:"center",children:[b.jsxs(De,{style:{width:"90%"},children:[b.jsx(gr,{order:5,children:"Archive Data"}),b.jsxs($e,{children:["This will create a snapshot of the live"," ",b.jsx($e,{span:!0,fw:700,children:e})," ","database. It will then remove this data from the live database. The current study data can be restored from a snapshot at any time."]})]}),b.jsx(ct,{label:"Snapshot and Delete Data",children:b.jsx(Mt,{color:"red",onClick:()=>r(!0),ml:"xs",children:"Archive"})})]}),b.jsx(Ou,{h:"sm"}),b.jsxs(lt,{justify:"space-between",align:"center",children:[b.jsxs(De,{style:{width:"90%"},children:[b.jsx(gr,{order:5,children:"Delete Data"}),b.jsxs($e,{children:["This will delete the live"," ",b.jsx($e,{span:!0,fw:700,children:e})," ","database. Since this does not create a snapshot the data will be permanently deleted and cannot be restored."]})]}),b.jsx(ct,{label:"Delete Data",children:b.jsx(Mt,{color:"red",onClick:()=>u(!0),ml:"xs",children:"Delete"})})]}),b.jsx(Ou,{h:"sm"}),b.jsxs(lt,{direction:"column",children:[b.jsx(De,{style:{borderBottom:"1px solid #dedede"},mb:"xs",pb:"sm",children:b.jsx(gr,{order:5,children:"Snapshots"})}),b.jsxs(De,{style:{position:"relative"},children:[b.jsx(Jl,{visible:_}),Object.keys(f).length>0?b.jsxs(xn,{children:[b.jsx(xn.Thead,{children:b.jsxs(xn.Tr,{children:[b.jsx(xn.Th,{children:"Snapshot Name"}),b.jsx(xn.Th,{children:"Date Created"}),b.jsx(xn.Th,{children:"Actions"})]})}),b.jsx(xn.Tbody,{children:Object.entries(f).map(([V,z])=>b.jsxs(xn.Tr,{children:[b.jsx(xn.Td,{children:z.name}),b.jsx(xn.Td,{children:q(V)}),b.jsx(xn.Td,{children:b.jsxs(lt,{children:[b.jsx(ct,{label:"Rename",children:b.jsx(Mt,{color:"green",variant:"light",px:4,style:{margin:"0px 5px"},onClick:()=>{a(!0),d(V)},children:b.jsx(wKe,{})})}),b.jsx(ct,{label:"Restore Snapshot",children:b.jsx(Mt,{color:"blue",variant:"light",px:4,style:{margin:"0px 5px"},onClick:()=>{U(V)},children:b.jsx(vwe,{})})}),b.jsx(ct,{label:"Delete Snapshot",children:b.jsx(Mt,{color:"red",px:4,variant:"light",style:{margin:"0px 10px 0px 5px"},onClick:()=>{o(!0),d(V)},children:b.jsx(Cwe,{})})}),b.jsx(z6e,{visibleParticipants:()=>W(V),studyId:e,gap:"10px",fileName:z.name})]})})]},V))})]}):b.jsx($e,{children:"No snapshots."})]})]}),b.jsxs(ni,{opened:n,onClose:()=>{r(!1),p("")},title:b.jsx($e,{children:"Archive Data"}),children:[b.jsx($e,{mb:"sm",children:"This will create a snapshot of the live database and remove the data from the live database."}),b.jsx(dl,{label:"To archive this data, please enter the name of the study.",placeholder:e,onChange:V=>p(V.target.value)}),b.jsxs(lt,{mt:"sm",justify:"right",children:[b.jsx(Mt,{mr:5,variant:"subtle",color:"dark",onClick:()=>{r(!1),p("")},children:"Cancel"}),b.jsx(Mt,{color:"red",onClick:I,disabled:m!==e,children:"Archive"})]})]}),b.jsxs(ni,{opened:i,onClose:()=>{o(!1),p("")},title:b.jsx($e,{children:"Delete Snapshot"}),children:[b.jsxs($e,{mb:"sm",children:["This will permanently remove this snapshot. This action is"," ",b.jsx($e,{span:!0,fw:700,children:"irreversible"}),"."]}),b.jsx(dl,{label:"To delete this snapshot, please enter the name of the study.",placeholder:e,onChange:V=>p(V.target.value)}),b.jsxs(lt,{mt:"sm",justify:"right",children:[b.jsx(Mt,{mr:5,variant:"subtle",color:"dark",onClick:()=>{o(!1),p("")},children:"Cancel"}),b.jsx(Mt,{color:"red",onClick:M,disabled:m!==e,children:"Delete"})]})]}),b.jsxs(ni,{opened:s,onClose:()=>{a(!1),v("")},title:b.jsx($e,{children:"Rename Snapshot"}),children:[b.jsx(dl,{label:"Enter the new name of the snapshot.",placeholder:c,onChange:V=>v(V.target.value)}),b.jsxs(lt,{mt:"sm",justify:"right",children:[b.jsx(Mt,{mr:5,variant:"subtle",color:"dark",onClick:()=>{a(!1),v("")},children:"Cancel"}),b.jsx(Mt,{color:"green",onClick:P,disabled:!g||g.length===0,children:"Rename"})]})]}),b.jsxs(ni,{opened:l,onClose:()=>{u(!1),p("")},title:b.jsx($e,{children:"Delete Live Data"}),children:[b.jsxs($e,{mb:"sm",children:["This will permanently delete the live"," ",b.jsx($e,{span:!0,fw:700,children:e})," ","data. This action is"," ",b.jsx($e,{span:!0,fw:700,children:"irreversible"}),". Please consider using archive data to create a snapshot of the live data before deleting."]}),b.jsx(dl,{label:"To delete this live data, please enter the name of the study.",placeholder:e,onChange:V=>p(V.target.value)}),b.jsxs(lt,{mt:"sm",justify:"right",children:[b.jsx(Mt,{mr:5,variant:"subtle",color:"dark",onClick:()=>{u(!1),p("")},children:"Cancel"}),b.jsx(Mt,{color:"red",onClick:O,disabled:m!==e,children:"Delete"})]})]})]})}function jJt({studyId:e}){const{storageEngine:t}=ri(),[n,r]=A.useState(!1),[i,o]=A.useState(!1),[s,a]=A.useState(!1),[l,u]=A.useState(!1);A.useEffect(()=>{(async()=>{if(t){const f=await t.getModes(e);o(f.dataCollectionEnabled),a(f.developmentModeEnabled),u(f.dataSharingEnabled),r(!0)}})()},[t,e]);const c=async(d,f)=>{t&&(await t.setMode(e,d,f),d==="dataCollectionEnabled"?o(f):d==="developmentModeEnabled"?a(f):d==="dataSharingEnabled"&&u(f))};return n&&b.jsxs(b.Fragment,{children:[b.jsx(gr,{order:4,mb:"sm",children:"ReVISit Modes"}),b.jsx($e,{mb:"sm",children:"ReVISit modes let you control what happens when you visit your study when designing/debugging your study, actively collecting data, and analyzing data when data collection is concluded."}),b.jsxs(lt,{gap:"xs",children:[b.jsx(gr,{order:5,children:"Data Collection"}),b.jsx(Jg,{size:"sm",checked:i,onChange:d=>c("dataCollectionEnabled",d.currentTarget.checked),mt:"3px"})]}),b.jsx($e,{mb:"sm",children:"When enabling data collection, data is written to your data store. Make sure to turn this on when actively collecting data, and turn it off after you have concluded data collection, so you don't pollute your data by accident."}),b.jsxs(lt,{gap:"xs",children:[b.jsx(gr,{order:5,children:"Development Mode"}),b.jsx(Jg,{size:"sm",checked:s,onChange:d=>c("developmentModeEnabled",d.currentTarget.checked),mt:"3px"})]}),b.jsx($e,{mb:"sm",children:"Debug and development mode enables the study navigator, letting visitors jump between tasks. It also disables device checks, such as minimum screen size, and lets you navigate to the analytics interface."}),b.jsxs(lt,{gap:"xs",children:[b.jsx(gr,{order:5,children:"Share Data and Make Analytics Interface Public"}),b.jsx(Jg,{size:"sm",checked:l,onChange:d=>c("dataSharingEnabled",d.currentTarget.checked),mt:"3px"})]}),b.jsx($e,{children:"When you enabling data sharing, anyone visiting your study website can access the analytics interface and download all of your data. If you disable data sharing, only authenticated users with permissions can access the analytics interface and the associated data."})]})}function BJt(e,t){const n=e.trim();if(!n)return"Stage name cannot be empty";const r=n.toLowerCase();return r==="n/a"?'Stage name "N/A" is reserved and cannot be used':r==="all"?'Stage name "ALL" is reserved and cannot be used':r==="default"?'Stage name "DEFAULT" is reserved and cannot be used':t.some(i=>i.stageName===n)?"A stage with this name already exists":null}function zJt({studyId:e}){const{storageEngine:t}=ri(),[n,r]=A.useState(!1),[i,o]=A.useState({stageName:"DEFAULT",color:"#F05A30"}),[s,a]=A.useState([{stageName:"DEFAULT",color:"#F05A30"}]),[l,u]=A.useState(null),[c,d]=A.useState(""),[f,h]=A.useState("#F05A30"),[m,p]=A.useState(""),[g,v]=A.useState(!1),[y,w]=A.useState(""),[_,E]=A.useState("#F05A30"),[S,T]=A.useState("");A.useEffect(()=>{(async()=>{if(t)try{const U=await t.getStageData(e);o(U.currentStage),a(U.allStages),r(!0)}catch(U){console.error("Failed to load stage data:",U),o({stageName:"DEFAULT",color:"#F05A30"}),a([{stageName:"DEFAULT",color:"#F05A30"}]),r(!0)}})()},[t,e]);const k=async(j,U)=>{t&&(await t.setCurrentStage(e,j,U),o({stageName:j,color:U}))},R=j=>{u(j),d(s[j].stageName),h(s[j].color),p("")},I=async j=>{if(t){await t.updateStageColor(e,j,f);const U=await t.getStageData(e);o(U.currentStage),a(U.allStages),u(null),p("")}},P=()=>{u(null),d(""),h("#F05A30"),p("")},N=()=>{v(!0),w(""),E("#F05A30"),T("")},M=async()=>{const j=y.trim(),U=BJt(j,s);if(U){T(U);return}if(T(""),t){await t.setCurrentStage(e,j,_);const q=await t.getStageData(e);o(q.currentStage),a(q.allStages),v(!1),w(""),E("#F05A30")}},O=()=>{v(!1),w(""),E("#F05A30"),T("")};return n?b.jsxs(Nn,{children:[b.jsxs(ln,{children:[b.jsx(gr,{order:4,mb:"sm",children:"Stage Management"}),!g&&b.jsx(Mt,{size:"sm",onClick:N,ml:"auto",children:"Add New Stage"})]}),b.jsxs(xn,{striped:!0,highlightOnHover:!0,withTableBorder:!0,children:[b.jsx(xn.Thead,{children:b.jsxs(xn.Tr,{children:[b.jsx(xn.Th,{style:{width:"80px",whiteSpace:"nowrap"},children:"Current"}),b.jsx(xn.Th,{children:"Stage Name"}),b.jsx(xn.Th,{style:{width:"200px"},children:"Color"}),b.jsx(xn.Th,{style:{width:"80px",whiteSpace:"nowrap"},children:"Edit"})]})}),b.jsxs(xn.Tbody,{children:[s.map((j,U)=>b.jsxs(xn.Tr,{children:[b.jsx(xn.Td,{children:b.jsx(Na,{checked:i.stageName===j.stageName,onChange:()=>k(j.stageName,j.color)})}),b.jsx(xn.Td,{children:l===U?b.jsx(dl,{value:c,onChange:q=>d(q.currentTarget.value),error:m,size:"xs",disabled:!0}):b.jsx($e,{size:"sm",children:j.stageName})}),b.jsx(xn.Td,{children:l===U?b.jsx(C3,{value:f,onChange:h,size:"xs"}):b.jsxs(ln,{gap:"xs",children:[b.jsx("div",{style:{width:20,height:20,backgroundColor:j.color,border:"1px solid #dee2e6",borderRadius:4}}),b.jsx($e,{size:"sm",c:"dimmed",children:j.color})]})}),b.jsx(xn.Td,{children:l===U?b.jsxs(ln,{gap:"xs",children:[b.jsx(on,{size:"sm",color:"green",onClick:()=>I(j.stageName),children:b.jsx(Ch,{size:16})}),b.jsx(on,{size:"sm",color:"gray",onClick:P,children:b.jsx(am,{size:16})})]}):b.jsx(on,{size:"sm",onClick:()=>R(U),children:b.jsx(I3,{size:16})})})]},j.stageName)),g&&b.jsxs(xn.Tr,{style:{backgroundColor:"#f8f9fa"},children:[b.jsx(xn.Td,{}),b.jsx(xn.Td,{children:b.jsx(dl,{placeholder:"Enter stage name",value:y,onChange:j=>w(j.currentTarget.value),error:S,size:"xs"})}),b.jsx(xn.Td,{children:b.jsx(C3,{value:_,onChange:E,size:"xs"})}),b.jsx(xn.Td,{children:b.jsxs(ln,{gap:"xs",children:[b.jsx(on,{size:"sm",color:"green",onClick:M,children:b.jsx(Ch,{size:16})}),b.jsx(on,{size:"sm",color:"gray",onClick:O,children:b.jsx(am,{size:16})})]})})]})]})]}),m&&b.jsx($e,{size:"sm",c:"red",mt:"xs",children:"Note: Stage names cannot be changed, only colors can be edited."})]}):b.jsxs(Nn,{align:"center",p:"md",children:[b.jsx(qc,{size:"sm"}),b.jsx($e,{size:"sm",c:"dimmed",children:"Loading stage data..."})]})}function UJt({studyId:e,refresh:t}){return b.jsxs(Nn,{gap:"lg",w:"60%",mx:"auto",children:[b.jsx(Os,{shadow:"sm",p:"lg",radius:"md",withBorder:!0,children:b.jsx(jJt,{studyId:e})}),b.jsx(Os,{shadow:"sm",p:"lg",radius:"md",withBorder:!0,children:b.jsx(zJt,{studyId:e})}),b.jsx(Os,{shadow:"sm",p:"lg",radius:"md",withBorder:!0,children:b.jsx(FJt,{studyId:e,refresh:t})})]})}function HJt(e){const[t,n]=A.useState(!1),[r,i]=A.useState(!1);return A.useEffect(()=>{if(!e){n(!1),i(!1);return}const{recordAudio:o,recordScreen:s}=e.uiConfig,a=Object.keys(e.components).map(l=>$u(e.components[l],e));n(o||a.some(l=>l.recordAudio)),i(s||a.some(l=>l.recordScreen))},[e]),{hasAudioRecording:t,hasScreenRecording:r}}function qJt({annotation:e,setAnnotation:t,start:n,current:r,end:i,text:o,tags:s,selectedTags:a,onTextChange:l,deleteRowCallback:u,addRowCallback:c,onSelectTags:d,addRef:f,index:h,editTagCallback:m,createTagCallback:p,onClickLine:g}){const[v,y]=A.useState(e),w=A.useRef(0);A.useEffect(()=>{w.current=h},[h]);const[_,{width:E}]=bb();return A.useMemo(()=>b.jsxs(so,{style:{width:"100%"},children:[b.jsx(so.Col,{span:8,children:b.jsx(ln,{wrap:"nowrap",gap:0,px:10,style:{width:"100%",borderRadius:"10px",backgroundColor:r>=n&&r<=i?"rgba(100, 149, 237, 0.3)":"white"},children:b.jsx(n2,{ref:T=>T?f(w.current,T):void 0,autosize:!0,minRows:1,maxRows:4,style:{width:"100%"},variant:"unstyled",value:o,onFocus:()=>g(w.current),onChange:T=>{l(w.current,T.currentTarget.value)},onKeyDown:(T=>{T.key==="Enter"&&T.currentTarget.selectionStart!==null?(c(w.current,T.currentTarget.selectionStart),T.preventDefault(),T.stopPropagation()):T.key==="Backspace"&&T.currentTarget.selectionStart===0&&T.currentTarget.selectionEnd===0&&(u(w.current),T.preventDefault(),T.stopPropagation())})})})}),b.jsx(so.Col,{ref:_,span:2,children:b.jsx(Tq,{width:E-20,createTagCallback:p,editTagCallback:m,onSelectTags:T=>d(w.current,T),selectedTags:a,tags:s,tagsEmptyText:"Add Text Tags"})}),b.jsx(so.Col,{span:2,children:b.jsx(n2,{autosize:!0,style:{width:E-20},minRows:1,maxRows:4,value:v,onChange:T=>y(T.currentTarget.value),placeholder:"Add Annotation",onBlur:()=>t(w.current,v)})})]}),[f,c,v,p,r,u,m,i,g,d,l,_,a,t,n,s,o,E])}async function VJt(e){if(e){const t=await e.getTags("text");return Array.isArray(t)?t:[]}return[]}function WJt({currentShownTranscription:e,transcriptList:t,setTranscriptList:n,onClickLine:r}){const{storageEngine:i}=ri(),{value:o,execute:s}=xc(VJt,[i]),a=A.useCallback(y=>{i&&i.saveTags(y,"text").then(()=>s(i))},[s,i]),l=A.useRef([]),u=th((y,w)=>{const _=[...t];_[y].text=w,n(_)}),c=th((y,w)=>{const _=[...t];_[y].selectedTags=w,n(_)}),d=th((y,w)=>{const _=[...t];_[y].annotation=w,n(_)}),f=th(y=>{if(y===0)return;const w=structuredClone(t);w[y-1].text=t[y-1].text+t[y].text,w[y-1].transcriptMappingEnd=t[y].transcriptMappingEnd,w[y-1].selectedTags=[...t[y-1].selectedTags,...t[y].selectedTags.filter(_=>!t[y-1].selectedTags.find(E=>E.id===_.id))],w.splice(y,1),w.filter(_=>_.transcriptMappingStart===w[y-1].transcriptMappingStart).forEach(_=>{_.transcriptMappingEnd=w[y-1].transcriptMappingEnd}),n(w),setTimeout(()=>{l.current[y-1].focus(),l.current[y-1].setSelectionRange(t[y-1].text.length,t[y-1].text.length,"none")},1)}),h=th((y,w)=>{const _=structuredClone(t),E=_[y];_.splice(y+1,0,{transcriptMappingEnd:E.transcriptMappingEnd,transcriptMappingStart:E.transcriptMappingStart,text:E.text.slice(w),selectedTags:E.selectedTags,annotation:""}),_[y].text=_[y].text.slice(0,w),n(_),setTimeout(()=>{l.current[y+1].focus(),l.current[y+1].setSelectionRange(0,0)},1)}),m=A.useCallback((y,w)=>{if(!o)return;const _=o.findIndex(S=>S.id===y.id),E=Array.from(o);E[_]=w,a(E)},[a,o]),p=A.useCallback(y=>{a([...o||[],y])},[a,o]),g=A.useCallback((y,w)=>{l.current[y]=w},[]),v=A.useMemo(()=>t.map((y,w)=>b.jsx(qJt,{onClickLine:r,editTagCallback:m,createTagCallback:p,annotation:y.annotation,setAnnotation:d,addRef:g,onSelectTags:c,addRowCallback:h,deleteRowCallback:f,onTextChange:u,tags:o||[],selectedTags:y.selectedTags,text:y.text,index:w,start:y.transcriptMappingStart,end:y.transcriptMappingEnd,current:e===null?0:e},w)),[h,c,g,p,e,f,m,r,d,o,u,t]);return b.jsxs(Nn,{gap:0,children:[b.jsxs(so,{style:{width:"100%"},mb:"sm",children:[b.jsx(so.Col,{span:8,children:b.jsx($e,{fw:700,size:"xl",children:"Transcripts"})}),b.jsx(so.Col,{span:2,children:b.jsxs(ln,{gap:"xs",align:"center",children:[b.jsx($e,{fw:700,size:"xl",children:"Text Tags"}),b.jsx(ct,{w:300,multiline:!0,label:"Text tags allow you to categorize segments of text. Click in the box to add, create, or edit tags.",children:b.jsx(kc,{size:16})})]})}),b.jsx(so.Col,{span:2,children:b.jsxs(ln,{gap:"xs",align:"center",children:[b.jsx($e,{fw:700,size:"xl",children:"Annotations"}),b.jsx(ct,{w:300,multiline:!0,label:"Annotations allow you to add additional context or notes to segments of text.",children:b.jsx(kc,{size:16})})]})})]}),b.jsx(Nn,{gap:5,children:v})]})}async function GJt(e,t,n,r){return e&&t&&n&&r?await e.getEditedTranscript(t,r,n):null}function YJt(e,t){return t?t.getParticipantData(e):null}function KJt(e,t,n,r){return e&&r?e.getTranscription(t,n).then(i=>!i||!i.results?null:{results:i.results.map(s=>({...s,resultEndTime:+s.resultEndTime.split("s")[0]})).flat()}):null}function XJt(e){return e&&Object.values(e.answers).sort((n,r)=>{const i=Pp(n.trialOrder),o=Pp(r.trialOrder);return i.step!==o.step?(i.step??Number.MAX_SAFE_INTEGER)-(o.step??Number.MAX_SAFE_INTEGER):i.funcIndex!==o.funcIndex?(i.funcIndex??-1)-(o.funcIndex??-1):n.identifier.localeCompare(r.identifier)})[0]?.identifier||""}function QJt({visibleParticipants:e,storageEngine:t}){const n=V0(),[r,i]=au(),o=qa(),s=ca(),[a,l]=A.useState(0),u=A.useMemo(()=>r.get("participantId")||"",[r]),{studyId:c,trialId:d}=Mo(),f=A.useMemo(()=>d||"",[d]),[h,m]=A.useState(0),{value:p}=xc(YJt,[u,t]),g=s4e(),[v,y]=A.useState(),[w,{width:_}]=bb(),[E,S]=A.useState([]),{value:T,status:k}=xc(KJt,[t,f,u,c]),R=A.useMemo(()=>t&&u&&f?hd(j=>t.saveEditedTranscript(u,n.user.user?.email||"temp",f,j),1e3,{maxWait:5e3}):j=>null,[f,n.user.user?.email,t,u]);A.useEffect(()=>{!u&&e.length>0&&i(j=>(j.set("participantId",e[0].participantId),j.delete("currentTrial"),j))},[]),A.useEffect(()=>{if(!c||!p||f&&p.answers[f])return;const j=XJt(p);j&&s(`/analysis/stats/${c}/tagging/${encodeURIComponent(j)}${o.search}`,{replace:!0})},[f,o.search,s,p,c]);const I=A.useCallback(j=>{S(j),R(j)},[R]),{value:P,status:N}=xc(GJt,[t,u,f,n.user.user?.email||"temp"]);A.useEffect(()=>{S(P&&N==="success"?P:[])},[P,N]);const M=th(j=>{if(T&&h!==null&&p&&j>0){let U=h;const q=f?p.answers[f].startTime:p.answers.audioTest.startTime,W=Math.abs(j-q)/1e3;if(!T.results[U]){m(0);return}if(W>T.results[U].resultEndTime){for(;W>T.results[U].resultEndTime;)if(U+=1,U>T.results.length-1){U=T.results.length-1;break}}else if(U>0&&W<T.results[U-1].resultEndTime)for(;U>0&&W<T.results[U-1].resultEndTime;)U-=1;if(h===U)return;m(U)}});A.useEffect(()=>{N==="success"&&(!P||P.length===0)&&k==="success"&&T&&I(T.results.map((j,U)=>({transcriptMappingStart:U,transcriptMappingEnd:U,text:j.alternatives[0].transcript?.trim()||"",selectedTags:[],annotation:""})))},[n.user.user?.email,f,P,u,T,k,I,t,N]);const O=A.useCallback(j=>{const U=E[j].transcriptMappingStart;l(U)},[E]);return A.useEffect(()=>{l(0)},[u,f]),b.jsx(see.Provider,{value:g,children:b.jsx(ln,{wrap:"nowrap",gap:25,children:b.jsxs(Nn,{ref:w,style:{width:"100%"},gap:10,children:[!u||!f?b.jsx(za,{children:b.jsx($e,{c:"dimmed",size:"24",children:"Select a Participant and Trial to Analyze"})}):!v||k==="success"&&T===null?b.jsx(za,{children:b.jsx($e,{c:"dimmed",size:"24",children:"No transcripts found for this task"})}):b.jsx(Nn,{children:b.jsx(WJt,{onClickLine:O,transcriptList:E,setTranscriptList:I,currentShownTranscription:h})}),b.jsx(D4e,{setHasAudio:y,saveProvenance:()=>null,studyId:c||"",jumpedToLine:a,editedTranscript:E,currentTrial:f,isReplay:!1,visibleParticipants:e.map(j=>j.participantId),rawTranscript:T,onTimeUpdate:M,currentShownTranscription:h,width:_,storageEngine:t},`${u}-${f}`)]})})})}function JJt(e){return e.valueOf()===0||Number.isNaN(e.valueOf())?b.jsx($e,{size:"sm",c:"dimmed",children:"None"}):e.toLocaleDateString([],{hour:"2-digit",minute:"2-digit"})}function ZJt(e,t){return Object.entries(e).map(([n,r])=>{const i=t.filter(m=>m.participantConfigHash===n),o=i.flatMap(m=>Object.values(m.answers)),s=o.map(m=>m.startTime).filter(m=>m!==void 0&&m>0),a=o.map(m=>m.endTime).filter(m=>m!==void 0&&m>0),l=i.map(m=>m.createdTime).filter(m=>m!==void 0&&m>0),u=s.length>0?Math.min(...s):null,c=a.length>0?Math.max(...a):null,d=l.length>0?Math.min(...l):null,f=m=>{const p=JJt(new Date(m));return typeof p=="string"?p:"N/A"},h=()=>{const m=u||d;if(!m)return"N/A";const p=c?f(c):"N/A";return`${f(m)} - ${p}`};return{version:r.studyMetadata.version,hash:n,date:r.studyMetadata.date,timeFrame:h(),participantCount:i.length,config:r}})}class eZt{diff(t,n,r={}){let i;typeof r=="function"?(i=r,r={}):"callback"in r&&(i=r.callback);const o=this.castInput(t,r),s=this.castInput(n,r),a=this.removeEmpty(this.tokenize(o,r)),l=this.removeEmpty(this.tokenize(s,r));return this.diffWithOptionsObj(a,l,r,i)}diffWithOptionsObj(t,n,r,i){var o;const s=y=>{if(y=this.postProcess(y,r),i){setTimeout(function(){i(y)},0);return}else return y},a=n.length,l=t.length;let u=1,c=a+l;r.maxEditLength!=null&&(c=Math.min(c,r.maxEditLength));const d=(o=r.timeout)!==null&&o!==void 0?o:1/0,f=Date.now()+d,h=[{oldPos:-1,lastComponent:void 0}];let m=this.extractCommon(h[0],n,t,0,r);if(h[0].oldPos+1>=l&&m+1>=a)return s(this.buildValues(h[0].lastComponent,n,t));let p=-1/0,g=1/0;const v=()=>{for(let y=Math.max(p,-u);y<=Math.min(g,u);y+=2){let w;const _=h[y-1],E=h[y+1];_&&(h[y-1]=void 0);let S=!1;if(E){const k=E.oldPos-y;S=E&&0<=k&&k<a}const T=_&&_.oldPos+1<l;if(!S&&!T){h[y]=void 0;continue}if(!T||S&&_.oldPos<E.oldPos?w=this.addToPath(E,!0,!1,0,r):w=this.addToPath(_,!1,!0,1,r),m=this.extractCommon(w,n,t,y,r),w.oldPos+1>=l&&m+1>=a)return s(this.buildValues(w.lastComponent,n,t))||!0;h[y]=w,w.oldPos+1>=l&&(g=Math.min(g,y-1)),m+1>=a&&(p=Math.max(p,y+1))}u++};if(i)(function y(){setTimeout(function(){if(u>c||Date.now()>f)return i(void 0);v()||y()},0)})();else for(;u<=c&&Date.now()<=f;){const y=v();if(y)return y}}addToPath(t,n,r,i,o){const s=t.lastComponent;return s&&!o.oneChangePerToken&&s.added===n&&s.removed===r?{oldPos:t.oldPos+i,lastComponent:{count:s.count+1,added:n,removed:r,previousComponent:s.previousComponent}}:{oldPos:t.oldPos+i,lastComponent:{count:1,added:n,removed:r,previousComponent:s}}}extractCommon(t,n,r,i,o){const s=n.length,a=r.length;let l=t.oldPos,u=l-i,c=0;for(;u+1<s&&l+1<a&&this.equals(r[l+1],n[u+1],o);)u++,l++,c++,o.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return c&&!o.oneChangePerToken&&(t.lastComponent={count:c,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=l,u}equals(t,n,r){return r.comparator?r.comparator(t,n):t===n||!!r.ignoreCase&&t.toLowerCase()===n.toLowerCase()}removeEmpty(t){const n=[];for(let r=0;r<t.length;r++)t[r]&&n.push(t[r]);return n}castInput(t,n){return t}tokenize(t,n){return Array.from(t)}join(t){return t.join("")}postProcess(t,n){return t}get useLongestToken(){return!1}buildValues(t,n,r){const i=[];let o;for(;t;)i.push(t),o=t.previousComponent,delete t.previousComponent,t=o;i.reverse();const s=i.length;let a=0,l=0,u=0;for(;a<s;a++){const c=i[a];if(c.removed)c.value=this.join(r.slice(u,u+c.count)),u+=c.count;else{if(!c.added&&this.useLongestToken){let d=n.slice(l,l+c.count);d=d.map(function(f,h){const m=r[u+h];return m.length>f.length?m:f}),c.value=this.join(d)}else c.value=this.join(n.slice(l,l+c.count));l+=c.count,c.added||(u+=c.count)}}return i}}class tZt extends eZt{constructor(){super(...arguments),this.tokenize=iZt}equals(t,n,r){return r.ignoreWhitespace?((!r.newlineIsToken||!t.includes(`
`))&&(t=t.trim()),(!r.newlineIsToken||!n.includes(`
`))&&(n=n.trim())):r.ignoreNewlineAtEof&&!r.newlineIsToken&&(t.endsWith(`
`)&&(t=t.slice(0,-1)),n.endsWith(`
`)&&(n=n.slice(0,-1))),super.equals(t,n,r)}}const nZt=new tZt;function rZt(e,t,n){return nZt.diff(e,t,n)}function iZt(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));const n=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(let i=0;i<r.length;i++){const o=r[i];i%2&&!t.newlineIsToken?n[n.length-1]+=o:n.push(o)}return n}function oZt({configs:e}){if(e.length!==2)return null;const[t,n]=e,r=JSON.stringify(t.config,null,2),i=JSON.stringify(n.config,null,2),o=rZt(r,i);return b.jsxs(Nn,{gap:"md",children:[b.jsxs(lt,{justify:"space-between",px:"xs",children:[b.jsxs(ln,{gap:"sm",children:[b.jsx(Ii,{variant:"light",color:"red",children:t.version}),b.jsxs($e,{size:"sm",c:"dimmed",children:["(",t.participantCount," ","participants)"]})]}),b.jsxs(ln,{gap:"sm",children:[b.jsx(Ii,{variant:"light",color:"green",children:n.version}),b.jsxs($e,{size:"sm",c:"dimmed",children:["(",n.participantCount," ","participants)"]})]})]}),b.jsx(Os,{radius:"sm",style:{overflow:"hidden"},children:b.jsx(De,{style:{fontFamily:"monospace",fontSize:"13px"},children:o.flatMap((s,a)=>s.value.split(`
`).filter((u,c,d)=>c<d.length-1||u!=="").map((u,c)=>{let d="transparent",f="transparent",h="inherit",m="  ";return s.removed?(d="#ffe5e5",f="#ff6b6b",h="#c92a2a",m="- "):s.added&&(d="#e6fcf5",f="#51cf66",h="#2b8a3e",m="+ "),b.jsx(De,{style:{backgroundColor:d,color:h,padding:"4px 12px",borderLeft:`3px solid ${f}`,whiteSpace:"pre",fontWeight:s.removed||s.added?500:400},children:b.jsxs($e,{component:"span",ff:"monospace",size:"sm",children:[m,u]})},`${a}-${c}`)}))})})]})}function sZt({visibleParticipants:e}){const{studyId:t}=Mo(),[n,r]=A.useState({}),{storageEngine:i}=ri(),[o,s]=A.useState([]),[a,l]=A.useState(null),[u,c]=A.useState(!1),[d,f]=A.useState(!1),[h,m]=A.useState(!0);A.useEffect(()=>{if(!i||!t){s([]),m(!1);return}(async()=>{try{const R=[...new Set(e.map(N=>N.participantConfigHash))],I=await i.getAllConfigsFromHash(R,t),P=ZJt(I,e);s(P)}catch(R){console.error("Error fetching configs:",R),s([])}m(!1)})()},[e,i,t]);const p=A.useCallback(k=>{const R=o.find(I=>I.hash===k)||null;l(R?JSON.stringify(R.config,null,2):null)},[o]),g=A.useCallback(async k=>{const R=o.find(I=>I.hash===k);!R||!t||await rVt({studyId:t,hash:k,config:R.config})},[o,t]),v=A.useCallback(async()=>{const k=Object.keys(n).filter(R=>n[R]);!t||k.length===0||await iVt({studyId:t,configs:o,hashes:k})},[o,n,t]),y=A.useCallback(()=>{f(!0)},[]),[w,_]=A.useState(null),E=A.useCallback(k=>{navigator.clipboard.writeText(k),_(k),setTimeout(()=>_(null),2e3)},[]),S=A.useMemo(()=>[{id:"configIndex",header:"#",size:30,Cell:({row:k})=>k.index+1},{accessorKey:"version",header:"Version",size:70,Cell:({row:k})=>b.jsx($e,{children:k.original.version})},{accessorKey:"hash",header:"Hash",size:70,Cell:({row:k})=>b.jsxs(lt,{align:"center",gap:"xs",children:[b.jsxs($e,{children:[k.original.hash.slice(0,6),"..."]}),b.jsx(ct,{label:k.original.hash,children:b.jsx(kc,{size:16,color:"gray"})}),b.jsx(ct,{label:w===k.original.hash?"Copied":"Copy hash",children:b.jsx(on,{variant:"subtle",onClick:()=>E(k.original.hash),color:"gray",children:b.jsx(Z4,{size:16})})})]})},{accessorKey:"date",header:"Date",size:70},{accessorKey:"timeFrame",header:"Time Frame",size:150},{accessorKey:"participantCount",header:"Participants",size:70},{id:"actions",header:"Actions",size:100,accessorFn:k=>k.hash,Cell:({cell:k})=>b.jsxs(lt,{gap:"sm",children:[b.jsx(Mt,{size:"xs",variant:"light",leftSection:b.jsx(DYe,{size:14}),onClick:()=>{c(!0),p(k.getValue())},children:"View"}),b.jsx(Mt,{size:"xs",variant:"light",leftSection:b.jsx(CYe,{size:14}),onClick:()=>g(k.getValue()),children:"Download"})]})}],[g,p,E,w]),T=rA({columns:S,data:o,enableColumnResizing:!0,columnResizeMode:"onEnd",enableRowSelection:!0,getRowId:k=>k.hash,onRowSelectionChange:r,manualPagination:!0,state:{rowSelection:n},paginationDisplayMode:"pages",enablePagination:!1,enableRowVirtualization:!0,mantinePaperProps:{style:{maxHeight:"100%",display:"flex",flexDirection:"column"}},layoutMode:"grid",defaultColumn:{minSize:20,maxSize:1e3,size:180},enableDensityToggle:!1,positionToolbarAlertBanner:"none",renderTopToolbarCustomActions:()=>{const k=Object.keys(n).filter(R=>n[R]);return b.jsx(lt,{children:k.length>0&&b.jsxs(ln,{children:[b.jsxs(Mt,{onClick:v,children:["Download Configs (",k.length,")"]}),k.length===2&&b.jsx(Mt,{onClick:y,leftSection:b.jsx(nGe,{size:16}),variant:"light",children:"Compare"})]})})}});return h?b.jsxs(Nn,{align:"center",p:"md",children:[b.jsx(qc,{size:"sm"}),b.jsx($e,{size:"sm",c:"dimmed",children:"Loading config data..."})]}):o.length>0?b.jsxs(b.Fragment,{children:[b.jsx(I$,{table:T}),b.jsx(ni,{opened:u,onClose:()=>c(!1),title:"Config",size:"95%",children:a?b.jsx(Os,{radius:"sm",style:{overflow:"hidden"},children:b.jsx(De,{style:{fontFamily:"monospace",fontSize:"13px"},children:a.split(`
`).map((k,R)=>b.jsx(De,{style:{backgroundColor:"transparent",padding:"4px 12px",borderLeft:"3px solid transparent",whiteSpace:"pre",minHeight:"24px"},children:b.jsxs($e,{component:"span",ff:"monospace",size:"sm",children:["  ",k]})},R))})}):null}),b.jsx(ni,{opened:d,onClose:()=>f(!1),title:"Compare Configs",size:"95%",children:b.jsx(oZt,{configs:Object.keys(n).filter(k=>n[k]).map(k=>o.find(R=>R.hash===k)).filter(k=>k!==void 0)})})]}):b.jsxs(b.Fragment,{children:[b.jsx(Ou,{h:"xl"}),b.jsx(lt,{justify:"center",align:"center",children:b.jsx($e,{children:"No data available"})})]})}const aZt=37;function lZt(e,t){const n=Object.values(e.answers).map(i=>i.startTime).filter(i=>i!==void 0).sort(),r=Object.values(t.answers).map(i=>i.startTime).filter(i=>i!==void 0).sort();return n.length===0||r.length===0?n.length>0?-1:r.length>0?1:t.participantIndex-e.participantIndex:r[0]-n[0]}async function uZt(e,t,n){return n&&t&&await t.initializeStudyDb(n),!e||!t||!n?[]:await t.getAllParticipantsData(n)}function b0e({globalConfig:e}){const{studyId:t}=Mo(),[n,r]=A.useState(void 0),[i,o]=A.useState(["completed","inprogress","rejected"]),[s,a]=A.useState(["ALL"]),[l,u]=A.useState([{value:"ALL",label:"ALL"}]),[c,d]=A.useState({}),[f,h]=A.useState([]),[m,p]=A.useState(["ALL"]),[g,v]=A.useState([{value:"ALL",label:"ALL"}]),[y,w]=A.useState(["ALL"]),[_,E]=A.useState([]),{hasAudioRecording:S,hasScreenRecording:T}=HJt(n),{storageEngine:k}=ri(),R=ca(),{analysisTab:I}=Mo(),{user:P}=V0(),[N,{width:M}]=bb(),{value:O,execute:j,status:U}=xc(uZt,[n,k,t]),q=A.useMemo(()=>{if(!O)return{completed:0,inprogress:0,rejected:0};const B=Object.values(O),Y=m.includes("ALL")||m.length===0?B:B.filter(ce=>m.includes(ce.participantConfigHash||"")),Q=s.includes("ALL")?Y:Y.filter(ce=>s.includes(ce.stage||"")),ne=y.includes("ALL")?Q:Q.filter(ce=>{const le=Mu(ce.conditions??ce.searchParams?.condition);return(le.length>0?le:["default"]).some(ae=>y.includes(ae))});return{completed:ne.filter(ce=>!ce.rejected&&ce.completed).length,inprogress:ne.filter(ce=>!ce.rejected&&!ce.completed).length,rejected:ne.filter(ce=>ce.rejected).length}},[O,s,m,y]),W=A.useMemo(()=>f.length===0?{completed:0,inprogress:0,rejected:0}:{completed:f.filter(B=>!B.rejected&&B.completed).length,inprogress:f.filter(B=>!B.rejected&&!B.completed).length,rejected:f.filter(B=>B.rejected).length},[f]),V=A.useMemo(()=>{if(!O)return[];const B=Object.values(O),Y=i.includes("completed")?B.filter(te=>!te.rejected&&te.completed):[],Q=i.includes("inprogress")?B.filter(te=>!te.rejected&&!te.completed):[],ne=i.includes("rejected")?B.filter(te=>te.rejected):[],ce=[...Y,...Q,...ne],le=m.includes("ALL")?ce:ce.filter(te=>m.includes(te.participantConfigHash||"")),ue=s.includes("ALL")?le:le.filter(te=>s.includes(te.stage||""));return(y.includes("ALL")?ue:ue.filter(te=>{const se=Mu(te.conditions??te.searchParams?.condition);return(se.length>0?se:["default"]).some(X=>y.includes(X))})).sort(lZt)},[O,i,s,m,y]),z=A.useCallback(async()=>{if(!(!t||!k))try{const B=await k.getStageData(t),Y=B.allStages.map(ne=>({value:ne.stageName,label:ne.stageName}));u([{value:"ALL",label:"ALL"},...Y]);const Q={};B.allStages.forEach(ne=>{Q[ne.stageName]=ne.color}),d(Q)}catch(B){console.error("Failed to load stages:",B),u([{value:"ALL",label:"ALL"}]),d({})}},[t,k]),L=A.useCallback(async()=>{if(!(!t||!k))try{const B=O?Object.values(O):[],Y=[...new Set(B.map(ce=>ce.participantConfigHash))],Q=await k.getAllConfigsFromHash(Y,t),ne=Object.entries(Q).map(([ce,le])=>({value:ce,label:`${le.studyMetadata.version} - ${ce.slice(0,6)}`}));v([{value:"ALL",label:"ALL"},...ne])}catch(B){console.error("Failed to load configs:",B),v([{value:"ALL",label:"ALL"}])}},[t,k,O]),H=A.useMemo(()=>{if(!O)return[];const B=new Set;return Object.values(O).forEach(Y=>{const Q=Mu(Y.conditions??Y.searchParams?.condition);(Q.length>0?Q:["default"]).forEach(ce=>B.add(ce))}),Array.from(B).sort()},[O]);return A.useEffect(()=>{L(),h([])},[L]),A.useEffect(()=>{z(),h([])},[z,I]),A.useEffect(()=>{if(H.length===0){E([]),w(["ALL"]),h([]);return}const B=H.map(Y=>({value:Y,label:Y}));E([{value:"ALL",label:"ALL"},...B]),w(Y=>{const Q=new Set(["ALL",...H]),ne=Y.filter(ce=>Q.has(ce));return ne.length>0?ne:["ALL"]}),h([])},[H]),A.useEffect(()=>{if(!t)return()=>{};if(t==="__revisit-widget"){const B=async Y=>{if(Y.data.type==="revisitWidget/CONFIG"&&k){const Q=await Nee(Y.data.payload);r(Q)}};return window.addEventListener("message",B),window.parent.postMessage({type:"revisitWidget/READY"},"*"),()=>{window.removeEventListener("message",B)}}return Mee(t,e).then(B=>{B&&r(B)}),()=>{}},[t,e,k]),t?b.jsxs(b.Fragment,{children:[b.jsx(HS,{studyIds:e.configsList}),b.jsx(Ri.Main,{style:{height:"100dvh"},children:b.jsxs(Nn,{ref:N,style:{height:"100%",maxHeight:"100dvh",overflow:"hidden"},justify:"space-between",children:[b.jsxs(lt,{direction:"row",align:"center",justify:"space-between",p:"sm",gap:"md",children:[b.jsxs(lt,{direction:"row",align:"center",gap:"md",children:[b.jsx(gr,{order:5,children:t}),n&&b.jsx(z6e,{visibleParticipants:f.length>0?f:V,studyId:t||"",gap:"10px",hasAudio:S,hasScreenRecording:T})]}),b.jsxs(lt,{direction:"row",align:"center",gap:"md",children:[b.jsxs(lt,{direction:"row",align:"center",gap:"xs",children:[b.jsx($e,{size:"sm",fw:500,children:"Stage:"}),b.jsx(Up,{data:l,value:s,onChange:B=>{B.includes("ALL")&&!s.includes("ALL")?a(["ALL"]):B.includes("ALL")&&s.includes("ALL")?a(B.filter(Y=>Y!=="ALL")):B.length===0?a(["ALL"]):a(B)},w:180,size:"sm",clearable:!1,maxValues:5,styles:{input:{minHeight:"36px"}}})]}),b.jsxs(lt,{direction:"row",align:"center",gap:"xs",children:[b.jsx($e,{size:"sm",fw:500,children:"Config:"}),b.jsx(Up,{data:g,value:m,onChange:B=>{B.includes("ALL")&&!m.includes("ALL")?p(["ALL"]):B.includes("ALL")&&m.includes("ALL")?p(B.filter(Y=>Y!=="ALL")):B.length===0?p(["ALL"]):p(B)},w:180,size:"sm",clearable:!1,maxValues:5,styles:{input:{minHeight:"36px"}}})]}),_.length>0&&b.jsxs(lt,{direction:"row",align:"center",gap:"xs",children:[b.jsx($e,{size:"sm",fw:500,children:"Condition:"}),b.jsx(Up,{data:_,value:y,onChange:B=>{B.includes("ALL")&&!y.includes("ALL")?w(["ALL"]):B.includes("ALL")&&y.includes("ALL")?w(B.filter(Y=>Y!=="ALL")):B.length===0?w(["ALL"]):w(B)},w:180,size:"sm",clearable:!1,maxValues:5,styles:{input:{minHeight:"36px"}}})]}),b.jsxs(lt,{direction:"row",align:"center",gap:"xs",children:[b.jsx($e,{size:"sm",fw:500,children:"Participants:"}),b.jsx(Ia.Group,{value:i,onChange:B=>o(B),children:b.jsxs(ln,{gap:"xs",children:[b.jsx(Ia,{value:"completed",label:f.length>0?`Completed (${W.completed} of ${q.completed})`:`Completed (${q.completed})`,size:"sm"}),b.jsx(Ia,{value:"inprogress",label:f.length>0?`In Progress (${W.inprogress} of ${q.inprogress})`:`In Progress (${q.inprogress})`,size:"sm"}),b.jsx(Ia,{value:"rejected",label:f.length>0?`Rejected (${W.rejected} of ${q.rejected})`:`Rejected (${q.rejected})`,size:"sm"})]})})]})]})]}),b.jsx(Jl,{visible:U==="pending"}),U==="success"?b.jsxs(jn,{style:{flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden"},keepMounted:!1,variant:"outline",value:I,onChange:B=>R(`/analysis/stats/${t}/${B}`),children:[b.jsxs(jn.List,{children:[b.jsx(jn.Tab,{value:"summary",leftSection:b.jsx(MGe,{size:16}),children:"Study Summary"}),b.jsx(jn.Tab,{value:"table",leftSection:b.jsx(ZKe,{size:16}),children:"Participant View"}),b.jsx(jn.Tab,{value:"stats",leftSection:b.jsx(IGe,{size:16}),children:"Trial Stats"}),b.jsx(jn.Tab,{value:"tagging",leftSection:b.jsx(tXe,{size:16}),children:"Coding"}),k?.getEngine()==="firebase"&&b.jsx(jn.Tab,{value:"live-monitor",leftSection:b.jsx(sYe,{size:16}),children:"Live Monitor"}),b.jsx(jn.Tab,{value:"config",leftSection:b.jsx(OYe,{size:16}),children:"Config"}),b.jsx(jn.Tab,{value:"manage",leftSection:b.jsx(wwe,{size:16}),disabled:!P.isAdmin,children:"Manage"})]}),b.jsx(jn.Panel,{style:{overflow:"auto"},value:"summary",pt:"xs",children:n&&b.jsx(SJt,{studyConfig:n,visibleParticipants:V})}),b.jsx(jn.Panel,{style:{height:`calc(100% - ${aZt}px)`},value:"table",pt:"xs",children:n&&b.jsx(NJt,{width:M,stageColors:c,visibleParticipants:V,studyConfig:n,refresh:()=>j(n,k,t),selectedParticipants:f,onSelectionChange:h})}),b.jsx(jn.Panel,{style:{overflow:"auto"},value:"stats",pt:"xs",children:n&&b.jsx(LJt,{studyConfig:n,visibleParticipants:V})}),b.jsx(jn.Panel,{value:"tagging",pt:"xs",children:n&&k?.getEngine()==="firebase"?b.jsx(QJt,{visibleParticipants:V,storageEngine:k}):b.jsx(za,{children:"Think aloud coding is only available when using Firebase."})}),k?.getEngine()==="firebase"&&b.jsx(jn.Panel,{style:{overflow:"auto"},value:"live-monitor",pt:"xs",children:n&&b.jsx(wYt,{studyConfig:n,storageEngine:k,studyId:t,includedParticipants:i,selectedStages:s})}),b.jsx(jn.Panel,{style:{overflow:"auto"},value:"config",pt:"xs",children:n&&b.jsx(sZt,{visibleParticipants:V})}),b.jsx(jn.Panel,{style:{overflow:"auto"},value:"manage",pt:"xs",children:t&&P.isAdmin?b.jsx(UJt,{studyId:t,refresh:()=>j(n,k,t)}):b.jsx(U0,{mt:20,children:b.jsx(pl,{title:"Unauthorized Access",variant:"light",color:"red",icon:b.jsx(kc,{}),children:"You are not authorized to manage the data for this study."})})})]}):null]})})]}):b.jsxs(b.Fragment,{children:[b.jsx(HS,{studyIds:e.configsList}),b.jsx(Ri.Main,{style:{height:"100dvh"},children:b.jsx(za,{style:{height:"100%"},children:b.jsx($e,{children:"Select a study from the header menu to view analysis data."})})})]})}function w0e({children:e,paramToCheck:t,paramCallback:n}){const{user:r,verifyAdminStatus:i,logout:o}=V0(),{storageEngine:s}=ri(),[a,l]=A.useState(!1),u=Mo();return A.useEffect(()=>{(async()=>{if(a===!1)if(t&&n&&u[t]){const d=await n(u[t]);d&&l(d)}else l(!0);if(a)try{r&&await i(r)||o()}catch(d){o(),console.warn(d)}})()},[r.isAdmin,a]),r.determiningStatus||!s?b.jsx(Jl,{visible:r.determiningStatus||!s?.getEngine()}):a&&!r.isAdmin&&!r.determiningStatus?b.jsx(iG,{to:"/login"}):b.jsx(b.Fragment,{children:e})}async function U6e(e,t){if(e&&mc(e)){t(!0);try{return await e.login()}catch(n){E2({title:"Error",message:n.message,color:"red"})}finally{t(!1)}}return null}function cZt(){const{user:e}=V0(),[t,n]=A.useState(!1),{storageEngine:r}=ri();A.useEffect(()=>{!e.determiningStatus&&!e.isAdmin&&e.adminVerification&&E2({title:"Unauthorized",message:"You are not authorized to use this application.",color:"red"})},[e.adminVerification]);const i=A.useMemo(()=>r?.getEngine(),[r]);return!e.determiningStatus&&e.isAdmin?b.jsx(iG,{to:"/"}):b.jsx(U0,{children:b.jsx(Js,{padding:"lg",children:b.jsxs(lt,{align:"center",direction:"column",justify:"center",children:[b.jsx(Am,{maw:200,mt:50,mb:100,src:`${Hi}revisitAssets/revisitLogoSquare.svg`,alt:"Revisit Logo"}),b.jsxs(b.Fragment,{children:[b.jsxs($e,{mb:20,children:["To access admin settings, please sign in using"," ",i==="supabase"?" Supabase":" Google","."]}),b.jsxs(Mt,{onClick:()=>U6e(r,n),leftSection:i==="supabase"?b.jsx(uG,{}):b.jsx(cXe,{}),variant:"filled",children:["Sign In With"," ",i==="supabase"?"Supabase":" Google "]})]}),b.jsx(Jl,{visible:t})]})})})}function dZt(){const{user:e,triggerAuth:t,logout:n}=V0(),{storageEngine:r}=ri(),[i,o]=A.useState(!1),[s,a]=A.useState([]),[l,u]=A.useState(!1),[c,d]=A.useState(!1),[f,h]=A.useState(!1),[m,p]=A.useState(!1),[g,v]=A.useState(!1),[y,w]=A.useState(""),[_,E]=A.useState(null),S=z_e({initialValues:{email:""},validate:{email:Vdt("Invalid email")}});A.useEffect(()=>{(async()=>{if(u(!0),r&&mc(r)){const O=await r?.getUserManagementData("authentication");o(O?.isEnabled||!1);const j=await r?.getUserManagementData("adminUsers");j&&j.adminUsersList&&a(j?.adminUsersList.map(U=>U.email).filter(U=>U!==null))}else o(!1);u(!1)})()},[r]);const T=async()=>{if(u(!0),r&&mc(r)){if(r.getEngine()==="supabase"){const{data:O}=await r.getSession();if(O.session&&O.session.user&&O.session.user.email){E({email:O.session.user.email,uid:O.session.user.id}),p(!0),u(!1);return}}const M=await U6e(r,u);M&&M.email?(E({email:M.email,uid:M.uid}),p(!0)):v(!0)}u(!1)},k=async M=>{u(!0),r&&mc(r)&&M&&(await r.changeAuth(!0),await r.addAdminUser(M),a([M.email]),o(!0),t()),p(!1),u(!1)},R=async()=>{if(u(!0),r&&mc(r)){await r.addAdminUser({email:S.values.email,uid:null});const M=await r.getUserManagementData("adminUsers");a(M?.adminUsersList.map(O=>O.email).filter(O=>O!==null)||[])}u(!1),d(!1),S.setValues({email:""})},I=M=>{h(!0),w(M)},P=async()=>{if(u(!0),r&&mc(r)){await r.removeAdminUser(y);const M=await r.getUserManagementData("adminUsers");a(M?.adminUsersList.map(O=>O.email).filter(O=>O!==null)||[])}h(!1),u(!1)},N=A.useMemo(()=>r&&mc(r),[r]);return b.jsxs(b.Fragment,{children:[b.jsx(U0,{children:b.jsxs(Js,{withBorder:!0,style:{backgroundColor:"#FAFAFA"},children:[b.jsx(gr,{mb:20,order:3,children:"Authentication"}),i?b.jsx(lt,{children:b.jsx($e,{children:"Authentication is enabled."})}):b.jsxs(lt,{justify:"space-between",children:[b.jsx(De,{children:b.jsx($e,{children:"Authentication is currently disabled."})}),b.jsx(ct,{label:"You can only enable auth when using a cloud storage engine (Firebase/Supabase)",disabled:N,children:b.jsx(Mt,{onClick:M=>N?T():M.preventDefault(),color:"green","data-disabled":N?void 0:!0,style:{"&[dataDisabled]":{pointerEvents:"all"}},children:"Enable Authentication"})})]}),i?b.jsxs(lt,{mt:40,direction:"column",children:[b.jsxs(lt,{style:{borderBottom:"1px solid #dedede"},direction:"row",justify:"space-between",mb:15,pb:15,children:[b.jsx(gr,{order:6,children:"Enabled Users"}),b.jsx(cG,{style:{cursor:"pointer"},onClick:()=>d(!0)})]}),s.length>0?s.map(M=>b.jsxs(lt,{justify:"space-between",mb:10,children:[b.jsx($e,{children:M}),M===e.user?.email?b.jsx($e,{c:"blue",size:"xs",children:"You"}):b.jsx(on,{variant:"subtle",onClick:()=>I(M),children:b.jsx(Cwe,{color:"red"})})]},M)):null,b.jsx(lt,{direction:"row",justify:"left",children:b.jsx(Mt,{onClick:()=>n(),mt:20,children:"Log out"})})]}):null]})}),b.jsx(ni,{opened:c,onClose:()=>d(!1),title:"Add Admin User",children:b.jsxs(De,{component:"form",onSubmit:S.onSubmit(()=>R()),children:[b.jsx(dl,{leftSection:b.jsx(lGe,{}),placeholder:"User Email Address",...S.getInputProps("email")}),b.jsxs(lt,{mt:30,justify:"right",children:[b.jsx(Mt,{mr:5,variant:"subtle",color:"red",onClick:()=>d(!1),children:"Cancel"}),b.jsx(Mt,{type:"submit",children:"Save"})]})]})}),b.jsxs(ni,{opened:f,size:"large",onClose:()=>h(!1),title:b.jsxs($e,{fw:700,children:["Remove",y,"?"]}),children:[b.jsxs($e,{mt:40,children:["Are you sure you want to remove",b.jsx("b",{children:y})," ","as an administrator?"]}),b.jsxs(lt,{mt:40,justify:"right",children:[b.jsx(Mt,{mr:5,variant:"subtle",color:"red",onClick:()=>h(!1),children:"Cancel"}),b.jsx(Mt,{onClick:()=>P(),children:"Yes, I'm sure."})]})]}),b.jsxs(ni,{opened:m,size:"md",onClose:()=>p(!1),title:b.jsx($e,{fw:700,children:"Enable Authentication?"}),children:[b.jsxs($e,{mt:40,children:["User"," ",b.jsx("b",{children:_?.email})," ","will be added as an administrator to this application. After enabling authentication, you'll be able to add additional users below. This action cannot be undone."]}),b.jsxs(lt,{mt:40,justify:"right",children:[b.jsx(Mt,{mr:5,variant:"subtle",color:"red",onClick:()=>p(!1),children:"Cancel"}),b.jsx(Mt,{onClick:()=>k(_),children:"Yes, I'm sure."})]})]}),b.jsxs(ni,{opened:g,size:"md",onClose:()=>v(!1),title:b.jsx($e,{fw:700,children:"An Error Occurred."}),children:[b.jsxs($e,{mt:40,children:["An error has occurred when trying to enable authentication. Please consult the"," ",b.jsx("a",{href:"https://revisit.dev/docs/data-and-deployment/firebase/enabling-authentication/",target:"_blank",rel:"noreferrer",children:"documentation"})," ","for more information."]}),b.jsx(lt,{mt:40,justify:"right",children:b.jsx(Mt,{mr:5,onClick:()=>v(!1),children:"Okay"})})]}),b.jsx(Jl,{visible:l})]})}var JB={exports:{}};var x0e;function fZt(){return x0e||(x0e=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(r,i,o){function s(u,c){if(!i[u]){if(!r[u]){var d=typeof Dp=="function"&&Dp;if(!c&&d)return d(u,!0);if(a)return a(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var h=i[u]={exports:{}};r[u][0].call(h.exports,function(m){var p=r[u][1][m];return s(p||m)},h,h.exports,n,r,i,o)}return i[u].exports}for(var a=typeof Dp=="function"&&Dp,l=0;l<o.length;l++)s(o[l]);return s})({1:[function(n,r,i){(function(o){var s=o.MutationObserver||o.WebKitMutationObserver,a;if(s){var l=0,u=new s(m),c=o.document.createTextNode("");u.observe(c,{characterData:!0}),a=function(){c.data=l=++l%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var d=new o.MessageChannel;d.port1.onmessage=m,a=function(){d.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?a=function(){var g=o.document.createElement("script");g.onreadystatechange=function(){m(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},o.document.documentElement.appendChild(g)}:a=function(){setTimeout(m,0)};var f,h=[];function m(){f=!0;for(var g,v,y=h.length;y;){for(v=h,h=[],g=-1;++g<y;)v[g]();y=h.length}f=!1}r.exports=p;function p(g){h.push(g)===1&&!f&&a()}}).call(this,typeof xi<"u"?xi:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var o=n(1);function s(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];r.exports=d;function d(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,E!==s&&p(this,E)}d.prototype.catch=function(E){return this.then(null,E)},d.prototype.then=function(E,S){if(typeof E!="function"&&this.state===u||typeof S!="function"&&this.state===l)return this;var T=new this.constructor(s);if(this.state!==c){var k=this.state===u?E:S;h(T,k,this.outcome)}else this.queue.push(new f(T,E,S));return T};function f(E,S,T){this.promise=E,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}f.prototype.callFulfilled=function(E){a.resolve(this.promise,E)},f.prototype.otherCallFulfilled=function(E){h(this.promise,this.onFulfilled,E)},f.prototype.callRejected=function(E){a.reject(this.promise,E)},f.prototype.otherCallRejected=function(E){h(this.promise,this.onRejected,E)};function h(E,S,T){o(function(){var k;try{k=S(T)}catch(R){return a.reject(E,R)}k===E?a.reject(E,new TypeError("Cannot resolve promise with itself")):a.resolve(E,k)})}a.resolve=function(E,S){var T=g(m,S);if(T.status==="error")return a.reject(E,T.value);var k=T.value;if(k)p(E,k);else{E.state=u,E.outcome=S;for(var R=-1,I=E.queue.length;++R<I;)E.queue[R].callFulfilled(S)}return E},a.reject=function(E,S){E.state=l,E.outcome=S;for(var T=-1,k=E.queue.length;++T<k;)E.queue[T].callRejected(S);return E};function m(E){var S=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof S=="function")return function(){S.apply(E,arguments)}}function p(E,S){var T=!1;function k(N){T||(T=!0,a.reject(E,N))}function R(N){T||(T=!0,a.resolve(E,N))}function I(){S(R,k)}var P=g(I);P.status==="error"&&k(P.value)}function g(E,S){var T={};try{T.value=E(S),T.status="success"}catch(k){T.status="error",T.value=k}return T}d.resolve=v;function v(E){return E instanceof this?E:a.resolve(new this(s),E)}d.reject=y;function y(E){var S=new this(s);return a.reject(S,E)}d.all=w;function w(E){var S=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=E.length,k=!1;if(!T)return this.resolve([]);for(var R=new Array(T),I=0,P=-1,N=new this(s);++P<T;)M(E[P],P);return N;function M(O,j){S.resolve(O).then(U,function(q){k||(k=!0,a.reject(N,q))});function U(q){R[j]=q,++I===T&&!k&&(k=!0,a.resolve(N,R))}}}d.race=_;function _(E){var S=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=E.length,k=!1;if(!T)return this.resolve([]);for(var R=-1,I=new this(s);++R<T;)P(E[R]);return I;function P(N){S.resolve(N).then(function(M){k||(k=!0,a.resolve(I,M))},function(M){k||(k=!0,a.reject(I,M))})}}},{1:1}],3:[function(n,r,i){(function(o){typeof o.Promise!="function"&&(o.Promise=n(2))}).call(this,typeof xi<"u"?xi:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pe){return typeof pe}:function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe};function s(pe,Ne){if(!(pe instanceof Ne))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=a();function u(){try{if(!l||!l.open)return!1;var pe=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Ne=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!pe||Ne)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(pe,Ne){pe=pe||[],Ne=Ne||{};try{return new Blob(pe,Ne)}catch(je){if(je.name!=="TypeError")throw je;for(var Ce=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,Be=new Ce,He=0;He<pe.length;He+=1)Be.append(pe[He]);return Be.getBlob(Ne.type)}}typeof Promise>"u"&&n(3);var d=Promise;function f(pe,Ne){Ne&&pe.then(function(Ce){Ne(null,Ce)},function(Ce){Ne(Ce)})}function h(pe,Ne,Ce){typeof Ne=="function"&&pe.then(Ne),typeof Ce=="function"&&pe.catch(Ce)}function m(pe){return typeof pe!="string"&&(console.warn(pe+" used as a key, but it is not a string."),pe=String(pe)),pe}function p(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var g="local-forage-detect-blob-support",v=void 0,y={},w=Object.prototype.toString,_="readonly",E="readwrite";function S(pe){for(var Ne=pe.length,Ce=new ArrayBuffer(Ne),Be=new Uint8Array(Ce),He=0;He<Ne;He++)Be[He]=pe.charCodeAt(He);return Ce}function T(pe){return new d(function(Ne){var Ce=pe.transaction(g,E),Be=c([""]);Ce.objectStore(g).put(Be,"key"),Ce.onabort=function(He){He.preventDefault(),He.stopPropagation(),Ne(!1)},Ce.oncomplete=function(){var He=navigator.userAgent.match(/Chrome\/(\d+)/),je=navigator.userAgent.match(/Edge\//);Ne(je||!He||parseInt(He[1],10)>=43)}}).catch(function(){return!1})}function k(pe){return typeof v=="boolean"?d.resolve(v):T(pe).then(function(Ne){return v=Ne,v})}function R(pe){var Ne=y[pe.name],Ce={};Ce.promise=new d(function(Be,He){Ce.resolve=Be,Ce.reject=He}),Ne.deferredOperations.push(Ce),Ne.dbReady?Ne.dbReady=Ne.dbReady.then(function(){return Ce.promise}):Ne.dbReady=Ce.promise}function I(pe){var Ne=y[pe.name],Ce=Ne.deferredOperations.pop();if(Ce)return Ce.resolve(),Ce.promise}function P(pe,Ne){var Ce=y[pe.name],Be=Ce.deferredOperations.pop();if(Be)return Be.reject(Ne),Be.promise}function N(pe,Ne){return new d(function(Ce,Be){if(y[pe.name]=y[pe.name]||H(),pe.db)if(Ne)R(pe),pe.db.close();else return Ce(pe.db);var He=[pe.name];Ne&&He.push(pe.version);var je=l.open.apply(l,He);Ne&&(je.onupgradeneeded=function(rt){var ut=je.result;try{ut.createObjectStore(pe.storeName),rt.oldVersion<=1&&ut.createObjectStore(g)}catch(pt){if(pt.name==="ConstraintError")console.warn('The database "'+pe.name+'" has been upgraded from version '+rt.oldVersion+" to version "+rt.newVersion+', but the storage "'+pe.storeName+'" already exists.');else throw pt}}),je.onerror=function(rt){rt.preventDefault(),Be(je.error)},je.onsuccess=function(){var rt=je.result;rt.onversionchange=function(ut){ut.target.close()},Ce(rt),I(pe)}})}function M(pe){return N(pe,!1)}function O(pe){return N(pe,!0)}function j(pe,Ne){if(!pe.db)return!0;var Ce=!pe.db.objectStoreNames.contains(pe.storeName),Be=pe.version<pe.db.version,He=pe.version>pe.db.version;if(Be&&(pe.version!==Ne&&console.warn('The database "'+pe.name+`" can't be downgraded from version `+pe.db.version+" to version "+pe.version+"."),pe.version=pe.db.version),He||Ce){if(Ce){var je=pe.db.version+1;je>pe.version&&(pe.version=je)}return!0}return!1}function U(pe){return new d(function(Ne,Ce){var Be=new FileReader;Be.onerror=Ce,Be.onloadend=function(He){var je=btoa(He.target.result||"");Ne({__local_forage_encoded_blob:!0,data:je,type:pe.type})},Be.readAsBinaryString(pe)})}function q(pe){var Ne=S(atob(pe.data));return c([Ne],{type:pe.type})}function W(pe){return pe&&pe.__local_forage_encoded_blob}function V(pe){var Ne=this,Ce=Ne._initReady().then(function(){var Be=y[Ne._dbInfo.name];if(Be&&Be.dbReady)return Be.dbReady});return h(Ce,pe,pe),Ce}function z(pe){R(pe);for(var Ne=y[pe.name],Ce=Ne.forages,Be=0;Be<Ce.length;Be++){var He=Ce[Be];He._dbInfo.db&&(He._dbInfo.db.close(),He._dbInfo.db=null)}return pe.db=null,M(pe).then(function(je){return pe.db=je,j(pe)?O(pe):je}).then(function(je){pe.db=Ne.db=je;for(var rt=0;rt<Ce.length;rt++)Ce[rt]._dbInfo.db=je}).catch(function(je){throw P(pe,je),je})}function L(pe,Ne,Ce,Be){Be===void 0&&(Be=1);try{var He=pe.db.transaction(pe.storeName,Ne);Ce(null,He)}catch(je){if(Be>0&&(!pe.db||je.name==="InvalidStateError"||je.name==="NotFoundError"))return d.resolve().then(function(){if(!pe.db||je.name==="NotFoundError"&&!pe.db.objectStoreNames.contains(pe.storeName)&&pe.version<=pe.db.version)return pe.db&&(pe.version=pe.db.version+1),O(pe)}).then(function(){return z(pe).then(function(){L(pe,Ne,Ce,Be-1)})}).catch(Ce);Ce(je)}}function H(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function B(pe){var Ne=this,Ce={db:null};if(pe)for(var Be in pe)Ce[Be]=pe[Be];var He=y[Ce.name];He||(He=H(),y[Ce.name]=He),He.forages.push(Ne),Ne._initReady||(Ne._initReady=Ne.ready,Ne.ready=V);var je=[];function rt(){return d.resolve()}for(var ut=0;ut<He.forages.length;ut++){var pt=He.forages[ut];pt!==Ne&&je.push(pt._initReady().catch(rt))}var ft=He.forages.slice(0);return d.all(je).then(function(){return Ce.db=He.db,M(Ce)}).then(function(_t){return Ce.db=_t,j(Ce,Ne._defaultConfig.version)?O(Ce):_t}).then(function(_t){Ce.db=He.db=_t,Ne._dbInfo=Ce;for(var jt=0;jt<ft.length;jt++){var Pn=ft[jt];Pn!==Ne&&(Pn._dbInfo.db=Ce.db,Pn._dbInfo.version=Ce.version)}})}function Y(pe,Ne){var Ce=this;pe=m(pe);var Be=new d(function(He,je){Ce.ready().then(function(){L(Ce._dbInfo,_,function(rt,ut){if(rt)return je(rt);try{var pt=ut.objectStore(Ce._dbInfo.storeName),ft=pt.get(pe);ft.onsuccess=function(){var _t=ft.result;_t===void 0&&(_t=null),W(_t)&&(_t=q(_t)),He(_t)},ft.onerror=function(){je(ft.error)}}catch(_t){je(_t)}})}).catch(je)});return f(Be,Ne),Be}function Q(pe,Ne){var Ce=this,Be=new d(function(He,je){Ce.ready().then(function(){L(Ce._dbInfo,_,function(rt,ut){if(rt)return je(rt);try{var pt=ut.objectStore(Ce._dbInfo.storeName),ft=pt.openCursor(),_t=1;ft.onsuccess=function(){var jt=ft.result;if(jt){var Pn=jt.value;W(Pn)&&(Pn=q(Pn));var Xt=pe(Pn,jt.key,_t++);Xt!==void 0?He(Xt):jt.continue()}else He()},ft.onerror=function(){je(ft.error)}}catch(jt){je(jt)}})}).catch(je)});return f(Be,Ne),Be}function ne(pe,Ne,Ce){var Be=this;pe=m(pe);var He=new d(function(je,rt){var ut;Be.ready().then(function(){return ut=Be._dbInfo,w.call(Ne)==="[object Blob]"?k(ut.db).then(function(pt){return pt?Ne:U(Ne)}):Ne}).then(function(pt){L(Be._dbInfo,E,function(ft,_t){if(ft)return rt(ft);try{var jt=_t.objectStore(Be._dbInfo.storeName);pt===null&&(pt=void 0);var Pn=jt.put(pt,pe);_t.oncomplete=function(){pt===void 0&&(pt=null),je(pt)},_t.onabort=_t.onerror=function(){var Xt=Pn.error?Pn.error:Pn.transaction.error;rt(Xt)}}catch(Xt){rt(Xt)}})}).catch(rt)});return f(He,Ce),He}function ce(pe,Ne){var Ce=this;pe=m(pe);var Be=new d(function(He,je){Ce.ready().then(function(){L(Ce._dbInfo,E,function(rt,ut){if(rt)return je(rt);try{var pt=ut.objectStore(Ce._dbInfo.storeName),ft=pt.delete(pe);ut.oncomplete=function(){He()},ut.onerror=function(){je(ft.error)},ut.onabort=function(){var _t=ft.error?ft.error:ft.transaction.error;je(_t)}}catch(_t){je(_t)}})}).catch(je)});return f(Be,Ne),Be}function le(pe){var Ne=this,Ce=new d(function(Be,He){Ne.ready().then(function(){L(Ne._dbInfo,E,function(je,rt){if(je)return He(je);try{var ut=rt.objectStore(Ne._dbInfo.storeName),pt=ut.clear();rt.oncomplete=function(){Be()},rt.onabort=rt.onerror=function(){var ft=pt.error?pt.error:pt.transaction.error;He(ft)}}catch(ft){He(ft)}})}).catch(He)});return f(Ce,pe),Ce}function ue(pe){var Ne=this,Ce=new d(function(Be,He){Ne.ready().then(function(){L(Ne._dbInfo,_,function(je,rt){if(je)return He(je);try{var ut=rt.objectStore(Ne._dbInfo.storeName),pt=ut.count();pt.onsuccess=function(){Be(pt.result)},pt.onerror=function(){He(pt.error)}}catch(ft){He(ft)}})}).catch(He)});return f(Ce,pe),Ce}function ae(pe,Ne){var Ce=this,Be=new d(function(He,je){if(pe<0){He(null);return}Ce.ready().then(function(){L(Ce._dbInfo,_,function(rt,ut){if(rt)return je(rt);try{var pt=ut.objectStore(Ce._dbInfo.storeName),ft=!1,_t=pt.openKeyCursor();_t.onsuccess=function(){var jt=_t.result;if(!jt){He(null);return}pe===0||ft?He(jt.key):(ft=!0,jt.advance(pe))},_t.onerror=function(){je(_t.error)}}catch(jt){je(jt)}})}).catch(je)});return f(Be,Ne),Be}function te(pe){var Ne=this,Ce=new d(function(Be,He){Ne.ready().then(function(){L(Ne._dbInfo,_,function(je,rt){if(je)return He(je);try{var ut=rt.objectStore(Ne._dbInfo.storeName),pt=ut.openKeyCursor(),ft=[];pt.onsuccess=function(){var _t=pt.result;if(!_t){Be(ft);return}ft.push(_t.key),_t.continue()},pt.onerror=function(){He(pt.error)}}catch(_t){He(_t)}})}).catch(He)});return f(Ce,pe),Ce}function se(pe,Ne){Ne=p.apply(this,arguments);var Ce=this.config();pe=typeof pe!="function"&&pe||{},pe.name||(pe.name=pe.name||Ce.name,pe.storeName=pe.storeName||Ce.storeName);var Be=this,He;if(!pe.name)He=d.reject("Invalid arguments");else{var je=pe.name===Ce.name&&Be._dbInfo.db,rt=je?d.resolve(Be._dbInfo.db):M(pe).then(function(ut){var pt=y[pe.name],ft=pt.forages;pt.db=ut;for(var _t=0;_t<ft.length;_t++)ft[_t]._dbInfo.db=ut;return ut});pe.storeName?He=rt.then(function(ut){if(ut.objectStoreNames.contains(pe.storeName)){var pt=ut.version+1;R(pe);var ft=y[pe.name],_t=ft.forages;ut.close();for(var jt=0;jt<_t.length;jt++){var Pn=_t[jt];Pn._dbInfo.db=null,Pn._dbInfo.version=pt}var Xt=new d(function(Qn,Wt){var sr=l.open(pe.name,pt);sr.onerror=function(Eo){var ha=sr.result;ha.close(),Wt(Eo)},sr.onupgradeneeded=function(){var Eo=sr.result;Eo.deleteObjectStore(pe.storeName)},sr.onsuccess=function(){var Eo=sr.result;Eo.close(),Qn(Eo)}});return Xt.then(function(Qn){ft.db=Qn;for(var Wt=0;Wt<_t.length;Wt++){var sr=_t[Wt];sr._dbInfo.db=Qn,I(sr._dbInfo)}}).catch(function(Qn){throw(P(pe,Qn)||d.resolve()).catch(function(){}),Qn})}}):He=rt.then(function(ut){R(pe);var pt=y[pe.name],ft=pt.forages;ut.close();for(var _t=0;_t<ft.length;_t++){var jt=ft[_t];jt._dbInfo.db=null}var Pn=new d(function(Xt,Qn){var Wt=l.deleteDatabase(pe.name);Wt.onerror=function(){var sr=Wt.result;sr&&sr.close(),Qn(Wt.error)},Wt.onblocked=function(){console.warn('dropInstance blocked for database "'+pe.name+'" until all open connections are closed')},Wt.onsuccess=function(){var sr=Wt.result;sr&&sr.close(),Xt(sr)}});return Pn.then(function(Xt){pt.db=Xt;for(var Qn=0;Qn<ft.length;Qn++){var Wt=ft[Qn];I(Wt._dbInfo)}}).catch(function(Xt){throw(P(pe,Xt)||d.resolve()).catch(function(){}),Xt})})}return f(He,Ne),He}var we={_driver:"asyncStorage",_initStorage:B,_support:u(),iterate:Q,getItem:Y,setItem:ne,removeItem:ce,clear:le,length:ue,key:ae,keys:te,dropInstance:se};function X(){return typeof openDatabase=="function"}var he="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ge="~~local_forage_type~",re=/^~~local_forage_type~([^~]+)~/,ee="__lfsc__:",fe=ee.length,Re="arbf",Oe="blob",Ae="si08",Se="ui08",xe="uic8",ke="si16",me="si32",Me="ur16",ze="ui32",Xe="fl32",tt="fl64",gt=fe+Re.length,qt=Object.prototype.toString;function zt(pe){var Ne=pe.length*.75,Ce=pe.length,Be,He=0,je,rt,ut,pt;pe[pe.length-1]==="="&&(Ne--,pe[pe.length-2]==="="&&Ne--);var ft=new ArrayBuffer(Ne),_t=new Uint8Array(ft);for(Be=0;Be<Ce;Be+=4)je=he.indexOf(pe[Be]),rt=he.indexOf(pe[Be+1]),ut=he.indexOf(pe[Be+2]),pt=he.indexOf(pe[Be+3]),_t[He++]=je<<2|rt>>4,_t[He++]=(rt&15)<<4|ut>>2,_t[He++]=(ut&3)<<6|pt&63;return ft}function _n(pe){var Ne=new Uint8Array(pe),Ce="",Be;for(Be=0;Be<Ne.length;Be+=3)Ce+=he[Ne[Be]>>2],Ce+=he[(Ne[Be]&3)<<4|Ne[Be+1]>>4],Ce+=he[(Ne[Be+1]&15)<<2|Ne[Be+2]>>6],Ce+=he[Ne[Be+2]&63];return Ne.length%3===2?Ce=Ce.substring(0,Ce.length-1)+"=":Ne.length%3===1&&(Ce=Ce.substring(0,Ce.length-2)+"=="),Ce}function $t(pe,Ne){var Ce="";if(pe&&(Ce=qt.call(pe)),pe&&(Ce==="[object ArrayBuffer]"||pe.buffer&&qt.call(pe.buffer)==="[object ArrayBuffer]")){var Be,He=ee;pe instanceof ArrayBuffer?(Be=pe,He+=Re):(Be=pe.buffer,Ce==="[object Int8Array]"?He+=Ae:Ce==="[object Uint8Array]"?He+=Se:Ce==="[object Uint8ClampedArray]"?He+=xe:Ce==="[object Int16Array]"?He+=ke:Ce==="[object Uint16Array]"?He+=Me:Ce==="[object Int32Array]"?He+=me:Ce==="[object Uint32Array]"?He+=ze:Ce==="[object Float32Array]"?He+=Xe:Ce==="[object Float64Array]"?He+=tt:Ne(new Error("Failed to get type for BinaryArray"))),Ne(He+_n(Be))}else if(Ce==="[object Blob]"){var je=new FileReader;je.onload=function(){var rt=ge+pe.type+"~"+_n(this.result);Ne(ee+Oe+rt)},je.readAsArrayBuffer(pe)}else try{Ne(JSON.stringify(pe))}catch(rt){console.error("Couldn't convert value into a JSON string: ",pe),Ne(null,rt)}}function dn(pe){if(pe.substring(0,fe)!==ee)return JSON.parse(pe);var Ne=pe.substring(gt),Ce=pe.substring(fe,gt),Be;if(Ce===Oe&&re.test(Ne)){var He=Ne.match(re);Be=He[1],Ne=Ne.substring(He[0].length)}var je=zt(Ne);switch(Ce){case Re:return je;case Oe:return c([je],{type:Be});case Ae:return new Int8Array(je);case Se:return new Uint8Array(je);case xe:return new Uint8ClampedArray(je);case ke:return new Int16Array(je);case Me:return new Uint16Array(je);case me:return new Int32Array(je);case ze:return new Uint32Array(je);case Xe:return new Float32Array(je);case tt:return new Float64Array(je);default:throw new Error("Unkown type: "+Ce)}}var Vn={serialize:$t,deserialize:dn,stringToBuffer:zt,bufferToString:_n};function Ln(pe,Ne,Ce,Be){pe.executeSql("CREATE TABLE IF NOT EXISTS "+Ne.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Ce,Be)}function Tr(pe){var Ne=this,Ce={db:null};if(pe)for(var Be in pe)Ce[Be]=typeof pe[Be]!="string"?pe[Be].toString():pe[Be];var He=new d(function(je,rt){try{Ce.db=openDatabase(Ce.name,String(Ce.version),Ce.description,Ce.size)}catch(ut){return rt(ut)}Ce.db.transaction(function(ut){Ln(ut,Ce,function(){Ne._dbInfo=Ce,je()},function(pt,ft){rt(ft)})},rt)});return Ce.serializer=Vn,He}function Xn(pe,Ne,Ce,Be,He,je){pe.executeSql(Ce,Be,He,function(rt,ut){ut.code===ut.SYNTAX_ERR?rt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Ne.storeName],function(pt,ft){ft.rows.length?je(pt,ut):Ln(pt,Ne,function(){pt.executeSql(Ce,Be,He,je)},je)},je):je(rt,ut)},je)}function mr(pe,Ne){var Ce=this;pe=m(pe);var Be=new d(function(He,je){Ce.ready().then(function(){var rt=Ce._dbInfo;rt.db.transaction(function(ut){Xn(ut,rt,"SELECT * FROM "+rt.storeName+" WHERE key = ? LIMIT 1",[pe],function(pt,ft){var _t=ft.rows.length?ft.rows.item(0).value:null;_t&&(_t=rt.serializer.deserialize(_t)),He(_t)},function(pt,ft){je(ft)})})}).catch(je)});return f(Be,Ne),Be}function En(pe,Ne){var Ce=this,Be=new d(function(He,je){Ce.ready().then(function(){var rt=Ce._dbInfo;rt.db.transaction(function(ut){Xn(ut,rt,"SELECT * FROM "+rt.storeName,[],function(pt,ft){for(var _t=ft.rows,jt=_t.length,Pn=0;Pn<jt;Pn++){var Xt=_t.item(Pn),Qn=Xt.value;if(Qn&&(Qn=rt.serializer.deserialize(Qn)),Qn=pe(Qn,Xt.key,Pn+1),Qn!==void 0){He(Qn);return}}He()},function(pt,ft){je(ft)})})}).catch(je)});return f(Be,Ne),Be}function nn(pe,Ne,Ce,Be){var He=this;pe=m(pe);var je=new d(function(rt,ut){He.ready().then(function(){Ne===void 0&&(Ne=null);var pt=Ne,ft=He._dbInfo;ft.serializer.serialize(Ne,function(_t,jt){jt?ut(jt):ft.db.transaction(function(Pn){Xn(Pn,ft,"INSERT OR REPLACE INTO "+ft.storeName+" (key, value) VALUES (?, ?)",[pe,_t],function(){rt(pt)},function(Xt,Qn){ut(Qn)})},function(Pn){if(Pn.code===Pn.QUOTA_ERR){if(Be>0){rt(nn.apply(He,[pe,pt,Ce,Be-1]));return}ut(Pn)}})})}).catch(ut)});return f(je,Ce),je}function rr(pe,Ne,Ce){return nn.apply(this,[pe,Ne,Ce,1])}function ii(pe,Ne){var Ce=this;pe=m(pe);var Be=new d(function(He,je){Ce.ready().then(function(){var rt=Ce._dbInfo;rt.db.transaction(function(ut){Xn(ut,rt,"DELETE FROM "+rt.storeName+" WHERE key = ?",[pe],function(){He()},function(pt,ft){je(ft)})})}).catch(je)});return f(Be,Ne),Be}function br(pe){var Ne=this,Ce=new d(function(Be,He){Ne.ready().then(function(){var je=Ne._dbInfo;je.db.transaction(function(rt){Xn(rt,je,"DELETE FROM "+je.storeName,[],function(){Be()},function(ut,pt){He(pt)})})}).catch(He)});return f(Ce,pe),Ce}function Sn(pe){var Ne=this,Ce=new d(function(Be,He){Ne.ready().then(function(){var je=Ne._dbInfo;je.db.transaction(function(rt){Xn(rt,je,"SELECT COUNT(key) as c FROM "+je.storeName,[],function(ut,pt){var ft=pt.rows.item(0).c;Be(ft)},function(ut,pt){He(pt)})})}).catch(He)});return f(Ce,pe),Ce}function ht(pe,Ne){var Ce=this,Be=new d(function(He,je){Ce.ready().then(function(){var rt=Ce._dbInfo;rt.db.transaction(function(ut){Xn(ut,rt,"SELECT key FROM "+rt.storeName+" WHERE id = ? LIMIT 1",[pe+1],function(pt,ft){var _t=ft.rows.length?ft.rows.item(0).key:null;He(_t)},function(pt,ft){je(ft)})})}).catch(je)});return f(Be,Ne),Be}function cr(pe){var Ne=this,Ce=new d(function(Be,He){Ne.ready().then(function(){var je=Ne._dbInfo;je.db.transaction(function(rt){Xn(rt,je,"SELECT key FROM "+je.storeName,[],function(ut,pt){for(var ft=[],_t=0;_t<pt.rows.length;_t++)ft.push(pt.rows.item(_t).key);Be(ft)},function(ut,pt){He(pt)})})}).catch(He)});return f(Ce,pe),Ce}function Ut(pe){return new d(function(Ne,Ce){pe.transaction(function(Be){Be.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(He,je){for(var rt=[],ut=0;ut<je.rows.length;ut++)rt.push(je.rows.item(ut).name);Ne({db:pe,storeNames:rt})},function(He,je){Ce(je)})},function(Be){Ce(Be)})})}function Zn(pe,Ne){Ne=p.apply(this,arguments);var Ce=this.config();pe=typeof pe!="function"&&pe||{},pe.name||(pe.name=pe.name||Ce.name,pe.storeName=pe.storeName||Ce.storeName);var Be=this,He;return pe.name?He=new d(function(je){var rt;pe.name===Ce.name?rt=Be._dbInfo.db:rt=openDatabase(pe.name,"","",0),pe.storeName?je({db:rt,storeNames:[pe.storeName]}):je(Ut(rt))}).then(function(je){return new d(function(rt,ut){je.db.transaction(function(pt){function ft(Xt){return new d(function(Qn,Wt){pt.executeSql("DROP TABLE IF EXISTS "+Xt,[],function(){Qn()},function(sr,Eo){Wt(Eo)})})}for(var _t=[],jt=0,Pn=je.storeNames.length;jt<Pn;jt++)_t.push(ft(je.storeNames[jt]));d.all(_t).then(function(){rt()}).catch(function(Xt){ut(Xt)})},function(pt){ut(pt)})})}):He=d.reject("Invalid arguments"),f(He,Ne),He}var sn={_driver:"webSQLStorage",_initStorage:Tr,_support:X(),iterate:En,getItem:mr,setItem:rr,removeItem:ii,clear:br,length:Sn,key:ht,keys:cr,dropInstance:Zn};function Yn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function wr(pe,Ne){var Ce=pe.name+"/";return pe.storeName!==Ne.storeName&&(Ce+=pe.storeName+"/"),Ce}function kr(){var pe="_localforage_support_test";try{return localStorage.setItem(pe,!0),localStorage.removeItem(pe),!1}catch{return!0}}function Ar(){return!kr()||localStorage.length>0}function Qo(pe){var Ne=this,Ce={};if(pe)for(var Be in pe)Ce[Be]=pe[Be];return Ce.keyPrefix=wr(pe,Ne._defaultConfig),Ar()?(Ne._dbInfo=Ce,Ce.serializer=Vn,d.resolve()):d.reject()}function fa(pe){var Ne=this,Ce=Ne.ready().then(function(){for(var Be=Ne._dbInfo.keyPrefix,He=localStorage.length-1;He>=0;He--){var je=localStorage.key(He);je.indexOf(Be)===0&&localStorage.removeItem(je)}});return f(Ce,pe),Ce}function du(pe,Ne){var Ce=this;pe=m(pe);var Be=Ce.ready().then(function(){var He=Ce._dbInfo,je=localStorage.getItem(He.keyPrefix+pe);return je&&(je=He.serializer.deserialize(je)),je});return f(Be,Ne),Be}function Ju(pe,Ne){var Ce=this,Be=Ce.ready().then(function(){for(var He=Ce._dbInfo,je=He.keyPrefix,rt=je.length,ut=localStorage.length,pt=1,ft=0;ft<ut;ft++){var _t=localStorage.key(ft);if(_t.indexOf(je)===0){var jt=localStorage.getItem(_t);if(jt&&(jt=He.serializer.deserialize(jt)),jt=pe(jt,_t.substring(rt),pt++),jt!==void 0)return jt}}});return f(Be,Ne),Be}function Fn(pe,Ne){var Ce=this,Be=Ce.ready().then(function(){var He=Ce._dbInfo,je;try{je=localStorage.key(pe)}catch{je=null}return je&&(je=je.substring(He.keyPrefix.length)),je});return f(Be,Ne),Be}function Ni(pe){var Ne=this,Ce=Ne.ready().then(function(){for(var Be=Ne._dbInfo,He=localStorage.length,je=[],rt=0;rt<He;rt++){var ut=localStorage.key(rt);ut.indexOf(Be.keyPrefix)===0&&je.push(ut.substring(Be.keyPrefix.length))}return je});return f(Ce,pe),Ce}function Jo(pe){var Ne=this,Ce=Ne.keys().then(function(Be){return Be.length});return f(Ce,pe),Ce}function Tf(pe,Ne){var Ce=this;pe=m(pe);var Be=Ce.ready().then(function(){var He=Ce._dbInfo;localStorage.removeItem(He.keyPrefix+pe)});return f(Be,Ne),Be}function Zc(pe,Ne,Ce){var Be=this;pe=m(pe);var He=Be.ready().then(function(){Ne===void 0&&(Ne=null);var je=Ne;return new d(function(rt,ut){var pt=Be._dbInfo;pt.serializer.serialize(Ne,function(ft,_t){if(_t)ut(_t);else try{localStorage.setItem(pt.keyPrefix+pe,ft),rt(je)}catch(jt){(jt.name==="QuotaExceededError"||jt.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ut(jt),ut(jt)}})})});return f(He,Ce),He}function Zu(pe,Ne){if(Ne=p.apply(this,arguments),pe=typeof pe!="function"&&pe||{},!pe.name){var Ce=this.config();pe.name=pe.name||Ce.name,pe.storeName=pe.storeName||Ce.storeName}var Be=this,He;return pe.name?He=new d(function(je){pe.storeName?je(wr(pe,Be._defaultConfig)):je(pe.name+"/")}).then(function(je){for(var rt=localStorage.length-1;rt>=0;rt--){var ut=localStorage.key(rt);ut.indexOf(je)===0&&localStorage.removeItem(ut)}}):He=d.reject("Invalid arguments"),f(He,Ne),He}var ec={_driver:"localStorageWrapper",_initStorage:Qo,_support:Yn(),iterate:Ju,getItem:du,setItem:Zc,removeItem:Tf,clear:fa,length:Jo,key:Fn,keys:Ni,dropInstance:Zu},Zo=function(Ne,Ce){return Ne===Ce||typeof Ne=="number"&&typeof Ce=="number"&&isNaN(Ne)&&isNaN(Ce)},kf=function(Ne,Ce){for(var Be=Ne.length,He=0;He<Be;){if(Zo(Ne[He],Ce))return!0;He++}return!1},fu=Array.isArray||function(pe){return Object.prototype.toString.call(pe)==="[object Array]"},dr={},ed={},wo={INDEXEDDB:we,WEBSQL:sn,LOCALSTORAGE:ec},hs=[wo.INDEXEDDB._driver,wo.WEBSQL._driver,wo.LOCALSTORAGE._driver],xo=["dropInstance"],hu=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(xo),js={description:"",driver:hs.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Al(pe,Ne){pe[Ne]=function(){var Ce=arguments;return pe.ready().then(function(){return pe[Ne].apply(pe,Ce)})}}function Co(){for(var pe=1;pe<arguments.length;pe++){var Ne=arguments[pe];if(Ne)for(var Ce in Ne)Ne.hasOwnProperty(Ce)&&(fu(Ne[Ce])?arguments[0][Ce]=Ne[Ce].slice():arguments[0][Ce]=Ne[Ce])}return arguments[0]}var Af=(function(){function pe(Ne){s(this,pe);for(var Ce in wo)if(wo.hasOwnProperty(Ce)){var Be=wo[Ce],He=Be._driver;this[Ce]=He,dr[He]||this.defineDriver(Be)}this._defaultConfig=Co({},js),this._config=Co({},this._defaultConfig,Ne),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return pe.prototype.config=function(Ce){if((typeof Ce>"u"?"undefined":o(Ce))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Be in Ce){if(Be==="storeName"&&(Ce[Be]=Ce[Be].replace(/\W/g,"_")),Be==="version"&&typeof Ce[Be]!="number")return new Error("Database version must be a number.");this._config[Be]=Ce[Be]}return"driver"in Ce&&Ce.driver?this.setDriver(this._config.driver):!0}else return typeof Ce=="string"?this._config[Ce]:this._config},pe.prototype.defineDriver=function(Ce,Be,He){var je=new d(function(rt,ut){try{var pt=Ce._driver,ft=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Ce._driver){ut(ft);return}for(var _t=hu.concat("_initStorage"),jt=0,Pn=_t.length;jt<Pn;jt++){var Xt=_t[jt],Qn=!kf(xo,Xt);if((Qn||Ce[Xt])&&typeof Ce[Xt]!="function"){ut(ft);return}}var Wt=function(){for(var ha=function(es){return function(){var Mi=new Error("Method "+es+" is not implemented by the current driver"),Si=d.reject(Mi);return f(Si,arguments[arguments.length-1]),Si}},So=0,Rf=xo.length;So<Rf;So++){var tc=xo[So];Ce[tc]||(Ce[tc]=ha(tc))}};Wt();var sr=function(ha){dr[pt]&&console.info("Redefining LocalForage driver: "+pt),dr[pt]=Ce,ed[pt]=ha,rt()};"_support"in Ce?Ce._support&&typeof Ce._support=="function"?Ce._support().then(sr,ut):sr(!!Ce._support):sr(!0)}catch(Eo){ut(Eo)}});return h(je,Be,He),je},pe.prototype.driver=function(){return this._driver||null},pe.prototype.getDriver=function(Ce,Be,He){var je=dr[Ce]?d.resolve(dr[Ce]):d.reject(new Error("Driver not found."));return h(je,Be,He),je},pe.prototype.getSerializer=function(Ce){var Be=d.resolve(Vn);return h(Be,Ce),Be},pe.prototype.ready=function(Ce){var Be=this,He=Be._driverSet.then(function(){return Be._ready===null&&(Be._ready=Be._initDriver()),Be._ready});return h(He,Ce,Ce),He},pe.prototype.setDriver=function(Ce,Be,He){var je=this;fu(Ce)||(Ce=[Ce]);var rt=this._getSupportedDrivers(Ce);function ut(){je._config.driver=je.driver()}function pt(jt){return je._extend(jt),ut(),je._ready=je._initStorage(je._config),je._ready}function ft(jt){return function(){var Pn=0;function Xt(){for(;Pn<jt.length;){var Qn=jt[Pn];return Pn++,je._dbInfo=null,je._ready=null,je.getDriver(Qn).then(pt).catch(Xt)}ut();var Wt=new Error("No available storage method found.");return je._driverSet=d.reject(Wt),je._driverSet}return Xt()}}var _t=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=_t.then(function(){var jt=rt[0];return je._dbInfo=null,je._ready=null,je.getDriver(jt).then(function(Pn){je._driver=Pn._driver,ut(),je._wrapLibraryMethodsWithReady(),je._initDriver=ft(rt)})}).catch(function(){ut();var jt=new Error("No available storage method found.");return je._driverSet=d.reject(jt),je._driverSet}),h(this._driverSet,Be,He),this._driverSet},pe.prototype.supports=function(Ce){return!!ed[Ce]},pe.prototype._extend=function(Ce){Co(this,Ce)},pe.prototype._getSupportedDrivers=function(Ce){for(var Be=[],He=0,je=Ce.length;He<je;He++){var rt=Ce[He];this.supports(rt)&&Be.push(rt)}return Be},pe.prototype._wrapLibraryMethodsWithReady=function(){for(var Ce=0,Be=hu.length;Ce<Be;Ce++)Al(this,hu[Ce])},pe.prototype.createInstance=function(Ce){return new pe(Ce)},pe})(),_o=new Af;r.exports=_o},{3:3}]},{},[4])(4)})})(JB)),JB.exports}var hZt=fZt();const pZt=Xo(hZt);var ZB,C0e;function mZt(){if(C0e)return ZB;C0e=1;var e="Expected a function",t=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,l=typeof xi=="object"&&xi&&xi.Object===Object&&xi,u=typeof self=="object"&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),d=Object.prototype,f=d.toString,h=Math.max,m=Math.min,p=function(){return c.Date.now()};function g(S,T,k){var R,I,P,N,M,O,j=0,U=!1,q=!1,W=!0;if(typeof S!="function")throw new TypeError(e);T=E(T)||0,y(k)&&(U=!!k.leading,q="maxWait"in k,P=q?h(E(k.maxWait)||0,T):P,W="trailing"in k?!!k.trailing:W);function V(le){var ue=R,ae=I;return R=I=void 0,j=le,N=S.apply(ae,ue),N}function z(le){return j=le,M=setTimeout(B,T),U?V(le):N}function L(le){var ue=le-O,ae=le-j,te=T-ue;return q?m(te,P-ae):te}function H(le){var ue=le-O,ae=le-j;return O===void 0||ue>=T||ue<0||q&&ae>=P}function B(){var le=p();if(H(le))return Y(le);M=setTimeout(B,L(le))}function Y(le){return M=void 0,W&&R?V(le):(R=I=void 0,N)}function Q(){M!==void 0&&clearTimeout(M),j=0,R=O=I=M=void 0}function ne(){return M===void 0?N:Y(p())}function ce(){var le=p(),ue=H(le);if(R=arguments,I=this,O=le,ue){if(M===void 0)return z(O);if(q)return M=setTimeout(B,T),V(O)}return M===void 0&&(M=setTimeout(B,T)),N}return ce.cancel=Q,ce.flush=ne,ce}function v(S,T,k){var R=!0,I=!0;if(typeof S!="function")throw new TypeError(e);return y(k)&&(R="leading"in k?!!k.leading:R,I="trailing"in k?!!k.trailing:I),g(S,T,{leading:R,maxWait:T,trailing:I})}function y(S){var T=typeof S;return!!S&&(T=="object"||T=="function")}function w(S){return!!S&&typeof S=="object"}function _(S){return typeof S=="symbol"||w(S)&&f.call(S)==n}function E(S){if(typeof S=="number")return S;if(_(S))return t;if(y(S)){var T=typeof S.valueOf=="function"?S.valueOf():S;S=y(T)?T+"":T}if(typeof S!="string")return S===0?S:+S;S=S.replace(r,"");var k=o.test(S);return k||s.test(S)?a(S.slice(2),k?2:8):i.test(S)?t:+S}return ZB=v,ZB}var gZt=mZt();const _0e=Xo(gZt);function yZt(e){const t={...e};return"studyNavigatorEnabled"in e&&!("developmentModeEnabled"in e)&&(t.developmentModeEnabled=e.studyNavigatorEnabled,delete t.studyNavigatorEnabled),"analyticsInterfacePubliclyAccessible"in e&&!("dataSharingEnabled"in e)&&(t.dataSharingEnabled=e.analyticsInterfacePubliclyAccessible,delete t.analyticsInterfacePubliclyAccessible),t}const tw="#F05A30";class vZt{engine;testing;cloudEngine=!1;connected=!1;collectionPrefix="prod-";studyId;currentParticipantId;participantData;uploadingAssetIds=[];constructor(t,n){this.engine=t,this.testing=n}isConnected(){return this.connected}getEngine(){return this.engine}isCloudEngine(){return this.cloudEngine}__throttleVerifyStudyDatabase=_0e(()=>new Promise((t,n)=>{this._verifyStudyDatabase().then(()=>{t()}).catch(r=>{this.connected=!1,console.error("Error verifying study database:",r),n(r)})}),1e4);__throttleSaveAnswers=_0e(async()=>{await this._saveAnswers()},3e3);async verifyStudyDatabase(){return await this.__throttleVerifyStudyDatabase()}async getStageData(t){const n=await this.getModes(t);if(n&&n.stage)return n.stage;const r={currentStage:{stageName:"DEFAULT",color:tw},allStages:[{stageName:"DEFAULT",color:tw}]};return await this.setCurrentStage(t,"DEFAULT",tw),r}async getConditionData(t){const n=await this.getAllSequenceAssignments(t),r={};return n.forEach(i=>{const o=Mu(i.conditions);(o.length>0?o:["default"]).forEach(a=>{r[a]=(r[a]||0)+1})}),{allConditions:Object.keys(r).sort(),conditionCounts:r}}async setCurrentStage(t,n,r=tw){const i=await this.getModes(t);i.stage||(i.stage={currentStage:{stageName:"DEFAULT",color:tw},allStages:[{stageName:"DEFAULT",color:tw}]}),i.stage.allStages.findIndex(a=>a.stageName===n)===-1&&i.stage.allStages.push({stageName:n,color:r}),i.stage.currentStage={stageName:n,color:r};const s={...i,stage:i.stage};await this._setModesDocument(t,s)}async updateStageColor(t,n,r){const i=await this.getModes(t);if(!i.stage)throw new Error("Stage data not initialized");const o=i.stage.allStages.map(u=>u.stageName===n?{...u,color:r}:u),a={currentStage:i.stage.currentStage.stageName===n?{...i.stage.currentStage,color:r}:i.stage.currentStage,allStages:o},l={...i,stage:a};await this._setModesDocument(t,l)}async saveConfig(t){const n=await this._getCurrentConfigHash(),r=await lz(JSON.stringify(t));if(await this._pushToStorage(`configs/${r}`,"config",t),await this._cacheStorageObject(`configs/${r}`,"config"),n&&n!==r)try{await this._deleteFromStorage("","sequenceArray")}catch{}await this._setCurrentConfigHash(r)}async getAllConfigsFromHash(t,n){const r=t.map(async o=>[o,await this._getFromStorage(`configs/${o}`,"config",n)]),i=await Promise.all(r);return Object.fromEntries(i)}async getCurrentParticipantId(t){if(t)return this.currentParticipantId=t,t;if(this.currentParticipantId)return this.currentParticipantId;if(!this.studyId)throw new Error("Study ID is not set");const n=`${this.collectionPrefix}${this.studyId}/currentParticipantId`,r=await this.participantStore.getItem(n);return r?(this.currentParticipantId=r,r):(this.currentParticipantId=oee(),await this.participantStore.setItem(n,this.currentParticipantId),this.currentParticipantId)}async clearCurrentParticipantId(){if(this.currentParticipantId=void 0,!this.studyId)throw new Error("Study ID is not set");const t=`${this.collectionPrefix}${this.studyId}/currentParticipantId`;await this.participantStore.removeItem(t)}async _getSequence(t){if(!this.currentParticipantId)throw new Error("Participant not initialized");if(this.studyId===void 0)throw new Error("Study ID is not set");let n=await this.getAllSequenceAssignments(this.studyId);const r=await this.getModes(this.studyId),o=(await this.getStageData(this.studyId)).currentStage.stageName,s=n.filter(f=>f.rejected&&!f.claimed);if(s.length>0){const f=s[0],h=f.timestamp;if(r.dataCollectionEnabled){const m={participantId:this.currentParticipantId,timestamp:h,rejected:!1,claimed:!1,completed:null,createdTime:new Date().getTime(),total:0,answered:[],isDynamic:!1,stage:o,...t?{conditions:t}:{}};await this._claimSequenceAssignment(f.participantId,f),await this._createSequenceAssignment(this.currentParticipantId,m,!1)}}else if(r.dataCollectionEnabled){const f=new Date().getTime(),h={participantId:this.currentParticipantId,timestamp:f,rejected:!1,claimed:!1,completed:null,createdTime:f,total:0,answered:[],isDynamic:!1,stage:o,...t?{conditions:t}:{}};await this._createSequenceAssignment(this.currentParticipantId,h,!0)}n=await this.getAllSequenceAssignments(this.studyId);const a=await this.getSequenceArray();if(!a)throw new Error("Latin square not initialized");const l=n.filter(f=>!f.rejected).findIndex(f=>f.participantId===this.currentParticipantId)%a.length;if(a.length===0)throw new Error("Something really bad happened with sequence assignment");if(l===-1)return{currentRow:a[Math.floor(Math.random()*a.length)],creationIndex:1};const u=a[l];if(!u)throw new Error("Latin square is empty");const d=n.sort((f,h)=>f.createdTime-h.createdTime).findIndex(f=>f.participantId===this.currentParticipantId)+1;return{currentRow:u,creationIndex:d}}async initializeParticipantSession(t,n,r,i){if(await this.verifyStudyDatabase(),await this.getCurrentParticipantId(i),!this.currentParticipantId)throw new Error("Participant not initialized");const o=await this._getFromStorage(`participants/${this.currentParticipantId}`,"participantData");if(this.studyId===void 0)throw new Error("Study ID is not set");const s=await this.getModes(this.studyId),l=(await this.getStageData(this.studyId)).currentStage.stageName;if(M_(o))return this.participantData=o,o;const u=await lz(JSON.stringify(n)),c=Mu(t.condition),d=c.length>0?c:void 0,{currentRow:f,creationIndex:h}=await this._getSequence(d);return this.participantData={participantId:this.currentParticipantId,participantConfigHash:u,sequence:f,participantIndex:h,answers:{},searchParams:t,conditions:d,metadata:r,completed:!1,rejected:!1,participantTags:[],stage:l,createdTime:Date.now()},s.dataCollectionEnabled&&await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData),this.participantData}async getAllParticipantIds(t){const n=this.studyId||t;if(n===void 0)throw new Error("Study ID is not set");return(await this.getAllSequenceAssignments(n)).map(i=>i.participantId)}async saveTags(t,n){await this._pushToStorage(`audio/transcriptAndTags/${n}`,"tags",t)}async getTags(t){return await this._getFromStorage(`audio/transcriptAndTags/${t}`,"tags")}async getAllParticipantAndTaskTags(t,n){const r=await this._getFromStorage(`audio/transcriptAndTags/${t}/${n}`,"participantTags");return r?.participantTags?r:(this.saveAllParticipantAndTaskTags(t,n,{participantTags:[],taskTags:{}}),{participantTags:[],taskTags:{}})}async saveAllParticipantAndTaskTags(t,n,r){return this._pushToStorage(`audio/transcriptAndTags/${t}/${n}`,"participantTags",r)}async getParticipantData(t){if(await this.verifyStudyDatabase(),this.currentParticipantId===null&&!t)throw new Error("Participant not initialized");const n=await this._getFromStorage(`participants/${t||this.currentParticipantId}`,"participantData");return M_(n)?n:null}async getParticipantTags(){await this.verifyStudyDatabase();const t=await this.getParticipantData();if(!t)throw new Error("Participant not initialized");return t.participantTags}async addParticipantTags(t){if(await this.verifyStudyDatabase(),!this.participantData)throw new Error("Participant data not initialized");this.participantData.participantTags=[...new Set([...this.participantData.participantTags,...t])],await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData)}async removeParticipantTags(t){if(await this.verifyStudyDatabase(),!this.participantData)throw new Error("Participant data not initialized");this.participantData.participantTags=this.participantData.participantTags.filter(n=>!t.includes(n)),await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData)}async updateParticipantSearchParams(t){if(await this.verifyStudyDatabase(),!this.participantData)throw new Error("Participant data not initialized");this.participantData.searchParams=t,await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData)}async updateStudyCondition(t){if(await this.verifyStudyDatabase(),this.studyId===void 0)throw new Error("Study ID is not set");if(!(await this.getModes(this.studyId)).developmentModeEnabled)throw new Error("Cannot update study condition when development mode is disabled");if(!this.participantData)throw new Error("Participant data not initialized");const r=Mu(t);if(this.participantData.conditions=r.length>0?r:void 0,await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData),!this.currentParticipantId)throw new Error("Participant not initialized");await this._updateSequenceAssignmentFields(this.currentParticipantId,{conditions:this.participantData.conditions})}async rejectParticipant(t,n){const r=await this._getFromStorage(`participants/${t}`,"participantData");try{if(!r||!M_(r)||r.rejected)return;r.rejected={reason:n,timestamp:new Date().getTime()},await this._pushToStorage(`participants/${t}`,"participantData",r),await this._rejectParticipantRealtime(t)}catch(i){console.warn("Error rejecting participant:",i)}}async rejectCurrentParticipant(t){if(!this.currentParticipantId)throw new Error("Participant not initialized");return await this.rejectParticipant(this.currentParticipantId,t)}async undoRejectParticipant(t){const n=await this._getFromStorage(`participants/${t}`,"participantData");try{if(!n||!M_(n))return;n.rejected=!1,await this._pushToStorage(`participants/${t}`,"participantData",n),await this._undoRejectParticipantRealtime(t)}catch(r){console.warn("Error undoing participant rejection:",r)}}async undoRejectCurrentParticipant(){if(!this.currentParticipantId)throw new Error("Participant not initialized");return await this.undoRejectParticipant(this.currentParticipantId)}async getAllParticipantsData(t){const n=await this.getAllParticipantIds(t),r=[],i=n.map(async o=>{const s=await this._getFromStorage(`participants/${o}`,"participantData",t);M_(s)&&r.push(s)});return await Promise.all(i),r}async getParticipantsStatusCounts(t){const n=await this.getAllSequenceAssignments(t),r=n.filter(l=>l.completed&&!l.rejected).length,i=n.filter(l=>l.rejected).length,o=n.length-r-i,s=n.length>0?n[0].timestamp:null,a=n.length>0?n.at(-1).timestamp:null;return{completed:r,rejected:i,inProgress:o,minTime:s,maxTime:a}}async _saveAnswers(){if(await this.verifyStudyDatabase(),!this.currentParticipantId||this.participantData===void 0)throw new Error("Participant not initialized");await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData)}async saveAnswers(t){if(!this.currentParticipantId||this.participantData===void 0)throw new Error("Participant not initialized");this.participantData.rejected||(this.participantData={...this.participantData,answers:t},await this.__throttleSaveAnswers(t))}async updateProgressData(t,n){if(!this.studyId)throw new Error("Study ID is not set");if(this.getEngine()!=="firebase")return;const r=n||this.currentParticipantId;if(!r)throw new Error("Participant not initialized");const o=(await this.getAllSequenceAssignments(this.studyId)).find(s=>s.participantId===r);if(o){const s={...o,total:o.total??t.total,answered:o.answered??t.answered,isDynamic:o.isDynamic??t.isDynamic};s.total=t.total,s.answered=t.answered,s.isDynamic=t.isDynamic,await this._createSequenceAssignment(r,s,!1)}}async verifyCompletion(){if(await this.verifyStudyDatabase(),!this.studyId)throw new Error("Study not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const t=await this.getParticipantData();if(!t)throw new Error("Participant not initialized");if(this.uploadingAssetIds.length>0)return!1;if(t.completed)return!0;const r=await this.getModes(this.studyId),i=Object.values(t.answers).map(s=>s.endTime).reduce((s,a)=>Math.max(s,a),0),o=Object.values(this.participantData?.answers||{}).map(s=>s.endTime).reduce((s,a)=>Math.max(s,a),0);return this.participantData&&i===o?(this.participantData.completed=!0,r.dataCollectionEnabled&&(await this._completeCurrentParticipantRealtime(),await this._pushToStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData),await this._cacheStorageObject(`participants/${this.currentParticipantId}`,"participantData")),!0):!1}async getAsset(t){return t?new Promise(r=>{const i=new XMLHttpRequest;i.responseType="blob",i.onload=()=>{const o=i.response,s=URL.createObjectURL(o);r(s)},i.open("GET",t),i.send()}):null}async getAudio(t,n){const r=await this._getAudioUrl(t,n);return await this.getAsset(r)}async getAudioUrl(t,n){const r=await this._getAudioUrl(t,n);return r||null}async getTranscriptUrl(t,n){if(!this._getTranscriptUrl)return null;const r=await this._getTranscriptUrl(t,n);return r||null}async saveAsset(t,n,r){const i=`${t}/${r}`,o=`${t}/${this.currentParticipantId}`;this.uploadingAssetIds.push(i),await this._pushToStorage(o,r,n),await this._cacheStorageObject(o,r),this.uploadingAssetIds=this.uploadingAssetIds.filter(s=>s!==i)}async saveAudioRecording(t,n){if(this.studyId===void 0)throw new Error("Study ID is not set");if(!(await this.getModes(this.studyId)).dataCollectionEnabled)throw new Error("Data collection is disabled for this study");return this.saveAsset("audio",t,n)}async getScreenRecording(t,n){const r=await this._getScreenRecordingUrl(t,n);return this.getAsset(r)}async saveScreenRecording(t,n){if(this.studyId===void 0)throw new Error("Study ID is not set");if(!(await this.getModes(this.studyId)).dataCollectionEnabled)throw new Error("Data collection is disabled for this study");return this.saveAsset("screenRecording",t,n)}async getSequenceArray(){await this.verifyStudyDatabase();const t=await this._getFromStorage("","sequenceArray");return Array.isArray(t)?t:null}async setSequenceArray(t){await this.verifyStudyDatabase(),await this._pushToStorage("","sequenceArray",t)}async __testingReset(){this.participantData=void 0,this.studyId?await this.clearCurrentParticipantId():this.currentParticipantId=void 0}async createSnapshot(t,n){const r=`${this.collectionPrefix}${t}`;if(!await this._directoryExists(`${r}/participants`))return console.warn(`Source directory ${r} does not exist.`),{status:"FAILED",error:{message:"There is currently no data in your study. A snapshot could not be created.",title:"Failed to Create Snapshot."}};const i=new Date,o=i.getUTCFullYear(),s=(i.getUTCMonth()+1).toString().padStart(2,"0"),a=i.getUTCDate().toString().padStart(2,"0"),l=i.getUTCHours().toString().padStart(2,"0"),u=i.getUTCMinutes().toString().padStart(2,"0"),c=i.getUTCSeconds().toString().padStart(2,"0"),d=`${o}-${s}-${a}T${l}:${u}:${c}`,f=`${this.collectionPrefix}${t}-snapshot-${d}`;this.getEngine()==="localStorage"?await this._copyDirectory(`${r}/`,`${f}/`):(await this._copyDirectory(`${r}/configs`,`${f}/configs`),await this._copyDirectory(`${r}/participants`,`${f}/participants`),await this._copyDirectory(`${r}/audio`,`${f}/audio`),await this._copyDirectory(`${r}/screenRecording`,`${f}/screenRecording`),await this._copyDirectory(r,f),await this._copyRealtimeData(r,f)),await this._addDirectoryNameToSnapshots(f,t);const h=[];if(n){const m=await this.removeSnapshotOrLive(r,t);m.status==="FAILED"?h.push({title:m.error.title,message:m.error.message,color:"red"}):h.push({title:"Success!",message:"Successfully deleted live data.",color:"green"})}return h.push({message:"Successfully created snapshot",title:"Success!",color:"green"}),{status:"SUCCESS",notifications:h}}async removeSnapshotOrLive(t,n){const r=t.startsWith(this.collectionPrefix)?t:`${this.collectionPrefix}${t}`;try{return this.getEngine()==="localStorage"?await this._deleteDirectory(`${r}/`):(await this._deleteDirectory(`${r}/configs`),await this._deleteDirectory(`${r}/participants`),await this._deleteDirectory(`${r}/audio`),await this._deleteDirectory(`${r}/screenRecording`),await this._deleteDirectory(r),await this._deleteRealtimeData(r)),await this._removeDirectoryNameFromSnapshots(r,n),{status:"SUCCESS",notifications:[{message:"Successfully deleted snapshot or live data.",title:"Success!",color:"green"}]}}catch{return{status:"FAILED",error:{title:"Failed to delete live data or snapshot",message:"There was an unspecified error when trying to remove a snapshot or live data."}}}}async restoreSnapshot(t,n){const r=`${this.collectionPrefix}${t}`,i=[];try{const o=await this.createSnapshot(t,!0);return o.status==="FAILED"?(console.warn("No live data to capture."),i.push({title:o.error.title,message:o.error.message,color:"yellow"})):i.push({title:"Success!",message:"Successfully created snapshot of live data.",color:"green"}),await this._copyDirectory(`${n}/configs`,`${r}/configs`),await this._copyDirectory(`${n}/participants`,`${r}/participants`),await this._copyDirectory(`${n}/audio`,`${r}/audio`),await this._copyDirectory(`${n}/screenRecording`,`${r}/screenRecording`),await this._copyDirectory(n,r),await this._copyRealtimeData(n,r),i.push({message:"Successfully restored snapshot to live data.",title:"Success!",color:"green"}),{status:"SUCCESS",notifications:i}}catch(o){return console.error("Error trying to delete a snapshot",o),{status:"FAILED",error:{title:"Failed to restore a snapshot fully.",message:"There was an unspecified error when trying to restore this snapshot."}}}}async renameSnapshot(t,n,r){try{return await this._changeDirectoryNameInSnapshots(t,n,r),{status:"SUCCESS",notifications:[{message:"Successfully renamed snapshot.",title:"Success!",color:"green"}]}}catch(i){return console.error("Error renaming collection in metadata",i),{status:"FAILED",error:{title:"Failed to Rename Snapshot.",message:"There was an error when trying to rename the snapshot."}}}}}class bZt extends vZt{studyDatabase=pZt.createInstance({name:"revisit"});participantStore=this.studyDatabase;constructor(t=!1){super("localStorage",t)}async _getFromStorage(t,n,r){const i=`${this.collectionPrefix}${r||this.studyId}/${t}_${n}`;return await this.studyDatabase.getItem(i)}async _pushToStorage(t,n,r){await this.verifyStudyDatabase();const i=`${this.collectionPrefix}${this.studyId}/${t}_${n}`;await this.studyDatabase.setItem(i,r)}async _deleteFromStorage(t,n){await this.verifyStudyDatabase();const r=`${this.collectionPrefix}${this.studyId}/${t}_${n}`;await this.studyDatabase.removeItem(r)}async _cacheStorageObject(){}async _verifyStudyDatabase(){if(!this.studyDatabase||!this.studyId)throw new Error("Study database not initialized")}async _getCurrentConfigHash(){await this.verifyStudyDatabase();const t=`${this.collectionPrefix}${this.studyId}/configHash`;return await this.studyDatabase.getItem(t)||null}async _setCurrentConfigHash(t){await this.verifyStudyDatabase();const n=`${this.collectionPrefix}${this.studyId}/configHash`;await this.studyDatabase.setItem(n,t)}async getAllSequenceAssignments(t){const n=`${this.collectionPrefix}${t}/sequenceAssignment`,r=await this.studyDatabase.getItem(n);return r?Object.values(r).sort((i,o)=>i.timestamp-o.timestamp):[]}async _createSequenceAssignment(t,n){if(await this.verifyStudyDatabase(),this.studyId===void 0)throw new Error("Study ID is not set");const r=`${this.collectionPrefix}${this.studyId}/sequenceAssignment`,i=await this.studyDatabase.getItem(r)||{};i[t]=n,await this.studyDatabase.setItem(r,i)}async _updateSequenceAssignmentFields(t,n){if(await this.verifyStudyDatabase(),this.studyId===void 0)throw new Error("Study ID is not set");const r=`${this.collectionPrefix}${this.studyId}/sequenceAssignment`,i=await this.studyDatabase.getItem(r)||{},o=i[t];if(!o)throw new Error(`Sequence assignment for participant ${t} not found`);const s={...o,...n};Object.hasOwn(n,"conditions")&&n.conditions===void 0&&delete s.conditions,i[t]=s,await this.studyDatabase.setItem(r,i)}async _completeCurrentParticipantRealtime(){if(!this.currentParticipantId)throw new Error("Participant not initialized");if(this.studyId===void 0)throw new Error("Study ID is not set");const t=`${this.collectionPrefix}${this.studyId}/sequenceAssignment`,n=await this.studyDatabase.getItem(t)||{};if(n[this.currentParticipantId])n[this.currentParticipantId]={...n[this.currentParticipantId],completed:new Date().getTime()};else throw new Error("Participant sequence assignment not found");await this.studyDatabase.setItem(t,n)}async _rejectParticipantRealtime(t){await this.verifyStudyDatabase();const n=`${this.collectionPrefix}${this.studyId}/sequenceAssignment`,r=await this.studyDatabase.getItem(n)||{},i=r[t],o=Object.values(r).find(s=>s.claimed&&s.timestamp===i.timestamp);if(i&&o){o.claimed=!1,o.rejected=!0,await this.studyDatabase.setItem(n,r),r[t]={...i,timestamp:new Date().getTime(),rejected:!0},await this.studyDatabase.setItem(n,r);return}i&&(i.rejected=!0,await this.studyDatabase.setItem(n,r))}async _undoRejectParticipantRealtime(t){await this.verifyStudyDatabase();const n=`${this.collectionPrefix}${this.studyId}/sequenceAssignment`,r=await this.studyDatabase.getItem(n)||{},i=r[t];i&&(i.rejected=!1,await this.studyDatabase.setItem(n,r))}async _claimSequenceAssignment(t,n){await this.verifyStudyDatabase();const r=`${this.collectionPrefix}${this.studyId}/sequenceAssignment`,i=await this.studyDatabase.getItem(r)||{};if(i[t])i[t]={...n,claimed:!0},await this.studyDatabase.setItem(r,i);else throw new Error(`Sequence assignment for participant ${t} not found`)}async initializeStudyDb(t){this.studyId=t}async connect(){this.connected=!0}async getModes(t){const n=`${this.collectionPrefix}${t}/modes`,r=await this.studyDatabase.getItem(n);if(r){const o=yZt(r);return await this.studyDatabase.setItem(n,o),o}const i={dataCollectionEnabled:!0,developmentModeEnabled:!0,dataSharingEnabled:!0};return await this.studyDatabase.setItem(n,i),i}async setMode(t,n,r){const i=`${this.collectionPrefix}${t}/modes`,o=await this.studyDatabase.getItem(i);if(!o)throw new Error("Modes not initialized");o[n]=r,await this.studyDatabase.setItem(i,o)}async _setModesDocument(t,n){const r=`${this.collectionPrefix}${t}/modes`;await this.studyDatabase.setItem(r,n)}async _getAudioUrl(t,n){if(await this.verifyStudyDatabase(),this.studyId===void 0)throw new Error("Study ID is not set");const r=await this._getFromStorage(`audio/${n||this.currentParticipantId}`,t);if(!r)throw new Error(`Audio for task ${t} and participant ${n||this.currentParticipantId} not found`);return URL.createObjectURL(r)}async _getScreenRecordingUrl(t,n){if(await this.verifyStudyDatabase(),this.studyId===void 0)throw new Error("Study ID is not set");const r=await this._getFromStorage(`screenRecording/${n||this.currentParticipantId}`,t);if(!r)throw new Error(`ScreenRecording for task ${t} and participant ${n||this.currentParticipantId} not found`);return URL.createObjectURL(r)}async _testingReset(t){if(!t)throw new Error("Study ID is required for reset");const r=(await this.studyDatabase.keys()).filter(i=>i.startsWith(`${this.collectionPrefix}${t}/`));await Promise.all(r.map(i=>this.studyDatabase.removeItem(i))),await super.__testingReset()}async getSnapshots(t){const n=`${this.collectionPrefix}${t}/snapshots`;return await this.studyDatabase.getItem(n)||{}}async _directoryExists(t){return(await this.studyDatabase.keys()).some(r=>r.startsWith(t))}async _copyDirectory(t,n){const o=(await this.studyDatabase.keys()).filter(s=>s.startsWith(t)).map(async s=>{if(s.endsWith("/snapshots")||s.endsWith("modes")||s.endsWith("configHash")||s.endsWith("currentParticipantId"))return;const a=await this.studyDatabase.getItem(s),l=s.replace(t,n);await this.studyDatabase.setItem(l,a)});await Promise.all(o)}async _deleteDirectory(t){const i=(await this.studyDatabase.keys()).filter(o=>o.startsWith(t)&&!o.includes("snapshots")).map(o=>this.studyDatabase.removeItem(o));await Promise.all(i)}async _copyRealtimeData(t,n){await this._copyDirectory(t,n)}async _deleteRealtimeData(t){await this._deleteDirectory(t)}async _addDirectoryNameToSnapshots(t,n){await this.verifyStudyDatabase();const r=`${this.collectionPrefix}${n}/snapshots`,i=await this.studyDatabase.getItem(r)||{};i[t]||(i[t]={name:t},await this.studyDatabase.setItem(r,i))}async _removeDirectoryNameFromSnapshots(t,n){await this.verifyStudyDatabase();const r=`${this.collectionPrefix}${n}/snapshots`,i=await this.studyDatabase.getItem(r)||{};i[t]&&(delete i[t],await this.studyDatabase.setItem(r,i))}async _changeDirectoryNameInSnapshots(t,n,r){await this.verifyStudyDatabase();const i=`${this.collectionPrefix}${r}/snapshots`,o=await this.studyDatabase.getItem(i)||{};if(o[t])o[t]={name:n},await this.studyDatabase.setItem(i,o);else throw new Error(`Snapshot with name ${t} does not exist`)}}var e7,E0e;function D$(){if(E0e)return e7;E0e=1;var e=n_e;function t(s,a){var l,u="",c=0,d=!0,f=0,h;function m(){return h=s.charAt(f),f++,h}for(m(),h==="-"&&(u="-",m());h>="0"&&h<="9";)d&&(h=="0"?c++:d=!1),u+=h,m();if(d&&c--,h===".")for(u+=".";m()&&h>="0"&&h<="9";)u+=h;if(h==="e"||h==="E")for(u+=h,m(),(h==="-"||h==="+")&&(u+=h,m());h>="0"&&h<="9";)u+=h,m();for(;h&&h<=" ";)m();if(a&&(h===","||h==="}"||h==="]"||h==="#"||h==="/"&&(s[f]==="/"||s[f]==="*"))&&(h=0),l=+u,!(h||c||!isFinite(l)))return l}function n(s,a){return Object.defineProperty&&Object.defineProperty(s,"__COMMENTS__",{enumerable:!1,writable:!0}),s.__COMMENTS__=a||{}}function r(s){Object.defineProperty(s,"__COMMENTS__",{value:void 0})}function i(s){return s.__COMMENTS__}function o(s){if(!s)return"";var a=s.split(`
`),l,u,c,d;for(c=0;c<a.length;c++)for(l=a[c],d=l.length,u=0;u<d;u++){var f=l[u];if(f==="#")break;if(f==="/"&&(l[u+1]==="/"||l[u+1]==="*")){l[u+1]==="*"&&(c=a.length);break}else if(f>" "){a[c]="# "+l;break}}return a.join(`
`)}return e7={EOL:e.EOL||`
`,tryParseNumber:t,createComment:n,removeComment:r,getComment:i,forceComment:o},e7}var t7,S0e;function wZt(){return S0e||(S0e=1,t7="3.2.1"),t7}var n7,T0e;function Jee(){if(T0e)return n7;T0e=1;function e(a,l){if(Object.prototype.toString.apply(a)!=="[object Array]"){if(a)throw new Error("dsf option must contain an array!");return n}else if(a.length===0)return n;var u=[];function c(d){return{}.toString.call(d)==="[object Function]"}return a.forEach(function(d){if(!d.name||!c(d.parse)||!c(d.stringify))throw new Error("extension does not match the DSF interface");u.push(function(){try{if(l=="parse")return d.parse.apply(null,arguments);if(l=="stringify"){var f=d.stringify.apply(null,arguments);if(f!==void 0&&(typeof f!="string"||f.length===0||f[0]==='"'||[].some.call(f,function(h){return r(h)})))throw new Error("value may not be empty, start with a quote or contain a punctuator character except colon: "+f);return f}else throw new Error("Invalid type")}catch(h){throw new Error("DSF-"+d.name+" failed; "+h.message)}})}),t.bind(null,u)}function t(a,l){if(a)for(var u=0;u<a.length;u++){var c=a[u](l);if(c!==void 0)return c}}function n(){}function r(a){return a==="{"||a==="}"||a==="["||a==="]"||a===","}function i(){return{name:"math",parse:function(a){switch(a){case"+inf":case"inf":case"+Inf":case"Inf":return 1/0;case"-inf":case"-Inf":return-1/0;case"nan":case"NaN":return NaN}},stringify:function(a){if(typeof a=="number"){if(1/a===-1/0)return"-0";if(a===1/0)return"Inf";if(a===-1/0)return"-Inf";if(isNaN(a))return"NaN"}}}}i.description="support for Inf/inf, -Inf/-inf, Nan/naN and -0";function o(a){var l=a&&a.out;return{name:"hex",parse:function(u){if(/^0x[0-9A-Fa-f]+$/.test(u))return parseInt(u,16)},stringify:function(u){if(l&&Number.isInteger(u))return"0x"+u.toString(16)}}}o.description="parse hexadecimal numbers prefixed with 0x";function s(){return{name:"date",parse:function(a){if(/^\d{4}-\d{2}-\d{2}$/.test(a)||/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}(?:.\d+)(?:Z|[+-]\d{2}:\d{2})$/.test(a)){var l=Date.parse(a);if(!isNaN(l))return new Date(l)}},stringify:function(a){if(Object.prototype.toString.call(a)==="[object Date]"){var l=a.toISOString();return l.indexOf("T00:00:00.000Z",l.length-14)!==-1?l.substr(0,10):l}}}}return s.description="support ISO dates",n7={loadDsf:e,std:{math:i,hex:o,date:s}},n7}var r7,k0e;function xZt(){return k0e||(k0e=1,r7=function(e,t){var n=D$(),r=Jee(),i,o,s,a={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},l,u;function c(){o=0,s=" "}function d(O){return O==="{"||O==="}"||O==="["||O==="]"||O===","||O===":"}function f(O){var j,U=0,q=1;for(j=o-1;j>0&&i[j]!==`
`;j--,U++);for(;j>0;j--)i[j]===`
`&&q++;throw new Error(O+" at line "+q+","+U+" >>>"+i.substr(o-U,20)+" ...")}function h(){return s=i.charAt(o),o++,s}function m(O){return i.charAt(o+O)}function p(O){for(var j="",U=s;h();){if(s===U)return h(),O&&U==="'"&&s==="'"&&j.length===0?(h(),g()):j;if(s==="\\")if(h(),s==="u"){for(var q=0,W=0;W<4;W++){h();var V=s.charCodeAt(0),z;s>="0"&&s<="9"?z=V-48:s>="a"&&s<="f"?z=V-97+10:s>="A"&&s<="F"?z=V-65+10:f("Bad \\u char "+s),q=q*16+z}j+=String.fromCharCode(q)}else if(typeof a[s]=="string")j+=a[s];else break;else s===`
`||s==="\r"?f("Bad string containing newline"):j+=s}f("Bad string")}function g(){for(var O="",j=0,U=0;;){var q=m(-U-5);if(!q||q===`
`)break;U++}function W(){for(var V=U;s&&s<=" "&&s!==`
`&&V-- >0;)h()}for(;s&&s<=" "&&s!==`
`;)h();for(s===`
`&&(h(),W());;){if(!s)f("Bad multiline string");else if(s==="'"){if(j++,h(),j===3)return O.slice(-1)===`
`&&(O=O.slice(0,-1)),O;continue}else for(;j>0;)O+="'",j--;s===`
`?(O+=`
`,h(),W()):(s!=="\r"&&(O+=s),h())}}function v(){if(s==='"'||s==="'")return p(!1);for(var O="",j=o,U=-1;;){if(s===":")return O?U>=0&&U!==O.length&&(o=j+U,f("Found whitespace in your key name (use quotes to include)")):f("Found ':' but no key name (for an empty key name use quotes)"),O;s<=" "?s?U<0&&(U=O.length):f("Found EOF while looking for a key name (check your syntax)"):d(s)?f("Found '"+s+"' where a key name was expected (check your syntax or use quotes if the key name includes {}[],: or whitespace)"):O+=s,h()}}function y(){for(;s;){for(;s&&s<=" ";)h();if(s==="#"||s==="/"&&m(0)==="/")for(;s&&s!==`
`;)h();else if(s==="/"&&m(0)==="*"){for(h(),h();s&&!(s==="*"&&m(0)==="/");)h();s&&(h(),h())}else break}}function w(){var O=s;for(d(s)&&f("Found a punctuator character '"+s+"' when expecting a quoteless string (check your syntax)");;){h();var j=s==="\r"||s===`
`||s==="";if(j||s===","||s==="}"||s==="]"||s==="#"||s==="/"&&(m(0)==="/"||m(0)==="*")){var U=O[0];switch(U){case"f":if(O.trim()==="false")return!1;break;case"n":if(O.trim()==="null")return null;break;case"t":if(O.trim()==="true")return!0;break;default:if(U==="-"||U>="0"&&U<="9"){var q=n.tryParseNumber(O);if(q!==void 0)return q}}if(j){O=O.trim();var W=u(O);return W!==void 0?W:O}}O+=s}}function _(O,j){var U;for(O--,U=o-2;U>O&&i[U]<=" "&&i[U]!==`
`;U--);i[U]===`
`&&U--,i[U]==="\r"&&U--;var q=i.substr(O,U-O+1);for(U=0;U<q.length;U++)if(q[U]>" "){var W=q.indexOf(`
`);if(W>=0){var V=[q.substr(0,W),q.substr(W+1)];return j&&V[0].trim().length===0&&V.shift(),V}else return[q]}return[]}function E(O){function j(q,W){var V,z,L,H;switch(typeof q){case"string":q.indexOf(W)>=0&&(H=q);break;case"object":if(Object.prototype.toString.apply(q)==="[object Array]")for(V=0,L=q.length;V<L;V++)H=j(q[V],W)||H;else for(z in q)Object.prototype.hasOwnProperty.call(q,z)&&(H=j(q[z],W)||H)}return H}function U(q){var W=j(O,q);return W?"found '"+q+`' in a string value, your mistake could be with:
  > `+W+`
  (unquoted strings contain everything up to the next line!)`:""}return U("}")||U("]")}function S(){var O=[],j,U,q;try{if(l&&(j=n.createComment(O,{a:[]})),h(),U=o,y(),j&&(q=_(U,!0).join(`
`)),s==="]")return h(),j&&(j.e=[q]),O;for(;s;){if(O.push(k()),U=o,y(),s===","&&(h(),U=o,y()),j){var W=_(U);j.a.push([q||"",W[0]||""]),q=W[1]}if(s==="]")return h(),j&&(j.a[j.a.length-1][1]+=q||""),O;y()}f("End of input while parsing an array (missing ']')")}catch(V){throw V.hint=V.hint||E(O),V}}function T(O){var j="",U={},q,W,V;try{if(l&&(q=n.createComment(U,{c:{},o:[]})),O?W=1:(h(),W=o),y(),q&&(V=_(W,!0).join(`
`)),s==="}"&&!O)return q&&(q.e=[V]),h(),U;for(;s;){if(j=v(),y(),s!==":"&&f("Expected ':' instead of '"+s+"'"),h(),U[j]=k(),W=o,y(),s===","&&(h(),W=o,y()),q){var z=_(W);q.c[j]=[V||"",z[0]||""],V=z[1],q.o.push(j)}if(s==="}"&&!O)return h(),q&&(q.c[j][1]+=V||""),U;y()}if(O)return U;f("End of input while parsing an object (missing '}')")}catch(L){throw L.hint=L.hint||E(U),L}}function k(){switch(y(),s){case"{":return T();case"[":return S();case"'":case'"':return p(!0);default:return w()}}function R(O,j){var U=o;if(y(),s&&f("Syntax error, found trailing characters"),l){var q=j.join(`
`),W=_(U).join(`
`);if(W||q){var V=n.createComment(O,n.getComment(O));V.r=[q,W]}}return O}function I(){y();var O=l?_(1):null;switch(s){case"{":return R(T(),O);case"[":return R(S(),O);default:return R(k(),O)}}function P(){y();var O=l?_(1):null;switch(s){case"{":return R(T(),O);case"[":return R(S(),O)}try{return R(T(!0),O)}catch(j){c();try{return R(k(),O)}catch{throw j}}}if(typeof e!="string")throw new Error("source is not a string");var N=null,M=!0;return t&&typeof t=="object"&&(l=t.keepWsc,N=t.dsf,M=t.legacyRoot!==!1),u=r.loadDsf(N,"parse"),i=e,c(),M?P():I()}),r7}var i7,A0e;function CZt(){return A0e||(A0e=1,i7=function(e,t){var n=D$(),r=Jee(),i={obj:["{","}"],arr:["[","]"],key:["",""],qkey:['"','"'],col:[":",""],com:[",",""],str:["",""],qstr:['"','"'],mstr:["'''","'''"],num:["",""],lit:["",""],dsf:["",""],esc:["\\",""],uni:["\\u",""],rem:["",""]},o=n.EOL,s="  ",a=!1,l=!1,u=!1,c=!1,d=0,f=1,h="",m=null,p=!1,g=i;if(t&&typeof t=="object"){t.quotes=t.quotes==="always"?"strings":t.quotes,(t.eol===`
`||t.eol===`\r
`)&&(o=t.eol),a=t.keepWsc,d=t.condense||0,l=t.bracesSameLine,u=t.quotes==="all"||t.quotes==="keys",c=t.quotes==="all"||t.quotes==="strings"||t.separator===!0,c||t.multiline=="off"?f=0:f=t.multiline=="no-tabs"?2:1,h=t.separator===!0?g.com[0]:"",m=t.dsf,p=t.sortProps,typeof t.space=="number"?s=new Array(t.space+1).join(" "):typeof t.space=="string"&&(s=t.space),t.colors===!0&&(g={obj:["\x1B[37m{\x1B[0m","\x1B[37m}\x1B[0m"],arr:["\x1B[37m[\x1B[0m","\x1B[37m]\x1B[0m"],key:["\x1B[33m","\x1B[0m"],qkey:['\x1B[33m"','"\x1B[0m'],col:["\x1B[37m:\x1B[0m",""],com:["\x1B[37m,\x1B[0m",""],str:["\x1B[37;1m","\x1B[0m"],qstr:['\x1B[37;1m"','"\x1B[0m'],mstr:["\x1B[37;1m'''","'''\x1B[0m"],num:["\x1B[36;1m","\x1B[0m"],lit:["\x1B[36m","\x1B[0m"],dsf:["\x1B[37m","\x1B[0m"],esc:["\x1B[31m\\","\x1B[0m"],uni:["\x1B[31m\\u","\x1B[0m"],rem:["\x1B[35m","\x1B[0m"]});var v,y=Object.keys(i);for(v=y.length-1;v>=0;v--){var w=y[v];g[w].push(i[w][0].length,i[w][1].length)}}var _,E="---\u2028--\uFEFF-",S=new RegExp('[\\\\\\"\0-'+E+"]","g"),T=new RegExp(`^\\s|^"|^'|^#|^\\/\\*|^\\/\\/|^\\{|^\\}|^\\[|^\\]|^:|^,|\\s$|[\0-`+E+"]","g"),k=new RegExp("'''|^[\\s]+$|[\0-"+(f===2?"	":"\b")+"\v\f-"+E+"]","g"),R=new RegExp("^(true|false|null)\\s*((,|\\]|\\}|#|//|/\\*).*)?$"),I={"\b":"b","	":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\"},P=/[,\{\[\}\]\s:#"']|\/\/|\/\*/,N="",M=0;function O(H,B){return M+=H[0].length+H[1].length-H[2]-H[3],H[0]+B+H[1]}function j(H){return H.replace(S,function(B){var Y=I[B];return typeof Y=="string"?O(g.esc,Y):O(g.uni,("0000"+B.charCodeAt(0).toString(16)).slice(-4))})}function U(H,B,Y,Q){return H?(T.lastIndex=0,R.lastIndex=0,c||Y||T.test(H)||n.tryParseNumber(H,!0)!==void 0||R.test(H)?(S.lastIndex=0,k.lastIndex=0,S.test(H)?!k.test(H)&&!Q&&f?q(H,B):O(g.qstr,j(H)):O(g.qstr,H)):O(g.str,H)):O(g.qstr,"")}function q(H,B){var Y,Q=H.replace(/\r/g,"").split(`
`);if(B+=s,Q.length===1)return O(g.mstr,Q[0]);var ne=o+B+g.mstr[0];for(Y=0;Y<Q.length;Y++)ne+=o,Q[Y]&&(ne+=B+Q[Y]);return ne+o+B+g.mstr[1]}function W(H){return H?u||P.test(H)?(S.lastIndex=0,O(g.qkey,S.test(H)?j(H):H)):O(g.key,H):'""'}function V(H,B,Y,Q){function ne($t){return $t&&$t[$t[0]==="\r"?1:0]===`
`}function ce($t){return $t&&!ne($t)}function le($t,dn,Vn){if(!$t)return"";$t=n.forceComment($t);var Ln,Tr=$t.length;for(Ln=0;Ln<Tr&&$t[Ln]<=" ";Ln++);return Vn&&Ln>0&&($t=$t.substr(Ln)),Ln<Tr?dn+O(g.rem,$t):$t}var ue=_(H);if(ue!==void 0)return O(g.dsf,ue);switch(typeof H){case"string":return U(H,N,B,Q);case"number":return isFinite(H)?O(g.num,String(H)):O(g.lit,"null");case"boolean":return O(g.lit,String(H));case"object":if(!H)return O(g.lit,"null");var ae;a&&(ae=n.getComment(H));var te=Object.prototype.toString.apply(H)==="[object Array]",se=N;N+=s;var we=o+se,X=o+N,he=Y||l?"":we,ge=[],re,ee=d?[]:null,fe=c,Re=f,Oe=h?"":g.com[0],Ae=0,Se,xe,ke,me,Me,ze,Xe,tt,gt;if(te){for(Se=0,xe=H.length;Se<xe;Se++){if(re=Se<xe-1,ae?(ze=ae.a[Se]||[],Xe=ce(ze[1]),ge.push(le(ze[0],`
`)+X),ee&&(ze[0]||ze[1]||Xe)&&(ee=null)):ge.push(X),M=0,me=H[Se],ge.push(V(me,ae?Xe:!1,!0)+(re?h:"")),ee){switch(typeof me){case"string":M=0,c=!0,f=0,ee.push(V(me,!1,!0)+(re?g.com[0]:"")),c=fe,f=Re;break;case"object":if(me){ee=null;break}default:ee.push(ge[ge.length-1]+(re?Oe:""));break}re&&(M+=g.com[0].length-g.com[2]),Ae+=M}ae&&ze[1]&&ge.push(le(ze[1],Xe?" ":`
`,Xe))}xe===0?ae&&ae.e&&ge.push(le(ae.e[0],`
`)+we):ge.push(we),ge.length===0?tt=O(g.arr,""):(tt=he+O(g.arr,ge.join("")),ee&&(gt=ee.join(" "),gt.length-Ae<=d&&(tt=O(g.arr,gt))))}else{var qt=ae?ae.o.slice():[],zt=[];for(ke in H)Object.prototype.hasOwnProperty.call(H,ke)&&qt.indexOf(ke)<0&&zt.push(ke);p&&zt.sort();var _n=qt.concat(zt);for(Se=0,xe=_n.length;Se<xe;Se++)if(re=Se<xe-1,ke=_n[Se],ae?(ze=ae.c[ke]||[],Xe=ce(ze[1]),ge.push(le(ze[0],`
`)+X),ee&&(ze[0]||ze[1]||Xe)&&(ee=null)):ge.push(X),M=0,me=H[ke],Me=V(me,ae&&Xe),ge.push(W(ke)+g.col[0]+(ne(Me)?"":" ")+Me+(re?h:"")),ae&&ze[1]&&ge.push(le(ze[1],Xe?" ":`
`,Xe)),ee){switch(typeof me){case"string":M=0,c=!0,f=0,Me=V(me,!1),c=fe,f=Re,ee.push(W(ke)+g.col[0]+" "+Me+(re?g.com[0]:""));break;case"object":if(me){ee=null;break}default:ee.push(ge[ge.length-1]+(re?Oe:""));break}M+=g.col[0].length-g.col[2],re&&(M+=g.com[0].length-g.com[2]),Ae+=M}xe===0?ae&&ae.e&&ge.push(le(ae.e[0],`
`)+we):ge.push(we),ge.length===0?tt=O(g.obj,""):(tt=he+O(g.obj,ge.join("")),ee&&(gt=ee.join(" "),gt.length-Ae<=d&&(tt=O(g.obj,gt))))}return N=se,tt}}_=r.loadDsf(m,"stringify");var z="",L=a?L=(n.getComment(e)||{}).r:null;return L&&L[0]&&(z=L[0]+`
`),z+=V(e,null,!0,!0),L&&(z+=L[1]||""),z}),i7}var o7,R0e;function _Zt(){if(R0e)return o7;R0e=1;var e=D$();function t(c,d,f){var h;return c&&(h={b:c}),d&&((h=h||{}).a=d),f&&((h=h||{}).x=f),h}function n(c,d){if(!(c===null||typeof c!="object")){var f=e.getComment(c);f&&e.removeComment(c);var h,m,p,g;if(Object.prototype.toString.apply(c)==="[object Array]"){for(g={a:{}},h=0,m=c.length;h<m;h++)o(g.a,h,f.a[h],n(c[h]))&&(p=!0);!p&&f.e&&(g.e=t(f.e[0],f.e[1]),p=!0)}else{g={s:{}};var v,y=Object.keys(c);for(f&&f.o?(v=[],f.o.concat(y).forEach(function(_){Object.prototype.hasOwnProperty.call(c,_)&&v.indexOf(_)<0&&v.push(_)})):v=y,g.o=v,h=0,m=v.length;h<m;h++){var w=v[h];o(g.s,w,f.c[w],n(c[w]))&&(p=!0)}!p&&f.e&&(g.e=t(f.e[0],f.e[1]),p=!0)}return d&&f&&f.r&&(g.r=t(f.r[0],f.r[1])),p?g:void 0}}function r(){var c="";return[].forEach.call(arguments,function(d){d&&d.trim()!==""&&(c&&(c+="; "),c+=d.trim())}),c}function i(c,d){var f=[];if(l(c,d,f,[]),f.length>0){var h=u(d,null,1);h+=`
# Orphaned comments:
`,f.forEach(function(m){h+=("# "+m.path.join("/")+": "+r(m.b,m.a,m.e)).replace(`
`,"\\n ")+`
`}),u(d,h,1)}}function o(c,d,f,h){var m=t(f?f[0]:void 0,f?f[1]:void 0,h);return m&&(c[d]=m),m}function s(c,d){var f=t(d.b,d.a);return f.path=c,f}function a(c,d,f){if(c){var h,m;if(c.a)for(h=0,m=c.a.length;h<m;h++){var p=f.slice().concat([h]),g=c.a[h];g&&(d.push(s(p,g)),a(g.x,d,p))}else c.o&&c.o.forEach(function(v){var y=f.slice().concat([v]),w=c.s[v];w&&(d.push(s(y,w)),a(w.x,d,y))});c.e&&d.push(s(f,c.e))}}function l(c,d,f,h){if(c){if(d===null||typeof d!="object"){a(c,f,h);return}var m,p=e.createComment(d);if(h.length===0&&c.r&&(p.r=[c.r.b,c.r.a]),Object.prototype.toString.apply(d)==="[object Array]"){p.a=[];var g=c.a||{};for(var v in g)if(g.hasOwnProperty(v)){m=parseInt(v);var y=c.a[v];if(y){var w=h.slice().concat([m]);m<d.length?(p.a[m]=[y.b,y.a],l(y.x,d[m],f,w)):(f.push(s(w,y)),a(y.x,f,w))}}m===0&&c.e&&(p.e=[c.e.b,c.e.a])}else p.c={},p.o=[],(c.o||[]).forEach(function(_){var E=h.slice().concat([_]),S=c.s[_];Object.prototype.hasOwnProperty.call(d,_)?(p.o.push(_),S&&(p.c[_]=[S.b,S.a],l(S.x,d[_],f,E))):S&&(f.push(s(E,S)),a(S.x,f,E))}),c.e&&(p.e=[c.e.b,c.e.a])}}function u(c,d,f){var h=e.createComment(c,e.getComment(c));return h.r||(h.r=["",""]),(d||d==="")&&(h.r[f]=e.forceComment(d)),h.r[f]||""}return o7={extract:function(c){return n(c,!0)},merge:i,header:function(c,d){return u(c,d,0)},footer:function(c,d){return u(c,d,1)}},o7}var s7,I0e;function EZt(){if(I0e)return s7;I0e=1;var e=D$(),t=wZt(),n=xZt(),r=CZt(),i=_Zt(),o=Jee();return s7={parse:n,stringify:r,endOfLine:function(){return e.EOL},setEndOfLine:function(s){(s===`
`||s===`\r
`)&&(e.EOL=s)},version:t,rt:{parse:function(s,a){return(a=a||{}).keepWsc=!0,n(s,a)},stringify:function(s,a){return(a=a||{}).keepWsc=!0,r(s,a)}},comments:i,dsf:o.std},s7}EZt();const SZt=()=>{};var D0e={};const H6e=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},TZt=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],s=e[n++],a=e[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},Zee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,h=u&63;l||(h=64,s||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(H6e(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):TZt(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new kZt;const f=o<<2|a>>4;if(r.push(f),u!==64){const h=a<<4&240|u>>2;if(r.push(h),d!==64){const m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class kZt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AZt=function(e){const t=H6e(e);return Zee.encodeByteArray(t,!0)},q6e=function(e){return AZt(e).replace(/\./g,"")},V6e=function(e){try{return Zee.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function RZt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const IZt=()=>RZt().__FIREBASE_DEFAULTS__,DZt=()=>{if(typeof process>"u"||typeof D0e>"u")return;const e=D0e.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},PZt=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&V6e(e[1]);return t&&JSON.parse(t)},OZt=()=>{try{return SZt()||IZt()||DZt()||PZt()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},NZt=e=>{var t;return(t=OZt())===null||t===void 0?void 0:t[`_${e}`]};class P0e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function W6e(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}function Mh(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MZt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mh())}function $Zt(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LZt(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function FZt(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function G6e(){try{return typeof indexedDB=="object"}catch{return!1}}function jZt(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}const BZt="FirebaseError";class qm extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=BZt,Object.setPrototypeOf(this,qm.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,QC.prototype.create)}}class QC{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?zZt(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new qm(i,a,r)}}function zZt(e,t){return e.replace(UZt,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const UZt=/\{\$([^}]+)}/g;function Y6e(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function HZt(e,t){const n=new qZt(e,t);return n.subscribe.bind(n)}class qZt{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");VZt(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=a7),i.error===void 0&&(i.error=a7),i.complete===void 0&&(i.complete=a7);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VZt(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function a7(){}function P$(e){return e&&e._delegate?e._delegate:e}class wm{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}var ci;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ci||(ci={}));const WZt={debug:ci.DEBUG,verbose:ci.VERBOSE,info:ci.INFO,warn:ci.WARN,error:ci.ERROR,silent:ci.SILENT},GZt=ci.INFO,YZt={[ci.DEBUG]:"log",[ci.VERBOSE]:"log",[ci.INFO]:"info",[ci.WARN]:"warn",[ci.ERROR]:"error"},KZt=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=YZt[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class O${constructor(t){this.name=t,this._logLevel=GZt,this._logHandler=KZt,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ci))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?WZt[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ci.DEBUG,...t),this._logHandler(this,ci.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ci.VERBOSE,...t),this._logHandler(this,ci.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ci.INFO,...t),this._logHandler(this,ci.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ci.WARN,...t),this._logHandler(this,ci.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ci.ERROR,...t),this._logHandler(this,ci.ERROR,...t)}}const XZt=(e,t)=>t.some(n=>e instanceof n);let O0e,N0e;function QZt(){return O0e||(O0e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JZt(){return N0e||(N0e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const K6e=new WeakMap,Vq=new WeakMap,X6e=new WeakMap,l7=new WeakMap,ete=new WeakMap;function ZZt(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(c0(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&K6e.set(n,e)}).catch(()=>{}),ete.set(t,e),t}function een(e){if(Vq.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Vq.set(e,t)}let Wq={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Vq.get(e);if(t==="objectStoreNames")return e.objectStoreNames||X6e.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return c0(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function ten(e){Wq=e(Wq)}function nen(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(u7(this),t,...n);return X6e.set(r,t.sort?t.sort():[t]),c0(r)}:JZt().includes(e)?function(...t){return e.apply(u7(this),t),c0(K6e.get(this))}:function(...t){return c0(e.apply(u7(this),t))}}function ren(e){return typeof e=="function"?nen(e):(e instanceof IDBTransaction&&een(e),XZt(e,QZt())?new Proxy(e,Wq):e)}function c0(e){if(e instanceof IDBRequest)return ZZt(e);if(l7.has(e))return l7.get(e);const t=ren(e);return t!==e&&(l7.set(e,t),ete.set(t,e)),t}const u7=e=>ete.get(e);function ien(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=c0(s);return r&&s.addEventListener("upgradeneeded",l=>{r(c0(s.result),l.oldVersion,l.newVersion,c0(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const oen=["get","getKey","getAll","getAllKeys","count"],sen=["put","add","delete","clear"],c7=new Map;function M0e(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(c7.get(t))return c7.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=sen.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||oen.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return c7.set(t,o),o}ten(e=>({...e,get:(t,n,r)=>M0e(t,n)||e.get(t,n,r),has:(t,n)=>!!M0e(t,n)||e.has(t,n)}));class aen{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(len(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function len(e){const t=e.getComponent();return t?.type==="VERSION"}const Gq="@firebase/app",$0e="0.13.2";const xm=new O$("@firebase/app"),uen="@firebase/app-compat",cen="@firebase/analytics-compat",den="@firebase/analytics",fen="@firebase/app-check-compat",hen="@firebase/app-check",pen="@firebase/auth",men="@firebase/auth-compat",gen="@firebase/database",yen="@firebase/data-connect",ven="@firebase/database-compat",ben="@firebase/functions",wen="@firebase/functions-compat",xen="@firebase/installations",Cen="@firebase/installations-compat",_en="@firebase/messaging",Een="@firebase/messaging-compat",Sen="@firebase/performance",Ten="@firebase/performance-compat",ken="@firebase/remote-config",Aen="@firebase/remote-config-compat",Ren="@firebase/storage",Ien="@firebase/storage-compat",Den="@firebase/firestore",Pen="@firebase/ai",Oen="@firebase/firestore-compat",Nen="firebase",Men="11.10.0",$en={[Gq]:"fire-core",[uen]:"fire-core-compat",[den]:"fire-analytics",[cen]:"fire-analytics-compat",[hen]:"fire-app-check",[fen]:"fire-app-check-compat",[pen]:"fire-auth",[men]:"fire-auth-compat",[gen]:"fire-rtdb",[yen]:"fire-data-connect",[ven]:"fire-rtdb-compat",[ben]:"fire-fn",[wen]:"fire-fn-compat",[xen]:"fire-iid",[Cen]:"fire-iid-compat",[_en]:"fire-fcm",[Een]:"fire-fcm-compat",[Sen]:"fire-perf",[Ten]:"fire-perf-compat",[ken]:"fire-rc",[Aen]:"fire-rc-compat",[Ren]:"fire-gcs",[Ien]:"fire-gcs-compat",[Den]:"fire-fst",[Oen]:"fire-fst-compat",[Pen]:"fire-vertex","fire-js":"fire-js",[Nen]:"fire-js-all"};const Len=new Map,Fen=new Map,L0e=new Map;function F0e(e,t){try{e.container.addComponent(t)}catch(n){xm.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Cm(e){const t=e.name;if(L0e.has(t))return xm.debug(`There were multiple attempts to register component ${t}.`),!1;L0e.set(t,e);for(const n of Len.values())F0e(n,e);for(const n of Fen.values())F0e(n,e);return!0}function Fg(e){return e==null?!1:e.settings!==void 0}const jen={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tte=new QC("app","Firebase",jen);const iA=Men;function Hd(e,t,n){var r;let i=(r=$en[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),xm.warn(a.join(" "));return}Cm(new wm(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const Ben="firebase-heartbeat-database",zen=1,fT="firebase-heartbeat-store";let d7=null;function Q6e(){return d7||(d7=ien(Ben,zen,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(fT)}catch(n){console.warn(n)}}}}).catch(e=>{throw tte.create("idb-open",{originalErrorMessage:e.message})})),d7}async function Uen(e){try{const n=(await Q6e()).transaction(fT),r=await n.objectStore(fT).get(J6e(e));return await n.done,r}catch(t){if(t instanceof qm)xm.warn(t.message);else{const n=tte.create("idb-get",{originalErrorMessage:t?.message});xm.warn(n.message)}}}async function j0e(e,t){try{const r=(await Q6e()).transaction(fT,"readwrite");await r.objectStore(fT).put(t,J6e(e)),await r.done}catch(n){if(n instanceof qm)xm.warn(n.message);else{const r=tte.create("idb-set",{originalErrorMessage:n?.message});xm.warn(r.message)}}}function J6e(e){return`${e.name}!${e.options.appId}`}const Hen=1024,qen=30;class Ven{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Gen(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=B0e();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>qen){const s=Yen(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){xm.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=B0e(),{heartbeatsToSend:r,unsentEntries:i}=Wen(this._heartbeatsCache.heartbeats),o=q6e(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return xm.warn(n),""}}}function B0e(){return new Date().toISOString().substring(0,10)}function Wen(e,t=Hen){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),z0e(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),z0e(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Gen{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return G6e()?jZt().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Uen(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return j0e(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return j0e(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function z0e(e){return q6e(JSON.stringify({version:2,heartbeats:e})).length}function Yen(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function Ken(e){Cm(new wm("platform-logger",t=>new aen(t),"PRIVATE")),Cm(new wm("heartbeat",t=>new Ven(t),"PRIVATE")),Hd(Gq,$0e,e),Hd(Gq,$0e,"esm2017"),Hd("fire-js","")}Ken("");var Xen="firebase",Qen="11.10.0";Hd(Xen,Qen,"app");const Z6e="firebasestorage.googleapis.com",Jen="storageBucket",Zen=120*1e3,etn=600*1e3;class np extends qm{constructor(t,n,r=0){super(f7(t),`Firebase Storage: ${n} (${f7(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,np.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return f7(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $h;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($h||($h={}));function f7(e){return"storage/"+e}function ttn(){const e="An unknown error occurred, please check the error payload for server response.";return new np($h.UNKNOWN,e)}function ntn(){return new np($h.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rtn(){return new np($h.CANCELED,"User canceled the upload/download.")}function itn(e){return new np($h.INVALID_URL,"Invalid URL '"+e+"'.")}function otn(e){return new np($h.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function U0e(e){return new np($h.INVALID_ARGUMENT,e)}function e5e(){return new np($h.APP_DELETED,"The Firebase app was deleted.")}function stn(e){return new np($h.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Nd{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Nd.makeFromUrl(t,n)}catch{return new Nd(t,"")}if(r.path==="")return r;throw otn(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(_){_.path_=decodeURIComponent(_.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${d}/${c}/b/${i}/o${f}`,"i"),m={bucket:1,path:3},p=n===Z6e?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",v=new RegExp(`^https?://${p}/${i}/${g}`,"i"),w=[{regex:a,indices:l,postModify:o},{regex:h,indices:m,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let _=0;_<w.length;_++){const E=w[_],S=E.regex.exec(t);if(S){const T=S[E.indices.bucket];let k=S[E.indices.path];k||(k=""),r=new Nd(T,k),E.postModify(r);break}}if(r==null)throw itn(t);return r}}class atn{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function ltn(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function c(...g){u||(u=!0,t.apply(null,g))}function d(g){i=setTimeout(()=>{i=null,e(h,l())},g)}function f(){o&&clearTimeout(o)}function h(g,...v){if(u){f();return}if(g){f(),c.call(null,g,...v);return}if(l()||s){f(),c.call(null,g,...v);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,d(w)}let m=!1;function p(g){m||(m=!0,f(),!u&&(i!==null?(g||(a=2),clearTimeout(i),d(0)):g||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,p(!0)},n),p}function utn(e){e(!1)}function ctn(e){return e!==void 0}function H0e(e,t,n,r){if(r<t)throw U0e(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw U0e(`Invalid value for '${e}'. Expected ${n} or less.`)}function dtn(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var XN;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(XN||(XN={}));function ftn(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,o=t.indexOf(e)!==-1;return n||i||o}class htn{constructor(t,n,r,i,o,s,a,l,u,c,d,f=!0,h=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,p)=>{this.resolve_=m,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new xD(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===XN.NO_ERROR,l=o.getStatus();if(!a||ftn(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===XN.ABORT;r(!1,new xD(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new xD(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());ctn(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=ttn();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?e5e():rtn();s(l)}else{const l=ntn();s(l)}};this.canceled_?n(!1,new xD(!1,null,!0)):this.backoffId_=ltn(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&utn(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class xD{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function ptn(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function mtn(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function gtn(e,t){t&&(e["X-Firebase-GMPID"]=t)}function ytn(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function vtn(e,t,n,r,i,o,s=!0,a=!1){const l=dtn(e.urlParams),u=e.url+l,c=Object.assign({},e.headers);return gtn(c,t),ptn(c,n),mtn(c,o),ytn(c,r),new htn(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s,a)}function btn(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function wtn(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}class QN{constructor(t,n){this._service=t,n instanceof Nd?this._location=n:this._location=Nd.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new QN(t,n)}get root(){const t=new Nd(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wtn(this._location.path)}get storage(){return this._service}get parent(){const t=btn(this._location.path);if(t===null)return null;const n=new Nd(this._location.bucket,t);return new QN(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw stn(t)}}function q0e(e,t){const n=t?.[Jen];return n==null?null:Nd.makeFromBucketSpec(n,e)}class xtn{constructor(t,n,r,i,o,s=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=Z6e,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Zen,this._maxUploadRetryTime=etn,this._requests=new Set,i!=null?this._bucket=Nd.makeFromBucketSpec(i,this._host):this._bucket=q0e(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Nd.makeFromBucketSpec(this._url,t):this._bucket=q0e(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){H0e("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){H0e("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Fg(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new QN(this,t)}_makeRequest(t,n,r,i,o=!0){if(this._deleted)return new atn(e5e());{const s=vtn(t,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const V0e="@firebase/storage",W0e="0.13.14";const Ctn="storage";function _tn(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new xtn(n,r,i,t,iA)}function Etn(){Cm(new wm(Ctn,_tn,"PUBLIC").setMultipleInstances(!0)),Hd(V0e,W0e,""),Hd(V0e,W0e,"esm2017")}Etn();var G0e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nte;(function(){var e;function t(T,k){function R(){}R.prototype=k.prototype,T.D=k.prototype,T.prototype=new R,T.prototype.constructor=T,T.C=function(I,P,N){for(var M=Array(arguments.length-2),O=2;O<arguments.length;O++)M[O-2]=arguments[O];return k.prototype[P].apply(I,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,k,R){R||(R=0);var I=Array(16);if(typeof k=="string")for(var P=0;16>P;++P)I[P]=k.charCodeAt(R++)|k.charCodeAt(R++)<<8|k.charCodeAt(R++)<<16|k.charCodeAt(R++)<<24;else for(P=0;16>P;++P)I[P]=k[R++]|k[R++]<<8|k[R++]<<16|k[R++]<<24;k=T.g[0],R=T.g[1],P=T.g[2];var N=T.g[3],M=k+(N^R&(P^N))+I[0]+3614090360&4294967295;k=R+(M<<7&4294967295|M>>>25),M=N+(P^k&(R^P))+I[1]+3905402710&4294967295,N=k+(M<<12&4294967295|M>>>20),M=P+(R^N&(k^R))+I[2]+606105819&4294967295,P=N+(M<<17&4294967295|M>>>15),M=R+(k^P&(N^k))+I[3]+3250441966&4294967295,R=P+(M<<22&4294967295|M>>>10),M=k+(N^R&(P^N))+I[4]+4118548399&4294967295,k=R+(M<<7&4294967295|M>>>25),M=N+(P^k&(R^P))+I[5]+1200080426&4294967295,N=k+(M<<12&4294967295|M>>>20),M=P+(R^N&(k^R))+I[6]+2821735955&4294967295,P=N+(M<<17&4294967295|M>>>15),M=R+(k^P&(N^k))+I[7]+4249261313&4294967295,R=P+(M<<22&4294967295|M>>>10),M=k+(N^R&(P^N))+I[8]+1770035416&4294967295,k=R+(M<<7&4294967295|M>>>25),M=N+(P^k&(R^P))+I[9]+2336552879&4294967295,N=k+(M<<12&4294967295|M>>>20),M=P+(R^N&(k^R))+I[10]+4294925233&4294967295,P=N+(M<<17&4294967295|M>>>15),M=R+(k^P&(N^k))+I[11]+2304563134&4294967295,R=P+(M<<22&4294967295|M>>>10),M=k+(N^R&(P^N))+I[12]+1804603682&4294967295,k=R+(M<<7&4294967295|M>>>25),M=N+(P^k&(R^P))+I[13]+4254626195&4294967295,N=k+(M<<12&4294967295|M>>>20),M=P+(R^N&(k^R))+I[14]+2792965006&4294967295,P=N+(M<<17&4294967295|M>>>15),M=R+(k^P&(N^k))+I[15]+1236535329&4294967295,R=P+(M<<22&4294967295|M>>>10),M=k+(P^N&(R^P))+I[1]+4129170786&4294967295,k=R+(M<<5&4294967295|M>>>27),M=N+(R^P&(k^R))+I[6]+3225465664&4294967295,N=k+(M<<9&4294967295|M>>>23),M=P+(k^R&(N^k))+I[11]+643717713&4294967295,P=N+(M<<14&4294967295|M>>>18),M=R+(N^k&(P^N))+I[0]+3921069994&4294967295,R=P+(M<<20&4294967295|M>>>12),M=k+(P^N&(R^P))+I[5]+3593408605&4294967295,k=R+(M<<5&4294967295|M>>>27),M=N+(R^P&(k^R))+I[10]+38016083&4294967295,N=k+(M<<9&4294967295|M>>>23),M=P+(k^R&(N^k))+I[15]+3634488961&4294967295,P=N+(M<<14&4294967295|M>>>18),M=R+(N^k&(P^N))+I[4]+3889429448&4294967295,R=P+(M<<20&4294967295|M>>>12),M=k+(P^N&(R^P))+I[9]+568446438&4294967295,k=R+(M<<5&4294967295|M>>>27),M=N+(R^P&(k^R))+I[14]+3275163606&4294967295,N=k+(M<<9&4294967295|M>>>23),M=P+(k^R&(N^k))+I[3]+4107603335&4294967295,P=N+(M<<14&4294967295|M>>>18),M=R+(N^k&(P^N))+I[8]+1163531501&4294967295,R=P+(M<<20&4294967295|M>>>12),M=k+(P^N&(R^P))+I[13]+2850285829&4294967295,k=R+(M<<5&4294967295|M>>>27),M=N+(R^P&(k^R))+I[2]+4243563512&4294967295,N=k+(M<<9&4294967295|M>>>23),M=P+(k^R&(N^k))+I[7]+1735328473&4294967295,P=N+(M<<14&4294967295|M>>>18),M=R+(N^k&(P^N))+I[12]+2368359562&4294967295,R=P+(M<<20&4294967295|M>>>12),M=k+(R^P^N)+I[5]+4294588738&4294967295,k=R+(M<<4&4294967295|M>>>28),M=N+(k^R^P)+I[8]+2272392833&4294967295,N=k+(M<<11&4294967295|M>>>21),M=P+(N^k^R)+I[11]+1839030562&4294967295,P=N+(M<<16&4294967295|M>>>16),M=R+(P^N^k)+I[14]+4259657740&4294967295,R=P+(M<<23&4294967295|M>>>9),M=k+(R^P^N)+I[1]+2763975236&4294967295,k=R+(M<<4&4294967295|M>>>28),M=N+(k^R^P)+I[4]+1272893353&4294967295,N=k+(M<<11&4294967295|M>>>21),M=P+(N^k^R)+I[7]+4139469664&4294967295,P=N+(M<<16&4294967295|M>>>16),M=R+(P^N^k)+I[10]+3200236656&4294967295,R=P+(M<<23&4294967295|M>>>9),M=k+(R^P^N)+I[13]+681279174&4294967295,k=R+(M<<4&4294967295|M>>>28),M=N+(k^R^P)+I[0]+3936430074&4294967295,N=k+(M<<11&4294967295|M>>>21),M=P+(N^k^R)+I[3]+3572445317&4294967295,P=N+(M<<16&4294967295|M>>>16),M=R+(P^N^k)+I[6]+76029189&4294967295,R=P+(M<<23&4294967295|M>>>9),M=k+(R^P^N)+I[9]+3654602809&4294967295,k=R+(M<<4&4294967295|M>>>28),M=N+(k^R^P)+I[12]+3873151461&4294967295,N=k+(M<<11&4294967295|M>>>21),M=P+(N^k^R)+I[15]+530742520&4294967295,P=N+(M<<16&4294967295|M>>>16),M=R+(P^N^k)+I[2]+3299628645&4294967295,R=P+(M<<23&4294967295|M>>>9),M=k+(P^(R|~N))+I[0]+4096336452&4294967295,k=R+(M<<6&4294967295|M>>>26),M=N+(R^(k|~P))+I[7]+1126891415&4294967295,N=k+(M<<10&4294967295|M>>>22),M=P+(k^(N|~R))+I[14]+2878612391&4294967295,P=N+(M<<15&4294967295|M>>>17),M=R+(N^(P|~k))+I[5]+4237533241&4294967295,R=P+(M<<21&4294967295|M>>>11),M=k+(P^(R|~N))+I[12]+1700485571&4294967295,k=R+(M<<6&4294967295|M>>>26),M=N+(R^(k|~P))+I[3]+2399980690&4294967295,N=k+(M<<10&4294967295|M>>>22),M=P+(k^(N|~R))+I[10]+4293915773&4294967295,P=N+(M<<15&4294967295|M>>>17),M=R+(N^(P|~k))+I[1]+2240044497&4294967295,R=P+(M<<21&4294967295|M>>>11),M=k+(P^(R|~N))+I[8]+1873313359&4294967295,k=R+(M<<6&4294967295|M>>>26),M=N+(R^(k|~P))+I[15]+4264355552&4294967295,N=k+(M<<10&4294967295|M>>>22),M=P+(k^(N|~R))+I[6]+2734768916&4294967295,P=N+(M<<15&4294967295|M>>>17),M=R+(N^(P|~k))+I[13]+1309151649&4294967295,R=P+(M<<21&4294967295|M>>>11),M=k+(P^(R|~N))+I[4]+4149444226&4294967295,k=R+(M<<6&4294967295|M>>>26),M=N+(R^(k|~P))+I[11]+3174756917&4294967295,N=k+(M<<10&4294967295|M>>>22),M=P+(k^(N|~R))+I[2]+718787259&4294967295,P=N+(M<<15&4294967295|M>>>17),M=R+(N^(P|~k))+I[9]+3951481745&4294967295,T.g[0]=T.g[0]+k&4294967295,T.g[1]=T.g[1]+(P+(M<<21&4294967295|M>>>11))&4294967295,T.g[2]=T.g[2]+P&4294967295,T.g[3]=T.g[3]+N&4294967295}r.prototype.u=function(T,k){k===void 0&&(k=T.length);for(var R=k-this.blockSize,I=this.B,P=this.h,N=0;N<k;){if(P==0)for(;N<=R;)i(this,T,N),N+=this.blockSize;if(typeof T=="string"){for(;N<k;)if(I[P++]=T.charCodeAt(N++),P==this.blockSize){i(this,I),P=0;break}}else for(;N<k;)if(I[P++]=T[N++],P==this.blockSize){i(this,I),P=0;break}}this.h=P,this.o+=k},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var k=1;k<T.length-8;++k)T[k]=0;var R=8*this.o;for(k=T.length-8;k<T.length;++k)T[k]=R&255,R/=256;for(this.u(T),T=Array(16),k=R=0;4>k;++k)for(var I=0;32>I;I+=8)T[R++]=this.g[k]>>>I&255;return T};function o(T,k){var R=a;return Object.prototype.hasOwnProperty.call(R,T)?R[T]:R[T]=k(T)}function s(T,k){this.h=k;for(var R=[],I=!0,P=T.length-1;0<=P;P--){var N=T[P]|0;I&&N==k||(R[P]=N,I=!1)}this.g=R}var a={};function l(T){return-128<=T&&128>T?o(T,function(k){return new s([k|0],0>k?-1:0)}):new s([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return d;if(0>T)return g(u(-T));for(var k=[],R=1,I=0;T>=R;I++)k[I]=T/R|0,R*=4294967296;return new s(k,0)}function c(T,k){if(T.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(T.charAt(0)=="-")return g(c(T.substring(1),k));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=u(Math.pow(k,8)),I=d,P=0;P<T.length;P+=8){var N=Math.min(8,T.length-P),M=parseInt(T.substring(P,P+N),k);8>N?(N=u(Math.pow(k,N)),I=I.j(N).add(u(M))):(I=I.j(R),I=I.add(u(M)))}return I}var d=l(0),f=l(1),h=l(16777216);e=s.prototype,e.m=function(){if(p(this))return-g(this).m();for(var T=0,k=1,R=0;R<this.g.length;R++){var I=this.i(R);T+=(0<=I?I:4294967296+I)*k,k*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(m(this))return"0";if(p(this))return"-"+g(this).toString(T);for(var k=u(Math.pow(T,6)),R=this,I="";;){var P=_(R,k).g;R=v(R,P.j(k));var N=((0<R.g.length?R.g[0]:R.h)>>>0).toString(T);if(R=P,m(R))return N+I;for(;6>N.length;)N="0"+N;I=N+I}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function m(T){if(T.h!=0)return!1;for(var k=0;k<T.g.length;k++)if(T.g[k]!=0)return!1;return!0}function p(T){return T.h==-1}e.l=function(T){return T=v(this,T),p(T)?-1:m(T)?0:1};function g(T){for(var k=T.g.length,R=[],I=0;I<k;I++)R[I]=~T.g[I];return new s(R,~T.h).add(f)}e.abs=function(){return p(this)?g(this):this},e.add=function(T){for(var k=Math.max(this.g.length,T.g.length),R=[],I=0,P=0;P<=k;P++){var N=I+(this.i(P)&65535)+(T.i(P)&65535),M=(N>>>16)+(this.i(P)>>>16)+(T.i(P)>>>16);I=M>>>16,N&=65535,M&=65535,R[P]=M<<16|N}return new s(R,R[R.length-1]&-2147483648?-1:0)};function v(T,k){return T.add(g(k))}e.j=function(T){if(m(this)||m(T))return d;if(p(this))return p(T)?g(this).j(g(T)):g(g(this).j(T));if(p(T))return g(this.j(g(T)));if(0>this.l(h)&&0>T.l(h))return u(this.m()*T.m());for(var k=this.g.length+T.g.length,R=[],I=0;I<2*k;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(var P=0;P<T.g.length;P++){var N=this.i(I)>>>16,M=this.i(I)&65535,O=T.i(P)>>>16,j=T.i(P)&65535;R[2*I+2*P]+=M*j,y(R,2*I+2*P),R[2*I+2*P+1]+=N*j,y(R,2*I+2*P+1),R[2*I+2*P+1]+=M*O,y(R,2*I+2*P+1),R[2*I+2*P+2]+=N*O,y(R,2*I+2*P+2)}for(I=0;I<k;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=k;I<2*k;I++)R[I]=0;return new s(R,0)};function y(T,k){for(;(T[k]&65535)!=T[k];)T[k+1]+=T[k]>>>16,T[k]&=65535,k++}function w(T,k){this.g=T,this.h=k}function _(T,k){if(m(k))throw Error("division by zero");if(m(T))return new w(d,d);if(p(T))return k=_(g(T),k),new w(g(k.g),g(k.h));if(p(k))return k=_(T,g(k)),new w(g(k.g),k.h);if(30<T.g.length){if(p(T)||p(k))throw Error("slowDivide_ only works with positive integers.");for(var R=f,I=k;0>=I.l(T);)R=E(R),I=E(I);var P=S(R,1),N=S(I,1);for(I=S(I,2),R=S(R,2);!m(I);){var M=N.add(I);0>=M.l(T)&&(P=P.add(R),N=M),I=S(I,1),R=S(R,1)}return k=v(T,P.j(k)),new w(P,k)}for(P=d;0<=T.l(k);){for(R=Math.max(1,Math.floor(T.m()/k.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),N=u(R),M=N.j(k);p(M)||0<M.l(T);)R-=I,N=u(R),M=N.j(k);m(N)&&(N=f),P=P.add(N),T=v(T,M)}return new w(P,T)}e.A=function(T){return _(this,T).h},e.and=function(T){for(var k=Math.max(this.g.length,T.g.length),R=[],I=0;I<k;I++)R[I]=this.i(I)&T.i(I);return new s(R,this.h&T.h)},e.or=function(T){for(var k=Math.max(this.g.length,T.g.length),R=[],I=0;I<k;I++)R[I]=this.i(I)|T.i(I);return new s(R,this.h|T.h)},e.xor=function(T){for(var k=Math.max(this.g.length,T.g.length),R=[],I=0;I<k;I++)R[I]=this.i(I)^T.i(I);return new s(R,this.h^T.h)};function E(T){for(var k=T.g.length+1,R=[],I=0;I<k;I++)R[I]=T.i(I)<<1|T.i(I-1)>>>31;return new s(R,T.h)}function S(T,k){var R=k>>5;k%=32;for(var I=T.g.length-R,P=[],N=0;N<I;N++)P[N]=0<k?T.i(N+R)>>>k|T.i(N+R+1)<<32-k:T.i(N+R);return new s(P,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,nte=s}).apply(typeof G0e<"u"?G0e:typeof self<"u"?self:typeof window<"u"?window:{});var CD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function($,J,ie){return $==Array.prototype||$==Object.prototype||($[J]=ie.value),$};function n($){$=[typeof globalThis=="object"&&globalThis,$,typeof window=="object"&&window,typeof self=="object"&&self,typeof CD=="object"&&CD];for(var J=0;J<$.length;++J){var ie=$[J];if(ie&&ie.Math==Math)return ie}throw Error("Cannot find global object")}var r=n(this);function i($,J){if(J)e:{var ie=r;$=$.split(".");for(var be=0;be<$.length-1;be++){var Ve=$[be];if(!(Ve in ie))break e;ie=ie[Ve]}$=$[$.length-1],be=ie[$],J=J(be),J!=be&&J!=null&&t(ie,$,{configurable:!0,writable:!0,value:J})}}function o($,J){$ instanceof String&&($+="");var ie=0,be=!1,Ve={next:function(){if(!be&&ie<$.length){var Ze=ie++;return{value:J(Ze,$[Ze]),done:!1}}return be=!0,{done:!0,value:void 0}}};return Ve[Symbol.iterator]=function(){return Ve},Ve}i("Array.prototype.values",function($){return $||function(){return o(this,function(J,ie){return ie})}});var s=s||{},a=this||self;function l($){var J=typeof $;return J=J!="object"?J:$?Array.isArray($)?"array":J:"null",J=="array"||J=="object"&&typeof $.length=="number"}function u($){var J=typeof $;return J=="object"&&$!=null||J=="function"}function c($,J,ie){return $.call.apply($.bind,arguments)}function d($,J,ie){if(!$)throw Error();if(2<arguments.length){var be=Array.prototype.slice.call(arguments,2);return function(){var Ve=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ve,be),$.apply(J,Ve)}}return function(){return $.apply(J,arguments)}}function f($,J,ie){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,f.apply(null,arguments)}function h($,J){var ie=Array.prototype.slice.call(arguments,1);return function(){var be=ie.slice();return be.push.apply(be,arguments),$.apply(this,be)}}function m($,J){function ie(){}ie.prototype=J.prototype,$.aa=J.prototype,$.prototype=new ie,$.prototype.constructor=$,$.Qb=function(be,Ve,Ze){for(var Pt=Array(arguments.length-2),ai=2;ai<arguments.length;ai++)Pt[ai-2]=arguments[ai];return J.prototype[Ve].apply(be,Pt)}}function p($){const J=$.length;if(0<J){const ie=Array(J);for(let be=0;be<J;be++)ie[be]=$[be];return ie}return[]}function g($,J){for(let ie=1;ie<arguments.length;ie++){const be=arguments[ie];if(l(be)){const Ve=$.length||0,Ze=be.length||0;$.length=Ve+Ze;for(let Pt=0;Pt<Ze;Pt++)$[Ve+Pt]=be[Pt]}else $.push(be)}}class v{constructor(J,ie){this.i=J,this.j=ie,this.h=0,this.g=null}get(){let J;return 0<this.h?(this.h--,J=this.g,this.g=J.next,J.next=null):J=this.i(),J}}function y($){return/^[\s\xa0]*$/.test($)}function w(){var $=a.navigator;return $&&($=$.userAgent)?$:""}function _($){return _[" "]($),$}_[" "]=function(){};var E=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function S($,J,ie){for(const be in $)J.call(ie,$[be],be,$)}function T($,J){for(const ie in $)J.call(void 0,$[ie],ie,$)}function k($){const J={};for(const ie in $)J[ie]=$[ie];return J}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I($,J){let ie,be;for(let Ve=1;Ve<arguments.length;Ve++){be=arguments[Ve];for(ie in be)$[ie]=be[ie];for(let Ze=0;Ze<R.length;Ze++)ie=R[Ze],Object.prototype.hasOwnProperty.call(be,ie)&&($[ie]=be[ie])}}function P($){var J=1;$=$.split(":");const ie=[];for(;0<J&&$.length;)ie.push($.shift()),J--;return $.length&&ie.push($.join(":")),ie}function N($){a.setTimeout(()=>{throw $},0)}function M(){var $=V;let J=null;return $.g&&(J=$.g,$.g=$.g.next,$.g||($.h=null),J.next=null),J}class O{constructor(){this.h=this.g=null}add(J,ie){const be=j.get();be.set(J,ie),this.h?this.h.next=be:this.g=be,this.h=be}}var j=new v(()=>new U,$=>$.reset());class U{constructor(){this.next=this.g=this.h=null}set(J,ie){this.h=J,this.g=ie,this.next=null}reset(){this.next=this.g=this.h=null}}let q,W=!1,V=new O,z=()=>{const $=a.Promise.resolve(void 0);q=()=>{$.then(L)}};var L=()=>{for(var $;$=M();){try{$.h.call($.g)}catch(ie){N(ie)}var J=j;J.j($),100>J.h&&(J.h++,$.next=J.g,J.g=$)}W=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B($,J){this.type=$,this.g=this.target=J,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var Y=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var $=!1,J=Object.defineProperty({},"passive",{get:function(){$=!0}});try{const ie=()=>{};a.addEventListener("test",ie,J),a.removeEventListener("test",ie,J)}catch{}return $})();function Q($,J){if(B.call(this,$?$.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,$){var ie=this.type=$.type,be=$.changedTouches&&$.changedTouches.length?$.changedTouches[0]:null;if(this.target=$.target||$.srcElement,this.g=J,J=$.relatedTarget){if(E){e:{try{_(J.nodeName);var Ve=!0;break e}catch{}Ve=!1}Ve||(J=null)}}else ie=="mouseover"?J=$.fromElement:ie=="mouseout"&&(J=$.toElement);this.relatedTarget=J,be?(this.clientX=be.clientX!==void 0?be.clientX:be.pageX,this.clientY=be.clientY!==void 0?be.clientY:be.pageY,this.screenX=be.screenX||0,this.screenY=be.screenY||0):(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0),this.button=$.button,this.key=$.key||"",this.ctrlKey=$.ctrlKey,this.altKey=$.altKey,this.shiftKey=$.shiftKey,this.metaKey=$.metaKey,this.pointerId=$.pointerId||0,this.pointerType=typeof $.pointerType=="string"?$.pointerType:ne[$.pointerType]||"",this.state=$.state,this.i=$,$.defaultPrevented&&Q.aa.h.call(this)}}m(Q,B);var ne={2:"touch",3:"pen",4:"mouse"};Q.prototype.h=function(){Q.aa.h.call(this);var $=this.i;$.preventDefault?$.preventDefault():$.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),le=0;function ue($,J,ie,be,Ve){this.listener=$,this.proxy=null,this.src=J,this.type=ie,this.capture=!!be,this.ha=Ve,this.key=++le,this.da=this.fa=!1}function ae($){$.da=!0,$.listener=null,$.proxy=null,$.src=null,$.ha=null}function te($){this.src=$,this.g={},this.h=0}te.prototype.add=function($,J,ie,be,Ve){var Ze=$.toString();$=this.g[Ze],$||($=this.g[Ze]=[],this.h++);var Pt=we($,J,be,Ve);return-1<Pt?(J=$[Pt],ie||(J.fa=!1)):(J=new ue(J,this.src,Ze,!!be,Ve),J.fa=ie,$.push(J)),J};function se($,J){var ie=J.type;if(ie in $.g){var be=$.g[ie],Ve=Array.prototype.indexOf.call(be,J,void 0),Ze;(Ze=0<=Ve)&&Array.prototype.splice.call(be,Ve,1),Ze&&(ae(J),$.g[ie].length==0&&(delete $.g[ie],$.h--))}}function we($,J,ie,be){for(var Ve=0;Ve<$.length;++Ve){var Ze=$[Ve];if(!Ze.da&&Ze.listener==J&&Ze.capture==!!ie&&Ze.ha==be)return Ve}return-1}var X="closure_lm_"+(1e6*Math.random()|0),he={};function ge($,J,ie,be,Ve){if(Array.isArray(J)){for(var Ze=0;Ze<J.length;Ze++)ge($,J[Ze],ie,be,Ve);return null}return ie=ke(ie),$&&$[ce]?$.K(J,ie,u(be)?!!be.capture:!1,Ve):re($,J,ie,!1,be,Ve)}function re($,J,ie,be,Ve,Ze){if(!J)throw Error("Invalid event type");var Pt=u(Ve)?!!Ve.capture:!!Ve,ai=Se($);if(ai||($[X]=ai=new te($)),ie=ai.add(J,ie,be,Pt,Ze),ie.proxy)return ie;if(be=ee(),ie.proxy=be,be.src=$,be.listener=ie,$.addEventListener)Y||(Ve=Pt),Ve===void 0&&(Ve=!1),$.addEventListener(J.toString(),be,Ve);else if($.attachEvent)$.attachEvent(Oe(J.toString()),be);else if($.addListener&&$.removeListener)$.addListener(be);else throw Error("addEventListener and attachEvent are unavailable.");return ie}function ee(){function $(ie){return J.call($.src,$.listener,ie)}const J=Ae;return $}function fe($,J,ie,be,Ve){if(Array.isArray(J))for(var Ze=0;Ze<J.length;Ze++)fe($,J[Ze],ie,be,Ve);else be=u(be)?!!be.capture:!!be,ie=ke(ie),$&&$[ce]?($=$.i,J=String(J).toString(),J in $.g&&(Ze=$.g[J],ie=we(Ze,ie,be,Ve),-1<ie&&(ae(Ze[ie]),Array.prototype.splice.call(Ze,ie,1),Ze.length==0&&(delete $.g[J],$.h--)))):$&&($=Se($))&&(J=$.g[J.toString()],$=-1,J&&($=we(J,ie,be,Ve)),(ie=-1<$?J[$]:null)&&Re(ie))}function Re($){if(typeof $!="number"&&$&&!$.da){var J=$.src;if(J&&J[ce])se(J.i,$);else{var ie=$.type,be=$.proxy;J.removeEventListener?J.removeEventListener(ie,be,$.capture):J.detachEvent?J.detachEvent(Oe(ie),be):J.addListener&&J.removeListener&&J.removeListener(be),(ie=Se(J))?(se(ie,$),ie.h==0&&(ie.src=null,J[X]=null)):ae($)}}}function Oe($){return $ in he?he[$]:he[$]="on"+$}function Ae($,J){if($.da)$=!0;else{J=new Q(J,this);var ie=$.listener,be=$.ha||$.src;$.fa&&Re($),$=ie.call(be,J)}return $}function Se($){return $=$[X],$ instanceof te?$:null}var xe="__closure_events_fn_"+(1e9*Math.random()>>>0);function ke($){return typeof $=="function"?$:($[xe]||($[xe]=function(J){return $.handleEvent(J)}),$[xe])}function me(){H.call(this),this.i=new te(this),this.M=this,this.F=null}m(me,H),me.prototype[ce]=!0,me.prototype.removeEventListener=function($,J,ie,be){fe(this,$,J,ie,be)};function Me($,J){var ie,be=$.F;if(be)for(ie=[];be;be=be.F)ie.push(be);if($=$.M,be=J.type||J,typeof J=="string")J=new B(J,$);else if(J instanceof B)J.target=J.target||$;else{var Ve=J;J=new B(be,$),I(J,Ve)}if(Ve=!0,ie)for(var Ze=ie.length-1;0<=Ze;Ze--){var Pt=J.g=ie[Ze];Ve=ze(Pt,be,!0,J)&&Ve}if(Pt=J.g=$,Ve=ze(Pt,be,!0,J)&&Ve,Ve=ze(Pt,be,!1,J)&&Ve,ie)for(Ze=0;Ze<ie.length;Ze++)Pt=J.g=ie[Ze],Ve=ze(Pt,be,!1,J)&&Ve}me.prototype.N=function(){if(me.aa.N.call(this),this.i){var $=this.i,J;for(J in $.g){for(var ie=$.g[J],be=0;be<ie.length;be++)ae(ie[be]);delete $.g[J],$.h--}}this.F=null},me.prototype.K=function($,J,ie,be){return this.i.add(String($),J,!1,ie,be)},me.prototype.L=function($,J,ie,be){return this.i.add(String($),J,!0,ie,be)};function ze($,J,ie,be){if(J=$.i.g[String(J)],!J)return!0;J=J.concat();for(var Ve=!0,Ze=0;Ze<J.length;++Ze){var Pt=J[Ze];if(Pt&&!Pt.da&&Pt.capture==ie){var ai=Pt.listener,ts=Pt.ha||Pt.src;Pt.fa&&se($.i,Pt),Ve=ai.call(ts,be)!==!1&&Ve}}return Ve&&!be.defaultPrevented}function Xe($,J,ie){if(typeof $=="function")ie&&($=f($,ie));else if($&&typeof $.handleEvent=="function")$=f($.handleEvent,$);else throw Error("Invalid listener argument");return 2147483647<Number(J)?-1:a.setTimeout($,J||0)}function tt($){$.g=Xe(()=>{$.g=null,$.i&&($.i=!1,tt($))},$.l);const J=$.h;$.h=null,$.m.apply(null,J)}class gt extends H{constructor(J,ie){super(),this.m=J,this.l=ie,this.h=null,this.i=!1,this.g=null}j(J){this.h=arguments,this.g?this.i=!0:tt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qt($){H.call(this),this.h=$,this.g={}}m(qt,H);var zt=[];function _n($){S($.g,function(J,ie){this.g.hasOwnProperty(ie)&&Re(J)},$),$.g={}}qt.prototype.N=function(){qt.aa.N.call(this),_n(this)},qt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $t=a.JSON.stringify,dn=a.JSON.parse,Vn=class{stringify($){return a.JSON.stringify($,void 0)}parse($){return a.JSON.parse($,void 0)}};function Ln(){}Ln.prototype.h=null;function Tr($){return $.h||($.h=$.i())}function Xn(){}var mr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function En(){B.call(this,"d")}m(En,B);function nn(){B.call(this,"c")}m(nn,B);var rr={},ii=null;function br(){return ii=ii||new me}rr.La="serverreachability";function Sn($){B.call(this,rr.La,$)}m(Sn,B);function ht($){const J=br();Me(J,new Sn(J))}rr.STAT_EVENT="statevent";function cr($,J){B.call(this,rr.STAT_EVENT,$),this.stat=J}m(cr,B);function Ut($){const J=br();Me(J,new cr(J,$))}rr.Ma="timingevent";function Zn($,J){B.call(this,rr.Ma,$),this.size=J}m(Zn,B);function sn($,J){if(typeof $!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){$()},J)}function Yn(){this.g=!0}Yn.prototype.xa=function(){this.g=!1};function wr($,J,ie,be,Ve,Ze){$.info(function(){if($.g)if(Ze)for(var Pt="",ai=Ze.split("&"),ts=0;ts<ai.length;ts++){var Rr=ai[ts].split("=");if(1<Rr.length){var ms=Rr[0];Rr=Rr[1];var gs=ms.split("_");Pt=2<=gs.length&&gs[1]=="type"?Pt+(ms+"="+Rr+"&"):Pt+(ms+"=redacted&")}}else Pt=null;else Pt=Ze;return"XMLHTTP REQ ("+be+") [attempt "+Ve+"]: "+J+`
`+ie+`
`+Pt})}function kr($,J,ie,be,Ve,Ze,Pt){$.info(function(){return"XMLHTTP RESP ("+be+") [ attempt "+Ve+"]: "+J+`
`+ie+`
`+Ze+" "+Pt})}function Ar($,J,ie,be){$.info(function(){return"XMLHTTP TEXT ("+J+"): "+fa($,ie)+(be?" "+be:"")})}function Qo($,J){$.info(function(){return"TIMEOUT: "+J})}Yn.prototype.info=function(){};function fa($,J){if(!$.g)return J;if(!J)return null;try{var ie=JSON.parse(J);if(ie){for($=0;$<ie.length;$++)if(Array.isArray(ie[$])){var be=ie[$];if(!(2>be.length)){var Ve=be[1];if(Array.isArray(Ve)&&!(1>Ve.length)){var Ze=Ve[0];if(Ze!="noop"&&Ze!="stop"&&Ze!="close")for(var Pt=1;Pt<Ve.length;Pt++)Ve[Pt]=""}}}}return $t(ie)}catch{return J}}var du={NO_ERROR:0,TIMEOUT:8},Ju={},Fn;function Ni(){}m(Ni,Ln),Ni.prototype.g=function(){return new XMLHttpRequest},Ni.prototype.i=function(){return{}},Fn=new Ni;function Jo($,J,ie,be){this.j=$,this.i=J,this.l=ie,this.R=be||1,this.U=new qt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tf}function Tf(){this.i=null,this.g="",this.h=!1}var Zc={},Zu={};function ec($,J,ie){$.L=1,$.v=Qn(ft(J)),$.m=ie,$.P=!0,Zo($,null)}function Zo($,J){$.F=Date.now(),dr($),$.A=ft($.v);var ie=$.A,be=$.R;Array.isArray(be)||(be=[String(be)]),nc(ie.i,"t",be),$.C=0,ie=$.j.J,$.h=new Tf,$.g=dA($.j,ie?J:null,!$.m),0<$.O&&($.M=new gt(f($.Y,$,$.g),$.O)),J=$.U,ie=$.g,be=$.ca;var Ve="readystatechange";Array.isArray(Ve)||(Ve&&(zt[0]=Ve.toString()),Ve=zt);for(var Ze=0;Ze<Ve.length;Ze++){var Pt=ge(ie,Ve[Ze],be||J.handleEvent,!1,J.h||J);if(!Pt)break;J.g[Pt.key]=Pt}J=$.H?k($.H):{},$.m?($.u||($.u="POST"),J["Content-Type"]="application/x-www-form-urlencoded",$.g.ea($.A,$.u,$.m,J)):($.u="GET",$.g.ea($.A,$.u,null,J)),ht(),wr($.i,$.u,$.A,$.l,$.R,$.m)}Jo.prototype.ca=function($){$=$.target;const J=this.M;J&&or($)==3?J.j():this.Y($)},Jo.prototype.Y=function($){try{if($==this.g)e:{const gs=or(this.g);var J=this.g.Ba();const Of=this.g.Z();if(!(3>gs)&&(gs!=3||this.g&&(this.h.h||this.g.oa()||Yr(this.g)))){this.J||gs!=4||J==7||(J==8||0>=Of?ht(3):ht(2)),wo(this);var ie=this.g.Z();this.X=ie;t:if(kf(this)){var be=Yr(this.g);$="";var Ve=be.length,Ze=or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xo(this),hs(this);var Pt="";break t}this.h.i=new a.TextDecoder}for(J=0;J<Ve;J++)this.h.h=!0,$+=this.h.i.decode(be[J],{stream:!(Ze&&J==Ve-1)});be.length=0,this.h.g+=$,this.C=0,Pt=this.h.g}else Pt=this.g.oa();if(this.o=ie==200,kr(this.i,this.u,this.A,this.l,this.R,gs,ie),this.o){if(this.T&&!this.K){t:{if(this.g){var ai,ts=this.g;if((ai=ts.g?ts.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(ai)){var Rr=ai;break t}}Rr=null}if(ie=Rr)Ar(this.i,this.l,ie,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hu(this,ie);else{this.o=!1,this.s=3,Ut(12),xo(this),hs(this);break e}}if(this.P){ie=!0;let zs;for(;!this.J&&this.C<Pt.length;)if(zs=fu(this,Pt),zs==Zu){gs==4&&(this.s=4,Ut(14),ie=!1),Ar(this.i,this.l,null,"[Incomplete Response]");break}else if(zs==Zc){this.s=4,Ut(15),Ar(this.i,this.l,Pt,"[Invalid Chunk]"),ie=!1;break}else Ar(this.i,this.l,zs,null),hu(this,zs);if(kf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gs!=4||Pt.length!=0||this.h.h||(this.s=1,Ut(16),ie=!1),this.o=this.o&&ie,!ie)Ar(this.i,this.l,Pt,"[Invalid Chunked Response]"),xo(this),hs(this);else if(0<Pt.length&&!this.W){this.W=!0;var ms=this.j;ms.g==this&&ms.ba&&!ms.M&&(ms.j.info("Great, no buffering proxy detected. Bytes received: "+Pt.length),JC(ms),ms.M=!0,Ut(11))}}else Ar(this.i,this.l,Pt,null),hu(this,Pt);gs==4&&xo(this),this.o&&!this.J&&(gs==4?t1(this.j,this):(this.o=!1,dr(this)))}else oi(this.g),ie==400&&0<Pt.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),xo(this),hs(this)}}}catch{}finally{}};function kf($){return $.g?$.u=="GET"&&$.L!=2&&$.j.Ca:!1}function fu($,J){var ie=$.C,be=J.indexOf(`
`,ie);return be==-1?Zu:(ie=Number(J.substring(ie,be)),isNaN(ie)?Zc:(be+=1,be+ie>J.length?Zu:(J=J.slice(be,be+ie),$.C=be+ie,J)))}Jo.prototype.cancel=function(){this.J=!0,xo(this)};function dr($){$.S=Date.now()+$.I,ed($,$.I)}function ed($,J){if($.B!=null)throw Error("WatchDog timer not null");$.B=sn(f($.ba,$),J)}function wo($){$.B&&(a.clearTimeout($.B),$.B=null)}Jo.prototype.ba=function(){this.B=null;const $=Date.now();0<=$-this.S?(Qo(this.i,this.A),this.L!=2&&(ht(),Ut(17)),xo(this),this.s=2,hs(this)):ed(this,this.S-$)};function hs($){$.j.G==0||$.J||t1($.j,$)}function xo($){wo($);var J=$.M;J&&typeof J.ma=="function"&&J.ma(),$.M=null,_n($.U),$.g&&(J=$.g,$.g=null,J.abort(),J.ma())}function hu($,J){try{var ie=$.j;if(ie.G!=0&&(ie.g==$||_o(ie.h,$))){if(!$.K&&_o(ie.h,$)&&ie.G==3){try{var be=ie.Da.g.parse(J)}catch{be=null}if(Array.isArray(be)&&be.length==3){var Ve=be;if(Ve[0]==0){e:if(!ie.u){if(ie.g)if(ie.g.F+3e3<$.F)e1(ie),To(ie);else break e;Zb(ie),Ut(18)}}else ie.za=Ve[1],0<ie.za-ie.T&&37500>Ve[2]&&ie.F&&ie.v==0&&!ie.C&&(ie.C=sn(f(ie.Za,ie),6e3));if(1>=Af(ie.h)&&ie.ca){try{ie.ca()}catch{}ie.ca=void 0}}else ip(ie,11)}else if(($.K||ie.g==$)&&e1(ie),!y(J))for(Ve=ie.Da.g.parse(J),J=0;J<Ve.length;J++){let Rr=Ve[J];if(ie.T=Rr[0],Rr=Rr[1],ie.G==2)if(Rr[0]=="c"){ie.K=Rr[1],ie.ia=Rr[2];const ms=Rr[3];ms!=null&&(ie.la=ms,ie.j.info("VER="+ie.la));const gs=Rr[4];gs!=null&&(ie.Aa=gs,ie.j.info("SVER="+ie.Aa));const Of=Rr[5];Of!=null&&typeof Of=="number"&&0<Of&&(be=1.5*Of,ie.L=be,ie.j.info("backChannelRequestTimeoutMs_="+be)),be=ie;const zs=$.g;if(zs){const n1=zs.g?zs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(n1){var Ze=be.h;Ze.g||n1.indexOf("spdy")==-1&&n1.indexOf("quic")==-1&&n1.indexOf("h2")==-1||(Ze.j=Ze.l,Ze.g=new Set,Ze.h&&(pe(Ze,Ze.h),Ze.h=null))}if(be.D){const r1=zs.g?zs.g.getResponseHeader("X-HTTP-Session-Id"):null;r1&&(be.ya=r1,Xt(be.I,be.D,r1))}}ie.G=3,ie.l&&ie.l.ua(),ie.ba&&(ie.R=Date.now()-$.F,ie.j.info("Handshake RTT: "+ie.R+"ms")),be=ie;var Pt=$;if(be.qa=cA(be,be.J?be.ia:null,be.W),Pt.K){Ne(be.h,Pt);var ai=Pt,ts=be.L;ts&&(ai.I=ts),ai.B&&(wo(ai),dr(ai)),be.g=Pt}else cy(be);0<ie.i.length&&mu(ie)}else Rr[0]!="stop"&&Rr[0]!="close"||ip(ie,7);else ie.G==3&&(Rr[0]=="stop"||Rr[0]=="close"?Rr[0]=="stop"?ip(ie,7):si(ie):Rr[0]!="noop"&&ie.l&&ie.l.ta(Rr),ie.v=0)}}ht(4)}catch{}}var js=class{constructor($,J){this.g=$,this.map=J}};function Al($){this.l=$||10,a.PerformanceNavigationTiming?($=a.performance.getEntriesByType("navigation"),$=0<$.length&&($[0].nextHopProtocol=="hq"||$[0].nextHopProtocol=="h2")):$=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=$?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Co($){return $.h?!0:$.g?$.g.size>=$.j:!1}function Af($){return $.h?1:$.g?$.g.size:0}function _o($,J){return $.h?$.h==J:$.g?$.g.has(J):!1}function pe($,J){$.g?$.g.add(J):$.h=J}function Ne($,J){$.h&&$.h==J?$.h=null:$.g&&$.g.has(J)&&$.g.delete(J)}Al.prototype.cancel=function(){if(this.i=Ce(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const $ of this.g.values())$.cancel();this.g.clear()}};function Ce($){if($.h!=null)return $.i.concat($.h.D);if($.g!=null&&$.g.size!==0){let J=$.i;for(const ie of $.g.values())J=J.concat(ie.D);return J}return p($.i)}function Be($){if($.V&&typeof $.V=="function")return $.V();if(typeof Map<"u"&&$ instanceof Map||typeof Set<"u"&&$ instanceof Set)return Array.from($.values());if(typeof $=="string")return $.split("");if(l($)){for(var J=[],ie=$.length,be=0;be<ie;be++)J.push($[be]);return J}J=[],ie=0;for(be in $)J[ie++]=$[be];return J}function He($){if($.na&&typeof $.na=="function")return $.na();if(!$.V||typeof $.V!="function"){if(typeof Map<"u"&&$ instanceof Map)return Array.from($.keys());if(!(typeof Set<"u"&&$ instanceof Set)){if(l($)||typeof $=="string"){var J=[];$=$.length;for(var ie=0;ie<$;ie++)J.push(ie);return J}J=[],ie=0;for(const be in $)J[ie++]=be;return J}}}function je($,J){if($.forEach&&typeof $.forEach=="function")$.forEach(J,void 0);else if(l($)||typeof $=="string")Array.prototype.forEach.call($,J,void 0);else for(var ie=He($),be=Be($),Ve=be.length,Ze=0;Ze<Ve;Ze++)J.call(void 0,be[Ze],ie&&ie[Ze],$)}var rt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ut($,J){if($){$=$.split("&");for(var ie=0;ie<$.length;ie++){var be=$[ie].indexOf("="),Ve=null;if(0<=be){var Ze=$[ie].substring(0,be);Ve=$[ie].substring(be+1)}else Ze=$[ie];J(Ze,Ve?decodeURIComponent(Ve.replace(/\+/g," ")):"")}}}function pt($){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,$ instanceof pt){this.h=$.h,_t(this,$.j),this.o=$.o,this.g=$.g,jt(this,$.s),this.l=$.l;var J=$.i,ie=new es;ie.i=J.i,J.g&&(ie.g=new Map(J.g),ie.h=J.h),Pn(this,ie),this.m=$.m}else $&&(J=String($).match(rt))?(this.h=!1,_t(this,J[1]||"",!0),this.o=Wt(J[2]||""),this.g=Wt(J[3]||"",!0),jt(this,J[4]),this.l=Wt(J[5]||"",!0),Pn(this,J[6]||"",!0),this.m=Wt(J[7]||"")):(this.h=!1,this.i=new es(null,this.h))}pt.prototype.toString=function(){var $=[],J=this.j;J&&$.push(sr(J,ha,!0),":");var ie=this.g;return(ie||J=="file")&&($.push("//"),(J=this.o)&&$.push(sr(J,ha,!0),"@"),$.push(encodeURIComponent(String(ie)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),ie=this.s,ie!=null&&$.push(":",String(ie))),(ie=this.l)&&(this.g&&ie.charAt(0)!="/"&&$.push("/"),$.push(sr(ie,ie.charAt(0)=="/"?Rf:So,!0))),(ie=this.i.toString())&&$.push("?",ie),(ie=this.m)&&$.push("#",sr(ie,If)),$.join("")};function ft($){return new pt($)}function _t($,J,ie){$.j=ie?Wt(J,!0):J,$.j&&($.j=$.j.replace(/:$/,""))}function jt($,J){if(J){if(J=Number(J),isNaN(J)||0>J)throw Error("Bad port number "+J);$.s=J}else $.s=null}function Pn($,J,ie){J instanceof es?($.i=J,pa($.i,$.h)):(ie||(J=sr(J,tc)),$.i=new es(J,$.h))}function Xt($,J,ie){$.i.set(J,ie)}function Qn($){return Xt($,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),$}function Wt($,J){return $?J?decodeURI($.replace(/%25/g,"%2525")):decodeURIComponent($):""}function sr($,J,ie){return typeof $=="string"?($=encodeURI($).replace(J,Eo),ie&&($=$.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),$):null}function Eo($){return $=$.charCodeAt(0),"%"+($>>4&15).toString(16)+($&15).toString(16)}var ha=/[#\/\?@]/g,So=/[#\?:]/g,Rf=/[#\?]/g,tc=/[#\?@]/g,If=/#/g;function es($,J){this.h=this.g=null,this.i=$||null,this.j=!!J}function Mi($){$.g||($.g=new Map,$.h=0,$.i&&ut($.i,function(J,ie){$.add(decodeURIComponent(J.replace(/\+/g," ")),ie)}))}e=es.prototype,e.add=function($,J){Mi(this),this.i=null,$=Uo(this,$);var ie=this.g.get($);return ie||this.g.set($,ie=[]),ie.push(J),this.h+=1,this};function Si($,J){Mi($),J=Uo($,J),$.g.has(J)&&($.i=null,$.h-=$.g.get(J).length,$.g.delete(J))}function ps($,J){return Mi($),J=Uo($,J),$.g.has(J)}e.forEach=function($,J){Mi(this),this.g.forEach(function(ie,be){ie.forEach(function(Ve){$.call(J,Ve,be,this)},this)},this)},e.na=function(){Mi(this);const $=Array.from(this.g.values()),J=Array.from(this.g.keys()),ie=[];for(let be=0;be<J.length;be++){const Ve=$[be];for(let Ze=0;Ze<Ve.length;Ze++)ie.push(J[be])}return ie},e.V=function($){Mi(this);let J=[];if(typeof $=="string")ps(this,$)&&(J=J.concat(this.g.get(Uo(this,$))));else{$=Array.from(this.g.values());for(let ie=0;ie<$.length;ie++)J=J.concat($[ie])}return J},e.set=function($,J){return Mi(this),this.i=null,$=Uo(this,$),ps(this,$)&&(this.h-=this.g.get($).length),this.g.set($,[J]),this.h+=1,this},e.get=function($,J){return $?($=this.V($),0<$.length?String($[0]):J):J};function nc($,J,ie){Si($,J),0<ie.length&&($.i=null,$.g.set(Uo($,J),p(ie)),$.h+=ie.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const $=[],J=Array.from(this.g.keys());for(var ie=0;ie<J.length;ie++){var be=J[ie];const Ze=encodeURIComponent(String(be)),Pt=this.V(be);for(be=0;be<Pt.length;be++){var Ve=Ze;Pt[be]!==""&&(Ve+="="+encodeURIComponent(String(Pt[be]))),$.push(Ve)}}return this.i=$.join("&")};function Uo($,J){return J=String(J),$.j&&(J=J.toLowerCase()),J}function pa($,J){J&&!$.j&&(Mi($),$.i=null,$.g.forEach(function(ie,be){var Ve=be.toLowerCase();be!=Ve&&(Si(this,be),nc(this,Ve,ie))},$)),$.j=J}function Df($,J){const ie=new Yn;if(a.Image){const be=new Image;be.onload=h(to,ie,"TestLoadImage: loaded",!0,J,be),be.onerror=h(to,ie,"TestLoadImage: error",!1,J,be),be.onabort=h(to,ie,"TestLoadImage: abort",!1,J,be),be.ontimeout=h(to,ie,"TestLoadImage: timeout",!1,J,be),a.setTimeout(function(){be.ontimeout&&be.ontimeout()},1e4),be.src=$}else J(!1)}function Rl($,J){const ie=new Yn,be=new AbortController,Ve=setTimeout(()=>{be.abort(),to(ie,"TestPingServer: timeout",!1,J)},1e4);fetch($,{signal:be.signal}).then(Ze=>{clearTimeout(Ve),Ze.ok?to(ie,"TestPingServer: ok",!0,J):to(ie,"TestPingServer: server error",!1,J)}).catch(()=>{clearTimeout(Ve),to(ie,"TestPingServer: error",!1,J)})}function to($,J,ie,be,Ve){try{Ve&&(Ve.onload=null,Ve.onerror=null,Ve.onabort=null,Ve.ontimeout=null),be(ie)}catch{}}function Vm(){this.g=new Vn}function Pf($,J,ie){const be=ie||"";try{je($,function(Ve,Ze){let Pt=Ve;u(Ve)&&(Pt=$t(Ve)),J.push(be+Ze+"="+encodeURIComponent(Pt))})}catch(Ve){throw J.push(be+"type="+encodeURIComponent("_badmap")),Ve}}function Bs($){this.l=$.Ub||null,this.j=$.eb||!1}m(Bs,Ln),Bs.prototype.g=function(){return new pu(this.l,this.j)},Bs.prototype.i=(function($){return function(){return $}})({});function pu($,J){me.call(this),this.D=$,this.o=J,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(pu,me),e=pu.prototype,e.open=function($,J){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=$,this.A=J,this.readyState=1,ma(this)},e.send=function($){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const J={headers:this.u,method:this.B,credentials:this.m,cache:void 0};$&&(J.body=$),(this.D||a).fetch(new Request(this.A,J)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ya(this)),this.readyState=0},e.Sa=function($){if(this.g&&(this.l=$,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=$.headers,this.readyState=2,ma(this)),this.g&&(this.readyState=3,ma(this),this.g)))if(this.responseType==="arraybuffer")$.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in $){if(this.j=$.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wm(this)}else $.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wm($){$.j.read().then($.Pa.bind($)).catch($.ga.bind($))}e.Pa=function($){if(this.g){if(this.o&&$.value)this.response.push($.value);else if(!this.o){var J=$.value?$.value:new Uint8Array(0);(J=this.v.decode(J,{stream:!$.done}))&&(this.response=this.responseText+=J)}$.done?Ya(this):ma(this),this.readyState==3&&Wm(this)}},e.Ra=function($){this.g&&(this.response=this.responseText=$,Ya(this))},e.Qa=function($){this.g&&(this.response=$,Ya(this))},e.ga=function(){this.g&&Ya(this)};function Ya($){$.readyState=4,$.l=null,$.j=null,$.v=null,ma($)}e.setRequestHeader=function($,J){this.u.append($,J)},e.getResponseHeader=function($){return this.h&&this.h.get($.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const $=[],J=this.h.entries();for(var ie=J.next();!ie.done;)ie=ie.value,$.push(ie[0]+": "+ie[1]),ie=J.next();return $.join(`\r
`)};function ma($){$.onreadystatechange&&$.onreadystatechange.call($)}Object.defineProperty(pu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function($){this.m=$?"include":"same-origin"}});function Ee($){let J="";return S($,function(ie,be){J+=be,J+=":",J+=ie,J+=`\r
`}),J}function oe($,J,ie){e:{for(be in ie){var be=!1;break e}be=!0}be||(ie=Ee(ie),typeof $=="string"?ie!=null&&encodeURIComponent(String(ie)):Xt($,J,ie))}function ve($){me.call(this),this.headers=new Map,this.o=$||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(ve,me);var Le=/^https?$/i,St=["POST","PUT"];e=ve.prototype,e.Ha=function($){this.J=$},e.ea=function($,J,ie,be){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+$);J=J?J.toUpperCase():"GET",this.D=$,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fn.g(),this.v=this.o?Tr(this.o):Tr(Fn),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(J,String($),!0),this.B=!1}catch(Ze){Dt(this,Ze);return}if($=ie||"",ie=new Map(this.headers),be)if(Object.getPrototypeOf(be)===Object.prototype)for(var Ve in be)ie.set(Ve,be[Ve]);else if(typeof be.keys=="function"&&typeof be.get=="function")for(const Ze of be.keys())ie.set(Ze,be.get(Ze));else throw Error("Unknown input type for opt_headers: "+String(be));be=Array.from(ie.keys()).find(Ze=>Ze.toLowerCase()=="content-type"),Ve=a.FormData&&$ instanceof a.FormData,!(0<=Array.prototype.indexOf.call(St,J,void 0))||be||Ve||ie.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ze,Pt]of ie)this.g.setRequestHeader(Ze,Pt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{yn(this),this.u=!0,this.g.send($),this.u=!1}catch(Ze){Dt(this,Ze)}};function Dt($,J){$.h=!1,$.g&&($.j=!0,$.g.abort(),$.j=!1),$.l=J,$.m=5,fn($),Kt($)}function fn($){$.A||($.A=!0,Me($,"complete"),Me($,"error"))}e.abort=function($){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=$||7,Me(this,"complete"),Me(this,"abort"),Kt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kt(this,!0)),ve.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Mn(this):this.bb())},e.bb=function(){Mn(this)};function Mn($){if($.h&&typeof s<"u"&&(!$.v[1]||or($)!=4||$.Z()!=2)){if($.u&&or($)==4)Xe($.Ea,0,$);else if(Me($,"readystatechange"),or($)==4){$.h=!1;try{const Pt=$.Z();e:switch(Pt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var J=!0;break e;default:J=!1}var ie;if(!(ie=J)){var be;if(be=Pt===0){var Ve=String($.D).match(rt)[1]||null;!Ve&&a.self&&a.self.location&&(Ve=a.self.location.protocol.slice(0,-1)),be=!Le.test(Ve?Ve.toLowerCase():"")}ie=be}if(ie)Me($,"complete"),Me($,"success");else{$.m=6;try{var Ze=2<or($)?$.g.statusText:""}catch{Ze=""}$.l=Ze+" ["+$.Z()+"]",fn($)}}finally{Kt($)}}}}function Kt($,J){if($.g){yn($);const ie=$.g,be=$.v[0]?()=>{}:null;$.g=null,$.v=null,J||Me($,"ready");try{ie.onreadystatechange=be}catch{}}}function yn($){$.I&&(a.clearTimeout($.I),$.I=null)}e.isActive=function(){return!!this.g};function or($){return $.g?$.g.readyState:0}e.Z=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function($){if(this.g){var J=this.g.responseText;return $&&J.indexOf($)==0&&(J=J.substring($.length)),dn(J)}};function Yr($){try{if(!$.g)return null;if("response"in $.g)return $.g.response;switch($.H){case"":case"text":return $.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in $.g)return $.g.mozResponseArrayBuffer}return null}catch{return null}}function oi($){const J={};$=($.g&&2<=or($)&&$.g.getAllResponseHeaders()||"").split(`\r
`);for(let be=0;be<$.length;be++){if(y($[be]))continue;var ie=P($[be]);const Ve=ie[0];if(ie=ie[1],typeof ie!="string")continue;ie=ie.trim();const Ze=J[Ve]||[];J[Ve]=Ze,Ze.push(ie)}T(J,function(be){return be.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wi($,J,ie){return ie&&ie.internalChannelParams&&ie.internalChannelParams[$]||J}function co($){this.Aa=0,this.i=[],this.j=new Yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wi("failFast",!1,$),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wi("baseRetryDelayMs",5e3,$),this.cb=wi("retryDelaySeedMs",1e4,$),this.Wa=wi("forwardChannelMaxRetries",2,$),this.wa=wi("forwardChannelRequestTimeoutMs",2e4,$),this.pa=$&&$.xmlHttpFactory||void 0,this.Xa=$&&$.Tb||void 0,this.Ca=$&&$.useFetchStreams||!1,this.L=void 0,this.J=$&&$.supportsCrossDomainXhr||!1,this.K="",this.h=new Al($&&$.concurrentRequestLimit),this.Da=new Vm,this.P=$&&$.fastHandshake||!1,this.O=$&&$.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=$&&$.Rb||!1,$&&$.xa&&this.j.xa(),$&&$.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&$&&$.detectBufferingProxy||!1,this.ja=void 0,$&&$.longPollingTimeout&&0<$.longPollingTimeout&&(this.ja=$.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=co.prototype,e.la=8,e.G=1,e.connect=function($,J,ie,be){Ut(0),this.W=$,this.H=J||{},ie&&be!==void 0&&(this.H.OSID=ie,this.H.OAID=be),this.F=this.X,this.I=cA(this,null,this.W),mu(this)};function si($){if(Il($),$.G==3){var J=$.U++,ie=ft($.I);if(Xt(ie,"SID",$.K),Xt(ie,"RID",J),Xt(ie,"TYPE","terminate"),rp($,ie),J=new Jo($,$.j,J),J.L=2,J.v=Qn(ft(ie)),ie=!1,a.navigator&&a.navigator.sendBeacon)try{ie=a.navigator.sendBeacon(J.v.toString(),"")}catch{}!ie&&a.Image&&(new Image().src=J.v,ie=!0),ie||(J.g=dA(J.j,null),J.g.ea(J.v)),J.F=Date.now(),dr(J)}uA($)}function To($){$.g&&(JC($),$.g.cancel(),$.g=null)}function Il($){To($),$.u&&(a.clearTimeout($.u),$.u=null),e1($),$.h.cancel(),$.s&&(typeof $.s=="number"&&a.clearTimeout($.s),$.s=null)}function mu($){if(!Co($.h)&&!$.s){$.s=!0;var J=$.Ga;q||z(),W||(q(),W=!0),V.add(J,$),$.B=0}}function Gm($,J){return Af($.h)>=$.h.j-($.s?1:0)?!1:$.s?($.i=J.D.concat($.i),!0):$.G==1||$.G==2||$.B>=($.Va?0:$.Wa)?!1:($.s=sn(f($.Ga,$,J),lA($,$.B)),$.B++,!0)}e.Ga=function($){if(this.s)if(this.s=null,this.G==1){if(!$){this.U=Math.floor(1e5*Math.random()),$=this.U++;const Ve=new Jo(this,this.j,$);let Ze=this.o;if(this.S&&(Ze?(Ze=k(Ze),I(Ze,this.S)):Ze=this.S),this.m!==null||this.O||(Ve.H=Ze,Ze=null),this.P)e:{for(var J=0,ie=0;ie<this.i.length;ie++){t:{var be=this.i[ie];if("__data__"in be.map&&(be=be.map.__data__,typeof be=="string")){be=be.length;break t}be=void 0}if(be===void 0)break;if(J+=be,4096<J){J=ie;break e}if(J===4096||ie===this.i.length-1){J=ie+1;break e}}J=1e3}else J=1e3;J=Ym(this,Ve,J),ie=ft(this.I),Xt(ie,"RID",$),Xt(ie,"CVER",22),this.D&&Xt(ie,"X-HTTP-Session-Id",this.D),rp(this,ie),Ze&&(this.O?J="headers="+encodeURIComponent(String(Ee(Ze)))+"&"+J:this.m&&oe(ie,this.m,Ze)),pe(this.h,Ve),this.Ua&&Xt(ie,"TYPE","init"),this.P?(Xt(ie,"$req",J),Xt(ie,"SID","null"),Ve.T=!0,ec(Ve,ie,null)):ec(Ve,ie,J),this.G=2}}else this.G==3&&($?td(this,$):this.i.length==0||Co(this.h)||td(this))};function td($,J){var ie;J?ie=J.l:ie=$.U++;const be=ft($.I);Xt(be,"SID",$.K),Xt(be,"RID",ie),Xt(be,"AID",$.T),rp($,be),$.m&&$.o&&oe(be,$.m,$.o),ie=new Jo($,$.j,ie,$.B+1),$.m===null&&(ie.H=$.o),J&&($.i=J.D.concat($.i)),J=Ym($,ie,1e3),ie.I=Math.round(.5*$.wa)+Math.round(.5*$.wa*Math.random()),pe($.h,ie),ec(ie,be,J)}function rp($,J){$.H&&S($.H,function(ie,be){Xt(J,be,ie)}),$.l&&je({},function(ie,be){Xt(J,be,ie)})}function Ym($,J,ie){ie=Math.min($.i.length,ie);var be=$.l?f($.l.Na,$.l,$):null;e:{var Ve=$.i;let Ze=-1;for(;;){const Pt=["count="+ie];Ze==-1?0<ie?(Ze=Ve[0].g,Pt.push("ofs="+Ze)):Ze=0:Pt.push("ofs="+Ze);let ai=!0;for(let ts=0;ts<ie;ts++){let Rr=Ve[ts].g;const ms=Ve[ts].map;if(Rr-=Ze,0>Rr)Ze=Math.max(0,Ve[ts].g-100),ai=!1;else try{Pf(ms,Pt,"req"+Rr+"_")}catch{be&&be(ms)}}if(ai){be=Pt.join("&");break e}}}return $=$.i.splice(0,ie),J.D=$,be}function cy($){if(!$.g&&!$.u){$.Y=1;var J=$.Fa;q||z(),W||(q(),W=!0),V.add(J,$),$.v=0}}function Zb($){return $.g||$.u||3<=$.v?!1:($.Y++,$.u=sn(f($.Fa,$),lA($,$.v)),$.v++,!0)}e.Fa=function(){if(this.u=null,aA(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var $=2*this.R;this.j.info("BP detection timer enabled: "+$),this.A=sn(f(this.ab,this),$)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),To(this),aA(this))};function JC($){$.A!=null&&(a.clearTimeout($.A),$.A=null)}function aA($){$.g=new Jo($,$.j,"rpc",$.Y),$.m===null&&($.g.H=$.o),$.g.O=0;var J=ft($.qa);Xt(J,"RID","rpc"),Xt(J,"SID",$.K),Xt(J,"AID",$.T),Xt(J,"CI",$.F?"0":"1"),!$.F&&$.ja&&Xt(J,"TO",$.ja),Xt(J,"TYPE","xmlhttp"),rp($,J),$.m&&$.o&&oe(J,$.m,$.o),$.L&&($.g.I=$.L);var ie=$.g;$=$.ia,ie.L=1,ie.v=Qn(ft(J)),ie.m=null,ie.P=!0,Zo(ie,$)}e.Za=function(){this.C!=null&&(this.C=null,To(this),Zb(this),Ut(19))};function e1($){$.C!=null&&(a.clearTimeout($.C),$.C=null)}function t1($,J){var ie=null;if($.g==J){e1($),JC($),$.g=null;var be=2}else if(_o($.h,J))ie=J.D,Ne($.h,J),be=1;else return;if($.G!=0){if(J.o)if(be==1){ie=J.m?J.m.length:0,J=Date.now()-J.F;var Ve=$.B;be=br(),Me(be,new Zn(be,ie)),mu($)}else cy($);else if(Ve=J.s,Ve==3||Ve==0&&0<J.X||!(be==1&&Gm($,J)||be==2&&Zb($)))switch(ie&&0<ie.length&&(J=$.h,J.i=J.i.concat(ie)),Ve){case 1:ip($,5);break;case 4:ip($,10);break;case 3:ip($,6);break;default:ip($,2)}}}function lA($,J){let ie=$.Ta+Math.floor(Math.random()*$.cb);return $.isActive()||(ie*=2),ie*J}function ip($,J){if($.j.info("Error code "+J),J==2){var ie=f($.fb,$),be=$.Xa;const Ve=!be;be=new pt(be||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||_t(be,"https"),Qn(be),Ve?Df(be.toString(),ie):Rl(be.toString(),ie)}else Ut(2);$.G=0,$.l&&$.l.sa(J),uA($),Il($)}e.fb=function($){$?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function uA($){if($.G=0,$.ka=[],$.l){const J=Ce($.h);(J.length!=0||$.i.length!=0)&&(g($.ka,J),g($.ka,$.i),$.h.i.length=0,p($.i),$.i.length=0),$.l.ra()}}function cA($,J,ie){var be=ie instanceof pt?ft(ie):new pt(ie);if(be.g!="")J&&(be.g=J+"."+be.g),jt(be,be.s);else{var Ve=a.location;be=Ve.protocol,J=J?J+"."+Ve.hostname:Ve.hostname,Ve=+Ve.port;var Ze=new pt(null);be&&_t(Ze,be),J&&(Ze.g=J),Ve&&jt(Ze,Ve),ie&&(Ze.l=ie),be=Ze}return ie=$.D,J=$.ya,ie&&J&&Xt(be,ie,J),Xt(be,"VER",$.la),rp($,be),be}function dA($,J,ie){if(J&&!$.J)throw Error("Can't create secondary domain capable XhrIo object.");return J=$.Ca&&!$.pa?new ve(new Bs({eb:ie})):new ve($.pa),J.Ha($.J),J}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function ZC(){}e=ZC.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Dl($,J){me.call(this),this.g=new co(J),this.l=$,this.h=J&&J.messageUrlParams||null,$=J&&J.messageHeaders||null,J&&J.clientProtocolHeaderRequired&&($?$["X-Client-Protocol"]="webchannel":$={"X-Client-Protocol":"webchannel"}),this.g.o=$,$=J&&J.initMessageHeaders||null,J&&J.messageContentType&&($?$["X-WebChannel-Content-Type"]=J.messageContentType:$={"X-WebChannel-Content-Type":J.messageContentType}),J&&J.va&&($?$["X-WebChannel-Client-Profile"]=J.va:$={"X-WebChannel-Client-Profile":J.va}),this.g.S=$,($=J&&J.Sb)&&!y($)&&(this.g.m=$),this.v=J&&J.supportsCrossDomainXhr||!1,this.u=J&&J.sendRawJson||!1,(J=J&&J.httpSessionIdParam)&&!y(J)&&(this.g.D=J,$=this.h,$!==null&&J in $&&($=this.h,J in $&&delete $[J])),this.j=new Km(this)}m(Dl,me),Dl.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dl.prototype.close=function(){si(this.g)},Dl.prototype.o=function($){var J=this.g;if(typeof $=="string"){var ie={};ie.__data__=$,$=ie}else this.u&&(ie={},ie.__data__=$t($),$=ie);J.i.push(new js(J.Ya++,$)),J.G==3&&mu(J)},Dl.prototype.N=function(){this.g.l=null,delete this.j,si(this.g),delete this.g,Dl.aa.N.call(this)};function fA($){En.call(this),$.__headers__&&(this.headers=$.__headers__,this.statusCode=$.__status__,delete $.__headers__,delete $.__status__);var J=$.__sm__;if(J){e:{for(const ie in J){$=ie;break e}$=void 0}(this.i=$)&&($=this.i,J=J!==null&&$ in J?J[$]:void 0),this.data=J}else this.data=$}m(fA,En);function hA(){nn.call(this),this.status=1}m(hA,nn);function Km($){this.g=$}m(Km,ZC),Km.prototype.ua=function(){Me(this.g,"a")},Km.prototype.ta=function($){Me(this.g,new fA($))},Km.prototype.sa=function($){Me(this.g,new hA)},Km.prototype.ra=function(){Me(this.g,"b")},Dl.prototype.send=Dl.prototype.o,Dl.prototype.open=Dl.prototype.m,Dl.prototype.close=Dl.prototype.close,du.NO_ERROR=0,du.TIMEOUT=8,du.HTTP_ERROR=6,Ju.COMPLETE="complete",Xn.EventType=mr,mr.OPEN="a",mr.CLOSE="b",mr.ERROR="c",mr.MESSAGE="d",me.prototype.listen=me.prototype.K,ve.prototype.listenOnce=ve.prototype.L,ve.prototype.getLastError=ve.prototype.Ka,ve.prototype.getLastErrorCode=ve.prototype.Ba,ve.prototype.getStatus=ve.prototype.Z,ve.prototype.getResponseJson=ve.prototype.Oa,ve.prototype.getResponseText=ve.prototype.oa,ve.prototype.send=ve.prototype.ea,ve.prototype.setWithCredentials=ve.prototype.Ha}).apply(typeof CD<"u"?CD:typeof self<"u"?self:typeof window<"u"?window:{});const Y0e="@firebase/firestore",K0e="4.8.0";class Eu{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Eu.UNAUTHENTICATED=new Eu(null),Eu.GOOGLE_CREDENTIALS=new Eu("google-credentials-uid"),Eu.FIRST_PARTY=new Eu("first-party-uid"),Eu.MOCK_USER=new Eu("mock-user");let N$="11.10.0";const JN=new O$("@firebase/firestore");function Md(e,...t){if(JN.logLevel<=ci.DEBUG){const n=t.map(n5e);JN.debug(`Firestore (${N$}): ${e}`,...n)}}function t5e(e,...t){if(JN.logLevel<=ci.ERROR){const n=t.map(n5e);JN.error(`Firestore (${N$}): ${e}`,...n)}}function n5e(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function ZN(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,r5e(e,r,n)}function r5e(e,t,n){let r=`FIRESTORE (${N$}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw t5e(r),new Error(r)}function WS(e,t,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,e||r5e(t,i,r)}const Qr={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class Jr extends qm{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class GS{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class Stn{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Ttn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Eu.UNAUTHENTICATED)))}shutdown(){}}class ktn{constructor(t){this.t=t,this.currentUser=Eu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){WS(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new GS;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new GS,t.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const l=o;t.enqueueRetryable((async()=>{await l.promise,await i(this.currentUser)}))},a=l=>{Md("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((l=>a(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Md("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new GS)}}),0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(Md("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(WS(typeof r.accessToken=="string",31837,{l:r}),new Stn(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return WS(t===null||typeof t=="string",2055,{h:t}),new Eu(t)}}class Atn{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Eu.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Rtn{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new Atn(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Eu.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class X0e{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Itn{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fg(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){WS(this.o===void 0,3512);const r=o=>{o.error!=null&&Md("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,Md("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>r(o)))};const i=o=>{Md("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Md("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new X0e(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(WS(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new X0e(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Dtn(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function Ptn(){return new TextEncoder}class Otn{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Dtn(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%62))}return r}}function qd(e,t){return e<t?-1:e>t?1:0}function Ntn(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return qd(r,i);{const o=Ptn(),s=Mtn(o.encode(Q0e(e,n)),o.encode(Q0e(t,n)));return s!==0?s:qd(r,i)}}n+=r>65535?2:1}return qd(e.length,t.length)}function Q0e(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Mtn(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return qd(e[n],t[n]);return qd(e.length,t.length)}const J0e="__name__";class Yf{constructor(t,n,r){n===void 0?n=0:n>t.length&&ZN(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&ZN(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Yf.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Yf?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const o=Yf.compareSegments(t.get(i),n.get(i));if(o!==0)return o}return qd(t.length,n.length)}static compareSegments(t,n){const r=Yf.isNumericId(t),i=Yf.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Yf.extractNumericId(t).compare(Yf.extractNumericId(n)):Ntn(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return nte.fromString(t.substring(4,t.length-2))}}class xd extends Yf{construct(t,n,r){return new xd(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Jr(Qr.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new xd(n)}static emptyPath(){return new xd([])}}const $tn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class iv extends Yf{construct(t,n,r){return new iv(t,n,r)}static isValidIdentifier(t){return $tn.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),iv.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===J0e}static keyField(){return new iv([J0e])}static fromServerFormat(t){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Jr(Qr.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new Jr(Qr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Jr(Qr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Jr(Qr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new iv(n)}static emptyPath(){return new iv([])}}class wv{constructor(t){this.path=t}static fromPath(t){return new wv(xd.fromString(t))}static fromName(t){return new wv(xd.fromString(t).popFirst(5))}static empty(){return new wv(xd.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&xd.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return xd.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new wv(new xd(t.slice()))}}function Ltn(e,t,n,r){if(t===!0&&r===!0)throw new Jr(Qr.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Ftn(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Go(e,t){const n={typeString:e};return t&&(n.value=t),n}function oA(e,t){if(!Ftn(e))throw new Jr(Qr.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const s=e[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Jr(Qr.INVALID_ARGUMENT,n);return!0}const Z0e=-62135596800,eye=1e6;class Xf{static now(){return Xf.fromMillis(Date.now())}static fromDate(t){return Xf.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*eye);return new Xf(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Jr(Qr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Jr(Qr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Z0e)throw new Jr(Qr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Jr(Qr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eye}_compareTo(t){return this.seconds===t.seconds?qd(this.nanoseconds,t.nanoseconds):qd(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xf._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(oA(t,Xf._jsonSchema))return new Xf(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Z0e;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xf._jsonSchemaVersion="firestore/timestamp/1.0",Xf._jsonSchema={type:Go("string",Xf._jsonSchemaVersion),seconds:Go("number"),nanoseconds:Go("number")};function jtn(e){return e.name==="IndexedDbTransactionError"}class Btn extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vb{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Btn("Invalid base64 string: "+o):o}})(t);return new vb(n)}static fromUint8Array(t){const n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(t);return new vb(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return qd(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}vb.EMPTY_BYTE_STRING=new vb("");const tye="(default)";class e4{constructor(t,n){this.projectId=t,this.database=n||tye}static empty(){return new e4("","")}get isDefaultDatabase(){return this.database===tye}isEqual(t){return t instanceof e4&&t.projectId===this.projectId&&t.database===this.database}}class ztn{constructor(t,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Utn(e){return new ztn(e)}var nye,Ir;(Ir=nye||(nye={}))[Ir.OK=0]="OK",Ir[Ir.CANCELLED=1]="CANCELLED",Ir[Ir.UNKNOWN=2]="UNKNOWN",Ir[Ir.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ir[Ir.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ir[Ir.NOT_FOUND=5]="NOT_FOUND",Ir[Ir.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ir[Ir.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ir[Ir.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ir[Ir.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ir[Ir.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ir[Ir.ABORTED=10]="ABORTED",Ir[Ir.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ir[Ir.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ir[Ir.INTERNAL=13]="INTERNAL",Ir[Ir.UNAVAILABLE=14]="UNAVAILABLE",Ir[Ir.DATA_LOSS=15]="DATA_LOSS";new nte([4294967295,4294967295],0);const Htn=41943040;const qtn=1048576;function h7(){return typeof document<"u"?document:null}class Vtn{constructor(t,n,r=1e3,i=1.5,o=6e4){this.Fi=t,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&Md("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,(()=>(this.m_=Date.now(),t()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}class rte{constructor(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new GS,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,o){const s=Date.now()+r,a=new rte(t,n,s,i,o);return a.start(r),a}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Jr(Qr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var rye,iye;(iye=rye||(rye={})).Fa="default",iye.Cache="cache";function Wtn(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const oye=new Map;const Gtn="firestore.googleapis.com",sye=!0;class aye{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new Jr(Qr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Gtn,this.ssl=sye}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:sye;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Htn;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<qtn)throw new Jr(Qr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Ltn("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Wtn((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Jr(Qr.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Jr(Qr.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Jr(Qr.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ytn{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aye({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Jr(Qr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Jr(Qr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aye(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Ttn;switch(r.type){case"firstParty":return new Rtn(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Jr(Qr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=oye.get(n);r&&(Md("ComponentProvider","Removing Datastore"),oye.delete(n),r.terminate())})(this),Promise.resolve()}}class ite{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ite(this.firestore,t,this._query)}}class sh{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ote(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new sh(this.firestore,t,this._key)}toJSON(){return{type:sh._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(oA(n,sh._jsonSchema))return new sh(t,r||null,new wv(xd.fromString(n.referencePath)))}}sh._jsonSchemaVersion="firestore/documentReference/1.0",sh._jsonSchema={type:Go("string",sh._jsonSchemaVersion),referencePath:Go("string")};class ote extends ite{constructor(t,n,r){super(t,n,Utn(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new sh(this.firestore,null,new wv(t))}withConverter(t){return new ote(this.firestore,t,this._path)}}const lye="AsyncQueue";class uye{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Vtn(this,"async_queue_retry"),this.oc=()=>{const r=h7();r&&Md(lye,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=t;const n=h7();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=h7();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new GS;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Zu.push(t),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!jtn(t))throw t;Md(lye,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(t){const n=this._c.then((()=>(this.nc=!0,t().catch((r=>{throw this.tc=r,this.nc=!1,t5e("INTERNAL UNHANDLED ERROR: ",cye(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=n,n}enqueueAfterDelay(t,n,r){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const i=rte.createAndSchedule(this,t,n,r,(o=>this.lc(o)));return this.ec.push(i),i}ac(){this.tc&&ZN(47125,{hc:cye(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then((()=>{this.ec.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()}))}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function cye(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Ktn extends Ytn{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new uye,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new uye(t),this._firestoreClient=void 0,await t}}}class Ip{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ip(vb.fromBase64String(t))}catch(n){throw new Jr(Qr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ip(vb.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ip._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(oA(t,Ip._jsonSchema))return Ip.fromBase64String(t.bytes)}}Ip._jsonSchemaVersion="firestore/bytes/1.0",Ip._jsonSchema={type:Go("string",Ip._jsonSchemaVersion),bytes:Go("string")};class i5e{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Jr(Qr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new iv(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Mv{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Jr(Qr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Jr(Qr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return qd(this._lat,t._lat)||qd(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mv._jsonSchemaVersion}}static fromJSON(t){if(oA(t,Mv._jsonSchema))return new Mv(t.latitude,t.longitude)}}Mv._jsonSchemaVersion="firestore/geoPoint/1.0",Mv._jsonSchema={type:Go("string",Mv._jsonSchemaVersion),latitude:Go("number"),longitude:Go("number")};class $v{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:$v._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(oA(t,$v._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new $v(t.vectorValues);throw new Jr(Qr.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$v._jsonSchemaVersion="firestore/vectorValue/1.0",$v._jsonSchema={type:Go("string",$v._jsonSchemaVersion),vectorValues:Go("object")};const Xtn=new RegExp("[~\\*/\\[\\]]");function Qtn(e,t,n){if(t.search(Xtn)>=0)throw dye(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e);try{return new i5e(...t.split("."))._internalPath}catch{throw dye(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e)}}function dye(e,t,n,r,i){let o=`Function ${t}() called with invalid data`;o+=". ";let s="";return new Jr(Qr.INVALID_ARGUMENT,o+e+s)}class o5e{constructor(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new sh(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Jtn(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(s5e("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Jtn extends o5e{data(){return super.data()}}function s5e(e,t){return typeof t=="string"?Qtn(e,t):t instanceof i5e?t._internalPath:t._delegate._internalPath}class _D{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Gw extends o5e{constructor(t,n,r,i,o,s){super(t,n,r,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new l3(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(s5e("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Jr(Qr.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Gw._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Gw._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gw._jsonSchema={type:Go("string",Gw._jsonSchemaVersion),bundleSource:Go("string","DocumentSnapshot"),bundleName:Go("string"),bundle:Go("string")};class l3 extends Gw{data(t={}){return super.data(t)}}class YS{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new _D(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new l3(this._firestore,this._userDataWriter,r.key,r,new _D(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Jr(Qr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((a=>{const l=new l3(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _D(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((a=>o||a.type!==3)).map((a=>{const l=new l3(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _D(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:Ztn(a.type),doc:l,oldIndex:u,newIndex:c}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Jr(Qr.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=YS._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Otn.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Ztn(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ZN(61501,{type:e})}}YS._jsonSchemaVersion="firestore/querySnapshot/1.0",YS._jsonSchema={type:Go("string",YS._jsonSchemaVersion),bundleSource:Go("string","QuerySnapshot"),bundleName:Go("string"),bundle:Go("string")};(function(t,n=!0){(function(i){N$=i})(iA),Cm(new wm("firestore",((r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Ktn(new ktn(r.getProvider("auth-internal")),new Itn(s,r.getProvider("app-check-internal")),(function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Jr(Qr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new e4(u.options.projectId,c)})(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a}),"PUBLIC").setMultipleInstances(!0)),Hd(Y0e,K0e,t),Hd(Y0e,K0e,"esm2017")})();const enn=new Map,tnn={activated:!1,tokenObservers:[]};function nf(e){return enn.get(e)||Object.assign({},tnn)}const fye={RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3};class nnn{constructor(t,n,r,i,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new P0e,this.pending.promise.catch(n=>{}),await rnn(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new P0e,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function rnn(e){return new Promise(t=>{setTimeout(t,e)})}const inn={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},t4=new QC("appCheck","AppCheck",inn);function a5e(e){if(!nf(e).activated)throw t4.create("use-before-activation",{appName:e.name})}const onn="firebase-app-check-database",snn=1,Yq="firebase-app-check-store";let ED=null;function ann(){return ED||(ED=new Promise((e,t)=>{try{const n=indexedDB.open(onn,snn);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(t4.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Yq,{keyPath:"compositeKey"})}}}catch(n){t(t4.create("storage-open",{originalErrorMessage:n?.message}))}}),ED)}function lnn(e,t){return unn(cnn(e),t)}async function unn(e,t){const r=(await ann()).transaction(Yq,"readwrite"),o=r.objectStore(Yq).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var u;a(t4.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}function cnn(e){return`${e.options.appId}-${e.name}`}const Kq=new O$("@firebase/app-check");function hye(e,t){return G6e()?lnn(e,t).catch(n=>{Kq.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}const dnn={error:"UNKNOWN_ERROR"};function fnn(e){return Zee.encodeString(JSON.stringify(e),!1)}async function Xq(e,t=!1,n=!1){const r=e.app;a5e(r);const i=nf(r);let o=i.token,s;if(o&&!aS(o)&&(i.token=void 0,o=void 0),!o){const u=await i.cachedTokenPromise;u&&(aS(u)?o=u:await hye(r,void 0))}if(!t&&o&&aS(o))return{token:o.token};let a=!1;try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=await nf(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Kq.warn(u.message):n&&Kq.error(u),s=u}let l;return o?s?aS(o)?l={token:o.token,internalError:s}:l=mye(s):(l={token:o.token},i.token=o,await hye(r,o)):l=mye(s),a&&gnn(r,l),l}async function hnn(e){const t=e.app;a5e(t);const{provider:n}=nf(t);{const{token:r}=await n.getToken();return{token:r}}}function pnn(e,t,n,r){const{app:i}=e,o=nf(i),s={next:n,error:r,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&aS(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),pye(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>pye(e))}function l5e(e,t){const n=nf(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function pye(e){const{app:t}=e,n=nf(t);let r=n.tokenRefresher;r||(r=mnn(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function mnn(e){const{app:t}=e;return new nnn(async()=>{const n=nf(t);let r;if(n.token?r=await Xq(e,!0):r=await Xq(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=nf(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},fye.RETRIAL_MIN_WAIT,fye.RETRIAL_MAX_WAIT)}function gnn(e,t){const n=nf(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function aS(e){return e.expireTimeMillis-Date.now()>0}function mye(e){return{token:fnn(dnn),error:e}}class ynn{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=nf(this.app);for(const n of t)l5e(this.app,n.next);return Promise.resolve()}}function vnn(e,t){return new ynn(e,t)}function bnn(e){return{getToken:t=>Xq(e,t),getLimitedUseToken:()=>hnn(e),addTokenListener:t=>pnn(e,"INTERNAL",t),removeTokenListener:t=>l5e(e.app,t)}}const wnn="@firebase/app-check",xnn="0.10.1",Cnn="app-check",gye="app-check-internal";function _nn(){Cm(new wm(Cnn,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return vnn(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(gye).initialize()})),Cm(new wm(gye,e=>{const t=e.getProvider("app-check").getImmediate();return bnn(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Hd(wnn,xnn)}_nn();function u5e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Enn=u5e,c5e=new QC("auth","Firebase",u5e());const n4=new O$("@firebase/auth");function Snn(e,...t){n4.logLevel<=ci.WARN&&n4.warn(`Auth (${iA}): ${e}`,...t)}function u3(e,...t){n4.logLevel<=ci.ERROR&&n4.error(`Auth (${iA}): ${e}`,...t)}function yye(e,...t){throw ste(e,...t)}function d5e(e,...t){return ste(e,...t)}function f5e(e,t,n){const r=Object.assign(Object.assign({},Enn()),{[t]:n});return new QC("auth","Firebase",r).create(t,{appName:e.name})}function c3(e){return f5e(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ste(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return c5e.create(e,...t)}function Xr(e,t,...n){if(!e)throw ste(t,...n)}function KS(e){const t="INTERNAL ASSERTION FAILED: "+e;throw u3(t),new Error(t)}function r4(e,t){e||KS(t)}function Tnn(){return vye()==="http:"||vye()==="https:"}function vye(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}function knn(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Tnn()||LZt()||"connection"in navigator)?navigator.onLine:!0}function Ann(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}class sA{constructor(t,n){this.shortDelay=t,this.longDelay=n,r4(n>t,"Short delay should be less than long delay!"),this.isMobile=MZt()||FZt()}get(){return knn()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rnn(e,t){r4(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class h5e{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;KS("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;KS("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;KS("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Inn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Dnn=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Pnn=new sA(3e4,6e4);function p5e(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function M$(e,t,n,r,i={}){return m5e(e,i,async()=>{let o={},s={};r&&(t==="GET"?s=r:o={body:JSON.stringify(r)});const a=Y6e(Object.assign({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:l},o);return $Zt()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&W6e(e.emulatorConfig.host)&&(u.credentials="include"),h5e.fetch()(await g5e(e,e.config.apiHost,n,a),u)})}async function m5e(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Inn),t);try{const i=new Onn(e),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw SD(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw SD(e,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw SD(e,"email-already-in-use",s);if(l==="USER_DISABLED")throw SD(e,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw f5e(e,c,u);yye(e,c)}}catch(i){if(i instanceof qm)throw i;yye(e,"network-request-failed",{message:String(i)})}}async function g5e(e,t,n,r){const i=`${t}${n}?${r}`,o=e,s=o.config.emulator?Rnn(e.config,i):`${e.config.apiScheme}://${i}`;return Dnn.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}class Onn{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(d5e(this.auth,"network-request-failed")),Pnn.get())})}}function SD(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=d5e(e,t,r);return i.customData._tokenResponse=n,i}async function Nnn(e,t){return M$(e,"POST","/v1/accounts:delete",t)}async function i4(e,t){return M$(e,"POST","/v1/accounts:lookup",t)}function XS(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Mnn(e,t=!1){const n=P$(e),r=await n.getIdToken(t),i=y5e(r);Xr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:XS(p7(i.auth_time)),issuedAtTime:XS(p7(i.iat)),expirationTime:XS(p7(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function p7(e){return Number(e)*1e3}function y5e(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return u3("JWT malformed, contained fewer than 3 sections"),null;try{const i=V6e(n);return i?JSON.parse(i):(u3("Failed to decode base64 JWT payload"),null)}catch(i){return u3("Caught error parsing JWT payload as JSON",i?.toString()),null}}function bye(e){const t=y5e(e);return Xr(t,"internal-error"),Xr(typeof t.exp<"u","internal-error"),Xr(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Qq(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof qm&&$nn(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function $nn({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}class Lnn{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Jq{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=XS(this.lastLoginAt),this.creationTime=XS(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function o4(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Qq(e,i4(n,{idToken:r}));Xr(i?.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?v5e(o.providerUserInfo):[],a=jnn(e.providerData,s),l=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!a?.length,c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Jq(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function Fnn(e){const t=P$(e);await o4(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function jnn(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function v5e(e){return e.map(t=>{var{providerId:n}=t,r=a4(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function Bnn(e,t){const n=await m5e(e,{},async()=>{const r=Y6e({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=await g5e(e,i,"/v1/token",`key=${o}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return e.emulatorConfig&&W6e(e.emulatorConfig.host)&&(l.credentials="include"),h5e.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function znn(e,t){return M$(e,"POST","/v2/accounts:revokeToken",p5e(e,t))}class Yw{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Xr(t.idToken,"internal-error"),Xr(typeof t.idToken<"u","internal-error"),Xr(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):bye(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Xr(t.length!==0,"internal-error");const n=bye(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Xr(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Bnn(t,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Yw;return r&&(Xr(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(Xr(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),o&&(Xr(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Yw,this.toJSON())}_performRefresh(){return KS("not implemented")}}function yg(e,t){Xr(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ah{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=a4(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lnn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Jq(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Qq(this,this.stsTokenManager.getToken(this.auth,t));return Xr(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Mnn(this,t)}reload(){return Fnn(this)}_assign(t){this!==t&&(Xr(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ah(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Xr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await o4(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fg(this.auth.app))return Promise.reject(c3(this.auth));const t=await this.getIdToken();return await Qq(this,Nnn(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,m=(s=n.photoURL)!==null&&s!==void 0?s:void 0,p=(a=n.tenantId)!==null&&a!==void 0?a:void 0,g=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:_,isAnonymous:E,providerData:S,stsTokenManager:T}=n;Xr(w&&T,t,"internal-error");const k=Yw.fromJSON(this.name,T);Xr(typeof w=="string",t,"internal-error"),yg(d,t.name),yg(f,t.name),Xr(typeof _=="boolean",t,"internal-error"),Xr(typeof E=="boolean",t,"internal-error"),yg(h,t.name),yg(m,t.name),yg(p,t.name),yg(g,t.name),yg(v,t.name),yg(y,t.name);const R=new ah({uid:w,auth:t,email:f,emailVerified:_,displayName:d,isAnonymous:E,photoURL:m,phoneNumber:h,tenantId:p,stsTokenManager:k,createdAt:v,lastLoginAt:y});return S&&Array.isArray(S)&&(R.providerData=S.map(I=>Object.assign({},I))),g&&(R._redirectEventId=g),R}static async _fromIdTokenResponse(t,n,r=!1){const i=new Yw;i.updateFromServerResponse(n);const o=new ah({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await o4(o),o}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];Xr(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?v5e(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Yw;a.updateFromIdToken(r);const l=new ah({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Jq(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(l,u),l}}const wye=new Map;function xv(e){r4(e instanceof Function,"Expected a class definition");let t=wye.get(e);return t?(r4(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,wye.set(e,t),t)}class b5e{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}b5e.type="NONE";const xye=b5e;function m7(e,t,n){return`firebase:${e}:${t}:${n}`}class Kw{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=m7(this.userKey,i.apiKey,o),this.fullPersistenceKey=m7("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await i4(this.auth,{idToken:t}).catch(()=>{});return n?ah._fromGetAccountInfoResponse(this.auth,n,t):null}return ah._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Kw(xv(xye),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||xv(xye);const s=m7(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){let d;if(typeof c=="string"){const f=await i4(t,{idToken:c}).catch(()=>{});if(!f)break;d=await ah._fromGetAccountInfoResponse(t,f,c)}else d=ah._fromJSON(t,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Kw(o,t,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Kw(o,t,r))}}function Cye(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Vnn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Unn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Gnn(t))return"Blackberry";if(Ynn(t))return"Webos";if(Hnn(t))return"Safari";if((t.includes("chrome/")||qnn(t))&&!t.includes("edge/"))return"Chrome";if(Wnn(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function Unn(e=Mh()){return/firefox\//i.test(e)}function Hnn(e=Mh()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function qnn(e=Mh()){return/crios\//i.test(e)}function Vnn(e=Mh()){return/iemobile/i.test(e)}function Wnn(e=Mh()){return/android/i.test(e)}function Gnn(e=Mh()){return/blackberry/i.test(e)}function Ynn(e=Mh()){return/webos/i.test(e)}function w5e(e,t=[]){let n;switch(e){case"Browser":n=Cye(Mh());break;case"Worker":n=`${Cye(Mh())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${iA}/${r}`}class Knn{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((s,a)=>{try{const l=t(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Xnn(e,t={}){return M$(e,"GET","/v2/passwordPolicy",p5e(e,t))}const Qnn=6;class Jnn{constructor(t){var n,r,i,o;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Qnn,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class Znn{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _ye(this),this.idTokenSubscription=new _ye(this),this.beforeStateQueue=new Knn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c5e,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=xv(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Kw.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await i4(this,{idToken:t}),r=await ah._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Fg(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,l=await this.tryRedirectSignIn(t);(!s||s===a)&&l?.user&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Xr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await o4(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Ann()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Fg(this.app))return Promise.reject(c3(this));const n=t?P$(t):null;return n&&Xr(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Xr(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Fg(this.app)?Promise.reject(c3(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Fg(this.app)?Promise.reject(c3(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xv(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Xnn(this),n=new Jnn(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new QC("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await znn(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&xv(t)||this._popupRedirectResolver;Xr(n,this,"argument-error"),this.redirectPersistenceManager=await Kw.create(this,[xv(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Xr(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=t.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Xr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=w5e(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;if(Fg(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n?.error&&Snn(`Error while retrieving App Check token: ${n.error}`),n?.token}}function ern(e){return P$(e)}class _ye{constructor(t){this.auth=t,this.observer=null,this.addObserver=HZt(n=>this.observer=n)}get next(){return Xr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function trn(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(xv);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}new sA(3e4,6e4);new sA(2e3,1e4);new sA(3e4,6e4);new sA(5e3,15e3);var Eye="@firebase/auth",Sye="1.10.8";class nrn{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Xr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function rrn(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function irn(e){Cm(new wm("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Xr(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:w5e(e)},u=new Znn(r,i,o,l);return trn(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Cm(new wm("auth-internal",t=>{const n=ern(t.getProvider("auth").getImmediate());return(r=>new nrn(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hd(Eye,Sye,rrn(e)),Hd(Eye,Sye,"esm2017")}const orn=300;NZt("authIdTokenMaxAge");irn("Browser");async function srn(){let e;{const t=new bZt;await t.connect(),e=t}return e}function nw({title:e}){const t=qa();return A.useEffect(()=>{document.title=e},[t,e]),null}async function arn(){const t=await(await fetch(`${Hi}global.json`)).text();return lYt(t)}function lrn(){const[e,t]=A.useState(null),[n,r]=A.useState({});A.useEffect(()=>{async function a(){e&&r(await dYt(e))}a()},[e]),A.useEffect(()=>{e||arn().then(a=>{t(a)})},[e]);const{storageEngine:i,setStorageEngine:o}=ri();A.useEffect(()=>{if(i!==void 0)return;async function a(){const l=await srn();o(l)}a()},[o,i]);const s=async a=>i&&mc(i)?!(await i.getModes(a)).dataSharingEnabled:!1;return e?b.jsx(IWe,{basename:Hi,children:b.jsx(ust,{children:b.jsx(VWe,{children:b.jsxs(oWe,{children:[b.jsx(xp,{path:"/",element:b.jsxs(b.Fragment,{children:[b.jsx(nw,{title:"ReVISit | Home"}),b.jsxs(Ri,{padding:"md",header:{height:70},children:[b.jsx(HS,{studyIds:e.configsList}),b.jsx(hst,{globalConfig:e,studyConfigs:n})]})]})}),b.jsx(xp,{path:"/:studyId/*",element:b.jsxs(b.Fragment,{children:[b.jsx(nw,{title:"ReVISit | Study"}),b.jsx(fYt,{globalConfig:e})]})}),b.jsx(xp,{path:"/analysis",element:b.jsx(bq,{to:"/analysis/stats/",replace:!0})}),b.jsx(xp,{path:"/analysis/stats",element:b.jsxs(b.Fragment,{children:[b.jsx(nw,{title:"ReVISit | Analysis"}),b.jsx(Ri,{padding:"md",header:{height:70},children:b.jsx(b0e,{globalConfig:e})})]})}),b.jsx(xp,{path:"/analysis/stats/:studyId/:analysisTab/:trialId?",element:b.jsxs(b.Fragment,{children:[b.jsx(nw,{title:"ReVISit | Analysis"}),b.jsx(w0e,{paramToCheck:"studyId",paramCallback:s,children:b.jsx(Ri,{padding:"md",header:{height:70},children:b.jsx(b0e,{globalConfig:e})})})]})}),b.jsx(xp,{path:"/analysis/stats/:studyId",element:b.jsx(bq,{to:"./summary",replace:!0})}),b.jsx(xp,{path:"/settings",element:b.jsxs(w0e,{children:[b.jsx(nw,{title:"ReVISit | Settings"}),b.jsxs(Ri,{padding:"md",header:{height:70},children:[b.jsx(HS,{studyIds:e.configsList}),b.jsx(Ri.Main,{children:b.jsx(dZt,{})})]})]})}),b.jsx(xp,{path:"/login",element:b.jsxs(b.Fragment,{children:[b.jsx(nw,{title:"ReVISit | Login"}),b.jsxs(Ri,{padding:"md",header:{height:70},children:[b.jsx(HS,{studyIds:e.configsList}),b.jsx(Ri.Main,{children:b.jsx(cZt,{})})]})]})})]})})})}):null}M$e.createRoot(document.getElementById("root")).render(b.jsx(un.StrictMode,{children:b.jsx(aVe,{children:b.jsxs(Jye,{children:[b.jsx(Dm,{}),b.jsx(lrn,{})]})})}));
